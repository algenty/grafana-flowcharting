/*! For license information please see module.js.LICENSE.txt */
define(["lodash","app/plugins/sdk","app/core/utils/kbn","@grafana/data","app/core/time_series2","app/core/app_events"],(function(__WEBPACK_EXTERNAL_MODULE__2__,__WEBPACK_EXTERNAL_MODULE__5__,__WEBPACK_EXTERNAL_MODULE__8__,__WEBPACK_EXTERNAL_MODULE__9__,__WEBPACK_EXTERNAL_MODULE__16__,__WEBPACK_EXTERNAL_MODULE__17__){return function(l){var Z={};function b(G){if(Z[G])return Z[G].exports;var d=Z[G]={i:G,l:!1,exports:{}};return l[G].call(d.exports,d,d.exports,b),d.l=!0,d.exports}return b.m=l,b.c=Z,b.d=function(l,Z,G){b.o(l,Z)||Object.defineProperty(l,Z,{enumerable:!0,get:G})},b.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},b.t=function(l,Z){if(1&Z&&(l=b(l)),8&Z)return l;if(4&Z&&"object"==typeof l&&l&&l.__esModule)return l;var G=Object.create(null);if(b.r(G),Object.defineProperty(G,"default",{enumerable:!0,value:l}),2&Z&&"string"!=typeof l)for(var d in l)b.d(G,d,function(Z){return l[Z]}.bind(null,d));return G},b.n=function(l){var Z=l&&l.__esModule?function(){return l.default}:function(){return l};return b.d(Z,"a",Z),Z},b.o=function(l,Z){return Object.prototype.hasOwnProperty.call(l,Z)},b.p="/",b(b.s=33)}([function(l,Z,b){"use strict";(function(l){b.d(Z,"a",(function(){return a}));var G=b(1),d=b(2),m=b.n(d);function W(l,Z){return function(l){if(Array.isArray(l))return l}(l)||function(l,Z){if(!(Symbol.iterator in Object(l))&&"[object Arguments]"!==Object.prototype.toString.call(l))return;var b=[],G=!0,d=!1,m=void 0;try{for(var W,c=l[Symbol.iterator]();!(G=(W=c.next()).done)&&(b.push(W.value),!Z||b.length!==Z);G=!0);}catch(l){d=!0,m=l}finally{try{G||null==c.return||c.return()}finally{if(d)throw m}}return b}(l,Z)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function c(l,Z){for(var b=0;b<Z.length;b++){var G=Z[b];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(l,G.key,G)}}function h(l,Z,b){return Z&&c(l.prototype,Z),b&&c(l,b),l}function X(l,Z){if(!(l instanceof Z))throw new TypeError("Cannot call a class as a function")}var V=function(){function l(){X(this,l),this._variables=new Map}return h(l,[{key:"set",value:function(l,Z){return this._variables.set(l,Z),this}},{key:"unset",value:function(l){return this._variables.delete(l),this}},{key:"get",value:function(l){return this._variables.get(l)}},{key:"keys",value:function(){return Array.from(this._variables.keys())}},{key:"getFullVarsNames",value:function(){return a.getGrafanaVars().concat(this.getVarsNames())}},{key:"getVarsNames",value:function(){return this.keys().map((function(l){return"${"+l+"}"}))}},{key:"clear",value:function(){return this._variables.clear(),this}},{key:"replaceText",value:function(l){try{var Z=a.getVar(a.CONSTANTS.VAR_OBJ_TEMPLATESRV);l=void 0!==Z?Z.replaceWithText(l):l;var b=!0,G=!1,d=void 0;try{for(var m,c=this._variables[Symbol.iterator]();!(b=(m=c.next()).done);b=!0){var h=W(m.value,2),X=h[0],V=h[1];l=l.replace("${"+X+"}",V)}}catch(l){G=!0,d=l}finally{try{b||null==c.return||c.return()}finally{if(G)throw d}}}catch(Z){return l}return l}},{key:"eval",value:function(l){var Z=this.replaceText(l);return a.utils.evalIt(Z)}}],[{key:"getAvailableLocalVarNames",value:function(){return a.CONSTANTS.LOCALVARIABLENAMES.map((function(l){return"${"+l.value+"}"}))}}]),l}(),u=function(){function l(){X(this,l)}return h(l,[{key:"debug",value:function(){for(var Z=arguments.length,b=new Array(Z),d=0;d<Z;d++)b[d]=arguments[d];return Object(G.a)(this,void 0,void 0,regeneratorRuntime.mark((function Z(){var G,d;return regeneratorRuntime.wrap((function(Z){for(;;)switch(Z.prev=Z.next){case 0:l.toDisplay(l.DEBUG)&&(d=b.shift(),(G=console).debug.apply(G,["GF DEBUG : ".concat(d)].concat(b)));case 1:case"end":return Z.stop()}}),Z)})))}},{key:"warn",value:function(){for(var Z=arguments.length,b=new Array(Z),d=0;d<Z;d++)b[d]=arguments[d];return Object(G.a)(this,void 0,void 0,regeneratorRuntime.mark((function Z(){var G,d;return regeneratorRuntime.wrap((function(Z){for(;;)switch(Z.prev=Z.next){case 0:l.toDisplay(l.WARN)&&(d=b.shift(),(G=console).warn.apply(G,["GF WARN : ".concat(d)].concat(b)));case 1:case"end":return Z.stop()}}),Z)})))}},{key:"info",value:function(){for(var Z=arguments.length,b=new Array(Z),d=0;d<Z;d++)b[d]=arguments[d];return Object(G.a)(this,void 0,void 0,regeneratorRuntime.mark((function Z(){var G,d;return regeneratorRuntime.wrap((function(Z){for(;;)switch(Z.prev=Z.next){case 0:l.toDisplay(l.INFO)&&(d=b.shift(),(G=console).info.apply(G,["GF INFO : ".concat(d)].concat(b)));case 1:case"end":return Z.stop()}}),Z)})))}},{key:"error",value:function(){for(var Z=arguments.length,b=new Array(Z),d=0;d<Z;d++)b[d]=arguments[d];return Object(G.a)(this,void 0,void 0,regeneratorRuntime.mark((function Z(){var G,d;return regeneratorRuntime.wrap((function(Z){for(;;)switch(Z.prev=Z.next){case 0:l.toDisplay(l.ERROR)&&(d=b.shift(),(G=console).error.apply(G,["GF ERROR : ".concat(d)].concat(b)));case 1:case"end":return Z.stop()}}),Z)})))}}],[{key:"init",value:function(){return new l}},{key:"toDisplay",value:function(Z){return void 0!==l.logDisplay&&!0===l.logDisplay&&void 0!==l.logLevel&&Z>=l.logLevel}}]),l}();u.DEBUG=0,u.INFO=1,u.WARN=2,u.ERROR=3,u.logLevel=u.WARN,u.logDisplay=!0;var R=function(){function Z(){X(this,Z)}return h(Z,[{key:"getRepo",value:function(){var l="";return Z.data.info.links.forEach((function(Z){"Documentation"===Z.name&&(l=Z.url)})),l}},{key:"getVersion",value:function(){return Z.data.info.version}},{key:"getRootPath",value:function(){return a.getVar(a.CONSTANTS.VAR_STG_CTXROOT)}},{key:"getLibsPath",value:function(){return"".concat(a.getVar(a.CONSTANTS.VAR_STG_CTXROOT),"libs/")}},{key:"getDrawioPath",value:function(){return"".concat(this.getLibsPath(),"drawio/")}},{key:"getStaticPath",value:function(){return"".concat(this.getRootPath(),"static/")}},{key:"getMxBasePath",value:function(){return"".concat(this.getDrawioPath(),"mxgraph/")}},{key:"getMxStylePath",value:function(){return"".concat(this.getDrawioPath(),"styles/")}},{key:"getShapesPath",value:function(){return"".concat(this.getDrawioPath(),"/shapes/")}},{key:"getPartialPath",value:function(){return"".concat(this.getRootPath(),"partials/")}},{key:"getStencilsPath",value:function(){return"".concat(this.getDrawioPath(),"/stencils/")}},{key:"getMxCssPath",value:function(){return"".concat(this.getDrawioPath(),"styles/")}},{key:"getMxResourcePath",value:function(){return"".concat(this.getMxBasePath(),"css/")}},{key:"getMxImagePath",value:function(){return"".concat(this.getMxBasePath(),"images/")}}],[{key:"init",value:function(b,G,d){var m=new Z;return this.contextRoot=Z.defaultContextRoot,void 0===b?(this.contextRoot=l,this.contextRoot.length>0&&a.setVar(a.CONSTANTS.VAR_STG_CTXROOT,this.contextRoot)):this.contextRoot=b.$root.appSubUrl+this.defaultContextRoot,a.setVar(a.CONSTANTS.VAR_OBJ_TEMPLATESRV,G),a.setVar(a.CONSTANTS.VAR_STG_CTXROOT,this.contextRoot),a.setVar(a.CONSTANTS.VAR_OBJ_DASHBOARD,d),m}}]),Z}();R.data=b(18),R.defaultContextRoot="/public/plugins/agenty-flowcharting-panel/";var Y=function(){function l(Z){X(this,l),l.enable&&void 0!==Z&&(this.trace={Name:Z,Id:a.utils.uniqueID(),Args:void 0,Return:void 0,Before:Date.now(),End:void 0,ExecTime:void 0,Indent:l.indent},l.trc.set(this.trace.Id,this.trace))}return h(l,[{key:"before",value:function(Z){if(l.enable&&void 0!==Z){var b=new l(Z);return l.indent++,l._inc(Z),b}return{after:function(){}}}},{key:"after",value:function(){return Object(G.a)(this,void 0,void 0,regeneratorRuntime.mark((function Z(){return regeneratorRuntime.wrap((function(Z){for(;;)switch(Z.prev=Z.next){case 0:l.enable&&void 0!==this.trace&&this.trace&&(this.trace.End=Date.now(),l.indent--);case 1:case"end":return Z.stop()}}),Z,this)})))}},{key:"clear",value:function(){return Object(G.a)(this,void 0,void 0,regeneratorRuntime.mark((function Z(){return regeneratorRuntime.wrap((function(Z){for(;;)switch(Z.prev=Z.next){case 0:l.enable&&(l.trc.clear(),l.fn.clear());case 1:case"end":return Z.stop()}}),Z)})))}},{key:"enable",value:function(){l.enable=!0}},{key:"disable",value:function(){l.enable=!1}},{key:"isEnabled",value:function(){return l.enable}},{key:"resume",value:function(){return Object(G.a)(this,void 0,void 0,regeneratorRuntime.mark((function Z(){var b,G;return regeneratorRuntime.wrap((function(Z){for(;;)switch(Z.prev=Z.next){case 0:l.enable&&(b=[],G=[],l.trc.forEach((function(Z){Z.ExecTime=Z.End-Z.Before,l.fn.get(Z.Name).TotalTimes+=Z.ExecTime,b.push(Z)})),console.table(b,["Indent","Name","ExecTime"]),l.fn.forEach((function(l){G.push(l)})),console.table(G,["Function","Calls","TotalTimes"]),this.clear());case 1:case"end":return Z.stop()}}),Z,this)})))}}],[{key:"init",value:function(){return new l}},{key:"_inc",value:function(Z){var b=l.fn.get(Z);void 0===b&&(b={Calls:0,Function:Z,TotalTimes:0}),b.Calls++,l.fn.set(Z,b)}}]),l}();Y.enable=!1,Y.trc=new Map,Y.fn=new Map,Y.indent=0;var a=function(){function l(){X(this,l)}return h(l,null,[{key:"init",value:function(l,Z,b){return this.plugin=R.init(l,Z,b),this}},{key:"me",value:function(){return this}},{key:"createLocalVars",value:function(){return new V}},{key:"getGlobalVars",value:function(){return void 0===l._globalvars&&(l._globalvars=new V),l._globalvars}},{key:"getGrafanaVars",value:function(){var Z=l.getVar(l.CONSTANTS.VAR_OBJ_TEMPLATESRV);return null!=Z?m.a.map(Z.variables,(function(l){return"${".concat(l.name,"}")})):[]}},{key:"getVar",value:function(Z){return l.getGlobalVars().get(Z)}},{key:"setVar",value:function(Z,b){l.getGlobalVars().set(Z,b)}},{key:"unsetVar",value:function(Z){l.getGlobalVars().unset(Z)}},{key:"getFullAvailableVarNames",value:function(){return V.getAvailableLocalVarNames().concat(l.getGrafanaVars())}},{key:"getIntervalCounter",value:function(l,Z,b){var G=[],d=Z-l,m=Math.round(d/b),W=l,c=0;for(c=0;c<b;c++)W+=m,G.push(W);return G[c]=Z,G}},{key:"setUniqTimeOut",value:function(Z,b,G){var d=l.getVar(l.CONSTANTS.VAR_MAP_TIMEOUT);void 0===d&&(d=new Map,l.setVar(l.CONSTANTS.VAR_MAP_TIMEOUT,d)),void 0!==G&&this.clearUniqTimeOut(G);var m=window.setTimeout(Z,b);return G=void 0===G?m.toString():G,d.set(G,m),G}},{key:"clearUniqTimeOut",value:function(Z){var b=l.getVar(l.CONSTANTS.VAR_MAP_TIMEOUT);if(void 0!==b)try{var G=b.get(Z);void 0!==G&&(b.delete(Z),window.clearTimeout(G))}catch(b){l.log.warn("Failed to clear timeout thread",Z,b)}}},{key:"setUniqInterval",value:function(Z,b,G){var d=l.getVar(l.CONSTANTS.VAR_MAP_INTERVAL);void 0===d&&(d=new Map,l.setVar(l.CONSTANTS.VAR_MAP_INTERVAL,d)),void 0!==G&&this.clearUniqInterval(G);var m=window.setInterval(Z,b);return G=void 0===G?m.toString():G,d.set(G,m),G}},{key:"clearUniqInterval",value:function(Z){var b=l.getVar(l.CONSTANTS.VAR_MAP_INTERVAL);if(void 0!==b)try{var G=b.get(Z);b.delete(Z),window.clearInterval(G)}catch(b){l.log.warn("Failed to clear interval thread",Z,b)}}},{key:"loadLocalFile",value:function(Z,b){return Object(G.a)(this,void 0,void 0,regeneratorRuntime.mark((function G(){var d,m,W;return regeneratorRuntime.wrap((function(G){for(;;)switch(G.prev=G.next){case 0:if(void 0!==l.getVar(Z)){G.next=16;break}if(void 0===(d=l.getVar(l.CONSTANTS.VAR_STG_CTXROOT))){G.next=15;break}if(m="".concat(d,"/").concat(b),!window.fetch){G.next=9;break}fetch(m).then((function(b){b.ok&&b.text().then((function(b){return l.log.info("loadLocalFile called succesfully",m),l.setVar(Z,b),b})).catch((function(Z){return l.log.error("Error when download text file",m,Z)}))})).catch((function(Z){return l.log.error("Error when download file",m,Z)})),G.next=13;break;case 9:if(!(W=l.utils.loadFile(b))){G.next=13;break}return l.setVar(Z,l.utils.loadFile(b)),G.abrupt("return",W);case 13:G.next=16;break;case 15:l.log.warn("loadLocalFile Contexroot : ",d);case 16:return G.abrupt("return",!1);case 17:case"end":return G.stop()}}),G)})))}},{key:"setGraphHover",value:function(l){this.isGraphHoverEnabled()&&(this.graphHover=!0,this.GHTimeStamp=l)}},{key:"unsetGraphHover",value:function(){this.graphHover=!1,this.GHTimeStamp=0}},{key:"hasGraphHover",value:function(){return this.graphHover&&this.isGraphHoverEnabled()}},{key:"isGraphHoverEnabled",value:function(){var Z=this.getVar(l.CONSTANTS.VAR_OBJ_DASHBOARD);return void 0!==Z&&Z.sharedTooltipModeEnabled()}},{key:"getGraphHover",value:function(){if(this.hasGraphHover())return this.GHTimeStamp}},{key:"popover",value:function(Z,b,G){var d=l.plugin.getRepo(),m="".concat(this.plugin.getRepo(),"images/"),W=String(Z).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),c="".concat(W),h="",X="";return b&&(h='<a href="'.concat(d).concat(b,'" target="_blank"><i class="fa fa-book fa-fw"></i>Help</a>')),G&&(X='<a href="'.concat(m).concat(G,'.png" target="_blank"><i class="fa fa-image fa-fw"></i>Example</a>')),'\n    <div id="popover" style="display:flex;flex-wrap:wrap;width: 100%;">\n      <div style="flex:1;height:100px;margin-bottom: 20px;">'.concat(c,'</div>\n      <div style="flex:1;height:100px;margin-bottom: 20px;">').concat(h,'</div>\n      <div style="flex-basis: 100%;height:100px;margin-bottom:20px;">').concat(X,"</div>\n    </div>")}},{key:"destroy",value:function(){var Z=l.getVar(l.CONSTANTS.VAR_MAP_INTERVAL);void 0!==Z&&(Z.forEach((function(Z){return l.clearUniqInterval(Z)})),Z.clear());var b=l.getVar(l.CONSTANTS.VAR_MAP_TIMEOUT);void 0!==b&&(b.forEach((function(Z){return l.clearUniqTimeOut(Z)})),b.clear())}}]),l}();a._globalvars=new V,a.CONSTANTS=new function l(){X(this,l),this.CONF_PATH_LIBS="libs/",this.CONF_PATH_DRAWIO="libs/drawio/",this.CONF_PATH_STATIC="static/",this.CONF_PATH_PARTIALS="partials/",this.CONF_PATH_STYLES="styles/",this.CONF_FILE_PLUGINJSON="./plugin.json",this.CONF_FILE_DEFAULTDIO="static/defaultGraph.drawio",this.CONF_FILE_DEFAULTCSV="static/defaultGraph.csv",this.CONF_FILE_SHAPESTXT="static/shapes.txt",this.CONF_FILE_APPJS="libs/drawio/js/app.min.js",this.CONF_FILE_SHAPESJS="libs/drawio/js/shapes.min.js",this.CONF_FILE_VIEWERJS="libs/drawio/js/viewer.min.js",this.CONF_FILE_PRECONFIGJS="libs/drawio/js/PreConfig.js",this.CONF_FILE_POSTCONFIGJS="libs/drawio/js/PostConfig.js",this.CONF_TOOLTIPS_DELAY=200,this.CONF_GRAPHHOVER_DELAY=50,this.CONF_COLORS_STEPS=5,this.CONF_COLORS_MS=50,this.CONF_ANIMS_STEP=5,this.CONF_ANIMS_MS=50,this.CONF_BLINK_COLOR="#f5f242",this.VAR_STG_SHAPES="shapestext",this.VAR_TBL_SHAPES="shapesarray",this.VAR_STR_VIEWERJS="viewer.min.js",this.VAR_STR_SHAPESJS="shapes.min.js",this.VAR_STG_CTXROOT="contextroot",this.VAR_NUM_GHTIMESTAMP="graph-hover-timestamp",this.VAR_OBJ_TEMPLATESRV="templatesrv",this.VAR_OBJ_CTRL="ctrl",this.VAR_OBJ_DASHBOARD="dashboard",this.VAR_MAP_INTERVAL="interval",this.VAR_MAP_TIMEOUT="timeout",this.VAR_STR_RULENAME="_rule",this.VAR_NUM_LEVEL="_level",this.VAR_NUM_VALUE="_value",this.VAR_STR_FORMATED="_formated",this.VAR_STR_COLOR="_color",this.TOOLTIP_APPLYON=[{text:"Warning / Critical",value:"wc"},{text:"Always",value:"a"}],this.COLOR_APPLYON=[{text:"Never",value:"n"},{text:"Warning / Critical",value:"wc"},{text:"Always",value:"a"}],this.TEXT_APPLYON=[{text:"Never",value:"n"},{text:"When Metric Displayed",value:"wmd"},{text:"Warning / Critical",value:"wc"},{text:"Critical Only",value:"co"}],this.LINK_APPLYON=[{text:"Warning / Critical",value:"wc"},{text:"Always",value:"a"}],this.VALUE_TYPES=[{text:"Number",value:"number"},{text:"String",value:"string"},{text:"Date",value:"date"}],this.METRIC_TYPES=[{text:"Series",value:"serie"},{text:"Table",value:"table"}],this.SOURCE_TYPES=[{text:"XML",value:"xml"},{text:"CSV",value:"csv"}],this.DIOTHEME_TYPES=[{text:"Dark",value:"dark"},{text:"Light",value:"kennedy"},{text:"Mobile",value:"minimal"},{text:"atlas",value:"atlas"}],this.IDENT_TYPES=[{text:"Id",value:"id"},{text:"Label",value:"value"}],this.AGGREGATION_TYPES=[{text:"First",value:"first"},{text:"First (not null)",value:"first_notnull"},{text:"Last",value:"current"},{text:"Last (not null)",value:"current_notnull"},{text:"Min",value:"min"},{text:"Max",value:"max"},{text:"Sum",value:"total"},{text:"Avg",value:"avg"},{text:"Count",value:"count"},{text:"Delta",value:"delta"},{text:"Range",value:"range"},{text:"Diff",value:"diff"},{text:"Time of last point",value:"last_time"}],this.TOOLTIP_GRAPH_TYPES=[{text:"Line",value:"line"},{text:"Histogram",value:"bar"}],this.TOOLTIP_GRAPH_SCALE_TYPES=[{text:"Linear",value:"linear"},{text:"Logarithmic",value:"log"}],this.TOOLTIP_GRAPH_SIZE_TYPES=[{text:"Adjustable",value:"100%"},{text:"Small",value:"100px"},{text:"Medium",value:"200px"},{text:"Large",value:"400px"}],this.TOOLTIP_DIRECTION_TYPES=[{text:"Vertical",value:"v"},{text:"Horizontal ",value:"h"}],this.VALUE_DATEFORMAT_TYPES=[{text:"YYYY-MM-DD HH:mm:ss",value:"YYYY-MM-DD HH:mm:ss"},{text:"YYYY-MM-DD HH:mm:ss.SSS",value:"YYYY-MM-DD HH:mm:ss.SSS"},{text:"MM/DD/YY h:mm:ss a",value:"MM/DD/YY h:mm:ss a"},{text:"MMMM D, YYYY LT",value:"MMMM D, YYYY LT"},{text:"YYYY-MM-DD",value:"YYYY-MM-DD"}],this.VALUEMAPPINGTYPES=[{text:"Value to text",value:1},{text:"Range to text",value:2}],this.TEXTMETHODS=[{text:"All content",value:"content"},{text:"Substring",value:"pattern",placeholder:"/RegEx/"},{text:"Append (Space) ",value:"as"},{text:"Append (New line) ",value:"anl"}],this.COLORMETHODS=[{text:"Shape Stroke/Border",value:"strokeColor"},{text:"Shape Fill",value:"fillColor"},{text:"Shape Gradient",value:"gradientColor"},{text:"Label font color",value:"fontColor"},{text:"Label background color",value:"labelBackgroundColor"},{text:"Label border color",value:"labelBorderColor"},{text:"Image background",value:"imageBackground"},{text:"Image border",value:"imageBorder"}],this.EVENTMETHODS=[{text:"Shape : Change form (text)",value:"shape",type:"text",placeholder:"Shape name"},{text:"Shape : Rotate Shape (0-360)",value:"rotation",type:"number",placeholder:"0-360",default:0},{text:"Shape : Blink (frequence ms)",value:"blink",type:"number",placeholder:"Number in ms",default:500},{text:"Shape : Hide/Show (0|1)",value:"visibility",type:"number",placeholder:"0 or 1",typeahead:"0|1"},{text:"Shape : Height (number)",value:"height",type:"number",placeholder:"Number of px"},{text:"Shape : Width (number)",value:"width",type:"number",placeholder:"Number of px"},{text:"Shape : Resize (percent)",value:"size",type:"number",placeholder:"percent"},{text:"Shape : Opacity (0-100)",value:"opacity",type:"number",placeholder:"0-100",default:100},{text:"Shape : Gradient direction",value:"gradientDirection",type:"text",placeholder:"Direction name",default:"south",typeahead:"south|east|north|west"},{text:"Shape : Collapse/Expande (0|1)",value:"fold",type:"number",placeholder:"0 or 1",typeahead:"0|1",default:"1"},{text:"Shape : Change position in Bar (0-100)",value:"barPos",type:"number",placeholder:"0-100"},{text:"Shape : Flip horizontally (0|1)",value:"flipH",type:"number",placeholder:"0 or 1",typeahead:"0|1"},{text:"Shape : Flip vertically (0|1)",value:"flipV",type:"number",placeholder:"0 or 1",typeahead:"0|1"},{text:"Arrow : change start marker (text)",value:"startArrow",type:"text",placeholder:"Marker",typeahead:"none|classic|classicThin|block|blockThin|open|openThin|oval|diamond|diamondThin|openAsync|async|box|halfCircle|dash|cross|circlePlus|circle|ERone|ERmandOne|ERoneToMany|ERzeroToOne"},{text:"Arrow : change end marker (text)",value:"endArrow",type:"text",placeholder:"Marker",typeahead:"none|classic|classicThin|block|blockThin|open|openThin|oval|diamond|diamondThin|openAsync|async|box|halfCircle|dash|cross|circlePlus|circle|ERone|ERmandOne|ERoneToMany|ERzeroToOne"},{text:"Arrow : Anime flow (frequence ms)",value:"class_mxEdgeFlow",type:"number",placeholder:"Number in ms"},{text:"Label : Replace text (text)",value:"text",type:"text",placeholder:"Text"},{text:"Label : Font Size (numeric)",value:"fontSize",type:"number",placeholder:"Number"},{text:"Label : Opacity (numeric)",value:"textOpacity",type:"number",placeholder:"0-100",default:100},{text:"Image : Change URL (text)",value:"image",type:"text",placeholder:"Url"}],this.LOCALVARIABLENAMES=[{text:"Name of the rule",value:this.VAR_STR_RULENAME},{text:"Current color according to the thresholds",value:this.VAR_STR_COLOR},{text:"Current raw value according to the aggregation",value:this.VAR_NUM_VALUE},{text:"Current level according to the thresholds",value:this.VAR_NUM_LEVEL},{text:"Current formated value accordingto the type",value:this.VAR_STR_FORMATED}]},a.log=u.init(),a.trace=Y.init(),a.graphHover=!1,a.GHTimeStamp=0,a.DEBUG=!0,a.utils=b(19)}).call(this,"/")},function(l,Z,b){"use strict";b.d(Z,"a",(function(){return G}));function G(l,Z,b,G){return new(b||(b=Promise))((function(d,m){function W(l){try{h(G.next(l))}catch(l){m(l)}}function c(l){try{h(G.throw(l))}catch(l){m(l)}}function h(l){l.done?d(l.value):new b((function(Z){Z(l.value)})).then(W,c)}h((G=G.apply(l,Z||[])).next())}))}},function(l,Z){l.exports=__WEBPACK_EXTERNAL_MODULE__2__},function(l,Z,b){"use strict";var G="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function d(l,Z){return Object.prototype.hasOwnProperty.call(l,Z)}Z.assign=function(l){for(var Z=Array.prototype.slice.call(arguments,1);Z.length;){var b=Z.shift();if(b){if("object"!=typeof b)throw new TypeError(b+"must be non-object");for(var G in b)d(b,G)&&(l[G]=b[G])}}return l},Z.shrinkBuf=function(l,Z){return l.length===Z?l:l.subarray?l.subarray(0,Z):(l.length=Z,l)};var m={arraySet:function(l,Z,b,G,d){if(Z.subarray&&l.subarray)l.set(Z.subarray(b,b+G),d);else for(var m=0;m<G;m++)l[d+m]=Z[b+m]},flattenChunks:function(l){var Z,b,G,d,m,W;for(G=0,Z=0,b=l.length;Z<b;Z++)G+=l[Z].length;for(W=new Uint8Array(G),d=0,Z=0,b=l.length;Z<b;Z++)m=l[Z],W.set(m,d),d+=m.length;return W}},W={arraySet:function(l,Z,b,G,d){for(var m=0;m<G;m++)l[d+m]=Z[b+m]},flattenChunks:function(l){return[].concat.apply([],l)}};Z.setTyped=function(l){l?(Z.Buf8=Uint8Array,Z.Buf16=Uint16Array,Z.Buf32=Int32Array,Z.assign(Z,m)):(Z.Buf8=Array,Z.Buf16=Array,Z.Buf32=Array,Z.assign(Z,W))},Z.setTyped(G)},function(l,Z,b){l.exports=function(){"use strict";for(var l=function(l,Z,b){return void 0===Z&&(Z=0),void 0===b&&(b=1),l<Z?Z:l>b?b:l},Z={},b=0,G=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];b<G.length;b+=1){var d=G[b];Z["[object "+d+"]"]=d.toLowerCase()}var m=function(l){return Z[Object.prototype.toString.call(l)]||"object"},W=Math.PI,c={clip_rgb:function(Z){Z._clipped=!1,Z._unclipped=Z.slice(0);for(var b=0;b<=3;b++)b<3?((Z[b]<0||Z[b]>255)&&(Z._clipped=!0),Z[b]=l(Z[b],0,255)):3===b&&(Z[b]=l(Z[b],0,1));return Z},limit:l,type:m,unpack:function(l,Z){return void 0===Z&&(Z=null),l.length>=3?Array.prototype.slice.call(l):"object"==m(l[0])&&Z?Z.split("").filter((function(Z){return void 0!==l[0][Z]})).map((function(Z){return l[0][Z]})):l[0]},last:function(l){if(l.length<2)return null;var Z=l.length-1;return"string"==m(l[Z])?l[Z].toLowerCase():null},PI:W,TWOPI:2*W,PITHIRD:W/3,DEG2RAD:W/180,RAD2DEG:180/W},h={format:{},autodetect:[]},X=c.last,V=c.clip_rgb,u=c.type,R=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];var b=this;if("object"===u(l[0])&&l[0].constructor&&l[0].constructor===this.constructor)return l[0];var G=X(l),d=!1;if(!G){d=!0,h.sorted||(h.autodetect=h.autodetect.sort((function(l,Z){return Z.p-l.p})),h.sorted=!0);for(var m=0,W=h.autodetect;m<W.length;m+=1){var c=W[m];if(G=c.test.apply(c,l))break}}if(!h.format[G])throw new Error("unknown format: "+l);var R=h.format[G].apply(null,d?l:l.slice(0,-1));b._rgb=V(R),3===b._rgb.length&&b._rgb.push(1)};R.prototype.toString=function(){return"function"==u(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var Y=R,a=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];return new(Function.prototype.bind.apply(a.Color,[null].concat(l)))};a.Color=Y,a.version="2.1.0";var i=a,n=c.unpack,p=Math.max,s=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];var b=n(l,"rgb"),G=b[0],d=b[1],m=b[2],W=1-p(G/=255,p(d/=255,m/=255)),c=W<1?1/(1-W):0,h=(1-G-W)*c,X=(1-d-W)*c,V=(1-m-W)*c;return[h,X,V,W]},y=c.unpack,L=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];var b=(l=y(l,"cmyk"))[0],G=l[1],d=l[2],m=l[3],W=l.length>4?l[4]:1;return 1===m?[0,0,0,W]:[b>=1?0:255*(1-b)*(1-m),G>=1?0:255*(1-G)*(1-m),d>=1?0:255*(1-d)*(1-m),W]},t=c.unpack,o=c.type;Y.prototype.cmyk=function(){return s(this._rgb)},i.cmyk=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];return new(Function.prototype.bind.apply(Y,[null].concat(l,["cmyk"])))},h.format.cmyk=L,h.autodetect.push({p:2,test:function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];if(l=t(l,"cmyk"),"array"===o(l)&&4===l.length)return"cmyk"}});var F=c.unpack,x=c.last,S=function(l){return Math.round(100*l)/100},J=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];var b=F(l,"hsla"),G=x(l)||"lsa";return b[0]=S(b[0]||0),b[1]=S(100*b[1])+"%",b[2]=S(100*b[2])+"%","hsla"===G||b.length>3&&b[3]<1?(b[3]=b.length>3?b[3]:1,G="hsla"):b.length=3,G+"("+b.join(",")+")"},I=c.unpack,N=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];var b=(l=I(l,"rgba"))[0],G=l[1],d=l[2];b/=255,G/=255,d/=255;var m,W,c=Math.min(b,G,d),h=Math.max(b,G,d),X=(h+c)/2;return h===c?(m=0,W=Number.NaN):m=X<.5?(h-c)/(h+c):(h-c)/(2-h-c),b==h?W=(G-d)/(h-c):G==h?W=2+(d-b)/(h-c):d==h&&(W=4+(b-G)/(h-c)),(W*=60)<0&&(W+=360),l.length>3&&void 0!==l[3]?[W,m,X,l[3]]:[W,m,X]},K=c.unpack,k=c.last,e=Math.round,U=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];var b=K(l,"rgba"),G=k(l)||"rgb";return"hsl"==G.substr(0,3)?J(N(b),G):(b[0]=e(b[0]),b[1]=e(b[1]),b[2]=e(b[2]),("rgba"===G||b.length>3&&b[3]<1)&&(b[3]=b.length>3?b[3]:1,G="rgba"),G+"("+b.slice(0,"rgb"===G?3:4).join(",")+")")},T=c.unpack,z=Math.round,C=function(){for(var l,Z=[],b=arguments.length;b--;)Z[b]=arguments[b];var G,d,m,W=(Z=T(Z,"hsl"))[0],c=Z[1],h=Z[2];if(0===c)G=d=m=255*h;else{var X=[0,0,0],V=[0,0,0],u=h<.5?h*(1+c):h+c-h*c,R=2*h-u,Y=W/360;X[0]=Y+1/3,X[1]=Y,X[2]=Y-1/3;for(var a=0;a<3;a++)X[a]<0&&(X[a]+=1),X[a]>1&&(X[a]-=1),6*X[a]<1?V[a]=R+6*(u-R)*X[a]:2*X[a]<1?V[a]=u:3*X[a]<2?V[a]=R+(u-R)*(2/3-X[a])*6:V[a]=R;G=(l=[z(255*V[0]),z(255*V[1]),z(255*V[2])])[0],d=l[1],m=l[2]}return Z.length>3?[G,d,m,Z[3]]:[G,d,m,1]},v=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,E=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,H=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,M=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,w=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Q=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,B=Math.round,j=function(l){var Z;if(l=l.toLowerCase().trim(),h.format.named)try{return h.format.named(l)}catch(l){}if(Z=l.match(v)){for(var b=Z.slice(1,4),G=0;G<3;G++)b[G]=+b[G];return b[3]=1,b}if(Z=l.match(E)){for(var d=Z.slice(1,5),m=0;m<4;m++)d[m]=+d[m];return d}if(Z=l.match(H)){for(var W=Z.slice(1,4),c=0;c<3;c++)W[c]=B(2.55*W[c]);return W[3]=1,W}if(Z=l.match(M)){for(var X=Z.slice(1,5),V=0;V<3;V++)X[V]=B(2.55*X[V]);return X[3]=+X[3],X}if(Z=l.match(w)){var u=Z.slice(1,4);u[1]*=.01,u[2]*=.01;var R=C(u);return R[3]=1,R}if(Z=l.match(Q)){var Y=Z.slice(1,4);Y[1]*=.01,Y[2]*=.01;var a=C(Y);return a[3]=+Z[4],a}};j.test=function(l){return v.test(l)||E.test(l)||H.test(l)||M.test(l)||w.test(l)||Q.test(l)};var g=j,P=c.type;Y.prototype.css=function(l){return U(this._rgb,l)},i.css=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];return new(Function.prototype.bind.apply(Y,[null].concat(l,["css"])))},h.format.css=g,h.autodetect.push({p:5,test:function(l){for(var Z=[],b=arguments.length-1;b-- >0;)Z[b]=arguments[b+1];if(!Z.length&&"string"===P(l)&&g.test(l))return"css"}});var r=c.unpack;h.format.gl=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];var b=r(l,"rgba");return b[0]*=255,b[1]*=255,b[2]*=255,b},i.gl=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];return new(Function.prototype.bind.apply(Y,[null].concat(l,["gl"])))},Y.prototype.gl=function(){var l=this._rgb;return[l[0]/255,l[1]/255,l[2]/255,l[3]]};var O=c.unpack,D=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];var b,G=O(l,"rgb"),d=G[0],m=G[1],W=G[2],c=Math.min(d,m,W),h=Math.max(d,m,W),X=h-c,V=100*X/255,u=c/(255-X)*100;return 0===X?b=Number.NaN:(d===h&&(b=(m-W)/X),m===h&&(b=2+(W-d)/X),W===h&&(b=4+(d-m)/X),(b*=60)<0&&(b+=360)),[b,V,u]},f=c.unpack,A=Math.floor,q=function(){for(var l,Z,b,G,d,m,W=[],c=arguments.length;c--;)W[c]=arguments[c];var h,X,V,u=(W=f(W,"hcg"))[0],R=W[1],Y=W[2];Y*=255;var a=255*R;if(0===R)h=X=V=Y;else{360===u&&(u=0),u>360&&(u-=360),u<0&&(u+=360);var i=A(u/=60),n=u-i,p=Y*(1-R),s=p+a*(1-n),y=p+a*n,L=p+a;switch(i){case 0:h=(l=[L,y,p])[0],X=l[1],V=l[2];break;case 1:h=(Z=[s,L,p])[0],X=Z[1],V=Z[2];break;case 2:h=(b=[p,L,y])[0],X=b[1],V=b[2];break;case 3:h=(G=[p,s,L])[0],X=G[1],V=G[2];break;case 4:h=(d=[y,p,L])[0],X=d[1],V=d[2];break;case 5:h=(m=[L,p,s])[0],X=m[1],V=m[2]}}return[h,X,V,W.length>3?W[3]:1]},_=c.unpack,$=c.type;Y.prototype.hcg=function(){return D(this._rgb)},i.hcg=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];return new(Function.prototype.bind.apply(Y,[null].concat(l,["hcg"])))},h.format.hcg=q,h.autodetect.push({p:1,test:function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];if(l=_(l,"hcg"),"array"===$(l)&&3===l.length)return"hcg"}});var ll=c.unpack,Zl=c.last,bl=Math.round,Gl=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];var b=ll(l,"rgba"),G=b[0],d=b[1],m=b[2],W=b[3],c=Zl(l)||"auto";void 0===W&&(W=1),"auto"===c&&(c=W<1?"rgba":"rgb");var h=(G=bl(G))<<16|(d=bl(d))<<8|(m=bl(m)),X="000000"+h.toString(16);X=X.substr(X.length-6);var V="0"+bl(255*W).toString(16);switch(V=V.substr(V.length-2),c.toLowerCase()){case"rgba":return"#"+X+V;case"argb":return"#"+V+X;default:return"#"+X}},dl=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,ml=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,Wl=function(l){if(l.match(dl)){4!==l.length&&7!==l.length||(l=l.substr(1)),3===l.length&&(l=(l=l.split(""))[0]+l[0]+l[1]+l[1]+l[2]+l[2]);var Z=parseInt(l,16);return[Z>>16,Z>>8&255,255&Z,1]}if(l.match(ml)){5!==l.length&&9!==l.length||(l=l.substr(1)),4===l.length&&(l=(l=l.split(""))[0]+l[0]+l[1]+l[1]+l[2]+l[2]+l[3]+l[3]);var b=parseInt(l,16);return[b>>24&255,b>>16&255,b>>8&255,Math.round((255&b)/255*100)/100]}throw new Error("unknown hex color: "+l)},cl=c.type;Y.prototype.hex=function(l){return Gl(this._rgb,l)},i.hex=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];return new(Function.prototype.bind.apply(Y,[null].concat(l,["hex"])))},h.format.hex=Wl,h.autodetect.push({p:4,test:function(l){for(var Z=[],b=arguments.length-1;b-- >0;)Z[b]=arguments[b+1];if(!Z.length&&"string"===cl(l)&&[3,4,5,6,7,8,9].indexOf(l.length)>=0)return"hex"}});var hl=c.unpack,Xl=c.TWOPI,Vl=Math.min,ul=Math.sqrt,Rl=Math.acos,Yl=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];var b,G=hl(l,"rgb"),d=G[0],m=G[1],W=G[2],c=Vl(d/=255,m/=255,W/=255),h=(d+m+W)/3,X=h>0?1-c/h:0;return 0===X?b=NaN:(b=(d-m+(d-W))/2,b/=ul((d-m)*(d-m)+(d-W)*(m-W)),b=Rl(b),W>m&&(b=Xl-b),b/=Xl),[360*b,X,h]},al=c.unpack,il=c.limit,nl=c.TWOPI,pl=c.PITHIRD,sl=Math.cos,yl=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];var b,G,d,m=(l=al(l,"hsi"))[0],W=l[1],c=l[2];return isNaN(m)&&(m=0),isNaN(W)&&(W=0),m>360&&(m-=360),m<0&&(m+=360),(m/=360)<1/3?G=1-((d=(1-W)/3)+(b=(1+W*sl(nl*m)/sl(pl-nl*m))/3)):m<2/3?d=1-((b=(1-W)/3)+(G=(1+W*sl(nl*(m-=1/3))/sl(pl-nl*m))/3)):b=1-((G=(1-W)/3)+(d=(1+W*sl(nl*(m-=2/3))/sl(pl-nl*m))/3)),[255*(b=il(c*b*3)),255*(G=il(c*G*3)),255*(d=il(c*d*3)),l.length>3?l[3]:1]},Ll=c.unpack,tl=c.type;Y.prototype.hsi=function(){return Yl(this._rgb)},i.hsi=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];return new(Function.prototype.bind.apply(Y,[null].concat(l,["hsi"])))},h.format.hsi=yl,h.autodetect.push({p:2,test:function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];if(l=Ll(l,"hsi"),"array"===tl(l)&&3===l.length)return"hsi"}});var ol=c.unpack,Fl=c.type;Y.prototype.hsl=function(){return N(this._rgb)},i.hsl=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];return new(Function.prototype.bind.apply(Y,[null].concat(l,["hsl"])))},h.format.hsl=C,h.autodetect.push({p:2,test:function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];if(l=ol(l,"hsl"),"array"===Fl(l)&&3===l.length)return"hsl"}});var xl=c.unpack,Sl=Math.min,Jl=Math.max,Il=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];var b,G,d,m=(l=xl(l,"rgb"))[0],W=l[1],c=l[2],h=Sl(m,W,c),X=Jl(m,W,c),V=X-h;return d=X/255,0===X?(b=Number.NaN,G=0):(G=V/X,m===X&&(b=(W-c)/V),W===X&&(b=2+(c-m)/V),c===X&&(b=4+(m-W)/V),(b*=60)<0&&(b+=360)),[b,G,d]},Nl=c.unpack,Kl=Math.floor,kl=function(){for(var l,Z,b,G,d,m,W=[],c=arguments.length;c--;)W[c]=arguments[c];var h,X,V,u=(W=Nl(W,"hsv"))[0],R=W[1],Y=W[2];if(Y*=255,0===R)h=X=V=Y;else{360===u&&(u=0),u>360&&(u-=360),u<0&&(u+=360);var a=Kl(u/=60),i=u-a,n=Y*(1-R),p=Y*(1-R*i),s=Y*(1-R*(1-i));switch(a){case 0:h=(l=[Y,s,n])[0],X=l[1],V=l[2];break;case 1:h=(Z=[p,Y,n])[0],X=Z[1],V=Z[2];break;case 2:h=(b=[n,Y,s])[0],X=b[1],V=b[2];break;case 3:h=(G=[n,p,Y])[0],X=G[1],V=G[2];break;case 4:h=(d=[s,n,Y])[0],X=d[1],V=d[2];break;case 5:h=(m=[Y,n,p])[0],X=m[1],V=m[2]}}return[h,X,V,W.length>3?W[3]:1]},el=c.unpack,Ul=c.type;Y.prototype.hsv=function(){return Il(this._rgb)},i.hsv=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];return new(Function.prototype.bind.apply(Y,[null].concat(l,["hsv"])))},h.format.hsv=kl,h.autodetect.push({p:2,test:function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];if(l=el(l,"hsv"),"array"===Ul(l)&&3===l.length)return"hsv"}});var Tl=18,zl=.95047,Cl=1,vl=1.08883,El=.137931034,Hl=.206896552,Ml=.12841855,wl=.008856452,Ql=c.unpack,Bl=Math.pow,jl=function(l){return(l/=255)<=.04045?l/12.92:Bl((l+.055)/1.055,2.4)},gl=function(l){return l>wl?Bl(l,1/3):l/Ml+El},Pl=function(l,Z,b){return l=jl(l),Z=jl(Z),b=jl(b),[gl((.4124564*l+.3575761*Z+.1804375*b)/zl),gl((.2126729*l+.7151522*Z+.072175*b)/Cl),gl((.0193339*l+.119192*Z+.9503041*b)/vl)]},rl=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];var b=Ql(l,"rgb"),G=b[0],d=b[1],m=b[2],W=Pl(G,d,m),c=W[0],h=W[1],X=W[2],V=116*h-16;return[V<0?0:V,500*(c-h),200*(h-X)]},Ol=c.unpack,Dl=Math.pow,fl=function(l){return 255*(l<=.00304?12.92*l:1.055*Dl(l,1/2.4)-.055)},Al=function(l){return l>Hl?l*l*l:Ml*(l-El)},ql=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];var b,G,d,m=(l=Ol(l,"lab"))[0],W=l[1],c=l[2];return G=(m+16)/116,b=isNaN(W)?G:G+W/500,d=isNaN(c)?G:G-c/200,G=Cl*Al(G),b=zl*Al(b),d=vl*Al(d),[fl(3.2404542*b-1.5371385*G-.4985314*d),fl(-.969266*b+1.8760108*G+.041556*d),fl(.0556434*b-.2040259*G+1.0572252*d),l.length>3?l[3]:1]},_l=c.unpack,$l=c.type;Y.prototype.lab=function(){return rl(this._rgb)},i.lab=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];return new(Function.prototype.bind.apply(Y,[null].concat(l,["lab"])))},h.format.lab=ql,h.autodetect.push({p:2,test:function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];if(l=_l(l,"lab"),"array"===$l(l)&&3===l.length)return"lab"}});var lZ=c.unpack,ZZ=c.RAD2DEG,bZ=Math.sqrt,GZ=Math.atan2,dZ=Math.round,mZ=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];var b=lZ(l,"lab"),G=b[0],d=b[1],m=b[2],W=bZ(d*d+m*m),c=(GZ(m,d)*ZZ+360)%360;return 0===dZ(1e4*W)&&(c=Number.NaN),[G,W,c]},WZ=c.unpack,cZ=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];var b=WZ(l,"rgb"),G=b[0],d=b[1],m=b[2],W=rl(G,d,m),c=W[0],h=W[1],X=W[2];return mZ(c,h,X)},hZ=c.unpack,XZ=c.DEG2RAD,VZ=Math.sin,uZ=Math.cos,RZ=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];var b=hZ(l,"lch"),G=b[0],d=b[1],m=b[2];return isNaN(m)&&(m=0),[G,uZ(m*=XZ)*d,VZ(m)*d]},YZ=c.unpack,aZ=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];var b=(l=YZ(l,"lch"))[0],G=l[1],d=l[2],m=RZ(b,G,d),W=m[0],c=m[1],h=m[2],X=ql(W,c,h),V=X[0],u=X[1],R=X[2];return[V,u,R,l.length>3?l[3]:1]},iZ=c.unpack,nZ=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];var b=iZ(l,"hcl").reverse();return aZ.apply(void 0,b)},pZ=c.unpack,sZ=c.type;Y.prototype.lch=function(){return cZ(this._rgb)},Y.prototype.hcl=function(){return cZ(this._rgb).reverse()},i.lch=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];return new(Function.prototype.bind.apply(Y,[null].concat(l,["lch"])))},i.hcl=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];return new(Function.prototype.bind.apply(Y,[null].concat(l,["hcl"])))},h.format.lch=aZ,h.format.hcl=nZ,["lch","hcl"].forEach((function(l){return h.autodetect.push({p:2,test:function(){for(var Z=[],b=arguments.length;b--;)Z[b]=arguments[b];if(Z=pZ(Z,l),"array"===sZ(Z)&&3===Z.length)return l}})}));var yZ={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},LZ=c.type;Y.prototype.name=function(){for(var l=Gl(this._rgb,"rgb"),Z=0,b=Object.keys(yZ);Z<b.length;Z+=1){var G=b[Z];if(yZ[G]===l)return G.toLowerCase()}return l},h.format.named=function(l){if(l=l.toLowerCase(),yZ[l])return Wl(yZ[l]);throw new Error("unknown color name: "+l)},h.autodetect.push({p:5,test:function(l){for(var Z=[],b=arguments.length-1;b-- >0;)Z[b]=arguments[b+1];if(!Z.length&&"string"===LZ(l)&&yZ[l.toLowerCase()])return"named"}});var tZ=c.unpack,oZ=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];var b=tZ(l,"rgb"),G=b[0],d=b[1],m=b[2];return(G<<16)+(d<<8)+m},FZ=c.type,xZ=function(l){if("number"==FZ(l)&&l>=0&&l<=16777215)return[l>>16,l>>8&255,255&l,1];throw new Error("unknown num color: "+l)},SZ=c.type;Y.prototype.num=function(){return oZ(this._rgb)},i.num=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];return new(Function.prototype.bind.apply(Y,[null].concat(l,["num"])))},h.format.num=xZ,h.autodetect.push({p:5,test:function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];if(1===l.length&&"number"===SZ(l[0])&&l[0]>=0&&l[0]<=16777215)return"num"}});var JZ=c.unpack,IZ=c.type,NZ=Math.round;Y.prototype.rgb=function(l){return void 0===l&&(l=!0),!1===l?this._rgb.slice(0,3):this._rgb.slice(0,3).map(NZ)},Y.prototype.rgba=function(l){return void 0===l&&(l=!0),this._rgb.slice(0,4).map((function(Z,b){return b<3?!1===l?Z:NZ(Z):Z}))},i.rgb=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];return new(Function.prototype.bind.apply(Y,[null].concat(l,["rgb"])))},h.format.rgb=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];var b=JZ(l,"rgba");return void 0===b[3]&&(b[3]=1),b},h.autodetect.push({p:3,test:function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];if(l=JZ(l,"rgba"),"array"===IZ(l)&&(3===l.length||4===l.length&&"number"==IZ(l[3])&&l[3]>=0&&l[3]<=1))return"rgb"}});var KZ=Math.log,kZ=function(l){var Z,b,G,d=l/100;return d<66?(Z=255,b=-155.25485562709179-.44596950469579133*(b=d-2)+104.49216199393888*KZ(b),G=d<20?0:.8274096064007395*(G=d-10)-254.76935184120902+115.67994401066147*KZ(G)):(Z=351.97690566805693+.114206453784165*(Z=d-55)-40.25366309332127*KZ(Z),b=325.4494125711974+.07943456536662342*(b=d-50)-28.0852963507957*KZ(b),G=255),[Z,b,G,1]},eZ=c.unpack,UZ=Math.round,TZ=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];for(var b,G=eZ(l,"rgb"),d=G[0],m=G[2],W=1e3,c=4e4,h=.4;c-W>h;){var X=kZ(b=.5*(c+W));X[2]/X[0]>=m/d?c=b:W=b}return UZ(b)};Y.prototype.temp=Y.prototype.kelvin=Y.prototype.temperature=function(){return TZ(this._rgb)},i.temp=i.kelvin=i.temperature=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];return new(Function.prototype.bind.apply(Y,[null].concat(l,["temp"])))},h.format.temp=h.format.kelvin=h.format.temperature=kZ;var zZ=c.type;Y.prototype.alpha=function(l,Z){return void 0===Z&&(Z=!1),void 0!==l&&"number"===zZ(l)?Z?(this._rgb[3]=l,this):new Y([this._rgb[0],this._rgb[1],this._rgb[2],l],"rgb"):this._rgb[3]},Y.prototype.clipped=function(){return this._rgb._clipped||!1},Y.prototype.darken=function(l){void 0===l&&(l=1);var Z=this.lab();return Z[0]-=Tl*l,new Y(Z,"lab").alpha(this.alpha(),!0)},Y.prototype.brighten=function(l){return void 0===l&&(l=1),this.darken(-l)},Y.prototype.darker=Y.prototype.darken,Y.prototype.brighter=Y.prototype.brighten,Y.prototype.get=function(l){var Z=l.split("."),b=Z[0],G=Z[1],d=this[b]();if(G){var m=b.indexOf(G);if(m>-1)return d[m];throw new Error("unknown channel "+G+" in mode "+b)}return d};var CZ=c.type,vZ=Math.pow;Y.prototype.luminance=function(l){if(void 0!==l&&"number"===CZ(l)){if(0===l)return new Y([0,0,0,this._rgb[3]],"rgb");if(1===l)return new Y([255,255,255,this._rgb[3]],"rgb");var Z=this.luminance(),b=20,G=function(Z,d){var m=Z.interpolate(d,.5,"rgb"),W=m.luminance();return Math.abs(l-W)<1e-7||!b--?m:W>l?G(Z,m):G(m,d)},d=(Z>l?G(new Y([0,0,0]),this):G(this,new Y([255,255,255]))).rgb();return new Y(d.concat([this._rgb[3]]))}return EZ.apply(void 0,this._rgb.slice(0,3))};var EZ=function(l,Z,b){return.2126*(l=HZ(l))+.7152*(Z=HZ(Z))+.0722*(b=HZ(b))},HZ=function(l){return(l/=255)<=.03928?l/12.92:vZ((l+.055)/1.055,2.4)},MZ={},wZ=c.type,QZ=function(l,Z,b){void 0===b&&(b=.5);for(var G=[],d=arguments.length-3;d-- >0;)G[d]=arguments[d+3];var m=G[0]||"lrgb";if(MZ[m]||G.length||(m=Object.keys(MZ)[0]),!MZ[m])throw new Error("interpolation mode "+m+" is not defined");return"object"!==wZ(l)&&(l=new Y(l)),"object"!==wZ(Z)&&(Z=new Y(Z)),MZ[m](l,Z,b).alpha(l.alpha()+b*(Z.alpha()-l.alpha()))};Y.prototype.mix=Y.prototype.interpolate=function(l,Z){void 0===Z&&(Z=.5);for(var b=[],G=arguments.length-2;G-- >0;)b[G]=arguments[G+2];return QZ.apply(void 0,[this,l,Z].concat(b))},Y.prototype.premultiply=function(l){void 0===l&&(l=!1);var Z=this._rgb,b=Z[3];return l?(this._rgb=[Z[0]*b,Z[1]*b,Z[2]*b,b],this):new Y([Z[0]*b,Z[1]*b,Z[2]*b,b],"rgb")},Y.prototype.saturate=function(l){void 0===l&&(l=1);var Z=this.lch();return Z[1]+=Tl*l,Z[1]<0&&(Z[1]=0),new Y(Z,"lch").alpha(this.alpha(),!0)},Y.prototype.desaturate=function(l){return void 0===l&&(l=1),this.saturate(-l)};var BZ=c.type;Y.prototype.set=function(l,Z,b){void 0===b&&(b=!1);var G=l.split("."),d=G[0],m=G[1],W=this[d]();if(m){var c=d.indexOf(m);if(c>-1){if("string"==BZ(Z))switch(Z.charAt(0)){case"+":case"-":W[c]+=+Z;break;case"*":W[c]*=+Z.substr(1);break;case"/":W[c]/=+Z.substr(1);break;default:W[c]=+Z}else{if("number"!==BZ(Z))throw new Error("unsupported value for Color.set");W[c]=Z}var h=new Y(W,d);return b?(this._rgb=h._rgb,this):h}throw new Error("unknown channel "+m+" in mode "+d)}return W},MZ.rgb=function(l,Z,b){var G=l._rgb,d=Z._rgb;return new Y(G[0]+b*(d[0]-G[0]),G[1]+b*(d[1]-G[1]),G[2]+b*(d[2]-G[2]),"rgb")};var jZ=Math.sqrt,gZ=Math.pow;MZ.lrgb=function(l,Z,b){var G=l._rgb,d=G[0],m=G[1],W=G[2],c=Z._rgb,h=c[0],X=c[1],V=c[2];return new Y(jZ(gZ(d,2)*(1-b)+gZ(h,2)*b),jZ(gZ(m,2)*(1-b)+gZ(X,2)*b),jZ(gZ(W,2)*(1-b)+gZ(V,2)*b),"rgb")},MZ.lab=function(l,Z,b){var G=l.lab(),d=Z.lab();return new Y(G[0]+b*(d[0]-G[0]),G[1]+b*(d[1]-G[1]),G[2]+b*(d[2]-G[2]),"lab")};var PZ=function(l,Z,b,G){var d,m,W,c,h,X,V,u,R,a,i,n;return"hsl"===G?(W=l.hsl(),c=Z.hsl()):"hsv"===G?(W=l.hsv(),c=Z.hsv()):"hcg"===G?(W=l.hcg(),c=Z.hcg()):"hsi"===G?(W=l.hsi(),c=Z.hsi()):"lch"!==G&&"hcl"!==G||(G="hcl",W=l.hcl(),c=Z.hcl()),"h"===G.substr(0,1)&&(h=(d=W)[0],V=d[1],R=d[2],X=(m=c)[0],u=m[1],a=m[2]),isNaN(h)||isNaN(X)?isNaN(h)?isNaN(X)?n=Number.NaN:(n=X,1!=R&&0!=R||"hsv"==G||(i=u)):(n=h,1!=a&&0!=a||"hsv"==G||(i=V)):n=h+b*(X>h&&X-h>180?X-(h+360):X<h&&h-X>180?X+360-h:X-h),void 0===i&&(i=V+b*(u-V)),new Y([n,i,R+b*(a-R)],G)},rZ=function(l,Z,b){return PZ(l,Z,b,"lch")};MZ.lch=rZ,MZ.hcl=rZ,MZ.num=function(l,Z,b){var G=l.num(),d=Z.num();return new Y(G+b*(d-G),"num")},MZ.hcg=function(l,Z,b){return PZ(l,Z,b,"hcg")},MZ.hsi=function(l,Z,b){return PZ(l,Z,b,"hsi")},MZ.hsl=function(l,Z,b){return PZ(l,Z,b,"hsl")},MZ.hsv=function(l,Z,b){return PZ(l,Z,b,"hsv")};var OZ=c.clip_rgb,DZ=Math.pow,fZ=Math.sqrt,AZ=Math.PI,qZ=Math.cos,_Z=Math.sin,$Z=Math.atan2,lb=function(l,Z){for(var b=l.length,G=[0,0,0,0],d=0;d<l.length;d++){var m=l[d],W=Z[d]/b,c=m._rgb;G[0]+=DZ(c[0],2)*W,G[1]+=DZ(c[1],2)*W,G[2]+=DZ(c[2],2)*W,G[3]+=c[3]*W}return G[0]=fZ(G[0]),G[1]=fZ(G[1]),G[2]=fZ(G[2]),G[3]>.9999999&&(G[3]=1),new Y(OZ(G))},Zb=c.type,bb=Math.pow,Gb=function(l){var Z="rgb",b=i("#ccc"),G=0,d=[0,1],m=[],W=[0,0],c=!1,h=[],X=!1,V=0,u=1,R=!1,Y={},a=!0,n=1,p=function(l){if((l=l||["#fff","#000"])&&"string"===Zb(l)&&i.brewer&&i.brewer[l.toLowerCase()]&&(l=i.brewer[l.toLowerCase()]),"array"===Zb(l)){1===l.length&&(l=[l[0],l[0]]),l=l.slice(0);for(var Z=0;Z<l.length;Z++)l[Z]=i(l[Z]);m.length=0;for(var b=0;b<l.length;b++)m.push(b/(l.length-1))}return t(),h=l},s=function(l){return l},y=function(l){return l},L=function(l,G){var d,X;if(null==G&&(G=!1),isNaN(l)||null===l)return b;X=G?l:c&&c.length>2?function(l){if(null!=c){for(var Z=c.length-1,b=0;b<Z&&l>=c[b];)b++;return b-1}return 0}(l)/(c.length-2):u!==V?(l-V)/(u-V):1,X=y(X),G||(X=s(X)),1!==n&&(X=bb(X,n)),X=W[0]+X*(1-W[0]-W[1]),X=Math.min(1,Math.max(0,X));var R=Math.floor(1e4*X);if(a&&Y[R])d=Y[R];else{if("array"===Zb(h))for(var p=0;p<m.length;p++){var L=m[p];if(X<=L){d=h[p];break}if(X>=L&&p===m.length-1){d=h[p];break}if(X>L&&X<m[p+1]){X=(X-L)/(m[p+1]-L),d=i.interpolate(h[p],h[p+1],X,Z);break}}else"function"===Zb(h)&&(d=h(X));a&&(Y[R]=d)}return d},t=function(){return Y={}};p(l);var o=function(l){var Z=i(L(l));return X&&Z[X]?Z[X]():Z};return o.classes=function(l){if(null!=l){if("array"===Zb(l))c=l,d=[l[0],l[l.length-1]];else{var Z=i.analyze(d);c=0===l?[Z.min,Z.max]:i.limits(Z,"e",l)}return o}return c},o.domain=function(l){if(!arguments.length)return d;V=l[0],u=l[l.length-1],m=[];var Z=h.length;if(l.length===Z&&V!==u)for(var b=0,G=Array.from(l);b<G.length;b+=1){var W=G[b];m.push((W-V)/(u-V))}else{for(var c=0;c<Z;c++)m.push(c/(Z-1));if(l.length>2){var X=l.map((function(Z,b){return b/(l.length-1)})),R=l.map((function(l){return(l-V)/(u-V)}));R.every((function(l,Z){return X[Z]===l}))||(y=function(l){if(l<=0||l>=1)return l;for(var Z=0;l>=R[Z+1];)Z++;var b=(l-R[Z])/(R[Z+1]-R[Z]);return X[Z]+b*(X[Z+1]-X[Z])})}}return d=[V,u],o},o.mode=function(l){return arguments.length?(Z=l,t(),o):Z},o.range=function(l,Z){return p(l),o},o.out=function(l){return X=l,o},o.spread=function(l){return arguments.length?(G=l,o):G},o.correctLightness=function(l){return null==l&&(l=!0),R=l,t(),s=R?function(l){for(var Z=L(0,!0).lab()[0],b=L(1,!0).lab()[0],G=Z>b,d=L(l,!0).lab()[0],m=Z+(b-Z)*l,W=d-m,c=0,h=1,X=20;Math.abs(W)>.01&&X-- >0;)G&&(W*=-1),W<0?(c=l,l+=.5*(h-l)):(h=l,l+=.5*(c-l)),d=L(l,!0).lab()[0],W=d-m;return l}:function(l){return l},o},o.padding=function(l){return null!=l?("number"===Zb(l)&&(l=[l,l]),W=l,o):W},o.colors=function(Z,b){arguments.length<2&&(b="hex");var G=[];if(0===arguments.length)G=h.slice(0);else if(1===Z)G=[o(.5)];else if(Z>1){var m=d[0],W=d[1]-m;G=db(0,Z,!1).map((function(l){return o(m+l/(Z-1)*W)}))}else{l=[];var X=[];if(c&&c.length>2)for(var V=1,u=c.length,R=1<=u;R?V<u:V>u;R?V++:V--)X.push(.5*(c[V-1]+c[V]));else X=d;G=X.map((function(l){return o(l)}))}return i[b]&&(G=G.map((function(l){return l[b]()}))),G},o.cache=function(l){return null!=l?(a=l,o):a},o.gamma=function(l){return null!=l?(n=l,o):n},o.nodata=function(l){return null!=l?(b=i(l),o):b},o};function db(l,Z,b){for(var G=[],d=l<Z,m=b?d?Z+1:Z-1:Z,W=l;d?W<m:W>m;d?W++:W--)G.push(W);return G}var mb=function(l){var Z,b,G,d,m,W,c;if(2===(l=l.map((function(l){return new Y(l)}))).length)Z=l.map((function(l){return l.lab()})),m=Z[0],W=Z[1],d=function(l){var Z=[0,1,2].map((function(Z){return m[Z]+l*(W[Z]-m[Z])}));return new Y(Z,"lab")};else if(3===l.length)b=l.map((function(l){return l.lab()})),m=b[0],W=b[1],c=b[2],d=function(l){var Z=[0,1,2].map((function(Z){return(1-l)*(1-l)*m[Z]+2*(1-l)*l*W[Z]+l*l*c[Z]}));return new Y(Z,"lab")};else if(4===l.length){var h;G=l.map((function(l){return l.lab()})),m=G[0],W=G[1],c=G[2],h=G[3],d=function(l){var Z=[0,1,2].map((function(Z){return(1-l)*(1-l)*(1-l)*m[Z]+3*(1-l)*(1-l)*l*W[Z]+3*(1-l)*l*l*c[Z]+l*l*l*h[Z]}));return new Y(Z,"lab")}}else if(5===l.length){var X=mb(l.slice(0,3)),V=mb(l.slice(2,5));d=function(l){return l<.5?X(2*l):V(2*(l-.5))}}return d},Wb=function(l,Z,b){if(!Wb[b])throw new Error("unknown blend mode "+b);return Wb[b](l,Z)},cb=function(l){return function(Z,b){var G=i(b).rgb(),d=i(Z).rgb();return i.rgb(l(G,d))}},hb=function(l){return function(Z,b){var G=[];return G[0]=l(Z[0],b[0]),G[1]=l(Z[1],b[1]),G[2]=l(Z[2],b[2]),G}};Wb.normal=cb(hb((function(l){return l}))),Wb.multiply=cb(hb((function(l,Z){return l*Z/255}))),Wb.screen=cb(hb((function(l,Z){return 255*(1-(1-l/255)*(1-Z/255))}))),Wb.overlay=cb(hb((function(l,Z){return Z<128?2*l*Z/255:255*(1-2*(1-l/255)*(1-Z/255))}))),Wb.darken=cb(hb((function(l,Z){return l>Z?Z:l}))),Wb.lighten=cb(hb((function(l,Z){return l>Z?l:Z}))),Wb.dodge=cb(hb((function(l,Z){return 255===l||(l=Z/255*255/(1-l/255))>255?255:l}))),Wb.burn=cb(hb((function(l,Z){return 255*(1-(1-Z/255)/(l/255))})));for(var Xb=Wb,Vb=c.type,ub=c.clip_rgb,Rb=c.TWOPI,Yb=Math.pow,ab=Math.sin,ib=Math.cos,nb=Math.floor,pb=Math.random,sb=Math.log,yb=Math.pow,Lb=Math.floor,tb=Math.abs,ob=function(l,Z){void 0===Z&&(Z=null);var b={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===m(l)&&(l=Object.values(l)),l.forEach((function(l){Z&&"object"===m(l)&&(l=l[Z]),null==l||isNaN(l)||(b.values.push(l),b.sum+=l,l<b.min&&(b.min=l),l>b.max&&(b.max=l),b.count+=1)})),b.domain=[b.min,b.max],b.limits=function(l,Z){return Fb(b,l,Z)},b},Fb=function(l,Z,b){void 0===Z&&(Z="equal"),void 0===b&&(b=7),"array"==m(l)&&(l=ob(l));var G=l.min,d=l.max,W=l.values.sort((function(l,Z){return l-Z}));if(1===b)return[G,d];var c=[];if("c"===Z.substr(0,1)&&(c.push(G),c.push(d)),"e"===Z.substr(0,1)){c.push(G);for(var h=1;h<b;h++)c.push(G+h/b*(d-G));c.push(d)}else if("l"===Z.substr(0,1)){if(G<=0)throw new Error("Logarithmic scales are only possible for values > 0");var X=Math.LOG10E*sb(G),V=Math.LOG10E*sb(d);c.push(G);for(var u=1;u<b;u++)c.push(yb(10,X+u/b*(V-X)));c.push(d)}else if("q"===Z.substr(0,1)){c.push(G);for(var R=1;R<b;R++){var Y=(W.length-1)*R/b,a=Lb(Y);if(a===Y)c.push(W[a]);else{var i=Y-a;c.push(W[a]*(1-i)+W[a+1]*i)}}c.push(d)}else if("k"===Z.substr(0,1)){var n,p=W.length,s=new Array(p),y=new Array(b),L=!0,t=0,o=null;(o=[]).push(G);for(var F=1;F<b;F++)o.push(G+F/b*(d-G));for(o.push(d);L;){for(var x=0;x<b;x++)y[x]=0;for(var S=0;S<p;S++)for(var J=W[S],I=Number.MAX_VALUE,N=void 0,K=0;K<b;K++){var k=tb(o[K]-J);k<I&&(I=k,N=K),y[N]++,s[S]=N}for(var e=new Array(b),U=0;U<b;U++)e[U]=null;for(var T=0;T<p;T++)null===e[n=s[T]]?e[n]=W[T]:e[n]+=W[T];for(var z=0;z<b;z++)e[z]*=1/y[z];L=!1;for(var C=0;C<b;C++)if(e[C]!==o[C]){L=!0;break}o=e,++t>200&&(L=!1)}for(var v={},E=0;E<b;E++)v[E]=[];for(var H=0;H<p;H++)v[n=s[H]].push(W[H]);for(var M=[],w=0;w<b;w++)M.push(v[w][0]),M.push(v[w][v[w].length-1]);M=M.sort((function(l,Z){return l-Z})),c.push(M[0]);for(var Q=1;Q<M.length;Q+=2){var B=M[Q];isNaN(B)||-1!==c.indexOf(B)||c.push(B)}}return c},xb={analyze:ob,limits:Fb},Sb=Math.sqrt,Jb=Math.atan2,Ib=Math.abs,Nb=Math.cos,Kb=Math.PI,kb={cool:function(){return Gb([i.hsl(180,1,.9),i.hsl(250,.7,.4)])},hot:function(){return Gb(["#000","#f00","#ff0","#fff"]).mode("rgb")}},eb={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Ub=0,Tb=Object.keys(eb);Ub<Tb.length;Ub+=1){var zb=Tb[Ub];eb[zb.toLowerCase()]=eb[zb]}var Cb=eb;return i.average=function(l,Z,b){void 0===Z&&(Z="lrgb"),void 0===b&&(b=null);var G=l.length;b||(b=Array.from(new Array(G)).map((function(){return 1})));var d=G/b.reduce((function(l,Z){return l+Z}));if(b.forEach((function(l,Z){b[Z]*=d})),l=l.map((function(l){return new Y(l)})),"lrgb"===Z)return lb(l,b);for(var m=l.shift(),W=m.get(Z),c=[],h=0,X=0,V=0;V<W.length;V++)if(W[V]=(W[V]||0)*b[0],c.push(isNaN(W[V])?0:b[0]),"h"===Z.charAt(V)&&!isNaN(W[V])){var u=W[V]/180*AZ;h+=qZ(u)*b[0],X+=_Z(u)*b[0]}var R=m.alpha()*b[0];l.forEach((function(l,G){var d=l.get(Z);R+=l.alpha()*b[G+1];for(var m=0;m<W.length;m++)if(!isNaN(d[m]))if(c[m]+=b[G+1],"h"===Z.charAt(m)){var V=d[m]/180*AZ;h+=qZ(V)*b[G+1],X+=_Z(V)*b[G+1]}else W[m]+=d[m]*b[G+1]}));for(var a=0;a<W.length;a++)if("h"===Z.charAt(a)){for(var i=$Z(X/c[a],h/c[a])/AZ*180;i<0;)i+=360;for(;i>=360;)i-=360;W[a]=i}else W[a]=W[a]/c[a];return R/=G,new Y(W,Z).alpha(R>.99999?1:R,!0)},i.bezier=function(l){var Z=mb(l);return Z.scale=function(){return Gb(Z)},Z},i.blend=Xb,i.cubehelix=function(l,Z,b,G,d){void 0===l&&(l=300),void 0===Z&&(Z=-1.5),void 0===b&&(b=1),void 0===G&&(G=1),void 0===d&&(d=[0,1]);var m,W=0;"array"===Vb(d)?m=d[1]-d[0]:(m=0,d=[d,d]);var c=function(c){var h=Rb*((l+120)/360+Z*c),X=Yb(d[0]+m*c,G),V=(0!==W?b[0]+c*W:b)*X*(1-X)/2,u=ib(h),R=ab(h);return i(ub([255*(X+V*(-.14861*u+1.78277*R)),255*(X+V*(-.29227*u-.90649*R)),255*(X+V*(1.97294*u)),1]))};return c.start=function(Z){return null==Z?l:(l=Z,c)},c.rotations=function(l){return null==l?Z:(Z=l,c)},c.gamma=function(l){return null==l?G:(G=l,c)},c.hue=function(l){return null==l?b:("array"===Vb(b=l)?0==(W=b[1]-b[0])&&(b=b[1]):W=0,c)},c.lightness=function(l){return null==l?d:("array"===Vb(l)?(d=l,m=l[1]-l[0]):(d=[l,l],m=0),c)},c.scale=function(){return i.scale(c)},c.hue(b),c},i.mix=i.interpolate=QZ,i.random=function(){for(var l="#",Z=0;Z<6;Z++)l+="0123456789abcdef".charAt(nb(16*pb()));return new Y(l,"hex")},i.scale=Gb,i.analyze=xb.analyze,i.contrast=function(l,Z){l=new Y(l),Z=new Y(Z);var b=l.luminance(),G=Z.luminance();return b>G?(b+.05)/(G+.05):(G+.05)/(b+.05)},i.deltaE=function(l,Z,b,G){void 0===b&&(b=1),void 0===G&&(G=1),l=new Y(l),Z=new Y(Z);for(var d=Array.from(l.lab()),m=d[0],W=d[1],c=d[2],h=Array.from(Z.lab()),X=h[0],V=h[1],u=h[2],R=Sb(W*W+c*c),a=Sb(V*V+u*u),i=m<16?.511:.040975*m/(1+.01765*m),n=.0638*R/(1+.0131*R)+.638,p=R<1e-6?0:180*Jb(c,W)/Kb;p<0;)p+=360;for(;p>=360;)p-=360;var s=p>=164&&p<=345?.56+Ib(.2*Nb(Kb*(p+168)/180)):.36+Ib(.4*Nb(Kb*(p+35)/180)),y=R*R*R*R,L=Sb(y/(y+1900)),t=n*(L*s+1-L),o=R-a,F=W-V,x=c-u,S=(m-X)/(b*i),J=o/(G*n);return Sb(S*S+J*J+(F*F+x*x-o*o)/(t*t))},i.distance=function(l,Z,b){void 0===b&&(b="lab"),l=new Y(l),Z=new Y(Z);var G=l.get(b),d=Z.get(b),m=0;for(var W in G){var c=(G[W]||0)-(d[W]||0);m+=c*c}return Math.sqrt(m)},i.limits=xb.limits,i.valid=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];try{return new(Function.prototype.bind.apply(Y,[null].concat(l))),!0}catch(l){return!1}},i.scales=kb,i.colors=yZ,i.brewer=Cb,i}()},function(l,Z){l.exports=__WEBPACK_EXTERNAL_MODULE__5__},function(l,Z,b){(function(b){var G,d;d=this,void 0===(G=function(){return d.Chartist=function(){var l={version:"0.11.4"};return function(l,Z){"use strict";var b=l.window,G=l.document;Z.namespaces={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",ct:"http://gionkunz.github.com/chartist-js/ct"},Z.noop=function(l){return l},Z.alphaNumerate=function(l){return String.fromCharCode(97+l%26)},Z.extend=function(l){var b,G,d;for(l=l||{},b=1;b<arguments.length;b++)for(var m in G=arguments[b])d=G[m],l[m]="object"!=typeof d||null===d||d instanceof Array?d:Z.extend(l[m],d);return l},Z.replaceAll=function(l,Z,b){return l.replace(new RegExp(Z,"g"),b)},Z.ensureUnit=function(l,Z){return"number"==typeof l&&(l+=Z),l},Z.quantity=function(l){if("string"==typeof l){var Z=/^(\d+)\s*(.*)$/g.exec(l);return{value:+Z[1],unit:Z[2]||void 0}}return{value:l}},Z.querySelector=function(l){return l instanceof Node?l:G.querySelector(l)},Z.times=function(l){return Array.apply(null,new Array(l))},Z.sum=function(l,Z){return l+(Z||0)},Z.mapMultiply=function(l){return function(Z){return Z*l}},Z.mapAdd=function(l){return function(Z){return Z+l}},Z.serialMap=function(l,b){var G=[],d=Math.max.apply(null,l.map((function(l){return l.length})));return Z.times(d).forEach((function(Z,d){var m=l.map((function(l){return l[d]}));G[d]=b.apply(null,m)})),G},Z.roundWithPrecision=function(l,b){var G=Math.pow(10,b||Z.precision);return Math.round(l*G)/G},Z.precision=8,Z.escapingMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"},Z.serialize=function(l){return null==l?l:("number"==typeof l?l=""+l:"object"==typeof l&&(l=JSON.stringify({data:l})),Object.keys(Z.escapingMap).reduce((function(l,b){return Z.replaceAll(l,b,Z.escapingMap[b])}),l))},Z.deserialize=function(l){if("string"!=typeof l)return l;l=Object.keys(Z.escapingMap).reduce((function(l,b){return Z.replaceAll(l,Z.escapingMap[b],b)}),l);try{l=void 0!==(l=JSON.parse(l)).data?l.data:l}catch(l){}return l},Z.createSvg=function(l,b,G,d){var m;return b=b||"100%",G=G||"100%",Array.prototype.slice.call(l.querySelectorAll("svg")).filter((function(l){return l.getAttributeNS(Z.namespaces.xmlns,"ct")})).forEach((function(Z){l.removeChild(Z)})),(m=new Z.Svg("svg").attr({width:b,height:G}).addClass(d))._node.style.width=b,m._node.style.height=G,l.appendChild(m._node),m},Z.normalizeData=function(l,b,G){var d,m={raw:l,normalized:{}};return m.normalized.series=Z.getDataArray({series:l.series||[]},b,G),d=m.normalized.series.every((function(l){return l instanceof Array}))?Math.max.apply(null,m.normalized.series.map((function(l){return l.length}))):m.normalized.series.length,m.normalized.labels=(l.labels||[]).slice(),Array.prototype.push.apply(m.normalized.labels,Z.times(Math.max(0,d-m.normalized.labels.length)).map((function(){return""}))),b&&Z.reverseData(m.normalized),m},Z.safeHasProperty=function(l,Z){return null!==l&&"object"==typeof l&&l.hasOwnProperty(Z)},Z.isDataHoleValue=function(l){return null==l||"number"==typeof l&&isNaN(l)},Z.reverseData=function(l){l.labels.reverse(),l.series.reverse();for(var Z=0;Z<l.series.length;Z++)"object"==typeof l.series[Z]&&void 0!==l.series[Z].data?l.series[Z].data.reverse():l.series[Z]instanceof Array&&l.series[Z].reverse()},Z.getDataArray=function(l,b,G){return l.series.map((function l(b){if(Z.safeHasProperty(b,"value"))return l(b.value);if(Z.safeHasProperty(b,"data"))return l(b.data);if(b instanceof Array)return b.map(l);if(!Z.isDataHoleValue(b)){if(G){var d={};return"string"==typeof G?d[G]=Z.getNumberOrUndefined(b):d.y=Z.getNumberOrUndefined(b),d.x=b.hasOwnProperty("x")?Z.getNumberOrUndefined(b.x):d.x,d.y=b.hasOwnProperty("y")?Z.getNumberOrUndefined(b.y):d.y,d}return Z.getNumberOrUndefined(b)}}))},Z.normalizePadding=function(l,Z){return Z=Z||0,"number"==typeof l?{top:l,right:l,bottom:l,left:l}:{top:"number"==typeof l.top?l.top:Z,right:"number"==typeof l.right?l.right:Z,bottom:"number"==typeof l.bottom?l.bottom:Z,left:"number"==typeof l.left?l.left:Z}},Z.getMetaData=function(l,Z){var b=l.data?l.data[Z]:l[Z];return b?b.meta:void 0},Z.orderOfMagnitude=function(l){return Math.floor(Math.log(Math.abs(l))/Math.LN10)},Z.projectLength=function(l,Z,b){return Z/b.range*l},Z.getAvailableHeight=function(l,b){return Math.max((Z.quantity(b.height).value||l.height())-(b.chartPadding.top+b.chartPadding.bottom)-b.axisX.offset,0)},Z.getHighLow=function(l,b,G){var d={high:void 0===(b=Z.extend({},b,G?b["axis"+G.toUpperCase()]:{})).high?-Number.MAX_VALUE:+b.high,low:void 0===b.low?Number.MAX_VALUE:+b.low},m=void 0===b.high,W=void 0===b.low;return(m||W)&&function l(Z){if(void 0!==Z)if(Z instanceof Array)for(var b=0;b<Z.length;b++)l(Z[b]);else{var c=G?+Z[G]:+Z;m&&c>d.high&&(d.high=c),W&&c<d.low&&(d.low=c)}}(l),(b.referenceValue||0===b.referenceValue)&&(d.high=Math.max(b.referenceValue,d.high),d.low=Math.min(b.referenceValue,d.low)),d.high<=d.low&&(0===d.low?d.high=1:d.low<0?d.high=0:(d.high>0||(d.high=1),d.low=0)),d},Z.isNumeric=function(l){return null!==l&&isFinite(l)},Z.isFalseyButZero=function(l){return!l&&0!==l},Z.getNumberOrUndefined=function(l){return Z.isNumeric(l)?+l:void 0},Z.isMultiValue=function(l){return"object"==typeof l&&("x"in l||"y"in l)},Z.getMultiValue=function(l,b){return Z.isMultiValue(l)?Z.getNumberOrUndefined(l[b||"y"]):Z.getNumberOrUndefined(l)},Z.rho=function(l){if(1===l)return l;function Z(l,b){return l%b==0?b:Z(b,l%b)}function b(l){return l*l+1}var G,d=2,m=2;if(l%2==0)return 2;do{d=b(d)%l,m=b(b(m))%l,G=Z(Math.abs(d-m),l)}while(1===G);return G},Z.getBounds=function(l,b,G,d){var m,W,c,h=0,X={high:b.high,low:b.low};X.valueRange=X.high-X.low,X.oom=Z.orderOfMagnitude(X.valueRange),X.step=Math.pow(10,X.oom),X.min=Math.floor(X.low/X.step)*X.step,X.max=Math.ceil(X.high/X.step)*X.step,X.range=X.max-X.min,X.numberOfSteps=Math.round(X.range/X.step);var V=Z.projectLength(l,X.step,X)<G,u=d?Z.rho(X.range):0;if(d&&Z.projectLength(l,1,X)>=G)X.step=1;else if(d&&u<X.step&&Z.projectLength(l,u,X)>=G)X.step=u;else for(;;){if(V&&Z.projectLength(l,X.step,X)<=G)X.step*=2;else{if(V||!(Z.projectLength(l,X.step/2,X)>=G))break;if(X.step/=2,d&&X.step%1!=0){X.step*=2;break}}if(h++>1e3)throw new Error("Exceeded maximum number of iterations while optimizing scale step!")}function R(l,Z){return l===(l+=Z)&&(l*=1+(Z>0?2221e-19:-2221e-19)),l}for(X.step=Math.max(X.step,2221e-19),W=X.min,c=X.max;W+X.step<=X.low;)W=R(W,X.step);for(;c-X.step>=X.high;)c=R(c,-X.step);X.min=W,X.max=c,X.range=X.max-X.min;var Y=[];for(m=X.min;m<=X.max;m=R(m,X.step)){var a=Z.roundWithPrecision(m);a!==Y[Y.length-1]&&Y.push(a)}return X.values=Y,X},Z.polarToCartesian=function(l,Z,b,G){var d=(G-90)*Math.PI/180;return{x:l+b*Math.cos(d),y:Z+b*Math.sin(d)}},Z.createChartRect=function(l,b,G){var d=!(!b.axisX&&!b.axisY),m=d?b.axisY.offset:0,W=d?b.axisX.offset:0,c=l.width()||Z.quantity(b.width).value||0,h=l.height()||Z.quantity(b.height).value||0,X=Z.normalizePadding(b.chartPadding,G);c=Math.max(c,m+X.left+X.right),h=Math.max(h,W+X.top+X.bottom);var V={padding:X,width:function(){return this.x2-this.x1},height:function(){return this.y1-this.y2}};return d?("start"===b.axisX.position?(V.y2=X.top+W,V.y1=Math.max(h-X.bottom,V.y2+1)):(V.y2=X.top,V.y1=Math.max(h-X.bottom-W,V.y2+1)),"start"===b.axisY.position?(V.x1=X.left+m,V.x2=Math.max(c-X.right,V.x1+1)):(V.x1=X.left,V.x2=Math.max(c-X.right-m,V.x1+1))):(V.x1=X.left,V.x2=Math.max(c-X.right,V.x1+1),V.y2=X.top,V.y1=Math.max(h-X.bottom,V.y2+1)),V},Z.createGrid=function(l,b,G,d,m,W,c,h){var X={};X[G.units.pos+"1"]=l,X[G.units.pos+"2"]=l,X[G.counterUnits.pos+"1"]=d,X[G.counterUnits.pos+"2"]=d+m;var V=W.elem("line",X,c.join(" "));h.emit("draw",Z.extend({type:"grid",axis:G,index:b,group:W,element:V},X))},Z.createGridBackground=function(l,Z,b,G){var d=l.elem("rect",{x:Z.x1,y:Z.y2,width:Z.width(),height:Z.height()},b,!0);G.emit("draw",{type:"gridBackground",group:l,element:d})},Z.createLabel=function(l,b,d,m,W,c,h,X,V,u,R){var Y,a={};if(a[W.units.pos]=l+h[W.units.pos],a[W.counterUnits.pos]=h[W.counterUnits.pos],a[W.units.len]=b,a[W.counterUnits.len]=Math.max(0,c-10),u){var i=G.createElement("span");i.className=V.join(" "),i.setAttribute("xmlns",Z.namespaces.xhtml),i.innerText=m[d],i.style[W.units.len]=Math.round(a[W.units.len])+"px",i.style[W.counterUnits.len]=Math.round(a[W.counterUnits.len])+"px",Y=X.foreignObject(i,Z.extend({style:"overflow: visible;"},a))}else Y=X.elem("text",a,V.join(" ")).text(m[d]);R.emit("draw",Z.extend({type:"label",axis:W,index:d,group:X,element:Y,text:m[d]},a))},Z.getSeriesOption=function(l,Z,b){if(l.name&&Z.series&&Z.series[l.name]){var G=Z.series[l.name];return G.hasOwnProperty(b)?G[b]:Z[b]}return Z[b]},Z.optionsProvider=function(l,G,d){var m,W,c=Z.extend({},l),h=[];function X(l){var h=m;if(m=Z.extend({},c),G)for(W=0;W<G.length;W++)b.matchMedia(G[W][0]).matches&&(m=Z.extend(m,G[W][1]));d&&l&&d.emit("optionsChanged",{previousOptions:h,currentOptions:m})}if(!b.matchMedia)throw"window.matchMedia not found! Make sure you're using a polyfill.";if(G)for(W=0;W<G.length;W++){var V=b.matchMedia(G[W][0]);V.addListener(X),h.push(V)}return X(),{removeMediaQueryListeners:function(){h.forEach((function(l){l.removeListener(X)}))},getCurrentOptions:function(){return Z.extend({},m)}}},Z.splitIntoSegments=function(l,b,G){G=Z.extend({},{increasingX:!1,fillHoles:!1},G);for(var d=[],m=!0,W=0;W<l.length;W+=2)void 0===Z.getMultiValue(b[W/2].value)?G.fillHoles||(m=!0):(G.increasingX&&W>=2&&l[W]<=l[W-2]&&(m=!0),m&&(d.push({pathCoordinates:[],valueData:[]}),m=!1),d[d.length-1].pathCoordinates.push(l[W],l[W+1]),d[d.length-1].valueData.push(b[W/2]));return d}}(this||b,l),function(l,Z){"use strict";Z.Interpolation={},Z.Interpolation.none=function(l){return l=Z.extend({},{fillHoles:!1},l),function(b,G){for(var d=new Z.Svg.Path,m=!0,W=0;W<b.length;W+=2){var c=b[W],h=b[W+1],X=G[W/2];void 0!==Z.getMultiValue(X.value)?(m?d.move(c,h,!1,X):d.line(c,h,!1,X),m=!1):l.fillHoles||(m=!0)}return d}},Z.Interpolation.simple=function(l){l=Z.extend({},{divisor:2,fillHoles:!1},l);var b=1/Math.max(1,l.divisor);return function(G,d){for(var m,W,c,h=new Z.Svg.Path,X=0;X<G.length;X+=2){var V=G[X],u=G[X+1],R=(V-m)*b,Y=d[X/2];void 0!==Y.value?(void 0===c?h.move(V,u,!1,Y):h.curve(m+R,W,V-R,u,V,u,!1,Y),m=V,W=u,c=Y):l.fillHoles||(m=V=c=void 0)}return h}},Z.Interpolation.cardinal=function(l){l=Z.extend({},{tension:1,fillHoles:!1},l);var b=Math.min(1,Math.max(0,l.tension)),G=1-b;return function d(m,W){var c=Z.splitIntoSegments(m,W,{fillHoles:l.fillHoles});if(c.length){if(c.length>1){var h=[];return c.forEach((function(l){h.push(d(l.pathCoordinates,l.valueData))})),Z.Svg.Path.join(h)}if(m=c[0].pathCoordinates,W=c[0].valueData,m.length<=4)return Z.Interpolation.none()(m,W);for(var X=(new Z.Svg.Path).move(m[0],m[1],!1,W[0]),V=0,u=m.length;u-2>V;V+=2){var R=[{x:+m[V-2],y:+m[V-1]},{x:+m[V],y:+m[V+1]},{x:+m[V+2],y:+m[V+3]},{x:+m[V+4],y:+m[V+5]}];u-4===V?R[3]=R[2]:V||(R[0]={x:+m[V],y:+m[V+1]}),X.curve(b*(-R[0].x+6*R[1].x+R[2].x)/6+G*R[2].x,b*(-R[0].y+6*R[1].y+R[2].y)/6+G*R[2].y,b*(R[1].x+6*R[2].x-R[3].x)/6+G*R[2].x,b*(R[1].y+6*R[2].y-R[3].y)/6+G*R[2].y,R[2].x,R[2].y,!1,W[(V+2)/2])}return X}return Z.Interpolation.none()([])}},Z.Interpolation.monotoneCubic=function(l){return l=Z.extend({},{fillHoles:!1},l),function b(G,d){var m=Z.splitIntoSegments(G,d,{fillHoles:l.fillHoles,increasingX:!0});if(m.length){if(m.length>1){var W=[];return m.forEach((function(l){W.push(b(l.pathCoordinates,l.valueData))})),Z.Svg.Path.join(W)}if(G=m[0].pathCoordinates,d=m[0].valueData,G.length<=4)return Z.Interpolation.none()(G,d);var c,h,X=[],V=[],u=G.length/2,R=[],Y=[],a=[],i=[];for(c=0;c<u;c++)X[c]=G[2*c],V[c]=G[2*c+1];for(c=0;c<u-1;c++)a[c]=V[c+1]-V[c],i[c]=X[c+1]-X[c],Y[c]=a[c]/i[c];for(R[0]=Y[0],R[u-1]=Y[u-2],c=1;c<u-1;c++)0===Y[c]||0===Y[c-1]||Y[c-1]>0!=Y[c]>0?R[c]=0:(R[c]=3*(i[c-1]+i[c])/((2*i[c]+i[c-1])/Y[c-1]+(i[c]+2*i[c-1])/Y[c]),isFinite(R[c])||(R[c]=0));for(h=(new Z.Svg.Path).move(X[0],V[0],!1,d[0]),c=0;c<u-1;c++)h.curve(X[c]+i[c]/3,V[c]+R[c]*i[c]/3,X[c+1]-i[c]/3,V[c+1]-R[c+1]*i[c]/3,X[c+1],V[c+1],!1,d[c+1]);return h}return Z.Interpolation.none()([])}},Z.Interpolation.step=function(l){return l=Z.extend({},{postpone:!0,fillHoles:!1},l),function(b,G){for(var d,m,W,c=new Z.Svg.Path,h=0;h<b.length;h+=2){var X=b[h],V=b[h+1],u=G[h/2];void 0!==u.value?(void 0===W?c.move(X,V,!1,u):(l.postpone?c.line(X,m,!1,W):c.line(d,V,!1,u),c.line(X,V,!1,u)),d=X,m=V,W=u):l.fillHoles||(d=m=W=void 0)}return c}}}(0,l),function(l,Z){"use strict";Z.EventEmitter=function(){var l=[];return{addEventHandler:function(Z,b){l[Z]=l[Z]||[],l[Z].push(b)},removeEventHandler:function(Z,b){l[Z]&&(b?(l[Z].splice(l[Z].indexOf(b),1),0===l[Z].length&&delete l[Z]):delete l[Z])},emit:function(Z,b){l[Z]&&l[Z].forEach((function(l){l(b)})),l["*"]&&l["*"].forEach((function(l){l(Z,b)}))}}}}(0,l),function(l,Z){"use strict";function b(l){var Z=[];if(l.length)for(var b=0;b<l.length;b++)Z.push(l[b]);return Z}Z.Class={extend:function(l,b){var G=b||this.prototype||Z.Class,d=Object.create(G);Z.Class.cloneDefinitions(d,l);var m=function(){var l,b=d.constructor||function(){};return l=this===Z?Object.create(d):this,b.apply(l,Array.prototype.slice.call(arguments,0)),l};return m.prototype=d,m.super=G,m.extend=this.extend,m},cloneDefinitions:function(){var l=b(arguments),Z=l[0];return l.splice(1,l.length-1).forEach((function(l){Object.getOwnPropertyNames(l).forEach((function(b){delete Z[b],Object.defineProperty(Z,b,Object.getOwnPropertyDescriptor(l,b))}))})),Z}}}(0,l),function(l,Z){"use strict";var b=l.window;function G(){b.addEventListener("resize",this.resizeListener),this.optionsProvider=Z.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter),this.eventEmitter.addEventHandler("optionsChanged",function(){this.update()}.bind(this)),this.options.plugins&&this.options.plugins.forEach(function(l){l instanceof Array?l[0](this,l[1]):l(this)}.bind(this)),this.eventEmitter.emit("data",{type:"initial",data:this.data}),this.createChart(this.optionsProvider.getCurrentOptions()),this.initializeTimeoutId=void 0}Z.Base=Z.Class.extend({constructor:function(l,b,d,m,W){this.container=Z.querySelector(l),this.data=b||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.defaultOptions=d,this.options=m,this.responsiveOptions=W,this.eventEmitter=Z.EventEmitter(),this.supportsForeignObject=Z.Svg.isSupported("Extensibility"),this.supportsAnimations=Z.Svg.isSupported("AnimationEventsAttribute"),this.resizeListener=function(){this.update()}.bind(this),this.container&&(this.container.__chartist__&&this.container.__chartist__.detach(),this.container.__chartist__=this),this.initializeTimeoutId=setTimeout(G.bind(this),0)},optionsProvider:void 0,container:void 0,svg:void 0,eventEmitter:void 0,createChart:function(){throw new Error("Base chart type can't be instantiated!")},update:function(l,b,G){return l&&(this.data=l||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.eventEmitter.emit("data",{type:"update",data:this.data})),b&&(this.options=Z.extend({},G?this.options:this.defaultOptions,b),this.initializeTimeoutId||(this.optionsProvider.removeMediaQueryListeners(),this.optionsProvider=Z.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter))),this.initializeTimeoutId||this.createChart(this.optionsProvider.getCurrentOptions()),this},detach:function(){return this.initializeTimeoutId?b.clearTimeout(this.initializeTimeoutId):(b.removeEventListener("resize",this.resizeListener),this.optionsProvider.removeMediaQueryListeners()),this},on:function(l,Z){return this.eventEmitter.addEventHandler(l,Z),this},off:function(l,Z){return this.eventEmitter.removeEventHandler(l,Z),this},version:Z.version,supportsForeignObject:!1})}(this||b,l),function(l,Z){"use strict";var b=l.document;Z.Svg=Z.Class.extend({constructor:function(l,G,d,m,W){l instanceof Element?this._node=l:(this._node=b.createElementNS(Z.namespaces.svg,l),"svg"===l&&this.attr({"xmlns:ct":Z.namespaces.ct})),G&&this.attr(G),d&&this.addClass(d),m&&(W&&m._node.firstChild?m._node.insertBefore(this._node,m._node.firstChild):m._node.appendChild(this._node))},attr:function(l,b){return"string"==typeof l?b?this._node.getAttributeNS(b,l):this._node.getAttribute(l):(Object.keys(l).forEach(function(b){if(void 0!==l[b])if(-1!==b.indexOf(":")){var G=b.split(":");this._node.setAttributeNS(Z.namespaces[G[0]],b,l[b])}else this._node.setAttribute(b,l[b])}.bind(this)),this)},elem:function(l,b,G,d){return new Z.Svg(l,b,G,this,d)},parent:function(){return this._node.parentNode instanceof SVGElement?new Z.Svg(this._node.parentNode):null},root:function(){for(var l=this._node;"svg"!==l.nodeName;)l=l.parentNode;return new Z.Svg(l)},querySelector:function(l){var b=this._node.querySelector(l);return b?new Z.Svg(b):null},querySelectorAll:function(l){var b=this._node.querySelectorAll(l);return b.length?new Z.Svg.List(b):null},getNode:function(){return this._node},foreignObject:function(l,G,d,m){if("string"==typeof l){var W=b.createElement("div");W.innerHTML=l,l=W.firstChild}l.setAttribute("xmlns",Z.namespaces.xmlns);var c=this.elem("foreignObject",G,d,m);return c._node.appendChild(l),c},text:function(l){return this._node.appendChild(b.createTextNode(l)),this},empty:function(){for(;this._node.firstChild;)this._node.removeChild(this._node.firstChild);return this},remove:function(){return this._node.parentNode.removeChild(this._node),this.parent()},replace:function(l){return this._node.parentNode.replaceChild(l._node,this._node),l},append:function(l,Z){return Z&&this._node.firstChild?this._node.insertBefore(l._node,this._node.firstChild):this._node.appendChild(l._node),this},classes:function(){return this._node.getAttribute("class")?this._node.getAttribute("class").trim().split(/\s+/):[]},addClass:function(l){return this._node.setAttribute("class",this.classes(this._node).concat(l.trim().split(/\s+/)).filter((function(l,Z,b){return b.indexOf(l)===Z})).join(" ")),this},removeClass:function(l){var Z=l.trim().split(/\s+/);return this._node.setAttribute("class",this.classes(this._node).filter((function(l){return-1===Z.indexOf(l)})).join(" ")),this},removeAllClasses:function(){return this._node.setAttribute("class",""),this},height:function(){return this._node.getBoundingClientRect().height},width:function(){return this._node.getBoundingClientRect().width},animate:function(l,b,G){return void 0===b&&(b=!0),Object.keys(l).forEach(function(d){function m(l,b){var m,W,c,h={};l.easing&&(c=l.easing instanceof Array?l.easing:Z.Svg.Easing[l.easing],delete l.easing),l.begin=Z.ensureUnit(l.begin,"ms"),l.dur=Z.ensureUnit(l.dur,"ms"),c&&(l.calcMode="spline",l.keySplines=c.join(" "),l.keyTimes="0;1"),b&&(l.fill="freeze",h[d]=l.from,this.attr(h),W=Z.quantity(l.begin||0).value,l.begin="indefinite"),m=this.elem("animate",Z.extend({attributeName:d},l)),b&&setTimeout(function(){try{m._node.beginElement()}catch(Z){h[d]=l.to,this.attr(h),m.remove()}}.bind(this),W),G&&m._node.addEventListener("beginEvent",function(){G.emit("animationBegin",{element:this,animate:m._node,params:l})}.bind(this)),m._node.addEventListener("endEvent",function(){G&&G.emit("animationEnd",{element:this,animate:m._node,params:l}),b&&(h[d]=l.to,this.attr(h),m.remove())}.bind(this))}l[d]instanceof Array?l[d].forEach(function(l){m.bind(this)(l,!1)}.bind(this)):m.bind(this)(l[d],b)}.bind(this)),this}}),Z.Svg.isSupported=function(l){return b.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#"+l,"1.1")},Z.Svg.Easing={easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:[.445,.05,.55,.95],easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]},Z.Svg.List=Z.Class.extend({constructor:function(l){var b=this;this.svgElements=[];for(var G=0;G<l.length;G++)this.svgElements.push(new Z.Svg(l[G]));Object.keys(Z.Svg.prototype).filter((function(l){return-1===["constructor","parent","querySelector","querySelectorAll","replace","append","classes","height","width"].indexOf(l)})).forEach((function(l){b[l]=function(){var G=Array.prototype.slice.call(arguments,0);return b.svgElements.forEach((function(b){Z.Svg.prototype[l].apply(b,G)})),b}}))}})}(this||b,l),function(l,Z){"use strict";var b={m:["x","y"],l:["x","y"],c:["x1","y1","x2","y2","x","y"],a:["rx","ry","xAr","lAf","sf","x","y"]},G={accuracy:3};function d(l,b,G,d,m,W){var c=Z.extend({command:m?l.toLowerCase():l.toUpperCase()},b,W?{data:W}:{});G.splice(d,0,c)}function m(l,Z){l.forEach((function(G,d){b[G.command.toLowerCase()].forEach((function(b,m){Z(G,b,d,m,l)}))}))}Z.Svg.Path=Z.Class.extend({constructor:function(l,b){this.pathElements=[],this.pos=0,this.close=l,this.options=Z.extend({},G,b)},position:function(l){return void 0!==l?(this.pos=Math.max(0,Math.min(this.pathElements.length,l)),this):this.pos},remove:function(l){return this.pathElements.splice(this.pos,l),this},move:function(l,Z,b,G){return d("M",{x:+l,y:+Z},this.pathElements,this.pos++,b,G),this},line:function(l,Z,b,G){return d("L",{x:+l,y:+Z},this.pathElements,this.pos++,b,G),this},curve:function(l,Z,b,G,m,W,c,h){return d("C",{x1:+l,y1:+Z,x2:+b,y2:+G,x:+m,y:+W},this.pathElements,this.pos++,c,h),this},arc:function(l,Z,b,G,m,W,c,h,X){return d("A",{rx:+l,ry:+Z,xAr:+b,lAf:+G,sf:+m,x:+W,y:+c},this.pathElements,this.pos++,h,X),this},scale:function(l,Z){return m(this.pathElements,(function(b,G){b[G]*="x"===G[0]?l:Z})),this},translate:function(l,Z){return m(this.pathElements,(function(b,G){b[G]+="x"===G[0]?l:Z})),this},transform:function(l){return m(this.pathElements,(function(Z,b,G,d,m){var W=l(Z,b,G,d,m);(W||0===W)&&(Z[b]=W)})),this},parse:function(l){var G=l.replace(/([A-Za-z])([0-9])/g,"$1 $2").replace(/([0-9])([A-Za-z])/g,"$1 $2").split(/[\s,]+/).reduce((function(l,Z){return Z.match(/[A-Za-z]/)&&l.push([]),l[l.length-1].push(Z),l}),[]);"Z"===G[G.length-1][0].toUpperCase()&&G.pop();var d=G.map((function(l){var G=l.shift(),d=b[G.toLowerCase()];return Z.extend({command:G},d.reduce((function(Z,b,G){return Z[b]=+l[G],Z}),{}))})),m=[this.pos,0];return Array.prototype.push.apply(m,d),Array.prototype.splice.apply(this.pathElements,m),this.pos+=d.length,this},stringify:function(){var l=Math.pow(10,this.options.accuracy);return this.pathElements.reduce(function(Z,G){var d=b[G.command.toLowerCase()].map(function(Z){return this.options.accuracy?Math.round(G[Z]*l)/l:G[Z]}.bind(this));return Z+G.command+d.join(",")}.bind(this),"")+(this.close?"Z":"")},clone:function(l){var b=new Z.Svg.Path(l||this.close);return b.pos=this.pos,b.pathElements=this.pathElements.slice().map((function(l){return Z.extend({},l)})),b.options=Z.extend({},this.options),b},splitByCommand:function(l){var b=[new Z.Svg.Path];return this.pathElements.forEach((function(G){G.command===l.toUpperCase()&&0!==b[b.length-1].pathElements.length&&b.push(new Z.Svg.Path),b[b.length-1].pathElements.push(G)})),b}}),Z.Svg.Path.elementDescriptions=b,Z.Svg.Path.join=function(l,b,G){for(var d=new Z.Svg.Path(b,G),m=0;m<l.length;m++)for(var W=l[m],c=0;c<W.pathElements.length;c++)d.pathElements.push(W.pathElements[c]);return d}}(0,l),function(l,Z){"use strict";l.window,l.document;var b={x:{pos:"x",len:"width",dir:"horizontal",rectStart:"x1",rectEnd:"x2",rectOffset:"y2"},y:{pos:"y",len:"height",dir:"vertical",rectStart:"y2",rectEnd:"y1",rectOffset:"x1"}};Z.Axis=Z.Class.extend({constructor:function(l,Z,G,d){this.units=l,this.counterUnits=l===b.x?b.y:b.x,this.chartRect=Z,this.axisLength=Z[l.rectEnd]-Z[l.rectStart],this.gridOffset=Z[l.rectOffset],this.ticks=G,this.options=d},createGridAndLabels:function(l,b,G,d,m){var W=d["axis"+this.units.pos.toUpperCase()],c=this.ticks.map(this.projectValue.bind(this)),h=this.ticks.map(W.labelInterpolationFnc);c.forEach(function(X,V){var u,R={x:0,y:0};u=c[V+1]?c[V+1]-X:Math.max(this.axisLength-X,30),Z.isFalseyButZero(h[V])&&""!==h[V]||("x"===this.units.pos?(X=this.chartRect.x1+X,R.x=d.axisX.labelOffset.x,"start"===d.axisX.position?R.y=this.chartRect.padding.top+d.axisX.labelOffset.y+(G?5:20):R.y=this.chartRect.y1+d.axisX.labelOffset.y+(G?5:20)):(X=this.chartRect.y1-X,R.y=d.axisY.labelOffset.y-(G?u:0),"start"===d.axisY.position?R.x=G?this.chartRect.padding.left+d.axisY.labelOffset.x:this.chartRect.x1-10:R.x=this.chartRect.x2+d.axisY.labelOffset.x+10),W.showGrid&&Z.createGrid(X,V,this,this.gridOffset,this.chartRect[this.counterUnits.len](),l,[d.classNames.grid,d.classNames[this.units.dir]],m),W.showLabel&&Z.createLabel(X,u,V,h,this,W.offset,R,b,[d.classNames.label,d.classNames[this.units.dir],"start"===W.position?d.classNames[W.position]:d.classNames.end],G,m))}.bind(this))},projectValue:function(l,Z,b){throw new Error("Base axis can't be instantiated!")}}),Z.Axis.units=b}(this||b,l),function(l,Z){"use strict";l.window,l.document,Z.AutoScaleAxis=Z.Axis.extend({constructor:function(l,b,G,d){var m=d.highLow||Z.getHighLow(b,d,l.pos);this.bounds=Z.getBounds(G[l.rectEnd]-G[l.rectStart],m,d.scaleMinSpace||20,d.onlyInteger),this.range={min:this.bounds.min,max:this.bounds.max},Z.AutoScaleAxis.super.constructor.call(this,l,G,this.bounds.values,d)},projectValue:function(l){return this.axisLength*(+Z.getMultiValue(l,this.units.pos)-this.bounds.min)/this.bounds.range}})}(this||b,l),function(l,Z){"use strict";l.window,l.document,Z.FixedScaleAxis=Z.Axis.extend({constructor:function(l,b,G,d){var m=d.highLow||Z.getHighLow(b,d,l.pos);this.divisor=d.divisor||1,this.ticks=d.ticks||Z.times(this.divisor).map(function(l,Z){return m.low+(m.high-m.low)/this.divisor*Z}.bind(this)),this.ticks.sort((function(l,Z){return l-Z})),this.range={min:m.low,max:m.high},Z.FixedScaleAxis.super.constructor.call(this,l,G,this.ticks,d),this.stepLength=this.axisLength/this.divisor},projectValue:function(l){return this.axisLength*(+Z.getMultiValue(l,this.units.pos)-this.range.min)/(this.range.max-this.range.min)}})}(this||b,l),function(l,Z){"use strict";l.window,l.document,Z.StepAxis=Z.Axis.extend({constructor:function(l,b,G,d){Z.StepAxis.super.constructor.call(this,l,G,d.ticks,d);var m=Math.max(1,d.ticks.length-(d.stretch?1:0));this.stepLength=this.axisLength/m},projectValue:function(l,Z){return this.stepLength*Z}})}(this||b,l),function(l,Z){"use strict";l.window,l.document;var b={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:Z.noop,type:void 0},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:Z.noop,type:void 0,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,showLine:!0,showPoint:!0,showArea:!1,areaBase:0,lineSmooth:!0,showGridBackground:!1,low:void 0,high:void 0,chartPadding:{top:15,right:15,bottom:5,left:10},fullWidth:!1,reverseData:!1,classNames:{chart:"ct-chart-line",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",line:"ct-line",point:"ct-point",area:"ct-area",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};Z.Line=Z.Base.extend({constructor:function(l,G,d,m){Z.Line.super.constructor.call(this,l,G,b,Z.extend({},b,d),m)},createChart:function(l){var G=Z.normalizeData(this.data,l.reverseData,!0);this.svg=Z.createSvg(this.container,l.width,l.height,l.classNames.chart);var d,m,W=this.svg.elem("g").addClass(l.classNames.gridGroup),c=this.svg.elem("g"),h=this.svg.elem("g").addClass(l.classNames.labelGroup),X=Z.createChartRect(this.svg,l,b.padding);d=void 0===l.axisX.type?new Z.StepAxis(Z.Axis.units.x,G.normalized.series,X,Z.extend({},l.axisX,{ticks:G.normalized.labels,stretch:l.fullWidth})):l.axisX.type.call(Z,Z.Axis.units.x,G.normalized.series,X,l.axisX),m=void 0===l.axisY.type?new Z.AutoScaleAxis(Z.Axis.units.y,G.normalized.series,X,Z.extend({},l.axisY,{high:Z.isNumeric(l.high)?l.high:l.axisY.high,low:Z.isNumeric(l.low)?l.low:l.axisY.low})):l.axisY.type.call(Z,Z.Axis.units.y,G.normalized.series,X,l.axisY),d.createGridAndLabels(W,h,this.supportsForeignObject,l,this.eventEmitter),m.createGridAndLabels(W,h,this.supportsForeignObject,l,this.eventEmitter),l.showGridBackground&&Z.createGridBackground(W,X,l.classNames.gridBackground,this.eventEmitter),G.raw.series.forEach(function(b,W){var h=c.elem("g");h.attr({"ct:series-name":b.name,"ct:meta":Z.serialize(b.meta)}),h.addClass([l.classNames.series,b.className||l.classNames.series+"-"+Z.alphaNumerate(W)].join(" "));var V=[],u=[];G.normalized.series[W].forEach(function(l,c){var h={x:X.x1+d.projectValue(l,c,G.normalized.series[W]),y:X.y1-m.projectValue(l,c,G.normalized.series[W])};V.push(h.x,h.y),u.push({value:l,valueIndex:c,meta:Z.getMetaData(b,c)})}.bind(this));var R={lineSmooth:Z.getSeriesOption(b,l,"lineSmooth"),showPoint:Z.getSeriesOption(b,l,"showPoint"),showLine:Z.getSeriesOption(b,l,"showLine"),showArea:Z.getSeriesOption(b,l,"showArea"),areaBase:Z.getSeriesOption(b,l,"areaBase")},Y=("function"==typeof R.lineSmooth?R.lineSmooth:R.lineSmooth?Z.Interpolation.monotoneCubic():Z.Interpolation.none())(V,u);if(R.showPoint&&Y.pathElements.forEach(function(G){var c=h.elem("line",{x1:G.x,y1:G.y,x2:G.x+.01,y2:G.y},l.classNames.point).attr({"ct:value":[G.data.value.x,G.data.value.y].filter(Z.isNumeric).join(","),"ct:meta":Z.serialize(G.data.meta)});this.eventEmitter.emit("draw",{type:"point",value:G.data.value,index:G.data.valueIndex,meta:G.data.meta,series:b,seriesIndex:W,axisX:d,axisY:m,group:h,element:c,x:G.x,y:G.y})}.bind(this)),R.showLine){var a=h.elem("path",{d:Y.stringify()},l.classNames.line,!0);this.eventEmitter.emit("draw",{type:"line",values:G.normalized.series[W],path:Y.clone(),chartRect:X,index:W,series:b,seriesIndex:W,seriesMeta:b.meta,axisX:d,axisY:m,group:h,element:a})}if(R.showArea&&m.range){var i=Math.max(Math.min(R.areaBase,m.range.max),m.range.min),n=X.y1-m.projectValue(i);Y.splitByCommand("M").filter((function(l){return l.pathElements.length>1})).map((function(l){var Z=l.pathElements[0],b=l.pathElements[l.pathElements.length-1];return l.clone(!0).position(0).remove(1).move(Z.x,n).line(Z.x,Z.y).position(l.pathElements.length+1).line(b.x,n)})).forEach(function(Z){var c=h.elem("path",{d:Z.stringify()},l.classNames.area,!0);this.eventEmitter.emit("draw",{type:"area",values:G.normalized.series[W],path:Z.clone(),series:b,seriesIndex:W,axisX:d,axisY:m,chartRect:X,index:W,group:h,element:c})}.bind(this))}}.bind(this)),this.eventEmitter.emit("created",{bounds:m.bounds,chartRect:X,axisX:d,axisY:m,svg:this.svg,options:l})}})}(this||b,l),function(l,Z){"use strict";l.window,l.document;var b={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:Z.noop,scaleMinSpace:30,onlyInteger:!1},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:Z.noop,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,high:void 0,low:void 0,referenceValue:0,chartPadding:{top:15,right:15,bottom:5,left:10},seriesBarDistance:15,stackBars:!1,stackMode:"accumulate",horizontalBars:!1,distributeSeries:!1,reverseData:!1,showGridBackground:!1,classNames:{chart:"ct-chart-bar",horizontalBars:"ct-horizontal-bars",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",bar:"ct-bar",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};Z.Bar=Z.Base.extend({constructor:function(l,G,d,m){Z.Bar.super.constructor.call(this,l,G,b,Z.extend({},b,d),m)},createChart:function(l){var G,d;l.distributeSeries?(G=Z.normalizeData(this.data,l.reverseData,l.horizontalBars?"x":"y")).normalized.series=G.normalized.series.map((function(l){return[l]})):G=Z.normalizeData(this.data,l.reverseData,l.horizontalBars?"x":"y"),this.svg=Z.createSvg(this.container,l.width,l.height,l.classNames.chart+(l.horizontalBars?" "+l.classNames.horizontalBars:""));var m=this.svg.elem("g").addClass(l.classNames.gridGroup),W=this.svg.elem("g"),c=this.svg.elem("g").addClass(l.classNames.labelGroup);if(l.stackBars&&0!==G.normalized.series.length){var h=Z.serialMap(G.normalized.series,(function(){return Array.prototype.slice.call(arguments).map((function(l){return l})).reduce((function(l,Z){return{x:l.x+(Z&&Z.x)||0,y:l.y+(Z&&Z.y)||0}}),{x:0,y:0})}));d=Z.getHighLow([h],l,l.horizontalBars?"x":"y")}else d=Z.getHighLow(G.normalized.series,l,l.horizontalBars?"x":"y");d.high=+l.high||(0===l.high?0:d.high),d.low=+l.low||(0===l.low?0:d.low);var X,V,u,R,Y,a=Z.createChartRect(this.svg,l,b.padding);V=l.distributeSeries&&l.stackBars?G.normalized.labels.slice(0,1):G.normalized.labels,l.horizontalBars?(X=R=void 0===l.axisX.type?new Z.AutoScaleAxis(Z.Axis.units.x,G.normalized.series,a,Z.extend({},l.axisX,{highLow:d,referenceValue:0})):l.axisX.type.call(Z,Z.Axis.units.x,G.normalized.series,a,Z.extend({},l.axisX,{highLow:d,referenceValue:0})),u=Y=void 0===l.axisY.type?new Z.StepAxis(Z.Axis.units.y,G.normalized.series,a,{ticks:V}):l.axisY.type.call(Z,Z.Axis.units.y,G.normalized.series,a,l.axisY)):(u=R=void 0===l.axisX.type?new Z.StepAxis(Z.Axis.units.x,G.normalized.series,a,{ticks:V}):l.axisX.type.call(Z,Z.Axis.units.x,G.normalized.series,a,l.axisX),X=Y=void 0===l.axisY.type?new Z.AutoScaleAxis(Z.Axis.units.y,G.normalized.series,a,Z.extend({},l.axisY,{highLow:d,referenceValue:0})):l.axisY.type.call(Z,Z.Axis.units.y,G.normalized.series,a,Z.extend({},l.axisY,{highLow:d,referenceValue:0})));var i=l.horizontalBars?a.x1+X.projectValue(0):a.y1-X.projectValue(0),n=[];u.createGridAndLabels(m,c,this.supportsForeignObject,l,this.eventEmitter),X.createGridAndLabels(m,c,this.supportsForeignObject,l,this.eventEmitter),l.showGridBackground&&Z.createGridBackground(m,a,l.classNames.gridBackground,this.eventEmitter),G.raw.series.forEach(function(b,d){var m,c,h=d-(G.raw.series.length-1)/2;m=l.distributeSeries&&!l.stackBars?u.axisLength/G.normalized.series.length/2:l.distributeSeries&&l.stackBars?u.axisLength/2:u.axisLength/G.normalized.series[d].length/2,(c=W.elem("g")).attr({"ct:series-name":b.name,"ct:meta":Z.serialize(b.meta)}),c.addClass([l.classNames.series,b.className||l.classNames.series+"-"+Z.alphaNumerate(d)].join(" ")),G.normalized.series[d].forEach(function(W,V){var p,s,y,L;if(L=l.distributeSeries&&!l.stackBars?d:l.distributeSeries&&l.stackBars?0:V,p=l.horizontalBars?{x:a.x1+X.projectValue(W&&W.x?W.x:0,V,G.normalized.series[d]),y:a.y1-u.projectValue(W&&W.y?W.y:0,L,G.normalized.series[d])}:{x:a.x1+u.projectValue(W&&W.x?W.x:0,L,G.normalized.series[d]),y:a.y1-X.projectValue(W&&W.y?W.y:0,V,G.normalized.series[d])},u instanceof Z.StepAxis&&(u.options.stretch||(p[u.units.pos]+=m*(l.horizontalBars?-1:1)),p[u.units.pos]+=l.stackBars||l.distributeSeries?0:h*l.seriesBarDistance*(l.horizontalBars?-1:1)),y=n[V]||i,n[V]=y-(i-p[u.counterUnits.pos]),void 0!==W){var t={};t[u.units.pos+"1"]=p[u.units.pos],t[u.units.pos+"2"]=p[u.units.pos],!l.stackBars||"accumulate"!==l.stackMode&&l.stackMode?(t[u.counterUnits.pos+"1"]=i,t[u.counterUnits.pos+"2"]=p[u.counterUnits.pos]):(t[u.counterUnits.pos+"1"]=y,t[u.counterUnits.pos+"2"]=n[V]),t.x1=Math.min(Math.max(t.x1,a.x1),a.x2),t.x2=Math.min(Math.max(t.x2,a.x1),a.x2),t.y1=Math.min(Math.max(t.y1,a.y2),a.y1),t.y2=Math.min(Math.max(t.y2,a.y2),a.y1);var o=Z.getMetaData(b,V);s=c.elem("line",t,l.classNames.bar).attr({"ct:value":[W.x,W.y].filter(Z.isNumeric).join(","),"ct:meta":Z.serialize(o)}),this.eventEmitter.emit("draw",Z.extend({type:"bar",value:W,index:V,meta:o,series:b,seriesIndex:d,axisX:R,axisY:Y,chartRect:a,group:c,element:s},t))}}.bind(this))}.bind(this)),this.eventEmitter.emit("created",{bounds:X.bounds,chartRect:a,axisX:R,axisY:Y,svg:this.svg,options:l})}})}(this||b,l),function(l,Z){"use strict";l.window,l.document;var b={width:void 0,height:void 0,chartPadding:5,classNames:{chartPie:"ct-chart-pie",chartDonut:"ct-chart-donut",series:"ct-series",slicePie:"ct-slice-pie",sliceDonut:"ct-slice-donut",sliceDonutSolid:"ct-slice-donut-solid",label:"ct-label"},startAngle:0,total:void 0,donut:!1,donutSolid:!1,donutWidth:60,showLabel:!0,labelOffset:0,labelPosition:"inside",labelInterpolationFnc:Z.noop,labelDirection:"neutral",reverseData:!1,ignoreEmptyValues:!1};function G(l,Z,b){var G=Z.x>l.x;return G&&"explode"===b||!G&&"implode"===b?"start":G&&"implode"===b||!G&&"explode"===b?"end":"middle"}Z.Pie=Z.Base.extend({constructor:function(l,G,d,m){Z.Pie.super.constructor.call(this,l,G,b,Z.extend({},b,d),m)},createChart:function(l){var d,m,W,c,h,X=Z.normalizeData(this.data),V=[],u=l.startAngle;this.svg=Z.createSvg(this.container,l.width,l.height,l.donut?l.classNames.chartDonut:l.classNames.chartPie),m=Z.createChartRect(this.svg,l,b.padding),W=Math.min(m.width()/2,m.height()/2),h=l.total||X.normalized.series.reduce((function(l,Z){return l+Z}),0);var R=Z.quantity(l.donutWidth);"%"===R.unit&&(R.value*=W/100),W-=l.donut&&!l.donutSolid?R.value/2:0,c="outside"===l.labelPosition||l.donut&&!l.donutSolid?W:"center"===l.labelPosition?0:l.donutSolid?W-R.value/2:W/2,c+=l.labelOffset;var Y={x:m.x1+m.width()/2,y:m.y2+m.height()/2},a=1===X.raw.series.filter((function(l){return l.hasOwnProperty("value")?0!==l.value:0!==l})).length;X.raw.series.forEach(function(l,Z){V[Z]=this.svg.elem("g",null,null)}.bind(this)),l.showLabel&&(d=this.svg.elem("g",null,null)),X.raw.series.forEach(function(b,m){if(0!==X.normalized.series[m]||!l.ignoreEmptyValues){V[m].attr({"ct:series-name":b.name}),V[m].addClass([l.classNames.series,b.className||l.classNames.series+"-"+Z.alphaNumerate(m)].join(" "));var i=h>0?u+X.normalized.series[m]/h*360:0,n=Math.max(0,u-(0===m||a?0:.2));i-n>=359.99&&(i=n+359.99);var p,s,y,L=Z.polarToCartesian(Y.x,Y.y,W,n),t=Z.polarToCartesian(Y.x,Y.y,W,i),o=new Z.Svg.Path(!l.donut||l.donutSolid).move(t.x,t.y).arc(W,W,0,i-u>180,0,L.x,L.y);l.donut?l.donutSolid&&(y=W-R.value,p=Z.polarToCartesian(Y.x,Y.y,y,u-(0===m||a?0:.2)),s=Z.polarToCartesian(Y.x,Y.y,y,i),o.line(p.x,p.y),o.arc(y,y,0,i-u>180,1,s.x,s.y)):o.line(Y.x,Y.y);var F=l.classNames.slicePie;l.donut&&(F=l.classNames.sliceDonut,l.donutSolid&&(F=l.classNames.sliceDonutSolid));var x=V[m].elem("path",{d:o.stringify()},F);if(x.attr({"ct:value":X.normalized.series[m],"ct:meta":Z.serialize(b.meta)}),l.donut&&!l.donutSolid&&(x._node.style.strokeWidth=R.value+"px"),this.eventEmitter.emit("draw",{type:"slice",value:X.normalized.series[m],totalDataSum:h,index:m,meta:b.meta,series:b,group:V[m],element:x,path:o.clone(),center:Y,radius:W,startAngle:u,endAngle:i}),l.showLabel){var S,J;S=1===X.raw.series.length?{x:Y.x,y:Y.y}:Z.polarToCartesian(Y.x,Y.y,c,u+(i-u)/2),J=X.normalized.labels&&!Z.isFalseyButZero(X.normalized.labels[m])?X.normalized.labels[m]:X.normalized.series[m];var I=l.labelInterpolationFnc(J,m);if(I||0===I){var N=d.elem("text",{dx:S.x,dy:S.y,"text-anchor":G(Y,S,l.labelDirection)},l.classNames.label).text(""+I);this.eventEmitter.emit("draw",{type:"label",index:m,group:d,element:N,text:""+I,x:S.x,y:S.y})}}u=i}}.bind(this)),this.eventEmitter.emit("created",{chartRect:m,svg:this.svg,options:l})},determineAnchorPosition:G})}(this||b,l),l}()}.apply(Z,[]))||(l.exports=G)}).call(this,b(32))},function(l,Z,b){"use strict";l.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(l,Z){l.exports=__WEBPACK_EXTERNAL_MODULE__8__},function(l,Z){l.exports=__WEBPACK_EXTERNAL_MODULE__9__},function(l,Z){l.exports={executeLayout:function(l,Z,b,G){if(l.isEnabled()){l.getModel().beginUpdate();try{Z()}catch(l){throw l}finally{l.getModel().endUpdate(),null!=G&&G()}}},executeLayoutList:function(l,Z,b){for(var G=l.getSelectionCells(),d=0;d<Z.length;d++){var m=new window[Z[d].layout](l);if(null!=Z[d].config)for(var W in Z[d].config)m[W]=Z[d].config[W];this.executeLayout(l,(function(){m.execute(l.getDefaultParent(),0==G.length?null:G)}),d==Z.length-1,b)}},csvToArray:function(l){if(!/^\s*(?:'[^'\\]*(?:\\[\S\s][^'\\]*)*'|"[^"\\]*(?:\\[\S\s][^"\\]*)*"|[^,'"\s\\]*(?:\s+[^,'"\s\\]+)*)\s*(?:,\s*(?:'[^'\\]*(?:\\[\S\s][^'\\]*)*'|"[^"\\]*(?:\\[\S\s][^"\\]*)*"|[^,'"\s\\]*(?:\s+[^,'"\s\\]+)*)\s*)*$/.test(l))return null;var Z=[];return l.replace(/(?!\s*$)\s*(?:'([^'\\]*(?:\\[\S\s][^'\\]*)*)'|"([^"\\]*(?:\\[\S\s][^"\\]*)*)"|([^,'"\s\\]*(?:\s+[^,'"\s\\]+)*))\s*(?:,|$)/g,(function(l,b,G,d){return void 0!==b?Z.push(b.replace(/\\'/g,"'")):void 0!==G?Z.push(G.replace(/\\"/g,'"')):void 0!==d&&Z.push(d),""})),/,\s*$/.test(l)&&Z.push(""),Z},importCsv:function(l,Z){try{var b=Z.split("\n"),G=[],d=[],m={};if(b.length>0){for(var W={},c=null,h=null,X=null,V=null,u=null,R=null,Y=null,a=null,i="",n="auto",p="auto",s=null,y=null,L=40,t=40,o=100,F=0,x=(l.view,l.getGraphBounds(),function(){}),S=l.getFreeInsertPoint(),J=S.x,I=S.y,N=I,K=null,k="auto",e=(a=null,[]),U=null,T=null,z=0;z<b.length&&"#"==b[z].charAt(0);){Z=b[z];for(z++;z<b.length&&"\\"==Z.charAt(Z.length-1)&&"#"==b[z].charAt(0);)Z=Z.substring(0,Z.length-1)+mxUtils.trim(b[z].substring(1)),z++;if("#"!=Z.charAt(1)){var C=Z.indexOf(":");if(C>0){var v=mxUtils.trim(Z.substring(1,C)),E=mxUtils.trim(Z.substring(C+1));"label"==v?K=l.sanitizeHtml(E):"labelname"==v&&E.length>0&&"-"!=E?V=E:"labels"==v&&E.length>0&&"-"!=E?u=JSON.parse(E):"style"==v?c=E:"parentstyle"==v?R=E:"stylename"==v&&E.length>0&&"-"!=E?X=E:"styles"==v&&E.length>0&&"-"!=E?h=JSON.parse(E):"identity"==v&&E.length>0&&"-"!=E?Y=E:"parent"==v&&E.length>0&&"-"!=E?a=E:"namespace"==v&&E.length>0&&"-"!=E?i=E:"width"==v?n=E:"height"==v?p=E:"left"==v&&E.length>0?s=E:"top"==v&&E.length>0?y=E:"ignore"==v?T=E.split(","):"connect"==v?e.push(JSON.parse(E)):"link"==v?U=E:"padding"==v?F=parseFloat(E):"edgespacing"==v?L=parseFloat(E):"nodespacing"==v?t=parseFloat(E):"levelspacing"==v?o=parseFloat(E):"layout"==v&&(k=E)}}}if(null==b[z])throw new Error(mxResources.get("invalidOrMissingFile"));for(var H=this.csvToArray(b[z]),M=null,w=null,Q=[],B=0;B<H.length;B++)Y==H[B]&&(M=B),a==H[B]&&(w=B),Q.push(mxUtils.trim(H[B]).replace(/[^a-z0-9]+/gi,"_").replace(/^\d+/,"").replace(/_+$/,""));if(null==K&&(K="%"+Q[0]+"%"),null!=e)for(var j=0;j<e.length;j++)null==W[e[j].to]&&(W[e[j].to]={});var g=[];for(B=z+1;B<b.length;B++){if(null==(r=this.csvToArray(b[B]))){var P=b[B].length>40?b[B].substring(0,40)+"...":b[B];throw new Error(P+" ("+B+"):\n"+mxResources.get("containsValidationErrors"))}r.length>0&&g.push(r)}l.model.beginUpdate();try{for(B=0;B<g.length;B++){var r=g[B],O=null,D=null!=M?i+r[M]:null;null!=D&&(O=l.model.getCell(D));var f=null!=O,A=new mxCell(K,new mxGeometry(J,N,0,0),c||"whiteSpace=wrap;html=1;");A.vertex=!0,A.id=D;for(var q=0;q<r.length;q++)l.setAttributeForCell(A,Q[q],r[q]);if(null!=V&&null!=u){var _=u[A.getAttribute(V)];null!=_&&l.labelChanged(A,_)}if(null!=X&&null!=h){var $=h[A.getAttribute(X)];null!=$&&(A.style=$)}if(l.setAttributeForCell(A,"placeholders","1"),A.style=l.replacePlaceholders(A,A.style),f&&(l.model.setGeometry(O,A.geometry),l.model.setStyle(O,A.style),mxUtils.indexOf(d,O)<0&&d.push(O)),O=A,!f)for(j=0;j<e.length;j++)W[e[j].to][O.getAttribute(e[j].to)]=O;null!=U&&"link"!=U&&(l.setLinkForCell(O,O.getAttribute(U)),l.setAttributeForCell(O,U,null)),l.fireEvent(new mxEventObject("cellsInserted","cells",[O]));var ll=l.getPreferredSizeForCell(O);if(O.vertex&&(null!=s&&null!=O.getAttribute(s)&&(O.geometry.x=J+parseFloat(O.getAttribute(s))),null!=y&&null!=O.getAttribute(y)&&(O.geometry.y=I+parseFloat(O.getAttribute(y))),"@"==n.charAt(0)&&null!=O.getAttribute(n.substring(1))?O.geometry.width=parseFloat(O.getAttribute(n.substring(1))):O.geometry.width="auto"==n?ll.width+F:parseFloat(n),"@"==p.charAt(0)&&null!=O.getAttribute(p.substring(1))?O.geometry.height=parseFloat(O.getAttribute(p.substring(1))):O.geometry.height="auto"==p?ll.height+F:parseFloat(p),N+=O.geometry.height+t),f)null==m[D]&&(m[D]=[]),m[D].push(O);else{a=null!=w?l.model.getCell(i+r[w]):null;G.push(O),null!=a?(a.style=l.replacePlaceholders(a,R),l.addCell(O,a)):d.push(l.addCell(O))}}var Zl=d.slice(),bl=d.slice();for(j=0;j<e.length;j++){var Gl=e[j];for(B=0;B<G.length;B++){O=G[B];var dl=mxUtils.bind(this,(function(Z,b,G){var d=b.getAttribute(G.from);if(null!=d&&(l.setAttributeForCell(b,G.from,null),""!=d))for(var m=d.split(","),c=0;c<m.length;c++){var h=W[G.to][m[c]];if(null!=h){var X=G.label;null!=G.fromlabel&&(X=(b.getAttribute(G.fromlabel)||"")+(X||"")),null!=G.tolabel&&(X=(X||"")+(h.getAttribute(G.tolabel)||""));var V="target"==G.placeholders==!G.invert?h:Z,u=null!=G.style?l.replacePlaceholders(V,G.style):l.createCurrentEdgeStyle();bl.push(l.insertEdge(null,null,X||"",G.invert?h:Z,G.invert?Z:h,u)),mxUtils.remove(G.invert?Z:h,Zl)}}}));if(dl(O,O,Gl),null!=m[O.id])for(q=0;q<m[O.id].length;q++)dl(O,m[O.id][q],Gl)}}if(null!=T)for(B=0;B<G.length;B++)for(O=G[B],q=0;q<T.length;q++)l.setAttributeForCell(O,mxUtils.trim(T[q]),null);if(d.length>0){(Rl=new mxParallelEdgeLayout(l)).spacing=L;var ml=function(){Rl.spacing>0&&Rl.execute(l.getDefaultParent());for(var Z=0;Z<d.length;Z++){var b=l.getCellGeometry(d[Z]);b.x=Math.round(l.snap(b.x)),b.y=Math.round(l.snap(b.y)),"auto"==n&&(b.width=Math.round(l.snap(b.width))),"auto"==p&&(b.height=Math.round(l.snap(b.height)))}};if("["==k.charAt(0)){var Wl=x;l.view.validate(),this.executeLayoutList(l,JSON.parse(k),(function(){ml(),Wl()})),x=null}else if("circle"==k){var cl=new mxCircleLayout(l);cl.resetEdges=!1;var hl=cl.isVertexIgnored;cl.isVertexIgnored=function(l){return hl.apply(this,arguments)||mxUtils.indexOf(d,l)<0},this.executeLayout(l,(function(){cl.execute(l.getDefaultParent()),ml()}),!0,x),x=null}else if("horizontaltree"==k||"verticaltree"==k||"auto"==k&&bl.length==2*d.length-1&&1==Zl.length){l.view.validate();var Xl=new mxCompactTreeLayout(l,"horizontaltree"==k);Xl.levelDistance=t,Xl.edgeRouting=!1,Xl.resetEdges=!1,this.executeLayout(l,(function(){Xl.execute(l.getDefaultParent(),Zl.length>0?Zl[0]:null)}),!0,x),x=null}else if("horizontalflow"==k||"verticalflow"==k||"auto"==k&&1==Zl.length){l.view.validate();var Vl=new mxHierarchicalLayout(l,"horizontalflow"==k?mxConstants.DIRECTION_WEST:mxConstants.DIRECTION_NORTH);Vl.intraCellSpacing=t,Vl.parallelEdgeSpacing=L,Vl.interRankCellSpacing=o,Vl.disableEdgeStyle=!1,this.executeLayout(l,(function(){Vl.execute(l.getDefaultParent(),bl),l.moveCells(bl,J,I)}),!0,x),x=null}else if("organic"==k||"auto"==k&&bl.length>d.length){l.view.validate();var ul=new mxFastOrganicLayout(l);ul.forceConstant=3*t,ul.resetEdges=!1;var Rl,Yl=ul.isVertexIgnored;ul.isVertexIgnored=function(l){return Yl.apply(this,arguments)||mxUtils.indexOf(d,l)<0},(Rl=new mxParallelEdgeLayout(l)).spacing=L,this.executeLayout(l,(function(){ul.execute(l.getDefaultParent()),ml()}),!0,x),x=null}}}finally{l.model.endUpdate()}null!=x&&x()}}catch(j){console.log(j)}},anonymize:function(l){var Z=document.createElement("div"),b=l.model,G=function(l,Z){for(var b=[],G=0;G<l.length;G++){var d=l.charAt(G);"\n\t`~!@#$%^&*()_+{}|:\"<>?-=[];'./,\n\t".indexOf(d)>=0?b.push(d):isNaN(parseInt(d))?d.toLowerCase()!=d?b.push(String.fromCharCode(65+Math.round(25*Math.random()))):d.toUpperCase()!=d?b.push(String.fromCharCode(97+Math.round(25*Math.random()))):/\s/.test(d)?b.push(" "):b.push("?"):b.push(Z?"0":Math.round(9*Math.random()))}return b.join("")},d=function(l){return Z.innerHTML=l,function l(Z){if(null!=Z.nodeValue&&(Z.nodeValue=G(Z.nodeValue)),Z.nodeType==mxConstants.NODETYPE_ELEMENT)for(var b=Z.firstChild;null!=b;)l(b),b=b.nextSibling}(Z),Z.innerHTML};b.beginUpdate();try{var m=[];for(var W in b.cells){var c=b.cells[W],h=l.getLabel(c);h=l.isHtmlLabel(c)?d(h):G(h),m.push({cell:c,label:h})}for(var X=0;X<m.length;X++)b.setValue(m[X].cell,m[X].label)}finally{b.endUpdate()}},addExtFont:function(l,Z,b){if(l&&Z){var G="extFont_"+l;if(null==document.getElementById(G))if(0==Z.indexOf(Editor.GOOGLE_FONTS))mxClient.link("stylesheet",Z,null,G);else{document.getElementsByTagName("head")[0];var d=document.createElement("style");d.appendChild(document.createTextNode('@font-face {\n\tfont-family: "'+l+'";\n\tsrc: url("'+Z+'");\n}')),d.setAttribute("id",G),document.getElementsByTagName("head")[0].appendChild(d)}if(!b){null==this.extFonts&&(this.extFonts=[]);for(var m=this.extFonts,W=!0,c=0;c<m.length;c++)if(m[c].name==l){W=!1;break}W&&this.extFonts.push({name:l,url:Z})}}}}},function(l,Z,b){"use strict";l.exports=function(l,Z,b,G){for(var d=65535&l|0,m=l>>>16&65535|0,W=0;0!==b;){b-=W=b>2e3?2e3:b;do{m=m+(d=d+Z[G++]|0)|0}while(--W);d%=65521,m%=65521}return d|m<<16|0}},function(l,Z,b){"use strict";var G=function(){for(var l,Z=[],b=0;b<256;b++){l=b;for(var G=0;G<8;G++)l=1&l?3988292384^l>>>1:l>>>1;Z[b]=l}return Z}();l.exports=function(l,Z,b,d){var m=G,W=d+b;l^=-1;for(var c=d;c<W;c++)l=l>>>8^m[255&(l^Z[c])];return-1^l}},function(l,Z,b){"use strict";var G=b(3),d=!0,m=!0;try{String.fromCharCode.apply(null,[0])}catch(l){d=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(l){m=!1}for(var W=new G.Buf8(256),c=0;c<256;c++)W[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;function h(l,Z){if(Z<65534&&(l.subarray&&m||!l.subarray&&d))return String.fromCharCode.apply(null,G.shrinkBuf(l,Z));for(var b="",W=0;W<Z;W++)b+=String.fromCharCode(l[W]);return b}W[254]=W[254]=1,Z.string2buf=function(l){var Z,b,d,m,W,c=l.length,h=0;for(m=0;m<c;m++)55296==(64512&(b=l.charCodeAt(m)))&&m+1<c&&56320==(64512&(d=l.charCodeAt(m+1)))&&(b=65536+(b-55296<<10)+(d-56320),m++),h+=b<128?1:b<2048?2:b<65536?3:4;for(Z=new G.Buf8(h),W=0,m=0;W<h;m++)55296==(64512&(b=l.charCodeAt(m)))&&m+1<c&&56320==(64512&(d=l.charCodeAt(m+1)))&&(b=65536+(b-55296<<10)+(d-56320),m++),b<128?Z[W++]=b:b<2048?(Z[W++]=192|b>>>6,Z[W++]=128|63&b):b<65536?(Z[W++]=224|b>>>12,Z[W++]=128|b>>>6&63,Z[W++]=128|63&b):(Z[W++]=240|b>>>18,Z[W++]=128|b>>>12&63,Z[W++]=128|b>>>6&63,Z[W++]=128|63&b);return Z},Z.buf2binstring=function(l){return h(l,l.length)},Z.binstring2buf=function(l){for(var Z=new G.Buf8(l.length),b=0,d=Z.length;b<d;b++)Z[b]=l.charCodeAt(b);return Z},Z.buf2string=function(l,Z){var b,G,d,m,c=Z||l.length,X=new Array(2*c);for(G=0,b=0;b<c;)if((d=l[b++])<128)X[G++]=d;else if((m=W[d])>4)X[G++]=65533,b+=m-1;else{for(d&=2===m?31:3===m?15:7;m>1&&b<c;)d=d<<6|63&l[b++],m--;m>1?X[G++]=65533:d<65536?X[G++]=d:(d-=65536,X[G++]=55296|d>>10&1023,X[G++]=56320|1023&d)}return h(X,G)},Z.utf8border=function(l,Z){var b;for((Z=Z||l.length)>l.length&&(Z=l.length),b=Z-1;b>=0&&128==(192&l[b]);)b--;return b<0||0===b?Z:b+W[l[b]]>Z?b:Z}},function(l,Z,b){"use strict";l.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(l,Z,b){"use strict";l.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(l,Z){l.exports=__WEBPACK_EXTERNAL_MODULE__16__},function(l,Z){l.exports=__WEBPACK_EXTERNAL_MODULE__17__},function(l){l.exports=JSON.parse('{"type":"panel","name":"FlowCharting","id":"agenty-flowcharting-panel","info":{"description":"Flowcharting is a Grafana plugin. Use it to display complexe diagrams using the online graphing library draw.io like a vsio","author":{"name":"Arnaud GENTY","url":"https://github.com/algenty/grafana-flowcharting"},"keywords":["flowchart","panel","diagram","workflow","floorplan","map","organigram","draw.io","visio","mxgraph"],"links":[{"name":"Project site","url":"https://github.com/algenty/grafana-flowcharting"},{"name":"Documentation","url":"https://algenty.github.io/flowcharting-repository/"},{"name":"Demonstration","url":"https://play.grafana.org/d/Unu5JcjWk/flowcharting-index?orgId=1"},{"name":"Apache License","url":"https://github.com/algenty/grafana-flowcharting/blob/master/LICENSE"}],"version":"0.9.1","updated":"2020-10-25","logos":{"small":"img/agenty-flowcharting.svg","large":"img/agenty-flowcharting.svg"}},"dependencies":{"grafanaVersion":"6.x.x","plugins":[]}}')},function(l,Z,b){var G=b(20),d=b(29),m=b(30);l.exports={stringToBytes:function(l){for(var Z=new Array(l.length),b=0;b<l.length;b+=1)Z[b]=l.charCodeAt(b);return Z},bytesToString:function(l){for(var Z="",b=0;b<l.length;b+=1)Z+=String.fromCharCode(l[b]);return Z},encode:function(l,Z,b,d){var m=l;if(Z)try{m=encodeURIComponent(m)}catch(l){return void console.error(l)}if(b&&m.length>0)try{m=this.bytesToString(G.deflateRaw(m))}catch(l){return void console.error(l)}if(d)try{m=btoa(m)}catch(l){return void console.error(l)}return m},removeLinebreaks:function(l){return l.replace(/(\r\n|\n|\r)/gm,"")},isencoded:function(l){try{var Z=this.parseXml(l).documentElement;if(null==Z||"mxfile"!==Z.nodeName)return-1===l.indexOf("mxGraphModel");if(Z.getElementsByTagName("diagram").length>0)return!0}catch(l){return!0}return!1},decode:function(l,Z,b,d){try{var m=this.parseXml(l).documentElement;if(null!=m&&"mxfile"===m.nodeName){var W=m.getElementsByTagName("diagram");W.length>0&&(l=this.getTextContent(W[0]))}}catch(l){}return d&&(l=atob(l)),b&&l.length>0&&(l=this.bytesToString(G.inflateRaw(l))),Z&&(l=decodeURIComponent(l)),l},parseXml:function(l){if(window.DOMParser)return(new DOMParser).parseFromString(l,"text/xml");var Z=this.createXmlDocument();return Z.async="false",Z.loadXML(l),Z},createXmlDocument:function(){var l=null;return document.implementation&&document.implementation.createDocument?l=document.implementation.createDocument("","",null):window.ActiveXObject&&(l=new ActiveXObject("Microsoft.XMLDOM")),l},decodeFromUri:function(l){try{l=decodeURIComponent(l)}catch(l){return void console.error(l)}return l},getTextContent:function(l){return null!=l?l[void 0===l.textContent?"text":"textContent"]:""},normalizeXml:function(l){try{var Z=l;return Z=(Z=Z.replace(/>\s*/g,">")).replace(/\s*</g,"<"),l}catch(l){return}},sleep:function(l,Z){var b;return regeneratorRuntime.async((function(G){for(;;)switch(G.prev=G.next){case 0:return b=function(l){return new Promise((function(Z){return setTimeout(Z,l)}))},G.next=3,regeneratorRuntime.awrap(b(l));case 3:Z&&console.log(Z);case 4:case"end":return G.stop()}}))},uniqueID:function(){function l(){return Math.random().toString(16).slice(-4)}return"".concat(l()+l(),"-").concat(l(),"-").concat(l(),"-").concat(l(),"-").concat(l()).concat(l()).concat(l())},stringToJsRegex:function(l){if("/"!==l[0])return new RegExp("^".concat(l,"$"));var Z=l.match(new RegExp("^/(.*?)/(g?i?m?y?)$"));return new RegExp(Z[1],Z[2])},matchString:function(l,Z){var b=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null==l||null==Z||0===l.length||0===Z.length)return!1;if(l===Z)return!0;if(b){var G=this.stringToJsRegex(Z);return l.toString().match(G)}return!1},minify:function(l){try{return d.xmlmin(l,!1)}catch(Z){return this.log(3,"Error in minify",Z),l}},prettify:function(l){try{return d.xml(l)}catch(Z){return this.log(3,"Error in prettify",Z),l}},prettifyJSON:function(l){try{return d.json(l)}catch(Z){return this.log(3,"Error in prettify",Z),l}},addScript:function(l){var Z=document.createElement("script");Z.setAttribute("type","text/javascript"),Z.setAttribute("src",l);var b=document.getElementsByTagName("script")[0];null!=b&&b.parentNode.insertBefore(Z,b)},loadJS:function(l){try{var Z=this.loadFile(l);Z&&this.evalRaw(Z)}catch(Z){null!=window.console&&console.error("LoadJS failed:",l,Z)}},loadFile:function(l){try{var Z=mxUtils.load(l);if(null!=Z&&Z.getStatus()>=200&&Z.getStatus()<=299)return Z.getText()}catch(Z){null!=window.console&&console.error("Error loadFile:",l,Z)}},$loadFile:function(l){var Z;return $.ajax({type:"GET",url:l,async:!1,success:function(l){Z=l},error:function(Z){console.log("Error when download "+l)}}),Z},evalRaw:function(l){try{eval.call(window,l)}catch(l){null!=window.console&&console.error("Error eval.call : ",l)}},evalIt:function(l){var Z=l;try{Z=m(l)}catch(b){Z=l}return Z},getfileContent:function(l){function Z(Z){return l.apply(this,arguments)}return Z.toString=function(){return l.toString()},Z}((function(l){!function(){var Z,b;regeneratorRuntime.async((function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,regeneratorRuntime.awrap(fetch(l));case 2:return Z=G.sent,G.next=5,regeneratorRuntime.awrap(Z.text());case 5:b=G.sent,console.log(getfileContent,l,b);case 7:case"end":return G.stop()}}))}()}))}},function(l,Z,b){"use strict";var G={};(0,b(3).assign)(G,b(21),b(24),b(15)),l.exports=G},function(l,Z,b){"use strict";var G=b(22),d=b(3),m=b(13),W=b(7),c=b(14),h=Object.prototype.toString;function X(l){if(!(this instanceof X))return new X(l);this.options=d.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},l||{});var Z=this.options;Z.raw&&Z.windowBits>0?Z.windowBits=-Z.windowBits:Z.gzip&&Z.windowBits>0&&Z.windowBits<16&&(Z.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var b=G.deflateInit2(this.strm,Z.level,Z.method,Z.windowBits,Z.memLevel,Z.strategy);if(0!==b)throw new Error(W[b]);if(Z.header&&G.deflateSetHeader(this.strm,Z.header),Z.dictionary){var V;if(V="string"==typeof Z.dictionary?m.string2buf(Z.dictionary):"[object ArrayBuffer]"===h.call(Z.dictionary)?new Uint8Array(Z.dictionary):Z.dictionary,0!==(b=G.deflateSetDictionary(this.strm,V)))throw new Error(W[b]);this._dict_set=!0}}function V(l,Z){var b=new X(Z);if(b.push(l,!0),b.err)throw b.msg||W[b.err];return b.result}X.prototype.push=function(l,Z){var b,W,c=this.strm,X=this.options.chunkSize;if(this.ended)return!1;W=Z===~~Z?Z:!0===Z?4:0,"string"==typeof l?c.input=m.string2buf(l):"[object ArrayBuffer]"===h.call(l)?c.input=new Uint8Array(l):c.input=l,c.next_in=0,c.avail_in=c.input.length;do{if(0===c.avail_out&&(c.output=new d.Buf8(X),c.next_out=0,c.avail_out=X),1!==(b=G.deflate(c,W))&&0!==b)return this.onEnd(b),this.ended=!0,!1;0!==c.avail_out&&(0!==c.avail_in||4!==W&&2!==W)||("string"===this.options.to?this.onData(m.buf2binstring(d.shrinkBuf(c.output,c.next_out))):this.onData(d.shrinkBuf(c.output,c.next_out)))}while((c.avail_in>0||0===c.avail_out)&&1!==b);return 4===W?(b=G.deflateEnd(this.strm),this.onEnd(b),this.ended=!0,0===b):2!==W||(this.onEnd(0),c.avail_out=0,!0)},X.prototype.onData=function(l){this.chunks.push(l)},X.prototype.onEnd=function(l){0===l&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=l,this.msg=this.strm.msg},Z.Deflate=X,Z.deflate=V,Z.deflateRaw=function(l,Z){return(Z=Z||{}).raw=!0,V(l,Z)},Z.gzip=function(l,Z){return(Z=Z||{}).gzip=!0,V(l,Z)}},function(l,Z,b){"use strict";var G,d=b(3),m=b(23),W=b(11),c=b(12),h=b(7);function X(l,Z){return l.msg=h[Z],Z}function V(l){return(l<<1)-(l>4?9:0)}function u(l){for(var Z=l.length;--Z>=0;)l[Z]=0}function R(l){var Z=l.state,b=Z.pending;b>l.avail_out&&(b=l.avail_out),0!==b&&(d.arraySet(l.output,Z.pending_buf,Z.pending_out,b,l.next_out),l.next_out+=b,Z.pending_out+=b,l.total_out+=b,l.avail_out-=b,Z.pending-=b,0===Z.pending&&(Z.pending_out=0))}function Y(l,Z){m._tr_flush_block(l,l.block_start>=0?l.block_start:-1,l.strstart-l.block_start,Z),l.block_start=l.strstart,R(l.strm)}function a(l,Z){l.pending_buf[l.pending++]=Z}function i(l,Z){l.pending_buf[l.pending++]=Z>>>8&255,l.pending_buf[l.pending++]=255&Z}function n(l,Z){var b,G,d=l.max_chain_length,m=l.strstart,W=l.prev_length,c=l.nice_match,h=l.strstart>l.w_size-262?l.strstart-(l.w_size-262):0,X=l.window,V=l.w_mask,u=l.prev,R=l.strstart+258,Y=X[m+W-1],a=X[m+W];l.prev_length>=l.good_match&&(d>>=2),c>l.lookahead&&(c=l.lookahead);do{if(X[(b=Z)+W]===a&&X[b+W-1]===Y&&X[b]===X[m]&&X[++b]===X[m+1]){m+=2,b++;do{}while(X[++m]===X[++b]&&X[++m]===X[++b]&&X[++m]===X[++b]&&X[++m]===X[++b]&&X[++m]===X[++b]&&X[++m]===X[++b]&&X[++m]===X[++b]&&X[++m]===X[++b]&&m<R);if(G=258-(R-m),m=R-258,G>W){if(l.match_start=Z,W=G,G>=c)break;Y=X[m+W-1],a=X[m+W]}}}while((Z=u[Z&V])>h&&0!=--d);return W<=l.lookahead?W:l.lookahead}function p(l){var Z,b,G,m,h,X,V,u,R,Y,a=l.w_size;do{if(m=l.window_size-l.lookahead-l.strstart,l.strstart>=a+(a-262)){d.arraySet(l.window,l.window,a,a,0),l.match_start-=a,l.strstart-=a,l.block_start-=a,Z=b=l.hash_size;do{G=l.head[--Z],l.head[Z]=G>=a?G-a:0}while(--b);Z=b=a;do{G=l.prev[--Z],l.prev[Z]=G>=a?G-a:0}while(--b);m+=a}if(0===l.strm.avail_in)break;if(X=l.strm,V=l.window,u=l.strstart+l.lookahead,R=m,Y=void 0,(Y=X.avail_in)>R&&(Y=R),b=0===Y?0:(X.avail_in-=Y,d.arraySet(V,X.input,X.next_in,Y,u),1===X.state.wrap?X.adler=W(X.adler,V,Y,u):2===X.state.wrap&&(X.adler=c(X.adler,V,Y,u)),X.next_in+=Y,X.total_in+=Y,Y),l.lookahead+=b,l.lookahead+l.insert>=3)for(h=l.strstart-l.insert,l.ins_h=l.window[h],l.ins_h=(l.ins_h<<l.hash_shift^l.window[h+1])&l.hash_mask;l.insert&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[h+3-1])&l.hash_mask,l.prev[h&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=h,h++,l.insert--,!(l.lookahead+l.insert<3)););}while(l.lookahead<262&&0!==l.strm.avail_in)}function s(l,Z){for(var b,G;;){if(l.lookahead<262){if(p(l),l.lookahead<262&&0===Z)return 1;if(0===l.lookahead)break}if(b=0,l.lookahead>=3&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+3-1])&l.hash_mask,b=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart),0!==b&&l.strstart-b<=l.w_size-262&&(l.match_length=n(l,b)),l.match_length>=3)if(G=m._tr_tally(l,l.strstart-l.match_start,l.match_length-3),l.lookahead-=l.match_length,l.match_length<=l.max_lazy_match&&l.lookahead>=3){l.match_length--;do{l.strstart++,l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+3-1])&l.hash_mask,b=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart}while(0!=--l.match_length);l.strstart++}else l.strstart+=l.match_length,l.match_length=0,l.ins_h=l.window[l.strstart],l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+1])&l.hash_mask;else G=m._tr_tally(l,0,l.window[l.strstart]),l.lookahead--,l.strstart++;if(G&&(Y(l,!1),0===l.strm.avail_out))return 1}return l.insert=l.strstart<2?l.strstart:2,4===Z?(Y(l,!0),0===l.strm.avail_out?3:4):l.last_lit&&(Y(l,!1),0===l.strm.avail_out)?1:2}function y(l,Z){for(var b,G,d;;){if(l.lookahead<262){if(p(l),l.lookahead<262&&0===Z)return 1;if(0===l.lookahead)break}if(b=0,l.lookahead>=3&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+3-1])&l.hash_mask,b=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart),l.prev_length=l.match_length,l.prev_match=l.match_start,l.match_length=2,0!==b&&l.prev_length<l.max_lazy_match&&l.strstart-b<=l.w_size-262&&(l.match_length=n(l,b),l.match_length<=5&&(1===l.strategy||3===l.match_length&&l.strstart-l.match_start>4096)&&(l.match_length=2)),l.prev_length>=3&&l.match_length<=l.prev_length){d=l.strstart+l.lookahead-3,G=m._tr_tally(l,l.strstart-1-l.prev_match,l.prev_length-3),l.lookahead-=l.prev_length-1,l.prev_length-=2;do{++l.strstart<=d&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+3-1])&l.hash_mask,b=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart)}while(0!=--l.prev_length);if(l.match_available=0,l.match_length=2,l.strstart++,G&&(Y(l,!1),0===l.strm.avail_out))return 1}else if(l.match_available){if((G=m._tr_tally(l,0,l.window[l.strstart-1]))&&Y(l,!1),l.strstart++,l.lookahead--,0===l.strm.avail_out)return 1}else l.match_available=1,l.strstart++,l.lookahead--}return l.match_available&&(G=m._tr_tally(l,0,l.window[l.strstart-1]),l.match_available=0),l.insert=l.strstart<2?l.strstart:2,4===Z?(Y(l,!0),0===l.strm.avail_out?3:4):l.last_lit&&(Y(l,!1),0===l.strm.avail_out)?1:2}function L(l,Z,b,G,d){this.good_length=l,this.max_lazy=Z,this.nice_length=b,this.max_chain=G,this.func=d}function t(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new d.Buf16(1146),this.dyn_dtree=new d.Buf16(122),this.bl_tree=new d.Buf16(78),u(this.dyn_ltree),u(this.dyn_dtree),u(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new d.Buf16(16),this.heap=new d.Buf16(573),u(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new d.Buf16(573),u(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function o(l){var Z;return l&&l.state?(l.total_in=l.total_out=0,l.data_type=2,(Z=l.state).pending=0,Z.pending_out=0,Z.wrap<0&&(Z.wrap=-Z.wrap),Z.status=Z.wrap?42:113,l.adler=2===Z.wrap?0:1,Z.last_flush=0,m._tr_init(Z),0):X(l,-2)}function F(l){var Z,b=o(l);return 0===b&&((Z=l.state).window_size=2*Z.w_size,u(Z.head),Z.max_lazy_match=G[Z.level].max_lazy,Z.good_match=G[Z.level].good_length,Z.nice_match=G[Z.level].nice_length,Z.max_chain_length=G[Z.level].max_chain,Z.strstart=0,Z.block_start=0,Z.lookahead=0,Z.insert=0,Z.match_length=Z.prev_length=2,Z.match_available=0,Z.ins_h=0),b}function x(l,Z,b,G,m,W){if(!l)return-2;var c=1;if(-1===Z&&(Z=6),G<0?(c=0,G=-G):G>15&&(c=2,G-=16),m<1||m>9||8!==b||G<8||G>15||Z<0||Z>9||W<0||W>4)return X(l,-2);8===G&&(G=9);var h=new t;return l.state=h,h.strm=l,h.wrap=c,h.gzhead=null,h.w_bits=G,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=m+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+3-1)/3),h.window=new d.Buf8(2*h.w_size),h.head=new d.Buf16(h.hash_size),h.prev=new d.Buf16(h.w_size),h.lit_bufsize=1<<m+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new d.Buf8(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=Z,h.strategy=W,h.method=b,F(l)}G=[new L(0,0,0,0,(function(l,Z){var b=65535;for(b>l.pending_buf_size-5&&(b=l.pending_buf_size-5);;){if(l.lookahead<=1){if(p(l),0===l.lookahead&&0===Z)return 1;if(0===l.lookahead)break}l.strstart+=l.lookahead,l.lookahead=0;var G=l.block_start+b;if((0===l.strstart||l.strstart>=G)&&(l.lookahead=l.strstart-G,l.strstart=G,Y(l,!1),0===l.strm.avail_out))return 1;if(l.strstart-l.block_start>=l.w_size-262&&(Y(l,!1),0===l.strm.avail_out))return 1}return l.insert=0,4===Z?(Y(l,!0),0===l.strm.avail_out?3:4):(l.strstart>l.block_start&&(Y(l,!1),l.strm.avail_out),1)})),new L(4,4,8,4,s),new L(4,5,16,8,s),new L(4,6,32,32,s),new L(4,4,16,16,y),new L(8,16,32,32,y),new L(8,16,128,128,y),new L(8,32,128,256,y),new L(32,128,258,1024,y),new L(32,258,258,4096,y)],Z.deflateInit=function(l,Z){return x(l,Z,8,15,8,0)},Z.deflateInit2=x,Z.deflateReset=F,Z.deflateResetKeep=o,Z.deflateSetHeader=function(l,Z){return l&&l.state?2!==l.state.wrap?-2:(l.state.gzhead=Z,0):-2},Z.deflate=function(l,Z){var b,d,W,h;if(!l||!l.state||Z>5||Z<0)return l?X(l,-2):-2;if(d=l.state,!l.output||!l.input&&0!==l.avail_in||666===d.status&&4!==Z)return X(l,0===l.avail_out?-5:-2);if(d.strm=l,b=d.last_flush,d.last_flush=Z,42===d.status)if(2===d.wrap)l.adler=0,a(d,31),a(d,139),a(d,8),d.gzhead?(a(d,(d.gzhead.text?1:0)+(d.gzhead.hcrc?2:0)+(d.gzhead.extra?4:0)+(d.gzhead.name?8:0)+(d.gzhead.comment?16:0)),a(d,255&d.gzhead.time),a(d,d.gzhead.time>>8&255),a(d,d.gzhead.time>>16&255),a(d,d.gzhead.time>>24&255),a(d,9===d.level?2:d.strategy>=2||d.level<2?4:0),a(d,255&d.gzhead.os),d.gzhead.extra&&d.gzhead.extra.length&&(a(d,255&d.gzhead.extra.length),a(d,d.gzhead.extra.length>>8&255)),d.gzhead.hcrc&&(l.adler=c(l.adler,d.pending_buf,d.pending,0)),d.gzindex=0,d.status=69):(a(d,0),a(d,0),a(d,0),a(d,0),a(d,0),a(d,9===d.level?2:d.strategy>=2||d.level<2?4:0),a(d,3),d.status=113);else{var n=8+(d.w_bits-8<<4)<<8;n|=(d.strategy>=2||d.level<2?0:d.level<6?1:6===d.level?2:3)<<6,0!==d.strstart&&(n|=32),n+=31-n%31,d.status=113,i(d,n),0!==d.strstart&&(i(d,l.adler>>>16),i(d,65535&l.adler)),l.adler=1}if(69===d.status)if(d.gzhead.extra){for(W=d.pending;d.gzindex<(65535&d.gzhead.extra.length)&&(d.pending!==d.pending_buf_size||(d.gzhead.hcrc&&d.pending>W&&(l.adler=c(l.adler,d.pending_buf,d.pending-W,W)),R(l),W=d.pending,d.pending!==d.pending_buf_size));)a(d,255&d.gzhead.extra[d.gzindex]),d.gzindex++;d.gzhead.hcrc&&d.pending>W&&(l.adler=c(l.adler,d.pending_buf,d.pending-W,W)),d.gzindex===d.gzhead.extra.length&&(d.gzindex=0,d.status=73)}else d.status=73;if(73===d.status)if(d.gzhead.name){W=d.pending;do{if(d.pending===d.pending_buf_size&&(d.gzhead.hcrc&&d.pending>W&&(l.adler=c(l.adler,d.pending_buf,d.pending-W,W)),R(l),W=d.pending,d.pending===d.pending_buf_size)){h=1;break}h=d.gzindex<d.gzhead.name.length?255&d.gzhead.name.charCodeAt(d.gzindex++):0,a(d,h)}while(0!==h);d.gzhead.hcrc&&d.pending>W&&(l.adler=c(l.adler,d.pending_buf,d.pending-W,W)),0===h&&(d.gzindex=0,d.status=91)}else d.status=91;if(91===d.status)if(d.gzhead.comment){W=d.pending;do{if(d.pending===d.pending_buf_size&&(d.gzhead.hcrc&&d.pending>W&&(l.adler=c(l.adler,d.pending_buf,d.pending-W,W)),R(l),W=d.pending,d.pending===d.pending_buf_size)){h=1;break}h=d.gzindex<d.gzhead.comment.length?255&d.gzhead.comment.charCodeAt(d.gzindex++):0,a(d,h)}while(0!==h);d.gzhead.hcrc&&d.pending>W&&(l.adler=c(l.adler,d.pending_buf,d.pending-W,W)),0===h&&(d.status=103)}else d.status=103;if(103===d.status&&(d.gzhead.hcrc?(d.pending+2>d.pending_buf_size&&R(l),d.pending+2<=d.pending_buf_size&&(a(d,255&l.adler),a(d,l.adler>>8&255),l.adler=0,d.status=113)):d.status=113),0!==d.pending){if(R(l),0===l.avail_out)return d.last_flush=-1,0}else if(0===l.avail_in&&V(Z)<=V(b)&&4!==Z)return X(l,-5);if(666===d.status&&0!==l.avail_in)return X(l,-5);if(0!==l.avail_in||0!==d.lookahead||0!==Z&&666!==d.status){var s=2===d.strategy?function(l,Z){for(var b;;){if(0===l.lookahead&&(p(l),0===l.lookahead)){if(0===Z)return 1;break}if(l.match_length=0,b=m._tr_tally(l,0,l.window[l.strstart]),l.lookahead--,l.strstart++,b&&(Y(l,!1),0===l.strm.avail_out))return 1}return l.insert=0,4===Z?(Y(l,!0),0===l.strm.avail_out?3:4):l.last_lit&&(Y(l,!1),0===l.strm.avail_out)?1:2}(d,Z):3===d.strategy?function(l,Z){for(var b,G,d,W,c=l.window;;){if(l.lookahead<=258){if(p(l),l.lookahead<=258&&0===Z)return 1;if(0===l.lookahead)break}if(l.match_length=0,l.lookahead>=3&&l.strstart>0&&(G=c[d=l.strstart-1])===c[++d]&&G===c[++d]&&G===c[++d]){W=l.strstart+258;do{}while(G===c[++d]&&G===c[++d]&&G===c[++d]&&G===c[++d]&&G===c[++d]&&G===c[++d]&&G===c[++d]&&G===c[++d]&&d<W);l.match_length=258-(W-d),l.match_length>l.lookahead&&(l.match_length=l.lookahead)}if(l.match_length>=3?(b=m._tr_tally(l,1,l.match_length-3),l.lookahead-=l.match_length,l.strstart+=l.match_length,l.match_length=0):(b=m._tr_tally(l,0,l.window[l.strstart]),l.lookahead--,l.strstart++),b&&(Y(l,!1),0===l.strm.avail_out))return 1}return l.insert=0,4===Z?(Y(l,!0),0===l.strm.avail_out?3:4):l.last_lit&&(Y(l,!1),0===l.strm.avail_out)?1:2}(d,Z):G[d.level].func(d,Z);if(3!==s&&4!==s||(d.status=666),1===s||3===s)return 0===l.avail_out&&(d.last_flush=-1),0;if(2===s&&(1===Z?m._tr_align(d):5!==Z&&(m._tr_stored_block(d,0,0,!1),3===Z&&(u(d.head),0===d.lookahead&&(d.strstart=0,d.block_start=0,d.insert=0))),R(l),0===l.avail_out))return d.last_flush=-1,0}return 4!==Z?0:d.wrap<=0?1:(2===d.wrap?(a(d,255&l.adler),a(d,l.adler>>8&255),a(d,l.adler>>16&255),a(d,l.adler>>24&255),a(d,255&l.total_in),a(d,l.total_in>>8&255),a(d,l.total_in>>16&255),a(d,l.total_in>>24&255)):(i(d,l.adler>>>16),i(d,65535&l.adler)),R(l),d.wrap>0&&(d.wrap=-d.wrap),0!==d.pending?0:1)},Z.deflateEnd=function(l){var Z;return l&&l.state?42!==(Z=l.state.status)&&69!==Z&&73!==Z&&91!==Z&&103!==Z&&113!==Z&&666!==Z?X(l,-2):(l.state=null,113===Z?X(l,-3):0):-2},Z.deflateSetDictionary=function(l,Z){var b,G,m,c,h,X,V,R,Y=Z.length;if(!l||!l.state)return-2;if(2===(c=(b=l.state).wrap)||1===c&&42!==b.status||b.lookahead)return-2;for(1===c&&(l.adler=W(l.adler,Z,Y,0)),b.wrap=0,Y>=b.w_size&&(0===c&&(u(b.head),b.strstart=0,b.block_start=0,b.insert=0),R=new d.Buf8(b.w_size),d.arraySet(R,Z,Y-b.w_size,b.w_size,0),Z=R,Y=b.w_size),h=l.avail_in,X=l.next_in,V=l.input,l.avail_in=Y,l.next_in=0,l.input=Z,p(b);b.lookahead>=3;){G=b.strstart,m=b.lookahead-2;do{b.ins_h=(b.ins_h<<b.hash_shift^b.window[G+3-1])&b.hash_mask,b.prev[G&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=G,G++}while(--m);b.strstart=G,b.lookahead=2,p(b)}return b.strstart+=b.lookahead,b.block_start=b.strstart,b.insert=b.lookahead,b.lookahead=0,b.match_length=b.prev_length=2,b.match_available=0,l.next_in=X,l.input=V,l.avail_in=h,b.wrap=c,0},Z.deflateInfo="pako deflate (from Nodeca project)"},function(l,Z,b){"use strict";var G=b(3);function d(l){for(var Z=l.length;--Z>=0;)l[Z]=0}var m=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],W=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],h=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],X=new Array(576);d(X);var V=new Array(60);d(V);var u=new Array(512);d(u);var R=new Array(256);d(R);var Y=new Array(29);d(Y);var a,i,n,p=new Array(30);function s(l,Z,b,G,d){this.static_tree=l,this.extra_bits=Z,this.extra_base=b,this.elems=G,this.max_length=d,this.has_stree=l&&l.length}function y(l,Z){this.dyn_tree=l,this.max_code=0,this.stat_desc=Z}function L(l){return l<256?u[l]:u[256+(l>>>7)]}function t(l,Z){l.pending_buf[l.pending++]=255&Z,l.pending_buf[l.pending++]=Z>>>8&255}function o(l,Z,b){l.bi_valid>16-b?(l.bi_buf|=Z<<l.bi_valid&65535,t(l,l.bi_buf),l.bi_buf=Z>>16-l.bi_valid,l.bi_valid+=b-16):(l.bi_buf|=Z<<l.bi_valid&65535,l.bi_valid+=b)}function F(l,Z,b){o(l,b[2*Z],b[2*Z+1])}function x(l,Z){var b=0;do{b|=1&l,l>>>=1,b<<=1}while(--Z>0);return b>>>1}function S(l,Z,b){var G,d,m=new Array(16),W=0;for(G=1;G<=15;G++)m[G]=W=W+b[G-1]<<1;for(d=0;d<=Z;d++){var c=l[2*d+1];0!==c&&(l[2*d]=x(m[c]++,c))}}function J(l){var Z;for(Z=0;Z<286;Z++)l.dyn_ltree[2*Z]=0;for(Z=0;Z<30;Z++)l.dyn_dtree[2*Z]=0;for(Z=0;Z<19;Z++)l.bl_tree[2*Z]=0;l.dyn_ltree[512]=1,l.opt_len=l.static_len=0,l.last_lit=l.matches=0}function I(l){l.bi_valid>8?t(l,l.bi_buf):l.bi_valid>0&&(l.pending_buf[l.pending++]=l.bi_buf),l.bi_buf=0,l.bi_valid=0}function N(l,Z,b,G){var d=2*Z,m=2*b;return l[d]<l[m]||l[d]===l[m]&&G[Z]<=G[b]}function K(l,Z,b){for(var G=l.heap[b],d=b<<1;d<=l.heap_len&&(d<l.heap_len&&N(Z,l.heap[d+1],l.heap[d],l.depth)&&d++,!N(Z,G,l.heap[d],l.depth));)l.heap[b]=l.heap[d],b=d,d<<=1;l.heap[b]=G}function k(l,Z,b){var G,d,c,h,X=0;if(0!==l.last_lit)do{G=l.pending_buf[l.d_buf+2*X]<<8|l.pending_buf[l.d_buf+2*X+1],d=l.pending_buf[l.l_buf+X],X++,0===G?F(l,d,Z):(F(l,(c=R[d])+256+1,Z),0!==(h=m[c])&&o(l,d-=Y[c],h),F(l,c=L(--G),b),0!==(h=W[c])&&o(l,G-=p[c],h))}while(X<l.last_lit);F(l,256,Z)}function e(l,Z){var b,G,d,m=Z.dyn_tree,W=Z.stat_desc.static_tree,c=Z.stat_desc.has_stree,h=Z.stat_desc.elems,X=-1;for(l.heap_len=0,l.heap_max=573,b=0;b<h;b++)0!==m[2*b]?(l.heap[++l.heap_len]=X=b,l.depth[b]=0):m[2*b+1]=0;for(;l.heap_len<2;)m[2*(d=l.heap[++l.heap_len]=X<2?++X:0)]=1,l.depth[d]=0,l.opt_len--,c&&(l.static_len-=W[2*d+1]);for(Z.max_code=X,b=l.heap_len>>1;b>=1;b--)K(l,m,b);d=h;do{b=l.heap[1],l.heap[1]=l.heap[l.heap_len--],K(l,m,1),G=l.heap[1],l.heap[--l.heap_max]=b,l.heap[--l.heap_max]=G,m[2*d]=m[2*b]+m[2*G],l.depth[d]=(l.depth[b]>=l.depth[G]?l.depth[b]:l.depth[G])+1,m[2*b+1]=m[2*G+1]=d,l.heap[1]=d++,K(l,m,1)}while(l.heap_len>=2);l.heap[--l.heap_max]=l.heap[1],function(l,Z){var b,G,d,m,W,c,h=Z.dyn_tree,X=Z.max_code,V=Z.stat_desc.static_tree,u=Z.stat_desc.has_stree,R=Z.stat_desc.extra_bits,Y=Z.stat_desc.extra_base,a=Z.stat_desc.max_length,i=0;for(m=0;m<=15;m++)l.bl_count[m]=0;for(h[2*l.heap[l.heap_max]+1]=0,b=l.heap_max+1;b<573;b++)(m=h[2*h[2*(G=l.heap[b])+1]+1]+1)>a&&(m=a,i++),h[2*G+1]=m,G>X||(l.bl_count[m]++,W=0,G>=Y&&(W=R[G-Y]),c=h[2*G],l.opt_len+=c*(m+W),u&&(l.static_len+=c*(V[2*G+1]+W)));if(0!==i){do{for(m=a-1;0===l.bl_count[m];)m--;l.bl_count[m]--,l.bl_count[m+1]+=2,l.bl_count[a]--,i-=2}while(i>0);for(m=a;0!==m;m--)for(G=l.bl_count[m];0!==G;)(d=l.heap[--b])>X||(h[2*d+1]!==m&&(l.opt_len+=(m-h[2*d+1])*h[2*d],h[2*d+1]=m),G--)}}(l,Z),S(m,X,l.bl_count)}function U(l,Z,b){var G,d,m=-1,W=Z[1],c=0,h=7,X=4;for(0===W&&(h=138,X=3),Z[2*(b+1)+1]=65535,G=0;G<=b;G++)d=W,W=Z[2*(G+1)+1],++c<h&&d===W||(c<X?l.bl_tree[2*d]+=c:0!==d?(d!==m&&l.bl_tree[2*d]++,l.bl_tree[32]++):c<=10?l.bl_tree[34]++:l.bl_tree[36]++,c=0,m=d,0===W?(h=138,X=3):d===W?(h=6,X=3):(h=7,X=4))}function T(l,Z,b){var G,d,m=-1,W=Z[1],c=0,h=7,X=4;for(0===W&&(h=138,X=3),G=0;G<=b;G++)if(d=W,W=Z[2*(G+1)+1],!(++c<h&&d===W)){if(c<X)do{F(l,d,l.bl_tree)}while(0!=--c);else 0!==d?(d!==m&&(F(l,d,l.bl_tree),c--),F(l,16,l.bl_tree),o(l,c-3,2)):c<=10?(F(l,17,l.bl_tree),o(l,c-3,3)):(F(l,18,l.bl_tree),o(l,c-11,7));c=0,m=d,0===W?(h=138,X=3):d===W?(h=6,X=3):(h=7,X=4)}}d(p);var z=!1;function C(l,Z,b,d){o(l,0+(d?1:0),3),function(l,Z,b,d){I(l),d&&(t(l,b),t(l,~b)),G.arraySet(l.pending_buf,l.window,Z,b,l.pending),l.pending+=b}(l,Z,b,!0)}Z._tr_init=function(l){z||(!function(){var l,Z,b,G,d,h=new Array(16);for(b=0,G=0;G<28;G++)for(Y[G]=b,l=0;l<1<<m[G];l++)R[b++]=G;for(R[b-1]=G,d=0,G=0;G<16;G++)for(p[G]=d,l=0;l<1<<W[G];l++)u[d++]=G;for(d>>=7;G<30;G++)for(p[G]=d<<7,l=0;l<1<<W[G]-7;l++)u[256+d++]=G;for(Z=0;Z<=15;Z++)h[Z]=0;for(l=0;l<=143;)X[2*l+1]=8,l++,h[8]++;for(;l<=255;)X[2*l+1]=9,l++,h[9]++;for(;l<=279;)X[2*l+1]=7,l++,h[7]++;for(;l<=287;)X[2*l+1]=8,l++,h[8]++;for(S(X,287,h),l=0;l<30;l++)V[2*l+1]=5,V[2*l]=x(l,5);a=new s(X,m,257,286,15),i=new s(V,W,0,30,15),n=new s(new Array(0),c,0,19,7)}(),z=!0),l.l_desc=new y(l.dyn_ltree,a),l.d_desc=new y(l.dyn_dtree,i),l.bl_desc=new y(l.bl_tree,n),l.bi_buf=0,l.bi_valid=0,J(l)},Z._tr_stored_block=C,Z._tr_flush_block=function(l,Z,b,G){var d,m,W=0;l.level>0?(2===l.strm.data_type&&(l.strm.data_type=function(l){var Z,b=4093624447;for(Z=0;Z<=31;Z++,b>>>=1)if(1&b&&0!==l.dyn_ltree[2*Z])return 0;if(0!==l.dyn_ltree[18]||0!==l.dyn_ltree[20]||0!==l.dyn_ltree[26])return 1;for(Z=32;Z<256;Z++)if(0!==l.dyn_ltree[2*Z])return 1;return 0}(l)),e(l,l.l_desc),e(l,l.d_desc),W=function(l){var Z;for(U(l,l.dyn_ltree,l.l_desc.max_code),U(l,l.dyn_dtree,l.d_desc.max_code),e(l,l.bl_desc),Z=18;Z>=3&&0===l.bl_tree[2*h[Z]+1];Z--);return l.opt_len+=3*(Z+1)+5+5+4,Z}(l),d=l.opt_len+3+7>>>3,(m=l.static_len+3+7>>>3)<=d&&(d=m)):d=m=b+5,b+4<=d&&-1!==Z?C(l,Z,b,G):4===l.strategy||m===d?(o(l,2+(G?1:0),3),k(l,X,V)):(o(l,4+(G?1:0),3),function(l,Z,b,G){var d;for(o(l,Z-257,5),o(l,b-1,5),o(l,G-4,4),d=0;d<G;d++)o(l,l.bl_tree[2*h[d]+1],3);T(l,l.dyn_ltree,Z-1),T(l,l.dyn_dtree,b-1)}(l,l.l_desc.max_code+1,l.d_desc.max_code+1,W+1),k(l,l.dyn_ltree,l.dyn_dtree)),J(l),G&&I(l)},Z._tr_tally=function(l,Z,b){return l.pending_buf[l.d_buf+2*l.last_lit]=Z>>>8&255,l.pending_buf[l.d_buf+2*l.last_lit+1]=255&Z,l.pending_buf[l.l_buf+l.last_lit]=255&b,l.last_lit++,0===Z?l.dyn_ltree[2*b]++:(l.matches++,Z--,l.dyn_ltree[2*(R[b]+256+1)]++,l.dyn_dtree[2*L(Z)]++),l.last_lit===l.lit_bufsize-1},Z._tr_align=function(l){o(l,2,3),F(l,256,X),function(l){16===l.bi_valid?(t(l,l.bi_buf),l.bi_buf=0,l.bi_valid=0):l.bi_valid>=8&&(l.pending_buf[l.pending++]=255&l.bi_buf,l.bi_buf>>=8,l.bi_valid-=8)}(l)}},function(l,Z,b){"use strict";var G=b(25),d=b(3),m=b(13),W=b(15),c=b(7),h=b(14),X=b(28),V=Object.prototype.toString;function u(l){if(!(this instanceof u))return new u(l);this.options=d.assign({chunkSize:16384,windowBits:0,to:""},l||{});var Z=this.options;Z.raw&&Z.windowBits>=0&&Z.windowBits<16&&(Z.windowBits=-Z.windowBits,0===Z.windowBits&&(Z.windowBits=-15)),!(Z.windowBits>=0&&Z.windowBits<16)||l&&l.windowBits||(Z.windowBits+=32),Z.windowBits>15&&Z.windowBits<48&&0==(15&Z.windowBits)&&(Z.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var b=G.inflateInit2(this.strm,Z.windowBits);if(b!==W.Z_OK)throw new Error(c[b]);if(this.header=new X,G.inflateGetHeader(this.strm,this.header),Z.dictionary&&("string"==typeof Z.dictionary?Z.dictionary=m.string2buf(Z.dictionary):"[object ArrayBuffer]"===V.call(Z.dictionary)&&(Z.dictionary=new Uint8Array(Z.dictionary)),Z.raw&&(b=G.inflateSetDictionary(this.strm,Z.dictionary))!==W.Z_OK))throw new Error(c[b])}function R(l,Z){var b=new u(Z);if(b.push(l,!0),b.err)throw b.msg||c[b.err];return b.result}u.prototype.push=function(l,Z){var b,c,h,X,u,R=this.strm,Y=this.options.chunkSize,a=this.options.dictionary,i=!1;if(this.ended)return!1;c=Z===~~Z?Z:!0===Z?W.Z_FINISH:W.Z_NO_FLUSH,"string"==typeof l?R.input=m.binstring2buf(l):"[object ArrayBuffer]"===V.call(l)?R.input=new Uint8Array(l):R.input=l,R.next_in=0,R.avail_in=R.input.length;do{if(0===R.avail_out&&(R.output=new d.Buf8(Y),R.next_out=0,R.avail_out=Y),(b=G.inflate(R,W.Z_NO_FLUSH))===W.Z_NEED_DICT&&a&&(b=G.inflateSetDictionary(this.strm,a)),b===W.Z_BUF_ERROR&&!0===i&&(b=W.Z_OK,i=!1),b!==W.Z_STREAM_END&&b!==W.Z_OK)return this.onEnd(b),this.ended=!0,!1;R.next_out&&(0!==R.avail_out&&b!==W.Z_STREAM_END&&(0!==R.avail_in||c!==W.Z_FINISH&&c!==W.Z_SYNC_FLUSH)||("string"===this.options.to?(h=m.utf8border(R.output,R.next_out),X=R.next_out-h,u=m.buf2string(R.output,h),R.next_out=X,R.avail_out=Y-X,X&&d.arraySet(R.output,R.output,h,X,0),this.onData(u)):this.onData(d.shrinkBuf(R.output,R.next_out)))),0===R.avail_in&&0===R.avail_out&&(i=!0)}while((R.avail_in>0||0===R.avail_out)&&b!==W.Z_STREAM_END);return b===W.Z_STREAM_END&&(c=W.Z_FINISH),c===W.Z_FINISH?(b=G.inflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===W.Z_OK):c!==W.Z_SYNC_FLUSH||(this.onEnd(W.Z_OK),R.avail_out=0,!0)},u.prototype.onData=function(l){this.chunks.push(l)},u.prototype.onEnd=function(l){l===W.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=l,this.msg=this.strm.msg},Z.Inflate=u,Z.inflate=R,Z.inflateRaw=function(l,Z){return(Z=Z||{}).raw=!0,R(l,Z)},Z.ungzip=R},function(l,Z,b){"use strict";var G=b(3),d=b(11),m=b(12),W=b(26),c=b(27);function h(l){return(l>>>24&255)+(l>>>8&65280)+((65280&l)<<8)+((255&l)<<24)}function X(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new G.Buf16(320),this.work=new G.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function V(l){var Z;return l&&l.state?(Z=l.state,l.total_in=l.total_out=Z.total=0,l.msg="",Z.wrap&&(l.adler=1&Z.wrap),Z.mode=1,Z.last=0,Z.havedict=0,Z.dmax=32768,Z.head=null,Z.hold=0,Z.bits=0,Z.lencode=Z.lendyn=new G.Buf32(852),Z.distcode=Z.distdyn=new G.Buf32(592),Z.sane=1,Z.back=-1,0):-2}function u(l){var Z;return l&&l.state?((Z=l.state).wsize=0,Z.whave=0,Z.wnext=0,V(l)):-2}function R(l,Z){var b,G;return l&&l.state?(G=l.state,Z<0?(b=0,Z=-Z):(b=1+(Z>>4),Z<48&&(Z&=15)),Z&&(Z<8||Z>15)?-2:(null!==G.window&&G.wbits!==Z&&(G.window=null),G.wrap=b,G.wbits=Z,u(l))):-2}function Y(l,Z){var b,G;return l?(G=new X,l.state=G,G.window=null,0!==(b=R(l,Z))&&(l.state=null),b):-2}var a,i,n=!0;function p(l){if(n){var Z;for(a=new G.Buf32(512),i=new G.Buf32(32),Z=0;Z<144;)l.lens[Z++]=8;for(;Z<256;)l.lens[Z++]=9;for(;Z<280;)l.lens[Z++]=7;for(;Z<288;)l.lens[Z++]=8;for(c(1,l.lens,0,288,a,0,l.work,{bits:9}),Z=0;Z<32;)l.lens[Z++]=5;c(2,l.lens,0,32,i,0,l.work,{bits:5}),n=!1}l.lencode=a,l.lenbits=9,l.distcode=i,l.distbits=5}function s(l,Z,b,d){var m,W=l.state;return null===W.window&&(W.wsize=1<<W.wbits,W.wnext=0,W.whave=0,W.window=new G.Buf8(W.wsize)),d>=W.wsize?(G.arraySet(W.window,Z,b-W.wsize,W.wsize,0),W.wnext=0,W.whave=W.wsize):((m=W.wsize-W.wnext)>d&&(m=d),G.arraySet(W.window,Z,b-d,m,W.wnext),(d-=m)?(G.arraySet(W.window,Z,b-d,d,0),W.wnext=d,W.whave=W.wsize):(W.wnext+=m,W.wnext===W.wsize&&(W.wnext=0),W.whave<W.wsize&&(W.whave+=m))),0}Z.inflateReset=u,Z.inflateReset2=R,Z.inflateResetKeep=V,Z.inflateInit=function(l){return Y(l,15)},Z.inflateInit2=Y,Z.inflate=function(l,Z){var b,X,V,u,R,Y,a,i,n,y,L,t,o,F,x,S,J,I,N,K,k,e,U,T,z=0,C=new G.Buf8(4),v=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!l||!l.state||!l.output||!l.input&&0!==l.avail_in)return-2;12===(b=l.state).mode&&(b.mode=13),R=l.next_out,V=l.output,a=l.avail_out,u=l.next_in,X=l.input,Y=l.avail_in,i=b.hold,n=b.bits,y=Y,L=a,e=0;l:for(;;)switch(b.mode){case 1:if(0===b.wrap){b.mode=13;break}for(;n<16;){if(0===Y)break l;Y--,i+=X[u++]<<n,n+=8}if(2&b.wrap&&35615===i){b.check=0,C[0]=255&i,C[1]=i>>>8&255,b.check=m(b.check,C,2,0),i=0,n=0,b.mode=2;break}if(b.flags=0,b.head&&(b.head.done=!1),!(1&b.wrap)||(((255&i)<<8)+(i>>8))%31){l.msg="incorrect header check",b.mode=30;break}if(8!=(15&i)){l.msg="unknown compression method",b.mode=30;break}if(n-=4,k=8+(15&(i>>>=4)),0===b.wbits)b.wbits=k;else if(k>b.wbits){l.msg="invalid window size",b.mode=30;break}b.dmax=1<<k,l.adler=b.check=1,b.mode=512&i?10:12,i=0,n=0;break;case 2:for(;n<16;){if(0===Y)break l;Y--,i+=X[u++]<<n,n+=8}if(b.flags=i,8!=(255&b.flags)){l.msg="unknown compression method",b.mode=30;break}if(57344&b.flags){l.msg="unknown header flags set",b.mode=30;break}b.head&&(b.head.text=i>>8&1),512&b.flags&&(C[0]=255&i,C[1]=i>>>8&255,b.check=m(b.check,C,2,0)),i=0,n=0,b.mode=3;case 3:for(;n<32;){if(0===Y)break l;Y--,i+=X[u++]<<n,n+=8}b.head&&(b.head.time=i),512&b.flags&&(C[0]=255&i,C[1]=i>>>8&255,C[2]=i>>>16&255,C[3]=i>>>24&255,b.check=m(b.check,C,4,0)),i=0,n=0,b.mode=4;case 4:for(;n<16;){if(0===Y)break l;Y--,i+=X[u++]<<n,n+=8}b.head&&(b.head.xflags=255&i,b.head.os=i>>8),512&b.flags&&(C[0]=255&i,C[1]=i>>>8&255,b.check=m(b.check,C,2,0)),i=0,n=0,b.mode=5;case 5:if(1024&b.flags){for(;n<16;){if(0===Y)break l;Y--,i+=X[u++]<<n,n+=8}b.length=i,b.head&&(b.head.extra_len=i),512&b.flags&&(C[0]=255&i,C[1]=i>>>8&255,b.check=m(b.check,C,2,0)),i=0,n=0}else b.head&&(b.head.extra=null);b.mode=6;case 6:if(1024&b.flags&&((t=b.length)>Y&&(t=Y),t&&(b.head&&(k=b.head.extra_len-b.length,b.head.extra||(b.head.extra=new Array(b.head.extra_len)),G.arraySet(b.head.extra,X,u,t,k)),512&b.flags&&(b.check=m(b.check,X,t,u)),Y-=t,u+=t,b.length-=t),b.length))break l;b.length=0,b.mode=7;case 7:if(2048&b.flags){if(0===Y)break l;t=0;do{k=X[u+t++],b.head&&k&&b.length<65536&&(b.head.name+=String.fromCharCode(k))}while(k&&t<Y);if(512&b.flags&&(b.check=m(b.check,X,t,u)),Y-=t,u+=t,k)break l}else b.head&&(b.head.name=null);b.length=0,b.mode=8;case 8:if(4096&b.flags){if(0===Y)break l;t=0;do{k=X[u+t++],b.head&&k&&b.length<65536&&(b.head.comment+=String.fromCharCode(k))}while(k&&t<Y);if(512&b.flags&&(b.check=m(b.check,X,t,u)),Y-=t,u+=t,k)break l}else b.head&&(b.head.comment=null);b.mode=9;case 9:if(512&b.flags){for(;n<16;){if(0===Y)break l;Y--,i+=X[u++]<<n,n+=8}if(i!==(65535&b.check)){l.msg="header crc mismatch",b.mode=30;break}i=0,n=0}b.head&&(b.head.hcrc=b.flags>>9&1,b.head.done=!0),l.adler=b.check=0,b.mode=12;break;case 10:for(;n<32;){if(0===Y)break l;Y--,i+=X[u++]<<n,n+=8}l.adler=b.check=h(i),i=0,n=0,b.mode=11;case 11:if(0===b.havedict)return l.next_out=R,l.avail_out=a,l.next_in=u,l.avail_in=Y,b.hold=i,b.bits=n,2;l.adler=b.check=1,b.mode=12;case 12:if(5===Z||6===Z)break l;case 13:if(b.last){i>>>=7&n,n-=7&n,b.mode=27;break}for(;n<3;){if(0===Y)break l;Y--,i+=X[u++]<<n,n+=8}switch(b.last=1&i,n-=1,3&(i>>>=1)){case 0:b.mode=14;break;case 1:if(p(b),b.mode=20,6===Z){i>>>=2,n-=2;break l}break;case 2:b.mode=17;break;case 3:l.msg="invalid block type",b.mode=30}i>>>=2,n-=2;break;case 14:for(i>>>=7&n,n-=7&n;n<32;){if(0===Y)break l;Y--,i+=X[u++]<<n,n+=8}if((65535&i)!=(i>>>16^65535)){l.msg="invalid stored block lengths",b.mode=30;break}if(b.length=65535&i,i=0,n=0,b.mode=15,6===Z)break l;case 15:b.mode=16;case 16:if(t=b.length){if(t>Y&&(t=Y),t>a&&(t=a),0===t)break l;G.arraySet(V,X,u,t,R),Y-=t,u+=t,a-=t,R+=t,b.length-=t;break}b.mode=12;break;case 17:for(;n<14;){if(0===Y)break l;Y--,i+=X[u++]<<n,n+=8}if(b.nlen=257+(31&i),i>>>=5,n-=5,b.ndist=1+(31&i),i>>>=5,n-=5,b.ncode=4+(15&i),i>>>=4,n-=4,b.nlen>286||b.ndist>30){l.msg="too many length or distance symbols",b.mode=30;break}b.have=0,b.mode=18;case 18:for(;b.have<b.ncode;){for(;n<3;){if(0===Y)break l;Y--,i+=X[u++]<<n,n+=8}b.lens[v[b.have++]]=7&i,i>>>=3,n-=3}for(;b.have<19;)b.lens[v[b.have++]]=0;if(b.lencode=b.lendyn,b.lenbits=7,U={bits:b.lenbits},e=c(0,b.lens,0,19,b.lencode,0,b.work,U),b.lenbits=U.bits,e){l.msg="invalid code lengths set",b.mode=30;break}b.have=0,b.mode=19;case 19:for(;b.have<b.nlen+b.ndist;){for(;S=(z=b.lencode[i&(1<<b.lenbits)-1])>>>16&255,J=65535&z,!((x=z>>>24)<=n);){if(0===Y)break l;Y--,i+=X[u++]<<n,n+=8}if(J<16)i>>>=x,n-=x,b.lens[b.have++]=J;else{if(16===J){for(T=x+2;n<T;){if(0===Y)break l;Y--,i+=X[u++]<<n,n+=8}if(i>>>=x,n-=x,0===b.have){l.msg="invalid bit length repeat",b.mode=30;break}k=b.lens[b.have-1],t=3+(3&i),i>>>=2,n-=2}else if(17===J){for(T=x+3;n<T;){if(0===Y)break l;Y--,i+=X[u++]<<n,n+=8}n-=x,k=0,t=3+(7&(i>>>=x)),i>>>=3,n-=3}else{for(T=x+7;n<T;){if(0===Y)break l;Y--,i+=X[u++]<<n,n+=8}n-=x,k=0,t=11+(127&(i>>>=x)),i>>>=7,n-=7}if(b.have+t>b.nlen+b.ndist){l.msg="invalid bit length repeat",b.mode=30;break}for(;t--;)b.lens[b.have++]=k}}if(30===b.mode)break;if(0===b.lens[256]){l.msg="invalid code -- missing end-of-block",b.mode=30;break}if(b.lenbits=9,U={bits:b.lenbits},e=c(1,b.lens,0,b.nlen,b.lencode,0,b.work,U),b.lenbits=U.bits,e){l.msg="invalid literal/lengths set",b.mode=30;break}if(b.distbits=6,b.distcode=b.distdyn,U={bits:b.distbits},e=c(2,b.lens,b.nlen,b.ndist,b.distcode,0,b.work,U),b.distbits=U.bits,e){l.msg="invalid distances set",b.mode=30;break}if(b.mode=20,6===Z)break l;case 20:b.mode=21;case 21:if(Y>=6&&a>=258){l.next_out=R,l.avail_out=a,l.next_in=u,l.avail_in=Y,b.hold=i,b.bits=n,W(l,L),R=l.next_out,V=l.output,a=l.avail_out,u=l.next_in,X=l.input,Y=l.avail_in,i=b.hold,n=b.bits,12===b.mode&&(b.back=-1);break}for(b.back=0;S=(z=b.lencode[i&(1<<b.lenbits)-1])>>>16&255,J=65535&z,!((x=z>>>24)<=n);){if(0===Y)break l;Y--,i+=X[u++]<<n,n+=8}if(S&&0==(240&S)){for(I=x,N=S,K=J;S=(z=b.lencode[K+((i&(1<<I+N)-1)>>I)])>>>16&255,J=65535&z,!(I+(x=z>>>24)<=n);){if(0===Y)break l;Y--,i+=X[u++]<<n,n+=8}i>>>=I,n-=I,b.back+=I}if(i>>>=x,n-=x,b.back+=x,b.length=J,0===S){b.mode=26;break}if(32&S){b.back=-1,b.mode=12;break}if(64&S){l.msg="invalid literal/length code",b.mode=30;break}b.extra=15&S,b.mode=22;case 22:if(b.extra){for(T=b.extra;n<T;){if(0===Y)break l;Y--,i+=X[u++]<<n,n+=8}b.length+=i&(1<<b.extra)-1,i>>>=b.extra,n-=b.extra,b.back+=b.extra}b.was=b.length,b.mode=23;case 23:for(;S=(z=b.distcode[i&(1<<b.distbits)-1])>>>16&255,J=65535&z,!((x=z>>>24)<=n);){if(0===Y)break l;Y--,i+=X[u++]<<n,n+=8}if(0==(240&S)){for(I=x,N=S,K=J;S=(z=b.distcode[K+((i&(1<<I+N)-1)>>I)])>>>16&255,J=65535&z,!(I+(x=z>>>24)<=n);){if(0===Y)break l;Y--,i+=X[u++]<<n,n+=8}i>>>=I,n-=I,b.back+=I}if(i>>>=x,n-=x,b.back+=x,64&S){l.msg="invalid distance code",b.mode=30;break}b.offset=J,b.extra=15&S,b.mode=24;case 24:if(b.extra){for(T=b.extra;n<T;){if(0===Y)break l;Y--,i+=X[u++]<<n,n+=8}b.offset+=i&(1<<b.extra)-1,i>>>=b.extra,n-=b.extra,b.back+=b.extra}if(b.offset>b.dmax){l.msg="invalid distance too far back",b.mode=30;break}b.mode=25;case 25:if(0===a)break l;if(t=L-a,b.offset>t){if((t=b.offset-t)>b.whave&&b.sane){l.msg="invalid distance too far back",b.mode=30;break}t>b.wnext?(t-=b.wnext,o=b.wsize-t):o=b.wnext-t,t>b.length&&(t=b.length),F=b.window}else F=V,o=R-b.offset,t=b.length;t>a&&(t=a),a-=t,b.length-=t;do{V[R++]=F[o++]}while(--t);0===b.length&&(b.mode=21);break;case 26:if(0===a)break l;V[R++]=b.length,a--,b.mode=21;break;case 27:if(b.wrap){for(;n<32;){if(0===Y)break l;Y--,i|=X[u++]<<n,n+=8}if(L-=a,l.total_out+=L,b.total+=L,L&&(l.adler=b.check=b.flags?m(b.check,V,L,R-L):d(b.check,V,L,R-L)),L=a,(b.flags?i:h(i))!==b.check){l.msg="incorrect data check",b.mode=30;break}i=0,n=0}b.mode=28;case 28:if(b.wrap&&b.flags){for(;n<32;){if(0===Y)break l;Y--,i+=X[u++]<<n,n+=8}if(i!==(4294967295&b.total)){l.msg="incorrect length check",b.mode=30;break}i=0,n=0}b.mode=29;case 29:e=1;break l;case 30:e=-3;break l;case 31:return-4;case 32:default:return-2}return l.next_out=R,l.avail_out=a,l.next_in=u,l.avail_in=Y,b.hold=i,b.bits=n,(b.wsize||L!==l.avail_out&&b.mode<30&&(b.mode<27||4!==Z))&&s(l,l.output,l.next_out,L-l.avail_out)?(b.mode=31,-4):(y-=l.avail_in,L-=l.avail_out,l.total_in+=y,l.total_out+=L,b.total+=L,b.wrap&&L&&(l.adler=b.check=b.flags?m(b.check,V,L,l.next_out-L):d(b.check,V,L,l.next_out-L)),l.data_type=b.bits+(b.last?64:0)+(12===b.mode?128:0)+(20===b.mode||15===b.mode?256:0),(0===y&&0===L||4===Z)&&0===e&&(e=-5),e)},Z.inflateEnd=function(l){if(!l||!l.state)return-2;var Z=l.state;return Z.window&&(Z.window=null),l.state=null,0},Z.inflateGetHeader=function(l,Z){var b;return l&&l.state?0==(2&(b=l.state).wrap)?-2:(b.head=Z,Z.done=!1,0):-2},Z.inflateSetDictionary=function(l,Z){var b,G=Z.length;return l&&l.state?0!==(b=l.state).wrap&&11!==b.mode?-2:11===b.mode&&d(1,Z,G,0)!==b.check?-3:s(l,Z,G,G)?(b.mode=31,-4):(b.havedict=1,0):-2},Z.inflateInfo="pako inflate (from Nodeca project)"},function(l,Z,b){"use strict";l.exports=function(l,Z){var b,G,d,m,W,c,h,X,V,u,R,Y,a,i,n,p,s,y,L,t,o,F,x,S,J;b=l.state,G=l.next_in,S=l.input,d=G+(l.avail_in-5),m=l.next_out,J=l.output,W=m-(Z-l.avail_out),c=m+(l.avail_out-257),h=b.dmax,X=b.wsize,V=b.whave,u=b.wnext,R=b.window,Y=b.hold,a=b.bits,i=b.lencode,n=b.distcode,p=(1<<b.lenbits)-1,s=(1<<b.distbits)-1;l:do{a<15&&(Y+=S[G++]<<a,a+=8,Y+=S[G++]<<a,a+=8),y=i[Y&p];Z:for(;;){if(Y>>>=L=y>>>24,a-=L,0===(L=y>>>16&255))J[m++]=65535&y;else{if(!(16&L)){if(0==(64&L)){y=i[(65535&y)+(Y&(1<<L)-1)];continue Z}if(32&L){b.mode=12;break l}l.msg="invalid literal/length code",b.mode=30;break l}t=65535&y,(L&=15)&&(a<L&&(Y+=S[G++]<<a,a+=8),t+=Y&(1<<L)-1,Y>>>=L,a-=L),a<15&&(Y+=S[G++]<<a,a+=8,Y+=S[G++]<<a,a+=8),y=n[Y&s];b:for(;;){if(Y>>>=L=y>>>24,a-=L,!(16&(L=y>>>16&255))){if(0==(64&L)){y=n[(65535&y)+(Y&(1<<L)-1)];continue b}l.msg="invalid distance code",b.mode=30;break l}if(o=65535&y,a<(L&=15)&&(Y+=S[G++]<<a,(a+=8)<L&&(Y+=S[G++]<<a,a+=8)),(o+=Y&(1<<L)-1)>h){l.msg="invalid distance too far back",b.mode=30;break l}if(Y>>>=L,a-=L,o>(L=m-W)){if((L=o-L)>V&&b.sane){l.msg="invalid distance too far back",b.mode=30;break l}if(F=0,x=R,0===u){if(F+=X-L,L<t){t-=L;do{J[m++]=R[F++]}while(--L);F=m-o,x=J}}else if(u<L){if(F+=X+u-L,(L-=u)<t){t-=L;do{J[m++]=R[F++]}while(--L);if(F=0,u<t){t-=L=u;do{J[m++]=R[F++]}while(--L);F=m-o,x=J}}}else if(F+=u-L,L<t){t-=L;do{J[m++]=R[F++]}while(--L);F=m-o,x=J}for(;t>2;)J[m++]=x[F++],J[m++]=x[F++],J[m++]=x[F++],t-=3;t&&(J[m++]=x[F++],t>1&&(J[m++]=x[F++]))}else{F=m-o;do{J[m++]=J[F++],J[m++]=J[F++],J[m++]=J[F++],t-=3}while(t>2);t&&(J[m++]=J[F++],t>1&&(J[m++]=J[F++]))}break}}break}}while(G<d&&m<c);G-=t=a>>3,Y&=(1<<(a-=t<<3))-1,l.next_in=G,l.next_out=m,l.avail_in=G<d?d-G+5:5-(G-d),l.avail_out=m<c?c-m+257:257-(m-c),b.hold=Y,b.bits=a}},function(l,Z,b){"use strict";var G=b(3),d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],m=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],W=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];l.exports=function(l,Z,b,h,X,V,u,R){var Y,a,i,n,p,s,y,L,t,o=R.bits,F=0,x=0,S=0,J=0,I=0,N=0,K=0,k=0,e=0,U=0,T=null,z=0,C=new G.Buf16(16),v=new G.Buf16(16),E=null,H=0;for(F=0;F<=15;F++)C[F]=0;for(x=0;x<h;x++)C[Z[b+x]]++;for(I=o,J=15;J>=1&&0===C[J];J--);if(I>J&&(I=J),0===J)return X[V++]=20971520,X[V++]=20971520,R.bits=1,0;for(S=1;S<J&&0===C[S];S++);for(I<S&&(I=S),k=1,F=1;F<=15;F++)if(k<<=1,(k-=C[F])<0)return-1;if(k>0&&(0===l||1!==J))return-1;for(v[1]=0,F=1;F<15;F++)v[F+1]=v[F]+C[F];for(x=0;x<h;x++)0!==Z[b+x]&&(u[v[Z[b+x]]++]=x);if(0===l?(T=E=u,s=19):1===l?(T=d,z-=257,E=m,H-=257,s=256):(T=W,E=c,s=-1),U=0,x=0,F=S,p=V,N=I,K=0,i=-1,n=(e=1<<I)-1,1===l&&e>852||2===l&&e>592)return 1;for(;;){y=F-K,u[x]<s?(L=0,t=u[x]):u[x]>s?(L=E[H+u[x]],t=T[z+u[x]]):(L=96,t=0),Y=1<<F-K,S=a=1<<N;do{X[p+(U>>K)+(a-=Y)]=y<<24|L<<16|t|0}while(0!==a);for(Y=1<<F-1;U&Y;)Y>>=1;if(0!==Y?(U&=Y-1,U+=Y):U=0,x++,0==--C[F]){if(F===J)break;F=Z[b+u[x]]}if(F>I&&(U&n)!==i){for(0===K&&(K=I),p+=S,k=1<<(N=F-K);N+K<J&&!((k-=C[N+K])<=0);)N++,k<<=1;if(e+=1<<N,1===l&&e>852||2===l&&e>592)return 1;X[i=U&n]=I<<24|N<<16|p-V|0}}return 0!==U&&(X[p+U]=F-K<<24|64<<16|0),R.bits=I,0}},function(l,Z,b){"use strict";l.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(l,Z){function b(l){var Z="    ";if(isNaN(parseInt(l)))Z=l;else switch(l){case 1:Z=" ";break;case 2:Z="  ";break;case 3:Z="   ";break;case 4:Z="    ";break;case 5:Z="     ";break;case 6:Z="      ";break;case 7:Z="       ";break;case 8:Z="        ";break;case 9:Z="         ";break;case 10:Z="          ";break;case 11:Z="           ";break;case 12:Z="            "}for(var b=["\n"],G=0;G<100;G++)b.push(b[G]+Z);return b}function G(){this.step="    ",this.shift=b(this.step)}function d(l,Z){return Z-(l.replace(/\(/g,"").length-l.replace(/\)/g,"").length)}function m(l,Z){return l.replace(/\s{1,}/g," ").replace(/ AND /gi,"~::~"+Z+Z+"AND ").replace(/ BETWEEN /gi,"~::~"+Z+"BETWEEN ").replace(/ CASE /gi,"~::~"+Z+"CASE ").replace(/ ELSE /gi,"~::~"+Z+"ELSE ").replace(/ END /gi,"~::~"+Z+"END ").replace(/ FROM /gi,"~::~FROM ").replace(/ GROUP\s{1,}BY/gi,"~::~GROUP BY ").replace(/ HAVING /gi,"~::~HAVING ").replace(/ IN /gi," IN ").replace(/ JOIN /gi,"~::~JOIN ").replace(/ CROSS~::~{1,}JOIN /gi,"~::~CROSS JOIN ").replace(/ INNER~::~{1,}JOIN /gi,"~::~INNER JOIN ").replace(/ LEFT~::~{1,}JOIN /gi,"~::~LEFT JOIN ").replace(/ RIGHT~::~{1,}JOIN /gi,"~::~RIGHT JOIN ").replace(/ ON /gi,"~::~"+Z+"ON ").replace(/ OR /gi,"~::~"+Z+Z+"OR ").replace(/ ORDER\s{1,}BY/gi,"~::~ORDER BY ").replace(/ OVER /gi,"~::~"+Z+"OVER ").replace(/\(\s{0,}SELECT /gi,"~::~(SELECT ").replace(/\)\s{0,}SELECT /gi,")~::~SELECT ").replace(/ THEN /gi," THEN~::~"+Z).replace(/ UNION /gi,"~::~UNION~::~").replace(/ USING /gi,"~::~USING ").replace(/ WHEN /gi,"~::~"+Z+"WHEN ").replace(/ WHERE /gi,"~::~WHERE ").replace(/ WITH /gi,"~::~WITH ").replace(/ ALL /gi," ALL ").replace(/ AS /gi," AS ").replace(/ ASC /gi," ASC ").replace(/ DESC /gi," DESC ").replace(/ DISTINCT /gi," DISTINCT ").replace(/ EXISTS /gi," EXISTS ").replace(/ NOT /gi," NOT ").replace(/ NULL /gi," NULL ").replace(/ LIKE /gi," LIKE ").replace(/\s{0,}SELECT /gi,"SELECT ").replace(/\s{0,}UPDATE /gi,"UPDATE ").replace(/ SET /gi," SET ").replace(/~::~{1,}/g,"~::~").split("~::~")}G.prototype.xml=function(l,Z){var G=l.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns\:/g,"~::~xmlns:").replace(/\s*xmlns\=/g,"~::~xmlns=").split("~::~"),d=G.length,m=!1,W=0,c="",h=0,X=Z?b(Z):this.shift;for(h=0;h<d;h++)G[h].search(/<!/)>-1?(c+=X[W]+G[h],m=!0,(G[h].search(/-->/)>-1||G[h].search(/\]>/)>-1||G[h].search(/!DOCTYPE/)>-1)&&(m=!1)):G[h].search(/-->/)>-1||G[h].search(/\]>/)>-1?(c+=G[h],m=!1):/^<\w/.exec(G[h-1])&&/^<\/\w/.exec(G[h])&&/^<[\w:\-\.\,]+/.exec(G[h-1])==/^<\/[\w:\-\.\,]+/.exec(G[h])[0].replace("/","")?(c+=G[h],m||W--):G[h].search(/<\w/)>-1&&-1==G[h].search(/<\//)&&-1==G[h].search(/\/>/)?c=c+=m?G[h]:X[W++]+G[h]:G[h].search(/<\w/)>-1&&G[h].search(/<\//)>-1?c=c+=m?G[h]:X[W]+G[h]:G[h].search(/<\//)>-1?c=c+=m?G[h]:X[--W]+G[h]:G[h].search(/\/>/)>-1?c=c+=m?G[h]:X[W]+G[h]:G[h].search(/<\?/)>-1||G[h].search(/xmlns\:/)>-1||G[h].search(/xmlns\=/)>-1?c+=X[W]+G[h]:c+=G[h];return"\n"==c[0]?c.slice(1):c},G.prototype.json=function(l,Z){Z=Z||this.step;return"undefined"==typeof JSON?l:"string"==typeof l?JSON.stringify(JSON.parse(l),null,Z):"object"==typeof l?JSON.stringify(l,null,Z):l},G.prototype.css=function(l,Z){var G=l.replace(/\s{1,}/g," ").replace(/\{/g,"{~::~").replace(/\}/g,"~::~}~::~").replace(/\;/g,";~::~").replace(/\/\*/g,"~::~/*").replace(/\*\//g,"*/~::~").replace(/~::~\s{0,}~::~/g,"~::~").split("~::~"),d=G.length,m=0,W="",c=0,h=Z?b(Z):this.shift;for(c=0;c<d;c++)/\{/.exec(G[c])?W+=h[m++]+G[c]:/\}/.exec(G[c])?W+=h[--m]+G[c]:(/\*\\/.exec(G[c]),W+=h[m]+G[c]);return W.replace(/^\n{1,}/,"")},G.prototype.sql=function(l,Z){var G=l.replace(/\s{1,}/g," ").replace(/\'/gi,"~::~'").split("~::~"),W=G.length,c=[],h=0,X=this.step,V=0,u="",R=0,Y=Z?b(Z):this.shift;for(R=0;R<W;R++)c=R%2?c.concat(G[R]):c.concat(m(G[R],X));for(W=c.length,R=0;R<W;R++){V=d(c[R],V),/\s{0,}\s{0,}SELECT\s{0,}/.exec(c[R])&&(c[R]=c[R].replace(/\,/g,",\n"+X+X)),/\s{0,}\s{0,}SET\s{0,}/.exec(c[R])&&(c[R]=c[R].replace(/\,/g,",\n"+X+X)),/\s{0,}\(\s{0,}SELECT\s{0,}/.exec(c[R])?u+=Y[++h]+c[R]:/\'/.exec(c[R])?(V<1&&h&&h--,u+=c[R]):(u+=Y[h]+c[R],V<1&&h&&h--)}return u=u.replace(/^\n{1,}/,"").replace(/\n{1,}/g,"\n")},G.prototype.xmlmin=function(l,Z){return(Z?l:l.replace(/\<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)\>/g,"").replace(/[ \r\n\t]{1,}xmlns/g," xmlns")).replace(/>\s{0,}</g,"><")},G.prototype.jsonmin=function(l){return"undefined"==typeof JSON?l:JSON.stringify(JSON.parse(l),null,0)},G.prototype.cssmin=function(l,Z){return(Z?l:l.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\//g,"")).replace(/\s{1,}/g," ").replace(/\{\s{1,}/g,"{").replace(/\}\s{1,}/g,"}").replace(/\;\s{1,}/g,";").replace(/\/\*\s{1,}/g,"/*").replace(/\*\/\s{1,}/g,"*/")},G.prototype.sqlmin=function(l){return l.replace(/\s{1,}/g," ").replace(/\s{1,}\(/,"(").replace(/\s{1,}\)/,")")},l.exports=new G},function(l,Z,b){var G=b(31);l.exports=function(l,Z,b){var d={},m="SAFE_EVAL_"+Math.floor(1e6*Math.random());d[m]={};return l="\n    (function(){\n      Function = undefined;\n      const keys = Object.getOwnPropertyNames(this).concat(['constructor']);\n      keys.forEach((key) => {\n        const item = this[key];\n        if(!item || typeof item.constructor !== 'function') return;\n        this[key].constructor = undefined;\n      });\n    })();\n  "+m+"="+l,Z&&Object.keys(Z).forEach((function(l){d[l]=Z[l]})),G.runInNewContext(l,d,b),d[m]}},function(module,exports){var indexOf=function(l,Z){if(l.indexOf)return l.indexOf(Z);for(var b=0;b<l.length;b++)if(l[b]===Z)return b;return-1},Object_keys=function(l){if(Object.keys)return Object.keys(l);var Z=[];for(var b in l)Z.push(b);return Z},forEach=function(l,Z){if(l.forEach)return l.forEach(Z);for(var b=0;b<l.length;b++)Z(l[b],b,l)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(l,Z,b){Object.defineProperty(l,Z,{writable:!0,enumerable:!1,configurable:!0,value:b})}}catch(l){return function(l,Z,b){l[Z]=b}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(l){if(!(this instanceof Script))return new Script(l);this.code=l};Script.prototype.runInContext=function(l){if(!(l instanceof Context))throw new TypeError("needs a 'context' argument.");var Z=document.createElement("iframe");Z.style||(Z.style={}),Z.style.display="none",document.body.appendChild(Z);var b=Z.contentWindow,G=b.eval,d=b.execScript;!G&&d&&(d.call(b,"null"),G=b.eval),forEach(Object_keys(l),(function(Z){b[Z]=l[Z]})),forEach(globals,(function(Z){l[Z]&&(b[Z]=l[Z])}));var m=Object_keys(b),W=G.call(b,this.code);return forEach(Object_keys(b),(function(Z){(Z in l||-1===indexOf(m,Z))&&(l[Z]=b[Z])})),forEach(globals,(function(Z){Z in l||defineProp(l,Z,b[Z])})),document.body.removeChild(Z),W},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(l){var Z=Script.createContext(l),b=this.runInContext(Z);return l&&forEach(Object_keys(Z),(function(b){l[b]=Z[b]})),b},forEach(Object_keys(Script.prototype),(function(l){exports[l]=Script[l]=function(Z){var b=Script(Z);return b[l].apply(b,[].slice.call(arguments,1))}})),exports.isContext=function(l){return l instanceof Context},exports.createScript=function(l){return exports.Script(l)},exports.createContext=Script.createContext=function(l){var Z=new Context;return"object"==typeof l&&forEach(Object_keys(l),(function(b){Z[b]=l[b]})),Z}},function(l,Z){var b;b=function(){return this}();try{b=b||new Function("return this")()}catch(l){"object"==typeof window&&(b=window)}l.exports=b},function(l,Z,b){"use strict";b.r(Z);var G=b(5),d=b(1),m=b(8),W=b.n(m),c=b(16),h=b.n(c),X=b(9),V=b(17),u={formatValue:function(l,Z,b){return W.a.valueFormats[Z](l,b,null).toString()},getUnitFormats:function(){return W.a.getUnitFormats()},loadCss:function(){Object(G.loadPluginCss)({dark:"plugins/agenty-flowcharting-panel/static/css/flowchart.dark.css",light:"plugins/agenty-flowcharting-panel/static/css/flowchart.light.css"})},getTimeSeries:function(l){return new h.a({datapoints:l.datapoints||[],alias:l.target,unit:l.unit})},getFormatedDate:function(l,Z){return Object(X.dateTime)(l).format(Z)},appEvents:b.n(V).a,MetricsPanelCtrl:G.MetricsPanelCtrl,PanelEvents:X.PanelEvents},R=b(2),Y=b.n(R),a=b(0),i=b(4),n=b.n(i);function p(l){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(l)}function s(l,Z){return!Z||"object"!==p(Z)&&"function"!=typeof Z?function(l){if(void 0===l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}(l):Z}function y(l,Z,b){return(y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(l,Z,b){var G=function(l,Z){for(;!Object.prototype.hasOwnProperty.call(l,Z)&&null!==(l=L(l)););return l}(l,Z);if(G){var d=Object.getOwnPropertyDescriptor(G,Z);return d.get?d.get.call(b):d.value}})(l,Z,b||l)}function L(l){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)})(l)}function t(l,Z){if("function"!=typeof Z&&null!==Z)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(Z&&Z.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),Z&&o(l,Z)}function o(l,Z){return(o=Object.setPrototypeOf||function(l,Z){return l.__proto__=Z,l})(l,Z)}function F(l,Z){if(!(l instanceof Z))throw new TypeError("Cannot call a class as a function")}function x(l,Z){for(var b=0;b<Z.length;b++){var G=Z[b];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(l,G.key,G)}}function S(l,Z,b){return Z&&x(l.prototype,Z),b&&x(l,b),l}var J=function(){function l(Z,b){F(this,l),this.shapeMaps=[],this.textMaps=[],this.linkMaps=[],this.eventMaps=[],this.valueMaps=[],this.rangeMaps=[],this.removeClick=2,this.highestLevel=-1,this.highestColor="",this.highestFormattedValue="",this.highestValue=void 0,this.execTimes=0,this.data=b,this.data.pattern=Z,this.id=a.a.utils.uniqueID(),this.states=new Map}return S(l,[{key:"getData",value:function(){return this.data}},{key:"import",value:function(l){var Z=this,b=a.a.trace.before(this.constructor.name+".import()");l.unit&&(this.data.unit=l.unit),l.type&&(this.data.type=l.type),l.metricType&&(this.data.metricType=l.metricType),l.alias&&(this.data.alias=l.alias),l.refId&&(this.data.refId=l.refId),l.column&&(this.data.column=l.column),l.aggregation&&(this.data.aggregation=l.aggregation),(l.decimals||0===l.decimals)&&(this.data.decimals=l.decimals),l.colors&&(this.data.colors=l.colors.slice(0)),this.data.reduce&&(this.data.reduce=!0);var G=void 0;l.colorOn&&(G=l.colorOn);var d=void 0;l.style&&(d=l.style);var m=!1,W=void 0,c=void 0;l.link&&(m=l.link),l.linkUrl&&(W=l.linkUrl),l.linkParams&&(c=l.linkParams);var h=void 0;l.linkOn&&(h=l.linkOn);var X=void 0;l.textOn&&(X=l.textOn);var V=void 0,u=void 0;l.textReplace&&(V=l.textReplace),l.textPattern&&(u=l.textPattern),l.pattern&&(this.data.pattern=l.pattern),l.dateFormat&&(this.data.dateFormat=l.dateFormat),l.thresholds&&(this.data.thresholds=l.thresholds.map((function(l){var Z=l;return"string"==typeof Z&&(Z=parseFloat(Z)),Z}))),l.stringThresholds&&(this.data.stringThresholds=l.stringThresholds.slice(0)),l.stringWarning&&(this.data.stringThresholds[1]=l.stringWarning),l.stringCritical&&(this.data.stringThresholds[0]=l.stringCritical),(l.invert||!1===l.invert)&&(this.data.invert=l.invert),(l.gradient||!1===l.gradient)&&(this.data.gradient=l.gradient),(l.overlayIcon||!1===l.overlayIcon)&&(this.data.overlayIcon=l.overlayIcon),(l.tooltip||!1===l.tooltip)&&(this.data.tooltip=l.tooltip),l.tooltipLabel&&(this.data.tooltipLabel=l.tooltipLabel),(l.tooltipColors||!1===l.tooltipColors)&&(this.data.tooltipColors=l.tooltipColors),l.tooltipOn&&(this.data.tooltipOn=l.tooltipOn),l.tpDirection&&(this.data.tpDirection=l.tpDirection),(l.tpGraph||!1===this.data.tpGraph)&&(this.data.tpGraph=l.tpGraph),l.tpGraphSize&&(this.data.tpGraphSize=l.tpGraphSize),l.tpGraphType&&(this.data.tpGraphType=l.tpGraphType),(l.tpGraphLow||0===l.tpGraphLow)&&(this.data.tpGraphLow=l.tpGraphLow),(l.tpGraphHigh||0===l.tpGraphHigh)&&(this.data.tpGraphHigh=l.tpGraphHigh),l.tpGraphScale&&(this.data.tpGraphScale=l.tpGraphScale);var R=[];return l.shapeProp&&(this.data.shapeProp=l.shapeProp),(l.shapeRegEx||!1===l.shapeRegEx)&&(this.data.shapeRegEx=l.shapeRegEx),this.data.shapeData=[],R=[],null!=(R=void 0!==l.shapeMaps&&null!==l.shapeMaps&&l.shapeMaps.length>0?l.shapeMaps:l.shapeData)&&R.length>0&&R.forEach((function(l){d&&(l.style=d),G&&(l.colorOn=G),Z.addShapeMap("").import(l)})),this.data.textProp=l.textProp||"id",(l.textRegEx||!1===l.textRegEx)&&(this.data.textRegEx=l.textRegEx),this.data.textData=[],R=[],void 0!==(R=void 0!==l.shapeMaps&&null!==l.shapeMaps&&l.shapeMaps.length>0?l.textMaps:l.textData)&&null!=R&&R.length>0&&R.forEach((function(l){V&&(l.textReplace=V),u&&(l.textPattern=u),X&&(l.textOn=X),Z.addTextMap("").import(l)})),this.data.linkProp=l.linkProp||"id",(l.linkRegEx||!1===l.linkRegEx)&&(this.data.linkRegEx=l.linkRegEx),this.data.linkData=[],void 0!==l.linkData&&null!=l.linkData&&l.linkData.length>0&&l.linkData.forEach((function(l){W&&m&&(l.linkUrl=W),c&&m&&(l.linkParams=c),h&&(l.linkOn=h),Z.addLinkMap("").import(l)})),this.data.eventProp=l.eventProp||"id",(l.eventRegEx||!1===l.eventRegEx)&&(this.data.eventRegEx=l.eventRegEx),this.data.eventData=[],void 0!==l.eventData&&null!=l.eventData&&l.eventData.length>0&&l.eventData.forEach((function(l){Z.addEventMap("").import(l)})),this.data.mappingType=l.mappingType||1,this.data.valueData=[],void 0!==l.valueData&&null!=l.valueData&&l.valueData.length>0&&l.valueData.forEach((function(l){Z.addValueMap("value","text").import(l)})),this.data.rangeData=[],void 0!==l.rangeData&&null!=l.rangeData&&l.rangeData.length>0&&l.rangeData.forEach((function(l){Z.addRangeMap("from","to","text").import(l)})),this.data.sanitize=l.sanitize||!1,b.after(),this}},{key:"clear",value:function(){return this}},{key:"getId",value:function(){return this.id}},{key:"highlightCells",value:function(){this.states&&this.states.forEach((function(l){l.highlightCell()}))}},{key:"unhighlightCells",value:function(){this.states&&this.states.forEach((function(l){l.unhighlightCell()}))}},{key:"setOrder",value:function(l){this.data.order=l}},{key:"getOrder",value:function(){return this.data.order}},{key:"isHidden",value:function(){return this.data.hidden}},{key:"hide",value:function(){return this.data.hidden=!0,this}},{key:"show",value:function(){return this.data.hidden=!1,this}},{key:"invertColorOrder",value:function(){return this.data.colors.reverse(),this}},{key:"invertThesholds",value:function(){return this.invertColorOrder(),this.data.invert=!this.data.invert,this}},{key:"addColor",value:function(l){var Z,b,G=this.data.thresholds,d=this.data.colors,m=d[l];if(l!==d.length-1){var W=d[l+1];try{Z=n.a.scale([m,W]).mode("lrgb")(.5).hex()}catch(l){a.a.log.error(l),Z=m}if("number"===this.data.type)b=(G[l]-G[l-1])/2+G[l-1];else b=this.data.stringThresholds[l-1]}else Z=m;return this.data.colors.splice(l+1,0,Z),"number"===this.data.type?this.data.thresholds.splice(l,0,b):"string"===this.data.type&&this.data.stringThresholds.splice(l,0,b),this}},{key:"removeColor",value:function(l){return this.data.thresholds.splice(l-1,1),this.data.stringThresholds.splice(l-1,1),this.data.colors.splice(l,1),this}},{key:"getColor",value:function(l){return this.data.colors[l]}},{key:"getColors",value:function(){return this.data.colors}},{key:"getColorsCount",value:function(){return this.data.colors.length}},{key:"toIconize",value:function(l){return!1!==this.data.overlayIcon&&(!0===this.data.overlayIcon&&l>=1)}},{key:"toTooltipize",value:function(l){return!1!==this.data.tooltip&&("a"===this.data.tooltipOn||"wc"===this.data.tooltipOn&&l>=1)}},{key:"matchMetric",value:function(l){return"serie"===this.data.metricType&&"serie"===l.type?a.a.utils.matchString(l.getName(),this.data.pattern):"table"===this.data.metricType&&"table"===l.type&&l.getName()===this.data.refId}},{key:"addShapeMap",value:function(l){var Z=N.getDefaultData(),b=new N(l,Z);return this.shapeMaps.push(b),this.data.shapeData.push(Z),b}},{key:"removeShapeMap",value:function(l){return this.data.shapeData.splice(l,1),this.shapeMaps.splice(l,1),this}},{key:"getShapeMap",value:function(l){return this.shapeMaps[l]}},{key:"getShapeMaps",value:function(){return this.shapeMaps}},{key:"matchShape",value:function(l){var Z=this,b=!1;return this.shapeMaps.forEach((function(G){G.match(l,Z.data.shapeRegEx)&&(b=!0)})),b}},{key:"addTextMap",value:function(l){var Z=K.getDefaultData(),b=new K(l,Z);return this.textMaps.push(b),this.data.textData.push(Z),b}},{key:"removeTextMap",value:function(l){this.data.textData.splice(l,1),this.textMaps.splice(l,1)}},{key:"getTextMap",value:function(l){return this.textMaps[l]}},{key:"getTextMaps",value:function(){return this.textMaps}},{key:"matchText",value:function(l){var Z=!1;return this.textMaps.forEach((function(b){b.match(l)&&(Z=!0)})),Z}},{key:"addEventMap",value:function(l){var Z=e.getDefaultData(),b=new e(l,Z);return this.eventMaps.push(b),this.data.eventData.push(Z),b}},{key:"removeEventMap",value:function(l){this.data.eventData.splice(l,1),this.eventMaps.splice(l,1)}},{key:"getEventMap",value:function(l){return this.eventMaps[l]}},{key:"getEventMaps",value:function(){return this.eventMaps}},{key:"matchEvent",value:function(l){var Z=!1;return this.eventMaps.forEach((function(b){b.match(l)&&(Z=!0)})),Z}},{key:"addLinkMap",value:function(l){a.a.log.info("Rule.addLinkMap()");var Z=k.getDefaultData(),b=new k(l,Z);return b.import(Z),this.linkMaps.push(b),this.data.linkData.push(Z),b}},{key:"removeLinkMap",value:function(l){this.data.linkData.splice(l,1),this.linkMaps.splice(l,1)}},{key:"getLinkMap",value:function(l){return this.linkMaps[l]}},{key:"getLinkMaps",value:function(){return this.linkMaps}},{key:"matchLink",value:function(l){var Z=!1;return this.linkMaps.forEach((function(b){b.match(l)&&(Z=!0)})),Z}},{key:"addValueMap",value:function(l,Z){var b=T.getDefaultdata(),G=new T(l,Z,b);return this.valueMaps.push(G),this.data.valueData.push(b),G}},{key:"removeValueMap",value:function(l){this.data.valueData.splice(l,1),this.valueMaps.splice(l,1)}},{key:"getValueMap",value:function(l){return this.valueMaps[l]}},{key:"getValueMaps",value:function(){return this.valueMaps}},{key:"addRangeMap",value:function(l,Z,b){var G=U.getDefaultData(),d=new U(l,Z,b,G);return this.rangeMaps.push(d),this.data.rangeData.push(G),d}},{key:"removeRangeMap",value:function(l){this.data.rangeData.splice(l,1),this.rangeMaps.splice(l,1)}},{key:"getRangeMap",value:function(l){return this.rangeMaps[l]}},{key:"getRangeMaps",value:function(){return this.rangeMaps}},{key:"hideRangeMap",value:function(l){return this.rangeMaps[l].hide(),this}},{key:"showRangeMap",value:function(l){return this.rangeMaps[l].show(),this}},{key:"getExectedTime",value:function(){return"number"==typeof this.execTimes?"".concat(this.execTimes.toFixed(2)," ms"):"".concat(this.execTimes," ms")}},{key:"getColorForValue",value:function(l){if(!this.data.gradient||"number"!==this.data.type){var Z=this.getThresholdLevel(l);return this.getColorForLevel(Z)}if("number"===this.data.type){var b=this.data.thresholds,G=this.data.colors,d=b.length;if(void 0===b||0===d)return G[0];for(var m=0,W=0;W<d;W++){if(l<b[W])break;m=W}if(0===m&&l<=b[0])return G[0];if(m===d-1)return G[m+1];var c=b[m+1]-b[m],h=(l-b[m])/c,X=G[m+1];try{X=n.a.scale([G[m+1],G[m+2]]).mode("lrgb")(h).hex()}catch(l){X=G[m+1]}return X}return""}},{key:"getColorForLevel",value:function(l){var Z=this.data.colors;if(l<0)return Z[0];var b=l;return this.data.invert||(b=this.data.colors.length-1-l),void 0!==Z[b]?Z[b]:Z[0]}},{key:"getThresholdLevel",value:function(l){if("number"===this.data.type){var Z=0,b=this.data.thresholds;if(void 0===b||0===b.length)return 0;for(var G=b.length,d=0;d<G;d++){if(l<b[d])break;Z=d+1}return this.data.invert||(Z=this.data.colors.length-1-Z),Z}if("string"===this.data.type){var m=0,W=this.getFormattedValue(l),c=this.data.stringThresholds;if(void 0===c||0===c.length)return 0;for(var h=c.length,X=0;X<h;X++){var V=c[X];if(a.a.utils.matchString(l,V)||a.a.utils.matchString(W,V)){m=X+1;break}}return this.data.invert||(m=this.data.colors.length-1-m),m}return 0}},{key:"getValueForMetric",value:function(l){if(this.matchMetric(l))try{return l.getValue(this.data.aggregation,this.data.column)}catch(l){return a.a.log.error("datapoint for metric is null",l),null}return"-"}},{key:"getFormattedValueForMetric",value:function(l){var Z=this.getValueForMetric(l);return this.getFormattedValue(Z)}},{key:"getFormattedValue",value:function(l){if("number"===this.data.type){if(!Y.a.isFinite(l))return"null";if(null==l)return"-";var Z=this.decimalPlaces(l);return Z="number"==typeof this.data.decimals?Math.min(this.data.decimals,Z):Z,u.formatValue(l,this.data.unit,this.data.decimals)}if("string"===this.data.type){null==l&&(l="null"),Y.a.isArray(l)&&(l=l.join(", "));var b=this.data.mappingType||0;if(1===b&&this.valueMaps){for(var G=0;G<this.valueMaps.length;G+=1){var d=this.valueMaps[G];if(d.match(l))return d.getFormattedText(l)}return l.toString()}if(2===b&&this.rangeMaps){for(var m=0;m<this.rangeMaps.length;m+=1){var W=this.rangeMaps[m];if(W.match(l))return W.getFormattedText(l)}return l.toString()}if(null==l)return"null"}return"date"===this.data.type?null==l?"-":(Y.a.isArray(l)&&(l=l[0]),u.getFormatedDate(l,this.data.dateFormat)):l}},{key:"defaultValueFormatter",value:function(l){return null==l||void 0===l?"":(Y.a.isArray(l)&&(l=l.join(", ")),this.data.sanitize?this.$sanitize(l):Y.a.escape(l))}},{key:"$sanitize",value:function(l){throw new Error("Method not implemented.")}},{key:"decimalPlaces",value:function(l){var Z=(""+l).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return Z?Math.max(0,(Z[1]?Z[1].length:0)-(Z[2]?+Z[2]:0)):0}}],[{key:"getDefaultData",value:function(){return{order:1,pattern:".*",unit:"short",type:"number",metricType:"serie",alias:"myRule",refId:"A",column:"Time",hidden:!1,aggregation:"current",decimals:2,colors:["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],reduce:!0,dateFormat:"YYYY-MM-DD HH:mm:ss",thresholds:[50,80],stringThresholds:["/.*/","/.*/"],invert:!1,gradient:!1,overlayIcon:!1,tooltip:!1,tooltipLabel:"",tooltipColors:!1,tooltipOn:"a",tpDirection:"v",tpGraph:!1,tpGraphSize:"100%",tpGraphType:"line",tpGraphLow:null,tpGraphHigh:null,tpGraphScale:"linear",shapeProp:"id",shapeRegEx:!0,shapeData:[],textProp:"id",textRegEx:!0,textData:[],linkProp:"id",linkRegEx:!0,linkData:[],eventProp:"id",eventRegEx:!1,eventData:[],mappingType:1,valueData:[],rangeData:[],sanitize:!1}}}]),l}(),I=function(){function l(Z,b){F(this,l),this.data=b,this.data.pattern=Z,this.id=a.a.utils.uniqueID()}return S(l,[{key:"import",value:function(l){return l.pattern&&(this.data.pattern=l.pattern),l.hidden&&(this.data.hidden=l.hidden),this}},{key:"clear",value:function(){return this}},{key:"match",value:function(l){var Z=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return null!=l&&0!==l.length&&a.a.utils.matchString(l,this.data.pattern,Z)}},{key:"getId",value:function(){return this.id}},{key:"show",value:function(){return this.data.hidden=!1,this}},{key:"hide",value:function(){return this.data.hidden=!0,this}},{key:"isHidden",value:function(){return void 0!==this.data.hidden&&this.data.hidden}},{key:"toVisible",value:function(){return!this.data.hidden}},{key:"export",value:function(){return{pattern:this.data.pattern,hidden:this.data.hidden}}}],[{key:"getDefaultMethods",value:function(){return this.methods}},{key:"getDefaultPlaceHolder",value:function(l){var Z=this.methods.find((function(Z){return Z.value===l}));if(void 0!==Z)return Z.placeholder}},{key:"getDefaultValue",value:function(l){var Z=this.methods.find((function(Z){return Z.value===l}));if(void 0!==Z)return Z.default}}]),l}();I.methods=[];var N=function(l){function Z(l,b){var G;return F(this,Z),(G=s(this,L(Z).call(this,l,b))).data=b,G}return t(Z,l),S(Z,[{key:"toColorize",value:function(l){return-1!==l&&("n"!==this.data.colorOn&&("a"===this.data.colorOn||"wc"===this.data.colorOn&&l>=1))}},{key:"import",value:function(l){return y(L(Z.prototype),"import",this).call(this,l),l.style&&(this.data.style=l.style),l.colorOn&&(this.data.colorOn=l.colorOn),this}}],[{key:"getDefaultData",value:function(){return{pattern:"",hidden:!1,style:"fillColor",colorOn:"a"}}}]),Z}(I),K=function(l){function Z(l,b){var G;return F(this,Z),(G=s(this,L(Z).call(this,l,b))).data=b,G}return t(Z,l),S(Z,[{key:"toLabelize",value:function(l){return"wmd"===this.data.textOn||"n"!==this.data.textOn&&("wc"===this.data.textOn&&l>=1||"co"===this.data.textOn&&l>=2)}},{key:"import",value:function(l){return y(L(Z.prototype),"import",this).call(this,l),l.textReplace&&(this.data.textReplace=l.textReplace),l.textPattern&&(this.data.textPattern=l.textPattern),l.textOn&&(this.data.textOn=l.textOn),this}},{key:"getReplaceText",value:function(l,Z){if("content"===this.data.textReplace)return Z;if("pattern"===this.data.textReplace){var b=a.a.utils.stringToJsRegex(this.data.textPattern);return l.toString().match(b)?l.toString().replace(b,Z):l}return"as"===this.data.textReplace?"".concat(l," ").concat(Z):"anl"===this.data.textReplace?"".concat(l,"\n").concat(Z):l}}],[{key:"getDefaultData",value:function(){return{pattern:"",hidden:!1,textReplace:"content",textPattern:"/.*/",textOn:"wmd"}}}]),Z}(I),k=function(l){function Z(l,b){var G;return F(this,Z),(G=s(this,L(Z).call(this,l,b))).data=b,G}return t(Z,l),S(Z,[{key:"getLink",value:function(){return this.data.linkParams?this.data.linkUrl+window.location.search:this.data.linkUrl}},{key:"import",value:function(l){return y(L(Z.prototype),"import",this).call(this,l),l.linkUrl&&(this.data.linkUrl=l.linkUrl),l.linkParams&&(this.data.linkParams=l.linkParams),l.linkOn&&(this.data.linkOn=l.linkOn),this}},{key:"toLinkable",value:function(l){return"a"===this.data.linkOn||"wc"===this.data.linkOn&&l>=1}}],[{key:"getDefaultData",value:function(){return{pattern:"",hidden:!1,linkUrl:"",linkParams:!1,linkOn:"a"}}}]),Z}(I),e=function(l){function Z(l,b){var G;return F(this,Z),(G=s(this,L(Z).call(this,l,b))).data=b,G}return t(Z,l),S(Z,[{key:"getPlaceHolder",value:function(){var l=Z.getDefaultPlaceHolder(this.data.style);return void 0!==l?l:""}},{key:"getTypeahead",value:function(){var l=this,b=a.a.getFullAvailableVarNames(),G=Z.methods.find((function(Z){return Z.value===l.data.style}));if(void 0!==G&&void 0!==G.typeahead)return b=b.concat(G.typeahead.split("|"));if("shape"===this.data.style){var d=Z.getFormNames();Array.prototype.push.apply(b,d)}return b}},{key:"getValueByDefault",value:function(){var l=Z.getDefaultValue(this.data.style);return void 0!==l?l:""}},{key:"toEventable",value:function(l){return-1===this.data.eventOn||l===this.data.eventOn}},{key:"import",value:function(l){return y(L(Z.prototype),"import",this).call(this,l),l.style&&(this.data.style=l.style),l.eventOn&&(this.data.eventOn=l.eventOn),l.value&&(this.data.value=l.value),this}}],[{key:"getDefaultData",value:function(){return{pattern:"",hidden:!1,style:"shape",eventOn:0,value:""}}},{key:"getFormNames",value:function(){if(Z.shapes.length>0)return Z.shapes;var l=a.a.utils.loadFile(a.a.getVar(a.a.CONSTANTS.VAR_STG_CTXROOT)+a.a.CONSTANTS.CONF_FILE_SHAPESTXT);return void 0!==l&&0===Z.shapes.length?(Z.shapes=Z.shapes.concat(l.split(/\n/)),Z.shapes):Z.shapes}}]),Z}(I);e.methods=a.a.CONSTANTS.EVENTMETHODS,e.shapes=[];var U=function(){function l(Z,b,G,d){F(this,l),this.data=d,this.data.from=Z,this.data.to=b,this.data.text=G,this.data.hidden=!1}return S(l,[{key:"import",value:function(l){return this.data.from=l.from?l.from:void 0,this.data.to=l.to?l.to:void 0,this.data.text=l.text?l.text:void 0,this.data.hidden=!(!l.hidden&&!1!==l.hidden)&&l.hidden,this}},{key:"match",value:function(l){if(void 0!==l&&"string"==typeof l&&l.length>0||void 0!==l&&"number"==typeof l){var Z=Number(l);return void 0!==this.data.from&&"string"==typeof l&&this.data.from.length>0||void 0!==this.data.from&&"number"==typeof l?Z>=Number(this.data.from)&&(!(void 0!==this.data.to&&"string"==typeof this.data.to&&this.data.to.length>0||void 0!==this.data.from&&"number"==typeof this.data.to)||Z<Number(this.data.to)):!(void 0!==this.data.to&&"string"==typeof this.data.to&&this.data.to.length>0||void 0!==this.data.to&&"number"==typeof this.data.to)||Z<Number(this.data.to)}return!1}},{key:"getFormattedText",value:function(l){return this.match(l)?this.data.text:l}},{key:"show",value:function(){this.data.hidden=!1}},{key:"hide",value:function(){this.data.hidden=!0}},{key:"isHidden",value:function(){return this.data.hidden}},{key:"toVisible",value:function(){return!this.data.hidden}},{key:"export",value:function(){return{from:this.data.from,to:this.data.to,text:this.data.text,hidden:this.data.hidden}}}],[{key:"getDefaultData",value:function(){return{from:void 0,to:void 0,text:void 0,hidden:!1}}}]),l}(),T=function(){function l(Z,b,G){F(this,l),this.data=G,this.data.value=Z,this.data.text=b,this.data.hidden=!1,this.import(G)}return S(l,[{key:"import",value:function(l){return this.data.value=l.value||this.data.value||void 0,this.data.text=l.text||this.data.text||void 0,this.data.hidden=l.hidden||this.data.hidden||!1,this}},{key:"match",value:function(l){return null==l?"null"===this.data.value:!Y.a.isString(l)&&Number(this.data.value)===Number(l)||a.a.utils.matchString(l.toString(),this.data.value)}},{key:"getFormattedText",value:function(l){return null!=l||"null"!==this.data.value&&"undefined"!==this.data.value?this.match(l)?this.data.text?this.data.text:"":"".concat(l):this.data.text?this.data.text:""}},{key:"show",value:function(){this.data.hidden=!1}},{key:"hide",value:function(){this.data.hidden=!0}},{key:"isHidden",value:function(){return this.data.hidden}},{key:"export",value:function(){return{value:this.data.value,text:this.data.text,hidden:this.data.hidden}}}],[{key:"getDefaultdata",value:function(){return{value:void 0,text:void 0,hidden:!1}}}]),l}();function z(l){return function(l){if(Array.isArray(l)){for(var Z=0,b=new Array(l.length);Z<l.length;Z++)b[Z]=l[Z];return b}}(l)||function(l){if(Symbol.iterator in Object(l)||"[object Arguments]"===Object.prototype.toString.call(l))return Array.from(l)}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function C(l,Z){for(var b=0;b<Z.length;b++){var G=Z[b];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(l,G.key,G)}}E.$inject=["$q","uiSegmentSrv"];var v=function(){function l(Z){var b=this;!function(l,Z){if(!(l instanceof Z))throw new TypeError("Cannot call a class as a function")}(this,l),this.style=a.a.CONSTANTS.COLORMETHODS,this.metricType=a.a.CONSTANTS.METRIC_TYPES,this.colorOn=a.a.CONSTANTS.COLOR_APPLYON,this.linkOn=a.a.CONSTANTS.LINK_APPLYON,this.tooltipOn=a.a.CONSTANTS.TOOLTIP_APPLYON,this.textOn=a.a.CONSTANTS.TEXT_APPLYON,this.textReplace=a.a.CONSTANTS.TEXTMETHODS,this.EventType=e.getDefaultMethods(),this.tpDirection=a.a.CONSTANTS.TOOLTIP_DIRECTION_TYPES,this.propTypes=a.a.CONSTANTS.IDENT_TYPES,this.textPattern="/.*/",this.metricTypes=a.a.CONSTANTS.VALUE_TYPES,this.dateFormats=a.a.CONSTANTS.VALUE_DATEFORMAT_TYPES,this.aggregationTypes=a.a.CONSTANTS.AGGREGATION_TYPES,this.mappingTypes=a.a.CONSTANTS.VALUEMAPPINGTYPES,this.tpGraphType=a.a.CONSTANTS.TOOLTIP_GRAPH_TYPES,this.tpGraphScale=a.a.CONSTANTS.TOOLTIP_GRAPH_SCALE_TYPES,this.tpGraphSize=a.a.CONSTANTS.TOOLTIP_GRAPH_SIZE_TYPES,Z.editor=this,Z.$GF=a.a.me(),this.$scope=Z,this.ctrl=Z.ctrl,this.panel=this.ctrl.panel,this.rulesHandler=this.ctrl.rulesHandler,this.flowchartHandler=this.ctrl.flowchartHandler,this.rulesHandler=this.ctrl.rulesHandler,this.metricHandler=this.ctrl.metricHandler,this.unitFormats=u.getUnitFormats(),this.tpGraphSize=a.a.CONSTANTS.TOOLTIP_GRAPH_SIZE_TYPES,this.getMetricNames=function(){return b.metricHandler.getNames("serie")},this.getCellNames=function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id",Z=b.flowchartHandler.getFlowchart(),G=Z.getNamesByProp(l),d=new Set(G),m=z(d);return m=m.filter((function(l){return void 0!==l&&l.length>0}))},this.getCellNamesById=function(){return b.getCellNames("id")},this.getCellNamesByValue=function(){return b.getCellNames("value")},this.getVariables=function(){return a.a.getFullAvailableVarNames()},this.getEventValues=[]}var Z,b,G;return l.$inject=["$scope"],Z=l,(b=[{key:"isFirstRule",value:function(l){return 0===l}},{key:"isOnlySeries",value:function(){return this.metricHandler.isTypeOf("serie")&&!this.metricHandler.isTypeOf("table")}},{key:"isOnlyTables",value:function(){return!this.metricHandler.isTypeOf("serie")&&this.metricHandler.isTypeOf("table")}},{key:"isMultipleType",value:function(){return this.metricHandler.isTypeOf("serie")&&this.metricHandler.isTypeOf("table")}},{key:"initType",value:function(l){this.isOnlyTables()?l.data.metricType="table":this.isOnlySeries()&&(l.data.metricType="serie")}},{key:"getTablesName",value:function(){return this.metricHandler.getNames("table")}},{key:"getColumnsForTable",value:function(l){return this.metricHandler.getColumnsName(l,"table")}},{key:"isLastRule",value:function(l){return l===this.rulesHandler.countRules()-1}},{key:"render",value:function(){this.ctrl.render()}},{key:"setUnitFormat",value:function(l,Z){l.data.unit=Z.value,this.onRulesChange()}},{key:"onRulesChange",value:function(){return a.a.log.info("MappingOptionsCtrl.onRulesChange()"),this.flowchartHandler.ruleChanged(),this.render(),!0}},{key:"getLevels",value:function(l){for(var Z=[],b=l.data.colors.length,G=0;G<b;G++)Z.push({text:"".concat(G),value:G});return Z}},{key:"removeShapeMap",value:function(l,Z){var b=l.getShapeMap(Z);this.unselectCell(l.data.shapeProp,b.data.pattern),l.removeShapeMap(Z)}},{key:"removeTextMap",value:function(l,Z){var b=l.getTextMap(Z);this.unselectCell(l.data.textProp,b.data.pattern),l.removeTextMap(Z)}},{key:"removeLinkMap",value:function(l,Z){var b=l.getLinkMap(Z);this.unselectCell(l.data.linkProp,b.data.pattern),l.removeLinkMap(Z)}},{key:"removeEventMap",value:function(l,Z){var b=l.getEventMap(Z);this.unselectCell(l.data.eventProp,b.data.pattern),l.removeEventMap(Z)}},{key:"onColorChange",value:function(l,Z){var b=this;return function(G){b.rulesHandler.getRule(l).data.colors[Z]=G,b.onRulesChange()}}},{key:"selectCell",value:function(l,Z){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function b(){var G,d;return regeneratorRuntime.wrap((function(b){for(;;)switch(b.prev=b.next){case 0:G=this.flowchartHandler.getFlowchart(),(d=G.getXGraph())&&d.selectMxCells(l,Z);case 3:case"end":return b.stop()}}),b,this)})))}},{key:"unselectCell",value:function(l,Z){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function b(){var G,d;return regeneratorRuntime.wrap((function(b){for(;;)switch(b.prev=b.next){case 0:G=this.flowchartHandler.getFlowchart(),(d=G.getXGraph())&&d.unselectMxCells(l,Z);case 3:case"end":return b.stop()}}),b,this)})))}},{key:"toggleShow",value:function(l,Z){l.data.hidden=Z,this.onRulesChange()}},{key:"highlightCells",value:function(l){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function Z(){return regeneratorRuntime.wrap((function(Z){for(;;)switch(Z.prev=Z.next){case 0:l.highlightCells();case 1:case"end":return Z.stop()}}),Z)})))}},{key:"unhighlightCells",value:function(l){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function Z(){return regeneratorRuntime.wrap((function(Z){for(;;)switch(Z.prev=Z.next){case 0:l.unhighlightCells();case 1:case"end":return Z.stop()}}),Z)})))}},{key:"unhighlightAllCells",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function l(){var Z,b;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:Z=this.flowchartHandler.getFlowchart(),(b=Z.getXGraph())&&b.unhighlightCells();case 3:case"end":return l.stop()}}),l,this)})))}},{key:"removeRule",value:function(l,Z){(1===l.removeClick||Z)&&(this.rulesHandler.removeRule(l),this.onRulesChange()),l.removeClick=1,window.setInterval((function(){l&&(l.removeClick=2)}),2e3)}},{key:"cloneRule",value:function(l){this.rulesHandler.cloneRule(l),this.onRulesChange()}},{key:"moveRule",value:function(l,Z){Z?this.rulesHandler.moveRuleToUp(l):this.rulesHandler.moveRuleToDown(l),this.onRulesChange()}},{key:"onEventValue",value:function(l){this.getEventValues=l.getTypeahead()}}])&&C(Z.prototype,b),G&&C(Z,G),l}();function E(l,Z){return{restrict:"E",scope:!0,templateUrl:"".concat(a.a.plugin.getPartialPath(),"/mapping/index.html"),controller:v}}var H=b(10),M="d2luZG93LlNURU5DSUxfUEFUSD13aW5kb3cuU1RFTkNJTF9QQVRIfHwiaHR0cHM6Ly93d3cuZHJhdy5pby9zdGVuY2lscyI7d2luZG93LlNIQVBFU19QQVRIPXdpbmRvdy5TSEFQRVNfUEFUSHx8Imh0dHBzOi8vd3d3LmRyYXcuaW8vc2hhcGVzIjt3aW5kb3cubXhCYXNlUGF0aD13aW5kb3cubXhCYXNlUGF0aHx8Imh0dHBzOi8vd3d3LmRyYXcuaW8vbXhncmFwaC8iO3dpbmRvdy5teExvYWRTdHlsZXNoZWV0cz13aW5kb3cubXhMb2FkU3R5bGVzaGVldHN8fCExOwovL2ZnbmFzcy5naXRodWIuY29tL3NwaW4uanMjdjIuMC4wCiFmdW5jdGlvbihhLGIpeyJvYmplY3QiPT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1iKCk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoYik6YS5TcGlubmVyPWIoKX0odGhpcyxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBhKGEsYil7dmFyIGMsZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KGF8fCJkaXYiKTtmb3IoYyBpbiBiKWRbY109YltjXTtyZXR1cm4gZH1mdW5jdGlvbiBiKGEpe2Zvcih2YXIgYj0xLGM9YXJndW1lbnRzLmxlbmd0aDtjPmI7YisrKWEuYXBwZW5kQ2hpbGQoYXJndW1lbnRzW2JdKTtyZXR1cm4gYX1mdW5jdGlvbiBjKGEsYixjLGQpe3ZhciBlPVsib3BhY2l0eSIsYix+figxMDAqYSksYyxkXS5qb2luKCItIiksZj0uMDErYy9kKjEwMCxnPU1hdGgubWF4KDEtKDEtYSkvYiooMTAwLWYpLGEpLGg9ai5zdWJzdHJpbmcoMCxqLmluZGV4T2YoIkFuaW1hdGlvbiIpKS50b0xvd2VyQ2FzZSgpLGk9aCYmIi0iK2grIi0ifHwiIjtyZXR1cm4gbFtlXXx8KG0uaW5zZXJ0UnVsZSgiQCIraSsia2V5ZnJhbWVzICIrZSsiezAle29wYWNpdHk6IitnKyJ9IitmKyIle29wYWNpdHk6IithKyJ9IisoZisuMDEpKyIle29wYWNpdHk6MX0iKyhmK2IpJTEwMCsiJXtvcGFjaXR5OiIrYSsifTEwMCV7b3BhY2l0eToiK2crIn19IixtLmNzc1J1bGVzLmxlbmd0aCksbFtlXT0xKSxlfWZ1bmN0aW9uIGQoYSxiKXt2YXIgYyxkLGU9YS5zdHlsZTtmb3IoYj1iLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Iuc2xpY2UoMSksZD0wO2Q8ay5sZW5ndGg7ZCsrKWlmKGM9a1tkXStiLHZvaWQgMCE9PWVbY10pcmV0dXJuIGM7cmV0dXJuIHZvaWQgMCE9PWVbYl0/Yjp2b2lkIDB9ZnVuY3Rpb24gZShhLGIpe2Zvcih2YXIgYyBpbiBiKWEuc3R5bGVbZChhLGMpfHxjXT1iW2NdO3JldHVybiBhfWZ1bmN0aW9uIGYoYSl7Zm9yKHZhciBiPTE7Yjxhcmd1bWVudHMubGVuZ3RoO2IrKyl7dmFyIGM9YXJndW1lbnRzW2JdO2Zvcih2YXIgZCBpbiBjKXZvaWQgMD09PWFbZF0mJihhW2RdPWNbZF0pfXJldHVybiBhfWZ1bmN0aW9uIGcoYSxiKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGE/YTphW2IlYS5sZW5ndGhdfWZ1bmN0aW9uIGgoYSl7dGhpcy5vcHRzPWYoYXx8e30saC5kZWZhdWx0cyxuKX1mdW5jdGlvbiBpKCl7ZnVuY3Rpb24gYyhiLGMpe3JldHVybiBhKCI8IitiKycgeG1sbnM9InVybjpzY2hlbWFzLW1pY3Jvc29mdC5jb206dm1sIiBjbGFzcz0ic3Bpbi12bWwiPicsYyl9bS5hZGRSdWxlKCIuc3Bpbi12bWwiLCJiZWhhdmlvcjp1cmwoI2RlZmF1bHQjVk1MKSIpLGgucHJvdG90eXBlLmxpbmVzPWZ1bmN0aW9uKGEsZCl7ZnVuY3Rpb24gZigpe3JldHVybiBlKGMoImdyb3VwIix7Y29vcmRzaXplOmsrIiAiK2ssY29vcmRvcmlnaW46LWorIiAiKy1qfSkse3dpZHRoOmssaGVpZ2h0Omt9KX1mdW5jdGlvbiBoKGEsaCxpKXtiKG0sYihlKGYoKSx7cm90YXRpb246MzYwL2QubGluZXMqYSsiZGVnIixsZWZ0On5+aH0pLGIoZShjKCJyb3VuZHJlY3QiLHthcmNzaXplOmQuY29ybmVyc30pLHt3aWR0aDpqLGhlaWdodDpkLndpZHRoLGxlZnQ6ZC5yYWRpdXMsdG9wOi1kLndpZHRoPj4xLGZpbHRlcjppfSksYygiZmlsbCIse2NvbG9yOmcoZC5jb2xvcixhKSxvcGFjaXR5OmQub3BhY2l0eX0pLGMoInN0cm9rZSIse29wYWNpdHk6MH0pKSkpfXZhciBpLGo9ZC5sZW5ndGgrZC53aWR0aCxrPTIqaixsPTIqLShkLndpZHRoK2QubGVuZ3RoKSsicHgiLG09ZShmKCkse3Bvc2l0aW9uOiJhYnNvbHV0ZSIsdG9wOmwsbGVmdDpsfSk7aWYoZC5zaGFkb3cpZm9yKGk9MTtpPD1kLmxpbmVzO2krKyloKGksLTIsInByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5CbHVyKHBpeGVscmFkaXVzPTIsbWFrZXNoYWRvdz0xLHNoYWRvd29wYWNpdHk9LjMpIik7Zm9yKGk9MTtpPD1kLmxpbmVzO2krKyloKGkpO3JldHVybiBiKGEsbSl9LGgucHJvdG90eXBlLm9wYWNpdHk9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YS5maXJzdENoaWxkO2Q9ZC5zaGFkb3cmJmQubGluZXN8fDAsZSYmYitkPGUuY2hpbGROb2Rlcy5sZW5ndGgmJihlPWUuY2hpbGROb2Rlc1tiK2RdLGU9ZSYmZS5maXJzdENoaWxkLGU9ZSYmZS5maXJzdENoaWxkLGUmJihlLm9wYWNpdHk9YykpfX12YXIgaixrPVsid2Via2l0IiwiTW96IiwibXMiLCJPIl0sbD17fSxtPWZ1bmN0aW9uKCl7dmFyIGM9YSgic3R5bGUiLHt0eXBlOiJ0ZXh0L2NzcyJ9KTtyZXR1cm4gYihkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdLGMpLGMuc2hlZXR8fGMuc3R5bGVTaGVldH0oKSxuPXtsaW5lczoxMixsZW5ndGg6Nyx3aWR0aDo1LHJhZGl1czoxMCxyb3RhdGU6MCxjb3JuZXJzOjEsY29sb3I6IiMwMDAiLGRpcmVjdGlvbjoxLHNwZWVkOjEsdHJhaWw6MTAwLG9wYWNpdHk6LjI1LGZwczoyMCx6SW5kZXg6MmU5LGNsYXNzTmFtZToic3Bpbm5lciIsdG9wOiI1MCUiLGxlZnQ6IjUwJSIscG9zaXRpb246ImFic29sdXRlIn07aC5kZWZhdWx0cz17fSxmKGgucHJvdG90eXBlLHtzcGluOmZ1bmN0aW9uKGIpe3RoaXMuc3RvcCgpO3t2YXIgYz10aGlzLGQ9Yy5vcHRzLGY9Yy5lbD1lKGEoMCx7Y2xhc3NOYW1lOmQuY2xhc3NOYW1lfSkse3Bvc2l0aW9uOmQucG9zaXRpb24sd2lkdGg6MCx6SW5kZXg6ZC56SW5kZXh9KTtkLnJhZGl1cytkLmxlbmd0aCtkLndpZHRofWlmKGImJihiLmluc2VydEJlZm9yZShmLGIuZmlyc3RDaGlsZHx8bnVsbCksZShmLHtsZWZ0OmQubGVmdCx0b3A6ZC50b3B9KSksZi5zZXRBdHRyaWJ1dGUoInJvbGUiLCJwcm9ncmVzc2JhciIpLGMubGluZXMoZixjLm9wdHMpLCFqKXt2YXIgZyxoPTAsaT0oZC5saW5lcy0xKSooMS1kLmRpcmVjdGlvbikvMixrPWQuZnBzLGw9ay9kLnNwZWVkLG09KDEtZC5vcGFjaXR5KS8obCpkLnRyYWlsLzEwMCksbj1sL2QubGluZXM7IWZ1bmN0aW9uIG8oKXtoKys7Zm9yKHZhciBhPTA7YTxkLmxpbmVzO2ErKylnPU1hdGgubWF4KDEtKGgrKGQubGluZXMtYSkqbiklbCptLGQub3BhY2l0eSksYy5vcGFjaXR5KGYsYSpkLmRpcmVjdGlvbitpLGcsZCk7Yy50aW1lb3V0PWMuZWwmJnNldFRpbWVvdXQobyx+figxZTMvaykpfSgpfXJldHVybiBjfSxzdG9wOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbDtyZXR1cm4gYSYmKGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpLGEucGFyZW50Tm9kZSYmYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpLHRoaXMuZWw9dm9pZCAwKSx0aGlzfSxsaW5lczpmdW5jdGlvbihkLGYpe2Z1bmN0aW9uIGgoYixjKXtyZXR1cm4gZShhKCkse3Bvc2l0aW9uOiJhYnNvbHV0ZSIsd2lkdGg6Zi5sZW5ndGgrZi53aWR0aCsicHgiLGhlaWdodDpmLndpZHRoKyJweCIsYmFja2dyb3VuZDpiLGJveFNoYWRvdzpjLHRyYW5zZm9ybU9yaWdpbjoibGVmdCIsdHJhbnNmb3JtOiJyb3RhdGUoIit+figzNjAvZi5saW5lcyprK2Yucm90YXRlKSsiZGVnKSB0cmFuc2xhdGUoIitmLnJhZGl1cysicHgsMCkiLGJvcmRlclJhZGl1czooZi5jb3JuZXJzKmYud2lkdGg+PjEpKyJweCJ9KX1mb3IodmFyIGksaz0wLGw9KGYubGluZXMtMSkqKDEtZi5kaXJlY3Rpb24pLzI7azxmLmxpbmVzO2srKylpPWUoYSgpLHtwb3NpdGlvbjoiYWJzb2x1dGUiLHRvcDoxK34oZi53aWR0aC8yKSsicHgiLHRyYW5zZm9ybTpmLmh3YWNjZWw/InRyYW5zbGF0ZTNkKDAsMCwwKSI6IiIsb3BhY2l0eTpmLm9wYWNpdHksYW5pbWF0aW9uOmomJmMoZi5vcGFjaXR5LGYudHJhaWwsbCtrKmYuZGlyZWN0aW9uLGYubGluZXMpKyIgIisxL2Yuc3BlZWQrInMgbGluZWFyIGluZmluaXRlIn0pLGYuc2hhZG93JiZiKGksZShoKCIjMDAwIiwiMCAwIDRweCAjMDAwIikse3RvcDoiMnB4In0pKSxiKGQsYihpLGgoZyhmLmNvbG9yLGspLCIwIDAgMXB4IHJnYmEoMCwwLDAsLjEpIikpKTtyZXR1cm4gZH0sb3BhY2l0eTpmdW5jdGlvbihhLGIsYyl7YjxhLmNoaWxkTm9kZXMubGVuZ3RoJiYoYS5jaGlsZE5vZGVzW2JdLnN0eWxlLm9wYWNpdHk9Yyl9fSk7dmFyIG89ZShhKCJncm91cCIpLHtiZWhhdmlvcjoidXJsKCNkZWZhdWx0I1ZNTCkifSk7cmV0dXJuIWQobywidHJhbnNmb3JtIikmJm8uYWRqP2koKTpqPWQobywiYW5pbWF0aW9uIiksaH0pOwovLyBOT1RFOiBNb2RpZmllZCB0byBzdXBwb3J0IGRhdGEgVVJJcyBmb3IgaW1hZ2VzLCBpZS4gZGF0YTppbWFnZS8qCi8vIE1vZGlmaWVkIHRvIGFsbG93ICJ3b3JkLWJyZWFrOiBicmVhay13b3JkIiBpbiBzdHlsZXMuIEl0IGlzIGRvbmUgYnkgYWRkaW5nICJicmVhay13b3JkIiB3aGljaCBpcyBhdCBpbmRleCA1NSBvZiBKIGFycmF5IEpbNTVdIHRvICJjc3NMaXRHcm91cCIgb2YgIndvcmQtYnJlYWsiCihmdW5jdGlvbigpe3ZhciBjPXZvaWQgMCxuPSEwLHM9bnVsbCxDPSExLEo9WyJhbGljZWJsdWUsYW50aXF1ZXdoaXRlLGFxdWEsYXF1YW1hcmluZSxhenVyZSxiZWlnZSxiaXNxdWUsYmxhY2ssYmxhbmNoZWRhbG1vbmQsYmx1ZSxibHVldmlvbGV0LGJyb3duLGJ1cmx5d29vZCxjYWRldGJsdWUsY2hhcnRyZXVzZSxjaG9jb2xhdGUsY29yYWwsY29ybmZsb3dlcmJsdWUsY29ybnNpbGssY3JpbXNvbixjeWFuLGRhcmtibHVlLGRhcmtjeWFuLGRhcmtnb2xkZW5yb2QsZGFya2dyYXksZGFya2dyZWVuLGRhcmtraGFraSxkYXJrbWFnZW50YSxkYXJrb2xpdmVncmVlbixkYXJrb3JhbmdlLGRhcmtvcmNoaWQsZGFya3JlZCxkYXJrc2FsbW9uLGRhcmtzZWFncmVlbixkYXJrc2xhdGVibHVlLGRhcmtzbGF0ZWdyYXksZGFya3R1cnF1b2lzZSxkYXJrdmlvbGV0LGRlZXBwaW5rLGRlZXBza3libHVlLGRpbWdyYXksZG9kZ2VyYmx1ZSxmaXJlYnJpY2ssZmxvcmFsd2hpdGUsZm9yZXN0Z3JlZW4sZnVjaHNpYSxnYWluc2Jvcm8sZ2hvc3R3aGl0ZSxnb2xkLGdvbGRlbnJvZCxncmF5LGdyZWVuLGdyZWVueWVsbG93LGhvbmV5ZGV3LGhvdHBpbmssaW5kaWFucmVkLGluZGlnbyxpdm9yeSxraGFraSxsYXZlbmRlcixsYXZlbmRlcmJsdXNoLGxhd25ncmVlbixsZW1vbmNoaWZmb24sbGlnaHRibHVlLGxpZ2h0Y29yYWwsbGlnaHRjeWFuLGxpZ2h0Z29sZGVucm9keWVsbG93LGxpZ2h0Z3JlZW4sbGlnaHRncmV5LGxpZ2h0cGluayxsaWdodHNhbG1vbixsaWdodHNlYWdyZWVuLGxpZ2h0c2t5Ymx1ZSxsaWdodHNsYXRlZ3JheSxsaWdodHN0ZWVsYmx1ZSxsaWdodHllbGxvdyxsaW1lLGxpbWVncmVlbixsaW5lbixtYWdlbnRhLG1hcm9vbixtZWRpdW1hcXVhbWFyaW5lLG1lZGl1bWJsdWUsbWVkaXVtb3JjaGlkLG1lZGl1bXB1cnBsZSxtZWRpdW1zZWFncmVlbixtZWRpdW1zbGF0ZWJsdWUsbWVkaXVtc3ByaW5nZ3JlZW4sbWVkaXVtdHVycXVvaXNlLG1lZGl1bXZpb2xldHJlZCxtaWRuaWdodGJsdWUsbWludGNyZWFtLG1pc3R5cm9zZSxtb2NjYXNpbixuYXZham93aGl0ZSxuYXZ5LG9sZGxhY2Usb2xpdmUsb2xpdmVkcmFiLG9yYW5nZSxvcmFuZ2VyZWQsb3JjaGlkLHBhbGVnb2xkZW5yb2QscGFsZWdyZWVuLHBhbGV0dXJxdW9pc2UscGFsZXZpb2xldHJlZCxwYXBheWF3aGlwLHBlYWNocHVmZixwZXJ1LHBpbmsscGx1bSxwb3dkZXJibHVlLHB1cnBsZSxyZWQscm9zeWJyb3duLHJveWFsYmx1ZSxzYWRkbGVicm93bixzYWxtb24sc2FuZHlicm93bixzZWFncmVlbixzZWFzaGVsbCxzaWVubmEsc2lsdmVyLHNreWJsdWUsc2xhdGVibHVlLHNsYXRlZ3JheSxzbm93LHNwcmluZ2dyZWVuLHN0ZWVsYmx1ZSx0YW4sdGVhbCx0aGlzdGxlLHRvbWF0byx0cmFuc3BhcmVudCx0dXJxdW9pc2UsdmlvbGV0LHdoZWF0LHdoaXRlLHdoaXRlc21va2UseWVsbG93LHllbGxvd2dyZWVuIi5zcGxpdCgiLCIpLAoiYWxsLXNjcm9sbCxjb2wtcmVzaXplLGNyb3NzaGFpcixkZWZhdWx0LGUtcmVzaXplLGhhbmQsaGVscCxtb3ZlLG4tcmVzaXplLG5lLXJlc2l6ZSxuby1kcm9wLG5vdC1hbGxvd2VkLG53LXJlc2l6ZSxwb2ludGVyLHByb2dyZXNzLHJvdy1yZXNpemUscy1yZXNpemUsc2UtcmVzaXplLHN3LXJlc2l6ZSx0ZXh0LHZlcnRpY2FsLXRleHQsdy1yZXNpemUsd2FpdCIuc3BsaXQoIiwiKSwiYXJtZW5pYW4sZGVjaW1hbCxkZWNpbWFsLWxlYWRpbmctemVybyxkaXNjLGdlb3JnaWFuLGxvd2VyLWFscGhhLGxvd2VyLWdyZWVrLGxvd2VyLWxhdGluLGxvd2VyLXJvbWFuLHNxdWFyZSx1cHBlci1hbHBoYSx1cHBlci1sYXRpbix1cHBlci1yb21hbiIuc3BsaXQoIiwiKSwiMTAwLDIwMCwzMDAsNDAwLDUwMCw2MDAsNzAwLDgwMCw5MDAsYm9sZCxib2xkZXIsbGlnaHRlciIuc3BsaXQoIiwiKSwiYmxvY2stbGV2ZWwsaW5saW5lLWxldmVsLHRhYmxlLWNhcHRpb24sdGFibGUtY2VsbCx0YWJsZS1jb2x1bW4sdGFibGUtY29sdW1uLWdyb3VwLHRhYmxlLWZvb3Rlci1ncm91cCx0YWJsZS1oZWFkZXItZ3JvdXAsdGFibGUtcm93LHRhYmxlLXJvdy1ncm91cCIuc3BsaXQoIiwiKSwKImNvbmRlbnNlZCxleHBhbmRlZCxleHRyYS1jb25kZW5zZWQsZXh0cmEtZXhwYW5kZWQsbmFycm93ZXIsc2VtaS1jb25kZW5zZWQsc2VtaS1leHBhbmRlZCx1bHRyYS1jb25kZW5zZWQsdWx0cmEtZXhwYW5kZWQsd2lkZXIiLnNwbGl0KCIsIiksImluaGVyaXQsaW5saW5lLGlubGluZS1ibG9jayxpbmxpbmUtYm94LGlubGluZS1mbGV4LGlubGluZS1ncmlkLGlubGluZS1saXN0LWl0ZW0saW5saW5lLXN0YWNrLGlubGluZS10YWJsZSxydW4taW4iLnNwbGl0KCIsIiksImJlaGluZCxjZW50ZXItbGVmdCxjZW50ZXItcmlnaHQsZmFyLWxlZnQsZmFyLXJpZ2h0LGxlZnQtc2lkZSxsZWZ0d2FyZHMscmlnaHQtc2lkZSxyaWdodHdhcmRzIi5zcGxpdCgiLCIpLCJsYXJnZSxsYXJnZXIsc21hbGwsc21hbGxlcix4LWxhcmdlLHgtc21hbGwseHgtbGFyZ2UseHgtc21hbGwiLnNwbGl0KCIsIiksImRhc2hlZCxkb3R0ZWQsZG91YmxlLGdyb292ZSxvdXRzZXQscmlkZ2Usc29saWQiLnNwbGl0KCIsIiksCiJlYXNlLGVhc2UtaW4sZWFzZS1pbi1vdXQsZWFzZS1vdXQsbGluZWFyLHN0ZXAtZW5kLHN0ZXAtc3RhcnQiLnNwbGl0KCIsIiksImF0LGNsb3Nlc3QtY29ybmVyLGNsb3Nlc3Qtc2lkZSxlbGxpcHNlLGZhcnRoZXN0LWNvcm5lcixmYXJ0aGVzdC1zaWRlIi5zcGxpdCgiLCIpLCJiYXNlbGluZSxtaWRkbGUsc3ViLHN1cGVyLHRleHQtYm90dG9tLHRleHQtdG9wIi5zcGxpdCgiLCIpLCJjYXB0aW9uLGljb24sbWVudSxtZXNzYWdlLWJveCxzbWFsbC1jYXB0aW9uLHN0YXR1cy1iYXIiLnNwbGl0KCIsIiksImZhc3QsZmFzdGVyLHNsb3csc2xvd2VyLHgtZmFzdCx4LXNsb3ciLnNwbGl0KCIsIiksWyJhYm92ZSIsImJlbG93IiwiaGlnaGVyIiwibGV2ZWwiLCJsb3dlciJdLFsiY3Vyc2l2ZSIsImZhbnRhc3kiLCJtb25vc3BhY2UiLCJzYW5zLXNlcmlmIiwic2VyaWYiXSxbImxvdWQiLCJzaWxlbnQiLCJzb2Z0IiwieC1sb3VkIiwieC1zb2Z0Il0sWyJuby1yZXBlYXQiLCJyZXBlYXQteCIsInJlcGVhdC15IiwKInJvdW5kIiwic3BhY2UiXSxbImJsaW5rIiwibGluZS10aHJvdWdoIiwib3ZlcmxpbmUiLCJ1bmRlcmxpbmUiXSxbImJsb2NrIiwiZmxleCIsImdyaWQiLCJ0YWJsZSJdLFsiaGlnaCIsImxvdyIsIngtaGlnaCIsIngtbG93Il0sWyJub3dyYXAiLCJwcmUiLCJwcmUtbGluZSIsInByZS13cmFwIl0sWyJhYnNvbHV0ZSIsInJlbGF0aXZlIiwic3RhdGljIl0sWyJhbHRlcm5hdGUiLCJhbHRlcm5hdGUtcmV2ZXJzZSIsInJldmVyc2UiXSxbImJvcmRlci1ib3giLCJjb250ZW50LWJveCIsInBhZGRpbmctYm94Il0sWyJjYXBpdGFsaXplIiwibG93ZXJjYXNlIiwidXBwZXJjYXNlIl0sWyJjaGlsZCIsImZlbWFsZSIsIm1hbGUiXSxbIj0iLCJvcGFjaXR5Il0sWyJiYWNrd2FyZHMiLCJmb3J3YXJkcyJdLFsiYmlkaS1vdmVycmlkZSIsImVtYmVkIl0sWyJib3R0b20iLCJ0b3AiXSxbImJyZWFrLWFsbCIsImtlZXAtYWxsIl0sWyJjbGlwIiwiZWxsaXBzaXMiXSxbImNvbnRhaW4iLCJjb3ZlciJdLApbImNvbnRpbnVvdXMiLCJkaWdpdHMiXSxbImVuZCIsInN0YXJ0Il0sWyJmbGF0IiwicHJlc2VydmUtM2QiXSxbImhpZGUiLCJzaG93Il0sWyJob3Jpem9udGFsIiwidmVydGljYWwiXSxbImluc2lkZSIsIm91dHNpZGUiXSxbIml0YWxpYyIsIm9ibGlxdWUiXSxbImxlZnQiLCJyaWdodCJdLFsibHRyIiwicnRsIl0sWyJuby1jb250ZW50Iiwibm8tZGlzcGxheSJdLFsicGF1c2VkIiwicnVubmluZyJdLFsic3VwcHJlc3MiLCJ1bnJlc3RyaWN0ZWQiXSxbInRoaWNrIiwidGhpbiJdLFsiLCJdLFsiLyJdLFsiYWxsIl0sWyJhbHdheXMiXSxbImF1dG8iXSxbImF2b2lkIl0sWyJib3RoIl0sWyJicmVhay13b3JkIl0sWyJjZW50ZXIiXSxbImNpcmNsZSJdLFsiY29kZSJdLFsiY29sbGFwc2UiXSxbImNvbnRlbnRzIl0sWyJmaXhlZCJdLFsiaGlkZGVuIl0sWyJpbmZpbml0ZSJdLFsiaW5zZXQiXSxbImludmVydCJdLFsianVzdGlmeSJdLFsibGlzdC1pdGVtIl0sWyJsb2NhbCJdLFsibWVkaXVtIl0sClsibWl4Il0sWyJub25lIl0sWyJub3JtYWwiXSxbIm9uY2UiXSxbInJlcGVhdCJdLFsic2Nyb2xsIl0sWyJzZXBhcmF0ZSJdLFsic21hbGwtY2FwcyJdLFsic3BlbGwtb3V0Il0sWyJ0byJdLFsidmlzaWJsZSJdXSxMPXthbmltYXRpb246e2Nzc1Byb3BCaXRzOjUxNyxjc3NMaXRHcm91cDpbSlsxMF0sSlsyNF0sSlsyOV0sSls0NV0sSls0OF0sSls1NF0sSls2M10sSls3MV0sSls3Ml1dLGNzc0ZuczpbImN1YmljLWJlemllcigpIiwic3RlcHMoKSJdfSwiYW5pbWF0aW9uLWRlbGF5Ijp7Y3NzUHJvcEJpdHM6NSxjc3NMaXRHcm91cDpbSls0OF1dLGNzc0ZuczpbXX0sImFuaW1hdGlvbi1kaXJlY3Rpb24iOntjc3NQcm9wQml0czowLGNzc0xpdEdyb3VwOltKWzI0XSxKWzQ4XSxKWzcyXV0sY3NzRm5zOltdfSwiYW5pbWF0aW9uLWR1cmF0aW9uIjoiYW5pbWF0aW9uLWRlbGF5IiwiYW5pbWF0aW9uLWZpbGwtbW9kZSI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbMjldLEpbNDhdLApKWzU0XSxKWzcxXV0sY3NzRm5zOltdfSwiYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCI6e2Nzc1Byb3BCaXRzOjUsY3NzTGl0R3JvdXA6W0pbNDhdLEpbNjNdXSxjc3NGbnM6W119LCJhbmltYXRpb24tbmFtZSI6e2Nzc1Byb3BCaXRzOjUxMixjc3NMaXRHcm91cDpbSls0OF0sSls3MV1dLGNzc0ZuczpbXX0sImFuaW1hdGlvbi1wbGF5LXN0YXRlIjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSls0NV0sSls0OF1dLGNzc0ZuczpbXX0sImFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb24iOntjc3NQcm9wQml0czowLGNzc0xpdEdyb3VwOltKWzEwXSxKWzQ4XV0sY3NzRm5zOlsiY3ViaWMtYmV6aWVyKCkiLCJzdGVwcygpIl19LGFwcGVhcmFuY2U6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbNzFdXSxjc3NGbnM6W119LGF6aW11dGg6e2Nzc1Byb3BCaXRzOjUsY3NzTGl0R3JvdXA6W0pbN10sSls0Ml0sSls1Nl1dLGNzc0ZuczpbXX0sImJhY2tmYWNlLXZpc2liaWxpdHkiOntjc3NQcm9wQml0czowLApjc3NMaXRHcm91cDpbSls1OV0sSls2Ml0sSls4MF1dLGNzc0ZuczpbXX0sYmFja2dyb3VuZDp7Y3NzUHJvcEJpdHM6MjMsY3NzTGl0R3JvdXA6W0pbMF0sSlsxOF0sSlsyNV0sSlszMV0sSlszNF0sSls0Ml0sSls0OF0sSls0OV0sSls1Ml0sSls1Nl0sSls2MV0sSls2OF0sSls3MV0sSls3NF0sSls3NV1dLGNzc0ZuczoiaW1hZ2UoKSxsaW5lYXItZ3JhZGllbnQoKSxyYWRpYWwtZ3JhZGllbnQoKSxyZXBlYXRpbmctbGluZWFyLWdyYWRpZW50KCkscmVwZWF0aW5nLXJhZGlhbC1ncmFkaWVudCgpLHJnYigpLHJnYmEoKSIuc3BsaXQoIiwiKX0sImJhY2tncm91bmQtYXR0YWNobWVudCI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbNDhdLEpbNjFdLEpbNjhdLEpbNzVdXSxjc3NGbnM6W119LCJiYWNrZ3JvdW5kLWNvbG9yIjp7Y3NzUHJvcEJpdHM6Mixjc3NMaXRHcm91cDpbSlswXV0sY3NzRm5zOlsicmdiKCkiLCJyZ2JhKCkiXX0sImJhY2tncm91bmQtaW1hZ2UiOntjc3NQcm9wQml0czoxNiwKY3NzTGl0R3JvdXA6W0pbNDhdLEpbNzFdXSxjc3NGbnM6WyJpbWFnZSgpIiwibGluZWFyLWdyYWRpZW50KCkiLCJyYWRpYWwtZ3JhZGllbnQoKSIsInJlcGVhdGluZy1saW5lYXItZ3JhZGllbnQoKSIsInJlcGVhdGluZy1yYWRpYWwtZ3JhZGllbnQoKSJdfSwiYmFja2dyb3VuZC1wb3NpdGlvbiI6e2Nzc1Byb3BCaXRzOjUsY3NzTGl0R3JvdXA6W0pbMzFdLEpbNDJdLEpbNDhdLEpbNTZdXSxjc3NGbnM6W119LCJiYWNrZ3JvdW5kLXJlcGVhdCI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbMThdLEpbNDhdLEpbNzRdXSxjc3NGbnM6W119LCJiYWNrZ3JvdW5kLXNpemUiOntjc3NQcm9wQml0czo1LGNzc0xpdEdyb3VwOltKWzM0XSxKWzQ4XSxKWzUyXV0sY3NzRm5zOltdfSxib3JkZXI6e2Nzc1Byb3BCaXRzOjcsY3NzTGl0R3JvdXA6W0pbMF0sSls5XSxKWzQ3XSxKWzYyXSxKWzY0XSxKWzY5XSxKWzcxXV0sY3NzRm5zOlsicmdiKCkiLCJyZ2JhKCkiXX0sImJvcmRlci1ib3R0b20iOiJib3JkZXIiLAoiYm9yZGVyLWJvdHRvbS1jb2xvciI6ImJhY2tncm91bmQtY29sb3IiLCJib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzIjp7Y3NzUHJvcEJpdHM6NSxjc3NGbnM6W119LCJib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1cyI6ImJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXMiLCJib3JkZXItYm90dG9tLXN0eWxlIjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSls5XSxKWzYyXSxKWzY0XSxKWzcxXV0sY3NzRm5zOltdfSwiYm9yZGVyLWJvdHRvbS13aWR0aCI6e2Nzc1Byb3BCaXRzOjUsY3NzTGl0R3JvdXA6W0pbNDddLEpbNjldXSxjc3NGbnM6W119LCJib3JkZXItY29sbGFwc2UiOntjc3NQcm9wQml0czowLGNzc0xpdEdyb3VwOltKWzU5XSxKWzc2XV0sY3NzRm5zOltdfSwiYm9yZGVyLWNvbG9yIjoiYmFja2dyb3VuZC1jb2xvciIsImJvcmRlci1sZWZ0IjoiYm9yZGVyIiwiYm9yZGVyLWxlZnQtY29sb3IiOiJiYWNrZ3JvdW5kLWNvbG9yIiwiYm9yZGVyLWxlZnQtc3R5bGUiOiJib3JkZXItYm90dG9tLXN0eWxlIiwKImJvcmRlci1sZWZ0LXdpZHRoIjoiYm9yZGVyLWJvdHRvbS13aWR0aCIsImJvcmRlci1yYWRpdXMiOntjc3NQcm9wQml0czo1LGNzc0xpdEdyb3VwOltKWzQ5XV0sY3NzRm5zOltdfSwiYm9yZGVyLXJpZ2h0IjoiYm9yZGVyIiwiYm9yZGVyLXJpZ2h0LWNvbG9yIjoiYmFja2dyb3VuZC1jb2xvciIsImJvcmRlci1yaWdodC1zdHlsZSI6ImJvcmRlci1ib3R0b20tc3R5bGUiLCJib3JkZXItcmlnaHQtd2lkdGgiOiJib3JkZXItYm90dG9tLXdpZHRoIiwiYm9yZGVyLXNwYWNpbmciOiJib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzIiwiYm9yZGVyLXN0eWxlIjoiYm9yZGVyLWJvdHRvbS1zdHlsZSIsImJvcmRlci10b3AiOiJib3JkZXIiLCJib3JkZXItdG9wLWNvbG9yIjoiYmFja2dyb3VuZC1jb2xvciIsImJvcmRlci10b3AtbGVmdC1yYWRpdXMiOiJib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzIiwiYm9yZGVyLXRvcC1yaWdodC1yYWRpdXMiOiJib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzIiwKImJvcmRlci10b3Atc3R5bGUiOiJib3JkZXItYm90dG9tLXN0eWxlIiwiYm9yZGVyLXRvcC13aWR0aCI6ImJvcmRlci1ib3R0b20td2lkdGgiLCJib3JkZXItd2lkdGgiOiJib3JkZXItYm90dG9tLXdpZHRoIixib3R0b206e2Nzc1Byb3BCaXRzOjUsY3NzTGl0R3JvdXA6W0pbNTJdXSxjc3NGbnM6W119LGJveDp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSls2MF0sSls3MV0sSls3Ml1dLGNzc0ZuczpbXX0sImJveC1zaGFkb3ciOntjc3NQcm9wQml0czo3LGNzc0xpdEdyb3VwOltKWzBdLEpbNDhdLEpbNjRdLEpbNzFdXSxjc3NGbnM6WyJyZ2IoKSIsInJnYmEoKSJdfSwiYm94LXNpemluZyI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbMjVdXSxjc3NGbnM6W119LCJjYXB0aW9uLXNpZGUiOntjc3NQcm9wQml0czowLGNzc0xpdEdyb3VwOltKWzMxXV0sY3NzRm5zOltdfSxjbGVhcjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSls0Ml0sSls1NF0sSls3MV1dLGNzc0ZuczpbXX0sCmNsaXA6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbNTJdXSxjc3NGbnM6WyJyZWN0KCkiXX0sY29sb3I6ImJhY2tncm91bmQtY29sb3IiLGNvbnRlbnQ6e2Nzc1Byb3BCaXRzOjgsY3NzTGl0R3JvdXA6W0pbNzFdLEpbNzJdXSxjc3NGbnM6W119LGN1ZTp7Y3NzUHJvcEJpdHM6MTYsY3NzTGl0R3JvdXA6W0pbNzFdXSxjc3NGbnM6W119LCJjdWUtYWZ0ZXIiOiJjdWUiLCJjdWUtYmVmb3JlIjoiY3VlIixjdXJzb3I6e2Nzc1Byb3BCaXRzOjE2LGNzc0xpdEdyb3VwOltKWzFdLEpbNDhdLEpbNTJdXSxjc3NGbnM6W119LGRpcmVjdGlvbjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSls0M11dLGNzc0ZuczpbXX0sZGlzcGxheTp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSls0XSxKWzZdLEpbMjBdLEpbNTJdLEpbNjddLEpbNzFdXSxjc3NGbnM6W119LCJkaXNwbGF5LWV4dHJhcyI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbNjddLEpbNzFdXSxjc3NGbnM6W119LAoiZGlzcGxheS1pbnNpZGUiOntjc3NQcm9wQml0czowLGNzc0xpdEdyb3VwOltKWzIwXSxKWzUyXV0sY3NzRm5zOltdfSwiZGlzcGxheS1vdXRzaWRlIjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSls0XSxKWzcxXV0sY3NzRm5zOltdfSxlbGV2YXRpb246e2Nzc1Byb3BCaXRzOjUsY3NzTGl0R3JvdXA6W0pbMTVdXSxjc3NGbnM6W119LCJlbXB0eS1jZWxscyI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbMzhdXSxjc3NGbnM6W119LGZpbHRlcjp7Y3NzUHJvcEJpdHM6MCxjc3NGbnM6WyJhbHBoYSgpIl19LCJmbG9hdCI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbNDJdLEpbNzFdXSxjc3NGbnM6W119LGZvbnQ6e2Nzc1Byb3BCaXRzOjczLGNzc0xpdEdyb3VwOltKWzNdLEpbOF0sSlsxM10sSlsxNl0sSls0MV0sSls0OF0sSls0OV0sSls2OV0sSls3Ml0sSls3N11dLGNzc0ZuczpbXX0sImZvbnQtZmFtaWx5Ijp7Y3NzUHJvcEJpdHM6NzIsY3NzTGl0R3JvdXA6W0pbMTZdLApKWzQ4XV0sY3NzRm5zOltdfSwiZm9udC1zaXplIjp7Y3NzUHJvcEJpdHM6MSxjc3NMaXRHcm91cDpbSls4XSxKWzY5XV0sY3NzRm5zOltdfSwiZm9udC1zdHJldGNoIjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSls1XSxKWzcyXV0sY3NzRm5zOltdfSwiZm9udC1zdHlsZSI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbNDFdLEpbNzJdXSxjc3NGbnM6W119LCJmb250LXZhcmlhbnQiOntjc3NQcm9wQml0czowLGNzc0xpdEdyb3VwOltKWzcyXSxKWzc3XV0sY3NzRm5zOltdfSwiZm9udC13ZWlnaHQiOntjc3NQcm9wQml0czowLGNzc0xpdEdyb3VwOltKWzNdLEpbNzJdXSxjc3NGbnM6W119LGhlaWdodDoiYm90dG9tIixsZWZ0OiJib3R0b20iLCJsZXR0ZXItc3BhY2luZyI6e2Nzc1Byb3BCaXRzOjUsY3NzTGl0R3JvdXA6W0pbNzJdXSxjc3NGbnM6W119LCJsaW5lLWhlaWdodCI6e2Nzc1Byb3BCaXRzOjEsY3NzTGl0R3JvdXA6W0pbNzJdXSxjc3NGbnM6W119LCJsaXN0LXN0eWxlIjp7Y3NzUHJvcEJpdHM6MTYsCmNzc0xpdEdyb3VwOltKWzJdLEpbNDBdLEpbNTddLEpbNzFdXSxjc3NGbnM6WyJpbWFnZSgpIiwibGluZWFyLWdyYWRpZW50KCkiLCJyYWRpYWwtZ3JhZGllbnQoKSIsInJlcGVhdGluZy1saW5lYXItZ3JhZGllbnQoKSIsInJlcGVhdGluZy1yYWRpYWwtZ3JhZGllbnQoKSJdfSwibGlzdC1zdHlsZS1pbWFnZSI6e2Nzc1Byb3BCaXRzOjE2LGNzc0xpdEdyb3VwOltKWzcxXV0sY3NzRm5zOlsiaW1hZ2UoKSIsImxpbmVhci1ncmFkaWVudCgpIiwicmFkaWFsLWdyYWRpZW50KCkiLCJyZXBlYXRpbmctbGluZWFyLWdyYWRpZW50KCkiLCJyZXBlYXRpbmctcmFkaWFsLWdyYWRpZW50KCkiXX0sImxpc3Qtc3R5bGUtcG9zaXRpb24iOntjc3NQcm9wQml0czowLGNzc0xpdEdyb3VwOltKWzQwXV0sY3NzRm5zOltdfSwibGlzdC1zdHlsZS10eXBlIjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSlsyXSxKWzU3XSxKWzcxXV0sY3NzRm5zOltdfSxtYXJnaW46ImJvdHRvbSIsIm1hcmdpbi1ib3R0b20iOiJib3R0b20iLAoibWFyZ2luLWxlZnQiOiJib3R0b20iLCJtYXJnaW4tcmlnaHQiOiJib3R0b20iLCJtYXJnaW4tdG9wIjoiYm90dG9tIiwibWF4LWhlaWdodCI6e2Nzc1Byb3BCaXRzOjEsY3NzTGl0R3JvdXA6W0pbNTJdLEpbNzFdXSxjc3NGbnM6W119LCJtYXgtd2lkdGgiOiJtYXgtaGVpZ2h0IiwibWluLWhlaWdodCI6e2Nzc1Byb3BCaXRzOjEsY3NzTGl0R3JvdXA6W0pbNTJdXSxjc3NGbnM6W119LCJtaW4td2lkdGgiOiJtaW4taGVpZ2h0IixvcGFjaXR5Ontjc3NQcm9wQml0czoxLGNzc0ZuczpbXX0sb3V0bGluZTp7Y3NzUHJvcEJpdHM6Nyxjc3NMaXRHcm91cDpbSlswXSxKWzldLEpbNDddLEpbNjJdLEpbNjRdLEpbNjVdLEpbNjldLEpbNzFdXSxjc3NGbnM6WyJyZ2IoKSIsInJnYmEoKSJdfSwib3V0bGluZS1jb2xvciI6e2Nzc1Byb3BCaXRzOjIsY3NzTGl0R3JvdXA6W0pbMF0sSls2NV1dLGNzc0ZuczpbInJnYigpIiwicmdiYSgpIl19LCJvdXRsaW5lLXN0eWxlIjoiYm9yZGVyLWJvdHRvbS1zdHlsZSIsCiJvdXRsaW5lLXdpZHRoIjoiYm9yZGVyLWJvdHRvbS13aWR0aCIsb3ZlcmZsb3c6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbNTJdLEpbNjJdLEpbNzVdLEpbODBdXSxjc3NGbnM6W119LCJvdmVyZmxvdy13cmFwIjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSls1NV0sSls3Ml1dLGNzc0ZuczpbXX0sIm92ZXJmbG93LXgiOntjc3NQcm9wQml0czowLGNzc0xpdEdyb3VwOltKWzQ0XSxKWzUyXSxKWzYyXSxKWzc1XSxKWzgwXV0sY3NzRm5zOltdfSwib3ZlcmZsb3cteSI6Im92ZXJmbG93LXgiLHBhZGRpbmc6Im9wYWNpdHkiLCJwYWRkaW5nLWJvdHRvbSI6Im9wYWNpdHkiLCJwYWRkaW5nLWxlZnQiOiJvcGFjaXR5IiwicGFkZGluZy1yaWdodCI6Im9wYWNpdHkiLCJwYWRkaW5nLXRvcCI6Im9wYWNpdHkiLCJwYWdlLWJyZWFrLWFmdGVyIjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSls0Ml0sSls1MV0sSls1Ml0sSls1M11dLGNzc0ZuczpbXX0sInBhZ2UtYnJlYWstYmVmb3JlIjoicGFnZS1icmVhay1hZnRlciIsCiJwYWdlLWJyZWFrLWluc2lkZSI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbNTJdLEpbNTNdXSxjc3NGbnM6W119LHBhdXNlOiJib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzIiwicGF1c2UtYWZ0ZXIiOiJib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzIiwicGF1c2UtYmVmb3JlIjoiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1cyIscGVyc3BlY3RpdmU6e2Nzc1Byb3BCaXRzOjUsY3NzTGl0R3JvdXA6W0pbNzFdXSxjc3NGbnM6W119LCJwZXJzcGVjdGl2ZS1vcmlnaW4iOntjc3NQcm9wQml0czo1LGNzc0xpdEdyb3VwOltKWzMxXSxKWzQyXSxKWzU2XV0sY3NzRm5zOltdfSxwaXRjaDp7Y3NzUHJvcEJpdHM6NSxjc3NMaXRHcm91cDpbSlsyMV0sSls2OV1dLGNzc0ZuczpbXX0sInBpdGNoLXJhbmdlIjoiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1cyIsInBsYXktZHVyaW5nIjp7Y3NzUHJvcEJpdHM6MTYsY3NzTGl0R3JvdXA6W0pbNTJdLEpbNzBdLEpbNzFdLEpbNzRdXSxjc3NGbnM6W119LApwb3NpdGlvbjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSlsyM11dLGNzc0ZuczpbXX0scXVvdGVzOntjc3NQcm9wQml0czo4LGNzc0xpdEdyb3VwOltKWzcxXV0sY3NzRm5zOltdfSxyZXNpemU6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbMzldLEpbNTRdLEpbNzFdXSxjc3NGbnM6W119LHJpY2huZXNzOiJib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzIixyaWdodDoiYm90dG9tIixzcGVhazp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSls3MV0sSls3Ml0sSls3OF1dLGNzc0ZuczpbXX0sInNwZWFrLWhlYWRlciI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbNTFdLEpbNzNdXSxjc3NGbnM6W119LCJzcGVhay1udW1lcmFsIjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSlszNV1dLGNzc0ZuczpbXX0sInNwZWFrLXB1bmN0dWF0aW9uIjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSls1OF0sSls3MV1dLGNzc0ZuczpbXX0sInNwZWVjaC1yYXRlIjp7Y3NzUHJvcEJpdHM6NSwKY3NzTGl0R3JvdXA6W0pbMTRdLEpbNjldXSxjc3NGbnM6W119LHN0cmVzczoiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1cyIsInRhYmxlLWxheW91dCI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbNTJdLEpbNjFdXSxjc3NGbnM6W119LCJ0ZXh0LWFsaWduIjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSls0Ml0sSls1Nl0sSls2Nl1dLGNzc0ZuczpbXX0sInRleHQtZGVjb3JhdGlvbiI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbMTldLEpbNzFdXSxjc3NGbnM6W119LCJ0ZXh0LWluZGVudCI6ImJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXMiLCJ0ZXh0LW92ZXJmbG93Ijp7Y3NzUHJvcEJpdHM6OCxjc3NMaXRHcm91cDpbSlszM11dLGNzc0ZuczpbXX0sInRleHQtc2hhZG93IjoiYm94LXNoYWRvdyIsInRleHQtdHJhbnNmb3JtIjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSlsyNl0sSls3MV1dLGNzc0ZuczpbXX0sInRleHQtd3JhcCI6e2Nzc1Byb3BCaXRzOjAsCmNzc0xpdEdyb3VwOltKWzQ2XSxKWzcxXSxKWzcyXV0sY3NzRm5zOltdfSx0b3A6ImJvdHRvbSIsdHJhbnNmb3JtOntjc3NQcm9wQml0czowLGNzc0xpdEdyb3VwOltKWzcxXV0sY3NzRm5zOiJtYXRyaXgoKSxwZXJzcGVjdGl2ZSgpLHJvdGF0ZSgpLHJvdGF0ZTNkKCkscm90YXRleCgpLHJvdGF0ZXkoKSxyb3RhdGV6KCksc2NhbGUoKSxzY2FsZTNkKCksc2NhbGV4KCksc2NhbGV5KCksc2NhbGV6KCksc2tldygpLHNrZXd4KCksc2tld3koKSx0cmFuc2xhdGUoKSx0cmFuc2xhdGUzZCgpLHRyYW5zbGF0ZXgoKSx0cmFuc2xhdGV5KCksdHJhbnNsYXRleigpIi5zcGxpdCgiLCIpfSwidHJhbnNmb3JtLW9yaWdpbiI6InBlcnNwZWN0aXZlLW9yaWdpbiIsInRyYW5zZm9ybS1zdHlsZSI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbMzddXSxjc3NGbnM6W119LHRyYW5zaXRpb246e2Nzc1Byb3BCaXRzOjEwMjksY3NzTGl0R3JvdXA6W0pbMTBdLEpbNDhdLEpbNTBdLEpbNzFdXSxjc3NGbnM6WyJjdWJpYy1iZXppZXIoKSIsCiJzdGVwcygpIl19LCJ0cmFuc2l0aW9uLWRlbGF5IjoiYW5pbWF0aW9uLWRlbGF5IiwidHJhbnNpdGlvbi1kdXJhdGlvbiI6ImFuaW1hdGlvbi1kZWxheSIsInRyYW5zaXRpb24tcHJvcGVydHkiOntjc3NQcm9wQml0czoxMDI0LGNzc0xpdEdyb3VwOltKWzQ4XSxKWzUwXV0sY3NzRm5zOltdfSwidHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb24iOiJhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uIiwidW5pY29kZS1iaWRpIjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSlszMF0sSls3Ml1dLGNzc0ZuczpbXX0sInZlcnRpY2FsLWFsaWduIjp7Y3NzUHJvcEJpdHM6NSxjc3NMaXRHcm91cDpbSlsxMl0sSlszMV1dLGNzc0ZuczpbXX0sdmlzaWJpbGl0eToiYmFja2ZhY2UtdmlzaWJpbGl0eSIsInZvaWNlLWZhbWlseSI6e2Nzc1Byb3BCaXRzOjgsY3NzTGl0R3JvdXA6W0pbMjddLEpbNDhdXSxjc3NGbnM6W119LHZvbHVtZTp7Y3NzUHJvcEJpdHM6MSxjc3NMaXRHcm91cDpbSlsxN10sSls2OV1dLApjc3NGbnM6W119LCJ3aGl0ZS1zcGFjZSI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbMjJdLEpbNzJdXSxjc3NGbnM6W119LHdpZHRoOiJtaW4taGVpZ2h0Iiwid29yZC1icmVhayI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbMzJdLEpbNzJdLEpbNTVdXSxjc3NGbnM6W119LCJ3b3JkLXNwYWNpbmciOiJsZXR0ZXItc3BhY2luZyIsIndvcmQtd3JhcCI6Im92ZXJmbG93LXdyYXAiLCJ6LWluZGV4IjoiYm90dG9tIix6b29tOiJsaW5lLWhlaWdodCIsImN1YmljLWJlemllcigpIjoiYW5pbWF0aW9uLWRlbGF5Iiwic3RlcHMoKSI6e2Nzc1Byb3BCaXRzOjUsY3NzTGl0R3JvdXA6W0pbMzZdLEpbNDhdXSxjc3NGbnM6W119LCJpbWFnZSgpIjp7Y3NzUHJvcEJpdHM6MTgsY3NzTGl0R3JvdXA6W0pbMF0sSls0OF1dLGNzc0ZuczpbInJnYigpIiwicmdiYSgpIl19LCJsaW5lYXItZ3JhZGllbnQoKSI6e2Nzc1Byb3BCaXRzOjcsY3NzTGl0R3JvdXA6W0pbMF0sSlszMV0sSls0Ml0sSls0OF0sCkpbNzldXSxjc3NGbnM6WyJyZ2IoKSIsInJnYmEoKSJdfSwicmFkaWFsLWdyYWRpZW50KCkiOntjc3NQcm9wQml0czo3LGNzc0xpdEdyb3VwOltKWzBdLEpbMTFdLEpbMzFdLEpbNDJdLEpbNDhdLEpbNTZdLEpbNTddXSxjc3NGbnM6WyJyZ2IoKSIsInJnYmEoKSJdfSwicmVwZWF0aW5nLWxpbmVhci1ncmFkaWVudCgpIjoibGluZWFyLWdyYWRpZW50KCkiLCJyZXBlYXRpbmctcmFkaWFsLWdyYWRpZW50KCkiOiJyYWRpYWwtZ3JhZGllbnQoKSIsInJnYigpIjp7Y3NzUHJvcEJpdHM6MSxjc3NMaXRHcm91cDpbSls0OF1dLGNzc0ZuczpbXX0sInJnYmEoKSI6InJnYigpIiwicmVjdCgpIjp7Y3NzUHJvcEJpdHM6NSxjc3NMaXRHcm91cDpbSls0OF0sSls1Ml1dLGNzc0ZuczpbXX0sImFscGhhKCkiOntjc3NQcm9wQml0czoxLGNzc0xpdEdyb3VwOltKWzI4XV0sY3NzRm5zOltdfSwibWF0cml4KCkiOiJhbmltYXRpb24tZGVsYXkiLCJwZXJzcGVjdGl2ZSgpIjoiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1cyIsCiJyb3RhdGUoKSI6ImJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXMiLCJyb3RhdGUzZCgpIjoiYW5pbWF0aW9uLWRlbGF5Iiwicm90YXRleCgpIjoiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1cyIsInJvdGF0ZXkoKSI6ImJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXMiLCJyb3RhdGV6KCkiOiJib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzIiwic2NhbGUoKSI6ImFuaW1hdGlvbi1kZWxheSIsInNjYWxlM2QoKSI6ImFuaW1hdGlvbi1kZWxheSIsInNjYWxleCgpIjoiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1cyIsInNjYWxleSgpIjoiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1cyIsInNjYWxleigpIjoiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1cyIsInNrZXcoKSI6ImFuaW1hdGlvbi1kZWxheSIsInNrZXd4KCkiOiJib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzIiwic2tld3koKSI6ImJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXMiLCJ0cmFuc2xhdGUoKSI6ImFuaW1hdGlvbi1kZWxheSIsInRyYW5zbGF0ZTNkKCkiOiJhbmltYXRpb24tZGVsYXkiLAoidHJhbnNsYXRleCgpIjoiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1cyIsInRyYW5zbGF0ZXkoKSI6ImJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXMiLCJ0cmFuc2xhdGV6KCkiOiJib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzIn0sTztmb3IoTyBpbiBMKSJzdHJpbmciPT09dHlwZW9mIExbT10mJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKEwsTykmJihMW09dPUxbTFtPXV0pOyJ1bmRlZmluZWQiIT09dHlwZW9mIHdpbmRvdyYmKHdpbmRvdy5jc3NTY2hlbWE9TCk7dmFyIFUsWDsKKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZyhhKXt2YXIgZj1wYXJzZUludChhLnN1YnN0cmluZygxKSwxNik7cmV0dXJuIDY1NTM1PGY/KGYtPTY1NTM2LFN0cmluZy5mcm9tQ2hhckNvZGUoNTUyOTYrKGY+PjEwKSw1NjMyMCsoZiYxMDIzKSkpOmY9PWY/U3RyaW5nLmZyb21DaGFyQ29kZShmKToiICI+YVsxXT8iIjphWzFdfWZ1bmN0aW9uIHcoYSxmKXtyZXR1cm4nIicrYS5yZXBsYWNlKC9bXHUwMDAwLVx1MDAxZlxcXCI8Pl0vZyxmKSsnIid9ZnVuY3Rpb24gTShhKXtyZXR1cm4gRVthXXx8KEVbYV09IlxcIithLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpKyIgIil9ZnVuY3Rpb24geChhKXtyZXR1cm4gZVthXXx8KGVbYV09KCJcdTAwMTAiPmE/IiUwIjoiJSIpK2EuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpfXZhciBFPXsiXFwiOiJcXFxcIn0sZT17IlxcIjoiJTVjIn0sdj1SZWdFeHAoIlxcdUZFRkZ8VVsrXVswLTlBLUY/XXsxLDZ9KD86LVswLTlBLUZdezEsNn0pP3x1cmxbKF1bXFx0XFxuXFxmIF0qKD86XCIoPzonfFteJ1wiXFxuXFxmXFxcXF18XFxcXFtcXHNcXFNdKSpcInwnKD86XCJ8W14nXCJcXG5cXGZcXFxcXXxcXFxcW1xcc1xcU10pKid8KD86W1xcdFxceDIxXFx4MjMtXFx4MjZcXHgyOC1cXHg1YlxceDVkLVxceDdlXXxbXFx1MDA4MC1cXHVkN2ZmXFx1ZTAwMC1cXHVmZmZkXXxbXFx1ZDgwMC1cXHVkYmZmXVtcXHVkYzAwLVxcdWRmZmZdfFxcXFwoPzpbMC05YS1mQS1GXXsxLDZ9W1xcdFxcblxcZiBdP3xbXFx1MDAyMC1cXHUwMDdlXFx1MDA4MC1cXHVkN2ZmXFx1ZTAwMFxcdWZmZmRdfFtcXHVkODAwLVxcdWRiZmZdW1xcdWRjMDAtXFx1ZGZmZl0pKSopW1xcdFxcblxcZiBdKlspXXwoPyF1cmxbKF0pLT8oPzpbYS16QS1aX118W1xcdTAwODAtXFx1ZDdmZlxcdWUwMDAtXFx1ZmZmZF18W1xcdWQ4MDAtXFx1ZGJmZl1bXFx1ZGMwMC1cXHVkZmZmXXxcXFxcKD86WzAtOWEtZkEtRl17MSw2fVtcXHRcXG5cXGYgXT98W1xcdTAwMjAtXFx1MDA3ZVxcdTAwODAtXFx1ZDdmZlxcdWUwMDBcXHVmZmZkXXxbXFx1ZDgwMC1cXHVkYmZmXVtcXHVkYzAwLVxcdWRmZmZdKSkoPzpbYS16QS1aMC05Xy1dfFtcXHUwMDgwLVxcdWQ3ZmZcXHVlMDAwLVxcdWZmZmRdfFtcXHVkODAwLVxcdWRiZmZdW1xcdWRjMDAtXFx1ZGZmZl18XFxcXCg/OlswLTlhLWZBLUZdezEsNn1bXFx0XFxuXFxmIF0/fFtcXHUwMDIwLVxcdTAwN2VcXHUwMDgwLVxcdWQ3ZmZcXHVlMDAwXFx1ZmZmZF18W1xcdWQ4MDAtXFx1ZGJmZl1bXFx1ZGMwMC1cXHVkZmZmXSkpKlsoXXwoPzpAPy0/KD86W2EtekEtWl9dfFtcXHUwMDgwLVxcdWQ3ZmZcXHVlMDAwLVxcdWZmZmRdfFtcXHVkODAwLVxcdWRiZmZdW1xcdWRjMDAtXFx1ZGZmZl18XFxcXCg/OlswLTlhLWZBLUZdezEsNn1bXFx0XFxuXFxmIF0/fFtcXHUwMDIwLVxcdTAwN2VcXHUwMDgwLVxcdWQ3ZmZcXHVlMDAwXFx1ZmZmZF18W1xcdWQ4MDAtXFx1ZGJmZl1bXFx1ZGMwMC1cXHVkZmZmXSkpfCMpKD86W2EtekEtWjAtOV8tXXxbXFx1MDA4MC1cXHVkN2ZmXFx1ZTAwMC1cXHVmZmZkXXxbXFx1ZDgwMC1cXHVkYmZmXVtcXHVkYzAwLVxcdWRmZmZdfFxcXFwoPzpbMC05YS1mQS1GXXsxLDZ9W1xcdFxcblxcZiBdP3xbXFx1MDAyMC1cXHUwMDdlXFx1MDA4MC1cXHVkN2ZmXFx1ZTAwMFxcdWZmZmRdfFtcXHVkODAwLVxcdWRiZmZdW1xcdWRjMDAtXFx1ZGZmZl0pKSp8XCIoPzonfFteJ1wiXFxuXFxmXFxcXF18XFxcXFtcXHNcXFNdKSpcInwnKD86XCJ8W14nXCJcXG5cXGZcXFxcXXxcXFxcW1xcc1xcU10pKid8Wy0rXT8oPzpbMC05XSsoPzpbLl1bMC05XSspP3xbLl1bMC05XSspKD86JXwtPyg/OlthLXpBLVpfXXxbXFx1MDA4MC1cXHVkN2ZmXFx1ZTAwMC1cXHVmZmZkXXxbXFx1ZDgwMC1cXHVkYmZmXVtcXHVkYzAwLVxcdWRmZmZdfFxcXFwoPzpbMC05YS1mQS1GXXsxLDZ9W1xcdFxcblxcZiBdP3xbXFx1MDAyMC1cXHUwMDdlXFx1MDA4MC1cXHVkN2ZmXFx1ZTAwMFxcdWZmZmRdfFtcXHVkODAwLVxcdWRiZmZdW1xcdWRjMDAtXFx1ZGZmZl0pKSg/OlthLXpBLVowLTlfLV18W1xcdTAwODAtXFx1ZDdmZlxcdWUwMDAtXFx1ZmZmZF18W1xcdWQ4MDAtXFx1ZGJmZl1bXFx1ZGMwMC1cXHVkZmZmXXxcXFxcKD86WzAtOWEtZkEtRl17MSw2fVtcXHRcXG5cXGYgXT98W1xcdTAwMjAtXFx1MDA3ZVxcdTAwODAtXFx1ZDdmZlxcdWUwMDBcXHVmZmZkXXxbXFx1ZDgwMC1cXHVkYmZmXVtcXHVkYzAwLVxcdWRmZmZdKSkqKT98PFwhLS18LS1cPnxbXFx0XFxuXFxmIF0rfC8oPzpbKl1bXipdKlsqXSsoPzpbXi9dW14qXSpbKl0rKSovfC9bXlxcblxcZl0qKXxbfnxeJCpdPXxbXlwiJ1xcXFwvXXwvKD8hWy8qXSkiLCJnaSIpLApiPVJlZ0V4cCgiXFxcXCg/Oig/OlswLTlhLWZBLUZdezEsNn1bXFx0XFxuXFxmIF0/fFtcXHUwMDIwLVxcdTAwN2VcXHUwMDgwLVxcdWQ3ZmZcXHVlMDAwXFx1ZmZmZF18W1xcdWQ4MDAtXFx1ZGJmZl1bXFx1ZGMwMC1cXHVkZmZmXSl8W1xcblxcZl0pIiwiZyIpLGE9UmVnRXhwKCJedXJsXFwoW1xcdFxcblxcZiBdKltcIiddP3xbXCInXT9bXFx0XFxuXFxmIF0qXFwpJCIsImdpIik7WD1mdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKGIsZyl9O1U9ZnVuY3Rpb24oYil7Zm9yKHZhciBiPSgiIitiKS5yZXBsYWNlKC9cclxuPy9nLCJcbiIpLm1hdGNoKHYpfHxbXSxmPTAsaD0iICIsZD0wLHk9Yi5sZW5ndGg7ZDx5OysrZCl7dmFyIGw9WChiW2RdKSxWPWwubGVuZ3RoLGc9bC5jaGFyQ29kZUF0KDApLGw9MzQ9PWd8fDM5PT1nP3cobC5zdWJzdHJpbmcoMSxWLTEpLE0pOjQ3PT1nJiYxPFZ8fCJcXCI9PWx8fCItLVw+Ij09bHx8IjxcIS0tIj09bHx8Ilx1ZmVmZiI9PWx8fDMyPj1nPyIgIjoKL3VybFwoL2kudGVzdChsKT8idXJsKCIrdyhsLnJlcGxhY2UoYSwiIikseCkrIikiOmw7aWYoaCE9bHx8IiAiIT1sKWJbZisrXT1oPWx9Yi5sZW5ndGg9ZjtyZXR1cm4gYn19KSgpOyJ1bmRlZmluZWQiIT09dHlwZW9mIHdpbmRvdyYmKHdpbmRvdy5sZXhDc3M9VSx3aW5kb3cuZGVjb2RlQ3NzPVgpO3ZhciBZPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZyhkKXtkPSgiIitkKS5tYXRjaChrKTtyZXR1cm4hZD9zOm5ldyBlKHYoZFsxXSksdihkWzJdKSx2KGRbM10pLHYoZFs0XSksdihkWzVdKSx2KGRbNl0pLHYoZFs3XSkpfWZ1bmN0aW9uIHcoZCxhKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGQ/ZW5jb2RlVVJJKGQpLnJlcGxhY2UoYSxNKTpzfWZ1bmN0aW9uIE0oZCl7ZD1kLmNoYXJDb2RlQXQoMCk7cmV0dXJuIiUiKyIwMTIzNDU2Nzg5QUJDREVGIi5jaGFyQXQoZD4+NCYxNSkrIjAxMjM0NTY3ODlBQkNERUYiLmNoYXJBdChkJjE1KX1mdW5jdGlvbiB4KGQpe2lmKGQ9PT1zKXJldHVybiBzO2Zvcih2YXIgZD1kLnJlcGxhY2UoLyhefFwvKVwuKD86XC98JCkvZywiJDEiKS5yZXBsYWNlKC9cL3syLH0vZywiLyIpLGE9YixoOyhoPWQucmVwbGFjZShhLCIkMSIpKSE9ZDtkPWgpO3JldHVybiBkfWZ1bmN0aW9uIEUoZCxoKXt2YXIgYj1kLlQoKSxmPWguSygpO2Y/Yi5nYShoLmopOmY9aC5YKCk7CmY/Yi5kYShoLm4pOmY9aC5ZKCk7Zj9iLmVhKGguayk6Zj1oLiQoKTt2YXIgZz1oLmcsaz14KGcpO2lmKGYpYi5jYShoLlYoKSksaz1rJiZrLnJlcGxhY2UoYSwiIik7ZWxzZSBpZihmPSEhZyl7aWYoNDchPT1rLmNoYXJDb2RlQXQoMCkpdmFyIGs9eChiLmd8fCIiKS5yZXBsYWNlKGEsIiIpLGU9ay5sYXN0SW5kZXhPZigiLyIpKzEsaz14KChlP2suc3Vic3RyaW5nKDAsZSk6IiIpK3goZykpLnJlcGxhY2UoYSwiIil9ZWxzZSBrPWsmJmsucmVwbGFjZShhLCIiKSxrIT09ZyYmYi5HKGspO2Y/Yi5HKGspOmY9aC5hYSgpO2Y/Yi5PKGgubCk6Zj1oLlooKTtmJiZiLmZhKGgubyk7cmV0dXJuIGJ9ZnVuY3Rpb24gZShkLGEsaCxmLGIsZyxrKXt0aGlzLmo9ZDt0aGlzLm49YTt0aGlzLms9aDt0aGlzLmg9Zjt0aGlzLmc9Yjt0aGlzLmw9Zzt0aGlzLm89a31mdW5jdGlvbiB2KGQpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZCYmMDxkLmxlbmd0aD9kOnN9dmFyIGI9UmVnRXhwKC8oXC98XikoPzpbXi4vXVteL10qfFwuezIsfSg/OlteLi9dW14vXSopfFwuezMsfVteL10qKVwvXC5cLig/OlwvfCQpLyksCmE9L14oPzpcLlwuXC8pKig/OlwuXC4kKT8vO2UucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGQ9W107cyE9PXRoaXMuaiYmZC5wdXNoKHRoaXMuaiwiOiIpO3MhPT10aGlzLmsmJihkLnB1c2goIi8vIikscyE9PXRoaXMubiYmZC5wdXNoKHRoaXMubiwiQCIpLGQucHVzaCh0aGlzLmspLHMhPT10aGlzLmgmJmQucHVzaCgiOiIsdGhpcy5oLnRvU3RyaW5nKCkpKTtzIT09dGhpcy5nJiZkLnB1c2godGhpcy5nKTtzIT09dGhpcy5sJiZkLnB1c2goIj8iLHRoaXMubCk7cyE9PXRoaXMubyYmZC5wdXNoKCIjIix0aGlzLm8pO3JldHVybiBkLmpvaW4oIiIpfTtlLnByb3RvdHlwZS5UPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlKHRoaXMuaix0aGlzLm4sdGhpcy5rLHRoaXMuaCx0aGlzLmcsdGhpcy5sLHRoaXMubyl9O2UucHJvdG90eXBlLlc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5qJiZkZWNvZGVVUklDb21wb25lbnQodGhpcy5qKS50b0xvd2VyQ2FzZSgpfTtlLnByb3RvdHlwZS5nYT0KZnVuY3Rpb24oZCl7dGhpcy5qPWQ/ZDpzfTtlLnByb3RvdHlwZS5LPWZ1bmN0aW9uKCl7cmV0dXJuIHMhPT10aGlzLmp9O2UucHJvdG90eXBlLmRhPWZ1bmN0aW9uKGQpe3RoaXMubj1kP2Q6c307ZS5wcm90b3R5cGUuWD1mdW5jdGlvbigpe3JldHVybiBzIT09dGhpcy5ufTtlLnByb3RvdHlwZS5lYT1mdW5jdGlvbihkKXt0aGlzLms9ZD9kOnM7dGhpcy5HKHRoaXMuZyl9O2UucHJvdG90eXBlLlk9ZnVuY3Rpb24oKXtyZXR1cm4gcyE9PXRoaXMua307ZS5wcm90b3R5cGUuVj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmgmJmRlY29kZVVSSUNvbXBvbmVudCh0aGlzLmgpfTtlLnByb3RvdHlwZS5jYT1mdW5jdGlvbihkKXtpZihkKXtkPU51bWJlcihkKTtpZihkIT09KGQmNjU1MzUpKXRocm93IEVycm9yKCJCYWQgcG9ydCBudW1iZXIgIitkKTt0aGlzLmg9IiIrZH1lbHNlIHRoaXMuaD1zfTtlLnByb3RvdHlwZS4kPWZ1bmN0aW9uKCl7cmV0dXJuIHMhPT10aGlzLmh9O2UucHJvdG90eXBlLlU9CmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZyYmZGVjb2RlVVJJQ29tcG9uZW50KHRoaXMuZyl9O2UucHJvdG90eXBlLkc9ZnVuY3Rpb24oZCl7ZD8oZD0iIitkLHRoaXMuZz0hdGhpcy5rfHwvXlwvLy50ZXN0KGQpP2Q6Ii8iK2QpOnRoaXMuZz1zfTtlLnByb3RvdHlwZS5PPWZ1bmN0aW9uKGQpe3RoaXMubD1kP2Q6c307ZS5wcm90b3R5cGUuYWE9ZnVuY3Rpb24oKXtyZXR1cm4gcyE9PXRoaXMubH07ZS5wcm90b3R5cGUuYmE9ZnVuY3Rpb24oZCl7aWYoIm9iamVjdCI9PT10eXBlb2YgZCYmIShkIGluc3RhbmNlb2YgQXJyYXkpJiYoZCBpbnN0YW5jZW9mIE9iamVjdHx8IltvYmplY3QgQXJyYXldIiE9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChkKSkpe3ZhciBhPVtdLGg9LTEsZjtmb3IoZiBpbiBkKXt2YXIgYj1kW2ZdOyJzdHJpbmciPT09dHlwZW9mIGImJihhWysraF09ZixhWysraF09Yil9ZD1hfWZvcih2YXIgYT1bXSxoPSIiLGc9MDtnPGQubGVuZ3RoOylmPWRbZysrXSwKYj1kW2crK10sYS5wdXNoKGgsZW5jb2RlVVJJQ29tcG9uZW50KGYudG9TdHJpbmcoKSkpLGg9IiYiLGImJmEucHVzaCgiPSIsZW5jb2RlVVJJQ29tcG9uZW50KGIudG9TdHJpbmcoKSkpO3RoaXMubD1hLmpvaW4oIiIpfTtlLnByb3RvdHlwZS5mYT1mdW5jdGlvbihkKXt0aGlzLm89ZD9kOnN9O2UucHJvdG90eXBlLlo9ZnVuY3Rpb24oKXtyZXR1cm4gcyE9PXRoaXMub307dmFyIGs9L14oPzooW146Lz8jXSspOik/KD86XC9cLyg/OihbXi8/I10qKUApPyhbXi8/IzpAXSopKD86OihbMC05XSspKT8pPyhbXj8jXSspPyg/Olw/KFteI10qKSk/KD86IyguKikpPyQvLGY9L1sjXC9cP0BdL2csaD0vW1wjXD9dL2c7ZS5wYXJzZT1nO2UuY3JlYXRlPWZ1bmN0aW9uKGQsYSxiLGcsayxRLE4pe2Q9bmV3IGUodyhkLGYpLHcoYSxmKSwic3RyaW5nIj09dHlwZW9mIGI/ZW5jb2RlVVJJQ29tcG9uZW50KGIpOnMsMDxnP2cudG9TdHJpbmcoKTpzLHcoayxoKSxzLCJzdHJpbmciPT10eXBlb2YgTj9lbmNvZGVVUklDb21wb25lbnQoTik6CnMpO1EmJigic3RyaW5nIj09PXR5cGVvZiBRP2QuTyhRLnJlcGxhY2UoL1tePyY9MC05QS1aYS16X1wtfi4lXS9nLE0pKTpkLmJhKFEpKTtyZXR1cm4gZH07ZS5OPUU7ZS5tYT14O2UuaGE9e3VhOmZ1bmN0aW9uKGQpe3JldHVybi9cLmh0bWwkLy50ZXN0KGcoZCkuVSgpKT8idGV4dC9odG1sIjoiYXBwbGljYXRpb24vamF2YXNjcmlwdCJ9LE46ZnVuY3Rpb24oZCxhKXtyZXR1cm4gZD9FKGcoZCksZyhhKSkudG9TdHJpbmcoKToiIithfX07cmV0dXJuIGV9KCk7InVuZGVmaW5lZCIhPT10eXBlb2Ygd2luZG93JiYod2luZG93LlVSST1ZKTt2YXIgYWE9YyxiYT1jLGRhPWMsWj1jOwooZnVuY3Rpb24oKXtmdW5jdGlvbiBnKGEpe3JldHVybiJzdHJpbmciPT09dHlwZW9mIGE/J3VybCgiJythLnJlcGxhY2UoZSx3KSsnIiknOid1cmwoImFib3V0OmJsYW5rIiknfWZ1bmN0aW9uIHcoYSl7cmV0dXJuIHZbYV19ZnVuY3Rpb24gTShhLGQpe3JldHVybiBhP1kuaGEuTihhLGQpOmR9ZnVuY3Rpb24geChoLGQsZil7aWYoIWYpcmV0dXJuIHM7dmFyIGc9KCIiK2gpLm1hdGNoKGIpO3JldHVybiBnJiYoIWdbMV18fGEudGVzdChnWzFdKSk/ZihoLGQpOnN9ZnVuY3Rpb24gRShhKXtyZXR1cm4gYS5yZXBsYWNlKC9eLSg/OmFwcGxlfGNzc3xlcHVifGtodG1sfG1venxtc28/fG98cmltfHdhcHx3ZWJraXR8eHYpLSg/PVthLXpdKS8sIiIpfXZhciBlPS9bXG5cZlxyXCJcJygpKjw+XS9nLHY9eyJcbiI6IiUwYSIsIlx1MDAwYyI6IiUwYyIsIlxyIjoiJTBkIiwnIic6IiUyMiIsIiciOiIlMjciLCIoIjoiJTI4IiwiKSI6IiUyOSIsIioiOiIlMmEiLCI8IjoiJTNjIiwiPiI6IiUzZSJ9LApiPS9eKD86KFteOi8/IyBdKyk6KT8vLGE9L14oPzpodHRwcz98bWFpbHRvfGRhdGEpJC9pO2FhPWZ1bmN0aW9uKCl7dmFyIGE9e307cmV0dXJuIGZ1bmN0aW9uIHkoZixiLGssZSxOKXt2YXIgZj1FKGYpLHU9TFtmXTtpZighdXx8Im9iamVjdCIhPT10eXBlb2YgdSliLmxlbmd0aD0wO2Vsc2V7Zm9yKHZhciBpPXUuY3NzUHJvcEJpdHMscT1pJjgwLEI9aSYxNTM2LEY9TmFOLHI9MCxvPTA7cjxiLmxlbmd0aDsrK3Ipe3ZhciBqPWJbcl0udG9Mb3dlckNhc2UoKSxJPWouY2hhckNvZGVBdCgwKSxSLHYsUCxTLEQsdztpZigzMj09PUkpaj0iIjtlbHNlIGlmKDM0PT09SSlqPTE2PT09cT9rP2coeChNKGUsWChiW3JdLnN1YnN0cmluZygxLGoubGVuZ3RoLTEpKSksZixrKSk6IiI6aSY4JiYhKHEmcS0xKT9qOiIiO2Vsc2UgaWYoImluaGVyaXQiIT09ail7aWYoRD11LmNzc0xpdEdyb3VwKXt2YXIgRztpZighKEc9dS5jc3NMaXRNYXApKXtHPXt9O2Zvcih2YXIgSz1ELmxlbmd0aDswPD0tLUs7KWZvcih2YXIgQT0KRFtLXSxUPUEubGVuZ3RoOzA8PS0tVDspR1tBW1RdXT1hO0c9dS5jc3NMaXRNYXA9R31EPUd9ZWxzZSBEPWE7aWYoISh3PUQsd1tFKGopXT09PWEpKWlmKDM1PT09SSYmL14jKD86WzAtOWEtZl17M30pezEsMn0kLy50ZXN0KGopKWo9aSYyP2o6IiI7ZWxzZSBpZig0ODw9SSYmNTc+PUkpaj1pJjE/ajoiIjtlbHNlIGlmKFI9ai5jaGFyQ29kZUF0KDEpLHY9ai5jaGFyQ29kZUF0KDIpLFA9NDg8PVImJjU3Pj1SLFM9NDg8PXYmJjU3Pj12LDQzPT09SSYmKFB8fDQ2PT09UiYmUykpaj1pJjE/KFA/IiI6IjAiKStqLnN1YnN0cmluZygxKToiIjtlbHNlIGlmKDQ1PT09SSYmKFB8fDQ2PT09UiYmUykpaj1pJjQ/KFA/Ii0iOiItMCIpK2ouc3Vic3RyaW5nKDEpOmkmMT8iMCI6IiI7ZWxzZSBpZig0Nj09PUkmJlApaj1pJjE/IjAiK2o6IiI7ZWxzZSBpZigndXJsKCInPT09ai5zdWJzdHJpbmcoMCw1KSlqPWsmJmkmMTY/Zyh4KE0oZSxiW3JdLnN1YnN0cmluZyg1LGoubGVuZ3RoLTIpKSxmLGspKToKIiI7ZWxzZSBpZigiKCI9PT1qLmNoYXJBdChqLmxlbmd0aC0xKSlhOntEPWI7Rz1yO2o9MTtLPUcrMTtmb3IoST1ELmxlbmd0aDtLPEkmJmo7KUE9RFtLKytdLGorPSIpIj09PUE/LTE6L15bXiInXSpcKCQvLnRlc3QoQSk7aWYoIWope2o9RFtHXS50b0xvd2VyQ2FzZSgpO0k9RShqKTtEPUQuc3BsaWNlKEcsSy1HLCIiKTtHPXUuY3NzRm5zO0s9MDtmb3IoQT1HLmxlbmd0aDtLPEE7KytLKWlmKEdbS10uc3Vic3RyaW5nKDAsSS5sZW5ndGgpPT1JKXtEWzBdPURbRC5sZW5ndGgtMV09IiI7eShHW0tdLEQsayxlKTtqPWorRC5qb2luKCIgIikrIikiO2JyZWFrIGF9fWo9IiJ9ZWxzZSBqPUImJi9eLT9bYS16X11bXHdcLV0qJC8udGVzdChqKSYmIS9fXyQvLnRlc3Qoaik/TiYmNTEyPT09Qj9iW3JdK046MTAyND09PUImJkxbal0mJiJudW1iZXIiPT09dHlwZW9mIExbal0ub2E/ajoiIjovXlx3KyQvLnRlc3QoaikmJjY0PT09cSYmaSY4P0YrMT09PW8/KGJbRl09YltGXS5zdWJzdHJpbmcoMCwKYltGXS5sZW5ndGgtMSkrIiAiK2orJyInLCIiKTooRj1vLCciJytqKyciJyk6IiJ9aiYmKGJbbysrXT1qKX0xPT09byYmJ3VybCgiYWJvdXQ6YmxhbmsiKSc9PT1iWzBdJiYobz0wKTtiLmxlbmd0aD1vfX19KCk7dmFyIGs9UmVnRXhwKCJeKGFjdGl2ZXxhZnRlcnxiZWZvcmV8Ymxhbmt8Y2hlY2tlZHxkZWZhdWx0fGRpc2FibGVkfGRyb3B8ZW1wdHl8ZW5hYmxlZHxmaXJzdHxmaXJzdC1jaGlsZHxmaXJzdC1sZXR0ZXJ8Zmlyc3QtbGluZXxmaXJzdC1vZi10eXBlfGZ1bGxzY3JlZW58Zm9jdXN8aG92ZXJ8aW4tcmFuZ2V8aW5kZXRlcm1pbmF0ZXxpbnZhbGlkfGxhc3QtY2hpbGR8bGFzdC1vZi10eXBlfGxlZnR8bGlua3xvbmx5LWNoaWxkfG9ubHktb2YtdHlwZXxvcHRpb25hbHxvdXQtb2YtcmFuZ2V8cGxhY2Vob2xkZXItc2hvd258cmVhZC1vbmx5fHJlYWQtd3JpdGV8cmVxdWlyZWR8cmlnaHR8cm9vdHxzY29wZXx1c2VyLWVycm9yfHZhbGlkfHZpc2l0ZWQpJCIpLGY9e307ZlsiPiJdPQpmWyIrIl09ZlsifiJdPWY7YmE9ZnVuY3Rpb24oYSxkLGIpe2Z1bmN0aW9uIGcoaSxyKXtmdW5jdGlvbiBvKGIsZixnKXt2YXIgeSxlLGksbCxvLG09bjt5PSIiO2lmKGI8ZilpZihvPWFbYl0sIioiPT09bykrK2IseT1vO2Vsc2UgaWYoL15bYS16QS1aXS8udGVzdChvKSYmKGU9eChvLnRvTG93ZXJDYXNlKCksW10pKSkidGFnTmFtZSJpbiBlJiYobz1lLnRhZ05hbWUpLCsrYix5PW87Zm9yKGw9aT1lPSIiO20mJmI8ZjsrK2IpaWYobz1hW2JdLCIjIj09PW8uY2hhckF0KDApKS9eI198X18kfFteXHcjOlwtXS8udGVzdChvKT9tPUM6ZSs9byt2O2Vsc2UgaWYoIi4iPT09bykrK2I8ZiYmL15bMC05QS1aYS16Ol9cLV0rJC8udGVzdChvPWFbYl0pJiYhL15ffF9fJC8udGVzdChvKT9lKz0iLiIrbzptPUM7ZWxzZSBpZihiKzE8ZiYmIlsiPT09YVtiXSl7KytiO3ZhciBIPWFbYisrXS50b0xvd2VyQ2FzZSgpO289JC5tW3krIjo6IitIXTtvIT09K28mJihvPSQubVsiKjo6IitIXSk7dmFyIFc7CmQuaWE/KFc9ZC5pYSh5LEgpLCJzdHJpbmciIT09dHlwZW9mIFcmJihtPUMsVz1IKSxtJiZvIT09K28mJihvPSQuZC5OT05FKSk6KFc9SCxvIT09K28mJihtPUMpKTt2YXIgcD1IPSIiLGNhPUM7L15bfl4kKnxdPz0kLy50ZXN0KGFbYl0pJiYoSD1hW2IrK10scD1hW2IrK10sL15bMC05QS1aYS16Ol9cLV0rJC8udGVzdChwKT9wPSciJytwKyciJzoiXSI9PT1wJiYocD0nIiInLC0tYiksL14iKFteXCJcXF18XFwuKSoiJC8udGVzdChwKXx8KG09QyksKGNhPSJpIj09PWFbYl0pJiYrK2IpOyJdIiE9PWFbYl0mJigrK2IsbT1DKTtzd2l0Y2gobyl7Y2FzZSAkLmQuQ0xBU1NFUzpjYXNlICQuZC5MT0NBTF9OQU1FOmNhc2UgJC5kLk5PTkU6YnJlYWs7Y2FzZSAkLmQuR0xPQkFMX05BTUU6Y2FzZSAkLmQuSUQ6Y2FzZSAkLmQuSURSRUY6KCI9Ij09PUh8fCJ+PSI9PT1IfHwiJD0iPT09SCkmJiciIichPXAmJiFjYT9wPSciJytwLnN1YnN0cmluZygxLHAubGVuZ3RoLTEpK3YrJyInOiJ8PSI9PT0KSHx8IiI9PT1IfHwobT1DKTticmVhaztjYXNlICQuZC5VUkk6Y2FzZSAkLmQuVVJJX0ZSQUdNRU5UOiIiIT09SCYmKG09Qyk7YnJlYWs7ZGVmYXVsdDptPUN9bSYmKGkrPSJbIitXLnJlcGxhY2UoL1teXHctXS9nLCJcXCQmIikrSCtwKyhjYT8iIGldIjoiXSIpKX1lbHNlIGlmKGI8ZiYmIjoiPT09YVtiXSlpZihvPWFbKytiXSxrLnRlc3QobykpbCs9IjoiK287ZWxzZSBicmVhaztlbHNlIGJyZWFrO2IhPT1mJiYobT1DKTttJiYoYj0oeStlKS5yZXBsYWNlKC9bXiAuKiNcdy1dL2csIlxcJCYiKStpK2wrZykmJmoucHVzaChiKTtyZXR1cm4gbX0iICI9PT1hW2ldJiYrK2k7ci0xIT09aSYmIiAiPT09YVtyXSYmLS1yO2Zvcih2YXIgaj1bXSxsPWkscT1uLHU9aTtxJiZ1PHI7Kyt1KXt2YXIgQj1hW3VdO2lmKGZbQl09PT1mfHwiICI9PT1CKW8obCx1LEIpP2w9dSsxOnE9Q31vKGwsciwiIil8fChxPUMpO3JldHVybiBxPyhqLmxlbmd0aCYmKGw9ai5qb2luKCIiKSxlIT09cyYmKGw9Ii4iKwplKyIgIitsKSxOLnB1c2gobCkpLG4pOiFifHxiKGEuc2xpY2UoaSxyKSl9dmFyIGU9ZC5uYSx2PWQuTCx4PWQuQWEsTj1bXSx1PTAsaSxxPTAsQjtmb3IoaT0wO2k8YS5sZW5ndGg7KytpKWlmKEI9YVtpXSwiKCI9PUJ8fCJbIj09Qj8oKytxLG4pOiIpIj09Qnx8Il0iPT1CPyhxJiYtLXEsbik6ISgiICI9PWFbaV0mJihxfHxmW2FbaS0xXV09PT1mfHxmW2FbaSsxXV09PT1mKSkpYVt1KytdPWFbaV07YS5sZW5ndGg9dTt1PWEubGVuZ3RoO2ZvcihpPXE9MDtpPHU7KytpKWlmKCIsIj09PWFbaV0pe2lmKCFnKHEsaSkpcmV0dXJuIHM7cT1pKzF9cmV0dXJuIWcocSx1KT9zOk59OyhmdW5jdGlvbigpe3ZhciBhPS9eXHcvLGQ9UmVnRXhwKCJeKD86KD86KD86KD86b25seXxub3QpICk/KD86YWxsfGF1cmFsfGJyYWlsbGV8ZW1ib3NzZWR8aGFuZGhlbGR8cHJpbnR8cHJvamVjdGlvbnxzY3JlZW58c3BlZWNofHR0eXx0dil8XFwoICg/Oig/Om1pbi18bWF4LSk/KD86KD86ZGV2aWNlLSk/KD86YXNwZWN0LXJhdGlvfGhlaWdodHx3aWR0aCl8Y29sb3IoPzotaW5kZXgpP3xtb25vY2hyb21lfG9yaWVudGF0aW9ufHJlc29sdXRpb24pfGdyaWR8aG92ZXJ8bHVtaW5vc2l0eXxwb2ludGVyfHNjYW58c2NyaXB0KSAoPzo6IC0/KD86W2Etel1cXHcrKD86LVxcdyspKnxcXGQrKD86IC8gXFxkK3woPzpcXC5cXGQrKT8oPzpwW2N4dF18W2NlbV1tfGlufGRwaXxkcHB4fGRwY218JSk/KSkgKT9cXCkpKD86IGFuZCA/XFwoICg/Oig/Om1pbi18bWF4LSk/KD86KD86ZGV2aWNlLSk/KD86YXNwZWN0LXJhdGlvfGhlaWdodHx3aWR0aCl8Y29sb3IoPzotaW5kZXgpP3xtb25vY2hyb21lfG9yaWVudGF0aW9ufHJlc29sdXRpb24pfGdyaWR8aG92ZXJ8bHVtaW5vc2l0eXxwb2ludGVyfHNjYW58c2NyaXB0KSAoPzo6IC0/KD86W2Etel1cXHcrKD86LVxcdyspKnxcXGQrKD86IC8gXFxkK3woPzpcXC5cXGQrKT8oPzpwW2N4dF18W2NlbV1tfGlufGRwaXxkcHB4fGRwY218JSk/KSkgKT9cXCkpKikoPzogLCAoPzooPzooPzooPzpvbmx5fG5vdCkgKT8oPzphbGx8YXVyYWx8YnJhaWxsZXxlbWJvc3NlZHxoYW5kaGVsZHxwcmludHxwcm9qZWN0aW9ufHNjcmVlbnxzcGVlY2h8dHR5fHR2KXxcXCggKD86KD86bWluLXxtYXgtKT8oPzooPzpkZXZpY2UtKT8oPzphc3BlY3QtcmF0aW98aGVpZ2h0fHdpZHRoKXxjb2xvcig/Oi1pbmRleCk/fG1vbm9jaHJvbWV8b3JpZW50YXRpb258cmVzb2x1dGlvbil8Z3JpZHxob3ZlcnxsdW1pbm9zaXR5fHBvaW50ZXJ8c2NhbnxzY3JpcHQpICg/OjogLT8oPzpbYS16XVxcdysoPzotXFx3KykqfFxcZCsoPzogLyBcXGQrfCg/OlxcLlxcZCspPyg/OnBbY3h0XXxbY2VtXW18aW58ZHBpfGRwcHh8ZHBjbXwlKT8pKSApP1xcKSkoPzogYW5kID9cXCggKD86KD86bWluLXxtYXgtKT8oPzooPzpkZXZpY2UtKT8oPzphc3BlY3QtcmF0aW98aGVpZ2h0fHdpZHRoKXxjb2xvcig/Oi1pbmRleCk/fG1vbm9jaHJvbWV8b3JpZW50YXRpb258cmVzb2x1dGlvbil8Z3JpZHxob3ZlcnxsdW1pbm9zaXR5fHBvaW50ZXJ8c2NhbnxzY3JpcHQpICg/OjogLT8oPzpbYS16XVxcdysoPzotXFx3KykqfFxcZCsoPzogLyBcXGQrfCg/OlxcLlxcZCspPyg/OnBbY3h0XXxbY2VtXW18aW58ZHBpfGRwcHh8ZHBjbXwlKT8pKSApP1xcKSkqKSkqJCIsCiJpIik7Wj1mdW5jdGlvbihiKXtmb3IodmFyIGI9Yi5zbGljZSgpLGY9Yi5sZW5ndGgsZz0wLGs9MDtrPGY7KytrKXt2YXIgZT1iW2tdOyIgIiE9ZSYmKGJbZysrXT1lKX1iLmxlbmd0aD1nO2I9Yi5qb2luKCIgIik7cmV0dXJuIGI9IWIubGVuZ3RoPyIiOiFkLnRlc3QoYik/Im5vdCBhbGwiOmEudGVzdChiKT9iOiJub3QgYWxsICwgIitifX0pKCk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiKXt2YXIgZD0vXlxzKlsnXShbXiddKilbJ11ccyokLyxmPS9eXHMqdXJsXHMqWyhdWyJdKFteIl0qKVsiXVspXVxzKiQvLGc9L15ccyp1cmxccypbKF1bJ10oW14nXSopWyddWyldXHMqJC8saD0vXlxzKnVybFxzKlsoXShbXildKilbKV1ccyokLyxrO3JldHVybihrPS9eXHMqWyJdKFteIl0qKVsiXVxzKiQvLmV4ZWMoYikpfHwoaz1kLmV4ZWMoYikpfHwoaz1mLmV4ZWMoYikpfHwoaz1nLmV4ZWMoYikpfHwoaz1oLmV4ZWMoYikpP2tbMV06c31mdW5jdGlvbiBiKGYsZyxrLGUsdix3LHUpe2Z1bmN0aW9uIGkoKXtyPQpGLmxlbmd0aCYmRltGLmxlbmd0aC0xXT09PXN9dmFyIHE9YyxCPXV8fFswXSxGPVtdLHI9QztmYShnLHtzdGFydFN0eWxlc2hlZXQ6ZnVuY3Rpb24oKXtxPVtdfSxlbmRTdHlsZXNoZWV0OmZ1bmN0aW9uKCl7fSxzdGFydEF0cnVsZTpmdW5jdGlvbihnLGope2lmKHIpZz1zO2Vsc2UgaWYoIkBtZWRpYSI9PT1nKXEucHVzaCgiQG1lZGlhIiwiICIsWihqKSk7ZWxzZSBpZigiQGtleWZyYW1lcyI9PT1nfHwiQC13ZWJraXQta2V5ZnJhbWVzIj09PWcpe3ZhciBpPWpbMF07MT09PWoubGVuZ3RoJiYhL19fJHxbXlx3XC1dLy50ZXN0KGkpPyhxLnB1c2goZywiICIsaStrLkwpLGc9IkBrZXlmcmFtZXMiKTpnPXN9ZWxzZSBpZigiQGltcG9ydCI9PT1nJiYwPGoubGVuZ3RoKWlmKGc9cywiZnVuY3Rpb24iPT09dHlwZW9mIHcpe3ZhciBsPVooai5zbGljZSgxKSk7aWYoIm5vdCBhbGwiIT09bCl7KytCWzBdO3ZhciB1PVtdO3EucHVzaCh1KTt2YXIgRT14KE0oZixhKGpbMF0pKSxmdW5jdGlvbihhKXt2YXIgZj0KYihFLGEucWEsayxlLHYsdyxCKTstLUJbMF07YT1sP3t0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiJAbWVkaWEgIitsKyIgeyIrZi5yZXN1bHQrIn0ifX06Zi5yZXN1bHQ7dVswXT1hO3coYSwhIUJbMF0pfSx2KX19ZWxzZSB3aW5kb3cuY29uc29sZSYmd2luZG93LmNvbnNvbGUubG9nKCJAaW1wb3J0ICIrai5qb2luKCIgIikrIiBlbGlkZWQiKTtyPSFnO0YucHVzaChnKX0sZW5kQXRydWxlOmZ1bmN0aW9uKCl7Ri5wb3AoKTtyfHxxLnB1c2goIjsiKTtpKCl9LHN0YXJ0QmxvY2s6ZnVuY3Rpb24oKXtyfHxxLnB1c2goInsiKX0sZW5kQmxvY2s6ZnVuY3Rpb24oKXtyfHwocS5wdXNoKCJ9Iikscj1uKX0sc3RhcnRSdWxlc2V0OmZ1bmN0aW9uKGEpe2lmKCFyKXt2YXIgYj1jOyJAa2V5ZnJhbWVzIj09PUZbRi5sZW5ndGgtMV0/KGI9YS5qb2luKCIgIikubWF0Y2goL14gKig/OmZyb218dG98XGQrKD86XC5cZCspPyUpICooPzosICooPzpmcm9tfHRvfFxkKyg/OlwuXGQrKT8lKSAqKSokL2kpLApyPSFiLGImJihiPWJbMF0ucmVwbGFjZSgvICsvZywiIikpKTooYT1iYShhLGspLCFhfHwhYS5sZW5ndGg/cj1uOmI9YS5qb2luKCIsICIpKTtyfHxxLnB1c2goYiwieyIpfUYucHVzaChzKX0sZW5kUnVsZXNldDpmdW5jdGlvbigpe0YucG9wKCk7cnx8cS5wdXNoKCJ9Iik7aSgpfSxkZWNsYXJhdGlvbjpmdW5jdGlvbihhLGIpe2lmKCFyKXt2YXIgZD1DLGc9Yi5sZW5ndGg7Mjw9ZyYmIiEiPT09YltnLTJdJiYiaW1wb3J0YW50Ij09PWJbZy0xXS50b0xvd2VyQ2FzZSgpJiYoZD1uLGIubGVuZ3RoLT0yKTthYShhLGIsZSxmLGsuTCk7Yi5sZW5ndGgmJnEucHVzaChhLCI6IixiLmpvaW4oIiAiKSxkPyIgIWltcG9ydGFudDsiOiI7Iil9fX0pO3JldHVybntyZXN1bHQ6e3RvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHEuam9pbigiIil9fSx2YTohIUJbMF19fWRhPWZ1bmN0aW9uKGEsZixnLGspe3JldHVybiBiKGEsZixnLGssYyxjKS5yZXN1bHQudG9TdHJpbmcoKX19KSgpfSkoKTsKInVuZGVmaW5lZCIhPT10eXBlb2Ygd2luZG93JiYod2luZG93LnNhbml0aXplQ3NzUHJvcGVydHk9YWEsd2luZG93LnNhbml0aXplQ3NzU2VsZWN0b3JMaXN0PWJhLHdpbmRvdy5zYW5pdGl6ZVN0eWxlc2hlZXQ9ZGEsd2luZG93LnNhbml0aXplTWVkaWFRdWVyeT1aKTt2YXIgZmEsZ2E7CihmdW5jdGlvbigpe2Z1bmN0aW9uIGcoYixhLGcsZixoKXtmb3IodmFyIGQ9YSsrO2E8ZyYmInsiIT09YlthXSYmIjsiIT09YlthXTspKythO2lmKGE8ZyYmKGh8fCI7Ij09PWJbYV0pKXt2YXIgaD1kKzEsZT1hO2g8ZyYmIiAiPT09YltoXSYmKytoO2U+aCYmIiAiPT09YltlLTFdJiYtLWU7Zi5zdGFydEF0cnVsZSYmZi5zdGFydEF0cnVsZShiW2RdLnRvTG93ZXJDYXNlKCksYi5zbGljZShoLGUpKTthPSJ7Ij09PWJbYV0/dyhiLGEsZyxmKTphKzE7Zi5lbmRBdHJ1bGUmJmYuZW5kQXRydWxlKCl9cmV0dXJuIGF9ZnVuY3Rpb24gdyhiLGEsayxmKXsrK2E7Zm9yKGYuc3RhcnRCbG9jayYmZi5zdGFydEJsb2NrKCk7YTxrOyl7dmFyIGg9YlthXS5jaGFyQXQoMCk7aWYoIn0iPT1oKXsrK2E7YnJlYWt9YT0iICI9PT1ofHwiOyI9PT1oP2ErMToiQCI9PT1oP2coYixhLGssZixDKToieyI9PT1oP3coYixhLGssZik6TShiLGEsayxmKX1mLmVuZEJsb2NrJiZmLmVuZEJsb2NrKCk7cmV0dXJuIGF9CmZ1bmN0aW9uIE0oYixhLGcsZil7dmFyIGg9YSxkPXgoYixhLGcsbik7aWYoMD5kKXJldHVybiBkPX5kLGQ9PT1oP2QrMTpkO3ZhciB5PWJbZF07aWYoInsiIT09eSlyZXR1cm4gZD09PWg/ZCsxOmQ7YT1kKzE7ZD5oJiYiICI9PT1iW2QtMV0mJi0tZDtmb3IoZi5zdGFydFJ1bGVzZXQmJmYuc3RhcnRSdWxlc2V0KGIuc2xpY2UoaCxkKSk7YTxnOyl7eT1iW2FdO2lmKCJ9Ij09PXkpeysrYTticmVha31hPSIgIj09PXk/YSsxOmUoYixhLGcsZil9Zi5lbmRSdWxlc2V0JiZmLmVuZFJ1bGVzZXQoKTtyZXR1cm4gYX1mdW5jdGlvbiB4KGIsYSxnLGYpe2Zvcih2YXIgaCxkPVtdLGU9LTE7YTxnOysrYSlpZihoPWJbYV0uY2hhckF0KDApLCJbIj09PWh8fCIoIj09PWgpZFsrK2VdPWg7ZWxzZSBpZigiXSI9PT1oJiYiWyI9PT1kW2VdfHwiKSI9PT1oJiYiKCI9PT1kW2VdKS0tZTtlbHNlIGlmKCJ7Ij09PWh8fCJ9Ij09PWh8fCI7Ij09PWh8fCJAIj09PWh8fCI6Ij09PWgmJiFmKWJyZWFrOzA8PQplJiYoYT1+KGErMSkpO3JldHVybiBhfWZ1bmN0aW9uIEUoYixhLGcpe2Zvcig7YTxnJiYiOyIhPT1iW2FdJiYifSIhPT1iW2FdOykrK2E7cmV0dXJuIGE8ZyYmIjsiPT09YlthXT9hKzE6YX1mdW5jdGlvbiBlKGIsYSxnLGYpe3ZhciBoPWJbYSsrXTtpZighdi50ZXN0KGgpKXJldHVybiBFKGIsYSxnKTthPGcmJiIgIj09PWJbYV0mJisrYTtpZihhPT1nfHwiOiIhPT1iW2FdKXJldHVybiBFKGIsYSxnKTsrK2E7YTxnJiYiICI9PT1iW2FdJiYrK2E7dmFyIGQ9eChiLGEsZyxDKTtpZigwPmQpZD1+ZDtlbHNle2Zvcih2YXIgZT1bXSxsPTAsdz1hO3c8ZDsrK3cpYT1iW3ddLCIgIiE9PWEmJihlW2wrK109YSk7aWYoZDxnKXtkb3thPWJbZF07aWYoIjsiPT09YXx8In0iPT09YSlicmVhaztsPTB9d2hpbGUoKytkPGcpOyI7Ij09PWEmJisrZH1sJiZmLmRlY2xhcmF0aW9uJiZmLmRlY2xhcmF0aW9uKGgudG9Mb3dlckNhc2UoKSxlKX1yZXR1cm4gZH1mYT1mdW5jdGlvbihiLGEpe3ZhciBlPVUoYik7CmEuc3RhcnRTdHlsZXNoZWV0JiZhLnN0YXJ0U3R5bGVzaGVldCgpO2Zvcih2YXIgZj0wLGg9ZS5sZW5ndGg7ZjxoOylmPSIgIj09PWVbZl0/ZisxOmY8aD8iQCI9PT1lW2ZdLmNoYXJBdCgwKT9nKGUsZixoLGEsbik6TShlLGYsaCxhKTpmO2EuZW5kU3R5bGVzaGVldCYmYS5lbmRTdHlsZXNoZWV0KCl9O3ZhciB2PS9eLT9bYS16XS9pO2dhPWZ1bmN0aW9uKGIsYSl7Zm9yKHZhciBnPVUoYiksZj0wLGg9Zy5sZW5ndGg7ZjxoOylmPSIgIiE9PWdbZl0/ZShnLGYsaCxhKTpmKzF9fSkoKTsidW5kZWZpbmVkIiE9PXR5cGVvZiB3aW5kb3cmJih3aW5kb3cucGFyc2VDc3NTdHlsZXNoZWV0PWZhLHdpbmRvdy5wYXJzZUNzc0RlY2xhcmF0aW9ucz1nYSk7dmFyICQ9e2Q6e05PTkU6MCxVUkk6MSxVUklfRlJBR01FTlQ6MTEsU0NSSVBUOjIsU1RZTEU6MyxIVE1MOjEyLElEOjQsSURSRUY6NSxJRFJFRlM6NixHTE9CQUxfTkFNRTo3LExPQ0FMX05BTUU6OCxDTEFTU0VTOjksRlJBTUVfVEFSR0VUOjEwLE1FRElBX1FVRVJZOjEzfX07JC5hdHlwZT0kLmQ7CiQubT17Iio6OmNsYXNzIjo5LCIqOjpkaXIiOjAsIio6OmRyYWdnYWJsZSI6MCwiKjo6aGlkZGVuIjowLCIqOjppZCI6NCwiKjo6aW5lcnQiOjAsIio6Oml0ZW1wcm9wIjowLCIqOjppdGVtcmVmIjo2LCIqOjppdGVtc2NvcGUiOjAsIio6OmxhbmciOjAsIio6Om9uYmx1ciI6MiwiKjo6b25jaGFuZ2UiOjIsIio6Om9uY2xpY2siOjIsIio6Om9uZGJsY2xpY2siOjIsIio6Om9uZXJyb3IiOjIsIio6Om9uZm9jdXMiOjIsIio6Om9ua2V5ZG93biI6MiwiKjo6b25rZXlwcmVzcyI6MiwiKjo6b25rZXl1cCI6MiwiKjo6b25sb2FkIjoyLCIqOjpvbm1vdXNlZG93biI6MiwiKjo6b25tb3VzZW1vdmUiOjIsIio6Om9ubW91c2VvdXQiOjIsIio6Om9ubW91c2VvdmVyIjoyLCIqOjpvbm1vdXNldXAiOjIsIio6Om9ucmVzZXQiOjIsIio6Om9uc2Nyb2xsIjoyLCIqOjpvbnNlbGVjdCI6MiwiKjo6b25zdWJtaXQiOjIsIio6Om9udG91Y2hjYW5jZWwiOjIsIio6Om9udG91Y2hlbmQiOjIsIio6Om9udG91Y2hlbnRlciI6MiwKIio6Om9udG91Y2hsZWF2ZSI6MiwiKjo6b250b3VjaG1vdmUiOjIsIio6Om9udG91Y2hzdGFydCI6MiwiKjo6b251bmxvYWQiOjIsIio6OnNwZWxsY2hlY2siOjAsIio6OnN0eWxlIjozLCIqOjp0YWJpbmRleCI6MCwiKjo6dGl0bGUiOjAsIio6OnRyYW5zbGF0ZSI6MCwiYTo6YWNjZXNza2V5IjowLCJhOjpjb29yZHMiOjAsImE6OmhyZWYiOjEsImE6OmhyZWZsYW5nIjowLCJhOjpuYW1lIjo3LCJhOjpvbmJsdXIiOjIsImE6Om9uZm9jdXMiOjIsImE6OnNoYXBlIjowLCJhOjp0YXJnZXQiOjEwLCJhOjp0eXBlIjowLCJhcmVhOjphY2Nlc3NrZXkiOjAsImFyZWE6OmFsdCI6MCwiYXJlYTo6Y29vcmRzIjowLCJhcmVhOjpocmVmIjoxLCJhcmVhOjpub2hyZWYiOjAsImFyZWE6Om9uYmx1ciI6MiwiYXJlYTo6b25mb2N1cyI6MiwiYXJlYTo6c2hhcGUiOjAsImFyZWE6OnRhcmdldCI6MTAsImF1ZGlvOjpjb250cm9scyI6MCwiYXVkaW86Omxvb3AiOjAsImF1ZGlvOjptZWRpYWdyb3VwIjo1LAoiYXVkaW86Om11dGVkIjowLCJhdWRpbzo6cHJlbG9hZCI6MCwiYXVkaW86OnNyYyI6MSwiYmRvOjpkaXIiOjAsImJsb2NrcXVvdGU6OmNpdGUiOjEsImJyOjpjbGVhciI6MCwiYnV0dG9uOjphY2Nlc3NrZXkiOjAsImJ1dHRvbjo6ZGlzYWJsZWQiOjAsImJ1dHRvbjo6bmFtZSI6OCwiYnV0dG9uOjpvbmJsdXIiOjIsImJ1dHRvbjo6b25mb2N1cyI6MiwiYnV0dG9uOjp0eXBlIjowLCJidXR0b246OnZhbHVlIjowLCJjYW52YXM6OmhlaWdodCI6MCwiY2FudmFzOjp3aWR0aCI6MCwiY2FwdGlvbjo6YWxpZ24iOjAsImNvbDo6YWxpZ24iOjAsImNvbDo6Y2hhciI6MCwiY29sOjpjaGFyb2ZmIjowLCJjb2w6OnNwYW4iOjAsImNvbDo6dmFsaWduIjowLCJjb2w6OndpZHRoIjowLCJjb2xncm91cDo6YWxpZ24iOjAsImNvbGdyb3VwOjpjaGFyIjowLCJjb2xncm91cDo6Y2hhcm9mZiI6MCwiY29sZ3JvdXA6OnNwYW4iOjAsImNvbGdyb3VwOjp2YWxpZ24iOjAsImNvbGdyb3VwOjp3aWR0aCI6MCwKImNvbW1hbmQ6OmNoZWNrZWQiOjAsImNvbW1hbmQ6OmNvbW1hbmQiOjUsImNvbW1hbmQ6OmRpc2FibGVkIjowLCJjb21tYW5kOjppY29uIjoxLCJjb21tYW5kOjpsYWJlbCI6MCwiY29tbWFuZDo6cmFkaW9ncm91cCI6MCwiY29tbWFuZDo6dHlwZSI6MCwiZGF0YTo6dmFsdWUiOjAsImRlbDo6Y2l0ZSI6MSwiZGVsOjpkYXRldGltZSI6MCwiZGV0YWlsczo6b3BlbiI6MCwiZGlyOjpjb21wYWN0IjowLCJkaXY6OmFsaWduIjowLCJkbDo6Y29tcGFjdCI6MCwiZmllbGRzZXQ6OmRpc2FibGVkIjowLCJmb250Ojpjb2xvciI6MCwiZm9udDo6ZmFjZSI6MCwiZm9udDo6c2l6ZSI6MCwiZm9ybTo6YWNjZXB0IjowLCJmb3JtOjphY3Rpb24iOjEsImZvcm06OmF1dG9jb21wbGV0ZSI6MCwiZm9ybTo6ZW5jdHlwZSI6MCwiZm9ybTo6bWV0aG9kIjowLCJmb3JtOjpuYW1lIjo3LCJmb3JtOjpub3ZhbGlkYXRlIjowLCJmb3JtOjpvbnJlc2V0IjoyLCJmb3JtOjpvbnN1Ym1pdCI6MiwiZm9ybTo6dGFyZ2V0IjoxMCwKImgxOjphbGlnbiI6MCwiaDI6OmFsaWduIjowLCJoMzo6YWxpZ24iOjAsImg0OjphbGlnbiI6MCwiaDU6OmFsaWduIjowLCJoNjo6YWxpZ24iOjAsImhyOjphbGlnbiI6MCwiaHI6Om5vc2hhZGUiOjAsImhyOjpzaXplIjowLCJocjo6d2lkdGgiOjAsImlmcmFtZTo6YWxpZ24iOjAsImlmcmFtZTo6ZnJhbWVib3JkZXIiOjAsImlmcmFtZTo6aGVpZ2h0IjowLCJpZnJhbWU6Om1hcmdpbmhlaWdodCI6MCwiaWZyYW1lOjptYXJnaW53aWR0aCI6MCwiaWZyYW1lOjp3aWR0aCI6MCwiaW1nOjphbGlnbiI6MCwiaW1nOjphbHQiOjAsImltZzo6Ym9yZGVyIjowLCJpbWc6OmhlaWdodCI6MCwiaW1nOjpoc3BhY2UiOjAsImltZzo6aXNtYXAiOjAsImltZzo6bmFtZSI6NywiaW1nOjpzcmMiOjEsImltZzo6dXNlbWFwIjoxMSwiaW1nOjp2c3BhY2UiOjAsImltZzo6d2lkdGgiOjAsImlucHV0OjphY2NlcHQiOjAsImlucHV0OjphY2Nlc3NrZXkiOjAsImlucHV0OjphbGlnbiI6MCwiaW5wdXQ6OmFsdCI6MCwKImlucHV0OjphdXRvY29tcGxldGUiOjAsImlucHV0OjpjaGVja2VkIjowLCJpbnB1dDo6ZGlzYWJsZWQiOjAsImlucHV0OjppbnB1dG1vZGUiOjAsImlucHV0Ojppc21hcCI6MCwiaW5wdXQ6Omxpc3QiOjUsImlucHV0OjptYXgiOjAsImlucHV0OjptYXhsZW5ndGgiOjAsImlucHV0OjptaW4iOjAsImlucHV0OjptdWx0aXBsZSI6MCwiaW5wdXQ6Om5hbWUiOjgsImlucHV0OjpvbmJsdXIiOjIsImlucHV0OjpvbmNoYW5nZSI6MiwiaW5wdXQ6Om9uZm9jdXMiOjIsImlucHV0OjpvbnNlbGVjdCI6MiwiaW5wdXQ6OnBhdHRlcm4iOjAsImlucHV0OjpwbGFjZWhvbGRlciI6MCwiaW5wdXQ6OnJlYWRvbmx5IjowLCJpbnB1dDo6cmVxdWlyZWQiOjAsImlucHV0OjpzaXplIjowLCJpbnB1dDo6c3JjIjoxLCJpbnB1dDo6c3RlcCI6MCwiaW5wdXQ6OnR5cGUiOjAsImlucHV0Ojp1c2VtYXAiOjExLCJpbnB1dDo6dmFsdWUiOjAsImluczo6Y2l0ZSI6MSwiaW5zOjpkYXRldGltZSI6MCwibGFiZWw6OmFjY2Vzc2tleSI6MCwKImxhYmVsOjpmb3IiOjUsImxhYmVsOjpvbmJsdXIiOjIsImxhYmVsOjpvbmZvY3VzIjoyLCJsZWdlbmQ6OmFjY2Vzc2tleSI6MCwibGVnZW5kOjphbGlnbiI6MCwibGk6OnR5cGUiOjAsImxpOjp2YWx1ZSI6MCwibWFwOjpuYW1lIjo3LCJtZW51Ojpjb21wYWN0IjowLCJtZW51OjpsYWJlbCI6MCwibWVudTo6dHlwZSI6MCwibWV0ZXI6OmhpZ2giOjAsIm1ldGVyOjpsb3ciOjAsIm1ldGVyOjptYXgiOjAsIm1ldGVyOjptaW4iOjAsIm1ldGVyOjp2YWx1ZSI6MCwib2w6OmNvbXBhY3QiOjAsIm9sOjpyZXZlcnNlZCI6MCwib2w6OnN0YXJ0IjowLCJvbDo6dHlwZSI6MCwib3B0Z3JvdXA6OmRpc2FibGVkIjowLCJvcHRncm91cDo6bGFiZWwiOjAsIm9wdGlvbjo6ZGlzYWJsZWQiOjAsIm9wdGlvbjo6bGFiZWwiOjAsIm9wdGlvbjo6c2VsZWN0ZWQiOjAsIm9wdGlvbjo6dmFsdWUiOjAsIm91dHB1dDo6Zm9yIjo2LCJvdXRwdXQ6Om5hbWUiOjgsInA6OmFsaWduIjowLCJwcmU6OndpZHRoIjowLAoicHJvZ3Jlc3M6Om1heCI6MCwicHJvZ3Jlc3M6Om1pbiI6MCwicHJvZ3Jlc3M6OnZhbHVlIjowLCJxOjpjaXRlIjoxLCJzZWxlY3Q6OmF1dG9jb21wbGV0ZSI6MCwic2VsZWN0OjpkaXNhYmxlZCI6MCwic2VsZWN0OjptdWx0aXBsZSI6MCwic2VsZWN0OjpuYW1lIjo4LCJzZWxlY3Q6Om9uYmx1ciI6Miwic2VsZWN0OjpvbmNoYW5nZSI6Miwic2VsZWN0OjpvbmZvY3VzIjoyLCJzZWxlY3Q6OnJlcXVpcmVkIjowLCJzZWxlY3Q6OnNpemUiOjAsInNvdXJjZTo6dHlwZSI6MCwidGFibGU6OmFsaWduIjowLCJ0YWJsZTo6Ymdjb2xvciI6MCwidGFibGU6OmJvcmRlciI6MCwidGFibGU6OmNlbGxwYWRkaW5nIjowLCJ0YWJsZTo6Y2VsbHNwYWNpbmciOjAsInRhYmxlOjpmcmFtZSI6MCwidGFibGU6OnJ1bGVzIjowLCJ0YWJsZTo6c3VtbWFyeSI6MCwidGFibGU6OndpZHRoIjowLCJ0Ym9keTo6YWxpZ24iOjAsInRib2R5OjpjaGFyIjowLCJ0Ym9keTo6Y2hhcm9mZiI6MCwidGJvZHk6OnZhbGlnbiI6MCwKInRkOjphYmJyIjowLCJ0ZDo6YWxpZ24iOjAsInRkOjpheGlzIjowLCJ0ZDo6Ymdjb2xvciI6MCwidGQ6OmNoYXIiOjAsInRkOjpjaGFyb2ZmIjowLCJ0ZDo6Y29sc3BhbiI6MCwidGQ6OmhlYWRlcnMiOjYsInRkOjpoZWlnaHQiOjAsInRkOjpub3dyYXAiOjAsInRkOjpyb3dzcGFuIjowLCJ0ZDo6c2NvcGUiOjAsInRkOjp2YWxpZ24iOjAsInRkOjp3aWR0aCI6MCwidGV4dGFyZWE6OmFjY2Vzc2tleSI6MCwidGV4dGFyZWE6OmF1dG9jb21wbGV0ZSI6MCwidGV4dGFyZWE6OmNvbHMiOjAsInRleHRhcmVhOjpkaXNhYmxlZCI6MCwidGV4dGFyZWE6OmlucHV0bW9kZSI6MCwidGV4dGFyZWE6Om5hbWUiOjgsInRleHRhcmVhOjpvbmJsdXIiOjIsInRleHRhcmVhOjpvbmNoYW5nZSI6MiwidGV4dGFyZWE6Om9uZm9jdXMiOjIsInRleHRhcmVhOjpvbnNlbGVjdCI6MiwidGV4dGFyZWE6OnBsYWNlaG9sZGVyIjowLCJ0ZXh0YXJlYTo6cmVhZG9ubHkiOjAsInRleHRhcmVhOjpyZXF1aXJlZCI6MCwKInRleHRhcmVhOjpyb3dzIjowLCJ0ZXh0YXJlYTo6d3JhcCI6MCwidGZvb3Q6OmFsaWduIjowLCJ0Zm9vdDo6Y2hhciI6MCwidGZvb3Q6OmNoYXJvZmYiOjAsInRmb290Ojp2YWxpZ24iOjAsInRoOjphYmJyIjowLCJ0aDo6YWxpZ24iOjAsInRoOjpheGlzIjowLCJ0aDo6Ymdjb2xvciI6MCwidGg6OmNoYXIiOjAsInRoOjpjaGFyb2ZmIjowLCJ0aDo6Y29sc3BhbiI6MCwidGg6OmhlYWRlcnMiOjYsInRoOjpoZWlnaHQiOjAsInRoOjpub3dyYXAiOjAsInRoOjpyb3dzcGFuIjowLCJ0aDo6c2NvcGUiOjAsInRoOjp2YWxpZ24iOjAsInRoOjp3aWR0aCI6MCwidGhlYWQ6OmFsaWduIjowLCJ0aGVhZDo6Y2hhciI6MCwidGhlYWQ6OmNoYXJvZmYiOjAsInRoZWFkOjp2YWxpZ24iOjAsInRyOjphbGlnbiI6MCwidHI6OmJnY29sb3IiOjAsInRyOjpjaGFyIjowLCJ0cjo6Y2hhcm9mZiI6MCwidHI6OnZhbGlnbiI6MCwidHJhY2s6OmRlZmF1bHQiOjAsInRyYWNrOjpraW5kIjowLCJ0cmFjazo6bGFiZWwiOjAsCiJ0cmFjazo6c3JjbGFuZyI6MCwidWw6OmNvbXBhY3QiOjAsInVsOjp0eXBlIjowLCJ2aWRlbzo6Y29udHJvbHMiOjAsInZpZGVvOjpoZWlnaHQiOjAsInZpZGVvOjpsb29wIjowLCJ2aWRlbzo6bWVkaWFncm91cCI6NSwidmlkZW86Om11dGVkIjowLCJ2aWRlbzo6cG9zdGVyIjoxLCJ2aWRlbzo6cHJlbG9hZCI6MCwidmlkZW86OnNyYyI6MSwidmlkZW86OndpZHRoIjowfTskLkFUVFJJQlM9JC5tOyQuYz17T1BUSU9OQUxfRU5EVEFHOjEsRU1QVFk6MixDREFUQTo0LFJDREFUQTo4LFVOU0FGRToxNixGT0xEQUJMRTozMixTQ1JJUFQ6NjQsU1RZTEU6MTI4LFZJUlRVQUxJWkVEOjI1Nn07JC5lZmxhZ3M9JC5jOwokLmY9e2E6MCxhYmJyOjAsYWNyb255bTowLGFkZHJlc3M6MCxhcHBsZXQ6MjcyLGFyZWE6MixhcnRpY2xlOjAsYXNpZGU6MCxhdWRpbzowLGI6MCxiYXNlOjI3NCxiYXNlZm9udDoyNzQsYmRpOjAsYmRvOjAsYmlnOjAsYmxvY2txdW90ZTowLGJvZHk6MzA1LGJyOjIsYnV0dG9uOjAsY2FudmFzOjAsY2FwdGlvbjowLGNlbnRlcjowLGNpdGU6MCxjb2RlOjAsY29sOjIsY29sZ3JvdXA6MSxjb21tYW5kOjIsZGF0YTowLGRhdGFsaXN0OjAsZGQ6MSxkZWw6MCxkZXRhaWxzOjAsZGZuOjAsZGlhbG9nOjI3MixkaXI6MCxkaXY6MCxkbDowLGR0OjEsZW06MCxmaWVsZHNldDowLGZpZ2NhcHRpb246MCxmaWd1cmU6MCxmb250OjAsZm9vdGVyOjAsZm9ybTowLGZyYW1lOjI3NCxmcmFtZXNldDoyNzIsaDE6MCxoMjowLGgzOjAsaDQ6MCxoNTowLGg2OjAsaGVhZDozMDUsaGVhZGVyOjAsaGdyb3VwOjAsaHI6MixodG1sOjMwNSxpOjAsaWZyYW1lOjQsaW1nOjIsaW5wdXQ6MixpbnM6MCxpc2luZGV4OjI3NCwKa2JkOjAsa2V5Z2VuOjI3NCxsYWJlbDowLGxlZ2VuZDowLGxpOjEsbGluazoyNzQsbWFwOjAsbWFyazowLG1lbnU6MCxtZXRhOjI3NCxtZXRlcjowLG5hdjowLG5vYnI6MCxub2VtYmVkOjI3Nixub2ZyYW1lczoyNzYsbm9zY3JpcHQ6Mjc2LG9iamVjdDoyNzIsb2w6MCxvcHRncm91cDowLG9wdGlvbjoxLG91dHB1dDowLHA6MSxwYXJhbToyNzQscHJlOjAscHJvZ3Jlc3M6MCxxOjAsczowLHNhbXA6MCxzY3JpcHQ6ODQsc2VjdGlvbjowLHNlbGVjdDowLHNtYWxsOjAsc291cmNlOjIsc3BhbjowLHN0cmlrZTowLHN0cm9uZzowLHN0eWxlOjE0OCxzdWI6MCxzdW1tYXJ5OjAsc3VwOjAsdGFibGU6MCx0Ym9keToxLHRkOjEsdGV4dGFyZWE6OCx0Zm9vdDoxLHRoOjEsdGhlYWQ6MSx0aW1lOjAsdGl0bGU6MjgwLHRyOjEsdHJhY2s6Mix0dDowLHU6MCx1bDowLCJ2YXIiOjAsdmlkZW86MCx3YnI6Mn07JC5FTEVNRU5UUz0kLmY7CiQuUT17YToiSFRNTEFuY2hvckVsZW1lbnQiLGFiYnI6IkhUTUxFbGVtZW50IixhY3JvbnltOiJIVE1MRWxlbWVudCIsYWRkcmVzczoiSFRNTEVsZW1lbnQiLGFwcGxldDoiSFRNTEFwcGxldEVsZW1lbnQiLGFyZWE6IkhUTUxBcmVhRWxlbWVudCIsYXJ0aWNsZToiSFRNTEVsZW1lbnQiLGFzaWRlOiJIVE1MRWxlbWVudCIsYXVkaW86IkhUTUxBdWRpb0VsZW1lbnQiLGI6IkhUTUxFbGVtZW50IixiYXNlOiJIVE1MQmFzZUVsZW1lbnQiLGJhc2Vmb250OiJIVE1MQmFzZUZvbnRFbGVtZW50IixiZGk6IkhUTUxFbGVtZW50IixiZG86IkhUTUxFbGVtZW50IixiaWc6IkhUTUxFbGVtZW50IixibG9ja3F1b3RlOiJIVE1MUXVvdGVFbGVtZW50Iixib2R5OiJIVE1MQm9keUVsZW1lbnQiLGJyOiJIVE1MQlJFbGVtZW50IixidXR0b246IkhUTUxCdXR0b25FbGVtZW50IixjYW52YXM6IkhUTUxDYW52YXNFbGVtZW50IixjYXB0aW9uOiJIVE1MVGFibGVDYXB0aW9uRWxlbWVudCIsY2VudGVyOiJIVE1MRWxlbWVudCIsCmNpdGU6IkhUTUxFbGVtZW50Iixjb2RlOiJIVE1MRWxlbWVudCIsY29sOiJIVE1MVGFibGVDb2xFbGVtZW50Iixjb2xncm91cDoiSFRNTFRhYmxlQ29sRWxlbWVudCIsY29tbWFuZDoiSFRNTENvbW1hbmRFbGVtZW50IixkYXRhOiJIVE1MRWxlbWVudCIsZGF0YWxpc3Q6IkhUTUxEYXRhTGlzdEVsZW1lbnQiLGRkOiJIVE1MRWxlbWVudCIsZGVsOiJIVE1MTW9kRWxlbWVudCIsZGV0YWlsczoiSFRNTERldGFpbHNFbGVtZW50IixkZm46IkhUTUxFbGVtZW50IixkaWFsb2c6IkhUTUxEaWFsb2dFbGVtZW50IixkaXI6IkhUTUxEaXJlY3RvcnlFbGVtZW50IixkaXY6IkhUTUxEaXZFbGVtZW50IixkbDoiSFRNTERMaXN0RWxlbWVudCIsZHQ6IkhUTUxFbGVtZW50IixlbToiSFRNTEVsZW1lbnQiLGZpZWxkc2V0OiJIVE1MRmllbGRTZXRFbGVtZW50IixmaWdjYXB0aW9uOiJIVE1MRWxlbWVudCIsZmlndXJlOiJIVE1MRWxlbWVudCIsZm9udDoiSFRNTEZvbnRFbGVtZW50Iixmb290ZXI6IkhUTUxFbGVtZW50IiwKZm9ybToiSFRNTEZvcm1FbGVtZW50IixmcmFtZToiSFRNTEZyYW1lRWxlbWVudCIsZnJhbWVzZXQ6IkhUTUxGcmFtZVNldEVsZW1lbnQiLGgxOiJIVE1MSGVhZGluZ0VsZW1lbnQiLGgyOiJIVE1MSGVhZGluZ0VsZW1lbnQiLGgzOiJIVE1MSGVhZGluZ0VsZW1lbnQiLGg0OiJIVE1MSGVhZGluZ0VsZW1lbnQiLGg1OiJIVE1MSGVhZGluZ0VsZW1lbnQiLGg2OiJIVE1MSGVhZGluZ0VsZW1lbnQiLGhlYWQ6IkhUTUxIZWFkRWxlbWVudCIsaGVhZGVyOiJIVE1MRWxlbWVudCIsaGdyb3VwOiJIVE1MRWxlbWVudCIsaHI6IkhUTUxIUkVsZW1lbnQiLGh0bWw6IkhUTUxIdG1sRWxlbWVudCIsaToiSFRNTEVsZW1lbnQiLGlmcmFtZToiSFRNTElGcmFtZUVsZW1lbnQiLGltZzoiSFRNTEltYWdlRWxlbWVudCIsaW5wdXQ6IkhUTUxJbnB1dEVsZW1lbnQiLGluczoiSFRNTE1vZEVsZW1lbnQiLGlzaW5kZXg6IkhUTUxVbmtub3duRWxlbWVudCIsa2JkOiJIVE1MRWxlbWVudCIsa2V5Z2VuOiJIVE1MS2V5Z2VuRWxlbWVudCIsCmxhYmVsOiJIVE1MTGFiZWxFbGVtZW50IixsZWdlbmQ6IkhUTUxMZWdlbmRFbGVtZW50IixsaToiSFRNTExJRWxlbWVudCIsbGluazoiSFRNTExpbmtFbGVtZW50IixtYXA6IkhUTUxNYXBFbGVtZW50IixtYXJrOiJIVE1MRWxlbWVudCIsbWVudToiSFRNTE1lbnVFbGVtZW50IixtZXRhOiJIVE1MTWV0YUVsZW1lbnQiLG1ldGVyOiJIVE1MTWV0ZXJFbGVtZW50IixuYXY6IkhUTUxFbGVtZW50Iixub2JyOiJIVE1MRWxlbWVudCIsbm9lbWJlZDoiSFRNTEVsZW1lbnQiLG5vZnJhbWVzOiJIVE1MRWxlbWVudCIsbm9zY3JpcHQ6IkhUTUxFbGVtZW50IixvYmplY3Q6IkhUTUxPYmplY3RFbGVtZW50IixvbDoiSFRNTE9MaXN0RWxlbWVudCIsb3B0Z3JvdXA6IkhUTUxPcHRHcm91cEVsZW1lbnQiLG9wdGlvbjoiSFRNTE9wdGlvbkVsZW1lbnQiLG91dHB1dDoiSFRNTE91dHB1dEVsZW1lbnQiLHA6IkhUTUxQYXJhZ3JhcGhFbGVtZW50IixwYXJhbToiSFRNTFBhcmFtRWxlbWVudCIscHJlOiJIVE1MUHJlRWxlbWVudCIsCnByb2dyZXNzOiJIVE1MUHJvZ3Jlc3NFbGVtZW50IixxOiJIVE1MUXVvdGVFbGVtZW50IixzOiJIVE1MRWxlbWVudCIsc2FtcDoiSFRNTEVsZW1lbnQiLHNjcmlwdDoiSFRNTFNjcmlwdEVsZW1lbnQiLHNlY3Rpb246IkhUTUxFbGVtZW50IixzZWxlY3Q6IkhUTUxTZWxlY3RFbGVtZW50IixzbWFsbDoiSFRNTEVsZW1lbnQiLHNvdXJjZToiSFRNTFNvdXJjZUVsZW1lbnQiLHNwYW46IkhUTUxTcGFuRWxlbWVudCIsc3RyaWtlOiJIVE1MRWxlbWVudCIsc3Ryb25nOiJIVE1MRWxlbWVudCIsc3R5bGU6IkhUTUxTdHlsZUVsZW1lbnQiLHN1YjoiSFRNTEVsZW1lbnQiLHN1bW1hcnk6IkhUTUxFbGVtZW50IixzdXA6IkhUTUxFbGVtZW50Iix0YWJsZToiSFRNTFRhYmxlRWxlbWVudCIsdGJvZHk6IkhUTUxUYWJsZVNlY3Rpb25FbGVtZW50Iix0ZDoiSFRNTFRhYmxlRGF0YUNlbGxFbGVtZW50Iix0ZXh0YXJlYToiSFRNTFRleHRBcmVhRWxlbWVudCIsdGZvb3Q6IkhUTUxUYWJsZVNlY3Rpb25FbGVtZW50IiwKdGg6IkhUTUxUYWJsZUhlYWRlckNlbGxFbGVtZW50Iix0aGVhZDoiSFRNTFRhYmxlU2VjdGlvbkVsZW1lbnQiLHRpbWU6IkhUTUxUaW1lRWxlbWVudCIsdGl0bGU6IkhUTUxUaXRsZUVsZW1lbnQiLHRyOiJIVE1MVGFibGVSb3dFbGVtZW50Iix0cmFjazoiSFRNTFRyYWNrRWxlbWVudCIsdHQ6IkhUTUxFbGVtZW50Iix1OiJIVE1MRWxlbWVudCIsdWw6IkhUTUxVTGlzdEVsZW1lbnQiLCJ2YXIiOiJIVE1MRWxlbWVudCIsdmlkZW86IkhUTUxWaWRlb0VsZW1lbnQiLHdicjoiSFRNTEVsZW1lbnQifTskLkVMRU1FTlRfRE9NX0lOVEVSRkFDRVM9JC5ROyQuUD17Tk9UX0xPQURFRDowLFNBTUVfRE9DVU1FTlQ6MSxORVdfRE9DVU1FTlQ6Mn07JC51ZWZmZWN0cz0kLlA7CiQuSj17ImE6OmhyZWYiOjIsImFyZWE6OmhyZWYiOjIsImF1ZGlvOjpzcmMiOjEsImJsb2NrcXVvdGU6OmNpdGUiOjAsImNvbW1hbmQ6Omljb24iOjEsImRlbDo6Y2l0ZSI6MCwiZm9ybTo6YWN0aW9uIjoyLCJpbWc6OnNyYyI6MSwiaW5wdXQ6OnNyYyI6MSwiaW5zOjpjaXRlIjowLCJxOjpjaXRlIjowLCJ2aWRlbzo6cG9zdGVyIjoxLCJ2aWRlbzo6c3JjIjoxfTskLlVSSUVGRkVDVFM9JC5KOyQuTT17VU5TQU5EQk9YRUQ6MixTQU5EQk9YRUQ6MSxEQVRBOjB9OyQubHR5cGVzPSQuTTskLkk9eyJhOjpocmVmIjoyLCJhcmVhOjpocmVmIjoyLCJhdWRpbzo6c3JjIjoyLCJibG9ja3F1b3RlOjpjaXRlIjoyLCJjb21tYW5kOjppY29uIjoxLCJkZWw6OmNpdGUiOjIsImZvcm06OmFjdGlvbiI6MiwiaW1nOjpzcmMiOjEsImlucHV0OjpzcmMiOjEsImluczo6Y2l0ZSI6MiwicTo6Y2l0ZSI6MiwidmlkZW86OnBvc3RlciI6MSwidmlkZW86OnNyYyI6Mn07JC5MT0FERVJUWVBFUz0kLkk7CiJ1bmRlZmluZWQiIT09dHlwZW9mIHdpbmRvdyYmKHdpbmRvdy5odG1sND0kKTt2YXIgaGE9ZnVuY3Rpb24oZyl7ZnVuY3Rpb24gdyhhKXtpZihpLmhhc093blByb3BlcnR5KGEpKXJldHVybiBpW2FdO3ZhciBiPWEubWF0Y2gocSk7cmV0dXJuIGI/U3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChiWzFdLDEwKSk6KGI9YS5tYXRjaChCKSk/U3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChiWzFdLDE2KSk6ciYmRi50ZXN0KGEpPyhyLmlubmVySFRNTD0iJiIrYSsiOyIsYj1yLnRleHRDb250ZW50LGlbYV09Yik6IiYiK2ErIjsifWZ1bmN0aW9uIE0oYSxiKXtyZXR1cm4gdyhiKX1mdW5jdGlvbiB4KGEpe3JldHVybiBhLnJlcGxhY2UoaixNKX1mdW5jdGlvbiBFKGEpe3JldHVybigiIithKS5yZXBsYWNlKFIsIiZhbXA7IikucmVwbGFjZShQLCImbHQ7IikucmVwbGFjZShTLCImZ3Q7IikucmVwbGFjZShELCImIzM0OyIpfWZ1bmN0aW9uIGUoYSl7cmV0dXJuIGEucmVwbGFjZShpYSwiJmFtcDskMSIpLnJlcGxhY2UoUCwiJmx0OyIpLnJlcGxhY2UoUywiJmd0OyIpfQpmdW5jdGlvbiB2KGIpe3ZhciBkPXt6OmIuenx8Yi5jZGF0YSxBOmIuQXx8Yi5jb21tZW50LEI6Yi5CfHxiLmVuZERvYyx0OmIudHx8Yi5lbmRUYWcsZTpiLmV8fGIucGNkYXRhLEY6Yi5GfHxiLnJjZGF0YSxIOmIuSHx8Yi5zdGFydERvYyx3OmIud3x8Yi5zdGFydFRhZ307cmV0dXJuIGZ1bmN0aW9uKGIsZyl7dmFyIGY7dmFyIEg9Lyg8XC98PFwhLS18PFshP118WyY8Pl0pL2c7Zj1iKyIiO2lmKEcpZj1mLnNwbGl0KEgpO2Vsc2V7Zm9yKHZhciBlPVtdLGg9MCxqOyhqPUguZXhlYyhmKSkhPT1zOyllLnB1c2goZi5zdWJzdHJpbmcoaCxqLmluZGV4KSksZS5wdXNoKGpbMF0pLGg9ai5pbmRleCtqWzBdLmxlbmd0aDtlLnB1c2goZi5zdWJzdHJpbmcoaCkpO2Y9ZX1hKGQsZiwwLHtyOkMsQzpDfSxnKX19ZnVuY3Rpb24gYihiLGQsZyxmLHQpe3JldHVybiBmdW5jdGlvbigpe2EoYixkLGcsZix0KX19ZnVuY3Rpb24gYShhLGQscCxlLHQpe3RyeXthLkgmJjA9PXAmJmEuSCh0KTtmb3IodmFyIGgsCnosaixpPWQubGVuZ3RoO3A8aTspe3ZhciBvPWRbcCsrXSxsPWRbcF07c3dpdGNoKG8pe2Nhc2UgIiYiOkkudGVzdChsKT8oYS5lJiZhLmUoIiYiK2wsdCxBLGIoYSxkLHAsZSx0KSkscCsrKTphLmUmJmEuZSgiJmFtcDsiLHQsQSxiKGEsZCxwLGUsdCkpO2JyZWFrO2Nhc2UgIjwvIjppZihoPS9eKFstXHc6XSspW15cJ1wiXSovLmV4ZWMobCkpaWYoaFswXS5sZW5ndGg9PT1sLmxlbmd0aCYmIj4iPT09ZFtwKzFdKXArPTIsaj1oWzFdLnRvTG93ZXJDYXNlKCksYS50JiZhLnQoaix0LEEsYihhLGQscCxlLHQpKTtlbHNle3ZhciBtPWQscT1wLHI9YSx1PXQsdj1BLHk9ZSx3PWYobSxxKTt3PyhyLnQmJnIudCh3Lm5hbWUsdSx2LGIocixtLHEseSx1KSkscD13Lm5leHQpOnA9bS5sZW5ndGh9ZWxzZSBhLmUmJmEuZSgiJmx0Oy8iLHQsQSxiKGEsZCxwLGUsdCkpO2JyZWFrO2Nhc2UgIjwiOmlmKGg9L14oWy1cdzpdKylccypcLz8vLmV4ZWMobCkpaWYoaFswXS5sZW5ndGg9PT1sLmxlbmd0aCYmCiI+Ij09PWRbcCsxXSl7cCs9MjtqPWhbMV0udG9Mb3dlckNhc2UoKTthLncmJmEudyhqLFtdLHQsQSxiKGEsZCxwLGUsdCkpO3ZhciBCPWcuZltqXTtCJksmJihwPWsoZCx7bmFtZTpqLG5leHQ6cCxjOkJ9LGEsdCxBLGUpKX1lbHNle3ZhciBtPWQscT1hLHI9dCx1PUEsdj1lLHg9ZihtLHApO3g/KHEudyYmcS53KHgubmFtZSx4LlIscix1LGIocSxtLHgubmV4dCx2LHIpKSxwPXguYyZLP2sobSx4LHEscix1LHYpOngubmV4dCk6cD1tLmxlbmd0aH1lbHNlIGEuZSYmYS5lKCImbHQ7Iix0LEEsYihhLGQscCxlLHQpKTticmVhaztjYXNlICI8XCEtLSI6aWYoIWUuQyl7Zm9yKHo9cCsxO3o8aSYmISgiPiI9PT1kW3pdJiYvLS0kLy50ZXN0KGRbei0xXSkpO3orKyk7aWYoejxpKXtpZihhLkEpe3ZhciBEPWQuc2xpY2UocCx6KS5qb2luKCIiKTthLkEoRC5zdWJzdHIoMCxELmxlbmd0aC0yKSx0LEEsYihhLGQseisxLGUsdCkpfXA9eisxfWVsc2UgZS5DPW59ZS5DJiZhLmUmJmEuZSgiJmx0OyEtLSIsCnQsQSxiKGEsZCxwLGUsdCkpO2JyZWFrO2Nhc2UgIjwhIjppZigvXlx3Ly50ZXN0KGwpKXtpZighZS5yKXtmb3Ioej1wKzE7ejxpJiYiPiIhPT1kW3pdO3orKyk7ejxpP3A9eisxOmUucj1ufWUuciYmYS5lJiZhLmUoIiZsdDshIix0LEEsYihhLGQscCxlLHQpKX1lbHNlIGEuZSYmYS5lKCImbHQ7ISIsdCxBLGIoYSxkLHAsZSx0KSk7YnJlYWs7Y2FzZSAiPD8iOmlmKCFlLnIpe2Zvcih6PXArMTt6PGkmJiI+IiE9PWRbel07eisrKTt6PGk/cD16KzE6ZS5yPW59ZS5yJiZhLmUmJmEuZSgiJmx0Oz8iLHQsQSxiKGEsZCxwLGUsdCkpO2JyZWFrO2Nhc2UgIj4iOmEuZSYmYS5lKCImZ3Q7Iix0LEEsYihhLGQscCxlLHQpKTticmVhaztjYXNlICIiOmJyZWFrO2RlZmF1bHQ6YS5lJiZhLmUobyx0LEEsYihhLGQscCxlLHQpKX19YS5CJiZhLkIodCl9Y2F0Y2goRSl7aWYoRSE9PUEpdGhyb3cgRTt9fWZ1bmN0aW9uIGsoYSxkLGYsaCx0LGope3ZhciB6PWEubGVuZ3RoO1QuaGFzT3duUHJvcGVydHkoZC5uYW1lKXx8CihUW2QubmFtZV09UmVnRXhwKCJeIitkLm5hbWUrIig/OltcXHNcXC9dfCQpIiwiaSIpKTtmb3IodmFyIGk9VFtkLm5hbWVdLGs9ZC5uZXh0LGw9ZC5uZXh0KzE7bDx6JiYhKCI8LyI9PT1hW2wtMV0mJmkudGVzdChhW2xdKSk7bCsrKTtsPHomJihsLT0xKTt6PWEuc2xpY2UoayxsKS5qb2luKCIiKTtpZihkLmMmZy5jLkNEQVRBKWYueiYmZi56KHosaCx0LGIoZixhLGwsaixoKSk7ZWxzZSBpZihkLmMmZy5jLlJDREFUQSlmLkYmJmYuRihlKHopLGgsdCxiKGYsYSxsLGosaCkpO2Vsc2UgdGhyb3cgRXJyb3IoImJ1ZyIpO3JldHVybiBsfWZ1bmN0aW9uIGYoYSxiKXt2YXIgZD0vXihbLVx3Ol0rKS8uZXhlYyhhW2JdKSxmPXt9O2YubmFtZT1kWzFdLnRvTG93ZXJDYXNlKCk7Zi5jPWcuZltmLm5hbWVdO2Zvcih2YXIgZT1hW2JdLnN1YnN0cihkWzBdLmxlbmd0aCksaD1iKzEsaj1hLmxlbmd0aDtoPGomJiI+IiE9PWFbaF07aCsrKWUrPWFbaF07aWYoIShqPD1oKSl7Zm9yKHZhciBsPVtdOyIiIT09CmU7KWlmKGQ9amEuZXhlYyhlKSlpZihkWzRdJiYhZFs1XXx8ZFs2XSYmIWRbN10pe2Zvcih2YXIgZD1kWzRdfHxkWzZdLGk9QyxlPVtlLGFbaCsrXV07aDxqO2grKyl7aWYoaSl7aWYoIj4iPT09YVtoXSlicmVha31lbHNlIDA8PWFbaF0uaW5kZXhPZihkKSYmKGk9bik7ZS5wdXNoKGFbaF0pfWlmKGo8PWgpYnJlYWs7ZT1lLmpvaW4oIiIpfWVsc2V7dmFyIGk9ZFsxXS50b0xvd2VyQ2FzZSgpLGs7aWYoZFsyXSl7az1kWzNdO3ZhciBtPWsuY2hhckNvZGVBdCgwKTtpZigzND09PW18fDM5PT09bSlrPWsuc3Vic3RyKDEsay5sZW5ndGgtMik7az14KGsucmVwbGFjZShvLCIiKSl9ZWxzZSBrPSIiO2wucHVzaChpLGspO2U9ZS5zdWJzdHIoZFswXS5sZW5ndGgpfWVsc2UgZT1lLnJlcGxhY2UoL15bXHNcU11bXmEtelxzXSovLCIiKTtmLlI9bDtmLm5leHQ9aCsxO3JldHVybiBmfX1mdW5jdGlvbiBoKGEpe2Z1bmN0aW9uIGIoYSxkKXtmfHxkLnB1c2goYSl9dmFyIGQsZjtyZXR1cm4gdih7c3RhcnREb2M6ZnVuY3Rpb24oKXtkPQpbXTtmPUN9LHN0YXJ0VGFnOmZ1bmN0aW9uKGIsZSxoKXtpZighZiYmZy5mLmhhc093blByb3BlcnR5KGIpKXt2YXIgaj1nLmZbYl07aWYoIShqJmcuYy5GT0xEQUJMRSkpe3ZhciBrPWEoYixlKTtpZihrKXtpZigib2JqZWN0IiE9PXR5cGVvZiBrKXRocm93IEVycm9yKCJ0YWdQb2xpY3kgZGlkIG5vdCByZXR1cm4gb2JqZWN0IChvbGQgQVBJPykiKTtpZigiYXR0cmlicyJpbiBrKWU9ay5hdHRyaWJzO2Vsc2UgdGhyb3cgRXJyb3IoInRhZ1BvbGljeSBnYXZlIG5vIGF0dHJpYnMiKTt2YXIgaTsidGFnTmFtZSJpbiBrPyhpPWsudGFnTmFtZSxrPWcuZltpXSk6KGk9YixrPWopO2lmKGomZy5jLk9QVElPTkFMX0VORFRBRyl7dmFyIGw9ZFtkLmxlbmd0aC0xXTtsJiZsLkQ9PT1iJiYobC52IT09aXx8YiE9PWkpJiZoLnB1c2goIjwvIixsLnYsIj4iKX1qJmcuYy5FTVBUWXx8ZC5wdXNoKHtEOmIsdjppfSk7aC5wdXNoKCI8IixpKTtiPTA7Zm9yKGw9ZS5sZW5ndGg7YjxsO2IrPTIpe3ZhciBtPQplW2JdLG89ZVtiKzFdO28hPT1zJiZvIT09YyYmaC5wdXNoKCIgIixtLCc9IicsRShvKSwnIicpfWgucHVzaCgiPiIpO2omZy5jLkVNUFRZJiYhKGsmZy5jLkVNUFRZKSYmaC5wdXNoKCI8LyIsaSwiPiIpfWVsc2UgZj0hKGomZy5jLkVNUFRZKX19fSxlbmRUYWc6ZnVuY3Rpb24oYSxiKXtpZihmKWY9QztlbHNlIGlmKGcuZi5oYXNPd25Qcm9wZXJ0eShhKSl7dmFyIGU9Zy5mW2FdO2lmKCEoZSYoZy5jLkVNUFRZfGcuYy5GT0xEQUJMRSkpKXtpZihlJmcuYy5PUFRJT05BTF9FTkRUQUcpZm9yKGU9ZC5sZW5ndGg7MDw9LS1lOyl7dmFyIGg9ZFtlXS5EO2lmKGg9PT1hKWJyZWFrO2lmKCEoZy5mW2hdJmcuYy5PUFRJT05BTF9FTkRUQUcpKXJldHVybn1lbHNlIGZvcihlPWQubGVuZ3RoOzA8PS0tZSYmZFtlXS5EIT09YTspO2lmKCEoMD5lKSl7Zm9yKGg9ZC5sZW5ndGg7LS1oPmU7KXt2YXIgaj1kW2hdLnY7Zy5mW2pdJmcuYy5PUFRJT05BTF9FTkRUQUd8fGIucHVzaCgiPC8iLGosIj4iKX1lPApkLmxlbmd0aCYmKGE9ZFtlXS52KTtkLmxlbmd0aD1lO2IucHVzaCgiPC8iLGEsIj4iKX19fX0scGNkYXRhOmIscmNkYXRhOmIsY2RhdGE6YixlbmREb2M6ZnVuY3Rpb24oYSl7Zm9yKDtkLmxlbmd0aDtkLmxlbmd0aC0tKWEucHVzaCgiPC8iLGRbZC5sZW5ndGgtMV0udiwiPiIpfX0pfWZ1bmN0aW9uIGQoYSxiLGQsZixlKXtpZighZSlyZXR1cm4gczt0cnl7dmFyIGc9WS5wYXJzZSgiIithKTtpZihnJiYoIWcuSygpfHxrYS50ZXN0KGcuVygpKSkpe3ZhciBoPWUoZyxiLGQsZik7cmV0dXJuIGg/aC50b1N0cmluZygpOnN9fWNhdGNoKGope31yZXR1cm4gc31mdW5jdGlvbiB5KGEsYixkLGYsZSl7ZHx8YShiKyIgcmVtb3ZlZCIse1M6InJlbW92ZWQiLHRhZ05hbWU6Yn0pO2lmKGYhPT1lKXt2YXIgZz0iY2hhbmdlZCI7ZiYmIWU/Zz0icmVtb3ZlZCI6IWYmJmUmJihnPSJhZGRlZCIpO2EoYisiLiIrZCsiICIrZyx7UzpnLHRhZ05hbWU6YixsYTpkLG9sZFZhbHVlOmYsbmV3VmFsdWU6ZX0pfX0KZnVuY3Rpb24gbChhLGIsZCl7Yj1iKyI6OiIrZDtpZihhLmhhc093blByb3BlcnR5KGIpKXJldHVybiBhW2JdO2I9Iio6OiIrZDtpZihhLmhhc093blByb3BlcnR5KGIpKXJldHVybiBhW2JdfWZ1bmN0aW9uIFYoYSxiLGYsZSxoKXtmb3IodmFyIGo9MDtqPGIubGVuZ3RoO2orPTIpe3ZhciBrPWJbal0saT1iW2orMV0sbT1pLG89cyxxO2lmKChxPWErIjo6IitrLGcubS5oYXNPd25Qcm9wZXJ0eShxKSl8fChxPSIqOjoiK2ssZy5tLmhhc093blByb3BlcnR5KHEpKSlvPWcubVtxXTtpZihvIT09cylzd2l0Y2gobyl7Y2FzZSBnLmQuTk9ORTpicmVhaztjYXNlIGcuZC5TQ1JJUFQ6aT1zO2gmJnkoaCxhLGssbSxpKTticmVhaztjYXNlIGcuZC5TVFlMRTppZigidW5kZWZpbmVkIj09PXR5cGVvZiBOKXtpPXM7aCYmeShoLGEsayxtLGkpO2JyZWFrfXZhciByPVtdO04oaSx7ZGVjbGFyYXRpb246ZnVuY3Rpb24oYSxiKXt2YXIgZT1hLnRvTG93ZXJDYXNlKCk7dShlLGIsZj9mdW5jdGlvbihhKXtyZXR1cm4gZChhLApnLlAuamEsZy5NLmthLHtUWVBFOiJDU1MiLENTU19QUk9QOmV9LGYpfTpzKTtiLmxlbmd0aCYmci5wdXNoKGUrIjogIitiLmpvaW4oIiAiKSl9fSk7aT0wPHIubGVuZ3RoP3Iuam9pbigiIDsgIik6cztoJiZ5KGgsYSxrLG0saSk7YnJlYWs7Y2FzZSBnLmQuSUQ6Y2FzZSBnLmQuSURSRUY6Y2FzZSBnLmQuSURSRUZTOmNhc2UgZy5kLkdMT0JBTF9OQU1FOmNhc2UgZy5kLkxPQ0FMX05BTUU6Y2FzZSBnLmQuQ0xBU1NFUzppPWU/ZShpKTppO2gmJnkoaCxhLGssbSxpKTticmVhaztjYXNlIGcuZC5VUkk6aT1kKGksbChnLkosYSxrKSxsKGcuSSxhLGspLHtUWVBFOiJNQVJLVVAiLFhNTF9BVFRSOmssWE1MX1RBRzphfSxmKTtoJiZ5KGgsYSxrLG0saSk7YnJlYWs7Y2FzZSBnLmQuVVJJX0ZSQUdNRU5UOmkmJiIjIj09PWkuY2hhckF0KDApPyhpPWkuc3Vic3RyaW5nKDEpLGk9ZT9lKGkpOmksaSE9PXMmJmkhPT1jJiYoaT0iIyIraSkpOmk9cztoJiZ5KGgsYSxrLG0saSk7YnJlYWs7ZGVmYXVsdDppPQpzLGgmJnkoaCxhLGssbSxpKX1lbHNlIGk9cyxoJiZ5KGgsYSxrLG0saSk7YltqKzFdPWl9cmV0dXJuIGJ9ZnVuY3Rpb24gZWEoYSxiLGQpe3JldHVybiBmdW5jdGlvbihlLGYpe2lmKGcuZltlXSZnLmMuVU5TQUZFKWQmJnkoZCxlLGMsYyxjKTtlbHNlIHJldHVybnthdHRyaWJzOlYoZSxmLGEsYixkKX19fWZ1bmN0aW9uIFEoYSxiKXt2YXIgZD1bXTtoKGIpKGEsZCk7cmV0dXJuIGQuam9pbigiIil9dmFyIE4sdTsidW5kZWZpbmVkIiE9PXR5cGVvZiB3aW5kb3cmJihOPXdpbmRvdy5wYXJzZUNzc0RlY2xhcmF0aW9ucyx1PXdpbmRvdy5zYW5pdGl6ZUNzc1Byb3BlcnR5KTt2YXIgaT17bHQ6IjwiLExUOiI8IixndDoiPiIsR1Q6Ij4iLGFtcDoiJiIsQU1QOiImIixxdW90OiciJyxhcG9zOiInIixuYnNwOiJcdTAwYTAifSxxPS9eIyhcZCspJC8sQj0vXiN4KFswLTlBLUZhLWZdKykkLyxGPS9eW0EtWmEtel1bQS16YS16MC05XSskLyxyPSJ1bmRlZmluZWQiIT09dHlwZW9mIHdpbmRvdyYmCndpbmRvdy5kb2N1bWVudD93aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGV4dGFyZWEiKTpzLG89L1wwL2csaj0vJigjWzAtOV0rfCNbeFhdWzAtOUEtRmEtZl0rfFx3Kyk7L2csST0vXigjWzAtOV0rfCNbeFhdWzAtOUEtRmEtZl0rfFx3Kyk7LyxSPS8mL2csaWE9LyYoW15hLXojXXwjKD86W14wLTl4XXx4KD86W14wLTlhLWZdfCQpfCQpfCQpL2dpLFA9L1s8XS9nLFM9Lz4vZyxEPS9cIi9nLGphPS9eXHMqKFstLjpcd10rKSg/OlxzKig9KVxzKigoIilbXiJdKigifCQpfCgnKVteJ10qKCd8JCl8KD89W2Etel1bLVx3XSpccyo9KXxbXiInXHNdKikpPy9pLEc9Mz09PSJhLGIiLnNwbGl0KC8oLCkvKS5sZW5ndGgsSz1nLmMuQ0RBVEF8Zy5jLlJDREFUQSxBPXt9LFQ9e30sa2E9L14oPzpodHRwcz98bWFpbHRvfGRhdGEpJC9pLG09e307bS5wYT1tLmVzY2FwZUF0dHJpYj1FO20ucmE9bS5tYWtlSHRtbFNhbml0aXplcj1oO20uc2E9bS5tYWtlU2F4UGFyc2VyPXY7bS50YT1tLm1ha2VUYWdQb2xpY3k9CmVhO20ud2E9bS5ub3JtYWxpemVSQ0RhdGE9ZTttLnhhPW0uc2FuaXRpemU9ZnVuY3Rpb24oYSxiLGQsZSl7cmV0dXJuIFEoYSxlYShiLGQsZSkpfTttLnlhPW0uc2FuaXRpemVBdHRyaWJzPVY7bS56YT1tLnNhbml0aXplV2l0aFBvbGljeT1RO20uQmE9bS51bmVzY2FwZUVudGl0aWVzPXg7cmV0dXJuIG19KCQpLGxhPWhhLnNhbml0aXplOyJ1bmRlZmluZWQiIT09dHlwZW9mIHdpbmRvdyYmKHdpbmRvdy5odG1sPWhhLHdpbmRvdy5odG1sX3Nhbml0aXplPWxhKTt9KSgpOwohZnVuY3Rpb24odCl7aWYoIm9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz10KCk7ZWxzZSBpZigiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSx0KTtlbHNleygidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMpLnBha289dCgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gcihzLG8sbCl7ZnVuY3Rpb24gaChlLHQpe2lmKCFvW2VdKXtpZighc1tlXSl7dmFyIGE9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIXQmJmEpcmV0dXJuIGEoZSwhMCk7aWYoZClyZXR1cm4gZChlLCEwKTt2YXIgaT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitlKyInIik7dGhyb3cgaS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixpfXZhciBuPW9bZV09e2V4cG9ydHM6e319O3NbZV1bMF0uY2FsbChuLmV4cG9ydHMsZnVuY3Rpb24odCl7cmV0dXJuIGgoc1tlXVsxXVt0XXx8dCl9LG4sbi5leHBvcnRzLHIscyxvLGwpfXJldHVybiBvW2VdLmV4cG9ydHN9Zm9yKHZhciBkPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHQ9MDt0PGwubGVuZ3RoO3QrKyloKGxbdF0pO3JldHVybiBofSh7MTpbZnVuY3Rpb24odCxlLGEpeyJ1c2Ugc3RyaWN0Ijt2YXIgcz10KCIuL3psaWIvZGVmbGF0ZSIpLG89dCgiLi91dGlscy9jb21tb24iKSxsPXQoIi4vdXRpbHMvc3RyaW5ncyIpLG49dCgiLi96bGliL21lc3NhZ2VzIikscj10KCIuL3psaWIvenN0cmVhbSIpLGg9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxkPTAsZj0tMSxfPTAsdT04O2Z1bmN0aW9uIGModCl7aWYoISh0aGlzIGluc3RhbmNlb2YgYykpcmV0dXJuIG5ldyBjKHQpO3RoaXMub3B0aW9ucz1vLmFzc2lnbih7bGV2ZWw6ZixtZXRob2Q6dSxjaHVua1NpemU6MTYzODQsd2luZG93Qml0czoxNSxtZW1MZXZlbDo4LHN0cmF0ZWd5Ol8sdG86IiJ9LHR8fHt9KTt2YXIgZT10aGlzLm9wdGlvbnM7ZS5yYXcmJjA8ZS53aW5kb3dCaXRzP2Uud2luZG93Qml0cz0tZS53aW5kb3dCaXRzOmUuZ3ppcCYmMDxlLndpbmRvd0JpdHMmJmUud2luZG93Qml0czwxNiYmKGUud2luZG93Qml0cys9MTYpLHRoaXMuZXJyPTAsdGhpcy5tc2c9IiIsdGhpcy5lbmRlZD0hMSx0aGlzLmNodW5rcz1bXSx0aGlzLnN0cm09bmV3IHIsdGhpcy5zdHJtLmF2YWlsX291dD0wO3ZhciBhPXMuZGVmbGF0ZUluaXQyKHRoaXMuc3RybSxlLmxldmVsLGUubWV0aG9kLGUud2luZG93Qml0cyxlLm1lbUxldmVsLGUuc3RyYXRlZ3kpO2lmKGEhPT1kKXRocm93IG5ldyBFcnJvcihuW2FdKTtpZihlLmhlYWRlciYmcy5kZWZsYXRlU2V0SGVhZGVyKHRoaXMuc3RybSxlLmhlYWRlciksZS5kaWN0aW9uYXJ5KXt2YXIgaTtpZihpPSJzdHJpbmciPT10eXBlb2YgZS5kaWN0aW9uYXJ5P2wuc3RyaW5nMmJ1ZihlLmRpY3Rpb25hcnkpOiJbb2JqZWN0IEFycmF5QnVmZmVyXSI9PT1oLmNhbGwoZS5kaWN0aW9uYXJ5KT9uZXcgVWludDhBcnJheShlLmRpY3Rpb25hcnkpOmUuZGljdGlvbmFyeSwoYT1zLmRlZmxhdGVTZXREaWN0aW9uYXJ5KHRoaXMuc3RybSxpKSkhPT1kKXRocm93IG5ldyBFcnJvcihuW2FdKTt0aGlzLl9kaWN0X3NldD0hMH19ZnVuY3Rpb24gaSh0LGUpe3ZhciBhPW5ldyBjKGUpO2lmKGEucHVzaCh0LCEwKSxhLmVycil0aHJvdyBhLm1zZ3x8blthLmVycl07cmV0dXJuIGEucmVzdWx0fWMucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24odCxlKXt2YXIgYSxpLG49dGhpcy5zdHJtLHI9dGhpcy5vcHRpb25zLmNodW5rU2l6ZTtpZih0aGlzLmVuZGVkKXJldHVybiExO2k9ZT09PX5+ZT9lOiEwPT09ZT80OjAsInN0cmluZyI9PXR5cGVvZiB0P24uaW5wdXQ9bC5zdHJpbmcyYnVmKHQpOiJbb2JqZWN0IEFycmF5QnVmZmVyXSI9PT1oLmNhbGwodCk/bi5pbnB1dD1uZXcgVWludDhBcnJheSh0KTpuLmlucHV0PXQsbi5uZXh0X2luPTAsbi5hdmFpbF9pbj1uLmlucHV0Lmxlbmd0aDtkb3tpZigwPT09bi5hdmFpbF9vdXQmJihuLm91dHB1dD1uZXcgby5CdWY4KHIpLG4ubmV4dF9vdXQ9MCxuLmF2YWlsX291dD1yKSwxIT09KGE9cy5kZWZsYXRlKG4saSkpJiZhIT09ZClyZXR1cm4gdGhpcy5vbkVuZChhKSwhKHRoaXMuZW5kZWQ9ITApOzAhPT1uLmF2YWlsX291dCYmKDAhPT1uLmF2YWlsX2lufHw0IT09aSYmMiE9PWkpfHwoInN0cmluZyI9PT10aGlzLm9wdGlvbnMudG8/dGhpcy5vbkRhdGEobC5idWYyYmluc3RyaW5nKG8uc2hyaW5rQnVmKG4ub3V0cHV0LG4ubmV4dF9vdXQpKSk6dGhpcy5vbkRhdGEoby5zaHJpbmtCdWYobi5vdXRwdXQsbi5uZXh0X291dCkpKX13aGlsZSgoMDxuLmF2YWlsX2lufHwwPT09bi5hdmFpbF9vdXQpJiYxIT09YSk7cmV0dXJuIDQ9PT1pPyhhPXMuZGVmbGF0ZUVuZCh0aGlzLnN0cm0pLHRoaXMub25FbmQoYSksdGhpcy5lbmRlZD0hMCxhPT09ZCk6MiE9PWl8fCh0aGlzLm9uRW5kKGQpLCEobi5hdmFpbF9vdXQ9MCkpfSxjLnByb3RvdHlwZS5vbkRhdGE9ZnVuY3Rpb24odCl7dGhpcy5jaHVua3MucHVzaCh0KX0sYy5wcm90b3R5cGUub25FbmQ9ZnVuY3Rpb24odCl7dD09PWQmJigic3RyaW5nIj09PXRoaXMub3B0aW9ucy50bz90aGlzLnJlc3VsdD10aGlzLmNodW5rcy5qb2luKCIiKTp0aGlzLnJlc3VsdD1vLmZsYXR0ZW5DaHVua3ModGhpcy5jaHVua3MpKSx0aGlzLmNodW5rcz1bXSx0aGlzLmVycj10LHRoaXMubXNnPXRoaXMuc3RybS5tc2d9LGEuRGVmbGF0ZT1jLGEuZGVmbGF0ZT1pLGEuZGVmbGF0ZVJhdz1mdW5jdGlvbih0LGUpe3JldHVybihlPWV8fHt9KS5yYXc9ITAsaSh0LGUpfSxhLmd6aXA9ZnVuY3Rpb24odCxlKXtyZXR1cm4oZT1lfHx7fSkuZ3ppcD0hMCxpKHQsZSl9fSx7Ii4vdXRpbHMvY29tbW9uIjozLCIuL3V0aWxzL3N0cmluZ3MiOjQsIi4vemxpYi9kZWZsYXRlIjo4LCIuL3psaWIvbWVzc2FnZXMiOjEzLCIuL3psaWIvenN0cmVhbSI6MTV9XSwyOltmdW5jdGlvbih0LGUsYSl7InVzZSBzdHJpY3QiO3ZhciBmPXQoIi4vemxpYi9pbmZsYXRlIiksXz10KCIuL3V0aWxzL2NvbW1vbiIpLHU9dCgiLi91dGlscy9zdHJpbmdzIiksYz10KCIuL3psaWIvY29uc3RhbnRzIiksaT10KCIuL3psaWIvbWVzc2FnZXMiKSxuPXQoIi4vemxpYi96c3RyZWFtIikscj10KCIuL3psaWIvZ3poZWFkZXIiKSxiPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7ZnVuY3Rpb24gcyh0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBzKSlyZXR1cm4gbmV3IHModCk7dGhpcy5vcHRpb25zPV8uYXNzaWduKHtjaHVua1NpemU6MTYzODQsd2luZG93Qml0czowLHRvOiIifSx0fHx7fSk7dmFyIGU9dGhpcy5vcHRpb25zO2UucmF3JiYwPD1lLndpbmRvd0JpdHMmJmUud2luZG93Qml0czwxNiYmKGUud2luZG93Qml0cz0tZS53aW5kb3dCaXRzLDA9PT1lLndpbmRvd0JpdHMmJihlLndpbmRvd0JpdHM9LTE1KSksISgwPD1lLndpbmRvd0JpdHMmJmUud2luZG93Qml0czwxNil8fHQmJnQud2luZG93Qml0c3x8KGUud2luZG93Qml0cys9MzIpLDE1PGUud2luZG93Qml0cyYmZS53aW5kb3dCaXRzPDQ4JiYwPT0oMTUmZS53aW5kb3dCaXRzKSYmKGUud2luZG93Qml0c3w9MTUpLHRoaXMuZXJyPTAsdGhpcy5tc2c9IiIsdGhpcy5lbmRlZD0hMSx0aGlzLmNodW5rcz1bXSx0aGlzLnN0cm09bmV3IG4sdGhpcy5zdHJtLmF2YWlsX291dD0wO3ZhciBhPWYuaW5mbGF0ZUluaXQyKHRoaXMuc3RybSxlLndpbmRvd0JpdHMpO2lmKGEhPT1jLlpfT0spdGhyb3cgbmV3IEVycm9yKGlbYV0pO2lmKHRoaXMuaGVhZGVyPW5ldyByLGYuaW5mbGF0ZUdldEhlYWRlcih0aGlzLnN0cm0sdGhpcy5oZWFkZXIpLGUuZGljdGlvbmFyeSYmKCJzdHJpbmciPT10eXBlb2YgZS5kaWN0aW9uYXJ5P2UuZGljdGlvbmFyeT11LnN0cmluZzJidWYoZS5kaWN0aW9uYXJ5KToiW29iamVjdCBBcnJheUJ1ZmZlcl0iPT09Yi5jYWxsKGUuZGljdGlvbmFyeSkmJihlLmRpY3Rpb25hcnk9bmV3IFVpbnQ4QXJyYXkoZS5kaWN0aW9uYXJ5KSksZS5yYXcmJihhPWYuaW5mbGF0ZVNldERpY3Rpb25hcnkodGhpcy5zdHJtLGUuZGljdGlvbmFyeSkpIT09Yy5aX09LKSl0aHJvdyBuZXcgRXJyb3IoaVthXSl9ZnVuY3Rpb24gbyh0LGUpe3ZhciBhPW5ldyBzKGUpO2lmKGEucHVzaCh0LCEwKSxhLmVycil0aHJvdyBhLm1zZ3x8aVthLmVycl07cmV0dXJuIGEucmVzdWx0fXMucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24odCxlKXt2YXIgYSxpLG4scixzLG89dGhpcy5zdHJtLGw9dGhpcy5vcHRpb25zLmNodW5rU2l6ZSxoPXRoaXMub3B0aW9ucy5kaWN0aW9uYXJ5LGQ9ITE7aWYodGhpcy5lbmRlZClyZXR1cm4hMTtpPWU9PT1+fmU/ZTohMD09PWU/Yy5aX0ZJTklTSDpjLlpfTk9fRkxVU0gsInN0cmluZyI9PXR5cGVvZiB0P28uaW5wdXQ9dS5iaW5zdHJpbmcyYnVmKHQpOiJbb2JqZWN0IEFycmF5QnVmZmVyXSI9PT1iLmNhbGwodCk/by5pbnB1dD1uZXcgVWludDhBcnJheSh0KTpvLmlucHV0PXQsby5uZXh0X2luPTAsby5hdmFpbF9pbj1vLmlucHV0Lmxlbmd0aDtkb3tpZigwPT09by5hdmFpbF9vdXQmJihvLm91dHB1dD1uZXcgXy5CdWY4KGwpLG8ubmV4dF9vdXQ9MCxvLmF2YWlsX291dD1sKSwoYT1mLmluZmxhdGUobyxjLlpfTk9fRkxVU0gpKT09PWMuWl9ORUVEX0RJQ1QmJmgmJihhPWYuaW5mbGF0ZVNldERpY3Rpb25hcnkodGhpcy5zdHJtLGgpKSxhPT09Yy5aX0JVRl9FUlJPUiYmITA9PT1kJiYoYT1jLlpfT0ssZD0hMSksYSE9PWMuWl9TVFJFQU1fRU5EJiZhIT09Yy5aX09LKXJldHVybiB0aGlzLm9uRW5kKGEpLCEodGhpcy5lbmRlZD0hMCk7by5uZXh0X291dCYmKDAhPT1vLmF2YWlsX291dCYmYSE9PWMuWl9TVFJFQU1fRU5EJiYoMCE9PW8uYXZhaWxfaW58fGkhPT1jLlpfRklOSVNIJiZpIT09Yy5aX1NZTkNfRkxVU0gpfHwoInN0cmluZyI9PT10aGlzLm9wdGlvbnMudG8/KG49dS51dGY4Ym9yZGVyKG8ub3V0cHV0LG8ubmV4dF9vdXQpLHI9by5uZXh0X291dC1uLHM9dS5idWYyc3RyaW5nKG8ub3V0cHV0LG4pLG8ubmV4dF9vdXQ9cixvLmF2YWlsX291dD1sLXIsciYmXy5hcnJheVNldChvLm91dHB1dCxvLm91dHB1dCxuLHIsMCksdGhpcy5vbkRhdGEocykpOnRoaXMub25EYXRhKF8uc2hyaW5rQnVmKG8ub3V0cHV0LG8ubmV4dF9vdXQpKSkpLDA9PT1vLmF2YWlsX2luJiYwPT09by5hdmFpbF9vdXQmJihkPSEwKX13aGlsZSgoMDxvLmF2YWlsX2lufHwwPT09by5hdmFpbF9vdXQpJiZhIT09Yy5aX1NUUkVBTV9FTkQpO3JldHVybiBhPT09Yy5aX1NUUkVBTV9FTkQmJihpPWMuWl9GSU5JU0gpLGk9PT1jLlpfRklOSVNIPyhhPWYuaW5mbGF0ZUVuZCh0aGlzLnN0cm0pLHRoaXMub25FbmQoYSksdGhpcy5lbmRlZD0hMCxhPT09Yy5aX09LKTppIT09Yy5aX1NZTkNfRkxVU0h8fCh0aGlzLm9uRW5kKGMuWl9PSyksIShvLmF2YWlsX291dD0wKSl9LHMucHJvdG90eXBlLm9uRGF0YT1mdW5jdGlvbih0KXt0aGlzLmNodW5rcy5wdXNoKHQpfSxzLnByb3RvdHlwZS5vbkVuZD1mdW5jdGlvbih0KXt0PT09Yy5aX09LJiYoInN0cmluZyI9PT10aGlzLm9wdGlvbnMudG8/dGhpcy5yZXN1bHQ9dGhpcy5jaHVua3Muam9pbigiIik6dGhpcy5yZXN1bHQ9Xy5mbGF0dGVuQ2h1bmtzKHRoaXMuY2h1bmtzKSksdGhpcy5jaHVua3M9W10sdGhpcy5lcnI9dCx0aGlzLm1zZz10aGlzLnN0cm0ubXNnfSxhLkluZmxhdGU9cyxhLmluZmxhdGU9byxhLmluZmxhdGVSYXc9ZnVuY3Rpb24odCxlKXtyZXR1cm4oZT1lfHx7fSkucmF3PSEwLG8odCxlKX0sYS51bmd6aXA9b30seyIuL3V0aWxzL2NvbW1vbiI6MywiLi91dGlscy9zdHJpbmdzIjo0LCIuL3psaWIvY29uc3RhbnRzIjo2LCIuL3psaWIvZ3poZWFkZXIiOjksIi4vemxpYi9pbmZsYXRlIjoxMSwiLi96bGliL21lc3NhZ2VzIjoxMywiLi96bGliL3pzdHJlYW0iOjE1fV0sMzpbZnVuY3Rpb24odCxlLGEpeyJ1c2Ugc3RyaWN0Ijt2YXIgaT0idW5kZWZpbmVkIiE9dHlwZW9mIFVpbnQ4QXJyYXkmJiJ1bmRlZmluZWQiIT10eXBlb2YgVWludDE2QXJyYXkmJiJ1bmRlZmluZWQiIT10eXBlb2YgSW50MzJBcnJheTthLmFzc2lnbj1mdW5jdGlvbih0KXtmb3IodmFyIGUsYSxpPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtpLmxlbmd0aDspe3ZhciBuPWkuc2hpZnQoKTtpZihuKXtpZigib2JqZWN0IiE9dHlwZW9mIG4pdGhyb3cgbmV3IFR5cGVFcnJvcihuKyJtdXN0IGJlIG5vbi1vYmplY3QiKTtmb3IodmFyIHIgaW4gbillPW4sYT1yLE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLGEpJiYodFtyXT1uW3JdKX19cmV0dXJuIHR9LGEuc2hyaW5rQnVmPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQubGVuZ3RoPT09ZT90OnQuc3ViYXJyYXk/dC5zdWJhcnJheSgwLGUpOih0Lmxlbmd0aD1lLHQpfTt2YXIgbj17YXJyYXlTZXQ6ZnVuY3Rpb24odCxlLGEsaSxuKXtpZihlLnN1YmFycmF5JiZ0LnN1YmFycmF5KXQuc2V0KGUuc3ViYXJyYXkoYSxhK2kpLG4pO2Vsc2UgZm9yKHZhciByPTA7cjxpO3IrKyl0W24rcl09ZVthK3JdfSxmbGF0dGVuQ2h1bmtzOmZ1bmN0aW9uKHQpe3ZhciBlLGEsaSxuLHIscztmb3IoZT1pPTAsYT10Lmxlbmd0aDtlPGE7ZSsrKWkrPXRbZV0ubGVuZ3RoO2ZvcihzPW5ldyBVaW50OEFycmF5KGkpLGU9bj0wLGE9dC5sZW5ndGg7ZTxhO2UrKylyPXRbZV0scy5zZXQocixuKSxuKz1yLmxlbmd0aDtyZXR1cm4gc319LHI9e2FycmF5U2V0OmZ1bmN0aW9uKHQsZSxhLGksbil7Zm9yKHZhciByPTA7cjxpO3IrKyl0W24rcl09ZVthK3JdfSxmbGF0dGVuQ2h1bmtzOmZ1bmN0aW9uKHQpe3JldHVybltdLmNvbmNhdC5hcHBseShbXSx0KX19O2Euc2V0VHlwZWQ9ZnVuY3Rpb24odCl7dD8oYS5CdWY4PVVpbnQ4QXJyYXksYS5CdWYxNj1VaW50MTZBcnJheSxhLkJ1ZjMyPUludDMyQXJyYXksYS5hc3NpZ24oYSxuKSk6KGEuQnVmOD1BcnJheSxhLkJ1ZjE2PUFycmF5LGEuQnVmMzI9QXJyYXksYS5hc3NpZ24oYSxyKSl9LGEuc2V0VHlwZWQoaSl9LHt9XSw0OltmdW5jdGlvbih0LGUsYSl7InVzZSBzdHJpY3QiO3ZhciBsPXQoIi4vY29tbW9uIiksbj0hMCxyPSEwO3RyeXtTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsWzBdKX1jYXRjaCh0KXtuPSExfXRyeXtTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsbmV3IFVpbnQ4QXJyYXkoMSkpfWNhdGNoKHQpe3I9ITF9Zm9yKHZhciBoPW5ldyBsLkJ1ZjgoMjU2KSxpPTA7aTwyNTY7aSsrKWhbaV09MjUyPD1pPzY6MjQ4PD1pPzU6MjQwPD1pPzQ6MjI0PD1pPzM6MTkyPD1pPzI6MTtmdW5jdGlvbiBkKHQsZSl7aWYoZTw2NTUzNCYmKHQuc3ViYXJyYXkmJnJ8fCF0LnN1YmFycmF5JiZuKSlyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGwuc2hyaW5rQnVmKHQsZSkpO2Zvcih2YXIgYT0iIixpPTA7aTxlO2krKylhKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHRbaV0pO3JldHVybiBhfWhbMjU0XT1oWzI1NF09MSxhLnN0cmluZzJidWY9ZnVuY3Rpb24odCl7dmFyIGUsYSxpLG4scixzPXQubGVuZ3RoLG89MDtmb3Iobj0wO248cztuKyspNTUyOTY9PSg2NDUxMiYoYT10LmNoYXJDb2RlQXQobikpKSYmbisxPHMmJjU2MzIwPT0oNjQ1MTImKGk9dC5jaGFyQ29kZUF0KG4rMSkpKSYmKGE9NjU1MzYrKGEtNTUyOTY8PDEwKSsoaS01NjMyMCksbisrKSxvKz1hPDEyOD8xOmE8MjA0OD8yOmE8NjU1MzY/Mzo0O2ZvcihlPW5ldyBsLkJ1Zjgobyksbj1yPTA7cjxvO24rKyk1NTI5Nj09KDY0NTEyJihhPXQuY2hhckNvZGVBdChuKSkpJiZuKzE8cyYmNTYzMjA9PSg2NDUxMiYoaT10LmNoYXJDb2RlQXQobisxKSkpJiYoYT02NTUzNisoYS01NTI5Njw8MTApKyhpLTU2MzIwKSxuKyspLGE8MTI4P2VbcisrXT1hOihhPDIwNDg/ZVtyKytdPTE5MnxhPj4+NjooYTw2NTUzNj9lW3IrK109MjI0fGE+Pj4xMjooZVtyKytdPTI0MHxhPj4+MTgsZVtyKytdPTEyOHxhPj4+MTImNjMpLGVbcisrXT0xMjh8YT4+PjYmNjMpLGVbcisrXT0xMjh8NjMmYSk7cmV0dXJuIGV9LGEuYnVmMmJpbnN0cmluZz1mdW5jdGlvbih0KXtyZXR1cm4gZCh0LHQubGVuZ3RoKX0sYS5iaW5zdHJpbmcyYnVmPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgbC5CdWY4KHQubGVuZ3RoKSxhPTAsaT1lLmxlbmd0aDthPGk7YSsrKWVbYV09dC5jaGFyQ29kZUF0KGEpO3JldHVybiBlfSxhLmJ1ZjJzdHJpbmc9ZnVuY3Rpb24odCxlKXt2YXIgYSxpLG4scixzPWV8fHQubGVuZ3RoLG89bmV3IEFycmF5KDIqcyk7Zm9yKGE9aT0wO2E8czspaWYoKG49dFthKytdKTwxMjgpb1tpKytdPW47ZWxzZSBpZig0PChyPWhbbl0pKW9baSsrXT02NTUzMyxhKz1yLTE7ZWxzZXtmb3IobiY9Mj09PXI/MzE6Mz09PXI/MTU6NzsxPHImJmE8czspbj1uPDw2fDYzJnRbYSsrXSxyLS07MTxyP29baSsrXT02NTUzMzpuPDY1NTM2P29baSsrXT1uOihuLT02NTUzNixvW2krK109NTUyOTZ8bj4+MTAmMTAyMyxvW2krK109NTYzMjB8MTAyMyZuKX1yZXR1cm4gZChvLGkpfSxhLnV0Zjhib3JkZXI9ZnVuY3Rpb24odCxlKXt2YXIgYTtmb3IoKGU9ZXx8dC5sZW5ndGgpPnQubGVuZ3RoJiYoZT10Lmxlbmd0aCksYT1lLTE7MDw9YSYmMTI4PT0oMTkyJnRbYV0pOylhLS07cmV0dXJuIGE8MD9lOjA9PT1hP2U6YStoW3RbYV1dPmU/YTplfX0seyIuL2NvbW1vbiI6M31dLDU6W2Z1bmN0aW9uKHQsZSxhKXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSxhLGkpe2Zvcih2YXIgbj02NTUzNSZ0fDAscj10Pj4+MTYmNjU1MzV8MCxzPTA7MCE9PWE7KXtmb3IoYS09cz0yZTM8YT8yZTM6YTtyPXIrKG49bitlW2krK118MCl8MCwtLXM7KTtuJT02NTUyMSxyJT02NTUyMX1yZXR1cm4gbnxyPDwxNnwwfX0se31dLDY6W2Z1bmN0aW9uKHQsZSxhKXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPXtaX05PX0ZMVVNIOjAsWl9QQVJUSUFMX0ZMVVNIOjEsWl9TWU5DX0ZMVVNIOjIsWl9GVUxMX0ZMVVNIOjMsWl9GSU5JU0g6NCxaX0JMT0NLOjUsWl9UUkVFUzo2LFpfT0s6MCxaX1NUUkVBTV9FTkQ6MSxaX05FRURfRElDVDoyLFpfRVJSTk86LTEsWl9TVFJFQU1fRVJST1I6LTIsWl9EQVRBX0VSUk9SOi0zLFpfQlVGX0VSUk9SOi01LFpfTk9fQ09NUFJFU1NJT046MCxaX0JFU1RfU1BFRUQ6MSxaX0JFU1RfQ09NUFJFU1NJT046OSxaX0RFRkFVTFRfQ09NUFJFU1NJT046LTEsWl9GSUxURVJFRDoxLFpfSFVGRk1BTl9PTkxZOjIsWl9STEU6MyxaX0ZJWEVEOjQsWl9ERUZBVUxUX1NUUkFURUdZOjAsWl9CSU5BUlk6MCxaX1RFWFQ6MSxaX1VOS05PV046MixaX0RFRkxBVEVEOjh9fSx7fV0sNzpbZnVuY3Rpb24odCxlLGEpeyJ1c2Ugc3RyaWN0Ijt2YXIgbz1mdW5jdGlvbigpe2Zvcih2YXIgdCxlPVtdLGE9MDthPDI1NjthKyspe3Q9YTtmb3IodmFyIGk9MDtpPDg7aSsrKXQ9MSZ0PzM5ODgyOTIzODRedD4+PjE6dD4+PjE7ZVthXT10fXJldHVybiBlfSgpO2UuZXhwb3J0cz1mdW5jdGlvbih0LGUsYSxpKXt2YXIgbj1vLHI9aSthO3RePS0xO2Zvcih2YXIgcz1pO3M8cjtzKyspdD10Pj4+OF5uWzI1NSYodF5lW3NdKV07cmV0dXJuLTFedH19LHt9XSw4OltmdW5jdGlvbih0LGUsYSl7InVzZSBzdHJpY3QiO3ZhciBsLF89dCgiLi4vdXRpbHMvY29tbW9uIiksaD10KCIuL3RyZWVzIiksdT10KCIuL2FkbGVyMzIiKSxjPXQoIi4vY3JjMzIiKSxpPXQoIi4vbWVzc2FnZXMiKSxkPTAsZj00LGI9MCxnPS0yLG09LTEsdz00LG49MixwPTgsdj05LHI9Mjg2LHM9MzAsbz0xOSxrPTIqcisxLHk9MTUseD0zLHo9MjU4LEI9eit4KzEsUz00MixFPTExMyxBPTEsWj0yLFI9MyxDPTQ7ZnVuY3Rpb24gTih0LGUpe3JldHVybiB0Lm1zZz1pW2VdLGV9ZnVuY3Rpb24gTyh0KXtyZXR1cm4odDw8MSktKDQ8dD85OjApfWZ1bmN0aW9uIEQodCl7Zm9yKHZhciBlPXQubGVuZ3RoOzA8PS0tZTspdFtlXT0wfWZ1bmN0aW9uIEkodCl7dmFyIGU9dC5zdGF0ZSxhPWUucGVuZGluZzthPnQuYXZhaWxfb3V0JiYoYT10LmF2YWlsX291dCksMCE9PWEmJihfLmFycmF5U2V0KHQub3V0cHV0LGUucGVuZGluZ19idWYsZS5wZW5kaW5nX291dCxhLHQubmV4dF9vdXQpLHQubmV4dF9vdXQrPWEsZS5wZW5kaW5nX291dCs9YSx0LnRvdGFsX291dCs9YSx0LmF2YWlsX291dC09YSxlLnBlbmRpbmctPWEsMD09PWUucGVuZGluZyYmKGUucGVuZGluZ19vdXQ9MCkpfWZ1bmN0aW9uIFUodCxlKXtoLl90cl9mbHVzaF9ibG9jayh0LDA8PXQuYmxvY2tfc3RhcnQ/dC5ibG9ja19zdGFydDotMSx0LnN0cnN0YXJ0LXQuYmxvY2tfc3RhcnQsZSksdC5ibG9ja19zdGFydD10LnN0cnN0YXJ0LEkodC5zdHJtKX1mdW5jdGlvbiBUKHQsZSl7dC5wZW5kaW5nX2J1Zlt0LnBlbmRpbmcrK109ZX1mdW5jdGlvbiBGKHQsZSl7dC5wZW5kaW5nX2J1Zlt0LnBlbmRpbmcrK109ZT4+PjgmMjU1LHQucGVuZGluZ19idWZbdC5wZW5kaW5nKytdPTI1NSZlfWZ1bmN0aW9uIEwodCxlKXt2YXIgYSxpLG49dC5tYXhfY2hhaW5fbGVuZ3RoLHI9dC5zdHJzdGFydCxzPXQucHJldl9sZW5ndGgsbz10Lm5pY2VfbWF0Y2gsbD10LnN0cnN0YXJ0PnQud19zaXplLUI/dC5zdHJzdGFydC0odC53X3NpemUtQik6MCxoPXQud2luZG93LGQ9dC53X21hc2ssZj10LnByZXYsXz10LnN0cnN0YXJ0K3osdT1oW3Ircy0xXSxjPWhbcitzXTt0LnByZXZfbGVuZ3RoPj10Lmdvb2RfbWF0Y2gmJihuPj49Miksbz50Lmxvb2thaGVhZCYmKG89dC5sb29rYWhlYWQpO2Rve2lmKGhbKGE9ZSkrc109PT1jJiZoW2Ercy0xXT09PXUmJmhbYV09PT1oW3JdJiZoWysrYV09PT1oW3IrMV0pe3IrPTIsYSsrO2Rve313aGlsZShoWysrcl09PT1oWysrYV0mJmhbKytyXT09PWhbKythXSYmaFsrK3JdPT09aFsrK2FdJiZoWysrcl09PT1oWysrYV0mJmhbKytyXT09PWhbKythXSYmaFsrK3JdPT09aFsrK2FdJiZoWysrcl09PT1oWysrYV0mJmhbKytyXT09PWhbKythXSYmcjxfKTtpZihpPXotKF8tcikscj1fLXosczxpKXtpZih0Lm1hdGNoX3N0YXJ0PWUsbzw9KHM9aSkpYnJlYWs7dT1oW3Ircy0xXSxjPWhbcitzXX19fXdoaWxlKChlPWZbZSZkXSk+bCYmMCE9LS1uKTtyZXR1cm4gczw9dC5sb29rYWhlYWQ/czp0Lmxvb2thaGVhZH1mdW5jdGlvbiBIKHQpe3ZhciBlLGEsaSxuLHIscyxvLGwsaCxkLGY9dC53X3NpemU7ZG97aWYobj10LndpbmRvd19zaXplLXQubG9va2FoZWFkLXQuc3Ryc3RhcnQsdC5zdHJzdGFydD49ZisoZi1CKSl7Zm9yKF8uYXJyYXlTZXQodC53aW5kb3csdC53aW5kb3csZixmLDApLHQubWF0Y2hfc3RhcnQtPWYsdC5zdHJzdGFydC09Zix0LmJsb2NrX3N0YXJ0LT1mLGU9YT10Lmhhc2hfc2l6ZTtpPXQuaGVhZFstLWVdLHQuaGVhZFtlXT1mPD1pP2ktZjowLC0tYTspO2ZvcihlPWE9ZjtpPXQucHJldlstLWVdLHQucHJldltlXT1mPD1pP2ktZjowLC0tYTspO24rPWZ9aWYoMD09PXQuc3RybS5hdmFpbF9pbilicmVhaztpZihzPXQuc3RybSxvPXQud2luZG93LGw9dC5zdHJzdGFydCt0Lmxvb2thaGVhZCxoPW4sZD12b2lkIDAsZD1zLmF2YWlsX2luLGg8ZCYmKGQ9aCksYT0wPT09ZD8wOihzLmF2YWlsX2luLT1kLF8uYXJyYXlTZXQobyxzLmlucHV0LHMubmV4dF9pbixkLGwpLDE9PT1zLnN0YXRlLndyYXA/cy5hZGxlcj11KHMuYWRsZXIsbyxkLGwpOjI9PT1zLnN0YXRlLndyYXAmJihzLmFkbGVyPWMocy5hZGxlcixvLGQsbCkpLHMubmV4dF9pbis9ZCxzLnRvdGFsX2luKz1kLGQpLHQubG9va2FoZWFkKz1hLHQubG9va2FoZWFkK3QuaW5zZXJ0Pj14KWZvcihyPXQuc3Ryc3RhcnQtdC5pbnNlcnQsdC5pbnNfaD10LndpbmRvd1tyXSx0Lmluc19oPSh0Lmluc19oPDx0Lmhhc2hfc2hpZnRedC53aW5kb3dbcisxXSkmdC5oYXNoX21hc2s7dC5pbnNlcnQmJih0Lmluc19oPSh0Lmluc19oPDx0Lmhhc2hfc2hpZnRedC53aW5kb3dbcit4LTFdKSZ0Lmhhc2hfbWFzayx0LnByZXZbciZ0LndfbWFza109dC5oZWFkW3QuaW5zX2hdLHQuaGVhZFt0Lmluc19oXT1yLHIrKyx0Lmluc2VydC0tLCEodC5sb29rYWhlYWQrdC5pbnNlcnQ8eCkpOyk7fXdoaWxlKHQubG9va2FoZWFkPEImJjAhPT10LnN0cm0uYXZhaWxfaW4pfWZ1bmN0aW9uIGoodCxlKXtmb3IodmFyIGEsaTs7KXtpZih0Lmxvb2thaGVhZDxCKXtpZihIKHQpLHQubG9va2FoZWFkPEImJmU9PT1kKXJldHVybiBBO2lmKDA9PT10Lmxvb2thaGVhZClicmVha31pZihhPTAsdC5sb29rYWhlYWQ+PXgmJih0Lmluc19oPSh0Lmluc19oPDx0Lmhhc2hfc2hpZnRedC53aW5kb3dbdC5zdHJzdGFydCt4LTFdKSZ0Lmhhc2hfbWFzayxhPXQucHJldlt0LnN0cnN0YXJ0JnQud19tYXNrXT10LmhlYWRbdC5pbnNfaF0sdC5oZWFkW3QuaW5zX2hdPXQuc3Ryc3RhcnQpLDAhPT1hJiZ0LnN0cnN0YXJ0LWE8PXQud19zaXplLUImJih0Lm1hdGNoX2xlbmd0aD1MKHQsYSkpLHQubWF0Y2hfbGVuZ3RoPj14KWlmKGk9aC5fdHJfdGFsbHkodCx0LnN0cnN0YXJ0LXQubWF0Y2hfc3RhcnQsdC5tYXRjaF9sZW5ndGgteCksdC5sb29rYWhlYWQtPXQubWF0Y2hfbGVuZ3RoLHQubWF0Y2hfbGVuZ3RoPD10Lm1heF9sYXp5X21hdGNoJiZ0Lmxvb2thaGVhZD49eCl7Zm9yKHQubWF0Y2hfbGVuZ3RoLS07dC5zdHJzdGFydCsrLHQuaW5zX2g9KHQuaW5zX2g8PHQuaGFzaF9zaGlmdF50LndpbmRvd1t0LnN0cnN0YXJ0K3gtMV0pJnQuaGFzaF9tYXNrLGE9dC5wcmV2W3Quc3Ryc3RhcnQmdC53X21hc2tdPXQuaGVhZFt0Lmluc19oXSx0LmhlYWRbdC5pbnNfaF09dC5zdHJzdGFydCwwIT0tLXQubWF0Y2hfbGVuZ3RoOyk7dC5zdHJzdGFydCsrfWVsc2UgdC5zdHJzdGFydCs9dC5tYXRjaF9sZW5ndGgsdC5tYXRjaF9sZW5ndGg9MCx0Lmluc19oPXQud2luZG93W3Quc3Ryc3RhcnRdLHQuaW5zX2g9KHQuaW5zX2g8PHQuaGFzaF9zaGlmdF50LndpbmRvd1t0LnN0cnN0YXJ0KzFdKSZ0Lmhhc2hfbWFzaztlbHNlIGk9aC5fdHJfdGFsbHkodCwwLHQud2luZG93W3Quc3Ryc3RhcnRdKSx0Lmxvb2thaGVhZC0tLHQuc3Ryc3RhcnQrKztpZihpJiYoVSh0LCExKSwwPT09dC5zdHJtLmF2YWlsX291dCkpcmV0dXJuIEF9cmV0dXJuIHQuaW5zZXJ0PXQuc3Ryc3RhcnQ8eC0xP3Quc3Ryc3RhcnQ6eC0xLGU9PT1mPyhVKHQsITApLDA9PT10LnN0cm0uYXZhaWxfb3V0P1I6Qyk6dC5sYXN0X2xpdCYmKFUodCwhMSksMD09PXQuc3RybS5hdmFpbF9vdXQpP0E6Wn1mdW5jdGlvbiBLKHQsZSl7Zm9yKHZhciBhLGksbjs7KXtpZih0Lmxvb2thaGVhZDxCKXtpZihIKHQpLHQubG9va2FoZWFkPEImJmU9PT1kKXJldHVybiBBO2lmKDA9PT10Lmxvb2thaGVhZClicmVha31pZihhPTAsdC5sb29rYWhlYWQ+PXgmJih0Lmluc19oPSh0Lmluc19oPDx0Lmhhc2hfc2hpZnRedC53aW5kb3dbdC5zdHJzdGFydCt4LTFdKSZ0Lmhhc2hfbWFzayxhPXQucHJldlt0LnN0cnN0YXJ0JnQud19tYXNrXT10LmhlYWRbdC5pbnNfaF0sdC5oZWFkW3QuaW5zX2hdPXQuc3Ryc3RhcnQpLHQucHJldl9sZW5ndGg9dC5tYXRjaF9sZW5ndGgsdC5wcmV2X21hdGNoPXQubWF0Y2hfc3RhcnQsdC5tYXRjaF9sZW5ndGg9eC0xLDAhPT1hJiZ0LnByZXZfbGVuZ3RoPHQubWF4X2xhenlfbWF0Y2gmJnQuc3Ryc3RhcnQtYTw9dC53X3NpemUtQiYmKHQubWF0Y2hfbGVuZ3RoPUwodCxhKSx0Lm1hdGNoX2xlbmd0aDw9NSYmKDE9PT10LnN0cmF0ZWd5fHx0Lm1hdGNoX2xlbmd0aD09PXgmJjQwOTY8dC5zdHJzdGFydC10Lm1hdGNoX3N0YXJ0KSYmKHQubWF0Y2hfbGVuZ3RoPXgtMSkpLHQucHJldl9sZW5ndGg+PXgmJnQubWF0Y2hfbGVuZ3RoPD10LnByZXZfbGVuZ3RoKXtmb3Iobj10LnN0cnN0YXJ0K3QubG9va2FoZWFkLXgsaT1oLl90cl90YWxseSh0LHQuc3Ryc3RhcnQtMS10LnByZXZfbWF0Y2gsdC5wcmV2X2xlbmd0aC14KSx0Lmxvb2thaGVhZC09dC5wcmV2X2xlbmd0aC0xLHQucHJldl9sZW5ndGgtPTI7Kyt0LnN0cnN0YXJ0PD1uJiYodC5pbnNfaD0odC5pbnNfaDw8dC5oYXNoX3NoaWZ0XnQud2luZG93W3Quc3Ryc3RhcnQreC0xXSkmdC5oYXNoX21hc2ssYT10LnByZXZbdC5zdHJzdGFydCZ0LndfbWFza109dC5oZWFkW3QuaW5zX2hdLHQuaGVhZFt0Lmluc19oXT10LnN0cnN0YXJ0KSwwIT0tLXQucHJldl9sZW5ndGg7KTtpZih0Lm1hdGNoX2F2YWlsYWJsZT0wLHQubWF0Y2hfbGVuZ3RoPXgtMSx0LnN0cnN0YXJ0KyssaSYmKFUodCwhMSksMD09PXQuc3RybS5hdmFpbF9vdXQpKXJldHVybiBBfWVsc2UgaWYodC5tYXRjaF9hdmFpbGFibGUpe2lmKChpPWguX3RyX3RhbGx5KHQsMCx0LndpbmRvd1t0LnN0cnN0YXJ0LTFdKSkmJlUodCwhMSksdC5zdHJzdGFydCsrLHQubG9va2FoZWFkLS0sMD09PXQuc3RybS5hdmFpbF9vdXQpcmV0dXJuIEF9ZWxzZSB0Lm1hdGNoX2F2YWlsYWJsZT0xLHQuc3Ryc3RhcnQrKyx0Lmxvb2thaGVhZC0tfXJldHVybiB0Lm1hdGNoX2F2YWlsYWJsZSYmKGk9aC5fdHJfdGFsbHkodCwwLHQud2luZG93W3Quc3Ryc3RhcnQtMV0pLHQubWF0Y2hfYXZhaWxhYmxlPTApLHQuaW5zZXJ0PXQuc3Ryc3RhcnQ8eC0xP3Quc3Ryc3RhcnQ6eC0xLGU9PT1mPyhVKHQsITApLDA9PT10LnN0cm0uYXZhaWxfb3V0P1I6Qyk6dC5sYXN0X2xpdCYmKFUodCwhMSksMD09PXQuc3RybS5hdmFpbF9vdXQpP0E6Wn1mdW5jdGlvbiBNKHQsZSxhLGksbil7dGhpcy5nb29kX2xlbmd0aD10LHRoaXMubWF4X2xhenk9ZSx0aGlzLm5pY2VfbGVuZ3RoPWEsdGhpcy5tYXhfY2hhaW49aSx0aGlzLmZ1bmM9bn1mdW5jdGlvbiBQKCl7dGhpcy5zdHJtPW51bGwsdGhpcy5zdGF0dXM9MCx0aGlzLnBlbmRpbmdfYnVmPW51bGwsdGhpcy5wZW5kaW5nX2J1Zl9zaXplPTAsdGhpcy5wZW5kaW5nX291dD0wLHRoaXMucGVuZGluZz0wLHRoaXMud3JhcD0wLHRoaXMuZ3poZWFkPW51bGwsdGhpcy5nemluZGV4PTAsdGhpcy5tZXRob2Q9cCx0aGlzLmxhc3RfZmx1c2g9LTEsdGhpcy53X3NpemU9MCx0aGlzLndfYml0cz0wLHRoaXMud19tYXNrPTAsdGhpcy53aW5kb3c9bnVsbCx0aGlzLndpbmRvd19zaXplPTAsdGhpcy5wcmV2PW51bGwsdGhpcy5oZWFkPW51bGwsdGhpcy5pbnNfaD0wLHRoaXMuaGFzaF9zaXplPTAsdGhpcy5oYXNoX2JpdHM9MCx0aGlzLmhhc2hfbWFzaz0wLHRoaXMuaGFzaF9zaGlmdD0wLHRoaXMuYmxvY2tfc3RhcnQ9MCx0aGlzLm1hdGNoX2xlbmd0aD0wLHRoaXMucHJldl9tYXRjaD0wLHRoaXMubWF0Y2hfYXZhaWxhYmxlPTAsdGhpcy5zdHJzdGFydD0wLHRoaXMubWF0Y2hfc3RhcnQ9MCx0aGlzLmxvb2thaGVhZD0wLHRoaXMucHJldl9sZW5ndGg9MCx0aGlzLm1heF9jaGFpbl9sZW5ndGg9MCx0aGlzLm1heF9sYXp5X21hdGNoPTAsdGhpcy5sZXZlbD0wLHRoaXMuc3RyYXRlZ3k9MCx0aGlzLmdvb2RfbWF0Y2g9MCx0aGlzLm5pY2VfbWF0Y2g9MCx0aGlzLmR5bl9sdHJlZT1uZXcgXy5CdWYxNigyKmspLHRoaXMuZHluX2R0cmVlPW5ldyBfLkJ1ZjE2KDIqKDIqcysxKSksdGhpcy5ibF90cmVlPW5ldyBfLkJ1ZjE2KDIqKDIqbysxKSksRCh0aGlzLmR5bl9sdHJlZSksRCh0aGlzLmR5bl9kdHJlZSksRCh0aGlzLmJsX3RyZWUpLHRoaXMubF9kZXNjPW51bGwsdGhpcy5kX2Rlc2M9bnVsbCx0aGlzLmJsX2Rlc2M9bnVsbCx0aGlzLmJsX2NvdW50PW5ldyBfLkJ1ZjE2KHkrMSksdGhpcy5oZWFwPW5ldyBfLkJ1ZjE2KDIqcisxKSxEKHRoaXMuaGVhcCksdGhpcy5oZWFwX2xlbj0wLHRoaXMuaGVhcF9tYXg9MCx0aGlzLmRlcHRoPW5ldyBfLkJ1ZjE2KDIqcisxKSxEKHRoaXMuZGVwdGgpLHRoaXMubF9idWY9MCx0aGlzLmxpdF9idWZzaXplPTAsdGhpcy5sYXN0X2xpdD0wLHRoaXMuZF9idWY9MCx0aGlzLm9wdF9sZW49MCx0aGlzLnN0YXRpY19sZW49MCx0aGlzLm1hdGNoZXM9MCx0aGlzLmluc2VydD0wLHRoaXMuYmlfYnVmPTAsdGhpcy5iaV92YWxpZD0wfWZ1bmN0aW9uIFkodCl7dmFyIGU7cmV0dXJuIHQmJnQuc3RhdGU/KHQudG90YWxfaW49dC50b3RhbF9vdXQ9MCx0LmRhdGFfdHlwZT1uLChlPXQuc3RhdGUpLnBlbmRpbmc9MCxlLnBlbmRpbmdfb3V0PTAsZS53cmFwPDAmJihlLndyYXA9LWUud3JhcCksZS5zdGF0dXM9ZS53cmFwP1M6RSx0LmFkbGVyPTI9PT1lLndyYXA/MDoxLGUubGFzdF9mbHVzaD1kLGguX3RyX2luaXQoZSksYik6Tih0LGcpfWZ1bmN0aW9uIHEodCl7dmFyIGUsYT1ZKHQpO3JldHVybiBhPT09YiYmKChlPXQuc3RhdGUpLndpbmRvd19zaXplPTIqZS53X3NpemUsRChlLmhlYWQpLGUubWF4X2xhenlfbWF0Y2g9bFtlLmxldmVsXS5tYXhfbGF6eSxlLmdvb2RfbWF0Y2g9bFtlLmxldmVsXS5nb29kX2xlbmd0aCxlLm5pY2VfbWF0Y2g9bFtlLmxldmVsXS5uaWNlX2xlbmd0aCxlLm1heF9jaGFpbl9sZW5ndGg9bFtlLmxldmVsXS5tYXhfY2hhaW4sZS5zdHJzdGFydD0wLGUuYmxvY2tfc3RhcnQ9MCxlLmxvb2thaGVhZD0wLGUuaW5zZXJ0PTAsZS5tYXRjaF9sZW5ndGg9ZS5wcmV2X2xlbmd0aD14LTEsZS5tYXRjaF9hdmFpbGFibGU9MCxlLmluc19oPTApLGF9ZnVuY3Rpb24gRyh0LGUsYSxpLG4scil7aWYoIXQpcmV0dXJuIGc7dmFyIHM9MTtpZihlPT09bSYmKGU9NiksaTwwPyhzPTAsaT0taSk6MTU8aSYmKHM9MixpLT0xNiksbjwxfHx2PG58fGEhPT1wfHxpPDh8fDE1PGl8fGU8MHx8OTxlfHxyPDB8fHc8cilyZXR1cm4gTih0LGcpOzg9PT1pJiYoaT05KTt2YXIgbz1uZXcgUDtyZXR1cm4odC5zdGF0ZT1vKS5zdHJtPXQsby53cmFwPXMsby5nemhlYWQ9bnVsbCxvLndfYml0cz1pLG8ud19zaXplPTE8PG8ud19iaXRzLG8ud19tYXNrPW8ud19zaXplLTEsby5oYXNoX2JpdHM9bis3LG8uaGFzaF9zaXplPTE8PG8uaGFzaF9iaXRzLG8uaGFzaF9tYXNrPW8uaGFzaF9zaXplLTEsby5oYXNoX3NoaWZ0PX5+KChvLmhhc2hfYml0cyt4LTEpL3gpLG8ud2luZG93PW5ldyBfLkJ1ZjgoMipvLndfc2l6ZSksby5oZWFkPW5ldyBfLkJ1ZjE2KG8uaGFzaF9zaXplKSxvLnByZXY9bmV3IF8uQnVmMTYoby53X3NpemUpLG8ubGl0X2J1ZnNpemU9MTw8bis2LG8ucGVuZGluZ19idWZfc2l6ZT00Km8ubGl0X2J1ZnNpemUsby5wZW5kaW5nX2J1Zj1uZXcgXy5CdWY4KG8ucGVuZGluZ19idWZfc2l6ZSksby5kX2J1Zj0xKm8ubGl0X2J1ZnNpemUsby5sX2J1Zj0zKm8ubGl0X2J1ZnNpemUsby5sZXZlbD1lLG8uc3RyYXRlZ3k9cixvLm1ldGhvZD1hLHEodCl9bD1bbmV3IE0oMCwwLDAsMCxmdW5jdGlvbih0LGUpe3ZhciBhPTY1NTM1O2ZvcihhPnQucGVuZGluZ19idWZfc2l6ZS01JiYoYT10LnBlbmRpbmdfYnVmX3NpemUtNSk7Oyl7aWYodC5sb29rYWhlYWQ8PTEpe2lmKEgodCksMD09PXQubG9va2FoZWFkJiZlPT09ZClyZXR1cm4gQTtpZigwPT09dC5sb29rYWhlYWQpYnJlYWt9dC5zdHJzdGFydCs9dC5sb29rYWhlYWQsdC5sb29rYWhlYWQ9MDt2YXIgaT10LmJsb2NrX3N0YXJ0K2E7aWYoKDA9PT10LnN0cnN0YXJ0fHx0LnN0cnN0YXJ0Pj1pKSYmKHQubG9va2FoZWFkPXQuc3Ryc3RhcnQtaSx0LnN0cnN0YXJ0PWksVSh0LCExKSwwPT09dC5zdHJtLmF2YWlsX291dCkpcmV0dXJuIEE7aWYodC5zdHJzdGFydC10LmJsb2NrX3N0YXJ0Pj10Lndfc2l6ZS1CJiYoVSh0LCExKSwwPT09dC5zdHJtLmF2YWlsX291dCkpcmV0dXJuIEF9cmV0dXJuIHQuaW5zZXJ0PTAsZT09PWY/KFUodCwhMCksMD09PXQuc3RybS5hdmFpbF9vdXQ/UjpDKToodC5zdHJzdGFydD50LmJsb2NrX3N0YXJ0JiYoVSh0LCExKSx0LnN0cm0uYXZhaWxfb3V0KSxBKX0pLG5ldyBNKDQsNCw4LDQsaiksbmV3IE0oNCw1LDE2LDgsaiksbmV3IE0oNCw2LDMyLDMyLGopLG5ldyBNKDQsNCwxNiwxNixLKSxuZXcgTSg4LDE2LDMyLDMyLEspLG5ldyBNKDgsMTYsMTI4LDEyOCxLKSxuZXcgTSg4LDMyLDEyOCwyNTYsSyksbmV3IE0oMzIsMTI4LDI1OCwxMDI0LEspLG5ldyBNKDMyLDI1OCwyNTgsNDA5NixLKV0sYS5kZWZsYXRlSW5pdD1mdW5jdGlvbih0LGUpe3JldHVybiBHKHQsZSxwLDE1LDgsMCl9LGEuZGVmbGF0ZUluaXQyPUcsYS5kZWZsYXRlUmVzZXQ9cSxhLmRlZmxhdGVSZXNldEtlZXA9WSxhLmRlZmxhdGVTZXRIZWFkZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCYmdC5zdGF0ZT8yIT09dC5zdGF0ZS53cmFwP2c6KHQuc3RhdGUuZ3poZWFkPWUsYik6Z30sYS5kZWZsYXRlPWZ1bmN0aW9uKHQsZSl7dmFyIGEsaSxuLHI7aWYoIXR8fCF0LnN0YXRlfHw1PGV8fGU8MClyZXR1cm4gdD9OKHQsZyk6ZztpZihpPXQuc3RhdGUsIXQub3V0cHV0fHwhdC5pbnB1dCYmMCE9PXQuYXZhaWxfaW58fDY2Nj09PWkuc3RhdHVzJiZlIT09ZilyZXR1cm4gTih0LDA9PT10LmF2YWlsX291dD8tNTpnKTtpZihpLnN0cm09dCxhPWkubGFzdF9mbHVzaCxpLmxhc3RfZmx1c2g9ZSxpLnN0YXR1cz09PVMpaWYoMj09PWkud3JhcCl0LmFkbGVyPTAsVChpLDMxKSxUKGksMTM5KSxUKGksOCksaS5nemhlYWQ/KFQoaSwoaS5nemhlYWQudGV4dD8xOjApKyhpLmd6aGVhZC5oY3JjPzI6MCkrKGkuZ3poZWFkLmV4dHJhPzQ6MCkrKGkuZ3poZWFkLm5hbWU/ODowKSsoaS5nemhlYWQuY29tbWVudD8xNjowKSksVChpLDI1NSZpLmd6aGVhZC50aW1lKSxUKGksaS5nemhlYWQudGltZT4+OCYyNTUpLFQoaSxpLmd6aGVhZC50aW1lPj4xNiYyNTUpLFQoaSxpLmd6aGVhZC50aW1lPj4yNCYyNTUpLFQoaSw5PT09aS5sZXZlbD8yOjI8PWkuc3RyYXRlZ3l8fGkubGV2ZWw8Mj80OjApLFQoaSwyNTUmaS5nemhlYWQub3MpLGkuZ3poZWFkLmV4dHJhJiZpLmd6aGVhZC5leHRyYS5sZW5ndGgmJihUKGksMjU1JmkuZ3poZWFkLmV4dHJhLmxlbmd0aCksVChpLGkuZ3poZWFkLmV4dHJhLmxlbmd0aD4+OCYyNTUpKSxpLmd6aGVhZC5oY3JjJiYodC5hZGxlcj1jKHQuYWRsZXIsaS5wZW5kaW5nX2J1ZixpLnBlbmRpbmcsMCkpLGkuZ3ppbmRleD0wLGkuc3RhdHVzPTY5KTooVChpLDApLFQoaSwwKSxUKGksMCksVChpLDApLFQoaSwwKSxUKGksOT09PWkubGV2ZWw/MjoyPD1pLnN0cmF0ZWd5fHxpLmxldmVsPDI/NDowKSxUKGksMyksaS5zdGF0dXM9RSk7ZWxzZXt2YXIgcz1wKyhpLndfYml0cy04PDw0KTw8ODtzfD0oMjw9aS5zdHJhdGVneXx8aS5sZXZlbDwyPzA6aS5sZXZlbDw2PzE6Nj09PWkubGV2ZWw/MjozKTw8NiwwIT09aS5zdHJzdGFydCYmKHN8PTMyKSxzKz0zMS1zJTMxLGkuc3RhdHVzPUUsRihpLHMpLDAhPT1pLnN0cnN0YXJ0JiYoRihpLHQuYWRsZXI+Pj4xNiksRihpLDY1NTM1JnQuYWRsZXIpKSx0LmFkbGVyPTF9aWYoNjk9PT1pLnN0YXR1cylpZihpLmd6aGVhZC5leHRyYSl7Zm9yKG49aS5wZW5kaW5nO2kuZ3ppbmRleDwoNjU1MzUmaS5nemhlYWQuZXh0cmEubGVuZ3RoKSYmKGkucGVuZGluZyE9PWkucGVuZGluZ19idWZfc2l6ZXx8KGkuZ3poZWFkLmhjcmMmJmkucGVuZGluZz5uJiYodC5hZGxlcj1jKHQuYWRsZXIsaS5wZW5kaW5nX2J1ZixpLnBlbmRpbmctbixuKSksSSh0KSxuPWkucGVuZGluZyxpLnBlbmRpbmchPT1pLnBlbmRpbmdfYnVmX3NpemUpKTspVChpLDI1NSZpLmd6aGVhZC5leHRyYVtpLmd6aW5kZXhdKSxpLmd6aW5kZXgrKztpLmd6aGVhZC5oY3JjJiZpLnBlbmRpbmc+biYmKHQuYWRsZXI9Yyh0LmFkbGVyLGkucGVuZGluZ19idWYsaS5wZW5kaW5nLW4sbikpLGkuZ3ppbmRleD09PWkuZ3poZWFkLmV4dHJhLmxlbmd0aCYmKGkuZ3ppbmRleD0wLGkuc3RhdHVzPTczKX1lbHNlIGkuc3RhdHVzPTczO2lmKDczPT09aS5zdGF0dXMpaWYoaS5nemhlYWQubmFtZSl7bj1pLnBlbmRpbmc7ZG97aWYoaS5wZW5kaW5nPT09aS5wZW5kaW5nX2J1Zl9zaXplJiYoaS5nemhlYWQuaGNyYyYmaS5wZW5kaW5nPm4mJih0LmFkbGVyPWModC5hZGxlcixpLnBlbmRpbmdfYnVmLGkucGVuZGluZy1uLG4pKSxJKHQpLG49aS5wZW5kaW5nLGkucGVuZGluZz09PWkucGVuZGluZ19idWZfc2l6ZSkpe3I9MTticmVha31UKGkscj1pLmd6aW5kZXg8aS5nemhlYWQubmFtZS5sZW5ndGg/MjU1JmkuZ3poZWFkLm5hbWUuY2hhckNvZGVBdChpLmd6aW5kZXgrKyk6MCl9d2hpbGUoMCE9PXIpO2kuZ3poZWFkLmhjcmMmJmkucGVuZGluZz5uJiYodC5hZGxlcj1jKHQuYWRsZXIsaS5wZW5kaW5nX2J1ZixpLnBlbmRpbmctbixuKSksMD09PXImJihpLmd6aW5kZXg9MCxpLnN0YXR1cz05MSl9ZWxzZSBpLnN0YXR1cz05MTtpZig5MT09PWkuc3RhdHVzKWlmKGkuZ3poZWFkLmNvbW1lbnQpe249aS5wZW5kaW5nO2Rve2lmKGkucGVuZGluZz09PWkucGVuZGluZ19idWZfc2l6ZSYmKGkuZ3poZWFkLmhjcmMmJmkucGVuZGluZz5uJiYodC5hZGxlcj1jKHQuYWRsZXIsaS5wZW5kaW5nX2J1ZixpLnBlbmRpbmctbixuKSksSSh0KSxuPWkucGVuZGluZyxpLnBlbmRpbmc9PT1pLnBlbmRpbmdfYnVmX3NpemUpKXtyPTE7YnJlYWt9VChpLHI9aS5nemluZGV4PGkuZ3poZWFkLmNvbW1lbnQubGVuZ3RoPzI1NSZpLmd6aGVhZC5jb21tZW50LmNoYXJDb2RlQXQoaS5nemluZGV4KyspOjApfXdoaWxlKDAhPT1yKTtpLmd6aGVhZC5oY3JjJiZpLnBlbmRpbmc+biYmKHQuYWRsZXI9Yyh0LmFkbGVyLGkucGVuZGluZ19idWYsaS5wZW5kaW5nLW4sbikpLDA9PT1yJiYoaS5zdGF0dXM9MTAzKX1lbHNlIGkuc3RhdHVzPTEwMztpZigxMDM9PT1pLnN0YXR1cyYmKGkuZ3poZWFkLmhjcmM/KGkucGVuZGluZysyPmkucGVuZGluZ19idWZfc2l6ZSYmSSh0KSxpLnBlbmRpbmcrMjw9aS5wZW5kaW5nX2J1Zl9zaXplJiYoVChpLDI1NSZ0LmFkbGVyKSxUKGksdC5hZGxlcj4+OCYyNTUpLHQuYWRsZXI9MCxpLnN0YXR1cz1FKSk6aS5zdGF0dXM9RSksMCE9PWkucGVuZGluZyl7aWYoSSh0KSwwPT09dC5hdmFpbF9vdXQpcmV0dXJuIGkubGFzdF9mbHVzaD0tMSxifWVsc2UgaWYoMD09PXQuYXZhaWxfaW4mJk8oZSk8PU8oYSkmJmUhPT1mKXJldHVybiBOKHQsLTUpO2lmKDY2Nj09PWkuc3RhdHVzJiYwIT09dC5hdmFpbF9pbilyZXR1cm4gTih0LC01KTtpZigwIT09dC5hdmFpbF9pbnx8MCE9PWkubG9va2FoZWFkfHxlIT09ZCYmNjY2IT09aS5zdGF0dXMpe3ZhciBvPTI9PT1pLnN0cmF0ZWd5P2Z1bmN0aW9uKHQsZSl7Zm9yKHZhciBhOzspe2lmKDA9PT10Lmxvb2thaGVhZCYmKEgodCksMD09PXQubG9va2FoZWFkKSl7aWYoZT09PWQpcmV0dXJuIEE7YnJlYWt9aWYodC5tYXRjaF9sZW5ndGg9MCxhPWguX3RyX3RhbGx5KHQsMCx0LndpbmRvd1t0LnN0cnN0YXJ0XSksdC5sb29rYWhlYWQtLSx0LnN0cnN0YXJ0KyssYSYmKFUodCwhMSksMD09PXQuc3RybS5hdmFpbF9vdXQpKXJldHVybiBBfXJldHVybiB0Lmluc2VydD0wLGU9PT1mPyhVKHQsITApLDA9PT10LnN0cm0uYXZhaWxfb3V0P1I6Qyk6dC5sYXN0X2xpdCYmKFUodCwhMSksMD09PXQuc3RybS5hdmFpbF9vdXQpP0E6Wn0oaSxlKTozPT09aS5zdHJhdGVneT9mdW5jdGlvbih0LGUpe2Zvcih2YXIgYSxpLG4scixzPXQud2luZG93Ozspe2lmKHQubG9va2FoZWFkPD16KXtpZihIKHQpLHQubG9va2FoZWFkPD16JiZlPT09ZClyZXR1cm4gQTtpZigwPT09dC5sb29rYWhlYWQpYnJlYWt9aWYodC5tYXRjaF9sZW5ndGg9MCx0Lmxvb2thaGVhZD49eCYmMDx0LnN0cnN0YXJ0JiYoaT1zW249dC5zdHJzdGFydC0xXSk9PT1zWysrbl0mJmk9PT1zWysrbl0mJmk9PT1zWysrbl0pe3I9dC5zdHJzdGFydCt6O2Rve313aGlsZShpPT09c1srK25dJiZpPT09c1srK25dJiZpPT09c1srK25dJiZpPT09c1srK25dJiZpPT09c1srK25dJiZpPT09c1srK25dJiZpPT09c1srK25dJiZpPT09c1srK25dJiZuPHIpO3QubWF0Y2hfbGVuZ3RoPXotKHItbiksdC5tYXRjaF9sZW5ndGg+dC5sb29rYWhlYWQmJih0Lm1hdGNoX2xlbmd0aD10Lmxvb2thaGVhZCl9aWYodC5tYXRjaF9sZW5ndGg+PXg/KGE9aC5fdHJfdGFsbHkodCwxLHQubWF0Y2hfbGVuZ3RoLXgpLHQubG9va2FoZWFkLT10Lm1hdGNoX2xlbmd0aCx0LnN0cnN0YXJ0Kz10Lm1hdGNoX2xlbmd0aCx0Lm1hdGNoX2xlbmd0aD0wKTooYT1oLl90cl90YWxseSh0LDAsdC53aW5kb3dbdC5zdHJzdGFydF0pLHQubG9va2FoZWFkLS0sdC5zdHJzdGFydCsrKSxhJiYoVSh0LCExKSwwPT09dC5zdHJtLmF2YWlsX291dCkpcmV0dXJuIEF9cmV0dXJuIHQuaW5zZXJ0PTAsZT09PWY/KFUodCwhMCksMD09PXQuc3RybS5hdmFpbF9vdXQ/UjpDKTp0Lmxhc3RfbGl0JiYoVSh0LCExKSwwPT09dC5zdHJtLmF2YWlsX291dCk/QTpafShpLGUpOmxbaS5sZXZlbF0uZnVuYyhpLGUpO2lmKG8hPT1SJiZvIT09Q3x8KGkuc3RhdHVzPTY2Niksbz09PUF8fG89PT1SKXJldHVybiAwPT09dC5hdmFpbF9vdXQmJihpLmxhc3RfZmx1c2g9LTEpLGI7aWYobz09PVomJigxPT09ZT9oLl90cl9hbGlnbihpKTo1IT09ZSYmKGguX3RyX3N0b3JlZF9ibG9jayhpLDAsMCwhMSksMz09PWUmJihEKGkuaGVhZCksMD09PWkubG9va2FoZWFkJiYoaS5zdHJzdGFydD0wLGkuYmxvY2tfc3RhcnQ9MCxpLmluc2VydD0wKSkpLEkodCksMD09PXQuYXZhaWxfb3V0KSlyZXR1cm4gaS5sYXN0X2ZsdXNoPS0xLGJ9cmV0dXJuIGUhPT1mP2I6aS53cmFwPD0wPzE6KDI9PT1pLndyYXA/KFQoaSwyNTUmdC5hZGxlciksVChpLHQuYWRsZXI+PjgmMjU1KSxUKGksdC5hZGxlcj4+MTYmMjU1KSxUKGksdC5hZGxlcj4+MjQmMjU1KSxUKGksMjU1JnQudG90YWxfaW4pLFQoaSx0LnRvdGFsX2luPj44JjI1NSksVChpLHQudG90YWxfaW4+PjE2JjI1NSksVChpLHQudG90YWxfaW4+PjI0JjI1NSkpOihGKGksdC5hZGxlcj4+PjE2KSxGKGksNjU1MzUmdC5hZGxlcikpLEkodCksMDxpLndyYXAmJihpLndyYXA9LWkud3JhcCksMCE9PWkucGVuZGluZz9iOjEpfSxhLmRlZmxhdGVFbmQ9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIHQmJnQuc3RhdGU/KGU9dC5zdGF0ZS5zdGF0dXMpIT09UyYmNjkhPT1lJiY3MyE9PWUmJjkxIT09ZSYmMTAzIT09ZSYmZSE9PUUmJjY2NiE9PWU/Tih0LGcpOih0LnN0YXRlPW51bGwsZT09PUU/Tih0LC0zKTpiKTpnfSxhLmRlZmxhdGVTZXREaWN0aW9uYXJ5PWZ1bmN0aW9uKHQsZSl7dmFyIGEsaSxuLHIscyxvLGwsaCxkPWUubGVuZ3RoO2lmKCF0fHwhdC5zdGF0ZSlyZXR1cm4gZztpZigyPT09KHI9KGE9dC5zdGF0ZSkud3JhcCl8fDE9PT1yJiZhLnN0YXR1cyE9PVN8fGEubG9va2FoZWFkKXJldHVybiBnO2ZvcigxPT09ciYmKHQuYWRsZXI9dSh0LmFkbGVyLGUsZCwwKSksYS53cmFwPTAsZD49YS53X3NpemUmJigwPT09ciYmKEQoYS5oZWFkKSxhLnN0cnN0YXJ0PTAsYS5ibG9ja19zdGFydD0wLGEuaW5zZXJ0PTApLGg9bmV3IF8uQnVmOChhLndfc2l6ZSksXy5hcnJheVNldChoLGUsZC1hLndfc2l6ZSxhLndfc2l6ZSwwKSxlPWgsZD1hLndfc2l6ZSkscz10LmF2YWlsX2luLG89dC5uZXh0X2luLGw9dC5pbnB1dCx0LmF2YWlsX2luPWQsdC5uZXh0X2luPTAsdC5pbnB1dD1lLEgoYSk7YS5sb29rYWhlYWQ+PXg7KXtmb3IoaT1hLnN0cnN0YXJ0LG49YS5sb29rYWhlYWQtKHgtMSk7YS5pbnNfaD0oYS5pbnNfaDw8YS5oYXNoX3NoaWZ0XmEud2luZG93W2kreC0xXSkmYS5oYXNoX21hc2ssYS5wcmV2W2kmYS53X21hc2tdPWEuaGVhZFthLmluc19oXSxhLmhlYWRbYS5pbnNfaF09aSxpKyssLS1uOyk7YS5zdHJzdGFydD1pLGEubG9va2FoZWFkPXgtMSxIKGEpfXJldHVybiBhLnN0cnN0YXJ0Kz1hLmxvb2thaGVhZCxhLmJsb2NrX3N0YXJ0PWEuc3Ryc3RhcnQsYS5pbnNlcnQ9YS5sb29rYWhlYWQsYS5sb29rYWhlYWQ9MCxhLm1hdGNoX2xlbmd0aD1hLnByZXZfbGVuZ3RoPXgtMSxhLm1hdGNoX2F2YWlsYWJsZT0wLHQubmV4dF9pbj1vLHQuaW5wdXQ9bCx0LmF2YWlsX2luPXMsYS53cmFwPXIsYn0sYS5kZWZsYXRlSW5mbz0icGFrbyBkZWZsYXRlIChmcm9tIE5vZGVjYSBwcm9qZWN0KSJ9LHsiLi4vdXRpbHMvY29tbW9uIjozLCIuL2FkbGVyMzIiOjUsIi4vY3JjMzIiOjcsIi4vbWVzc2FnZXMiOjEzLCIuL3RyZWVzIjoxNH1dLDk6W2Z1bmN0aW9uKHQsZSxhKXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7dGhpcy50ZXh0PTAsdGhpcy50aW1lPTAsdGhpcy54ZmxhZ3M9MCx0aGlzLm9zPTAsdGhpcy5leHRyYT1udWxsLHRoaXMuZXh0cmFfbGVuPTAsdGhpcy5uYW1lPSIiLHRoaXMuY29tbWVudD0iIix0aGlzLmhjcmM9MCx0aGlzLmRvbmU9ITF9fSx7fV0sMTA6W2Z1bmN0aW9uKHQsZSxhKXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIGEsaSxuLHIscyxvLGwsaCxkLGYsXyx1LGMsYixnLG0sdyxwLHYsayx5LHgseixCLFM7YT10LnN0YXRlLGk9dC5uZXh0X2luLEI9dC5pbnB1dCxuPWkrKHQuYXZhaWxfaW4tNSkscj10Lm5leHRfb3V0LFM9dC5vdXRwdXQscz1yLShlLXQuYXZhaWxfb3V0KSxvPXIrKHQuYXZhaWxfb3V0LTI1NyksbD1hLmRtYXgsaD1hLndzaXplLGQ9YS53aGF2ZSxmPWEud25leHQsXz1hLndpbmRvdyx1PWEuaG9sZCxjPWEuYml0cyxiPWEubGVuY29kZSxnPWEuZGlzdGNvZGUsbT0oMTw8YS5sZW5iaXRzKS0xLHc9KDE8PGEuZGlzdGJpdHMpLTE7dDpkb3tjPDE1JiYodSs9QltpKytdPDxjLGMrPTgsdSs9QltpKytdPDxjLGMrPTgpLHA9Ylt1Jm1dO2U6Zm9yKDs7KXtpZih1Pj4+PXY9cD4+PjI0LGMtPXYsMD09PSh2PXA+Pj4xNiYyNTUpKVNbcisrXT02NTUzNSZwO2Vsc2V7aWYoISgxNiZ2KSl7aWYoMD09KDY0JnYpKXtwPWJbKDY1NTM1JnApKyh1JigxPDx2KS0xKV07Y29udGludWUgZX1pZigzMiZ2KXthLm1vZGU9MTI7YnJlYWsgdH10Lm1zZz0iaW52YWxpZCBsaXRlcmFsL2xlbmd0aCBjb2RlIixhLm1vZGU9MzA7YnJlYWsgdH1rPTY1NTM1JnAsKHYmPTE1KSYmKGM8diYmKHUrPUJbaSsrXTw8YyxjKz04KSxrKz11JigxPDx2KS0xLHU+Pj49dixjLT12KSxjPDE1JiYodSs9QltpKytdPDxjLGMrPTgsdSs9QltpKytdPDxjLGMrPTgpLHA9Z1t1JnddO2E6Zm9yKDs7KXtpZih1Pj4+PXY9cD4+PjI0LGMtPXYsISgxNiYodj1wPj4+MTYmMjU1KSkpe2lmKDA9PSg2NCZ2KSl7cD1nWyg2NTUzNSZwKSsodSYoMTw8diktMSldO2NvbnRpbnVlIGF9dC5tc2c9ImludmFsaWQgZGlzdGFuY2UgY29kZSIsYS5tb2RlPTMwO2JyZWFrIHR9aWYoeT02NTUzNSZwLGM8KHYmPTE1KSYmKHUrPUJbaSsrXTw8YywoYys9OCk8diYmKHUrPUJbaSsrXTw8YyxjKz04KSksbDwoeSs9dSYoMTw8diktMSkpe3QubXNnPSJpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFjayIsYS5tb2RlPTMwO2JyZWFrIHR9aWYodT4+Pj12LGMtPXYsKHY9ci1zKTx5KXtpZihkPCh2PXktdikmJmEuc2FuZSl7dC5tc2c9ImludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrIixhLm1vZGU9MzA7YnJlYWsgdH1pZih6PV8sKHg9MCk9PT1mKXtpZih4Kz1oLXYsdjxrKXtmb3Ioay09djtTW3IrK109X1t4KytdLC0tdjspO3g9ci15LHo9U319ZWxzZSBpZihmPHYpe2lmKHgrPWgrZi12LCh2LT1mKTxrKXtmb3Ioay09djtTW3IrK109X1t4KytdLC0tdjspO2lmKHg9MCxmPGspe2ZvcihrLT12PWY7U1tyKytdPV9beCsrXSwtLXY7KTt4PXIteSx6PVN9fX1lbHNlIGlmKHgrPWYtdix2PGspe2ZvcihrLT12O1NbcisrXT1fW3grK10sLS12Oyk7eD1yLXksej1TfWZvcig7MjxrOylTW3IrK109elt4KytdLFNbcisrXT16W3grK10sU1tyKytdPXpbeCsrXSxrLT0zO2smJihTW3IrK109elt4KytdLDE8ayYmKFNbcisrXT16W3grK10pKX1lbHNle2Zvcih4PXIteTtTW3IrK109U1t4KytdLFNbcisrXT1TW3grK10sU1tyKytdPVNbeCsrXSwyPChrLT0zKTspO2smJihTW3IrK109U1t4KytdLDE8ayYmKFNbcisrXT1TW3grK10pKX1icmVha319YnJlYWt9fXdoaWxlKGk8biYmcjxvKTtpLT1rPWM+PjMsdSY9KDE8PChjLT1rPDwzKSktMSx0Lm5leHRfaW49aSx0Lm5leHRfb3V0PXIsdC5hdmFpbF9pbj1pPG4/bi1pKzU6NS0oaS1uKSx0LmF2YWlsX291dD1yPG8/by1yKzI1NzoyNTctKHItbyksYS5ob2xkPXUsYS5iaXRzPWN9fSx7fV0sMTE6W2Z1bmN0aW9uKHQsZSxhKXsidXNlIHN0cmljdCI7dmFyIFo9dCgiLi4vdXRpbHMvY29tbW9uIiksUj10KCIuL2FkbGVyMzIiKSxDPXQoIi4vY3JjMzIiKSxOPXQoIi4vaW5mZmFzdCIpLE89dCgiLi9pbmZ0cmVlcyIpLEQ9MSxJPTIsVT0wLFQ9LTIsRj0xLGk9ODUyLG49NTkyO2Z1bmN0aW9uIEwodCl7cmV0dXJuKHQ+Pj4yNCYyNTUpKyh0Pj4+OCY2NTI4MCkrKCg2NTI4MCZ0KTw8OCkrKCgyNTUmdCk8PDI0KX1mdW5jdGlvbiByKCl7dGhpcy5tb2RlPTAsdGhpcy5sYXN0PSExLHRoaXMud3JhcD0wLHRoaXMuaGF2ZWRpY3Q9ITEsdGhpcy5mbGFncz0wLHRoaXMuZG1heD0wLHRoaXMuY2hlY2s9MCx0aGlzLnRvdGFsPTAsdGhpcy5oZWFkPW51bGwsdGhpcy53Yml0cz0wLHRoaXMud3NpemU9MCx0aGlzLndoYXZlPTAsdGhpcy53bmV4dD0wLHRoaXMud2luZG93PW51bGwsdGhpcy5ob2xkPTAsdGhpcy5iaXRzPTAsdGhpcy5sZW5ndGg9MCx0aGlzLm9mZnNldD0wLHRoaXMuZXh0cmE9MCx0aGlzLmxlbmNvZGU9bnVsbCx0aGlzLmRpc3Rjb2RlPW51bGwsdGhpcy5sZW5iaXRzPTAsdGhpcy5kaXN0Yml0cz0wLHRoaXMubmNvZGU9MCx0aGlzLm5sZW49MCx0aGlzLm5kaXN0PTAsdGhpcy5oYXZlPTAsdGhpcy5uZXh0PW51bGwsdGhpcy5sZW5zPW5ldyBaLkJ1ZjE2KDMyMCksdGhpcy53b3JrPW5ldyBaLkJ1ZjE2KDI4OCksdGhpcy5sZW5keW49bnVsbCx0aGlzLmRpc3RkeW49bnVsbCx0aGlzLnNhbmU9MCx0aGlzLmJhY2s9MCx0aGlzLndhcz0wfWZ1bmN0aW9uIHModCl7dmFyIGU7cmV0dXJuIHQmJnQuc3RhdGU/KGU9dC5zdGF0ZSx0LnRvdGFsX2luPXQudG90YWxfb3V0PWUudG90YWw9MCx0Lm1zZz0iIixlLndyYXAmJih0LmFkbGVyPTEmZS53cmFwKSxlLm1vZGU9RixlLmxhc3Q9MCxlLmhhdmVkaWN0PTAsZS5kbWF4PTMyNzY4LGUuaGVhZD1udWxsLGUuaG9sZD0wLGUuYml0cz0wLGUubGVuY29kZT1lLmxlbmR5bj1uZXcgWi5CdWYzMihpKSxlLmRpc3Rjb2RlPWUuZGlzdGR5bj1uZXcgWi5CdWYzMihuKSxlLnNhbmU9MSxlLmJhY2s9LTEsVSk6VH1mdW5jdGlvbiBvKHQpe3ZhciBlO3JldHVybiB0JiZ0LnN0YXRlPygoZT10LnN0YXRlKS53c2l6ZT0wLGUud2hhdmU9MCxlLnduZXh0PTAscyh0KSk6VH1mdW5jdGlvbiBsKHQsZSl7dmFyIGEsaTtyZXR1cm4gdCYmdC5zdGF0ZT8oaT10LnN0YXRlLGU8MD8oYT0wLGU9LWUpOihhPTErKGU+PjQpLGU8NDgmJihlJj0xNSkpLGUmJihlPDh8fDE1PGUpP1Q6KG51bGwhPT1pLndpbmRvdyYmaS53Yml0cyE9PWUmJihpLndpbmRvdz1udWxsKSxpLndyYXA9YSxpLndiaXRzPWUsbyh0KSkpOlR9ZnVuY3Rpb24gaCh0LGUpe3ZhciBhLGk7cmV0dXJuIHQ/KGk9bmV3IHIsKHQuc3RhdGU9aSkud2luZG93PW51bGwsKGE9bCh0LGUpKSE9PVUmJih0LnN0YXRlPW51bGwpLGEpOlR9dmFyIGQsZixfPSEwO2Z1bmN0aW9uIEgodCl7aWYoXyl7dmFyIGU7Zm9yKGQ9bmV3IFouQnVmMzIoNTEyKSxmPW5ldyBaLkJ1ZjMyKDMyKSxlPTA7ZTwxNDQ7KXQubGVuc1tlKytdPTg7Zm9yKDtlPDI1NjspdC5sZW5zW2UrK109OTtmb3IoO2U8MjgwOyl0LmxlbnNbZSsrXT03O2Zvcig7ZTwyODg7KXQubGVuc1tlKytdPTg7Zm9yKE8oRCx0LmxlbnMsMCwyODgsZCwwLHQud29yayx7Yml0czo5fSksZT0wO2U8MzI7KXQubGVuc1tlKytdPTU7TyhJLHQubGVucywwLDMyLGYsMCx0Lndvcmsse2JpdHM6NX0pLF89ITF9dC5sZW5jb2RlPWQsdC5sZW5iaXRzPTksdC5kaXN0Y29kZT1mLHQuZGlzdGJpdHM9NX1mdW5jdGlvbiBqKHQsZSxhLGkpe3ZhciBuLHI9dC5zdGF0ZTtyZXR1cm4gbnVsbD09PXIud2luZG93JiYoci53c2l6ZT0xPDxyLndiaXRzLHIud25leHQ9MCxyLndoYXZlPTAsci53aW5kb3c9bmV3IFouQnVmOChyLndzaXplKSksaT49ci53c2l6ZT8oWi5hcnJheVNldChyLndpbmRvdyxlLGEtci53c2l6ZSxyLndzaXplLDApLHIud25leHQ9MCxyLndoYXZlPXIud3NpemUpOihpPChuPXIud3NpemUtci53bmV4dCkmJihuPWkpLFouYXJyYXlTZXQoci53aW5kb3csZSxhLWksbixyLnduZXh0KSwoaS09bik/KFouYXJyYXlTZXQoci53aW5kb3csZSxhLWksaSwwKSxyLnduZXh0PWksci53aGF2ZT1yLndzaXplKTooci53bmV4dCs9bixyLnduZXh0PT09ci53c2l6ZSYmKHIud25leHQ9MCksci53aGF2ZTxyLndzaXplJiYoci53aGF2ZSs9bikpKSwwfWEuaW5mbGF0ZVJlc2V0PW8sYS5pbmZsYXRlUmVzZXQyPWwsYS5pbmZsYXRlUmVzZXRLZWVwPXMsYS5pbmZsYXRlSW5pdD1mdW5jdGlvbih0KXtyZXR1cm4gaCh0LDE1KX0sYS5pbmZsYXRlSW5pdDI9aCxhLmluZmxhdGU9ZnVuY3Rpb24odCxlKXt2YXIgYSxpLG4scixzLG8sbCxoLGQsZixfLHUsYyxiLGcsbSx3LHAsdixrLHkseCx6LEIsUz0wLEU9bmV3IFouQnVmOCg0KSxBPVsxNiwxNywxOCwwLDgsNyw5LDYsMTAsNSwxMSw0LDEyLDMsMTMsMiwxNCwxLDE1XTtpZighdHx8IXQuc3RhdGV8fCF0Lm91dHB1dHx8IXQuaW5wdXQmJjAhPT10LmF2YWlsX2luKXJldHVybiBUOzEyPT09KGE9dC5zdGF0ZSkubW9kZSYmKGEubW9kZT0xMykscz10Lm5leHRfb3V0LG49dC5vdXRwdXQsbD10LmF2YWlsX291dCxyPXQubmV4dF9pbixpPXQuaW5wdXQsbz10LmF2YWlsX2luLGg9YS5ob2xkLGQ9YS5iaXRzLGY9byxfPWwseD1VO3Q6Zm9yKDs7KXN3aXRjaChhLm1vZGUpe2Nhc2UgRjppZigwPT09YS53cmFwKXthLm1vZGU9MTM7YnJlYWt9Zm9yKDtkPDE2Oyl7aWYoMD09PW8pYnJlYWsgdDtvLS0saCs9aVtyKytdPDxkLGQrPTh9aWYoMiZhLndyYXAmJjM1NjE1PT09aCl7RVthLmNoZWNrPTBdPTI1NSZoLEVbMV09aD4+PjgmMjU1LGEuY2hlY2s9QyhhLmNoZWNrLEUsMiwwKSxkPWg9MCxhLm1vZGU9MjticmVha31pZihhLmZsYWdzPTAsYS5oZWFkJiYoYS5oZWFkLmRvbmU9ITEpLCEoMSZhLndyYXApfHwoKCgyNTUmaCk8PDgpKyhoPj44KSklMzEpe3QubXNnPSJpbmNvcnJlY3QgaGVhZGVyIGNoZWNrIixhLm1vZGU9MzA7YnJlYWt9aWYoOCE9KDE1JmgpKXt0Lm1zZz0idW5rbm93biBjb21wcmVzc2lvbiBtZXRob2QiLGEubW9kZT0zMDticmVha31pZihkLT00LHk9OCsoMTUmKGg+Pj49NCkpLDA9PT1hLndiaXRzKWEud2JpdHM9eTtlbHNlIGlmKHk+YS53Yml0cyl7dC5tc2c9ImludmFsaWQgd2luZG93IHNpemUiLGEubW9kZT0zMDticmVha31hLmRtYXg9MTw8eSx0LmFkbGVyPWEuY2hlY2s9MSxhLm1vZGU9NTEyJmg/MTA6MTIsZD1oPTA7YnJlYWs7Y2FzZSAyOmZvcig7ZDwxNjspe2lmKDA9PT1vKWJyZWFrIHQ7by0tLGgrPWlbcisrXTw8ZCxkKz04fWlmKGEuZmxhZ3M9aCw4IT0oMjU1JmEuZmxhZ3MpKXt0Lm1zZz0idW5rbm93biBjb21wcmVzc2lvbiBtZXRob2QiLGEubW9kZT0zMDticmVha31pZig1NzM0NCZhLmZsYWdzKXt0Lm1zZz0idW5rbm93biBoZWFkZXIgZmxhZ3Mgc2V0IixhLm1vZGU9MzA7YnJlYWt9YS5oZWFkJiYoYS5oZWFkLnRleHQ9aD4+OCYxKSw1MTImYS5mbGFncyYmKEVbMF09MjU1JmgsRVsxXT1oPj4+OCYyNTUsYS5jaGVjaz1DKGEuY2hlY2ssRSwyLDApKSxkPWg9MCxhLm1vZGU9MztjYXNlIDM6Zm9yKDtkPDMyOyl7aWYoMD09PW8pYnJlYWsgdDtvLS0saCs9aVtyKytdPDxkLGQrPTh9YS5oZWFkJiYoYS5oZWFkLnRpbWU9aCksNTEyJmEuZmxhZ3MmJihFWzBdPTI1NSZoLEVbMV09aD4+PjgmMjU1LEVbMl09aD4+PjE2JjI1NSxFWzNdPWg+Pj4yNCYyNTUsYS5jaGVjaz1DKGEuY2hlY2ssRSw0LDApKSxkPWg9MCxhLm1vZGU9NDtjYXNlIDQ6Zm9yKDtkPDE2Oyl7aWYoMD09PW8pYnJlYWsgdDtvLS0saCs9aVtyKytdPDxkLGQrPTh9YS5oZWFkJiYoYS5oZWFkLnhmbGFncz0yNTUmaCxhLmhlYWQub3M9aD4+OCksNTEyJmEuZmxhZ3MmJihFWzBdPTI1NSZoLEVbMV09aD4+PjgmMjU1LGEuY2hlY2s9QyhhLmNoZWNrLEUsMiwwKSksZD1oPTAsYS5tb2RlPTU7Y2FzZSA1OmlmKDEwMjQmYS5mbGFncyl7Zm9yKDtkPDE2Oyl7aWYoMD09PW8pYnJlYWsgdDtvLS0saCs9aVtyKytdPDxkLGQrPTh9YS5sZW5ndGg9aCxhLmhlYWQmJihhLmhlYWQuZXh0cmFfbGVuPWgpLDUxMiZhLmZsYWdzJiYoRVswXT0yNTUmaCxFWzFdPWg+Pj44JjI1NSxhLmNoZWNrPUMoYS5jaGVjayxFLDIsMCkpLGQ9aD0wfWVsc2UgYS5oZWFkJiYoYS5oZWFkLmV4dHJhPW51bGwpO2EubW9kZT02O2Nhc2UgNjppZigxMDI0JmEuZmxhZ3MmJihvPCh1PWEubGVuZ3RoKSYmKHU9byksdSYmKGEuaGVhZCYmKHk9YS5oZWFkLmV4dHJhX2xlbi1hLmxlbmd0aCxhLmhlYWQuZXh0cmF8fChhLmhlYWQuZXh0cmE9bmV3IEFycmF5KGEuaGVhZC5leHRyYV9sZW4pKSxaLmFycmF5U2V0KGEuaGVhZC5leHRyYSxpLHIsdSx5KSksNTEyJmEuZmxhZ3MmJihhLmNoZWNrPUMoYS5jaGVjayxpLHUscikpLG8tPXUscis9dSxhLmxlbmd0aC09dSksYS5sZW5ndGgpKWJyZWFrIHQ7YS5sZW5ndGg9MCxhLm1vZGU9NztjYXNlIDc6aWYoMjA0OCZhLmZsYWdzKXtpZigwPT09bylicmVhayB0O2Zvcih1PTA7eT1pW3IrdSsrXSxhLmhlYWQmJnkmJmEubGVuZ3RoPDY1NTM2JiYoYS5oZWFkLm5hbWUrPVN0cmluZy5mcm9tQ2hhckNvZGUoeSkpLHkmJnU8bzspO2lmKDUxMiZhLmZsYWdzJiYoYS5jaGVjaz1DKGEuY2hlY2ssaSx1LHIpKSxvLT11LHIrPXUseSlicmVhayB0fWVsc2UgYS5oZWFkJiYoYS5oZWFkLm5hbWU9bnVsbCk7YS5sZW5ndGg9MCxhLm1vZGU9ODtjYXNlIDg6aWYoNDA5NiZhLmZsYWdzKXtpZigwPT09bylicmVhayB0O2Zvcih1PTA7eT1pW3IrdSsrXSxhLmhlYWQmJnkmJmEubGVuZ3RoPDY1NTM2JiYoYS5oZWFkLmNvbW1lbnQrPVN0cmluZy5mcm9tQ2hhckNvZGUoeSkpLHkmJnU8bzspO2lmKDUxMiZhLmZsYWdzJiYoYS5jaGVjaz1DKGEuY2hlY2ssaSx1LHIpKSxvLT11LHIrPXUseSlicmVhayB0fWVsc2UgYS5oZWFkJiYoYS5oZWFkLmNvbW1lbnQ9bnVsbCk7YS5tb2RlPTk7Y2FzZSA5OmlmKDUxMiZhLmZsYWdzKXtmb3IoO2Q8MTY7KXtpZigwPT09bylicmVhayB0O28tLSxoKz1pW3IrK108PGQsZCs9OH1pZihoIT09KDY1NTM1JmEuY2hlY2spKXt0Lm1zZz0iaGVhZGVyIGNyYyBtaXNtYXRjaCIsYS5tb2RlPTMwO2JyZWFrfWQ9aD0wfWEuaGVhZCYmKGEuaGVhZC5oY3JjPWEuZmxhZ3M+PjkmMSxhLmhlYWQuZG9uZT0hMCksdC5hZGxlcj1hLmNoZWNrPTAsYS5tb2RlPTEyO2JyZWFrO2Nhc2UgMTA6Zm9yKDtkPDMyOyl7aWYoMD09PW8pYnJlYWsgdDtvLS0saCs9aVtyKytdPDxkLGQrPTh9dC5hZGxlcj1hLmNoZWNrPUwoaCksZD1oPTAsYS5tb2RlPTExO2Nhc2UgMTE6aWYoMD09PWEuaGF2ZWRpY3QpcmV0dXJuIHQubmV4dF9vdXQ9cyx0LmF2YWlsX291dD1sLHQubmV4dF9pbj1yLHQuYXZhaWxfaW49byxhLmhvbGQ9aCxhLmJpdHM9ZCwyO3QuYWRsZXI9YS5jaGVjaz0xLGEubW9kZT0xMjtjYXNlIDEyOmlmKDU9PT1lfHw2PT09ZSlicmVhayB0O2Nhc2UgMTM6aWYoYS5sYXN0KXtoPj4+PTcmZCxkLT03JmQsYS5tb2RlPTI3O2JyZWFrfWZvcig7ZDwzOyl7aWYoMD09PW8pYnJlYWsgdDtvLS0saCs9aVtyKytdPDxkLGQrPTh9c3dpdGNoKGEubGFzdD0xJmgsZC09MSwzJihoPj4+PTEpKXtjYXNlIDA6YS5tb2RlPTE0O2JyZWFrO2Nhc2UgMTppZihIKGEpLGEubW9kZT0yMCw2IT09ZSlicmVhaztoPj4+PTIsZC09MjticmVhayB0O2Nhc2UgMjphLm1vZGU9MTc7YnJlYWs7Y2FzZSAzOnQubXNnPSJpbnZhbGlkIGJsb2NrIHR5cGUiLGEubW9kZT0zMH1oPj4+PTIsZC09MjticmVhaztjYXNlIDE0OmZvcihoPj4+PTcmZCxkLT03JmQ7ZDwzMjspe2lmKDA9PT1vKWJyZWFrIHQ7by0tLGgrPWlbcisrXTw8ZCxkKz04fWlmKCg2NTUzNSZoKSE9KGg+Pj4xNl42NTUzNSkpe3QubXNnPSJpbnZhbGlkIHN0b3JlZCBibG9jayBsZW5ndGhzIixhLm1vZGU9MzA7YnJlYWt9aWYoYS5sZW5ndGg9NjU1MzUmaCxkPWg9MCxhLm1vZGU9MTUsNj09PWUpYnJlYWsgdDtjYXNlIDE1OmEubW9kZT0xNjtjYXNlIDE2OmlmKHU9YS5sZW5ndGgpe2lmKG88dSYmKHU9byksbDx1JiYodT1sKSwwPT09dSlicmVhayB0O1ouYXJyYXlTZXQobixpLHIsdSxzKSxvLT11LHIrPXUsbC09dSxzKz11LGEubGVuZ3RoLT11O2JyZWFrfWEubW9kZT0xMjticmVhaztjYXNlIDE3OmZvcig7ZDwxNDspe2lmKDA9PT1vKWJyZWFrIHQ7by0tLGgrPWlbcisrXTw8ZCxkKz04fWlmKGEubmxlbj0yNTcrKDMxJmgpLGg+Pj49NSxkLT01LGEubmRpc3Q9MSsoMzEmaCksaD4+Pj01LGQtPTUsYS5uY29kZT00KygxNSZoKSxoPj4+PTQsZC09NCwyODY8YS5ubGVufHwzMDxhLm5kaXN0KXt0Lm1zZz0idG9vIG1hbnkgbGVuZ3RoIG9yIGRpc3RhbmNlIHN5bWJvbHMiLGEubW9kZT0zMDticmVha31hLmhhdmU9MCxhLm1vZGU9MTg7Y2FzZSAxODpmb3IoO2EuaGF2ZTxhLm5jb2RlOyl7Zm9yKDtkPDM7KXtpZigwPT09bylicmVhayB0O28tLSxoKz1pW3IrK108PGQsZCs9OH1hLmxlbnNbQVthLmhhdmUrK11dPTcmaCxoPj4+PTMsZC09M31mb3IoO2EuaGF2ZTwxOTspYS5sZW5zW0FbYS5oYXZlKytdXT0wO2lmKGEubGVuY29kZT1hLmxlbmR5bixhLmxlbmJpdHM9Nyx6PXtiaXRzOmEubGVuYml0c30seD1PKDAsYS5sZW5zLDAsMTksYS5sZW5jb2RlLDAsYS53b3JrLHopLGEubGVuYml0cz16LmJpdHMseCl7dC5tc2c9ImludmFsaWQgY29kZSBsZW5ndGhzIHNldCIsYS5tb2RlPTMwO2JyZWFrfWEuaGF2ZT0wLGEubW9kZT0xOTtjYXNlIDE5OmZvcig7YS5oYXZlPGEubmxlbithLm5kaXN0Oyl7Zm9yKDttPShTPWEubGVuY29kZVtoJigxPDxhLmxlbmJpdHMpLTFdKT4+PjE2JjI1NSx3PTY1NTM1JlMsISgoZz1TPj4+MjQpPD1kKTspe2lmKDA9PT1vKWJyZWFrIHQ7by0tLGgrPWlbcisrXTw8ZCxkKz04fWlmKHc8MTYpaD4+Pj1nLGQtPWcsYS5sZW5zW2EuaGF2ZSsrXT13O2Vsc2V7aWYoMTY9PT13KXtmb3IoQj1nKzI7ZDxCOyl7aWYoMD09PW8pYnJlYWsgdDtvLS0saCs9aVtyKytdPDxkLGQrPTh9aWYoaD4+Pj1nLGQtPWcsMD09PWEuaGF2ZSl7dC5tc2c9ImludmFsaWQgYml0IGxlbmd0aCByZXBlYXQiLGEubW9kZT0zMDticmVha315PWEubGVuc1thLmhhdmUtMV0sdT0zKygzJmgpLGg+Pj49MixkLT0yfWVsc2UgaWYoMTc9PT13KXtmb3IoQj1nKzM7ZDxCOyl7aWYoMD09PW8pYnJlYWsgdDtvLS0saCs9aVtyKytdPDxkLGQrPTh9ZC09Zyx5PTAsdT0zKyg3JihoPj4+PWcpKSxoPj4+PTMsZC09M31lbHNle2ZvcihCPWcrNztkPEI7KXtpZigwPT09bylicmVhayB0O28tLSxoKz1pW3IrK108PGQsZCs9OH1kLT1nLHk9MCx1PTExKygxMjcmKGg+Pj49ZykpLGg+Pj49NyxkLT03fWlmKGEuaGF2ZSt1PmEubmxlbithLm5kaXN0KXt0Lm1zZz0iaW52YWxpZCBiaXQgbGVuZ3RoIHJlcGVhdCIsYS5tb2RlPTMwO2JyZWFrfWZvcig7dS0tOylhLmxlbnNbYS5oYXZlKytdPXl9fWlmKDMwPT09YS5tb2RlKWJyZWFrO2lmKDA9PT1hLmxlbnNbMjU2XSl7dC5tc2c9ImludmFsaWQgY29kZSAtLSBtaXNzaW5nIGVuZC1vZi1ibG9jayIsYS5tb2RlPTMwO2JyZWFrfWlmKGEubGVuYml0cz05LHo9e2JpdHM6YS5sZW5iaXRzfSx4PU8oRCxhLmxlbnMsMCxhLm5sZW4sYS5sZW5jb2RlLDAsYS53b3JrLHopLGEubGVuYml0cz16LmJpdHMseCl7dC5tc2c9ImludmFsaWQgbGl0ZXJhbC9sZW5ndGhzIHNldCIsYS5tb2RlPTMwO2JyZWFrfWlmKGEuZGlzdGJpdHM9NixhLmRpc3Rjb2RlPWEuZGlzdGR5bix6PXtiaXRzOmEuZGlzdGJpdHN9LHg9TyhJLGEubGVucyxhLm5sZW4sYS5uZGlzdCxhLmRpc3Rjb2RlLDAsYS53b3JrLHopLGEuZGlzdGJpdHM9ei5iaXRzLHgpe3QubXNnPSJpbnZhbGlkIGRpc3RhbmNlcyBzZXQiLGEubW9kZT0zMDticmVha31pZihhLm1vZGU9MjAsNj09PWUpYnJlYWsgdDtjYXNlIDIwOmEubW9kZT0yMTtjYXNlIDIxOmlmKDY8PW8mJjI1ODw9bCl7dC5uZXh0X291dD1zLHQuYXZhaWxfb3V0PWwsdC5uZXh0X2luPXIsdC5hdmFpbF9pbj1vLGEuaG9sZD1oLGEuYml0cz1kLE4odCxfKSxzPXQubmV4dF9vdXQsbj10Lm91dHB1dCxsPXQuYXZhaWxfb3V0LHI9dC5uZXh0X2luLGk9dC5pbnB1dCxvPXQuYXZhaWxfaW4saD1hLmhvbGQsZD1hLmJpdHMsMTI9PT1hLm1vZGUmJihhLmJhY2s9LTEpO2JyZWFrfWZvcihhLmJhY2s9MDttPShTPWEubGVuY29kZVtoJigxPDxhLmxlbmJpdHMpLTFdKT4+PjE2JjI1NSx3PTY1NTM1JlMsISgoZz1TPj4+MjQpPD1kKTspe2lmKDA9PT1vKWJyZWFrIHQ7by0tLGgrPWlbcisrXTw8ZCxkKz04fWlmKG0mJjA9PSgyNDAmbSkpe2ZvcihwPWcsdj1tLGs9dzttPShTPWEubGVuY29kZVtrKygoaCYoMTw8cCt2KS0xKT4+cCldKT4+PjE2JjI1NSx3PTY1NTM1JlMsIShwKyhnPVM+Pj4yNCk8PWQpOyl7aWYoMD09PW8pYnJlYWsgdDtvLS0saCs9aVtyKytdPDxkLGQrPTh9aD4+Pj1wLGQtPXAsYS5iYWNrKz1wfWlmKGg+Pj49ZyxkLT1nLGEuYmFjays9ZyxhLmxlbmd0aD13LDA9PT1tKXthLm1vZGU9MjY7YnJlYWt9aWYoMzImbSl7YS5iYWNrPS0xLGEubW9kZT0xMjticmVha31pZig2NCZtKXt0Lm1zZz0iaW52YWxpZCBsaXRlcmFsL2xlbmd0aCBjb2RlIixhLm1vZGU9MzA7YnJlYWt9YS5leHRyYT0xNSZtLGEubW9kZT0yMjtjYXNlIDIyOmlmKGEuZXh0cmEpe2ZvcihCPWEuZXh0cmE7ZDxCOyl7aWYoMD09PW8pYnJlYWsgdDtvLS0saCs9aVtyKytdPDxkLGQrPTh9YS5sZW5ndGgrPWgmKDE8PGEuZXh0cmEpLTEsaD4+Pj1hLmV4dHJhLGQtPWEuZXh0cmEsYS5iYWNrKz1hLmV4dHJhfWEud2FzPWEubGVuZ3RoLGEubW9kZT0yMztjYXNlIDIzOmZvcig7bT0oUz1hLmRpc3Rjb2RlW2gmKDE8PGEuZGlzdGJpdHMpLTFdKT4+PjE2JjI1NSx3PTY1NTM1JlMsISgoZz1TPj4+MjQpPD1kKTspe2lmKDA9PT1vKWJyZWFrIHQ7by0tLGgrPWlbcisrXTw8ZCxkKz04fWlmKDA9PSgyNDAmbSkpe2ZvcihwPWcsdj1tLGs9dzttPShTPWEuZGlzdGNvZGVbaysoKGgmKDE8PHArdiktMSk+PnApXSk+Pj4xNiYyNTUsdz02NTUzNSZTLCEocCsoZz1TPj4+MjQpPD1kKTspe2lmKDA9PT1vKWJyZWFrIHQ7by0tLGgrPWlbcisrXTw8ZCxkKz04fWg+Pj49cCxkLT1wLGEuYmFjays9cH1pZihoPj4+PWcsZC09ZyxhLmJhY2srPWcsNjQmbSl7dC5tc2c9ImludmFsaWQgZGlzdGFuY2UgY29kZSIsYS5tb2RlPTMwO2JyZWFrfWEub2Zmc2V0PXcsYS5leHRyYT0xNSZtLGEubW9kZT0yNDtjYXNlIDI0OmlmKGEuZXh0cmEpe2ZvcihCPWEuZXh0cmE7ZDxCOyl7aWYoMD09PW8pYnJlYWsgdDtvLS0saCs9aVtyKytdPDxkLGQrPTh9YS5vZmZzZXQrPWgmKDE8PGEuZXh0cmEpLTEsaD4+Pj1hLmV4dHJhLGQtPWEuZXh0cmEsYS5iYWNrKz1hLmV4dHJhfWlmKGEub2Zmc2V0PmEuZG1heCl7dC5tc2c9ImludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrIixhLm1vZGU9MzA7YnJlYWt9YS5tb2RlPTI1O2Nhc2UgMjU6aWYoMD09PWwpYnJlYWsgdDtpZih1PV8tbCxhLm9mZnNldD51KXtpZigodT1hLm9mZnNldC11KT5hLndoYXZlJiZhLnNhbmUpe3QubXNnPSJpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFjayIsYS5tb2RlPTMwO2JyZWFrfXU+YS53bmV4dD8odS09YS53bmV4dCxjPWEud3NpemUtdSk6Yz1hLnduZXh0LXUsdT5hLmxlbmd0aCYmKHU9YS5sZW5ndGgpLGI9YS53aW5kb3d9ZWxzZSBiPW4sYz1zLWEub2Zmc2V0LHU9YS5sZW5ndGg7Zm9yKGw8dSYmKHU9bCksbC09dSxhLmxlbmd0aC09dTtuW3MrK109YltjKytdLC0tdTspOzA9PT1hLmxlbmd0aCYmKGEubW9kZT0yMSk7YnJlYWs7Y2FzZSAyNjppZigwPT09bClicmVhayB0O25bcysrXT1hLmxlbmd0aCxsLS0sYS5tb2RlPTIxO2JyZWFrO2Nhc2UgMjc6aWYoYS53cmFwKXtmb3IoO2Q8MzI7KXtpZigwPT09bylicmVhayB0O28tLSxofD1pW3IrK108PGQsZCs9OH1pZihfLT1sLHQudG90YWxfb3V0Kz1fLGEudG90YWwrPV8sXyYmKHQuYWRsZXI9YS5jaGVjaz1hLmZsYWdzP0MoYS5jaGVjayxuLF8scy1fKTpSKGEuY2hlY2ssbixfLHMtXykpLF89bCwoYS5mbGFncz9oOkwoaCkpIT09YS5jaGVjayl7dC5tc2c9ImluY29ycmVjdCBkYXRhIGNoZWNrIixhLm1vZGU9MzA7YnJlYWt9ZD1oPTB9YS5tb2RlPTI4O2Nhc2UgMjg6aWYoYS53cmFwJiZhLmZsYWdzKXtmb3IoO2Q8MzI7KXtpZigwPT09bylicmVhayB0O28tLSxoKz1pW3IrK108PGQsZCs9OH1pZihoIT09KDQyOTQ5NjcyOTUmYS50b3RhbCkpe3QubXNnPSJpbmNvcnJlY3QgbGVuZ3RoIGNoZWNrIixhLm1vZGU9MzA7YnJlYWt9ZD1oPTB9YS5tb2RlPTI5O2Nhc2UgMjk6eD0xO2JyZWFrIHQ7Y2FzZSAzMDp4PS0zO2JyZWFrIHQ7Y2FzZSAzMTpyZXR1cm4tNDtjYXNlIDMyOmRlZmF1bHQ6cmV0dXJuIFR9cmV0dXJuIHQubmV4dF9vdXQ9cyx0LmF2YWlsX291dD1sLHQubmV4dF9pbj1yLHQuYXZhaWxfaW49byxhLmhvbGQ9aCxhLmJpdHM9ZCwoYS53c2l6ZXx8XyE9PXQuYXZhaWxfb3V0JiZhLm1vZGU8MzAmJihhLm1vZGU8Mjd8fDQhPT1lKSkmJmoodCx0Lm91dHB1dCx0Lm5leHRfb3V0LF8tdC5hdmFpbF9vdXQpPyhhLm1vZGU9MzEsLTQpOihmLT10LmF2YWlsX2luLF8tPXQuYXZhaWxfb3V0LHQudG90YWxfaW4rPWYsdC50b3RhbF9vdXQrPV8sYS50b3RhbCs9XyxhLndyYXAmJl8mJih0LmFkbGVyPWEuY2hlY2s9YS5mbGFncz9DKGEuY2hlY2ssbixfLHQubmV4dF9vdXQtXyk6UihhLmNoZWNrLG4sXyx0Lm5leHRfb3V0LV8pKSx0LmRhdGFfdHlwZT1hLmJpdHMrKGEubGFzdD82NDowKSsoMTI9PT1hLm1vZGU/MTI4OjApKygyMD09PWEubW9kZXx8MTU9PT1hLm1vZGU/MjU2OjApLCgwPT09ZiYmMD09PV98fDQ9PT1lKSYmeD09PVUmJih4PS01KSx4KX0sYS5pbmZsYXRlRW5kPWZ1bmN0aW9uKHQpe2lmKCF0fHwhdC5zdGF0ZSlyZXR1cm4gVDt2YXIgZT10LnN0YXRlO3JldHVybiBlLndpbmRvdyYmKGUud2luZG93PW51bGwpLHQuc3RhdGU9bnVsbCxVfSxhLmluZmxhdGVHZXRIZWFkZXI9ZnVuY3Rpb24odCxlKXt2YXIgYTtyZXR1cm4gdCYmdC5zdGF0ZT8wPT0oMiYoYT10LnN0YXRlKS53cmFwKT9UOigoYS5oZWFkPWUpLmRvbmU9ITEsVSk6VH0sYS5pbmZsYXRlU2V0RGljdGlvbmFyeT1mdW5jdGlvbih0LGUpe3ZhciBhLGk9ZS5sZW5ndGg7cmV0dXJuIHQmJnQuc3RhdGU/MCE9PShhPXQuc3RhdGUpLndyYXAmJjExIT09YS5tb2RlP1Q6MTE9PT1hLm1vZGUmJlIoMSxlLGksMCkhPT1hLmNoZWNrPy0zOmoodCxlLGksaSk/KGEubW9kZT0zMSwtNCk6KGEuaGF2ZWRpY3Q9MSxVKTpUfSxhLmluZmxhdGVJbmZvPSJwYWtvIGluZmxhdGUgKGZyb20gTm9kZWNhIHByb2plY3QpIn0seyIuLi91dGlscy9jb21tb24iOjMsIi4vYWRsZXIzMiI6NSwiLi9jcmMzMiI6NywiLi9pbmZmYXN0IjoxMCwiLi9pbmZ0cmVlcyI6MTJ9XSwxMjpbZnVuY3Rpb24odCxlLGEpeyJ1c2Ugc3RyaWN0Ijt2YXIgRD10KCIuLi91dGlscy9jb21tb24iKSxJPVszLDQsNSw2LDcsOCw5LDEwLDExLDEzLDE1LDE3LDE5LDIzLDI3LDMxLDM1LDQzLDUxLDU5LDY3LDgzLDk5LDExNSwxMzEsMTYzLDE5NSwyMjcsMjU4LDAsMF0sVT1bMTYsMTYsMTYsMTYsMTYsMTYsMTYsMTYsMTcsMTcsMTcsMTcsMTgsMTgsMTgsMTgsMTksMTksMTksMTksMjAsMjAsMjAsMjAsMjEsMjEsMjEsMjEsMTYsNzIsNzhdLFQ9WzEsMiwzLDQsNSw3LDksMTMsMTcsMjUsMzMsNDksNjUsOTcsMTI5LDE5MywyNTcsMzg1LDUxMyw3NjksMTAyNSwxNTM3LDIwNDksMzA3Myw0MDk3LDYxNDUsODE5MywxMjI4OSwxNjM4NSwyNDU3NywwLDBdLEY9WzE2LDE2LDE2LDE2LDE3LDE3LDE4LDE4LDE5LDE5LDIwLDIwLDIxLDIxLDIyLDIyLDIzLDIzLDI0LDI0LDI1LDI1LDI2LDI2LDI3LDI3LDI4LDI4LDI5LDI5LDY0LDY0XTtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlLGEsaSxuLHIscyxvKXt2YXIgbCxoLGQsZixfLHUsYyxiLGcsbT1vLmJpdHMsdz0wLHA9MCx2PTAsaz0wLHk9MCx4PTAsej0wLEI9MCxTPTAsRT0wLEE9bnVsbCxaPTAsUj1uZXcgRC5CdWYxNigxNiksQz1uZXcgRC5CdWYxNigxNiksTj1udWxsLE89MDtmb3Iodz0wO3c8PTE1O3crKylSW3ddPTA7Zm9yKHA9MDtwPGk7cCsrKVJbZVthK3BdXSsrO2Zvcih5PW0saz0xNTsxPD1rJiYwPT09UltrXTtrLS0pO2lmKGs8eSYmKHk9ayksMD09PWspcmV0dXJuIG5bcisrXT0yMDk3MTUyMCxuW3IrK109MjA5NzE1MjAsby5iaXRzPTEsMDtmb3Iodj0xO3Y8ayYmMD09PVJbdl07disrKTtmb3IoeTx2JiYoeT12KSx3PUI9MTt3PD0xNTt3KyspaWYoQjw8PTEsKEItPVJbd10pPDApcmV0dXJuLTE7aWYoMDxCJiYoMD09PXR8fDEhPT1rKSlyZXR1cm4tMTtmb3IoQ1sxXT0wLHc9MTt3PDE1O3crKylDW3crMV09Q1t3XStSW3ddO2ZvcihwPTA7cDxpO3ArKykwIT09ZVthK3BdJiYoc1tDW2VbYStwXV0rK109cCk7aWYoMD09PXQ/KEE9Tj1zLHU9MTkpOjE9PT10PyhBPUksWi09MjU3LE49VSxPLT0yNTcsdT0yNTYpOihBPVQsTj1GLHU9LTEpLHc9dixfPXIsej1wPUU9MCxkPS0xLGY9KFM9MTw8KHg9eSkpLTEsMT09PXQmJjg1MjxTfHwyPT09dCYmNTkyPFMpcmV0dXJuIDE7Zm9yKDs7KXtmb3IoYz13LXosc1twXTx1PyhiPTAsZz1zW3BdKTpzW3BdPnU/KGI9TltPK3NbcF1dLGc9QVtaK3NbcF1dKTooYj05NixnPTApLGw9MTw8dy16LHY9aD0xPDx4O25bXysoRT4+eikrKGgtPWwpXT1jPDwyNHxiPDwxNnxnfDAsMCE9PWg7KTtmb3IobD0xPDx3LTE7RSZsOylsPj49MTtpZigwIT09bD8oRSY9bC0xLEUrPWwpOkU9MCxwKyssMD09LS1SW3ddKXtpZih3PT09aylicmVhazt3PWVbYStzW3BdXX1pZih5PHcmJihFJmYpIT09ZCl7Zm9yKDA9PT16JiYoej15KSxfKz12LEI9MTw8KHg9dy16KTt4K3o8ayYmISgoQi09Ult4K3pdKTw9MCk7KXgrKyxCPDw9MTtpZihTKz0xPDx4LDE9PT10JiY4NTI8U3x8Mj09PXQmJjU5MjxTKXJldHVybiAxO25bZD1FJmZdPXk8PDI0fHg8PDE2fF8tcnwwfX1yZXR1cm4gMCE9PUUmJihuW18rRV09dy16PDwyNHw2NDw8MTZ8MCksby5iaXRzPXksMH19LHsiLi4vdXRpbHMvY29tbW9uIjozfV0sMTM6W2Z1bmN0aW9uKHQsZSxhKXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPXsyOiJuZWVkIGRpY3Rpb25hcnkiLDE6InN0cmVhbSBlbmQiLDA6IiIsIi0xIjoiZmlsZSBlcnJvciIsIi0yIjoic3RyZWFtIGVycm9yIiwiLTMiOiJkYXRhIGVycm9yIiwiLTQiOiJpbnN1ZmZpY2llbnQgbWVtb3J5IiwiLTUiOiJidWZmZXIgZXJyb3IiLCItNiI6ImluY29tcGF0aWJsZSB2ZXJzaW9uIn19LHt9XSwxNDpbZnVuY3Rpb24odCxlLGEpeyJ1c2Ugc3RyaWN0Ijt2YXIgbD10KCIuLi91dGlscy9jb21tb24iKSxvPTAsaD0xO2Z1bmN0aW9uIGkodCl7Zm9yKHZhciBlPXQubGVuZ3RoOzA8PS0tZTspdFtlXT0wfXZhciBkPTAscz0yOSxmPTI1NixfPWYrMStzLHU9MzAsYz0xOSxnPTIqXysxLG09MTUsbj0xNixiPTcsdz0yNTYscD0xNix2PTE3LGs9MTgseT1bMCwwLDAsMCwwLDAsMCwwLDEsMSwxLDEsMiwyLDIsMiwzLDMsMywzLDQsNCw0LDQsNSw1LDUsNSwwXSx4PVswLDAsMCwwLDEsMSwyLDIsMywzLDQsNCw1LDUsNiw2LDcsNyw4LDgsOSw5LDEwLDEwLDExLDExLDEyLDEyLDEzLDEzXSx6PVswLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDIsMyw3XSxCPVsxNiwxNywxOCwwLDgsNyw5LDYsMTAsNSwxMSw0LDEyLDMsMTMsMiwxNCwxLDE1XSxTPW5ldyBBcnJheSgyKihfKzIpKTtpKFMpO3ZhciBFPW5ldyBBcnJheSgyKnUpO2koRSk7dmFyIEE9bmV3IEFycmF5KDUxMik7aShBKTt2YXIgWj1uZXcgQXJyYXkoMjU2KTtpKFopO3ZhciBSPW5ldyBBcnJheShzKTtpKFIpO3ZhciBDLE4sTyxEPW5ldyBBcnJheSh1KTtmdW5jdGlvbiBJKHQsZSxhLGksbil7dGhpcy5zdGF0aWNfdHJlZT10LHRoaXMuZXh0cmFfYml0cz1lLHRoaXMuZXh0cmFfYmFzZT1hLHRoaXMuZWxlbXM9aSx0aGlzLm1heF9sZW5ndGg9bix0aGlzLmhhc19zdHJlZT10JiZ0Lmxlbmd0aH1mdW5jdGlvbiByKHQsZSl7dGhpcy5keW5fdHJlZT10LHRoaXMubWF4X2NvZGU9MCx0aGlzLnN0YXRfZGVzYz1lfWZ1bmN0aW9uIFUodCl7cmV0dXJuIHQ8MjU2P0FbdF06QVsyNTYrKHQ+Pj43KV19ZnVuY3Rpb24gVCh0LGUpe3QucGVuZGluZ19idWZbdC5wZW5kaW5nKytdPTI1NSZlLHQucGVuZGluZ19idWZbdC5wZW5kaW5nKytdPWU+Pj44JjI1NX1mdW5jdGlvbiBGKHQsZSxhKXt0LmJpX3ZhbGlkPm4tYT8odC5iaV9idWZ8PWU8PHQuYmlfdmFsaWQmNjU1MzUsVCh0LHQuYmlfYnVmKSx0LmJpX2J1Zj1lPj5uLXQuYmlfdmFsaWQsdC5iaV92YWxpZCs9YS1uKToodC5iaV9idWZ8PWU8PHQuYmlfdmFsaWQmNjU1MzUsdC5iaV92YWxpZCs9YSl9ZnVuY3Rpb24gTCh0LGUsYSl7Rih0LGFbMiplXSxhWzIqZSsxXSl9ZnVuY3Rpb24gSCh0LGUpe2Zvcih2YXIgYT0wO2F8PTEmdCx0Pj4+PTEsYTw8PTEsMDwtLWU7KTtyZXR1cm4gYT4+PjF9ZnVuY3Rpb24gaih0LGUsYSl7dmFyIGksbixyPW5ldyBBcnJheShtKzEpLHM9MDtmb3IoaT0xO2k8PW07aSsrKXJbaV09cz1zK2FbaS0xXTw8MTtmb3Iobj0wO248PWU7bisrKXt2YXIgbz10WzIqbisxXTswIT09byYmKHRbMipuXT1IKHJbb10rKyxvKSl9fWZ1bmN0aW9uIEsodCl7dmFyIGU7Zm9yKGU9MDtlPF87ZSsrKXQuZHluX2x0cmVlWzIqZV09MDtmb3IoZT0wO2U8dTtlKyspdC5keW5fZHRyZWVbMiplXT0wO2ZvcihlPTA7ZTxjO2UrKyl0LmJsX3RyZWVbMiplXT0wO3QuZHluX2x0cmVlWzIqd109MSx0Lm9wdF9sZW49dC5zdGF0aWNfbGVuPTAsdC5sYXN0X2xpdD10Lm1hdGNoZXM9MH1mdW5jdGlvbiBNKHQpezg8dC5iaV92YWxpZD9UKHQsdC5iaV9idWYpOjA8dC5iaV92YWxpZCYmKHQucGVuZGluZ19idWZbdC5wZW5kaW5nKytdPXQuYmlfYnVmKSx0LmJpX2J1Zj0wLHQuYmlfdmFsaWQ9MH1mdW5jdGlvbiBQKHQsZSxhLGkpe3ZhciBuPTIqZSxyPTIqYTtyZXR1cm4gdFtuXTx0W3JdfHx0W25dPT09dFtyXSYmaVtlXTw9aVthXX1mdW5jdGlvbiBZKHQsZSxhKXtmb3IodmFyIGk9dC5oZWFwW2FdLG49YTw8MTtuPD10LmhlYXBfbGVuJiYobjx0LmhlYXBfbGVuJiZQKGUsdC5oZWFwW24rMV0sdC5oZWFwW25dLHQuZGVwdGgpJiZuKyssIVAoZSxpLHQuaGVhcFtuXSx0LmRlcHRoKSk7KXQuaGVhcFthXT10LmhlYXBbbl0sYT1uLG48PD0xO3QuaGVhcFthXT1pfWZ1bmN0aW9uIHEodCxlLGEpe3ZhciBpLG4scixzLG89MDtpZigwIT09dC5sYXN0X2xpdClmb3IoO2k9dC5wZW5kaW5nX2J1Zlt0LmRfYnVmKzIqb108PDh8dC5wZW5kaW5nX2J1Zlt0LmRfYnVmKzIqbysxXSxuPXQucGVuZGluZ19idWZbdC5sX2J1ZitvXSxvKyssMD09PWk/TCh0LG4sZSk6KEwodCwocj1aW25dKStmKzEsZSksMCE9PShzPXlbcl0pJiZGKHQsbi09UltyXSxzKSxMKHQscj1VKC0taSksYSksMCE9PShzPXhbcl0pJiZGKHQsaS09RFtyXSxzKSksbzx0Lmxhc3RfbGl0Oyk7TCh0LHcsZSl9ZnVuY3Rpb24gRyh0LGUpe3ZhciBhLGksbixyPWUuZHluX3RyZWUscz1lLnN0YXRfZGVzYy5zdGF0aWNfdHJlZSxvPWUuc3RhdF9kZXNjLmhhc19zdHJlZSxsPWUuc3RhdF9kZXNjLmVsZW1zLGg9LTE7Zm9yKHQuaGVhcF9sZW49MCx0LmhlYXBfbWF4PWcsYT0wO2E8bDthKyspMCE9PXJbMiphXT8odC5oZWFwWysrdC5oZWFwX2xlbl09aD1hLHQuZGVwdGhbYV09MCk6clsyKmErMV09MDtmb3IoO3QuaGVhcF9sZW48MjspclsyKihuPXQuaGVhcFsrK3QuaGVhcF9sZW5dPWg8Mj8rK2g6MCldPTEsdC5kZXB0aFtuXT0wLHQub3B0X2xlbi0tLG8mJih0LnN0YXRpY19sZW4tPXNbMipuKzFdKTtmb3IoZS5tYXhfY29kZT1oLGE9dC5oZWFwX2xlbj4+MTsxPD1hO2EtLSlZKHQscixhKTtmb3Iobj1sO2E9dC5oZWFwWzFdLHQuaGVhcFsxXT10LmhlYXBbdC5oZWFwX2xlbi0tXSxZKHQsciwxKSxpPXQuaGVhcFsxXSx0LmhlYXBbLS10LmhlYXBfbWF4XT1hLHQuaGVhcFstLXQuaGVhcF9tYXhdPWksclsyKm5dPXJbMiphXStyWzIqaV0sdC5kZXB0aFtuXT0odC5kZXB0aFthXT49dC5kZXB0aFtpXT90LmRlcHRoW2FdOnQuZGVwdGhbaV0pKzEsclsyKmErMV09clsyKmkrMV09bix0LmhlYXBbMV09bisrLFkodCxyLDEpLDI8PXQuaGVhcF9sZW47KTt0LmhlYXBbLS10LmhlYXBfbWF4XT10LmhlYXBbMV0sZnVuY3Rpb24odCxlKXt2YXIgYSxpLG4scixzLG8sbD1lLmR5bl90cmVlLGg9ZS5tYXhfY29kZSxkPWUuc3RhdF9kZXNjLnN0YXRpY190cmVlLGY9ZS5zdGF0X2Rlc2MuaGFzX3N0cmVlLF89ZS5zdGF0X2Rlc2MuZXh0cmFfYml0cyx1PWUuc3RhdF9kZXNjLmV4dHJhX2Jhc2UsYz1lLnN0YXRfZGVzYy5tYXhfbGVuZ3RoLGI9MDtmb3Iocj0wO3I8PW07cisrKXQuYmxfY291bnRbcl09MDtmb3IobFsyKnQuaGVhcFt0LmhlYXBfbWF4XSsxXT0wLGE9dC5oZWFwX21heCsxO2E8ZzthKyspYzwocj1sWzIqbFsyKihpPXQuaGVhcFthXSkrMV0rMV0rMSkmJihyPWMsYisrKSxsWzIqaSsxXT1yLGg8aXx8KHQuYmxfY291bnRbcl0rKyxzPTAsdTw9aSYmKHM9X1tpLXVdKSxvPWxbMippXSx0Lm9wdF9sZW4rPW8qKHIrcyksZiYmKHQuc3RhdGljX2xlbis9byooZFsyKmkrMV0rcykpKTtpZigwIT09Yil7ZG97Zm9yKHI9Yy0xOzA9PT10LmJsX2NvdW50W3JdOylyLS07dC5ibF9jb3VudFtyXS0tLHQuYmxfY291bnRbcisxXSs9Mix0LmJsX2NvdW50W2NdLS0sYi09Mn13aGlsZSgwPGIpO2ZvcihyPWM7MCE9PXI7ci0tKWZvcihpPXQuYmxfY291bnRbcl07MCE9PWk7KWg8KG49dC5oZWFwWy0tYV0pfHwobFsyKm4rMV0hPT1yJiYodC5vcHRfbGVuKz0oci1sWzIqbisxXSkqbFsyKm5dLGxbMipuKzFdPXIpLGktLSl9fSh0LGUpLGoocixoLHQuYmxfY291bnQpfWZ1bmN0aW9uIFgodCxlLGEpe3ZhciBpLG4scj0tMSxzPWVbMV0sbz0wLGw9NyxoPTQ7Zm9yKDA9PT1zJiYobD0xMzgsaD0zKSxlWzIqKGErMSkrMV09NjU1MzUsaT0wO2k8PWE7aSsrKW49cyxzPWVbMiooaSsxKSsxXSwrK288bCYmbj09PXN8fChvPGg/dC5ibF90cmVlWzIqbl0rPW86MCE9PW4/KG4hPT1yJiZ0LmJsX3RyZWVbMipuXSsrLHQuYmxfdHJlZVsyKnBdKyspOm88PTEwP3QuYmxfdHJlZVsyKnZdKys6dC5ibF90cmVlWzIqa10rKyxyPW4sKG89MCk9PT1zPyhsPTEzOCxoPTMpOm49PT1zPyhsPTYsaD0zKToobD03LGg9NCkpfWZ1bmN0aW9uIFcodCxlLGEpe3ZhciBpLG4scj0tMSxzPWVbMV0sbz0wLGw9NyxoPTQ7Zm9yKDA9PT1zJiYobD0xMzgsaD0zKSxpPTA7aTw9YTtpKyspaWYobj1zLHM9ZVsyKihpKzEpKzFdLCEoKytvPGwmJm49PT1zKSl7aWYobzxoKWZvcig7TCh0LG4sdC5ibF90cmVlKSwwIT0tLW87KTtlbHNlIDAhPT1uPyhuIT09ciYmKEwodCxuLHQuYmxfdHJlZSksby0tKSxMKHQscCx0LmJsX3RyZWUpLEYodCxvLTMsMikpOm88PTEwPyhMKHQsdix0LmJsX3RyZWUpLEYodCxvLTMsMykpOihMKHQsayx0LmJsX3RyZWUpLEYodCxvLTExLDcpKTtyPW4sKG89MCk9PT1zPyhsPTEzOCxoPTMpOm49PT1zPyhsPTYsaD0zKToobD03LGg9NCl9fWkoRCk7dmFyIEo9ITE7ZnVuY3Rpb24gUSh0LGUsYSxpKXt2YXIgbixyLHMsbztGKHQsKGQ8PDEpKyhpPzE6MCksMykscj1lLHM9YSxvPSEwLE0obj10KSxvJiYoVChuLHMpLFQobix+cykpLGwuYXJyYXlTZXQobi5wZW5kaW5nX2J1ZixuLndpbmRvdyxyLHMsbi5wZW5kaW5nKSxuLnBlbmRpbmcrPXN9YS5fdHJfaW5pdD1mdW5jdGlvbih0KXtKfHwoZnVuY3Rpb24oKXt2YXIgdCxlLGEsaSxuLHI9bmV3IEFycmF5KG0rMSk7Zm9yKGk9YT0wO2k8cy0xO2krKylmb3IoUltpXT1hLHQ9MDt0PDE8PHlbaV07dCsrKVpbYSsrXT1pO2ZvcihaW2EtMV09aSxpPW49MDtpPDE2O2krKylmb3IoRFtpXT1uLHQ9MDt0PDE8PHhbaV07dCsrKUFbbisrXT1pO2ZvcihuPj49NztpPHU7aSsrKWZvcihEW2ldPW48PDcsdD0wO3Q8MTw8eFtpXS03O3QrKylBWzI1NituKytdPWk7Zm9yKGU9MDtlPD1tO2UrKylyW2VdPTA7Zm9yKHQ9MDt0PD0xNDM7KVNbMip0KzFdPTgsdCsrLHJbOF0rKztmb3IoO3Q8PTI1NTspU1syKnQrMV09OSx0Kysscls5XSsrO2Zvcig7dDw9Mjc5OylTWzIqdCsxXT03LHQrKyxyWzddKys7Zm9yKDt0PD0yODc7KVNbMip0KzFdPTgsdCsrLHJbOF0rKztmb3IoaihTLF8rMSxyKSx0PTA7dDx1O3QrKylFWzIqdCsxXT01LEVbMip0XT1IKHQsNSk7Qz1uZXcgSShTLHksZisxLF8sbSksTj1uZXcgSShFLHgsMCx1LG0pLE89bmV3IEkobmV3IEFycmF5KDApLHosMCxjLGIpfSgpLEo9ITApLHQubF9kZXNjPW5ldyByKHQuZHluX2x0cmVlLEMpLHQuZF9kZXNjPW5ldyByKHQuZHluX2R0cmVlLE4pLHQuYmxfZGVzYz1uZXcgcih0LmJsX3RyZWUsTyksdC5iaV9idWY9MCx0LmJpX3ZhbGlkPTAsSyh0KX0sYS5fdHJfc3RvcmVkX2Jsb2NrPVEsYS5fdHJfZmx1c2hfYmxvY2s9ZnVuY3Rpb24odCxlLGEsaSl7dmFyIG4scixzPTA7MDx0LmxldmVsPygyPT09dC5zdHJtLmRhdGFfdHlwZSYmKHQuc3RybS5kYXRhX3R5cGU9ZnVuY3Rpb24odCl7dmFyIGUsYT00MDkzNjI0NDQ3O2ZvcihlPTA7ZTw9MzE7ZSsrLGE+Pj49MSlpZigxJmEmJjAhPT10LmR5bl9sdHJlZVsyKmVdKXJldHVybiBvO2lmKDAhPT10LmR5bl9sdHJlZVsxOF18fDAhPT10LmR5bl9sdHJlZVsyMF18fDAhPT10LmR5bl9sdHJlZVsyNl0pcmV0dXJuIGg7Zm9yKGU9MzI7ZTxmO2UrKylpZigwIT09dC5keW5fbHRyZWVbMiplXSlyZXR1cm4gaDtyZXR1cm4gb30odCkpLEcodCx0LmxfZGVzYyksRyh0LHQuZF9kZXNjKSxzPWZ1bmN0aW9uKHQpe3ZhciBlO2ZvcihYKHQsdC5keW5fbHRyZWUsdC5sX2Rlc2MubWF4X2NvZGUpLFgodCx0LmR5bl9kdHJlZSx0LmRfZGVzYy5tYXhfY29kZSksRyh0LHQuYmxfZGVzYyksZT1jLTE7Mzw9ZSYmMD09PXQuYmxfdHJlZVsyKkJbZV0rMV07ZS0tKTtyZXR1cm4gdC5vcHRfbGVuKz0zKihlKzEpKzUrNSs0LGV9KHQpLG49dC5vcHRfbGVuKzMrNz4+PjMsKHI9dC5zdGF0aWNfbGVuKzMrNz4+PjMpPD1uJiYobj1yKSk6bj1yPWErNSxhKzQ8PW4mJi0xIT09ZT9RKHQsZSxhLGkpOjQ9PT10LnN0cmF0ZWd5fHxyPT09bj8oRih0LDIrKGk/MTowKSwzKSxxKHQsUyxFKSk6KEYodCw0KyhpPzE6MCksMyksZnVuY3Rpb24odCxlLGEsaSl7dmFyIG47Zm9yKEYodCxlLTI1Nyw1KSxGKHQsYS0xLDUpLEYodCxpLTQsNCksbj0wO248aTtuKyspRih0LHQuYmxfdHJlZVsyKkJbbl0rMV0sMyk7Vyh0LHQuZHluX2x0cmVlLGUtMSksVyh0LHQuZHluX2R0cmVlLGEtMSl9KHQsdC5sX2Rlc2MubWF4X2NvZGUrMSx0LmRfZGVzYy5tYXhfY29kZSsxLHMrMSkscSh0LHQuZHluX2x0cmVlLHQuZHluX2R0cmVlKSksSyh0KSxpJiZNKHQpfSxhLl90cl90YWxseT1mdW5jdGlvbih0LGUsYSl7cmV0dXJuIHQucGVuZGluZ19idWZbdC5kX2J1ZisyKnQubGFzdF9saXRdPWU+Pj44JjI1NSx0LnBlbmRpbmdfYnVmW3QuZF9idWYrMip0Lmxhc3RfbGl0KzFdPTI1NSZlLHQucGVuZGluZ19idWZbdC5sX2J1Zit0Lmxhc3RfbGl0XT0yNTUmYSx0Lmxhc3RfbGl0KyssMD09PWU/dC5keW5fbHRyZWVbMiphXSsrOih0Lm1hdGNoZXMrKyxlLS0sdC5keW5fbHRyZWVbMiooWlthXStmKzEpXSsrLHQuZHluX2R0cmVlWzIqVShlKV0rKyksdC5sYXN0X2xpdD09PXQubGl0X2J1ZnNpemUtMX0sYS5fdHJfYWxpZ249ZnVuY3Rpb24odCl7dmFyIGU7Rih0LDIsMyksTCh0LHcsUyksMTY9PT0oZT10KS5iaV92YWxpZD8oVChlLGUuYmlfYnVmKSxlLmJpX2J1Zj0wLGUuYmlfdmFsaWQ9MCk6ODw9ZS5iaV92YWxpZCYmKGUucGVuZGluZ19idWZbZS5wZW5kaW5nKytdPTI1NSZlLmJpX2J1ZixlLmJpX2J1Zj4+PTgsZS5iaV92YWxpZC09OCl9fSx7Ii4uL3V0aWxzL2NvbW1vbiI6M31dLDE1OltmdW5jdGlvbih0LGUsYSl7InVzZSBzdHJpY3QiO2UuZXhwb3J0cz1mdW5jdGlvbigpe3RoaXMuaW5wdXQ9bnVsbCx0aGlzLm5leHRfaW49MCx0aGlzLmF2YWlsX2luPTAsdGhpcy50b3RhbF9pbj0wLHRoaXMub3V0cHV0PW51bGwsdGhpcy5uZXh0X291dD0wLHRoaXMuYXZhaWxfb3V0PTAsdGhpcy50b3RhbF9vdXQ9MCx0aGlzLm1zZz0iIix0aGlzLnN0YXRlPW51bGwsdGhpcy5kYXRhX3R5cGU9Mix0aGlzLmFkbGVyPTB9fSx7fV0sIi8iOltmdW5jdGlvbih0LGUsYSl7InVzZSBzdHJpY3QiO3ZhciBpPXt9OygwLHQoIi4vbGliL3V0aWxzL2NvbW1vbiIpLmFzc2lnbikoaSx0KCIuL2xpYi9kZWZsYXRlIiksdCgiLi9saWIvaW5mbGF0ZSIpLHQoIi4vbGliL3psaWIvY29uc3RhbnRzIikpLGUuZXhwb3J0cz1pfSx7Ii4vbGliL2RlZmxhdGUiOjEsIi4vbGliL2luZmxhdGUiOjIsIi4vbGliL3V0aWxzL2NvbW1vbiI6MywiLi9saWIvemxpYi9jb25zdGFudHMiOjZ9XX0se30sW10pKCIvIil9KTsKdmFyICRqc2NvbXA9JGpzY29tcHx8e307JGpzY29tcC5zY29wZT17fTskanNjb21wLkFTU1VNRV9FUzU9ITE7JGpzY29tcC5BU1NVTUVfTk9fTkFUSVZFX01BUD0hMTskanNjb21wLkFTU1VNRV9OT19OQVRJVkVfU0VUPSExOyRqc2NvbXAuU0lNUExFX0ZST1VORF9QT0xZRklMTD0hMTskanNjb21wLklTT0xBVEVfUE9MWUZJTExTPSExOyRqc2NvbXAuZGVmaW5lUHJvcGVydHk9JGpzY29tcC5BU1NVTUVfRVM1fHwiZnVuY3Rpb24iPT10eXBlb2YgT2JqZWN0LmRlZmluZVByb3BlcnRpZXM/T2JqZWN0LmRlZmluZVByb3BlcnR5OmZ1bmN0aW9uKGIsaCxrKXtpZihiPT1BcnJheS5wcm90b3R5cGV8fGI9PU9iamVjdC5wcm90b3R5cGUpcmV0dXJuIGI7YltoXT1rLnZhbHVlO3JldHVybiBifTsKJGpzY29tcC5nZXRHbG9iYWw9ZnVuY3Rpb24oYil7Yj1bIm9iamVjdCI9PXR5cGVvZiBnbG9iYWxUaGlzJiZnbG9iYWxUaGlzLGIsIm9iamVjdCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdywib2JqZWN0Ij09dHlwZW9mIHNlbGYmJnNlbGYsIm9iamVjdCI9PXR5cGVvZiBnbG9iYWwmJmdsb2JhbF07Zm9yKHZhciBoPTA7aDxiLmxlbmd0aDsrK2gpe3ZhciBrPWJbaF07aWYoayYmay5NYXRoPT1NYXRoKXJldHVybiBrfXRocm93IEVycm9yKCJDYW5ub3QgZmluZCBnbG9iYWwgb2JqZWN0Iik7fTskanNjb21wLmdsb2JhbD0kanNjb21wLmdldEdsb2JhbCh0aGlzKTskanNjb21wLklTX1NZTUJPTF9OQVRJVkU9ImZ1bmN0aW9uIj09PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT09dHlwZW9mIFN5bWJvbCgieCIpOyRqc2NvbXAuVFJVU1RfRVM2X1BPTFlGSUxMUz0hJGpzY29tcC5JU09MQVRFX1BPTFlGSUxMU3x8JGpzY29tcC5JU19TWU1CT0xfTkFUSVZFOyRqc2NvbXAucG9seWZpbGxzPXt9OwokanNjb21wLnByb3BlcnR5VG9Qb2x5ZmlsbFN5bWJvbD17fTskanNjb21wLlBPTFlGSUxMX1BSRUZJWD0iJGpzY3AkIjt2YXIgJGpzY29tcCRsb29rdXBQb2x5ZmlsbGVkVmFsdWU9ZnVuY3Rpb24oYixoKXt2YXIgaz0kanNjb21wLnByb3BlcnR5VG9Qb2x5ZmlsbFN5bWJvbFtoXTtpZihudWxsPT1rKXJldHVybiBiW2hdO2s9YltrXTtyZXR1cm4gdm9pZCAwIT09az9rOmJbaF19OyRqc2NvbXAucG9seWZpbGw9ZnVuY3Rpb24oYixoLGssbCl7aCYmKCRqc2NvbXAuSVNPTEFURV9QT0xZRklMTFM/JGpzY29tcC5wb2x5ZmlsbElzb2xhdGVkKGIsaCxrLGwpOiRqc2NvbXAucG9seWZpbGxVbmlzb2xhdGVkKGIsaCxrLGwpKX07CiRqc2NvbXAucG9seWZpbGxVbmlzb2xhdGVkPWZ1bmN0aW9uKGIsaCxrLGwpe2s9JGpzY29tcC5nbG9iYWw7Yj1iLnNwbGl0KCIuIik7Zm9yKGw9MDtsPGIubGVuZ3RoLTE7bCsrKXt2YXIgcT1iW2xdO2lmKCEocSBpbiBrKSlyZXR1cm47az1rW3FdfWI9YltiLmxlbmd0aC0xXTtsPWtbYl07aD1oKGwpO2ghPWwmJm51bGwhPWgmJiRqc2NvbXAuZGVmaW5lUHJvcGVydHkoayxiLHtjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6aH0pfTsKJGpzY29tcC5wb2x5ZmlsbElzb2xhdGVkPWZ1bmN0aW9uKGIsaCxrLGwpe3ZhciBxPWIuc3BsaXQoIi4iKTtiPTE9PT1xLmxlbmd0aDtsPXFbMF07bD0hYiYmbCBpbiAkanNjb21wLnBvbHlmaWxscz8kanNjb21wLnBvbHlmaWxsczokanNjb21wLmdsb2JhbDtmb3IodmFyIHU9MDt1PHEubGVuZ3RoLTE7dSsrKXt2YXIgdj1xW3VdO2lmKCEodiBpbiBsKSlyZXR1cm47bD1sW3ZdfXE9cVtxLmxlbmd0aC0xXTtrPSRqc2NvbXAuSVNfU1lNQk9MX05BVElWRSYmImVzNiI9PT1rP2xbcV06bnVsbDtoPWgoayk7bnVsbCE9aCYmKGI/JGpzY29tcC5kZWZpbmVQcm9wZXJ0eSgkanNjb21wLnBvbHlmaWxscyxxLHtjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6aH0pOmghPT1rJiYoJGpzY29tcC5wcm9wZXJ0eVRvUG9seWZpbGxTeW1ib2xbcV09JGpzY29tcC5JU19TWU1CT0xfTkFUSVZFPyRqc2NvbXAuZ2xvYmFsLlN5bWJvbChxKTokanNjb21wLlBPTFlGSUxMX1BSRUZJWCtxLHE9CiRqc2NvbXAucHJvcGVydHlUb1BvbHlmaWxsU3ltYm9sW3FdLCRqc2NvbXAuZGVmaW5lUHJvcGVydHkobCxxLHtjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6aH0pKSl9OyRqc2NvbXAucG9seWZpbGwoIk1hdGguaW11bCIsZnVuY3Rpb24oYil7cmV0dXJuIGI/YjpmdW5jdGlvbihiLGspe2I9TnVtYmVyKGIpO2s9TnVtYmVyKGspO3ZhciBoPWImNjU1MzUscT1rJjY1NTM1O3JldHVybiBoKnErKChiPj4+MTYmNjU1MzUpKnEraCooaz4+PjE2JjY1NTM1KTw8MTY+Pj4wKXwwfX0sImVzNiIsImVzMyIpOyRqc2NvbXAudW5kZXJzY29yZVByb3RvQ2FuQmVTZXQ9ZnVuY3Rpb24oKXt2YXIgYj17YTohMH0saD17fTt0cnl7cmV0dXJuIGguX19wcm90b19fPWIsaC5hfWNhdGNoKGspe31yZXR1cm4hMX07CiRqc2NvbXAuc2V0UHJvdG90eXBlT2Y9JGpzY29tcC5UUlVTVF9FUzZfUE9MWUZJTExTJiYiZnVuY3Rpb24iPT10eXBlb2YgT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZjokanNjb21wLnVuZGVyc2NvcmVQcm90b0NhbkJlU2V0KCk/ZnVuY3Rpb24oYixoKXtiLl9fcHJvdG9fXz1oO2lmKGIuX19wcm90b19fIT09aCl0aHJvdyBuZXcgVHlwZUVycm9yKGIrIiBpcyBub3QgZXh0ZW5zaWJsZSIpO3JldHVybiBifTpudWxsOyRqc2NvbXAucG9seWZpbGwoIk9iamVjdC5zZXRQcm90b3R5cGVPZiIsZnVuY3Rpb24oYil7cmV0dXJuIGJ8fCRqc2NvbXAuc2V0UHJvdG90eXBlT2Z9LCJlczYiLCJlczUiKTskanNjb21wLnBvbHlmaWxsKCJSZWZsZWN0IixmdW5jdGlvbihiKXtyZXR1cm4gYj9iOnt9fSwiZXM2IiwiZXMzIik7CiRqc2NvbXAub2JqZWN0Q3JlYXRlPSRqc2NvbXAuQVNTVU1FX0VTNXx8ImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5jcmVhdGU/T2JqZWN0LmNyZWF0ZTpmdW5jdGlvbihiKXt2YXIgaD1mdW5jdGlvbigpe307aC5wcm90b3R5cGU9YjtyZXR1cm4gbmV3IGh9OwokanNjb21wLmdldENvbnN0cnVjdEltcGxlbWVudGF0aW9uPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYigpe2Z1bmN0aW9uIGIoKXt9bmV3IGI7UmVmbGVjdC5jb25zdHJ1Y3QoYixbXSxmdW5jdGlvbigpe30pO3JldHVybiBuZXcgYiBpbnN0YW5jZW9mIGJ9aWYoJGpzY29tcC5UUlVTVF9FUzZfUE9MWUZJTExTJiYidW5kZWZpbmVkIiE9dHlwZW9mIFJlZmxlY3QmJlJlZmxlY3QuY29uc3RydWN0KXtpZihiKCkpcmV0dXJuIFJlZmxlY3QuY29uc3RydWN0O3ZhciBoPVJlZmxlY3QuY29uc3RydWN0O3JldHVybiBmdW5jdGlvbihiLGwscSl7Yj1oKGIsbCk7cSYmUmVmbGVjdC5zZXRQcm90b3R5cGVPZihiLHEucHJvdG90eXBlKTtyZXR1cm4gYn19cmV0dXJuIGZ1bmN0aW9uKGIsaCxxKXt2b2lkIDA9PT1xJiYocT1iKTtxPSRqc2NvbXAub2JqZWN0Q3JlYXRlKHEucHJvdG90eXBlfHxPYmplY3QucHJvdG90eXBlKTtyZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwoYixxLGgpfHwKcX19OyRqc2NvbXAuY29uc3RydWN0PXt2YWx1ZU9mOiRqc2NvbXAuZ2V0Q29uc3RydWN0SW1wbGVtZW50YXRpb259LnZhbHVlT2YoKTskanNjb21wLnBvbHlmaWxsKCJSZWZsZWN0LmNvbnN0cnVjdCIsZnVuY3Rpb24oYil7cmV0dXJuICRqc2NvbXAuY29uc3RydWN0fSwiZXM2IiwiZXMzIik7JGpzY29tcC5hcnJheUl0ZXJhdG9ySW1wbD1mdW5jdGlvbihiKXt2YXIgaD0wO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBoPGIubGVuZ3RoP3tkb25lOiExLHZhbHVlOmJbaCsrXX06e2RvbmU6ITB9fX07JGpzY29tcC5hcnJheUl0ZXJhdG9yPWZ1bmN0aW9uKGIpe3JldHVybntuZXh0OiRqc2NvbXAuYXJyYXlJdGVyYXRvckltcGwoYil9fTskanNjb21wLmluaXRTeW1ib2w9ZnVuY3Rpb24oKXt9OwokanNjb21wLnBvbHlmaWxsKCJTeW1ib2wiLGZ1bmN0aW9uKGIpe2lmKGIpcmV0dXJuIGI7dmFyIGg9ZnVuY3Rpb24oYixoKXt0aGlzLiRqc2NvbXAkc3ltYm9sJGlkXz1iOyRqc2NvbXAuZGVmaW5lUHJvcGVydHkodGhpcywiZGVzY3JpcHRpb24iLHtjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6aH0pfTtoLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRqc2NvbXAkc3ltYm9sJGlkX307dmFyIGs9MCxsPWZ1bmN0aW9uKGIpe2lmKHRoaXMgaW5zdGFuY2VvZiBsKXRocm93IG5ldyBUeXBlRXJyb3IoIlN5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvciIpO3JldHVybiBuZXcgaCgianNjb21wX3N5bWJvbF8iKyhifHwiIikrIl8iK2srKyxiKX07cmV0dXJuIGx9LCJlczYiLCJlczMiKTskanNjb21wLmluaXRTeW1ib2xJdGVyYXRvcj1mdW5jdGlvbigpe307CiRqc2NvbXAucG9seWZpbGwoIlN5bWJvbC5pdGVyYXRvciIsZnVuY3Rpb24oYil7aWYoYilyZXR1cm4gYjtiPVN5bWJvbCgiU3ltYm9sLml0ZXJhdG9yIik7Zm9yKHZhciBoPSJBcnJheSBJbnQ4QXJyYXkgVWludDhBcnJheSBVaW50OENsYW1wZWRBcnJheSBJbnQxNkFycmF5IFVpbnQxNkFycmF5IEludDMyQXJyYXkgVWludDMyQXJyYXkgRmxvYXQzMkFycmF5IEZsb2F0NjRBcnJheSIuc3BsaXQoIiAiKSxrPTA7azxoLmxlbmd0aDtrKyspe3ZhciBsPSRqc2NvbXAuZ2xvYmFsW2hba11dOyJmdW5jdGlvbiI9PT10eXBlb2YgbCYmImZ1bmN0aW9uIiE9dHlwZW9mIGwucHJvdG90eXBlW2JdJiYkanNjb21wLmRlZmluZVByb3BlcnR5KGwucHJvdG90eXBlLGIse2NvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpmdW5jdGlvbigpe3JldHVybiAkanNjb21wLml0ZXJhdG9yUHJvdG90eXBlKCRqc2NvbXAuYXJyYXlJdGVyYXRvckltcGwodGhpcykpfX0pfXJldHVybiBifSwiZXM2IiwKImVzMyIpOyRqc2NvbXAuaW5pdFN5bWJvbEFzeW5jSXRlcmF0b3I9ZnVuY3Rpb24oKXt9OyRqc2NvbXAuaXRlcmF0b3JQcm90b3R5cGU9ZnVuY3Rpb24oYil7Yj17bmV4dDpifTtiW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307cmV0dXJuIGJ9OwokanNjb21wLnBvbHlmaWxsKCJBcnJheS5mcm9tIixmdW5jdGlvbihiKXtyZXR1cm4gYj9iOmZ1bmN0aW9uKGIsayxsKXtrPW51bGwhPWs/azpmdW5jdGlvbihiKXtyZXR1cm4gYn07dmFyIGg9W10sdT0idW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yJiZiW1N5bWJvbC5pdGVyYXRvcl07aWYoImZ1bmN0aW9uIj09dHlwZW9mIHUpe2I9dS5jYWxsKGIpO2Zvcih2YXIgdj0wOyEodT1iLm5leHQoKSkuZG9uZTspaC5wdXNoKGsuY2FsbChsLHUudmFsdWUsdisrKSl9ZWxzZSBmb3IodT1iLmxlbmd0aCx2PTA7djx1O3YrKyloLnB1c2goay5jYWxsKGwsYlt2XSx2KSk7cmV0dXJuIGh9fSwiZXM2IiwiZXMzIik7JGpzY29tcC5wb2x5ZmlsbCgiTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIiLGZ1bmN0aW9uKCl7cmV0dXJuIDkwMDcxOTkyNTQ3NDA5OTF9LCJlczYiLCJlczMiKTsKJGpzY29tcC5vd25zPWZ1bmN0aW9uKGIsaCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLGgpfTskanNjb21wLmFzc2lnbj0kanNjb21wLlRSVVNUX0VTNl9QT0xZRklMTFMmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuYXNzaWduP09iamVjdC5hc3NpZ246ZnVuY3Rpb24oYixoKXtmb3IodmFyIGs9MTtrPGFyZ3VtZW50cy5sZW5ndGg7aysrKXt2YXIgbD1hcmd1bWVudHNba107aWYobClmb3IodmFyIHEgaW4gbCkkanNjb21wLm93bnMobCxxKSYmKGJbcV09bFtxXSl9cmV0dXJuIGJ9OyRqc2NvbXAucG9seWZpbGwoIk9iamVjdC5hc3NpZ24iLGZ1bmN0aW9uKGIpe3JldHVybiBifHwkanNjb21wLmFzc2lnbn0sImVzNiIsImVzMyIpOwokanNjb21wLnBvbHlmaWxsKCJBcnJheS5wcm90b3R5cGUuZmlsbCIsZnVuY3Rpb24oYil7cmV0dXJuIGI/YjpmdW5jdGlvbihiLGssbCl7dmFyIGg9dGhpcy5sZW5ndGh8fDA7MD5rJiYoaz1NYXRoLm1heCgwLGgraykpO2lmKG51bGw9PWx8fGw+aClsPWg7bD1OdW1iZXIobCk7MD5sJiYobD1NYXRoLm1heCgwLGgrbCkpO2ZvcihrPU51bWJlcihrfHwwKTtrPGw7aysrKXRoaXNba109YjtyZXR1cm4gdGhpc319LCJlczYiLCJlczMiKTtBcnJheS5mcm9tfHwoQXJyYXkuZnJvbT1mdW5jdGlvbihiKXtyZXR1cm5bXS5zbGljZS5jYWxsKGIpfSk7TWF0aC5pbXVsPU1hdGguaW11bHx8ZnVuY3Rpb24oYixoKXt2YXIgaz1iJjY1NTM1LGw9aCY2NTUzNTtyZXR1cm4gaypsKygoYj4+PjE2JjY1NTM1KSpsK2sqKGg+Pj4xNiY2NTUzNSk8PDE2Pj4+MCl8MH07CmZ1bmN0aW9uIF9pbnN0YW5jZW9mKGIsaCl7cmV0dXJuIG51bGwhPWgmJiJ1bmRlZmluZWQiIT09dHlwZW9mIFN5bWJvbCYmaFtTeW1ib2wuaGFzSW5zdGFuY2VdPyEhaFtTeW1ib2wuaGFzSW5zdGFuY2VdKGIpOmIgaW5zdGFuY2VvZiBofWZ1bmN0aW9uIF9pbmhlcml0cyhiLGgpe2lmKCJmdW5jdGlvbiIhPT10eXBlb2YgaCYmbnVsbCE9PWgpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGgmJmgucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6Yix3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSk7aCYmX3NldFByb3RvdHlwZU9mKGIsaCl9CmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihiLGgpe19zZXRQcm90b3R5cGVPZj1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKGIsaCl7Yi5fX3Byb3RvX189aDtyZXR1cm4gYn07cmV0dXJuIF9zZXRQcm90b3R5cGVPZihiLGgpfWZ1bmN0aW9uIF9jcmVhdGVTdXBlcihiKXt2YXIgaD1faXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGs9X2dldFByb3RvdHlwZU9mKGIpO2lmKGgpe3ZhciBsPV9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjtrPVJlZmxlY3QuY29uc3RydWN0KGssYXJndW1lbnRzLGwpfWVsc2Ugaz1rLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcyxrKX19CmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKGIsaCl7cmV0dXJuIWh8fCJvYmplY3QiIT09X3R5cGVvZihoKSYmImZ1bmN0aW9uIiE9PXR5cGVvZiBoP19hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoYik6aH1mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKGIpe2lmKHZvaWQgMD09PWIpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTtyZXR1cm4gYn0KZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpe2lmKCJ1bmRlZmluZWQiPT09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdHx8UmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZigiZnVuY3Rpb24iPT09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChEYXRlLFtdLGZ1bmN0aW9uKCl7fSkpLCEwfWNhdGNoKGIpe3JldHVybiExfX1mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YoYil7X2dldFByb3RvdHlwZU9mPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24oYil7cmV0dXJuIGIuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoYil9O3JldHVybiBfZ2V0UHJvdG90eXBlT2YoYil9CmZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGIsaCl7dmFyIGs7aWYoInVuZGVmaW5lZCI9PT10eXBlb2YgU3ltYm9sfHxudWxsPT1iW1N5bWJvbC5pdGVyYXRvcl0pe2lmKEFycmF5LmlzQXJyYXkoYil8fChrPV91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShiKSl8fGgmJmImJiJudW1iZXIiPT09dHlwZW9mIGIubGVuZ3RoKXtrJiYoYj1rKTt2YXIgbD0wO2g9ZnVuY3Rpb24oKXt9O3JldHVybntzOmgsbjpmdW5jdGlvbigpe3JldHVybiBsPj1iLmxlbmd0aD97ZG9uZTohMH06e2RvbmU6ITEsdmFsdWU6YltsKytdfX0sZTpmdW5jdGlvbihiKXt0aHJvdyBiO30sZjpofX10aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7fXZhciBxPSEwLAp1PSExLHY7cmV0dXJue3M6ZnVuY3Rpb24oKXtrPWJbU3ltYm9sLml0ZXJhdG9yXSgpfSxuOmZ1bmN0aW9uKCl7dmFyIGI9ay5uZXh0KCk7cT1iLmRvbmU7cmV0dXJuIGJ9LGU6ZnVuY3Rpb24oYil7dT0hMDt2PWJ9LGY6ZnVuY3Rpb24oKXt0cnl7cXx8bnVsbD09ay5yZXR1cm58fGsucmV0dXJuKCl9ZmluYWxseXtpZih1KXRocm93IHY7fX19fWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhiLGgpe2lmKCFfaW5zdGFuY2VvZihiLGgpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpO31mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyhiLGgpe2Zvcih2YXIgaz0wO2s8aC5sZW5ndGg7aysrKXt2YXIgbD1oW2tdO2wuZW51bWVyYWJsZT1sLmVudW1lcmFibGV8fCExO2wuY29uZmlndXJhYmxlPSEwOyJ2YWx1ZSJpbiBsJiYobC53cml0YWJsZT0hMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGIsbC5rZXksbCl9fQpmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoYixoLGspe2gmJl9kZWZpbmVQcm9wZXJ0aWVzKGIucHJvdG90eXBlLGgpO2smJl9kZWZpbmVQcm9wZXJ0aWVzKGIsayk7cmV0dXJuIGJ9ZnVuY3Rpb24gX3R5cGVvZihiKXsiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2YiO190eXBlb2Y9ImZ1bmN0aW9uIj09PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihiKXtyZXR1cm4gdHlwZW9mIGJ9OmZ1bmN0aW9uKGIpe3JldHVybiBiJiYiZnVuY3Rpb24iPT09dHlwZW9mIFN5bWJvbCYmYi5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmYiE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGJ9O3JldHVybiBfdHlwZW9mKGIpfQpmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYil7cmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhiKXx8X2l0ZXJhYmxlVG9BcnJheShiKXx8X3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGIpfHxfbm9uSXRlcmFibGVTcHJlYWQoKX1mdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTt9ZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShiKXtpZigidW5kZWZpbmVkIiE9PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYikpcmV0dXJuIEFycmF5LmZyb20oYil9CmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhiKXtpZihBcnJheS5pc0FycmF5KGIpKXJldHVybiBfYXJyYXlMaWtlVG9BcnJheShiKX1mdW5jdGlvbiBfc2xpY2VkVG9BcnJheShiLGgpe3JldHVybiBfYXJyYXlXaXRoSG9sZXMoYil8fF9pdGVyYWJsZVRvQXJyYXlMaW1pdChiLGgpfHxfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYixoKXx8X25vbkl0ZXJhYmxlUmVzdCgpfWZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpO30KZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGIsaCl7aWYoYil7aWYoInN0cmluZyI9PT10eXBlb2YgYilyZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkoYixoKTt2YXIgaz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYikuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT1rJiZiLmNvbnN0cnVjdG9yJiYoaz1iLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09a3x8IlNldCI9PT1rKXJldHVybiBBcnJheS5mcm9tKGIpO2lmKCJBcmd1bWVudHMiPT09a3x8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QoaykpcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGIsaCl9fWZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGIsaCl7aWYobnVsbD09aHx8aD5iLmxlbmd0aCloPWIubGVuZ3RoO2Zvcih2YXIgaz0wLGw9QXJyYXkoaCk7azxoO2srKylsW2tdPWJba107cmV0dXJuIGx9CmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChiLGgpe2lmKCJ1bmRlZmluZWQiIT09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChiKSl7dmFyIGs9W10sbD0hMCxxPSExLHU9dm9pZCAwO3RyeXtmb3IodmFyIHY9YltTeW1ib2wuaXRlcmF0b3JdKCksejshKGw9KHo9di5uZXh0KCkpLmRvbmUpJiYoay5wdXNoKHoudmFsdWUpLCFofHxrLmxlbmd0aCE9PWgpO2w9ITApO31jYXRjaChGKXtxPSEwLHU9Rn1maW5hbGx5e3RyeXtpZighbCYmbnVsbCE9dlsicmV0dXJuIl0pdlsicmV0dXJuIl0oKX1maW5hbGx5e2lmKHEpdGhyb3cgdTt9fXJldHVybiBrfX1mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYil7aWYoQXJyYXkuaXNBcnJheShiKSlyZXR1cm4gYn0KdmFyIG15U3RyaW5nPSJXaGF0ZXZlciIsbXlTdHJpbmdBcnJheT1BcnJheS5mcm9tKG15U3RyaW5nKSxyb3VnaD1mdW5jdGlvbigpe2Z1bmN0aW9uIGIoZCxhLGMpe2lmKGQmJmQubGVuZ3RoKXthPV9zbGljZWRUb0FycmF5KGEsMik7dmFyIGU9YVswXSxmPWFbMV07Yyo9TWF0aC5QSS8xODA7dmFyIGc9TWF0aC5jb3MoYyksYj1NYXRoLnNpbihjKTtkLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGM9X3NsaWNlZFRvQXJyYXkoYSwyKSxkPWNbMF07Yz1jWzFdO2FbMF09KGQtZSkqZy0oYy1mKSpiK2U7YVsxXT0oZC1lKSpiKyhjLWYpKmcrZn0pfX1mdW5jdGlvbiBoKGQpe3ZhciBhPWRbMF07ZD1kWzFdO3JldHVybiBNYXRoLnNxcnQoTWF0aC5wb3coYVswXS1kWzBdLDIpK01hdGgucG93KGFbMV0tZFsxXSwyKSl9ZnVuY3Rpb24gayhkLGEsYyxlKXt2YXIgZj1hWzFdLWRbMV07YT1kWzBdLWFbMF07ZD1mKmRbMF0rYSpkWzFdO3ZhciBnPWVbMV0tY1sxXTtlPWNbMF0tZVswXTtjPWcqY1swXSsKZSpjWzFdO3ZhciBiPWYqZS1nKmE7cmV0dXJuIGI/WyhlKmQtYSpjKS9iLChmKmMtZypkKS9iXTpudWxsfWZ1bmN0aW9uIGwoZCxhLGMpe3ZhciBlPWQubGVuZ3RoO2lmKDM+ZSlyZXR1cm4hMTt2YXIgZj1bTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsY107YT1bYSxjXTtmb3IodmFyIGc9Yz0wO2c8ZTtnKyspe3ZhciBiPWRbZ10sbT1kWyhnKzEpJWVdO2lmKHYoYixtLGEsZikpe2lmKDA9PT11KGIsYSxtKSlyZXR1cm4gcShiLGEsbSk7YysrfX1yZXR1cm4gMT09YyUyfWZ1bmN0aW9uIHEoZCxhLGMpe3JldHVybiBhWzBdPD1NYXRoLm1heChkWzBdLGNbMF0pJiZhWzBdPj1NYXRoLm1pbihkWzBdLGNbMF0pJiZhWzFdPD1NYXRoLm1heChkWzFdLGNbMV0pJiZhWzFdPj1NYXRoLm1pbihkWzFdLGNbMV0pfWZ1bmN0aW9uIHUoZCxhLGMpe2Q9KGFbMV0tZFsxXSkqKGNbMF0tYVswXSktKGFbMF0tZFswXSkqKGNbMV0tYVsxXSk7cmV0dXJuIDA9PT1kPzA6MDxkPzE6Mn1mdW5jdGlvbiB2KGQsCmEsYyxlKXt2YXIgZj11KGQsYSxjKSxnPXUoZCxhLGUpLGI9dShjLGUsZCksbT11KGMsZSxhKTtyZXR1cm4gZiE9PWcmJmIhPT1tfHwhKDAhPT1mfHwhcShkLGMsYSkpfHwhKDAhPT1nfHwhcShkLGUsYSkpfHwhKDAhPT1ifHwhcShjLGQsZSkpfHwhKDAhPT1tfHwhcShjLGEsZSkpfWZ1bmN0aW9uIHooZCxhKXt2YXIgYz1bMCwwXSxlPU1hdGgucm91bmQoYS5oYWNodXJlQW5nbGUrOTApO2UmJmIoZCxjLGUpO2E9ZnVuY3Rpb24oYSxjKXt2YXIgZT1fdG9Db25zdW1hYmxlQXJyYXkoYSk7ZVswXS5qb2luKCIsIikhPT1lW2UubGVuZ3RoLTFdLmpvaW4oIiwiKSYmZS5wdXNoKFtlWzBdWzBdLGVbMF1bMV1dKTt2YXIgZj1bXTtyZXR1cm4gZSYmMjxlLmxlbmd0aCYmKGE9ZnVuY3Rpb24oKXt2YXIgYT1jLmhhY2h1cmVHYXA7MD5hJiYoYT00KmMuc3Ryb2tlV2lkdGgpO2E9TWF0aC5tYXgoYSwuMSk7Zm9yKHZhciBkPVtdLGc9MDtnPGUubGVuZ3RoLTE7ZysrKXt2YXIgYj1lW2ddLG09ZVtnKwoxXTtpZihiWzFdIT09bVsxXSl7dmFyIHI9TWF0aC5taW4oYlsxXSxtWzFdKTtkLnB1c2goe3ltaW46cix5bWF4Ok1hdGgubWF4KGJbMV0sbVsxXSkseDpyPT09YlsxXT9iWzBdOm1bMF0saXNsb3BlOihtWzBdLWJbMF0pLyhtWzFdLWJbMV0pfSl9fWlmKGQuc29ydChmdW5jdGlvbihhLGMpe3JldHVybiBhLnltaW48Yy55bWluPy0xOmEueW1pbj5jLnltaW4/MTphLng8Yy54Py0xOmEueD5jLng/MTphLnltYXg9PT1jLnltYXg/MDooYS55bWF4LWMueW1heCkvTWF0aC5hYnMoYS55bWF4LWMueW1heCl9KSwhZC5sZW5ndGgpcmV0dXJue3Y6Zn07Zm9yKHZhciBoPVtdLGs9ZFswXS55bWluO2gubGVuZ3RofHxkLmxlbmd0aDspe2lmKGQubGVuZ3RoKXtnPS0xO2ZvcihiPTA7YjxkLmxlbmd0aCYmIShkW2JdLnltaW4+ayk7YisrKWc9YjtkLnNwbGljZSgwLGcrMSkuZm9yRWFjaChmdW5jdGlvbihhKXtoLnB1c2goe3M6ayxlZGdlOmF9KX0pfWlmKGg9aC5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIShhLmVkZ2UueW1heDw9CmspfSksaC5zb3J0KGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGEuZWRnZS54PT09Yy5lZGdlLng/MDooYS5lZGdlLngtYy5lZGdlLngpL01hdGguYWJzKGEuZWRnZS54LWMuZWRnZS54KX0pLDE8aC5sZW5ndGgpZm9yKGc9MDtnPGgubGVuZ3RoO2crPTIpe2I9ZysxO2lmKGI+PWgubGVuZ3RoKWJyZWFrO2YucHVzaChbW01hdGgucm91bmQoaFtnXS5lZGdlLngpLGtdLFtNYXRoLnJvdW5kKGhbYl0uZWRnZS54KSxrXV0pfWsrPWE7aC5mb3JFYWNoKGZ1bmN0aW9uKGMpe2MuZWRnZS54Kz1hKmMuZWRnZS5pc2xvcGV9KX19KCksIm9iamVjdCI9PT1fdHlwZW9mKGEpKT9hLnY6Zn0oZCxhKTtyZXR1cm4gZSYmKGIoZCxjLC1lKSxmdW5jdGlvbihhLGMsZSl7dmFyIGY9W107YS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3JldHVybiBmLnB1c2guYXBwbHkoZixfdG9Db25zdW1hYmxlQXJyYXkoYSkpfSk7YihmLGMsZSl9KGEsYywtZSkpLGF9ZnVuY3Rpb24gRihkKXt2YXIgYT1bXTthOnt2YXIgYz1kO2Zvcih2YXIgZT0KW107IiIhPT1jOyl7aWYoIWMubWF0Y2goL14oWyBcdFxyXG4sXSspLykpaWYoYy5tYXRjaCgvXihbYUFjQ2hIbExtTXFRc1N0VHZWelpdKS8pKWVbZS5sZW5ndGhdPXt0eXBlOjAsdGV4dDpSZWdFeHAuJDF9O2Vsc2V7aWYoIWMubWF0Y2goL14oKFstK10/WzAtOV0rKFwuWzAtOV0qKT98Wy0rXT9cLlswLTldKykoW2VFXVstK10/WzAtOV0rKT8pLykpe2M9W107YnJlYWsgYX1lW2UubGVuZ3RoXT17dHlwZToxLHRleHQ6IiIrcGFyc2VGbG9hdChSZWdFeHAuJDEpfX1jPWMuc3Vic3RyKFJlZ0V4cC4kMS5sZW5ndGgpfWM9KGVbZS5sZW5ndGhdPXt0eXBlOjIsdGV4dDoiIn0sZSl9ZT0iQk9EIjtmb3IodmFyIGY9MCxnPWNbZl07MiE9PWcudHlwZTspe3ZhciBiPTAsbT1bXTtpZigiQk9EIj09PWUpe2lmKCJNIiE9PWcudGV4dCYmIm0iIT09Zy50ZXh0KXJldHVybiBGKCJNMCwwIitkKTtmKys7Yj1LW2cudGV4dF07ZT1nLnRleHR9ZWxzZSAxPT09Zy50eXBlP2I9S1tlXTooZisrLGI9S1tnLnRleHRdLAplPWcudGV4dCk7aWYoIShmK2I8Yy5sZW5ndGgpKXRocm93IEVycm9yKCJQYXRoIGRhdGEgZW5kZWQgc2hvcnQiKTtmb3IoZz1mO2c8ZitiO2crKyl7dmFyIG49Y1tnXTtpZigxIT09bi50eXBlKXRocm93IEVycm9yKCJQYXJhbSBub3QgYSBudW1iZXI6ICIrZSsiLCIrbi50ZXh0KTttW20ubGVuZ3RoXT0rbi50ZXh0fWlmKCJudW1iZXIiIT10eXBlb2YgS1tlXSl0aHJvdyBFcnJvcigiQmFkIHNlZ21lbnQ6ICIrZSk7YS5wdXNoKHtrZXk6ZSxkYXRhOm19KTtmKz1iO2c9Y1tmXTsiTSI9PT1lJiYoZT0iTCIpOyJtIj09PWUmJihlPSJsIil9cmV0dXJuIGF9ZnVuY3Rpb24gWihkKXt2YXIgYT0wLGM9MCxlPTAsZj0wLGc9W107ZD1fY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihkKTt2YXIgYjt0cnl7Zm9yKGQucygpOyEoYj1kLm4oKSkuZG9uZTspe3ZhciBtPWIudmFsdWUsbj1tLmRhdGE7c3dpdGNoKG0ua2V5KXtjYXNlICJNIjpnLnB1c2goe2tleToiTSIsZGF0YTpfdG9Db25zdW1hYmxlQXJyYXkobil9KTsKdmFyIGg9bjt2YXIgaz1fc2xpY2VkVG9BcnJheShoLDIpO2E9a1swXTtjPWtbMV07aDt2YXIgUj1uO3ZhciB0PV9zbGljZWRUb0FycmF5KFIsMik7ZT10WzBdO2Y9dFsxXTtSO2JyZWFrO2Nhc2UgIm0iOmErPW5bMF07Yys9blsxXTtnLnB1c2goe2tleToiTSIsZGF0YTpbYSxjXX0pO2U9YTtmPWM7YnJlYWs7Y2FzZSAiTCI6Zy5wdXNoKHtrZXk6IkwiLGRhdGE6X3RvQ29uc3VtYWJsZUFycmF5KG4pfSk7dmFyIEo9bjt2YXIgbD1fc2xpY2VkVG9BcnJheShKLDIpO2E9bFswXTtjPWxbMV07SjticmVhaztjYXNlICJsIjphKz1uWzBdO2MrPW5bMV07Zy5wdXNoKHtrZXk6IkwiLGRhdGE6W2EsY119KTticmVhaztjYXNlICJDIjpnLnB1c2goe2tleToiQyIsZGF0YTpfdG9Db25zdW1hYmxlQXJyYXkobil9KTthPW5bNF07Yz1uWzVdO2JyZWFrO2Nhc2UgImMiOnZhciBwPW4ubWFwKGZ1bmN0aW9uKGUsZil7cmV0dXJuIGYlMj9lK2M6ZSthfSk7Zy5wdXNoKHtrZXk6IkMiLGRhdGE6cH0pO2E9CnBbNF07Yz1wWzVdO2JyZWFrO2Nhc2UgIlEiOmcucHVzaCh7a2V5OiJRIixkYXRhOl90b0NvbnN1bWFibGVBcnJheShuKX0pO2E9blsyXTtjPW5bM107YnJlYWs7Y2FzZSAicSI6dmFyIHE9bi5tYXAoZnVuY3Rpb24oZSxmKXtyZXR1cm4gZiUyP2UrYzplK2F9KTtnLnB1c2goe2tleToiUSIsZGF0YTpxfSk7YT1xWzJdO2M9cVszXTticmVhaztjYXNlICJBIjpnLnB1c2goe2tleToiQSIsZGF0YTpfdG9Db25zdW1hYmxlQXJyYXkobil9KTthPW5bNV07Yz1uWzZdO2JyZWFrO2Nhc2UgImEiOmErPW5bNV07Yys9bls2XTtnLnB1c2goe2tleToiQSIsZGF0YTpbblswXSxuWzFdLG5bMl0sblszXSxuWzRdLGEsY119KTticmVhaztjYXNlICJIIjpnLnB1c2goe2tleToiSCIsZGF0YTpfdG9Db25zdW1hYmxlQXJyYXkobil9KTthPW5bMF07YnJlYWs7Y2FzZSAiaCI6YSs9blswXTtnLnB1c2goe2tleToiSCIsZGF0YTpbYV19KTticmVhaztjYXNlICJWIjpnLnB1c2goe2tleToiViIsZGF0YTpfdG9Db25zdW1hYmxlQXJyYXkobil9KTsKYz1uWzBdO2JyZWFrO2Nhc2UgInYiOmMrPW5bMF07Zy5wdXNoKHtrZXk6IlYiLGRhdGE6W2NdfSk7YnJlYWs7Y2FzZSAiUyI6Zy5wdXNoKHtrZXk6IlMiLGRhdGE6X3RvQ29uc3VtYWJsZUFycmF5KG4pfSk7YT1uWzJdO2M9blszXTticmVhaztjYXNlICJzIjp2YXIgTD1uLm1hcChmdW5jdGlvbihlLGYpe3JldHVybiBmJTI/ZStjOmUrYX0pO2cucHVzaCh7a2V5OiJTIixkYXRhOkx9KTthPUxbMl07Yz1MWzNdO2JyZWFrO2Nhc2UgIlQiOmcucHVzaCh7a2V5OiJUIixkYXRhOl90b0NvbnN1bWFibGVBcnJheShuKX0pO2E9blswXTtjPW5bMV07YnJlYWs7Y2FzZSAidCI6YSs9blswXTtjKz1uWzFdO2cucHVzaCh7a2V5OiJUIixkYXRhOlthLGNdfSk7YnJlYWs7Y2FzZSAiWiI6Y2FzZSAieiI6Zy5wdXNoKHtrZXk6IloiLGRhdGE6W119KSxhPWUsYz1mfX19Y2F0Y2gobGEpe2QuZShsYSl9ZmluYWxseXtkLmYoKX1yZXR1cm4gZ31mdW5jdGlvbiBhYShkKXt2YXIgYT1bXSxjPSIiLGU9MCxmPQowLGc9MCxiPTAsbT0wLG49MDtkPV9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGQpO3ZhciBoO3RyeXtmb3IoZC5zKCk7IShoPWQubigpKS5kb25lOyl7dmFyIGs9aC52YWx1ZSxSPWsua2V5LHQ9ay5kYXRhO3N3aXRjaChSKXtjYXNlICJNIjphLnB1c2goe2tleToiTSIsZGF0YTpfdG9Db25zdW1hYmxlQXJyYXkodCl9KTt2YXIgSj10O3ZhciBsPV9zbGljZWRUb0FycmF5KEosMik7ZT1sWzBdO2Y9bFsxXTtKO3ZhciBwPXQ7dmFyIHE9X3NsaWNlZFRvQXJyYXkocCwyKTtnPXFbMF07Yj1xWzFdO3A7YnJlYWs7Y2FzZSAiQyI6YS5wdXNoKHtrZXk6IkMiLGRhdGE6X3RvQ29uc3VtYWJsZUFycmF5KHQpfSk7ZT10WzRdO2Y9dFs1XTttPXRbMl07bj10WzNdO2JyZWFrO2Nhc2UgIkwiOmEucHVzaCh7a2V5OiJMIixkYXRhOl90b0NvbnN1bWFibGVBcnJheSh0KX0pO3ZhciBMPXQ7dmFyIHU9X3NsaWNlZFRvQXJyYXkoTCwyKTtlPXVbMF07Zj11WzFdO0w7YnJlYWs7Y2FzZSAiSCI6ZT10WzBdOwphLnB1c2goe2tleToiTCIsZGF0YTpbZSxmXX0pO2JyZWFrO2Nhc2UgIlYiOmY9dFswXTthLnB1c2goe2tleToiTCIsZGF0YTpbZSxmXX0pO2JyZWFrO2Nhc2UgIlMiOnZhciBCPTAsQz0wOyJDIj09PWN8fCJTIj09PWM/KEI9ZSsoZS1tKSxDPWYrKGYtbikpOihCPWUsQz1mKTthLnB1c2goe2tleToiQyIsZGF0YTpbQixDXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHQpKX0pO209dFswXTtuPXRbMV07ZT10WzJdO2Y9dFszXTticmVhaztjYXNlICJUIjp2YXIgdj1fc2xpY2VkVG9BcnJheSh0LDIpLHg9dlswXSx5PXZbMV07Qz1CPTA7IlEiPT09Y3x8IlQiPT09Yz8oQj1lKyhlLW0pLEM9ZisoZi1uKSk6KEI9ZSxDPWYpO2EucHVzaCh7a2V5OiJDIixkYXRhOltlKzIqKEItZSkvMyxmKzIqKEMtZikvMyx4KzIqKEIteCkvMyx5KzIqKEMteSkvMyx4LHldfSk7bT1CO249QztlPXg7Zj15O2JyZWFrO2Nhc2UgIlEiOnZhciB6PV9zbGljZWRUb0FycmF5KHQsNCksRD16WzBdLEU9elsxXSwKRj16WzJdLEc9elszXTthLnB1c2goe2tleToiQyIsZGF0YTpbZSsyKihELWUpLzMsZisyKihFLWYpLzMsRisyKihELUYpLzMsRysyKihFLUcpLzMsRixHXX0pO209RDtuPUU7ZT1GO2Y9RzticmVhaztjYXNlICJBIjp2YXIgST1NYXRoLmFicyh0WzBdKSxLPU1hdGguYWJzKHRbMV0pLE89dFsyXSxQPXRbM10sUT10WzRdLE09dFs1XSxOPXRbNl07aWYoMD09PUl8fDA9PT1LKWEucHVzaCh7a2V5OiJDIixkYXRhOltlLGYsTSxOLE0sTl19KSxlPU0sZj1OO2Vsc2UgaWYoZSE9PU18fGYhPT1OKWJhKGUsZixNLE4sSSxLLE8sUCxRKS5mb3JFYWNoKGZ1bmN0aW9uKGMpe2EucHVzaCh7a2V5OiJDIixkYXRhOmN9KX0pLGU9TSxmPU47YnJlYWs7Y2FzZSAiWiI6YS5wdXNoKHtrZXk6IloiLGRhdGE6W119KSxlPWcsZj1ifWM9Un19Y2F0Y2gobmEpe2QuZShuYSl9ZmluYWxseXtkLmYoKX1yZXR1cm4gYX1mdW5jdGlvbiBHKGQsYSxjKXtyZXR1cm5bZCpNYXRoLmNvcyhjKS1hKk1hdGguc2luKGMpLApkKk1hdGguc2luKGMpK2EqTWF0aC5jb3MoYyldfWZ1bmN0aW9uIGJhKGQsYSxjLGUsZixnLGIsbSxuLGgpe3ZhciByPShrPWIsTWF0aC5QSSprLzE4MCksaztrPVtdO2lmKGgpe3ZhciB3PV9zbGljZWRUb0FycmF5KGgsNCk7dmFyIGw9d1swXTttPXdbMV07dmFyIHA9d1syXTt3PXdbM119ZWxzZXtsPUcoZCxhLC1yKTthPV9zbGljZWRUb0FycmF5KGwsMik7ZD1hWzBdO2E9YVsxXTtsO2w9RyhjLGUsLXIpO2U9X3NsaWNlZFRvQXJyYXkobCwyKTtjPWVbMF07ZT1lWzFdO2w7bD0oZC1jKS8yO3A9KGEtZSkvMjt3PWwqbC8oZipmKStwKnAvKGcqZyk7MTx3JiYodz1NYXRoLnNxcnQodyksZio9dyxnKj13KTt3PWYqZjt2YXIgcT1nKmc7bT0obT09PW4/LTE6MSkqTWF0aC5zcXJ0KE1hdGguYWJzKCh3KnEtdypwKnAtcSpsKmwpLyh3KnAqcCtxKmwqbCkpKTtwPW0qZipwL2crKGQrYykvMjt3PW0qLWcqbC9mKyhhK2UpLzI7bD1NYXRoLmFzaW4ocGFyc2VGbG9hdCgoKGEtdykvZykudG9GaXhlZCg5KSkpOwptPU1hdGguYXNpbihwYXJzZUZsb2F0KCgoZS13KS9nKS50b0ZpeGVkKDkpKSk7ZDxwJiYobD1NYXRoLlBJLWwpO2M8cCYmKG09TWF0aC5QSS1tKTswPmwmJihsPTIqTWF0aC5QSStsKTswPm0mJihtPTIqTWF0aC5QSSttKTtuJiZsPm0mJihsLT0yKk1hdGguUEkpOyFuJiZtPmwmJihtLT0yKk1hdGguUEkpfWlmKE1hdGguYWJzKG0tbCk+MTIwKk1hdGguUEkvMTgwKXtrPW07cT1jO3ZhciBWPWU7bT1uJiZtPmw/bCsxMjAqTWF0aC5QSS8xODA6bCsxMjAqTWF0aC5QSS8xODAqLTE7az1iYShjPXArZipNYXRoLmNvcyhtKSxlPXcrZypNYXRoLnNpbihtKSxxLFYsZixnLGIsMCxuLFttLGsscCx3XSl9Yj1NYXRoLnRhbigobS1sKS80KTtmPTQvMypmKmI7Yio9NC8zKmc7Zz1bZCxhXTtkPVtkK2YqTWF0aC5zaW4obCksYS1iKk1hdGguY29zKGwpXTthPVtjK2YqTWF0aC5zaW4obSksZS1iKk1hdGguY29zKG0pXTtjPVtjLGVdO2lmKGRbMF09MipnWzBdLWRbMF0sZFsxXT0yKmdbMV0tZFsxXSwKaClyZXR1cm5bZCxhLGNdLmNvbmNhdChrKTtrPVtkLGEsY10uY29uY2F0KGspO2g9W107Zm9yKGM9MDtjPGsubGVuZ3RoO2MrPTMpZT1HKGtbY11bMF0sa1tjXVsxXSxyKSxkPUcoa1tjKzFdWzBdLGtbYysxXVsxXSxyKSxhPUcoa1tjKzJdWzBdLGtbYysyXVsxXSxyKSxoLnB1c2goW2VbMF0sZVsxXSxkWzBdLGRbMV0sYVswXSxhWzFdXSk7cmV0dXJuIGh9ZnVuY3Rpb24gTyhkLGEsYyl7dmFyIGU9KGR8fFtdKS5sZW5ndGg7aWYoMjxlKXtmb3IodmFyIGY9W10sZz0wO2c8ZS0xO2crKylmLnB1c2guYXBwbHkoZixfdG9Db25zdW1hYmxlQXJyYXkoeShkW2ddWzBdLGRbZ11bMV0sZFtnKzFdWzBdLGRbZysxXVsxXSxjKSkpO3JldHVybiBhJiZmLnB1c2guYXBwbHkoZixfdG9Db25zdW1hYmxlQXJyYXkoeShkW2UtMV1bMF0sZFtlLTFdWzFdLGRbMF1bMF0sZFswXVsxXSxjKSkpLHt0eXBlOiJwYXRoIixvcHM6Zn19cmV0dXJuIDI9PT1lP3t0eXBlOiJwYXRoIixvcHM6eShkWzBdWzBdLGRbMF1bMV0sCmRbMV1bMF0sZFsxXVsxXSxjKX06e3R5cGU6InBhdGgiLG9wczpbXX19ZnVuY3Rpb24gb2EoZCxhKXt2YXIgYz1jYShkLDErLjIqYS5yb3VnaG5lc3MsYSk7aWYoIWEuZGlzYWJsZU11bHRpU3Ryb2tlKXt2YXIgZT0xLjUqKDErLjIyKmEucm91Z2huZXNzKSxmPU9iamVjdC5hc3NpZ24oe30sYSk7Zi5yYW5kb21pemVyPXZvaWQgMDthLnNlZWQmJihmLnNlZWQ9YS5zZWVkKzEpO2Q9Y2EoZCxlLGYpO2M9Yy5jb25jYXQoZCl9cmV0dXJue3R5cGU6InBhdGgiLG9wczpjfX1mdW5jdGlvbiBkYShkLGEsYyl7dmFyIGU9MipNYXRoLlBJL01hdGgubWF4KGMuY3VydmVTdGVwQ291bnQsYy5jdXJ2ZVN0ZXBDb3VudC9NYXRoLnNxcnQoMjAwKSpNYXRoLnNxcnQoMipNYXRoLlBJKk1hdGguc3FydCgoTWF0aC5wb3coZC8yLDIpK01hdGgucG93KGEvMiwyKSkvMikpKTtkPU1hdGguYWJzKGQvMik7YT1NYXRoLmFicyhhLzIpO3ZhciBmPTEtYy5jdXJ2ZUZpdHRpbmc7cmV0dXJuIGQrPXAoZCpmLGMpLAphKz1wKGEqZixjKSx7aW5jcmVtZW50OmUscng6ZCxyeTphfX1mdW5jdGlvbiBXKGQsYSxjLGUpe3ZhciBmPWVhKGUuaW5jcmVtZW50LGQsYSxlLnJ4LGUucnksMSxlLmluY3JlbWVudCpQKC4xLFAoLjQsMSxjKSxjKSxjKSxnPV9zbGljZWRUb0FycmF5KGYsMik7Zj1nWzFdO2c9UShnWzBdLG51bGwsYyk7Yy5kaXNhYmxlTXVsdGlTdHJva2V8fChkPWVhKGUuaW5jcmVtZW50LGQsYSxlLnJ4LGUucnksMS41LDAsYyksZD1fc2xpY2VkVG9BcnJheShkLDEpWzBdLGM9UShkLG51bGwsYyksZz1nLmNvbmNhdChjKSk7cmV0dXJue2VzdGltYXRlZFBvaW50czpmLG9wc2V0Ont0eXBlOiJwYXRoIixvcHM6Z319fWZ1bmN0aW9uIGZhKGQsYSxjLGUsZixnLGIsbSxuKXtjPU1hdGguYWJzKGMvMik7ZT1NYXRoLmFicyhlLzIpO2MrPXAoLjAxKmMsbik7Zm9yKGUrPXAoLjAxKmUsbik7MD5mOylmKz0yKk1hdGguUEksZys9MipNYXRoLlBJO2ctZj4yKk1hdGguUEkmJihmPTAsZz0yKk1hdGguUEkpO3ZhciBoPQpNYXRoLm1pbigyKk1hdGguUEkvbi5jdXJ2ZVN0ZXBDb3VudC8yLChnLWYpLzIpLHI9aGEoaCxkLGEsYyxlLGYsZywxLG4pO24uZGlzYWJsZU11bHRpU3Ryb2tlfHwoaD1oYShoLGQsYSxjLGUsZixnLDEuNSxuKSxyLnB1c2guYXBwbHkocixfdG9Db25zdW1hYmxlQXJyYXkoaCkpKTtyZXR1cm4gYiYmKG0/ci5wdXNoLmFwcGx5KHIsX3RvQ29uc3VtYWJsZUFycmF5KHkoZCxhLGQrYypNYXRoLmNvcyhmKSxhK2UqTWF0aC5zaW4oZiksbikpLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoeShkLGEsZCtjKk1hdGguY29zKGcpLGErZSpNYXRoLnNpbihnKSxuKSkpKTpyLnB1c2goe29wOiJsaW5lVG8iLGRhdGE6W2QsYV19LHtvcDoibGluZVRvIixkYXRhOltkK2MqTWF0aC5jb3MoZiksYStlKk1hdGguc2luKGYpXX0pKSx7dHlwZToicGF0aCIsb3BzOnJ9fWZ1bmN0aW9uIEkoZCxhKXt2YXIgYz1bXTtpZihkLmxlbmd0aCl7dmFyIGU9YS5tYXhSYW5kb21uZXNzT2Zmc2V0fHwwLGY9ZC5sZW5ndGg7CmlmKDI8Zil7Yy5wdXNoKHtvcDoibW92ZSIsZGF0YTpbZFswXVswXStwKGUsYSksZFswXVsxXStwKGUsYSldfSk7Zm9yKHZhciBnPTE7ZzxmO2crKyljLnB1c2goe29wOiJsaW5lVG8iLGRhdGE6W2RbZ11bMF0rcChlLGEpLGRbZ11bMV0rcChlLGEpXX0pfX1yZXR1cm57dHlwZToiZmlsbFBhdGgiLG9wczpjfX1mdW5jdGlvbiBEKGQsYSl7dmFyIGM9cGEsZT1hLmZpbGxTdHlsZXx8ImhhY2h1cmUiO2lmKCF4W2VdKXN3aXRjaChlKXtjYXNlICJ6aWd6YWciOnhbZV18fCh4W2VdPW5ldyBxYShjKSk7YnJlYWs7Y2FzZSAiY3Jvc3MtaGF0Y2giOnhbZV18fCh4W2VdPW5ldyByYShjKSk7YnJlYWs7Y2FzZSAiZG90cyI6eFtlXXx8KHhbZV09bmV3IHNhKGMpKTticmVhaztjYXNlICJkYXNoZWQiOnhbZV18fCh4W2VdPW5ldyB0YShjKSk7YnJlYWs7Y2FzZSAiemlnemFnLWxpbmUiOnhbZV18fCh4W2VdPW5ldyB1YShjKSk7YnJlYWs7ZGVmYXVsdDplPSJoYWNodXJlIix4W2VdfHwoeFtlXT1uZXcgWChjKSl9cmV0dXJuIHhbZV0uZmlsbFBvbHlnb24oZCwKYSl9ZnVuY3Rpb24gaWEoZCl7cmV0dXJuIGQucmFuZG9taXplcnx8KGQucmFuZG9taXplcj1uZXcgdmEoZC5zZWVkfHwwKSksZC5yYW5kb21pemVyLm5leHQoKX1mdW5jdGlvbiBQKGQsYSxjKXtyZXR1cm4gYy5yb3VnaG5lc3MqKDM8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXToxKSooaWEoYykqKGEtZCkrZCl9ZnVuY3Rpb24gcChkLGEpe3JldHVybiBQKC1kLGQsYSwyPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MSl9ZnVuY3Rpb24geShkLGEsYyxlLGYpe3ZhciBnPTU8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzVdJiZhcmd1bWVudHNbNV0/Zi5kaXNhYmxlTXVsdGlTdHJva2VGaWxsOmYuZGlzYWJsZU11bHRpU3Ryb2tlLGI9amEoZCxhLGMsZSxmLCEwLCExKTtpZihnKXJldHVybiBiO2c9amEoZCxhLGMsZSxmLCEwLCEwKTtyZXR1cm4gYi5jb25jYXQoZyl9CmZ1bmN0aW9uIGphKGQsYSxjLGUsZixnLGIpe3ZhciBtPU1hdGgucG93KGQtYywyKStNYXRoLnBvdyhhLWUsMiksbj1NYXRoLnNxcnQobSksaD0xO2g9MjAwPm4/MTo1MDA8bj8uNDotLjAwMTY2NjgqbisxLjIzMzMzNDt2YXIgcj1mLm1heFJhbmRvbW5lc3NPZmZzZXR8fDA7cipyKjEwMD5tJiYocj1uLzEwKTt2YXIgaz1yLzI7bT0uMisuMippYShmKTtuPWYuYm93aW5nKmYubWF4UmFuZG9tbmVzc09mZnNldCooZS1hKS8yMDA7dmFyIGw9Zi5ib3dpbmcqZi5tYXhSYW5kb21uZXNzT2Zmc2V0KihkLWMpLzIwMDtuPXAobixmLGgpO2w9cChsLGYsaCk7dmFyIHE9W10sQT1mdW5jdGlvbigpe3JldHVybiBwKGssZixoKX0sSD1mdW5jdGlvbigpe3JldHVybiBwKHIsZixoKX07cmV0dXJuIGcmJihiP3EucHVzaCh7b3A6Im1vdmUiLGRhdGE6W2QrQSgpLGErQSgpXX0pOnEucHVzaCh7b3A6Im1vdmUiLGRhdGE6W2QrcChyLGYsaCksYStwKHIsZixoKV19KSksYj9xLnB1c2goe29wOiJiY3VydmVUbyIsCmRhdGE6W24rZCsoYy1kKSptK0EoKSxsK2ErKGUtYSkqbStBKCksbitkKzIqKGMtZCkqbStBKCksbCthKzIqKGUtYSkqbStBKCksYytBKCksZStBKCldfSk6cS5wdXNoKHtvcDoiYmN1cnZlVG8iLGRhdGE6W24rZCsoYy1kKSptK0goKSxsK2ErKGUtYSkqbStIKCksbitkKzIqKGMtZCkqbStIKCksbCthKzIqKGUtYSkqbStIKCksYytIKCksZStIKCldfSkscX1mdW5jdGlvbiBjYShkLGEsYyl7dmFyIGU9W107ZS5wdXNoKFtkWzBdWzBdK3AoYSxjKSxkWzBdWzFdK3AoYSxjKV0pO2UucHVzaChbZFswXVswXStwKGEsYyksZFswXVsxXStwKGEsYyldKTtmb3IodmFyIGY9MTtmPGQubGVuZ3RoO2YrKyllLnB1c2goW2RbZl1bMF0rcChhLGMpLGRbZl1bMV0rcChhLGMpXSksZj09PWQubGVuZ3RoLTEmJmUucHVzaChbZFtmXVswXStwKGEsYyksZFtmXVsxXStwKGEsYyldKTtyZXR1cm4gUShlLG51bGwsYyl9ZnVuY3Rpb24gUShkLGEsYyl7dmFyIGU9ZC5sZW5ndGgsZj1bXTtpZigzPGUpe3ZhciBnPQpbXSxiPTEtYy5jdXJ2ZVRpZ2h0bmVzcztmLnB1c2goe29wOiJtb3ZlIixkYXRhOltkWzFdWzBdLGRbMV1bMV1dfSk7Zm9yKHZhciBtPTE7bSsyPGU7bSsrKXt2YXIgbj1kW21dO2dbMF09W25bMF0sblsxXV07Z1sxXT1bblswXSsoYipkW20rMV1bMF0tYipkW20tMV1bMF0pLzYsblsxXSsoYipkW20rMV1bMV0tYipkW20tMV1bMV0pLzZdO2dbMl09W2RbbSsxXVswXSsoYipkW21dWzBdLWIqZFttKzJdWzBdKS82LGRbbSsxXVsxXSsoYipkW21dWzFdLWIqZFttKzJdWzFdKS82XTtnWzNdPVtkW20rMV1bMF0sZFttKzFdWzFdXTtmLnB1c2goe29wOiJiY3VydmVUbyIsZGF0YTpbZ1sxXVswXSxnWzFdWzFdLGdbMl1bMF0sZ1syXVsxXSxnWzNdWzBdLGdbM11bMV1dfSl9YSYmMj09PWEubGVuZ3RoJiYoZD1jLm1heFJhbmRvbW5lc3NPZmZzZXQsZi5wdXNoKHtvcDoibGluZVRvIixkYXRhOlthWzBdK3AoZCxjKSxhWzFdK3AoZCxjKV19KSl9ZWxzZSAzPT09ZT8oZi5wdXNoKHtvcDoibW92ZSIsCmRhdGE6W2RbMV1bMF0sZFsxXVsxXV19KSxmLnB1c2goe29wOiJiY3VydmVUbyIsZGF0YTpbZFsxXVswXSxkWzFdWzFdLGRbMl1bMF0sZFsyXVsxXSxkWzJdWzBdLGRbMl1bMV1dfSkpOjI9PT1lJiZmLnB1c2guYXBwbHkoZixfdG9Db25zdW1hYmxlQXJyYXkoeShkWzBdWzBdLGRbMF1bMV0sZFsxXVswXSxkWzFdWzFdLGMpKSk7cmV0dXJuIGZ9ZnVuY3Rpb24gZWEoZCxhLGMsZSxmLGIsaCxtKXt2YXIgZz1bXSxrPVtdLHI9cCguNSxtKS1NYXRoLlBJLzI7ay5wdXNoKFtwKGIsbSkrYSsuOSplKk1hdGguY29zKHItZCkscChiLG0pK2MrLjkqZipNYXRoLnNpbihyLWQpXSk7Zm9yKHZhciBsPXI7bDwyKk1hdGguUEkrci0uMDE7bCs9ZCl7dmFyIHQ9W3AoYixtKSthK2UqTWF0aC5jb3MobCkscChiLG0pK2MrZipNYXRoLnNpbihsKV07Zy5wdXNoKHQpO2sucHVzaCh0KX1yZXR1cm4gay5wdXNoKFtwKGIsbSkrYStlKk1hdGguY29zKHIrMipNYXRoLlBJKy41KmgpLHAoYixtKStjK2YqTWF0aC5zaW4ocisKMipNYXRoLlBJKy41KmgpXSksay5wdXNoKFtwKGIsbSkrYSsuOTgqZSpNYXRoLmNvcyhyK2gpLHAoYixtKStjKy45OCpmKk1hdGguc2luKHIraCldKSxrLnB1c2goW3AoYixtKSthKy45KmUqTWF0aC5jb3MocisuNSpoKSxwKGIsbSkrYysuOSpmKk1hdGguc2luKHIrLjUqaCldKSxbayxnXX1mdW5jdGlvbiBoYShkLGEsYyxlLGYsYixoLG0sbil7dmFyIGc9YitwKC4xLG4pO2I9W107Zm9yKGIucHVzaChbcChtLG4pK2ErLjkqZSpNYXRoLmNvcyhnLWQpLHAobSxuKStjKy45KmYqTWF0aC5zaW4oZy1kKV0pO2c8PWg7Zys9ZCliLnB1c2goW3AobSxuKSthK2UqTWF0aC5jb3MoZykscChtLG4pK2MrZipNYXRoLnNpbihnKV0pO3JldHVybiBiLnB1c2goW2ErZSpNYXRoLmNvcyhoKSxjK2YqTWF0aC5zaW4oaCldKSxiLnB1c2goW2ErZSpNYXRoLmNvcyhoKSxjK2YqTWF0aC5zaW4oaCldKSxRKGIsbnVsbCxuKX1mdW5jdGlvbiB3YShiLGEsYyxlLGYsZyxoLG0pe2Zvcih2YXIgZD1bXSxrPVttLm1heFJhbmRvbW5lc3NPZmZzZXR8fAoxLChtLm1heFJhbmRvbW5lc3NPZmZzZXR8fDEpKy4zXSxyLGw9bS5kaXNhYmxlTXVsdGlTdHJva2U/MToyLHQ9MDt0PGw7dCsrKTA9PT10P2QucHVzaCh7b3A6Im1vdmUiLGRhdGE6W2hbMF0saFsxXV19KTpkLnB1c2goe29wOiJtb3ZlIixkYXRhOltoWzBdK3Aoa1swXSxtKSxoWzFdK3Aoa1swXSxtKV19KSxyPVtmK3Aoa1t0XSxtKSxnK3Aoa1t0XSxtKV0sZC5wdXNoKHtvcDoiYmN1cnZlVG8iLGRhdGE6W2IrcChrW3RdLG0pLGErcChrW3RdLG0pLGMrcChrW3RdLG0pLGUrcChrW3RdLG0pLHJbMF0sclsxXV19KTtyZXR1cm4gZH1mdW5jdGlvbiBTKGIsYSl7cmV0dXJuIE1hdGgucG93KGJbMF0tYVswXSwyKStNYXRoLnBvdyhiWzFdLWFbMV0sMil9ZnVuY3Rpb24gRShiLGEsYyl7cmV0dXJuW2JbMF0rKGFbMF0tYlswXSkqYyxiWzFdKyhhWzFdLWJbMV0pKmNdfWZ1bmN0aW9uIFkoYixhLGMsZSl7ZT1lfHxbXTt2YXIgZj1iW2ErMF0sZD1iW2ErMV0saD1iW2ErMl0sbT1iW2ErM10sbj0KMypkWzBdLTIqZlswXS1tWzBdO24qPW47ZD0zKmRbMV0tMipmWzFdLW1bMV07ZCo9ZDt2YXIgaz0zKmhbMF0tMiptWzBdLWZbMF07ayo9aztmPTMqaFsxXS0yKm1bMV0tZlsxXTsoZio9ZixuPGsmJihuPWspLGQ8ZiYmKGQ9ZiksbitkKTxjPyhjPWJbYSswXSxlLmxlbmd0aD8xPChsPWVbZS5sZW5ndGgtMV0scD1jLE1hdGguc3FydChTKGwscCkpKSYmZS5wdXNoKGMpOmUucHVzaChjKSxlLnB1c2goYlthKzNdKSk6KGw9YlthKzBdLG49YlthKzFdLHA9YlthKzJdLGI9YlthKzNdLGE9RShsLG4sLjUpLGY9RShuLHAsLjUpLHA9RShwLGIsLjUpLG49RShhLGYsLjUpLGY9RShmLHAsLjUpLGg9RShuLGYsLjUpLFkoW2wsYSxuLGhdLDAsYyxlKSxZKFtoLGYscCxiXSwwLGMsZSkpO3ZhciBsLHA7cmV0dXJuIGV9ZnVuY3Rpb24gVChiLGEsYyxlLGYpe2Y9Znx8W107Zm9yKHZhciBkPWJbYV0saD1iW2MtMV0sbT0wLG49MSxrPWErMTtrPGMtMTsrK2spe3ZhciBsPWJba107dmFyIHA9ZCx0PWgsCnE9UyhwLHQpOzA9PT1xP2w9UyhsLHApOihxPSgobFswXS1wWzBdKSoodFswXS1wWzBdKSsobFsxXS1wWzFdKSoodFsxXS1wWzFdKSkvcSxsPShxPU1hdGgubWF4KDAsTWF0aC5taW4oMSxxKSksUyhsLEUocCx0LHEpKSkpO2w+bSYmKG09bCxuPWspfXJldHVybiBNYXRoLnNxcnQobSk+ZT8oVChiLGEsbisxLGUsZiksVChiLG4sYyxlLGYpKTooZi5sZW5ndGh8fGYucHVzaChkKSxmLnB1c2goaCkpLGZ9ZnVuY3Rpb24ga2EoYil7Zm9yKHZhciBhPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTouMTUsYz0yPGFyZ3VtZW50cy5sZW5ndGg/YXJndW1lbnRzWzJdOnZvaWQgMCxlPVtdLGY9KGIubGVuZ3RoLTEpLzMsZD0wO2Q8ZjtkKyspWShiLDMqZCxhLGUpO3JldHVybiBjJiYwPGM/VChlLDAsZS5sZW5ndGgsYyk6ZX12YXIgWD1mdW5jdGlvbigpe2Z1bmN0aW9uIGIoYSl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsYik7dGhpcy5oZWxwZXI9YX0KX2NyZWF0ZUNsYXNzKGIsW3trZXk6ImZpbGxQb2x5Z29uIix2YWx1ZTpmdW5jdGlvbihhLGMpe3JldHVybiB0aGlzLl9maWxsUG9seWdvbihhLGMpfX0se2tleToiX2ZpbGxQb2x5Z29uIix2YWx1ZTpmdW5jdGlvbihhLGMpe3ZhciBlPTI8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTohMSxiPXooYSxjKTtlJiYoZT10aGlzLmNvbm5lY3RpbmdMaW5lcyhhLGIpLGI9Yi5jb25jYXQoZSkpO3JldHVybnt0eXBlOiJmaWxsU2tldGNoIixvcHM6dGhpcy5yZW5kZXJMaW5lcyhiLGMpfX19LHtrZXk6InJlbmRlckxpbmVzIix2YWx1ZTpmdW5jdGlvbihhLGMpe3ZhciBlPVtdO2E9X2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoYSk7dmFyIGI7dHJ5e2ZvcihhLnMoKTshKGI9YS5uKCkpLmRvbmU7KXt2YXIgZD1iLnZhbHVlO2UucHVzaC5hcHBseShlLF90b0NvbnN1bWFibGVBcnJheSh0aGlzLmhlbHBlci5kb3VibGVMaW5lT3BzKGRbMF1bMF0sCmRbMF1bMV0sZFsxXVswXSxkWzFdWzFdLGMpKSl9fWNhdGNoKHIpe2EuZShyKX1maW5hbGx5e2EuZigpfXJldHVybiBlfX0se2tleToiY29ubmVjdGluZ0xpbmVzIix2YWx1ZTpmdW5jdGlvbihhLGMpe3ZhciBlPVtdO2lmKDE8Yy5sZW5ndGgpZm9yKHZhciBiPTE7YjxjLmxlbmd0aDtiKyspe3ZhciBkPWNbYi0xXTszPmgoZCl8fChkPVtjW2JdWzBdLGRbMV1dLDM8aChkKSYmKGQ9dGhpcy5zcGxpdE9uSW50ZXJzZWN0aW9ucyhhLGQpLGUucHVzaC5hcHBseShlLF90b0NvbnN1bWFibGVBcnJheShkKSkpKX1yZXR1cm4gZX19LHtrZXk6Im1pZFBvaW50SW5Qb2x5Z29uIix2YWx1ZTpmdW5jdGlvbihhLGMpe3JldHVybiBsKGEsKGNbMF1bMF0rY1sxXVswXSkvMiwoY1swXVsxXStjWzFdWzFdKS8yKX19LHtrZXk6InNwbGl0T25JbnRlcnNlY3Rpb25zIix2YWx1ZTpmdW5jdGlvbihhLGMpe2Zvcih2YXIgZT1NYXRoLm1heCg1LC4xKmgoYykpLGI9W10sZD0wO2Q8YS5sZW5ndGg7ZCsrKXt2YXIgcj0KYVtkXSxtPWFbKGQrMSklYS5sZW5ndGhdO2lmKHYuYXBwbHkodm9pZCAwLFtyLG1dLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoYykpKSYmKHI9ayhyLG0sY1swXSxjWzFdKSkpe209aChbcixjWzBdXSk7dmFyIG49aChbcixjWzFdXSk7bT5lJiZuPmUmJmIucHVzaCh7cG9pbnQ6cixkaXN0YW5jZTptfSl9fWlmKDE8Yi5sZW5ndGgpe2U9Yi5zb3J0KGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGEuZGlzdGFuY2UtYy5kaXN0YW5jZX0pLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5wb2ludH0pO2lmKGwuYXBwbHkodm9pZCAwLFthXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGNbMF0pKSl8fGUuc2hpZnQoKSxsLmFwcGx5KHZvaWQgMCxbYV0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShjWzFdKSkpfHxlLnBvcCgpLDE+PWUubGVuZ3RoKXJldHVybiB0aGlzLm1pZFBvaW50SW5Qb2x5Z29uKGEsYyk/W2NdOltdO2M9W2NbMF1dLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoZSksW2NbMV1dKTsKZT1bXTtmb3IoYj0wO2I8Yy5sZW5ndGgtMTtiKz0yKWQ9W2NbYl0sY1tiKzFdXSx0aGlzLm1pZFBvaW50SW5Qb2x5Z29uKGEsZCkmJmUucHVzaChkKTtyZXR1cm4gZX1yZXR1cm4gdGhpcy5taWRQb2ludEluUG9seWdvbihhLGMpP1tjXTpbXX19XSk7cmV0dXJuIGJ9KCkscWE9ZnVuY3Rpb24oYil7ZnVuY3Rpb24gYSgpe19jbGFzc0NhbGxDaGVjayh0aGlzLGEpO3JldHVybiBjLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1faW5oZXJpdHMoYSxiKTt2YXIgYz1fY3JlYXRlU3VwZXIoYSk7X2NyZWF0ZUNsYXNzKGEsW3trZXk6ImZpbGxQb2x5Z29uIix2YWx1ZTpmdW5jdGlvbihhLGMpe3JldHVybiB0aGlzLl9maWxsUG9seWdvbihhLGMsITApfX1dKTtyZXR1cm4gYX0oWCkscmE9ZnVuY3Rpb24oYil7ZnVuY3Rpb24gYSgpe19jbGFzc0NhbGxDaGVjayh0aGlzLGEpO3JldHVybiBjLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1faW5oZXJpdHMoYSxiKTt2YXIgYz1fY3JlYXRlU3VwZXIoYSk7X2NyZWF0ZUNsYXNzKGEsClt7a2V5OiJmaWxsUG9seWdvbiIsdmFsdWU6ZnVuY3Rpb24oYSxjKXt2YXIgZT10aGlzLl9maWxsUG9seWdvbihhLGMpO2M9T2JqZWN0LmFzc2lnbih7fSxjLHtoYWNodXJlQW5nbGU6Yy5oYWNodXJlQW5nbGUrOTB9KTthPXRoaXMuX2ZpbGxQb2x5Z29uKGEsYyk7cmV0dXJuIGUub3BzPWUub3BzLmNvbmNhdChhLm9wcyksZX19XSk7cmV0dXJuIGF9KFgpLHNhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihhKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxiKTt0aGlzLmhlbHBlcj1hfV9jcmVhdGVDbGFzcyhiLFt7a2V5OiJmaWxsUG9seWdvbiIsdmFsdWU6ZnVuY3Rpb24oYSxjKXthPXooYSxjPU9iamVjdC5hc3NpZ24oe30sYyx7Y3VydmVTdGVwQ291bnQ6NCxoYWNodXJlQW5nbGU6MCxyb3VnaG5lc3M6MX0pKTtyZXR1cm4gdGhpcy5kb3RzT25MaW5lcyhhLGMpfX0se2tleToiZG90c09uTGluZXMiLHZhbHVlOmZ1bmN0aW9uKGEsYyl7dmFyIGU9W10sYj1jLmhhY2h1cmVHYXA7MD5iJiYoYj00KgpjLnN0cm9rZVdpZHRoKTtiPU1hdGgubWF4KGIsLjEpO3ZhciBkPWMuZmlsbFdlaWdodDswPmQmJihkPWMuc3Ryb2tlV2lkdGgvMik7dmFyIGs9Yi80O2E9X2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoYSk7dmFyIG07dHJ5e2ZvcihhLnMoKTshKG09YS5uKCkpLmRvbmU7KWZvcih2YXIgbj1tLnZhbHVlLGw9aChuKSxwPU1hdGguY2VpbChsL2IpLTEscT1sLXAqYix0PShuWzBdWzBdK25bMV1bMF0pLzItYi80LEo9TWF0aC5taW4oblswXVsxXSxuWzFdWzFdKSxBPTA7QTxwO0ErKyl7dmFyIEg9SitxK0EqYixWPXRoaXMuaGVscGVyLnJhbmRPZmZzZXRXaXRoUmFuZ2UodC1rLHQrayxjKSx1PXRoaXMuaGVscGVyLnJhbmRPZmZzZXRXaXRoUmFuZ2UoSC1rLEgrayxjKSx2PXRoaXMuaGVscGVyLmVsbGlwc2UoVix1LGQsZCxjKTtlLnB1c2guYXBwbHkoZSxfdG9Db25zdW1hYmxlQXJyYXkodi5vcHMpKX19Y2F0Y2goQil7YS5lKEIpfWZpbmFsbHl7YS5mKCl9cmV0dXJue3R5cGU6ImZpbGxTa2V0Y2giLApvcHM6ZX19fV0pO3JldHVybiBifSgpLHRhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihhKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxiKTt0aGlzLmhlbHBlcj1hfV9jcmVhdGVDbGFzcyhiLFt7a2V5OiJmaWxsUG9seWdvbiIsdmFsdWU6ZnVuY3Rpb24oYSxjKXthPXooYSxjKTtyZXR1cm57dHlwZToiZmlsbFNrZXRjaCIsb3BzOnRoaXMuZGFzaGVkTGluZShhLGMpfX19LHtrZXk6ImRhc2hlZExpbmUiLHZhbHVlOmZ1bmN0aW9uKGEsYyl7dmFyIGI9dGhpcyxkPTA+Yy5kYXNoT2Zmc2V0PzA+Yy5oYWNodXJlR2FwPzQqYy5zdHJva2VXaWR0aDpjLmhhY2h1cmVHYXA6Yy5kYXNoT2Zmc2V0LGc9MD5jLmRhc2hHYXA/MD5jLmhhY2h1cmVHYXA/NCpjLnN0cm9rZVdpZHRoOmMuaGFjaHVyZUdhcDpjLmRhc2hHYXAsaz1bXTtyZXR1cm4gYS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBlPWgoYSksZj1NYXRoLmZsb29yKGUvKGQrZykpO2U9KGUrZy1mKihkK2cpKS8yO3ZhciBtPWFbMF0sbD1hWzFdO21bMF0+CmxbMF0mJihtPWFbMV0sbD1hWzBdKTthPU1hdGguYXRhbigobFsxXS1tWzFdKS8obFswXS1tWzBdKSk7Zm9yKGw9MDtsPGY7bCsrKXt2YXIgcj1sKihkK2cpLHA9citkO3I9W21bMF0rcipNYXRoLmNvcyhhKStlKk1hdGguY29zKGEpLG1bMV0rcipNYXRoLnNpbihhKStlKk1hdGguc2luKGEpXTtwPVttWzBdK3AqTWF0aC5jb3MoYSkrZSpNYXRoLmNvcyhhKSxtWzFdK3AqTWF0aC5zaW4oYSkrZSpNYXRoLnNpbihhKV07ay5wdXNoLmFwcGx5KGssX3RvQ29uc3VtYWJsZUFycmF5KGIuaGVscGVyLmRvdWJsZUxpbmVPcHMoclswXSxyWzFdLHBbMF0scFsxXSxjKSkpfX0pLGt9fV0pO3JldHVybiBifSgpLHVhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihhKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxiKTt0aGlzLmhlbHBlcj1hfV9jcmVhdGVDbGFzcyhiLFt7a2V5OiJmaWxsUG9seWdvbiIsdmFsdWU6ZnVuY3Rpb24oYSxjKXt2YXIgYj0wPmMuaGFjaHVyZUdhcD80KmMuc3Ryb2tlV2lkdGg6Yy5oYWNodXJlR2FwLApkPTA+Yy56aWd6YWdPZmZzZXQ/YjpjLnppZ3phZ09mZnNldDthPXooYSxjPU9iamVjdC5hc3NpZ24oe30sYyx7aGFjaHVyZUdhcDpiK2R9KSk7cmV0dXJue3R5cGU6ImZpbGxTa2V0Y2giLG9wczp0aGlzLnppZ3phZ0xpbmVzKGEsZCxjKX19fSx7a2V5OiJ6aWd6YWdMaW5lcyIsdmFsdWU6ZnVuY3Rpb24oYSxjLGIpe3ZhciBlPXRoaXMsZD1bXTtyZXR1cm4gYS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBmPWgoYSk7Zj1NYXRoLnJvdW5kKGYvKDIqYykpO3ZhciBnPWFbMF0saz1hWzFdO2dbMF0+a1swXSYmKGc9YVsxXSxrPWFbMF0pO2E9TWF0aC5hdGFuKChrWzFdLWdbMV0pLyhrWzBdLWdbMF0pKTtmb3Ioaz0wO2s8ZjtrKyspe3ZhciBsPTIqaypjLHI9MiooaysxKSpjLHA9TWF0aC5zcXJ0KDIqTWF0aC5wb3coYywyKSk7bD1bZ1swXStsKk1hdGguY29zKGEpLGdbMV0rbCpNYXRoLnNpbihhKV07cj1bZ1swXStyKk1hdGguY29zKGEpLGdbMV0rcipNYXRoLnNpbihhKV07cD1bbFswXSsKcCpNYXRoLmNvcyhhK01hdGguUEkvNCksbFsxXStwKk1hdGguc2luKGErTWF0aC5QSS80KV07ZC5wdXNoLmFwcGx5KGQsX3RvQ29uc3VtYWJsZUFycmF5KGUuaGVscGVyLmRvdWJsZUxpbmVPcHMobFswXSxsWzFdLHBbMF0scFsxXSxiKSkuY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShlLmhlbHBlci5kb3VibGVMaW5lT3BzKHBbMF0scFsxXSxyWzBdLHJbMV0sYikpKSl9fSksZH19XSk7cmV0dXJuIGJ9KCkseD17fSx2YT1mdW5jdGlvbigpe2Z1bmN0aW9uIGIoYSl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsYik7dGhpcy5zZWVkPWF9X2NyZWF0ZUNsYXNzKGIsW3trZXk6Im5leHQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VlZD8oTWF0aC5wb3coMiwzMSktMSYodGhpcy5zZWVkPU1hdGguaW11bCg0ODI3MSx0aGlzLnNlZWQpKSkvTWF0aC5wb3coMiwzMSk6TWF0aC5yYW5kb20oKX19XSk7cmV0dXJuIGJ9KCksSz17QTo3LGE6NyxDOjYsYzo2LEg6MSxoOjEsTDoyLGw6MixNOjIsCm06MixROjQscTo0LFM6NCxzOjQsVDoyLHQ6MixWOjEsdjoxLFo6MCx6OjB9LHBhPXtyYW5kT2Zmc2V0OmZ1bmN0aW9uKGIsYSl7cmV0dXJuIHAoYixhKX0scmFuZE9mZnNldFdpdGhSYW5nZTpmdW5jdGlvbihiLGEsYyl7cmV0dXJuIFAoYixhLGMpfSxlbGxpcHNlOmZ1bmN0aW9uKGIsYSxjLGUsZil7Yz1kYShjLGUsZik7cmV0dXJuIFcoYixhLGYsYykub3BzZXR9LGRvdWJsZUxpbmVPcHM6ZnVuY3Rpb24oYixhLGMsZSxmKXtyZXR1cm4geShiLGEsYyxlLGYsITApfX0sVT1mdW5jdGlvbigpe2Z1bmN0aW9uIGIoYSl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsYik7dGhpcy5kZWZhdWx0T3B0aW9ucz17bWF4UmFuZG9tbmVzc09mZnNldDoyLHJvdWdobmVzczoxLGJvd2luZzoxLHN0cm9rZToiIzAwMCIsc3Ryb2tlV2lkdGg6MSxjdXJ2ZVRpZ2h0bmVzczowLGN1cnZlRml0dGluZzouOTUsY3VydmVTdGVwQ291bnQ6OSxmaWxsU3R5bGU6ImhhY2h1cmUiLGZpbGxXZWlnaHQ6LTEsaGFjaHVyZUFuZ2xlOi00MSwKaGFjaHVyZUdhcDotMSxkYXNoT2Zmc2V0Oi0xLGRhc2hHYXA6LTEsemlnemFnT2Zmc2V0Oi0xLHNlZWQ6MCxjb21iaW5lTmVzdGVkU3ZnUGF0aHM6ITEsZGlzYWJsZU11bHRpU3Ryb2tlOiExLGRpc2FibGVNdWx0aVN0cm9rZUZpbGw6ITF9O3RoaXMuY29uZmlnPWF8fHt9O3RoaXMuY29uZmlnLm9wdGlvbnMmJih0aGlzLmRlZmF1bHRPcHRpb25zPXRoaXMuX28odGhpcy5jb25maWcub3B0aW9ucykpfV9jcmVhdGVDbGFzcyhiLFt7a2V5OiJfbyIsdmFsdWU6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/T2JqZWN0LmFzc2lnbih7fSx0aGlzLmRlZmF1bHRPcHRpb25zLGEpOnRoaXMuZGVmYXVsdE9wdGlvbnN9fSx7a2V5OiJfZCIsdmFsdWU6ZnVuY3Rpb24oYSxjLGIpe3JldHVybntzaGFwZTphLHNldHM6Y3x8W10sb3B0aW9uczpifHx0aGlzLmRlZmF1bHRPcHRpb25zfX19LHtrZXk6ImxpbmUiLHZhbHVlOmZ1bmN0aW9uKGEsYyxiLGQsZyl7Zz10aGlzLl9vKGcpO3JldHVybiB0aGlzLl9kKCJsaW5lIiwKW3t0eXBlOiJwYXRoIixvcHM6eShhLGMsYixkLGcpfV0sZyl9fSx7a2V5OiJyZWN0YW5nbGUiLHZhbHVlOmZ1bmN0aW9uKGEsYyxiLGQsZyl7Zz10aGlzLl9vKGcpO3ZhciBlPVtdO3ZhciBmPU8oW1thLGNdLFthK2IsY10sW2ErYixjK2RdLFthLGMrZF1dLCEwLGcpO2cuZmlsbCYmKGE9W1thLGNdLFthK2IsY10sW2ErYixjK2RdLFthLGMrZF1dLCJzb2xpZCI9PT1nLmZpbGxTdHlsZT9lLnB1c2goSShhLGcpKTplLnB1c2goRChhLGcpKSk7cmV0dXJuIm5vbmUiIT09Zy5zdHJva2UmJmUucHVzaChmKSx0aGlzLl9kKCJyZWN0YW5nbGUiLGUsZyl9fSx7a2V5OiJlbGxpcHNlIix2YWx1ZTpmdW5jdGlvbihhLGMsYixkLGcpe2c9dGhpcy5fbyhnKTt2YXIgZT1bXTtkPWRhKGIsZCxnKTtiPVcoYSxjLGcsZCk7Zy5maWxsJiYoInNvbGlkIj09PWcuZmlsbFN0eWxlPyhhPVcoYSxjLGcsZCkub3BzZXQsYS50eXBlPSJmaWxsUGF0aCIsZS5wdXNoKGEpKTplLnB1c2goRChiLmVzdGltYXRlZFBvaW50cywKZykpKTtyZXR1cm4ibm9uZSIhPT1nLnN0cm9rZSYmZS5wdXNoKGIub3BzZXQpLHRoaXMuX2QoImVsbGlwc2UiLGUsZyl9fSx7a2V5OiJjaXJjbGUiLHZhbHVlOmZ1bmN0aW9uKGEsYyxiLGQpe2E9dGhpcy5lbGxpcHNlKGEsYyxiLGIsZCk7cmV0dXJuIGEuc2hhcGU9ImNpcmNsZSIsYX19LHtrZXk6ImxpbmVhclBhdGgiLHZhbHVlOmZ1bmN0aW9uKGEsYyl7Yz10aGlzLl9vKGMpO3JldHVybiB0aGlzLl9kKCJsaW5lYXJQYXRoIixbTyhhLCExLGMpXSxjKX19LHtrZXk6ImFyYyIsdmFsdWU6ZnVuY3Rpb24oYSxjLGIsZCxnLGgpe3ZhciBlPTY8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzZdP2FyZ3VtZW50c1s2XTohMSxmPXRoaXMuX28oNzxhcmd1bWVudHMubGVuZ3RoP2FyZ3VtZW50c1s3XTp2b2lkIDApLGs9W10sbD1mYShhLGMsYixkLGcsaCxlLCEwLGYpO2UmJmYuZmlsbCYmKCJzb2xpZCI9PT1mLmZpbGxTdHlsZT8oZT1mYShhLGMsYixkLGcsaCwhMCwhMSxmKSwKZS50eXBlPSJmaWxsUGF0aCIsay5wdXNoKGUpKTprLnB1c2goZnVuY3Rpb24oYSxjLGIsZSxkLGYsZyl7Yj1NYXRoLmFicyhiLzIpO2U9TWF0aC5hYnMoZS8yKTtiKz1wKC4wMSpiLGcpO2ZvcihlKz1wKC4wMSplLGcpOzA+ZDspZCs9MipNYXRoLlBJLGYrPTIqTWF0aC5QSTtmLWQ+MipNYXRoLlBJJiYoZD0wLGY9MipNYXRoLlBJKTtmb3IodmFyIGg9KGYtZCkvZy5jdXJ2ZVN0ZXBDb3VudCxtPVtdO2Q8PWY7ZCs9aCltLnB1c2goW2ErYipNYXRoLmNvcyhkKSxjK2UqTWF0aC5zaW4oZCldKTtyZXR1cm4gbS5wdXNoKFthK2IqTWF0aC5jb3MoZiksYytlKk1hdGguc2luKGYpXSksbS5wdXNoKFthLGNdKSxEKG0sZyl9KGEsYyxiLGQsZyxoLGYpKSk7cmV0dXJuIm5vbmUiIT09Zi5zdHJva2UmJmsucHVzaChsKSx0aGlzLl9kKCJhcmMiLGssZil9fSx7a2V5OiJjdXJ2ZSIsdmFsdWU6ZnVuY3Rpb24oYSxjKXtjPXRoaXMuX28oYyk7dmFyIGI9W10sZD1vYShhLGMpO2MuZmlsbCYmIm5vbmUiIT09CmMuZmlsbCYmMzw9YS5sZW5ndGgmJihhPWthKGZ1bmN0aW9uKGEpe3ZhciBjPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLGI9YS5sZW5ndGg7aWYoMz5iKXRocm93IEVycm9yKCJBIGN1cnZlIG11c3QgaGF2ZSBhdCBsZWFzdCB0aHJlZSBwb2ludHMuIik7dmFyIGU9W107aWYoMz09PWIpZS5wdXNoKF90b0NvbnN1bWFibGVBcnJheShhWzBdKSxfdG9Db25zdW1hYmxlQXJyYXkoYVsxXSksX3RvQ29uc3VtYWJsZUFycmF5KGFbMl0pLF90b0NvbnN1bWFibGVBcnJheShhWzJdKSk7ZWxzZXtiPVtdO2IucHVzaChhWzBdLGFbMF0pO2Zvcih2YXIgZD0xO2Q8YS5sZW5ndGg7ZCsrKWIucHVzaChhW2RdKSxkPT09YS5sZW5ndGgtMSYmYi5wdXNoKGFbZF0pO2Q9W107Yz0xLWM7ZS5wdXNoKF90b0NvbnN1bWFibGVBcnJheShiWzBdKSk7Zm9yKHZhciBmPTE7ZisyPGIubGVuZ3RoO2YrKyl7dmFyIGc9YltmXTtkWzBdPVtnWzBdLGdbMV1dOwpkWzFdPVtnWzBdKyhjKmJbZisxXVswXS1jKmJbZi0xXVswXSkvNixnWzFdKyhjKmJbZisxXVsxXS1jKmJbZi0xXVsxXSkvNl07ZFsyXT1bYltmKzFdWzBdKyhjKmJbZl1bMF0tYypiW2YrMl1bMF0pLzYsYltmKzFdWzFdKyhjKmJbZl1bMV0tYypiW2YrMl1bMV0pLzZdO2RbM109W2JbZisxXVswXSxiW2YrMV1bMV1dO2UucHVzaChkWzFdLGRbMl0sZFszXSl9fXJldHVybiBlfShhKSwxMCwoMStjLnJvdWdobmVzcykvMiksInNvbGlkIj09PWMuZmlsbFN0eWxlP2IucHVzaChJKGEsYykpOmIucHVzaChEKGEsYykpKTtyZXR1cm4ibm9uZSIhPT1jLnN0cm9rZSYmYi5wdXNoKGQpLHRoaXMuX2QoImN1cnZlIixiLGMpfX0se2tleToicG9seWdvbiIsdmFsdWU6ZnVuY3Rpb24oYSxjKXtjPXRoaXMuX28oYyk7dmFyIGI9W10sZD1PKGEsITAsYyk7cmV0dXJuIGMuZmlsbCYmKCJzb2xpZCI9PT1jLmZpbGxTdHlsZT9iLnB1c2goSShhLGMpKTpiLnB1c2goRChhLGMpKSksIm5vbmUiIT09Yy5zdHJva2UmJgpiLnB1c2goZCksdGhpcy5fZCgicG9seWdvbiIsYixjKX19LHtrZXk6InBhdGgiLHZhbHVlOmZ1bmN0aW9uKGEsYyl7dmFyIGI9dGhpcy5fbyhjKSxkPVtdO2lmKCFhKXJldHVybiB0aGlzLl9kKCJwYXRoIixkLGIpO2E9KGF8fCIiKS5yZXBsYWNlKC9cbi9nLCIgIikucmVwbGFjZSgvKC1ccykvZywiLSIpLnJlcGxhY2UoIi8oc3MpL2ciLCIgIik7Yz1iLmZpbGwmJiJ0cmFuc3BhcmVudCIhPT1iLmZpbGwmJiJub25lIiE9PWIuZmlsbDt2YXIgZz0ibm9uZSIhPT1iLnN0cm9rZSxoPSEhKGIuc2ltcGxpZmljYXRpb24mJjE+Yi5zaW1wbGlmaWNhdGlvbiksaz1mdW5jdGlvbihhLGIsYyl7dmFyIGU9YWEoWihGKGEpKSksZD1bXSxmPVtdO2E9WzAsMF07dmFyIGc9W10saD1mdW5jdGlvbigpe3ZhciBhOzQ8PWcubGVuZ3RoJiYoYT1mKS5wdXNoLmFwcGx5KGEsX3RvQ29uc3VtYWJsZUFycmF5KGthKGcsYikpKTtnPVtdfSxrPWZ1bmN0aW9uKCl7aCgpO2YubGVuZ3RoJiYoZC5wdXNoKGYpLGY9CltdKX07ZT1fY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihlKTt2YXIgbTt0cnl7Zm9yKGUucygpOyEobT1lLm4oKSkuZG9uZTspe3ZhciBsPW0udmFsdWUsbj1sLmRhdGE7c3dpdGNoKGwua2V5KXtjYXNlICJNIjprKCk7YT1bblswXSxuWzFdXTtmLnB1c2goYSk7YnJlYWs7Y2FzZSAiTCI6aCgpO2YucHVzaChbblswXSxuWzFdXSk7YnJlYWs7Y2FzZSAiQyI6aWYoIWcubGVuZ3RoKXt2YXIgcD1mLmxlbmd0aD9mW2YubGVuZ3RoLTFdOmE7Zy5wdXNoKFtwWzBdLHBbMV1dKX1nLnB1c2goW25bMF0sblsxXV0pO2cucHVzaChbblsyXSxuWzNdXSk7Zy5wdXNoKFtuWzRdLG5bNV1dKTticmVhaztjYXNlICJaIjpoKCksZi5wdXNoKFthWzBdLGFbMV1dKX19fWNhdGNoKG1hKXtlLmUobWEpfWZpbmFsbHl7ZS5mKCl9aWYoaygpLCFjKXJldHVybiBkO209W107Zm9yKGw9MDtsPGQubGVuZ3RoO2wrKyluPWRbbF0sbj1UKG4sMCxuLmxlbmd0aCxjKSxuLmxlbmd0aCYmbS5wdXNoKG4pO3JldHVybiBtfShhLAoxLGg/NC00KmIuc2ltcGxpZmljYXRpb246KDErYi5yb3VnaG5lc3MpLzIpO2lmKGMpaWYoYi5jb21iaW5lTmVzdGVkU3ZnUGF0aHMpe3ZhciBsPVtdO2suZm9yRWFjaChmdW5jdGlvbihhKXtyZXR1cm4gbC5wdXNoLmFwcGx5KGwsX3RvQ29uc3VtYWJsZUFycmF5KGEpKX0pOyJzb2xpZCI9PT1iLmZpbGxTdHlsZT9kLnB1c2goSShsLGIpKTpkLnB1c2goRChsLGIpKX1lbHNlIGsuZm9yRWFjaChmdW5jdGlvbihhKXsic29saWQiPT09Yi5maWxsU3R5bGU/ZC5wdXNoKEkoYSxiKSk6ZC5wdXNoKEQoYSxiKSl9KTtyZXR1cm4gZyYmKGg/ay5mb3JFYWNoKGZ1bmN0aW9uKGEpe2QucHVzaChPKGEsITEsYikpfSk6ZC5wdXNoKGZ1bmN0aW9uKGEsYil7YT1hYShaKEYoYSkpKTt2YXIgYz1bXSxlPVswLDBdLGQ9WzAsMF07YT1fY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihhKTt2YXIgZjt0cnl7Zm9yKGEucygpOyEoZj1hLm4oKSkuZG9uZTspe3ZhciBnPWYudmFsdWUsaD1nLmRhdGE7c3dpdGNoKGcua2V5KXtjYXNlICJNIjppZigiYnJlYWsiPT09CmZ1bmN0aW9uKCl7dmFyIGE9MSooYi5tYXhSYW5kb21uZXNzT2Zmc2V0fHwwKTtjLnB1c2goe29wOiJtb3ZlIixkYXRhOmgubWFwKGZ1bmN0aW9uKGMpe3JldHVybiBjK3AoYSxiKX0pfSk7ZD1baFswXSxoWzFdXTtlPVtoWzBdLGhbMV1dO3JldHVybiJicmVhayJ9KCkpYnJlYWs7Y2FzZSAiTCI6Yy5wdXNoLmFwcGx5KGMsX3RvQ29uc3VtYWJsZUFycmF5KHkoZFswXSxkWzFdLGhbMF0saFsxXSxiKSkpO2Q9W2hbMF0saFsxXV07YnJlYWs7Y2FzZSAiQyI6dmFyIGs9X3NsaWNlZFRvQXJyYXkoaCw2KSxtPWtbNF0sbD1rWzVdO2MucHVzaC5hcHBseShjLF90b0NvbnN1bWFibGVBcnJheSh3YShrWzBdLGtbMV0sa1syXSxrWzNdLG0sbCxkLGIpKSk7ZD1bbSxsXTticmVhaztjYXNlICJaIjpjLnB1c2guYXBwbHkoYyxfdG9Db25zdW1hYmxlQXJyYXkoeShkWzBdLGRbMV0sZVswXSxlWzFdLGIpKSksZD1bZVswXSxlWzFdXX19fWNhdGNoKEMpe2EuZShDKX1maW5hbGx5e2EuZigpfXJldHVybnt0eXBlOiJwYXRoIiwKb3BzOmN9fShhLGIpKSksdGhpcy5fZCgicGF0aCIsZCxiKX19LHtrZXk6Im9wc1RvUGF0aCIsdmFsdWU6ZnVuY3Rpb24oYSl7dmFyIGI9IiI7YT1fY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihhLm9wcyk7dmFyIGU7dHJ5e2ZvcihhLnMoKTshKGU9YS5uKCkpLmRvbmU7KXt2YXIgZD1lLnZhbHVlLGc9ZC5kYXRhO3N3aXRjaChkLm9wKXtjYXNlICJtb3ZlIjpiKz0iTSIuY29uY2F0KGdbMF0sIiAiKS5jb25jYXQoZ1sxXSwiICIpO2JyZWFrO2Nhc2UgImJjdXJ2ZVRvIjpiKz0iQyIuY29uY2F0KGdbMF0sIiAiKS5jb25jYXQoZ1sxXSwiLCAiKS5jb25jYXQoZ1syXSwiICIpLmNvbmNhdChnWzNdLCIsICIpLmNvbmNhdChnWzRdLCIgIikuY29uY2F0KGdbNV0sIiAiKTticmVhaztjYXNlICJsaW5lVG8iOmIrPSJMIi5jb25jYXQoZ1swXSwiICIpLmNvbmNhdChnWzFdLCIgIil9fX1jYXRjaChyKXthLmUocil9ZmluYWxseXthLmYoKX1yZXR1cm4gYi50cmltKCl9fSx7a2V5OiJ0b1BhdGhzIiwKdmFsdWU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5vcHRpb25zfHx0aGlzLmRlZmF1bHRPcHRpb25zLGU9W107YT1fY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihhLnNldHN8fFtdKTt2YXIgZDt0cnl7Zm9yKGEucygpOyEoZD1hLm4oKSkuZG9uZTspe3ZhciBnPWQudmFsdWUsaD1udWxsO3N3aXRjaChnLnR5cGUpe2Nhc2UgInBhdGgiOmg9e2Q6dGhpcy5vcHNUb1BhdGgoZyksc3Ryb2tlOmIuc3Ryb2tlLHN0cm9rZVdpZHRoOmIuc3Ryb2tlV2lkdGgsZmlsbDoibm9uZSJ9O2JyZWFrO2Nhc2UgImZpbGxQYXRoIjpoPXtkOnRoaXMub3BzVG9QYXRoKGcpLHN0cm9rZToibm9uZSIsc3Ryb2tlV2lkdGg6MCxmaWxsOmIuZmlsbHx8Im5vbmUifTticmVhaztjYXNlICJmaWxsU2tldGNoIjpoPXRoaXMuZmlsbFNrZXRjaChnLGIpfWgmJmUucHVzaChoKX19Y2F0Y2gobSl7YS5lKG0pfWZpbmFsbHl7YS5mKCl9cmV0dXJuIGV9fSx7a2V5OiJmaWxsU2tldGNoIix2YWx1ZTpmdW5jdGlvbihhLGIpe3ZhciBjPQpiLmZpbGxXZWlnaHQ7cmV0dXJuIDA+YyYmKGM9Yi5zdHJva2VXaWR0aC8yKSx7ZDp0aGlzLm9wc1RvUGF0aChhKSxzdHJva2U6Yi5maWxsfHwibm9uZSIsc3Ryb2tlV2lkdGg6YyxmaWxsOiJub25lIn19fV0sW3trZXk6Im5ld1NlZWQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpNYXRoLnBvdygyLDMxKSl9fV0pO3JldHVybiBifSgpLHhhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihhLGMpe19jbGFzc0NhbGxDaGVjayh0aGlzLGIpO3RoaXMuY2FudmFzPWE7dGhpcy5jdHg9dGhpcy5jYW52YXMuZ2V0Q29udGV4dCgiMmQiKTt0aGlzLmdlbj1uZXcgVShjKX1fY3JlYXRlQ2xhc3MoYixbe2tleToiZHJhdyIsdmFsdWU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5zZXRzfHxbXSxlPWEub3B0aW9uc3x8dGhpcy5nZXREZWZhdWx0T3B0aW9ucygpLGQ9dGhpcy5jdHg7Yj1fY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihiKTt2YXIgZzt0cnl7Zm9yKGIucygpOyEoZz0KYi5uKCkpLmRvbmU7KXt2YXIgaD1nLnZhbHVlO3N3aXRjaChoLnR5cGUpe2Nhc2UgInBhdGgiOmQuc2F2ZSgpO2Quc3Ryb2tlU3R5bGU9Im5vbmUiPT09ZS5zdHJva2U/InRyYW5zcGFyZW50IjplLnN0cm9rZTtkLmxpbmVXaWR0aD1lLnN0cm9rZVdpZHRoO2Uuc3Ryb2tlTGluZURhc2gmJmQuc2V0TGluZURhc2goZS5zdHJva2VMaW5lRGFzaCk7ZS5zdHJva2VMaW5lRGFzaE9mZnNldCYmKGQubGluZURhc2hPZmZzZXQ9ZS5zdHJva2VMaW5lRGFzaE9mZnNldCk7dGhpcy5fZHJhd1RvQ29udGV4dChkLGgpO2QucmVzdG9yZSgpO2JyZWFrO2Nhc2UgImZpbGxQYXRoIjpkLnNhdmUoKTtkLmZpbGxTdHlsZT1lLmZpbGx8fCIiO3RoaXMuX2RyYXdUb0NvbnRleHQoZCxoLCJjdXJ2ZSI9PT1hLnNoYXBlfHwicG9seWdvbiI9PT1hLnNoYXBlPyJldmVub2RkIjoibm9uemVybyIpO2QucmVzdG9yZSgpO2JyZWFrO2Nhc2UgImZpbGxTa2V0Y2giOnRoaXMuZmlsbFNrZXRjaChkLGgsZSl9fX1jYXRjaChtKXtiLmUobSl9ZmluYWxseXtiLmYoKX19fSwKe2tleToiZmlsbFNrZXRjaCIsdmFsdWU6ZnVuY3Rpb24oYSxiLGQpe3ZhciBjPWQuZmlsbFdlaWdodDswPmMmJihjPWQuc3Ryb2tlV2lkdGgvMik7YS5zYXZlKCk7ZC5maWxsTGluZURhc2gmJmEuc2V0TGluZURhc2goZC5maWxsTGluZURhc2gpO2QuZmlsbExpbmVEYXNoT2Zmc2V0JiYoYS5saW5lRGFzaE9mZnNldD1kLmZpbGxMaW5lRGFzaE9mZnNldCk7YS5zdHJva2VTdHlsZT1kLmZpbGx8fCIiO2EubGluZVdpZHRoPWM7dGhpcy5fZHJhd1RvQ29udGV4dChhLGIpO2EucmVzdG9yZSgpfX0se2tleToiX2RyYXdUb0NvbnRleHQiLHZhbHVlOmZ1bmN0aW9uKGEsYil7dmFyIGM9Mjxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOiJub256ZXJvIjthLmJlZ2luUGF0aCgpO3ZhciBkPV9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGIub3BzKSxnO3RyeXtmb3IoZC5zKCk7IShnPWQubigpKS5kb25lOyl7dmFyIGg9Zy52YWx1ZSxrPWguZGF0YTsKc3dpdGNoKGgub3Ape2Nhc2UgIm1vdmUiOmEubW92ZVRvKGtbMF0sa1sxXSk7YnJlYWs7Y2FzZSAiYmN1cnZlVG8iOmEuYmV6aWVyQ3VydmVUbyhrWzBdLGtbMV0sa1syXSxrWzNdLGtbNF0sa1s1XSk7YnJlYWs7Y2FzZSAibGluZVRvIjphLmxpbmVUbyhrWzBdLGtbMV0pfX19Y2F0Y2gobil7ZC5lKG4pfWZpbmFsbHl7ZC5mKCl9ImZpbGxQYXRoIj09PWIudHlwZT9hLmZpbGwoYyk6YS5zdHJva2UoKX19LHtrZXk6ImdldERlZmF1bHRPcHRpb25zIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdlbi5kZWZhdWx0T3B0aW9uc319LHtrZXk6ImxpbmUiLHZhbHVlOmZ1bmN0aW9uKGEsYixkLGYsZyl7YT10aGlzLmdlbi5saW5lKGEsYixkLGYsZyk7cmV0dXJuIHRoaXMuZHJhdyhhKSxhfX0se2tleToicmVjdGFuZ2xlIix2YWx1ZTpmdW5jdGlvbihhLGIsZCxmLGcpe2E9dGhpcy5nZW4ucmVjdGFuZ2xlKGEsYixkLGYsZyk7cmV0dXJuIHRoaXMuZHJhdyhhKSxhfX0se2tleToiZWxsaXBzZSIsCnZhbHVlOmZ1bmN0aW9uKGEsYixkLGYsZyl7YT10aGlzLmdlbi5lbGxpcHNlKGEsYixkLGYsZyk7cmV0dXJuIHRoaXMuZHJhdyhhKSxhfX0se2tleToiY2lyY2xlIix2YWx1ZTpmdW5jdGlvbihhLGIsZCxmKXthPXRoaXMuZ2VuLmNpcmNsZShhLGIsZCxmKTtyZXR1cm4gdGhpcy5kcmF3KGEpLGF9fSx7a2V5OiJsaW5lYXJQYXRoIix2YWx1ZTpmdW5jdGlvbihhLGIpe2E9dGhpcy5nZW4ubGluZWFyUGF0aChhLGIpO3JldHVybiB0aGlzLmRyYXcoYSksYX19LHtrZXk6InBvbHlnb24iLHZhbHVlOmZ1bmN0aW9uKGEsYil7YT10aGlzLmdlbi5wb2x5Z29uKGEsYik7cmV0dXJuIHRoaXMuZHJhdyhhKSxhfX0se2tleToiYXJjIix2YWx1ZTpmdW5jdGlvbihhLGIsZCxmLGcsaCl7dmFyIGM9dGhpcy5nZW4uYXJjKGEsYixkLGYsZyxoLDY8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzZdP2FyZ3VtZW50c1s2XTohMSw3PGFyZ3VtZW50cy5sZW5ndGg/YXJndW1lbnRzWzddOgp2b2lkIDApO3JldHVybiB0aGlzLmRyYXcoYyksY319LHtrZXk6ImN1cnZlIix2YWx1ZTpmdW5jdGlvbihhLGIpe2E9dGhpcy5nZW4uY3VydmUoYSxiKTtyZXR1cm4gdGhpcy5kcmF3KGEpLGF9fSx7a2V5OiJwYXRoIix2YWx1ZTpmdW5jdGlvbihhLGIpe2E9dGhpcy5nZW4ucGF0aChhLGIpO3JldHVybiB0aGlzLmRyYXcoYSksYX19LHtrZXk6ImdlbmVyYXRvciIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2VufX1dKTtyZXR1cm4gYn0oKSx5YT1mdW5jdGlvbigpe2Z1bmN0aW9uIGIoYSxjKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxiKTt0aGlzLnN2Zz1hO3RoaXMuZ2VuPW5ldyBVKGMpfV9jcmVhdGVDbGFzcyhiLFt7a2V5OiJkcmF3Iix2YWx1ZTpmdW5jdGlvbihhKXt2YXIgYj1hLnNldHN8fFtdLGQ9YS5vcHRpb25zfHx0aGlzLmdldERlZmF1bHRPcHRpb25zKCksZj10aGlzLnN2Zy5vd25lckRvY3VtZW50fHx3aW5kb3cuZG9jdW1lbnQsZz1mLmNyZWF0ZUVsZW1lbnROUygiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLAoiZyIpO2I9X2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoYik7dmFyIGg7dHJ5e2ZvcihiLnMoKTshKGg9Yi5uKCkpLmRvbmU7KXt2YXIgaz1oLnZhbHVlLGw9bnVsbDtzd2l0Y2goay50eXBlKXtjYXNlICJwYXRoIjpsPWYuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsInBhdGgiKTtsLnNldEF0dHJpYnV0ZSgiZCIsdGhpcy5vcHNUb1BhdGgoaykpO2wuc2V0QXR0cmlidXRlKCJzdHJva2UiLGQuc3Ryb2tlKTtsLnNldEF0dHJpYnV0ZSgic3Ryb2tlLXdpZHRoIixkLnN0cm9rZVdpZHRoKyIiKTtsLnNldEF0dHJpYnV0ZSgiZmlsbCIsIm5vbmUiKTtkLnN0cm9rZUxpbmVEYXNoJiZsLnNldEF0dHJpYnV0ZSgic3Ryb2tlLWRhc2hhcnJheSIsZC5zdHJva2VMaW5lRGFzaC5qb2luKCIgIikudHJpbSgpKTtkLnN0cm9rZUxpbmVEYXNoT2Zmc2V0JiZsLnNldEF0dHJpYnV0ZSgic3Ryb2tlLWRhc2hvZmZzZXQiLCIiK2Quc3Ryb2tlTGluZURhc2hPZmZzZXQpOwpicmVhaztjYXNlICJmaWxsUGF0aCI6bD1mLmNyZWF0ZUVsZW1lbnROUygiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLCJwYXRoIik7bC5zZXRBdHRyaWJ1dGUoImQiLHRoaXMub3BzVG9QYXRoKGspKTtsLnNldEF0dHJpYnV0ZSgic3Ryb2tlIiwibm9uZSIpO2wuc2V0QXR0cmlidXRlKCJzdHJva2Utd2lkdGgiLCIwIik7bC5zZXRBdHRyaWJ1dGUoImZpbGwiLGQuZmlsbHx8IiIpOyJjdXJ2ZSIhPT1hLnNoYXBlJiYicG9seWdvbiIhPT1hLnNoYXBlfHxsLnNldEF0dHJpYnV0ZSgiZmlsbC1ydWxlIiwiZXZlbm9kZCIpO2JyZWFrO2Nhc2UgImZpbGxTa2V0Y2giOmw9dGhpcy5maWxsU2tldGNoKGYsayxkKX1sJiZnLmFwcGVuZENoaWxkKGwpfX1jYXRjaCh3KXtiLmUodyl9ZmluYWxseXtiLmYoKX1yZXR1cm4gZ319LHtrZXk6ImZpbGxTa2V0Y2giLHZhbHVlOmZ1bmN0aW9uKGEsYixkKXt2YXIgYz1kLmZpbGxXZWlnaHQ7MD5jJiYoYz1kLnN0cm9rZVdpZHRoLzIpO2E9YS5jcmVhdGVFbGVtZW50TlMoImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiwKInBhdGgiKTtyZXR1cm4gYS5zZXRBdHRyaWJ1dGUoImQiLHRoaXMub3BzVG9QYXRoKGIpKSxhLnNldEF0dHJpYnV0ZSgic3Ryb2tlIixkLmZpbGx8fCIiKSxhLnNldEF0dHJpYnV0ZSgic3Ryb2tlLXdpZHRoIixjKyIiKSxhLnNldEF0dHJpYnV0ZSgiZmlsbCIsIm5vbmUiKSxkLmZpbGxMaW5lRGFzaCYmYS5zZXRBdHRyaWJ1dGUoInN0cm9rZS1kYXNoYXJyYXkiLGQuZmlsbExpbmVEYXNoLmpvaW4oIiAiKS50cmltKCkpLGQuZmlsbExpbmVEYXNoT2Zmc2V0JiZhLnNldEF0dHJpYnV0ZSgic3Ryb2tlLWRhc2hvZmZzZXQiLCIiK2QuZmlsbExpbmVEYXNoT2Zmc2V0KSxhfX0se2tleToiZ2V0RGVmYXVsdE9wdGlvbnMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2VuLmRlZmF1bHRPcHRpb25zfX0se2tleToib3BzVG9QYXRoIix2YWx1ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5nZW4ub3BzVG9QYXRoKGEpfX0se2tleToibGluZSIsdmFsdWU6ZnVuY3Rpb24oYSxiLGQsZixnKXthPQp0aGlzLmdlbi5saW5lKGEsYixkLGYsZyk7cmV0dXJuIHRoaXMuZHJhdyhhKX19LHtrZXk6InJlY3RhbmdsZSIsdmFsdWU6ZnVuY3Rpb24oYSxiLGQsZixnKXthPXRoaXMuZ2VuLnJlY3RhbmdsZShhLGIsZCxmLGcpO3JldHVybiB0aGlzLmRyYXcoYSl9fSx7a2V5OiJlbGxpcHNlIix2YWx1ZTpmdW5jdGlvbihhLGIsZCxmLGcpe2E9dGhpcy5nZW4uZWxsaXBzZShhLGIsZCxmLGcpO3JldHVybiB0aGlzLmRyYXcoYSl9fSx7a2V5OiJjaXJjbGUiLHZhbHVlOmZ1bmN0aW9uKGEsYixkLGYpe2E9dGhpcy5nZW4uY2lyY2xlKGEsYixkLGYpO3JldHVybiB0aGlzLmRyYXcoYSl9fSx7a2V5OiJsaW5lYXJQYXRoIix2YWx1ZTpmdW5jdGlvbihhLGIpe2E9dGhpcy5nZW4ubGluZWFyUGF0aChhLGIpO3JldHVybiB0aGlzLmRyYXcoYSl9fSx7a2V5OiJwb2x5Z29uIix2YWx1ZTpmdW5jdGlvbihhLGIpe2E9dGhpcy5nZW4ucG9seWdvbihhLGIpO3JldHVybiB0aGlzLmRyYXcoYSl9fSx7a2V5OiJhcmMiLAp2YWx1ZTpmdW5jdGlvbihhLGIsZCxmLGcsaCl7dmFyIGM9dGhpcy5nZW4uYXJjKGEsYixkLGYsZyxoLDY8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzZdP2FyZ3VtZW50c1s2XTohMSw3PGFyZ3VtZW50cy5sZW5ndGg/YXJndW1lbnRzWzddOnZvaWQgMCk7cmV0dXJuIHRoaXMuZHJhdyhjKX19LHtrZXk6ImN1cnZlIix2YWx1ZTpmdW5jdGlvbihhLGIpe2E9dGhpcy5nZW4uY3VydmUoYSxiKTtyZXR1cm4gdGhpcy5kcmF3KGEpfX0se2tleToicGF0aCIsdmFsdWU6ZnVuY3Rpb24oYSxiKXthPXRoaXMuZ2VuLnBhdGgoYSxiKTtyZXR1cm4gdGhpcy5kcmF3KGEpfX0se2tleToiZ2VuZXJhdG9yIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZW59fV0pO3JldHVybiBifSgpO3JldHVybntjYW52YXM6ZnVuY3Rpb24oYixhKXtyZXR1cm4gbmV3IHhhKGIsYSl9LHN2ZzpmdW5jdGlvbihiLGEpe3JldHVybiBuZXcgeWEoYixhKX0sZ2VuZXJhdG9yOmZ1bmN0aW9uKGIpe3JldHVybiBuZXcgVShiKX0sCm5ld1NlZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gVS5uZXdTZWVkKCl9fX0oKTsKdmFyIEJhc2U2ND17X2tleVN0cjoiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0iLGVuY29kZTpmdW5jdGlvbihhLGIpe3ZhciBjPSIiLGQsZSxmLGcsayxsLG09MDtmb3IobnVsbCE9YiYmYnx8KGE9QmFzZTY0Ll91dGY4X2VuY29kZShhKSk7bTxhLmxlbmd0aDspZD1hLmNoYXJDb2RlQXQobSsrKSxlPWEuY2hhckNvZGVBdChtKyspLGY9YS5jaGFyQ29kZUF0KG0rKyksZz1kPj4yLGQ9KGQmMyk8PDR8ZT4+NCxrPShlJjE1KTw8MnxmPj42LGw9ZiY2Myxpc05hTihlKT9rPWw9NjQ6aXNOYU4oZikmJihsPTY0KSxjPWMrdGhpcy5fa2V5U3RyLmNoYXJBdChnKSt0aGlzLl9rZXlTdHIuY2hhckF0KGQpK3RoaXMuX2tleVN0ci5jaGFyQXQoaykrdGhpcy5fa2V5U3RyLmNoYXJBdChsKTtyZXR1cm4gY30sZGVjb2RlOmZ1bmN0aW9uKGEsYil7Yj1udWxsIT1iP2I6ITE7dmFyIGM9IiIsZCxlLGYsZyxrLGw9MDtmb3IoYT1hLnJlcGxhY2UoL1teQS1aYS16MC05XCtcL1w9XS9nLAoiIik7bDxhLmxlbmd0aDspZD10aGlzLl9rZXlTdHIuaW5kZXhPZihhLmNoYXJBdChsKyspKSxlPXRoaXMuX2tleVN0ci5pbmRleE9mKGEuY2hhckF0KGwrKykpLGc9dGhpcy5fa2V5U3RyLmluZGV4T2YoYS5jaGFyQXQobCsrKSksaz10aGlzLl9rZXlTdHIuaW5kZXhPZihhLmNoYXJBdChsKyspKSxkPWQ8PDJ8ZT4+NCxlPShlJjE1KTw8NHxnPj4yLGY9KGcmMyk8PDZ8ayxjKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGQpLDY0IT1nJiYoYys9U3RyaW5nLmZyb21DaGFyQ29kZShlKSksNjQhPWsmJihjKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGYpKTtifHwoYz1CYXNlNjQuX3V0ZjhfZGVjb2RlKGMpKTtyZXR1cm4gY30sX3V0ZjhfZW5jb2RlOmZ1bmN0aW9uKGEpe2E9YS5yZXBsYWNlKC9cclxuL2csIlxuIik7Zm9yKHZhciBiPSIiLGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGQ9YS5jaGFyQ29kZUF0KGMpOzEyOD5kP2IrPVN0cmluZy5mcm9tQ2hhckNvZGUoZCk6KDEyNzxkJiYyMDQ4PmQ/Yis9ClN0cmluZy5mcm9tQ2hhckNvZGUoZD4+NnwxOTIpOihiKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGQ+PjEyfDIyNCksYis9U3RyaW5nLmZyb21DaGFyQ29kZShkPj42JjYzfDEyOCkpLGIrPVN0cmluZy5mcm9tQ2hhckNvZGUoZCY2M3wxMjgpKX1yZXR1cm4gYn0sX3V0ZjhfZGVjb2RlOmZ1bmN0aW9uKGEpe3ZhciBiPSIiLGM9MCxkO2ZvcihjMT1jMj0wO2M8YS5sZW5ndGg7KWQ9YS5jaGFyQ29kZUF0KGMpLDEyOD5kPyhiKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGQpLGMrKyk6MTkxPGQmJjIyND5kPyhjMj1hLmNoYXJDb2RlQXQoYysxKSxiKz1TdHJpbmcuZnJvbUNoYXJDb2RlKChkJjMxKTw8NnxjMiY2MyksYys9Mik6KGMyPWEuY2hhckNvZGVBdChjKzEpLGMzPWEuY2hhckNvZGVBdChjKzIpLGIrPVN0cmluZy5mcm9tQ2hhckNvZGUoKGQmMTUpPDwxMnwoYzImNjMpPDw2fGMzJjYzKSxjKz0zKTtyZXR1cm4gYn19O3dpbmRvdy51cmxQYXJhbXM9d2luZG93LnVybFBhcmFtc3x8e307d2luZG93LmlzTG9jYWxTdG9yYWdlPXdpbmRvdy5pc0xvY2FsU3RvcmFnZXx8ITE7d2luZG93Lm14TG9hZFNldHRpbmdzPXdpbmRvdy5teExvYWRTZXR0aW5nc3x8IjEiIT11cmxQYXJhbXMuY29uZmlndXJlO3dpbmRvdy5pc1N2Z0Jyb3dzZXI9d2luZG93LmlzU3ZnQnJvd3Nlcnx8bnVsbD09bmF2aWdhdG9yLnVzZXJBZ2VudHx8MD5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIk1TSUUiKXx8OTw9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlO3dpbmRvdy5EUkFXSU9fQkFTRV9VUkw9d2luZG93LkRSQVdJT19CQVNFX1VSTHx8KC8uKlwuZHJhd1wuaW8kLy50ZXN0KHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSk/d2luZG93LmxvY2F0aW9uLnByb3RvY29sKyIvLyIrd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lOiJodHRwczovL2FwcC5kaWFncmFtcy5uZXQiKTsKd2luZG93LkVYUE9SVF9VUkw9d2luZG93LkVYUE9SVF9VUkx8fCJodHRwczovL2V4cC5kcmF3LmlvL0ltYWdlRXhwb3J0NC9leHBvcnQiO3dpbmRvdy5QTEFOVF9VUkw9d2luZG93LlBMQU5UX1VSTHx8Imh0dHBzOi8vcGxhbnQtYXdzLmRpYWdyYW1zLm5ldCI7d2luZG93LkRSQVdfTUFUSF9VUkw9d2luZG93LkRSQVdfTUFUSF9VUkx8fHdpbmRvdy5EUkFXSU9fQkFTRV9VUkwrIi9tYXRoIjt3aW5kb3cuVlNEX0NPTlZFUlRfVVJMPXdpbmRvdy5WU0RfQ09OVkVSVF9VUkx8fCJodHRwczovL2NvbnZlcnQuZHJhdy5pby9Wc2RDb252ZXJ0ZXIvYXBpL2NvbnZlcnRlciI7d2luZG93LkVNRl9DT05WRVJUX1VSTD13aW5kb3cuRU1GX0NPTlZFUlRfVVJMfHwiaHR0cHM6Ly9jb252ZXJ0LmRyYXcuaW8vZW1mMnBuZy9jb252ZXJ0RU1GIjt3aW5kb3cuUkVBTFRJTUVfVVJMPXdpbmRvdy5SRUFMVElNRV9VUkx8fCJjYWNoZSI7CndpbmRvdy5EUkFXSU9fR0lUTEFCX1VSTD13aW5kb3cuRFJBV0lPX0dJVExBQl9VUkx8fCJodHRwczovL2dpdGxhYi5jb20iO3dpbmRvdy5EUkFXSU9fR0lUTEFCX0lEPXdpbmRvdy5EUkFXSU9fR0lUTEFCX0lEfHwiNWNkYzAxOGEzMmFjZGRmNmViYTM3NTkyZDkzNzQ5NDUyNDFlNjQ0YjgzNjhhZjg0NzQyMmQ3NGM4NzA5YmM0NCI7d2luZG93LlNBVkVfVVJMPXdpbmRvdy5TQVZFX1VSTHx8InNhdmUiO3dpbmRvdy5PUEVOX1VSTD13aW5kb3cuT1BFTl9VUkx8fCJpbXBvcnQiO3dpbmRvdy5QUk9YWV9VUkw9d2luZG93LlBST1hZX1VSTHx8InByb3h5Ijt3aW5kb3cuRFJBV0lPX1ZJRVdFUl9VUkw9d2luZG93LkRSQVdJT19WSUVXRVJfVVJMfHxudWxsO3dpbmRvdy5TSEFQRVNfUEFUSD13aW5kb3cuU0hBUEVTX1BBVEh8fCJzaGFwZXMiO3dpbmRvdy5HUkFQSF9JTUFHRV9QQVRIPXdpbmRvdy5HUkFQSF9JTUFHRV9QQVRIfHwiaW1nIjsKd2luZG93LklDT05TRUFSQ0hfUEFUSD13aW5kb3cuSUNPTlNFQVJDSF9QQVRIfHwoKG51bGwhPW5hdmlnYXRvci51c2VyQWdlbnQmJjA8PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiTVNJRSIpfHx1cmxQYXJhbXMuZGV2KSYmImZpbGU6IiE9d2luZG93LmxvY2F0aW9uLnByb3RvY29sPyJpY29uU2VhcmNoIjp3aW5kb3cuRFJBV0lPX0JBU0VfVVJMKyIvaWNvblNlYXJjaCIpO3dpbmRvdy5URU1QTEFURV9QQVRIPXdpbmRvdy5URU1QTEFURV9QQVRIfHwidGVtcGxhdGVzIjt3aW5kb3cuTkVXX0RJQUdSQU1fQ0FUU19QQVRIPXdpbmRvdy5ORVdfRElBR1JBTV9DQVRTX1BBVEh8fCJuZXdEaWFncmFtQ2F0cyI7d2luZG93LlBMVUdJTlNfQkFTRV9QQVRIPXdpbmRvdy5QTFVHSU5TX0JBU0VfUEFUSHx8IiI7d2luZG93LlJFU09VUkNFU19QQVRIPXdpbmRvdy5SRVNPVVJDRVNfUEFUSHx8InJlc291cmNlcyI7CndpbmRvdy5SRVNPVVJDRV9CQVNFPXdpbmRvdy5SRVNPVVJDRV9CQVNFfHxSRVNPVVJDRVNfUEFUSCsiL2RpYSI7d2luZG93LkRSQVdJT19DT05GSUc9d2luZG93LkRSQVdJT19DT05GSUd8fG51bGw7d2luZG93Lm14TG9hZFJlc291cmNlcz13aW5kb3cubXhMb2FkUmVzb3VyY2VzfHwhMTt3aW5kb3cubXhMYW5ndWFnZT13aW5kb3cubXhMYW5ndWFnZXx8ZnVuY3Rpb24oKXt2YXIgYT11cmxQYXJhbXMubGFuZztpZihudWxsPT1hJiYidW5kZWZpbmVkIiE9dHlwZW9mIEpTT04mJmlzTG9jYWxTdG9yYWdlKXRyeXt2YXIgYj1sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiLmRyYXdpby1jb25maWciKTtudWxsIT1iJiYoYT1KU09OLnBhcnNlKGIpLmxhbmd1YWdlfHxudWxsKX1jYXRjaChjKXtpc0xvY2FsU3RvcmFnZT0hMX1yZXR1cm4gYX0oKTsKd2luZG93Lm14TGFuZ3VhZ2VNYXA9d2luZG93Lm14TGFuZ3VhZ2VNYXB8fHtpMThuOiIiLGlkOiJCYWhhc2EgSW5kb25lc2lhIixtczoiQmFoYXNhIE1lbGF5dSIsYnM6IkJvc2Fuc2tpIixiZzoiQnVsZ2FyaWFuIixjYToiQ2F0YWzDoCIsY3M6IsSMZcWhdGluYSIsZGE6IkRhbnNrIixkZToiRGV1dHNjaCIsZXQ6IkVlc3RpIixlbjoiRW5nbGlzaCIsZXM6IkVzcGHDsW9sIixldToiRXVza2FkaSIsZmlsOiJGaWxpcGlubyIsZnI6IkZyYW7Dp2FpcyIsZ2w6IkdhbGVnbyIsaXQ6Ikl0YWxpYW5vIixodToiTWFneWFyIixubDoiTmVkZXJsYW5kcyIsbm86Ik5vcnNrIixwbDoiUG9sc2tpIiwicHQtYnIiOiJQb3J0dWd1w6pzIChCcmFzaWwpIixwdDoiUG9ydHVndcOqcyAoUG9ydHVnYWwpIixybzoiUm9tw6JuxIMiLGZpOiJTdW9taSIsc3Y6IlN2ZW5za2EiLHZpOiJUaeG6v25nIFZp4buHdCIsdHI6IlTDvHJrw6dlIixlbDoizpXOu867zrfOvc65zrrOrCIscnU6ItCg0YPRgdGB0LrQuNC5Iixzcjoi0KHRgNC/0YHQutC4Iix1azoi0KPQutGA0LDRl9C90YHRjNC60LAiLApoZToi16LXkdeo15nXqiIsYXI6Itin2YTYudix2KjZitipIix0aDoi4LmE4LiX4LiiIixrbzoi7ZWc6rWt7Ja0IixqYToi5pel5pys6KqeIix6aDoi566A5L2T5Lit5paHIiwiemgtdHciOiLnuYHpq5TkuK3mlocifTsidW5kZWZpbmVkIj09PXR5cGVvZiB3aW5kb3cubXhCYXNlUGF0aCYmKHdpbmRvdy5teEJhc2VQYXRoPSJteGdyYXBoIik7aWYobnVsbD09d2luZG93Lm14TGFuZ3VhZ2VzKXt3aW5kb3cubXhMYW5ndWFnZXM9W107Zm9yKHZhciBsYW5nIGluIG14TGFuZ3VhZ2VNYXApImVuIiE9bGFuZyYmd2luZG93Lm14TGFuZ3VhZ2VzLnB1c2gobGFuZyl9CndpbmRvdy51aVRoZW1lPXdpbmRvdy51aVRoZW1lfHxmdW5jdGlvbigpe3ZhciBhPXVybFBhcmFtcy51aTtpZihudWxsPT1hJiYidW5kZWZpbmVkIiE9PXR5cGVvZiBKU09OJiZpc0xvY2FsU3RvcmFnZSl0cnl7dmFyIGI9bG9jYWxTdG9yYWdlLmdldEl0ZW0oIi5kcmF3aW8tY29uZmlnIik7bnVsbCE9YiYmKGE9SlNPTi5wYXJzZShiKS51aXx8bnVsbCl9Y2F0Y2goYyl7aXNMb2NhbFN0b3JhZ2U9ITF9dHJ5e251bGw9PWEmJjQxND49KHdpbmRvdy5pbm5lcldpZHRofHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGh8fGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgpJiYoYT0ibWluIil9Y2F0Y2goYyl7fXJldHVybiBhfSgpO2Z1bmN0aW9uIHNldEN1cnJlbnRYbWwoYSxiKXtudWxsIT13aW5kb3cucGFyZW50JiZudWxsIT13aW5kb3cucGFyZW50Lm9wZW5GaWxlJiZ3aW5kb3cucGFyZW50Lm9wZW5GaWxlLnNldERhdGEoYSxiKX0KKGZ1bmN0aW9uKCl7aWYoInVuZGVmaW5lZCIhPT10eXBlb2YgSlNPTiYmaXNMb2NhbFN0b3JhZ2UpdHJ5e3ZhciBhPWxvY2FsU3RvcmFnZS5nZXRJdGVtKCIuZHJhd2lvLWNvbmZpZyIpLGI9ITA7bnVsbCE9YSYmKGI9SlNPTi5wYXJzZShhKS5zaG93U3RhcnRTY3JlZW4pOzA9PWImJih1cmxQYXJhbXMuc3BsYXNoPSIwIil9Y2F0Y2goZCl7fWE9dXJsUGFyYW1zWyJleHBvcnQiXTtudWxsIT1hJiYoYT1kZWNvZGVVUklDb21wb25lbnQoYSksImh0dHA6Ly8iIT1hLnN1YnN0cmluZygwLDcpJiYiaHR0cHM6Ly8iIT1hLnN1YnN0cmluZygwLDgpJiYoYT0iaHR0cDovLyIrYSksRVhQT1JUX1VSTD1hKTthPXVybFBhcmFtcy5naXRsYWI7bnVsbCE9YSYmKGE9ZGVjb2RlVVJJQ29tcG9uZW50KGEpLCJodHRwOi8vIiE9YS5zdWJzdHJpbmcoMCw3KSYmImh0dHBzOi8vIiE9YS5zdWJzdHJpbmcoMCw4KSYmKGE9Imh0dHA6Ly8iK2EpLERSQVdJT19HSVRMQUJfVVJMPWEpO2E9dXJsUGFyYW1zWyJnaXRsYWItaWQiXTsKbnVsbCE9YSYmKERSQVdJT19HSVRMQUJfSUQ9YSk7d2luZG93LkRSQVdJT19MT0dfVVJMPXdpbmRvdy5EUkFXSU9fTE9HX1VSTHx8IiI7YT13aW5kb3cubG9jYXRpb24uaG9zdDtpZigidGVzdC5kcmF3LmlvIiE9YSl7dmFyIGM9ImRpYWdyYW1zLm5ldCIsYj1hLmxlbmd0aC1jLmxlbmd0aCxjPWEubGFzdEluZGV4T2YoYyxiKTstMSE9PWMmJmM9PT1iP3dpbmRvdy5EUkFXSU9fTE9HX1VSTD0iaHR0cHM6Ly9sb2cuZGlhZ3JhbXMubmV0IjooYz0iZHJhdy5pbyIsYj1hLmxlbmd0aC1jLmxlbmd0aCxjPWEubGFzdEluZGV4T2YoYyxiKSwtMSE9PWMmJmM9PT1iJiYod2luZG93LkRSQVdJT19MT0dfVVJMPSJodHRwczovL2xvZy5kcmF3LmlvIikpfX0pKCk7CmlmKCIxIj09dXJsUGFyYW1zLm9mZmxpbmV8fCIxIj09dXJsUGFyYW1zLmRlbW98fCIxIj09dXJsUGFyYW1zLnN0ZWFsdGh8fCIxIj09dXJsUGFyYW1zLmxvY2FsKXVybFBhcmFtcy5waWNrZXI9IjAiLHVybFBhcmFtcy5nYXBpPSIwIix1cmxQYXJhbXMuZGI9IjAiLHVybFBhcmFtcy5vZD0iMCIsdXJsUGFyYW1zLmdoPSIwIix1cmxQYXJhbXMuZ2w9IjAiLHVybFBhcmFtcy50cj0iMCI7ImVtYmVkLmRpYWdyYW1zLm5ldCI9PXdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSYmKHVybFBhcmFtcy5lbWJlZD0iMSIpO2lmKCIxIj09dXJsUGFyYW1zLm9mZmxpbmV8fCIxIj09dXJsUGFyYW1zLmxvY2FsKXVybFBhcmFtcy5tYXRoPSIwIjsiMSI9PXVybFBhcmFtcy5saWdodGJveCYmKHVybFBhcmFtcy5jaHJvbWU9IjAiKTsKKG51bGw9PXdpbmRvdy5sb2NhdGlvbi5oYXNofHwxPj13aW5kb3cubG9jYXRpb24uaGFzaC5sZW5ndGgpJiZudWxsIT11cmxQYXJhbXMub3BlbiYmKHdpbmRvdy5sb2NhdGlvbi5oYXNoPXVybFBhcmFtcy5vcGVuKTt3aW5kb3cudXJsUGFyYW1zPXdpbmRvdy51cmxQYXJhbXN8fHt9O3dpbmRvdy5NQVhfUkVRVUVTVF9TSVpFPXdpbmRvdy5NQVhfUkVRVUVTVF9TSVpFfHwxMDQ4NTc2MDt3aW5kb3cuTUFYX0FSRUE9d2luZG93Lk1BWF9BUkVBfHwyMjVFNjt3aW5kb3cuRVhQT1JUX1VSTD13aW5kb3cuRVhQT1JUX1VSTHx8Ii9leHBvcnQiO3dpbmRvdy5TQVZFX1VSTD13aW5kb3cuU0FWRV9VUkx8fCIvc2F2ZSI7d2luZG93Lk9QRU5fVVJMPXdpbmRvdy5PUEVOX1VSTHx8Ii9vcGVuIjt3aW5kb3cuUkVTT1VSQ0VTX1BBVEg9d2luZG93LlJFU09VUkNFU19QQVRIfHwicmVzb3VyY2VzIjt3aW5kb3cuUkVTT1VSQ0VfQkFTRT13aW5kb3cuUkVTT1VSQ0VfQkFTRXx8d2luZG93LlJFU09VUkNFU19QQVRIKyIvZ3JhcGhlZGl0b3IiO3dpbmRvdy5TVEVOQ0lMX1BBVEg9d2luZG93LlNURU5DSUxfUEFUSHx8InN0ZW5jaWxzIjt3aW5kb3cuSU1BR0VfUEFUSD13aW5kb3cuSU1BR0VfUEFUSHx8ImltYWdlcyI7CndpbmRvdy5TVFlMRV9QQVRIPXdpbmRvdy5TVFlMRV9QQVRIfHwic3R5bGVzIjt3aW5kb3cuQ1NTX1BBVEg9d2luZG93LkNTU19QQVRIfHwic3R5bGVzIjt3aW5kb3cuT1BFTl9GT1JNPXdpbmRvdy5PUEVOX0ZPUk18fCJvcGVuLmh0bWwiO3dpbmRvdy5teEJhc2VQYXRoPXdpbmRvdy5teEJhc2VQYXRofHwiLi4vLi4vLi4vc3JjIjt3aW5kb3cubXhMYW5ndWFnZT13aW5kb3cubXhMYW5ndWFnZXx8dXJsUGFyYW1zLmxhbmc7d2luZG93Lm14TGFuZ3VhZ2VzPXdpbmRvdy5teExhbmd1YWdlc3x8WyJkZSIsInNlIl07dmFyIG14Q2xpZW50PXtWRVJTSU9OOiI0LjIuMSIsSVNfSUU6bnVsbCE9bmF2aWdhdG9yLnVzZXJBZ2VudCYmMDw9bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNU0lFIiksSVNfSUU2Om51bGwhPW5hdmlnYXRvci51c2VyQWdlbnQmJjA8PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiTVNJRSA2IiksSVNfSUUxMTpudWxsIT1uYXZpZ2F0b3IudXNlckFnZW50JiYhIW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL1RyaWRlbnRcLzdcLi8pLElTX0VER0U6bnVsbCE9bmF2aWdhdG9yLnVzZXJBZ2VudCYmISFuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9FZGdlXC8vKSxJU19RVUlSS1M6bnVsbCE9bmF2aWdhdG9yLnVzZXJBZ2VudCYmMDw9bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNU0lFIikmJihudWxsPT1kb2N1bWVudC5kb2N1bWVudE1vZGV8fDU9PWRvY3VtZW50LmRvY3VtZW50TW9kZSksSVNfRU06InNwZWxsY2hlY2siaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGV4dGFyZWEiKSYmCjg9PWRvY3VtZW50LmRvY3VtZW50TW9kZSxWTUxfUFJFRklYOiJ2IixPRkZJQ0VfUFJFRklYOiJvIixJU19OUzpudWxsIT1uYXZpZ2F0b3IudXNlckFnZW50JiYwPD1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIk1vemlsbGEvIikmJjA+bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNU0lFIikmJjA+bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJFZGdlLyIpLElTX09QOm51bGwhPW5hdmlnYXRvci51c2VyQWdlbnQmJigwPD1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIk9wZXJhLyIpfHwwPD1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIk9QUi8iKSksSVNfT1Q6bnVsbCE9bmF2aWdhdG9yLnVzZXJBZ2VudCYmMDw9bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJQcmVzdG8vIikmJjA+bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJQcmVzdG8vMi40LiIpJiYwPm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiUHJlc3RvLzIuMy4iKSYmMD5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIlByZXN0by8yLjIuIikmJgowPm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiUHJlc3RvLzIuMS4iKSYmMD5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIlByZXN0by8yLjAuIikmJjA+bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJQcmVzdG8vMS4iKSxJU19TRjovQXBwbGUgQ29tcHV0ZXIsIEluYy8udGVzdChuYXZpZ2F0b3IudmVuZG9yKSxJU19BTkRST0lEOjA8PW5hdmlnYXRvci5hcHBWZXJzaW9uLmluZGV4T2YoIkFuZHJvaWQiKSxJU19JT1M6L2lQKGhvbmV8b2R8YWQpLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSksSVNfR0M6L0dvb2dsZSBJbmMvLnRlc3QobmF2aWdhdG9yLnZlbmRvciksSVNfQ0hST01FQVBQOm51bGwhPXdpbmRvdy5jaHJvbWUmJm51bGwhPWNocm9tZS5hcHAmJm51bGwhPWNocm9tZS5hcHAucnVudGltZSxJU19GRjoidW5kZWZpbmVkIiE9PXR5cGVvZiBJbnN0YWxsVHJpZ2dlcixJU19NVDowPD1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkZpcmVmb3gvIikmJjA+Cm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiRmlyZWZveC8xLiIpJiYwPm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiRmlyZWZveC8yLiIpfHwwPD1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkljZXdlYXNlbC8iKSYmMD5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkljZXdlYXNlbC8xLiIpJiYwPm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiSWNld2Vhc2VsLzIuIil8fDA8PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiU2VhTW9ua2V5LyIpJiYwPm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiU2VhTW9ua2V5LzEuIil8fDA8PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiSWNlYXBlLyIpJiYwPm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiSWNlYXBlLzEuIiksSVNfVk1MOiJNSUNST1NPRlQgSU5URVJORVQgRVhQTE9SRVIiPT1uYXZpZ2F0b3IuYXBwTmFtZS50b1VwcGVyQ2FzZSgpLElTX1NWRzoiTUlDUk9TT0ZUIElOVEVSTkVUIEVYUExPUkVSIiE9Cm5hdmlnYXRvci5hcHBOYW1lLnRvVXBwZXJDYXNlKCksTk9fRk86IWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROU3x8IltvYmplY3QgU1ZHRm9yZWlnbk9iamVjdEVsZW1lbnRdIiE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsImZvcmVpZ25PYmplY3QiKXx8MDw9bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJPcGVyYS8iKSxJU19XSU46MDxuYXZpZ2F0b3IuYXBwVmVyc2lvbi5pbmRleE9mKCJXaW4iKSxJU19NQUM6MDxuYXZpZ2F0b3IuYXBwVmVyc2lvbi5pbmRleE9mKCJNYWMiKSxJU19DSFJPTUVPUzovXGJDck9TXGIvLnRlc3QobmF2aWdhdG9yLmFwcFZlcnNpb24pLElTX1RPVUNIOiJvbnRvdWNoc3RhcnQiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LElTX1BPSU5URVI6bnVsbCE9d2luZG93LlBvaW50ZXJFdmVudCYmISgwPG5hdmlnYXRvci5hcHBWZXJzaW9uLmluZGV4T2YoIk1hYyIpKSxJU19MT0NBTDowPmRvY3VtZW50LmxvY2F0aW9uLmhyZWYuaW5kZXhPZigiaHR0cDovLyIpJiYKMD5kb2N1bWVudC5sb2NhdGlvbi5ocmVmLmluZGV4T2YoImh0dHBzOi8vIiksZGVmYXVsdEJ1bmRsZXM6W10saXNCcm93c2VyU3VwcG9ydGVkOmZ1bmN0aW9uKCl7cmV0dXJuIG14Q2xpZW50LklTX1ZNTHx8bXhDbGllbnQuSVNfU1ZHfSxsaW5rOmZ1bmN0aW9uKGEsYixjLGQpe2M9Y3x8ZG9jdW1lbnQ7aWYobXhDbGllbnQuSVNfSUU2KWMud3JpdGUoJzxsaW5rIHJlbD0iJythKyciIGhyZWY9IicrYisnIiBjaGFyc2V0PSJVVEYtOCIgdHlwZT0idGV4dC9jc3MiLz4nKTtlbHNle3ZhciBlPWMuY3JlYXRlRWxlbWVudCgibGluayIpO2Uuc2V0QXR0cmlidXRlKCJyZWwiLGEpO2Uuc2V0QXR0cmlidXRlKCJocmVmIixiKTtlLnNldEF0dHJpYnV0ZSgiY2hhcnNldCIsIlVURi04Iik7ZS5zZXRBdHRyaWJ1dGUoInR5cGUiLCJ0ZXh0L2NzcyIpO2QmJmUuc2V0QXR0cmlidXRlKCJpZCIsZCk7Yy5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdLmFwcGVuZENoaWxkKGUpfX0sbG9hZFJlc291cmNlczpmdW5jdGlvbihhLApiKXtmdW5jdGlvbiBjKCl7MD09LS1kJiZhKCl9Zm9yKHZhciBkPW14Q2xpZW50LmRlZmF1bHRCdW5kbGVzLmxlbmd0aCxlPTA7ZTxteENsaWVudC5kZWZhdWx0QnVuZGxlcy5sZW5ndGg7ZSsrKW14UmVzb3VyY2VzLmFkZChteENsaWVudC5kZWZhdWx0QnVuZGxlc1tlXSxiLGMpfSxpbmNsdWRlOmZ1bmN0aW9uKGEpe2RvY3VtZW50LndyaXRlKCc8c2NyaXB0IHNyYz0iJythKyciPlx4M2Mvc2NyaXB0PicpfX07InVuZGVmaW5lZCI9PXR5cGVvZiBteExvYWRSZXNvdXJjZXMmJihteExvYWRSZXNvdXJjZXM9ITApOyJ1bmRlZmluZWQiPT10eXBlb2YgbXhGb3JjZUluY2x1ZGVzJiYobXhGb3JjZUluY2x1ZGVzPSExKTsidW5kZWZpbmVkIj09dHlwZW9mIG14UmVzb3VyY2VFeHRlbnNpb24mJihteFJlc291cmNlRXh0ZW5zaW9uPSIudHh0Iik7InVuZGVmaW5lZCI9PXR5cGVvZiBteExvYWRTdHlsZXNoZWV0cyYmKG14TG9hZFN0eWxlc2hlZXRzPSEwKTsKInVuZGVmaW5lZCIhPXR5cGVvZiBteEJhc2VQYXRoJiYwPG14QmFzZVBhdGgubGVuZ3RoPygiLyI9PW14QmFzZVBhdGguc3Vic3RyaW5nKG14QmFzZVBhdGgubGVuZ3RoLTEpJiYobXhCYXNlUGF0aD1teEJhc2VQYXRoLnN1YnN0cmluZygwLG14QmFzZVBhdGgubGVuZ3RoLTEpKSxteENsaWVudC5iYXNlUGF0aD1teEJhc2VQYXRoKTpteENsaWVudC5iYXNlUGF0aD0iLiI7InVuZGVmaW5lZCIhPXR5cGVvZiBteEltYWdlQmFzZVBhdGgmJjA8bXhJbWFnZUJhc2VQYXRoLmxlbmd0aD8oIi8iPT1teEltYWdlQmFzZVBhdGguc3Vic3RyaW5nKG14SW1hZ2VCYXNlUGF0aC5sZW5ndGgtMSkmJihteEltYWdlQmFzZVBhdGg9bXhJbWFnZUJhc2VQYXRoLnN1YnN0cmluZygwLG14SW1hZ2VCYXNlUGF0aC5sZW5ndGgtMSkpLG14Q2xpZW50LmltYWdlQmFzZVBhdGg9bXhJbWFnZUJhc2VQYXRoKTpteENsaWVudC5pbWFnZUJhc2VQYXRoPW14Q2xpZW50LmJhc2VQYXRoKyIvaW1hZ2VzIjsKbXhDbGllbnQubGFuZ3VhZ2U9InVuZGVmaW5lZCIhPXR5cGVvZiBteExhbmd1YWdlJiZudWxsIT1teExhbmd1YWdlP214TGFuZ3VhZ2U6bXhDbGllbnQuSVNfSUU/bmF2aWdhdG9yLnVzZXJMYW5ndWFnZTpuYXZpZ2F0b3IubGFuZ3VhZ2U7bXhDbGllbnQuZGVmYXVsdExhbmd1YWdlPSJ1bmRlZmluZWQiIT10eXBlb2YgbXhEZWZhdWx0TGFuZ3VhZ2UmJm51bGwhPW14RGVmYXVsdExhbmd1YWdlP214RGVmYXVsdExhbmd1YWdlOiJlbiI7bXhMb2FkU3R5bGVzaGVldHMmJm14Q2xpZW50LmxpbmsoInN0eWxlc2hlZXQiLG14Q2xpZW50LmJhc2VQYXRoKyIvY3NzL2NvbW1vbi5jc3MiKTsidW5kZWZpbmVkIiE9dHlwZW9mIG14TGFuZ3VhZ2VzJiZudWxsIT1teExhbmd1YWdlcyYmKG14Q2xpZW50Lmxhbmd1YWdlcz1teExhbmd1YWdlcyk7Cm14Q2xpZW50LklTX1ZNTCYmKG14Q2xpZW50LklTX1NWRz9teENsaWVudC5JU19WTUw9ITE6KG51bGwhPWRvY3VtZW50Lm5hbWVzcGFjZXMmJig4PT1kb2N1bWVudC5kb2N1bWVudE1vZGU/KGRvY3VtZW50Lm5hbWVzcGFjZXMuYWRkKG14Q2xpZW50LlZNTF9QUkVGSVgsInVybjpzY2hlbWFzLW1pY3Jvc29mdC1jb206dm1sIiwiI2RlZmF1bHQjVk1MIiksZG9jdW1lbnQubmFtZXNwYWNlcy5hZGQobXhDbGllbnQuT0ZGSUNFX1BSRUZJWCwidXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTpvZmZpY2U6b2ZmaWNlIiwiI2RlZmF1bHQjVk1MIikpOihkb2N1bWVudC5uYW1lc3BhY2VzLmFkZChteENsaWVudC5WTUxfUFJFRklYLCJ1cm46c2NoZW1hcy1taWNyb3NvZnQtY29tOnZtbCIpLGRvY3VtZW50Lm5hbWVzcGFjZXMuYWRkKG14Q2xpZW50Lk9GRklDRV9QUkVGSVgsInVybjpzY2hlbWFzLW1pY3Jvc29mdC1jb206b2ZmaWNlOm9mZmljZSIpKSksbXhDbGllbnQuSVNfUVVJUktTJiYzMDw9ZG9jdW1lbnQuc3R5bGVTaGVldHMubGVuZ3RoPwpmdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7YS50eXBlPSJ0ZXh0L2NzcyI7YS5zdHlsZVNoZWV0LmNzc1RleHQ9bXhDbGllbnQuVk1MX1BSRUZJWCsiXFw6KntiZWhhdmlvcjp1cmwoI2RlZmF1bHQjVk1MKX0iK214Q2xpZW50Lk9GRklDRV9QUkVGSVgrIlxcOip7YmVoYXZpb3I6dXJsKCNkZWZhdWx0I1ZNTCl9Ijtkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdLmFwcGVuZENoaWxkKGEpfSgpOmRvY3VtZW50LmNyZWF0ZVN0eWxlU2hlZXQoKS5jc3NUZXh0PW14Q2xpZW50LlZNTF9QUkVGSVgrIlxcOip7YmVoYXZpb3I6dXJsKCNkZWZhdWx0I1ZNTCl9IitteENsaWVudC5PRkZJQ0VfUFJFRklYKyJcXDoqe2JlaGF2aW9yOnVybCgjZGVmYXVsdCNWTUwpfSIsbXhMb2FkU3R5bGVzaGVldHMmJm14Q2xpZW50LmxpbmsoInN0eWxlc2hlZXQiLG14Q2xpZW50LmJhc2VQYXRoKyIvY3NzL2V4cGxvcmVyLmNzcyIpKSk7CnZhciBteExvZz17Y29uc29sZU5hbWU6IkNvbnNvbGUiLFRSQUNFOiExLERFQlVHOiEwLFdBUk46ITAsYnVmZmVyOiIiLGluaXQ6ZnVuY3Rpb24oKXtpZihudWxsPT1teExvZy53aW5kb3cmJm51bGwhPWRvY3VtZW50LmJvZHkpe3ZhciBhPW14TG9nLmNvbnNvbGVOYW1lKyIgLSBteEdyYXBoICIrbXhDbGllbnQuVkVSU0lPTixiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRhYmxlIik7Yi5zZXRBdHRyaWJ1dGUoIndpZHRoIiwiMTAwJSIpO2Iuc2V0QXR0cmlidXRlKCJoZWlnaHQiLCIxMDAlIik7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGJvZHkiKSxkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyIiksZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpO2Uuc3R5bGUudmVydGljYWxBbGlnbj0idG9wIjtteExvZy50ZXh0YXJlYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZXh0YXJlYSIpO214TG9nLnRleHRhcmVhLnNldEF0dHJpYnV0ZSgid3JhcCIsIm9mZiIpOwpteExvZy50ZXh0YXJlYS5zZXRBdHRyaWJ1dGUoInJlYWRPbmx5IiwidHJ1ZSIpO214TG9nLnRleHRhcmVhLnN0eWxlLmhlaWdodD0iMTAwJSI7bXhMb2cudGV4dGFyZWEuc3R5bGUucmVzaXplPSJub25lIjtteExvZy50ZXh0YXJlYS52YWx1ZT1teExvZy5idWZmZXI7bXhMb2cudGV4dGFyZWEuc3R5bGUud2lkdGg9bXhDbGllbnQuSVNfTlMmJiJCYWNrQ29tcGF0IiE9ZG9jdW1lbnQuY29tcGF0TW9kZT8iOTklIjoiMTAwJSI7ZS5hcHBlbmRDaGlsZChteExvZy50ZXh0YXJlYSk7ZC5hcHBlbmRDaGlsZChlKTtjLmFwcGVuZENoaWxkKGQpO2Q9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKTtteExvZy50ZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpO214TG9nLnRkLnN0eWxlLnZlcnRpY2FsQWxpZ249InRvcCI7bXhMb2cudGQuc2V0QXR0cmlidXRlKCJoZWlnaHQiLCIzMHB4Iik7ZC5hcHBlbmRDaGlsZChteExvZy50ZCk7Yy5hcHBlbmRDaGlsZChkKTtiLmFwcGVuZENoaWxkKGMpOwpteExvZy5hZGRCdXR0b24oIkluZm8iLGZ1bmN0aW9uKGEpe214TG9nLmluZm8oKX0pO214TG9nLmFkZEJ1dHRvbigiRE9NIixmdW5jdGlvbihhKXthPW14VXRpbHMuZ2V0SW5uZXJIdG1sKGRvY3VtZW50LmJvZHkpO214TG9nLmRlYnVnKGEpfSk7bXhMb2cuYWRkQnV0dG9uKCJUcmFjZSIsZnVuY3Rpb24oYSl7bXhMb2cuVFJBQ0U9IW14TG9nLlRSQUNFO214TG9nLlRSQUNFP214TG9nLmRlYnVnKCJUcmFjaW5nIGVuYWJsZWQiKTpteExvZy5kZWJ1ZygiVHJhY2luZyBkaXNhYmxlZCIpfSk7bXhMb2cuYWRkQnV0dG9uKCJDb3B5IixmdW5jdGlvbihhKXt0cnl7bXhVdGlscy5jb3B5KG14TG9nLnRleHRhcmVhLnZhbHVlKX1jYXRjaChrKXtteFV0aWxzLmFsZXJ0KGspfX0pO214TG9nLmFkZEJ1dHRvbigiU2hvdyIsZnVuY3Rpb24oYSl7dHJ5e214VXRpbHMucG9wdXAobXhMb2cudGV4dGFyZWEudmFsdWUpfWNhdGNoKGspe214VXRpbHMuYWxlcnQoayl9fSk7bXhMb2cuYWRkQnV0dG9uKCJDbGVhciIsCmZ1bmN0aW9uKGEpe214TG9nLnRleHRhcmVhLnZhbHVlPSIifSk7ZD1jPTA7Im51bWJlciI9PT10eXBlb2Ygd2luZG93LmlubmVyV2lkdGg/KGM9d2luZG93LmlubmVySGVpZ2h0LGQ9d2luZG93LmlubmVyV2lkdGgpOihjPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHR8fGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0LGQ9ZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCk7bXhMb2cud2luZG93PW5ldyBteFdpbmRvdyhhLGIsTWF0aC5tYXgoMCxkLTMyMCksTWF0aC5tYXgoMCxjLTIxMCksMzAwLDE2MCk7bXhMb2cud2luZG93LnNldE1heGltaXphYmxlKCEwKTtteExvZy53aW5kb3cuc2V0U2Nyb2xsYWJsZSghMSk7bXhMb2cud2luZG93LnNldFJlc2l6YWJsZSghMCk7bXhMb2cud2luZG93LnNldENsb3NhYmxlKCEwKTtteExvZy53aW5kb3cuZGVzdHJveU9uQ2xvc2U9ITE7aWYoKG14Q2xpZW50LklTX05TfHxteENsaWVudC5JU19JRSkmJiFteENsaWVudC5JU19HQyYmCiFteENsaWVudC5JU19TRiYmIkJhY2tDb21wYXQiIT1kb2N1bWVudC5jb21wYXRNb2RlfHwxMT09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKXt2YXIgZj1teExvZy53aW5kb3cuZ2V0RWxlbWVudCgpLGE9ZnVuY3Rpb24oYSxiKXtteExvZy50ZXh0YXJlYS5zdHlsZS5oZWlnaHQ9TWF0aC5tYXgoMCxmLm9mZnNldEhlaWdodC03MCkrInB4In07bXhMb2cud2luZG93LmFkZExpc3RlbmVyKG14RXZlbnQuUkVTSVpFX0VORCxhKTtteExvZy53aW5kb3cuYWRkTGlzdGVuZXIobXhFdmVudC5NQVhJTUlaRSxhKTtteExvZy53aW5kb3cuYWRkTGlzdGVuZXIobXhFdmVudC5OT1JNQUxJWkUsYSk7bXhMb2cudGV4dGFyZWEuc3R5bGUuaGVpZ2h0PSI5MnB4In19fSxpbmZvOmZ1bmN0aW9uKCl7bXhMb2cud3JpdGVsbihteFV0aWxzLnRvU3RyaW5nKG5hdmlnYXRvcikpfSxhZGRCdXR0b246ZnVuY3Rpb24oYSxiKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTtteFV0aWxzLndyaXRlKGMsCmEpO214RXZlbnQuYWRkTGlzdGVuZXIoYywiY2xpY2siLGIpO214TG9nLnRkLmFwcGVuZENoaWxkKGMpfSxpc1Zpc2libGU6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9bXhMb2cud2luZG93P214TG9nLndpbmRvdy5pc1Zpc2libGUoKTohMX0sc2hvdzpmdW5jdGlvbigpe214TG9nLnNldFZpc2libGUoITApfSxzZXRWaXNpYmxlOmZ1bmN0aW9uKGEpe251bGw9PW14TG9nLndpbmRvdyYmbXhMb2cuaW5pdCgpO251bGwhPW14TG9nLndpbmRvdyYmbXhMb2cud2luZG93LnNldFZpc2libGUoYSl9LGVudGVyOmZ1bmN0aW9uKGEpe2lmKG14TG9nLlRSQUNFKXJldHVybiBteExvZy53cml0ZWxuKCJFbnRlcmluZyAiK2EpLChuZXcgRGF0ZSkuZ2V0VGltZSgpfSxsZWF2ZTpmdW5jdGlvbihhLGIpe2lmKG14TG9nLlRSQUNFKXt2YXIgYz0wIT1iPyIgKCIrKChuZXcgRGF0ZSkuZ2V0VGltZSgpLWIpKyIgbXMpIjoiIjtteExvZy53cml0ZWxuKCJMZWF2aW5nICIrYStjKX19LGRlYnVnOmZ1bmN0aW9uKCl7bXhMb2cuREVCVUcmJgpteExvZy53cml0ZWxuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sd2FybjpmdW5jdGlvbigpe214TG9nLldBUk4mJm14TG9nLndyaXRlbG4uYXBwbHkodGhpcyxhcmd1bWVudHMpfSx3cml0ZTpmdW5jdGlvbigpe2Zvcih2YXIgYT0iIixiPTA7Yjxhcmd1bWVudHMubGVuZ3RoO2IrKylhKz1hcmd1bWVudHNbYl0sYjxhcmd1bWVudHMubGVuZ3RoLTEmJihhKz0iICIpO251bGwhPW14TG9nLnRleHRhcmVhPyhteExvZy50ZXh0YXJlYS52YWx1ZSs9YSxudWxsIT1uYXZpZ2F0b3IudXNlckFnZW50JiYwPD1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIlByZXN0by8yLjUiKSYmKG14TG9nLnRleHRhcmVhLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiIsbXhMb2cudGV4dGFyZWEuc3R5bGUudmlzaWJpbGl0eT0idmlzaWJsZSIpLG14TG9nLnRleHRhcmVhLnNjcm9sbFRvcD1teExvZy50ZXh0YXJlYS5zY3JvbGxIZWlnaHQpOm14TG9nLmJ1ZmZlcis9YX0sd3JpdGVsbjpmdW5jdGlvbigpe2Zvcih2YXIgYT0KIiIsYj0wO2I8YXJndW1lbnRzLmxlbmd0aDtiKyspYSs9YXJndW1lbnRzW2JdLGI8YXJndW1lbnRzLmxlbmd0aC0xJiYoYSs9IiAiKTtteExvZy53cml0ZShhKyJcbiIpfX0sbXhPYmplY3RJZGVudGl0eT17RklFTERfTkFNRToibXhPYmplY3RJZCIsY291bnRlcjowLGdldDpmdW5jdGlvbihhKXtpZihudWxsIT1hKXtpZihudWxsPT1hW214T2JqZWN0SWRlbnRpdHkuRklFTERfTkFNRV0paWYoIm9iamVjdCI9PT10eXBlb2YgYSl7dmFyIGI9bXhVdGlscy5nZXRGdW5jdGlvbk5hbWUoYS5jb25zdHJ1Y3Rvcik7YVtteE9iamVjdElkZW50aXR5LkZJRUxEX05BTUVdPWIrIiMiK214T2JqZWN0SWRlbnRpdHkuY291bnRlcisrfWVsc2UiZnVuY3Rpb24iPT09dHlwZW9mIGEmJihhW214T2JqZWN0SWRlbnRpdHkuRklFTERfTkFNRV09IkZ1bmN0aW9uIyIrbXhPYmplY3RJZGVudGl0eS5jb3VudGVyKyspO3JldHVybiBhW214T2JqZWN0SWRlbnRpdHkuRklFTERfTkFNRV19cmV0dXJuIG51bGx9LApjbGVhcjpmdW5jdGlvbihhKXsib2JqZWN0IiE9PXR5cGVvZiBhJiYiZnVuY3Rpb24iIT09dHlwZW9mIGF8fGRlbGV0ZSBhW214T2JqZWN0SWRlbnRpdHkuRklFTERfTkFNRV19fTtmdW5jdGlvbiBteERpY3Rpb25hcnkoKXt0aGlzLmNsZWFyKCl9bXhEaWN0aW9uYXJ5LnByb3RvdHlwZS5tYXA9bnVsbDtteERpY3Rpb25hcnkucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5tYXA9e319O214RGljdGlvbmFyeS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe2E9bXhPYmplY3RJZGVudGl0eS5nZXQoYSk7cmV0dXJuIHRoaXMubWFwW2FdfTtteERpY3Rpb25hcnkucHJvdG90eXBlLnB1dD1mdW5jdGlvbihhLGIpe3ZhciBjPW14T2JqZWN0SWRlbnRpdHkuZ2V0KGEpLGQ9dGhpcy5tYXBbY107dGhpcy5tYXBbY109YjtyZXR1cm4gZH07Cm14RGljdGlvbmFyeS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGEpe2E9bXhPYmplY3RJZGVudGl0eS5nZXQoYSk7dmFyIGI9dGhpcy5tYXBbYV07ZGVsZXRlIHRoaXMubWFwW2FdO3JldHVybiBifTtteERpY3Rpb25hcnkucHJvdG90eXBlLmdldEtleXM9ZnVuY3Rpb24oKXt2YXIgYT1bXSxiO2ZvcihiIGluIHRoaXMubWFwKWEucHVzaChiKTtyZXR1cm4gYX07bXhEaWN0aW9uYXJ5LnByb3RvdHlwZS5nZXRWYWx1ZXM9ZnVuY3Rpb24oKXt2YXIgYT1bXSxiO2ZvcihiIGluIHRoaXMubWFwKWEucHVzaCh0aGlzLm1hcFtiXSk7cmV0dXJuIGF9O214RGljdGlvbmFyeS5wcm90b3R5cGUudmlzaXQ9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIHRoaXMubWFwKWEoYix0aGlzLm1hcFtiXSl9Owp2YXIgbXhSZXNvdXJjZXM9e3Jlc291cmNlczp7fSxleHRlbnNpb246bXhSZXNvdXJjZUV4dGVuc2lvbixyZXNvdXJjZXNFbmNvZGVkOiExLGxvYWREZWZhdWx0QnVuZGxlOiEwLGxvYWRTcGVjaWFsQnVuZGxlOiEwLGlzTGFuZ3VhZ2VTdXBwb3J0ZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPW14Q2xpZW50Lmxhbmd1YWdlcz8wPD1teFV0aWxzLmluZGV4T2YobXhDbGllbnQubGFuZ3VhZ2VzLGEpOiEwfSxnZXREZWZhdWx0QnVuZGxlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIG14UmVzb3VyY2VzLmxvYWREZWZhdWx0QnVuZGxlfHwhbXhSZXNvdXJjZXMuaXNMYW5ndWFnZVN1cHBvcnRlZChiKT9hK214UmVzb3VyY2VzLmV4dGVuc2lvbjpudWxsfSxnZXRTcGVjaWFsQnVuZGxlOmZ1bmN0aW9uKGEsYil7aWYobnVsbD09bXhDbGllbnQubGFuZ3VhZ2VzfHwhdGhpcy5pc0xhbmd1YWdlU3VwcG9ydGVkKGIpKXt2YXIgYz1iLmluZGV4T2YoIi0iKTswPGMmJihiPWIuc3Vic3RyaW5nKDAsYykpfXJldHVybiBteFJlc291cmNlcy5sb2FkU3BlY2lhbEJ1bmRsZSYmCm14UmVzb3VyY2VzLmlzTGFuZ3VhZ2VTdXBwb3J0ZWQoYikmJmIhPW14Q2xpZW50LmRlZmF1bHRMYW5ndWFnZT9hKyJfIitiK214UmVzb3VyY2VzLmV4dGVuc2lvbjpudWxsfSxhZGQ6ZnVuY3Rpb24oYSxiLGMpe2I9bnVsbCE9Yj9iOm51bGwhPW14Q2xpZW50Lmxhbmd1YWdlP214Q2xpZW50Lmxhbmd1YWdlLnRvTG93ZXJDYXNlKCk6bXhDb25zdGFudHMuTk9ORTtpZihiIT1teENvbnN0YW50cy5OT05FKXt2YXIgZD1teFJlc291cmNlcy5nZXREZWZhdWx0QnVuZGxlKGEsYiksZT1teFJlc291cmNlcy5nZXRTcGVjaWFsQnVuZGxlKGEsYiksZj1mdW5jdGlvbigpe2lmKG51bGwhPWUpaWYoYylteFV0aWxzLmdldChlLGZ1bmN0aW9uKGEpe214UmVzb3VyY2VzLnBhcnNlKGEuZ2V0VGV4dCgpKTtjKCl9LGZ1bmN0aW9uKCl7YygpfSk7ZWxzZSB0cnl7dmFyIGE9bXhVdGlscy5sb2FkKGUpO2EuaXNSZWFkeSgpJiZteFJlc291cmNlcy5wYXJzZShhLmdldFRleHQoKSl9Y2F0Y2gobCl7fWVsc2UgbnVsbCE9CmMmJmMoKX07aWYobnVsbCE9ZClpZihjKW14VXRpbHMuZ2V0KGQsZnVuY3Rpb24oYSl7bXhSZXNvdXJjZXMucGFyc2UoYS5nZXRUZXh0KCkpO2YoKX0sZnVuY3Rpb24oKXtmKCl9KTtlbHNlIHRyeXt2YXIgZz1teFV0aWxzLmxvYWQoZCk7Zy5pc1JlYWR5KCkmJm14UmVzb3VyY2VzLnBhcnNlKGcuZ2V0VGV4dCgpKTtmKCl9Y2F0Y2goayl7fWVsc2UgZigpfX0scGFyc2U6ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSl7YT1hLnNwbGl0KCJcbiIpO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWlmKCIjIiE9YVtiXS5jaGFyQXQoMCkpe3ZhciBjPWFbYl0uaW5kZXhPZigiPSIpO2lmKDA8Yyl7dmFyIGQ9YVtiXS5zdWJzdHJpbmcoMCxjKSxlPWFbYl0ubGVuZ3RoOzEzPT1hW2JdLmNoYXJDb2RlQXQoZS0xKSYmZS0tO2M9YVtiXS5zdWJzdHJpbmcoYysxLGUpO3RoaXMucmVzb3VyY2VzRW5jb2RlZD8oYz1jLnJlcGxhY2UoL1xcKD89dVthLWZBLUZcZF17NH0pL2csIiUiKSxteFJlc291cmNlcy5yZXNvdXJjZXNbZF09CnVuZXNjYXBlKGMpKTpteFJlc291cmNlcy5yZXNvdXJjZXNbZF09Y319fX0sZ2V0OmZ1bmN0aW9uKGEsYixjKXthPW14UmVzb3VyY2VzLnJlc291cmNlc1thXTtudWxsPT1hJiYoYT1jKTtudWxsIT1hJiZudWxsIT1iJiYoYT1teFJlc291cmNlcy5yZXBsYWNlUGxhY2Vob2xkZXJzKGEsYikpO3JldHVybiBhfSxyZXBsYWNlUGxhY2Vob2xkZXJzOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPVtdLGQ9bnVsbCxlPTA7ZTxhLmxlbmd0aDtlKyspe3ZhciBmPWEuY2hhckF0KGUpOyJ7Ij09Zj9kPSIiOm51bGwhPWQmJiJ9Ij09Zj8oZD1wYXJzZUludChkKS0xLDA8PWQmJmQ8Yi5sZW5ndGgmJmMucHVzaChiW2RdKSxkPW51bGwpOm51bGwhPWQ/ZCs9ZjpjLnB1c2goZil9cmV0dXJuIGMuam9pbigiIil9LGxvYWRSZXNvdXJjZXM6ZnVuY3Rpb24oYSl7bXhSZXNvdXJjZXMuYWRkKG14Q2xpZW50LmJhc2VQYXRoKyIvcmVzb3VyY2VzL2VkaXRvciIsbnVsbCxmdW5jdGlvbigpe214UmVzb3VyY2VzLmFkZChteENsaWVudC5iYXNlUGF0aCsKIi9yZXNvdXJjZXMvZ3JhcGgiLG51bGwsYSl9KX19O2Z1bmN0aW9uIG14UG9pbnQoYSxiKXt0aGlzLng9bnVsbCE9YT9hOjA7dGhpcy55PW51bGwhPWI/YjowfW14UG9pbnQucHJvdG90eXBlLng9bnVsbDtteFBvaW50LnByb3RvdHlwZS55PW51bGw7bXhQb2ludC5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiZhLng9PXRoaXMueCYmYS55PT10aGlzLnl9O214UG9pbnQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG14VXRpbHMuY2xvbmUodGhpcyl9O2Z1bmN0aW9uIG14UmVjdGFuZ2xlKGEsYixjLGQpe214UG9pbnQuY2FsbCh0aGlzLGEsYik7dGhpcy53aWR0aD1udWxsIT1jP2M6MDt0aGlzLmhlaWdodD1udWxsIT1kP2Q6MH1teFJlY3RhbmdsZS5wcm90b3R5cGU9bmV3IG14UG9pbnQ7bXhSZWN0YW5nbGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPW14UmVjdGFuZ2xlO214UmVjdGFuZ2xlLnByb3RvdHlwZS53aWR0aD1udWxsOwpteFJlY3RhbmdsZS5wcm90b3R5cGUuaGVpZ2h0PW51bGw7bXhSZWN0YW5nbGUucHJvdG90eXBlLnNldFJlY3Q9ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy54PWE7dGhpcy55PWI7dGhpcy53aWR0aD1jO3RoaXMuaGVpZ2h0PWR9O214UmVjdGFuZ2xlLnByb3RvdHlwZS5nZXRDZW50ZXJYPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueCt0aGlzLndpZHRoLzJ9O214UmVjdGFuZ2xlLnByb3RvdHlwZS5nZXRDZW50ZXJZPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueSt0aGlzLmhlaWdodC8yfTsKbXhSZWN0YW5nbGUucHJvdG90eXBlLmFkZD1mdW5jdGlvbihhKXtpZihudWxsIT1hKXt2YXIgYj1NYXRoLm1pbih0aGlzLngsYS54KSxjPU1hdGgubWluKHRoaXMueSxhLnkpLGQ9TWF0aC5tYXgodGhpcy54K3RoaXMud2lkdGgsYS54K2Eud2lkdGgpO2E9TWF0aC5tYXgodGhpcy55K3RoaXMuaGVpZ2h0LGEueSthLmhlaWdodCk7dGhpcy54PWI7dGhpcy55PWM7dGhpcy53aWR0aD1kLWI7dGhpcy5oZWlnaHQ9YS1jfX07bXhSZWN0YW5nbGUucHJvdG90eXBlLmludGVyc2VjdD1mdW5jdGlvbihhKXtpZihudWxsIT1hKXt2YXIgYj10aGlzLngrdGhpcy53aWR0aCxjPWEueCthLndpZHRoLGQ9dGhpcy55K3RoaXMuaGVpZ2h0LGU9YS55K2EuaGVpZ2h0O3RoaXMueD1NYXRoLm1heCh0aGlzLngsYS54KTt0aGlzLnk9TWF0aC5tYXgodGhpcy55LGEueSk7dGhpcy53aWR0aD1NYXRoLm1pbihiLGMpLXRoaXMueDt0aGlzLmhlaWdodD1NYXRoLm1pbihkLGUpLXRoaXMueX19OwpteFJlY3RhbmdsZS5wcm90b3R5cGUuZ3Jvdz1mdW5jdGlvbihhKXt0aGlzLngtPWE7dGhpcy55LT1hO3RoaXMud2lkdGgrPTIqYTt0aGlzLmhlaWdodCs9MiphO3JldHVybiB0aGlzfTtteFJlY3RhbmdsZS5wcm90b3R5cGUuZ2V0UG9pbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG14UG9pbnQodGhpcy54LHRoaXMueSl9O214UmVjdGFuZ2xlLnByb3RvdHlwZS5yb3RhdGU5MD1mdW5jdGlvbigpe3ZhciBhPSh0aGlzLndpZHRoLXRoaXMuaGVpZ2h0KS8yO3RoaXMueCs9YTt0aGlzLnktPWE7YT10aGlzLndpZHRoO3RoaXMud2lkdGg9dGhpcy5oZWlnaHQ7dGhpcy5oZWlnaHQ9YX07bXhSZWN0YW5nbGUucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YSYmYS54PT10aGlzLngmJmEueT09dGhpcy55JiZhLndpZHRoPT10aGlzLndpZHRoJiZhLmhlaWdodD09dGhpcy5oZWlnaHR9OwpteFJlY3RhbmdsZS5mcm9tUmVjdGFuZ2xlPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgbXhSZWN0YW5nbGUoYS54LGEueSxhLndpZHRoLGEuaGVpZ2h0KX07CnZhciBteEVmZmVjdHM9e2FuaW1hdGVDaGFuZ2VzOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD0wLGU9ZnVuY3Rpb24oKXtmb3IodmFyIGc9ITEsaz0wO2s8Yi5sZW5ndGg7aysrKXt2YXIgbD1iW2tdO2lmKGwgaW5zdGFuY2VvZiBteEdlb21ldHJ5Q2hhbmdlfHxsIGluc3RhbmNlb2YgbXhUZXJtaW5hbENoYW5nZXx8bCBpbnN0YW5jZW9mIG14VmFsdWVDaGFuZ2V8fGwgaW5zdGFuY2VvZiBteENoaWxkQ2hhbmdlfHxsIGluc3RhbmNlb2YgbXhTdHlsZUNoYW5nZSl7dmFyIG09YS5nZXRWaWV3KCkuZ2V0U3RhdGUobC5jZWxsfHxsLmNoaWxkLCExKTtpZihudWxsIT1tKWlmKGc9ITAsbC5jb25zdHJ1Y3RvciE9bXhHZW9tZXRyeUNoYW5nZXx8YS5tb2RlbC5pc0VkZ2UobC5jZWxsKSlteFV0aWxzLnNldE9wYWNpdHkobS5zaGFwZS5ub2RlLDEwMCpkLzEwKTtlbHNle3ZhciBuPWEuZ2V0VmlldygpLnNjYWxlLHA9KGwuZ2VvbWV0cnkueC1sLnByZXZpb3VzLngpKm4scT0obC5nZW9tZXRyeS55LQpsLnByZXZpb3VzLnkpKm4scj0obC5nZW9tZXRyeS53aWR0aC1sLnByZXZpb3VzLndpZHRoKSpuLG49KGwuZ2VvbWV0cnkuaGVpZ2h0LWwucHJldmlvdXMuaGVpZ2h0KSpuOzA9PWQ/KG0ueC09cCxtLnktPXEsbS53aWR0aC09cixtLmhlaWdodC09bik6KG0ueCs9cC8xMCxtLnkrPXEvMTAsbS53aWR0aCs9ci8xMCxtLmhlaWdodCs9bi8xMCk7YS5jZWxsUmVuZGVyZXIucmVkcmF3KG0pO214RWZmZWN0cy5jYXNjYWRlT3BhY2l0eShhLGwuY2VsbCwxMDAqZC8xMCl9fX0xMD5kJiZnPyhkKyssd2luZG93LnNldFRpbWVvdXQoZSxmKSk6bnVsbCE9YyYmYygpfSxmPTMwO2UoKX0sY2FzY2FkZU9wYWNpdHk6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1hLm1vZGVsLmdldENoaWxkQ291bnQoYiksZT0wO2U8ZDtlKyspe3ZhciBmPWEubW9kZWwuZ2V0Q2hpbGRBdChiLGUpLGc9YS5nZXRWaWV3KCkuZ2V0U3RhdGUoZik7bnVsbCE9ZyYmKG14VXRpbHMuc2V0T3BhY2l0eShnLnNoYXBlLm5vZGUsCmMpLG14RWZmZWN0cy5jYXNjYWRlT3BhY2l0eShhLGYsYykpfWI9YS5tb2RlbC5nZXRFZGdlcyhiKTtpZihudWxsIT1iKWZvcihlPTA7ZTxiLmxlbmd0aDtlKyspZD1hLmdldFZpZXcoKS5nZXRTdGF0ZShiW2VdKSxudWxsIT1kJiZteFV0aWxzLnNldE9wYWNpdHkoZC5zaGFwZS5ub2RlLGMpfSxmYWRlT3V0OmZ1bmN0aW9uKGEsYixjLGQsZSxmKXtkPWR8fDQwO2U9ZXx8MzA7dmFyIGc9Ynx8MTAwO214VXRpbHMuc2V0T3BhY2l0eShhLGcpO2lmKGZ8fG51bGw9PWYpe3ZhciBrPWZ1bmN0aW9uKCl7Zz1NYXRoLm1heChnLWQsMCk7bXhVdGlscy5zZXRPcGFjaXR5KGEsZyk7MDxnP3dpbmRvdy5zZXRUaW1lb3V0KGssZSk6KGEuc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIixjJiZhLnBhcmVudE5vZGUmJmEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKSl9O3dpbmRvdy5zZXRUaW1lb3V0KGssZSl9ZWxzZSBhLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiIsYyYmYS5wYXJlbnROb2RlJiZhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSl9fSwKbXhVdGlscz17ZXJyb3JSZXNvdXJjZToibm9uZSIhPW14Q2xpZW50Lmxhbmd1YWdlPyJlcnJvciI6IiIsY2xvc2VSZXNvdXJjZToibm9uZSIhPW14Q2xpZW50Lmxhbmd1YWdlPyJjbG9zZSI6IiIsZXJyb3JJbWFnZTpteENsaWVudC5pbWFnZUJhc2VQYXRoKyIvZXJyb3IuZ2lmIixyZW1vdmVDdXJzb3JzOmZ1bmN0aW9uKGEpe251bGwhPWEuc3R5bGUmJihhLnN0eWxlLmN1cnNvcj0iIik7YT1hLmNoaWxkTm9kZXM7aWYobnVsbCE9YSlmb3IodmFyIGI9YS5sZW5ndGgsYz0wO2M8YjtjKz0xKW14VXRpbHMucmVtb3ZlQ3Vyc29ycyhhW2NdKX0sZ2V0Q3VycmVudFN0eWxlOmZ1bmN0aW9uKCl7cmV0dXJuIG14Q2xpZW50LklTX0lFJiYobnVsbD09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHw5PmRvY3VtZW50LmRvY3VtZW50TW9kZSk/ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/YS5jdXJyZW50U3R5bGU6bnVsbH06ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/d2luZG93LmdldENvbXB1dGVkU3R5bGUoYSwKIiIpOm51bGx9fSgpLHBhcnNlQ3NzTnVtYmVyOmZ1bmN0aW9uKGEpeyJ0aGluIj09YT9hPSIyIjoibWVkaXVtIj09YT9hPSI0IjoidGhpY2siPT1hJiYoYT0iNiIpO2E9cGFyc2VGbG9hdChhKTtpc05hTihhKSYmKGE9MCk7cmV0dXJuIGF9LHNldFByZWZpeGVkU3R5bGU6ZnVuY3Rpb24oKXt2YXIgYT1udWxsO214Q2xpZW50LklTX09UP2E9Ik8iOm14Q2xpZW50LklTX1NGfHxteENsaWVudC5JU19HQz9hPSJXZWJraXQiOm14Q2xpZW50LklTX01UP2E9Ik1veiI6bXhDbGllbnQuSVNfSUUmJjk8PWRvY3VtZW50LmRvY3VtZW50TW9kZSYmMTA+ZG9jdW1lbnQuZG9jdW1lbnRNb2RlJiYoYT0ibXMiKTtyZXR1cm4gZnVuY3Rpb24oYixjLGQpe2JbY109ZDtudWxsIT1hJiYwPGMubGVuZ3RoJiYoYz1hK2Muc3Vic3RyaW5nKDAsMSkudG9VcHBlckNhc2UoKStjLnN1YnN0cmluZygxKSxiW2NdPWQpfX0oKSxoYXNTY3JvbGxiYXJzOmZ1bmN0aW9uKGEpe2E9bXhVdGlscy5nZXRDdXJyZW50U3R5bGUoYSk7CnJldHVybiBudWxsIT1hJiYoInNjcm9sbCI9PWEub3ZlcmZsb3d8fCJhdXRvIj09YS5vdmVyZmxvdyl9LGJpbmQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYi5hcHBseShhLGFyZ3VtZW50cyl9fSxldmFsOmZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7aWYoMDw9YS5pbmRleE9mKCJmdW5jdGlvbiIpKXRyeXtldmFsKCJ2YXIgX214SmF2YVNjcmlwdEV4cHJlc3Npb249IithKSxiPV9teEphdmFTY3JpcHRFeHByZXNzaW9uLF9teEphdmFTY3JpcHRFeHByZXNzaW9uPW51bGx9Y2F0Y2goYyl7bXhMb2cud2FybihjLm1lc3NhZ2UrIiB3aGlsZSBldmFsdWF0aW5nICIrYSl9ZWxzZSB0cnl7Yj1ldmFsKGEpfWNhdGNoKGMpe214TG9nLndhcm4oYy5tZXNzYWdlKyIgd2hpbGUgZXZhbHVhdGluZyAiK2EpfXJldHVybiBifSxmaW5kTm9kZTpmdW5jdGlvbihhLGIsYyl7aWYoYS5ub2RlVHlwZT09bXhDb25zdGFudHMuTk9ERVRZUEVfRUxFTUVOVCl7dmFyIGQ9YS5nZXRBdHRyaWJ1dGUoYik7CmlmKG51bGwhPWQmJmQ9PWMpcmV0dXJuIGF9Zm9yKGE9YS5maXJzdENoaWxkO251bGwhPWE7KXtkPW14VXRpbHMuZmluZE5vZGUoYSxiLGMpO2lmKG51bGwhPWQpcmV0dXJuIGQ7YT1hLm5leHRTaWJsaW5nfXJldHVybiBudWxsfSxnZXRGdW5jdGlvbk5hbWU6ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDtudWxsIT1hJiYobnVsbCE9YS5uYW1lP2I9YS5uYW1lOihiPW14VXRpbHMudHJpbShhLnRvU3RyaW5nKCkpLC9eZnVuY3Rpb25ccy8udGVzdChiKSYmKGI9bXhVdGlscy5sdHJpbShiLnN1YnN0cmluZyg5KSksYT1iLmluZGV4T2YoIigiKSwwPGEmJihiPWIuc3Vic3RyaW5nKDAsYSkpKSkpO3JldHVybiBifSxpbmRleE9mOmZ1bmN0aW9uKGEsYil7aWYobnVsbCE9YSYmbnVsbCE9Yilmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKylpZihhW2NdPT1iKXJldHVybiBjO3JldHVybi0xfSxmb3JFYWNoOmZ1bmN0aW9uKGEsYil7aWYobnVsbCE9YSYmbnVsbCE9Yilmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyliKGFbY10pOwpyZXR1cm4gYX0scmVtb3ZlOmZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbDtpZigib2JqZWN0Ij09dHlwZW9mIGIpZm9yKHZhciBkPW14VXRpbHMuaW5kZXhPZihiLGEpOzA8PWQ7KWIuc3BsaWNlKGQsMSksYz1hLGQ9bXhVdGlscy5pbmRleE9mKGIsYSk7Zm9yKHZhciBlIGluIGIpYltlXT09YSYmKGRlbGV0ZSBiW2VdLGM9YSk7cmV0dXJuIGN9LGlzTm9kZTpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gbnVsbD09YXx8aXNOYU4oYS5ub2RlVHlwZSl8fG51bGwhPWImJmEubm9kZU5hbWUudG9Mb3dlckNhc2UoKSE9Yi50b0xvd2VyQ2FzZSgpPyExOm51bGw9PWN8fGEuZ2V0QXR0cmlidXRlKGMpPT1kfSxpc0FuY2VzdG9yTm9kZTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1iO251bGwhPWM7KXtpZihjPT1hKXJldHVybiEwO2M9Yy5wYXJlbnROb2RlfXJldHVybiExfSxnZXRDaGlsZE5vZGVzOmZ1bmN0aW9uKGEsYil7Yj1ifHxteENvbnN0YW50cy5OT0RFVFlQRV9FTEVNRU5UO2Zvcih2YXIgYz0KW10sZD1hLmZpcnN0Q2hpbGQ7bnVsbCE9ZDspZC5ub2RlVHlwZT09YiYmYy5wdXNoKGQpLGQ9ZC5uZXh0U2libGluZztyZXR1cm4gY30saW1wb3J0Tm9kZTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG14Q2xpZW50LklTX0lFJiYobnVsbD09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHwxMD5kb2N1bWVudC5kb2N1bWVudE1vZGUpP214VXRpbHMuaW1wb3J0Tm9kZUltcGxlbWVudGF0aW9uKGEsYixjKTphLmltcG9ydE5vZGUoYixjKX0saW1wb3J0Tm9kZUltcGxlbWVudGF0aW9uOmZ1bmN0aW9uKGEsYixjKXtzd2l0Y2goYi5ub2RlVHlwZSl7Y2FzZSAxOnZhciBkPWEuY3JlYXRlRWxlbWVudChiLm5vZGVOYW1lKTtpZihiLmF0dHJpYnV0ZXMmJjA8Yi5hdHRyaWJ1dGVzLmxlbmd0aClmb3IodmFyIGU9MDtlPGIuYXR0cmlidXRlcy5sZW5ndGg7ZSsrKWQuc2V0QXR0cmlidXRlKGIuYXR0cmlidXRlc1tlXS5ub2RlTmFtZSxiLmdldEF0dHJpYnV0ZShiLmF0dHJpYnV0ZXNbZV0ubm9kZU5hbWUpKTsKaWYoYyYmYi5jaGlsZE5vZGVzJiYwPGIuY2hpbGROb2Rlcy5sZW5ndGgpZm9yKGU9MDtlPGIuY2hpbGROb2Rlcy5sZW5ndGg7ZSsrKWQuYXBwZW5kQ2hpbGQobXhVdGlscy5pbXBvcnROb2RlSW1wbGVtZW50YXRpb24oYSxiLmNoaWxkTm9kZXNbZV0sYykpO3JldHVybiBkO2Nhc2UgMzpjYXNlIDQ6Y2FzZSA4OnJldHVybiBhLmNyZWF0ZVRleHROb2RlKG51bGwhPWIubm9kZVZhbHVlP2Iubm9kZVZhbHVlOmIudmFsdWUpfX0sY3JlYXRlWG1sRG9jdW1lbnQ6ZnVuY3Rpb24oKXt2YXIgYT1udWxsO2RvY3VtZW50LmltcGxlbWVudGF0aW9uJiZkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVEb2N1bWVudD9hPWRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZURvY3VtZW50KCIiLCIiLG51bGwpOiJBY3RpdmVYT2JqZWN0ImluIHdpbmRvdyYmKGE9bXhVdGlscy5jcmVhdGVNc1htbERvY3VtZW50KCkpO3JldHVybiBhfSxjcmVhdGVNc1htbERvY3VtZW50OmZ1bmN0aW9uKCl7dmFyIGE9Cm5ldyBBY3RpdmVYT2JqZWN0KCJNaWNyb3NvZnQuWE1MRE9NIik7YS5hc3luYz0hMTthLnZhbGlkYXRlT25QYXJzZT0hMTthLnJlc29sdmVFeHRlcm5hbHM9ITE7cmV0dXJuIGF9LHBhcnNlWG1sOmZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5ET01QYXJzZXI/ZnVuY3Rpb24oYSl7cmV0dXJuKG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhhLCJ0ZXh0L3htbCIpfTpmdW5jdGlvbihhKXt2YXIgYj1teFV0aWxzLmNyZWF0ZU1zWG1sRG9jdW1lbnQoKTtiLmxvYWRYTUwoYSk7cmV0dXJuIGJ9fSgpLGNsZWFyU2VsZWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LnNlbGVjdGlvbj9mdW5jdGlvbigpe2RvY3VtZW50LnNlbGVjdGlvbi5lbXB0eSgpfTp3aW5kb3cuZ2V0U2VsZWN0aW9uP2Z1bmN0aW9uKCl7d2luZG93LmdldFNlbGVjdGlvbigpLmVtcHR5P3dpbmRvdy5nZXRTZWxlY3Rpb24oKS5lbXB0eSgpOndpbmRvdy5nZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMmJgp3aW5kb3cuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlQWxsUmFuZ2VzKCl9OmZ1bmN0aW9uKCl7fX0oKSxyZW1vdmVXaGl0ZXNwYWNlOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPWI/YS5wcmV2aW91c1NpYmxpbmc6YS5uZXh0U2libGluZztudWxsIT1jJiZjLm5vZGVUeXBlPT1teENvbnN0YW50cy5OT0RFVFlQRV9URVhUOyl7dmFyIGQ9Yj9jLnByZXZpb3VzU2libGluZzpjLm5leHRTaWJsaW5nLGU9bXhVdGlscy5nZXRUZXh0Q29udGVudChjKTswPT1teFV0aWxzLnRyaW0oZSkubGVuZ3RoJiZjLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYyk7Yz1kfX0saHRtbEVudGl0aWVzOmZ1bmN0aW9uKGEsYil7YT1TdHJpbmcoYXx8IiIpO2E9YS5yZXBsYWNlKC8mL2csIiZhbXA7Iik7YT1hLnJlcGxhY2UoLyIvZywiJnF1b3Q7Iik7YT1hLnJlcGxhY2UoL1wnL2csIiYjMzk7Iik7YT1hLnJlcGxhY2UoLzwvZywiJmx0OyIpO2E9YS5yZXBsYWNlKC8+L2csIiZndDsiKTtpZihudWxsPT1ifHxiKWE9YS5yZXBsYWNlKC9cbi9nLAoiJiN4YTsiKTtyZXR1cm4gYX0saXNWbWw6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWEmJiJ1cm46c2NoZW1hcy1taWNyb3NvZnQtY29tOnZtbCI9PWEudGFnVXJufSxnZXRYbWw6ZnVuY3Rpb24oYSxiKXt2YXIgYz0iIjtteENsaWVudC5JU19JRXx8bXhDbGllbnQuSVNfSUUxMT9jPW14VXRpbHMuZ2V0UHJldHR5WG1sKGEsIiIsIiIsIiIpOm51bGwhPXdpbmRvdy5YTUxTZXJpYWxpemVyP2M9KG5ldyBYTUxTZXJpYWxpemVyKS5zZXJpYWxpemVUb1N0cmluZyhhKTpudWxsIT1hLnhtbCYmKGM9YS54bWwucmVwbGFjZSgvXHJcblx0W1x0XSovZywiIikucmVwbGFjZSgvPlxyXG4vZywiPiIpLnJlcGxhY2UoL1xyXG4vZywiXG4iKSk7cmV0dXJuIGMucmVwbGFjZSgvXG4vZyxifHwiJiN4YTsiKX0sZ2V0UHJldHR5WG1sOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9W107aWYobnVsbCE9YSlpZihiPW51bGwhPWI/YjoiICAiLGM9bnVsbCE9Yz9jOiIiLGQ9bnVsbCE9ZD9kOiJcbiIsbnVsbCE9CmEubmFtZXNwYWNlVVJJJiZhLm5hbWVzcGFjZVVSSSE9ZSYmKGU9YS5uYW1lc3BhY2VVUkksbnVsbD09YS5nZXRBdHRyaWJ1dGUoInhtbG5zIikmJmEuc2V0QXR0cmlidXRlKCJ4bWxucyIsYS5uYW1lc3BhY2VVUkkpKSxhLm5vZGVUeXBlPT1teENvbnN0YW50cy5OT0RFVFlQRV9ET0NVTUVOVClmLnB1c2gobXhVdGlscy5nZXRQcmV0dHlYbWwoYS5kb2N1bWVudEVsZW1lbnQsYixjLGQsZSkpO2Vsc2UgaWYoYS5ub2RlVHlwZT09bXhDb25zdGFudHMuTk9ERVRZUEVfRE9DVU1FTlRfRlJBR01FTlQpe3ZhciBnPWEuZmlyc3RDaGlsZDtpZihudWxsIT1nKWZvcig7bnVsbCE9ZzspZi5wdXNoKG14VXRpbHMuZ2V0UHJldHR5WG1sKGcsYixjLGQsZSkpLGc9Zy5uZXh0U2libGluZ31lbHNlIGlmKGEubm9kZVR5cGU9PW14Q29uc3RhbnRzLk5PREVUWVBFX0NPTU1FTlQpYT1teFV0aWxzLmdldFRleHRDb250ZW50KGEpLDA8YS5sZW5ndGgmJmYucHVzaChjKyJceDNjIS0tIithKyItLVx4M2UiKwpkKTtlbHNlIGlmKGEubm9kZVR5cGU9PW14Q29uc3RhbnRzLk5PREVUWVBFX1RFWFQpYT1teFV0aWxzLmdldFRleHRDb250ZW50KGEpLDA8YS5sZW5ndGgmJmYucHVzaChjK214VXRpbHMuaHRtbEVudGl0aWVzKG14VXRpbHMudHJpbShhKSwhMSkrZCk7ZWxzZSBpZihhLm5vZGVUeXBlPT1teENvbnN0YW50cy5OT0RFVFlQRV9DREFUQSlhPW14VXRpbHMuZ2V0VGV4dENvbnRlbnQoYSksMDxhLmxlbmd0aCYmZi5wdXNoKGMrIjwhW0NEQVRBWyIrYSsiXV0iK2QpO2Vsc2V7Zi5wdXNoKGMrIjwiK2Eubm9kZU5hbWUpO2c9YS5hdHRyaWJ1dGVzO2lmKG51bGwhPWcpZm9yKHZhciBrPTA7azxnLmxlbmd0aDtrKyspe3ZhciBsPW14VXRpbHMuaHRtbEVudGl0aWVzKGdba10udmFsdWUpO2YucHVzaCgiICIrZ1trXS5ub2RlTmFtZSsnPSInK2wrJyInKX1nPWEuZmlyc3RDaGlsZDtpZihudWxsIT1nKXtmb3IoZi5wdXNoKCI+IitkKTtudWxsIT1nOylmLnB1c2gobXhVdGlscy5nZXRQcmV0dHlYbWwoZywKYixjK2IsZCxlKSksZz1nLm5leHRTaWJsaW5nO2YucHVzaChjKyI8LyIrYS5ub2RlTmFtZSsiPiIrZCl9ZWxzZSBmLnB1c2goIiAvPiIrZCl9cmV0dXJuIGYuam9pbigiIil9LGV4dHJhY3RUZXh0V2l0aFdoaXRlc3BhY2U6ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtpZigxIT1hLmxlbmd0aHx8IkJSIiE9YVswXS5ub2RlTmFtZSYmIlxuIiE9YVswXS5pbm5lckhUTUwpZm9yKHZhciBlPTA7ZTxhLmxlbmd0aDtlKyspe3ZhciBnPWFbZV07IkJSIj09Zy5ub2RlTmFtZXx8IlxuIj09Zy5pbm5lckhUTUx8fCgxPT1hLmxlbmd0aHx8MD09ZSkmJiJESVYiPT1nLm5vZGVOYW1lJiYiPGJyPiI9PWcuaW5uZXJIVE1MLnRvTG93ZXJDYXNlKCk/ZC5wdXNoKCJcbiIpOigzPT09Zy5ub2RlVHlwZXx8ND09PWcubm9kZVR5cGU/MDxnLm5vZGVWYWx1ZS5sZW5ndGgmJmQucHVzaChnLm5vZGVWYWx1ZSk6OCE9PWcubm9kZVR5cGUmJjA8Zy5jaGlsZE5vZGVzLmxlbmd0aCYmYihnLmNoaWxkTm9kZXMpLAplPGEubGVuZ3RoLTEmJjA8PW14VXRpbHMuaW5kZXhPZihjLGFbZSsxXS5ub2RlTmFtZSkmJmQucHVzaCgiXG4iKSl9fXZhciBjPSJCTE9DS1FVT1RFIERJViBIMSBIMiBIMyBINCBINSBINiBPTCBQIFBSRSBUQUJMRSBVTCIuc3BsaXQoIiAiKSxkPVtdO2IoYSk7cmV0dXJuIGQuam9pbigiIil9LHJlcGxhY2VUcmFpbGluZ05ld2xpbmVzOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPSIiOzA8YS5sZW5ndGgmJiJcbiI9PWEuY2hhckF0KGEubGVuZ3RoLTEpOylhPWEuc3Vic3RyaW5nKDAsYS5sZW5ndGgtMSksYys9YjtyZXR1cm4gYStjfSxnZXRUZXh0Q29udGVudDpmdW5jdGlvbihhKXtyZXR1cm4gbXhDbGllbnQuSVNfSUUmJnZvaWQgMCE9PWEuaW5uZXJUZXh0P2EuaW5uZXJUZXh0Om51bGwhPWE/YVt2b2lkIDA9PT1hLnRleHRDb250ZW50PyJ0ZXh0IjoidGV4dENvbnRlbnQiXToiIn0sc2V0VGV4dENvbnRlbnQ6ZnVuY3Rpb24oYSxiKXt2b2lkIDAhPT1hLmlubmVyVGV4dD9hLmlubmVyVGV4dD0KYjphW3ZvaWQgMD09PWEudGV4dENvbnRlbnQ/InRleHQiOiJ0ZXh0Q29udGVudCJdPWJ9LGdldElubmVySHRtbDpmdW5jdGlvbigpe3JldHVybiBteENsaWVudC5JU19JRT9mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT9hLmlubmVySFRNTDoiIn06ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/KG5ldyBYTUxTZXJpYWxpemVyKS5zZXJpYWxpemVUb1N0cmluZyhhKToiIn19KCksZ2V0T3V0ZXJIdG1sOmZ1bmN0aW9uKCl7cmV0dXJuIG14Q2xpZW50LklTX0lFP2Z1bmN0aW9uKGEpe2lmKG51bGwhPWEpe2lmKG51bGwhPWEub3V0ZXJIVE1MKXJldHVybiBhLm91dGVySFRNTDt2YXIgYj1bXTtiLnB1c2goIjwiK2Eubm9kZU5hbWUpO3ZhciBjPWEuYXR0cmlidXRlcztpZihudWxsIT1jKWZvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1jW2RdLnZhbHVlO251bGwhPWUmJjA8ZS5sZW5ndGgmJihiLnB1c2goIiAiKSxiLnB1c2goY1tkXS5ub2RlTmFtZSksYi5wdXNoKCc9IicpLApiLnB1c2goZSksYi5wdXNoKCciJykpfTA9PWEuaW5uZXJIVE1MLmxlbmd0aD9iLnB1c2goIi8+Iik6KGIucHVzaCgiPiIpLGIucHVzaChhLmlubmVySFRNTCksYi5wdXNoKCI8LyIrYS5ub2RlTmFtZSsiPiIpKTtyZXR1cm4gYi5qb2luKCIiKX1yZXR1cm4iIn06ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/KG5ldyBYTUxTZXJpYWxpemVyKS5zZXJpYWxpemVUb1N0cmluZyhhKToiIn19KCksd3JpdGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYik7bnVsbCE9YSYmYS5hcHBlbmRDaGlsZChjKTtyZXR1cm4gY30sd3JpdGVsbjpmdW5jdGlvbihhLGIpe3ZhciBjPWEub3duZXJEb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShiKTtudWxsIT1hJiYoYS5hcHBlbmRDaGlsZChjKSxhLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJyIikpKTtyZXR1cm4gY30sYnI6ZnVuY3Rpb24oYSxiKXtiPWJ8fDE7Zm9yKHZhciBjPW51bGwsCmQ9MDtkPGI7ZCsrKW51bGwhPWEmJihjPWEub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJiciIpLGEuYXBwZW5kQ2hpbGQoYykpO3JldHVybiBjfSxidXR0b246ZnVuY3Rpb24oYSxiLGMpe2M9bnVsbCE9Yz9jOmRvY3VtZW50O2M9Yy5jcmVhdGVFbGVtZW50KCJidXR0b24iKTtteFV0aWxzLndyaXRlKGMsYSk7bXhFdmVudC5hZGRMaXN0ZW5lcihjLCJjbGljayIsZnVuY3Rpb24oYSl7YihhKX0pO3JldHVybiBjfSxwYXJhOmZ1bmN0aW9uKGEsYil7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicCIpO214VXRpbHMud3JpdGUoYyxiKTtudWxsIT1hJiZhLmFwcGVuZENoaWxkKGMpO3JldHVybiBjfSxhZGRUcmFuc3BhcmVudEJhY2tncm91bmRGaWx0ZXI6ZnVuY3Rpb24oYSl7YS5zdHlsZS5maWx0ZXIrPSJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQWxwaGFJbWFnZUxvYWRlcihzcmM9JyIrbXhDbGllbnQuaW1hZ2VCYXNlUGF0aCsiL3RyYW5zcGFyZW50LmdpZicsIHNpemluZ01ldGhvZD0nc2NhbGUnKSJ9LApsaW5rQWN0aW9uOmZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIG14VXRpbHMubGluayhhLGIsZnVuY3Rpb24oKXtjLmV4ZWN1dGUoZCl9LGUpfSxsaW5rSW52b2tlOmZ1bmN0aW9uKGEsYixjLGQsZSxmKXtyZXR1cm4gbXhVdGlscy5saW5rKGEsYixmdW5jdGlvbigpe2NbZF0oZSl9LGYpfSxsaW5rOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTtlLnN0eWxlLmNvbG9yPSJibHVlIjtlLnN0eWxlLnRleHREZWNvcmF0aW9uPSJ1bmRlcmxpbmUiO2Uuc3R5bGUuY3Vyc29yPSJwb2ludGVyIjtudWxsIT1kJiYoZS5zdHlsZS5wYWRkaW5nTGVmdD1kKyJweCIpO214RXZlbnQuYWRkTGlzdGVuZXIoZSwiY2xpY2siLGMpO214VXRpbHMud3JpdGUoZSxiKTtudWxsIT1hJiZhLmFwcGVuZENoaWxkKGUpO3JldHVybiBlfSxnZXREb2N1bWVudFNpemU6ZnVuY3Rpb24oKXt2YXIgYT1kb2N1bWVudC5ib2R5LGI9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Owp0cnl7cmV0dXJuIG5ldyBteFJlY3RhbmdsZSgwLDAsYS5jbGllbnRXaWR0aHx8Yi5jbGllbnRXaWR0aCxNYXRoLm1heChhLmNsaWVudEhlaWdodHx8MCxiLmNsaWVudEhlaWdodCkpfWNhdGNoKGMpe3JldHVybiBuZXcgbXhSZWN0YW5nbGV9fSxmaXQ6ZnVuY3Rpb24oYSl7dmFyIGI9bXhVdGlscy5nZXREb2N1bWVudFNpemUoKSxjPXBhcnNlSW50KGEub2Zmc2V0TGVmdCksZD1wYXJzZUludChhLm9mZnNldFdpZHRoKSxlPW14VXRpbHMuZ2V0RG9jdW1lbnRTY3JvbGxPcmlnaW4oYS5vd25lckRvY3VtZW50KSxmPWUueCxlPWUueSxnPWYrYi53aWR0aDtjK2Q+ZyYmKGEuc3R5bGUubGVmdD1NYXRoLm1heChmLGctZCkrInB4Iik7Yz1wYXJzZUludChhLm9mZnNldFRvcCk7ZD1wYXJzZUludChhLm9mZnNldEhlaWdodCk7Yj1lK2IuaGVpZ2h0O2MrZD5iJiYoYS5zdHlsZS50b3A9TWF0aC5tYXgoZSxiLWQpKyJweCIpfSxsb2FkOmZ1bmN0aW9uKGEpe2E9bmV3IG14WG1sUmVxdWVzdChhLG51bGwsCiJHRVQiLCExKTthLnNlbmQoKTtyZXR1cm4gYX0sZ2V0OmZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe2E9bmV3IG14WG1sUmVxdWVzdChhLG51bGwsIkdFVCIpO3ZhciBrPWEuc2V0UmVxdWVzdEhlYWRlcnM7ZyYmKGEuc2V0UmVxdWVzdEhlYWRlcnM9ZnVuY3Rpb24oYSxiKXtrLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtmb3IodmFyIGMgaW4gZylhLnNldFJlcXVlc3RIZWFkZXIoYyxnW2NdKX0pO251bGwhPWQmJmEuc2V0QmluYXJ5KGQpO2Euc2VuZChiLGMsZSxmKTtyZXR1cm4gYX0sZ2V0QWxsOmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1bXSxmPTAsZz1mdW5jdGlvbigpezA9PWYmJm51bGwhPWMmJmMoKTtmKyt9LGs9MDtrPGEubGVuZ3RoO2srKykoZnVuY3Rpb24oYSxjKXtteFV0aWxzLmdldChhLGZ1bmN0aW9uKGEpe3ZhciBmPWEuZ2V0U3RhdHVzKCk7MjAwPmZ8fDI5OTxmP2coKTooZVtjXT1hLGQtLSwwPT1kJiZiKGUpKX0sZyl9KShhW2tdLGspOzA9PWQmJgpiKGUpfSxwb3N0OmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybihuZXcgbXhYbWxSZXF1ZXN0KGEsYikpLnNlbmQoYyxkKX0sc3VibWl0OmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybihuZXcgbXhYbWxSZXF1ZXN0KGEsYikpLnNpbXVsYXRlKGMsZCl9LGxvYWRJbnRvOmZ1bmN0aW9uKGEsYixjKXtteENsaWVudC5JU19JRT9iLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpezQ9PWIucmVhZHlTdGF0ZSYmYygpfTpiLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLGMsITEpO2IubG9hZChhKX0sZ2V0VmFsdWU6ZnVuY3Rpb24oYSxiLGMpe2E9bnVsbCE9YT9hW2JdOm51bGw7bnVsbD09YSYmKGE9Yyk7cmV0dXJuIGF9LGdldE51bWJlcjpmdW5jdGlvbihhLGIsYyl7YT1udWxsIT1hP2FbYl06bnVsbDtudWxsPT1hJiYoYT1jfHwwKTtyZXR1cm4gTnVtYmVyKGEpfSxnZXRDb2xvcjpmdW5jdGlvbihhLGIsYyl7YT1udWxsIT1hP2FbYl06bnVsbDtudWxsPT1hP2E9YzphPT1teENvbnN0YW50cy5OT05FJiYKKGE9bnVsbCk7cmV0dXJuIGF9LGNsb25lOmZ1bmN0aW9uKGEsYixjKXtjPW51bGwhPWM/YzohMTt2YXIgZD1udWxsO2lmKG51bGwhPWEmJiJmdW5jdGlvbiI9PXR5cGVvZiBhLmNvbnN0cnVjdG9yKXt2YXIgZD1uZXcgYS5jb25zdHJ1Y3RvcixlO2ZvcihlIGluIGEpZSE9bXhPYmplY3RJZGVudGl0eS5GSUVMRF9OQU1FJiYobnVsbD09Ynx8MD5teFV0aWxzLmluZGV4T2YoYixlKSkmJihkW2VdPWN8fCJvYmplY3QiIT10eXBlb2YgYVtlXT9hW2VdOm14VXRpbHMuY2xvbmUoYVtlXSkpfXJldHVybiBkfSxlcXVhbFBvaW50czpmdW5jdGlvbihhLGIpe2lmKG51bGw9PWEmJm51bGwhPWJ8fG51bGwhPWEmJm51bGw9PWJ8fG51bGwhPWEmJm51bGwhPWImJmEubGVuZ3RoIT1iLmxlbmd0aClyZXR1cm4hMTtpZihudWxsIT1hJiZudWxsIT1iKWZvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKWlmKG51bGwhPWFbY10mJm51bGw9PWJbY118fG51bGw9PWFbY10mJm51bGwhPWJbY118fG51bGwhPWFbY10mJgpudWxsIT1iW2NdJiYoYVtjXS54IT1iW2NdLnh8fGFbY10ueSE9YltjXS55KSlyZXR1cm4hMTtyZXR1cm4hMH0sZXF1YWxFbnRyaWVzOmZ1bmN0aW9uKGEsYil7dmFyIGM9MDtpZihudWxsPT1hJiZudWxsIT1ifHxudWxsIT1hJiZudWxsPT1ifHxudWxsIT1hJiZudWxsIT1iJiZhLmxlbmd0aCE9Yi5sZW5ndGgpcmV0dXJuITE7aWYobnVsbCE9YSYmbnVsbCE9Yil7Zm9yKHZhciBkIGluIGIpYysrO2ZvcihkIGluIGEpaWYoYy0tLCEobXhVdGlscy5pc05hTihhW2RdKSYmbXhVdGlscy5pc05hTihiW2RdKXx8YVtkXT09YltkXSkpcmV0dXJuITF9cmV0dXJuIDA9PWN9LHJlbW92ZUR1cGxpY2F0ZXM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPW5ldyBteERpY3Rpb25hcnksYz1bXSxkPTA7ZDxhLmxlbmd0aDtkKyspYi5nZXQoYVtkXSl8fChjLnB1c2goYVtkXSksYi5wdXQoYVtkXSwhMCkpO3JldHVybiBjfSxpc05hTjpmdW5jdGlvbihhKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGEmJmlzTmFOKGEpfSwKZXh0ZW5kOmZ1bmN0aW9uKGEsYil7dmFyIGM9ZnVuY3Rpb24oKXt9O2MucHJvdG90eXBlPWIucHJvdG90eXBlO2EucHJvdG90eXBlPW5ldyBjO2EucHJvdG90eXBlLmNvbnN0cnVjdG9yPWF9LHRvU3RyaW5nOmZ1bmN0aW9uKGEpe3ZhciBiPSIiLGM7Zm9yKGMgaW4gYSl0cnl7aWYobnVsbD09YVtjXSliKz1jKyIgPSBbbnVsbF1cbiI7ZWxzZSBpZigiZnVuY3Rpb24iPT10eXBlb2YgYVtjXSliKz1jKyIgPT4gW0Z1bmN0aW9uXVxuIjtlbHNlIGlmKCJvYmplY3QiPT10eXBlb2YgYVtjXSl2YXIgZD1teFV0aWxzLmdldEZ1bmN0aW9uTmFtZShhW2NdLmNvbnN0cnVjdG9yKSxiPWIrKGMrIiA9PiBbIitkKyJdXG4iKTtlbHNlIGIrPWMrIiA9ICIrYVtjXSsiXG4ifWNhdGNoKGUpe2IrPWMrIj0iK2UubWVzc2FnZX1yZXR1cm4gYn0sdG9SYWRpYW5zOmZ1bmN0aW9uKGEpe3JldHVybiBNYXRoLlBJKmEvMTgwfSx0b0RlZ3JlZTpmdW5jdGlvbihhKXtyZXR1cm4gMTgwKmEvTWF0aC5QSX0sYXJjVG9DdXJ2ZXM6ZnVuY3Rpb24oYSwKYixjLGQsZSxmLGcsayxsKXtrLT1hO2wtPWI7aWYoMD09PWN8fDA9PT1kKXJldHVybiBxO2M9TWF0aC5hYnMoYyk7ZD1NYXRoLmFicyhkKTt2YXIgbT0tay8yLG49LWwvMixwPU1hdGguY29zKGUqTWF0aC5QSS8xODApLHE9TWF0aC5zaW4oZSpNYXRoLlBJLzE4MCk7ZT1wKm0rcSpuO3ZhciBtPS0xKnEqbStwKm4sbj1lKmUscj1tKm0sdD1jKmMsdT1kKmQseD1uL3Qrci91OzE8eD8oYyo9TWF0aC5zcXJ0KHgpLGQqPU1hdGguc3FydCh4KSxmPTApOih4PTEsZj09PWcmJih4PS0xKSxmPXgqTWF0aC5zcXJ0KCh0KnUtdCpyLXUqbikvKHQqcit1Km4pKSk7bj1mKmMqbS9kO3I9LTEqZipkKmUvYztrPXAqbi1xKnIray8yO2w9cSpuK3AqcitsLzI7dD1NYXRoLmF0YW4yKChtLXIpL2QsKGUtbikvYyktTWF0aC5hdGFuMigwLDEpO2Y9MDw9dD90OjIqTWF0aC5QSSt0O3Q9TWF0aC5hdGFuMigoLW0tcikvZCwoLWUtbikvYyktTWF0aC5hdGFuMigobS1yKS9kLChlLW4pL2MpO2U9MDw9dD90OjIqCk1hdGguUEkrdDswPT1nJiYwPGU/ZS09MipNYXRoLlBJOjAhPWcmJjA+ZSYmKGUrPTIqTWF0aC5QSSk7Zz0yKmUvTWF0aC5QSTtnPU1hdGguY2VpbCgwPmc/LTEqZzpnKTtlLz1nO209OC8zKk1hdGguc2luKGUvNCkqTWF0aC5zaW4oZS80KS9NYXRoLnNpbihlLzIpO249cCpjO3AqPWQ7Yyo9cTtkKj1xO2Zvcih2YXIgeT1NYXRoLmNvcyhmKSxCPU1hdGguc2luKGYpLHI9LW0qKG4qQitkKnkpLHQ9LW0qKGMqQi1wKnkpLHE9W10sQT0wO0E8ZzsrK0Epe2YrPWU7dmFyIHk9TWF0aC5jb3MoZiksQj1NYXRoLnNpbihmKSx1PW4qeS1kKkIrayx4PWMqeStwKkIrbCx6PS1tKihuKkIrZCp5KSx5PS1tKihjKkItcCp5KSxCPTYqQTtxW0JdPU51bWJlcihyK2EpO3FbQisxXT1OdW1iZXIodCtiKTtxW0IrMl09TnVtYmVyKHUteithKTtxW0IrM109TnVtYmVyKHgteStiKTtxW0IrNF09TnVtYmVyKHUrYSk7cVtCKzVdPU51bWJlcih4K2IpO3I9dSt6O3Q9eCt5fXJldHVybiBxfSxnZXRCb3VuZGluZ0JveDpmdW5jdGlvbihhLApiLGMpe3ZhciBkPW51bGw7aWYobnVsbCE9YSYmbnVsbCE9YiYmMCE9Yil7Yj1teFV0aWxzLnRvUmFkaWFucyhiKTt2YXIgZD1NYXRoLmNvcyhiKSxlPU1hdGguc2luKGIpO2M9bnVsbCE9Yz9jOm5ldyBteFBvaW50KGEueCthLndpZHRoLzIsYS55K2EuaGVpZ2h0LzIpO3ZhciBmPW5ldyBteFBvaW50KGEueCxhLnkpO2I9bmV3IG14UG9pbnQoYS54K2Eud2lkdGgsYS55KTt2YXIgZz1uZXcgbXhQb2ludChiLngsYS55K2EuaGVpZ2h0KTthPW5ldyBteFBvaW50KGEueCxnLnkpO2Y9bXhVdGlscy5nZXRSb3RhdGVkUG9pbnQoZixkLGUsYyk7Yj1teFV0aWxzLmdldFJvdGF0ZWRQb2ludChiLGQsZSxjKTtnPW14VXRpbHMuZ2V0Um90YXRlZFBvaW50KGcsZCxlLGMpO2E9bXhVdGlscy5nZXRSb3RhdGVkUG9pbnQoYSxkLGUsYyk7ZD1uZXcgbXhSZWN0YW5nbGUoZi54LGYueSwwLDApO2QuYWRkKG5ldyBteFJlY3RhbmdsZShiLngsYi55LDAsMCkpO2QuYWRkKG5ldyBteFJlY3RhbmdsZShnLngsCmcueSwwLDApKTtkLmFkZChuZXcgbXhSZWN0YW5nbGUoYS54LGEueSwwLDApKX1yZXR1cm4gZH0sZ2V0Um90YXRlZFBvaW50OmZ1bmN0aW9uKGEsYixjLGQpe2Q9bnVsbCE9ZD9kOm5ldyBteFBvaW50O3ZhciBlPWEueC1kLng7YT1hLnktZC55O3JldHVybiBuZXcgbXhQb2ludChlKmItYSpjK2QueCxhKmIrZSpjK2QueSl9LGdldFBvcnRDb25zdHJhaW50czpmdW5jdGlvbihhLGIsYyxkKXtiPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9QT1JUX0NPTlNUUkFJTlQsbXhVdGlscy5nZXRWYWx1ZShiLnN0eWxlLGM/bXhDb25zdGFudHMuU1RZTEVfU09VUkNFX1BPUlRfQ09OU1RSQUlOVDpteENvbnN0YW50cy5TVFlMRV9UQVJHRVRfUE9SVF9DT05TVFJBSU5ULG51bGwpKTtpZihudWxsPT1iKXJldHVybiBkO2Q9Yi50b1N0cmluZygpO2I9bXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfTk9ORTtjPTA7MT09bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1BPUlRfQ09OU1RSQUlOVF9ST1RBVElPTiwKMCkmJihjPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9ST1RBVElPTiwwKSk7YT0wOzQ1PGM/KGE9MSwxMzU8PWMmJihhPTIpKTotNDU+YyYmKGE9MywtMTM1Pj1jJiYoYT0yKSk7aWYoMDw9ZC5pbmRleE9mKG14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSCkpc3dpdGNoKGEpe2Nhc2UgMDpifD1teENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19OT1JUSDticmVhaztjYXNlIDE6Ynw9bXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfRUFTVDticmVhaztjYXNlIDI6Ynw9bXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfU09VVEg7YnJlYWs7Y2FzZSAzOmJ8PW14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX1dFU1R9aWYoMDw9ZC5pbmRleE9mKG14Q29uc3RhbnRzLkRJUkVDVElPTl9XRVNUKSlzd2l0Y2goYSl7Y2FzZSAwOmJ8PW14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX1dFU1Q7YnJlYWs7Y2FzZSAxOmJ8PW14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX05PUlRIOwpicmVhaztjYXNlIDI6Ynw9bXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfRUFTVDticmVhaztjYXNlIDM6Ynw9bXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfU09VVEh9aWYoMDw9ZC5pbmRleE9mKG14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSCkpc3dpdGNoKGEpe2Nhc2UgMDpifD1teENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19TT1VUSDticmVhaztjYXNlIDE6Ynw9bXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfV0VTVDticmVhaztjYXNlIDI6Ynw9bXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfTk9SVEg7YnJlYWs7Y2FzZSAzOmJ8PW14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX0VBU1R9aWYoMDw9ZC5pbmRleE9mKG14Q29uc3RhbnRzLkRJUkVDVElPTl9FQVNUKSlzd2l0Y2goYSl7Y2FzZSAwOmJ8PW14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX0VBU1Q7YnJlYWs7Y2FzZSAxOmJ8PW14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX1NPVVRIO2JyZWFrO2Nhc2UgMjpifD0KbXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfV0VTVDticmVhaztjYXNlIDM6Ynw9bXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfTk9SVEh9cmV0dXJuIGJ9LHJldmVyc2VQb3J0Q29uc3RyYWludHM6ZnVuY3Rpb24oYSl7dmFyIGI7Yj0oYSZteENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19XRVNUKTw8MztifD0oYSZteENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19OT1JUSCk8PDE7Ynw9KGEmbXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfU09VVEgpPj4xO3JldHVybiBifChhJm14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX0VBU1QpPj4zfSxmaW5kTmVhcmVzdFNlZ21lbnQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPS0xO2lmKDA8YS5hYnNvbHV0ZVBvaW50cy5sZW5ndGgpZm9yKHZhciBlPWEuYWJzb2x1dGVQb2ludHNbMF0sZj1udWxsLGc9MTtnPGEuYWJzb2x1dGVQb2ludHMubGVuZ3RoO2crKyl7dmFyIGs9YS5hYnNvbHV0ZVBvaW50c1tnXSxlPW14VXRpbHMucHRTZWdEaXN0U3EoZS54LAplLnksay54LGsueSxiLGMpO2lmKG51bGw9PWZ8fGU8ZilmPWUsZD1nLTE7ZT1rfXJldHVybiBkfSxnZXREaXJlY3RlZEJvdW5kczpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPW14VXRpbHMuZ2V0VmFsdWUoYyxteENvbnN0YW50cy5TVFlMRV9ESVJFQ1RJT04sbXhDb25zdGFudHMuRElSRUNUSU9OX0VBU1QpO2Q9bnVsbCE9ZD9kOm14VXRpbHMuZ2V0VmFsdWUoYyxteENvbnN0YW50cy5TVFlMRV9GTElQSCwhMSk7ZT1udWxsIT1lP2U6bXhVdGlscy5nZXRWYWx1ZShjLG14Q29uc3RhbnRzLlNUWUxFX0ZMSVBWLCExKTtiLng9TWF0aC5yb3VuZChNYXRoLm1heCgwLE1hdGgubWluKGEud2lkdGgsYi54KSkpO2IueT1NYXRoLnJvdW5kKE1hdGgubWF4KDAsTWF0aC5taW4oYS5oZWlnaHQsYi55KSkpO2Iud2lkdGg9TWF0aC5yb3VuZChNYXRoLm1heCgwLE1hdGgubWluKGEud2lkdGgsYi53aWR0aCkpKTtiLmhlaWdodD1NYXRoLnJvdW5kKE1hdGgubWF4KDAsTWF0aC5taW4oYS5oZWlnaHQsCmIuaGVpZ2h0KSkpO2lmKGUmJihmPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEh8fGY9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSCl8fGQmJihmPT1teENvbnN0YW50cy5ESVJFQ1RJT05fRUFTVHx8Zj09bXhDb25zdGFudHMuRElSRUNUSU9OX1dFU1QpKWM9Yi54LGIueD1iLndpZHRoLGIud2lkdGg9YztpZihkJiYoZj09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIfHxmPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEgpfHxlJiYoZj09bXhDb25zdGFudHMuRElSRUNUSU9OX0VBU1R8fGY9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9XRVNUKSljPWIueSxiLnk9Yi5oZWlnaHQsYi5oZWlnaHQ9YztkPW14UmVjdGFuZ2xlLmZyb21SZWN0YW5nbGUoYik7Zj09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIPyhkLnk9Yi54LGQueD1iLmhlaWdodCxkLndpZHRoPWIueSxkLmhlaWdodD1iLndpZHRoKTpmPT1teENvbnN0YW50cy5ESVJFQ1RJT05fV0VTVD8oZC55PWIuaGVpZ2h0LApkLng9Yi53aWR0aCxkLndpZHRoPWIueCxkLmhlaWdodD1iLnkpOmY9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSCYmKGQueT1iLndpZHRoLGQueD1iLnksZC53aWR0aD1iLmhlaWdodCxkLmhlaWdodD1iLngpO3JldHVybiBuZXcgbXhSZWN0YW5nbGUoYS54K2QueCxhLnkrZC55LGEud2lkdGgtZC53aWR0aC1kLngsYS5oZWlnaHQtZC5oZWlnaHQtZC55KX0sZ2V0UGVyaW1ldGVyUG9pbnQ6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1udWxsLGU9MDtlPGEubGVuZ3RoLTE7ZSsrKXt2YXIgZj1teFV0aWxzLmludGVyc2VjdGlvbihhW2VdLngsYVtlXS55LGFbZSsxXS54LGFbZSsxXS55LGIueCxiLnksYy54LGMueSk7aWYobnVsbCE9Zil7dmFyIGc9Yy54LWYueCxrPWMueS1mLnksZj17cDpmLGRpc3RTcTprKmsrZypnfTtudWxsIT1mJiYobnVsbD09ZHx8ZC5kaXN0U3E+Zi5kaXN0U3EpJiYoZD1mKX19cmV0dXJuIG51bGwhPWQ/ZC5wOm51bGx9LHJlY3RhbmdsZUludGVyc2VjdHNTZWdtZW50OmZ1bmN0aW9uKGEsCmIsYyl7dmFyIGQ9YS55LGU9YS54LGY9ZCthLmhlaWdodCxnPWUrYS53aWR0aDthPWIueDt2YXIgaz1jLng7Yi54PmMueCYmKGE9Yy54LGs9Yi54KTtrPmcmJihrPWcpO2E8ZSYmKGE9ZSk7aWYoYT5rKXJldHVybiExO3ZhciBlPWIueSxnPWMueSxsPWMueC1iLng7MUUtNzxNYXRoLmFicyhsKSYmKGM9KGMueS1iLnkpL2wsYj1iLnktYypiLngsZT1jKmErYixnPWMqaytiKTtlPmcmJihiPWcsZz1lLGU9Yik7Zz5mJiYoZz1mKTtlPGQmJihlPWQpO3JldHVybiBlPmc/ITE6ITB9LGNvbnRhaW5zOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYS54PD1iJiZhLngrYS53aWR0aD49YiYmYS55PD1jJiZhLnkrYS5oZWlnaHQ+PWN9LGludGVyc2VjdHM6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLndpZHRoLGQ9YS5oZWlnaHQsZT1iLndpZHRoLGY9Yi5oZWlnaHQ7aWYoMD49ZXx8MD49Znx8MD49Y3x8MD49ZClyZXR1cm4hMTt2YXIgZz1hLngsaz1hLnksbD1iLngsbT1iLnksZT1lK2wsZj1mK20sYz1jKwpnLGQ9ZCtrO3JldHVybihlPGx8fGU+ZykmJihmPG18fGY+aykmJihjPGd8fGM+bCkmJihkPGt8fGQ+bSl9LGludGVyc2VjdHNIb3RzcG90OmZ1bmN0aW9uKGEsYixjLGQsZSxmKXtkPW51bGwhPWQ/ZDoxO2U9bnVsbCE9ZT9lOjA7Zj1udWxsIT1mP2Y6MDtpZigwPGQpe3ZhciBnPWEuZ2V0Q2VudGVyWCgpLGs9YS5nZXRDZW50ZXJZKCksbD1hLndpZHRoLG09YS5oZWlnaHQsbj1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfU1RBUlRTSVpFKSphLnZpZXcuc2NhbGU7MDxuJiYobXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0hPUklaT05UQUwsITApPyhrPWEueStuLzIsbT1uKTooZz1hLngrbi8yLGw9bikpO2w9TWF0aC5tYXgoZSxsKmQpO209TWF0aC5tYXgoZSxtKmQpOzA8ZiYmKGw9TWF0aC5taW4obCxmKSxtPU1hdGgubWluKG0sZikpO2Q9bmV3IG14UmVjdGFuZ2xlKGctbC8yLGstbS8yLGwsbSk7Zz1teFV0aWxzLnRvUmFkaWFucyhteFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsCm14Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OKXx8MCk7MCE9ZyYmKGU9TWF0aC5jb3MoLWcpLGY9TWF0aC5zaW4oLWcpLGc9bmV3IG14UG9pbnQoYS5nZXRDZW50ZXJYKCksYS5nZXRDZW50ZXJZKCkpLGE9bXhVdGlscy5nZXRSb3RhdGVkUG9pbnQobmV3IG14UG9pbnQoYixjKSxlLGYsZyksYj1hLngsYz1hLnkpO3JldHVybiBteFV0aWxzLmNvbnRhaW5zKGQsYixjKX1yZXR1cm4hMH0sZ2V0T2Zmc2V0OmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTAsZD0wLGU9ITEsZj1hLGc9ZG9jdW1lbnQuYm9keSxrPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtudWxsIT1mJiZmIT1nJiZmIT1rJiYhZTspe3ZhciBsPW14VXRpbHMuZ2V0Q3VycmVudFN0eWxlKGYpO251bGwhPWwmJihlPWV8fCJmaXhlZCI9PWwucG9zaXRpb24pO2Y9Zi5wYXJlbnROb2RlfWJ8fGV8fChlPW14VXRpbHMuZ2V0RG9jdW1lbnRTY3JvbGxPcmlnaW4oYS5vd25lckRvY3VtZW50KSxjKz1lLngsZCs9ZS55KTtlPWEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7Cm51bGwhPWUmJihjKz1lLmxlZnQsZCs9ZS50b3ApO3JldHVybiBuZXcgbXhQb2ludChjLGQpfSxnZXREb2N1bWVudFNjcm9sbE9yaWdpbjpmdW5jdGlvbihhKXtpZihteENsaWVudC5JU19RVUlSS1MpcmV0dXJuIG5ldyBteFBvaW50KGEuYm9keS5zY3JvbGxMZWZ0LGEuYm9keS5zY3JvbGxUb3ApO2E9YS5kZWZhdWx0Vmlld3x8YS5wYXJlbnRXaW5kb3c7cmV0dXJuIG5ldyBteFBvaW50KG51bGwhPWEmJnZvaWQgMCE9PXdpbmRvdy5wYWdlWE9mZnNldD93aW5kb3cucGFnZVhPZmZzZXQ6KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudHx8ZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlfHxkb2N1bWVudC5ib2R5KS5zY3JvbGxMZWZ0LG51bGwhPWEmJnZvaWQgMCE9PXdpbmRvdy5wYWdlWU9mZnNldD93aW5kb3cucGFnZVlPZmZzZXQ6KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudHx8ZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlfHxkb2N1bWVudC5ib2R5KS5zY3JvbGxUb3ApfSxnZXRTY3JvbGxPcmlnaW46ZnVuY3Rpb24oYSwKYixjKXtiPW51bGwhPWI/YjohMTtjPW51bGwhPWM/YzohMDtmb3IodmFyIGQ9bnVsbCE9YT9hLm93bmVyRG9jdW1lbnQ6ZG9jdW1lbnQsZT1kLmJvZHksZj1kLmRvY3VtZW50RWxlbWVudCxnPW5ldyBteFBvaW50LGs9ITE7bnVsbCE9YSYmYSE9ZSYmYSE9Zjspe2lzTmFOKGEuc2Nyb2xsTGVmdCl8fGlzTmFOKGEuc2Nyb2xsVG9wKXx8KGcueCs9YS5zY3JvbGxMZWZ0LGcueSs9YS5zY3JvbGxUb3ApO3ZhciBsPW14VXRpbHMuZ2V0Q3VycmVudFN0eWxlKGEpO251bGwhPWwmJihrPWt8fCJmaXhlZCI9PWwucG9zaXRpb24pO2E9Yj9hLnBhcmVudE5vZGU6bnVsbH0hayYmYyYmKGE9bXhVdGlscy5nZXREb2N1bWVudFNjcm9sbE9yaWdpbihkKSxnLngrPWEueCxnLnkrPWEueSk7cmV0dXJuIGd9LGNvbnZlcnRQb2ludDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9bXhVdGlscy5nZXRTY3JvbGxPcmlnaW4oYSwhMSk7YT1teFV0aWxzLmdldE9mZnNldChhKTthLngtPWQueDthLnktPWQueTtyZXR1cm4gbmV3IG14UG9pbnQoYi0KYS54LGMtYS55KX0sbHRyaW06ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbnVsbCE9YT9hLnJlcGxhY2UobmV3IFJlZ0V4cCgiXlsiKyhifHwiXFxzIikrIl0rIiwiZyIpLCIiKTpudWxsfSxydHJpbTpmdW5jdGlvbihhLGIpe3JldHVybiBudWxsIT1hP2EucmVwbGFjZShuZXcgUmVnRXhwKCJbIisoYnx8IlxccyIpKyJdKyQiLCJnIiksIiIpOm51bGx9LHRyaW06ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbXhVdGlscy5sdHJpbShteFV0aWxzLnJ0cmltKGEsYiksYil9LGlzTnVtZXJpYzpmdW5jdGlvbihhKXtyZXR1cm4haXNOYU4ocGFyc2VGbG9hdChhKSkmJmlzRmluaXRlKGEpJiYoInN0cmluZyIhPXR5cGVvZiBhfHwwPmEudG9Mb3dlckNhc2UoKS5pbmRleE9mKCIweCIpKX0saXNJbnRlZ2VyOmZ1bmN0aW9uKGEpe3JldHVybiBTdHJpbmcocGFyc2VJbnQoYSkpPT09U3RyaW5nKGEpfSxtb2Q6ZnVuY3Rpb24oYSxiKXtyZXR1cm4oYSViK2IpJWJ9LGludGVyc2VjdGlvbjpmdW5jdGlvbihhLGIsCmMsZCxlLGYsZyxrKXt2YXIgbD0oay1mKSooYy1hKS0oZy1lKSooZC1iKTtnPSgoZy1lKSooYi1mKS0oay1mKSooYS1lKSkvbDtlPSgoYy1hKSooYi1mKS0oZC1iKSooYS1lKSkvbDtyZXR1cm4gMDw9ZyYmMT49ZyYmMDw9ZSYmMT49ZT9uZXcgbXhQb2ludChhK2cqKGMtYSksYitnKihkLWIpKTpudWxsfSxwdFNlZ0Rpc3RTcTpmdW5jdGlvbihhLGIsYyxkLGUsZil7Yy09YTtkLT1iO2UtPWE7Zi09YjswPj1lKmMrZipkP2M9MDooZT1jLWUsZj1kLWYsYT1lKmMrZipkLGM9MD49YT8wOmEqYS8oYypjK2QqZCkpO2U9ZSplK2YqZi1jOzA+ZSYmKGU9MCk7cmV0dXJuIGV9LHB0TGluZURpc3Q6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3JldHVybiBNYXRoLmFicygoZC1iKSplLShjLWEpKmYrYypiLWQqYSkvTWF0aC5zcXJ0KChkLWIpKihkLWIpKyhjLWEpKihjLWEpKX0scmVsYXRpdmVDY3c6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe2MtPWE7ZC09YjtlLT1hO2YtPWI7YT1lKmQtZipjOzA9PWEmJgooYT1lKmMrZipkLDA8YSYmKGE9KGUtYykqYysoZi1kKSpkLDA+YSYmKGE9MCkpKTtyZXR1cm4gMD5hPy0xOjA8YT8xOjB9LGFuaW1hdGVDaGFuZ2VzOmZ1bmN0aW9uKGEsYil7bXhFZmZlY3RzLmFuaW1hdGVDaGFuZ2VzLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sY2FzY2FkZU9wYWNpdHk6ZnVuY3Rpb24oYSxiLGMpe214RWZmZWN0cy5jYXNjYWRlT3BhY2l0eS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGZhZGVPdXQ6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe214RWZmZWN0cy5mYWRlT3V0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sc2V0T3BhY2l0eTpmdW5jdGlvbihhLGIpe214VXRpbHMuaXNWbWwoYSk/YS5zdHlsZS5maWx0ZXI9MTAwPD1iPyIiOiJhbHBoYShvcGFjaXR5PSIrYi81KyIpIjpteENsaWVudC5JU19JRSYmKCJ1bmRlZmluZWQiPT09dHlwZW9mIGRvY3VtZW50LmRvY3VtZW50TW9kZXx8OT5kb2N1bWVudC5kb2N1bWVudE1vZGUpP2Euc3R5bGUuZmlsdGVyPTEwMDw9Yj8iIjoKImFscGhhKG9wYWNpdHk9IitiKyIpIjphLnN0eWxlLm9wYWNpdHk9Yi8xMDB9LGNyZWF0ZUltYWdlOmZ1bmN0aW9uKGEpe3ZhciBiO214Q2xpZW50LklTX0lFNiYmIkNTUzFDb21wYXQiIT1kb2N1bWVudC5jb21wYXRNb2RlPyhiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobXhDbGllbnQuVk1MX1BSRUZJWCsiOmltYWdlIiksYi5zZXRBdHRyaWJ1dGUoInNyYyIsYSksYi5zdHlsZS5ib3JkZXJTdHlsZT0ibm9uZSIpOihiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpLGIuc2V0QXR0cmlidXRlKCJzcmMiLGEpLGIuc2V0QXR0cmlidXRlKCJib3JkZXIiLCIwIikpO3JldHVybiBifSxzb3J0Q2VsbHM6ZnVuY3Rpb24oYSxiKXtiPW51bGwhPWI/YjohMDt2YXIgYz1uZXcgbXhEaWN0aW9uYXJ5O2Euc29ydChmdW5jdGlvbihhLGUpe3ZhciBkPWMuZ2V0KGEpO251bGw9PWQmJihkPW14Q2VsbFBhdGguY3JlYXRlKGEpLnNwbGl0KG14Q2VsbFBhdGguUEFUSF9TRVBBUkFUT1IpLGMucHV0KGEsCmQpKTt2YXIgZz1jLmdldChlKTtudWxsPT1nJiYoZz1teENlbGxQYXRoLmNyZWF0ZShlKS5zcGxpdChteENlbGxQYXRoLlBBVEhfU0VQQVJBVE9SKSxjLnB1dChlLGcpKTtkPW14Q2VsbFBhdGguY29tcGFyZShkLGcpO3JldHVybiAwPT1kPzA6MDxkPT1iPzE6LTF9KTtyZXR1cm4gYX0sZ2V0U3R5bGVuYW1lOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiYoYT1hLnNwbGl0KCI7IilbMF0sMD5hLmluZGV4T2YoIj0iKSk/YToiIn0sZ2V0U3R5bGVuYW1lczpmdW5jdGlvbihhKXt2YXIgYj1bXTtpZihudWxsIT1hKXthPWEuc3BsaXQoIjsiKTtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKykwPmFbY10uaW5kZXhPZigiPSIpJiZiLnB1c2goYVtjXSl9cmV0dXJuIGJ9LGluZGV4T2ZTdHlsZW5hbWU6ZnVuY3Rpb24oYSxiKXtpZihudWxsIT1hJiZudWxsIT1iKWZvcih2YXIgYz1hLnNwbGl0KCI7IiksZD0wLGU9MDtlPGMubGVuZ3RoO2UrKyl7aWYoY1tlXT09YilyZXR1cm4gZDtkKz1jW2VdLmxlbmd0aCsKMX1yZXR1cm4tMX0sYWRkU3R5bGVuYW1lOmZ1bmN0aW9uKGEsYil7MD5teFV0aWxzLmluZGV4T2ZTdHlsZW5hbWUoYSxiKSYmKG51bGw9PWE/YT0iIjowPGEubGVuZ3RoJiYiOyIhPWEuY2hhckF0KGEubGVuZ3RoLTEpJiYoYSs9IjsiKSxhKz1iKTtyZXR1cm4gYX0scmVtb3ZlU3R5bGVuYW1lOmZ1bmN0aW9uKGEsYil7dmFyIGM9W107aWYobnVsbCE9YSlmb3IodmFyIGQ9YS5zcGxpdCgiOyIpLGU9MDtlPGQubGVuZ3RoO2UrKylkW2VdIT1iJiZjLnB1c2goZFtlXSk7cmV0dXJuIGMuam9pbigiOyIpfSxyZW1vdmVBbGxTdHlsZW5hbWVzOmZ1bmN0aW9uKGEpe3ZhciBiPVtdO2lmKG51bGwhPWEpe2E9YS5zcGxpdCgiOyIpO2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKTA8PWFbY10uaW5kZXhPZigiPSIpJiZiLnB1c2goYVtjXSl9cmV0dXJuIGIuam9pbigiOyIpfSxzZXRDZWxsU3R5bGVzOmZ1bmN0aW9uKGEsYixjLGQpe2lmKG51bGwhPWImJjA8Yi5sZW5ndGgpe2EuYmVnaW5VcGRhdGUoKTsKdHJ5e2Zvcih2YXIgZT0wO2U8Yi5sZW5ndGg7ZSsrKWlmKG51bGwhPWJbZV0pe3ZhciBmPW14VXRpbHMuc2V0U3R5bGUoYS5nZXRTdHlsZShiW2VdKSxjLGQpO2Euc2V0U3R5bGUoYltlXSxmKX19ZmluYWxseXthLmVuZFVwZGF0ZSgpfX19LHNldFN0eWxlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1udWxsIT1jJiYoInVuZGVmaW5lZCI9PXR5cGVvZiBjLmxlbmd0aHx8MDxjLmxlbmd0aCk7aWYobnVsbD09YXx8MD09YS5sZW5ndGgpZCYmKGE9YisiPSIrYysiOyIpO2Vsc2UgaWYoYS5zdWJzdHJpbmcoMCxiLmxlbmd0aCsxKT09YisiPSIpe3ZhciBlPWEuaW5kZXhPZigiOyIpO2E9ZD9iKyI9IitjKygwPmU/IjsiOmEuc3Vic3RyaW5nKGUpKTowPmV8fGU9PWEubGVuZ3RoLTE/IiI6YS5zdWJzdHJpbmcoZSsxKX1lbHNle3ZhciBmPWEuaW5kZXhPZigiOyIrYisiPSIpOzA+Zj9kJiYoZD0iOyI9PWEuY2hhckF0KGEubGVuZ3RoLTEpPyIiOiI7IixhPWErZCtiKyI9IitjKyI7Iik6KGU9YS5pbmRleE9mKCI7IiwKZisxKSxhPWQ/YS5zdWJzdHJpbmcoMCxmKzEpK2IrIj0iK2MrKDA+ZT8iOyI6YS5zdWJzdHJpbmcoZSkpOmEuc3Vic3RyaW5nKDAsZikrKDA+ZT8iOyI6YS5zdWJzdHJpbmcoZSkpKX1yZXR1cm4gYX0sc2V0Q2VsbFN0eWxlRmxhZ3M6ZnVuY3Rpb24oYSxiLGMsZCxlKXtpZihudWxsIT1iJiYwPGIubGVuZ3RoKXthLmJlZ2luVXBkYXRlKCk7dHJ5e2Zvcih2YXIgZj0wO2Y8Yi5sZW5ndGg7ZisrKWlmKG51bGwhPWJbZl0pe3ZhciBnPW14VXRpbHMuc2V0U3R5bGVGbGFnKGEuZ2V0U3R5bGUoYltmXSksYyxkLGUpO2Euc2V0U3R5bGUoYltmXSxnKX19ZmluYWxseXthLmVuZFVwZGF0ZSgpfX19LHNldFN0eWxlRmxhZzpmdW5jdGlvbihhLGIsYyxkKXtpZihudWxsPT1hfHwwPT1hLmxlbmd0aClhPWR8fG51bGw9PWQ/YisiPSIrYzpiKyI9MCI7ZWxzZXt2YXIgZT1hLmluZGV4T2YoYisiPSIpO2lmKDA+ZSllPSI7Ij09YS5jaGFyQXQoYS5sZW5ndGgtMSk/IiI6IjsiLGE9ZHx8bnVsbD09ZD9hKwplK2IrIj0iK2M6YStlK2IrIj0wIjtlbHNle3ZhciBmPWEuaW5kZXhPZigiOyIsZSksZztnPTA+Zj9hLnN1YnN0cmluZyhlK2IubGVuZ3RoKzEpOmEuc3Vic3RyaW5nKGUrYi5sZW5ndGgrMSxmKTtnPW51bGw9PWQ/cGFyc2VJbnQoZyleYzpkP3BhcnNlSW50KGcpfGM6cGFyc2VJbnQoZykmfmM7YT1hLnN1YnN0cmluZygwLGUpK2IrIj0iK2crKDA8PWY/YS5zdWJzdHJpbmcoZik6IiIpfX1yZXR1cm4gYX0sZ2V0QWxpZ25tZW50QXNQb2ludDpmdW5jdGlvbihhLGIpe3ZhciBjPS0uNSxkPS0uNTthPT1teENvbnN0YW50cy5BTElHTl9MRUZUP2M9MDphPT1teENvbnN0YW50cy5BTElHTl9SSUdIVCYmKGM9LTEpO2I9PW14Q29uc3RhbnRzLkFMSUdOX1RPUD9kPTA6Yj09bXhDb25zdGFudHMuQUxJR05fQk9UVE9NJiYoZD0tMSk7cmV0dXJuIG5ldyBteFBvaW50KGMsZCl9LGdldFNpemVGb3JTdHJpbmc6ZnVuY3Rpb24oYSxiLGMsZCxlKXtiPW51bGwhPWI/YjpteENvbnN0YW50cy5ERUZBVUxUX0ZPTlRTSVpFOwpjPW51bGwhPWM/YzpteENvbnN0YW50cy5ERUZBVUxUX0ZPTlRGQU1JTFk7dmFyIGY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Zi5zdHlsZS5mb250RmFtaWx5PWM7Zi5zdHlsZS5mb250U2l6ZT1NYXRoLnJvdW5kKGIpKyJweCI7Zi5zdHlsZS5saW5lSGVpZ2h0PU1hdGgucm91bmQoYipteENvbnN0YW50cy5MSU5FX0hFSUdIVCkrInB4IjtudWxsIT1lJiYoKGUmbXhDb25zdGFudHMuRk9OVF9CT0xEKT09bXhDb25zdGFudHMuRk9OVF9CT0xEJiYoZi5zdHlsZS5mb250V2VpZ2h0PSJib2xkIiksKGUmbXhDb25zdGFudHMuRk9OVF9JVEFMSUMpPT1teENvbnN0YW50cy5GT05UX0lUQUxJQyYmKGYuc3R5bGUuZm9udFN0eWxlPSJpdGFsaWMiKSxiPVtdLChlJm14Q29uc3RhbnRzLkZPTlRfVU5ERVJMSU5FKT09bXhDb25zdGFudHMuRk9OVF9VTkRFUkxJTkUmJmIucHVzaCgidW5kZXJsaW5lIiksKGUmbXhDb25zdGFudHMuRk9OVF9TVFJJS0VUSFJPVUdIKT09bXhDb25zdGFudHMuRk9OVF9TVFJJS0VUSFJPVUdIJiYKYi5wdXNoKCJsaW5lLXRocm91Z2giKSwwPGIubGVuZ3RoJiYoZi5zdHlsZS50ZXh0RGVjb3JhdGlvbj1iLmpvaW4oIiAiKSkpO2Yuc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtmLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiI7Zi5zdHlsZS5kaXNwbGF5PW14Q2xpZW50LklTX1FVSVJLUz8iaW5saW5lIjoiaW5saW5lLWJsb2NrIjtmLnN0eWxlLnpvb209IjEiO251bGwhPWQ/KGYuc3R5bGUud2lkdGg9ZCsicHgiLGYuc3R5bGUud2hpdGVTcGFjZT0ibm9ybWFsIik6Zi5zdHlsZS53aGl0ZVNwYWNlPSJub3dyYXAiO2YuaW5uZXJIVE1MPWE7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChmKTthPW5ldyBteFJlY3RhbmdsZSgwLDAsZi5vZmZzZXRXaWR0aCxmLm9mZnNldEhlaWdodCk7ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChmKTtyZXR1cm4gYX0sZ2V0Vmlld1htbDpmdW5jdGlvbihhLGIsYyxkLGUpe2Q9bnVsbCE9ZD9kOjA7ZT1udWxsIT1lP2U6MDtiPW51bGwhPWI/YjoxO251bGw9PQpjJiYoYz1bYS5nZXRNb2RlbCgpLmdldFJvb3QoKV0pO3ZhciBmPWEuZ2V0VmlldygpLGc9bnVsbCxrPWYuaXNFdmVudHNFbmFibGVkKCk7Zi5zZXRFdmVudHNFbmFibGVkKCExKTt2YXIgbD1mLmRyYXdQYW5lLG09Zi5vdmVybGF5UGFuZTthLmRpYWxlY3Q9PW14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHPyhmLmRyYXdQYW5lPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhteENvbnN0YW50cy5OU19TVkcsImciKSxmLmNhbnZhcy5hcHBlbmRDaGlsZChmLmRyYXdQYW5lKSxmLm92ZXJsYXlQYW5lPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhteENvbnN0YW50cy5OU19TVkcsImciKSk6KGYuZHJhd1BhbmU9Zi5kcmF3UGFuZS5jbG9uZU5vZGUoITEpLGYuY2FudmFzLmFwcGVuZENoaWxkKGYuZHJhd1BhbmUpLGYub3ZlcmxheVBhbmU9Zi5vdmVybGF5UGFuZS5jbG9uZU5vZGUoITEpKTtmLmNhbnZhcy5hcHBlbmRDaGlsZChmLm92ZXJsYXlQYW5lKTt2YXIgbj1mLmdldFRyYW5zbGF0ZSgpO2YudHJhbnNsYXRlPQpuZXcgbXhQb2ludChkLGUpO2I9bmV3IG14VGVtcG9yYXJ5Q2VsbFN0YXRlcyhhLmdldFZpZXcoKSxiLGMpO3RyeXtnPShuZXcgbXhDb2RlYykuZW5jb2RlKGEuZ2V0VmlldygpKX1maW5hbGx5e2IuZGVzdHJveSgpLGYudHJhbnNsYXRlPW4sZi5jYW52YXMucmVtb3ZlQ2hpbGQoZi5kcmF3UGFuZSksZi5jYW52YXMucmVtb3ZlQ2hpbGQoZi5vdmVybGF5UGFuZSksZi5kcmF3UGFuZT1sLGYub3ZlcmxheVBhbmU9bSxmLnNldEV2ZW50c0VuYWJsZWQoayl9cmV0dXJuIGd9LGdldFNjYWxlRm9yUGFnZUNvdW50OmZ1bmN0aW9uKGEsYixjLGQpe2lmKDE+YSlyZXR1cm4gMTtjPW51bGwhPWM/YzpteENvbnN0YW50cy5QQUdFX0ZPUk1BVF9BNF9QT1JUUkFJVDtkPW51bGwhPWQ/ZDowO3ZhciBlPWMud2lkdGgtMipkO2M9Yy5oZWlnaHQtMipkO2Q9Yi5nZXRHcmFwaEJvdW5kcygpLmNsb25lKCk7Yj1iLmdldFZpZXcoKS5nZXRTY2FsZSgpO2Qud2lkdGgvPWI7ZC5oZWlnaHQvPWI7Yj1kLndpZHRoOwp2YXIgZj1NYXRoLnNxcnQoYSk7ZD1NYXRoLnNxcnQoYi9kLmhlaWdodC8oZS9jKSk7Yz1mKmQ7ZD1mL2Q7aWYoMT5jJiZkPmEpe3ZhciBnPWQvYTtkPWE7Yy89Z30xPmQmJmM+YSYmKGc9Yy9hLGM9YSxkLz1nKTtnPU1hdGguY2VpbChjKSpNYXRoLmNlaWwoZCk7Zm9yKGY9MDtnPmE7KXt2YXIgZz1NYXRoLmZsb29yKGMpL2Msaz1NYXRoLmZsb29yKGQpL2Q7MT09ZyYmKGc9TWF0aC5mbG9vcihjLTEpL2MpOzE9PWsmJihrPU1hdGguZmxvb3IoZC0xKS9kKTtnPWc+az9nOms7Yyo9ZztkKj1nO2c9TWF0aC5jZWlsKGMpKk1hdGguY2VpbChkKTtmKys7aWYoMTA8ZilicmVha31yZXR1cm4gZSpjL2IqLjk5OTk5fSxzaG93OmZ1bmN0aW9uKGEsYixjLGQsZSxmKXtjPW51bGwhPWM/YzowO2Q9bnVsbCE9ZD9kOjA7bnVsbD09Yj9iPXdpbmRvdy5vcGVuKCkuZG9jdW1lbnQ6Yi5vcGVuKCk7OT09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlJiZiLndyaXRlbG4oJ1x4M2MhLS1baWYgSUVdPjxtZXRhIGh0dHAtZXF1aXY9IlgtVUEtQ29tcGF0aWJsZSIgY29udGVudD0iSUU9OSI+PCFbZW5kaWZdLS1ceDNlJyk7CnZhciBnPWEuZ2V0R3JhcGhCb3VuZHMoKSxrPU1hdGguY2VpbChjLWcueCksbD1NYXRoLmNlaWwoZC1nLnkpO251bGw9PWUmJihlPU1hdGguY2VpbChnLndpZHRoK2MpK01hdGguY2VpbChNYXRoLmNlaWwoZy54KS1nLngpKTtudWxsPT1mJiYoZj1NYXRoLmNlaWwoZy5oZWlnaHQrZCkrTWF0aC5jZWlsKE1hdGguY2VpbChnLnkpLWcueSkpO2lmKG14Q2xpZW50LklTX0lFfHwxMT09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKXtkPSI8aHRtbD48aGVhZD4iO2c9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJhc2UiKTtmb3IoYz0wO2M8Zy5sZW5ndGg7YysrKWQrPWdbY10ub3V0ZXJIVE1MO2QrPSI8c3R5bGU+Ijtmb3IoYz0wO2M8ZG9jdW1lbnQuc3R5bGVTaGVldHMubGVuZ3RoO2MrKyl0cnl7ZCs9ZG9jdW1lbnQuc3R5bGVTaGVldHNbY10uY3NzVGV4dH1jYXRjaChtKXt9ZD1kKyc8L3N0eWxlPjwvaGVhZD48Ym9keSBzdHlsZT0ibWFyZ2luOjBweDsiPicrKCc8ZGl2IHN0eWxlPSJwb3NpdGlvbjphYnNvbHV0ZTtvdmVyZmxvdzpoaWRkZW47d2lkdGg6JysKZSsicHg7aGVpZ2h0OiIrZisncHg7Ij48ZGl2IHN0eWxlPSJwb3NpdGlvbjpyZWxhdGl2ZTtsZWZ0OicraysicHg7dG9wOiIrbCsncHg7Ij4nKSthLmNvbnRhaW5lci5pbm5lckhUTUw7Yi53cml0ZWxuKGQrIjwvZGl2PjwvZGl2PjwvYm9keT48aHRtbD4iKTtiLmNsb3NlKCl9ZWxzZXtiLndyaXRlbG4oIjxodG1sPjxoZWFkPiIpO2c9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJhc2UiKTtmb3IoYz0wO2M8Zy5sZW5ndGg7YysrKWIud3JpdGVsbihteFV0aWxzLmdldE91dGVySHRtbChnW2NdKSk7ZD1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgibGluayIpO2ZvcihjPTA7YzxkLmxlbmd0aDtjKyspYi53cml0ZWxuKG14VXRpbHMuZ2V0T3V0ZXJIdG1sKGRbY10pKTtkPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzdHlsZSIpO2ZvcihjPTA7YzxkLmxlbmd0aDtjKyspYi53cml0ZWxuKG14VXRpbHMuZ2V0T3V0ZXJIdG1sKGRbY10pKTtiLndyaXRlbG4oJzwvaGVhZD48Ym9keSBzdHlsZT0ibWFyZ2luOjBweDsiPjwvYm9keT48L2h0bWw+Jyk7CmIuY2xvc2UoKTtjPWIuY3JlYXRlRWxlbWVudCgiZGl2Iik7Yy5wb3NpdGlvbj0iYWJzb2x1dGUiO2Mub3ZlcmZsb3c9ImhpZGRlbiI7Yy5zdHlsZS53aWR0aD1lKyJweCI7Yy5zdHlsZS5oZWlnaHQ9ZisicHgiO2U9Yi5jcmVhdGVFbGVtZW50KCJkaXYiKTtlLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7ZS5zdHlsZS5sZWZ0PWsrInB4IjtlLnN0eWxlLnRvcD1sKyJweCI7Zj1hLmNvbnRhaW5lci5maXJzdENoaWxkO2ZvcihkPW51bGw7bnVsbCE9ZjspZz1mLmNsb25lTm9kZSghMCksZj09YS52aWV3LmRyYXdQYW5lLm93bmVyU1ZHRWxlbWVudD8oYy5hcHBlbmRDaGlsZChnKSxkPWcpOmUuYXBwZW5kQ2hpbGQoZyksZj1mLm5leHRTaWJsaW5nO2IuYm9keS5hcHBlbmRDaGlsZChjKTtudWxsIT1lLmZpcnN0Q2hpbGQmJmIuYm9keS5hcHBlbmRDaGlsZChlKTtudWxsIT1kJiYoZC5zdHlsZS5taW5XaWR0aD0iIixkLnN0eWxlLm1pbkhlaWdodD0iIixkLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKCJ0cmFuc2Zvcm0iLAoidHJhbnNsYXRlKCIraysiLCIrbCsiKSIpKX1teFV0aWxzLnJlbW92ZUN1cnNvcnMoYi5ib2R5KTtyZXR1cm4gYn0scHJpbnRTY3JlZW46ZnVuY3Rpb24oYSl7dmFyIGI9d2luZG93Lm9wZW4oKTthLmdldEdyYXBoQm91bmRzKCk7bXhVdGlscy5zaG93KGEsYi5kb2N1bWVudCk7YT1mdW5jdGlvbigpe2IuZm9jdXMoKTtiLnByaW50KCk7Yi5jbG9zZSgpfTtteENsaWVudC5JU19HQz9iLnNldFRpbWVvdXQoYSw1MDApOmEoKX0scG9wdXA6ZnVuY3Rpb24oYSxiKXtpZihiKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtjLnN0eWxlLm92ZXJmbG93PSJzY3JvbGwiO2Muc3R5bGUud2lkdGg9IjYzNnB4IjtjLnN0eWxlLmhlaWdodD0iNDYwcHgiO3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInByZSIpO2QuaW5uZXJIVE1MPW14VXRpbHMuaHRtbEVudGl0aWVzKGEsITEpLnJlcGxhY2UoL1xuL2csIjxicj4iKS5yZXBsYWNlKC8gL2csIiZuYnNwOyIpO2MuYXBwZW5kQ2hpbGQoZCk7CmM9bmV3IG14V2luZG93KCJQb3B1cCBXaW5kb3ciLGMsZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aC8yLTMyMCxNYXRoLm1heChkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodHx8MCxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KS8yLTI0MCw2NDAsNDgwLCExLCEwKTtjLnNldENsb3NhYmxlKCEwKTtjLnNldFZpc2libGUoITApfWVsc2UgbXhDbGllbnQuSVNfTlM/KGM9d2luZG93Lm9wZW4oKSxjLmRvY3VtZW50LndyaXRlbG4oIjxwcmU+IitteFV0aWxzLmh0bWxFbnRpdGllcyhhKSsiPC9wcmUiKSxjLmRvY3VtZW50LmNsb3NlKCkpOihjPXdpbmRvdy5vcGVuKCksZD1jLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInByZSIpLGQuaW5uZXJIVE1MPW14VXRpbHMuaHRtbEVudGl0aWVzKGEsITEpLnJlcGxhY2UoL1xuL2csIjxicj4iKS5yZXBsYWNlKC8gL2csIiZuYnNwOyIpLGMuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkKSl9LGFsZXJ0OmZ1bmN0aW9uKGEpe2FsZXJ0KGEpfSwKcHJvbXB0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIHByb21wdChhLG51bGwhPWI/YjoiIil9LGNvbmZpcm06ZnVuY3Rpb24oYSl7cmV0dXJuIGNvbmZpcm0oYSl9LGVycm9yOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Uuc3R5bGUucGFkZGluZz0iMjBweCI7dmFyIGY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7Zi5zZXRBdHRyaWJ1dGUoInNyYyIsZHx8bXhVdGlscy5lcnJvckltYWdlKTtmLnNldEF0dHJpYnV0ZSgidmFsaWduIiwiYm90dG9tIik7Zi5zdHlsZS52ZXJ0aWNhbEFsaWduPSJtaWRkbGUiO2UuYXBwZW5kQ2hpbGQoZik7ZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiwqAiKSk7ZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiwqAiKSk7ZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiwqAiKSk7bXhVdGlscy53cml0ZShlLGEpO2E9ZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aDsKZD1kb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDt2YXIgZz1uZXcgbXhXaW5kb3cobXhSZXNvdXJjZXMuZ2V0KG14VXRpbHMuZXJyb3JSZXNvdXJjZSl8fG14VXRpbHMuZXJyb3JSZXNvdXJjZSxlLChhLWIpLzIsZC80LGIsbnVsbCwhMSwhMCk7YyYmKG14VXRpbHMuYnIoZSksYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJwIiksYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKSxteENsaWVudC5JU19JRT9jLnN0eWxlLmNzc1RleHQ9ImZsb2F0OnJpZ2h0IjpjLnNldEF0dHJpYnV0ZSgic3R5bGUiLCJmbG9hdDpyaWdodCIpLG14RXZlbnQuYWRkTGlzdGVuZXIoYywiY2xpY2siLGZ1bmN0aW9uKGEpe2cuZGVzdHJveSgpfSksbXhVdGlscy53cml0ZShjLG14UmVzb3VyY2VzLmdldChteFV0aWxzLmNsb3NlUmVzb3VyY2UpfHxteFV0aWxzLmNsb3NlUmVzb3VyY2UpLGIuYXBwZW5kQ2hpbGQoYyksZS5hcHBlbmRDaGlsZChiKSwKbXhVdGlscy5icihlKSxnLnNldENsb3NhYmxlKCEwKSk7Zy5zZXRWaXNpYmxlKCEwKTtyZXR1cm4gZ30sbWFrZURyYWdnYWJsZTpmdW5jdGlvbihhLGIsYyxkLGUsZixnLGssbCxtKXthPW5ldyBteERyYWdTb3VyY2UoYSxjKTthLmRyYWdPZmZzZXQ9bmV3IG14UG9pbnQobnVsbCE9ZT9lOjAsbnVsbCE9Zj9mOm14Q29uc3RhbnRzLlRPT0xUSVBfVkVSVElDQUxfT0ZGU0VUKTthLmF1dG9zY3JvbGw9ZzthLnNldEd1aWRlc0VuYWJsZWQoITEpO251bGwhPWwmJihhLmhpZ2hsaWdodERyb3BUYXJnZXRzPWwpO251bGwhPW0mJihhLmdldERyb3BUYXJnZXQ9bSk7YS5nZXRHcmFwaEZvckV2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBiP2IoYSk6Yn07bnVsbCE9ZCYmKGEuY3JlYXRlRHJhZ0VsZW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gZC5jbG9uZU5vZGUoITApfSxrJiYoYS5jcmVhdGVQcmV2aWV3RWxlbWVudD1mdW5jdGlvbihhKXt2YXIgYj1kLmNsb25lTm9kZSghMCksCmM9cGFyc2VJbnQoYi5zdHlsZS53aWR0aCksZT1wYXJzZUludChiLnN0eWxlLmhlaWdodCk7Yi5zdHlsZS53aWR0aD1NYXRoLnJvdW5kKGMqYS52aWV3LnNjYWxlKSsicHgiO2Iuc3R5bGUuaGVpZ2h0PU1hdGgucm91bmQoZSphLnZpZXcuc2NhbGUpKyJweCI7cmV0dXJuIGJ9KSk7cmV0dXJuIGF9fSxteENvbnN0YW50cz17REVGQVVMVF9IT1RTUE9UOi4zLE1JTl9IT1RTUE9UX1NJWkU6OCxNQVhfSE9UU1BPVF9TSVpFOjAsUkVOREVSSU5HX0hJTlRfRVhBQ1Q6ImV4YWN0IixSRU5ERVJJTkdfSElOVF9GQVNURVI6ImZhc3RlciIsUkVOREVSSU5HX0hJTlRfRkFTVEVTVDoiZmFzdGVzdCIsRElBTEVDVF9TVkc6InN2ZyIsRElBTEVDVF9WTUw6InZtbCIsRElBTEVDVF9NSVhFREhUTUw6Im1peGVkSHRtbCIsRElBTEVDVF9QUkVGRVJIVE1MOiJwcmVmZXJIdG1sIixESUFMRUNUX1NUUklDVEhUTUw6InN0cmljdEh0bWwiLE5TX1NWRzoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLE5TX1hIVE1MOiJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiwKTlNfWExJTks6Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiLFNIQURPV0NPTE9SOiJncmF5IixWTUxfU0hBRE9XQ09MT1I6ImdyYXkiLFNIQURPV19PRkZTRVRfWDoyLFNIQURPV19PRkZTRVRfWTozLFNIQURPV19PUEFDSVRZOjEsTk9ERVRZUEVfRUxFTUVOVDoxLE5PREVUWVBFX0FUVFJJQlVURToyLE5PREVUWVBFX1RFWFQ6MyxOT0RFVFlQRV9DREFUQTo0LE5PREVUWVBFX0VOVElUWV9SRUZFUkVOQ0U6NSxOT0RFVFlQRV9FTlRJVFk6NixOT0RFVFlQRV9QUk9DRVNTSU5HX0lOU1RSVUNUSU9OOjcsTk9ERVRZUEVfQ09NTUVOVDo4LE5PREVUWVBFX0RPQ1VNRU5UOjksTk9ERVRZUEVfRE9DVU1FTlRUWVBFOjEwLE5PREVUWVBFX0RPQ1VNRU5UX0ZSQUdNRU5UOjExLE5PREVUWVBFX05PVEFUSU9OOjEyLFRPT0xUSVBfVkVSVElDQUxfT0ZGU0VUOjE2LERFRkFVTFRfVkFMSURfQ09MT1I6IiMwMEZGMDAiLERFRkFVTFRfSU5WQUxJRF9DT0xPUjoiI0ZGMDAwMCIsT1VUTElORV9ISUdITElHSFRfQ09MT1I6IiMwMEZGMDAiLApPVVRMSU5FX0hJR0hMSUdIVF9TVFJPS0VXSURUSDo1LEhJR0hMSUdIVF9TVFJPS0VXSURUSDozLEhJR0hMSUdIVF9TSVpFOjIsSElHSExJR0hUX09QQUNJVFk6MTAwLENVUlNPUl9NT1ZBQkxFX1ZFUlRFWDoibW92ZSIsQ1VSU09SX01PVkFCTEVfRURHRToibW92ZSIsQ1VSU09SX0xBQkVMX0hBTkRMRToiZGVmYXVsdCIsQ1VSU09SX1RFUk1JTkFMX0hBTkRMRToicG9pbnRlciIsQ1VSU09SX0JFTkRfSEFORExFOiJjcm9zc2hhaXIiLENVUlNPUl9WSVJUVUFMX0JFTkRfSEFORExFOiJjcm9zc2hhaXIiLENVUlNPUl9DT05ORUNUOiJwb2ludGVyIixISUdITElHSFRfQ09MT1I6IiMwMEZGMDAiLENPTk5FQ1RfVEFSR0VUX0NPTE9SOiIjMDAwMEZGIixJTlZBTElEX0NPTk5FQ1RfVEFSR0VUX0NPTE9SOiIjRkYwMDAwIixEUk9QX1RBUkdFVF9DT0xPUjoiIzAwMDBGRiIsVkFMSURfQ09MT1I6IiMwMEZGMDAiLElOVkFMSURfQ09MT1I6IiNGRjAwMDAiLEVER0VfU0VMRUNUSU9OX0NPTE9SOiIjMDBGRjAwIiwKVkVSVEVYX1NFTEVDVElPTl9DT0xPUjoiIzAwRkYwMCIsVkVSVEVYX1NFTEVDVElPTl9TVFJPS0VXSURUSDoxLEVER0VfU0VMRUNUSU9OX1NUUk9LRVdJRFRIOjEsVkVSVEVYX1NFTEVDVElPTl9EQVNIRUQ6ITAsRURHRV9TRUxFQ1RJT05fREFTSEVEOiEwLEdVSURFX0NPTE9SOiIjRkYwMDAwIixHVUlERV9TVFJPS0VXSURUSDoxLE9VVExJTkVfQ09MT1I6IiMwMDk5RkYiLE9VVExJTkVfU1RST0tFV0lEVEg6bXhDbGllbnQuSVNfSUU/MjozLEhBTkRMRV9TSVpFOjYsTEFCRUxfSEFORExFX1NJWkU6NCxIQU5ETEVfRklMTENPTE9SOiIjMDBGRjAwIixIQU5ETEVfU1RST0tFQ09MT1I6ImJsYWNrIixMQUJFTF9IQU5ETEVfRklMTENPTE9SOiJ5ZWxsb3ciLENPTk5FQ1RfSEFORExFX0ZJTExDT0xPUjoiIzAwMDBGRiIsTE9DS0VEX0hBTkRMRV9GSUxMQ09MT1I6IiNGRjAwMDAiLE9VVExJTkVfSEFORExFX0ZJTExDT0xPUjoiIzAwRkZGRiIsT1VUTElORV9IQU5ETEVfU1RST0tFQ09MT1I6IiMwMDMzRkYiLApERUZBVUxUX0ZPTlRGQU1JTFk6IkFyaWFsLEhlbHZldGljYSIsREVGQVVMVF9GT05UU0laRToxMSxERUZBVUxUX1RFWFRfRElSRUNUSU9OOiIiLExJTkVfSEVJR0hUOjEuMixXT1JEX1dSQVA6Im5vcm1hbCIsQUJTT0xVVEVfTElORV9IRUlHSFQ6ITEsREVGQVVMVF9GT05UU1RZTEU6MCxERUZBVUxUX1NUQVJUU0laRTo0MCxERUZBVUxUX01BUktFUlNJWkU6NixERUZBVUxUX0lNQUdFU0laRToyNCxFTlRJVFlfU0VHTUVOVDozMCxSRUNUQU5HTEVfUk9VTkRJTkdfRkFDVE9SOi4xNSxMSU5FX0FSQ1NJWkU6MjAsQVJST1dfU1BBQ0lORzowLEFSUk9XX1dJRFRIOjMwLEFSUk9XX1NJWkU6MzAsUEFHRV9GT1JNQVRfQTRfUE9SVFJBSVQ6bmV3IG14UmVjdGFuZ2xlKDAsMCw4MjcsMTE2OSksUEFHRV9GT1JNQVRfQTRfTEFORFNDQVBFOm5ldyBteFJlY3RhbmdsZSgwLDAsMTE2OSw4MjcpLFBBR0VfRk9STUFUX0xFVFRFUl9QT1JUUkFJVDpuZXcgbXhSZWN0YW5nbGUoMCwwLDg1MCwxMTAwKSwKUEFHRV9GT1JNQVRfTEVUVEVSX0xBTkRTQ0FQRTpuZXcgbXhSZWN0YW5nbGUoMCwwLDExMDAsODUwKSxOT05FOiJub25lIixTVFlMRV9QRVJJTUVURVI6InBlcmltZXRlciIsU1RZTEVfU09VUkNFX1BPUlQ6InNvdXJjZVBvcnQiLFNUWUxFX1RBUkdFVF9QT1JUOiJ0YXJnZXRQb3J0IixTVFlMRV9QT1JUX0NPTlNUUkFJTlQ6InBvcnRDb25zdHJhaW50IixTVFlMRV9QT1JUX0NPTlNUUkFJTlRfUk9UQVRJT046InBvcnRDb25zdHJhaW50Um90YXRpb24iLFNUWUxFX1NPVVJDRV9QT1JUX0NPTlNUUkFJTlQ6InNvdXJjZVBvcnRDb25zdHJhaW50IixTVFlMRV9UQVJHRVRfUE9SVF9DT05TVFJBSU5UOiJ0YXJnZXRQb3J0Q29uc3RyYWludCIsU1RZTEVfT1BBQ0lUWToib3BhY2l0eSIsU1RZTEVfRklMTF9PUEFDSVRZOiJmaWxsT3BhY2l0eSIsU1RZTEVfU1RST0tFX09QQUNJVFk6InN0cm9rZU9wYWNpdHkiLFNUWUxFX1RFWFRfT1BBQ0lUWToidGV4dE9wYWNpdHkiLFNUWUxFX1RFWFRfRElSRUNUSU9OOiJ0ZXh0RGlyZWN0aW9uIiwKU1RZTEVfT1ZFUkZMT1c6Im92ZXJmbG93IixTVFlMRV9PUlRIT0dPTkFMOiJvcnRob2dvbmFsIixTVFlMRV9FWElUX1g6ImV4aXRYIixTVFlMRV9FWElUX1k6ImV4aXRZIixTVFlMRV9FWElUX0RYOiJleGl0RHgiLFNUWUxFX0VYSVRfRFk6ImV4aXREeSIsU1RZTEVfRVhJVF9QRVJJTUVURVI6ImV4aXRQZXJpbWV0ZXIiLFNUWUxFX0VOVFJZX1g6ImVudHJ5WCIsU1RZTEVfRU5UUllfWToiZW50cnlZIixTVFlMRV9FTlRSWV9EWDoiZW50cnlEeCIsU1RZTEVfRU5UUllfRFk6ImVudHJ5RHkiLFNUWUxFX0VOVFJZX1BFUklNRVRFUjoiZW50cnlQZXJpbWV0ZXIiLFNUWUxFX1dISVRFX1NQQUNFOiJ3aGl0ZVNwYWNlIixTVFlMRV9ST1RBVElPTjoicm90YXRpb24iLFNUWUxFX0ZJTExDT0xPUjoiZmlsbENvbG9yIixTVFlMRV9QT0lOVEVSX0VWRU5UUzoicG9pbnRlckV2ZW50cyIsU1RZTEVfU1dJTUxBTkVfRklMTENPTE9SOiJzd2ltbGFuZUZpbGxDb2xvciIsU1RZTEVfTUFSR0lOOiJtYXJnaW4iLApTVFlMRV9HUkFESUVOVENPTE9SOiJncmFkaWVudENvbG9yIixTVFlMRV9HUkFESUVOVF9ESVJFQ1RJT046ImdyYWRpZW50RGlyZWN0aW9uIixTVFlMRV9TVFJPS0VDT0xPUjoic3Ryb2tlQ29sb3IiLFNUWUxFX1NFUEFSQVRPUkNPTE9SOiJzZXBhcmF0b3JDb2xvciIsU1RZTEVfU1RST0tFV0lEVEg6InN0cm9rZVdpZHRoIixTVFlMRV9BTElHTjoiYWxpZ24iLFNUWUxFX1ZFUlRJQ0FMX0FMSUdOOiJ2ZXJ0aWNhbEFsaWduIixTVFlMRV9MQUJFTF9XSURUSDoibGFiZWxXaWR0aCIsU1RZTEVfTEFCRUxfUE9TSVRJT046ImxhYmVsUG9zaXRpb24iLFNUWUxFX1ZFUlRJQ0FMX0xBQkVMX1BPU0lUSU9OOiJ2ZXJ0aWNhbExhYmVsUG9zaXRpb24iLFNUWUxFX0lNQUdFX0FTUEVDVDoiaW1hZ2VBc3BlY3QiLFNUWUxFX0lNQUdFX0FMSUdOOiJpbWFnZUFsaWduIixTVFlMRV9JTUFHRV9WRVJUSUNBTF9BTElHTjoiaW1hZ2VWZXJ0aWNhbEFsaWduIixTVFlMRV9HTEFTUzoiZ2xhc3MiLFNUWUxFX0lNQUdFOiJpbWFnZSIsClNUWUxFX0lNQUdFX1dJRFRIOiJpbWFnZVdpZHRoIixTVFlMRV9JTUFHRV9IRUlHSFQ6ImltYWdlSGVpZ2h0IixTVFlMRV9JTUFHRV9CQUNLR1JPVU5EOiJpbWFnZUJhY2tncm91bmQiLFNUWUxFX0lNQUdFX0JPUkRFUjoiaW1hZ2VCb3JkZXIiLFNUWUxFX0ZMSVBIOiJmbGlwSCIsU1RZTEVfRkxJUFY6ImZsaXBWIixTVFlMRV9OT0xBQkVMOiJub0xhYmVsIixTVFlMRV9OT0VER0VTVFlMRToibm9FZGdlU3R5bGUiLFNUWUxFX0xBQkVMX0JBQ0tHUk9VTkRDT0xPUjoibGFiZWxCYWNrZ3JvdW5kQ29sb3IiLFNUWUxFX0xBQkVMX0JPUkRFUkNPTE9SOiJsYWJlbEJvcmRlckNvbG9yIixTVFlMRV9MQUJFTF9QQURESU5HOiJsYWJlbFBhZGRpbmciLFNUWUxFX0lORElDQVRPUl9TSEFQRToiaW5kaWNhdG9yU2hhcGUiLFNUWUxFX0lORElDQVRPUl9JTUFHRToiaW5kaWNhdG9ySW1hZ2UiLFNUWUxFX0lORElDQVRPUl9DT0xPUjoiaW5kaWNhdG9yQ29sb3IiLFNUWUxFX0lORElDQVRPUl9TVFJPS0VDT0xPUjoiaW5kaWNhdG9yU3Ryb2tlQ29sb3IiLApTVFlMRV9JTkRJQ0FUT1JfR1JBRElFTlRDT0xPUjoiaW5kaWNhdG9yR3JhZGllbnRDb2xvciIsU1RZTEVfSU5ESUNBVE9SX1NQQUNJTkc6ImluZGljYXRvclNwYWNpbmciLFNUWUxFX0lORElDQVRPUl9XSURUSDoiaW5kaWNhdG9yV2lkdGgiLFNUWUxFX0lORElDQVRPUl9IRUlHSFQ6ImluZGljYXRvckhlaWdodCIsU1RZTEVfSU5ESUNBVE9SX0RJUkVDVElPTjoiaW5kaWNhdG9yRGlyZWN0aW9uIixTVFlMRV9TSEFET1c6InNoYWRvdyIsU1RZTEVfU0VHTUVOVDoic2VnbWVudCIsU1RZTEVfRU5EQVJST1c6ImVuZEFycm93IixTVFlMRV9TVEFSVEFSUk9XOiJzdGFydEFycm93IixTVFlMRV9FTkRTSVpFOiJlbmRTaXplIixTVFlMRV9TVEFSVFNJWkU6InN0YXJ0U2l6ZSIsU1RZTEVfU1dJTUxBTkVfTElORToic3dpbWxhbmVMaW5lIixTVFlMRV9FTkRGSUxMOiJlbmRGaWxsIixTVFlMRV9TVEFSVEZJTEw6InN0YXJ0RmlsbCIsU1RZTEVfREFTSEVEOiJkYXNoZWQiLFNUWUxFX0RBU0hfUEFUVEVSTjoiZGFzaFBhdHRlcm4iLApTVFlMRV9GSVhfREFTSDoiZml4RGFzaCIsU1RZTEVfUk9VTkRFRDoicm91bmRlZCIsU1RZTEVfQ1VSVkVEOiJjdXJ2ZWQiLFNUWUxFX0FSQ1NJWkU6ImFyY1NpemUiLFNUWUxFX0FCU09MVVRFX0FSQ1NJWkU6ImFic29sdXRlQXJjU2l6ZSIsU1RZTEVfU09VUkNFX1BFUklNRVRFUl9TUEFDSU5HOiJzb3VyY2VQZXJpbWV0ZXJTcGFjaW5nIixTVFlMRV9UQVJHRVRfUEVSSU1FVEVSX1NQQUNJTkc6InRhcmdldFBlcmltZXRlclNwYWNpbmciLFNUWUxFX1BFUklNRVRFUl9TUEFDSU5HOiJwZXJpbWV0ZXJTcGFjaW5nIixTVFlMRV9TUEFDSU5HOiJzcGFjaW5nIixTVFlMRV9TUEFDSU5HX1RPUDoic3BhY2luZ1RvcCIsU1RZTEVfU1BBQ0lOR19MRUZUOiJzcGFjaW5nTGVmdCIsU1RZTEVfU1BBQ0lOR19CT1RUT006InNwYWNpbmdCb3R0b20iLFNUWUxFX1NQQUNJTkdfUklHSFQ6InNwYWNpbmdSaWdodCIsU1RZTEVfSE9SSVpPTlRBTDoiaG9yaXpvbnRhbCIsU1RZTEVfRElSRUNUSU9OOiJkaXJlY3Rpb24iLApTVFlMRV9BTkNIT1JfUE9JTlRfRElSRUNUSU9OOiJhbmNob3JQb2ludERpcmVjdGlvbiIsU1RZTEVfRUxCT1c6ImVsYm93IixTVFlMRV9GT05UQ09MT1I6ImZvbnRDb2xvciIsU1RZTEVfRk9OVEZBTUlMWToiZm9udEZhbWlseSIsU1RZTEVfRk9OVFNJWkU6ImZvbnRTaXplIixTVFlMRV9GT05UU1RZTEU6ImZvbnRTdHlsZSIsU1RZTEVfQVNQRUNUOiJhc3BlY3QiLFNUWUxFX0FVVE9TSVpFOiJhdXRvc2l6ZSIsU1RZTEVfRk9MREFCTEU6ImZvbGRhYmxlIixTVFlMRV9FRElUQUJMRToiZWRpdGFibGUiLFNUWUxFX0JBQ0tHUk9VTkRfT1VUTElORToiYmFja2dyb3VuZE91dGxpbmUiLFNUWUxFX0JFTkRBQkxFOiJiZW5kYWJsZSIsU1RZTEVfTU9WQUJMRToibW92YWJsZSIsU1RZTEVfUkVTSVpBQkxFOiJyZXNpemFibGUiLFNUWUxFX1JFU0laRV9XSURUSDoicmVzaXplV2lkdGgiLFNUWUxFX1JFU0laRV9IRUlHSFQ6InJlc2l6ZUhlaWdodCIsU1RZTEVfUk9UQVRBQkxFOiJyb3RhdGFibGUiLApTVFlMRV9DTE9ORUFCTEU6ImNsb25lYWJsZSIsU1RZTEVfREVMRVRBQkxFOiJkZWxldGFibGUiLFNUWUxFX1NIQVBFOiJzaGFwZSIsU1RZTEVfRURHRToiZWRnZVN0eWxlIixTVFlMRV9KRVRUWV9TSVpFOiJqZXR0eVNpemUiLFNUWUxFX1NPVVJDRV9KRVRUWV9TSVpFOiJzb3VyY2VKZXR0eVNpemUiLFNUWUxFX1RBUkdFVF9KRVRUWV9TSVpFOiJ0YXJnZXRKZXR0eVNpemUiLFNUWUxFX0xPT1A6Imxvb3BTdHlsZSIsU1RZTEVfT1JUSE9HT05BTF9MT09QOiJvcnRob2dvbmFsTG9vcCIsU1RZTEVfUk9VVElOR19DRU5URVJfWDoicm91dGluZ0NlbnRlclgiLFNUWUxFX1JPVVRJTkdfQ0VOVEVSX1k6InJvdXRpbmdDZW50ZXJZIixGT05UX0JPTEQ6MSxGT05UX0lUQUxJQzoyLEZPTlRfVU5ERVJMSU5FOjQsRk9OVF9TVFJJS0VUSFJPVUdIOjgsU0hBUEVfUkVDVEFOR0xFOiJyZWN0YW5nbGUiLFNIQVBFX0VMTElQU0U6ImVsbGlwc2UiLFNIQVBFX0RPVUJMRV9FTExJUFNFOiJkb3VibGVFbGxpcHNlIiwKU0hBUEVfUkhPTUJVUzoicmhvbWJ1cyIsU0hBUEVfTElORToibGluZSIsU0hBUEVfSU1BR0U6ImltYWdlIixTSEFQRV9BUlJPVzoiYXJyb3ciLFNIQVBFX0FSUk9XX0NPTk5FQ1RPUjoiYXJyb3dDb25uZWN0b3IiLFNIQVBFX0xBQkVMOiJsYWJlbCIsU0hBUEVfQ1lMSU5ERVI6ImN5bGluZGVyIixTSEFQRV9TV0lNTEFORToic3dpbWxhbmUiLFNIQVBFX0NPTk5FQ1RPUjoiY29ubmVjdG9yIixTSEFQRV9BQ1RPUjoiYWN0b3IiLFNIQVBFX0NMT1VEOiJjbG91ZCIsU0hBUEVfVFJJQU5HTEU6InRyaWFuZ2xlIixTSEFQRV9IRVhBR09OOiJoZXhhZ29uIixBUlJPV19DTEFTU0lDOiJjbGFzc2ljIixBUlJPV19DTEFTU0lDX1RISU46ImNsYXNzaWNUaGluIixBUlJPV19CTE9DSzoiYmxvY2siLEFSUk9XX0JMT0NLX1RISU46ImJsb2NrVGhpbiIsQVJST1dfT1BFTjoib3BlbiIsQVJST1dfT1BFTl9USElOOiJvcGVuVGhpbiIsQVJST1dfT1ZBTDoib3ZhbCIsQVJST1dfRElBTU9ORDoiZGlhbW9uZCIsCkFSUk9XX0RJQU1PTkRfVEhJTjoiZGlhbW9uZFRoaW4iLEFMSUdOX0xFRlQ6ImxlZnQiLEFMSUdOX0NFTlRFUjoiY2VudGVyIixBTElHTl9SSUdIVDoicmlnaHQiLEFMSUdOX1RPUDoidG9wIixBTElHTl9NSURETEU6Im1pZGRsZSIsQUxJR05fQk9UVE9NOiJib3R0b20iLERJUkVDVElPTl9OT1JUSDoibm9ydGgiLERJUkVDVElPTl9TT1VUSDoic291dGgiLERJUkVDVElPTl9FQVNUOiJlYXN0IixESVJFQ1RJT05fV0VTVDoid2VzdCIsVEVYVF9ESVJFQ1RJT05fREVGQVVMVDoiIixURVhUX0RJUkVDVElPTl9BVVRPOiJhdXRvIixURVhUX0RJUkVDVElPTl9MVFI6Imx0ciIsVEVYVF9ESVJFQ1RJT05fUlRMOiJydGwiLERJUkVDVElPTl9NQVNLX05PTkU6MCxESVJFQ1RJT05fTUFTS19XRVNUOjEsRElSRUNUSU9OX01BU0tfTk9SVEg6MixESVJFQ1RJT05fTUFTS19TT1VUSDo0LERJUkVDVElPTl9NQVNLX0VBU1Q6OCxESVJFQ1RJT05fTUFTS19BTEw6MTUsRUxCT1dfVkVSVElDQUw6InZlcnRpY2FsIiwKRUxCT1dfSE9SSVpPTlRBTDoiaG9yaXpvbnRhbCIsRURHRVNUWUxFX0VMQk9XOiJlbGJvd0VkZ2VTdHlsZSIsRURHRVNUWUxFX0VOVElUWV9SRUxBVElPTjoiZW50aXR5UmVsYXRpb25FZGdlU3R5bGUiLEVER0VTVFlMRV9MT09QOiJsb29wRWRnZVN0eWxlIixFREdFU1RZTEVfU0lERVRPU0lERToic2lkZVRvU2lkZUVkZ2VTdHlsZSIsRURHRVNUWUxFX1RPUFRPQk9UVE9NOiJ0b3BUb0JvdHRvbUVkZ2VTdHlsZSIsRURHRVNUWUxFX09SVEhPR09OQUw6Im9ydGhvZ29uYWxFZGdlU3R5bGUiLEVER0VTVFlMRV9TRUdNRU5UOiJzZWdtZW50RWRnZVN0eWxlIixQRVJJTUVURVJfRUxMSVBTRToiZWxsaXBzZVBlcmltZXRlciIsUEVSSU1FVEVSX1JFQ1RBTkdMRToicmVjdGFuZ2xlUGVyaW1ldGVyIixQRVJJTUVURVJfUkhPTUJVUzoicmhvbWJ1c1BlcmltZXRlciIsUEVSSU1FVEVSX0hFWEFHT046ImhleGFnb25QZXJpbWV0ZXIiLFBFUklNRVRFUl9UUklBTkdMRToidHJpYW5nbGVQZXJpbWV0ZXIifTsKZnVuY3Rpb24gbXhFdmVudE9iamVjdChhKXt0aGlzLm5hbWU9YTt0aGlzLnByb3BlcnRpZXM9W107Zm9yKHZhciBiPTE7Yjxhcmd1bWVudHMubGVuZ3RoO2IrPTIpbnVsbCE9YXJndW1lbnRzW2IrMV0mJih0aGlzLnByb3BlcnRpZXNbYXJndW1lbnRzW2JdXT1hcmd1bWVudHNbYisxXSl9bXhFdmVudE9iamVjdC5wcm90b3R5cGUubmFtZT1udWxsO214RXZlbnRPYmplY3QucHJvdG90eXBlLnByb3BlcnRpZXM9bnVsbDtteEV2ZW50T2JqZWN0LnByb3RvdHlwZS5jb25zdW1lZD0hMTtteEV2ZW50T2JqZWN0LnByb3RvdHlwZS5nZXROYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmFtZX07bXhFdmVudE9iamVjdC5wcm90b3R5cGUuZ2V0UHJvcGVydGllcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnByb3BlcnRpZXN9O214RXZlbnRPYmplY3QucHJvdG90eXBlLmdldFByb3BlcnR5PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnByb3BlcnRpZXNbYV19OwpteEV2ZW50T2JqZWN0LnByb3RvdHlwZS5pc0NvbnN1bWVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3VtZWR9O214RXZlbnRPYmplY3QucHJvdG90eXBlLmNvbnN1bWU9ZnVuY3Rpb24oKXt0aGlzLmNvbnN1bWVkPSEwfTtmdW5jdGlvbiBteE1vdXNlRXZlbnQoYSxiKXt0aGlzLmV2dD1hO3RoaXMuc291cmNlU3RhdGU9dGhpcy5zdGF0ZT1ifW14TW91c2VFdmVudC5wcm90b3R5cGUuY29uc3VtZWQ9ITE7bXhNb3VzZUV2ZW50LnByb3RvdHlwZS5ldnQ9bnVsbDtteE1vdXNlRXZlbnQucHJvdG90eXBlLmdyYXBoWD1udWxsO214TW91c2VFdmVudC5wcm90b3R5cGUuZ3JhcGhZPW51bGw7bXhNb3VzZUV2ZW50LnByb3RvdHlwZS5zdGF0ZT1udWxsO214TW91c2VFdmVudC5wcm90b3R5cGUuc291cmNlU3RhdGU9bnVsbDtteE1vdXNlRXZlbnQucHJvdG90eXBlLmdldEV2ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXZ0fTsKbXhNb3VzZUV2ZW50LnByb3RvdHlwZS5nZXRTb3VyY2U9ZnVuY3Rpb24oKXtyZXR1cm4gbXhFdmVudC5nZXRTb3VyY2UodGhpcy5ldnQpfTtteE1vdXNlRXZlbnQucHJvdG90eXBlLmlzU291cmNlPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hP214VXRpbHMuaXNBbmNlc3Rvck5vZGUoYS5ub2RlLHRoaXMuZ2V0U291cmNlKCkpOiExfTtteE1vdXNlRXZlbnQucHJvdG90eXBlLmdldFg9ZnVuY3Rpb24oKXtyZXR1cm4gbXhFdmVudC5nZXRDbGllbnRYKHRoaXMuZ2V0RXZlbnQoKSl9O214TW91c2VFdmVudC5wcm90b3R5cGUuZ2V0WT1mdW5jdGlvbigpe3JldHVybiBteEV2ZW50LmdldENsaWVudFkodGhpcy5nZXRFdmVudCgpKX07bXhNb3VzZUV2ZW50LnByb3RvdHlwZS5nZXRHcmFwaFg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ncmFwaFh9O214TW91c2VFdmVudC5wcm90b3R5cGUuZ2V0R3JhcGhZPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ3JhcGhZfTsKbXhNb3VzZUV2ZW50LnByb3RvdHlwZS5nZXRTdGF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXRlfTtteE1vdXNlRXZlbnQucHJvdG90eXBlLmdldENlbGw9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFN0YXRlKCk7cmV0dXJuIG51bGwhPWE/YS5jZWxsOm51bGx9O214TW91c2VFdmVudC5wcm90b3R5cGUuaXNQb3B1cFRyaWdnZXI9ZnVuY3Rpb24oKXtyZXR1cm4gbXhFdmVudC5pc1BvcHVwVHJpZ2dlcih0aGlzLmdldEV2ZW50KCkpfTtteE1vdXNlRXZlbnQucHJvdG90eXBlLmlzQ29uc3VtZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdW1lZH07Cm14TW91c2VFdmVudC5wcm90b3R5cGUuY29uc3VtZT1mdW5jdGlvbihhKXsobnVsbCE9YT9hOm51bGwhPXRoaXMuZXZ0LnRvdWNoZXN8fG14RXZlbnQuaXNNb3VzZUV2ZW50KHRoaXMuZXZ0KSkmJnRoaXMuZXZ0LnByZXZlbnREZWZhdWx0JiZ0aGlzLmV2dC5wcmV2ZW50RGVmYXVsdCgpO214Q2xpZW50LklTX0lFJiYodGhpcy5ldnQucmV0dXJuVmFsdWU9ITApO3RoaXMuY29uc3VtZWQ9ITB9O2Z1bmN0aW9uIG14RXZlbnRTb3VyY2UoYSl7dGhpcy5zZXRFdmVudFNvdXJjZShhKX1teEV2ZW50U291cmNlLnByb3RvdHlwZS5ldmVudExpc3RlbmVycz1udWxsO214RXZlbnRTb3VyY2UucHJvdG90eXBlLmV2ZW50c0VuYWJsZWQ9ITA7bXhFdmVudFNvdXJjZS5wcm90b3R5cGUuZXZlbnRTb3VyY2U9bnVsbDtteEV2ZW50U291cmNlLnByb3RvdHlwZS5pc0V2ZW50c0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ldmVudHNFbmFibGVkfTsKbXhFdmVudFNvdXJjZS5wcm90b3R5cGUuc2V0RXZlbnRzRW5hYmxlZD1mdW5jdGlvbihhKXt0aGlzLmV2ZW50c0VuYWJsZWQ9YX07bXhFdmVudFNvdXJjZS5wcm90b3R5cGUuZ2V0RXZlbnRTb3VyY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ldmVudFNvdXJjZX07bXhFdmVudFNvdXJjZS5wcm90b3R5cGUuc2V0RXZlbnRTb3VyY2U9ZnVuY3Rpb24oYSl7dGhpcy5ldmVudFNvdXJjZT1hfTtteEV2ZW50U291cmNlLnByb3RvdHlwZS5hZGRMaXN0ZW5lcj1mdW5jdGlvbihhLGIpe251bGw9PXRoaXMuZXZlbnRMaXN0ZW5lcnMmJih0aGlzLmV2ZW50TGlzdGVuZXJzPVtdKTt0aGlzLmV2ZW50TGlzdGVuZXJzLnB1c2goYSk7dGhpcy5ldmVudExpc3RlbmVycy5wdXNoKGIpfTsKbXhFdmVudFNvdXJjZS5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24oYSl7aWYobnVsbCE9dGhpcy5ldmVudExpc3RlbmVycylmb3IodmFyIGI9MDtiPHRoaXMuZXZlbnRMaXN0ZW5lcnMubGVuZ3RoOyl0aGlzLmV2ZW50TGlzdGVuZXJzW2IrMV09PWE/dGhpcy5ldmVudExpc3RlbmVycy5zcGxpY2UoYiwyKTpiKz0yfTsKbXhFdmVudFNvdXJjZS5wcm90b3R5cGUuZmlyZUV2ZW50PWZ1bmN0aW9uKGEsYil7aWYobnVsbCE9dGhpcy5ldmVudExpc3RlbmVycyYmdGhpcy5pc0V2ZW50c0VuYWJsZWQoKSl7bnVsbD09YSYmKGE9bmV3IG14RXZlbnRPYmplY3QpO251bGw9PWImJihiPXRoaXMuZ2V0RXZlbnRTb3VyY2UoKSk7bnVsbD09YiYmKGI9dGhpcyk7Zm9yKHZhciBjPVtiLGFdLGQ9MDtkPHRoaXMuZXZlbnRMaXN0ZW5lcnMubGVuZ3RoO2QrPTIpe3ZhciBlPXRoaXMuZXZlbnRMaXN0ZW5lcnNbZF07bnVsbCE9ZSYmZSE9YS5nZXROYW1lKCl8fHRoaXMuZXZlbnRMaXN0ZW5lcnNbZCsxXS5hcHBseSh0aGlzLGMpfX19Owp2YXIgbXhFdmVudD17YWRkTGlzdGVuZXI6ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LmFkZEV2ZW50TGlzdGVuZXI/ZnVuY3Rpb24oYSxiLGMpe2EuYWRkRXZlbnRMaXN0ZW5lcihiLGMsITEpO251bGw9PWEubXhMaXN0ZW5lckxpc3QmJihhLm14TGlzdGVuZXJMaXN0PVtdKTthLm14TGlzdGVuZXJMaXN0LnB1c2goe25hbWU6YixmOmN9KX06ZnVuY3Rpb24oYSxiLGMpe2EuYXR0YWNoRXZlbnQoIm9uIitiLGMpO251bGw9PWEubXhMaXN0ZW5lckxpc3QmJihhLm14TGlzdGVuZXJMaXN0PVtdKTthLm14TGlzdGVuZXJMaXN0LnB1c2goe25hbWU6YixmOmN9KX19KCkscmVtb3ZlTGlzdGVuZXI6ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbihhLGMsZCl7aWYobnVsbCE9YS5teExpc3RlbmVyTGlzdCl7Yz1hLm14TGlzdGVuZXJMaXN0Lmxlbmd0aDtmb3IodmFyIGI9MDtiPGM7YisrKWlmKGEubXhMaXN0ZW5lckxpc3RbYl0uZj09ZCl7YS5teExpc3RlbmVyTGlzdC5zcGxpY2UoYiwxKTticmVha30wPT0KYS5teExpc3RlbmVyTGlzdC5sZW5ndGgmJihhLm14TGlzdGVuZXJMaXN0PW51bGwpfX07cmV0dXJuIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyP2Z1bmN0aW9uKGIsYyxkKXtiLnJlbW92ZUV2ZW50TGlzdGVuZXIoYyxkLCExKTthKGIsYyxkKX06ZnVuY3Rpb24oYixjLGQpe2IuZGV0YWNoRXZlbnQoIm9uIitjLGQpO2EoYixjLGQpfX0oKSxyZW1vdmVBbGxMaXN0ZW5lcnM6ZnVuY3Rpb24oYSl7dmFyIGI9YS5teExpc3RlbmVyTGlzdDtpZihudWxsIT1iKWZvcig7MDxiLmxlbmd0aDspe3ZhciBjPWJbMF07bXhFdmVudC5yZW1vdmVMaXN0ZW5lcihhLGMubmFtZSxjLmYpfX0sYWRkR2VzdHVyZUxpc3RlbmVyczpmdW5jdGlvbihhLGIsYyxkKXtudWxsIT1iJiZteEV2ZW50LmFkZExpc3RlbmVyKGEsbXhDbGllbnQuSVNfUE9JTlRFUj8icG9pbnRlcmRvd24iOiJtb3VzZWRvd24iLGIpO251bGwhPWMmJm14RXZlbnQuYWRkTGlzdGVuZXIoYSxteENsaWVudC5JU19QT0lOVEVSPyJwb2ludGVybW92ZSI6CiJtb3VzZW1vdmUiLGMpO251bGwhPWQmJm14RXZlbnQuYWRkTGlzdGVuZXIoYSxteENsaWVudC5JU19QT0lOVEVSPyJwb2ludGVydXAiOiJtb3VzZXVwIixkKTshbXhDbGllbnQuSVNfUE9JTlRFUiYmbXhDbGllbnQuSVNfVE9VQ0gmJihudWxsIT1iJiZteEV2ZW50LmFkZExpc3RlbmVyKGEsInRvdWNoc3RhcnQiLGIpLG51bGwhPWMmJm14RXZlbnQuYWRkTGlzdGVuZXIoYSwidG91Y2htb3ZlIixjKSxudWxsIT1kJiZteEV2ZW50LmFkZExpc3RlbmVyKGEsInRvdWNoZW5kIixkKSl9LHJlbW92ZUdlc3R1cmVMaXN0ZW5lcnM6ZnVuY3Rpb24oYSxiLGMsZCl7bnVsbCE9YiYmbXhFdmVudC5yZW1vdmVMaXN0ZW5lcihhLG14Q2xpZW50LklTX1BPSU5URVI/InBvaW50ZXJkb3duIjoibW91c2Vkb3duIixiKTtudWxsIT1jJiZteEV2ZW50LnJlbW92ZUxpc3RlbmVyKGEsbXhDbGllbnQuSVNfUE9JTlRFUj8icG9pbnRlcm1vdmUiOiJtb3VzZW1vdmUiLGMpO251bGwhPWQmJm14RXZlbnQucmVtb3ZlTGlzdGVuZXIoYSwKbXhDbGllbnQuSVNfUE9JTlRFUj8icG9pbnRlcnVwIjoibW91c2V1cCIsZCk7IW14Q2xpZW50LklTX1BPSU5URVImJm14Q2xpZW50LklTX1RPVUNIJiYobnVsbCE9YiYmbXhFdmVudC5yZW1vdmVMaXN0ZW5lcihhLCJ0b3VjaHN0YXJ0IixiKSxudWxsIT1jJiZteEV2ZW50LnJlbW92ZUxpc3RlbmVyKGEsInRvdWNobW92ZSIsYyksbnVsbCE9ZCYmbXhFdmVudC5yZW1vdmVMaXN0ZW5lcihhLCJ0b3VjaGVuZCIsZCkpfSxyZWRpcmVjdE1vdXNlRXZlbnRzOmZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe3ZhciBrPWZ1bmN0aW9uKGEpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBjP2MoYSk6Y307bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKGEsZnVuY3Rpb24oYSl7bnVsbCE9ZD9kKGEpOm14RXZlbnQuaXNDb25zdW1lZChhKXx8Yi5maXJlTW91c2VFdmVudChteEV2ZW50Lk1PVVNFX0RPV04sbmV3IG14TW91c2VFdmVudChhLGsoYSkpKX0sZnVuY3Rpb24oYSl7bnVsbCE9ZT9lKGEpOm14RXZlbnQuaXNDb25zdW1lZChhKXx8CmIuZmlyZU1vdXNlRXZlbnQobXhFdmVudC5NT1VTRV9NT1ZFLG5ldyBteE1vdXNlRXZlbnQoYSxrKGEpKSl9LGZ1bmN0aW9uKGEpe251bGwhPWY/ZihhKTpteEV2ZW50LmlzQ29uc3VtZWQoYSl8fGIuZmlyZU1vdXNlRXZlbnQobXhFdmVudC5NT1VTRV9VUCxuZXcgbXhNb3VzZUV2ZW50KGEsayhhKSkpfSk7bXhFdmVudC5hZGRMaXN0ZW5lcihhLCJkYmxjbGljayIsZnVuY3Rpb24oYSl7aWYobnVsbCE9ZylnKGEpO2Vsc2UgaWYoIW14RXZlbnQuaXNDb25zdW1lZChhKSl7dmFyIGM9ayhhKTtiLmRibENsaWNrKGEsbnVsbCE9Yz9jLmNlbGw6bnVsbCl9fSl9LHJlbGVhc2U6ZnVuY3Rpb24oYSl7dHJ5e2lmKG51bGwhPWEpe214RXZlbnQucmVtb3ZlQWxsTGlzdGVuZXJzKGEpO3ZhciBiPWEuY2hpbGROb2RlcztpZihudWxsIT1iKXt2YXIgYz1iLmxlbmd0aDtmb3IoYT0wO2E8YzthKz0xKW14RXZlbnQucmVsZWFzZShiW2FdKX19fWNhdGNoKGQpe319LGFkZE1vdXNlV2hlZWxMaXN0ZW5lcjpmdW5jdGlvbihhLApiKXtpZihudWxsIT1hKXtiPW51bGwhPWI/Yjp3aW5kb3c7aWYobXhDbGllbnQuSVNfU0YmJiFteENsaWVudC5JU19UT1VDSCl7dmFyIGM9MTtteEV2ZW50LmFkZExpc3RlbmVyKGIsImdlc3R1cmVzdGFydCIsZnVuY3Rpb24oYSl7bXhFdmVudC5jb25zdW1lKGEpO2M9MX0pO214RXZlbnQuYWRkTGlzdGVuZXIoYiwiZ2VzdHVyZWNoYW5nZSIsZnVuY3Rpb24oYil7bXhFdmVudC5jb25zdW1lKGIpO3ZhciBkPWMtYi5zY2FsZTsuMjxNYXRoLmFicyhkKSYmKGEoYiwwPmQsITApLGM9Yi5zY2FsZSl9KTtteEV2ZW50LmFkZExpc3RlbmVyKGIsImdlc3R1cmVlbmQiLGZ1bmN0aW9uKGEpe214RXZlbnQuY29uc3VtZShhKX0pfW14RXZlbnQuYWRkTGlzdGVuZXIoYiwid2hlZWwiLGZ1bmN0aW9uKGIpe251bGw9PWImJihiPXdpbmRvdy5ldmVudCk7Yi5jdHJsS2V5JiZiLnByZXZlbnREZWZhdWx0KCk7KC41PE1hdGguYWJzKGIuZGVsdGFYKXx8LjU8TWF0aC5hYnMoYi5kZWx0YVkpKSYmYShiLDA9PQpiLmRlbHRhWT8wPC1iLmRlbHRhWDowPC1iLmRlbHRhWSl9KX19LGRpc2FibGVDb250ZXh0TWVudTpmdW5jdGlvbihhKXtteEV2ZW50LmFkZExpc3RlbmVyKGEsImNvbnRleHRtZW51IixmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0JiZhLnByZXZlbnREZWZhdWx0KCk7cmV0dXJuITF9KX0sZ2V0U291cmNlOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hLnNyY0VsZW1lbnQ/YS5zcmNFbGVtZW50OmEudGFyZ2V0fSxpc0NvbnN1bWVkOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hLmlzQ29uc3VtZWQmJmEuaXNDb25zdW1lZH0saXNUb3VjaEV2ZW50OmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hLnBvaW50ZXJUeXBlPyJ0b3VjaCI9PWEucG9pbnRlclR5cGV8fGEucG9pbnRlclR5cGU9PT1hLk1TUE9JTlRFUl9UWVBFX1RPVUNIOm51bGwhPWEubW96SW5wdXRTb3VyY2U/NT09YS5tb3pJbnB1dFNvdXJjZTowPT1hLnR5cGUuaW5kZXhPZigidG91Y2giKX0saXNQZW5FdmVudDpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9CmEucG9pbnRlclR5cGU/InBlbiI9PWEucG9pbnRlclR5cGV8fGEucG9pbnRlclR5cGU9PT1hLk1TUE9JTlRFUl9UWVBFX1BFTjpudWxsIT1hLm1veklucHV0U291cmNlPzI9PWEubW96SW5wdXRTb3VyY2U6MD09YS50eXBlLmluZGV4T2YoInBlbiIpfSxpc011bHRpVG91Y2hFdmVudDpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS50eXBlJiYwPT1hLnR5cGUuaW5kZXhPZigidG91Y2giKSYmbnVsbCE9YS50b3VjaGVzJiYxPGEudG91Y2hlcy5sZW5ndGh9LGlzTW91c2VFdmVudDpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS5wb2ludGVyVHlwZT8ibW91c2UiPT1hLnBvaW50ZXJUeXBlfHxhLnBvaW50ZXJUeXBlPT09YS5NU1BPSU5URVJfVFlQRV9NT1VTRTpudWxsIT1hLm1veklucHV0U291cmNlPzE9PWEubW96SW5wdXRTb3VyY2U6MD09YS50eXBlLmluZGV4T2YoIm1vdXNlIil9LGlzTGVmdE1vdXNlQnV0dG9uOmZ1bmN0aW9uKGEpe3JldHVybiJidXR0b25zImluIGEmJigibW91c2Vkb3duIj09CmEudHlwZXx8Im1vdXNlbW92ZSI9PWEudHlwZSk/MT09YS5idXR0b25zOiJ3aGljaCJpbiBhPzE9PT1hLndoaWNoOjE9PT1hLmJ1dHRvbn0saXNNaWRkbGVNb3VzZUJ1dHRvbjpmdW5jdGlvbihhKXtyZXR1cm4id2hpY2giaW4gYT8yPT09YS53aGljaDo0PT09YS5idXR0b259LGlzUmlnaHRNb3VzZUJ1dHRvbjpmdW5jdGlvbihhKXtyZXR1cm4id2hpY2giaW4gYT8zPT09YS53aGljaDoyPT09YS5idXR0b259LGlzUG9wdXBUcmlnZ2VyOmZ1bmN0aW9uKGEpe3JldHVybiBteEV2ZW50LmlzUmlnaHRNb3VzZUJ1dHRvbihhKXx8bXhDbGllbnQuSVNfTUFDJiZteEV2ZW50LmlzQ29udHJvbERvd24oYSkmJiFteEV2ZW50LmlzU2hpZnREb3duKGEpJiYhbXhFdmVudC5pc01ldGFEb3duKGEpJiYhbXhFdmVudC5pc0FsdERvd24oYSl9LGlzU2hpZnREb3duOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hP2Euc2hpZnRLZXk6ITF9LGlzQWx0RG93bjpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT8KYS5hbHRLZXk6ITF9LGlzQ29udHJvbERvd246ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/YS5jdHJsS2V5OiExfSxpc01ldGFEb3duOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hP2EubWV0YUtleTohMX0sZ2V0TWFpbkV2ZW50OmZ1bmN0aW9uKGEpeyJ0b3VjaHN0YXJ0IiE9YS50eXBlJiYidG91Y2htb3ZlIiE9YS50eXBlfHxudWxsPT1hLnRvdWNoZXN8fG51bGw9PWEudG91Y2hlc1swXT8idG91Y2hlbmQiPT1hLnR5cGUmJm51bGwhPWEuY2hhbmdlZFRvdWNoZXMmJm51bGwhPWEuY2hhbmdlZFRvdWNoZXNbMF0mJihhPWEuY2hhbmdlZFRvdWNoZXNbMF0pOmE9YS50b3VjaGVzWzBdO3JldHVybiBhfSxnZXRDbGllbnRYOmZ1bmN0aW9uKGEpe3JldHVybiBteEV2ZW50LmdldE1haW5FdmVudChhKS5jbGllbnRYfSxnZXRDbGllbnRZOmZ1bmN0aW9uKGEpe3JldHVybiBteEV2ZW50LmdldE1haW5FdmVudChhKS5jbGllbnRZfSxjb25zdW1lOmZ1bmN0aW9uKGEsYixjKXtjPW51bGwhPQpjP2M6ITA7aWYobnVsbCE9Yj9iOjEpYS5wcmV2ZW50RGVmYXVsdD8oYyYmYS5zdG9wUHJvcGFnYXRpb24oKSxhLnByZXZlbnREZWZhdWx0KCkpOmMmJihhLmNhbmNlbEJ1YmJsZT0hMCk7YS5pc0NvbnN1bWVkPSEwO2EucHJldmVudERlZmF1bHR8fChhLnJldHVyblZhbHVlPSExKX0sTEFCRUxfSEFORExFOi0xLFJPVEFUSU9OX0hBTkRMRTotMixDVVNUT01fSEFORExFOi0xMDAsVklSVFVBTF9IQU5ETEU6LTFFNSxNT1VTRV9ET1dOOiJtb3VzZURvd24iLE1PVVNFX01PVkU6Im1vdXNlTW92ZSIsTU9VU0VfVVA6Im1vdXNlVXAiLEFDVElWQVRFOiJhY3RpdmF0ZSIsUkVTSVpFX1NUQVJUOiJyZXNpemVTdGFydCIsUkVTSVpFOiJyZXNpemUiLFJFU0laRV9FTkQ6InJlc2l6ZUVuZCIsTU9WRV9TVEFSVDoibW92ZVN0YXJ0IixNT1ZFOiJtb3ZlIixNT1ZFX0VORDoibW92ZUVuZCIsUEFOX1NUQVJUOiJwYW5TdGFydCIsUEFOOiJwYW4iLFBBTl9FTkQ6InBhbkVuZCIsTUlOSU1JWkU6Im1pbmltaXplIiwKTk9STUFMSVpFOiJub3JtYWxpemUiLE1BWElNSVpFOiJtYXhpbWl6ZSIsSElERToiaGlkZSIsU0hPVzoic2hvdyIsQ0xPU0U6ImNsb3NlIixERVNUUk9ZOiJkZXN0cm95IixSRUZSRVNIOiJyZWZyZXNoIixTSVpFOiJzaXplIixTRUxFQ1Q6InNlbGVjdCIsRklSRUQ6ImZpcmVkIixGSVJFX01PVVNFX0VWRU5UOiJmaXJlTW91c2VFdmVudCIsR0VTVFVSRToiZ2VzdHVyZSIsVEFQX0FORF9IT0xEOiJ0YXBBbmRIb2xkIixHRVQ6ImdldCIsUkVDRUlWRToicmVjZWl2ZSIsQ09OTkVDVDoiY29ubmVjdCIsRElTQ09OTkVDVDoiZGlzY29ubmVjdCIsU1VTUEVORDoic3VzcGVuZCIsUkVTVU1FOiJyZXN1bWUiLE1BUks6Im1hcmsiLFJPT1Q6InJvb3QiLFBPU1Q6InBvc3QiLE9QRU46Im9wZW4iLFNBVkU6InNhdmUiLEJFRk9SRV9BRERfVkVSVEVYOiJiZWZvcmVBZGRWZXJ0ZXgiLEFERF9WRVJURVg6ImFkZFZlcnRleCIsQUZURVJfQUREX1ZFUlRFWDoiYWZ0ZXJBZGRWZXJ0ZXgiLERPTkU6ImRvbmUiLApFWEVDVVRFOiJleGVjdXRlIixFWEVDVVRFRDoiZXhlY3V0ZWQiLEJFR0lOX1VQREFURToiYmVnaW5VcGRhdGUiLFNUQVJUX0VESVQ6InN0YXJ0RWRpdCIsRU5EX1VQREFURToiZW5kVXBkYXRlIixFTkRfRURJVDoiZW5kRWRpdCIsQkVGT1JFX1VORE86ImJlZm9yZVVuZG8iLFVORE86InVuZG8iLFJFRE86InJlZG8iLENIQU5HRToiY2hhbmdlIixOT1RJRlk6Im5vdGlmeSIsTEFZT1VUX0NFTExTOiJsYXlvdXRDZWxscyIsQ0xJQ0s6ImNsaWNrIixTQ0FMRToic2NhbGUiLFRSQU5TTEFURToidHJhbnNsYXRlIixTQ0FMRV9BTkRfVFJBTlNMQVRFOiJzY2FsZUFuZFRyYW5zbGF0ZSIsVVA6InVwIixET1dOOiJkb3duIixBREQ6ImFkZCIsUkVNT1ZFOiJyZW1vdmUiLENMRUFSOiJjbGVhciIsQUREX0NFTExTOiJhZGRDZWxscyIsQ0VMTFNfQURERUQ6ImNlbGxzQWRkZWQiLE1PVkVfQ0VMTFM6Im1vdmVDZWxscyIsQ0VMTFNfTU9WRUQ6ImNlbGxzTW92ZWQiLFJFU0laRV9DRUxMUzoicmVzaXplQ2VsbHMiLApDRUxMU19SRVNJWkVEOiJjZWxsc1Jlc2l6ZWQiLFRPR0dMRV9DRUxMUzoidG9nZ2xlQ2VsbHMiLENFTExTX1RPR0dMRUQ6ImNlbGxzVG9nZ2xlZCIsT1JERVJfQ0VMTFM6Im9yZGVyQ2VsbHMiLENFTExTX09SREVSRUQ6ImNlbGxzT3JkZXJlZCIsUkVNT1ZFX0NFTExTOiJyZW1vdmVDZWxscyIsQ0VMTFNfUkVNT1ZFRDoiY2VsbHNSZW1vdmVkIixHUk9VUF9DRUxMUzoiZ3JvdXBDZWxscyIsVU5HUk9VUF9DRUxMUzoidW5ncm91cENlbGxzIixSRU1PVkVfQ0VMTFNfRlJPTV9QQVJFTlQ6InJlbW92ZUNlbGxzRnJvbVBhcmVudCIsRk9MRF9DRUxMUzoiZm9sZENlbGxzIixDRUxMU19GT0xERUQ6ImNlbGxzRm9sZGVkIixBTElHTl9DRUxMUzoiYWxpZ25DZWxscyIsTEFCRUxfQ0hBTkdFRDoibGFiZWxDaGFuZ2VkIixDT05ORUNUX0NFTEw6ImNvbm5lY3RDZWxsIixDRUxMX0NPTk5FQ1RFRDoiY2VsbENvbm5lY3RlZCIsU1BMSVRfRURHRToic3BsaXRFZGdlIixGTElQX0VER0U6ImZsaXBFZGdlIiwKU1RBUlRfRURJVElORzoic3RhcnRFZGl0aW5nIixFRElUSU5HX1NUQVJURUQ6ImVkaXRpbmdTdGFydGVkIixFRElUSU5HX1NUT1BQRUQ6ImVkaXRpbmdTdG9wcGVkIixBRERfT1ZFUkxBWToiYWRkT3ZlcmxheSIsUkVNT1ZFX09WRVJMQVk6InJlbW92ZU92ZXJsYXkiLFVQREFURV9DRUxMX1NJWkU6InVwZGF0ZUNlbGxTaXplIixFU0NBUEU6ImVzY2FwZSIsRE9VQkxFX0NMSUNLOiJkb3VibGVDbGljayIsU1RBUlQ6InN0YXJ0IixSRVNFVDoicmVzZXQifTtmdW5jdGlvbiBteFhtbFJlcXVlc3QoYSxiLGMsZCxlLGYpe3RoaXMudXJsPWE7dGhpcy5wYXJhbXM9Yjt0aGlzLm1ldGhvZD1jfHwiUE9TVCI7dGhpcy5hc3luYz1udWxsIT1kP2Q6ITA7dGhpcy51c2VybmFtZT1lO3RoaXMucGFzc3dvcmQ9Zn1teFhtbFJlcXVlc3QucHJvdG90eXBlLnVybD1udWxsO214WG1sUmVxdWVzdC5wcm90b3R5cGUucGFyYW1zPW51bGw7bXhYbWxSZXF1ZXN0LnByb3RvdHlwZS5tZXRob2Q9bnVsbDsKbXhYbWxSZXF1ZXN0LnByb3RvdHlwZS5hc3luYz1udWxsO214WG1sUmVxdWVzdC5wcm90b3R5cGUuYmluYXJ5PSExO214WG1sUmVxdWVzdC5wcm90b3R5cGUud2l0aENyZWRlbnRpYWxzPSExO214WG1sUmVxdWVzdC5wcm90b3R5cGUudXNlcm5hbWU9bnVsbDtteFhtbFJlcXVlc3QucHJvdG90eXBlLnBhc3N3b3JkPW51bGw7bXhYbWxSZXF1ZXN0LnByb3RvdHlwZS5yZXF1ZXN0PW51bGw7bXhYbWxSZXF1ZXN0LnByb3RvdHlwZS5kZWNvZGVTaW11bGF0ZVZhbHVlcz0hMTtteFhtbFJlcXVlc3QucHJvdG90eXBlLmlzQmluYXJ5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmluYXJ5fTtteFhtbFJlcXVlc3QucHJvdG90eXBlLnNldEJpbmFyeT1mdW5jdGlvbihhKXt0aGlzLmJpbmFyeT1hfTtteFhtbFJlcXVlc3QucHJvdG90eXBlLmdldFRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZXF1ZXN0LnJlc3BvbnNlVGV4dH07Cm14WG1sUmVxdWVzdC5wcm90b3R5cGUuaXNSZWFkeT1mdW5jdGlvbigpe3JldHVybiA0PT10aGlzLnJlcXVlc3QucmVhZHlTdGF0ZX07bXhYbWxSZXF1ZXN0LnByb3RvdHlwZS5nZXREb2N1bWVudEVsZW1lbnQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFhtbCgpO3JldHVybiBudWxsIT1hP2EuZG9jdW1lbnRFbGVtZW50Om51bGx9O214WG1sUmVxdWVzdC5wcm90b3R5cGUuZ2V0WG1sPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5yZXF1ZXN0LnJlc3BvbnNlWE1MO2lmKDk8PWRvY3VtZW50LmRvY3VtZW50TW9kZXx8bnVsbD09YXx8bnVsbD09YS5kb2N1bWVudEVsZW1lbnQpYT1teFV0aWxzLnBhcnNlWG1sKHRoaXMucmVxdWVzdC5yZXNwb25zZVRleHQpO3JldHVybiBhfTtteFhtbFJlcXVlc3QucHJvdG90eXBlLmdldFRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZXF1ZXN0LnJlc3BvbnNlVGV4dH07Cm14WG1sUmVxdWVzdC5wcm90b3R5cGUuZ2V0U3RhdHVzPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMucmVxdWVzdD90aGlzLnJlcXVlc3Quc3RhdHVzOm51bGx9O214WG1sUmVxdWVzdC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7aWYod2luZG93LlhNTEh0dHBSZXF1ZXN0KXJldHVybiBmdW5jdGlvbigpe3ZhciBhPW5ldyBYTUxIdHRwUmVxdWVzdDt0aGlzLmlzQmluYXJ5KCkmJmEub3ZlcnJpZGVNaW1lVHlwZSYmYS5vdmVycmlkZU1pbWVUeXBlKCJ0ZXh0L3BsYWluOyBjaGFyc2V0PXgtdXNlci1kZWZpbmVkIik7cmV0dXJuIGF9O2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgQWN0aXZlWE9iamVjdClyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxIVFRQIil9fSgpOwpteFhtbFJlcXVlc3QucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy5yZXF1ZXN0PXRoaXMuY3JlYXRlKCk7bnVsbCE9dGhpcy5yZXF1ZXN0JiYobnVsbCE9YSYmKHRoaXMucmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2U9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmlzUmVhZHkoKSYmKGEodGhpcyksdGhpcy5yZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsKX0pKSx0aGlzLnJlcXVlc3Qub3Blbih0aGlzLm1ldGhvZCx0aGlzLnVybCx0aGlzLmFzeW5jLHRoaXMudXNlcm5hbWUsdGhpcy5wYXNzd29yZCksdGhpcy5zZXRSZXF1ZXN0SGVhZGVycyh0aGlzLnJlcXVlc3QsdGhpcy5wYXJhbXMpLHdpbmRvdy5YTUxIdHRwUmVxdWVzdCYmdGhpcy53aXRoQ3JlZGVudGlhbHMmJih0aGlzLnJlcXVlc3Qud2l0aENyZWRlbnRpYWxzPSJ0cnVlIiksIW14Q2xpZW50LklTX1FVSVJLUyYmKG51bGw9PWRvY3VtZW50LmRvY3VtZW50TW9kZXx8OTxkb2N1bWVudC5kb2N1bWVudE1vZGUpJiYKd2luZG93LlhNTEh0dHBSZXF1ZXN0JiZudWxsIT1jJiZudWxsIT1kJiYodGhpcy5yZXF1ZXN0LnRpbWVvdXQ9Yyx0aGlzLnJlcXVlc3Qub250aW1lb3V0PWQpLHRoaXMucmVxdWVzdC5zZW5kKHRoaXMucGFyYW1zKSl9O214WG1sUmVxdWVzdC5wcm90b3R5cGUuc2V0UmVxdWVzdEhlYWRlcnM9ZnVuY3Rpb24oYSxiKXtudWxsIT1iJiZhLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpfTsKbXhYbWxSZXF1ZXN0LnByb3RvdHlwZS5zaW11bGF0ZT1mdW5jdGlvbihhLGIpe2E9YXx8ZG9jdW1lbnQ7dmFyIGM9bnVsbDthPT1kb2N1bWVudCYmKGM9d2luZG93Lm9uYmVmb3JldW5sb2FkLHdpbmRvdy5vbmJlZm9yZXVubG9hZD1udWxsKTt2YXIgZD1hLmNyZWF0ZUVsZW1lbnQoImZvcm0iKTtkLnNldEF0dHJpYnV0ZSgibWV0aG9kIix0aGlzLm1ldGhvZCk7ZC5zZXRBdHRyaWJ1dGUoImFjdGlvbiIsdGhpcy51cmwpO251bGwhPWImJmQuc2V0QXR0cmlidXRlKCJ0YXJnZXQiLGIpO2Quc3R5bGUuZGlzcGxheT0ibm9uZSI7ZC5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iO2Zvcih2YXIgZT0wPHRoaXMucGFyYW1zLmluZGV4T2YoIiYiKT90aGlzLnBhcmFtcy5zcGxpdCgiJiIpOnRoaXMucGFyYW1zLnNwbGl0KCksZj0wO2Y8ZS5sZW5ndGg7ZisrKXt2YXIgZz1lW2ZdLmluZGV4T2YoIj0iKTtpZigwPGcpe3ZhciBrPWVbZl0uc3Vic3RyaW5nKDAsZyksZz1lW2ZdLnN1YnN0cmluZyhnKwoxKTt0aGlzLmRlY29kZVNpbXVsYXRlVmFsdWVzJiYoZz1kZWNvZGVVUklDb21wb25lbnQoZykpO3ZhciBsPWEuY3JlYXRlRWxlbWVudCgidGV4dGFyZWEiKTtsLnNldEF0dHJpYnV0ZSgid3JhcCIsIm9mZiIpO2wuc2V0QXR0cmlidXRlKCJuYW1lIixrKTtteFV0aWxzLndyaXRlKGwsZyk7ZC5hcHBlbmRDaGlsZChsKX19YS5ib2R5LmFwcGVuZENoaWxkKGQpO2Quc3VibWl0KCk7bnVsbCE9ZC5wYXJlbnROb2RlJiZkLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZCk7bnVsbCE9YyYmKHdpbmRvdy5vbmJlZm9yZXVubG9hZD1jKX07CnZhciBteENsaXBib2FyZD17U1RFUFNJWkU6MTAsaW5zZXJ0Q291bnQ6MSxjZWxsczpudWxsLHNldENlbGxzOmZ1bmN0aW9uKGEpe214Q2xpcGJvYXJkLmNlbGxzPWF9LGdldENlbGxzOmZ1bmN0aW9uKCl7cmV0dXJuIG14Q2xpcGJvYXJkLmNlbGxzfSxpc0VtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PW14Q2xpcGJvYXJkLmdldENlbGxzKCl9LGN1dDpmdW5jdGlvbihhLGIpe2I9bXhDbGlwYm9hcmQuY29weShhLGIpO214Q2xpcGJvYXJkLmluc2VydENvdW50PTA7bXhDbGlwYm9hcmQucmVtb3ZlQ2VsbHMoYSxiKTtyZXR1cm4gYn0scmVtb3ZlQ2VsbHM6ZnVuY3Rpb24oYSxiKXthLnJlbW92ZUNlbGxzKGIpfSxjb3B5OmZ1bmN0aW9uKGEsYil7Yj1ifHxhLmdldFNlbGVjdGlvbkNlbGxzKCk7dmFyIGM9YS5nZXRFeHBvcnRhYmxlQ2VsbHMoYS5tb2RlbC5nZXRUb3Btb3N0Q2VsbHMoYikpO214Q2xpcGJvYXJkLmluc2VydENvdW50PTE7bXhDbGlwYm9hcmQuc2V0Q2VsbHMoYS5jbG9uZUNlbGxzKGMpKTsKcmV0dXJuIGN9LHBhc3RlOmZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7aWYoIW14Q2xpcGJvYXJkLmlzRW1wdHkoKSl7dmFyIGI9YS5nZXRJbXBvcnRhYmxlQ2VsbHMobXhDbGlwYm9hcmQuZ2V0Q2VsbHMoKSksYz1teENsaXBib2FyZC5pbnNlcnRDb3VudCpteENsaXBib2FyZC5TVEVQU0laRSxkPWEuZ2V0RGVmYXVsdFBhcmVudCgpLGI9YS5pbXBvcnRDZWxscyhiLGMsYyxkKTtteENsaXBib2FyZC5pbnNlcnRDb3VudCsrO2Euc2V0U2VsZWN0aW9uQ2VsbHMoYil9cmV0dXJuIGJ9fTsKZnVuY3Rpb24gbXhXaW5kb3coYSxiLGMsZCxlLGYsZyxrLGwsbSl7bnVsbCE9YiYmKGc9bnVsbCE9Zz9nOiEwLHRoaXMuY29udGVudD1iLHRoaXMuaW5pdChjLGQsZSxmLG0pLHRoaXMuaW5zdGFsbE1heGltaXplSGFuZGxlcigpLHRoaXMuaW5zdGFsbE1pbmltaXplSGFuZGxlcigpLHRoaXMuaW5zdGFsbENsb3NlSGFuZGxlcigpLHRoaXMuc2V0TWluaW1pemFibGUoZyksdGhpcy5zZXRUaXRsZShhKSwobnVsbD09a3x8aykmJnRoaXMuaW5zdGFsbE1vdmVIYW5kbGVyKCksbnVsbCE9bCYmbnVsbCE9bC5wYXJlbnROb2RlP2wucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQodGhpcy5kaXYsbCk6ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmRpdikpfW14V2luZG93LnByb3RvdHlwZT1uZXcgbXhFdmVudFNvdXJjZTtteFdpbmRvdy5wcm90b3R5cGUuY29uc3RydWN0b3I9bXhXaW5kb3c7bXhXaW5kb3cucHJvdG90eXBlLmNsb3NlSW1hZ2U9bXhDbGllbnQuaW1hZ2VCYXNlUGF0aCsiL2Nsb3NlLmdpZiI7Cm14V2luZG93LnByb3RvdHlwZS5taW5pbWl6ZUltYWdlPW14Q2xpZW50LmltYWdlQmFzZVBhdGgrIi9taW5pbWl6ZS5naWYiO214V2luZG93LnByb3RvdHlwZS5ub3JtYWxpemVJbWFnZT1teENsaWVudC5pbWFnZUJhc2VQYXRoKyIvbm9ybWFsaXplLmdpZiI7bXhXaW5kb3cucHJvdG90eXBlLm1heGltaXplSW1hZ2U9bXhDbGllbnQuaW1hZ2VCYXNlUGF0aCsiL21heGltaXplLmdpZiI7bXhXaW5kb3cucHJvdG90eXBlLnJlc2l6ZUltYWdlPW14Q2xpZW50LmltYWdlQmFzZVBhdGgrIi9yZXNpemUuZ2lmIjtteFdpbmRvdy5wcm90b3R5cGUudmlzaWJsZT0hMTtteFdpbmRvdy5wcm90b3R5cGUubWluaW11bVNpemU9bmV3IG14UmVjdGFuZ2xlKDAsMCw1MCw0MCk7bXhXaW5kb3cucHJvdG90eXBlLmRlc3Ryb3lPbkNsb3NlPSEwOwpteFdpbmRvdy5wcm90b3R5cGUuY29udGVudEhlaWdodENvcnJlY3Rpb249OD09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHw3PT1kb2N1bWVudC5kb2N1bWVudE1vZGU/NjoyO214V2luZG93LnByb3RvdHlwZS50aXRsZT1udWxsO214V2luZG93LnByb3RvdHlwZS5jb250ZW50PW51bGw7Cm14V2luZG93LnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGEsYixjLGQsZSl7ZT1udWxsIT1lP2U6Im14V2luZG93Ijt0aGlzLmRpdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTt0aGlzLmRpdi5jbGFzc05hbWU9ZTt0aGlzLmRpdi5zdHlsZS5sZWZ0PWErInB4Ijt0aGlzLmRpdi5zdHlsZS50b3A9YisicHgiO3RoaXMudGFibGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGFibGUiKTt0aGlzLnRhYmxlLmNsYXNzTmFtZT1lO214Q2xpZW50LklTX1BPSU5URVImJih0aGlzLmRpdi5zdHlsZS50b3VjaEFjdGlvbj0ibm9uZSIpO251bGwhPWMmJihteENsaWVudC5JU19RVUlSS1N8fCh0aGlzLmRpdi5zdHlsZS53aWR0aD1jKyJweCIpLHRoaXMudGFibGUuc3R5bGUud2lkdGg9YysicHgiKTtudWxsIT1kJiYobXhDbGllbnQuSVNfUVVJUktTfHwodGhpcy5kaXYuc3R5bGUuaGVpZ2h0PWQrInB4IiksdGhpcy50YWJsZS5zdHlsZS5oZWlnaHQ9ZCsicHgiKTthPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRib2R5Iik7CmI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKTt0aGlzLnRpdGxlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7dGhpcy50aXRsZS5jbGFzc05hbWU9ZSsiVGl0bGUiO3RoaXMuYnV0dG9ucz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTt0aGlzLmJ1dHRvbnMuc3R5bGUucG9zaXRpb249ImFic29sdXRlIjt0aGlzLmJ1dHRvbnMuc3R5bGUuZGlzcGxheT0iaW5saW5lLWJsb2NrIjt0aGlzLmJ1dHRvbnMuc3R5bGUucmlnaHQ9IjRweCI7dGhpcy5idXR0b25zLnN0eWxlLnRvcD0iNXB4Ijt0aGlzLnRpdGxlLmFwcGVuZENoaWxkKHRoaXMuYnV0dG9ucyk7Yi5hcHBlbmRDaGlsZCh0aGlzLnRpdGxlKTthLmFwcGVuZENoaWxkKGIpO2I9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKTt0aGlzLnRkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7dGhpcy50ZC5jbGFzc05hbWU9ZSsiUGFuZSI7Nz09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlJiYodGhpcy50ZC5zdHlsZS5oZWlnaHQ9CiIxMDAlIik7dGhpcy5jb250ZW50V3JhcHBlcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTt0aGlzLmNvbnRlbnRXcmFwcGVyLmNsYXNzTmFtZT1lKyJQYW5lIjt0aGlzLmNvbnRlbnRXcmFwcGVyLnN0eWxlLndpZHRoPSIxMDAlIjt0aGlzLmNvbnRlbnRXcmFwcGVyLmFwcGVuZENoaWxkKHRoaXMuY29udGVudCk7aWYobXhDbGllbnQuSVNfUVVJUktTfHwiRElWIiE9dGhpcy5jb250ZW50Lm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkpdGhpcy5jb250ZW50V3JhcHBlci5zdHlsZS5oZWlnaHQ9IjEwMCUiO3RoaXMudGQuYXBwZW5kQ2hpbGQodGhpcy5jb250ZW50V3JhcHBlcik7Yi5hcHBlbmRDaGlsZCh0aGlzLnRkKTthLmFwcGVuZENoaWxkKGIpO3RoaXMudGFibGUuYXBwZW5kQ2hpbGQoYSk7dGhpcy5kaXYuYXBwZW5kQ2hpbGQodGhpcy50YWJsZSk7ZT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmFjdGl2YXRlKCl9KTtteEV2ZW50LmFkZEdlc3R1cmVMaXN0ZW5lcnModGhpcy50aXRsZSwKZSk7bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKHRoaXMudGFibGUsZSk7dGhpcy5oaWRlKCl9O214V2luZG93LnByb3RvdHlwZS5zZXRUaXRsZT1mdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy50aXRsZS5maXJzdENoaWxkO251bGwhPWI7KXt2YXIgYz1iLm5leHRTaWJsaW5nO2Iubm9kZVR5cGU9PW14Q29uc3RhbnRzLk5PREVUWVBFX1RFWFQmJmIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKTtiPWN9bXhVdGlscy53cml0ZSh0aGlzLnRpdGxlLGF8fCIiKTt0aGlzLnRpdGxlLmFwcGVuZENoaWxkKHRoaXMuYnV0dG9ucyl9O214V2luZG93LnByb3RvdHlwZS5zZXRTY3JvbGxhYmxlPWZ1bmN0aW9uKGEpe2lmKG51bGw9PW5hdmlnYXRvci51c2VyQWdlbnR8fDA+bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJQcmVzdG8vMi41IikpdGhpcy5jb250ZW50V3JhcHBlci5zdHlsZS5vdmVyZmxvdz1hPyJhdXRvIjoiaGlkZGVuIn07Cm14V2luZG93LnByb3RvdHlwZS5hY3RpdmF0ZT1mdW5jdGlvbigpe2lmKG14V2luZG93LmFjdGl2ZVdpbmRvdyE9dGhpcyl7dmFyIGE9bXhVdGlscy5nZXRDdXJyZW50U3R5bGUodGhpcy5nZXRFbGVtZW50KCkpLGE9bnVsbCE9YT9hLnpJbmRleDozO2lmKG14V2luZG93LmFjdGl2ZVdpbmRvdyl7dmFyIGI9bXhXaW5kb3cuYWN0aXZlV2luZG93LmdldEVsZW1lbnQoKTtudWxsIT1iJiZudWxsIT1iLnN0eWxlJiYoYi5zdHlsZS56SW5kZXg9YSl9Yj1teFdpbmRvdy5hY3RpdmVXaW5kb3c7dGhpcy5nZXRFbGVtZW50KCkuc3R5bGUuekluZGV4PXBhcnNlSW50KGEpKzE7bXhXaW5kb3cuYWN0aXZlV2luZG93PXRoaXM7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5BQ1RJVkFURSwicHJldmlvdXNXaW5kb3ciLGIpKX19O214V2luZG93LnByb3RvdHlwZS5nZXRFbGVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGl2fTsKbXhXaW5kb3cucHJvdG90eXBlLmZpdD1mdW5jdGlvbigpe214VXRpbHMuZml0KHRoaXMuZGl2KX07bXhXaW5kb3cucHJvdG90eXBlLmlzUmVzaXphYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMucmVzaXplPyJub25lIiE9dGhpcy5yZXNpemUuc3R5bGUuZGlzcGxheTohMX07Cm14V2luZG93LnByb3RvdHlwZS5zZXRSZXNpemFibGU9ZnVuY3Rpb24oYSl7aWYoYSlpZihudWxsPT10aGlzLnJlc2l6ZSl7dGhpcy5yZXNpemU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7dGhpcy5yZXNpemUuc3R5bGUucG9zaXRpb249ImFic29sdXRlIjt0aGlzLnJlc2l6ZS5zdHlsZS5ib3R0b209IjJweCI7dGhpcy5yZXNpemUuc3R5bGUucmlnaHQ9IjJweCI7dGhpcy5yZXNpemUuc2V0QXR0cmlidXRlKCJzcmMiLHRoaXMucmVzaXplSW1hZ2UpO3RoaXMucmVzaXplLnN0eWxlLmN1cnNvcj0ibnctcmVzaXplIjt2YXIgYj1udWxsLGM9bnVsbCxkPW51bGwsZT1udWxsO2E9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5hY3RpdmF0ZSgpO2I9bXhFdmVudC5nZXRDbGllbnRYKGEpO2M9bXhFdmVudC5nZXRDbGllbnRZKGEpO2Q9dGhpcy5kaXYub2Zmc2V0V2lkdGg7ZT10aGlzLmRpdi5vZmZzZXRIZWlnaHQ7bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKGRvY3VtZW50LApudWxsLGYsZyk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5SRVNJWkVfU1RBUlQsImV2ZW50IixhKSk7bXhFdmVudC5jb25zdW1lKGEpfSk7dmFyIGY9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7aWYobnVsbCE9YiYmbnVsbCE9Yyl7dmFyIGY9bXhFdmVudC5nZXRDbGllbnRYKGEpLWIsZz1teEV2ZW50LmdldENsaWVudFkoYSktYzt0aGlzLnNldFNpemUoZCtmLGUrZyk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5SRVNJWkUsImV2ZW50IixhKSk7bXhFdmVudC5jb25zdW1lKGEpfX0pLGc9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7bnVsbCE9YiYmbnVsbCE9YyYmKGM9Yj1udWxsLG14RXZlbnQucmVtb3ZlR2VzdHVyZUxpc3RlbmVycyhkb2N1bWVudCxudWxsLGYsZyksdGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5SRVNJWkVfRU5ELCJldmVudCIsYSkpLG14RXZlbnQuY29uc3VtZShhKSl9KTsKbXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKHRoaXMucmVzaXplLGEsZixnKTt0aGlzLmRpdi5hcHBlbmRDaGlsZCh0aGlzLnJlc2l6ZSl9ZWxzZSB0aGlzLnJlc2l6ZS5zdHlsZS5kaXNwbGF5PSJpbmxpbmUiO2Vsc2UgbnVsbCE9dGhpcy5yZXNpemUmJih0aGlzLnJlc2l6ZS5zdHlsZS5kaXNwbGF5PSJub25lIil9OwpteFdpbmRvdy5wcm90b3R5cGUuc2V0U2l6ZT1mdW5jdGlvbihhLGIpe2E9TWF0aC5tYXgodGhpcy5taW5pbXVtU2l6ZS53aWR0aCxhKTtiPU1hdGgubWF4KHRoaXMubWluaW11bVNpemUuaGVpZ2h0LGIpO214Q2xpZW50LklTX1FVSVJLU3x8KHRoaXMuZGl2LnN0eWxlLndpZHRoPWErInB4Iix0aGlzLmRpdi5zdHlsZS5oZWlnaHQ9YisicHgiKTt0aGlzLnRhYmxlLnN0eWxlLndpZHRoPWErInB4Ijt0aGlzLnRhYmxlLnN0eWxlLmhlaWdodD1iKyJweCI7bXhDbGllbnQuSVNfUVVJUktTfHwodGhpcy5jb250ZW50V3JhcHBlci5zdHlsZS5oZWlnaHQ9dGhpcy5kaXYub2Zmc2V0SGVpZ2h0LXRoaXMudGl0bGUub2Zmc2V0SGVpZ2h0LXRoaXMuY29udGVudEhlaWdodENvcnJlY3Rpb24rInB4Iil9O214V2luZG93LnByb3RvdHlwZS5zZXRNaW5pbWl6YWJsZT1mdW5jdGlvbihhKXt0aGlzLm1pbmltaXplLnN0eWxlLmRpc3BsYXk9YT8iIjoibm9uZSJ9OwpteFdpbmRvdy5wcm90b3R5cGUuZ2V0TWluaW11bVNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG14UmVjdGFuZ2xlKDAsMCwwLHRoaXMudGl0bGUub2Zmc2V0SGVpZ2h0KX07Cm14V2luZG93LnByb3RvdHlwZS5pbnN0YWxsTWluaW1pemVIYW5kbGVyPWZ1bmN0aW9uKCl7dGhpcy5taW5pbWl6ZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTt0aGlzLm1pbmltaXplLnNldEF0dHJpYnV0ZSgic3JjIix0aGlzLm1pbmltaXplSW1hZ2UpO3RoaXMubWluaW1pemUuc2V0QXR0cmlidXRlKCJ0aXRsZSIsIk1pbmltaXplIik7dGhpcy5taW5pbWl6ZS5zdHlsZS5jdXJzb3I9InBvaW50ZXIiO3RoaXMubWluaW1pemUuc3R5bGUubWFyZ2luTGVmdD0iMnB4Ijt0aGlzLm1pbmltaXplLnN0eWxlLmRpc3BsYXk9Im5vbmUiO3RoaXMuYnV0dG9ucy5hcHBlbmRDaGlsZCh0aGlzLm1pbmltaXplKTt2YXIgYT0hMSxiPW51bGwsYz1udWxsLGQ9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oZCl7dGhpcy5hY3RpdmF0ZSgpO2lmKGEpYT0hMSx0aGlzLm1pbmltaXplLnNldEF0dHJpYnV0ZSgic3JjIix0aGlzLm1pbmltaXplSW1hZ2UpLHRoaXMubWluaW1pemUuc2V0QXR0cmlidXRlKCJ0aXRsZSIsCiJNaW5pbWl6ZSIpLHRoaXMuY29udGVudFdyYXBwZXIuc3R5bGUuZGlzcGxheT0iIix0aGlzLm1heGltaXplLnN0eWxlLmRpc3BsYXk9YixteENsaWVudC5JU19RVUlSS1N8fCh0aGlzLmRpdi5zdHlsZS5oZWlnaHQ9YyksdGhpcy50YWJsZS5zdHlsZS5oZWlnaHQ9YyxudWxsIT10aGlzLnJlc2l6ZSYmKHRoaXMucmVzaXplLnN0eWxlLnZpc2liaWxpdHk9IiIpLHRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuTk9STUFMSVpFLCJldmVudCIsZCkpO2Vsc2V7YT0hMDt0aGlzLm1pbmltaXplLnNldEF0dHJpYnV0ZSgic3JjIix0aGlzLm5vcm1hbGl6ZUltYWdlKTt0aGlzLm1pbmltaXplLnNldEF0dHJpYnV0ZSgidGl0bGUiLCJOb3JtYWxpemUiKTt0aGlzLmNvbnRlbnRXcmFwcGVyLnN0eWxlLmRpc3BsYXk9Im5vbmUiO2I9dGhpcy5tYXhpbWl6ZS5zdHlsZS5kaXNwbGF5O3RoaXMubWF4aW1pemUuc3R5bGUuZGlzcGxheT0ibm9uZSI7Yz10aGlzLnRhYmxlLnN0eWxlLmhlaWdodDsKdmFyIGU9dGhpcy5nZXRNaW5pbXVtU2l6ZSgpOzA8ZS5oZWlnaHQmJihteENsaWVudC5JU19RVUlSS1N8fCh0aGlzLmRpdi5zdHlsZS5oZWlnaHQ9ZS5oZWlnaHQrInB4IiksdGhpcy50YWJsZS5zdHlsZS5oZWlnaHQ9ZS5oZWlnaHQrInB4Iik7MDxlLndpZHRoJiYobXhDbGllbnQuSVNfUVVJUktTfHwodGhpcy5kaXYuc3R5bGUud2lkdGg9ZS53aWR0aCsicHgiKSx0aGlzLnRhYmxlLnN0eWxlLndpZHRoPWUud2lkdGgrInB4Iik7bnVsbCE9dGhpcy5yZXNpemUmJih0aGlzLnJlc2l6ZS5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50Lk1JTklNSVpFLCJldmVudCIsZCkpfW14RXZlbnQuY29uc3VtZShkKX0pO214RXZlbnQuYWRkR2VzdHVyZUxpc3RlbmVycyh0aGlzLm1pbmltaXplLGQpfTsKbXhXaW5kb3cucHJvdG90eXBlLnNldE1heGltaXphYmxlPWZ1bmN0aW9uKGEpe3RoaXMubWF4aW1pemUuc3R5bGUuZGlzcGxheT1hPyIiOiJub25lIn07Cm14V2luZG93LnByb3RvdHlwZS5pbnN0YWxsTWF4aW1pemVIYW5kbGVyPWZ1bmN0aW9uKCl7dGhpcy5tYXhpbWl6ZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTt0aGlzLm1heGltaXplLnNldEF0dHJpYnV0ZSgic3JjIix0aGlzLm1heGltaXplSW1hZ2UpO3RoaXMubWF4aW1pemUuc2V0QXR0cmlidXRlKCJ0aXRsZSIsIk1heGltaXplIik7dGhpcy5tYXhpbWl6ZS5zdHlsZS5jdXJzb3I9ImRlZmF1bHQiO3RoaXMubWF4aW1pemUuc3R5bGUubWFyZ2luTGVmdD0iMnB4Ijt0aGlzLm1heGltaXplLnN0eWxlLmN1cnNvcj0icG9pbnRlciI7dGhpcy5tYXhpbWl6ZS5zdHlsZS5kaXNwbGF5PSJub25lIjt0aGlzLmJ1dHRvbnMuYXBwZW5kQ2hpbGQodGhpcy5tYXhpbWl6ZSk7dmFyIGE9ITEsYj1udWxsLGM9bnVsbCxkPW51bGwsZT1udWxsLGY9bnVsbCxnPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGcpe3RoaXMuYWN0aXZhdGUoKTtpZigibm9uZSIhPXRoaXMubWF4aW1pemUuc3R5bGUuZGlzcGxheSl7aWYoYSlhPQohMSx0aGlzLm1heGltaXplLnNldEF0dHJpYnV0ZSgic3JjIix0aGlzLm1heGltaXplSW1hZ2UpLHRoaXMubWF4aW1pemUuc2V0QXR0cmlidXRlKCJ0aXRsZSIsIk1heGltaXplIiksdGhpcy5jb250ZW50V3JhcHBlci5zdHlsZS5kaXNwbGF5PSIiLHRoaXMubWluaW1pemUuc3R5bGUuZGlzcGxheT1mLHRoaXMuZGl2LnN0eWxlLmxlZnQ9YisicHgiLHRoaXMuZGl2LnN0eWxlLnRvcD1jKyJweCIsbXhDbGllbnQuSVNfUVVJUktTfHwodGhpcy5kaXYuc3R5bGUuaGVpZ2h0PWQsdGhpcy5kaXYuc3R5bGUud2lkdGg9ZSxrPW14VXRpbHMuZ2V0Q3VycmVudFN0eWxlKHRoaXMuY29udGVudFdyYXBwZXIpLCJhdXRvIiE9ay5vdmVyZmxvdyYmbnVsbD09dGhpcy5yZXNpemUpfHwodGhpcy5jb250ZW50V3JhcHBlci5zdHlsZS5oZWlnaHQ9dGhpcy5kaXYub2Zmc2V0SGVpZ2h0LXRoaXMudGl0bGUub2Zmc2V0SGVpZ2h0LXRoaXMuY29udGVudEhlaWdodENvcnJlY3Rpb24rInB4IiksdGhpcy50YWJsZS5zdHlsZS5oZWlnaHQ9CmQsdGhpcy50YWJsZS5zdHlsZS53aWR0aD1lLG51bGwhPXRoaXMucmVzaXplJiYodGhpcy5yZXNpemUuc3R5bGUudmlzaWJpbGl0eT0iIiksdGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5OT1JNQUxJWkUsImV2ZW50IixnKSk7ZWxzZXthPSEwO3RoaXMubWF4aW1pemUuc2V0QXR0cmlidXRlKCJzcmMiLHRoaXMubm9ybWFsaXplSW1hZ2UpO3RoaXMubWF4aW1pemUuc2V0QXR0cmlidXRlKCJ0aXRsZSIsIk5vcm1hbGl6ZSIpO3RoaXMuY29udGVudFdyYXBwZXIuc3R5bGUuZGlzcGxheT0iIjtmPXRoaXMubWluaW1pemUuc3R5bGUuZGlzcGxheTt0aGlzLm1pbmltaXplLnN0eWxlLmRpc3BsYXk9Im5vbmUiO2I9cGFyc2VJbnQodGhpcy5kaXYuc3R5bGUubGVmdCk7Yz1wYXJzZUludCh0aGlzLmRpdi5zdHlsZS50b3ApO2Q9dGhpcy50YWJsZS5zdHlsZS5oZWlnaHQ7ZT10aGlzLnRhYmxlLnN0eWxlLndpZHRoO3RoaXMuZGl2LnN0eWxlLmxlZnQ9IjBweCI7dGhpcy5kaXYuc3R5bGUudG9wPQoiMHB4IjtrPU1hdGgubWF4KGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0fHwwLGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHR8fDApO214Q2xpZW50LklTX1FVSVJLU3x8KHRoaXMuZGl2LnN0eWxlLndpZHRoPWRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgtMisicHgiLHRoaXMuZGl2LnN0eWxlLmhlaWdodD1rLTIrInB4Iik7dGhpcy50YWJsZS5zdHlsZS53aWR0aD1kb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoLTIrInB4Ijt0aGlzLnRhYmxlLnN0eWxlLmhlaWdodD1rLTIrInB4IjtudWxsIT10aGlzLnJlc2l6ZSYmKHRoaXMucmVzaXplLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiIpO2lmKCFteENsaWVudC5JU19RVUlSS1Mpe3ZhciBrPW14VXRpbHMuZ2V0Q3VycmVudFN0eWxlKHRoaXMuY29udGVudFdyYXBwZXIpO2lmKCJhdXRvIj09ay5vdmVyZmxvd3x8bnVsbCE9dGhpcy5yZXNpemUpdGhpcy5jb250ZW50V3JhcHBlci5zdHlsZS5oZWlnaHQ9dGhpcy5kaXYub2Zmc2V0SGVpZ2h0LQp0aGlzLnRpdGxlLm9mZnNldEhlaWdodC10aGlzLmNvbnRlbnRIZWlnaHRDb3JyZWN0aW9uKyJweCJ9dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5NQVhJTUlaRSwiZXZlbnQiLGcpKX1teEV2ZW50LmNvbnN1bWUoZyl9fSk7bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKHRoaXMubWF4aW1pemUsZyk7bXhFdmVudC5hZGRMaXN0ZW5lcih0aGlzLnRpdGxlLCJkYmxjbGljayIsZyl9OwpteFdpbmRvdy5wcm90b3R5cGUuaW5zdGFsbE1vdmVIYW5kbGVyPWZ1bmN0aW9uKCl7dGhpcy50aXRsZS5zdHlsZS5jdXJzb3I9Im1vdmUiO214RXZlbnQuYWRkR2VzdHVyZUxpc3RlbmVycyh0aGlzLnRpdGxlLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3ZhciBiPW14RXZlbnQuZ2V0Q2xpZW50WChhKSxjPW14RXZlbnQuZ2V0Q2xpZW50WShhKSxkPXRoaXMuZ2V0WCgpLGU9dGhpcy5nZXRZKCksZj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt2YXIgZj1teEV2ZW50LmdldENsaWVudFgoYSktYixnPW14RXZlbnQuZ2V0Q2xpZW50WShhKS1jO3RoaXMuc2V0TG9jYXRpb24oZCtmLGUrZyk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5NT1ZFLCJldmVudCIsYSkpO214RXZlbnQuY29uc3VtZShhKX0pLGc9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7bXhFdmVudC5yZW1vdmVHZXN0dXJlTGlzdGVuZXJzKGRvY3VtZW50LG51bGwsZiwKZyk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5NT1ZFX0VORCwiZXZlbnQiLGEpKTtteEV2ZW50LmNvbnN1bWUoYSl9KTtteEV2ZW50LmFkZEdlc3R1cmVMaXN0ZW5lcnMoZG9jdW1lbnQsbnVsbCxmLGcpO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuTU9WRV9TVEFSVCwiZXZlbnQiLGEpKTtteEV2ZW50LmNvbnN1bWUoYSl9KSk7bXhDbGllbnQuSVNfUE9JTlRFUiYmKHRoaXMudGl0bGUuc3R5bGUudG91Y2hBY3Rpb249Im5vbmUiKX07bXhXaW5kb3cucHJvdG90eXBlLnNldExvY2F0aW9uPWZ1bmN0aW9uKGEsYil7dGhpcy5kaXYuc3R5bGUubGVmdD1hKyJweCI7dGhpcy5kaXYuc3R5bGUudG9wPWIrInB4In07bXhXaW5kb3cucHJvdG90eXBlLmdldFg9ZnVuY3Rpb24oKXtyZXR1cm4gcGFyc2VJbnQodGhpcy5kaXYuc3R5bGUubGVmdCl9O214V2luZG93LnByb3RvdHlwZS5nZXRZPWZ1bmN0aW9uKCl7cmV0dXJuIHBhcnNlSW50KHRoaXMuZGl2LnN0eWxlLnRvcCl9OwpteFdpbmRvdy5wcm90b3R5cGUuaW5zdGFsbENsb3NlSGFuZGxlcj1mdW5jdGlvbigpe3RoaXMuY2xvc2VJbWc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7dGhpcy5jbG9zZUltZy5zZXRBdHRyaWJ1dGUoInNyYyIsdGhpcy5jbG9zZUltYWdlKTt0aGlzLmNsb3NlSW1nLnNldEF0dHJpYnV0ZSgidGl0bGUiLCJDbG9zZSIpO3RoaXMuY2xvc2VJbWcuc3R5bGUubWFyZ2luTGVmdD0iMnB4Ijt0aGlzLmNsb3NlSW1nLnN0eWxlLmN1cnNvcj0icG9pbnRlciI7dGhpcy5jbG9zZUltZy5zdHlsZS5kaXNwbGF5PSJub25lIjt0aGlzLmJ1dHRvbnMuYXBwZW5kQ2hpbGQodGhpcy5jbG9zZUltZyk7bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKHRoaXMuY2xvc2VJbWcsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5DTE9TRSwiZXZlbnQiLGEpKTt0aGlzLmRlc3Ryb3lPbkNsb3NlP3RoaXMuZGVzdHJveSgpOgp0aGlzLnNldFZpc2libGUoITEpO214RXZlbnQuY29uc3VtZShhKX0pKX07bXhXaW5kb3cucHJvdG90eXBlLnNldEltYWdlPWZ1bmN0aW9uKGEpe3RoaXMuaW1hZ2U9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7dGhpcy5pbWFnZS5zZXRBdHRyaWJ1dGUoInNyYyIsYSk7dGhpcy5pbWFnZS5zZXRBdHRyaWJ1dGUoImFsaWduIiwibGVmdCIpO3RoaXMuaW1hZ2Uuc3R5bGUubWFyZ2luUmlnaHQ9IjRweCI7dGhpcy5pbWFnZS5zdHlsZS5tYXJnaW5MZWZ0PSIwcHgiO3RoaXMuaW1hZ2Uuc3R5bGUubWFyZ2luVG9wPSItMnB4Ijt0aGlzLnRpdGxlLmluc2VydEJlZm9yZSh0aGlzLmltYWdlLHRoaXMudGl0bGUuZmlyc3RDaGlsZCl9O214V2luZG93LnByb3RvdHlwZS5zZXRDbG9zYWJsZT1mdW5jdGlvbihhKXt0aGlzLmNsb3NlSW1nLnN0eWxlLmRpc3BsYXk9YT8iIjoibm9uZSJ9OwpteFdpbmRvdy5wcm90b3R5cGUuaXNWaXNpYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMuZGl2PyJub25lIiE9dGhpcy5kaXYuc3R5bGUuZGlzcGxheTohMX07bXhXaW5kb3cucHJvdG90eXBlLnNldFZpc2libGU9ZnVuY3Rpb24oYSl7bnVsbCE9dGhpcy5kaXYmJnRoaXMuaXNWaXNpYmxlKCkhPWEmJihhP3RoaXMuc2hvdygpOnRoaXMuaGlkZSgpKX07Cm14V2luZG93LnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7dGhpcy5kaXYuc3R5bGUuZGlzcGxheT0iIjt0aGlzLmFjdGl2YXRlKCk7dmFyIGE9bXhVdGlscy5nZXRDdXJyZW50U3R5bGUodGhpcy5jb250ZW50V3JhcHBlcik7bXhDbGllbnQuSVNfUVVJUktTfHwiYXV0byIhPWEub3ZlcmZsb3cmJm51bGw9PXRoaXMucmVzaXplfHwibm9uZSI9PXRoaXMuY29udGVudFdyYXBwZXIuc3R5bGUuZGlzcGxheXx8KHRoaXMuY29udGVudFdyYXBwZXIuc3R5bGUuaGVpZ2h0PXRoaXMuZGl2Lm9mZnNldEhlaWdodC10aGlzLnRpdGxlLm9mZnNldEhlaWdodC10aGlzLmNvbnRlbnRIZWlnaHRDb3JyZWN0aW9uKyJweCIpO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuU0hPVykpfTtteFdpbmRvdy5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe3RoaXMuZGl2LnN0eWxlLmRpc3BsYXk9Im5vbmUiO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuSElERSkpfTsKbXhXaW5kb3cucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkRFU1RST1kpKTtudWxsIT10aGlzLmRpdiYmKG14RXZlbnQucmVsZWFzZSh0aGlzLmRpdiksdGhpcy5kaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRpdiksdGhpcy5kaXY9bnVsbCk7dGhpcy5jb250ZW50V3JhcHBlcj10aGlzLmNvbnRlbnQ9dGhpcy50aXRsZT1udWxsfTtmdW5jdGlvbiBteEZvcm0oYSl7dGhpcy50YWJsZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0YWJsZSIpO3RoaXMudGFibGUuY2xhc3NOYW1lPWE7dGhpcy5ib2R5PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRib2R5Iik7dGhpcy50YWJsZS5hcHBlbmRDaGlsZCh0aGlzLmJvZHkpfW14Rm9ybS5wcm90b3R5cGUudGFibGU9bnVsbDtteEZvcm0ucHJvdG90eXBlLmJvZHk9ITE7bXhGb3JtLnByb3RvdHlwZS5nZXRUYWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRhYmxlfTsKbXhGb3JtLnByb3RvdHlwZS5hZGRCdXR0b25zPWZ1bmN0aW9uKGEsYil7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKSxkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7Yy5hcHBlbmRDaGlsZChkKTt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpLGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7bXhVdGlscy53cml0ZShlLG14UmVzb3VyY2VzLmdldCgib2siKXx8Ik9LIik7ZC5hcHBlbmRDaGlsZChlKTtteEV2ZW50LmFkZExpc3RlbmVyKGUsImNsaWNrIixmdW5jdGlvbigpe2EoKX0pO2U9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7bXhVdGlscy53cml0ZShlLG14UmVzb3VyY2VzLmdldCgiY2FuY2VsIil8fCJDYW5jZWwiKTtkLmFwcGVuZENoaWxkKGUpO214RXZlbnQuYWRkTGlzdGVuZXIoZSwiY2xpY2siLGZ1bmN0aW9uKCl7YigpfSk7Yy5hcHBlbmRDaGlsZChkKTt0aGlzLmJvZHkuYXBwZW5kQ2hpbGQoYyl9OwpteEZvcm0ucHJvdG90eXBlLmFkZFRleHQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7ZC5zZXRBdHRyaWJ1dGUoInR5cGUiLGN8fCJ0ZXh0Iik7ZC52YWx1ZT1iO3JldHVybiB0aGlzLmFkZEZpZWxkKGEsZCl9O214Rm9ybS5wcm90b3R5cGUuYWRkQ2hlY2tib3g9ZnVuY3Rpb24oYSxiKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO2Muc2V0QXR0cmlidXRlKCJ0eXBlIiwiY2hlY2tib3giKTt0aGlzLmFkZEZpZWxkKGEsYyk7YiYmKGMuY2hlY2tlZD0hMCk7cmV0dXJuIGN9O214Rm9ybS5wcm90b3R5cGUuYWRkVGV4dGFyZWE9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRleHRhcmVhIik7bXhDbGllbnQuSVNfTlMmJmMtLTtkLnNldEF0dHJpYnV0ZSgicm93cyIsY3x8Mik7ZC52YWx1ZT1iO3JldHVybiB0aGlzLmFkZEZpZWxkKGEsZCl9OwpteEZvcm0ucHJvdG90eXBlLmFkZENvbWJvPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKTtudWxsIT1jJiZkLnNldEF0dHJpYnV0ZSgic2l6ZSIsYyk7YiYmZC5zZXRBdHRyaWJ1dGUoIm11bHRpcGxlIiwidHJ1ZSIpO3JldHVybiB0aGlzLmFkZEZpZWxkKGEsZCl9O214Rm9ybS5wcm90b3R5cGUuYWRkT3B0aW9uPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpO214VXRpbHMud3JpdGVsbihlLGIpO2Uuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsYyk7ZCYmZS5zZXRBdHRyaWJ1dGUoInNlbGVjdGVkIixkKTthLmFwcGVuZENoaWxkKGUpfTsKbXhGb3JtLnByb3RvdHlwZS5hZGRGaWVsZD1mdW5jdGlvbihhLGIpe3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyIiksZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpO214VXRpbHMud3JpdGUoZCxhKTtjLmFwcGVuZENoaWxkKGQpO2Q9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTtkLmFwcGVuZENoaWxkKGIpO2MuYXBwZW5kQ2hpbGQoZCk7dGhpcy5ib2R5LmFwcGVuZENoaWxkKGMpO3JldHVybiBifTtmdW5jdGlvbiBteEltYWdlKGEsYixjKXt0aGlzLnNyYz1hO3RoaXMud2lkdGg9Yjt0aGlzLmhlaWdodD1jfW14SW1hZ2UucHJvdG90eXBlLnNyYz1udWxsO214SW1hZ2UucHJvdG90eXBlLndpZHRoPW51bGw7bXhJbWFnZS5wcm90b3R5cGUuaGVpZ2h0PW51bGw7CmZ1bmN0aW9uIG14RGl2UmVzaXplcihhLGIpe2lmKCJkaXYiPT1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe251bGw9PWImJihiPXdpbmRvdyk7dGhpcy5kaXY9YTt2YXIgYz1teFV0aWxzLmdldEN1cnJlbnRTdHlsZShhKTtudWxsIT1jJiYodGhpcy5yZXNpemVXaWR0aD0iYXV0byI9PWMud2lkdGgsdGhpcy5yZXNpemVIZWlnaHQ9ImF1dG8iPT1jLmhlaWdodCk7bXhFdmVudC5hZGRMaXN0ZW5lcihiLCJyZXNpemUiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuaGFuZGxpbmdSZXNpemV8fCh0aGlzLmhhbmRsaW5nUmVzaXplPSEwLHRoaXMucmVzaXplKCksdGhpcy5oYW5kbGluZ1Jlc2l6ZT0hMSl9KSk7dGhpcy5yZXNpemUoKX19bXhEaXZSZXNpemVyLnByb3RvdHlwZS5yZXNpemVXaWR0aD0hMDtteERpdlJlc2l6ZXIucHJvdG90eXBlLnJlc2l6ZUhlaWdodD0hMDtteERpdlJlc2l6ZXIucHJvdG90eXBlLmhhbmRsaW5nUmVzaXplPSExOwpteERpdlJlc2l6ZXIucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0RG9jdW1lbnRXaWR0aCgpLGI9dGhpcy5nZXREb2N1bWVudEhlaWdodCgpLGM9cGFyc2VJbnQodGhpcy5kaXYuc3R5bGUubGVmdCksZD1wYXJzZUludCh0aGlzLmRpdi5zdHlsZS5yaWdodCksZT1wYXJzZUludCh0aGlzLmRpdi5zdHlsZS50b3ApLGY9cGFyc2VJbnQodGhpcy5kaXYuc3R5bGUuYm90dG9tKTt0aGlzLnJlc2l6ZVdpZHRoJiYhaXNOYU4oYykmJiFpc05hTihkKSYmMDw9YyYmMDw9ZCYmMDxhLWQtYyYmKHRoaXMuZGl2LnN0eWxlLndpZHRoPWEtZC1jKyJweCIpO3RoaXMucmVzaXplSGVpZ2h0JiYhaXNOYU4oZSkmJiFpc05hTihmKSYmMDw9ZSYmMDw9ZiYmMDxiLWUtZiYmKHRoaXMuZGl2LnN0eWxlLmhlaWdodD1iLWUtZisicHgiKX07bXhEaXZSZXNpemVyLnByb3RvdHlwZS5nZXREb2N1bWVudFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGh9OwpteERpdlJlc2l6ZXIucHJvdG90eXBlLmdldERvY3VtZW50SGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0fTtmdW5jdGlvbiBteERyYWdTb3VyY2UoYSxiKXt0aGlzLmVsZW1lbnQ9YTt0aGlzLmRyb3BIYW5kbGVyPWI7bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKGEsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5tb3VzZURvd24oYSl9KSk7bXhFdmVudC5hZGRMaXN0ZW5lcihhLCJkcmFnc3RhcnQiLGZ1bmN0aW9uKGEpe214RXZlbnQuY29uc3VtZShhKX0pO3RoaXMuZXZlbnRDb25zdW1lcj1mdW5jdGlvbihhLGIpe3ZhciBjPWIuZ2V0UHJvcGVydHkoImV2ZW50TmFtZSIpLGQ9Yi5nZXRQcm9wZXJ0eSgiZXZlbnQiKTtjIT1teEV2ZW50Lk1PVVNFX0RPV04mJmQuY29uc3VtZSgpfX1teERyYWdTb3VyY2UucHJvdG90eXBlLmVsZW1lbnQ9bnVsbDtteERyYWdTb3VyY2UucHJvdG90eXBlLmRyb3BIYW5kbGVyPW51bGw7Cm14RHJhZ1NvdXJjZS5wcm90b3R5cGUuZHJhZ09mZnNldD1udWxsO214RHJhZ1NvdXJjZS5wcm90b3R5cGUuZHJhZ0VsZW1lbnQ9bnVsbDtteERyYWdTb3VyY2UucHJvdG90eXBlLnByZXZpZXdFbGVtZW50PW51bGw7bXhEcmFnU291cmNlLnByb3RvdHlwZS5lbmFibGVkPSEwO214RHJhZ1NvdXJjZS5wcm90b3R5cGUuY3VycmVudEdyYXBoPW51bGw7bXhEcmFnU291cmNlLnByb3RvdHlwZS5jdXJyZW50RHJvcFRhcmdldD1udWxsO214RHJhZ1NvdXJjZS5wcm90b3R5cGUuY3VycmVudFBvaW50PW51bGw7bXhEcmFnU291cmNlLnByb3RvdHlwZS5jdXJyZW50R3VpZGU9bnVsbDtteERyYWdTb3VyY2UucHJvdG90eXBlLmN1cnJlbnRIaWdobGlnaHQ9bnVsbDtteERyYWdTb3VyY2UucHJvdG90eXBlLmF1dG9zY3JvbGw9ITA7bXhEcmFnU291cmNlLnByb3RvdHlwZS5ndWlkZXNFbmFibGVkPSEwO214RHJhZ1NvdXJjZS5wcm90b3R5cGUuZ3JpZEVuYWJsZWQ9ITA7Cm14RHJhZ1NvdXJjZS5wcm90b3R5cGUuaGlnaGxpZ2h0RHJvcFRhcmdldHM9ITA7bXhEcmFnU291cmNlLnByb3RvdHlwZS5kcmFnRWxlbWVudFpJbmRleD0xMDA7bXhEcmFnU291cmNlLnByb3RvdHlwZS5kcmFnRWxlbWVudE9wYWNpdHk9NzA7bXhEcmFnU291cmNlLnByb3RvdHlwZS5jaGVja0V2ZW50U291cmNlPSEwO214RHJhZ1NvdXJjZS5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5hYmxlZH07bXhEcmFnU291cmNlLnByb3RvdHlwZS5zZXRFbmFibGVkPWZ1bmN0aW9uKGEpe3RoaXMuZW5hYmxlZD1hfTtteERyYWdTb3VyY2UucHJvdG90eXBlLmlzR3VpZGVzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmd1aWRlc0VuYWJsZWR9O214RHJhZ1NvdXJjZS5wcm90b3R5cGUuc2V0R3VpZGVzRW5hYmxlZD1mdW5jdGlvbihhKXt0aGlzLmd1aWRlc0VuYWJsZWQ9YX07bXhEcmFnU291cmNlLnByb3RvdHlwZS5pc0dyaWRFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ3JpZEVuYWJsZWR9OwpteERyYWdTb3VyY2UucHJvdG90eXBlLnNldEdyaWRFbmFibGVkPWZ1bmN0aW9uKGEpe3RoaXMuZ3JpZEVuYWJsZWQ9YX07bXhEcmFnU291cmNlLnByb3RvdHlwZS5nZXRHcmFwaEZvckV2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiBudWxsfTtteERyYWdTb3VyY2UucHJvdG90eXBlLmdldERyb3BUYXJnZXQ9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIGEuZ2V0Q2VsbEF0KGIsYyl9O214RHJhZ1NvdXJjZS5wcm90b3R5cGUuY3JlYXRlRHJhZ0VsZW1lbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWxlbWVudC5jbG9uZU5vZGUoITApfTtteERyYWdTb3VyY2UucHJvdG90eXBlLmNyZWF0ZVByZXZpZXdFbGVtZW50PWZ1bmN0aW9uKGEpe3JldHVybiBudWxsfTtteERyYWdTb3VyY2UucHJvdG90eXBlLmlzQWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMubW91c2VNb3ZlSGFuZGxlcn07Cm14RHJhZ1NvdXJjZS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXtudWxsIT10aGlzLmN1cnJlbnRHcmFwaCYmKHRoaXMuZHJhZ0V4aXQodGhpcy5jdXJyZW50R3JhcGgpLHRoaXMuY3VycmVudEdyYXBoPW51bGwpO3RoaXMucmVtb3ZlRHJhZ0VsZW1lbnQoKTt0aGlzLnJlbW92ZUxpc3RlbmVycygpO3RoaXMuc3RvcERyYWcoKX07Cm14RHJhZ1NvdXJjZS5wcm90b3R5cGUubW91c2VEb3duPWZ1bmN0aW9uKGEpe3RoaXMuZW5hYmxlZCYmIW14RXZlbnQuaXNDb25zdW1lZChhKSYmbnVsbD09dGhpcy5tb3VzZU1vdmVIYW5kbGVyJiYodGhpcy5zdGFydERyYWcoYSksdGhpcy5tb3VzZU1vdmVIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLHRoaXMubW91c2VNb3ZlKSx0aGlzLm1vdXNlVXBIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLHRoaXMubW91c2VVcCksbXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKGRvY3VtZW50LG51bGwsdGhpcy5tb3VzZU1vdmVIYW5kbGVyLHRoaXMubW91c2VVcEhhbmRsZXIpLG14Q2xpZW50LklTX1RPVUNIJiYhbXhFdmVudC5pc01vdXNlRXZlbnQoYSkmJih0aGlzLmV2ZW50U291cmNlPW14RXZlbnQuZ2V0U291cmNlKGEpLG14RXZlbnQuYWRkR2VzdHVyZUxpc3RlbmVycyh0aGlzLmV2ZW50U291cmNlLG51bGwsdGhpcy5tb3VzZU1vdmVIYW5kbGVyLHRoaXMubW91c2VVcEhhbmRsZXIpKSl9OwpteERyYWdTb3VyY2UucHJvdG90eXBlLnN0YXJ0RHJhZz1mdW5jdGlvbihhKXt0aGlzLmRyYWdFbGVtZW50PXRoaXMuY3JlYXRlRHJhZ0VsZW1lbnQoYSk7dGhpcy5kcmFnRWxlbWVudC5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiO3RoaXMuZHJhZ0VsZW1lbnQuc3R5bGUuekluZGV4PXRoaXMuZHJhZ0VsZW1lbnRaSW5kZXg7bXhVdGlscy5zZXRPcGFjaXR5KHRoaXMuZHJhZ0VsZW1lbnQsdGhpcy5kcmFnRWxlbWVudE9wYWNpdHkpO3RoaXMuY2hlY2tFdmVudFNvdXJjZSYmbXhDbGllbnQuSVNfU1ZHJiYodGhpcy5kcmFnRWxlbWVudC5zdHlsZS5wb2ludGVyRXZlbnRzPSJub25lIil9O214RHJhZ1NvdXJjZS5wcm90b3R5cGUuc3RvcERyYWc9ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZURyYWdFbGVtZW50KCl9OwpteERyYWdTb3VyY2UucHJvdG90eXBlLnJlbW92ZURyYWdFbGVtZW50PWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5kcmFnRWxlbWVudCYmKG51bGwhPXRoaXMuZHJhZ0VsZW1lbnQucGFyZW50Tm9kZSYmdGhpcy5kcmFnRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZHJhZ0VsZW1lbnQpLHRoaXMuZHJhZ0VsZW1lbnQ9bnVsbCl9O214RHJhZ1NvdXJjZS5wcm90b3R5cGUuZ2V0RWxlbWVudEZvckV2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiBteEV2ZW50LmlzVG91Y2hFdmVudChhKXx8bXhFdmVudC5pc1BlbkV2ZW50KGEpP2RvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQobXhFdmVudC5nZXRDbGllbnRYKGEpLG14RXZlbnQuZ2V0Q2xpZW50WShhKSk6bXhFdmVudC5nZXRTb3VyY2UoYSl9OwpteERyYWdTb3VyY2UucHJvdG90eXBlLmdyYXBoQ29udGFpbnNFdmVudD1mdW5jdGlvbihhLGIpe3ZhciBjPW14RXZlbnQuZ2V0Q2xpZW50WChiKSxkPW14RXZlbnQuZ2V0Q2xpZW50WShiKSxlPW14VXRpbHMuZ2V0T2Zmc2V0KGEuY29udGFpbmVyKSxmPW14VXRpbHMuZ2V0U2Nyb2xsT3JpZ2luKCksZz10aGlzLmdldEVsZW1lbnRGb3JFdmVudChiKTtpZih0aGlzLmNoZWNrRXZlbnRTb3VyY2UpZm9yKDtudWxsIT1nJiZnIT1hLmNvbnRhaW5lcjspZz1nLnBhcmVudE5vZGU7cmV0dXJuIG51bGwhPWcmJmM+PWUueC1mLngmJmQ+PWUueS1mLnkmJmM8PWUueC1mLngrYS5jb250YWluZXIub2Zmc2V0V2lkdGgmJmQ8PWUueS1mLnkrYS5jb250YWluZXIub2Zmc2V0SGVpZ2h0fTsKbXhEcmFnU291cmNlLnByb3RvdHlwZS5tb3VzZU1vdmU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRHcmFwaEZvckV2ZW50KGEpO251bGw9PWJ8fHRoaXMuZ3JhcGhDb250YWluc0V2ZW50KGIsYSl8fChiPW51bGwpO2IhPXRoaXMuY3VycmVudEdyYXBoJiYobnVsbCE9dGhpcy5jdXJyZW50R3JhcGgmJnRoaXMuZHJhZ0V4aXQodGhpcy5jdXJyZW50R3JhcGgsYSksdGhpcy5jdXJyZW50R3JhcGg9YixudWxsIT10aGlzLmN1cnJlbnRHcmFwaCYmdGhpcy5kcmFnRW50ZXIodGhpcy5jdXJyZW50R3JhcGgsYSkpO251bGwhPXRoaXMuY3VycmVudEdyYXBoJiZ0aGlzLmRyYWdPdmVyKHRoaXMuY3VycmVudEdyYXBoLGEpO2lmKG51bGw9PXRoaXMuZHJhZ0VsZW1lbnR8fG51bGwhPXRoaXMucHJldmlld0VsZW1lbnQmJiJ2aXNpYmxlIj09dGhpcy5wcmV2aWV3RWxlbWVudC5zdHlsZS52aXNpYmlsaXR5KW51bGwhPXRoaXMuZHJhZ0VsZW1lbnQmJih0aGlzLmRyYWdFbGVtZW50LnN0eWxlLnZpc2liaWxpdHk9CiJoaWRkZW4iKTtlbHNle3ZhciBiPW14RXZlbnQuZ2V0Q2xpZW50WChhKSxjPW14RXZlbnQuZ2V0Q2xpZW50WShhKTtudWxsPT10aGlzLmRyYWdFbGVtZW50LnBhcmVudE5vZGUmJmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5kcmFnRWxlbWVudCk7dGhpcy5kcmFnRWxlbWVudC5zdHlsZS52aXNpYmlsaXR5PSJ2aXNpYmxlIjtudWxsIT10aGlzLmRyYWdPZmZzZXQmJihiKz10aGlzLmRyYWdPZmZzZXQueCxjKz10aGlzLmRyYWdPZmZzZXQueSk7dmFyIGQ9bXhVdGlscy5nZXREb2N1bWVudFNjcm9sbE9yaWdpbihkb2N1bWVudCk7dGhpcy5kcmFnRWxlbWVudC5zdHlsZS5sZWZ0PWIrZC54KyJweCI7dGhpcy5kcmFnRWxlbWVudC5zdHlsZS50b3A9YytkLnkrInB4In1teEV2ZW50LmNvbnN1bWUoYSl9OwpteERyYWdTb3VyY2UucHJvdG90eXBlLm1vdXNlVXA9ZnVuY3Rpb24oYSl7aWYobnVsbCE9dGhpcy5jdXJyZW50R3JhcGgpe2lmKG51bGwhPXRoaXMuY3VycmVudFBvaW50JiYobnVsbD09dGhpcy5wcmV2aWV3RWxlbWVudHx8ImhpZGRlbiIhPXRoaXMucHJldmlld0VsZW1lbnQuc3R5bGUudmlzaWJpbGl0eSkpe3ZhciBiPXRoaXMuY3VycmVudEdyYXBoLnZpZXcuc2NhbGUsYz10aGlzLmN1cnJlbnRHcmFwaC52aWV3LnRyYW5zbGF0ZTt0aGlzLmRyb3AodGhpcy5jdXJyZW50R3JhcGgsYSx0aGlzLmN1cnJlbnREcm9wVGFyZ2V0LHRoaXMuY3VycmVudFBvaW50LngvYi1jLngsdGhpcy5jdXJyZW50UG9pbnQueS9iLWMueSl9dGhpcy5kcmFnRXhpdCh0aGlzLmN1cnJlbnRHcmFwaCk7dGhpcy5jdXJyZW50R3JhcGg9bnVsbH10aGlzLnN0b3BEcmFnKCk7dGhpcy5yZW1vdmVMaXN0ZW5lcnMoKTtteEV2ZW50LmNvbnN1bWUoYSl9OwpteERyYWdTb3VyY2UucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVycz1mdW5jdGlvbigpe251bGwhPXRoaXMuZXZlbnRTb3VyY2UmJihteEV2ZW50LnJlbW92ZUdlc3R1cmVMaXN0ZW5lcnModGhpcy5ldmVudFNvdXJjZSxudWxsLHRoaXMubW91c2VNb3ZlSGFuZGxlcix0aGlzLm1vdXNlVXBIYW5kbGVyKSx0aGlzLmV2ZW50U291cmNlPW51bGwpO214RXZlbnQucmVtb3ZlR2VzdHVyZUxpc3RlbmVycyhkb2N1bWVudCxudWxsLHRoaXMubW91c2VNb3ZlSGFuZGxlcix0aGlzLm1vdXNlVXBIYW5kbGVyKTt0aGlzLm1vdXNlVXBIYW5kbGVyPXRoaXMubW91c2VNb3ZlSGFuZGxlcj1udWxsfTsKbXhEcmFnU291cmNlLnByb3RvdHlwZS5kcmFnRW50ZXI9ZnVuY3Rpb24oYSxiKXthLmlzTW91c2VEb3duPSEwO2EuaXNNb3VzZVRyaWdnZXI9bXhFdmVudC5pc01vdXNlRXZlbnQoYik7dGhpcy5wcmV2aWV3RWxlbWVudD10aGlzLmNyZWF0ZVByZXZpZXdFbGVtZW50KGEpO251bGwhPXRoaXMucHJldmlld0VsZW1lbnQmJnRoaXMuY2hlY2tFdmVudFNvdXJjZSYmbXhDbGllbnQuSVNfU1ZHJiYodGhpcy5wcmV2aWV3RWxlbWVudC5zdHlsZS5wb2ludGVyRXZlbnRzPSJub25lIik7dGhpcy5pc0d1aWRlc0VuYWJsZWQoKSYmbnVsbCE9dGhpcy5wcmV2aWV3RWxlbWVudCYmKHRoaXMuY3VycmVudEd1aWRlPW5ldyBteEd1aWRlKGEsYS5ncmFwaEhhbmRsZXIuZ2V0R3VpZGVTdGF0ZXMoKSkpO3RoaXMuaGlnaGxpZ2h0RHJvcFRhcmdldHMmJih0aGlzLmN1cnJlbnRIaWdobGlnaHQ9bmV3IG14Q2VsbEhpZ2hsaWdodChhLG14Q29uc3RhbnRzLkRST1BfVEFSR0VUX0NPTE9SKSk7YS5hZGRMaXN0ZW5lcihteEV2ZW50LkZJUkVfTU9VU0VfRVZFTlQsCnRoaXMuZXZlbnRDb25zdW1lcil9O214RHJhZ1NvdXJjZS5wcm90b3R5cGUuZHJhZ0V4aXQ9ZnVuY3Rpb24oYSxiKXt0aGlzLmN1cnJlbnRQb2ludD10aGlzLmN1cnJlbnREcm9wVGFyZ2V0PW51bGw7YS5pc01vdXNlRG93bj0hMTthLnJlbW92ZUxpc3RlbmVyKHRoaXMuZXZlbnRDb25zdW1lcik7bnVsbCE9dGhpcy5wcmV2aWV3RWxlbWVudCYmKG51bGwhPXRoaXMucHJldmlld0VsZW1lbnQucGFyZW50Tm9kZSYmdGhpcy5wcmV2aWV3RWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMucHJldmlld0VsZW1lbnQpLHRoaXMucHJldmlld0VsZW1lbnQ9bnVsbCk7bnVsbCE9dGhpcy5jdXJyZW50R3VpZGUmJih0aGlzLmN1cnJlbnRHdWlkZS5kZXN0cm95KCksdGhpcy5jdXJyZW50R3VpZGU9bnVsbCk7bnVsbCE9dGhpcy5jdXJyZW50SGlnaGxpZ2h0JiYodGhpcy5jdXJyZW50SGlnaGxpZ2h0LmRlc3Ryb3koKSx0aGlzLmN1cnJlbnRIaWdobGlnaHQ9bnVsbCl9OwpteERyYWdTb3VyY2UucHJvdG90eXBlLmRyYWdPdmVyPWZ1bmN0aW9uKGEsYil7dmFyIGM9bXhVdGlscy5nZXRPZmZzZXQoYS5jb250YWluZXIpLGQ9bXhVdGlscy5nZXRTY3JvbGxPcmlnaW4oYS5jb250YWluZXIpLGU9bXhFdmVudC5nZXRDbGllbnRYKGIpLWMueCtkLngtYS5wYW5EeCxjPW14RXZlbnQuZ2V0Q2xpZW50WShiKS1jLnkrZC55LWEucGFuRHk7YS5hdXRvU2Nyb2xsJiYobnVsbD09dGhpcy5hdXRvc2Nyb2xsfHx0aGlzLmF1dG9zY3JvbGwpJiZhLnNjcm9sbFBvaW50VG9WaXNpYmxlKGUsYyxhLmF1dG9FeHRlbmQpO251bGwhPXRoaXMuY3VycmVudEhpZ2hsaWdodCYmYS5pc0Ryb3BFbmFibGVkKCkmJih0aGlzLmN1cnJlbnREcm9wVGFyZ2V0PXRoaXMuZ2V0RHJvcFRhcmdldChhLGUsYyxiKSxkPWEuZ2V0VmlldygpLmdldFN0YXRlKHRoaXMuY3VycmVudERyb3BUYXJnZXQpLHRoaXMuY3VycmVudEhpZ2hsaWdodC5oaWdobGlnaHQoZCkpO2lmKG51bGwhPXRoaXMucHJldmlld0VsZW1lbnQpe251bGw9PQp0aGlzLnByZXZpZXdFbGVtZW50LnBhcmVudE5vZGUmJihhLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnByZXZpZXdFbGVtZW50KSx0aGlzLnByZXZpZXdFbGVtZW50LnN0eWxlLnpJbmRleD0iMyIsdGhpcy5wcmV2aWV3RWxlbWVudC5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiKTt2YXIgZD10aGlzLmlzR3JpZEVuYWJsZWQoKSYmYS5pc0dyaWRFbmFibGVkRXZlbnQoYiksZj0hMDtpZihudWxsIT10aGlzLmN1cnJlbnRHdWlkZSYmdGhpcy5jdXJyZW50R3VpZGUuaXNFbmFibGVkRm9yRXZlbnQoYikpdmFyIGY9cGFyc2VJbnQodGhpcy5wcmV2aWV3RWxlbWVudC5zdHlsZS53aWR0aCksZz1wYXJzZUludCh0aGlzLnByZXZpZXdFbGVtZW50LnN0eWxlLmhlaWdodCksZj1uZXcgbXhSZWN0YW5nbGUoMCwwLGYsZyksYz1uZXcgbXhQb2ludChlLGMpLGM9dGhpcy5jdXJyZW50R3VpZGUubW92ZShmLGMsZCwhMCksZj0hMSxlPWMueCxjPWMueTtlbHNlIGlmKGQpdmFyIGQ9YS52aWV3LnNjYWxlLApnPWEudmlldy50cmFuc2xhdGUsaz1hLmdyaWRTaXplLzIsZT0oYS5zbmFwKGUvZC1nLngtaykrZy54KSpkLGM9KGEuc25hcChjL2QtZy55LWspK2cueSkqZDtudWxsIT10aGlzLmN1cnJlbnRHdWlkZSYmZiYmdGhpcy5jdXJyZW50R3VpZGUuaGlkZSgpO251bGwhPXRoaXMucHJldmlld09mZnNldCYmKGUrPXRoaXMucHJldmlld09mZnNldC54LGMrPXRoaXMucHJldmlld09mZnNldC55KTt0aGlzLnByZXZpZXdFbGVtZW50LnN0eWxlLmxlZnQ9TWF0aC5yb3VuZChlKSsicHgiO3RoaXMucHJldmlld0VsZW1lbnQuc3R5bGUudG9wPU1hdGgucm91bmQoYykrInB4Ijt0aGlzLnByZXZpZXdFbGVtZW50LnN0eWxlLnZpc2liaWxpdHk9InZpc2libGUifXRoaXMuY3VycmVudFBvaW50PW5ldyBteFBvaW50KGUsYyl9OwpteERyYWdTb3VyY2UucHJvdG90eXBlLmRyb3A9ZnVuY3Rpb24oYSxiLGMsZCxlKXt0aGlzLmRyb3BIYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTsiaGlkZGVuIiE9YS5jb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSYmYS5jb250YWluZXIuZm9jdXMoKX07ZnVuY3Rpb24gbXhUb29sYmFyKGEpe3RoaXMuY29udGFpbmVyPWF9bXhUb29sYmFyLnByb3RvdHlwZT1uZXcgbXhFdmVudFNvdXJjZTtteFRvb2xiYXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPW14VG9vbGJhcjtteFRvb2xiYXIucHJvdG90eXBlLmNvbnRhaW5lcj1udWxsO214VG9vbGJhci5wcm90b3R5cGUuZW5hYmxlZD0hMDtteFRvb2xiYXIucHJvdG90eXBlLm5vUmVzZXQ9ITE7bXhUb29sYmFyLnByb3RvdHlwZS51cGRhdGVEZWZhdWx0TW9kZT0hMDsKbXhUb29sYmFyLnByb3RvdHlwZS5hZGRJdGVtPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KG51bGwhPWI/ImltZyI6ImJ1dHRvbiIpLGs9ZXx8KG51bGwhPWY/Im14VG9vbGJhck1vZGUiOiJteFRvb2xiYXJJdGVtIik7Zy5jbGFzc05hbWU9aztnLnNldEF0dHJpYnV0ZSgic3JjIixiKTtudWxsIT1hJiYobnVsbCE9Yj9nLnNldEF0dHJpYnV0ZSgidGl0bGUiLGEpOm14VXRpbHMud3JpdGUoZyxhKSk7dGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQoZyk7bnVsbCE9YyYmKG14RXZlbnQuYWRkTGlzdGVuZXIoZywiY2xpY2siLGMpLG14Q2xpZW50LklTX1RPVUNIJiZteEV2ZW50LmFkZExpc3RlbmVyKGcsInRvdWNoZW5kIixjKSk7YT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtudWxsIT1kP2cuc2V0QXR0cmlidXRlKCJzcmMiLGIpOmcuc3R5bGUuYmFja2dyb3VuZENvbG9yPSIifSk7bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKGcsCm14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe251bGwhPWQ/Zy5zZXRBdHRyaWJ1dGUoInNyYyIsZCk6Zy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9ImdyYXkiO2lmKG51bGwhPWYpe251bGw9PXRoaXMubWVudSYmKHRoaXMubWVudT1uZXcgbXhQb3B1cE1lbnUsdGhpcy5tZW51LmluaXQoKSk7dmFyIGI9dGhpcy5jdXJyZW50SW1nO3RoaXMubWVudS5pc01lbnVTaG93aW5nKCkmJnRoaXMubWVudS5oaWRlTWVudSgpO2IhPWcmJih0aGlzLmN1cnJlbnRJbWc9Zyx0aGlzLm1lbnUuZmFjdG9yeU1ldGhvZD1mLGI9bmV3IG14UG9pbnQoZy5vZmZzZXRMZWZ0LGcub2Zmc2V0VG9wK2cub2Zmc2V0SGVpZ2h0KSx0aGlzLm1lbnUucG9wdXAoYi54LGIueSxudWxsLGEpLHRoaXMubWVudS5pc01lbnVTaG93aW5nKCkmJihnLmNsYXNzTmFtZT1rKyJTZWxlY3RlZCIsdGhpcy5tZW51LmhpZGVNZW51PWZ1bmN0aW9uKCl7bXhQb3B1cE1lbnUucHJvdG90eXBlLmhpZGVNZW51LmFwcGx5KHRoaXMpOwpnLmNsYXNzTmFtZT1rO3RoaXMuY3VycmVudEltZz1udWxsfSkpfX0pLG51bGwsYSk7bXhFdmVudC5hZGRMaXN0ZW5lcihnLCJtb3VzZW91dCIsYSk7cmV0dXJuIGd9O214VG9vbGJhci5wcm90b3R5cGUuYWRkQ29tYm89ZnVuY3Rpb24oYSl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Yi5zdHlsZS5kaXNwbGF5PSJpbmxpbmUiO2IuY2xhc3NOYW1lPSJteFRvb2xiYXJDb21ib0NvbnRhaW5lciI7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2VsZWN0Iik7Yy5jbGFzc05hbWU9YXx8Im14VG9vbGJhckNvbWJvIjtiLmFwcGVuZENoaWxkKGMpO3RoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKGIpO3JldHVybiBjfTsKbXhUb29sYmFyLnByb3RvdHlwZS5hZGRBY3Rpb25Db21ibz1mdW5jdGlvbihhLGIpe3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpO2MuY2xhc3NOYW1lPWJ8fCJteFRvb2xiYXJDb21ibyI7dGhpcy5hZGRPcHRpb24oYyxhLG51bGwpO214RXZlbnQuYWRkTGlzdGVuZXIoYywiY2hhbmdlIixmdW5jdGlvbihhKXt2YXIgYj1jLm9wdGlvbnNbYy5zZWxlY3RlZEluZGV4XTtjLnNlbGVjdGVkSW5kZXg9MDtudWxsIT1iLmZ1bmN0JiZiLmZ1bmN0KGEpfSk7dGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQoYyk7cmV0dXJuIGN9O214VG9vbGJhci5wcm90b3R5cGUuYWRkT3B0aW9uPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTtteFV0aWxzLndyaXRlbG4oZCxiKTsiZnVuY3Rpb24iPT10eXBlb2YgYz9kLmZ1bmN0PWM6ZC5zZXRBdHRyaWJ1dGUoInZhbHVlIixjKTthLmFwcGVuZENoaWxkKGQpO3JldHVybiBkfTsKbXhUb29sYmFyLnByb3RvdHlwZS5hZGRTd2l0Y2hNb2RlPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7Zi5pbml0aWFsQ2xhc3NOYW1lPWV8fCJteFRvb2xiYXJNb2RlIjtmLmNsYXNzTmFtZT1mLmluaXRpYWxDbGFzc05hbWU7Zi5zZXRBdHRyaWJ1dGUoInNyYyIsYik7Zi5hbHRJY29uPWQ7bnVsbCE9YSYmZi5zZXRBdHRyaWJ1dGUoInRpdGxlIixhKTtteEV2ZW50LmFkZExpc3RlbmVyKGYsImNsaWNrIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXthPXRoaXMuc2VsZWN0ZWRNb2RlLmFsdEljb247bnVsbCE9YT8odGhpcy5zZWxlY3RlZE1vZGUuYWx0SWNvbj10aGlzLnNlbGVjdGVkTW9kZS5nZXRBdHRyaWJ1dGUoInNyYyIpLHRoaXMuc2VsZWN0ZWRNb2RlLnNldEF0dHJpYnV0ZSgic3JjIixhKSk6dGhpcy5zZWxlY3RlZE1vZGUuY2xhc3NOYW1lPXRoaXMuc2VsZWN0ZWRNb2RlLmluaXRpYWxDbGFzc05hbWU7dGhpcy51cGRhdGVEZWZhdWx0TW9kZSYmCih0aGlzLmRlZmF1bHRNb2RlPWYpO3RoaXMuc2VsZWN0ZWRNb2RlPWY7YT1mLmFsdEljb247bnVsbCE9YT8oZi5hbHRJY29uPWYuZ2V0QXR0cmlidXRlKCJzcmMiKSxmLnNldEF0dHJpYnV0ZSgic3JjIixhKSk6Zi5jbGFzc05hbWU9Zi5pbml0aWFsQ2xhc3NOYW1lKyJTZWxlY3RlZCI7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5TRUxFQ1QpKTtjKCl9KSk7dGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQoZik7bnVsbD09dGhpcy5kZWZhdWx0TW9kZSYmKHRoaXMuZGVmYXVsdE1vZGU9Zix0aGlzLnNlbGVjdE1vZGUoZiksYygpKTtyZXR1cm4gZn07Cm14VG9vbGJhci5wcm90b3R5cGUuYWRkTW9kZT1mdW5jdGlvbihhLGIsYyxkLGUsZil7Zj1udWxsIT1mP2Y6ITA7dmFyIGc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChudWxsIT1iPyJpbWciOiJidXR0b24iKTtnLmluaXRpYWxDbGFzc05hbWU9ZXx8Im14VG9vbGJhck1vZGUiO2cuY2xhc3NOYW1lPWcuaW5pdGlhbENsYXNzTmFtZTtnLnNldEF0dHJpYnV0ZSgic3JjIixiKTtnLmFsdEljb249ZDtudWxsIT1hJiZnLnNldEF0dHJpYnV0ZSgidGl0bGUiLGEpO3RoaXMuZW5hYmxlZCYmZiYmKG14RXZlbnQuYWRkTGlzdGVuZXIoZywiY2xpY2siLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuc2VsZWN0TW9kZShnLGMpO3RoaXMubm9SZXNldD0hMX0pKSxteEV2ZW50LmFkZExpc3RlbmVyKGcsImRibGNsaWNrIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLnNlbGVjdE1vZGUoZyxjKTt0aGlzLm5vUmVzZXQ9ITB9KSksbnVsbD09dGhpcy5kZWZhdWx0TW9kZSYmCih0aGlzLmRlZmF1bHRNb2RlPWcsdGhpcy5kZWZhdWx0RnVuY3Rpb249Yyx0aGlzLnNlbGVjdE1vZGUoZyxjKSkpO3RoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKGcpO3JldHVybiBnfTsKbXhUb29sYmFyLnByb3RvdHlwZS5zZWxlY3RNb2RlPWZ1bmN0aW9uKGEsYil7aWYodGhpcy5zZWxlY3RlZE1vZGUhPWEpe2lmKG51bGwhPXRoaXMuc2VsZWN0ZWRNb2RlKXt2YXIgYz10aGlzLnNlbGVjdGVkTW9kZS5hbHRJY29uO251bGwhPWM/KHRoaXMuc2VsZWN0ZWRNb2RlLmFsdEljb249dGhpcy5zZWxlY3RlZE1vZGUuZ2V0QXR0cmlidXRlKCJzcmMiKSx0aGlzLnNlbGVjdGVkTW9kZS5zZXRBdHRyaWJ1dGUoInNyYyIsYykpOnRoaXMuc2VsZWN0ZWRNb2RlLmNsYXNzTmFtZT10aGlzLnNlbGVjdGVkTW9kZS5pbml0aWFsQ2xhc3NOYW1lfXRoaXMuc2VsZWN0ZWRNb2RlPWE7Yz10aGlzLnNlbGVjdGVkTW9kZS5hbHRJY29uO251bGwhPWM/KHRoaXMuc2VsZWN0ZWRNb2RlLmFsdEljb249dGhpcy5zZWxlY3RlZE1vZGUuZ2V0QXR0cmlidXRlKCJzcmMiKSx0aGlzLnNlbGVjdGVkTW9kZS5zZXRBdHRyaWJ1dGUoInNyYyIsYykpOnRoaXMuc2VsZWN0ZWRNb2RlLmNsYXNzTmFtZT10aGlzLnNlbGVjdGVkTW9kZS5pbml0aWFsQ2xhc3NOYW1lKwoiU2VsZWN0ZWQiO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuU0VMRUNULCJmdW5jdGlvbiIsYikpfX07bXhUb29sYmFyLnByb3RvdHlwZS5yZXNldE1vZGU9ZnVuY3Rpb24oYSl7IWEmJnRoaXMubm9SZXNldHx8dGhpcy5zZWxlY3RlZE1vZGU9PXRoaXMuZGVmYXVsdE1vZGV8fHRoaXMuc2VsZWN0TW9kZSh0aGlzLmRlZmF1bHRNb2RlLHRoaXMuZGVmYXVsdEZ1bmN0aW9uKX07bXhUb29sYmFyLnByb3RvdHlwZS5hZGRTZXBhcmF0b3I9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYWRkSXRlbShudWxsLGEsbnVsbCl9O214VG9vbGJhci5wcm90b3R5cGUuYWRkQnJlYWs9ZnVuY3Rpb24oKXtteFV0aWxzLmJyKHRoaXMuY29udGFpbmVyKX07Cm14VG9vbGJhci5wcm90b3R5cGUuYWRkTGluZT1mdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImhyIik7YS5zdHlsZS5tYXJnaW5SaWdodD0iNnB4IjthLnNldEF0dHJpYnV0ZSgic2l6ZSIsIjEiKTt0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZChhKX07bXhUb29sYmFyLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7bXhFdmVudC5yZWxlYXNlKHRoaXMuY29udGFpbmVyKTt0aGlzLnNlbGVjdGVkTW9kZT10aGlzLmRlZmF1bHRGdW5jdGlvbj10aGlzLmRlZmF1bHRNb2RlPXRoaXMuY29udGFpbmVyPW51bGw7bnVsbCE9dGhpcy5tZW51JiZ0aGlzLm1lbnUuZGVzdHJveSgpfTtmdW5jdGlvbiBteFVuZG9hYmxlRWRpdChhLGIpe3RoaXMuc291cmNlPWE7dGhpcy5jaGFuZ2VzPVtdO3RoaXMuc2lnbmlmaWNhbnQ9bnVsbCE9Yj9iOiEwfW14VW5kb2FibGVFZGl0LnByb3RvdHlwZS5zb3VyY2U9bnVsbDsKbXhVbmRvYWJsZUVkaXQucHJvdG90eXBlLmNoYW5nZXM9bnVsbDtteFVuZG9hYmxlRWRpdC5wcm90b3R5cGUuc2lnbmlmaWNhbnQ9bnVsbDtteFVuZG9hYmxlRWRpdC5wcm90b3R5cGUudW5kb25lPSExO214VW5kb2FibGVFZGl0LnByb3RvdHlwZS5yZWRvbmU9ITE7bXhVbmRvYWJsZUVkaXQucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gMD09dGhpcy5jaGFuZ2VzLmxlbmd0aH07bXhVbmRvYWJsZUVkaXQucHJvdG90eXBlLmlzU2lnbmlmaWNhbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaWduaWZpY2FudH07bXhVbmRvYWJsZUVkaXQucHJvdG90eXBlLmFkZD1mdW5jdGlvbihhKXt0aGlzLmNoYW5nZXMucHVzaChhKX07bXhVbmRvYWJsZUVkaXQucHJvdG90eXBlLm5vdGlmeT1mdW5jdGlvbigpe307bXhVbmRvYWJsZUVkaXQucHJvdG90eXBlLmRpZT1mdW5jdGlvbigpe307Cm14VW5kb2FibGVFZGl0LnByb3RvdHlwZS51bmRvPWZ1bmN0aW9uKCl7aWYoIXRoaXMudW5kb25lKXt0aGlzLnNvdXJjZS5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5TVEFSVF9FRElUKSk7Zm9yKHZhciBhPXRoaXMuY2hhbmdlcy5sZW5ndGgtMTswPD1hO2EtLSl7dmFyIGI9dGhpcy5jaGFuZ2VzW2FdO251bGwhPWIuZXhlY3V0ZT9iLmV4ZWN1dGUoKTpudWxsIT1iLnVuZG8mJmIudW5kbygpO3RoaXMuc291cmNlLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkVYRUNVVEVELCJjaGFuZ2UiLGIpKX10aGlzLnVuZG9uZT0hMDt0aGlzLnJlZG9uZT0hMTt0aGlzLnNvdXJjZS5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5FTkRfRURJVCkpfXRoaXMubm90aWZ5KCl9OwpteFVuZG9hYmxlRWRpdC5wcm90b3R5cGUucmVkbz1mdW5jdGlvbigpe2lmKCF0aGlzLnJlZG9uZSl7dGhpcy5zb3VyY2UuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuU1RBUlRfRURJVCkpO2Zvcih2YXIgYT10aGlzLmNoYW5nZXMubGVuZ3RoLGI9MDtiPGE7YisrKXt2YXIgYz10aGlzLmNoYW5nZXNbYl07bnVsbCE9Yy5leGVjdXRlP2MuZXhlY3V0ZSgpOm51bGwhPWMucmVkbyYmYy5yZWRvKCk7dGhpcy5zb3VyY2UuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuRVhFQ1VURUQsImNoYW5nZSIsYykpfXRoaXMudW5kb25lPSExO3RoaXMucmVkb25lPSEwO3RoaXMuc291cmNlLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkVORF9FRElUKSl9dGhpcy5ub3RpZnkoKX07ZnVuY3Rpb24gbXhVbmRvTWFuYWdlcihhKXt0aGlzLnNpemU9bnVsbCE9YT9hOjEwMDt0aGlzLmNsZWFyKCl9bXhVbmRvTWFuYWdlci5wcm90b3R5cGU9bmV3IG14RXZlbnRTb3VyY2U7Cm14VW5kb01hbmFnZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPW14VW5kb01hbmFnZXI7bXhVbmRvTWFuYWdlci5wcm90b3R5cGUuc2l6ZT1udWxsO214VW5kb01hbmFnZXIucHJvdG90eXBlLmhpc3Rvcnk9bnVsbDtteFVuZG9NYW5hZ2VyLnByb3RvdHlwZS5pbmRleE9mTmV4dEFkZD0wO214VW5kb01hbmFnZXIucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gMD09dGhpcy5oaXN0b3J5Lmxlbmd0aH07bXhVbmRvTWFuYWdlci5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLmhpc3Rvcnk9W107dGhpcy5pbmRleE9mTmV4dEFkZD0wO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuQ0xFQVIpKX07bXhVbmRvTWFuYWdlci5wcm90b3R5cGUuY2FuVW5kbz1mdW5jdGlvbigpe3JldHVybiAwPHRoaXMuaW5kZXhPZk5leHRBZGR9OwpteFVuZG9NYW5hZ2VyLnByb3RvdHlwZS51bmRvPWZ1bmN0aW9uKCl7Zm9yKDswPHRoaXMuaW5kZXhPZk5leHRBZGQ7KXt2YXIgYT10aGlzLmhpc3RvcnlbLS10aGlzLmluZGV4T2ZOZXh0QWRkXTthLnVuZG8oKTtpZihhLmlzU2lnbmlmaWNhbnQoKSl7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5VTkRPLCJlZGl0IixhKSk7YnJlYWt9fX07bXhVbmRvTWFuYWdlci5wcm90b3R5cGUuY2FuUmVkbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmluZGV4T2ZOZXh0QWRkPHRoaXMuaGlzdG9yeS5sZW5ndGh9OwpteFVuZG9NYW5hZ2VyLnByb3RvdHlwZS5yZWRvPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuaGlzdG9yeS5sZW5ndGg7dGhpcy5pbmRleE9mTmV4dEFkZDxhOyl7dmFyIGI9dGhpcy5oaXN0b3J5W3RoaXMuaW5kZXhPZk5leHRBZGQrK107Yi5yZWRvKCk7aWYoYi5pc1NpZ25pZmljYW50KCkpe3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuUkVETywiZWRpdCIsYikpO2JyZWFrfX19O214VW5kb01hbmFnZXIucHJvdG90eXBlLnVuZG9hYmxlRWRpdEhhcHBlbmVkPWZ1bmN0aW9uKGEpe3RoaXMudHJpbSgpOzA8dGhpcy5zaXplJiZ0aGlzLnNpemU9PXRoaXMuaGlzdG9yeS5sZW5ndGgmJnRoaXMuaGlzdG9yeS5zaGlmdCgpO3RoaXMuaGlzdG9yeS5wdXNoKGEpO3RoaXMuaW5kZXhPZk5leHRBZGQ9dGhpcy5oaXN0b3J5Lmxlbmd0aDt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkFERCwiZWRpdCIsYSkpfTsKbXhVbmRvTWFuYWdlci5wcm90b3R5cGUudHJpbT1mdW5jdGlvbigpe2lmKHRoaXMuaGlzdG9yeS5sZW5ndGg+dGhpcy5pbmRleE9mTmV4dEFkZClmb3IodmFyIGE9dGhpcy5oaXN0b3J5LnNwbGljZSh0aGlzLmluZGV4T2ZOZXh0QWRkLHRoaXMuaGlzdG9yeS5sZW5ndGgtdGhpcy5pbmRleE9mTmV4dEFkZCksYj0wO2I8YS5sZW5ndGg7YisrKWFbYl0uZGllKCl9O3ZhciBteFVybENvbnZlcnRlcj1mdW5jdGlvbigpe307bXhVcmxDb252ZXJ0ZXIucHJvdG90eXBlLmVuYWJsZWQ9ITA7bXhVcmxDb252ZXJ0ZXIucHJvdG90eXBlLmJhc2VVcmw9bnVsbDtteFVybENvbnZlcnRlci5wcm90b3R5cGUuYmFzZURvbWFpbj1udWxsOwpteFVybENvbnZlcnRlci5wcm90b3R5cGUudXBkYXRlQmFzZVVybD1mdW5jdGlvbigpe3RoaXMuYmFzZURvbWFpbj1sb2NhdGlvbi5wcm90b2NvbCsiLy8iK2xvY2F0aW9uLmhvc3Q7dGhpcy5iYXNlVXJsPXRoaXMuYmFzZURvbWFpbitsb2NhdGlvbi5wYXRobmFtZTt2YXIgYT10aGlzLmJhc2VVcmwubGFzdEluZGV4T2YoIi8iKTswPGEmJih0aGlzLmJhc2VVcmw9dGhpcy5iYXNlVXJsLnN1YnN0cmluZygwLGErMSkpfTtteFVybENvbnZlcnRlci5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5hYmxlZH07bXhVcmxDb252ZXJ0ZXIucHJvdG90eXBlLnNldEVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5lbmFibGVkPWF9O214VXJsQ29udmVydGVyLnByb3RvdHlwZS5nZXRCYXNlVXJsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmFzZVVybH07bXhVcmxDb252ZXJ0ZXIucHJvdG90eXBlLnNldEJhc2VVcmw9ZnVuY3Rpb24oYSl7dGhpcy5iYXNlVXJsPWF9OwpteFVybENvbnZlcnRlci5wcm90b3R5cGUuZ2V0QmFzZURvbWFpbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJhc2VEb21haW59O214VXJsQ29udmVydGVyLnByb3RvdHlwZS5zZXRCYXNlRG9tYWluPWZ1bmN0aW9uKGEpe3RoaXMuYmFzZURvbWFpbj1hfTtteFVybENvbnZlcnRlci5wcm90b3R5cGUuaXNSZWxhdGl2ZVVybD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YSYmIi8vIiE9YS5zdWJzdHJpbmcoMCwyKSYmImh0dHA6Ly8iIT1hLnN1YnN0cmluZygwLDcpJiYiaHR0cHM6Ly8iIT1hLnN1YnN0cmluZygwLDgpJiYiZGF0YTppbWFnZSIhPWEuc3Vic3RyaW5nKDAsMTApJiYiZmlsZTovLyIhPWEuc3Vic3RyaW5nKDAsNyl9OwpteFVybENvbnZlcnRlci5wcm90b3R5cGUuY29udmVydD1mdW5jdGlvbihhKXt0aGlzLmlzRW5hYmxlZCgpJiZ0aGlzLmlzUmVsYXRpdmVVcmwoYSkmJihudWxsPT10aGlzLmdldEJhc2VVcmwoKSYmdGhpcy51cGRhdGVCYXNlVXJsKCksYT0iLyI9PWEuY2hhckF0KDApP3RoaXMuZ2V0QmFzZURvbWFpbigpK2E6dGhpcy5nZXRCYXNlVXJsKCkrYSk7cmV0dXJuIGF9OwpmdW5jdGlvbiBteFBhbm5pbmdNYW5hZ2VyKGEpe3RoaXMudGhyZWFkPW51bGw7dGhpcy5hY3RpdmU9ITE7dGhpcy5keT10aGlzLmR4PXRoaXMudDB5PXRoaXMudDB4PXRoaXMudGR5PXRoaXMudGR4PTA7dGhpcy5zY3JvbGxiYXJzPSExO3RoaXMuc2Nyb2xsVG9wPXRoaXMuc2Nyb2xsTGVmdD0wO3RoaXMubW91c2VMaXN0ZW5lcj17bW91c2VEb3duOmZ1bmN0aW9uKGEsYil7fSxtb3VzZU1vdmU6ZnVuY3Rpb24oYSxiKXt9LG1vdXNlVXA6bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxiKXt0aGlzLmFjdGl2ZSYmdGhpcy5zdG9wKCl9KX07YS5hZGRNb3VzZUxpc3RlbmVyKHRoaXMubW91c2VMaXN0ZW5lcik7dGhpcy5tb3VzZVVwTGlzdGVuZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmFjdGl2ZSYmdGhpcy5zdG9wKCl9KTtteEV2ZW50LmFkZExpc3RlbmVyKGRvY3VtZW50LCJtb3VzZXVwIix0aGlzLm1vdXNlVXBMaXN0ZW5lcik7dmFyIGI9bXhVdGlscy5iaW5kKHRoaXMsCmZ1bmN0aW9uKCl7dGhpcy5zY3JvbGxiYXJzPW14VXRpbHMuaGFzU2Nyb2xsYmFycyhhLmNvbnRhaW5lcik7dGhpcy5zY3JvbGxMZWZ0PWEuY29udGFpbmVyLnNjcm9sbExlZnQ7dGhpcy5zY3JvbGxUb3A9YS5jb250YWluZXIuc2Nyb2xsVG9wO3JldHVybiB3aW5kb3cuc2V0SW50ZXJ2YWwobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnRkeC09dGhpcy5keDt0aGlzLnRkeS09dGhpcy5keTt0aGlzLnNjcm9sbGJhcnM/KGEucGFuR3JhcGgoLWEuY29udGFpbmVyLnNjcm9sbExlZnQtTWF0aC5jZWlsKHRoaXMuZHgpLC1hLmNvbnRhaW5lci5zY3JvbGxUb3AtTWF0aC5jZWlsKHRoaXMuZHkpKSxhLnBhbkR4PXRoaXMuc2Nyb2xsTGVmdC1hLmNvbnRhaW5lci5zY3JvbGxMZWZ0LGEucGFuRHk9dGhpcy5zY3JvbGxUb3AtYS5jb250YWluZXIuc2Nyb2xsVG9wLGEuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuUEFOKSkpOmEucGFuR3JhcGgodGhpcy5nZXREeCgpLAp0aGlzLmdldER5KCkpfSksdGhpcy5kZWxheSl9KTt0aGlzLmlzQWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuIGFjdGl2ZX07dGhpcy5nZXREeD1mdW5jdGlvbigpe3JldHVybiBNYXRoLnJvdW5kKHRoaXMudGR4KX07dGhpcy5nZXREeT1mdW5jdGlvbigpe3JldHVybiBNYXRoLnJvdW5kKHRoaXMudGR5KX07dGhpcy5zdGFydD1mdW5jdGlvbigpe3RoaXMudDB4PWEudmlldy50cmFuc2xhdGUueDt0aGlzLnQweT1hLnZpZXcudHJhbnNsYXRlLnk7dGhpcy5hY3RpdmU9ITB9O3RoaXMucGFuVG89ZnVuY3Rpb24oYyxkLGUsZil7dGhpcy5hY3RpdmV8fHRoaXMuc3RhcnQoKTt0aGlzLnNjcm9sbExlZnQ9YS5jb250YWluZXIuc2Nyb2xsTGVmdDt0aGlzLnNjcm9sbFRvcD1hLmNvbnRhaW5lci5zY3JvbGxUb3A7dmFyIGc9YS5jb250YWluZXI7dGhpcy5keD1jKyhudWxsIT1lP2U6MCktZy5zY3JvbGxMZWZ0LWcuY2xpZW50V2lkdGg7dGhpcy5keD0wPnRoaXMuZHgmJk1hdGguYWJzKHRoaXMuZHgpPAp0aGlzLmJvcmRlcj90aGlzLmJvcmRlcit0aGlzLmR4OnRoaXMuaGFuZGxlTW91c2VPdXQ/TWF0aC5tYXgodGhpcy5keCwwKTowOzA9PXRoaXMuZHgmJih0aGlzLmR4PWMtZy5zY3JvbGxMZWZ0LHRoaXMuZHg9MDx0aGlzLmR4JiZ0aGlzLmR4PHRoaXMuYm9yZGVyP3RoaXMuZHgtdGhpcy5ib3JkZXI6dGhpcy5oYW5kbGVNb3VzZU91dD9NYXRoLm1pbigwLHRoaXMuZHgpOjApO3RoaXMuZHk9ZCsobnVsbCE9Zj9mOjApLWcuc2Nyb2xsVG9wLWcuY2xpZW50SGVpZ2h0O3RoaXMuZHk9MD50aGlzLmR5JiZNYXRoLmFicyh0aGlzLmR5KTx0aGlzLmJvcmRlcj90aGlzLmJvcmRlcit0aGlzLmR5OnRoaXMuaGFuZGxlTW91c2VPdXQ/TWF0aC5tYXgodGhpcy5keSwwKTowOzA9PXRoaXMuZHkmJih0aGlzLmR5PWQtZy5zY3JvbGxUb3AsdGhpcy5keT0wPHRoaXMuZHkmJnRoaXMuZHk8dGhpcy5ib3JkZXI/dGhpcy5keS10aGlzLmJvcmRlcjp0aGlzLmhhbmRsZU1vdXNlT3V0P01hdGgubWluKDAsdGhpcy5keSk6CjApOzAhPXRoaXMuZHh8fDAhPXRoaXMuZHk/KHRoaXMuZHgqPXRoaXMuZGFtcGVyLHRoaXMuZHkqPXRoaXMuZGFtcGVyLG51bGw9PXRoaXMudGhyZWFkJiYodGhpcy50aHJlYWQ9YigpKSk6bnVsbCE9dGhpcy50aHJlYWQmJih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnRocmVhZCksdGhpcy50aHJlYWQ9bnVsbCl9O3RoaXMuc3RvcD1mdW5jdGlvbigpe2lmKHRoaXMuYWN0aXZlKWlmKHRoaXMuYWN0aXZlPSExLG51bGwhPXRoaXMudGhyZWFkJiYod2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy50aHJlYWQpLHRoaXMudGhyZWFkPW51bGwpLHRoaXMudGR5PXRoaXMudGR4PTAsdGhpcy5zY3JvbGxiYXJzKWEucGFuRHg9MCxhLnBhbkR5PTAsYS5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5QQU4pKTtlbHNle3ZhciBiPWEucGFuRHgsZD1hLnBhbkR5O2lmKDAhPWJ8fDAhPWQpYS5wYW5HcmFwaCgwLDApLGEudmlldy5zZXRUcmFuc2xhdGUodGhpcy50MHgrYi9hLnZpZXcuc2NhbGUsCnRoaXMudDB5K2QvYS52aWV3LnNjYWxlKX19O3RoaXMuZGVzdHJveT1mdW5jdGlvbigpe2EucmVtb3ZlTW91c2VMaXN0ZW5lcih0aGlzLm1vdXNlTGlzdGVuZXIpO214RXZlbnQucmVtb3ZlTGlzdGVuZXIoZG9jdW1lbnQsIm1vdXNldXAiLHRoaXMubW91c2VVcExpc3RlbmVyKX19bXhQYW5uaW5nTWFuYWdlci5wcm90b3R5cGUuZGFtcGVyPTEvNjtteFBhbm5pbmdNYW5hZ2VyLnByb3RvdHlwZS5kZWxheT0xMDtteFBhbm5pbmdNYW5hZ2VyLnByb3RvdHlwZS5oYW5kbGVNb3VzZU91dD0hMDtteFBhbm5pbmdNYW5hZ2VyLnByb3RvdHlwZS5ib3JkZXI9MDtmdW5jdGlvbiBteFBvcHVwTWVudShhKXt0aGlzLmZhY3RvcnlNZXRob2Q9YTtudWxsIT1hJiZ0aGlzLmluaXQoKX1teFBvcHVwTWVudS5wcm90b3R5cGU9bmV3IG14RXZlbnRTb3VyY2U7bXhQb3B1cE1lbnUucHJvdG90eXBlLmNvbnN0cnVjdG9yPW14UG9wdXBNZW51OwpteFBvcHVwTWVudS5wcm90b3R5cGUuc3VibWVudUltYWdlPW14Q2xpZW50LmltYWdlQmFzZVBhdGgrIi9zdWJtZW51LmdpZiI7bXhQb3B1cE1lbnUucHJvdG90eXBlLnpJbmRleD0xMDAwNjtteFBvcHVwTWVudS5wcm90b3R5cGUuZmFjdG9yeU1ldGhvZD1udWxsO214UG9wdXBNZW51LnByb3RvdHlwZS51c2VMZWZ0QnV0dG9uRm9yUG9wdXA9ITE7bXhQb3B1cE1lbnUucHJvdG90eXBlLmVuYWJsZWQ9ITA7bXhQb3B1cE1lbnUucHJvdG90eXBlLml0ZW1Db3VudD0wO214UG9wdXBNZW51LnByb3RvdHlwZS5hdXRvRXhwYW5kPSExO214UG9wdXBNZW51LnByb3RvdHlwZS5zbWFydFNlcGFyYXRvcnM9ITE7bXhQb3B1cE1lbnUucHJvdG90eXBlLmxhYmVscz0hMDsKbXhQb3B1cE1lbnUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt0aGlzLnRhYmxlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRhYmxlIik7dGhpcy50YWJsZS5jbGFzc05hbWU9Im14UG9wdXBNZW51Ijt0aGlzLnRib2R5PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRib2R5Iik7dGhpcy50YWJsZS5hcHBlbmRDaGlsZCh0aGlzLnRib2R5KTt0aGlzLmRpdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTt0aGlzLmRpdi5jbGFzc05hbWU9Im14UG9wdXBNZW51Ijt0aGlzLmRpdi5zdHlsZS5kaXNwbGF5PSJpbmxpbmUiO3RoaXMuZGl2LnN0eWxlLnpJbmRleD10aGlzLnpJbmRleDt0aGlzLmRpdi5hcHBlbmRDaGlsZCh0aGlzLnRhYmxlKTtteEV2ZW50LmRpc2FibGVDb250ZXh0TWVudSh0aGlzLmRpdil9O214UG9wdXBNZW51LnByb3RvdHlwZS5pc0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmFibGVkfTsKbXhQb3B1cE1lbnUucHJvdG90eXBlLnNldEVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5lbmFibGVkPWF9O214UG9wdXBNZW51LnByb3RvdHlwZS5pc1BvcHVwVHJpZ2dlcj1mdW5jdGlvbihhKXtyZXR1cm4gYS5pc1BvcHVwVHJpZ2dlcigpfHx0aGlzLnVzZUxlZnRCdXR0b25Gb3JQb3B1cCYmbXhFdmVudC5pc0xlZnRNb3VzZUJ1dHRvbihhLmdldEV2ZW50KCkpfTsKbXhQb3B1cE1lbnUucHJvdG90eXBlLmFkZEl0ZW09ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxrKXtkPWR8fHRoaXM7dGhpcy5pdGVtQ291bnQrKztkLndpbGxBZGRTZXBhcmF0b3ImJihkLmNvbnRhaW5zSXRlbXMmJnRoaXMuYWRkU2VwYXJhdG9yKGQsITApLGQud2lsbEFkZFNlcGFyYXRvcj0hMSk7ZC5jb250YWluc0l0ZW1zPSEwO3ZhciBsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyIik7bC5jbGFzc05hbWU9Im14UG9wdXBNZW51SXRlbSI7dmFyIG09ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTttLmNsYXNzTmFtZT0ibXhQb3B1cE1lbnVJY29uIjtudWxsIT1iPyhlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpLGUuc3JjPWIsbS5hcHBlbmRDaGlsZChlKSk6bnVsbCE9ZSYmKGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksYi5jbGFzc05hbWU9ZSxtLmFwcGVuZENoaWxkKGIpKTtsLmFwcGVuZENoaWxkKG0pO3RoaXMubGFiZWxzJiYobT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpLAptLmNsYXNzTmFtZT0ibXhQb3B1cE1lbnVJdGVtIisobnVsbD09Znx8Zj8iIjoiIG14RGlzYWJsZWQiKSxteFV0aWxzLndyaXRlKG0sYSksbS5hbGlnbj0ibGVmdCIsbC5hcHBlbmRDaGlsZChtKSxhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIiksYS5jbGFzc05hbWU9Im14UG9wdXBNZW51SXRlbSIrKG51bGw9PWZ8fGY/IiI6IiBteERpc2FibGVkIiksYS5zdHlsZS5wYWRkaW5nUmlnaHQ9IjZweCIsYS5zdHlsZS50ZXh0QWxpZ249InJpZ2h0IixsLmFwcGVuZENoaWxkKGEpLG51bGw9PWQuZGl2JiZ0aGlzLmNyZWF0ZVN1Ym1lbnUoZCkpO2QudGJvZHkuYXBwZW5kQ2hpbGQobCk7aWYoMCE9ZyYmMCE9Zil7dmFyIG49bnVsbDtteEV2ZW50LmFkZEdlc3R1cmVMaXN0ZW5lcnMobCxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmV2ZW50UmVjZWl2ZXI9bDtkLmFjdGl2ZVJvdyE9bCYmZC5hY3RpdmVSb3chPWQmJihudWxsIT1kLmFjdGl2ZVJvdyYmbnVsbCE9ZC5hY3RpdmVSb3cuZGl2LnBhcmVudE5vZGUmJgp0aGlzLmhpZGVTdWJtZW51KGQpLG51bGwhPWwuZGl2JiYodGhpcy5zaG93U3VibWVudShkLGwpLGQuYWN0aXZlUm93PWwpKTtudWxsPT1kb2N1bWVudC5zZWxlY3Rpb258fCFteENsaWVudC5JU19RVUlSS1MmJjghPWRvY3VtZW50LmRvY3VtZW50TW9kZXx8KG49ZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCkpO214RXZlbnQuY29uc3VtZShhKX0pLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe2QuYWN0aXZlUm93IT1sJiZkLmFjdGl2ZVJvdyE9ZCYmKG51bGwhPWQuYWN0aXZlUm93JiZudWxsIT1kLmFjdGl2ZVJvdy5kaXYucGFyZW50Tm9kZSYmdGhpcy5oaWRlU3VibWVudShkKSx0aGlzLmF1dG9FeHBhbmQmJm51bGwhPWwuZGl2JiYodGhpcy5zaG93U3VibWVudShkLGwpLGQuYWN0aXZlUm93PWwpKTtrfHwobC5jbGFzc05hbWU9Im14UG9wdXBNZW51SXRlbUhvdmVyIil9KSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtpZih0aGlzLmV2ZW50UmVjZWl2ZXI9PQpsKXtkLmFjdGl2ZVJvdyE9bCYmdGhpcy5oaWRlTWVudSgpO2lmKG51bGwhPW4pe3RyeXtuLnNlbGVjdCgpfWNhdGNoKHEpe31uPW51bGx9bnVsbCE9YyYmYyhhKX10aGlzLmV2ZW50UmVjZWl2ZXI9bnVsbDtteEV2ZW50LmNvbnN1bWUoYSl9KSk7a3x8bXhFdmVudC5hZGRMaXN0ZW5lcihsLCJtb3VzZW91dCIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7bC5jbGFzc05hbWU9Im14UG9wdXBNZW51SXRlbSJ9KSl9cmV0dXJuIGx9O214UG9wdXBNZW51LnByb3RvdHlwZS5hZGRDaGVja21hcms9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmZpcnN0Q2hpbGQubmV4dFNpYmxpbmc7Yy5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9InVybCgnIitiKyInKSI7Yy5zdHlsZS5iYWNrZ3JvdW5kUmVwZWF0PSJuby1yZXBlYXQiO2Muc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uPSIycHggNTAlIn07Cm14UG9wdXBNZW51LnByb3RvdHlwZS5jcmVhdGVTdWJtZW51PWZ1bmN0aW9uKGEpe2EudGFibGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGFibGUiKTthLnRhYmxlLmNsYXNzTmFtZT0ibXhQb3B1cE1lbnUiO2EudGJvZHk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGJvZHkiKTthLnRhYmxlLmFwcGVuZENoaWxkKGEudGJvZHkpO2EuZGl2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2EuZGl2LmNsYXNzTmFtZT0ibXhQb3B1cE1lbnUiO2EuZGl2LnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7YS5kaXYuc3R5bGUuZGlzcGxheT0iaW5saW5lIjthLmRpdi5zdHlsZS56SW5kZXg9dGhpcy56SW5kZXg7YS5kaXYuYXBwZW5kQ2hpbGQoYS50YWJsZSk7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7Yi5zZXRBdHRyaWJ1dGUoInNyYyIsdGhpcy5zdWJtZW51SW1hZ2UpO3RkPWEuZmlyc3RDaGlsZC5uZXh0U2libGluZy5uZXh0U2libGluZzt0ZC5hcHBlbmRDaGlsZChiKX07Cm14UG9wdXBNZW51LnByb3RvdHlwZS5zaG93U3VibWVudT1mdW5jdGlvbihhLGIpe2lmKG51bGwhPWIuZGl2KXtiLmRpdi5zdHlsZS5sZWZ0PWEuZGl2Lm9mZnNldExlZnQrYi5vZmZzZXRMZWZ0K2Iub2Zmc2V0V2lkdGgtMSsicHgiO2IuZGl2LnN0eWxlLnRvcD1hLmRpdi5vZmZzZXRUb3ArYi5vZmZzZXRUb3ArInB4Ijtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGIuZGl2KTt2YXIgYz1wYXJzZUludChiLmRpdi5vZmZzZXRMZWZ0KSxkPXBhcnNlSW50KGIuZGl2Lm9mZnNldFdpZHRoKSxlPW14VXRpbHMuZ2V0RG9jdW1lbnRTY3JvbGxPcmlnaW4oZG9jdW1lbnQpLGY9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O2MrZD5lLngrKGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGh8fGYuY2xpZW50V2lkdGgpJiYoYi5kaXYuc3R5bGUubGVmdD1NYXRoLm1heCgwLGEuZGl2Lm9mZnNldExlZnQtZCsobXhDbGllbnQuSVNfSUU/NjotNikpKyJweCIpO214VXRpbHMuZml0KGIuZGl2KX19OwpteFBvcHVwTWVudS5wcm90b3R5cGUuYWRkU2VwYXJhdG9yPWZ1bmN0aW9uKGEsYil7YT1hfHx0aGlzO2lmKHRoaXMuc21hcnRTZXBhcmF0b3JzJiYhYilhLndpbGxBZGRTZXBhcmF0b3I9ITA7ZWxzZSBpZihudWxsIT1hLnRib2R5KXthLndpbGxBZGRTZXBhcmF0b3I9ITE7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKSxkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7ZC5jbGFzc05hbWU9Im14UG9wdXBNZW51SWNvbiI7ZC5zdHlsZS5wYWRkaW5nPSIwIDAgMCAwcHgiO2MuYXBwZW5kQ2hpbGQoZCk7ZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpO2Quc3R5bGUucGFkZGluZz0iMCAwIDAgMHB4IjtkLnNldEF0dHJpYnV0ZSgiY29sU3BhbiIsIjIiKTt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJociIpO2Uuc2V0QXR0cmlidXRlKCJzaXplIiwiMSIpO2QuYXBwZW5kQ2hpbGQoZSk7Yy5hcHBlbmRDaGlsZChkKTthLnRib2R5LmFwcGVuZENoaWxkKGMpfX07Cm14UG9wdXBNZW51LnByb3RvdHlwZS5wb3B1cD1mdW5jdGlvbihhLGIsYyxkKXtpZihudWxsIT10aGlzLmRpdiYmbnVsbCE9dGhpcy50Ym9keSYmbnVsbCE9dGhpcy5mYWN0b3J5TWV0aG9kKXt0aGlzLmRpdi5zdHlsZS5sZWZ0PWErInB4Ijtmb3IodGhpcy5kaXYuc3R5bGUudG9wPWIrInB4IjtudWxsIT10aGlzLnRib2R5LmZpcnN0Q2hpbGQ7KW14RXZlbnQucmVsZWFzZSh0aGlzLnRib2R5LmZpcnN0Q2hpbGQpLHRoaXMudGJvZHkucmVtb3ZlQ2hpbGQodGhpcy50Ym9keS5maXJzdENoaWxkKTt0aGlzLml0ZW1Db3VudD0wO3RoaXMuZmFjdG9yeU1ldGhvZCh0aGlzLGMsZCk7MDx0aGlzLml0ZW1Db3VudCYmKHRoaXMuc2hvd01lbnUoKSx0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlNIT1cpKSl9fTsKbXhQb3B1cE1lbnUucHJvdG90eXBlLmlzTWVudVNob3dpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5kaXYmJnRoaXMuZGl2LnBhcmVudE5vZGU9PWRvY3VtZW50LmJvZHl9O214UG9wdXBNZW51LnByb3RvdHlwZS5zaG93TWVudT1mdW5jdGlvbigpezk8PWRvY3VtZW50LmRvY3VtZW50TW9kZSYmKHRoaXMuZGl2LnN0eWxlLmZpbHRlcj0ibm9uZSIpO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5kaXYpO214VXRpbHMuZml0KHRoaXMuZGl2KX07bXhQb3B1cE1lbnUucHJvdG90eXBlLmhpZGVNZW51PWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5kaXYmJihudWxsIT10aGlzLmRpdi5wYXJlbnROb2RlJiZ0aGlzLmRpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZGl2KSx0aGlzLmhpZGVTdWJtZW51KHRoaXMpLHRoaXMuY29udGFpbnNJdGVtcz0hMSx0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkhJREUpKSl9OwpteFBvcHVwTWVudS5wcm90b3R5cGUuaGlkZVN1Ym1lbnU9ZnVuY3Rpb24oYSl7bnVsbCE9YS5hY3RpdmVSb3cmJih0aGlzLmhpZGVTdWJtZW51KGEuYWN0aXZlUm93KSxudWxsIT1hLmFjdGl2ZVJvdy5kaXYucGFyZW50Tm9kZSYmYS5hY3RpdmVSb3cuZGl2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYS5hY3RpdmVSb3cuZGl2KSxhLmFjdGl2ZVJvdz1udWxsKX07bXhQb3B1cE1lbnUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtudWxsIT10aGlzLmRpdiYmKG14RXZlbnQucmVsZWFzZSh0aGlzLmRpdiksbnVsbCE9dGhpcy5kaXYucGFyZW50Tm9kZSYmdGhpcy5kaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRpdiksdGhpcy5kaXY9bnVsbCl9OwpmdW5jdGlvbiBteEF1dG9TYXZlTWFuYWdlcihhKXt0aGlzLmNoYW5nZUhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxjKXt0aGlzLmlzRW5hYmxlZCgpJiZ0aGlzLmdyYXBoTW9kZWxDaGFuZ2VkKGMuZ2V0UHJvcGVydHkoImVkaXQiKS5jaGFuZ2VzKX0pO3RoaXMuc2V0R3JhcGgoYSl9bXhBdXRvU2F2ZU1hbmFnZXIucHJvdG90eXBlPW5ldyBteEV2ZW50U291cmNlO214QXV0b1NhdmVNYW5hZ2VyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1teEF1dG9TYXZlTWFuYWdlcjtteEF1dG9TYXZlTWFuYWdlci5wcm90b3R5cGUuZ3JhcGg9bnVsbDtteEF1dG9TYXZlTWFuYWdlci5wcm90b3R5cGUuYXV0b1NhdmVEZWxheT0xMDtteEF1dG9TYXZlTWFuYWdlci5wcm90b3R5cGUuYXV0b1NhdmVUaHJvdHRsZT0yO214QXV0b1NhdmVNYW5hZ2VyLnByb3RvdHlwZS5hdXRvU2F2ZVRocmVzaG9sZD01O214QXV0b1NhdmVNYW5hZ2VyLnByb3RvdHlwZS5pZ25vcmVkQ2hhbmdlcz0wOwpteEF1dG9TYXZlTWFuYWdlci5wcm90b3R5cGUubGFzdFNuYXBzaG90PTA7bXhBdXRvU2F2ZU1hbmFnZXIucHJvdG90eXBlLmVuYWJsZWQ9ITA7bXhBdXRvU2F2ZU1hbmFnZXIucHJvdG90eXBlLmNoYW5nZUhhbmRsZXI9bnVsbDtteEF1dG9TYXZlTWFuYWdlci5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5hYmxlZH07bXhBdXRvU2F2ZU1hbmFnZXIucHJvdG90eXBlLnNldEVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5lbmFibGVkPWF9O214QXV0b1NhdmVNYW5hZ2VyLnByb3RvdHlwZS5zZXRHcmFwaD1mdW5jdGlvbihhKXtudWxsIT10aGlzLmdyYXBoJiZ0aGlzLmdyYXBoLmdldE1vZGVsKCkucmVtb3ZlTGlzdGVuZXIodGhpcy5jaGFuZ2VIYW5kbGVyKTt0aGlzLmdyYXBoPWE7bnVsbCE9dGhpcy5ncmFwaCYmdGhpcy5ncmFwaC5nZXRNb2RlbCgpLmFkZExpc3RlbmVyKG14RXZlbnQuQ0hBTkdFLHRoaXMuY2hhbmdlSGFuZGxlcil9OwpteEF1dG9TYXZlTWFuYWdlci5wcm90b3R5cGUuc2F2ZT1mdW5jdGlvbigpe307bXhBdXRvU2F2ZU1hbmFnZXIucHJvdG90eXBlLmdyYXBoTW9kZWxDaGFuZ2VkPWZ1bmN0aW9uKGEpe2E9KChuZXcgRGF0ZSkuZ2V0VGltZSgpLXRoaXMubGFzdFNuYXBzaG90KS8xRTM7YT50aGlzLmF1dG9TYXZlRGVsYXl8fHRoaXMuaWdub3JlZENoYW5nZXM+PXRoaXMuYXV0b1NhdmVUaHJlc2hvbGQmJmE+dGhpcy5hdXRvU2F2ZVRocm90dGxlPyh0aGlzLnNhdmUoKSx0aGlzLnJlc2V0KCkpOnRoaXMuaWdub3JlZENoYW5nZXMrK307bXhBdXRvU2F2ZU1hbmFnZXIucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5sYXN0U25hcHNob3Q9KG5ldyBEYXRlKS5nZXRUaW1lKCk7dGhpcy5pZ25vcmVkQ2hhbmdlcz0wfTtteEF1dG9TYXZlTWFuYWdlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuc2V0R3JhcGgobnVsbCl9OwpmdW5jdGlvbiBteEFuaW1hdGlvbihhKXt0aGlzLmRlbGF5PW51bGwhPWE/YToyMH1teEFuaW1hdGlvbi5wcm90b3R5cGU9bmV3IG14RXZlbnRTb3VyY2U7bXhBbmltYXRpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yPW14QW5pbWF0aW9uO214QW5pbWF0aW9uLnByb3RvdHlwZS5kZWxheT1udWxsO214QW5pbWF0aW9uLnByb3RvdHlwZS50aHJlYWQ9bnVsbDtteEFuaW1hdGlvbi5wcm90b3R5cGUuaXNSdW5uaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMudGhyZWFkfTtteEFuaW1hdGlvbi5wcm90b3R5cGUuc3RhcnRBbmltYXRpb249ZnVuY3Rpb24oKXtudWxsPT10aGlzLnRocmVhZCYmKHRoaXMudGhyZWFkPXdpbmRvdy5zZXRJbnRlcnZhbChteFV0aWxzLmJpbmQodGhpcyx0aGlzLnVwZGF0ZUFuaW1hdGlvbiksdGhpcy5kZWxheSkpfTtteEFuaW1hdGlvbi5wcm90b3R5cGUudXBkYXRlQW5pbWF0aW9uPWZ1bmN0aW9uKCl7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5FWEVDVVRFKSl9OwpteEFuaW1hdGlvbi5wcm90b3R5cGUuc3RvcEFuaW1hdGlvbj1mdW5jdGlvbigpe251bGwhPXRoaXMudGhyZWFkJiYod2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy50aHJlYWQpLHRoaXMudGhyZWFkPW51bGwsdGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5ET05FKSkpfTtmdW5jdGlvbiBteE1vcnBoaW5nKGEsYixjLGQpe214QW5pbWF0aW9uLmNhbGwodGhpcyxkKTt0aGlzLmdyYXBoPWE7dGhpcy5zdGVwcz1udWxsIT1iP2I6Njt0aGlzLmVhc2U9bnVsbCE9Yz9jOjEuNX1teE1vcnBoaW5nLnByb3RvdHlwZT1uZXcgbXhBbmltYXRpb247bXhNb3JwaGluZy5wcm90b3R5cGUuY29uc3RydWN0b3I9bXhNb3JwaGluZztteE1vcnBoaW5nLnByb3RvdHlwZS5ncmFwaD1udWxsO214TW9ycGhpbmcucHJvdG90eXBlLnN0ZXBzPW51bGw7bXhNb3JwaGluZy5wcm90b3R5cGUuc3RlcD0wO214TW9ycGhpbmcucHJvdG90eXBlLmVhc2U9bnVsbDsKbXhNb3JwaGluZy5wcm90b3R5cGUuY2VsbHM9bnVsbDtteE1vcnBoaW5nLnByb3RvdHlwZS51cGRhdGVBbmltYXRpb249ZnVuY3Rpb24oKXtteEFuaW1hdGlvbi5wcm90b3R5cGUudXBkYXRlQW5pbWF0aW9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgYT1uZXcgbXhDZWxsU3RhdGVQcmV2aWV3KHRoaXMuZ3JhcGgpO2lmKG51bGwhPXRoaXMuY2VsbHMpZm9yKHZhciBiPTA7Yjx0aGlzLmNlbGxzLmxlbmd0aDtiKyspdGhpcy5hbmltYXRlQ2VsbCh0aGlzLmNlbGxzW2JdLGEsITEpO2Vsc2UgdGhpcy5hbmltYXRlQ2VsbCh0aGlzLmdyYXBoLmdldE1vZGVsKCkuZ2V0Um9vdCgpLGEsITApO3RoaXMuc2hvdyhhKTsoYS5pc0VtcHR5KCl8fHRoaXMuc3RlcCsrPj10aGlzLnN0ZXBzKSYmdGhpcy5zdG9wQW5pbWF0aW9uKCl9O214TW9ycGhpbmcucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oYSl7YS5zaG93KCl9OwpteE1vcnBoaW5nLnByb3RvdHlwZS5hbmltYXRlQ2VsbD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5ncmFwaC5nZXRWaWV3KCkuZ2V0U3RhdGUoYSksZT1udWxsO2lmKG51bGwhPWQmJihlPXRoaXMuZ2V0RGVsdGEoZCksdGhpcy5ncmFwaC5nZXRNb2RlbCgpLmlzVmVydGV4KGEpJiYoMCE9ZS54fHwwIT1lLnkpKSl7dmFyIGY9dGhpcy5ncmFwaC52aWV3LmdldFRyYW5zbGF0ZSgpLGc9dGhpcy5ncmFwaC52aWV3LmdldFNjYWxlKCk7ZS54Kz1mLngqZztlLnkrPWYueSpnO2IubW92ZVN0YXRlKGQsLWUueC90aGlzLmVhc2UsLWUueS90aGlzLmVhc2UpfWlmKGMmJiF0aGlzLnN0b3BSZWN1cnNpb24oZCxlKSlmb3IoZD10aGlzLmdyYXBoLmdldE1vZGVsKCkuZ2V0Q2hpbGRDb3VudChhKSxlPTA7ZTxkO2UrKyl0aGlzLmFuaW1hdGVDZWxsKHRoaXMuZ3JhcGguZ2V0TW9kZWwoKS5nZXRDaGlsZEF0KGEsZSksYixjKX07Cm14TW9ycGhpbmcucHJvdG90eXBlLnN0b3BSZWN1cnNpb249ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbnVsbCE9YiYmKDAhPWIueHx8MCE9Yi55KX07bXhNb3JwaGluZy5wcm90b3R5cGUuZ2V0RGVsdGE9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRPcmlnaW5Gb3JDZWxsKGEuY2VsbCksYz10aGlzLmdyYXBoLmdldFZpZXcoKS5nZXRUcmFuc2xhdGUoKSxkPXRoaXMuZ3JhcGguZ2V0VmlldygpLmdldFNjYWxlKCk7cmV0dXJuIG5ldyBteFBvaW50KChiLngtKGEueC9kLWMueCkpKmQsKGIueS0oYS55L2QtYy55KSkqZCl9OwpteE1vcnBoaW5nLnByb3RvdHlwZS5nZXRPcmlnaW5Gb3JDZWxsPWZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7aWYobnVsbCE9YSl7dmFyIGM9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmdldFBhcmVudChhKTthPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGEpO2I9dGhpcy5nZXRPcmlnaW5Gb3JDZWxsKGMpO251bGwhPWEmJihhLnJlbGF0aXZlPyhjPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGMpLG51bGwhPWMmJihiLngrPWEueCpjLndpZHRoLGIueSs9YS55KmMuaGVpZ2h0KSk6KGIueCs9YS54LGIueSs9YS55KSl9bnVsbD09YiYmKGI9dGhpcy5ncmFwaC52aWV3LmdldFRyYW5zbGF0ZSgpLGI9bmV3IG14UG9pbnQoLWIueCwtYi55KSk7cmV0dXJuIGJ9O2Z1bmN0aW9uIG14SW1hZ2VCdW5kbGUoYSl7dGhpcy5pbWFnZXM9W107dGhpcy5hbHQ9bnVsbCE9YT9hOiExfW14SW1hZ2VCdW5kbGUucHJvdG90eXBlLmltYWdlcz1udWxsOwpteEltYWdlQnVuZGxlLnByb3RvdHlwZS5hbHQ9bnVsbDtteEltYWdlQnVuZGxlLnByb3RvdHlwZS5wdXRJbWFnZT1mdW5jdGlvbihhLGIsYyl7dGhpcy5pbWFnZXNbYV09e3ZhbHVlOmIsZmFsbGJhY2s6Y319O214SW1hZ2VCdW5kbGUucHJvdG90eXBlLmdldEltYWdlPWZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7bnVsbCE9YSYmKGE9dGhpcy5pbWFnZXNbYV0sbnVsbCE9YSYmKGI9dGhpcy5hbHQ/YS5mYWxsYmFjazphLnZhbHVlKSk7cmV0dXJuIGJ9O2Z1bmN0aW9uIG14SW1hZ2VFeHBvcnQoKXt9bXhJbWFnZUV4cG9ydC5wcm90b3R5cGUuaW5jbHVkZU92ZXJsYXlzPSExOwpteEltYWdlRXhwb3J0LnByb3RvdHlwZS5kcmF3U3RhdGU9ZnVuY3Rpb24oYSxiKXtudWxsIT1hJiYodGhpcy52aXNpdFN0YXRlc1JlY3Vyc2l2ZShhLGIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmRyYXdDZWxsU3RhdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSkpLHRoaXMuaW5jbHVkZU92ZXJsYXlzJiZ0aGlzLnZpc2l0U3RhdGVzUmVjdXJzaXZlKGEsYixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuZHJhd092ZXJsYXlzLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pKSl9OwpteEltYWdlRXhwb3J0LnByb3RvdHlwZS52aXNpdFN0YXRlc1JlY3Vyc2l2ZT1mdW5jdGlvbihhLGIsYyl7aWYobnVsbCE9YSl7YyhhLGIpO2Zvcih2YXIgZD1hLnZpZXcuZ3JhcGgsZT1kLm1vZGVsLmdldENoaWxkQ291bnQoYS5jZWxsKSxmPTA7ZjxlO2YrKyl7dmFyIGc9ZC52aWV3LmdldFN0YXRlKGQubW9kZWwuZ2V0Q2hpbGRBdChhLmNlbGwsZikpO3RoaXMudmlzaXRTdGF0ZXNSZWN1cnNpdmUoZyxiLGMpfX19O214SW1hZ2VFeHBvcnQucHJvdG90eXBlLmdldExpbmtGb3JDZWxsU3RhdGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbnVsbH07bXhJbWFnZUV4cG9ydC5wcm90b3R5cGUuZHJhd0NlbGxTdGF0ZT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0TGlua0ZvckNlbGxTdGF0ZShhLGIpO251bGwhPWMmJmIuc2V0TGluayhjKTt0aGlzLmRyYXdTaGFwZShhLGIpO3RoaXMuZHJhd1RleHQoYSxiKTtudWxsIT1jJiZiLnNldExpbmsobnVsbCl9OwpteEltYWdlRXhwb3J0LnByb3RvdHlwZS5kcmF3U2hhcGU9ZnVuY3Rpb24oYSxiKXthLnNoYXBlIGluc3RhbmNlb2YgbXhTaGFwZSYmYS5zaGFwZS5jaGVja0JvdW5kcygpJiYoYi5zYXZlKCksYS5zaGFwZS5wYWludChiKSxiLnJlc3RvcmUoKSl9O214SW1hZ2VFeHBvcnQucHJvdG90eXBlLmRyYXdUZXh0PWZ1bmN0aW9uKGEsYil7bnVsbCE9YS50ZXh0JiZhLnRleHQuY2hlY2tCb3VuZHMoKSYmKGIuc2F2ZSgpLGEudGV4dC5wYWludChiKSxiLnJlc3RvcmUoKSl9O214SW1hZ2VFeHBvcnQucHJvdG90eXBlLmRyYXdPdmVybGF5cz1mdW5jdGlvbihhLGIpe251bGwhPWEub3ZlcmxheXMmJmEub3ZlcmxheXMudmlzaXQoZnVuY3Rpb24oYSxkKXtkIGluc3RhbmNlb2YgbXhTaGFwZSYmZC5wYWludChiKX0pfTtmdW5jdGlvbiBteEFic3RyYWN0Q2FudmFzMkQoKXt0aGlzLmNvbnZlcnRlcj10aGlzLmNyZWF0ZVVybENvbnZlcnRlcigpO3RoaXMucmVzZXQoKX0KbXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zdGF0ZT1udWxsO214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc3RhdGVzPW51bGw7bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5wYXRoPW51bGw7bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5yb3RhdGVIdG1sPSEwO214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUubGFzdFg9MDtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLmxhc3RZPTA7bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5tb3ZlT3A9Ik0iO214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUubGluZU9wPSJMIjtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnF1YWRPcD0iUSI7bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5jdXJ2ZU9wPSJDIjtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLmNsb3NlT3A9IloiO214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUucG9pbnRlckV2ZW50cz0hMTsKbXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5jcmVhdGVVcmxDb252ZXJ0ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG14VXJsQ29udmVydGVyfTtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5zdGF0ZT10aGlzLmNyZWF0ZVN0YXRlKCk7dGhpcy5zdGF0ZXM9W119OwpteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLmNyZWF0ZVN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJue2R4OjAsZHk6MCxzY2FsZToxLGFscGhhOjEsZmlsbEFscGhhOjEsc3Ryb2tlQWxwaGE6MSxmaWxsQ29sb3I6bnVsbCxncmFkaWVudEZpbGxBbHBoYToxLGdyYWRpZW50Q29sb3I6bnVsbCxncmFkaWVudEFscGhhOjEsZ3JhZGllbnREaXJlY3Rpb246bnVsbCxzdHJva2VDb2xvcjpudWxsLHN0cm9rZVdpZHRoOjEsZGFzaGVkOiExLGRhc2hQYXR0ZXJuOiIzIDMiLGZpeERhc2g6ITEsbGluZUNhcDoiZmxhdCIsbGluZUpvaW46Im1pdGVyIixtaXRlckxpbWl0OjEwLGZvbnRDb2xvcjoiIzAwMDAwMCIsZm9udEJhY2tncm91bmRDb2xvcjpudWxsLGZvbnRCb3JkZXJDb2xvcjpudWxsLGZvbnRTaXplOm14Q29uc3RhbnRzLkRFRkFVTFRfRk9OVFNJWkUsZm9udEZhbWlseTpteENvbnN0YW50cy5ERUZBVUxUX0ZPTlRGQU1JTFksZm9udFN0eWxlOjAsc2hhZG93OiExLHNoYWRvd0NvbG9yOm14Q29uc3RhbnRzLlNIQURPV0NPTE9SLApzaGFkb3dBbHBoYTpteENvbnN0YW50cy5TSEFET1dfT1BBQ0lUWSxzaGFkb3dEeDpteENvbnN0YW50cy5TSEFET1dfT0ZGU0VUX1gsc2hhZG93RHk6bXhDb25zdGFudHMuU0hBRE9XX09GRlNFVF9ZLHJvdGF0aW9uOjAscm90YXRpb25DeDowLHJvdGF0aW9uQ3k6MH19O214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuZm9ybWF0PWZ1bmN0aW9uKGEpe3JldHVybiBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoYSkpfTsKbXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5hZGRPcD1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMucGF0aCYmKHRoaXMucGF0aC5wdXNoKGFyZ3VtZW50c1swXSksMjxhcmd1bWVudHMubGVuZ3RoKSlmb3IodmFyIGE9dGhpcy5zdGF0ZSxiPTI7Yjxhcmd1bWVudHMubGVuZ3RoO2IrPTIpdGhpcy5sYXN0WD1hcmd1bWVudHNbYi0xXSx0aGlzLmxhc3RZPWFyZ3VtZW50c1tiXSx0aGlzLnBhdGgucHVzaCh0aGlzLmZvcm1hdCgodGhpcy5sYXN0WCthLmR4KSphLnNjYWxlKSksdGhpcy5wYXRoLnB1c2godGhpcy5mb3JtYXQoKHRoaXMubGFzdFkrYS5keSkqYS5zY2FsZSkpfTtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnJvdGF0ZVBvaW50PWZ1bmN0aW9uKGEsYixjLGQsZSl7Yyo9TWF0aC5QSS8xODA7cmV0dXJuIG14VXRpbHMuZ2V0Um90YXRlZFBvaW50KG5ldyBteFBvaW50KGEsYiksTWF0aC5jb3MoYyksTWF0aC5zaW4oYyksbmV3IG14UG9pbnQoZCxlKSl9OwpteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNhdmU9ZnVuY3Rpb24oKXt0aGlzLnN0YXRlcy5wdXNoKHRoaXMuc3RhdGUpO3RoaXMuc3RhdGU9bXhVdGlscy5jbG9uZSh0aGlzLnN0YXRlKX07bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5yZXN0b3JlPWZ1bmN0aW9uKCl7MDx0aGlzLnN0YXRlcy5sZW5ndGgmJih0aGlzLnN0YXRlPXRoaXMuc3RhdGVzLnBvcCgpKX07bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRMaW5rPWZ1bmN0aW9uKGEpe307bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zY2FsZT1mdW5jdGlvbihhKXt0aGlzLnN0YXRlLnNjYWxlKj1hO3RoaXMuc3RhdGUuc3Ryb2tlV2lkdGgqPWF9O214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUudHJhbnNsYXRlPWZ1bmN0aW9uKGEsYil7dGhpcy5zdGF0ZS5keCs9YTt0aGlzLnN0YXRlLmR5Kz1ifTtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnJvdGF0ZT1mdW5jdGlvbihhLGIsYyxkLGUpe307Cm14QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc2V0QWxwaGE9ZnVuY3Rpb24oYSl7dGhpcy5zdGF0ZS5hbHBoYT1hfTtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldEZpbGxBbHBoYT1mdW5jdGlvbihhKXt0aGlzLnN0YXRlLmZpbGxBbHBoYT1hfTtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldFN0cm9rZUFscGhhPWZ1bmN0aW9uKGEpe3RoaXMuc3RhdGUuc3Ryb2tlQWxwaGE9YX07bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRGaWxsQ29sb3I9ZnVuY3Rpb24oYSl7YT09bXhDb25zdGFudHMuTk9ORSYmKGE9bnVsbCk7dGhpcy5zdGF0ZS5maWxsQ29sb3I9YTt0aGlzLnN0YXRlLmdyYWRpZW50Q29sb3I9bnVsbH07Cm14QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc2V0R3JhZGllbnQ9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxrLGwpe2M9dGhpcy5zdGF0ZTtjLmZpbGxDb2xvcj1hO2MuZ3JhZGllbnRGaWxsQWxwaGE9bnVsbCE9az9rOjE7Yy5ncmFkaWVudENvbG9yPWI7Yy5ncmFkaWVudEFscGhhPW51bGwhPWw/bDoxO2MuZ3JhZGllbnREaXJlY3Rpb249Z307bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRTdHJva2VDb2xvcj1mdW5jdGlvbihhKXthPT1teENvbnN0YW50cy5OT05FJiYoYT1udWxsKTt0aGlzLnN0YXRlLnN0cm9rZUNvbG9yPWF9O214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc2V0U3Ryb2tlV2lkdGg9ZnVuY3Rpb24oYSl7dGhpcy5zdGF0ZS5zdHJva2VXaWR0aD1hfTtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldERhc2hlZD1mdW5jdGlvbihhLGIpe3RoaXMuc3RhdGUuZGFzaGVkPWE7dGhpcy5zdGF0ZS5maXhEYXNoPWJ9OwpteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldERhc2hQYXR0ZXJuPWZ1bmN0aW9uKGEpe3RoaXMuc3RhdGUuZGFzaFBhdHRlcm49YX07bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRMaW5lQ2FwPWZ1bmN0aW9uKGEpe3RoaXMuc3RhdGUubGluZUNhcD1hfTtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldExpbmVKb2luPWZ1bmN0aW9uKGEpe3RoaXMuc3RhdGUubGluZUpvaW49YX07bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRNaXRlckxpbWl0PWZ1bmN0aW9uKGEpe3RoaXMuc3RhdGUubWl0ZXJMaW1pdD1hfTtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldEZvbnRDb2xvcj1mdW5jdGlvbihhKXthPT1teENvbnN0YW50cy5OT05FJiYoYT1udWxsKTt0aGlzLnN0YXRlLmZvbnRDb2xvcj1hfTsKbXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRGb250QmFja2dyb3VuZENvbG9yPWZ1bmN0aW9uKGEpe2E9PW14Q29uc3RhbnRzLk5PTkUmJihhPW51bGwpO3RoaXMuc3RhdGUuZm9udEJhY2tncm91bmRDb2xvcj1hfTtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldEZvbnRCb3JkZXJDb2xvcj1mdW5jdGlvbihhKXthPT1teENvbnN0YW50cy5OT05FJiYoYT1udWxsKTt0aGlzLnN0YXRlLmZvbnRCb3JkZXJDb2xvcj1hfTtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldEZvbnRTaXplPWZ1bmN0aW9uKGEpe3RoaXMuc3RhdGUuZm9udFNpemU9cGFyc2VGbG9hdChhKX07bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRGb250RmFtaWx5PWZ1bmN0aW9uKGEpe3RoaXMuc3RhdGUuZm9udEZhbWlseT1hfTsKbXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRGb250U3R5bGU9ZnVuY3Rpb24oYSl7bnVsbD09YSYmKGE9MCk7dGhpcy5zdGF0ZS5mb250U3R5bGU9YX07bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRTaGFkb3c9ZnVuY3Rpb24oYSl7dGhpcy5zdGF0ZS5zaGFkb3c9YX07bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRTaGFkb3dDb2xvcj1mdW5jdGlvbihhKXthPT1teENvbnN0YW50cy5OT05FJiYoYT1udWxsKTt0aGlzLnN0YXRlLnNoYWRvd0NvbG9yPWF9O214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc2V0U2hhZG93QWxwaGE9ZnVuY3Rpb24oYSl7dGhpcy5zdGF0ZS5zaGFkb3dBbHBoYT1hfTtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldFNoYWRvd09mZnNldD1mdW5jdGlvbihhLGIpe3RoaXMuc3RhdGUuc2hhZG93RHg9YTt0aGlzLnN0YXRlLnNoYWRvd0R5PWJ9OwpteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLmJlZ2luPWZ1bmN0aW9uKCl7dGhpcy5sYXN0WT10aGlzLmxhc3RYPTA7dGhpcy5wYXRoPVtdfTtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLm1vdmVUbz1mdW5jdGlvbihhLGIpe3RoaXMuYWRkT3AodGhpcy5tb3ZlT3AsYSxiKX07bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5saW5lVG89ZnVuY3Rpb24oYSxiKXt0aGlzLmFkZE9wKHRoaXMubGluZU9wLGEsYil9O214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUucXVhZFRvPWZ1bmN0aW9uKGEsYixjLGQpe3RoaXMuYWRkT3AodGhpcy5xdWFkT3AsYSxiLGMsZCl9O214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuY3VydmVUbz1mdW5jdGlvbihhLGIsYyxkLGUsZil7dGhpcy5hZGRPcCh0aGlzLmN1cnZlT3AsYSxiLGMsZCxlLGYpfTsKbXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5hcmNUbz1mdW5jdGlvbihhLGIsYyxkLGUsZixnKXthPW14VXRpbHMuYXJjVG9DdXJ2ZXModGhpcy5sYXN0WCx0aGlzLmxhc3RZLGEsYixjLGQsZSxmLGcpO2lmKG51bGwhPWEpZm9yKGI9MDtiPGEubGVuZ3RoO2IrPTYpdGhpcy5jdXJ2ZVRvKGFbYl0sYVtiKzFdLGFbYisyXSxhW2IrM10sYVtiKzRdLGFbYis1XSl9O214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3RoaXMuYWRkT3AodGhpcy5jbG9zZU9wKX07bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIG14WG1sQ2FudmFzMkQoYSl7bXhBYnN0cmFjdENhbnZhczJELmNhbGwodGhpcyk7dGhpcy5yb290PWE7dGhpcy53cml0ZURlZmF1bHRzKCl9bXhVdGlscy5leHRlbmQobXhYbWxDYW52YXMyRCxteEFic3RyYWN0Q2FudmFzMkQpOwpteFhtbENhbnZhczJELnByb3RvdHlwZS50ZXh0RW5hYmxlZD0hMDtteFhtbENhbnZhczJELnByb3RvdHlwZS5jb21wcmVzc2VkPSEwOwpteFhtbENhbnZhczJELnByb3RvdHlwZS53cml0ZURlZmF1bHRzPWZ1bmN0aW9uKCl7dmFyIGE7YT10aGlzLmNyZWF0ZUVsZW1lbnQoImZvbnRmYW1pbHkiKTthLnNldEF0dHJpYnV0ZSgiZmFtaWx5IixteENvbnN0YW50cy5ERUZBVUxUX0ZPTlRGQU1JTFkpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChhKTthPXRoaXMuY3JlYXRlRWxlbWVudCgiZm9udHNpemUiKTthLnNldEF0dHJpYnV0ZSgic2l6ZSIsbXhDb25zdGFudHMuREVGQVVMVF9GT05UU0laRSk7dGhpcy5yb290LmFwcGVuZENoaWxkKGEpO2E9dGhpcy5jcmVhdGVFbGVtZW50KCJzaGFkb3djb2xvciIpO2Euc2V0QXR0cmlidXRlKCJjb2xvciIsbXhDb25zdGFudHMuU0hBRE9XQ09MT1IpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChhKTthPXRoaXMuY3JlYXRlRWxlbWVudCgic2hhZG93YWxwaGEiKTthLnNldEF0dHJpYnV0ZSgiYWxwaGEiLG14Q29uc3RhbnRzLlNIQURPV19PUEFDSVRZKTt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQoYSk7CmE9dGhpcy5jcmVhdGVFbGVtZW50KCJzaGFkb3dvZmZzZXQiKTthLnNldEF0dHJpYnV0ZSgiZHgiLG14Q29uc3RhbnRzLlNIQURPV19PRkZTRVRfWCk7YS5zZXRBdHRyaWJ1dGUoImR5IixteENvbnN0YW50cy5TSEFET1dfT0ZGU0VUX1kpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChhKX07bXhYbWxDYW52YXMyRC5wcm90b3R5cGUuZm9ybWF0PWZ1bmN0aW9uKGEpe3JldHVybiBwYXJzZUZsb2F0KHBhcnNlRmxvYXQoYSkudG9GaXhlZCgyKSl9O214WG1sQ2FudmFzMkQucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucm9vdC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYSl9O214WG1sQ2FudmFzMkQucHJvdG90eXBlLnNhdmU9ZnVuY3Rpb24oKXt0aGlzLmNvbXByZXNzZWQmJm14QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc2F2ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5yb290LmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRWxlbWVudCgic2F2ZSIpKX07Cm14WG1sQ2FudmFzMkQucHJvdG90eXBlLnJlc3RvcmU9ZnVuY3Rpb24oKXt0aGlzLmNvbXByZXNzZWQmJm14QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUucmVzdG9yZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5yb290LmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRWxlbWVudCgicmVzdG9yZSIpKX07bXhYbWxDYW52YXMyRC5wcm90b3R5cGUuc2NhbGU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50KCJzY2FsZSIpO2Iuc2V0QXR0cmlidXRlKCJzY2FsZSIsYSk7dGhpcy5yb290LmFwcGVuZENoaWxkKGIpfTtteFhtbENhbnZhczJELnByb3RvdHlwZS50cmFuc2xhdGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmNyZWF0ZUVsZW1lbnQoInRyYW5zbGF0ZSIpO2Muc2V0QXR0cmlidXRlKCJkeCIsdGhpcy5mb3JtYXQoYSkpO2Muc2V0QXR0cmlidXRlKCJkeSIsdGhpcy5mb3JtYXQoYikpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChjKX07Cm14WG1sQ2FudmFzMkQucHJvdG90eXBlLnJvdGF0ZT1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPXRoaXMuY3JlYXRlRWxlbWVudCgicm90YXRlIik7aWYoMCE9YXx8Ynx8YylmLnNldEF0dHJpYnV0ZSgidGhldGEiLHRoaXMuZm9ybWF0KGEpKSxmLnNldEF0dHJpYnV0ZSgiZmxpcEgiLGI/IjEiOiIwIiksZi5zZXRBdHRyaWJ1dGUoImZsaXBWIixjPyIxIjoiMCIpLGYuc2V0QXR0cmlidXRlKCJjeCIsdGhpcy5mb3JtYXQoZCkpLGYuc2V0QXR0cmlidXRlKCJjeSIsdGhpcy5mb3JtYXQoZSkpLHRoaXMucm9vdC5hcHBlbmRDaGlsZChmKX07Cm14WG1sQ2FudmFzMkQucHJvdG90eXBlLnNldEFscGhhPWZ1bmN0aW9uKGEpe2lmKHRoaXMuY29tcHJlc3NlZCl7aWYodGhpcy5zdGF0ZS5hbHBoYT09YSlyZXR1cm47bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRBbHBoYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50KCJhbHBoYSIpO2Iuc2V0QXR0cmlidXRlKCJhbHBoYSIsdGhpcy5mb3JtYXQoYSkpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChiKX07bXhYbWxDYW52YXMyRC5wcm90b3R5cGUuc2V0RmlsbEFscGhhPWZ1bmN0aW9uKGEpe2lmKHRoaXMuY29tcHJlc3NlZCl7aWYodGhpcy5zdGF0ZS5maWxsQWxwaGE9PWEpcmV0dXJuO214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc2V0RmlsbEFscGhhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnQoImZpbGxhbHBoYSIpO2Iuc2V0QXR0cmlidXRlKCJhbHBoYSIsdGhpcy5mb3JtYXQoYSkpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChiKX07Cm14WG1sQ2FudmFzMkQucHJvdG90eXBlLnNldFN0cm9rZUFscGhhPWZ1bmN0aW9uKGEpe2lmKHRoaXMuY29tcHJlc3NlZCl7aWYodGhpcy5zdGF0ZS5zdHJva2VBbHBoYT09YSlyZXR1cm47bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRTdHJva2VBbHBoYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50KCJzdHJva2VhbHBoYSIpO2Iuc2V0QXR0cmlidXRlKCJhbHBoYSIsdGhpcy5mb3JtYXQoYSkpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChiKX07Cm14WG1sQ2FudmFzMkQucHJvdG90eXBlLnNldEZpbGxDb2xvcj1mdW5jdGlvbihhKXthPT1teENvbnN0YW50cy5OT05FJiYoYT1udWxsKTtpZih0aGlzLmNvbXByZXNzZWQpe2lmKHRoaXMuc3RhdGUuZmlsbENvbG9yPT1hKXJldHVybjtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldEZpbGxDb2xvci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50KCJmaWxsY29sb3IiKTtiLnNldEF0dHJpYnV0ZSgiY29sb3IiLG51bGwhPWE/YTpteENvbnN0YW50cy5OT05FKTt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQoYil9OwpteFhtbENhbnZhczJELnByb3RvdHlwZS5zZXRHcmFkaWVudD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGssbCl7aWYobnVsbCE9YSYmbnVsbCE9Yil7bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRHcmFkaWVudC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIG09dGhpcy5jcmVhdGVFbGVtZW50KCJncmFkaWVudCIpO20uc2V0QXR0cmlidXRlKCJjMSIsYSk7bS5zZXRBdHRyaWJ1dGUoImMyIixiKTttLnNldEF0dHJpYnV0ZSgieCIsdGhpcy5mb3JtYXQoYykpO20uc2V0QXR0cmlidXRlKCJ5Iix0aGlzLmZvcm1hdChkKSk7bS5zZXRBdHRyaWJ1dGUoInciLHRoaXMuZm9ybWF0KGUpKTttLnNldEF0dHJpYnV0ZSgiaCIsdGhpcy5mb3JtYXQoZikpO251bGwhPWcmJm0uc2V0QXR0cmlidXRlKCJkaXJlY3Rpb24iLGcpO251bGwhPWsmJm0uc2V0QXR0cmlidXRlKCJhbHBoYTEiLGspO251bGwhPWwmJm0uc2V0QXR0cmlidXRlKCJhbHBoYTIiLGwpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChtKX19OwpteFhtbENhbnZhczJELnByb3RvdHlwZS5zZXRTdHJva2VDb2xvcj1mdW5jdGlvbihhKXthPT1teENvbnN0YW50cy5OT05FJiYoYT1udWxsKTtpZih0aGlzLmNvbXByZXNzZWQpe2lmKHRoaXMuc3RhdGUuc3Ryb2tlQ29sb3I9PWEpcmV0dXJuO214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc2V0U3Ryb2tlQ29sb3IuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBiPXRoaXMuY3JlYXRlRWxlbWVudCgic3Ryb2tlY29sb3IiKTtiLnNldEF0dHJpYnV0ZSgiY29sb3IiLG51bGwhPWE/YTpteENvbnN0YW50cy5OT05FKTt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQoYil9OwpteFhtbENhbnZhczJELnByb3RvdHlwZS5zZXRTdHJva2VXaWR0aD1mdW5jdGlvbihhKXtpZih0aGlzLmNvbXByZXNzZWQpe2lmKHRoaXMuc3RhdGUuc3Ryb2tlV2lkdGg9PWEpcmV0dXJuO214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc2V0U3Ryb2tlV2lkdGguYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBiPXRoaXMuY3JlYXRlRWxlbWVudCgic3Ryb2tld2lkdGgiKTtiLnNldEF0dHJpYnV0ZSgid2lkdGgiLHRoaXMuZm9ybWF0KGEpKTt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQoYil9OwpteFhtbENhbnZhczJELnByb3RvdHlwZS5zZXREYXNoZWQ9ZnVuY3Rpb24oYSxiKXtpZih0aGlzLmNvbXByZXNzZWQpe2lmKHRoaXMuc3RhdGUuZGFzaGVkPT1hKXJldHVybjtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldERhc2hlZC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGM9dGhpcy5jcmVhdGVFbGVtZW50KCJkYXNoZWQiKTtjLnNldEF0dHJpYnV0ZSgiZGFzaGVkIixhPyIxIjoiMCIpO251bGwhPWImJmMuc2V0QXR0cmlidXRlKCJmaXhEYXNoIixiPyIxIjoiMCIpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChjKX07Cm14WG1sQ2FudmFzMkQucHJvdG90eXBlLnNldERhc2hQYXR0ZXJuPWZ1bmN0aW9uKGEpe2lmKHRoaXMuY29tcHJlc3NlZCl7aWYodGhpcy5zdGF0ZS5kYXNoUGF0dGVybj09YSlyZXR1cm47bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXREYXNoUGF0dGVybi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50KCJkYXNocGF0dGVybiIpO2Iuc2V0QXR0cmlidXRlKCJwYXR0ZXJuIixhKTt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQoYil9O214WG1sQ2FudmFzMkQucHJvdG90eXBlLnNldExpbmVDYXA9ZnVuY3Rpb24oYSl7aWYodGhpcy5jb21wcmVzc2VkKXtpZih0aGlzLnN0YXRlLmxpbmVDYXA9PWEpcmV0dXJuO214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc2V0TGluZUNhcC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50KCJsaW5lY2FwIik7Yi5zZXRBdHRyaWJ1dGUoImNhcCIsYSk7dGhpcy5yb290LmFwcGVuZENoaWxkKGIpfTsKbXhYbWxDYW52YXMyRC5wcm90b3R5cGUuc2V0TGluZUpvaW49ZnVuY3Rpb24oYSl7aWYodGhpcy5jb21wcmVzc2VkKXtpZih0aGlzLnN0YXRlLmxpbmVKb2luPT1hKXJldHVybjtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldExpbmVKb2luLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnQoImxpbmVqb2luIik7Yi5zZXRBdHRyaWJ1dGUoImpvaW4iLGEpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChiKX07bXhYbWxDYW52YXMyRC5wcm90b3R5cGUuc2V0TWl0ZXJMaW1pdD1mdW5jdGlvbihhKXtpZih0aGlzLmNvbXByZXNzZWQpe2lmKHRoaXMuc3RhdGUubWl0ZXJMaW1pdD09YSlyZXR1cm47bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRNaXRlckxpbWl0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnQoIm1pdGVybGltaXQiKTtiLnNldEF0dHJpYnV0ZSgibGltaXQiLGEpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChiKX07Cm14WG1sQ2FudmFzMkQucHJvdG90eXBlLnNldEZvbnRDb2xvcj1mdW5jdGlvbihhKXtpZih0aGlzLnRleHRFbmFibGVkKXthPT1teENvbnN0YW50cy5OT05FJiYoYT1udWxsKTtpZih0aGlzLmNvbXByZXNzZWQpe2lmKHRoaXMuc3RhdGUuZm9udENvbG9yPT1hKXJldHVybjtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldEZvbnRDb2xvci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50KCJmb250Y29sb3IiKTtiLnNldEF0dHJpYnV0ZSgiY29sb3IiLG51bGwhPWE/YTpteENvbnN0YW50cy5OT05FKTt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQoYil9fTsKbXhYbWxDYW52YXMyRC5wcm90b3R5cGUuc2V0Rm9udEJhY2tncm91bmRDb2xvcj1mdW5jdGlvbihhKXtpZih0aGlzLnRleHRFbmFibGVkKXthPT1teENvbnN0YW50cy5OT05FJiYoYT1udWxsKTtpZih0aGlzLmNvbXByZXNzZWQpe2lmKHRoaXMuc3RhdGUuZm9udEJhY2tncm91bmRDb2xvcj09YSlyZXR1cm47bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRGb250QmFja2dyb3VuZENvbG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnQoImZvbnRiYWNrZ3JvdW5kY29sb3IiKTtiLnNldEF0dHJpYnV0ZSgiY29sb3IiLG51bGwhPWE/YTpteENvbnN0YW50cy5OT05FKTt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQoYil9fTsKbXhYbWxDYW52YXMyRC5wcm90b3R5cGUuc2V0Rm9udEJvcmRlckNvbG9yPWZ1bmN0aW9uKGEpe2lmKHRoaXMudGV4dEVuYWJsZWQpe2E9PW14Q29uc3RhbnRzLk5PTkUmJihhPW51bGwpO2lmKHRoaXMuY29tcHJlc3NlZCl7aWYodGhpcy5zdGF0ZS5mb250Qm9yZGVyQ29sb3I9PWEpcmV0dXJuO214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc2V0Rm9udEJvcmRlckNvbG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnQoImZvbnRib3JkZXJjb2xvciIpO2Iuc2V0QXR0cmlidXRlKCJjb2xvciIsbnVsbCE9YT9hOm14Q29uc3RhbnRzLk5PTkUpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChiKX19OwpteFhtbENhbnZhczJELnByb3RvdHlwZS5zZXRGb250U2l6ZT1mdW5jdGlvbihhKXtpZih0aGlzLnRleHRFbmFibGVkKXtpZih0aGlzLmNvbXByZXNzZWQpe2lmKHRoaXMuc3RhdGUuZm9udFNpemU9PWEpcmV0dXJuO214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc2V0Rm9udFNpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBiPXRoaXMuY3JlYXRlRWxlbWVudCgiZm9udHNpemUiKTtiLnNldEF0dHJpYnV0ZSgic2l6ZSIsYSk7dGhpcy5yb290LmFwcGVuZENoaWxkKGIpfX07Cm14WG1sQ2FudmFzMkQucHJvdG90eXBlLnNldEZvbnRGYW1pbHk9ZnVuY3Rpb24oYSl7aWYodGhpcy50ZXh0RW5hYmxlZCl7aWYodGhpcy5jb21wcmVzc2VkKXtpZih0aGlzLnN0YXRlLmZvbnRGYW1pbHk9PWEpcmV0dXJuO214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc2V0Rm9udEZhbWlseS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50KCJmb250ZmFtaWx5Iik7Yi5zZXRBdHRyaWJ1dGUoImZhbWlseSIsYSk7dGhpcy5yb290LmFwcGVuZENoaWxkKGIpfX07Cm14WG1sQ2FudmFzMkQucHJvdG90eXBlLnNldEZvbnRTdHlsZT1mdW5jdGlvbihhKXtpZih0aGlzLnRleHRFbmFibGVkKXtudWxsPT1hJiYoYT0wKTtpZih0aGlzLmNvbXByZXNzZWQpe2lmKHRoaXMuc3RhdGUuZm9udFN0eWxlPT1hKXJldHVybjtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldEZvbnRTdHlsZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50KCJmb250c3R5bGUiKTtiLnNldEF0dHJpYnV0ZSgic3R5bGUiLGEpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChiKX19OwpteFhtbENhbnZhczJELnByb3RvdHlwZS5zZXRTaGFkb3c9ZnVuY3Rpb24oYSl7aWYodGhpcy5jb21wcmVzc2VkKXtpZih0aGlzLnN0YXRlLnNoYWRvdz09YSlyZXR1cm47bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRTaGFkb3cuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBiPXRoaXMuY3JlYXRlRWxlbWVudCgic2hhZG93Iik7Yi5zZXRBdHRyaWJ1dGUoImVuYWJsZWQiLGE/IjEiOiIwIik7dGhpcy5yb290LmFwcGVuZENoaWxkKGIpfTsKbXhYbWxDYW52YXMyRC5wcm90b3R5cGUuc2V0U2hhZG93Q29sb3I9ZnVuY3Rpb24oYSl7aWYodGhpcy5jb21wcmVzc2VkKXthPT1teENvbnN0YW50cy5OT05FJiYoYT1udWxsKTtpZih0aGlzLnN0YXRlLnNoYWRvd0NvbG9yPT1hKXJldHVybjtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldFNoYWRvd0NvbG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnQoInNoYWRvd2NvbG9yIik7Yi5zZXRBdHRyaWJ1dGUoImNvbG9yIixudWxsIT1hP2E6bXhDb25zdGFudHMuTk9ORSk7dGhpcy5yb290LmFwcGVuZENoaWxkKGIpfTsKbXhYbWxDYW52YXMyRC5wcm90b3R5cGUuc2V0U2hhZG93QWxwaGE9ZnVuY3Rpb24oYSl7aWYodGhpcy5jb21wcmVzc2VkKXtpZih0aGlzLnN0YXRlLnNoYWRvd0FscGhhPT1hKXJldHVybjtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldFNoYWRvd0FscGhhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnQoInNoYWRvd2FscGhhIik7Yi5zZXRBdHRyaWJ1dGUoImFscGhhIixhKTt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQoYil9OwpteFhtbENhbnZhczJELnByb3RvdHlwZS5zZXRTaGFkb3dPZmZzZXQ9ZnVuY3Rpb24oYSxiKXtpZih0aGlzLmNvbXByZXNzZWQpe2lmKHRoaXMuc3RhdGUuc2hhZG93RHg9PWEmJnRoaXMuc3RhdGUuc2hhZG93RHk9PWIpcmV0dXJuO214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc2V0U2hhZG93T2Zmc2V0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgYz10aGlzLmNyZWF0ZUVsZW1lbnQoInNoYWRvd29mZnNldCIpO2Muc2V0QXR0cmlidXRlKCJkeCIsYSk7Yy5zZXRBdHRyaWJ1dGUoImR5IixiKTt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQoYyl9OwpteFhtbENhbnZhczJELnByb3RvdHlwZS5yZWN0PWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXRoaXMuY3JlYXRlRWxlbWVudCgicmVjdCIpO2Uuc2V0QXR0cmlidXRlKCJ4Iix0aGlzLmZvcm1hdChhKSk7ZS5zZXRBdHRyaWJ1dGUoInkiLHRoaXMuZm9ybWF0KGIpKTtlLnNldEF0dHJpYnV0ZSgidyIsdGhpcy5mb3JtYXQoYykpO2Uuc2V0QXR0cmlidXRlKCJoIix0aGlzLmZvcm1hdChkKSk7dGhpcy5yb290LmFwcGVuZENoaWxkKGUpfTsKbXhYbWxDYW52YXMyRC5wcm90b3R5cGUucm91bmRyZWN0PWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZz10aGlzLmNyZWF0ZUVsZW1lbnQoInJvdW5kcmVjdCIpO2cuc2V0QXR0cmlidXRlKCJ4Iix0aGlzLmZvcm1hdChhKSk7Zy5zZXRBdHRyaWJ1dGUoInkiLHRoaXMuZm9ybWF0KGIpKTtnLnNldEF0dHJpYnV0ZSgidyIsdGhpcy5mb3JtYXQoYykpO2cuc2V0QXR0cmlidXRlKCJoIix0aGlzLmZvcm1hdChkKSk7Zy5zZXRBdHRyaWJ1dGUoImR4Iix0aGlzLmZvcm1hdChlKSk7Zy5zZXRBdHRyaWJ1dGUoImR5Iix0aGlzLmZvcm1hdChmKSk7dGhpcy5yb290LmFwcGVuZENoaWxkKGcpfTsKbXhYbWxDYW52YXMyRC5wcm90b3R5cGUuZWxsaXBzZT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT10aGlzLmNyZWF0ZUVsZW1lbnQoImVsbGlwc2UiKTtlLnNldEF0dHJpYnV0ZSgieCIsdGhpcy5mb3JtYXQoYSkpO2Uuc2V0QXR0cmlidXRlKCJ5Iix0aGlzLmZvcm1hdChiKSk7ZS5zZXRBdHRyaWJ1dGUoInciLHRoaXMuZm9ybWF0KGMpKTtlLnNldEF0dHJpYnV0ZSgiaCIsdGhpcy5mb3JtYXQoZCkpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChlKX07Cm14WG1sQ2FudmFzMkQucHJvdG90eXBlLmltYWdlPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsayl7ZT10aGlzLmNvbnZlcnRlci5jb252ZXJ0KGUpO3ZhciBsPXRoaXMuY3JlYXRlRWxlbWVudCgiaW1hZ2UiKTtsLnNldEF0dHJpYnV0ZSgieCIsdGhpcy5mb3JtYXQoYSkpO2wuc2V0QXR0cmlidXRlKCJ5Iix0aGlzLmZvcm1hdChiKSk7bC5zZXRBdHRyaWJ1dGUoInciLHRoaXMuZm9ybWF0KGMpKTtsLnNldEF0dHJpYnV0ZSgiaCIsdGhpcy5mb3JtYXQoZCkpO2wuc2V0QXR0cmlidXRlKCJzcmMiLGUpO2wuc2V0QXR0cmlidXRlKCJhc3BlY3QiLGY/IjEiOiIwIik7bC5zZXRBdHRyaWJ1dGUoImZsaXBIIixnPyIxIjoiMCIpO2wuc2V0QXR0cmlidXRlKCJmbGlwViIsaz8iMSI6IjAiKTt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQobCl9OwpteFhtbENhbnZhczJELnByb3RvdHlwZS5iZWdpbj1mdW5jdGlvbigpe3RoaXMucm9vdC5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUVsZW1lbnQoImJlZ2luIikpO3RoaXMubGFzdFk9dGhpcy5sYXN0WD0wfTtteFhtbENhbnZhczJELnByb3RvdHlwZS5tb3ZlVG89ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmNyZWF0ZUVsZW1lbnQoIm1vdmUiKTtjLnNldEF0dHJpYnV0ZSgieCIsdGhpcy5mb3JtYXQoYSkpO2Muc2V0QXR0cmlidXRlKCJ5Iix0aGlzLmZvcm1hdChiKSk7dGhpcy5yb290LmFwcGVuZENoaWxkKGMpO3RoaXMubGFzdFg9YTt0aGlzLmxhc3RZPWJ9OwpteFhtbENhbnZhczJELnByb3RvdHlwZS5saW5lVG89ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmNyZWF0ZUVsZW1lbnQoImxpbmUiKTtjLnNldEF0dHJpYnV0ZSgieCIsdGhpcy5mb3JtYXQoYSkpO2Muc2V0QXR0cmlidXRlKCJ5Iix0aGlzLmZvcm1hdChiKSk7dGhpcy5yb290LmFwcGVuZENoaWxkKGMpO3RoaXMubGFzdFg9YTt0aGlzLmxhc3RZPWJ9O214WG1sQ2FudmFzMkQucHJvdG90eXBlLnF1YWRUbz1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT10aGlzLmNyZWF0ZUVsZW1lbnQoInF1YWQiKTtlLnNldEF0dHJpYnV0ZSgieDEiLHRoaXMuZm9ybWF0KGEpKTtlLnNldEF0dHJpYnV0ZSgieTEiLHRoaXMuZm9ybWF0KGIpKTtlLnNldEF0dHJpYnV0ZSgieDIiLHRoaXMuZm9ybWF0KGMpKTtlLnNldEF0dHJpYnV0ZSgieTIiLHRoaXMuZm9ybWF0KGQpKTt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQoZSk7dGhpcy5sYXN0WD1jO3RoaXMubGFzdFk9ZH07Cm14WG1sQ2FudmFzMkQucHJvdG90eXBlLmN1cnZlVG89ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3ZhciBnPXRoaXMuY3JlYXRlRWxlbWVudCgiY3VydmUiKTtnLnNldEF0dHJpYnV0ZSgieDEiLHRoaXMuZm9ybWF0KGEpKTtnLnNldEF0dHJpYnV0ZSgieTEiLHRoaXMuZm9ybWF0KGIpKTtnLnNldEF0dHJpYnV0ZSgieDIiLHRoaXMuZm9ybWF0KGMpKTtnLnNldEF0dHJpYnV0ZSgieTIiLHRoaXMuZm9ybWF0KGQpKTtnLnNldEF0dHJpYnV0ZSgieDMiLHRoaXMuZm9ybWF0KGUpKTtnLnNldEF0dHJpYnV0ZSgieTMiLHRoaXMuZm9ybWF0KGYpKTt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQoZyk7dGhpcy5sYXN0WD1lO3RoaXMubGFzdFk9Zn07bXhYbWxDYW52YXMyRC5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVFbGVtZW50KCJjbG9zZSIpKX07Cm14WG1sQ2FudmFzMkQucHJvdG90eXBlLnRleHQ9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxrLGwsbSxuLHAscSl7aWYodGhpcy50ZXh0RW5hYmxlZCYmbnVsbCE9ZSl7bXhVdGlscy5pc05vZGUoZSkmJihlPW14VXRpbHMuZ2V0T3V0ZXJIdG1sKGUpKTt2YXIgcj10aGlzLmNyZWF0ZUVsZW1lbnQoInRleHQiKTtyLnNldEF0dHJpYnV0ZSgieCIsdGhpcy5mb3JtYXQoYSkpO3Iuc2V0QXR0cmlidXRlKCJ5Iix0aGlzLmZvcm1hdChiKSk7ci5zZXRBdHRyaWJ1dGUoInciLHRoaXMuZm9ybWF0KGMpKTtyLnNldEF0dHJpYnV0ZSgiaCIsdGhpcy5mb3JtYXQoZCkpO3Iuc2V0QXR0cmlidXRlKCJzdHIiLGUpO251bGwhPWYmJnIuc2V0QXR0cmlidXRlKCJhbGlnbiIsZik7bnVsbCE9ZyYmci5zZXRBdHRyaWJ1dGUoInZhbGlnbiIsZyk7ci5zZXRBdHRyaWJ1dGUoIndyYXAiLGs/IjEiOiIwIik7bnVsbD09bCYmKGw9IiIpO3Iuc2V0QXR0cmlidXRlKCJmb3JtYXQiLGwpO251bGwhPW0mJnIuc2V0QXR0cmlidXRlKCJvdmVyZmxvdyIsCm0pO251bGwhPW4mJnIuc2V0QXR0cmlidXRlKCJjbGlwIixuPyIxIjoiMCIpO251bGwhPXAmJnIuc2V0QXR0cmlidXRlKCJyb3RhdGlvbiIscCk7bnVsbCE9cSYmci5zZXRBdHRyaWJ1dGUoImRpciIscSk7dGhpcy5yb290LmFwcGVuZENoaWxkKHIpfX07bXhYbWxDYW52YXMyRC5wcm90b3R5cGUuc3Ryb2tlPWZ1bmN0aW9uKCl7dGhpcy5yb290LmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRWxlbWVudCgic3Ryb2tlIikpfTtteFhtbENhbnZhczJELnByb3RvdHlwZS5maWxsPWZ1bmN0aW9uKCl7dGhpcy5yb290LmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRWxlbWVudCgiZmlsbCIpKX07bXhYbWxDYW52YXMyRC5wcm90b3R5cGUuZmlsbEFuZFN0cm9rZT1mdW5jdGlvbigpe3RoaXMucm9vdC5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUVsZW1lbnQoImZpbGxzdHJva2UiKSl9OwpmdW5jdGlvbiBteFN2Z0NhbnZhczJEKGEsYil7bXhBYnN0cmFjdENhbnZhczJELmNhbGwodGhpcyk7dGhpcy5yb290PWE7dGhpcy5ncmFkaWVudHM9W107dGhpcy5kZWZzPW51bGw7dGhpcy5zdHlsZUVuYWJsZWQ9bnVsbCE9Yj9iOiExO3ZhciBjPW51bGw7aWYoYS5vd25lckRvY3VtZW50IT1kb2N1bWVudClmb3IoYz1hO251bGwhPWMmJiJzdmciIT1jLm5vZGVOYW1lOyljPWMucGFyZW50Tm9kZTtudWxsIT1jJiYoMDxjLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkZWZzIikubGVuZ3RoJiYodGhpcy5kZWZzPWMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRlZnMiKVswXSksbnVsbD09dGhpcy5kZWZzJiYodGhpcy5kZWZzPXRoaXMuY3JlYXRlRWxlbWVudCgiZGVmcyIpLG51bGwhPWMuZmlyc3RDaGlsZD9jLmluc2VydEJlZm9yZSh0aGlzLmRlZnMsYy5maXJzdENoaWxkKTpjLmFwcGVuZENoaWxkKHRoaXMuZGVmcykpLHRoaXMuc3R5bGVFbmFibGVkJiZ0aGlzLmRlZnMuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVTdHlsZSgpKSl9Cm14VXRpbHMuZXh0ZW5kKG14U3ZnQ2FudmFzMkQsbXhBYnN0cmFjdENhbnZhczJEKTsoZnVuY3Rpb24oKXtteFN2Z0NhbnZhczJELnByb3RvdHlwZS51c2VEb21QYXJzZXI9IW14Q2xpZW50LklTX0lFJiYiZnVuY3Rpb24iPT09dHlwZW9mIERPTVBhcnNlciYmImZ1bmN0aW9uIj09PXR5cGVvZiBYTUxTZXJpYWxpemVyO2lmKG14U3ZnQ2FudmFzMkQucHJvdG90eXBlLnVzZURvbVBhcnNlcil0cnl7dmFyIGE9KG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZygidGVzdCB0ZXh0IiwidGV4dC9odG1sIik7bXhTdmdDYW52YXMyRC5wcm90b3R5cGUudXNlRG9tUGFyc2VyPW51bGwhPWF9Y2F0Y2goYil7bXhTdmdDYW52YXMyRC5wcm90b3R5cGUudXNlRG9tUGFyc2VyPSExfX0pKCk7bXhTdmdDYW52YXMyRC5wcm90b3R5cGUubm9kZT1udWxsO214U3ZnQ2FudmFzMkQucHJvdG90eXBlLm1hdGNoSHRtbEFsaWdubWVudD0hMDsKbXhTdmdDYW52YXMyRC5wcm90b3R5cGUudGV4dEVuYWJsZWQ9ITA7bXhTdmdDYW52YXMyRC5wcm90b3R5cGUuZm9FbmFibGVkPSEwO214U3ZnQ2FudmFzMkQucHJvdG90eXBlLmZvQWx0VGV4dD0iW09iamVjdF0iO214U3ZnQ2FudmFzMkQucHJvdG90eXBlLmZvT2Zmc2V0PTA7bXhTdmdDYW52YXMyRC5wcm90b3R5cGUudGV4dE9mZnNldD0wO214U3ZnQ2FudmFzMkQucHJvdG90eXBlLmltYWdlT2Zmc2V0PTA7bXhTdmdDYW52YXMyRC5wcm90b3R5cGUuc3Ryb2tlVG9sZXJhbmNlPTA7bXhTdmdDYW52YXMyRC5wcm90b3R5cGUubWluU3Ryb2tlV2lkdGg9MTtteFN2Z0NhbnZhczJELnByb3RvdHlwZS5yZWZDb3VudD0wO214U3ZnQ2FudmFzMkQucHJvdG90eXBlLmxpbmVIZWlnaHRDb3JyZWN0aW9uPTE7bXhTdmdDYW52YXMyRC5wcm90b3R5cGUucG9pbnRlckV2ZW50c1ZhbHVlPSJhbGwiO214U3ZnQ2FudmFzMkQucHJvdG90eXBlLmZvbnRNZXRyaWNzUGFkZGluZz0xMDsKbXhTdmdDYW52YXMyRC5wcm90b3R5cGUuY2FjaGVPZmZzZXRTaXplPSEwO214U3ZnQ2FudmFzMkQucHJvdG90eXBlLmZvcm1hdD1mdW5jdGlvbihhKXtyZXR1cm4gcGFyc2VGbG9hdChwYXJzZUZsb2F0KGEpLnRvRml4ZWQoMikpfTtteFN2Z0NhbnZhczJELnByb3RvdHlwZS5nZXRCYXNlVXJsPWZ1bmN0aW9uKCl7dmFyIGE9d2luZG93LmxvY2F0aW9uLmhyZWYsYj1hLmxhc3RJbmRleE9mKCIjIik7MDxiJiYoYT1hLnN1YnN0cmluZygwLGIpKTtyZXR1cm4gYX07bXhTdmdDYW52YXMyRC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnJlc2V0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmdyYWRpZW50cz1bXX07Cm14U3ZnQ2FudmFzMkQucHJvdG90eXBlLmNyZWF0ZVN0eWxlPWZ1bmN0aW9uKGEpe2E9dGhpcy5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO2Euc2V0QXR0cmlidXRlKCJ0eXBlIiwidGV4dC9jc3MiKTtteFV0aWxzLndyaXRlKGEsInN2Z3tmb250LWZhbWlseToiK214Q29uc3RhbnRzLkRFRkFVTFRfRk9OVEZBTUlMWSsiO2ZvbnQtc2l6ZToiK214Q29uc3RhbnRzLkRFRkFVTFRfRk9OVFNJWkUrIjtmaWxsOm5vbmU7c3Ryb2tlLW1pdGVybGltaXQ6MTB9Iik7cmV0dXJuIGF9OwpteFN2Z0NhbnZhczJELnByb3RvdHlwZS5jcmVhdGVFbGVtZW50PWZ1bmN0aW9uKGEsYil7aWYobnVsbCE9dGhpcy5yb290Lm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKXJldHVybiB0aGlzLnJvb3Qub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoYnx8bXhDb25zdGFudHMuTlNfU1ZHLGEpO3ZhciBjPXRoaXMucm9vdC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYSk7bnVsbCE9YiYmYy5zZXRBdHRyaWJ1dGUoInhtbG5zIixiKTtyZXR1cm4gY307bXhTdmdDYW52YXMyRC5wcm90b3R5cGUuZ2V0QWx0ZXJuYXRlVGV4dD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGssbCxtLG4scCxxKXtyZXR1cm4gbnVsbCE9Zj90aGlzLmZvQWx0VGV4dDpudWxsfTsKbXhTdmdDYW52YXMyRC5wcm90b3R5cGUuY3JlYXRlQWx0ZXJuYXRlQ29udGVudD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGssbCxtLG4scCxxKXthPXRoaXMuZ2V0QWx0ZXJuYXRlVGV4dChhLGIsYyxkLGUsZixnLGssbCxtLG4scCxxKTtkPXRoaXMuc3RhdGU7cmV0dXJuIG51bGwhPWEmJjA8ZC5mb250U2l6ZT8oaz1rPT1teENvbnN0YW50cy5BTElHTl9UT1A/MTprPT1teENvbnN0YW50cy5BTElHTl9CT1RUT00/MDouMyxlPWc9PW14Q29uc3RhbnRzLkFMSUdOX1JJR0hUPyJlbmQiOmc9PW14Q29uc3RhbnRzLkFMSUdOX0xFRlQ/InN0YXJ0IjoibWlkZGxlIixnPXRoaXMuY3JlYXRlRWxlbWVudCgidGV4dCIpLGcuc2V0QXR0cmlidXRlKCJ4IixNYXRoLnJvdW5kKGIrZC5keCkpLGcuc2V0QXR0cmlidXRlKCJ5IixNYXRoLnJvdW5kKGMrZC5keStrKmQuZm9udFNpemUpKSxnLnNldEF0dHJpYnV0ZSgiZmlsbCIsZC5mb250Q29sb3J8fCJibGFjayIpLGcuc2V0QXR0cmlidXRlKCJmb250LWZhbWlseSIsCmQuZm9udEZhbWlseSksZy5zZXRBdHRyaWJ1dGUoImZvbnQtc2l6ZSIsTWF0aC5yb3VuZChkLmZvbnRTaXplKSsicHgiKSwic3RhcnQiIT1lJiZnLnNldEF0dHJpYnV0ZSgidGV4dC1hbmNob3IiLGUpLChkLmZvbnRTdHlsZSZteENvbnN0YW50cy5GT05UX0JPTEQpPT1teENvbnN0YW50cy5GT05UX0JPTEQmJmcuc2V0QXR0cmlidXRlKCJmb250LXdlaWdodCIsImJvbGQiKSwoZC5mb250U3R5bGUmbXhDb25zdGFudHMuRk9OVF9JVEFMSUMpPT1teENvbnN0YW50cy5GT05UX0lUQUxJQyYmZy5zZXRBdHRyaWJ1dGUoImZvbnQtc3R5bGUiLCJpdGFsaWMiKSxiPVtdLChkLmZvbnRTdHlsZSZteENvbnN0YW50cy5GT05UX1VOREVSTElORSk9PW14Q29uc3RhbnRzLkZPTlRfVU5ERVJMSU5FJiZiLnB1c2goInVuZGVybGluZSIpLChkLmZvbnRTdHlsZSZteENvbnN0YW50cy5GT05UX1NUUklLRVRIUk9VR0gpPT1teENvbnN0YW50cy5GT05UX1NUUklLRVRIUk9VR0gmJmIucHVzaCgibGluZS10aHJvdWdoIiksCjA8Yi5sZW5ndGgmJmcuc2V0QXR0cmlidXRlKCJ0ZXh0LWRlY29yYXRpb24iLGIuam9pbigiICIpKSxteFV0aWxzLndyaXRlKGcsYSksZyk6bnVsbH07bXhTdmdDYW52YXMyRC5wcm90b3R5cGUuY3JlYXRlR3JhZGllbnRJZD1mdW5jdGlvbihhLGIsYyxkLGUpeyIjIj09YS5jaGFyQXQoMCkmJihhPWEuc3Vic3RyaW5nKDEpKTsiIyI9PWIuY2hhckF0KDApJiYoYj1iLnN1YnN0cmluZygxKSk7YT1hLnRvTG93ZXJDYXNlKCkrIi0iK2M7Yj1iLnRvTG93ZXJDYXNlKCkrIi0iK2Q7Yz1udWxsO251bGw9PWV8fGU9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSD9jPSJzIjplPT1teENvbnN0YW50cy5ESVJFQ1RJT05fRUFTVD9jPSJlIjooZD1hLGE9YixiPWQsZT09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIP2M9InMiOmU9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9XRVNUJiYoYz0iZSIpKTtyZXR1cm4ibXgtZ3JhZGllbnQtIithKyItIitiKyItIitjfTsKbXhTdmdDYW52YXMyRC5wcm90b3R5cGUuZ2V0U3ZnR3JhZGllbnQ9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj10aGlzLmNyZWF0ZUdyYWRpZW50SWQoYSxiLGMsZCxlKSxnPXRoaXMuZ3JhZGllbnRzW2ZdO2lmKG51bGw9PWcpe3ZhciBrPXRoaXMucm9vdC5vd25lclNWR0VsZW1lbnQsbD0wLG09ZisiLSIrbDtpZihudWxsIT1rKWZvcihnPWsub3duZXJEb2N1bWVudC5nZXRFbGVtZW50QnlJZChtKTtudWxsIT1nJiZnLm93bmVyU1ZHRWxlbWVudCE9azspbT1mKyItIitsKyssZz1rLm93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobSk7ZWxzZSBtPSJpZCIrICsrdGhpcy5yZWZDb3VudDtudWxsPT1nJiYoZz10aGlzLmNyZWF0ZVN2Z0dyYWRpZW50KGEsYixjLGQsZSksZy5zZXRBdHRyaWJ1dGUoImlkIixtKSxudWxsIT10aGlzLmRlZnM/dGhpcy5kZWZzLmFwcGVuZENoaWxkKGcpOmsuYXBwZW5kQ2hpbGQoZykpO3RoaXMuZ3JhZGllbnRzW2ZdPWd9cmV0dXJuIGcuZ2V0QXR0cmlidXRlKCJpZCIpfTsKbXhTdmdDYW52YXMyRC5wcm90b3R5cGUuY3JlYXRlU3ZnR3JhZGllbnQ9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj10aGlzLmNyZWF0ZUVsZW1lbnQoImxpbmVhckdyYWRpZW50Iik7Zi5zZXRBdHRyaWJ1dGUoIngxIiwiMCUiKTtmLnNldEF0dHJpYnV0ZSgieTEiLCIwJSIpO2Yuc2V0QXR0cmlidXRlKCJ4MiIsIjAlIik7Zi5zZXRBdHRyaWJ1dGUoInkyIiwiMCUiKTtudWxsPT1lfHxlPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEg/Zi5zZXRBdHRyaWJ1dGUoInkyIiwiMTAwJSIpOmU9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9FQVNUP2Yuc2V0QXR0cmlidXRlKCJ4MiIsIjEwMCUiKTplPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEg/Zi5zZXRBdHRyaWJ1dGUoInkxIiwiMTAwJSIpOmU9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9XRVNUJiZmLnNldEF0dHJpYnV0ZSgieDEiLCIxMDAlIik7Yz0xPmM/IjtzdG9wLW9wYWNpdHk6IitjOiIiO2U9dGhpcy5jcmVhdGVFbGVtZW50KCJzdG9wIik7CmUuc2V0QXR0cmlidXRlKCJvZmZzZXQiLCIwJSIpO2Uuc2V0QXR0cmlidXRlKCJzdHlsZSIsInN0b3AtY29sb3I6IithK2MpO2YuYXBwZW5kQ2hpbGQoZSk7Yz0xPmQ/IjtzdG9wLW9wYWNpdHk6IitkOiIiO2U9dGhpcy5jcmVhdGVFbGVtZW50KCJzdG9wIik7ZS5zZXRBdHRyaWJ1dGUoIm9mZnNldCIsIjEwMCUiKTtlLnNldEF0dHJpYnV0ZSgic3R5bGUiLCJzdG9wLWNvbG9yOiIrYitjKTtmLmFwcGVuZENoaWxkKGUpO3JldHVybiBmfTsKbXhTdmdDYW52YXMyRC5wcm90b3R5cGUuYWRkTm9kZT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMubm9kZSxkPXRoaXMuc3RhdGU7aWYobnVsbCE9Yyl7aWYoInBhdGgiPT1jLm5vZGVOYW1lKWlmKG51bGwhPXRoaXMucGF0aCYmMDx0aGlzLnBhdGgubGVuZ3RoKWMuc2V0QXR0cmlidXRlKCJkIix0aGlzLnBhdGguam9pbigiICIpKTtlbHNlIHJldHVybjthJiZudWxsIT1kLmZpbGxDb2xvcj90aGlzLnVwZGF0ZUZpbGwoKTp0aGlzLnN0eWxlRW5hYmxlZHx8KCJlbGxpcHNlIj09Yy5ub2RlTmFtZSYmbXhDbGllbnQuSVNfRkY/Yy5zZXRBdHRyaWJ1dGUoImZpbGwiLCJ0cmFuc3BhcmVudCIpOmMuc2V0QXR0cmlidXRlKCJmaWxsIiwibm9uZSIpLGE9ITEpO2ImJm51bGwhPWQuc3Ryb2tlQ29sb3I/dGhpcy51cGRhdGVTdHJva2UoKTp0aGlzLnN0eWxlRW5hYmxlZHx8Yy5zZXRBdHRyaWJ1dGUoInN0cm9rZSIsIm5vbmUiKTtudWxsIT1kLnRyYW5zZm9ybSYmMDxkLnRyYW5zZm9ybS5sZW5ndGgmJgpjLnNldEF0dHJpYnV0ZSgidHJhbnNmb3JtIixkLnRyYW5zZm9ybSk7ZC5zaGFkb3cmJnRoaXMucm9vdC5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZVNoYWRvdyhjKSk7MDx0aGlzLnN0cm9rZVRvbGVyYW5jZSYmIWEmJnRoaXMucm9vdC5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZVRvbGVyYW5jZShjKSk7dGhpcy5wb2ludGVyRXZlbnRzP2Muc2V0QXR0cmlidXRlKCJwb2ludGVyLWV2ZW50cyIsdGhpcy5wb2ludGVyRXZlbnRzVmFsdWUpOnRoaXMucG9pbnRlckV2ZW50c3x8bnVsbCE9dGhpcy5vcmlnaW5hbFJvb3R8fGMuc2V0QXR0cmlidXRlKCJwb2ludGVyLWV2ZW50cyIsIm5vbmUiKTsoInJlY3QiIT1jLm5vZGVOYW1lJiYicGF0aCIhPWMubm9kZU5hbWUmJiJlbGxpcHNlIiE9Yy5ub2RlTmFtZXx8Im5vbmUiIT1jLmdldEF0dHJpYnV0ZSgiZmlsbCIpJiYidHJhbnNwYXJlbnQiIT1jLmdldEF0dHJpYnV0ZSgiZmlsbCIpfHwibm9uZSIhPWMuZ2V0QXR0cmlidXRlKCJzdHJva2UiKXx8Im5vbmUiIT0KYy5nZXRBdHRyaWJ1dGUoInBvaW50ZXItZXZlbnRzIikpJiZ0aGlzLnJvb3QuYXBwZW5kQ2hpbGQoYyk7dGhpcy5ub2RlPW51bGx9fTsKbXhTdmdDYW52YXMyRC5wcm90b3R5cGUudXBkYXRlRmlsbD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuc3RhdGU7KDE+YS5hbHBoYXx8MT5hLmZpbGxBbHBoYSkmJnRoaXMubm9kZS5zZXRBdHRyaWJ1dGUoImZpbGwtb3BhY2l0eSIsYS5hbHBoYSphLmZpbGxBbHBoYSk7aWYobnVsbCE9YS5maWxsQ29sb3IpaWYobnVsbCE9YS5ncmFkaWVudENvbG9yKWlmKGE9dGhpcy5nZXRTdmdHcmFkaWVudChTdHJpbmcoYS5maWxsQ29sb3IpLFN0cmluZyhhLmdyYWRpZW50Q29sb3IpLGEuZ3JhZGllbnRGaWxsQWxwaGEsYS5ncmFkaWVudEFscGhhLGEuZ3JhZGllbnREaXJlY3Rpb24pLG14Q2xpZW50LklTX0NIUk9NRUFQUHx8bXhDbGllbnQuSVNfSUV8fG14Q2xpZW50LklTX0lFMTF8fG14Q2xpZW50LklTX0VER0V8fHRoaXMucm9vdC5vd25lckRvY3VtZW50IT1kb2N1bWVudCl0aGlzLm5vZGUuc2V0QXR0cmlidXRlKCJmaWxsIiwidXJsKCMiK2ErIikiKTtlbHNle3ZhciBiPXRoaXMuZ2V0QmFzZVVybCgpLnJlcGxhY2UoLyhbXChcKV0pL2csCiJcXCQxIik7dGhpcy5ub2RlLnNldEF0dHJpYnV0ZSgiZmlsbCIsInVybCgiK2IrIiMiK2ErIikiKX1lbHNlIHRoaXMubm9kZS5zZXRBdHRyaWJ1dGUoImZpbGwiLFN0cmluZyhhLmZpbGxDb2xvcikudG9Mb3dlckNhc2UoKSl9O214U3ZnQ2FudmFzMkQucHJvdG90eXBlLmdldEN1cnJlbnRTdHJva2VXaWR0aD1mdW5jdGlvbigpe3JldHVybiBNYXRoLm1heCh0aGlzLm1pblN0cm9rZVdpZHRoLE1hdGgubWF4KC4wMSx0aGlzLmZvcm1hdCh0aGlzLnN0YXRlLnN0cm9rZVdpZHRoKnRoaXMuc3RhdGUuc2NhbGUpKSl9OwpteFN2Z0NhbnZhczJELnByb3RvdHlwZS51cGRhdGVTdHJva2U9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnN0YXRlO3RoaXMubm9kZS5zZXRBdHRyaWJ1dGUoInN0cm9rZSIsU3RyaW5nKGEuc3Ryb2tlQ29sb3IpLnRvTG93ZXJDYXNlKCkpOygxPmEuYWxwaGF8fDE+YS5zdHJva2VBbHBoYSkmJnRoaXMubm9kZS5zZXRBdHRyaWJ1dGUoInN0cm9rZS1vcGFjaXR5IixhLmFscGhhKmEuc3Ryb2tlQWxwaGEpO3ZhciBiPXRoaXMuZ2V0Q3VycmVudFN0cm9rZVdpZHRoKCk7MSE9YiYmdGhpcy5ub2RlLnNldEF0dHJpYnV0ZSgic3Ryb2tlLXdpZHRoIixiKTsicGF0aCI9PXRoaXMubm9kZS5ub2RlTmFtZSYmdGhpcy51cGRhdGVTdHJva2VBdHRyaWJ1dGVzKCk7YS5kYXNoZWQmJnRoaXMubm9kZS5zZXRBdHRyaWJ1dGUoInN0cm9rZS1kYXNoYXJyYXkiLHRoaXMuY3JlYXRlRGFzaFBhdHRlcm4oKGEuZml4RGFzaD8xOmEuc3Ryb2tlV2lkdGgpKmEuc2NhbGUpKX07Cm14U3ZnQ2FudmFzMkQucHJvdG90eXBlLnVwZGF0ZVN0cm9rZUF0dHJpYnV0ZXM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnN0YXRlO251bGwhPWEubGluZUpvaW4mJiJtaXRlciIhPWEubGluZUpvaW4mJnRoaXMubm9kZS5zZXRBdHRyaWJ1dGUoInN0cm9rZS1saW5lam9pbiIsYS5saW5lSm9pbik7aWYobnVsbCE9YS5saW5lQ2FwKXt2YXIgYj1hLmxpbmVDYXA7ImZsYXQiPT1iJiYoYj0iYnV0dCIpOyJidXR0IiE9YiYmdGhpcy5ub2RlLnNldEF0dHJpYnV0ZSgic3Ryb2tlLWxpbmVjYXAiLGIpfW51bGw9PWEubWl0ZXJMaW1pdHx8dGhpcy5zdHlsZUVuYWJsZWQmJjEwPT1hLm1pdGVyTGltaXR8fHRoaXMubm9kZS5zZXRBdHRyaWJ1dGUoInN0cm9rZS1taXRlcmxpbWl0IixhLm1pdGVyTGltaXQpfTsKbXhTdmdDYW52YXMyRC5wcm90b3R5cGUuY3JlYXRlRGFzaFBhdHRlcm49ZnVuY3Rpb24oYSl7dmFyIGI9W107aWYoInN0cmluZyI9PT10eXBlb2YgdGhpcy5zdGF0ZS5kYXNoUGF0dGVybil7dmFyIGM9dGhpcy5zdGF0ZS5kYXNoUGF0dGVybi5zcGxpdCgiICIpO2lmKDA8Yy5sZW5ndGgpZm9yKHZhciBkPTA7ZDxjLmxlbmd0aDtkKyspYltkXT1OdW1iZXIoY1tkXSkqYX1yZXR1cm4gYi5qb2luKCIgIil9OwpteFN2Z0NhbnZhczJELnByb3RvdHlwZS5jcmVhdGVUb2xlcmFuY2U9ZnVuY3Rpb24oYSl7YT1hLmNsb25lTm9kZSghMCk7dmFyIGI9cGFyc2VGbG9hdChhLmdldEF0dHJpYnV0ZSgic3Ryb2tlLXdpZHRoIil8fDEpK3RoaXMuc3Ryb2tlVG9sZXJhbmNlO2Euc2V0QXR0cmlidXRlKCJwb2ludGVyLWV2ZW50cyIsInN0cm9rZSIpO2Euc2V0QXR0cmlidXRlKCJ2aXNpYmlsaXR5IiwiaGlkZGVuIik7YS5yZW1vdmVBdHRyaWJ1dGUoInN0cm9rZS1kYXNoYXJyYXkiKTthLnNldEF0dHJpYnV0ZSgic3Ryb2tlLXdpZHRoIixiKTthLnNldEF0dHJpYnV0ZSgiZmlsbCIsIm5vbmUiKTthLnNldEF0dHJpYnV0ZSgic3Ryb2tlIixteENsaWVudC5JU19PVD8ibm9uZSI6IndoaXRlIik7cmV0dXJuIGF9OwpteFN2Z0NhbnZhczJELnByb3RvdHlwZS5jcmVhdGVTaGFkb3c9ZnVuY3Rpb24oYSl7YT1hLmNsb25lTm9kZSghMCk7dmFyIGI9dGhpcy5zdGF0ZTsibm9uZSI9PWEuZ2V0QXR0cmlidXRlKCJmaWxsIil8fG14Q2xpZW50LklTX0ZGJiYidHJhbnNwYXJlbnQiPT1hLmdldEF0dHJpYnV0ZSgiZmlsbCIpfHxhLnNldEF0dHJpYnV0ZSgiZmlsbCIsYi5zaGFkb3dDb2xvcik7Im5vbmUiIT1hLmdldEF0dHJpYnV0ZSgic3Ryb2tlIikmJmEuc2V0QXR0cmlidXRlKCJzdHJva2UiLGIuc2hhZG93Q29sb3IpO2Euc2V0QXR0cmlidXRlKCJ0cmFuc2Zvcm0iLCJ0cmFuc2xhdGUoIit0aGlzLmZvcm1hdChiLnNoYWRvd0R4KmIuc2NhbGUpKyIsIit0aGlzLmZvcm1hdChiLnNoYWRvd0R5KmIuc2NhbGUpKyIpIisoYi50cmFuc2Zvcm18fCIiKSk7YS5zZXRBdHRyaWJ1dGUoIm9wYWNpdHkiLGIuc2hhZG93QWxwaGEpO3JldHVybiBhfTsKbXhTdmdDYW52YXMyRC5wcm90b3R5cGUuc2V0TGluaz1mdW5jdGlvbihhKXtpZihudWxsPT1hKXRoaXMucm9vdD10aGlzLm9yaWdpbmFsUm9vdDtlbHNle3RoaXMub3JpZ2luYWxSb290PXRoaXMucm9vdDt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnQoImEiKTtudWxsPT1iLnNldEF0dHJpYnV0ZU5TfHx0aGlzLnJvb3Qub3duZXJEb2N1bWVudCE9ZG9jdW1lbnQmJm51bGw9PWRvY3VtZW50LmRvY3VtZW50TW9kZT9iLnNldEF0dHJpYnV0ZSgieGxpbms6aHJlZiIsYSk6Yi5zZXRBdHRyaWJ1dGVOUyhteENvbnN0YW50cy5OU19YTElOSywieGxpbms6aHJlZiIsYSk7dGhpcy5yb290LmFwcGVuZENoaWxkKGIpO3RoaXMucm9vdD1ifX07Cm14U3ZnQ2FudmFzMkQucHJvdG90eXBlLnJvdGF0ZT1mdW5jdGlvbihhLGIsYyxkLGUpe2lmKDAhPWF8fGJ8fGMpe3ZhciBmPXRoaXMuc3RhdGU7ZCs9Zi5keDtlKz1mLmR5O2QqPWYuc2NhbGU7ZSo9Zi5zY2FsZTtmLnRyYW5zZm9ybT1mLnRyYW5zZm9ybXx8IiI7aWYoYiYmYylhKz0xODA7ZWxzZSBpZihiIT1jKXt2YXIgZz1iP2Q6MCxrPWI/LTE6MSxsPWM/ZTowLG09Yz8tMToxO2YudHJhbnNmb3JtKz0idHJhbnNsYXRlKCIrdGhpcy5mb3JtYXQoZykrIiwiK3RoaXMuZm9ybWF0KGwpKyIpc2NhbGUoIit0aGlzLmZvcm1hdChrKSsiLCIrdGhpcy5mb3JtYXQobSkrIil0cmFuc2xhdGUoIit0aGlzLmZvcm1hdCgtZykrIiwiK3RoaXMuZm9ybWF0KC1sKSsiKSJ9aWYoYj8hYzpjKWEqPS0xOzAhPWEmJihmLnRyYW5zZm9ybSs9InJvdGF0ZSgiK3RoaXMuZm9ybWF0KGEpKyIsIit0aGlzLmZvcm1hdChkKSsiLCIrdGhpcy5mb3JtYXQoZSkrIikiKTtmLnJvdGF0aW9uKz1hO2Yucm90YXRpb25DeD0KZDtmLnJvdGF0aW9uQ3k9ZX19O214U3ZnQ2FudmFzMkQucHJvdG90eXBlLmJlZ2luPWZ1bmN0aW9uKCl7bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5iZWdpbi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5ub2RlPXRoaXMuY3JlYXRlRWxlbWVudCgicGF0aCIpfTtteFN2Z0NhbnZhczJELnByb3RvdHlwZS5yZWN0PWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXRoaXMuc3RhdGUsZj10aGlzLmNyZWF0ZUVsZW1lbnQoInJlY3QiKTtmLnNldEF0dHJpYnV0ZSgieCIsdGhpcy5mb3JtYXQoKGErZS5keCkqZS5zY2FsZSkpO2Yuc2V0QXR0cmlidXRlKCJ5Iix0aGlzLmZvcm1hdCgoYitlLmR5KSplLnNjYWxlKSk7Zi5zZXRBdHRyaWJ1dGUoIndpZHRoIix0aGlzLmZvcm1hdChjKmUuc2NhbGUpKTtmLnNldEF0dHJpYnV0ZSgiaGVpZ2h0Iix0aGlzLmZvcm1hdChkKmUuc2NhbGUpKTt0aGlzLm5vZGU9Zn07Cm14U3ZnQ2FudmFzMkQucHJvdG90eXBlLnJvdW5kcmVjdD1mdW5jdGlvbihhLGIsYyxkLGUsZil7dGhpcy5yZWN0KGEsYixjLGQpOzA8ZSYmdGhpcy5ub2RlLnNldEF0dHJpYnV0ZSgicngiLHRoaXMuZm9ybWF0KGUqdGhpcy5zdGF0ZS5zY2FsZSkpOzA8ZiYmdGhpcy5ub2RlLnNldEF0dHJpYnV0ZSgicnkiLHRoaXMuZm9ybWF0KGYqdGhpcy5zdGF0ZS5zY2FsZSkpfTtteFN2Z0NhbnZhczJELnByb3RvdHlwZS5lbGxpcHNlPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXRoaXMuc3RhdGUsZj10aGlzLmNyZWF0ZUVsZW1lbnQoImVsbGlwc2UiKTtmLnNldEF0dHJpYnV0ZSgiY3giLHRoaXMuZm9ybWF0KChhK2MvMitlLmR4KSplLnNjYWxlKSk7Zi5zZXRBdHRyaWJ1dGUoImN5Iix0aGlzLmZvcm1hdCgoYitkLzIrZS5keSkqZS5zY2FsZSkpO2Yuc2V0QXR0cmlidXRlKCJyeCIsYy8yKmUuc2NhbGUpO2Yuc2V0QXR0cmlidXRlKCJyeSIsZC8yKmUuc2NhbGUpO3RoaXMubm9kZT1mfTsKbXhTdmdDYW52YXMyRC5wcm90b3R5cGUuaW1hZ2U9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxrKXtlPXRoaXMuY29udmVydGVyLmNvbnZlcnQoZSk7Zj1udWxsIT1mP2Y6ITA7Zz1udWxsIT1nP2c6ITE7az1udWxsIT1rP2s6ITE7dmFyIGw9dGhpcy5zdGF0ZTthKz1sLmR4O2IrPWwuZHk7dmFyIG09dGhpcy5jcmVhdGVFbGVtZW50KCJpbWFnZSIpO20uc2V0QXR0cmlidXRlKCJ4Iix0aGlzLmZvcm1hdChhKmwuc2NhbGUpK3RoaXMuaW1hZ2VPZmZzZXQpO20uc2V0QXR0cmlidXRlKCJ5Iix0aGlzLmZvcm1hdChiKmwuc2NhbGUpK3RoaXMuaW1hZ2VPZmZzZXQpO20uc2V0QXR0cmlidXRlKCJ3aWR0aCIsdGhpcy5mb3JtYXQoYypsLnNjYWxlKSk7bS5zZXRBdHRyaWJ1dGUoImhlaWdodCIsdGhpcy5mb3JtYXQoZCpsLnNjYWxlKSk7bnVsbD09bS5zZXRBdHRyaWJ1dGVOUz9tLnNldEF0dHJpYnV0ZSgieGxpbms6aHJlZiIsZSk6bS5zZXRBdHRyaWJ1dGVOUyhteENvbnN0YW50cy5OU19YTElOSywKInhsaW5rOmhyZWYiLGUpO2Z8fG0uc2V0QXR0cmlidXRlKCJwcmVzZXJ2ZUFzcGVjdFJhdGlvIiwibm9uZSIpOygxPmwuYWxwaGF8fDE+bC5maWxsQWxwaGEpJiZtLnNldEF0dHJpYnV0ZSgib3BhY2l0eSIsbC5hbHBoYSpsLmZpbGxBbHBoYSk7ZT10aGlzLnN0YXRlLnRyYW5zZm9ybXx8IiI7aWYoZ3x8ayl7dmFyIG49Zj0xLHA9MCxxPTA7ZyYmKGY9LTEscD0tYy0yKmEpO2smJihuPS0xLHE9LWQtMipiKTtlKz0ic2NhbGUoIitmKyIsIituKyIpdHJhbnNsYXRlKCIrcCpsLnNjYWxlKyIsIitxKmwuc2NhbGUrIikifTA8ZS5sZW5ndGgmJm0uc2V0QXR0cmlidXRlKCJ0cmFuc2Zvcm0iLGUpO3RoaXMucG9pbnRlckV2ZW50c3x8bS5zZXRBdHRyaWJ1dGUoInBvaW50ZXItZXZlbnRzIiwibm9uZSIpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChtKX07Cm14U3ZnQ2FudmFzMkQucHJvdG90eXBlLmNvbnZlcnRIdG1sPWZ1bmN0aW9uKGEpe2lmKHRoaXMudXNlRG9tUGFyc2VyKXt2YXIgYj0obmV3IERPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKGEsInRleHQvaHRtbCIpO251bGwhPWImJihhPShuZXcgWE1MU2VyaWFsaXplcikuc2VyaWFsaXplVG9TdHJpbmcoYi5ib2R5KSwiPGJvZHkiPT1hLnN1YnN0cmluZygwLDUpJiYoYT1hLnN1YnN0cmluZyhhLmluZGV4T2YoIj4iLDUpKzEpKSwiPC9ib2R5PiI9PWEuc3Vic3RyaW5nKGEubGVuZ3RoLTcsYS5sZW5ndGgpJiYoYT1hLnN1YnN0cmluZygwLGEubGVuZ3RoLTcpKSl9ZWxzZXtpZihudWxsIT1kb2N1bWVudC5pbXBsZW1lbnRhdGlvbiYmbnVsbCE9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlRG9jdW1lbnQpe3ZhciBiPWRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZURvY3VtZW50KCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiwiaHRtbCIsbnVsbCksYz1iLmNyZWF0ZUVsZW1lbnQoImJvZHkiKTsKYi5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoYyk7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7ZC5pbm5lckhUTUw9YTtmb3IoYT1kLmZpcnN0Q2hpbGQ7bnVsbCE9YTspZD1hLm5leHRTaWJsaW5nLGMuYXBwZW5kQ2hpbGQoYi5hZG9wdE5vZGUoYSkpLGE9ZDtyZXR1cm4gYy5pbm5lckhUTUx9Yj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZXh0YXJlYSIpO2IuaW5uZXJIVE1MPWEucmVwbGFjZSgvJmFtcDsvZywiJmFtcDthbXA7IikucmVwbGFjZSgvJiM2MDsvZywiJmFtcDtsdDsiKS5yZXBsYWNlKC8mIzYyOy9nLCImYW1wO2d0OyIpLnJlcGxhY2UoLyZsdDsvZywiJmFtcDtsdDsiKS5yZXBsYWNlKC8mZ3Q7L2csIiZhbXA7Z3Q7IikucmVwbGFjZSgvPC9nLCImbHQ7IikucmVwbGFjZSgvPi9nLCImZ3Q7Iik7YT1iLnZhbHVlLnJlcGxhY2UoLyYvZywiJmFtcDsiKS5yZXBsYWNlKC8mYW1wO2x0Oy9nLCImbHQ7IikucmVwbGFjZSgvJmFtcDtndDsvZywiJmd0OyIpLnJlcGxhY2UoLyZhbXA7YW1wOy9nLAoiJmFtcDsiKS5yZXBsYWNlKC88YnI+L2csIjxiciAvPiIpLnJlcGxhY2UoLzxocj4vZywiPGhyIC8+IikucmVwbGFjZSgvKDxpbWdbXj5dKyk+L2dtLCIkMSAvPiIpfXJldHVybiBhfTsKbXhTdmdDYW52YXMyRC5wcm90b3R5cGUuY3JlYXRlRGl2PWZ1bmN0aW9uKGEpe214VXRpbHMuaXNOb2RlKGEpfHwoYT0iPGRpdj48ZGl2PiIrdGhpcy5jb252ZXJ0SHRtbChhKSsiPC9kaXY+PC9kaXY+Iik7aWYobXhDbGllbnQuSVNfSUV8fG14Q2xpZW50LklTX0lFMTF8fCFkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMpcmV0dXJuIG14VXRpbHMuaXNOb2RlKGEpJiYoYT0iPGRpdj48ZGl2PiIrbXhVdGlscy5nZXRYbWwoYSkrIjwvZGl2PjwvZGl2PiIpLG14VXRpbHMucGFyc2VYbWwoJzxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiPicrYSsiPC9kaXY+IikuZG9jdW1lbnRFbGVtZW50O3ZhciBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIsImRpdiIpO2lmKG14VXRpbHMuaXNOb2RlKGEpKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxkPWMuY2xvbmVOb2RlKCExKTt0aGlzLnJvb3Qub3duZXJEb2N1bWVudCE9CmRvY3VtZW50P2MuYXBwZW5kQ2hpbGQoYS5jbG9uZU5vZGUoITApKTpjLmFwcGVuZENoaWxkKGEpO2QuYXBwZW5kQ2hpbGQoYyk7Yi5hcHBlbmRDaGlsZChkKX1lbHNlIGIuaW5uZXJIVE1MPWE7cmV0dXJuIGJ9O214U3ZnQ2FudmFzMkQucHJvdG90eXBlLnVwZGF0ZVRleHQ9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxrLGwsbSxuKXtudWxsIT1uJiZudWxsIT1uLmZpcnN0Q2hpbGQmJm51bGwhPW4uZmlyc3RDaGlsZC5maXJzdENoaWxkJiZ0aGlzLnVwZGF0ZVRleHROb2RlcyhhLGIsYyxkLGUsZixnLGssbCxtLG4uZmlyc3RDaGlsZCl9OwpteFN2Z0NhbnZhczJELnByb3RvdHlwZS5hZGRGb3JlaWduT2JqZWN0PWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsayxsLG0sbixwLHEscix0KXtxPXRoaXMuY3JlYXRlRWxlbWVudCgiZyIpO3ZhciB1PXRoaXMuY3JlYXRlRWxlbWVudCgiZm9yZWlnbk9iamVjdCIpO3Uuc2V0QXR0cmlidXRlKCJzdHlsZSIsIm92ZXJmbG93OiB2aXNpYmxlOyB0ZXh0LWFsaWduOiBsZWZ0OyIpO3Uuc2V0QXR0cmlidXRlKCJwb2ludGVyLWV2ZW50cyIsIm5vbmUiKTtyLm93bmVyRG9jdW1lbnQhPWRvY3VtZW50JiYocj1teFV0aWxzLmltcG9ydE5vZGVJbXBsZW1lbnRhdGlvbih1Lm93bmVyRG9jdW1lbnQsciwhMCkpO3UuYXBwZW5kQ2hpbGQocik7cS5hcHBlbmRDaGlsZCh1KTt0aGlzLnVwZGF0ZVRleHROb2RlcyhhLGIsYyxkLGYsZyxrLG0sbixwLHEpO3RoaXMucm9vdC5vd25lckRvY3VtZW50IT1kb2N1bWVudCYmKGE9dGhpcy5jcmVhdGVBbHRlcm5hdGVDb250ZW50KHUsYSxiLGMsZCxlLGYsZyxrLGwsCm0sbixwKSxudWxsIT1hJiYodS5zZXRBdHRyaWJ1dGUoInJlcXVpcmVkRmVhdHVyZXMiLCJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiKSxiPXRoaXMuY3JlYXRlRWxlbWVudCgic3dpdGNoIiksYi5hcHBlbmRDaGlsZCh1KSxiLmFwcGVuZENoaWxkKGEpLHEuYXBwZW5kQ2hpbGQoYikpKTt0LmFwcGVuZENoaWxkKHEpfTsKbXhTdmdDYW52YXMyRC5wcm90b3R5cGUudXBkYXRlVGV4dE5vZGVzPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsayxsLG0sbil7dmFyIHA9dGhpcy5zdGF0ZS5zY2FsZTtteFN2Z0NhbnZhczJELmNyZWF0ZUNzcyhjKzIsZCxlLGYsZyxrLGwsbnVsbCE9dGhpcy5zdGF0ZS5mb250QmFja2dyb3VuZENvbG9yP3RoaXMuc3RhdGUuZm9udEJhY2tncm91bmRDb2xvcjpudWxsLG51bGwhPXRoaXMuc3RhdGUuZm9udEJvcmRlckNvbG9yP3RoaXMuc3RhdGUuZm9udEJvcmRlckNvbG9yOm51bGwsImRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiB1bnNhZmUgIisoZj09bXhDb25zdGFudHMuQUxJR05fVE9QPyJmbGV4LXN0YXJ0IjpmPT1teENvbnN0YW50cy5BTElHTl9CT1RUT00/ImZsZXgtZW5kIjoiY2VudGVyIikrIjsganVzdGlmeS1jb250ZW50OiB1bnNhZmUgIisoZT09bXhDb25zdGFudHMuQUxJR05fTEVGVD8iZmxleC1zdGFydCI6ZT09bXhDb25zdGFudHMuQUxJR05fUklHSFQ/ImZsZXgtZW5kIjoKImNlbnRlciIpKyI7ICIsdGhpcy5nZXRUZXh0Q3NzKCkscCxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihjLGQsZSxmLGcpe2ErPXRoaXMuc3RhdGUuZHg7Yis9dGhpcy5zdGF0ZS5keTt2YXIgaz1uLmZpcnN0Q2hpbGQsbD1rLmZpcnN0Q2hpbGQscT1sLmZpcnN0Q2hpbGQscj0odGhpcy5yb3RhdGVIdG1sP3RoaXMuc3RhdGUucm90YXRpb246MCkrKG51bGwhPW0/bTowKSx0PSgwIT10aGlzLmZvT2Zmc2V0PyJ0cmFuc2xhdGUoIit0aGlzLmZvT2Zmc2V0KyIgIit0aGlzLmZvT2Zmc2V0KyIpIjoiIikrKDEhPXA/InNjYWxlKCIrcCsiKSI6IiIpO3EuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoInN0eWxlIixnKTtxLnNldEF0dHJpYnV0ZSgic3R5bGUiLGYpO2suc2V0QXR0cmlidXRlKCJ3aWR0aCIsTWF0aC5jZWlsKDEvTWF0aC5taW4oMSxwKSoxMDApKyIlIik7ay5zZXRBdHRyaWJ1dGUoImhlaWdodCIsTWF0aC5jZWlsKDEvTWF0aC5taW4oMSxwKSoxMDApKyIlIik7ZD1NYXRoLnJvdW5kKGIrCmQpOzA+ZD9rLnNldEF0dHJpYnV0ZSgieSIsZCk6KGsucmVtb3ZlQXR0cmlidXRlKCJ5IiksZSs9InBhZGRpbmctdG9wOiAiK2QrInB4OyAiKTtsLnNldEF0dHJpYnV0ZSgic3R5bGUiLGUrIm1hcmdpbi1sZWZ0OiAiK01hdGgucm91bmQoYStjKSsicHg7Iik7dCs9MCE9cj8icm90YXRlKCIrcisiICIrYSsiICIrYisiKSI6IiI7IiIhPXQ/bi5zZXRBdHRyaWJ1dGUoInRyYW5zZm9ybSIsdCk6bi5yZW1vdmVBdHRyaWJ1dGUoInRyYW5zZm9ybSIpOzEhPXRoaXMuc3RhdGUuYWxwaGE/bi5zZXRBdHRyaWJ1dGUoIm9wYWNpdHkiLHRoaXMuc3RhdGUuYWxwaGEpOm4ucmVtb3ZlQXR0cmlidXRlKCJvcGFjaXR5Iil9KSl9OwpteFN2Z0NhbnZhczJELmNyZWF0ZUNzcz1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGssbCxtLG4scCxxKXtwPSJib3gtc2l6aW5nOiBib3JkZXItYm94OyBmb250LXNpemU6IDA7IHRleHQtYWxpZ246ICIrKGM9PW14Q29uc3RhbnRzLkFMSUdOX0xFRlQ/ImxlZnQiOmM9PW14Q29uc3RhbnRzLkFMSUdOX1JJR0hUPyJyaWdodCI6ImNlbnRlciIpKyI7ICI7dmFyIHI9bXhVdGlscy5nZXRBbGlnbm1lbnRBc1BvaW50KGMsZCk7Yz0ib3ZlcmZsb3c6IGhpZGRlbjsgIjtkPSJ3aWR0aDogMXB4OyAiO3ZhciB0PSJoZWlnaHQ6IDFweDsgIix1PXIueCphLHI9ci55KmI7Zz8oZD0id2lkdGg6ICIrTWF0aC5yb3VuZChhKSsicHg7ICIscCs9Im1heC1oZWlnaHQ6ICIrTWF0aC5yb3VuZChiKSsicHg7ICIscj0wKToiZmlsbCI9PWY/KGQ9IndpZHRoOiAiK01hdGgucm91bmQoYSkrInB4OyAiLHQ9ImhlaWdodDogIitNYXRoLnJvdW5kKGIpKyJweDsgIixuKz0id2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgIiwKcCs9ZCt0KToid2lkdGgiPT1mPyhkPSJ3aWR0aDogIitNYXRoLnJvdW5kKGEpKyJweDsgIixuKz0id2lkdGg6IDEwMCU7ICIscCs9ZCxyPTAsMDxiJiYocCs9Im1heC1oZWlnaHQ6ICIrTWF0aC5yb3VuZChiKSsicHg7ICIpKTooYz0iIixyPTApO2I9IiI7bnVsbCE9ayYmKGIrPSJiYWNrZ3JvdW5kLWNvbG9yOiAiK2srIjsgIik7bnVsbCE9bCYmKGIrPSJib3JkZXI6IDFweCBzb2xpZCAiK2wrIjsgIik7IiI9PWN8fGc/bis9YjpwKz1iO2UmJjA8YT8obis9IndoaXRlLXNwYWNlOiBub3JtYWw7IHdvcmQtd3JhcDogIitteENvbnN0YW50cy5XT1JEX1dSQVArIjsgIixkPSJ3aWR0aDogIitNYXRoLnJvdW5kKGEpKyJweDsgIiwiIiE9YyYmImZpbGwiIT1mJiYocj0wKSk6KG4rPSJ3aGl0ZS1zcGFjZTogbm93cmFwOyAiLCIiPT1jJiYodT0wKSk7cSh1LHIsbStkK3QscCtjLG4sYyl9OwpteFN2Z0NhbnZhczJELnByb3RvdHlwZS5nZXRUZXh0Q3NzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zdGF0ZSxiPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogIithLmZvbnRTaXplKyJweDsgZm9udC1mYW1pbHk6ICIrYS5mb250RmFtaWx5KyI7IGNvbG9yOiAiK2EuZm9udENvbG9yKyI7IGxpbmUtaGVpZ2h0OiAiKyhteENvbnN0YW50cy5BQlNPTFVURV9MSU5FX0hFSUdIVD9hLmZvbnRTaXplKm14Q29uc3RhbnRzLkxJTkVfSEVJR0hUKyJweCI6bXhDb25zdGFudHMuTElORV9IRUlHSFQqdGhpcy5saW5lSGVpZ2h0Q29ycmVjdGlvbikrIjsgcG9pbnRlci1ldmVudHM6ICIrKHRoaXMucG9pbnRlckV2ZW50cz90aGlzLnBvaW50ZXJFdmVudHNWYWx1ZToibm9uZSIpKyI7ICI7KGEuZm9udFN0eWxlJm14Q29uc3RhbnRzLkZPTlRfQk9MRCk9PW14Q29uc3RhbnRzLkZPTlRfQk9MRCYmKGIrPSJmb250LXdlaWdodDogYm9sZDsgIik7KGEuZm9udFN0eWxlJm14Q29uc3RhbnRzLkZPTlRfSVRBTElDKT09Cm14Q29uc3RhbnRzLkZPTlRfSVRBTElDJiYoYis9ImZvbnQtc3R5bGU6IGl0YWxpYzsgIik7dmFyIGM9W107KGEuZm9udFN0eWxlJm14Q29uc3RhbnRzLkZPTlRfVU5ERVJMSU5FKT09bXhDb25zdGFudHMuRk9OVF9VTkRFUkxJTkUmJmMucHVzaCgidW5kZXJsaW5lIik7KGEuZm9udFN0eWxlJm14Q29uc3RhbnRzLkZPTlRfU1RSSUtFVEhST1VHSCk9PW14Q29uc3RhbnRzLkZPTlRfU1RSSUtFVEhST1VHSCYmYy5wdXNoKCJsaW5lLXRocm91Z2giKTswPGMubGVuZ3RoJiYoYis9InRleHQtZGVjb3JhdGlvbjogIitjLmpvaW4oIiAiKSsiOyAiKTtyZXR1cm4gYn07Cm14U3ZnQ2FudmFzMkQucHJvdG90eXBlLnRleHQ9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxrLGwsbSxuLHAscSl7aWYodGhpcy50ZXh0RW5hYmxlZCYmbnVsbCE9ZSlpZihwPW51bGwhPXA/cDowLHRoaXMuZm9FbmFibGVkJiYiaHRtbCI9PWwpe3ZhciByPXRoaXMuY3JlYXRlRGl2KGUpO251bGwhPXImJihudWxsIT1xJiZyLnNldEF0dHJpYnV0ZSgiZGlyIixxKSx0aGlzLmFkZEZvcmVpZ25PYmplY3QoYSxiLGMsZCxlLGYsZyxrLGwsbSxuLHAscSxyLHRoaXMucm9vdCkpfWVsc2UgdGhpcy5wbGFpblRleHQoYSt0aGlzLnN0YXRlLmR4LGIrdGhpcy5zdGF0ZS5keSxjLGQsZSxmLGcsayxtLG4scCxxKX07Cm14U3ZnQ2FudmFzMkQucHJvdG90eXBlLmNyZWF0ZUNsaXA9ZnVuY3Rpb24oYSxiLGMsZCl7YT1NYXRoLnJvdW5kKGEpO2I9TWF0aC5yb3VuZChiKTtjPU1hdGgucm91bmQoYyk7ZD1NYXRoLnJvdW5kKGQpO2Zvcih2YXIgZT0ibXgtY2xpcC0iK2ErIi0iK2IrIi0iK2MrIi0iK2QsZj0wLGc9ZSsiLSIrZjtudWxsIT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChnKTspZz1lKyItIisgKytmO2NsaXA9dGhpcy5jcmVhdGVFbGVtZW50KCJjbGlwUGF0aCIpO2NsaXAuc2V0QXR0cmlidXRlKCJpZCIsZyk7ZT10aGlzLmNyZWF0ZUVsZW1lbnQoInJlY3QiKTtlLnNldEF0dHJpYnV0ZSgieCIsYSk7ZS5zZXRBdHRyaWJ1dGUoInkiLGIpO2Uuc2V0QXR0cmlidXRlKCJ3aWR0aCIsYyk7ZS5zZXRBdHRyaWJ1dGUoImhlaWdodCIsZCk7Y2xpcC5hcHBlbmRDaGlsZChlKTtyZXR1cm4gY2xpcH07Cm14U3ZnQ2FudmFzMkQucHJvdG90eXBlLnBsYWluVGV4dD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGssbCxtLG4scCl7bj1udWxsIT1uP246MDtrPXRoaXMuc3RhdGU7dmFyIHE9ay5mb250U2l6ZSxyPXRoaXMuY3JlYXRlRWxlbWVudCgiZyIpLHQ9ay50cmFuc2Zvcm18fCIiO3RoaXMudXBkYXRlRm9udChyKTswIT1uJiYodCs9InJvdGF0ZSgiK24rIiwiK3RoaXMuZm9ybWF0KGEqay5zY2FsZSkrIiwiK3RoaXMuZm9ybWF0KGIqay5zY2FsZSkrIikiKTtudWxsIT1wJiZyLnNldEF0dHJpYnV0ZSgiZGlyZWN0aW9uIixwKTttJiYwPGMmJjA8ZCYmKHA9YSxuPWIsZj09bXhDb25zdGFudHMuQUxJR05fQ0VOVEVSP3AtPWMvMjpmPT1teENvbnN0YW50cy5BTElHTl9SSUdIVCYmKHAtPWMpLCJmaWxsIiE9bCYmKGc9PW14Q29uc3RhbnRzLkFMSUdOX01JRERMRT9uLT1kLzI6Zz09bXhDb25zdGFudHMuQUxJR05fQk9UVE9NJiYobi09ZCkpLG49dGhpcy5jcmVhdGVDbGlwKHAqay5zY2FsZS0yLApuKmsuc2NhbGUtMixjKmsuc2NhbGUrNCxkKmsuc2NhbGUrNCksbnVsbCE9dGhpcy5kZWZzP3RoaXMuZGVmcy5hcHBlbmRDaGlsZChuKTp0aGlzLnJvb3QuYXBwZW5kQ2hpbGQobiksbXhDbGllbnQuSVNfQ0hST01FQVBQfHxteENsaWVudC5JU19JRXx8bXhDbGllbnQuSVNfSUUxMXx8bXhDbGllbnQuSVNfRURHRXx8dGhpcy5yb290Lm93bmVyRG9jdW1lbnQhPWRvY3VtZW50P3Iuc2V0QXR0cmlidXRlKCJjbGlwLXBhdGgiLCJ1cmwoIyIrbi5nZXRBdHRyaWJ1dGUoImlkIikrIikiKToocD10aGlzLmdldEJhc2VVcmwoKS5yZXBsYWNlKC8oW1woXCldKS9nLCJcXCQxIiksci5zZXRBdHRyaWJ1dGUoImNsaXAtcGF0aCIsInVybCgiK3ArIiMiK24uZ2V0QXR0cmlidXRlKCJpZCIpKyIpIikpKTtuPWY9PW14Q29uc3RhbnRzLkFMSUdOX1JJR0hUPyJlbmQiOmY9PW14Q29uc3RhbnRzLkFMSUdOX0NFTlRFUj8ibWlkZGxlIjoic3RhcnQiOyJzdGFydCIhPW4mJnIuc2V0QXR0cmlidXRlKCJ0ZXh0LWFuY2hvciIsCm4pO3RoaXMuc3R5bGVFbmFibGVkJiZxPT1teENvbnN0YW50cy5ERUZBVUxUX0ZPTlRTSVpFfHxyLnNldEF0dHJpYnV0ZSgiZm9udC1zaXplIixxKmsuc2NhbGUrInB4Iik7MDx0Lmxlbmd0aCYmci5zZXRBdHRyaWJ1dGUoInRyYW5zZm9ybSIsdCk7MT5rLmFscGhhJiZyLnNldEF0dHJpYnV0ZSgib3BhY2l0eSIsay5hbHBoYSk7dD1lLnNwbGl0KCJcbiIpO3A9TWF0aC5yb3VuZChxKm14Q29uc3RhbnRzLkxJTkVfSEVJR0hUKTt2YXIgdT1xKyh0Lmxlbmd0aC0xKSpwO249YitxLTE7Zz09bXhDb25zdGFudHMuQUxJR05fTUlERExFPyJmaWxsIj09bD9uLT1kLzI6KG09KHRoaXMubWF0Y2hIdG1sQWxpZ25tZW50JiZtJiYwPGQ/TWF0aC5taW4odSxkKTp1KS8yLG4tPW0pOmc9PW14Q29uc3RhbnRzLkFMSUdOX0JPVFRPTSYmKCJmaWxsIj09bD9uLT1kOihtPXRoaXMubWF0Y2hIdG1sQWxpZ25tZW50JiZtJiYwPGQ/TWF0aC5taW4odSxkKTp1LG4tPW0rMSkpO2ZvcihtPTA7bTx0Lmxlbmd0aDttKyspMDwKdFttXS5sZW5ndGgmJjA8bXhVdGlscy50cmltKHRbbV0pLmxlbmd0aCYmKHE9dGhpcy5jcmVhdGVFbGVtZW50KCJ0ZXh0IikscS5zZXRBdHRyaWJ1dGUoIngiLHRoaXMuZm9ybWF0KGEqay5zY2FsZSkrdGhpcy50ZXh0T2Zmc2V0KSxxLnNldEF0dHJpYnV0ZSgieSIsdGhpcy5mb3JtYXQobiprLnNjYWxlKSt0aGlzLnRleHRPZmZzZXQpLG14VXRpbHMud3JpdGUocSx0W21dKSxyLmFwcGVuZENoaWxkKHEpKSxuKz1wO3RoaXMucm9vdC5hcHBlbmRDaGlsZChyKTt0aGlzLmFkZFRleHRCYWNrZ3JvdW5kKHIsZSxhLGIsYywiZmlsbCI9PWw/ZDp1LGYsZyxsKX07Cm14U3ZnQ2FudmFzMkQucHJvdG90eXBlLnVwZGF0ZUZvbnQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5zdGF0ZTthLnNldEF0dHJpYnV0ZSgiZmlsbCIsYi5mb250Q29sb3IpO3RoaXMuc3R5bGVFbmFibGVkJiZiLmZvbnRGYW1pbHk9PW14Q29uc3RhbnRzLkRFRkFVTFRfRk9OVEZBTUlMWXx8YS5zZXRBdHRyaWJ1dGUoImZvbnQtZmFtaWx5IixiLmZvbnRGYW1pbHkpOyhiLmZvbnRTdHlsZSZteENvbnN0YW50cy5GT05UX0JPTEQpPT1teENvbnN0YW50cy5GT05UX0JPTEQmJmEuc2V0QXR0cmlidXRlKCJmb250LXdlaWdodCIsImJvbGQiKTsoYi5mb250U3R5bGUmbXhDb25zdGFudHMuRk9OVF9JVEFMSUMpPT1teENvbnN0YW50cy5GT05UX0lUQUxJQyYmYS5zZXRBdHRyaWJ1dGUoImZvbnQtc3R5bGUiLCJpdGFsaWMiKTt2YXIgYz1bXTsoYi5mb250U3R5bGUmbXhDb25zdGFudHMuRk9OVF9VTkRFUkxJTkUpPT1teENvbnN0YW50cy5GT05UX1VOREVSTElORSYmYy5wdXNoKCJ1bmRlcmxpbmUiKTsKKGIuZm9udFN0eWxlJm14Q29uc3RhbnRzLkZPTlRfU1RSSUtFVEhST1VHSCk9PW14Q29uc3RhbnRzLkZPTlRfU1RSSUtFVEhST1VHSCYmYy5wdXNoKCJsaW5lLXRocm91Z2giKTswPGMubGVuZ3RoJiZhLnNldEF0dHJpYnV0ZSgidGV4dC1kZWNvcmF0aW9uIixjLmpvaW4oIiAiKSl9OwpteFN2Z0NhbnZhczJELnByb3RvdHlwZS5hZGRUZXh0QmFja2dyb3VuZD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGssbCl7dmFyIG09dGhpcy5zdGF0ZTtpZihudWxsIT1tLmZvbnRCYWNrZ3JvdW5kQ29sb3J8fG51bGwhPW0uZm9udEJvcmRlckNvbG9yKXt2YXIgbj1udWxsO2lmKCJmaWxsIj09bHx8IndpZHRoIj09bClnPT1teENvbnN0YW50cy5BTElHTl9DRU5URVI/Yy09ZS8yOmc9PW14Q29uc3RhbnRzLkFMSUdOX1JJR0hUJiYoYy09ZSksaz09bXhDb25zdGFudHMuQUxJR05fTUlERExFP2QtPWYvMjprPT1teENvbnN0YW50cy5BTElHTl9CT1RUT00mJihkLT1mKSxuPW5ldyBteFJlY3RhbmdsZSgoYysxKSptLnNjYWxlLGQqbS5zY2FsZSwoZS0yKSptLnNjYWxlLChmKzIpKm0uc2NhbGUpO2Vsc2UgaWYobnVsbCE9YS5nZXRCQm94JiZ0aGlzLnJvb3Qub3duZXJEb2N1bWVudD09ZG9jdW1lbnQpdHJ5e3ZhciBuPWEuZ2V0QkJveCgpLHA9bXhDbGllbnQuSVNfSUUmJm14Q2xpZW50LklTX1NWRywKbj1uZXcgbXhSZWN0YW5nbGUobi54LG4ueSsocD8wOjEpLG4ud2lkdGgsbi5oZWlnaHQrKHA/MTowKSl9Y2F0Y2gocSl7fWVsc2Ugbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxuLnN0eWxlLmxpbmVIZWlnaHQ9bXhDb25zdGFudHMuQUJTT0xVVEVfTElORV9IRUlHSFQ/bS5mb250U2l6ZSpteENvbnN0YW50cy5MSU5FX0hFSUdIVCsicHgiOm14Q29uc3RhbnRzLkxJTkVfSEVJR0hULG4uc3R5bGUuZm9udFNpemU9bS5mb250U2l6ZSsicHgiLG4uc3R5bGUuZm9udEZhbWlseT1tLmZvbnRGYW1pbHksbi5zdHlsZS53aGl0ZVNwYWNlPSJub3dyYXAiLG4uc3R5bGUucG9zaXRpb249ImFic29sdXRlIixuLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiIsbi5zdHlsZS5kaXNwbGF5PW14Q2xpZW50LklTX1FVSVJLUz8iaW5saW5lIjoiaW5saW5lLWJsb2NrIixuLnN0eWxlLnpvb209IjEiLChtLmZvbnRTdHlsZSZteENvbnN0YW50cy5GT05UX0JPTEQpPT1teENvbnN0YW50cy5GT05UX0JPTEQmJgoobi5zdHlsZS5mb250V2VpZ2h0PSJib2xkIiksKG0uZm9udFN0eWxlJm14Q29uc3RhbnRzLkZPTlRfSVRBTElDKT09bXhDb25zdGFudHMuRk9OVF9JVEFMSUMmJihuLnN0eWxlLmZvbnRTdHlsZT0iaXRhbGljIiksYj1teFV0aWxzLmh0bWxFbnRpdGllcyhiLCExKSxuLmlubmVySFRNTD1iLnJlcGxhY2UoL1xuL2csIjxici8+IiksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChuKSxlPW4ub2Zmc2V0V2lkdGgsZj1uLm9mZnNldEhlaWdodCxuLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobiksZz09bXhDb25zdGFudHMuQUxJR05fQ0VOVEVSP2MtPWUvMjpnPT1teENvbnN0YW50cy5BTElHTl9SSUdIVCYmKGMtPWUpLGs9PW14Q29uc3RhbnRzLkFMSUdOX01JRERMRT9kLT1mLzI6az09bXhDb25zdGFudHMuQUxJR05fQk9UVE9NJiYoZC09Ziksbj1uZXcgbXhSZWN0YW5nbGUoKGMrMSkqbS5zY2FsZSwoZCsyKSptLnNjYWxlLGUqbS5zY2FsZSwoZisxKSptLnNjYWxlKTtudWxsIT1uJiYoYj0KdGhpcy5jcmVhdGVFbGVtZW50KCJyZWN0IiksYi5zZXRBdHRyaWJ1dGUoImZpbGwiLG0uZm9udEJhY2tncm91bmRDb2xvcnx8Im5vbmUiKSxiLnNldEF0dHJpYnV0ZSgic3Ryb2tlIixtLmZvbnRCb3JkZXJDb2xvcnx8Im5vbmUiKSxiLnNldEF0dHJpYnV0ZSgieCIsTWF0aC5mbG9vcihuLngtMSkpLGIuc2V0QXR0cmlidXRlKCJ5IixNYXRoLmZsb29yKG4ueS0xKSksYi5zZXRBdHRyaWJ1dGUoIndpZHRoIixNYXRoLmNlaWwobi53aWR0aCsyKSksYi5zZXRBdHRyaWJ1dGUoImhlaWdodCIsTWF0aC5jZWlsKG4uaGVpZ2h0KSksbT1udWxsIT1tLmZvbnRCb3JkZXJDb2xvcj9NYXRoLm1heCgxLHRoaXMuZm9ybWF0KG0uc2NhbGUpKTowLGIuc2V0QXR0cmlidXRlKCJzdHJva2Utd2lkdGgiLG0pLHRoaXMucm9vdC5vd25lckRvY3VtZW50PT1kb2N1bWVudCYmMT09bXhVdGlscy5tb2QobSwyKSYmYi5zZXRBdHRyaWJ1dGUoInRyYW5zZm9ybSIsInRyYW5zbGF0ZSgwLjUsIDAuNSkiKSxhLmluc2VydEJlZm9yZShiLAphLmZpcnN0Q2hpbGQpKX19O214U3ZnQ2FudmFzMkQucHJvdG90eXBlLnN0cm9rZT1mdW5jdGlvbigpe3RoaXMuYWRkTm9kZSghMSwhMCl9O214U3ZnQ2FudmFzMkQucHJvdG90eXBlLmZpbGw9ZnVuY3Rpb24oKXt0aGlzLmFkZE5vZGUoITAsITEpfTtteFN2Z0NhbnZhczJELnByb3RvdHlwZS5maWxsQW5kU3Ryb2tlPWZ1bmN0aW9uKCl7dGhpcy5hZGROb2RlKCEwLCEwKX07dmFyIG14Vm1sQ2FudmFzMkQ9ZnVuY3Rpb24oYSl7bXhBYnN0cmFjdENhbnZhczJELmNhbGwodGhpcyk7dGhpcy5yb290PWF9O214VXRpbHMuZXh0ZW5kKG14Vm1sQ2FudmFzMkQsbXhBYnN0cmFjdENhbnZhczJEKTtteFZtbENhbnZhczJELnByb3RvdHlwZS5ub2RlPW51bGw7bXhWbWxDYW52YXMyRC5wcm90b3R5cGUudGV4dEVuYWJsZWQ9ITA7bXhWbWxDYW52YXMyRC5wcm90b3R5cGUubW92ZU9wPSJtIjtteFZtbENhbnZhczJELnByb3RvdHlwZS5saW5lT3A9ImwiOwpteFZtbENhbnZhczJELnByb3RvdHlwZS5jdXJ2ZU9wPSJjIjtteFZtbENhbnZhczJELnByb3RvdHlwZS5jbG9zZU9wPSJ4IjtteFZtbENhbnZhczJELnByb3RvdHlwZS5yb3RhdGVkSHRtbEJhY2tncm91bmQ9IiI7bXhWbWxDYW52YXMyRC5wcm90b3R5cGUudm1sU2NhbGU9MTtteFZtbENhbnZhczJELnByb3RvdHlwZS5jcmVhdGVFbGVtZW50PWZ1bmN0aW9uKGEpe3JldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGEpfTtteFZtbENhbnZhczJELnByb3RvdHlwZS5jcmVhdGVWbWxFbGVtZW50PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnQobXhDbGllbnQuVk1MX1BSRUZJWCsiOiIrYSl9OwpteFZtbENhbnZhczJELnByb3RvdHlwZS5hZGROb2RlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5ub2RlLGQ9dGhpcy5zdGF0ZTtpZihudWxsIT1jKXtpZigic2hhcGUiPT1jLm5vZGVOYW1lKWlmKG51bGwhPXRoaXMucGF0aCYmMDx0aGlzLnBhdGgubGVuZ3RoKWMucGF0aD10aGlzLnBhdGguam9pbigiICIpKyIgZSIsYy5zdHlsZS53aWR0aD10aGlzLnJvb3Quc3R5bGUud2lkdGgsYy5zdHlsZS5oZWlnaHQ9dGhpcy5yb290LnN0eWxlLmhlaWdodCxjLmNvb3Jkc2l6ZT1wYXJzZUludChjLnN0eWxlLndpZHRoKSsiICIrcGFyc2VJbnQoYy5zdHlsZS5oZWlnaHQpO2Vsc2UgcmV0dXJuO2Muc3Ryb2tld2VpZ2h0PXRoaXMuZm9ybWF0KE1hdGgubWF4KDEsZC5zdHJva2VXaWR0aCpkLnNjYWxlL3RoaXMudm1sU2NhbGUpKSsicHgiO2Quc2hhZG93JiZ0aGlzLnJvb3QuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVTaGFkb3coYyxhJiZudWxsIT1kLmZpbGxDb2xvcixiJiZudWxsIT1kLnN0cm9rZUNvbG9yKSk7CmImJm51bGwhPWQuc3Ryb2tlQ29sb3I/KGMuc3Ryb2tlZD0idHJ1ZSIsYy5zdHJva2Vjb2xvcj1kLnN0cm9rZUNvbG9yKTpjLnN0cm9rZWQ9ImZhbHNlIjtjLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlU3Ryb2tlKCkpO2EmJm51bGwhPWQuZmlsbENvbG9yP2MuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVGaWxsKCkpOiF0aGlzLnBvaW50ZXJFdmVudHN8fCJzaGFwZSI9PWMubm9kZU5hbWUmJnRoaXMucGF0aFt0aGlzLnBhdGgubGVuZ3RoLTFdIT10aGlzLmNsb3NlT3A/Yy5maWxsZWQ9ImZhbHNlIjpjLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlVHJhbnNwYXJlbnRGaWxsKCkpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChjKX19OwpteFZtbENhbnZhczJELnByb3RvdHlwZS5jcmVhdGVUcmFuc3BhcmVudEZpbGw9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNyZWF0ZVZtbEVsZW1lbnQoImZpbGwiKTthLnNyYz1teENsaWVudC5pbWFnZUJhc2VQYXRoKyIvdHJhbnNwYXJlbnQuZ2lmIjthLnR5cGU9InRpbGUiO3JldHVybiBhfTsKbXhWbWxDYW52YXMyRC5wcm90b3R5cGUuY3JlYXRlRmlsbD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuc3RhdGUsYj10aGlzLmNyZWF0ZVZtbEVsZW1lbnQoImZpbGwiKTtiLmNvbG9yPWEuZmlsbENvbG9yO2lmKG51bGwhPWEuZ3JhZGllbnRDb2xvcil7Yi50eXBlPSJncmFkaWVudCI7Yi5tZXRob2Q9Im5vbmUiO2IuY29sb3IyPWEuZ3JhZGllbnRDb2xvcjt2YXIgYz0xODAtYS5yb3RhdGlvbixjPWEuZ3JhZGllbnREaXJlY3Rpb249PW14Q29uc3RhbnRzLkRJUkVDVElPTl9XRVNUP2MtKDkwKygieCI9PXRoaXMucm9vdC5zdHlsZS5mbGlwPzE4MDowKSk6YS5ncmFkaWVudERpcmVjdGlvbj09bXhDb25zdGFudHMuRElSRUNUSU9OX0VBU1Q/YysoOTArKCJ4Ij09dGhpcy5yb290LnN0eWxlLmZsaXA/MTgwOjApKTphLmdyYWRpZW50RGlyZWN0aW9uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEg/Yy0oMTgwKygieSI9PXRoaXMucm9vdC5zdHlsZS5mbGlwPy0xODA6MCkpOmMrKCJ5Ij09CnRoaXMucm9vdC5zdHlsZS5mbGlwPy0xODA6MCk7aWYoIngiPT10aGlzLnJvb3Quc3R5bGUuZmxpcHx8InkiPT10aGlzLnJvb3Quc3R5bGUuZmxpcCljKj0tMTtiLmFuZ2xlPW14VXRpbHMubW9kKGMsMzYwKTtiLm9wYWNpdHk9YS5hbHBoYSphLmdyYWRpZW50RmlsbEFscGhhKjEwMCsiJSI7Yi5zZXRBdHRyaWJ1dGUobXhDbGllbnQuT0ZGSUNFX1BSRUZJWCsiOm9wYWNpdHkyIixhLmFscGhhKmEuZ3JhZGllbnRBbHBoYSoxMDArIiUiKX1lbHNlIGlmKDE+YS5hbHBoYXx8MT5hLmZpbGxBbHBoYSliLm9wYWNpdHk9YS5hbHBoYSphLmZpbGxBbHBoYSoxMDArIiUiO3JldHVybiBifTsKbXhWbWxDYW52YXMyRC5wcm90b3R5cGUuY3JlYXRlU3Ryb2tlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zdGF0ZSxiPXRoaXMuY3JlYXRlVm1sRWxlbWVudCgic3Ryb2tlIik7Yi5lbmRjYXA9YS5saW5lQ2FwfHwiZmxhdCI7Yi5qb2luc3R5bGU9YS5saW5lSm9pbnx8Im1pdGVyIjtiLm1pdGVybGltaXQ9YS5taXRlckxpbWl0fHwiMTAiO2lmKDE+YS5hbHBoYXx8MT5hLnN0cm9rZUFscGhhKWIub3BhY2l0eT1hLmFscGhhKmEuc3Ryb2tlQWxwaGEqMTAwKyIlIjthLmRhc2hlZCYmKGIuZGFzaHN0eWxlPXRoaXMuZ2V0Vm1sRGFzaFN0eWxlKCkpO3JldHVybiBifTtteFZtbENhbnZhczJELnByb3RvdHlwZS5nZXRWbWxEYXNoU3R5bGU9ZnVuY3Rpb24oKXt2YXIgYT0iZGFzaCI7aWYoInN0cmluZyI9PT10eXBlb2YgdGhpcy5zdGF0ZS5kYXNoUGF0dGVybil7dmFyIGI9dGhpcy5zdGF0ZS5kYXNoUGF0dGVybi5zcGxpdCgiICIpOzA8Yi5sZW5ndGgmJjE9PWJbMF0mJihhPSIwIDIiKX1yZXR1cm4gYX07Cm14Vm1sQ2FudmFzMkQucHJvdG90eXBlLmNyZWF0ZVNoYWRvdz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5zdGF0ZSxlPU1hdGguUEkvMTgwKi1kLnJvdGF0aW9uLGY9TWF0aC5jb3MoZSksZT1NYXRoLnNpbihlKSxnPWQuc2hhZG93RHgqZC5zY2FsZSxrPWQuc2hhZG93RHkqZC5zY2FsZTsieCI9PXRoaXMucm9vdC5zdHlsZS5mbGlwP2cqPS0xOiJ5Ij09dGhpcy5yb290LnN0eWxlLmZsaXAmJihrKj0tMSk7dmFyIGw9YS5jbG9uZU5vZGUoITApO2wuc3R5bGUubWFyZ2luTGVmdD1NYXRoLnJvdW5kKGcqZi1rKmUpKyJweCI7bC5zdHlsZS5tYXJnaW5Ub3A9TWF0aC5yb3VuZChnKmUraypmKSsicHgiOzg9PWRvY3VtZW50LmRvY3VtZW50TW9kZSYmKGwuc3Ryb2tld2VpZ2h0PWEuc3Ryb2tld2VpZ2h0LCJzaGFwZSI9PWEubm9kZU5hbWUmJihsLnBhdGg9dGhpcy5wYXRoLmpvaW4oIiAiKSsiIGUiLGwuc3R5bGUud2lkdGg9dGhpcy5yb290LnN0eWxlLndpZHRoLGwuc3R5bGUuaGVpZ2h0PQp0aGlzLnJvb3Quc3R5bGUuaGVpZ2h0LGwuY29vcmRzaXplPXBhcnNlSW50KGEuc3R5bGUud2lkdGgpKyIgIitwYXJzZUludChhLnN0eWxlLmhlaWdodCkpKTtjPyhsLnN0cm9rZWNvbG9yPWQuc2hhZG93Q29sb3IsbC5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZVNoYWRvd1N0cm9rZSgpKSk6bC5zdHJva2VkPSJmYWxzZSI7Yj9sLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlU2hhZG93RmlsbCgpKTpsLmZpbGxlZD0iZmFsc2UiO3JldHVybiBsfTtteFZtbENhbnZhczJELnByb3RvdHlwZS5jcmVhdGVTaGFkb3dGaWxsPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jcmVhdGVWbWxFbGVtZW50KCJmaWxsIik7YS5jb2xvcj10aGlzLnN0YXRlLnNoYWRvd0NvbG9yO2Eub3BhY2l0eT10aGlzLnN0YXRlLmFscGhhKnRoaXMuc3RhdGUuc2hhZG93QWxwaGEqMTAwKyIlIjtyZXR1cm4gYX07Cm14Vm1sQ2FudmFzMkQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1N0cm9rZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuY3JlYXRlU3Ryb2tlKCk7YS5vcGFjaXR5PXRoaXMuc3RhdGUuYWxwaGEqdGhpcy5zdGF0ZS5zaGFkb3dBbHBoYSoxMDArIiUiO3JldHVybiBhfTtteFZtbENhbnZhczJELnByb3RvdHlwZS5yb3RhdGU9ZnVuY3Rpb24oYSxiLGMsZCxlKXtiJiZjP2ErPTE4MDpiP3RoaXMucm9vdC5zdHlsZS5mbGlwPSJ4IjpjJiYodGhpcy5yb290LnN0eWxlLmZsaXA9InkiKTtpZihiPyFjOmMpYSo9LTE7dGhpcy5yb290LnN0eWxlLnJvdGF0aW9uPWE7dGhpcy5zdGF0ZS5yb3RhdGlvbis9YTt0aGlzLnN0YXRlLnJvdGF0aW9uQ3g9ZDt0aGlzLnN0YXRlLnJvdGF0aW9uQ3k9ZX07Cm14Vm1sQ2FudmFzMkQucHJvdG90eXBlLmJlZ2luPWZ1bmN0aW9uKCl7bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5iZWdpbi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5ub2RlPXRoaXMuY3JlYXRlVm1sRWxlbWVudCgic2hhcGUiKTt0aGlzLm5vZGUuc3R5bGUucG9zaXRpb249ImFic29sdXRlIn07Cm14Vm1sQ2FudmFzMkQucHJvdG90eXBlLnF1YWRUbz1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT10aGlzLnN0YXRlLGY9KHRoaXMubGFzdFgrZS5keCkqZS5zY2FsZSxnPSh0aGlzLmxhc3RZK2UuZHkpKmUuc2NhbGU7YT0oYStlLmR4KSplLnNjYWxlO2I9KGIrZS5keSkqZS5zY2FsZTtjPShjK2UuZHgpKmUuc2NhbGU7ZD0oZCtlLmR5KSplLnNjYWxlO3ZhciBnPWcrMi8zKihiLWcpLGs9YysyLzMqKGEtYyk7Yj1kKzIvMyooYi1kKTt0aGlzLnBhdGgucHVzaCgiYyAiK3RoaXMuZm9ybWF0KGYrMi8zKihhLWYpKSsiICIrdGhpcy5mb3JtYXQoZykrIiAiK3RoaXMuZm9ybWF0KGspKyIgIit0aGlzLmZvcm1hdChiKSsiICIrdGhpcy5mb3JtYXQoYykrIiAiK3RoaXMuZm9ybWF0KGQpKTt0aGlzLmxhc3RYPWMvZS5zY2FsZS1lLmR4O3RoaXMubGFzdFk9ZC9lLnNjYWxlLWUuZHl9OwpteFZtbENhbnZhczJELnByb3RvdHlwZS5jcmVhdGVSZWN0PWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9dGhpcy5zdGF0ZTthPXRoaXMuY3JlYXRlVm1sRWxlbWVudChhKTthLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7YS5zdHlsZS5sZWZ0PXRoaXMuZm9ybWF0KChiK2YuZHgpKmYuc2NhbGUpKyJweCI7YS5zdHlsZS50b3A9dGhpcy5mb3JtYXQoKGMrZi5keSkqZi5zY2FsZSkrInB4IjthLnN0eWxlLndpZHRoPXRoaXMuZm9ybWF0KGQqZi5zY2FsZSkrInB4IjthLnN0eWxlLmhlaWdodD10aGlzLmZvcm1hdChlKmYuc2NhbGUpKyJweCI7cmV0dXJuIGF9O214Vm1sQ2FudmFzMkQucHJvdG90eXBlLnJlY3Q9ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy5ub2RlPXRoaXMuY3JlYXRlUmVjdCgicmVjdCIsYSxiLGMsZCl9OwpteFZtbENhbnZhczJELnByb3RvdHlwZS5yb3VuZHJlY3Q9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3RoaXMubm9kZT10aGlzLmNyZWF0ZVJlY3QoInJvdW5kcmVjdCIsYSxiLGMsZCk7dGhpcy5ub2RlLnNldEF0dHJpYnV0ZSgiYXJjc2l6ZSIsTWF0aC5tYXgoMTAwKmUvYywxMDAqZi9kKSsiJSIpfTtteFZtbENhbnZhczJELnByb3RvdHlwZS5lbGxpcHNlPWZ1bmN0aW9uKGEsYixjLGQpe3RoaXMubm9kZT10aGlzLmNyZWF0ZVJlY3QoIm92YWwiLGEsYixjLGQpfTsKbXhWbWxDYW52YXMyRC5wcm90b3R5cGUuaW1hZ2U9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxrKXtmPyhhPXRoaXMuY3JlYXRlUmVjdCgicmVjdCIsYSxiLGMsZCksYS5zdHJva2VkPSJmYWxzZSIsYj10aGlzLmNyZWF0ZVZtbEVsZW1lbnQoImZpbGwiKSxiLmFzcGVjdD1mPyJhdG1vc3QiOiJpZ25vcmUiLGIucm90YXRlPSJ0cnVlIixiLnR5cGU9ImZyYW1lIixiLnNyYz1lLGEuYXBwZW5kQ2hpbGQoYikpOihhPXRoaXMuY3JlYXRlUmVjdCgiaW1hZ2UiLGEsYixjLGQpLGEuc3JjPWUpO2cmJms/YS5zdHlsZS5yb3RhdGlvbj0iMTgwIjpnP2Euc3R5bGUuZmxpcD0ieCI6ayYmKGEuc3R5bGUuZmxpcD0ieSIpO2lmKDE+dGhpcy5zdGF0ZS5hbHBoYXx8MT50aGlzLnN0YXRlLmZpbGxBbHBoYSlhLnN0eWxlLmZpbHRlcis9ImFscGhhKG9wYWNpdHk9Iit0aGlzLnN0YXRlLmFscGhhKnRoaXMuc3RhdGUuZmlsbEFscGhhKjEwMCsiKSI7dGhpcy5yb290LmFwcGVuZENoaWxkKGEpfTsKbXhWbWxDYW52YXMyRC5wcm90b3R5cGUuY3JlYXRlRGl2PWZ1bmN0aW9uKGEsYixjLGQpe2M9dGhpcy5jcmVhdGVFbGVtZW50KCJkaXYiKTt2YXIgZT10aGlzLnN0YXRlLGY9IiI7bnVsbCE9ZS5mb250QmFja2dyb3VuZENvbG9yJiYoZis9ImJhY2tncm91bmQtY29sb3I6IitteFV0aWxzLmh0bWxFbnRpdGllcyhlLmZvbnRCYWNrZ3JvdW5kQ29sb3IpKyI7Iik7bnVsbCE9ZS5mb250Qm9yZGVyQ29sb3ImJihmKz0iYm9yZGVyOjFweCBzb2xpZCAiK214VXRpbHMuaHRtbEVudGl0aWVzKGUuZm9udEJvcmRlckNvbG9yKSsiOyIpO214VXRpbHMuaXNOb2RlKGEpP2MuYXBwZW5kQ2hpbGQoYSk6ImZpbGwiIT1kJiYid2lkdGgiIT1kPyhkPXRoaXMuY3JlYXRlRWxlbWVudCgiZGl2IiksZC5zdHlsZS5jc3NUZXh0PWYsZC5zdHlsZS5kaXNwbGF5PW14Q2xpZW50LklTX1FVSVJLUz8iaW5saW5lIjoiaW5saW5lLWJsb2NrIixkLnN0eWxlLnpvb209IjEiLGQuc3R5bGUudGV4dERlY29yYXRpb249CiJpbmhlcml0IixkLmlubmVySFRNTD1hLGMuYXBwZW5kQ2hpbGQoZCkpOihjLnN0eWxlLmNzc1RleHQ9ZixjLmlubmVySFRNTD1hKTthPWMuc3R5bGU7YS5mb250U2l6ZT1lLmZvbnRTaXplL3RoaXMudm1sU2NhbGUrInB4IjthLmZvbnRGYW1pbHk9ZS5mb250RmFtaWx5O2EuY29sb3I9ZS5mb250Q29sb3I7YS52ZXJ0aWNhbEFsaWduPSJ0b3AiO2EudGV4dEFsaWduPWJ8fCJsZWZ0IjthLmxpbmVIZWlnaHQ9bXhDb25zdGFudHMuQUJTT0xVVEVfTElORV9IRUlHSFQ/ZS5mb250U2l6ZSpteENvbnN0YW50cy5MSU5FX0hFSUdIVC90aGlzLnZtbFNjYWxlKyJweCI6bXhDb25zdGFudHMuTElORV9IRUlHSFQ7KGUuZm9udFN0eWxlJm14Q29uc3RhbnRzLkZPTlRfQk9MRCk9PW14Q29uc3RhbnRzLkZPTlRfQk9MRCYmKGEuZm9udFdlaWdodD0iYm9sZCIpOyhlLmZvbnRTdHlsZSZteENvbnN0YW50cy5GT05UX0lUQUxJQyk9PW14Q29uc3RhbnRzLkZPTlRfSVRBTElDJiYoYS5mb250U3R5bGU9Iml0YWxpYyIpOwooZS5mb250U3R5bGUmbXhDb25zdGFudHMuRk9OVF9VTkRFUkxJTkUpPT1teENvbnN0YW50cy5GT05UX1VOREVSTElORSYmKGEudGV4dERlY29yYXRpb249InVuZGVybGluZSIpO3JldHVybiBjfTsKbXhWbWxDYW52YXMyRC5wcm90b3R5cGUudGV4dD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGssbCxtLG4scCxxKXtpZih0aGlzLnRleHRFbmFibGVkJiZudWxsIT1lKXt2YXIgcj10aGlzLnN0YXRlO2lmKCJodG1sIj09bCl7bnVsbCE9ci5yb3RhdGlvbiYmKGI9dGhpcy5yb3RhdGVQb2ludChhLGIsci5yb3RhdGlvbixyLnJvdGF0aW9uQ3gsci5yb3RhdGlvbkN5KSxhPWIueCxiPWIueSk7OCE9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHxteENsaWVudC5JU19FTT8oYSo9ci5zY2FsZSxiKj1yLnNjYWxlKTooYSs9ci5keCxiKz1yLmR5LCJmaWxsIiE9bSYmZz09bXhDb25zdGFudHMuQUxJR05fVE9QJiYtLWIpO2w9OCE9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHxteENsaWVudC5JU19FTT90aGlzLmNyZWF0ZUVsZW1lbnQoImRpdiIpOnRoaXMuY3JlYXRlVm1sRWxlbWVudCgiZ3JvdXAiKTtsLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7bC5zdHlsZS5kaXNwbGF5PSJpbmxpbmUiO2wuc3R5bGUubGVmdD0KdGhpcy5mb3JtYXQoYSkrInB4IjtsLnN0eWxlLnRvcD10aGlzLmZvcm1hdChiKSsicHgiO2wuc3R5bGUuem9vbT1yLnNjYWxlO3ZhciB0PXRoaXMuY3JlYXRlRWxlbWVudCgiZGl2Iik7dC5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiO3Quc3R5bGUuZGlzcGxheT0iaW5saW5lIjt2YXIgdT1teFV0aWxzLmdldEFsaWdubWVudEFzUG9pbnQoZixnKSx4PXUueCx1PXUueTtlPXRoaXMuY3JlYXRlRGl2KGUsZixnLG0pO2Y9dGhpcy5jcmVhdGVFbGVtZW50KCJkaXYiKTtudWxsIT1xJiZlLnNldEF0dHJpYnV0ZSgiZGlyIixxKTtpZihrJiYwPGMpe2lmKG58fChlLnN0eWxlLndpZHRoPU1hdGgucm91bmQoYykrInB4IiksZS5zdHlsZS53b3JkV3JhcD1teENvbnN0YW50cy5XT1JEX1dSQVAsZS5zdHlsZS53aGl0ZVNwYWNlPSJub3JtYWwiLCJicmVhay13b3JkIj09ZS5zdHlsZS53b3JkV3JhcCl7dmFyIHk9ZTtudWxsIT15LmZpcnN0Q2hpbGQmJiJESVYiPT15LmZpcnN0Q2hpbGQubm9kZU5hbWUmJgooeS5maXJzdENoaWxkLnN0eWxlLndpZHRoPSIxMDAlIil9fWVsc2UgZS5zdHlsZS53aGl0ZVNwYWNlPSJub3dyYXAiO3A9ci5yb3RhdGlvbisocHx8MCk7dGhpcy5yb3RhdGVIdG1sJiYwIT1wPyhmLnN0eWxlLmRpc3BsYXk9ImlubGluZSIsZi5zdHlsZS56b29tPSIxIixmLmFwcGVuZENoaWxkKGUpLDghPWRvY3VtZW50LmRvY3VtZW50TW9kZXx8bXhDbGllbnQuSVNfRU18fCJESVYiPT10aGlzLnJvb3Qubm9kZU5hbWU/bC5hcHBlbmRDaGlsZChmKToodC5hcHBlbmRDaGlsZChmKSxsLmFwcGVuZENoaWxkKHQpKSk6OCE9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHxteENsaWVudC5JU19FTT8oZS5zdHlsZS5kaXNwbGF5PSJpbmxpbmUiLGwuYXBwZW5kQ2hpbGQoZSkpOih0LmFwcGVuZENoaWxkKGUpLGwuYXBwZW5kQ2hpbGQodCkpOyJESVYiIT10aGlzLnJvb3Qubm9kZU5hbWU/KHE9dGhpcy5jcmVhdGVWbWxFbGVtZW50KCJyZWN0IikscS5zdHJva2VkPSJmYWxzZSIscS5maWxsZWQ9ImZhbHNlIiwKcS5hcHBlbmRDaGlsZChsKSx0aGlzLnJvb3QuYXBwZW5kQ2hpbGQocSkpOnRoaXMucm9vdC5hcHBlbmRDaGlsZChsKTtuPyhlLnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iLGUuc3R5bGUud2lkdGg9TWF0aC5yb3VuZChjKSsicHgiLG14Q2xpZW50LklTX1FVSVJLU3x8KGUuc3R5bGUubWF4SGVpZ2h0PU1hdGgucm91bmQoZCkrInB4IikpOiJmaWxsIj09bT8oZS5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIixlLnN0eWxlLndpZHRoPU1hdGgubWF4KDAsYykrMSsicHgiLGUuc3R5bGUuaGVpZ2h0PU1hdGgubWF4KDAsZCkrMSsicHgiKToid2lkdGgiPT1tJiYoZS5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIixlLnN0eWxlLndpZHRoPU1hdGgubWF4KDAsYykrMSsicHgiLGUuc3R5bGUubWF4SGVpZ2h0PU1hdGgubWF4KDAsZCkrMSsicHgiKTtpZih0aGlzLnJvdGF0ZUh0bWwmJjAhPXApe3k9TWF0aC5QSS8xODAqcDtwPXBhcnNlRmxvYXQocGFyc2VGbG9hdChNYXRoLmNvcyh5KSkudG9GaXhlZCg4KSk7CnE9cGFyc2VGbG9hdChwYXJzZUZsb2F0KE1hdGguc2luKC15KSkudG9GaXhlZCg4KSk7eSU9MipNYXRoLlBJOzA+eSYmKHkrPTIqTWF0aC5QSSk7eSU9TWF0aC5QSTt5Pk1hdGguUEkvMiYmKHk9TWF0aC5QSS15KTtnPU1hdGguY29zKHkpO3ZhciBCPU1hdGguc2luKHkpOzghPWRvY3VtZW50LmRvY3VtZW50TW9kZXx8bXhDbGllbnQuSVNfRU18fChlLnN0eWxlLmRpc3BsYXk9ImlubGluZS1ibG9jayIsZi5zdHlsZS5kaXNwbGF5PSJpbmxpbmUtYmxvY2siLHQuc3R5bGUuZGlzcGxheT0iaW5saW5lLWJsb2NrIik7ZS5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iO2Uuc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGUpO3Q9ZTtudWxsIT10LmZpcnN0Q2hpbGQmJiJESVYiPT10LmZpcnN0Q2hpbGQubm9kZU5hbWUmJih0PXQuZmlyc3RDaGlsZCk7eT10Lm9mZnNldFdpZHRoKzM7dD10Lm9mZnNldEhlaWdodDtuPyhjPU1hdGgubWluKGMseSksdD0KTWF0aC5taW4odCxkKSk6Yz15O2smJihlLnN0eWxlLndpZHRoPWMrInB4Iik7bXhDbGllbnQuSVNfUVVJUktTJiYobnx8IndpZHRoIj09bSkmJnQ+ZCYmKHQ9ZCxlLnN0eWxlLmhlaWdodD10KyJweCIpO2Q9dDtuPShkLWQqZytjKi1CKS8yLXEqYyooeCsuNSkrcCpkKih1Ky41KTtrPShjLWMqZytkKi1CKS8yK3AqYyooeCsuNSkrcSpkKih1Ky41KTsiZ3JvdXAiPT1sLm5vZGVOYW1lJiYiRElWIj09dGhpcy5yb290Lm5vZGVOYW1lPyhtPXRoaXMuY3JlYXRlRWxlbWVudCgiZGl2IiksbS5zdHlsZS5kaXNwbGF5PSJpbmxpbmUtYmxvY2siLG0uc3R5bGUucG9zaXRpb249ImFic29sdXRlIixtLnN0eWxlLmxlZnQ9dGhpcy5mb3JtYXQoYSsoay1jLzIpKnIuc2NhbGUpKyJweCIsbS5zdHlsZS50b3A9dGhpcy5mb3JtYXQoYisobi1kLzIpKnIuc2NhbGUpKyJweCIsbC5wYXJlbnROb2RlLmFwcGVuZENoaWxkKG0pLG0uYXBwZW5kQ2hpbGQobCkpOihyPTghPWRvY3VtZW50LmRvY3VtZW50TW9kZXx8Cm14Q2xpZW50LklTX0VNP3Iuc2NhbGU6MSxsLnN0eWxlLmxlZnQ9dGhpcy5mb3JtYXQoYSsoay1jLzIpKnIpKyJweCIsbC5zdHlsZS50b3A9dGhpcy5mb3JtYXQoYisobi1kLzIpKnIpKyJweCIpO2Yuc3R5bGUuZmlsdGVyPSJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuTWF0cml4KE0xMT0iK3ArIiwgTTEyPSIrcSsiLCBNMjE9IistcSsiLCBNMjI9IitwKyIsIHNpemluZ01ldGhvZD0nYXV0byBleHBhbmQnKSI7Zi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9dGhpcy5yb3RhdGVkSHRtbEJhY2tncm91bmQ7MT50aGlzLnN0YXRlLmFscGhhJiYoZi5zdHlsZS5maWx0ZXIrPSJhbHBoYShvcGFjaXR5PSIrMTAwKnRoaXMuc3RhdGUuYWxwaGErIikiKTtmLmFwcGVuZENoaWxkKGUpO2Uuc3R5bGUucG9zaXRpb249IiI7ZS5zdHlsZS52aXNpYmlsaXR5PSIifWVsc2UgOCE9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHxteENsaWVudC5JU19FTT8oZS5zdHlsZS52ZXJ0aWNhbEFsaWduPQoidG9wIiwxPnRoaXMuc3RhdGUuYWxwaGEmJihsLnN0eWxlLmZpbHRlcj0iYWxwaGEob3BhY2l0eT0iKzEwMCp0aGlzLnN0YXRlLmFscGhhKyIpIikscj1lLnBhcmVudE5vZGUsZS5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZSksYz1lLm9mZnNldFdpZHRoLHQ9ZS5vZmZzZXRIZWlnaHQsbXhDbGllbnQuSVNfUVVJUktTJiZuJiZ0PmQmJih0PWQsZS5zdHlsZS5oZWlnaHQ9dCsicHgiKSxkPXQsZS5zdHlsZS52aXNpYmlsaXR5PSIiLHIuYXBwZW5kQ2hpbGQoZSksbC5zdHlsZS5sZWZ0PXRoaXMuZm9ybWF0KGErYyp4KnRoaXMuc3RhdGUuc2NhbGUpKyJweCIsbC5zdHlsZS50b3A9dGhpcy5mb3JtYXQoYitkKnUqdGhpcy5zdGF0ZS5zY2FsZSkrInB4Iik6KDE+dGhpcy5zdGF0ZS5hbHBoYSYmKGUuc3R5bGUuZmlsdGVyPSJhbHBoYShvcGFjaXR5PSIrMTAwKnRoaXMuc3RhdGUuYWxwaGErIikiKSx0LnN0eWxlLmxlZnQ9MTAwKngrIiUiLHQuc3R5bGUudG9wPQoxMDAqdSsiJSIpfWVsc2UgdGhpcy5wbGFpblRleHQoYSxiLGMsZCxteFV0aWxzLmh0bWxFbnRpdGllcyhlLCExKSxmLGcsayxsLG0sbixwLHEpfX07Cm14Vm1sQ2FudmFzMkQucHJvdG90eXBlLnBsYWluVGV4dD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGssbCxtLG4scCxxKXtrPXRoaXMuc3RhdGU7YT0oYStrLmR4KSprLnNjYWxlO2I9KGIray5keSkqay5zY2FsZTtjPXRoaXMuY3JlYXRlVm1sRWxlbWVudCgic2hhcGUiKTtjLnN0eWxlLndpZHRoPSIxcHgiO2Muc3R5bGUuaGVpZ2h0PSIxcHgiO2Muc3Ryb2tlZD0iZmFsc2UiO2Q9dGhpcy5jcmVhdGVWbWxFbGVtZW50KCJmaWxsIik7ZC5jb2xvcj1rLmZvbnRDb2xvcjtkLm9wYWNpdHk9MTAwKmsuYWxwaGErIiUiO2MuYXBwZW5kQ2hpbGQoZCk7ZD10aGlzLmNyZWF0ZVZtbEVsZW1lbnQoInBhdGgiKTtkLnRleHRwYXRob2s9InRydWUiO2Qudj0ibSAiK3RoaXMuZm9ybWF0KDApKyIgIit0aGlzLmZvcm1hdCgwKSsiIGwgIit0aGlzLmZvcm1hdCgxKSsiICIrdGhpcy5mb3JtYXQoMCk7Yy5hcHBlbmRDaGlsZChkKTtkPXRoaXMuY3JlYXRlVm1sRWxlbWVudCgidGV4dHBhdGgiKTtkLnN0eWxlLmNzc1RleHQ9CiJ2LXRleHQtYWxpZ246IitmO2Quc3R5bGUuYWxpZ249ZjtkLnN0eWxlLmZvbnRGYW1pbHk9ay5mb250RmFtaWx5O2Quc3RyaW5nPWU7ZC5vbj0idHJ1ZSI7Zj1rLmZvbnRTaXplKmsuc2NhbGUvdGhpcy52bWxTY2FsZTtkLnN0eWxlLmZvbnRTaXplPWYrInB4Ijsoay5mb250U3R5bGUmbXhDb25zdGFudHMuRk9OVF9CT0xEKT09bXhDb25zdGFudHMuRk9OVF9CT0xEJiYoZC5zdHlsZS5mb250V2VpZ2h0PSJib2xkIik7KGsuZm9udFN0eWxlJm14Q29uc3RhbnRzLkZPTlRfSVRBTElDKT09bXhDb25zdGFudHMuRk9OVF9JVEFMSUMmJihkLnN0eWxlLmZvbnRTdHlsZT0iaXRhbGljIik7KGsuZm9udFN0eWxlJm14Q29uc3RhbnRzLkZPTlRfVU5ERVJMSU5FKT09bXhDb25zdGFudHMuRk9OVF9VTkRFUkxJTkUmJihkLnN0eWxlLnRleHREZWNvcmF0aW9uPSJ1bmRlcmxpbmUiKTtlPWUuc3BsaXQoIlxuIik7az1mKyhlLmxlbmd0aC0xKSpmKm14Q29uc3RhbnRzLkxJTkVfSEVJR0hUO2Y9ZT0wOwpnPT1teENvbnN0YW50cy5BTElHTl9CT1RUT00/Zj0tay8yOmchPW14Q29uc3RhbnRzLkFMSUdOX01JRERMRSYmKGY9ay8yKTtudWxsIT1wJiYoYy5zdHlsZS5yb3RhdGlvbj1wLGc9TWF0aC5QSS8xODAqcCxlPU1hdGguc2luKGcpKmYsZio9TWF0aC5jb3MoZykpO2MuYXBwZW5kQ2hpbGQoZCk7Yy5zdHlsZS5sZWZ0PXRoaXMuZm9ybWF0KGEtZSkrInB4IjtjLnN0eWxlLnRvcD10aGlzLmZvcm1hdChiK2YpKyJweCI7dGhpcy5yb290LmFwcGVuZENoaWxkKGMpfTtteFZtbENhbnZhczJELnByb3RvdHlwZS5zdHJva2U9ZnVuY3Rpb24oKXt0aGlzLmFkZE5vZGUoITEsITApfTtteFZtbENhbnZhczJELnByb3RvdHlwZS5maWxsPWZ1bmN0aW9uKCl7dGhpcy5hZGROb2RlKCEwLCExKX07bXhWbWxDYW52YXMyRC5wcm90b3R5cGUuZmlsbEFuZFN0cm9rZT1mdW5jdGlvbigpe3RoaXMuYWRkTm9kZSghMCwhMCl9OwpmdW5jdGlvbiBteEd1aWRlKGEsYil7dGhpcy5ncmFwaD1hO3RoaXMuc2V0U3RhdGVzKGIpfW14R3VpZGUucHJvdG90eXBlLmdyYXBoPW51bGw7bXhHdWlkZS5wcm90b3R5cGUuc3RhdGVzPW51bGw7bXhHdWlkZS5wcm90b3R5cGUuaG9yaXpvbnRhbD0hMDtteEd1aWRlLnByb3RvdHlwZS52ZXJ0aWNhbD0hMDtteEd1aWRlLnByb3RvdHlwZS5ndWlkZVg9bnVsbDtteEd1aWRlLnByb3RvdHlwZS5ndWlkZVk9bnVsbDtteEd1aWRlLnByb3RvdHlwZS5yb3VuZGVkPSExO214R3VpZGUucHJvdG90eXBlLnRvbGVyYW5jZT0yO214R3VpZGUucHJvdG90eXBlLnNldFN0YXRlcz1mdW5jdGlvbihhKXt0aGlzLnN0YXRlcz1hfTtteEd1aWRlLnByb3RvdHlwZS5pc0VuYWJsZWRGb3JFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4hMH07Cm14R3VpZGUucHJvdG90eXBlLmdldEd1aWRlVG9sZXJhbmNlPWZ1bmN0aW9uKGEpe3JldHVybiBhJiZ0aGlzLmdyYXBoLmdyaWRFbmFibGVkP3RoaXMuZ3JhcGguZ3JpZFNpemUvMjp0aGlzLnRvbGVyYW5jZX07bXhHdWlkZS5wcm90b3R5cGUuY3JlYXRlR3VpZGVTaGFwZT1mdW5jdGlvbihhKXthPW5ldyBteFBvbHlsaW5lKFtdLG14Q29uc3RhbnRzLkdVSURFX0NPTE9SLG14Q29uc3RhbnRzLkdVSURFX1NUUk9LRVdJRFRIKTthLmlzRGFzaGVkPSEwO3JldHVybiBhfTtteEd1aWRlLnByb3RvdHlwZS5pc1N0YXRlSWdub3JlZD1mdW5jdGlvbihhKXtyZXR1cm4hMX07Cm14R3VpZGUucHJvdG90eXBlLm1vdmU9ZnVuY3Rpb24oYSxiLGMsZCl7aWYobnVsbCE9dGhpcy5zdGF0ZXMmJih0aGlzLmhvcml6b250YWx8fHRoaXMudmVydGljYWwpJiZudWxsIT1hJiZudWxsIT1iKXtkPWZ1bmN0aW9uKGMsZCxlKXt2YXIgZj0hMTtlJiZNYXRoLmFicyhjLXopPHQ/KGIueT1jLWEuZ2V0Q2VudGVyWSgpLHQ9TWF0aC5hYnMoYy16KSxmPSEwKTplfHwoTWF0aC5hYnMoYy1CKTx0PyhiLnk9Yy1hLnksdD1NYXRoLmFicyhjLUIpLGY9ITApOk1hdGguYWJzKGMtQSk8dCYmKGIueT1jLWEueS1hLmhlaWdodCx0PU1hdGguYWJzKGMtQSksZj0hMCkpO2YmJihwPWQscT1jLG51bGw9PXRoaXMuZ3VpZGVZJiYodGhpcy5ndWlkZVk9dGhpcy5jcmVhdGVHdWlkZVNoYXBlKCExKSx0aGlzLmd1aWRlWS5kaWFsZWN0PXRoaXMuZ3JhcGguZGlhbGVjdCE9bXhDb25zdGFudHMuRElBTEVDVF9TVkc/bXhDb25zdGFudHMuRElBTEVDVF9WTUw6bXhDb25zdGFudHMuRElBTEVDVF9TVkcsdGhpcy5ndWlkZVkucG9pbnRlckV2ZW50cz0KITEsdGhpcy5ndWlkZVkuaW5pdCh0aGlzLmdyYXBoLmdldFZpZXcoKS5nZXRPdmVybGF5UGFuZSgpKSkpO249bnx8Zn07dmFyIGU9ZnVuY3Rpb24oYyxkLGUpe3ZhciBmPSExO2UmJk1hdGguYWJzKGMteSk8cj8oYi54PWMtYS5nZXRDZW50ZXJYKCkscj1NYXRoLmFicyhjLXkpLGY9ITApOmV8fChNYXRoLmFicyhjLXUpPHI/KGIueD1jLWEueCxyPU1hdGguYWJzKGMtdSksZj0hMCk6TWF0aC5hYnMoYy14KTxyJiYoYi54PWMtYS54LWEud2lkdGgscj1NYXRoLmFicyhjLXgpLGY9ITApKTtmJiYobD1kLG09YyxudWxsPT10aGlzLmd1aWRlWCYmKHRoaXMuZ3VpZGVYPXRoaXMuY3JlYXRlR3VpZGVTaGFwZSghMCksdGhpcy5ndWlkZVguZGlhbGVjdD10aGlzLmdyYXBoLmRpYWxlY3QhPW14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHP214Q29uc3RhbnRzLkRJQUxFQ1RfVk1MOm14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHLHRoaXMuZ3VpZGVYLnBvaW50ZXJFdmVudHM9ITEsdGhpcy5ndWlkZVguaW5pdCh0aGlzLmdyYXBoLmdldFZpZXcoKS5nZXRPdmVybGF5UGFuZSgpKSkpOwprPWt8fGZ9LGY9dGhpcy5ncmFwaC5nZXRWaWV3KCkuc2NhbGUsZj10aGlzLmdldEd1aWRlVG9sZXJhbmNlKGMpKmYsZz1hLmNsb25lKCk7Zy54Kz1iLng7Zy55Kz1iLnk7Zm9yKHZhciBrPSExLGw9bnVsbCxtPW51bGwsbj0hMSxwPW51bGwscT1udWxsLHI9Zix0PWYsdT1nLngseD1nLngrZy53aWR0aCx5PWcuZ2V0Q2VudGVyWCgpLEI9Zy55LEE9Zy55K2cuaGVpZ2h0LHo9Zy5nZXRDZW50ZXJZKCksZj0wO2Y8dGhpcy5zdGF0ZXMubGVuZ3RoO2YrKylnPXRoaXMuc3RhdGVzW2ZdLG51bGw9PWd8fHRoaXMuaXNTdGF0ZUlnbm9yZWQoZyl8fCh0aGlzLmhvcml6b250YWwmJihlLmNhbGwodGhpcyxnLmdldENlbnRlclgoKSxnLCEwKSxlLmNhbGwodGhpcyxnLngsZywhMSksZS5jYWxsKHRoaXMsZy54K2cud2lkdGgsZywhMSksbnVsbD09Zy5jZWxsJiZlLmNhbGwodGhpcyxnLmdldENlbnRlclgoKSxnLCExKSksdGhpcy52ZXJ0aWNhbCYmKGQuY2FsbCh0aGlzLGcuZ2V0Q2VudGVyWSgpLGcsCiEwKSxkLmNhbGwodGhpcyxnLnksZywhMSksZC5jYWxsKHRoaXMsZy55K2cuaGVpZ2h0LGcsITEpLG51bGw9PWcuY2VsbCYmZC5jYWxsKHRoaXMsZy5nZXRDZW50ZXJZKCksZywhMSkpKTt0aGlzLmdyYXBoLnNuYXBEZWx0YShiLGEsIWMsayxuKTtiPXRoaXMuZ2V0RGVsdGEoYSxsLGIueCxwLGIueSk7Yz10aGlzLmdyYXBoLmNvbnRhaW5lcjtrfHxudWxsPT10aGlzLmd1aWRlWD9udWxsIT10aGlzLmd1aWRlWCYmKGU9ZD1udWxsLG51bGwhPWwmJm51bGwhPWEmJihkPU1hdGgubWluKGEueStiLnktdGhpcy5ncmFwaC5wYW5EeSxsLnkpLGU9TWF0aC5tYXgoYS55K2EuaGVpZ2h0K2IueS10aGlzLmdyYXBoLnBhbkR5LGwueStsLmhlaWdodCkpLHRoaXMuZ3VpZGVYLnBvaW50cz1udWxsIT1kJiZudWxsIT1lP1tuZXcgbXhQb2ludChtLGQpLG5ldyBteFBvaW50KG0sZSldOltuZXcgbXhQb2ludChtLC10aGlzLmdyYXBoLnBhbkR5KSxuZXcgbXhQb2ludChtLGMuc2Nyb2xsSGVpZ2h0LTMtdGhpcy5ncmFwaC5wYW5EeSldLAp0aGlzLmd1aWRlWC5zdHJva2U9dGhpcy5nZXRHdWlkZUNvbG9yKGwsITApLHRoaXMuZ3VpZGVYLm5vZGUuc3R5bGUudmlzaWJpbGl0eT0idmlzaWJsZSIsdGhpcy5ndWlkZVgucmVkcmF3KCkpOnRoaXMuZ3VpZGVYLm5vZGUuc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIjtufHxudWxsPT10aGlzLmd1aWRlWT9udWxsIT10aGlzLmd1aWRlWSYmKGU9ZD1udWxsLG51bGwhPXAmJm51bGwhPWEmJihkPU1hdGgubWluKGEueCtiLngtdGhpcy5ncmFwaC5wYW5EeCxwLngpLGU9TWF0aC5tYXgoYS54K2Eud2lkdGgrYi54LXRoaXMuZ3JhcGgucGFuRHgscC54K3Aud2lkdGgpKSx0aGlzLmd1aWRlWS5wb2ludHM9bnVsbCE9ZCYmbnVsbCE9ZT9bbmV3IG14UG9pbnQoZCxxKSxuZXcgbXhQb2ludChlLHEpXTpbbmV3IG14UG9pbnQoLXRoaXMuZ3JhcGgucGFuRHgscSksbmV3IG14UG9pbnQoYy5zY3JvbGxXaWR0aC0zLXRoaXMuZ3JhcGgucGFuRHgscSldLHRoaXMuZ3VpZGVZLnN0cm9rZT10aGlzLmdldEd1aWRlQ29sb3IocCwKITEpLHRoaXMuZ3VpZGVZLm5vZGUuc3R5bGUudmlzaWJpbGl0eT0idmlzaWJsZSIsdGhpcy5ndWlkZVkucmVkcmF3KCkpOnRoaXMuZ3VpZGVZLm5vZGUuc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIn1yZXR1cm4gYn07bXhHdWlkZS5wcm90b3R5cGUuZ2V0RGVsdGE9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj10aGlzLmdyYXBoLnZpZXcuc2NhbGU7aWYodGhpcy5yb3VuZGVkfHxudWxsIT1iJiZudWxsPT1iLmNlbGwpYz1NYXRoLnJvdW5kKChhLngrYykvZikqZi1hLng7aWYodGhpcy5yb3VuZGVkfHxudWxsIT1kJiZudWxsPT1kLmNlbGwpZT1NYXRoLnJvdW5kKChhLnkrZSkvZikqZi1hLnk7cmV0dXJuIG5ldyBteFBvaW50KGMsZSl9O214R3VpZGUucHJvdG90eXBlLmdldEd1aWRlQ29sb3I9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbXhDb25zdGFudHMuR1VJREVfQ09MT1J9O214R3VpZGUucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXt0aGlzLnNldFZpc2libGUoITEpfTsKbXhHdWlkZS5wcm90b3R5cGUuc2V0VmlzaWJsZT1mdW5jdGlvbihhKXtudWxsIT10aGlzLmd1aWRlWCYmKHRoaXMuZ3VpZGVYLm5vZGUuc3R5bGUudmlzaWJpbGl0eT1hPyJ2aXNpYmxlIjoiaGlkZGVuIik7bnVsbCE9dGhpcy5ndWlkZVkmJih0aGlzLmd1aWRlWS5ub2RlLnN0eWxlLnZpc2liaWxpdHk9YT8idmlzaWJsZSI6ImhpZGRlbiIpfTtteEd1aWRlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5ndWlkZVgmJih0aGlzLmd1aWRlWC5kZXN0cm95KCksdGhpcy5ndWlkZVg9bnVsbCk7bnVsbCE9dGhpcy5ndWlkZVkmJih0aGlzLmd1aWRlWS5kZXN0cm95KCksdGhpcy5ndWlkZVk9bnVsbCl9O2Z1bmN0aW9uIG14U2hhcGUoYSl7dGhpcy5zdGVuY2lsPWE7dGhpcy5pbml0U3R5bGVzKCl9bXhTaGFwZS5wcm90b3R5cGUuZGlhbGVjdD1udWxsO214U2hhcGUucHJvdG90eXBlLnNjYWxlPTE7bXhTaGFwZS5wcm90b3R5cGUuYW50aUFsaWFzPSEwOwpteFNoYXBlLnByb3RvdHlwZS5taW5TdmdTdHJva2VXaWR0aD0xO214U2hhcGUucHJvdG90eXBlLmJvdW5kcz1udWxsO214U2hhcGUucHJvdG90eXBlLnBvaW50cz1udWxsO214U2hhcGUucHJvdG90eXBlLm5vZGU9bnVsbDtteFNoYXBlLnByb3RvdHlwZS5zdGF0ZT1udWxsO214U2hhcGUucHJvdG90eXBlLnN0eWxlPW51bGw7bXhTaGFwZS5wcm90b3R5cGUuYm91bmRpbmdCb3g9bnVsbDtteFNoYXBlLnByb3RvdHlwZS5zdGVuY2lsPW51bGw7bXhTaGFwZS5wcm90b3R5cGUuc3ZnU3Ryb2tlVG9sZXJhbmNlPTg7bXhTaGFwZS5wcm90b3R5cGUucG9pbnRlckV2ZW50cz0hMDtteFNoYXBlLnByb3RvdHlwZS5zdmdQb2ludGVyRXZlbnRzPSJhbGwiO214U2hhcGUucHJvdG90eXBlLnNoYXBlUG9pbnRlckV2ZW50cz0hMTtteFNoYXBlLnByb3RvdHlwZS5zdGVuY2lsUG9pbnRlckV2ZW50cz0hMTtteFNoYXBlLnByb3RvdHlwZS52bWxTY2FsZT0xOwpteFNoYXBlLnByb3RvdHlwZS5vdXRsaW5lPSExO214U2hhcGUucHJvdG90eXBlLnZpc2libGU9ITA7bXhTaGFwZS5wcm90b3R5cGUudXNlU3ZnQm91bmRpbmdCb3g9ITE7bXhTaGFwZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihhKXtudWxsPT10aGlzLm5vZGUmJih0aGlzLm5vZGU9dGhpcy5jcmVhdGUoYSksbnVsbCE9YSYmYS5hcHBlbmRDaGlsZCh0aGlzLm5vZGUpKX07bXhTaGFwZS5wcm90b3R5cGUuaW5pdFN0eWxlcz1mdW5jdGlvbihhKXt0aGlzLnN0cm9rZXdpZHRoPTE7dGhpcy5yb3RhdGlvbj0wO3RoaXMuc3Ryb2tlT3BhY2l0eT10aGlzLmZpbGxPcGFjaXR5PXRoaXMub3BhY2l0eT0xMDA7dGhpcy5mbGlwVj10aGlzLmZsaXBIPSExfTtteFNoYXBlLnByb3RvdHlwZS5pc1BhcnNlVm1sPWZ1bmN0aW9uKCl7cmV0dXJuITB9O214U2hhcGUucHJvdG90eXBlLmlzSHRtbEFsbG93ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX07Cm14U2hhcGUucHJvdG90eXBlLmdldFN2Z1NjcmVlbk9mZnNldD1mdW5jdGlvbigpe3JldHVybiAxPT1teFV0aWxzLm1vZChNYXRoLm1heCgxLE1hdGgucm91bmQoKHRoaXMuc3RlbmNpbCYmImluaGVyaXQiIT10aGlzLnN0ZW5jaWwuc3Ryb2tld2lkdGg/TnVtYmVyKHRoaXMuc3RlbmNpbC5zdHJva2V3aWR0aCk6dGhpcy5zdHJva2V3aWR0aCkqdGhpcy5zY2FsZSkpLDIpPy41OjB9O214U2hhcGUucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YSYmbnVsbCE9YS5vd25lclNWR0VsZW1lbnQ/dGhpcy5jcmVhdGVTdmcoYSk6OD09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHwhbXhDbGllbnQuSVNfVk1MfHx0aGlzLmRpYWxlY3QhPW14Q29uc3RhbnRzLkRJQUxFQ1RfVk1MJiZ0aGlzLmlzSHRtbEFsbG93ZWQoKT90aGlzLmNyZWF0ZUh0bWwoYSk6dGhpcy5jcmVhdGVWbWwoYSl9OwpteFNoYXBlLnByb3RvdHlwZS5jcmVhdGVTdmc9ZnVuY3Rpb24oKXtyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG14Q29uc3RhbnRzLk5TX1NWRywiZyIpfTtteFNoYXBlLnByb3RvdHlwZS5jcmVhdGVWbWw9ZnVuY3Rpb24oKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KG14Q2xpZW50LlZNTF9QUkVGSVgrIjpncm91cCIpO2Euc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtyZXR1cm4gYX07bXhTaGFwZS5wcm90b3R5cGUuY3JlYXRlSHRtbD1mdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Euc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtyZXR1cm4gYX07bXhTaGFwZS5wcm90b3R5cGUucmVjb25maWd1cmU9ZnVuY3Rpb24oKXt0aGlzLnJlZHJhdygpfTsKbXhTaGFwZS5wcm90b3R5cGUucmVkcmF3PWZ1bmN0aW9uKCl7dGhpcy51cGRhdGVCb3VuZHNGcm9tUG9pbnRzKCk7dGhpcy52aXNpYmxlJiZ0aGlzLmNoZWNrQm91bmRzKCk/KHRoaXMubm9kZS5zdHlsZS52aXNpYmlsaXR5PSJ2aXNpYmxlIix0aGlzLmNsZWFyKCksIkRJViIhPXRoaXMubm9kZS5ub2RlTmFtZXx8IXRoaXMuaXNIdG1sQWxsb3dlZCgpJiZteENsaWVudC5JU19WTUw/dGhpcy5yZWRyYXdTaGFwZSgpOnRoaXMucmVkcmF3SHRtbFNoYXBlKCksdGhpcy51cGRhdGVCb3VuZGluZ0JveCgpKToodGhpcy5ub2RlLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiIsdGhpcy5ib3VuZGluZ0JveD1udWxsKX07Cm14U2hhcGUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy5ub2RlLm93bmVyU1ZHRWxlbWVudClmb3IoO251bGwhPXRoaXMubm9kZS5sYXN0Q2hpbGQ7KXRoaXMubm9kZS5yZW1vdmVDaGlsZCh0aGlzLm5vZGUubGFzdENoaWxkKTtlbHNlIHRoaXMubm9kZS5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTsiKyhudWxsIT10aGlzLmN1cnNvcj8iY3Vyc29yOiIrdGhpcy5jdXJzb3IrIjsiOiIiKSx0aGlzLm5vZGUuaW5uZXJIVE1MPSIifTsKbXhTaGFwZS5wcm90b3R5cGUudXBkYXRlQm91bmRzRnJvbVBvaW50cz1mdW5jdGlvbigpe3ZhciBhPXRoaXMucG9pbnRzO2lmKG51bGwhPWEmJjA8YS5sZW5ndGgmJm51bGwhPWFbMF0pe3RoaXMuYm91bmRzPW5ldyBteFJlY3RhbmdsZShOdW1iZXIoYVswXS54KSxOdW1iZXIoYVswXS55KSwxLDEpO2Zvcih2YXIgYj0xO2I8dGhpcy5wb2ludHMubGVuZ3RoO2IrKyludWxsIT1hW2JdJiZ0aGlzLmJvdW5kcy5hZGQobmV3IG14UmVjdGFuZ2xlKE51bWJlcihhW2JdLngpLE51bWJlcihhW2JdLnkpLDEsMSkpfX07Cm14U2hhcGUucHJvdG90eXBlLmdldExhYmVsQm91bmRzPWZ1bmN0aW9uKGEpe3ZhciBiPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9ESVJFQ1RJT04sbXhDb25zdGFudHMuRElSRUNUSU9OX0VBU1QpLGM9YTtiIT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEgmJmIhPW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSCYmbnVsbCE9dGhpcy5zdGF0ZSYmbnVsbCE9dGhpcy5zdGF0ZS50ZXh0JiZ0aGlzLnN0YXRlLnRleHQuaXNQYWludEJvdW5kc0ludmVydGVkKCkmJihjPWMuY2xvbmUoKSxiPWMud2lkdGgsYy53aWR0aD1jLmhlaWdodCxjLmhlaWdodD1iKTtjPXRoaXMuZ2V0TGFiZWxNYXJnaW5zKGMpO2lmKG51bGwhPWMpe3ZhciBkPSIxIj09bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0ZMSVBILCExKSxlPSIxIj09bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0ZMSVBWLAohMSk7bnVsbCE9dGhpcy5zdGF0ZSYmbnVsbCE9dGhpcy5zdGF0ZS50ZXh0JiZ0aGlzLnN0YXRlLnRleHQuaXNQYWludEJvdW5kc0ludmVydGVkKCkmJihiPWMueCxjLng9Yy5oZWlnaHQsYy5oZWlnaHQ9Yy53aWR0aCxjLndpZHRoPWMueSxjLnk9YixiPWQsZD1lLGU9Yik7cmV0dXJuIG14VXRpbHMuZ2V0RGlyZWN0ZWRCb3VuZHMoYSxjLHRoaXMuc3R5bGUsZCxlKX1yZXR1cm4gYX07bXhTaGFwZS5wcm90b3R5cGUuZ2V0TGFiZWxNYXJnaW5zPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsfTsKbXhTaGFwZS5wcm90b3R5cGUuY2hlY2tCb3VuZHM9ZnVuY3Rpb24oKXtyZXR1cm4haXNOYU4odGhpcy5zY2FsZSkmJmlzRmluaXRlKHRoaXMuc2NhbGUpJiYwPHRoaXMuc2NhbGUmJm51bGwhPXRoaXMuYm91bmRzJiYhaXNOYU4odGhpcy5ib3VuZHMueCkmJiFpc05hTih0aGlzLmJvdW5kcy55KSYmIWlzTmFOKHRoaXMuYm91bmRzLndpZHRoKSYmIWlzTmFOKHRoaXMuYm91bmRzLmhlaWdodCkmJjA8dGhpcy5ib3VuZHMud2lkdGgmJjA8dGhpcy5ib3VuZHMuaGVpZ2h0fTtteFNoYXBlLnByb3RvdHlwZS5jcmVhdGVWbWxHcm91cD1mdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobXhDbGllbnQuVk1MX1BSRUZJWCsiOmdyb3VwIik7YS5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiO2Euc3R5bGUud2lkdGg9dGhpcy5ub2RlLnN0eWxlLndpZHRoO2Euc3R5bGUuaGVpZ2h0PXRoaXMubm9kZS5zdHlsZS5oZWlnaHQ7cmV0dXJuIGF9OwpteFNoYXBlLnByb3RvdHlwZS5yZWRyYXdTaGFwZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuY3JlYXRlQ2FudmFzKCk7bnVsbCE9YSYmKGEucG9pbnRlckV2ZW50cz10aGlzLnBvaW50ZXJFdmVudHMsdGhpcy5wYWludChhKSx0aGlzLm5vZGUhPWEucm9vdCYmdGhpcy5ub2RlLmluc2VydEFkamFjZW50SFRNTCgiYmVmb3JlZW5kIixhLnJvb3Qub3V0ZXJIVE1MKSwiRElWIj09dGhpcy5ub2RlLm5vZGVOYW1lJiY4PT1kb2N1bWVudC5kb2N1bWVudE1vZGUmJih0aGlzLm5vZGUuc3R5bGUuZmlsdGVyPSIiLG14VXRpbHMuYWRkVHJhbnNwYXJlbnRCYWNrZ3JvdW5kRmlsdGVyKHRoaXMubm9kZSkpLHRoaXMuZGVzdHJveUNhbnZhcyhhKSl9OwpteFNoYXBlLnByb3RvdHlwZS5jcmVhdGVDYW52YXM9ZnVuY3Rpb24oKXt2YXIgYT1udWxsO251bGwhPXRoaXMubm9kZS5vd25lclNWR0VsZW1lbnQ/YT10aGlzLmNyZWF0ZVN2Z0NhbnZhcygpOm14Q2xpZW50LklTX1ZNTCYmKHRoaXMudXBkYXRlVm1sQ29udGFpbmVyKCksYT10aGlzLmNyZWF0ZVZtbENhbnZhcygpKTtudWxsIT1hJiZ0aGlzLm91dGxpbmUmJihhLnNldFN0cm9rZVdpZHRoKHRoaXMuc3Ryb2tld2lkdGgpLGEuc2V0U3Ryb2tlQ29sb3IodGhpcy5zdHJva2UpLG51bGwhPXRoaXMuaXNEYXNoZWQmJmEuc2V0RGFzaGVkKHRoaXMuaXNEYXNoZWQpLGEuc2V0U3Ryb2tlV2lkdGg9ZnVuY3Rpb24oKXt9LGEuc2V0U3Ryb2tlQ29sb3I9ZnVuY3Rpb24oKXt9LGEuc2V0RmlsbENvbG9yPWZ1bmN0aW9uKCl7fSxhLnNldEdyYWRpZW50PWZ1bmN0aW9uKCl7fSxhLnNldERhc2hlZD1mdW5jdGlvbigpe30sYS50ZXh0PWZ1bmN0aW9uKCl7fSk7cmV0dXJuIGF9OwpteFNoYXBlLnByb3RvdHlwZS5jcmVhdGVTdmdDYW52YXM9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgbXhTdmdDYW52YXMyRCh0aGlzLm5vZGUsITEpO2Euc3Ryb2tlVG9sZXJhbmNlPXRoaXMucG9pbnRlckV2ZW50cz90aGlzLnN2Z1N0cm9rZVRvbGVyYW5jZTowO2EucG9pbnRlckV2ZW50c1ZhbHVlPXRoaXMuc3ZnUG9pbnRlckV2ZW50czt2YXIgYj10aGlzLmdldFN2Z1NjcmVlbk9mZnNldCgpOzAhPWI/dGhpcy5ub2RlLnNldEF0dHJpYnV0ZSgidHJhbnNmb3JtIiwidHJhbnNsYXRlKCIrYisiLCIrYisiKSIpOnRoaXMubm9kZS5yZW1vdmVBdHRyaWJ1dGUoInRyYW5zZm9ybSIpO2EubWluU3Ryb2tlV2lkdGg9dGhpcy5taW5TdmdTdHJva2VXaWR0aDt0aGlzLmFudGlBbGlhc3x8KGEuZm9ybWF0PWZ1bmN0aW9uKGEpe3JldHVybiBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoYSkpfSk7cmV0dXJuIGF9OwpteFNoYXBlLnByb3RvdHlwZS5jcmVhdGVWbWxDYW52YXM9ZnVuY3Rpb24oKXt2YXIgYT04PT1kb2N1bWVudC5kb2N1bWVudE1vZGUmJnRoaXMuaXNQYXJzZVZtbCgpP3RoaXMuY3JlYXRlVm1sR3JvdXAoKTp0aGlzLm5vZGUsYj1uZXcgbXhWbWxDYW52YXMyRChhLCExKTsiIiE9YS50YWdVcm4mJihhLmNvb3Jkc2l6ZT1NYXRoLm1heCgxLE1hdGgucm91bmQodGhpcy5ib3VuZHMud2lkdGgpKSp0aGlzLnZtbFNjYWxlKyIsIitNYXRoLm1heCgxLE1hdGgucm91bmQodGhpcy5ib3VuZHMuaGVpZ2h0KSkqdGhpcy52bWxTY2FsZSxiLnNjYWxlKHRoaXMudm1sU2NhbGUpLGIudm1sU2NhbGU9dGhpcy52bWxTY2FsZSk7YT10aGlzLnNjYWxlO2IudHJhbnNsYXRlKC1NYXRoLnJvdW5kKHRoaXMuYm91bmRzLngvYSksLU1hdGgucm91bmQodGhpcy5ib3VuZHMueS9hKSk7cmV0dXJuIGJ9OwpteFNoYXBlLnByb3RvdHlwZS51cGRhdGVWbWxDb250YWluZXI9ZnVuY3Rpb24oKXt0aGlzLm5vZGUuc3R5bGUubGVmdD1NYXRoLnJvdW5kKHRoaXMuYm91bmRzLngpKyJweCI7dGhpcy5ub2RlLnN0eWxlLnRvcD1NYXRoLnJvdW5kKHRoaXMuYm91bmRzLnkpKyJweCI7dmFyIGE9TWF0aC5tYXgoMSxNYXRoLnJvdW5kKHRoaXMuYm91bmRzLmhlaWdodCkpO3RoaXMubm9kZS5zdHlsZS53aWR0aD1NYXRoLm1heCgxLE1hdGgucm91bmQodGhpcy5ib3VuZHMud2lkdGgpKSsicHgiO3RoaXMubm9kZS5zdHlsZS5oZWlnaHQ9YSsicHgiO3RoaXMubm9kZS5zdHlsZS5vdmVyZmxvdz0idmlzaWJsZSJ9O214U2hhcGUucHJvdG90eXBlLnJlZHJhd0h0bWxTaGFwZT1mdW5jdGlvbigpe3RoaXMudXBkYXRlSHRtbEJvdW5kcyh0aGlzLm5vZGUpO3RoaXMudXBkYXRlSHRtbEZpbHRlcnModGhpcy5ub2RlKTt0aGlzLnVwZGF0ZUh0bWxDb2xvcnModGhpcy5ub2RlKX07Cm14U2hhcGUucHJvdG90eXBlLnVwZGF0ZUh0bWxGaWx0ZXJzPWZ1bmN0aW9uKGEpe3ZhciBiPSIiOzEwMD50aGlzLm9wYWNpdHkmJihiKz0iYWxwaGEob3BhY2l0eT0iK3RoaXMub3BhY2l0eSsiKSIpO3RoaXMuaXNTaGFkb3cmJihiKz0icHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LmRyb3BTaGFkb3cgKE9mZlg9JyIrTWF0aC5yb3VuZChteENvbnN0YW50cy5TSEFET1dfT0ZGU0VUX1gqdGhpcy5zY2FsZSkrIicsIE9mZlk9JyIrTWF0aC5yb3VuZChteENvbnN0YW50cy5TSEFET1dfT0ZGU0VUX1kqdGhpcy5zY2FsZSkrIicsIENvbG9yPSciK214Q29uc3RhbnRzLlZNTF9TSEFET1dDT0xPUisiJykiKTtpZihudWxsIT10aGlzLmZpbGwmJnRoaXMuZmlsbCE9bXhDb25zdGFudHMuTk9ORSYmdGhpcy5ncmFkaWVudCYmdGhpcy5ncmFkaWVudCE9bXhDb25zdGFudHMuTk9ORSl7dmFyIGM9dGhpcy5maWxsLGQ9dGhpcy5ncmFkaWVudCxlPSIwIixmPXtlYXN0OjAsc291dGg6MSwKd2VzdDoyLG5vcnRoOjN9LGc9bnVsbCE9dGhpcy5kaXJlY3Rpb24/Zlt0aGlzLmRpcmVjdGlvbl06MDtudWxsIT10aGlzLmdyYWRpZW50RGlyZWN0aW9uJiYoZz1teFV0aWxzLm1vZChnK2ZbdGhpcy5ncmFkaWVudERpcmVjdGlvbl0tMSw0KSk7MT09Zz8oZT0iMSIsZj1jLGM9ZCxkPWYpOjI9PWc/KGY9YyxjPWQsZD1mKTozPT1nJiYoZT0iMSIpO2IrPSJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuZ3JhZGllbnQoc3RhcnRDb2xvclN0cj0nIitjKyInLCBlbmRDb2xvclN0cj0nIitkKyInLCBncmFkaWVudFR5cGU9JyIrZSsiJykifWEuc3R5bGUuZmlsdGVyPWJ9OwpteFNoYXBlLnByb3RvdHlwZS51cGRhdGVIdG1sQ29sb3JzPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuc3Ryb2tlO251bGwhPWImJmIhPW14Q29uc3RhbnRzLk5PTkU/KGEuc3R5bGUuYm9yZGVyQ29sb3I9Yix0aGlzLmlzRGFzaGVkP2Euc3R5bGUuYm9yZGVyU3R5bGU9ImRhc2hlZCI6MDx0aGlzLnN0cm9rZXdpZHRoJiYoYS5zdHlsZS5ib3JkZXJTdHlsZT0ic29saWQiKSxhLnN0eWxlLmJvcmRlcldpZHRoPU1hdGgubWF4KDEsTWF0aC5jZWlsKHRoaXMuc3Ryb2tld2lkdGgqdGhpcy5zY2FsZSkpKyJweCIpOmEuc3R5bGUuYm9yZGVyV2lkdGg9IjBweCI7Yj10aGlzLm91dGxpbmU/bnVsbDp0aGlzLmZpbGw7bnVsbCE9YiYmYiE9bXhDb25zdGFudHMuTk9ORT8oYS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9YixhLnN0eWxlLmJhY2tncm91bmRJbWFnZT0ibm9uZSIpOnRoaXMucG9pbnRlckV2ZW50cz9hLnN0eWxlLmJhY2tncm91bmRDb2xvcj0idHJhbnNwYXJlbnQiOjg9PWRvY3VtZW50LmRvY3VtZW50TW9kZT8KbXhVdGlscy5hZGRUcmFuc3BhcmVudEJhY2tncm91bmRGaWx0ZXIoYSk6dGhpcy5zZXRUcmFuc3BhcmVudEJhY2tncm91bmRJbWFnZShhKX07Cm14U2hhcGUucHJvdG90eXBlLnVwZGF0ZUh0bWxCb3VuZHM9ZnVuY3Rpb24oYSl7dmFyIGI9OTw9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlPzA6TWF0aC5jZWlsKHRoaXMuc3Ryb2tld2lkdGgqdGhpcy5zY2FsZSk7YS5zdHlsZS5ib3JkZXJXaWR0aD1NYXRoLm1heCgxLGIpKyJweCI7YS5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIjthLnN0eWxlLmxlZnQ9TWF0aC5yb3VuZCh0aGlzLmJvdW5kcy54LWIvMikrInB4IjthLnN0eWxlLnRvcD1NYXRoLnJvdW5kKHRoaXMuYm91bmRzLnktYi8yKSsicHgiOyJDU1MxQ29tcGF0Ij09ZG9jdW1lbnQuY29tcGF0TW9kZSYmKGI9LWIpO2Euc3R5bGUud2lkdGg9TWF0aC5yb3VuZChNYXRoLm1heCgwLHRoaXMuYm91bmRzLndpZHRoK2IpKSsicHgiO2Euc3R5bGUuaGVpZ2h0PU1hdGgucm91bmQoTWF0aC5tYXgoMCx0aGlzLmJvdW5kcy5oZWlnaHQrYikpKyJweCJ9OwpteFNoYXBlLnByb3RvdHlwZS5kZXN0cm95Q2FudmFzPWZ1bmN0aW9uKGEpe2lmKGEgaW5zdGFuY2VvZiBteFN2Z0NhbnZhczJEKXtmb3IodmFyIGIgaW4gYS5ncmFkaWVudHMpe3ZhciBjPWEuZ3JhZGllbnRzW2JdO251bGwhPWMmJihjLm14UmVmQ291bnQ9KGMubXhSZWZDb3VudHx8MCkrMSl9dGhpcy5yZWxlYXNlU3ZnR3JhZGllbnRzKHRoaXMub2xkR3JhZGllbnRzKTt0aGlzLm9sZEdyYWRpZW50cz1hLmdyYWRpZW50c319OwpteFNoYXBlLnByb3RvdHlwZS5wYWludD1mdW5jdGlvbihhKXt2YXIgYj0hMTtpZihudWxsIT1hJiZ0aGlzLm91dGxpbmUpe3ZhciBjPWEuc3Ryb2tlO2Euc3Ryb2tlPWZ1bmN0aW9uKCl7Yj0hMDtjLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dmFyIGQ9YS5maWxsQW5kU3Ryb2tlO2EuZmlsbEFuZFN0cm9rZT1mdW5jdGlvbigpe2I9ITA7ZC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fXZhciBlPXRoaXMuc2NhbGUsZj10aGlzLmJvdW5kcy54L2UsZz10aGlzLmJvdW5kcy55L2Usaz10aGlzLmJvdW5kcy53aWR0aC9lLGw9dGhpcy5ib3VuZHMuaGVpZ2h0L2U7aWYodGhpcy5pc1BhaW50Qm91bmRzSW52ZXJ0ZWQoKSl2YXIgbT0oay1sKS8yLGY9ZittLGc9Zy1tLG09ayxrPWwsbD1tO3RoaXMudXBkYXRlVHJhbnNmb3JtKGEsZixnLGssbCk7dGhpcy5jb25maWd1cmVDYW52YXMoYSxmLGcsayxsKTttPW51bGw7aWYobnVsbD09dGhpcy5zdGVuY2lsJiZudWxsPT10aGlzLnBvaW50cyYmdGhpcy5zaGFwZVBvaW50ZXJFdmVudHN8fApudWxsIT10aGlzLnN0ZW5jaWwmJnRoaXMuc3RlbmNpbFBvaW50ZXJFdmVudHMpe3ZhciBuPXRoaXMuY3JlYXRlQm91bmRpbmdCb3goKTt0aGlzLmRpYWxlY3Q9PW14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHPyhtPXRoaXMuY3JlYXRlVHJhbnNwYXJlbnRTdmdSZWN0YW5nbGUobi54LG4ueSxuLndpZHRoLG4uaGVpZ2h0KSx0aGlzLm5vZGUuYXBwZW5kQ2hpbGQobSkpOihuPWEuY3JlYXRlUmVjdCgicmVjdCIsbi54L2Usbi55L2Usbi53aWR0aC9lLG4uaGVpZ2h0L2UpLG4uYXBwZW5kQ2hpbGQoYS5jcmVhdGVUcmFuc3BhcmVudEZpbGwoKSksbi5zdHJva2VkPSJmYWxzZSIsYS5yb290LmFwcGVuZENoaWxkKG4pKX1pZihudWxsIT10aGlzLnN0ZW5jaWwpdGhpcy5zdGVuY2lsLmRyYXdTaGFwZShhLHRoaXMsZixnLGssbCk7ZWxzZSBpZihhLnNldFN0cm9rZVdpZHRoKHRoaXMuc3Ryb2tld2lkdGgpLG51bGwhPXRoaXMucG9pbnRzKXtmb3IodmFyIG49W10scD0wO3A8dGhpcy5wb2ludHMubGVuZ3RoO3ArKyludWxsIT0KdGhpcy5wb2ludHNbcF0mJm4ucHVzaChuZXcgbXhQb2ludCh0aGlzLnBvaW50c1twXS54L2UsdGhpcy5wb2ludHNbcF0ueS9lKSk7dGhpcy5wYWludEVkZ2VTaGFwZShhLG4pfWVsc2UgdGhpcy5wYWludFZlcnRleFNoYXBlKGEsZixnLGssbCk7bnVsbCE9bSYmbnVsbCE9YS5zdGF0ZSYmbnVsbCE9YS5zdGF0ZS50cmFuc2Zvcm0mJm0uc2V0QXR0cmlidXRlKCJ0cmFuc2Zvcm0iLGEuc3RhdGUudHJhbnNmb3JtKTtudWxsIT1hJiZ0aGlzLm91dGxpbmUmJiFiJiYoYS5yZWN0KGYsZyxrLGwpLGEuc3Ryb2tlKCkpfTsKbXhTaGFwZS5wcm90b3R5cGUuY29uZmlndXJlQ2FudmFzPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9bnVsbDtudWxsIT10aGlzLnN0eWxlJiYoZj10aGlzLnN0eWxlLmRhc2hQYXR0ZXJuKTthLnNldEFscGhhKHRoaXMub3BhY2l0eS8xMDApO2Euc2V0RmlsbEFscGhhKHRoaXMuZmlsbE9wYWNpdHkvMTAwKTthLnNldFN0cm9rZUFscGhhKHRoaXMuc3Ryb2tlT3BhY2l0eS8xMDApO251bGwhPXRoaXMuaXNTaGFkb3cmJmEuc2V0U2hhZG93KHRoaXMuaXNTaGFkb3cpO251bGwhPXRoaXMuaXNEYXNoZWQmJmEuc2V0RGFzaGVkKHRoaXMuaXNEYXNoZWQsbnVsbCE9dGhpcy5zdHlsZT8xPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRklYX0RBU0gsITEpOiExKTtudWxsIT1mJiZhLnNldERhc2hQYXR0ZXJuKGYpO251bGwhPXRoaXMuZmlsbCYmdGhpcy5maWxsIT1teENvbnN0YW50cy5OT05FJiZ0aGlzLmdyYWRpZW50JiZ0aGlzLmdyYWRpZW50IT1teENvbnN0YW50cy5OT05FPwooYj10aGlzLmdldEdyYWRpZW50Qm91bmRzKGEsYixjLGQsZSksYS5zZXRHcmFkaWVudCh0aGlzLmZpbGwsdGhpcy5ncmFkaWVudCxiLngsYi55LGIud2lkdGgsYi5oZWlnaHQsdGhpcy5ncmFkaWVudERpcmVjdGlvbikpOmEuc2V0RmlsbENvbG9yKHRoaXMuZmlsbCk7YS5zZXRTdHJva2VDb2xvcih0aGlzLnN0cm9rZSl9O214U2hhcGUucHJvdG90eXBlLmdldEdyYWRpZW50Qm91bmRzPWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIG5ldyBteFJlY3RhbmdsZShiLGMsZCxlKX07bXhTaGFwZS5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtPWZ1bmN0aW9uKGEsYixjLGQsZSl7YS5zY2FsZSh0aGlzLnNjYWxlKTthLnJvdGF0ZSh0aGlzLmdldFNoYXBlUm90YXRpb24oKSx0aGlzLmZsaXBILHRoaXMuZmxpcFYsYitkLzIsYytlLzIpfTsKbXhTaGFwZS5wcm90b3R5cGUucGFpbnRWZXJ0ZXhTaGFwZT1mdW5jdGlvbihhLGIsYyxkLGUpe3RoaXMucGFpbnRCYWNrZ3JvdW5kKGEsYixjLGQsZSk7dGhpcy5vdXRsaW5lJiZudWxsIT10aGlzLnN0eWxlJiYwIT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQkFDS0dST1VORF9PVVRMSU5FLDApfHwoYS5zZXRTaGFkb3coITEpLHRoaXMucGFpbnRGb3JlZ3JvdW5kKGEsYixjLGQsZSkpfTtteFNoYXBlLnByb3RvdHlwZS5wYWludEJhY2tncm91bmQ9ZnVuY3Rpb24oYSxiLGMsZCxlKXt9O214U2hhcGUucHJvdG90eXBlLnBhaW50Rm9yZWdyb3VuZD1mdW5jdGlvbihhLGIsYyxkLGUpe307bXhTaGFwZS5wcm90b3R5cGUucGFpbnRFZGdlU2hhcGU9ZnVuY3Rpb24oYSxiKXt9OwpteFNoYXBlLnByb3RvdHlwZS5nZXRBcmNTaXplPWZ1bmN0aW9uKGEsYil7dmFyIGM7IjEiPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQUJTT0xVVEVfQVJDU0laRSwwKT9jPU1hdGgubWluKGEvMixNYXRoLm1pbihiLzIsbXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FSQ1NJWkUsbXhDb25zdGFudHMuTElORV9BUkNTSVpFKS8yKSk6KGM9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FSQ1NJWkUsMTAwKm14Q29uc3RhbnRzLlJFQ1RBTkdMRV9ST1VORElOR19GQUNUT1IpLzEwMCxjPU1hdGgubWluKGEqYyxiKmMpKTtyZXR1cm4gY307Cm14U2hhcGUucHJvdG90eXBlLnBhaW50R2xhc3NFZmZlY3Q9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3ZhciBnPU1hdGguY2VpbCh0aGlzLnN0cm9rZXdpZHRoLzIpO2Euc2V0R3JhZGllbnQoIiNmZmZmZmYiLCIjZmZmZmZmIixiLGMsZCwuNiplLCJzb3V0aCIsLjksLjEpO2EuYmVnaW4oKTtmKz0yKmc7dGhpcy5pc1JvdW5kZWQ/KGEubW92ZVRvKGItZytmLGMtZyksYS5xdWFkVG8oYi1nLGMtZyxiLWcsYy1nK2YpLGEubGluZVRvKGItZyxjKy40KmUpLGEucXVhZFRvKGIrLjUqZCxjKy43KmUsYitkK2csYysuNCplKSxhLmxpbmVUbyhiK2QrZyxjLWcrZiksYS5xdWFkVG8oYitkK2csYy1nLGIrZCtnLWYsYy1nKSk6KGEubW92ZVRvKGItZyxjLWcpLGEubGluZVRvKGItZyxjKy40KmUpLGEucXVhZFRvKGIrLjUqZCxjKy43KmUsYitkK2csYysuNCplKSxhLmxpbmVUbyhiK2QrZyxjLWcpKTthLmNsb3NlKCk7YS5maWxsKCl9OwpteFNoYXBlLnByb3RvdHlwZS5hZGRQb2ludHM9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7aWYobnVsbCE9YiYmMDxiLmxlbmd0aCl7Zz1udWxsIT1nP2c6ITA7dmFyIGs9YltiLmxlbmd0aC0xXTtpZihlJiZjKXtiPWIuc2xpY2UoKTt2YXIgbD1iWzBdLGw9bmV3IG14UG9pbnQoay54KyhsLngtay54KS8yLGsueSsobC55LWsueSkvMik7Yi5zcGxpY2UoMCwwLGwpfXZhciBtPWJbMF0sbD0xO2ZvcihnP2EubW92ZVRvKG0ueCxtLnkpOmEubGluZVRvKG0ueCxtLnkpO2w8KGU/Yi5sZW5ndGg6Yi5sZW5ndGgtMSk7KXtnPWJbbXhVdGlscy5tb2QobCxiLmxlbmd0aCldO3ZhciBuPW0ueC1nLngsbT1tLnktZy55O2lmKGMmJigwIT1ufHwwIT1tKSYmKG51bGw9PWZ8fDA+bXhVdGlscy5pbmRleE9mKGYsbC0xKSkpe3ZhciBwPU1hdGguc3FydChuKm4rbSptKTthLmxpbmVUbyhnLngrbipNYXRoLm1pbihkLHAvMikvcCxnLnkrbSpNYXRoLm1pbihkLHAvMikvcCk7Zm9yKG09YltteFV0aWxzLm1vZChsKwoxLGIubGVuZ3RoKV07bDxiLmxlbmd0aC0yJiYwPT1NYXRoLnJvdW5kKG0ueC1nLngpJiYwPT1NYXRoLnJvdW5kKG0ueS1nLnkpOyltPWJbbXhVdGlscy5tb2QobCsyLGIubGVuZ3RoKV0sbCsrO249bS54LWcueDttPW0ueS1nLnk7cD1NYXRoLm1heCgxLE1hdGguc3FydChuKm4rbSptKSk7bj1nLngrbipNYXRoLm1pbihkLHAvMikvcDttPWcueSttKk1hdGgubWluKGQscC8yKS9wO2EucXVhZFRvKGcueCxnLnksbixtKTtnPW5ldyBteFBvaW50KG4sbSl9ZWxzZSBhLmxpbmVUbyhnLngsZy55KTttPWc7bCsrfWU/YS5jbG9zZSgpOmEubGluZVRvKGsueCxrLnkpfX07Cm14U2hhcGUucHJvdG90eXBlLnJlc2V0U3R5bGVzPWZ1bmN0aW9uKCl7dGhpcy5pbml0U3R5bGVzKCk7dGhpcy5zcGFjaW5nPTA7ZGVsZXRlIHRoaXMuZmlsbDtkZWxldGUgdGhpcy5ncmFkaWVudDtkZWxldGUgdGhpcy5ncmFkaWVudERpcmVjdGlvbjtkZWxldGUgdGhpcy5zdHJva2U7ZGVsZXRlIHRoaXMuc3RhcnRTaXplO2RlbGV0ZSB0aGlzLmVuZFNpemU7ZGVsZXRlIHRoaXMuc3RhcnRBcnJvdztkZWxldGUgdGhpcy5lbmRBcnJvdztkZWxldGUgdGhpcy5kaXJlY3Rpb247ZGVsZXRlIHRoaXMuaXNTaGFkb3c7ZGVsZXRlIHRoaXMuaXNEYXNoZWQ7ZGVsZXRlIHRoaXMuaXNSb3VuZGVkO2RlbGV0ZSB0aGlzLmdsYXNzfTsKbXhTaGFwZS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24oYSl7dGhpcy5zdGF0ZT1hO3RoaXMuc3R5bGU9YS5zdHlsZTtpZihudWxsIT10aGlzLnN0eWxlKXt0aGlzLmZpbGw9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0ZJTExDT0xPUix0aGlzLmZpbGwpO3RoaXMuZ3JhZGllbnQ9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0dSQURJRU5UQ09MT1IsdGhpcy5ncmFkaWVudCk7dGhpcy5ncmFkaWVudERpcmVjdGlvbj1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfR1JBRElFTlRfRElSRUNUSU9OLHRoaXMuZ3JhZGllbnREaXJlY3Rpb24pO3RoaXMub3BhY2l0eT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfT1BBQ0lUWSx0aGlzLm9wYWNpdHkpO3RoaXMuZmlsbE9wYWNpdHk9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0ZJTExfT1BBQ0lUWSwKdGhpcy5maWxsT3BhY2l0eSk7dGhpcy5zdHJva2VPcGFjaXR5PW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9TVFJPS0VfT1BBQ0lUWSx0aGlzLnN0cm9rZU9wYWNpdHkpO3RoaXMuc3Ryb2tlPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9TVFJPS0VDT0xPUix0aGlzLnN0cm9rZSk7dGhpcy5zdHJva2V3aWR0aD1teFV0aWxzLmdldE51bWJlcih0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1NUUk9LRVdJRFRILHRoaXMuc3Ryb2tld2lkdGgpO3RoaXMuc3BhY2luZz1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfU1BBQ0lORyx0aGlzLnNwYWNpbmcpO3RoaXMuc3RhcnRTaXplPW14VXRpbHMuZ2V0TnVtYmVyKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfU1RBUlRTSVpFLHRoaXMuc3RhcnRTaXplKTt0aGlzLmVuZFNpemU9bXhVdGlscy5nZXROdW1iZXIodGhpcy5zdHlsZSwKbXhDb25zdGFudHMuU1RZTEVfRU5EU0laRSx0aGlzLmVuZFNpemUpO3RoaXMuc3RhcnRBcnJvdz1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfU1RBUlRBUlJPVyx0aGlzLnN0YXJ0QXJyb3cpO3RoaXMuZW5kQXJyb3c9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0VOREFSUk9XLHRoaXMuZW5kQXJyb3cpO3RoaXMucm90YXRpb249bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OLHRoaXMucm90YXRpb24pO3RoaXMuZGlyZWN0aW9uPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9ESVJFQ1RJT04sdGhpcy5kaXJlY3Rpb24pO3RoaXMuZmxpcEg9MT09bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0ZMSVBILDApO3RoaXMuZmxpcFY9MT09bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0ZMSVBWLAowKTtudWxsIT10aGlzLnN0ZW5jaWwmJih0aGlzLmZsaXBIPTE9PW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwic3RlbmNpbEZsaXBIIiwwKXx8dGhpcy5mbGlwSCx0aGlzLmZsaXBWPTE9PW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwic3RlbmNpbEZsaXBWIiwwKXx8dGhpcy5mbGlwVik7aWYodGhpcy5kaXJlY3Rpb249PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSHx8dGhpcy5kaXJlY3Rpb249PW14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSClhPXRoaXMuZmxpcEgsdGhpcy5mbGlwSD10aGlzLmZsaXBWLHRoaXMuZmxpcFY9YTt0aGlzLmlzU2hhZG93PTE9PW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9TSEFET1csdGhpcy5pc1NoYWRvdyk7dGhpcy5pc0Rhc2hlZD0xPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfREFTSEVELHRoaXMuaXNEYXNoZWQpO3RoaXMuaXNSb3VuZGVkPTE9PW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwKbXhDb25zdGFudHMuU1RZTEVfUk9VTkRFRCx0aGlzLmlzUm91bmRlZCk7dGhpcy5nbGFzcz0xPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfR0xBU1MsdGhpcy5nbGFzcyk7dGhpcy5maWxsPT1teENvbnN0YW50cy5OT05FJiYodGhpcy5maWxsPW51bGwpO3RoaXMuZ3JhZGllbnQ9PW14Q29uc3RhbnRzLk5PTkUmJih0aGlzLmdyYWRpZW50PW51bGwpO3RoaXMuc3Ryb2tlPT1teENvbnN0YW50cy5OT05FJiYodGhpcy5zdHJva2U9bnVsbCl9fTtteFNoYXBlLnByb3RvdHlwZS5zZXRDdXJzb3I9ZnVuY3Rpb24oYSl7bnVsbD09YSYmKGE9IiIpO3RoaXMuY3Vyc29yPWE7bnVsbCE9dGhpcy5ub2RlJiYodGhpcy5ub2RlLnN0eWxlLmN1cnNvcj1hKX07bXhTaGFwZS5wcm90b3R5cGUuZ2V0Q3Vyc29yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3Vyc29yfTtteFNoYXBlLnByb3RvdHlwZS5pc1JvdW5kYWJsZT1mdW5jdGlvbigpe3JldHVybiExfTsKbXhTaGFwZS5wcm90b3R5cGUudXBkYXRlQm91bmRpbmdCb3g9ZnVuY3Rpb24oKXtpZih0aGlzLnVzZVN2Z0JvdW5kaW5nQm94JiZudWxsIT10aGlzLm5vZGUmJm51bGwhPXRoaXMubm9kZS5vd25lclNWR0VsZW1lbnQpdHJ5e3ZhciBhPXRoaXMubm9kZS5nZXRCQm94KCk7aWYoMDxhLndpZHRoJiYwPGEuaGVpZ2h0KXt0aGlzLmJvdW5kaW5nQm94PW5ldyBteFJlY3RhbmdsZShhLngsYS55LGEud2lkdGgsYS5oZWlnaHQpO3RoaXMuYm91bmRpbmdCb3guZ3Jvdyh0aGlzLnN0cm9rZXdpZHRoKnRoaXMuc2NhbGUvMik7cmV0dXJufX1jYXRjaChjKXt9aWYobnVsbCE9dGhpcy5ib3VuZHMpe2E9dGhpcy5jcmVhdGVCb3VuZGluZ0JveCgpO2lmKG51bGwhPWEpe3RoaXMuYXVnbWVudEJvdW5kaW5nQm94KGEpO3ZhciBiPXRoaXMuZ2V0U2hhcGVSb3RhdGlvbigpOzAhPWImJihhPW14VXRpbHMuZ2V0Qm91bmRpbmdCb3goYSxiKSl9dGhpcy5ib3VuZGluZ0JveD1hfX07Cm14U2hhcGUucHJvdG90eXBlLmNyZWF0ZUJvdW5kaW5nQm94PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5ib3VuZHMuY2xvbmUoKTsobnVsbCE9dGhpcy5zdGVuY2lsJiYodGhpcy5kaXJlY3Rpb249PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSHx8dGhpcy5kaXJlY3Rpb249PW14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSCl8fHRoaXMuaXNQYWludEJvdW5kc0ludmVydGVkKCkpJiZhLnJvdGF0ZTkwKCk7cmV0dXJuIGF9O214U2hhcGUucHJvdG90eXBlLmF1Z21lbnRCb3VuZGluZ0JveD1mdW5jdGlvbihhKXt0aGlzLmlzU2hhZG93JiYoYS53aWR0aCs9TWF0aC5jZWlsKG14Q29uc3RhbnRzLlNIQURPV19PRkZTRVRfWCp0aGlzLnNjYWxlKSxhLmhlaWdodCs9TWF0aC5jZWlsKG14Q29uc3RhbnRzLlNIQURPV19PRkZTRVRfWSp0aGlzLnNjYWxlKSk7YS5ncm93KHRoaXMuc3Ryb2tld2lkdGgqdGhpcy5zY2FsZS8yKX07Cm14U2hhcGUucHJvdG90eXBlLmlzUGFpbnRCb3VuZHNJbnZlcnRlZD1mdW5jdGlvbigpe3JldHVybiBudWxsPT10aGlzLnN0ZW5jaWwmJih0aGlzLmRpcmVjdGlvbj09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIfHx0aGlzLmRpcmVjdGlvbj09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIKX07bXhTaGFwZS5wcm90b3R5cGUuZ2V0Um90YXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5yb3RhdGlvbj90aGlzLnJvdGF0aW9uOjB9O214U2hhcGUucHJvdG90eXBlLmdldFRleHRSb3RhdGlvbj1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0Um90YXRpb24oKTsxIT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfSE9SSVpPTlRBTCwxKSYmKGErPW14VGV4dC5wcm90b3R5cGUudmVydGljYWxUZXh0Um90YXRpb24pO3JldHVybiBhfTsKbXhTaGFwZS5wcm90b3R5cGUuZ2V0U2hhcGVSb3RhdGlvbj1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0Um90YXRpb24oKTtudWxsIT10aGlzLmRpcmVjdGlvbiYmKHRoaXMuZGlyZWN0aW9uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEg/YSs9MjcwOnRoaXMuZGlyZWN0aW9uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fV0VTVD9hKz0xODA6dGhpcy5kaXJlY3Rpb249PW14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSCYmKGErPTkwKSk7cmV0dXJuIGF9OwpteFNoYXBlLnByb3RvdHlwZS5jcmVhdGVUcmFuc3BhcmVudFN2Z1JlY3RhbmdsZT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobXhDb25zdGFudHMuTlNfU1ZHLCJyZWN0Iik7ZS5zZXRBdHRyaWJ1dGUoIngiLGEpO2Uuc2V0QXR0cmlidXRlKCJ5IixiKTtlLnNldEF0dHJpYnV0ZSgid2lkdGgiLGMpO2Uuc2V0QXR0cmlidXRlKCJoZWlnaHQiLGQpO2Uuc2V0QXR0cmlidXRlKCJmaWxsIiwibm9uZSIpO2Uuc2V0QXR0cmlidXRlKCJzdHJva2UiLCJub25lIik7ZS5zZXRBdHRyaWJ1dGUoInBvaW50ZXItZXZlbnRzIiwiYWxsIik7cmV0dXJuIGV9O214U2hhcGUucHJvdG90eXBlLnNldFRyYW5zcGFyZW50QmFja2dyb3VuZEltYWdlPWZ1bmN0aW9uKGEpe2Euc3R5bGUuYmFja2dyb3VuZEltYWdlPSJ1cmwoJyIrbXhDbGllbnQuaW1hZ2VCYXNlUGF0aCsiL3RyYW5zcGFyZW50LmdpZicpIn07Cm14U2hhcGUucHJvdG90eXBlLnJlbGVhc2VTdmdHcmFkaWVudHM9ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSlmb3IodmFyIGIgaW4gYSl7dmFyIGM9YVtiXTtudWxsIT1jJiYoYy5teFJlZkNvdW50PShjLm14UmVmQ291bnR8fDApLTEsMD09Yy5teFJlZkNvdW50JiZudWxsIT1jLnBhcmVudE5vZGUmJmMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjKSl9fTtteFNoYXBlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5ub2RlJiYobXhFdmVudC5yZWxlYXNlKHRoaXMubm9kZSksbnVsbCE9dGhpcy5ub2RlLnBhcmVudE5vZGUmJnRoaXMubm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMubm9kZSksdGhpcy5ub2RlPW51bGwpO3RoaXMucmVsZWFzZVN2Z0dyYWRpZW50cyh0aGlzLm9sZEdyYWRpZW50cyk7dGhpcy5vbGRHcmFkaWVudHM9bnVsbH07CmZ1bmN0aW9uIG14U3RlbmNpbChhKXt0aGlzLmRlc2M9YTt0aGlzLnBhcnNlRGVzY3JpcHRpb24oKTt0aGlzLnBhcnNlQ29uc3RyYWludHMoKX1teFV0aWxzLmV4dGVuZChteFN0ZW5jaWwsbXhTaGFwZSk7bXhTdGVuY2lsLmRlZmF1bHRMb2NhbGl6ZWQ9ITE7bXhTdGVuY2lsLmFsbG93RXZhbD0hMTtteFN0ZW5jaWwucHJvdG90eXBlLmRlc2M9bnVsbDtteFN0ZW5jaWwucHJvdG90eXBlLmNvbnN0cmFpbnRzPW51bGw7bXhTdGVuY2lsLnByb3RvdHlwZS5hc3BlY3Q9bnVsbDtteFN0ZW5jaWwucHJvdG90eXBlLncwPW51bGw7bXhTdGVuY2lsLnByb3RvdHlwZS5oMD1udWxsO214U3RlbmNpbC5wcm90b3R5cGUuYmdOb2RlPW51bGw7bXhTdGVuY2lsLnByb3RvdHlwZS5mZ05vZGU9bnVsbDtteFN0ZW5jaWwucHJvdG90eXBlLnN0cm9rZXdpZHRoPW51bGw7Cm14U3RlbmNpbC5wcm90b3R5cGUucGFyc2VEZXNjcmlwdGlvbj1mdW5jdGlvbigpe3RoaXMuZmdOb2RlPXRoaXMuZGVzYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZm9yZWdyb3VuZCIpWzBdO3RoaXMuYmdOb2RlPXRoaXMuZGVzYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYmFja2dyb3VuZCIpWzBdO3RoaXMudzA9TnVtYmVyKHRoaXMuZGVzYy5nZXRBdHRyaWJ1dGUoInciKXx8MTAwKTt0aGlzLmgwPU51bWJlcih0aGlzLmRlc2MuZ2V0QXR0cmlidXRlKCJoIil8fDEwMCk7dmFyIGE9dGhpcy5kZXNjLmdldEF0dHJpYnV0ZSgiYXNwZWN0Iik7dGhpcy5hc3BlY3Q9bnVsbCE9YT9hOiJ2YXJpYWJsZSI7YT10aGlzLmRlc2MuZ2V0QXR0cmlidXRlKCJzdHJva2V3aWR0aCIpO3RoaXMuc3Ryb2tld2lkdGg9bnVsbCE9YT9hOiIxIn07Cm14U3RlbmNpbC5wcm90b3R5cGUucGFyc2VDb25zdHJhaW50cz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZGVzYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgiY29ubmVjdGlvbnMiKVswXTtpZihudWxsIT1hJiYoYT1teFV0aWxzLmdldENoaWxkTm9kZXMoYSksbnVsbCE9YSYmMDxhLmxlbmd0aCkpe3RoaXMuY29uc3RyYWludHM9W107Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspdGhpcy5jb25zdHJhaW50cy5wdXNoKHRoaXMucGFyc2VDb25zdHJhaW50KGFbYl0pKX19O214U3RlbmNpbC5wcm90b3R5cGUucGFyc2VDb25zdHJhaW50PWZ1bmN0aW9uKGEpe3ZhciBiPU51bWJlcihhLmdldEF0dHJpYnV0ZSgieCIpKSxjPU51bWJlcihhLmdldEF0dHJpYnV0ZSgieSIpKSxkPSIxIj09YS5nZXRBdHRyaWJ1dGUoInBlcmltZXRlciIpO2E9YS5nZXRBdHRyaWJ1dGUoIm5hbWUiKTtyZXR1cm4gbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoYixjKSxkLGEpfTsKbXhTdGVuY2lsLnByb3RvdHlwZS5ldmFsdWF0ZVRleHRBdHRyaWJ1dGU9ZnVuY3Rpb24oYSxiLGMpe2I9dGhpcy5ldmFsdWF0ZUF0dHJpYnV0ZShhLGIsYyk7YT1hLmdldEF0dHJpYnV0ZSgibG9jYWxpemVkIik7aWYobXhTdGVuY2lsLmRlZmF1bHRMb2NhbGl6ZWQmJm51bGw9PWF8fCIxIj09YSliPW14UmVzb3VyY2VzLmdldChiKTtyZXR1cm4gYn07bXhTdGVuY2lsLnByb3RvdHlwZS5ldmFsdWF0ZUF0dHJpYnV0ZT1mdW5jdGlvbihhLGIsYyl7Yj1hLmdldEF0dHJpYnV0ZShiKTtudWxsPT1iJiYoYT1teFV0aWxzLmdldFRleHRDb250ZW50KGEpLG51bGwhPWEmJm14U3RlbmNpbC5hbGxvd0V2YWwmJihhPW14VXRpbHMuZXZhbChhKSwiZnVuY3Rpb24iPT10eXBlb2YgYSYmKGI9YShjKSkpKTtyZXR1cm4gYn07Cm14U3RlbmNpbC5wcm90b3R5cGUuZHJhd1NoYXBlPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZz1hLnN0YXRlcy5zbGljZSgpLGs9bXhVdGlscy5nZXRWYWx1ZShiLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0RJUkVDVElPTixudWxsKSxrPXRoaXMuY29tcHV0ZUFzcGVjdChiLnN0eWxlLGMsZCxlLGYsayksbD1NYXRoLm1pbihrLndpZHRoLGsuaGVpZ2h0KSxsPSJpbmhlcml0Ij09dGhpcy5zdHJva2V3aWR0aD9OdW1iZXIobXhVdGlscy5nZXROdW1iZXIoYi5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9TVFJPS0VXSURUSCwxKSk6TnVtYmVyKHRoaXMuc3Ryb2tld2lkdGgpKmw7YS5zZXRTdHJva2VXaWR0aChsKTtudWxsIT1iLnN0eWxlJiYiMSI9PW14VXRpbHMuZ2V0VmFsdWUoYi5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9QT0lOVEVSX0VWRU5UUywiMCIpJiYoYS5zZXRTdHJva2VDb2xvcihteENvbnN0YW50cy5OT05FKSxhLnJlY3QoYyxkLGUsZiksYS5zdHJva2UoKSxhLnNldFN0cm9rZUNvbG9yKGIuc3Ryb2tlKSk7CnRoaXMuZHJhd0NoaWxkcmVuKGEsYixjLGQsZSxmLHRoaXMuYmdOb2RlLGssITEsITApO3RoaXMuZHJhd0NoaWxkcmVuKGEsYixjLGQsZSxmLHRoaXMuZmdOb2RlLGssITAsIWIub3V0bGluZXx8bnVsbD09Yi5zdHlsZXx8MD09bXhVdGlscy5nZXRWYWx1ZShiLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0JBQ0tHUk9VTkRfT1VUTElORSwwKSk7YS5zdGF0ZXMubGVuZ3RoIT1nLmxlbmd0aCYmKGEuc3RhdGVzPWcpfTtteFN0ZW5jaWwucHJvdG90eXBlLmRyYXdDaGlsZHJlbj1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGssbCxtKXtpZihudWxsIT1nJiYwPGUmJjA8Zilmb3IoYz1nLmZpcnN0Q2hpbGQ7bnVsbCE9YzspYy5ub2RlVHlwZT09bXhDb25zdGFudHMuTk9ERVRZUEVfRUxFTUVOVCYmdGhpcy5kcmF3Tm9kZShhLGIsYyxrLGwsbSksYz1jLm5leHRTaWJsaW5nfTsKbXhTdGVuY2lsLnByb3RvdHlwZS5jb21wdXRlQXNwZWN0PWZ1bmN0aW9uKGEsYixjLGQsZSxmKXthPWI7Yj1kL3RoaXMudzA7dmFyIGc9ZS90aGlzLmgwO2lmKGY9Zj09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIfHxmPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEgpe2c9ZC90aGlzLmgwO2I9ZS90aGlzLncwO3ZhciBrPShkLWUpLzI7YSs9aztjLT1rfSJmaXhlZCI9PXRoaXMuYXNwZWN0JiYoYj1nPU1hdGgubWluKGIsZyksZj8oYSs9KGUtdGhpcy53MCpiKS8yLGMrPShkLXRoaXMuaDAqZykvMik6KGErPShkLXRoaXMudzAqYikvMixjKz0oZS10aGlzLmgwKmcpLzIpKTtyZXR1cm4gbmV3IG14UmVjdGFuZ2xlKGEsYyxiLGcpfTsKbXhTdGVuY2lsLnByb3RvdHlwZS5kcmF3Tm9kZT1mdW5jdGlvbihhLGIsYyxkLGUsZil7dmFyIGc9Yy5ub2RlTmFtZSxrPWQueCxsPWQueSxtPWQud2lkdGgsbj1kLmhlaWdodCxwPU1hdGgubWluKG0sbik7aWYoInNhdmUiPT1nKWEuc2F2ZSgpO2Vsc2UgaWYoInJlc3RvcmUiPT1nKWEucmVzdG9yZSgpO2Vsc2UgaWYoZil7aWYoInBhdGgiPT1nKXthLmJlZ2luKCk7cD0hMDtpZigiMSI9PWMuZ2V0QXR0cmlidXRlKCJyb3VuZGVkIikpe2Zvcih2YXIgcD0hMSxxPU51bWJlcihjLmdldEF0dHJpYnV0ZSgiYXJjU2l6ZSIpKSxyPTAsdD1bXSx1PWMuZmlyc3RDaGlsZDtudWxsIT11Oyl7aWYodS5ub2RlVHlwZT09bXhDb25zdGFudHMuTk9ERVRZUEVfRUxFTUVOVCl7dmFyIHg9dS5ub2RlTmFtZTtpZigibW92ZSI9PXh8fCJsaW5lIj09eCkibW92ZSIhPXgmJjAhPXQubGVuZ3RofHx0LnB1c2goW10pLHRbdC5sZW5ndGgtMV0ucHVzaChuZXcgbXhQb2ludChrK051bWJlcih1LmdldEF0dHJpYnV0ZSgieCIpKSoKbSxsK051bWJlcih1LmdldEF0dHJpYnV0ZSgieSIpKSpuKSkscisrO2Vsc2V7cD0hMDticmVha319dT11Lm5leHRTaWJsaW5nfWlmKCFwJiYwPHIpZm9yKG09MDttPHQubGVuZ3RoO20rKyluPSExLGw9dFttXVswXSxrPXRbbV1bdFttXS5sZW5ndGgtMV0sbC54PT1rLngmJmwueT09ay55JiYodFttXS5wb3AoKSxuPSEwKSx0aGlzLmFkZFBvaW50cyhhLHRbbV0sITAscSxuKTtlbHNlIHA9ITB9aWYocClmb3IodT1jLmZpcnN0Q2hpbGQ7bnVsbCE9dTspdS5ub2RlVHlwZT09bXhDb25zdGFudHMuTk9ERVRZUEVfRUxFTUVOVCYmdGhpcy5kcmF3Tm9kZShhLGIsdSxkLGUsZiksdT11Lm5leHRTaWJsaW5nfWVsc2UgaWYoImNsb3NlIj09ZylhLmNsb3NlKCk7ZWxzZSBpZigibW92ZSI9PWcpYS5tb3ZlVG8oaytOdW1iZXIoYy5nZXRBdHRyaWJ1dGUoIngiKSkqbSxsK051bWJlcihjLmdldEF0dHJpYnV0ZSgieSIpKSpuKTtlbHNlIGlmKCJsaW5lIj09ZylhLmxpbmVUbyhrK051bWJlcihjLmdldEF0dHJpYnV0ZSgieCIpKSoKbSxsK051bWJlcihjLmdldEF0dHJpYnV0ZSgieSIpKSpuKTtlbHNlIGlmKCJxdWFkIj09ZylhLnF1YWRUbyhrK051bWJlcihjLmdldEF0dHJpYnV0ZSgieDEiKSkqbSxsK051bWJlcihjLmdldEF0dHJpYnV0ZSgieTEiKSkqbixrK051bWJlcihjLmdldEF0dHJpYnV0ZSgieDIiKSkqbSxsK051bWJlcihjLmdldEF0dHJpYnV0ZSgieTIiKSkqbik7ZWxzZSBpZigiY3VydmUiPT1nKWEuY3VydmVUbyhrK051bWJlcihjLmdldEF0dHJpYnV0ZSgieDEiKSkqbSxsK051bWJlcihjLmdldEF0dHJpYnV0ZSgieTEiKSkqbixrK051bWJlcihjLmdldEF0dHJpYnV0ZSgieDIiKSkqbSxsK051bWJlcihjLmdldEF0dHJpYnV0ZSgieTIiKSkqbixrK051bWJlcihjLmdldEF0dHJpYnV0ZSgieDMiKSkqbSxsK051bWJlcihjLmdldEF0dHJpYnV0ZSgieTMiKSkqbik7ZWxzZSBpZigiYXJjIj09ZylhLmFyY1RvKE51bWJlcihjLmdldEF0dHJpYnV0ZSgicngiKSkqbSxOdW1iZXIoYy5nZXRBdHRyaWJ1dGUoInJ5IikpKgpuLE51bWJlcihjLmdldEF0dHJpYnV0ZSgieC1heGlzLXJvdGF0aW9uIikpLE51bWJlcihjLmdldEF0dHJpYnV0ZSgibGFyZ2UtYXJjLWZsYWciKSksTnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJzd2VlcC1mbGFnIikpLGsrTnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJ4IikpKm0sbCtOdW1iZXIoYy5nZXRBdHRyaWJ1dGUoInkiKSkqbik7ZWxzZSBpZigicmVjdCI9PWcpYS5yZWN0KGsrTnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJ4IikpKm0sbCtOdW1iZXIoYy5nZXRBdHRyaWJ1dGUoInkiKSkqbixOdW1iZXIoYy5nZXRBdHRyaWJ1dGUoInciKSkqbSxOdW1iZXIoYy5nZXRBdHRyaWJ1dGUoImgiKSkqbik7ZWxzZSBpZigicm91bmRyZWN0Ij09ZyliPU51bWJlcihjLmdldEF0dHJpYnV0ZSgiYXJjc2l6ZSIpKSwwPT1iJiYoYj0xMDAqbXhDb25zdGFudHMuUkVDVEFOR0xFX1JPVU5ESU5HX0ZBQ1RPUiksZD1OdW1iZXIoYy5nZXRBdHRyaWJ1dGUoInciKSkqbSxmPU51bWJlcihjLmdldEF0dHJpYnV0ZSgiaCIpKSoKbixiPU51bWJlcihiKS8xMDAsYj1NYXRoLm1pbihkKmIsZipiKSxhLnJvdW5kcmVjdChrK051bWJlcihjLmdldEF0dHJpYnV0ZSgieCIpKSptLGwrTnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJ5IikpKm4sZCxmLGIsYik7ZWxzZSBpZigiZWxsaXBzZSI9PWcpYS5lbGxpcHNlKGsrTnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJ4IikpKm0sbCtOdW1iZXIoYy5nZXRBdHRyaWJ1dGUoInkiKSkqbixOdW1iZXIoYy5nZXRBdHRyaWJ1dGUoInciKSkqbSxOdW1iZXIoYy5nZXRBdHRyaWJ1dGUoImgiKSkqbik7ZWxzZSBpZigiaW1hZ2UiPT1nKWIub3V0bGluZXx8KGI9dGhpcy5ldmFsdWF0ZUF0dHJpYnV0ZShjLCJzcmMiLGIpLGEuaW1hZ2UoaytOdW1iZXIoYy5nZXRBdHRyaWJ1dGUoIngiKSkqbSxsK051bWJlcihjLmdldEF0dHJpYnV0ZSgieSIpKSpuLE51bWJlcihjLmdldEF0dHJpYnV0ZSgidyIpKSptLE51bWJlcihjLmdldEF0dHJpYnV0ZSgiaCIpKSpuLGIsITEsIjEiPT1jLmdldEF0dHJpYnV0ZSgiZmxpcEgiKSwKIjEiPT1jLmdldEF0dHJpYnV0ZSgiZmxpcFYiKSkpO2Vsc2UgaWYoInRleHQiPT1nKWIub3V0bGluZXx8KGQ9dGhpcy5ldmFsdWF0ZVRleHRBdHRyaWJ1dGUoYywic3RyIixiKSxmPSIxIj09Yy5nZXRBdHRyaWJ1dGUoInZlcnRpY2FsIik/LTkwOjAsIjAiPT1jLmdldEF0dHJpYnV0ZSgiYWxpZ24tc2hhcGUiKSYmKHA9Yi5yb3RhdGlvbixxPTE9PW14VXRpbHMuZ2V0VmFsdWUoYi5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9GTElQSCwwKSxiPTE9PW14VXRpbHMuZ2V0VmFsdWUoYi5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9GTElQViwwKSxmPXEmJmI/Zi1wOnF8fGI/ZitwOmYtcCksZi09Yy5nZXRBdHRyaWJ1dGUoInJvdGF0aW9uIiksYS50ZXh0KGsrTnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJ4IikpKm0sbCtOdW1iZXIoYy5nZXRBdHRyaWJ1dGUoInkiKSkqbiwwLDAsZCxjLmdldEF0dHJpYnV0ZSgiYWxpZ24iKXx8ImxlZnQiLGMuZ2V0QXR0cmlidXRlKCJ2YWxpZ24iKXx8InRvcCIsCiExLCIiLG51bGwsITEsZikpO2Vsc2UgaWYoImluY2x1ZGUtc2hhcGUiPT1nKXA9bXhTdGVuY2lsUmVnaXN0cnkuZ2V0U3RlbmNpbChjLmdldEF0dHJpYnV0ZSgibmFtZSIpKSxudWxsIT1wJiYoays9TnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJ4IikpKm0sbCs9TnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJ5IikpKm4sZD1OdW1iZXIoYy5nZXRBdHRyaWJ1dGUoInciKSkqbSxmPU51bWJlcihjLmdldEF0dHJpYnV0ZSgiaCIpKSpuLHAuZHJhd1NoYXBlKGEsYixrLGwsZCxmKSk7ZWxzZSBpZigiZmlsbHN0cm9rZSI9PWcpYS5maWxsQW5kU3Ryb2tlKCk7ZWxzZSBpZigiZmlsbCI9PWcpYS5maWxsKCk7ZWxzZSBpZigic3Ryb2tlIj09ZylhLnN0cm9rZSgpO2Vsc2UgaWYoInN0cm9rZXdpZHRoIj09ZyltPSIxIj09Yy5nZXRBdHRyaWJ1dGUoImZpeGVkIik/MTpwLGEuc2V0U3Ryb2tlV2lkdGgoTnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJ3aWR0aCIpKSptKTtlbHNlIGlmKCJkYXNoZWQiPT1nKWEuc2V0RGFzaGVkKCIxIj09CmMuZ2V0QXR0cmlidXRlKCJkYXNoZWQiKSk7ZWxzZSBpZigiZGFzaHBhdHRlcm4iPT1nKXtpZihjPWMuZ2V0QXR0cmlidXRlKCJwYXR0ZXJuIiksbnVsbCE9Yyl7Yz1jLnNwbGl0KCIgIik7bj1bXTtmb3IobT0wO208Yy5sZW5ndGg7bSsrKTA8Y1ttXS5sZW5ndGgmJm4ucHVzaChOdW1iZXIoY1ttXSkqcCk7Yz1uLmpvaW4oIiAiKTthLnNldERhc2hQYXR0ZXJuKGMpfX1lbHNlInN0cm9rZWNvbG9yIj09Zz9hLnNldFN0cm9rZUNvbG9yKGMuZ2V0QXR0cmlidXRlKCJjb2xvciIpKToibGluZWNhcCI9PWc/YS5zZXRMaW5lQ2FwKGMuZ2V0QXR0cmlidXRlKCJjYXAiKSk6ImxpbmVqb2luIj09Zz9hLnNldExpbmVKb2luKGMuZ2V0QXR0cmlidXRlKCJqb2luIikpOiJtaXRlcmxpbWl0Ij09Zz9hLnNldE1pdGVyTGltaXQoTnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJsaW1pdCIpKSk6ImZpbGxjb2xvciI9PWc/YS5zZXRGaWxsQ29sb3IoYy5nZXRBdHRyaWJ1dGUoImNvbG9yIikpOiJhbHBoYSI9PQpnP2Euc2V0QWxwaGEoYy5nZXRBdHRyaWJ1dGUoImFscGhhIikpOiJmaWxsYWxwaGEiPT1nP2Euc2V0QWxwaGEoYy5nZXRBdHRyaWJ1dGUoImFscGhhIikpOiJzdHJva2VhbHBoYSI9PWc/YS5zZXRBbHBoYShjLmdldEF0dHJpYnV0ZSgiYWxwaGEiKSk6ImZvbnRjb2xvciI9PWc/YS5zZXRGb250Q29sb3IoYy5nZXRBdHRyaWJ1dGUoImNvbG9yIikpOiJmb250c3R5bGUiPT1nP2Euc2V0Rm9udFN0eWxlKGMuZ2V0QXR0cmlidXRlKCJzdHlsZSIpKToiZm9udGZhbWlseSI9PWc/YS5zZXRGb250RmFtaWx5KGMuZ2V0QXR0cmlidXRlKCJmYW1pbHkiKSk6ImZvbnRzaXplIj09ZyYmYS5zZXRGb250U2l6ZShOdW1iZXIoYy5nZXRBdHRyaWJ1dGUoInNpemUiKSkqcCk7IWV8fCJmaWxsc3Ryb2tlIiE9ZyYmImZpbGwiIT1nJiYic3Ryb2tlIiE9Z3x8YS5zZXRTaGFkb3coITEpfX07CnZhciBteFN0ZW5jaWxSZWdpc3RyeT17c3RlbmNpbHM6e30sYWRkU3RlbmNpbDpmdW5jdGlvbihhLGIpe214U3RlbmNpbFJlZ2lzdHJ5LnN0ZW5jaWxzW2FdPWJ9LGdldFN0ZW5jaWw6ZnVuY3Rpb24oYSl7cmV0dXJuIG14U3RlbmNpbFJlZ2lzdHJ5LnN0ZW5jaWxzW2FdfX0sbXhNYXJrZXI9e21hcmtlcnM6W10sYWRkTWFya2VyOmZ1bmN0aW9uKGEsYil7bXhNYXJrZXIubWFya2Vyc1thXT1ifSxjcmVhdGVNYXJrZXI6ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxrLGwsbSl7dmFyIG49bXhNYXJrZXIubWFya2Vyc1tjXTtyZXR1cm4gbnVsbCE9bj9uKGEsYixjLGQsZSxmLGcsayxsLG0pOm51bGx9fTsKKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXthPW51bGwhPWE/YToyO3JldHVybiBmdW5jdGlvbihiLGMsZCxrLGwsbSxuLHAscSxyKXtjPWwqcSoxLjExODtwPW0qcSoxLjExODtsKj1uK3E7bSo9bitxO3ZhciBlPWsuY2xvbmUoKTtlLngtPWM7ZS55LT1wO249ZCE9bXhDb25zdGFudHMuQVJST1dfQ0xBU1NJQyYmZCE9bXhDb25zdGFudHMuQVJST1dfQ0xBU1NJQ19USElOPzE6Ljc1O2sueCs9LWwqbi1jO2sueSs9LW0qbi1wO3JldHVybiBmdW5jdGlvbigpe2IuYmVnaW4oKTtiLm1vdmVUbyhlLngsZS55KTtiLmxpbmVUbyhlLngtbC1tL2EsZS55LW0rbC9hKTtkIT1teENvbnN0YW50cy5BUlJPV19DTEFTU0lDJiZkIT1teENvbnN0YW50cy5BUlJPV19DTEFTU0lDX1RISU58fGIubGluZVRvKGUueC0zKmwvNCxlLnktMyptLzQpO2IubGluZVRvKGUueCttL2EtbCxlLnktbS1sL2EpO2IuY2xvc2UoKTtyP2IuZmlsbEFuZFN0cm9rZSgpOmIuc3Ryb2tlKCl9fX1mdW5jdGlvbiBiKGEpe2E9Cm51bGwhPWE/YToyO3JldHVybiBmdW5jdGlvbihiLGMsZCxrLGwsbSxuLHAscSxyKXtjPWwqcSoxLjExODtkPW0qcSoxLjExODtsKj1uK3E7bSo9bitxO3ZhciBlPWsuY2xvbmUoKTtlLngtPWM7ZS55LT1kO2sueCs9MiotYztrLnkrPTIqLWQ7cmV0dXJuIGZ1bmN0aW9uKCl7Yi5iZWdpbigpO2IubW92ZVRvKGUueC1sLW0vYSxlLnktbStsL2EpO2IubGluZVRvKGUueCxlLnkpO2IubGluZVRvKGUueCttL2EtbCxlLnktbS1sL2EpO2Iuc3Ryb2tlKCl9fX1mdW5jdGlvbiBjKGEsYixjLGcsayxsLG0sbixwLHEpe249Yz09bXhDb25zdGFudHMuQVJST1dfRElBTU9ORD8uNzA3MTouOTg2MjtiPWsqcCpuO24qPWwqcDtrKj1tK3A7bCo9bStwO3ZhciBkPWcuY2xvbmUoKTtkLngtPWI7ZC55LT1uO2cueCs9LWstYjtnLnkrPS1sLW47dmFyIGU9Yz09bXhDb25zdGFudHMuQVJST1dfRElBTU9ORD8yOjMuNDtyZXR1cm4gZnVuY3Rpb24oKXthLmJlZ2luKCk7YS5tb3ZlVG8oZC54LGQueSk7YS5saW5lVG8oZC54LQprLzItbC9lLGQueStrL2UtbC8yKTthLmxpbmVUbyhkLngtayxkLnktbCk7YS5saW5lVG8oZC54LWsvMitsL2UsZC55LWwvMi1rL2UpO2EuY2xvc2UoKTtxP2EuZmlsbEFuZFN0cm9rZSgpOmEuc3Ryb2tlKCl9fW14TWFya2VyLmFkZE1hcmtlcigiY2xhc3NpYyIsYSgyKSk7bXhNYXJrZXIuYWRkTWFya2VyKCJjbGFzc2ljVGhpbiIsYSgzKSk7bXhNYXJrZXIuYWRkTWFya2VyKCJibG9jayIsYSgyKSk7bXhNYXJrZXIuYWRkTWFya2VyKCJibG9ja1RoaW4iLGEoMykpO214TWFya2VyLmFkZE1hcmtlcigib3BlbiIsYigyKSk7bXhNYXJrZXIuYWRkTWFya2VyKCJvcGVuVGhpbiIsYigzKSk7bXhNYXJrZXIuYWRkTWFya2VyKCJvdmFsIixmdW5jdGlvbihhLGIsYyxnLGssbCxtLG4scCxxKXt2YXIgZD1tLzIsZT1nLmNsb25lKCk7Zy54LT1rKmQ7Zy55LT1sKmQ7cmV0dXJuIGZ1bmN0aW9uKCl7YS5lbGxpcHNlKGUueC1kLGUueS1kLG0sbSk7cT9hLmZpbGxBbmRTdHJva2UoKTphLnN0cm9rZSgpfX0pOwpteE1hcmtlci5hZGRNYXJrZXIoImRpYW1vbmQiLGMpO214TWFya2VyLmFkZE1hcmtlcigiZGlhbW9uZFRoaW4iLGMpfSkoKTtmdW5jdGlvbiBteEFjdG9yKGEsYixjLGQpe214U2hhcGUuY2FsbCh0aGlzKTt0aGlzLmJvdW5kcz1hO3RoaXMuZmlsbD1iO3RoaXMuc3Ryb2tlPWM7dGhpcy5zdHJva2V3aWR0aD1udWxsIT1kP2Q6MX1teFV0aWxzLmV4dGVuZChteEFjdG9yLG14U2hhcGUpO214QWN0b3IucHJvdG90eXBlLnBhaW50VmVydGV4U2hhcGU9ZnVuY3Rpb24oYSxiLGMsZCxlKXthLnRyYW5zbGF0ZShiLGMpO2EuYmVnaW4oKTt0aGlzLnJlZHJhd1BhdGgoYSxiLGMsZCxlKTthLmZpbGxBbmRTdHJva2UoKX07Cm14QWN0b3IucHJvdG90eXBlLnJlZHJhd1BhdGg9ZnVuY3Rpb24oYSxiLGMsZCxlKXtiPWQvMzthLm1vdmVUbygwLGUpO2EuY3VydmVUbygwLDMqZS81LDAsMiplLzUsZC8yLDIqZS81KTthLmN1cnZlVG8oZC8yLWIsMiplLzUsZC8yLWIsMCxkLzIsMCk7YS5jdXJ2ZVRvKGQvMitiLDAsZC8yK2IsMiplLzUsZC8yLDIqZS81KTthLmN1cnZlVG8oZCwyKmUvNSxkLDMqZS81LGQsZSk7YS5jbG9zZSgpfTtmdW5jdGlvbiBteENsb3VkKGEsYixjLGQpe214QWN0b3IuY2FsbCh0aGlzKTt0aGlzLmJvdW5kcz1hO3RoaXMuZmlsbD1iO3RoaXMuc3Ryb2tlPWM7dGhpcy5zdHJva2V3aWR0aD1udWxsIT1kP2Q6MX1teFV0aWxzLmV4dGVuZChteENsb3VkLG14QWN0b3IpOwpteENsb3VkLnByb3RvdHlwZS5yZWRyYXdQYXRoPWZ1bmN0aW9uKGEsYixjLGQsZSl7YS5tb3ZlVG8oLjI1KmQsLjI1KmUpO2EuY3VydmVUbyguMDUqZCwuMjUqZSwwLC41KmUsLjE2KmQsLjU1KmUpO2EuY3VydmVUbygwLC42NiplLC4xOCpkLC45KmUsLjMxKmQsLjgqZSk7YS5jdXJ2ZVRvKC40KmQsZSwuNypkLGUsLjgqZCwuOCplKTthLmN1cnZlVG8oZCwuOCplLGQsLjYqZSwuODc1KmQsLjUqZSk7YS5jdXJ2ZVRvKGQsLjMqZSwuOCpkLC4xKmUsLjYyNSpkLC4yKmUpO2EuY3VydmVUbyguNSpkLC4wNSplLC4zKmQsLjA1KmUsLjI1KmQsLjI1KmUpO2EuY2xvc2UoKX07ZnVuY3Rpb24gbXhSZWN0YW5nbGVTaGFwZShhLGIsYyxkKXtteFNoYXBlLmNhbGwodGhpcyk7dGhpcy5ib3VuZHM9YTt0aGlzLmZpbGw9Yjt0aGlzLnN0cm9rZT1jO3RoaXMuc3Ryb2tld2lkdGg9bnVsbCE9ZD9kOjF9bXhVdGlscy5leHRlbmQobXhSZWN0YW5nbGVTaGFwZSxteFNoYXBlKTsKbXhSZWN0YW5nbGVTaGFwZS5wcm90b3R5cGUuaXNIdG1sQWxsb3dlZD1mdW5jdGlvbigpe3ZhciBhPSEwO251bGwhPXRoaXMuc3R5bGUmJihhPSIxIj09bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1BPSU5URVJfRVZFTlRTLCIxIikpO3JldHVybiF0aGlzLmlzUm91bmRlZCYmIXRoaXMuZ2xhc3MmJjA9PXRoaXMucm90YXRpb24mJihhfHxudWxsIT10aGlzLmZpbGwmJnRoaXMuZmlsbCE9bXhDb25zdGFudHMuTk9ORSl9OwpteFJlY3RhbmdsZVNoYXBlLnByb3RvdHlwZS5wYWludEJhY2tncm91bmQ9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj0hMDtudWxsIT10aGlzLnN0eWxlJiYoZj0iMSI9PW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9QT0lOVEVSX0VWRU5UUywiMSIpKTtpZihmfHxudWxsIT10aGlzLmZpbGwmJnRoaXMuZmlsbCE9bXhDb25zdGFudHMuTk9ORXx8bnVsbCE9dGhpcy5zdHJva2UmJnRoaXMuc3Ryb2tlIT1teENvbnN0YW50cy5OT05FKWZ8fG51bGwhPXRoaXMuZmlsbCYmdGhpcy5maWxsIT1teENvbnN0YW50cy5OT05FfHwoYS5wb2ludGVyRXZlbnRzPSExKSx0aGlzLmlzUm91bmRlZD8oIjEiPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQUJTT0xVVEVfQVJDU0laRSwwKT9mPU1hdGgubWluKGQvMixNYXRoLm1pbihlLzIsbXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FSQ1NJWkUsCm14Q29uc3RhbnRzLkxJTkVfQVJDU0laRSkvMikpOihmPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9BUkNTSVpFLDEwMCpteENvbnN0YW50cy5SRUNUQU5HTEVfUk9VTkRJTkdfRkFDVE9SKS8xMDAsZj1NYXRoLm1pbihkKmYsZSpmKSksYS5yb3VuZHJlY3QoYixjLGQsZSxmLGYpKTphLnJlY3QoYixjLGQsZSksYS5maWxsQW5kU3Ryb2tlKCl9O214UmVjdGFuZ2xlU2hhcGUucHJvdG90eXBlLmlzUm91bmRhYmxlPWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuITB9O214UmVjdGFuZ2xlU2hhcGUucHJvdG90eXBlLnBhaW50Rm9yZWdyb3VuZD1mdW5jdGlvbihhLGIsYyxkLGUpe3RoaXMuZ2xhc3MmJiF0aGlzLm91dGxpbmUmJm51bGwhPXRoaXMuZmlsbCYmdGhpcy5maWxsIT1teENvbnN0YW50cy5OT05FJiZ0aGlzLnBhaW50R2xhc3NFZmZlY3QoYSxiLGMsZCxlLHRoaXMuZ2V0QXJjU2l6ZShkK3RoaXMuc3Ryb2tld2lkdGgsZSt0aGlzLnN0cm9rZXdpZHRoKSl9OwpmdW5jdGlvbiBteEVsbGlwc2UoYSxiLGMsZCl7bXhTaGFwZS5jYWxsKHRoaXMpO3RoaXMuYm91bmRzPWE7dGhpcy5maWxsPWI7dGhpcy5zdHJva2U9Yzt0aGlzLnN0cm9rZXdpZHRoPW51bGwhPWQ/ZDoxfW14VXRpbHMuZXh0ZW5kKG14RWxsaXBzZSxteFNoYXBlKTtteEVsbGlwc2UucHJvdG90eXBlLnBhaW50VmVydGV4U2hhcGU9ZnVuY3Rpb24oYSxiLGMsZCxlKXthLmVsbGlwc2UoYixjLGQsZSk7YS5maWxsQW5kU3Ryb2tlKCl9O2Z1bmN0aW9uIG14RG91YmxlRWxsaXBzZShhLGIsYyxkKXtteFNoYXBlLmNhbGwodGhpcyk7dGhpcy5ib3VuZHM9YTt0aGlzLmZpbGw9Yjt0aGlzLnN0cm9rZT1jO3RoaXMuc3Ryb2tld2lkdGg9bnVsbCE9ZD9kOjF9bXhVdGlscy5leHRlbmQobXhEb3VibGVFbGxpcHNlLG14U2hhcGUpO214RG91YmxlRWxsaXBzZS5wcm90b3R5cGUudm1sU2NhbGU9MTA7Cm14RG91YmxlRWxsaXBzZS5wcm90b3R5cGUucGFpbnRCYWNrZ3JvdW5kPWZ1bmN0aW9uKGEsYixjLGQsZSl7YS5lbGxpcHNlKGIsYyxkLGUpO2EuZmlsbEFuZFN0cm9rZSgpfTtteERvdWJsZUVsbGlwc2UucHJvdG90eXBlLnBhaW50Rm9yZWdyb3VuZD1mdW5jdGlvbihhLGIsYyxkLGUpe2lmKCF0aGlzLm91dGxpbmUpe3ZhciBmPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9NQVJHSU4sTWF0aC5taW4oMyt0aGlzLnN0cm9rZXdpZHRoLE1hdGgubWluKGQvNSxlLzUpKSk7ZC09MipmO2UtPTIqZjswPGQmJjA8ZSYmYS5lbGxpcHNlKGIrZixjK2YsZCxlKTthLnN0cm9rZSgpfX07Cm14RG91YmxlRWxsaXBzZS5wcm90b3R5cGUuZ2V0TGFiZWxCb3VuZHM9ZnVuY3Rpb24oYSl7dmFyIGI9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX01BUkdJTixNYXRoLm1pbigzK3RoaXMuc3Ryb2tld2lkdGgsTWF0aC5taW4oYS53aWR0aC81L3RoaXMuc2NhbGUsYS5oZWlnaHQvNS90aGlzLnNjYWxlKSkpKnRoaXMuc2NhbGU7cmV0dXJuIG5ldyBteFJlY3RhbmdsZShhLngrYixhLnkrYixhLndpZHRoLTIqYixhLmhlaWdodC0yKmIpfTtmdW5jdGlvbiBteFJob21idXMoYSxiLGMsZCl7bXhTaGFwZS5jYWxsKHRoaXMpO3RoaXMuYm91bmRzPWE7dGhpcy5maWxsPWI7dGhpcy5zdHJva2U9Yzt0aGlzLnN0cm9rZXdpZHRoPW51bGwhPWQ/ZDoxfW14VXRpbHMuZXh0ZW5kKG14UmhvbWJ1cyxteFNoYXBlKTtteFJob21idXMucHJvdG90eXBlLmlzUm91bmRhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuITB9OwpteFJob21idXMucHJvdG90eXBlLnBhaW50VmVydGV4U2hhcGU9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1kLzIsZz1lLzIsaz1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQVJDU0laRSxteENvbnN0YW50cy5MSU5FX0FSQ1NJWkUpLzI7YS5iZWdpbigpO3RoaXMuYWRkUG9pbnRzKGEsW25ldyBteFBvaW50KGIrZixjKSxuZXcgbXhQb2ludChiK2QsYytnKSxuZXcgbXhQb2ludChiK2YsYytlKSxuZXcgbXhQb2ludChiLGMrZyldLHRoaXMuaXNSb3VuZGVkLGssITApO2EuZmlsbEFuZFN0cm9rZSgpfTtmdW5jdGlvbiBteFBvbHlsaW5lKGEsYixjKXtteFNoYXBlLmNhbGwodGhpcyk7dGhpcy5wb2ludHM9YTt0aGlzLnN0cm9rZT1iO3RoaXMuc3Ryb2tld2lkdGg9bnVsbCE9Yz9jOjF9bXhVdGlscy5leHRlbmQobXhQb2x5bGluZSxteFNoYXBlKTtteFBvbHlsaW5lLnByb3RvdHlwZS5nZXRSb3RhdGlvbj1mdW5jdGlvbigpe3JldHVybiAwfTsKbXhQb2x5bGluZS5wcm90b3R5cGUuZ2V0U2hhcGVSb3RhdGlvbj1mdW5jdGlvbigpe3JldHVybiAwfTtteFBvbHlsaW5lLnByb3RvdHlwZS5pc1BhaW50Qm91bmRzSW52ZXJ0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX07bXhQb2x5bGluZS5wcm90b3R5cGUucGFpbnRFZGdlU2hhcGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnBvaW50ZXJFdmVudHNWYWx1ZTthLnBvaW50ZXJFdmVudHNWYWx1ZT0ic3Ryb2tlIjtudWxsPT10aGlzLnN0eWxlfHwxIT10aGlzLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0NVUlZFRF0/dGhpcy5wYWludExpbmUoYSxiLHRoaXMuaXNSb3VuZGVkKTp0aGlzLnBhaW50Q3VydmVkTGluZShhLGIpO2EucG9pbnRlckV2ZW50c1ZhbHVlPWN9OwpteFBvbHlsaW5lLnByb3RvdHlwZS5wYWludExpbmU9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9BUkNTSVpFLG14Q29uc3RhbnRzLkxJTkVfQVJDU0laRSkvMjthLmJlZ2luKCk7dGhpcy5hZGRQb2ludHMoYSxiLGMsZCwhMSk7YS5zdHJva2UoKX07bXhQb2x5bGluZS5wcm90b3R5cGUucGFpbnRDdXJ2ZWRMaW5lPWZ1bmN0aW9uKGEsYil7YS5iZWdpbigpO3ZhciBjPWJbMF0sZD1iLmxlbmd0aDthLm1vdmVUbyhjLngsYy55KTtmb3IoYz0xO2M8ZC0yO2MrKyl7dmFyIGU9YltjXSxmPWJbYysxXTthLnF1YWRUbyhlLngsZS55LChlLngrZi54KS8yLChlLnkrZi55KS8yKX1lPWJbZC0yXTtmPWJbZC0xXTthLnF1YWRUbyhlLngsZS55LGYueCxmLnkpO2Euc3Ryb2tlKCl9OwpmdW5jdGlvbiBteEFycm93KGEsYixjLGQsZSxmLGcpe214U2hhcGUuY2FsbCh0aGlzKTt0aGlzLnBvaW50cz1hO3RoaXMuZmlsbD1iO3RoaXMuc3Ryb2tlPWM7dGhpcy5zdHJva2V3aWR0aD1udWxsIT1kP2Q6MTt0aGlzLmFycm93V2lkdGg9bnVsbCE9ZT9lOm14Q29uc3RhbnRzLkFSUk9XX1dJRFRIO3RoaXMuc3BhY2luZz1udWxsIT1mP2Y6bXhDb25zdGFudHMuQVJST1dfU1BBQ0lORzt0aGlzLmVuZFNpemU9bnVsbCE9Zz9nOm14Q29uc3RhbnRzLkFSUk9XX1NJWkV9bXhVdGlscy5leHRlbmQobXhBcnJvdyxteFNoYXBlKTtteEFycm93LnByb3RvdHlwZS5hdWdtZW50Qm91bmRpbmdCb3g9ZnVuY3Rpb24oYSl7bXhTaGFwZS5wcm90b3R5cGUuYXVnbWVudEJvdW5kaW5nQm94LmFwcGx5KHRoaXMsYXJndW1lbnRzKTthLmdyb3coKE1hdGgubWF4KHRoaXMuYXJyb3dXaWR0aCx0aGlzLmVuZFNpemUpLzIrdGhpcy5zdHJva2V3aWR0aCkqdGhpcy5zY2FsZSl9OwpteEFycm93LnByb3RvdHlwZS5wYWludEVkZ2VTaGFwZT1mdW5jdGlvbihhLGIpe3ZhciBjPW14Q29uc3RhbnRzLkFSUk9XX1NQQUNJTkcsZD1teENvbnN0YW50cy5BUlJPV19XSURUSCxlPWJbMF0sZj1iW2IubGVuZ3RoLTFdLGc9Zi54LWUueCxrPWYueS1lLnksbD1NYXRoLnNxcnQoZypnK2sqayksbT1sLTIqYy1teENvbnN0YW50cy5BUlJPV19TSVpFLGc9Zy9sLGs9ay9sLGw9ZCprLzMsZD0tZCpnLzMsbj1lLngtbC8yK2MqZyxlPWUueS1kLzIrYyprLHA9bitsLHE9ZStkLHI9cCttKmcsbT1xK20qayx0PXIrbCx1PW0rZCx4PXQtMypsLHk9dS0zKmQ7YS5iZWdpbigpO2EubW92ZVRvKG4sZSk7YS5saW5lVG8ocCxxKTthLmxpbmVUbyhyLG0pO2EubGluZVRvKHQsdSk7YS5saW5lVG8oZi54LWMqZyxmLnktYyprKTthLmxpbmVUbyh4LHkpO2EubGluZVRvKHgrbCx5K2QpO2EuY2xvc2UoKTthLmZpbGxBbmRTdHJva2UoKX07CmZ1bmN0aW9uIG14QXJyb3dDb25uZWN0b3IoYSxiLGMsZCxlLGYsZyl7bXhTaGFwZS5jYWxsKHRoaXMpO3RoaXMucG9pbnRzPWE7dGhpcy5maWxsPWI7dGhpcy5zdHJva2U9Yzt0aGlzLnN0cm9rZXdpZHRoPW51bGwhPWQ/ZDoxO3RoaXMuYXJyb3dXaWR0aD1udWxsIT1lP2U6bXhDb25zdGFudHMuQVJST1dfV0lEVEg7dGhpcy5hcnJvd1NwYWNpbmc9bnVsbCE9Zj9mOm14Q29uc3RhbnRzLkFSUk9XX1NQQUNJTkc7dGhpcy5zdGFydFNpemU9bXhDb25zdGFudHMuQVJST1dfU0laRS81O3RoaXMuZW5kU2l6ZT1teENvbnN0YW50cy5BUlJPV19TSVpFLzV9bXhVdGlscy5leHRlbmQobXhBcnJvd0Nvbm5lY3RvcixteFNoYXBlKTtteEFycm93Q29ubmVjdG9yLnByb3RvdHlwZS51c2VTdmdCb3VuZGluZ0JveD0hMDtteEFycm93Q29ubmVjdG9yLnByb3RvdHlwZS5pc1JvdW5kYWJsZT1mdW5jdGlvbigpe3JldHVybiEwfTsKbXhBcnJvd0Nvbm5lY3Rvci5wcm90b3R5cGUucmVzZXRTdHlsZXM9ZnVuY3Rpb24oKXtteFNoYXBlLnByb3RvdHlwZS5yZXNldFN0eWxlcy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5hcnJvd1NwYWNpbmc9bXhDb25zdGFudHMuQVJST1dfU1BBQ0lOR307bXhBcnJvd0Nvbm5lY3Rvci5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24oYSl7bXhTaGFwZS5wcm90b3R5cGUuYXBwbHkuYXBwbHkodGhpcyxhcmd1bWVudHMpO251bGwhPXRoaXMuc3R5bGUmJih0aGlzLnN0YXJ0U2l6ZT0zKm14VXRpbHMuZ2V0TnVtYmVyKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfU1RBUlRTSVpFLG14Q29uc3RhbnRzLkFSUk9XX1NJWkUvNSksdGhpcy5lbmRTaXplPTMqbXhVdGlscy5nZXROdW1iZXIodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9FTkRTSVpFLG14Q29uc3RhbnRzLkFSUk9XX1NJWkUvNSkpfTsKbXhBcnJvd0Nvbm5lY3Rvci5wcm90b3R5cGUuYXVnbWVudEJvdW5kaW5nQm94PWZ1bmN0aW9uKGEpe214U2hhcGUucHJvdG90eXBlLmF1Z21lbnRCb3VuZGluZ0JveC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGI9dGhpcy5nZXRFZGdlV2lkdGgoKTt0aGlzLmlzTWFya2VyU3RhcnQoKSYmKGI9TWF0aC5tYXgoYix0aGlzLmdldFN0YXJ0QXJyb3dXaWR0aCgpKSk7dGhpcy5pc01hcmtlckVuZCgpJiYoYj1NYXRoLm1heChiLHRoaXMuZ2V0RW5kQXJyb3dXaWR0aCgpKSk7YS5ncm93KChiLzIrdGhpcy5zdHJva2V3aWR0aCkqdGhpcy5zY2FsZSl9OwpteEFycm93Q29ubmVjdG9yLnByb3RvdHlwZS5wYWludEVkZ2VTaGFwZT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuc3Ryb2tld2lkdGg7dGhpcy5vdXRsaW5lJiYoYz1NYXRoLm1heCgxLG14VXRpbHMuZ2V0TnVtYmVyKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfU1RST0tFV0lEVEgsdGhpcy5zdHJva2V3aWR0aCkpKTtmb3IodmFyIGQ9dGhpcy5nZXRTdGFydEFycm93V2lkdGgoKStjLGU9dGhpcy5nZXRFbmRBcnJvd1dpZHRoKCkrYyxmPXRoaXMub3V0bGluZT90aGlzLmdldEVkZ2VXaWR0aCgpK2M6dGhpcy5nZXRFZGdlV2lkdGgoKSxnPXRoaXMuaXNPcGVuRW5kZWQoKSxrPXRoaXMuaXNNYXJrZXJTdGFydCgpLGw9dGhpcy5pc01hcmtlckVuZCgpLG09Zz8wOnRoaXMuYXJyb3dTcGFjaW5nK2MvMixuPXRoaXMuc3RhcnRTaXplK2MsYz10aGlzLmVuZFNpemUrYyxwPXRoaXMuaXNBcnJvd1JvdW5kZWQoKSxxPWJbYi5sZW5ndGgtMV0scj0xO3I8Yi5sZW5ndGgtMSYmYltyXS54PT0KYlswXS54JiZiW3JdLnk9PWJbMF0ueTspcisrO3ZhciB0PWJbcl0ueC1iWzBdLngscj1iW3JdLnktYlswXS55LHU9TWF0aC5zcXJ0KHQqdCtyKnIpO2lmKDAhPXUpe3ZhciB4PXQvdSx5LEI9eCxBPXIvdSx6LEM9QSx1PWYqQSx2PS1mKngsRD1bXTtwP2Euc2V0TGluZUpvaW4oInJvdW5kIik6MjxiLmxlbmd0aCYmYS5zZXRNaXRlckxpbWl0KDEuNDIpO2EuYmVnaW4oKTt0PXg7cj1BO2lmKGsmJiFnKXRoaXMucGFpbnRNYXJrZXIoYSxiWzBdLngsYlswXS55LHgsQSxuLGQsZixtLCEwKTtlbHNle3k9YlswXS54K3UvMittKng7ej1iWzBdLnkrdi8yK20qQTt2YXIgRz1iWzBdLngtdS8yK20qeCxKPWJbMF0ueS12LzIrbSpBO2c/KGEubW92ZVRvKHkseiksRC5wdXNoKGZ1bmN0aW9uKCl7YS5saW5lVG8oRyxKKX0pKTooYS5tb3ZlVG8oRyxKKSxhLmxpbmVUbyh5LHopKX1mb3IodmFyIEU9ej15PTAsdT0wO3U8Yi5sZW5ndGgtMjt1KyspaWYodj1teFV0aWxzLnJlbGF0aXZlQ2N3KGJbdV0ueCwKYlt1XS55LGJbdSsxXS54LGJbdSsxXS55LGJbdSsyXS54LGJbdSsyXS55KSx5PWJbdSsyXS54LWJbdSsxXS54LHo9Ylt1KzJdLnktYlt1KzFdLnksRT1NYXRoLnNxcnQoeSp5K3oqeiksMCE9RSl7Qj15L0U7Qz16L0U7RT1NYXRoLm1heChNYXRoLnNxcnQoKHgqQitBKkMrMSkvMiksLjA0KTt5PXgrQjt6PUErQzt2YXIgSD1NYXRoLnNxcnQoeSp5K3oqeik7aWYoMCE9SCl7eS89SDt6Lz1IO3ZhciBIPU1hdGgubWF4KEUsTWF0aC5taW4odGhpcy5zdHJva2V3aWR0aC8yMDArLjA0LC4zNSkpLEU9MCE9diYmcD9NYXRoLm1heCguMSxIKTpNYXRoLm1heChFLC4wNiksST1iW3UrMV0ueCt6KmYvMi9FLEY9Ylt1KzFdLnkteSpmLzIvRTt6PWJbdSsxXS54LXoqZi8yL0U7eT1iW3UrMV0ueSt5KmYvMi9FOzAhPXYmJnA/LTE9PXY/KHY9eitDKmYsRT15LUIqZixhLmxpbmVUbyh6K0EqZix5LXgqZiksYS5xdWFkVG8oSSxGLHYsRSksZnVuY3Rpb24oYixjKXtELnB1c2goZnVuY3Rpb24oKXthLmxpbmVUbyhiLApjKX0pfSh6LHkpKTooYS5saW5lVG8oSSxGKSxmdW5jdGlvbihiLGMpe3ZhciBkPUktQSpmLGU9Rit4KmYsZz1JLUMqZixrPUYrQipmO0QucHVzaChmdW5jdGlvbigpe2EucXVhZFRvKGIsYyxkLGUpfSk7RC5wdXNoKGZ1bmN0aW9uKCl7YS5saW5lVG8oZyxrKX0pfSh6LHkpKTooYS5saW5lVG8oSSxGKSxmdW5jdGlvbihiLGMpe0QucHVzaChmdW5jdGlvbigpe2EubGluZVRvKGIsYyl9KX0oeix5KSk7eD1CO0E9Q319dT1mKkM7dj0tZipCO2lmKGwmJiFnKXRoaXMucGFpbnRNYXJrZXIoYSxxLngscS55LC14LC1BLGMsZSxmLG0sITEpO2Vsc2V7YS5saW5lVG8ocS54LW0qQit1LzIscS55LW0qQyt2LzIpO3ZhciBLPXEueC1tKkItdS8yLEw9cS55LW0qQy12LzI7Zz8oYS5tb3ZlVG8oSyxMKSxELnNwbGljZSgwLDAsZnVuY3Rpb24oKXthLm1vdmVUbyhLLEwpfSkpOmEubGluZVRvKEssTCl9Zm9yKHU9RC5sZW5ndGgtMTswPD11O3UtLSlEW3VdKCk7Zz8oYS5lbmQoKSxhLnN0cm9rZSgpKToKKGEuY2xvc2UoKSxhLmZpbGxBbmRTdHJva2UoKSk7YS5zZXRTaGFkb3coITEpO2Euc2V0TWl0ZXJMaW1pdCg0KTtwJiZhLnNldExpbmVKb2luKCJmbGF0Iik7MjxiLmxlbmd0aCYmKGEuc2V0TWl0ZXJMaW1pdCg0KSxrJiYhZyYmKGEuYmVnaW4oKSx0aGlzLnBhaW50TWFya2VyKGEsYlswXS54LGJbMF0ueSx0LHIsbixkLGYsbSwhMCksYS5zdHJva2UoKSxhLmVuZCgpKSxsJiYhZyYmKGEuYmVnaW4oKSx0aGlzLnBhaW50TWFya2VyKGEscS54LHEueSwteCwtQSxjLGUsZixtLCEwKSxhLnN0cm9rZSgpLGEuZW5kKCkpKX19OwpteEFycm93Q29ubmVjdG9yLnByb3RvdHlwZS5wYWludE1hcmtlcj1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGssbCxtKXtnPWsvZzt2YXIgbj1rKmUvMjtrPS1rKmQvMjt2YXIgcD0obCtmKSpkO2Y9KGwrZikqZTttP2EubW92ZVRvKGItbitwLGMtaytmKTphLmxpbmVUbyhiLW4rcCxjLWsrZik7YS5saW5lVG8oYi1uL2crcCxjLWsvZytmKTthLmxpbmVUbyhiK2wqZCxjK2wqZSk7YS5saW5lVG8oYituL2crcCxjK2svZytmKTthLmxpbmVUbyhiK24rcCxjK2srZil9O214QXJyb3dDb25uZWN0b3IucHJvdG90eXBlLmlzQXJyb3dSb3VuZGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNSb3VuZGVkfTtteEFycm93Q29ubmVjdG9yLnByb3RvdHlwZS5nZXRTdGFydEFycm93V2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gbXhDb25zdGFudHMuQVJST1dfV0lEVEh9O214QXJyb3dDb25uZWN0b3IucHJvdG90eXBlLmdldEVuZEFycm93V2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gbXhDb25zdGFudHMuQVJST1dfV0lEVEh9OwpteEFycm93Q29ubmVjdG9yLnByb3RvdHlwZS5nZXRFZGdlV2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gbXhDb25zdGFudHMuQVJST1dfV0lEVEgvM307bXhBcnJvd0Nvbm5lY3Rvci5wcm90b3R5cGUuaXNPcGVuRW5kZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX07bXhBcnJvd0Nvbm5lY3Rvci5wcm90b3R5cGUuaXNNYXJrZXJTdGFydD1mdW5jdGlvbigpe3JldHVybiBteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfU1RBUlRBUlJPVyxteENvbnN0YW50cy5OT05FKSE9bXhDb25zdGFudHMuTk9ORX07bXhBcnJvd0Nvbm5lY3Rvci5wcm90b3R5cGUuaXNNYXJrZXJFbmQ9ZnVuY3Rpb24oKXtyZXR1cm4gbXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0VOREFSUk9XLG14Q29uc3RhbnRzLk5PTkUpIT1teENvbnN0YW50cy5OT05FfTsKZnVuY3Rpb24gbXhUZXh0KGEsYixjLGQsZSxmLGcsayxsLG0sbixwLHEscix0LHUseCx5LEIsQSx6KXtteFNoYXBlLmNhbGwodGhpcyk7dGhpcy52YWx1ZT1hO3RoaXMuYm91bmRzPWI7dGhpcy5jb2xvcj1udWxsIT1lP2U6ImJsYWNrIjt0aGlzLmFsaWduPW51bGwhPWM/YzpteENvbnN0YW50cy5BTElHTl9DRU5URVI7dGhpcy52YWxpZ249bnVsbCE9ZD9kOm14Q29uc3RhbnRzLkFMSUdOX01JRERMRTt0aGlzLmZhbWlseT1udWxsIT1mP2Y6bXhDb25zdGFudHMuREVGQVVMVF9GT05URkFNSUxZO3RoaXMuc2l6ZT1udWxsIT1nP2c6bXhDb25zdGFudHMuREVGQVVMVF9GT05UU0laRTt0aGlzLmZvbnRTdHlsZT1udWxsIT1rP2s6bXhDb25zdGFudHMuREVGQVVMVF9GT05UU1RZTEU7dGhpcy5zcGFjaW5nPXBhcnNlSW50KGx8fDIpO3RoaXMuc3BhY2luZ1RvcD10aGlzLnNwYWNpbmcrcGFyc2VJbnQobXx8MCk7dGhpcy5zcGFjaW5nUmlnaHQ9dGhpcy5zcGFjaW5nK3BhcnNlSW50KG58fDApOwp0aGlzLnNwYWNpbmdCb3R0b209dGhpcy5zcGFjaW5nK3BhcnNlSW50KHB8fDApO3RoaXMuc3BhY2luZ0xlZnQ9dGhpcy5zcGFjaW5nK3BhcnNlSW50KHF8fDApO3RoaXMuaG9yaXpvbnRhbD1udWxsIT1yP3I6ITA7dGhpcy5iYWNrZ3JvdW5kPXQ7dGhpcy5ib3JkZXI9dTt0aGlzLndyYXA9bnVsbCE9eD94OiExO3RoaXMuY2xpcHBlZD1udWxsIT15P3k6ITE7dGhpcy5vdmVyZmxvdz1udWxsIT1CP0I6InZpc2libGUiO3RoaXMubGFiZWxQYWRkaW5nPW51bGwhPUE/QTowO3RoaXMudGV4dERpcmVjdGlvbj16O3RoaXMucm90YXRpb249MDt0aGlzLnVwZGF0ZU1hcmdpbigpfW14VXRpbHMuZXh0ZW5kKG14VGV4dCxteFNoYXBlKTtteFRleHQucHJvdG90eXBlLmJhc2VTcGFjaW5nVG9wPTA7bXhUZXh0LnByb3RvdHlwZS5iYXNlU3BhY2luZ0JvdHRvbT0wO214VGV4dC5wcm90b3R5cGUuYmFzZVNwYWNpbmdMZWZ0PTA7bXhUZXh0LnByb3RvdHlwZS5iYXNlU3BhY2luZ1JpZ2h0PTA7Cm14VGV4dC5wcm90b3R5cGUucmVwbGFjZUxpbmVmZWVkcz0hMDtteFRleHQucHJvdG90eXBlLnZlcnRpY2FsVGV4dFJvdGF0aW9uPS05MDtteFRleHQucHJvdG90eXBlLmlnbm9yZUNsaXBwZWRTdHJpbmdTaXplPSEwO214VGV4dC5wcm90b3R5cGUuaWdub3JlU3RyaW5nU2l6ZT0hMTtteFRleHQucHJvdG90eXBlLnRleHRXaWR0aFBhZGRpbmc9OCE9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHxteENsaWVudC5JU19FTT8zOjQ7bXhUZXh0LnByb3RvdHlwZS5sYXN0VmFsdWU9bnVsbDtteFRleHQucHJvdG90eXBlLmNhY2hlRW5hYmxlZD0hMDtteFRleHQucHJvdG90eXBlLmlzUGFyc2VWbWw9ZnVuY3Rpb24oKXtyZXR1cm4hMX07bXhUZXh0LnByb3RvdHlwZS5pc0h0bWxBbGxvd2VkPWZ1bmN0aW9uKCl7cmV0dXJuIDghPWRvY3VtZW50LmRvY3VtZW50TW9kZXx8bXhDbGllbnQuSVNfRU19O214VGV4dC5wcm90b3R5cGUuZ2V0U3ZnU2NyZWVuT2Zmc2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDB9OwpteFRleHQucHJvdG90eXBlLmNoZWNrQm91bmRzPWZ1bmN0aW9uKCl7cmV0dXJuIWlzTmFOKHRoaXMuc2NhbGUpJiZpc0Zpbml0ZSh0aGlzLnNjYWxlKSYmMDx0aGlzLnNjYWxlJiZudWxsIT10aGlzLmJvdW5kcyYmIWlzTmFOKHRoaXMuYm91bmRzLngpJiYhaXNOYU4odGhpcy5ib3VuZHMueSkmJiFpc05hTih0aGlzLmJvdW5kcy53aWR0aCkmJiFpc05hTih0aGlzLmJvdW5kcy5oZWlnaHQpfTsKbXhUZXh0LnByb3RvdHlwZS5wYWludD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuc2NhbGUsZD10aGlzLmJvdW5kcy54L2MsZT10aGlzLmJvdW5kcy55L2MsZj10aGlzLmJvdW5kcy53aWR0aC9jLGM9dGhpcy5ib3VuZHMuaGVpZ2h0L2M7dGhpcy51cGRhdGVUcmFuc2Zvcm0oYSxkLGUsZixjKTt0aGlzLmNvbmZpZ3VyZUNhbnZhcyhhLGQsZSxmLGMpO2lmKGIpYS51cGRhdGVUZXh0KGQsZSxmLGMsdGhpcy5hbGlnbix0aGlzLnZhbGlnbix0aGlzLndyYXAsdGhpcy5vdmVyZmxvdyx0aGlzLmNsaXBwZWQsdGhpcy5nZXRUZXh0Um90YXRpb24oKSx0aGlzLm5vZGUpO2Vsc2V7dmFyIGc9bXhVdGlscy5pc05vZGUodGhpcy52YWx1ZSl8fHRoaXMuZGlhbGVjdD09bXhDb25zdGFudHMuRElBTEVDVF9TVFJJQ1RIVE1MLGs9Z3x8YSBpbnN0YW5jZW9mIG14Vm1sQ2FudmFzMkQ/Imh0bWwiOiIiLGw9dGhpcy52YWx1ZTtnfHwiaHRtbCIhPWt8fChsPW14VXRpbHMuaHRtbEVudGl0aWVzKGwsITEpKTsKImh0bWwiIT1rfHxteFV0aWxzLmlzTm9kZSh0aGlzLnZhbHVlKXx8KGw9bXhVdGlscy5yZXBsYWNlVHJhaWxpbmdOZXdsaW5lcyhsLCI8ZGl2Pjxicj48L2Rpdj4iKSk7dmFyIGw9IW14VXRpbHMuaXNOb2RlKHRoaXMudmFsdWUpJiZ0aGlzLnJlcGxhY2VMaW5lZmVlZHMmJiJodG1sIj09az9sLnJlcGxhY2UoL1xuL2csIjxici8+Iik6bCxtPXRoaXMudGV4dERpcmVjdGlvbjttIT1teENvbnN0YW50cy5URVhUX0RJUkVDVElPTl9BVVRPfHxnfHwobT10aGlzLmdldEF1dG9EaXJlY3Rpb24oKSk7bSE9bXhDb25zdGFudHMuVEVYVF9ESVJFQ1RJT05fTFRSJiZtIT1teENvbnN0YW50cy5URVhUX0RJUkVDVElPTl9SVEwmJihtPW51bGwpO2EudGV4dChkLGUsZixjLGwsdGhpcy5hbGlnbix0aGlzLnZhbGlnbix0aGlzLndyYXAsayx0aGlzLm92ZXJmbG93LHRoaXMuY2xpcHBlZCx0aGlzLmdldFRleHRSb3RhdGlvbigpLG0pfX07Cm14VGV4dC5wcm90b3R5cGUucmVkcmF3PWZ1bmN0aW9uKCl7aWYodGhpcy52aXNpYmxlJiZ0aGlzLmNoZWNrQm91bmRzKCkmJnRoaXMuY2FjaGVFbmFibGVkJiZ0aGlzLmxhc3RWYWx1ZT09dGhpcy52YWx1ZSYmKG14VXRpbHMuaXNOb2RlKHRoaXMudmFsdWUpfHx0aGlzLmRpYWxlY3Q9PW14Q29uc3RhbnRzLkRJQUxFQ1RfU1RSSUNUSFRNTCkpaWYoIkRJViIhPXRoaXMubm9kZS5ub2RlTmFtZXx8IXRoaXMuaXNIdG1sQWxsb3dlZCgpJiZteENsaWVudC5JU19WTUwpe3ZhciBhPXRoaXMuY3JlYXRlQ2FudmFzKCk7bnVsbCE9YSYmbnVsbCE9YS51cGRhdGVUZXh0PyhhLnBvaW50ZXJFdmVudHM9dGhpcy5wb2ludGVyRXZlbnRzLHRoaXMucGFpbnQoYSwhMCksdGhpcy5kZXN0cm95Q2FudmFzKGEpLHRoaXMudXBkYXRlQm91bmRpbmdCb3goKSk6bXhTaGFwZS5wcm90b3R5cGUucmVkcmF3LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1lbHNlIG14Q2xpZW50LklTX1NWRz90aGlzLnJlZHJhd0h0bWxTaGFwZVdpdGhDc3MzKCk6Cih0aGlzLnVwZGF0ZVNpemUodGhpcy5ub2RlLG51bGw9PXRoaXMuc3RhdGV8fG51bGw9PXRoaXMuc3RhdGUudmlldy50ZXh0RGl2KSxteENsaWVudC5JU19JRSYmKG51bGw9PWRvY3VtZW50LmRvY3VtZW50TW9kZXx8OD49ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKT90aGlzLnVwZGF0ZUh0bWxGaWx0ZXIoKTp0aGlzLnVwZGF0ZUh0bWxUcmFuc2Zvcm0oKSksdGhpcy51cGRhdGVCb3VuZGluZ0JveCgpO2Vsc2UgbXhTaGFwZS5wcm90b3R5cGUucmVkcmF3LmFwcGx5KHRoaXMsYXJndW1lbnRzKSxteFV0aWxzLmlzTm9kZSh0aGlzLnZhbHVlKXx8dGhpcy5kaWFsZWN0PT1teENvbnN0YW50cy5ESUFMRUNUX1NUUklDVEhUTUw/dGhpcy5sYXN0VmFsdWU9dGhpcy52YWx1ZTp0aGlzLmxhc3RWYWx1ZT1udWxsfTsKbXhUZXh0LnByb3RvdHlwZS5yZXNldFN0eWxlcz1mdW5jdGlvbigpe214U2hhcGUucHJvdG90eXBlLnJlc2V0U3R5bGVzLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmNvbG9yPSJibGFjayI7dGhpcy5hbGlnbj1teENvbnN0YW50cy5BTElHTl9DRU5URVI7dGhpcy52YWxpZ249bXhDb25zdGFudHMuQUxJR05fTUlERExFO3RoaXMuZmFtaWx5PW14Q29uc3RhbnRzLkRFRkFVTFRfRk9OVEZBTUlMWTt0aGlzLnNpemU9bXhDb25zdGFudHMuREVGQVVMVF9GT05UU0laRTt0aGlzLmZvbnRTdHlsZT1teENvbnN0YW50cy5ERUZBVUxUX0ZPTlRTVFlMRTt0aGlzLnNwYWNpbmdMZWZ0PXRoaXMuc3BhY2luZ0JvdHRvbT10aGlzLnNwYWNpbmdSaWdodD10aGlzLnNwYWNpbmdUb3A9dGhpcy5zcGFjaW5nPTI7dGhpcy5ob3Jpem9udGFsPSEwO2RlbGV0ZSB0aGlzLmJhY2tncm91bmQ7ZGVsZXRlIHRoaXMuYm9yZGVyO3RoaXMudGV4dERpcmVjdGlvbj1teENvbnN0YW50cy5ERUZBVUxUX1RFWFRfRElSRUNUSU9OOwpkZWxldGUgdGhpcy5tYXJnaW59OwpteFRleHQucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuc3BhY2luZztteFNoYXBlLnByb3RvdHlwZS5hcHBseS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bnVsbCE9dGhpcy5zdHlsZSYmKHRoaXMuZm9udFN0eWxlPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9GT05UU1RZTEUsdGhpcy5mb250U3R5bGUpLHRoaXMuZmFtaWx5PW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9GT05URkFNSUxZLHRoaXMuZmFtaWx5KSx0aGlzLnNpemU9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0ZPTlRTSVpFLHRoaXMuc2l6ZSksdGhpcy5jb2xvcj1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRk9OVENPTE9SLHRoaXMuY29sb3IpLHRoaXMuYWxpZ249bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FMSUdOLAp0aGlzLmFsaWduKSx0aGlzLnZhbGlnbj1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfVkVSVElDQUxfQUxJR04sdGhpcy52YWxpZ24pLHRoaXMuc3BhY2luZz1wYXJzZUludChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfU1BBQ0lORyx0aGlzLnNwYWNpbmcpKSx0aGlzLnNwYWNpbmdUb3A9cGFyc2VJbnQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1NQQUNJTkdfVE9QLHRoaXMuc3BhY2luZ1RvcC1iKSkrdGhpcy5zcGFjaW5nLHRoaXMuc3BhY2luZ1JpZ2h0PXBhcnNlSW50KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9TUEFDSU5HX1JJR0hULHRoaXMuc3BhY2luZ1JpZ2h0LWIpKSt0aGlzLnNwYWNpbmcsdGhpcy5zcGFjaW5nQm90dG9tPXBhcnNlSW50KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9TUEFDSU5HX0JPVFRPTSwKdGhpcy5zcGFjaW5nQm90dG9tLWIpKSt0aGlzLnNwYWNpbmcsdGhpcy5zcGFjaW5nTGVmdD1wYXJzZUludChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfU1BBQ0lOR19MRUZULHRoaXMuc3BhY2luZ0xlZnQtYikpK3RoaXMuc3BhY2luZyx0aGlzLmhvcml6b250YWw9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0hPUklaT05UQUwsdGhpcy5ob3Jpem9udGFsKSx0aGlzLmJhY2tncm91bmQ9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0xBQkVMX0JBQ0tHUk9VTkRDT0xPUix0aGlzLmJhY2tncm91bmQpLHRoaXMuYm9yZGVyPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9MQUJFTF9CT1JERVJDT0xPUix0aGlzLmJvcmRlciksdGhpcy50ZXh0RGlyZWN0aW9uPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9URVhUX0RJUkVDVElPTiwKbXhDb25zdGFudHMuREVGQVVMVF9URVhUX0RJUkVDVElPTiksdGhpcy5vcGFjaXR5PW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9URVhUX09QQUNJVFksMTAwKSx0aGlzLnVwZGF0ZU1hcmdpbigpKTt0aGlzLmZsaXBIPXRoaXMuZmxpcFY9bnVsbH07bXhUZXh0LnByb3RvdHlwZS5nZXRBdXRvRGlyZWN0aW9uPWZ1bmN0aW9uKCl7dmFyIGE9L1tBLVphLXpcdTA1ZDAtXHUwNjVmXHUwNjZhLVx1MDZlZlx1MDZmYS1cdTA3ZmZcdWZiMWQtXHVmZGZmXHVmZTcwLVx1ZmVmY10vLmV4ZWModGhpcy52YWx1ZSk7cmV0dXJuIG51bGwhPWEmJjA8YS5sZW5ndGgmJiJ6IjxhWzBdP214Q29uc3RhbnRzLlRFWFRfRElSRUNUSU9OX1JUTDpteENvbnN0YW50cy5URVhUX0RJUkVDVElPTl9MVFJ9OwpteFRleHQucHJvdG90eXBlLmdldENvbnRlbnROb2RlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5ub2RlO251bGwhPWEmJihhPW51bGw9PWEub3duZXJTVkdFbGVtZW50P3RoaXMubm9kZS5maXJzdENoaWxkLmZpcnN0Q2hpbGQ6YS5maXJzdENoaWxkLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZC5maXJzdENoaWxkLmZpcnN0Q2hpbGQpO3JldHVybiBhfTsKbXhUZXh0LnByb3RvdHlwZS51cGRhdGVCb3VuZGluZ0JveD1mdW5jdGlvbigpe3ZhciBhPXRoaXMubm9kZTt0aGlzLmJvdW5kaW5nQm94PXRoaXMuYm91bmRzLmNsb25lKCk7dmFyIGI9dGhpcy5nZXRUZXh0Um90YXRpb24oKSxjPW51bGwhPXRoaXMuc3R5bGU/bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0xBQkVMX1BPU0lUSU9OLG14Q29uc3RhbnRzLkFMSUdOX0NFTlRFUik6bnVsbCxkPW51bGwhPXRoaXMuc3R5bGU/bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1ZFUlRJQ0FMX0xBQkVMX1BPU0lUSU9OLG14Q29uc3RhbnRzLkFMSUdOX01JRERMRSk6bnVsbDtpZighKHRoaXMuaWdub3JlU3RyaW5nU2l6ZXx8bnVsbD09YXx8ImZpbGwiPT10aGlzLm92ZXJmbG93fHx0aGlzLmNsaXBwZWQmJnRoaXMuaWdub3JlQ2xpcHBlZFN0cmluZ1NpemUmJmM9PW14Q29uc3RhbnRzLkFMSUdOX0NFTlRFUiYmZD09bXhDb25zdGFudHMuQUxJR05fTUlERExFKSl7ZD0KYz1udWxsO2lmKG51bGwhPWEub3duZXJTVkdFbGVtZW50KWlmKG51bGwhPWEuZmlyc3RDaGlsZCYmbnVsbCE9YS5maXJzdENoaWxkLmZpcnN0Q2hpbGQmJiJmb3JlaWduT2JqZWN0Ij09YS5maXJzdENoaWxkLmZpcnN0Q2hpbGQubm9kZU5hbWUpYT1hLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZC5maXJzdENoaWxkLmZpcnN0Q2hpbGQsZD1hLm9mZnNldEhlaWdodCp0aGlzLnNjYWxlLGM9IndpZHRoIj09dGhpcy5vdmVyZmxvdz90aGlzLmJvdW5kaW5nQm94LndpZHRoOmEub2Zmc2V0V2lkdGgqdGhpcy5zY2FsZTtlbHNlIHRyeXt2YXIgZT1hLmdldEJCb3goKTsic3RyaW5nIj09dHlwZW9mIHRoaXMudmFsdWUmJjA9PW14VXRpbHMudHJpbSh0aGlzLnZhbHVlKT90aGlzLmJvdW5kaW5nQm94PW51bGw6dGhpcy5ib3VuZGluZ0JveD0wPT1lLndpZHRoJiYwPT1lLmhlaWdodD9udWxsOm5ldyBteFJlY3RhbmdsZShlLngsZS55LGUud2lkdGgsZS5oZWlnaHQpO3JldHVybn1jYXRjaChmKXt9ZWxzZXtjPQpudWxsIT10aGlzLnN0YXRlP3RoaXMuc3RhdGUudmlldy50ZXh0RGl2Om51bGw7aWYobnVsbD09dGhpcy5vZmZzZXRXaWR0aHx8bnVsbD09dGhpcy5vZmZzZXRIZWlnaHQpbnVsbCE9YyYmKHRoaXMudXBkYXRlRm9udChjKSx0aGlzLnVwZGF0ZVNpemUoYywhMSksdGhpcy51cGRhdGVJbm5lckh0bWwoYyksYT1jKSxlPWEsOCE9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHxteENsaWVudC5JU19FTT9udWxsIT1lLmZpcnN0Q2hpbGQmJiJESVYiPT1lLmZpcnN0Q2hpbGQubm9kZU5hbWUmJihlPWUuZmlyc3RDaGlsZCk6KGQ9TWF0aC5yb3VuZCh0aGlzLmJvdW5kcy53aWR0aC90aGlzLnNjYWxlKSx0aGlzLndyYXAmJjA8ZD8oYS5zdHlsZS53b3JkV3JhcD1teENvbnN0YW50cy5XT1JEX1dSQVAsYS5zdHlsZS53aGl0ZVNwYWNlPSJub3JtYWwiLCJicmVhay13b3JkIiE9YS5zdHlsZS53b3JkV3JhcCYmKGE9ZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZGl2IiksMDxhLmxlbmd0aCYmKGU9YVthLmxlbmd0aC0KMV0pLGM9ZS5vZmZzZXRXaWR0aCsyLGE9dGhpcy5ub2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkaXYiKSx0aGlzLmNsaXBwZWQmJihjPU1hdGgubWluKGQsYykpLDE8YS5sZW5ndGgmJihhW2EubGVuZ3RoLTJdLnN0eWxlLndpZHRoPWMrInB4IikpKTphLnN0eWxlLndoaXRlU3BhY2U9Im5vd3JhcCIpLHRoaXMub2Zmc2V0V2lkdGg9ZS5vZmZzZXRXaWR0aCt0aGlzLnRleHRXaWR0aFBhZGRpbmcsdGhpcy5vZmZzZXRIZWlnaHQ9ZS5vZmZzZXRIZWlnaHQ7Yz10aGlzLm9mZnNldFdpZHRoKnRoaXMuc2NhbGU7ZD10aGlzLm9mZnNldEhlaWdodCp0aGlzLnNjYWxlfW51bGwhPWMmJm51bGwhPWQmJih0aGlzLmJvdW5kaW5nQm94PW5ldyBteFJlY3RhbmdsZSh0aGlzLmJvdW5kcy54LHRoaXMuYm91bmRzLnksYyxkKSl9bnVsbCE9dGhpcy5ib3VuZGluZ0JveCYmKDAhPWI/KGI9bXhVdGlscy5nZXRCb3VuZGluZ0JveChuZXcgbXhSZWN0YW5nbGUodGhpcy5tYXJnaW4ueCp0aGlzLmJvdW5kaW5nQm94LndpZHRoLAp0aGlzLm1hcmdpbi55KnRoaXMuYm91bmRpbmdCb3guaGVpZ2h0LHRoaXMuYm91bmRpbmdCb3gud2lkdGgsdGhpcy5ib3VuZGluZ0JveC5oZWlnaHQpLGIsbmV3IG14UG9pbnQoMCwwKSksdGhpcy51bnJvdGF0ZWRCb3VuZGluZ0JveD1teFJlY3RhbmdsZS5mcm9tUmVjdGFuZ2xlKHRoaXMuYm91bmRpbmdCb3gpLHRoaXMudW5yb3RhdGVkQm91bmRpbmdCb3gueCs9dGhpcy5tYXJnaW4ueCp0aGlzLnVucm90YXRlZEJvdW5kaW5nQm94LndpZHRoLHRoaXMudW5yb3RhdGVkQm91bmRpbmdCb3gueSs9dGhpcy5tYXJnaW4ueSp0aGlzLnVucm90YXRlZEJvdW5kaW5nQm94LmhlaWdodCx0aGlzLmJvdW5kaW5nQm94LngrPWIueCx0aGlzLmJvdW5kaW5nQm94LnkrPWIueSx0aGlzLmJvdW5kaW5nQm94LndpZHRoPWIud2lkdGgsdGhpcy5ib3VuZGluZ0JveC5oZWlnaHQ9Yi5oZWlnaHQpOih0aGlzLmJvdW5kaW5nQm94LngrPXRoaXMubWFyZ2luLngqdGhpcy5ib3VuZGluZ0JveC53aWR0aCx0aGlzLmJvdW5kaW5nQm94LnkrPQp0aGlzLm1hcmdpbi55KnRoaXMuYm91bmRpbmdCb3guaGVpZ2h0LHRoaXMudW5yb3RhdGVkQm91bmRpbmdCb3g9bnVsbCkpfTtteFRleHQucHJvdG90eXBlLmdldFNoYXBlUm90YXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gMH07bXhUZXh0LnByb3RvdHlwZS5nZXRUZXh0Um90YXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5zdGF0ZSYmbnVsbCE9dGhpcy5zdGF0ZS5zaGFwZT90aGlzLnN0YXRlLnNoYXBlLmdldFRleHRSb3RhdGlvbigpOjB9O214VGV4dC5wcm90b3R5cGUuaXNQYWludEJvdW5kc0ludmVydGVkPWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuaG9yaXpvbnRhbCYmbnVsbCE9dGhpcy5zdGF0ZSYmdGhpcy5zdGF0ZS52aWV3LmdyYXBoLm1vZGVsLmlzVmVydGV4KHRoaXMuc3RhdGUuY2VsbCl9OwpteFRleHQucHJvdG90eXBlLmNvbmZpZ3VyZUNhbnZhcz1mdW5jdGlvbihhLGIsYyxkLGUpe214U2hhcGUucHJvdG90eXBlLmNvbmZpZ3VyZUNhbnZhcy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YS5zZXRGb250Q29sb3IodGhpcy5jb2xvcik7YS5zZXRGb250QmFja2dyb3VuZENvbG9yKHRoaXMuYmFja2dyb3VuZCk7YS5zZXRGb250Qm9yZGVyQ29sb3IodGhpcy5ib3JkZXIpO2Euc2V0Rm9udEZhbWlseSh0aGlzLmZhbWlseSk7YS5zZXRGb250U2l6ZSh0aGlzLnNpemUpO2Euc2V0Rm9udFN0eWxlKHRoaXMuZm9udFN0eWxlKX07Cm14VGV4dC5wcm90b3R5cGUudXBkYXRlVm1sQ29udGFpbmVyPWZ1bmN0aW9uKCl7dGhpcy5ub2RlLnN0eWxlLmxlZnQ9TWF0aC5yb3VuZCh0aGlzLmJvdW5kcy54KSsicHgiO3RoaXMubm9kZS5zdHlsZS50b3A9TWF0aC5yb3VuZCh0aGlzLmJvdW5kcy55KSsicHgiO3RoaXMubm9kZS5zdHlsZS53aWR0aD0iMXB4Ijt0aGlzLm5vZGUuc3R5bGUuaGVpZ2h0PSIxcHgiO3RoaXMubm9kZS5zdHlsZS5vdmVyZmxvdz0idmlzaWJsZSJ9O214VGV4dC5wcm90b3R5cGUuZ2V0SHRtbFZhbHVlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy52YWx1ZTt0aGlzLmRpYWxlY3QhPW14Q29uc3RhbnRzLkRJQUxFQ1RfU1RSSUNUSFRNTCYmKGE9bXhVdGlscy5odG1sRW50aXRpZXMoYSwhMSkpO2E9bXhVdGlscy5yZXBsYWNlVHJhaWxpbmdOZXdsaW5lcyhhLCI8ZGl2Pjxicj48L2Rpdj4iKTtyZXR1cm4gdGhpcy5yZXBsYWNlTGluZWZlZWRzP2EucmVwbGFjZSgvXG4vZywiPGJyLz4iKTphfTsKbXhUZXh0LnByb3RvdHlwZS5nZXRUZXh0Q3NzPWZ1bmN0aW9uKCl7dmFyIGE9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAiK3RoaXMuc2l6ZSsicHg7IGZvbnQtZmFtaWx5OiAiK3RoaXMuZmFtaWx5KyI7IGNvbG9yOiAiK3RoaXMuY29sb3IrIjsgbGluZS1oZWlnaHQ6ICIrKG14Q29uc3RhbnRzLkFCU09MVVRFX0xJTkVfSEVJR0hUP3RoaXMuc2l6ZSpteENvbnN0YW50cy5MSU5FX0hFSUdIVCsicHgiOm14Q29uc3RhbnRzLkxJTkVfSEVJR0hUKSsiOyBwb2ludGVyLWV2ZW50czogIisodGhpcy5wb2ludGVyRXZlbnRzPyJhbGwiOiJub25lIikrIjsgIjsodGhpcy5mb250U3R5bGUmbXhDb25zdGFudHMuRk9OVF9CT0xEKT09bXhDb25zdGFudHMuRk9OVF9CT0xEJiYoYSs9ImZvbnQtd2VpZ2h0OiBib2xkOyAiKTsodGhpcy5mb250U3R5bGUmbXhDb25zdGFudHMuRk9OVF9JVEFMSUMpPT1teENvbnN0YW50cy5GT05UX0lUQUxJQyYmKGErPSJmb250LXN0eWxlOiBpdGFsaWM7ICIpOwp2YXIgYj1bXTsodGhpcy5mb250U3R5bGUmbXhDb25zdGFudHMuRk9OVF9VTkRFUkxJTkUpPT1teENvbnN0YW50cy5GT05UX1VOREVSTElORSYmYi5wdXNoKCJ1bmRlcmxpbmUiKTsodGhpcy5mb250U3R5bGUmbXhDb25zdGFudHMuRk9OVF9TVFJJS0VUSFJPVUdIKT09bXhDb25zdGFudHMuRk9OVF9TVFJJS0VUSFJPVUdIJiZiLnB1c2goImxpbmUtdGhyb3VnaCIpOzA8Yi5sZW5ndGgmJihhKz0idGV4dC1kZWNvcmF0aW9uOiAiK2Iuam9pbigiICIpKyI7ICIpO3JldHVybiBhfTsKbXhUZXh0LnByb3RvdHlwZS5yZWRyYXdIdG1sU2hhcGU9ZnVuY3Rpb24oKXtpZihteENsaWVudC5JU19TVkcpdGhpcy5yZWRyYXdIdG1sU2hhcGVXaXRoQ3NzMygpO2Vsc2V7dmFyIGE9dGhpcy5ub2RlLnN0eWxlO2Eud2hpdGVTcGFjZT0ibm9ybWFsIjthLm92ZXJmbG93PSIiO2Eud2lkdGg9IiI7YS5oZWlnaHQ9IiI7dGhpcy51cGRhdGVWYWx1ZSgpO3RoaXMudXBkYXRlRm9udCh0aGlzLm5vZGUpO3RoaXMudXBkYXRlU2l6ZSh0aGlzLm5vZGUsbnVsbD09dGhpcy5zdGF0ZXx8bnVsbD09dGhpcy5zdGF0ZS52aWV3LnRleHREaXYpO3RoaXMub2Zmc2V0SGVpZ2h0PXRoaXMub2Zmc2V0V2lkdGg9bnVsbDtteENsaWVudC5JU19JRSYmKG51bGw9PWRvY3VtZW50LmRvY3VtZW50TW9kZXx8OD49ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKT90aGlzLnVwZGF0ZUh0bWxGaWx0ZXIoKTp0aGlzLnVwZGF0ZUh0bWxUcmFuc2Zvcm0oKX19OwpteFRleHQucHJvdG90eXBlLnJlZHJhd0h0bWxTaGFwZVdpdGhDc3MzPWZ1bmN0aW9uKCl7dmFyIGE9TWF0aC5tYXgoMCxNYXRoLnJvdW5kKHRoaXMuYm91bmRzLndpZHRoL3RoaXMuc2NhbGUpKSxiPU1hdGgubWF4KDAsTWF0aC5yb3VuZCh0aGlzLmJvdW5kcy5oZWlnaHQvdGhpcy5zY2FsZSkpLGM9InBvc2l0aW9uOiBhYnNvbHV0ZTsgbGVmdDogIitNYXRoLnJvdW5kKHRoaXMuYm91bmRzLngpKyJweDsgdG9wOiAiK01hdGgucm91bmQodGhpcy5ib3VuZHMueSkrInB4OyBwb2ludGVyLWV2ZW50czogbm9uZTsgIixkPXRoaXMuZ2V0VGV4dENzcygpO214U3ZnQ2FudmFzMkQuY3JlYXRlQ3NzKGErMixiLHRoaXMuYWxpZ24sdGhpcy52YWxpZ24sdGhpcy53cmFwLHRoaXMub3ZlcmZsb3csdGhpcy5jbGlwcGVkLG51bGwhPXRoaXMuYmFja2dyb3VuZD9teFV0aWxzLmh0bWxFbnRpdGllcyh0aGlzLmJhY2tncm91bmQpOm51bGwsbnVsbCE9dGhpcy5ib3JkZXI/bXhVdGlscy5odG1sRW50aXRpZXModGhpcy5ib3JkZXIpOgpudWxsLGMsZCx0aGlzLnNjYWxlLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYixjLGQsbCxtKXthPXRoaXMuZ2V0VGV4dFJvdGF0aW9uKCk7YT0oMSE9dGhpcy5zY2FsZT8ic2NhbGUoIit0aGlzLnNjYWxlKyIpICI6IiIpKygwIT1hPyJyb3RhdGUoIithKyJkZWcpICI6IiIpKygwIT10aGlzLm1hcmdpbi54fHwwIT10aGlzLm1hcmdpbi55PyJ0cmFuc2xhdGUoIisxMDAqdGhpcy5tYXJnaW4ueCsiJSwiKzEwMCp0aGlzLm1hcmdpbi55KyIlKSI6IiIpOyIiIT1hJiYoYT0idHJhbnNmb3JtLW9yaWdpbjogMCAwOyB0cmFuc2Zvcm06ICIrYSsiOyAiKTsiIj09bT8oYys9ZCxkPSJkaXNwbGF5OmlubGluZS1ibG9jazsgbWluLXdpZHRoOiAxMDAlOyAiK2EpOmQrPWE7MTAwPnRoaXMub3BhY2l0eSYmKGwrPSJvcGFjaXR5OiAiK3RoaXMub3BhY2l0eS8xMDArIjsgIik7dGhpcy5ub2RlLnNldEF0dHJpYnV0ZSgic3R5bGUiLGMpO2M9bXhVdGlscy5pc05vZGUodGhpcy52YWx1ZSk/dGhpcy52YWx1ZS5vdXRlckhUTUw6CnRoaXMuZ2V0SHRtbFZhbHVlKCk7bnVsbD09dGhpcy5ub2RlLmZpcnN0Q2hpbGQmJih0aGlzLm5vZGUuaW5uZXJIVE1MPSI8ZGl2PjxkaXY+IitjKyI8L2Rpdj48L2Rpdj4iKTt0aGlzLm5vZGUuZmlyc3RDaGlsZC5maXJzdENoaWxkLnNldEF0dHJpYnV0ZSgic3R5bGUiLGwpO3RoaXMubm9kZS5maXJzdENoaWxkLnNldEF0dHJpYnV0ZSgic3R5bGUiLGQpfSkpfTsKbXhUZXh0LnByb3RvdHlwZS51cGRhdGVIdG1sVHJhbnNmb3JtPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRUZXh0Um90YXRpb24oKSxiPXRoaXMubm9kZS5zdHlsZSxjPXRoaXMubWFyZ2luLngsZD10aGlzLm1hcmdpbi55OzAhPWE/KG14VXRpbHMuc2V0UHJlZml4ZWRTdHlsZShiLCJ0cmFuc2Zvcm1PcmlnaW4iLDEwMCotYysiJSAiKzEwMCotZCsiJSIpLG14VXRpbHMuc2V0UHJlZml4ZWRTdHlsZShiLCJ0cmFuc2Zvcm0iLCJ0cmFuc2xhdGUoIisxMDAqYysiJSwiKzEwMCpkKyIlKSBzY2FsZSgiK3RoaXMuc2NhbGUrIikgcm90YXRlKCIrYSsiZGVnKSIpKToobXhVdGlscy5zZXRQcmVmaXhlZFN0eWxlKGIsInRyYW5zZm9ybU9yaWdpbiIsIjAlIDAlIiksbXhVdGlscy5zZXRQcmVmaXhlZFN0eWxlKGIsInRyYW5zZm9ybSIsInNjYWxlKCIrdGhpcy5zY2FsZSsiKSB0cmFuc2xhdGUoIisxMDAqYysiJSwiKzEwMCpkKyIlKSIpKTtiLmxlZnQ9TWF0aC5yb3VuZCh0aGlzLmJvdW5kcy54LQpNYXRoLmNlaWwoYyooImZpbGwiIT10aGlzLm92ZXJmbG93JiYid2lkdGgiIT10aGlzLm92ZXJmbG93PzM6MSkpKSsicHgiO2IudG9wPU1hdGgucm91bmQodGhpcy5ib3VuZHMueS1kKigiZmlsbCIhPXRoaXMub3ZlcmZsb3c/MzoxKSkrInB4IjtiLm9wYWNpdHk9MTAwPnRoaXMub3BhY2l0eT90aGlzLm9wYWNpdHkvMTAwOiIifTsKbXhUZXh0LnByb3RvdHlwZS51cGRhdGVJbm5lckh0bWw9ZnVuY3Rpb24oYSl7aWYobXhVdGlscy5pc05vZGUodGhpcy52YWx1ZSkpYS5pbm5lckhUTUw9dGhpcy52YWx1ZS5vdXRlckhUTUw7ZWxzZXt2YXIgYj10aGlzLnZhbHVlO3RoaXMuZGlhbGVjdCE9bXhDb25zdGFudHMuRElBTEVDVF9TVFJJQ1RIVE1MJiYoYj1teFV0aWxzLmh0bWxFbnRpdGllcyhiLCExKSk7Yj1teFV0aWxzLnJlcGxhY2VUcmFpbGluZ05ld2xpbmVzKGIsIjxkaXY+Jm5ic3A7PC9kaXY+Iik7Yj10aGlzLnJlcGxhY2VMaW5lZmVlZHM/Yi5yZXBsYWNlKC9cbi9nLCI8YnIvPiIpOmI7YS5pbm5lckhUTUw9JzxkaXYgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO19kaXNwbGF5OmlubGluZTsiPicrYisiPC9kaXY+In19OwpteFRleHQucHJvdG90eXBlLnVwZGF0ZUh0bWxGaWx0ZXI9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm5vZGUuc3R5bGUsYj10aGlzLm1hcmdpbi54LGM9dGhpcy5tYXJnaW4ueSxkPXRoaXMuc2NhbGU7bXhVdGlscy5zZXRPcGFjaXR5KHRoaXMubm9kZSx0aGlzLm9wYWNpdHkpO3ZhciBlLGY9MCxnPW51bGwhPXRoaXMuc3RhdGU/dGhpcy5zdGF0ZS52aWV3LnRleHREaXY6bnVsbCxrPXRoaXMubm9kZTtpZihudWxsIT1nKXtnLnN0eWxlLm92ZXJmbG93PSIiO2cuc3R5bGUuaGVpZ2h0PSIiO2cuc3R5bGUud2lkdGg9IiI7dGhpcy51cGRhdGVGb250KGcpO3RoaXMudXBkYXRlU2l6ZShnLCExKTt0aGlzLnVwZGF0ZUlubmVySHRtbChnKTt2YXIgbD1NYXRoLnJvdW5kKHRoaXMuYm91bmRzLndpZHRoL3RoaXMuc2NhbGUpO3RoaXMud3JhcCYmMDxsPyhnLnN0eWxlLndoaXRlU3BhY2U9Im5vcm1hbCIsZy5zdHlsZS53b3JkV3JhcD1teENvbnN0YW50cy5XT1JEX1dSQVAsZT1sLHRoaXMuY2xpcHBlZCYmCihlPU1hdGgubWluKGUsdGhpcy5ib3VuZHMud2lkdGgpKSxnLnN0eWxlLndpZHRoPWUrInB4Iik6Zy5zdHlsZS53aGl0ZVNwYWNlPSJub3dyYXAiO2s9ZztudWxsIT1rLmZpcnN0Q2hpbGQmJiJESVYiPT1rLmZpcnN0Q2hpbGQubm9kZU5hbWUmJihrPWsuZmlyc3RDaGlsZCx0aGlzLndyYXAmJiJicmVhay13b3JkIj09Zy5zdHlsZS53b3JkV3JhcCYmKGsuc3R5bGUud2lkdGg9IjEwMCUiKSk7IXRoaXMuY2xpcHBlZCYmdGhpcy53cmFwJiYwPGwmJihlPWsub2Zmc2V0V2lkdGgrdGhpcy50ZXh0V2lkdGhQYWRkaW5nLGcuc3R5bGUud2lkdGg9ZSsicHgiKTtmPWsub2Zmc2V0SGVpZ2h0KzI7bXhDbGllbnQuSVNfUVVJUktTJiZudWxsIT10aGlzLmJvcmRlciYmdGhpcy5ib3JkZXIhPW14Q29uc3RhbnRzLk5PTkUmJihmKz0zKX1lbHNlIG51bGwhPWsuZmlyc3RDaGlsZCYmIkRJViI9PWsuZmlyc3RDaGlsZC5ub2RlTmFtZSYmKGs9ay5maXJzdENoaWxkLGY9ay5vZmZzZXRIZWlnaHQpO2U9ay5vZmZzZXRXaWR0aCsKdGhpcy50ZXh0V2lkdGhQYWRkaW5nO3RoaXMuY2xpcHBlZCYmKGY9TWF0aC5taW4oZix0aGlzLmJvdW5kcy5oZWlnaHQpKTtsPXRoaXMuYm91bmRzLndpZHRoL2Q7Zz10aGlzLmJvdW5kcy5oZWlnaHQvZDsiZmlsbCI9PXRoaXMub3ZlcmZsb3c/KGY9ZyxlPWwpOiJ3aWR0aCI9PXRoaXMub3ZlcmZsb3cmJihmPWsuc2Nyb2xsSGVpZ2h0LGU9bCk7dGhpcy5vZmZzZXRXaWR0aD1lO3RoaXMub2Zmc2V0SGVpZ2h0PWY7bXhDbGllbnQuSVNfUVVJUktTJiYodGhpcy5jbGlwcGVkfHwid2lkdGgiPT10aGlzLm92ZXJmbG93JiYwPGcpPyhnPU1hdGgubWluKGcsZiksYS5oZWlnaHQ9TWF0aC5yb3VuZChnKSsicHgiKTpnPWY7ImZpbGwiIT10aGlzLm92ZXJmbG93JiYid2lkdGgiIT10aGlzLm92ZXJmbG93JiYodGhpcy5jbGlwcGVkJiYoZT1NYXRoLm1pbihsLGUpKSxsPWUsbXhDbGllbnQuSVNfUVVJUktTJiZ0aGlzLmNsaXBwZWR8fHRoaXMud3JhcCkmJihhLndpZHRoPU1hdGgucm91bmQobCkrCiJweCIpO3ZhciBnPWcqZCxsPWwqZCxtPXRoaXMuZ2V0VGV4dFJvdGF0aW9uKCkqKE1hdGguUEkvMTgwKTtlPXBhcnNlRmxvYXQocGFyc2VGbG9hdChNYXRoLmNvcyhtKSkudG9GaXhlZCg4KSk7Zj1wYXJzZUZsb2F0KHBhcnNlRmxvYXQoTWF0aC5zaW4oLW0pKS50b0ZpeGVkKDgpKTttJT0yKk1hdGguUEk7MD5tJiYobSs9MipNYXRoLlBJKTttJT1NYXRoLlBJO20+TWF0aC5QSS8yJiYobT1NYXRoLlBJLW0pO3ZhciBrPU1hdGguY29zKG0pLG49TWF0aC5zaW4oLW0pLGI9bCotKGIrLjUpLHA9ZyotKGMrLjUpOzAhPW0mJihjPSJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuTWF0cml4KE0xMT0iK2UrIiwgTTEyPSIrZisiLCBNMjE9IistZisiLCBNMjI9IitlKyIsIHNpemluZ01ldGhvZD0nYXV0byBleHBhbmQnKSIsYS5maWx0ZXI9bnVsbCE9YS5maWx0ZXImJjA8YS5maWx0ZXIubGVuZ3RoP2EuZmlsdGVyKygiICIrYyk6Yyk7Yz0wOyJmaWxsIiE9dGhpcy5vdmVyZmxvdyYmCm14Q2xpZW50LklTX1FVSVJLUyYmKGM9dGhpcy52YWxpZ249PW14Q29uc3RhbnRzLkFMSUdOX1RPUD9jLTE6dGhpcy52YWxpZ249PW14Q29uc3RhbnRzLkFMSUdOX0JPVFRPTT9jKzI6YysxKTthLnpvb209ZDthLmxlZnQ9TWF0aC5yb3VuZCh0aGlzLmJvdW5kcy54KygobC1sKmsrZypuKS8yLWUqYi1mKnApLWwvMikrInB4IjthLnRvcD1NYXRoLnJvdW5kKHRoaXMuYm91bmRzLnkrKChnLWcqaytsKm4pLzIrZipiLWUqcCktZy8yK2MpKyJweCJ9OwpteFRleHQucHJvdG90eXBlLnVwZGF0ZVZhbHVlPWZ1bmN0aW9uKCl7aWYobXhVdGlscy5pc05vZGUodGhpcy52YWx1ZSkpdGhpcy5ub2RlLmlubmVySFRNTD0iIix0aGlzLm5vZGUuYXBwZW5kQ2hpbGQodGhpcy52YWx1ZSk7ZWxzZXt2YXIgYT10aGlzLnZhbHVlO3RoaXMuZGlhbGVjdCE9bXhDb25zdGFudHMuRElBTEVDVF9TVFJJQ1RIVE1MJiYoYT1teFV0aWxzLmh0bWxFbnRpdGllcyhhLCExKSk7dmFyIGE9bXhVdGlscy5yZXBsYWNlVHJhaWxpbmdOZXdsaW5lcyhhLCI8ZGl2Pjxicj48L2Rpdj4iKSxhPXRoaXMucmVwbGFjZUxpbmVmZWVkcz9hLnJlcGxhY2UoL1xuL2csIjxici8+Iik6YSxiPW51bGwhPXRoaXMuYmFja2dyb3VuZCYmdGhpcy5iYWNrZ3JvdW5kIT1teENvbnN0YW50cy5OT05FP3RoaXMuYmFja2dyb3VuZDpudWxsLGM9bnVsbCE9dGhpcy5ib3JkZXImJnRoaXMuYm9yZGVyIT1teENvbnN0YW50cy5OT05FP3RoaXMuYm9yZGVyOm51bGw7aWYoImZpbGwiPT10aGlzLm92ZXJmbG93fHwKIndpZHRoIj09dGhpcy5vdmVyZmxvdyludWxsIT1iJiYodGhpcy5ub2RlLnN0eWxlLmJhY2tncm91bmRDb2xvcj1iKSxudWxsIT1jJiYodGhpcy5ub2RlLnN0eWxlLmJvcmRlcj0iMXB4IHNvbGlkICIrYyk7ZWxzZXt2YXIgZD0iIjtudWxsIT1iJiYoZCs9ImJhY2tncm91bmQtY29sb3I6IitteFV0aWxzLmh0bWxFbnRpdGllcyhiKSsiOyIpO251bGwhPWMmJihkKz0iYm9yZGVyOjFweCBzb2xpZCAiK214VXRpbHMuaHRtbEVudGl0aWVzKGMpKyI7Iik7YT0nPGRpdiBzdHlsZT0iem9vbToxOycrZCsiZGlzcGxheTppbmxpbmUtYmxvY2s7X2Rpc3BsYXk6aW5saW5lO3RleHQtZGVjb3JhdGlvbjppbmhlcml0O3BhZGRpbmctYm90dG9tOjFweDtwYWRkaW5nLXJpZ2h0OjFweDtsaW5lLWhlaWdodDoiKyhteENvbnN0YW50cy5BQlNPTFVURV9MSU5FX0hFSUdIVD90aGlzLnNpemUqbXhDb25zdGFudHMuTElORV9IRUlHSFQrInB4IjpteENvbnN0YW50cy5MSU5FX0hFSUdIVCkrJyI+JythKyI8L2Rpdj4ifXRoaXMubm9kZS5pbm5lckhUTUw9CmE7YT10aGlzLm5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpOzA8YS5sZW5ndGgmJihiPXRoaXMudGV4dERpcmVjdGlvbixiPT1teENvbnN0YW50cy5URVhUX0RJUkVDVElPTl9BVVRPJiZ0aGlzLmRpYWxlY3QhPW14Q29uc3RhbnRzLkRJQUxFQ1RfU1RSSUNUSFRNTCYmKGI9dGhpcy5nZXRBdXRvRGlyZWN0aW9uKCkpLGI9PW14Q29uc3RhbnRzLlRFWFRfRElSRUNUSU9OX0xUUnx8Yj09bXhDb25zdGFudHMuVEVYVF9ESVJFQ1RJT05fUlRMP2FbYS5sZW5ndGgtMV0uc2V0QXR0cmlidXRlKCJkaXIiLGIpOmFbYS5sZW5ndGgtMV0ucmVtb3ZlQXR0cmlidXRlKCJkaXIiKSl9fTsKbXhUZXh0LnByb3RvdHlwZS51cGRhdGVGb250PWZ1bmN0aW9uKGEpe2E9YS5zdHlsZTthLmxpbmVIZWlnaHQ9bXhDb25zdGFudHMuQUJTT0xVVEVfTElORV9IRUlHSFQ/dGhpcy5zaXplKm14Q29uc3RhbnRzLkxJTkVfSEVJR0hUKyJweCI6bXhDb25zdGFudHMuTElORV9IRUlHSFQ7YS5mb250U2l6ZT10aGlzLnNpemUrInB4IjthLmZvbnRGYW1pbHk9dGhpcy5mYW1pbHk7YS52ZXJ0aWNhbEFsaWduPSJ0b3AiO2EuY29sb3I9dGhpcy5jb2xvcjthLmZvbnRXZWlnaHQ9KHRoaXMuZm9udFN0eWxlJm14Q29uc3RhbnRzLkZPTlRfQk9MRCk9PW14Q29uc3RhbnRzLkZPTlRfQk9MRD8iYm9sZCI6IiI7YS5mb250U3R5bGU9KHRoaXMuZm9udFN0eWxlJm14Q29uc3RhbnRzLkZPTlRfSVRBTElDKT09bXhDb25zdGFudHMuRk9OVF9JVEFMSUM/Iml0YWxpYyI6IiI7dmFyIGI9W107KHRoaXMuZm9udFN0eWxlJm14Q29uc3RhbnRzLkZPTlRfVU5ERVJMSU5FKT09bXhDb25zdGFudHMuRk9OVF9VTkRFUkxJTkUmJgpiLnB1c2goInVuZGVybGluZSIpOyh0aGlzLmZvbnRTdHlsZSZteENvbnN0YW50cy5GT05UX1NUUklLRVRIUk9VR0gpPT1teENvbnN0YW50cy5GT05UX1NUUklLRVRIUk9VR0gmJmIucHVzaCgibGluZS10aHJvdWdoIik7YS50ZXh0RGVjb3JhdGlvbj1iLmpvaW4oIiAiKTthLnRleHRBbGlnbj10aGlzLmFsaWduPT1teENvbnN0YW50cy5BTElHTl9DRU5URVI/ImNlbnRlciI6dGhpcy5hbGlnbj09bXhDb25zdGFudHMuQUxJR05fUklHSFQ/InJpZ2h0IjoibGVmdCJ9OwpteFRleHQucHJvdG90eXBlLnVwZGF0ZVNpemU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1NYXRoLm1heCgwLE1hdGgucm91bmQodGhpcy5ib3VuZHMud2lkdGgvdGhpcy5zY2FsZSkpLGQ9TWF0aC5tYXgoMCxNYXRoLnJvdW5kKHRoaXMuYm91bmRzLmhlaWdodC90aGlzLnNjYWxlKSksZT1hLnN0eWxlO3RoaXMuY2xpcHBlZD8oZS5vdmVyZmxvdz0iaGlkZGVuIixteENsaWVudC5JU19RVUlSS1M/ZS53aWR0aD1jKyJweCI6KGUubWF4SGVpZ2h0PWQrInB4IixlLm1heFdpZHRoPWMrInB4IikpOiJmaWxsIj09dGhpcy5vdmVyZmxvdz8oZS53aWR0aD1jKzErInB4IixlLmhlaWdodD1kKzErInB4IixlLm92ZXJmbG93PSJoaWRkZW4iKToid2lkdGgiPT10aGlzLm92ZXJmbG93JiYoZS53aWR0aD1jKzErInB4IixlLm1heEhlaWdodD1kKzErInB4IixlLm92ZXJmbG93PSJoaWRkZW4iKTtpZih0aGlzLndyYXAmJjA8Yyl7aWYoZS53b3JkV3JhcD1teENvbnN0YW50cy5XT1JEX1dSQVAsZS53aGl0ZVNwYWNlPQoibm9ybWFsIixlLndpZHRoPWMrInB4IixiJiYiZmlsbCIhPXRoaXMub3ZlcmZsb3cmJiJ3aWR0aCIhPXRoaXMub3ZlcmZsb3cpe2Q9YTtudWxsIT1kLmZpcnN0Q2hpbGQmJiJESVYiPT1kLmZpcnN0Q2hpbGQubm9kZU5hbWUmJihkPWQuZmlyc3RDaGlsZCwiYnJlYWstd29yZCI9PWEuc3R5bGUud29yZFdyYXAmJihkLnN0eWxlLndpZHRoPSIxMDAlIikpO3ZhciBmPWQub2Zmc2V0V2lkdGg7aWYoMD09Zil7dmFyIGc9YS5wYXJlbnROb2RlO2Euc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIjtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpO2Y9ZC5vZmZzZXRXaWR0aDthLnN0eWxlLnZpc2liaWxpdHk9IiI7Zy5hcHBlbmRDaGlsZChhKX1mKz0zO3RoaXMuY2xpcHBlZCYmKGY9TWF0aC5taW4oZixjKSk7ZS53aWR0aD1mKyJweCJ9fWVsc2UgZS53aGl0ZVNwYWNlPSJub3dyYXAifTsKbXhUZXh0LnByb3RvdHlwZS51cGRhdGVNYXJnaW49ZnVuY3Rpb24oKXt0aGlzLm1hcmdpbj1teFV0aWxzLmdldEFsaWdubWVudEFzUG9pbnQodGhpcy5hbGlnbix0aGlzLnZhbGlnbil9OwpteFRleHQucHJvdG90eXBlLmdldFNwYWNpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG14UG9pbnQodGhpcy5hbGlnbj09bXhDb25zdGFudHMuQUxJR05fQ0VOVEVSPyh0aGlzLnNwYWNpbmdMZWZ0LXRoaXMuc3BhY2luZ1JpZ2h0KS8yOnRoaXMuYWxpZ249PW14Q29uc3RhbnRzLkFMSUdOX1JJR0hUPy10aGlzLnNwYWNpbmdSaWdodC10aGlzLmJhc2VTcGFjaW5nUmlnaHQ6dGhpcy5zcGFjaW5nTGVmdCt0aGlzLmJhc2VTcGFjaW5nTGVmdCx0aGlzLnZhbGlnbj09bXhDb25zdGFudHMuQUxJR05fTUlERExFPyh0aGlzLnNwYWNpbmdUb3AtdGhpcy5zcGFjaW5nQm90dG9tKS8yOnRoaXMudmFsaWduPT1teENvbnN0YW50cy5BTElHTl9CT1RUT00/LXRoaXMuc3BhY2luZ0JvdHRvbS10aGlzLmJhc2VTcGFjaW5nQm90dG9tOnRoaXMuc3BhY2luZ1RvcCt0aGlzLmJhc2VTcGFjaW5nVG9wKX07ZnVuY3Rpb24gbXhUcmlhbmdsZSgpe214QWN0b3IuY2FsbCh0aGlzKX0KbXhVdGlscy5leHRlbmQobXhUcmlhbmdsZSxteEFjdG9yKTtteFRyaWFuZ2xlLnByb3RvdHlwZS5pc1JvdW5kYWJsZT1mdW5jdGlvbigpe3JldHVybiEwfTtteFRyaWFuZ2xlLnByb3RvdHlwZS5yZWRyYXdQYXRoPWZ1bmN0aW9uKGEsYixjLGQsZSl7Yj1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQVJDU0laRSxteENvbnN0YW50cy5MSU5FX0FSQ1NJWkUpLzI7dGhpcy5hZGRQb2ludHMoYSxbbmV3IG14UG9pbnQoMCwwKSxuZXcgbXhQb2ludChkLC41KmUpLG5ldyBteFBvaW50KDAsZSldLHRoaXMuaXNSb3VuZGVkLGIsITApfTtmdW5jdGlvbiBteEhleGFnb24oKXtteEFjdG9yLmNhbGwodGhpcyl9bXhVdGlscy5leHRlbmQobXhIZXhhZ29uLG14QWN0b3IpOwpteEhleGFnb24ucHJvdG90eXBlLnJlZHJhd1BhdGg9ZnVuY3Rpb24oYSxiLGMsZCxlKXtiPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9BUkNTSVpFLG14Q29uc3RhbnRzLkxJTkVfQVJDU0laRSkvMjt0aGlzLmFkZFBvaW50cyhhLFtuZXcgbXhQb2ludCguMjUqZCwwKSxuZXcgbXhQb2ludCguNzUqZCwwKSxuZXcgbXhQb2ludChkLC41KmUpLG5ldyBteFBvaW50KC43NSpkLGUpLG5ldyBteFBvaW50KC4yNSpkLGUpLG5ldyBteFBvaW50KDAsLjUqZSldLHRoaXMuaXNSb3VuZGVkLGIsITApfTtmdW5jdGlvbiBteExpbmUoYSxiLGMsZCl7bXhTaGFwZS5jYWxsKHRoaXMpO3RoaXMuYm91bmRzPWE7dGhpcy5zdHJva2U9Yjt0aGlzLnN0cm9rZXdpZHRoPW51bGwhPWM/YzoxO3RoaXMudmVydGljYWw9bnVsbCE9ZD9kOnRoaXMudmVydGljYWx9bXhVdGlscy5leHRlbmQobXhMaW5lLG14U2hhcGUpO214TGluZS5wcm90b3R5cGUudmVydGljYWw9ITE7Cm14TGluZS5wcm90b3R5cGUucGFpbnRWZXJ0ZXhTaGFwZT1mdW5jdGlvbihhLGIsYyxkLGUpe2EuYmVnaW4oKTtpZih0aGlzLnZlcnRpY2FsKXt2YXIgZj1iK2QvMjthLm1vdmVUbyhmLGMpO2EubGluZVRvKGYsYytlKX1lbHNlIGY9YytlLzIsYS5tb3ZlVG8oYixmKSxhLmxpbmVUbyhiK2QsZik7YS5zdHJva2UoKX07ZnVuY3Rpb24gbXhJbWFnZVNoYXBlKGEsYixjLGQsZSl7bXhTaGFwZS5jYWxsKHRoaXMpO3RoaXMuYm91bmRzPWE7dGhpcy5pbWFnZT1iO3RoaXMuZmlsbD1jO3RoaXMuc3Ryb2tlPWQ7dGhpcy5zdHJva2V3aWR0aD1udWxsIT1lP2U6MTt0aGlzLnNoYWRvdz0hMX1teFV0aWxzLmV4dGVuZChteEltYWdlU2hhcGUsbXhSZWN0YW5nbGVTaGFwZSk7bXhJbWFnZVNoYXBlLnByb3RvdHlwZS5wcmVzZXJ2ZUltYWdlQXNwZWN0PSEwO214SW1hZ2VTaGFwZS5wcm90b3R5cGUuZ2V0U3ZnU2NyZWVuT2Zmc2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDB9OwpteEltYWdlU2hhcGUucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKGEpe214U2hhcGUucHJvdG90eXBlLmFwcGx5LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmdyYWRpZW50PXRoaXMuc3Ryb2tlPXRoaXMuZmlsbD1udWxsO251bGwhPXRoaXMuc3R5bGUmJih0aGlzLnByZXNlcnZlSW1hZ2VBc3BlY3Q9MT09bXhVdGlscy5nZXROdW1iZXIodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9JTUFHRV9BU1BFQ1QsMSksdGhpcy5mbGlwSD10aGlzLmZsaXBIfHwxPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImltYWdlRmxpcEgiLDApLHRoaXMuZmxpcFY9dGhpcy5mbGlwVnx8MT09bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJpbWFnZUZsaXBWIiwwKSl9O214SW1hZ2VTaGFwZS5wcm90b3R5cGUuaXNIdG1sQWxsb3dlZD1mdW5jdGlvbigpe3JldHVybiF0aGlzLnByZXNlcnZlSW1hZ2VBc3BlY3R9OwpteEltYWdlU2hhcGUucHJvdG90eXBlLmNyZWF0ZUh0bWw9ZnVuY3Rpb24oKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTthLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7cmV0dXJuIGF9O214SW1hZ2VTaGFwZS5wcm90b3R5cGUuaXNSb3VuZGFibGU9ZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4hMX07Cm14SW1hZ2VTaGFwZS5wcm90b3R5cGUucGFpbnRWZXJ0ZXhTaGFwZT1mdW5jdGlvbihhLGIsYyxkLGUpe2lmKG51bGwhPXRoaXMuaW1hZ2Upe3ZhciBmPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9JTUFHRV9CQUNLR1JPVU5ELG51bGwpLGc9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0lNQUdFX0JPUkRFUixudWxsKTtudWxsIT1mJiYoYS5zZXRGaWxsQ29sb3IoZiksYS5zZXRTdHJva2VDb2xvcihnKSxhLnJlY3QoYixjLGQsZSksYS5maWxsQW5kU3Ryb2tlKCkpO2EuaW1hZ2UoYixjLGQsZSx0aGlzLmltYWdlLHRoaXMucHJlc2VydmVJbWFnZUFzcGVjdCwhMSwhMSk7Zz1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfSU1BR0VfQk9SREVSLG51bGwpO251bGwhPWcmJihhLnNldFNoYWRvdyghMSksYS5zZXRTdHJva2VDb2xvcihnKSxhLnJlY3QoYixjLGQsZSksYS5zdHJva2UoKSl9ZWxzZSBteFJlY3RhbmdsZVNoYXBlLnByb3RvdHlwZS5wYWludEJhY2tncm91bmQuYXBwbHkodGhpcywKYXJndW1lbnRzKX07Cm14SW1hZ2VTaGFwZS5wcm90b3R5cGUucmVkcmF3SHRtbFNoYXBlPWZ1bmN0aW9uKCl7dGhpcy5ub2RlLnN0eWxlLmxlZnQ9TWF0aC5yb3VuZCh0aGlzLmJvdW5kcy54KSsicHgiO3RoaXMubm9kZS5zdHlsZS50b3A9TWF0aC5yb3VuZCh0aGlzLmJvdW5kcy55KSsicHgiO3RoaXMubm9kZS5zdHlsZS53aWR0aD1NYXRoLm1heCgwLE1hdGgucm91bmQodGhpcy5ib3VuZHMud2lkdGgpKSsicHgiO3RoaXMubm9kZS5zdHlsZS5oZWlnaHQ9TWF0aC5tYXgoMCxNYXRoLnJvdW5kKHRoaXMuYm91bmRzLmhlaWdodCkpKyJweCI7dGhpcy5ub2RlLmlubmVySFRNTD0iIjtpZihudWxsIT10aGlzLmltYWdlKXt2YXIgYT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfSU1BR0VfQkFDS0dST1VORCwiIiksYj1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfSU1BR0VfQk9SREVSLCIiKTt0aGlzLm5vZGUuc3R5bGUuYmFja2dyb3VuZENvbG9yPWE7CnRoaXMubm9kZS5zdHlsZS5ib3JkZXJDb2xvcj1iO2E9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChteENsaWVudC5JU19JRTZ8fChudWxsPT1kb2N1bWVudC5kb2N1bWVudE1vZGV8fDg+PWRvY3VtZW50LmRvY3VtZW50TW9kZSkmJjAhPXRoaXMucm90YXRpb24/bXhDbGllbnQuVk1MX1BSRUZJWCsiOmltYWdlIjoiaW1nIik7YS5zZXRBdHRyaWJ1dGUoImJvcmRlciIsIjAiKTthLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7YS5zcmM9dGhpcy5pbWFnZTtiPTEwMD50aGlzLm9wYWNpdHk/ImFscGhhKG9wYWNpdHk9Iit0aGlzLm9wYWNpdHkrIikiOiIiO3RoaXMubm9kZS5zdHlsZS5maWx0ZXI9Yjt0aGlzLmZsaXBIJiZ0aGlzLmZsaXBWP2IrPSJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQmFzaWNJbWFnZShyb3RhdGlvbj0yKSI6dGhpcy5mbGlwSD9iKz0icHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LkJhc2ljSW1hZ2UobWlycm9yPTEpIjp0aGlzLmZsaXBWJiYKKGIrPSJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQmFzaWNJbWFnZShyb3RhdGlvbj0yLCBtaXJyb3I9MSkiKTthLnN0eWxlLmZpbHRlciE9YiYmKGEuc3R5bGUuZmlsdGVyPWIpOyJpbWFnZSI9PWEubm9kZU5hbWU/YS5zdHlsZS5yb3RhdGlvbj10aGlzLnJvdGF0aW9uOjAhPXRoaXMucm90YXRpb24/bXhVdGlscy5zZXRQcmVmaXhlZFN0eWxlKGEuc3R5bGUsInRyYW5zZm9ybSIsInJvdGF0ZSgiK3RoaXMucm90YXRpb24rImRlZykiKTpteFV0aWxzLnNldFByZWZpeGVkU3R5bGUoYS5zdHlsZSwidHJhbnNmb3JtIiwiIik7YS5zdHlsZS53aWR0aD10aGlzLm5vZGUuc3R5bGUud2lkdGg7YS5zdHlsZS5oZWlnaHQ9dGhpcy5ub2RlLnN0eWxlLmhlaWdodDt0aGlzLm5vZGUuc3R5bGUuYmFja2dyb3VuZEltYWdlPSIiO3RoaXMubm9kZS5hcHBlbmRDaGlsZChhKX1lbHNlIHRoaXMuc2V0VHJhbnNwYXJlbnRCYWNrZ3JvdW5kSW1hZ2UodGhpcy5ub2RlKX07CmZ1bmN0aW9uIG14TGFiZWwoYSxiLGMsZCl7bXhSZWN0YW5nbGVTaGFwZS5jYWxsKHRoaXMsYSxiLGMsZCl9bXhVdGlscy5leHRlbmQobXhMYWJlbCxteFJlY3RhbmdsZVNoYXBlKTtteExhYmVsLnByb3RvdHlwZS5pbWFnZVNpemU9bXhDb25zdGFudHMuREVGQVVMVF9JTUFHRVNJWkU7bXhMYWJlbC5wcm90b3R5cGUuc3BhY2luZz0yO214TGFiZWwucHJvdG90eXBlLmluZGljYXRvclNpemU9MTA7bXhMYWJlbC5wcm90b3R5cGUuaW5kaWNhdG9yU3BhY2luZz0yO214TGFiZWwucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oYSl7bXhTaGFwZS5wcm90b3R5cGUuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bnVsbCE9dGhpcy5pbmRpY2F0b3JTaGFwZSYmKHRoaXMuaW5kaWNhdG9yPW5ldyB0aGlzLmluZGljYXRvclNoYXBlLHRoaXMuaW5kaWNhdG9yLmRpYWxlY3Q9dGhpcy5kaWFsZWN0LHRoaXMuaW5kaWNhdG9yLmluaXQodGhpcy5ub2RlKSl9OwpteExhYmVsLnByb3RvdHlwZS5yZWRyYXc9ZnVuY3Rpb24oKXtudWxsIT10aGlzLmluZGljYXRvciYmKHRoaXMuaW5kaWNhdG9yLmZpbGw9dGhpcy5pbmRpY2F0b3JDb2xvcix0aGlzLmluZGljYXRvci5zdHJva2U9dGhpcy5pbmRpY2F0b3JTdHJva2VDb2xvcix0aGlzLmluZGljYXRvci5ncmFkaWVudD10aGlzLmluZGljYXRvckdyYWRpZW50Q29sb3IsdGhpcy5pbmRpY2F0b3IuZGlyZWN0aW9uPXRoaXMuaW5kaWNhdG9yRGlyZWN0aW9uLHRoaXMuaW5kaWNhdG9yLnJlZHJhdygpKTtteFNoYXBlLnByb3RvdHlwZS5yZWRyYXcuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtteExhYmVsLnByb3RvdHlwZS5pc0h0bWxBbGxvd2VkPWZ1bmN0aW9uKCl7cmV0dXJuIG14UmVjdGFuZ2xlU2hhcGUucHJvdG90eXBlLmlzSHRtbEFsbG93ZWQuYXBwbHkodGhpcyxhcmd1bWVudHMpJiZudWxsPT10aGlzLmluZGljYXRvckNvbG9yJiZudWxsPT10aGlzLmluZGljYXRvclNoYXBlfTsKbXhMYWJlbC5wcm90b3R5cGUucGFpbnRGb3JlZ3JvdW5kPWZ1bmN0aW9uKGEsYixjLGQsZSl7dGhpcy5wYWludEltYWdlKGEsYixjLGQsZSk7dGhpcy5wYWludEluZGljYXRvcihhLGIsYyxkLGUpO214UmVjdGFuZ2xlU2hhcGUucHJvdG90eXBlLnBhaW50Rm9yZWdyb3VuZC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O214TGFiZWwucHJvdG90eXBlLnBhaW50SW1hZ2U9ZnVuY3Rpb24oYSxiLGMsZCxlKXtudWxsIT10aGlzLmltYWdlJiYoYj10aGlzLmdldEltYWdlQm91bmRzKGIsYyxkLGUpLGEuaW1hZ2UoYi54LGIueSxiLndpZHRoLGIuaGVpZ2h0LHRoaXMuaW1hZ2UsITEsITEsITEpKX07Cm14TGFiZWwucHJvdG90eXBlLmdldEltYWdlQm91bmRzPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9JTUFHRV9BTElHTixteENvbnN0YW50cy5BTElHTl9MRUZUKSxmPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9JTUFHRV9WRVJUSUNBTF9BTElHTixteENvbnN0YW50cy5BTElHTl9NSURETEUpLGc9bXhVdGlscy5nZXROdW1iZXIodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9JTUFHRV9XSURUSCxteENvbnN0YW50cy5ERUZBVUxUX0lNQUdFU0laRSksaz1teFV0aWxzLmdldE51bWJlcih0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0lNQUdFX0hFSUdIVCxteENvbnN0YW50cy5ERUZBVUxUX0lNQUdFU0laRSksbD1teFV0aWxzLmdldE51bWJlcih0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1NQQUNJTkcsdGhpcy5zcGFjaW5nKSs1O2E9ZT09bXhDb25zdGFudHMuQUxJR05fQ0VOVEVSPwphKyhjLWcpLzI6ZT09bXhDb25zdGFudHMuQUxJR05fUklHSFQ/YSsoYy1nLWwpOmErbDtiPWY9PW14Q29uc3RhbnRzLkFMSUdOX1RPUD9iK2w6Zj09bXhDb25zdGFudHMuQUxJR05fQk9UVE9NP2IrKGQtay1sKTpiKyhkLWspLzI7cmV0dXJuIG5ldyBteFJlY3RhbmdsZShhLGIsZyxrKX07bXhMYWJlbC5wcm90b3R5cGUucGFpbnRJbmRpY2F0b3I9ZnVuY3Rpb24oYSxiLGMsZCxlKXtudWxsIT10aGlzLmluZGljYXRvcj8odGhpcy5pbmRpY2F0b3IuYm91bmRzPXRoaXMuZ2V0SW5kaWNhdG9yQm91bmRzKGIsYyxkLGUpLHRoaXMuaW5kaWNhdG9yLnBhaW50KGEpKTpudWxsIT10aGlzLmluZGljYXRvckltYWdlJiYoYj10aGlzLmdldEluZGljYXRvckJvdW5kcyhiLGMsZCxlKSxhLmltYWdlKGIueCxiLnksYi53aWR0aCxiLmhlaWdodCx0aGlzLmluZGljYXRvckltYWdlLCExLCExLCExKSl9OwpteExhYmVsLnByb3RvdHlwZS5nZXRJbmRpY2F0b3JCb3VuZHM9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0lNQUdFX0FMSUdOLG14Q29uc3RhbnRzLkFMSUdOX0xFRlQpLGY9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0lNQUdFX1ZFUlRJQ0FMX0FMSUdOLG14Q29uc3RhbnRzLkFMSUdOX01JRERMRSksZz1teFV0aWxzLmdldE51bWJlcih0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0lORElDQVRPUl9XSURUSCx0aGlzLmluZGljYXRvclNpemUpLGs9bXhVdGlscy5nZXROdW1iZXIodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9JTkRJQ0FUT1JfSEVJR0hULHRoaXMuaW5kaWNhdG9yU2l6ZSksbD10aGlzLnNwYWNpbmcrNTthPWU9PW14Q29uc3RhbnRzLkFMSUdOX1JJR0hUP2ErKGMtZy1sKTplPT1teENvbnN0YW50cy5BTElHTl9DRU5URVI/YSsoYy1nKS8KMjphK2w7Yj1mPT1teENvbnN0YW50cy5BTElHTl9CT1RUT00/YisoZC1rLWwpOmY9PW14Q29uc3RhbnRzLkFMSUdOX1RPUD9iK2w6YisoZC1rKS8yO3JldHVybiBuZXcgbXhSZWN0YW5nbGUoYSxiLGcsayl9OwpteExhYmVsLnByb3RvdHlwZS5yZWRyYXdIdG1sU2hhcGU9ZnVuY3Rpb24oKXtmb3IobXhSZWN0YW5nbGVTaGFwZS5wcm90b3R5cGUucmVkcmF3SHRtbFNoYXBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLm5vZGUuaGFzQ2hpbGROb2RlcygpOyl0aGlzLm5vZGUucmVtb3ZlQ2hpbGQodGhpcy5ub2RlLmxhc3RDaGlsZCk7aWYobnVsbCE9dGhpcy5pbWFnZSl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7YS5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiO2Euc2V0QXR0cmlidXRlKCJib3JkZXIiLCIwIik7dmFyIGI9dGhpcy5nZXRJbWFnZUJvdW5kcyh0aGlzLmJvdW5kcy54LHRoaXMuYm91bmRzLnksdGhpcy5ib3VuZHMud2lkdGgsdGhpcy5ib3VuZHMuaGVpZ2h0KTtiLngtPXRoaXMuYm91bmRzLng7Yi55LT10aGlzLmJvdW5kcy55O2Euc3R5bGUubGVmdD1NYXRoLnJvdW5kKGIueCkrInB4IjthLnN0eWxlLnRvcD1NYXRoLnJvdW5kKGIueSkrInB4IjthLnN0eWxlLndpZHRoPQpNYXRoLnJvdW5kKGIud2lkdGgpKyJweCI7YS5zdHlsZS5oZWlnaHQ9TWF0aC5yb3VuZChiLmhlaWdodCkrInB4IjthLnNyYz10aGlzLmltYWdlO3RoaXMubm9kZS5hcHBlbmRDaGlsZChhKX19O2Z1bmN0aW9uIG14Q3lsaW5kZXIoYSxiLGMsZCl7bXhTaGFwZS5jYWxsKHRoaXMpO3RoaXMuYm91bmRzPWE7dGhpcy5maWxsPWI7dGhpcy5zdHJva2U9Yzt0aGlzLnN0cm9rZXdpZHRoPW51bGwhPWQ/ZDoxfW14VXRpbHMuZXh0ZW5kKG14Q3lsaW5kZXIsbXhTaGFwZSk7bXhDeWxpbmRlci5wcm90b3R5cGUubWF4SGVpZ2h0PTQwO214Q3lsaW5kZXIucHJvdG90eXBlLnN2Z1N0cm9rZVRvbGVyYW5jZT0wOwpteEN5bGluZGVyLnByb3RvdHlwZS5wYWludFZlcnRleFNoYXBlPWZ1bmN0aW9uKGEsYixjLGQsZSl7YS50cmFuc2xhdGUoYixjKTthLmJlZ2luKCk7dGhpcy5yZWRyYXdQYXRoKGEsYixjLGQsZSwhMSk7YS5maWxsQW5kU3Ryb2tlKCk7dGhpcy5vdXRsaW5lJiZudWxsIT10aGlzLnN0eWxlJiYwIT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQkFDS0dST1VORF9PVVRMSU5FLDApfHwoYS5zZXRTaGFkb3coITEpLGEuYmVnaW4oKSx0aGlzLnJlZHJhd1BhdGgoYSxiLGMsZCxlLCEwKSxhLnN0cm9rZSgpKX07bXhDeWxpbmRlci5wcm90b3R5cGUuZ2V0Q3lsaW5kZXJTaXplPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBNYXRoLm1pbih0aGlzLm1heEhlaWdodCxNYXRoLnJvdW5kKGQvNSkpfTsKbXhDeWxpbmRlci5wcm90b3R5cGUucmVkcmF3UGF0aD1mdW5jdGlvbihhLGIsYyxkLGUsZil7Yj10aGlzLmdldEN5bGluZGVyU2l6ZShiLGMsZCxlKTtpZihmJiZudWxsIT10aGlzLmZpbGx8fCFmJiZudWxsPT10aGlzLmZpbGwpYS5tb3ZlVG8oMCxiKSxhLmN1cnZlVG8oMCwyKmIsZCwyKmIsZCxiKSxmfHwoYS5zdHJva2UoKSxhLmJlZ2luKCkpO2Z8fChhLm1vdmVUbygwLGIpLGEuY3VydmVUbygwLC1iLzMsZCwtYi8zLGQsYiksYS5saW5lVG8oZCxlLWIpLGEuY3VydmVUbyhkLGUrYi8zLDAsZStiLzMsMCxlLWIpLGEuY2xvc2UoKSl9O2Z1bmN0aW9uIG14Q29ubmVjdG9yKGEsYixjKXtteFBvbHlsaW5lLmNhbGwodGhpcyxhLGIsYyl9bXhVdGlscy5leHRlbmQobXhDb25uZWN0b3IsbXhQb2x5bGluZSk7Cm14Q29ubmVjdG9yLnByb3RvdHlwZS51cGRhdGVCb3VuZGluZ0JveD1mdW5jdGlvbigpe3RoaXMudXNlU3ZnQm91bmRpbmdCb3g9bnVsbCE9dGhpcy5zdHlsZSYmMT09dGhpcy5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9DVVJWRURdO214U2hhcGUucHJvdG90eXBlLnVwZGF0ZUJvdW5kaW5nQm94LmFwcGx5KHRoaXMsYXJndW1lbnRzKX07bXhDb25uZWN0b3IucHJvdG90eXBlLnBhaW50RWRnZVNoYXBlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jcmVhdGVNYXJrZXIoYSxiLCEwKSxkPXRoaXMuY3JlYXRlTWFya2VyKGEsYiwhMSk7bXhQb2x5bGluZS5wcm90b3R5cGUucGFpbnRFZGdlU2hhcGUuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Euc2V0RmlsbENvbG9yKHRoaXMuc3Ryb2tlKTthLnNldFNoYWRvdyghMSk7YS5zZXREYXNoZWQoITEpO251bGwhPWMmJmMoKTtudWxsIT1kJiZkKCl9OwpteENvbm5lY3Rvci5wcm90b3R5cGUuY3JlYXRlTWFya2VyPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1udWxsLGU9Yi5sZW5ndGgsZj1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsYz9teENvbnN0YW50cy5TVFlMRV9TVEFSVEFSUk9XOm14Q29uc3RhbnRzLlNUWUxFX0VOREFSUk9XKSxnPWM/YlsxXTpiW2UtMl0saz1jP2JbMF06YltlLTFdO2lmKG51bGwhPWYmJm51bGwhPWcmJm51bGwhPWspe2ZvcihkPTE7ZDxlLTEmJjA9PU1hdGgucm91bmQoZy54LWsueCkmJjA9PU1hdGgucm91bmQoZy55LWsueSk7KWc9Yz9iWzErZF06YltlLTItZF0sZCsrO2I9ay54LWcueDtlPWsueS1nLnk7ZD1NYXRoLm1heCgxLE1hdGguc3FydChiKmIrZSplKSk7Zz1iL2Q7Yj1lL2Q7ZT1teFV0aWxzLmdldE51bWJlcih0aGlzLnN0eWxlLGM/bXhDb25zdGFudHMuU1RZTEVfU1RBUlRTSVpFOm14Q29uc3RhbnRzLlNUWUxFX0VORFNJWkUsbXhDb25zdGFudHMuREVGQVVMVF9NQVJLRVJTSVpFKTtkPW14TWFya2VyLmNyZWF0ZU1hcmtlcihhLAp0aGlzLGYsayxnLGIsZSxjLHRoaXMuc3Ryb2tld2lkdGgsMCE9dGhpcy5zdHlsZVtjP214Q29uc3RhbnRzLlNUWUxFX1NUQVJURklMTDpteENvbnN0YW50cy5TVFlMRV9FTkRGSUxMXSl9cmV0dXJuIGR9OwpteENvbm5lY3Rvci5wcm90b3R5cGUuYXVnbWVudEJvdW5kaW5nQm94PWZ1bmN0aW9uKGEpe214U2hhcGUucHJvdG90eXBlLmF1Z21lbnRCb3VuZGluZ0JveC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGI9MDtteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfU1RBUlRBUlJPVyxteENvbnN0YW50cy5OT05FKSE9bXhDb25zdGFudHMuTk9ORSYmKGI9bXhVdGlscy5nZXROdW1iZXIodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9TVEFSVFNJWkUsbXhDb25zdGFudHMuREVGQVVMVF9NQVJLRVJTSVpFKSsxKTtteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRU5EQVJST1csbXhDb25zdGFudHMuTk9ORSkhPW14Q29uc3RhbnRzLk5PTkUmJihiPU1hdGgubWF4KGIsbXhVdGlscy5nZXROdW1iZXIodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9FTkRTSVpFLG14Q29uc3RhbnRzLkRFRkFVTFRfTUFSS0VSU0laRSkpKwoxKTthLmdyb3coYip0aGlzLnNjYWxlKX07ZnVuY3Rpb24gbXhTd2ltbGFuZShhLGIsYyxkKXtteFNoYXBlLmNhbGwodGhpcyk7dGhpcy5ib3VuZHM9YTt0aGlzLmZpbGw9Yjt0aGlzLnN0cm9rZT1jO3RoaXMuc3Ryb2tld2lkdGg9bnVsbCE9ZD9kOjF9bXhVdGlscy5leHRlbmQobXhTd2ltbGFuZSxteFNoYXBlKTtteFN3aW1sYW5lLnByb3RvdHlwZS5pbWFnZVNpemU9MTY7bXhTd2ltbGFuZS5wcm90b3R5cGUuaXNSb3VuZGFibGU9ZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4hMH07bXhTd2ltbGFuZS5wcm90b3R5cGUuZ2V0VGl0bGVTaXplPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgubWF4KDAsbXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRSxteENvbnN0YW50cy5ERUZBVUxUX1NUQVJUU0laRSkpfTsKbXhTd2ltbGFuZS5wcm90b3R5cGUuZ2V0TGFiZWxCb3VuZHM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRUaXRsZVNpemUoKTthPW5ldyBteFJlY3RhbmdsZShhLngsYS55LGEud2lkdGgsYS5oZWlnaHQpO3ZhciBjPXRoaXMuaXNIb3Jpem9udGFsKCksZD0xPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRkxJUEgsMCksZT0xPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRkxJUFYsMCksZj10aGlzLmRpcmVjdGlvbj09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIfHx0aGlzLmRpcmVjdGlvbj09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRILGM9Yz09IWYsZD0hYyYmZCE9KHRoaXMuZGlyZWN0aW9uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEh8fHRoaXMuZGlyZWN0aW9uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fV0VTVCksZT1jJiZlIT0odGhpcy5kaXJlY3Rpb249PW14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSHx8CnRoaXMuZGlyZWN0aW9uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fV0VTVCk7aWYoZil7Yj1NYXRoLm1pbihhLndpZHRoLGIqdGhpcy5zY2FsZSk7aWYoZHx8ZSlhLngrPWEud2lkdGgtYjthLndpZHRoPWJ9ZWxzZXtiPU1hdGgubWluKGEuaGVpZ2h0LGIqdGhpcy5zY2FsZSk7aWYoZHx8ZSlhLnkrPWEuaGVpZ2h0LWI7YS5oZWlnaHQ9Yn1yZXR1cm4gYX07bXhTd2ltbGFuZS5wcm90b3R5cGUuZ2V0R3JhZGllbnRCb3VuZHM9ZnVuY3Rpb24oYSxiLGMsZCxlKXthPXRoaXMuZ2V0VGl0bGVTaXplKCk7aWYodGhpcy5pc0hvcml6b250YWwoKSlyZXR1cm4gYT1NYXRoLm1pbihhLGUpLG5ldyBteFJlY3RhbmdsZShiLGMsZCxhKTthPU1hdGgubWluKGEsZCk7cmV0dXJuIG5ldyBteFJlY3RhbmdsZShiLGMsYSxlKX07Cm14U3dpbWxhbmUucHJvdG90eXBlLmdldFN3aW1sYW5lQXJjU2l6ZT1mdW5jdGlvbihhLGIsYyl7aWYoIjEiPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQUJTT0xVVEVfQVJDU0laRSwwKSlyZXR1cm4gTWF0aC5taW4oYS8yLE1hdGgubWluKGIvMixteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQVJDU0laRSxteENvbnN0YW50cy5MSU5FX0FSQ1NJWkUpLzIpKTthPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9BUkNTSVpFLDEwMCpteENvbnN0YW50cy5SRUNUQU5HTEVfUk9VTkRJTkdfRkFDVE9SKS8xMDA7cmV0dXJuIGMqYSozfTtteFN3aW1sYW5lLnByb3RvdHlwZS5pc0hvcml6b250YWw9ZnVuY3Rpb24oKXtyZXR1cm4gMT09bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0hPUklaT05UQUwsMSl9OwpteFN3aW1sYW5lLnByb3RvdHlwZS5wYWludFZlcnRleFNoYXBlPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9dGhpcy5nZXRUaXRsZVNpemUoKSxnPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9TV0lNTEFORV9GSUxMQ09MT1IsbXhDb25zdGFudHMuTk9ORSksaz0xPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfU1dJTUxBTkVfTElORSwxKSxsPTAsZj10aGlzLmlzSG9yaXpvbnRhbCgpP01hdGgubWluKGYsZSk6TWF0aC5taW4oZixkKTthLnRyYW5zbGF0ZShiLGMpO3RoaXMuaXNSb3VuZGVkPyhsPXRoaXMuZ2V0U3dpbWxhbmVBcmNTaXplKGQsZSxmKSxsPU1hdGgubWluKCh0aGlzLmlzSG9yaXpvbnRhbCgpP2U6ZCktZixNYXRoLm1pbihmLGwpKSx0aGlzLnBhaW50Um91bmRlZFN3aW1sYW5lKGEsYixjLGQsZSxmLGwsZyxrKSk6dGhpcy5wYWludFN3aW1sYW5lKGEsYixjLGQsZSxmLGcsayk7Zz1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsCm14Q29uc3RhbnRzLlNUWUxFX1NFUEFSQVRPUkNPTE9SLG14Q29uc3RhbnRzLk5PTkUpO3RoaXMucGFpbnRTZXBhcmF0b3IoYSxiLGMsZCxlLGYsZyk7bnVsbCE9dGhpcy5pbWFnZSYmKGU9dGhpcy5nZXRJbWFnZUJvdW5kcyhiLGMsZCxlKSxhLmltYWdlKGUueC1iLGUueS1jLGUud2lkdGgsZS5oZWlnaHQsdGhpcy5pbWFnZSwhMSwhMSwhMSkpO3RoaXMuZ2xhc3MmJihhLnNldFNoYWRvdyghMSksdGhpcy5wYWludEdsYXNzRWZmZWN0KGEsMCwwLGQsZixsKSl9OwpteFN3aW1sYW5lLnByb3RvdHlwZS5wYWludFN3aW1sYW5lPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsayl7YS5iZWdpbigpO3ZhciBsPSEwO251bGwhPXRoaXMuc3R5bGUmJihsPSIxIj09bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1BPSU5URVJfRVZFTlRTLCIxIikpO2x8fG51bGwhPXRoaXMuZmlsbCYmdGhpcy5maWxsIT1teENvbnN0YW50cy5OT05FfHwoYS5wb2ludGVyRXZlbnRzPSExKTt0aGlzLmlzSG9yaXpvbnRhbCgpPyhhLm1vdmVUbygwLGYpLGEubGluZVRvKDAsMCksYS5saW5lVG8oZCwwKSxhLmxpbmVUbyhkLGYpLGEuZmlsbEFuZFN0cm9rZSgpLGY8ZSYmKGchPW14Q29uc3RhbnRzLk5PTkUmJmx8fChhLnBvaW50ZXJFdmVudHM9ITEpLGchPW14Q29uc3RhbnRzLk5PTkUmJmEuc2V0RmlsbENvbG9yKGcpLGEuYmVnaW4oKSxhLm1vdmVUbygwLGYpLGEubGluZVRvKDAsZSksYS5saW5lVG8oZCxlKSxhLmxpbmVUbyhkLGYpLGc9PW14Q29uc3RhbnRzLk5PTkU/CmEuc3Ryb2tlKCk6YS5maWxsQW5kU3Ryb2tlKCkpKTooYS5tb3ZlVG8oZiwwKSxhLmxpbmVUbygwLDApLGEubGluZVRvKDAsZSksYS5saW5lVG8oZixlKSxhLmZpbGxBbmRTdHJva2UoKSxmPGQmJihnIT1teENvbnN0YW50cy5OT05FJiZsfHwoYS5wb2ludGVyRXZlbnRzPSExKSxnIT1teENvbnN0YW50cy5OT05FJiZhLnNldEZpbGxDb2xvcihnKSxhLmJlZ2luKCksYS5tb3ZlVG8oZiwwKSxhLmxpbmVUbyhkLDApLGEubGluZVRvKGQsZSksYS5saW5lVG8oZixlKSxnPT1teENvbnN0YW50cy5OT05FP2Euc3Ryb2tlKCk6YS5maWxsQW5kU3Ryb2tlKCkpKTtrJiZ0aGlzLnBhaW50RGl2aWRlcihhLGIsYyxkLGUsZixnPT1teENvbnN0YW50cy5OT05FKX07Cm14U3dpbWxhbmUucHJvdG90eXBlLnBhaW50Um91bmRlZFN3aW1sYW5lPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsayxsKXthLmJlZ2luKCk7dmFyIG09ITA7bnVsbCE9dGhpcy5zdHlsZSYmKG09IjEiPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfUE9JTlRFUl9FVkVOVFMsIjEiKSk7bXx8bnVsbCE9dGhpcy5maWxsJiZ0aGlzLmZpbGwhPW14Q29uc3RhbnRzLk5PTkV8fChhLnBvaW50ZXJFdmVudHM9ITEpO3RoaXMuaXNIb3Jpem9udGFsKCk/KGEubW92ZVRvKGQsZiksYS5saW5lVG8oZCxnKSxhLnF1YWRUbyhkLDAsZC1NYXRoLm1pbihkLzIsZyksMCksYS5saW5lVG8oTWF0aC5taW4oZC8yLGcpLDApLGEucXVhZFRvKDAsMCwwLGcpLGEubGluZVRvKDAsZiksYS5maWxsQW5kU3Ryb2tlKCksZjxlJiYoayE9bXhDb25zdGFudHMuTk9ORSYmbXx8KGEucG9pbnRlckV2ZW50cz0hMSksayE9bXhDb25zdGFudHMuTk9ORSYmYS5zZXRGaWxsQ29sb3IoayksCmEuYmVnaW4oKSxhLm1vdmVUbygwLGYpLGEubGluZVRvKDAsZS1nKSxhLnF1YWRUbygwLGUsTWF0aC5taW4oZC8yLGcpLGUpLGEubGluZVRvKGQtTWF0aC5taW4oZC8yLGcpLGUpLGEucXVhZFRvKGQsZSxkLGUtZyksYS5saW5lVG8oZCxmKSxrPT1teENvbnN0YW50cy5OT05FP2Euc3Ryb2tlKCk6YS5maWxsQW5kU3Ryb2tlKCkpKTooYS5tb3ZlVG8oZiwwKSxhLmxpbmVUbyhnLDApLGEucXVhZFRvKDAsMCwwLE1hdGgubWluKGUvMixnKSksYS5saW5lVG8oMCxlLU1hdGgubWluKGUvMixnKSksYS5xdWFkVG8oMCxlLGcsZSksYS5saW5lVG8oZixlKSxhLmZpbGxBbmRTdHJva2UoKSxmPGQmJihrIT1teENvbnN0YW50cy5OT05FJiZtfHwoYS5wb2ludGVyRXZlbnRzPSExKSxrIT1teENvbnN0YW50cy5OT05FJiZhLnNldEZpbGxDb2xvcihrKSxhLmJlZ2luKCksYS5tb3ZlVG8oZixlKSxhLmxpbmVUbyhkLWcsZSksYS5xdWFkVG8oZCxlLGQsZS1NYXRoLm1pbihlLzIsZykpLGEubGluZVRvKGQsCk1hdGgubWluKGUvMixnKSksYS5xdWFkVG8oZCwwLGQtZywwKSxhLmxpbmVUbyhmLDApLGs9PW14Q29uc3RhbnRzLk5PTkU/YS5zdHJva2UoKTphLmZpbGxBbmRTdHJva2UoKSkpO2wmJnRoaXMucGFpbnREaXZpZGVyKGEsYixjLGQsZSxmLGs9PW14Q29uc3RhbnRzLk5PTkUpfTtteFN3aW1sYW5lLnByb3RvdHlwZS5wYWludERpdmlkZXI9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7Z3x8YS5zZXRTaGFkb3coITEpO2EuYmVnaW4oKTt0aGlzLmlzSG9yaXpvbnRhbCgpPyhhLm1vdmVUbygwLGYpLGEubGluZVRvKGQsZikpOihhLm1vdmVUbyhmLDApLGEubGluZVRvKGYsZSkpO2Euc3Ryb2tlKCl9OwpteFN3aW1sYW5lLnByb3RvdHlwZS5wYWludFNlcGFyYXRvcj1mdW5jdGlvbihhLGIsYyxkLGUsZixnKXtnIT1teENvbnN0YW50cy5OT05FJiYoYS5zZXRTdHJva2VDb2xvcihnKSxhLnNldERhc2hlZCghMCksYS5iZWdpbigpLHRoaXMuaXNIb3Jpem9udGFsKCk/KGEubW92ZVRvKGQsZiksYS5saW5lVG8oZCxlKSk6KGEubW92ZVRvKGYsMCksYS5saW5lVG8oZCwwKSksYS5zdHJva2UoKSxhLnNldERhc2hlZCghMSkpfTtteFN3aW1sYW5lLnByb3RvdHlwZS5nZXRJbWFnZUJvdW5kcz1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5pc0hvcml6b250YWwoKT9uZXcgbXhSZWN0YW5nbGUoYStjLXRoaXMuaW1hZ2VTaXplLGIsdGhpcy5pbWFnZVNpemUsdGhpcy5pbWFnZVNpemUpOm5ldyBteFJlY3RhbmdsZShhLGIsdGhpcy5pbWFnZVNpemUsdGhpcy5pbWFnZVNpemUpfTtmdW5jdGlvbiBteEdyYXBoTGF5b3V0KGEpe3RoaXMuZ3JhcGg9YX0KbXhHcmFwaExheW91dC5wcm90b3R5cGUuZ3JhcGg9bnVsbDtteEdyYXBoTGF5b3V0LnByb3RvdHlwZS51c2VCb3VuZGluZ0JveD0hMDtteEdyYXBoTGF5b3V0LnByb3RvdHlwZS5wYXJlbnQ9bnVsbDtteEdyYXBoTGF5b3V0LnByb3RvdHlwZS5tb3ZlQ2VsbD1mdW5jdGlvbihhLGIsYyl7fTtteEdyYXBoTGF5b3V0LnByb3RvdHlwZS5yZXNpemVDZWxsPWZ1bmN0aW9uKGEsYil7fTtteEdyYXBoTGF5b3V0LnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKGEpe307bXhHcmFwaExheW91dC5wcm90b3R5cGUuZ2V0R3JhcGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ncmFwaH07bXhHcmFwaExheW91dC5wcm90b3R5cGUuZ2V0Q29uc3RyYWludD1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5ncmFwaC5nZXRDdXJyZW50Q2VsbFN0eWxlKGIpW2FdfTsKbXhHcmFwaExheW91dC50cmF2ZXJzZT1mdW5jdGlvbihhLGIsYyxkLGUpe2lmKG51bGwhPWMmJm51bGwhPWEmJihiPW51bGwhPWI/YjohMCxlPWV8fG5ldyBteERpY3Rpb25hcnksIWUuZ2V0KGEpJiYoZS5wdXQoYSwhMCksZD1jKGEsZCksbnVsbD09ZHx8ZCkpJiYoZD10aGlzLmdyYXBoLm1vZGVsLmdldEVkZ2VDb3VudChhKSwwPGQpKWZvcih2YXIgZj0wO2Y8ZDtmKyspe3ZhciBnPXRoaXMuZ3JhcGgubW9kZWwuZ2V0RWRnZUF0KGEsZiksaz10aGlzLmdyYXBoLm1vZGVsLmdldFRlcm1pbmFsKGcsITApPT1hO2lmKCFifHxrKWs9dGhpcy5ncmFwaC52aWV3LmdldFZpc2libGVUZXJtaW5hbChnLCFrKSx0aGlzLnRyYXZlcnNlKGssYixjLGcsZSl9fTsKbXhHcmFwaExheW91dC5wcm90b3R5cGUuaXNBbmNlc3Rvcj1mdW5jdGlvbihhLGIsYyl7aWYoIWMpcmV0dXJuIHRoaXMuZ3JhcGgubW9kZWwuZ2V0UGFyZW50KGIpPT1hO2lmKGI9PWEpcmV0dXJuITE7Zm9yKDtudWxsIT1iJiZiIT1hOyliPXRoaXMuZ3JhcGgubW9kZWwuZ2V0UGFyZW50KGIpO3JldHVybiBiPT1hfTtteEdyYXBoTGF5b3V0LnByb3RvdHlwZS5pc1ZlcnRleE1vdmFibGU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ3JhcGguaXNDZWxsTW92YWJsZShhKX07bXhHcmFwaExheW91dC5wcm90b3R5cGUuaXNWZXJ0ZXhJZ25vcmVkPWZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmdyYXBoLmdldE1vZGVsKCkuaXNWZXJ0ZXgoYSl8fCF0aGlzLmdyYXBoLmlzQ2VsbFZpc2libGUoYSl9OwpteEdyYXBoTGF5b3V0LnByb3RvdHlwZS5pc0VkZ2VJZ25vcmVkPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKTtyZXR1cm4hYi5pc0VkZ2UoYSl8fCF0aGlzLmdyYXBoLmlzQ2VsbFZpc2libGUoYSl8fG51bGw9PWIuZ2V0VGVybWluYWwoYSwhMCl8fG51bGw9PWIuZ2V0VGVybWluYWwoYSwhMSl9O214R3JhcGhMYXlvdXQucHJvdG90eXBlLnNldEVkZ2VTdHlsZUVuYWJsZWQ9ZnVuY3Rpb24oYSxiKXt0aGlzLmdyYXBoLnNldENlbGxTdHlsZXMobXhDb25zdGFudHMuU1RZTEVfTk9FREdFU1RZTEUsYj8iMCI6IjEiLFthXSl9O214R3JhcGhMYXlvdXQucHJvdG90eXBlLnNldE9ydGhvZ29uYWxFZGdlPWZ1bmN0aW9uKGEsYil7dGhpcy5ncmFwaC5zZXRDZWxsU3R5bGVzKG14Q29uc3RhbnRzLlNUWUxFX09SVEhPR09OQUwsYj8iMSI6IjAiLFthXSl9OwpteEdyYXBoTGF5b3V0LnByb3RvdHlwZS5nZXRQYXJlbnRPZmZzZXQ9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IG14UG9pbnQ7aWYobnVsbCE9YSYmYSE9dGhpcy5wYXJlbnQpe3ZhciBjPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKTtpZihjLmlzQW5jZXN0b3IodGhpcy5wYXJlbnQsYSkpZm9yKHZhciBkPWMuZ2V0R2VvbWV0cnkoYSk7YSE9dGhpcy5wYXJlbnQ7KWIueCs9ZC54LGIueSs9ZC55LGE9Yy5nZXRQYXJlbnQoYSksZD1jLmdldEdlb21ldHJ5KGEpfXJldHVybiBifTsKbXhHcmFwaExheW91dC5wcm90b3R5cGUuc2V0RWRnZVBvaW50cz1mdW5jdGlvbihhLGIpe2lmKG51bGwhPWEpe3ZhciBjPXRoaXMuZ3JhcGgubW9kZWwsZD1jLmdldEdlb21ldHJ5KGEpO251bGw9PWQ/KGQ9bmV3IG14R2VvbWV0cnksZC5zZXRSZWxhdGl2ZSghMCkpOmQ9ZC5jbG9uZSgpO2lmKG51bGwhPXRoaXMucGFyZW50JiZudWxsIT1iKWZvcih2YXIgZT1jLmdldFBhcmVudChhKSxlPXRoaXMuZ2V0UGFyZW50T2Zmc2V0KGUpLGY9MDtmPGIubGVuZ3RoO2YrKyliW2ZdLngtPWUueCxiW2ZdLnktPWUueTtkLnBvaW50cz1iO2Muc2V0R2VvbWV0cnkoYSxkKX19OwpteEdyYXBoTGF5b3V0LnByb3RvdHlwZS5zZXRWZXJ0ZXhMb2NhdGlvbj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLGU9ZC5nZXRHZW9tZXRyeShhKSxmPW51bGw7aWYobnVsbCE9ZSl7Zj1uZXcgbXhSZWN0YW5nbGUoYixjLGUud2lkdGgsZS5oZWlnaHQpO2lmKHRoaXMudXNlQm91bmRpbmdCb3gpe3ZhciBnPXRoaXMuZ3JhcGguZ2V0VmlldygpLmdldFN0YXRlKGEpO2lmKG51bGwhPWcmJm51bGwhPWcudGV4dCYmbnVsbCE9Zy50ZXh0LmJvdW5kaW5nQm94KXt2YXIgaz10aGlzLmdyYXBoLmdldFZpZXcoKS5zY2FsZSxsPWcudGV4dC5ib3VuZGluZ0JveDtnLnRleHQuYm91bmRpbmdCb3gueDxnLngmJihiKz0oZy54LWwueCkvayxmLndpZHRoPWwud2lkdGgpO2cudGV4dC5ib3VuZGluZ0JveC55PGcueSYmKGMrPShnLnktbC55KS9rLGYuaGVpZ2h0PWwuaGVpZ2h0KX19bnVsbCE9dGhpcy5wYXJlbnQmJihnPWQuZ2V0UGFyZW50KGEpLG51bGwhPWcmJmchPQp0aGlzLnBhcmVudCYmKGc9dGhpcy5nZXRQYXJlbnRPZmZzZXQoZyksYi09Zy54LGMtPWcueSkpO2lmKGUueCE9Ynx8ZS55IT1jKWU9ZS5jbG9uZSgpLGUueD1iLGUueT1jLGQuc2V0R2VvbWV0cnkoYSxlKX1yZXR1cm4gZn07Cm14R3JhcGhMYXlvdXQucHJvdG90eXBlLmdldFZlcnRleEJvdW5kcz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdyYXBoLmdldE1vZGVsKCkuZ2V0R2VvbWV0cnkoYSk7aWYodGhpcy51c2VCb3VuZGluZ0JveCl7dmFyIGM9dGhpcy5ncmFwaC5nZXRWaWV3KCkuZ2V0U3RhdGUoYSk7aWYobnVsbCE9YyYmbnVsbCE9Yy50ZXh0JiZudWxsIT1jLnRleHQuYm91bmRpbmdCb3gpdmFyIGQ9dGhpcy5ncmFwaC5nZXRWaWV3KCkuc2NhbGUsZT1jLnRleHQuYm91bmRpbmdCb3gsZj1NYXRoLm1heChjLngtZS54LDApL2QsZz1NYXRoLm1heChjLnktZS55LDApL2QsYj1uZXcgbXhSZWN0YW5nbGUoYi54LWYsYi55LWcsYi53aWR0aCtmK01hdGgubWF4KGUueCtlLndpZHRoLShjLngrYy53aWR0aCksMCkvZCxiLmhlaWdodCtnK01hdGgubWF4KGUueStlLmhlaWdodC0oYy55K2MuaGVpZ2h0KSwwKS9kKX1udWxsIT10aGlzLnBhcmVudCYmKGE9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmdldFBhcmVudChhKSwKYj1iLmNsb25lKCksbnVsbCE9YSYmYSE9dGhpcy5wYXJlbnQmJihhPXRoaXMuZ2V0UGFyZW50T2Zmc2V0KGEpLGIueCs9YS54LGIueSs9YS55KSk7cmV0dXJuIG5ldyBteFJlY3RhbmdsZShiLngsYi55LGIud2lkdGgsYi5oZWlnaHQpfTtteEdyYXBoTGF5b3V0LnByb3RvdHlwZS5hcnJhbmdlR3JvdXBzPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXtyZXR1cm4gdGhpcy5ncmFwaC51cGRhdGVHcm91cEJvdW5kcyhhLGIsITAsYyxkLGUsZil9O2Z1bmN0aW9uIFdlaWdodGVkQ2VsbFNvcnRlcihhLGIpe3RoaXMuY2VsbD1hO3RoaXMud2VpZ2h0ZWRWYWx1ZT1ifVdlaWdodGVkQ2VsbFNvcnRlci5wcm90b3R5cGUud2VpZ2h0ZWRWYWx1ZT0wO1dlaWdodGVkQ2VsbFNvcnRlci5wcm90b3R5cGUubnVkZ2U9ITE7V2VpZ2h0ZWRDZWxsU29ydGVyLnByb3RvdHlwZS52aXNpdGVkPSExO1dlaWdodGVkQ2VsbFNvcnRlci5wcm90b3R5cGUucmFua0luZGV4PW51bGw7CldlaWdodGVkQ2VsbFNvcnRlci5wcm90b3R5cGUuY2VsbD1udWxsO1dlaWdodGVkQ2VsbFNvcnRlci5wcm90b3R5cGUuY29tcGFyZT1mdW5jdGlvbihhLGIpe3JldHVybiBudWxsIT1hJiZudWxsIT1iP2Iud2VpZ2h0ZWRWYWx1ZT5hLndlaWdodGVkVmFsdWU/LTE6Yi53ZWlnaHRlZFZhbHVlPGEud2VpZ2h0ZWRWYWx1ZT8xOmIubnVkZ2U/LTE6MTowfTtmdW5jdGlvbiBteFN0YWNrTGF5b3V0KGEsYixjLGQsZSxmKXtteEdyYXBoTGF5b3V0LmNhbGwodGhpcyxhKTt0aGlzLmhvcml6b250YWw9bnVsbCE9Yj9iOiEwO3RoaXMuc3BhY2luZz1udWxsIT1jP2M6MDt0aGlzLngwPW51bGwhPWQ/ZDowO3RoaXMueTA9bnVsbCE9ZT9lOjA7dGhpcy5ib3JkZXI9bnVsbCE9Zj9mOjB9bXhTdGFja0xheW91dC5wcm90b3R5cGU9bmV3IG14R3JhcGhMYXlvdXQ7bXhTdGFja0xheW91dC5wcm90b3R5cGUuY29uc3RydWN0b3I9bXhTdGFja0xheW91dDsKbXhTdGFja0xheW91dC5wcm90b3R5cGUuaG9yaXpvbnRhbD1udWxsO214U3RhY2tMYXlvdXQucHJvdG90eXBlLnNwYWNpbmc9bnVsbDtteFN0YWNrTGF5b3V0LnByb3RvdHlwZS54MD1udWxsO214U3RhY2tMYXlvdXQucHJvdG90eXBlLnkwPW51bGw7bXhTdGFja0xheW91dC5wcm90b3R5cGUuYm9yZGVyPTA7bXhTdGFja0xheW91dC5wcm90b3R5cGUubWFyZ2luVG9wPTA7bXhTdGFja0xheW91dC5wcm90b3R5cGUubWFyZ2luTGVmdD0wO214U3RhY2tMYXlvdXQucHJvdG90eXBlLm1hcmdpblJpZ2h0PTA7bXhTdGFja0xheW91dC5wcm90b3R5cGUubWFyZ2luQm90dG9tPTA7bXhTdGFja0xheW91dC5wcm90b3R5cGUua2VlcEZpcnN0TG9jYXRpb249ITE7bXhTdGFja0xheW91dC5wcm90b3R5cGUuZmlsbD0hMTtteFN0YWNrTGF5b3V0LnByb3RvdHlwZS5yZXNpemVQYXJlbnQ9ITE7bXhTdGFja0xheW91dC5wcm90b3R5cGUucmVzaXplUGFyZW50TWF4PSExOwpteFN0YWNrTGF5b3V0LnByb3RvdHlwZS5yZXNpemVMYXN0PSExO214U3RhY2tMYXlvdXQucHJvdG90eXBlLndyYXA9bnVsbDtteFN0YWNrTGF5b3V0LnByb3RvdHlwZS5ib3JkZXJDb2xsYXBzZT0hMDtteFN0YWNrTGF5b3V0LnByb3RvdHlwZS5hbGxvd0dhcHM9ITE7bXhTdGFja0xheW91dC5wcm90b3R5cGUuZ3JpZFNpemU9MDtteFN0YWNrTGF5b3V0LnByb3RvdHlwZS5pc0hvcml6b250YWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ob3Jpem9udGFsfTsKbXhTdGFja0xheW91dC5wcm90b3R5cGUubW92ZUNlbGw9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKSxlPWQuZ2V0UGFyZW50KGEpLGY9dGhpcy5pc0hvcml6b250YWwoKTtpZihudWxsIT1hJiZudWxsIT1lKXt2YXIgZz0wLGs9ZC5nZXRDaGlsZENvdW50KGUpO2M9Zj9iOmM7Yj10aGlzLmdyYXBoLmdldFZpZXcoKS5nZXRTdGF0ZShlKTtudWxsIT1iJiYoYy09Zj9iLng6Yi55KTtjLz10aGlzLmdyYXBoLnZpZXcuc2NhbGU7Zm9yKGI9MDtiPGs7YisrKXt2YXIgbD1kLmdldENoaWxkQXQoZSxiKTtpZihsIT1hJiYobD1kLmdldEdlb21ldHJ5KGwpLG51bGwhPWwpKXtsPWY/bC54K2wud2lkdGgvMjpsLnkrbC5oZWlnaHQvMjtpZihnPD1jJiZsPmMpYnJlYWs7Zz1sfX1mPWUuZ2V0SW5kZXgoYSk7Zj1NYXRoLm1heCgwLGItKGI+Zj8xOjApKTtkLmFkZChlLGEsZil9fTsKbXhTdGFja0xheW91dC5wcm90b3R5cGUuZ2V0UGFyZW50U2l6ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdyYXBoLmdldE1vZGVsKCksYz1iLmdldEdlb21ldHJ5KGEpO251bGwhPXRoaXMuZ3JhcGguY29udGFpbmVyJiYobnVsbD09YyYmYi5pc0xheWVyKGEpfHxhPT10aGlzLmdyYXBoLmdldFZpZXcoKS5jdXJyZW50Um9vdCkmJihjPW5ldyBteFJlY3RhbmdsZSgwLDAsdGhpcy5ncmFwaC5jb250YWluZXIub2Zmc2V0V2lkdGgtMSx0aGlzLmdyYXBoLmNvbnRhaW5lci5vZmZzZXRIZWlnaHQtMSkpO3JldHVybiBjfTsKbXhTdGFja0xheW91dC5wcm90b3R5cGUuZ2V0TGF5b3V0Q2VsbHM9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKSxjPWIuZ2V0Q2hpbGRDb3VudChhKSxkPVtdLGU9MDtlPGM7ZSsrKXt2YXIgZj1iLmdldENoaWxkQXQoYSxlKTshdGhpcy5pc1ZlcnRleElnbm9yZWQoZikmJnRoaXMuaXNWZXJ0ZXhNb3ZhYmxlKGYpJiZkLnB1c2goZil9dGhpcy5hbGxvd0dhcHMmJmQuc29ydChteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGEpLGQ9dGhpcy5ncmFwaC5nZXRDZWxsR2VvbWV0cnkoYik7cmV0dXJuIGMueT09ZC55PzA6Yy55PmQueT4wPzE6LTF9KSk7cmV0dXJuIGR9OwpteFN0YWNrTGF5b3V0LnByb3RvdHlwZS5zbmFwPWZ1bmN0aW9uKGEpe2lmKG51bGwhPXRoaXMuZ3JpZFNpemUmJjA8dGhpcy5ncmlkU2l6ZSYmKGE9TWF0aC5tYXgoYSx0aGlzLmdyaWRTaXplKSwxPGEvdGhpcy5ncmlkU2l6ZSkpe3ZhciBiPWEldGhpcy5ncmlkU2l6ZTthKz1iPnRoaXMuZ3JpZFNpemUvMj90aGlzLmdyaWRTaXplLWI6LWJ9cmV0dXJuIGF9OwpteFN0YWNrTGF5b3V0LnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKGEpe2lmKG51bGwhPWEpe3ZhciBiPXRoaXMuZ2V0UGFyZW50U2l6ZShhKSxjPXRoaXMuaXNIb3Jpem9udGFsKCksZD10aGlzLmdyYXBoLmdldE1vZGVsKCksZT1udWxsO251bGwhPWImJihlPWM/Yi5oZWlnaHQtdGhpcy5tYXJnaW5Ub3AtdGhpcy5tYXJnaW5Cb3R0b206Yi53aWR0aC10aGlzLm1hcmdpbkxlZnQtdGhpcy5tYXJnaW5SaWdodCk7dmFyIGU9ZS0yKnRoaXMuYm9yZGVyLGY9dGhpcy54MCt0aGlzLmJvcmRlcit0aGlzLm1hcmdpbkxlZnQsZz10aGlzLnkwK3RoaXMuYm9yZGVyK3RoaXMubWFyZ2luVG9wO2lmKHRoaXMuZ3JhcGguaXNTd2ltbGFuZShhKSl7dmFyIGs9dGhpcy5ncmFwaC5nZXRDZWxsU3R5bGUoYSksbD1teFV0aWxzLmdldE51bWJlcihrLG14Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRSxteENvbnN0YW50cy5ERUZBVUxUX1NUQVJUU0laRSksaz0xPT1teFV0aWxzLmdldFZhbHVlKGssbXhDb25zdGFudHMuU1RZTEVfSE9SSVpPTlRBTCwKITApO251bGwhPWImJihsPWs/TWF0aC5taW4obCxiLmhlaWdodCk6TWF0aC5taW4obCxiLndpZHRoKSk7Yz09ayYmKGUtPWwpO2s/Zys9bDpmKz1sfWQuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKHZhciBsPTAsaz1udWxsLG09MCxuPW51bGwscD10aGlzLmdldExheW91dENlbGxzKGEpLHE9MDtxPHAubGVuZ3RoO3ErKyl7dmFyIHI9cFtxXSx0PWQuZ2V0R2VvbWV0cnkocik7aWYobnVsbCE9dCl7dD10LmNsb25lKCk7bnVsbCE9dGhpcy53cmFwJiZudWxsIT1rJiYoYyYmay54K2sud2lkdGgrdC53aWR0aCsyKnRoaXMuc3BhY2luZz50aGlzLndyYXB8fCFjJiZrLnkray5oZWlnaHQrdC5oZWlnaHQrMip0aGlzLnNwYWNpbmc+dGhpcy53cmFwKSYmKGs9bnVsbCxjP2crPWwrdGhpcy5zcGFjaW5nOmYrPWwrdGhpcy5zcGFjaW5nLGw9MCk7dmFyIGw9TWF0aC5tYXgobCxjP3QuaGVpZ2h0OnQud2lkdGgpLHU9MDtpZighdGhpcy5ib3JkZXJDb2xsYXBzZSl2YXIgeD10aGlzLmdyYXBoLmdldENlbGxTdHlsZShyKSwKdT1teFV0aWxzLmdldE51bWJlcih4LG14Q29uc3RhbnRzLlNUWUxFX1NUUk9LRVdJRFRILDEpO2lmKG51bGwhPWspe3ZhciB5PW0rdGhpcy5zcGFjaW5nK01hdGguZmxvb3IodS8yKTtjP3QueD10aGlzLnNuYXAoKHRoaXMuYWxsb3dHYXBzP01hdGgubWF4KHksdC54KTp5KS10aGlzLm1hcmdpbkxlZnQpK3RoaXMubWFyZ2luTGVmdDp0Lnk9dGhpcy5zbmFwKCh0aGlzLmFsbG93R2Fwcz9NYXRoLm1heCh5LHQueSk6eSktdGhpcy5tYXJnaW5Ub3ApK3RoaXMubWFyZ2luVG9wfWVsc2UgdGhpcy5rZWVwRmlyc3RMb2NhdGlvbnx8KGM/dC54PXRoaXMuYWxsb3dHYXBzJiZ0Lng+Zj9NYXRoLm1heCh0aGlzLnNuYXAodC54LXRoaXMubWFyZ2luTGVmdCkrdGhpcy5tYXJnaW5MZWZ0LGYpOmY6dC55PXRoaXMuYWxsb3dHYXBzJiZ0Lnk+Zz9NYXRoLm1heCh0aGlzLnNuYXAodC55LXRoaXMubWFyZ2luVG9wKSt0aGlzLm1hcmdpblRvcCxnKTpnKTtjP3QueT1nOnQueD1mO3RoaXMuZmlsbCYmbnVsbCE9CmUmJihjP3QuaGVpZ2h0PWU6dC53aWR0aD1lKTtjP3Qud2lkdGg9dGhpcy5zbmFwKHQud2lkdGgpOnQuaGVpZ2h0PXRoaXMuc25hcCh0LmhlaWdodCk7dGhpcy5zZXRDaGlsZEdlb21ldHJ5KHIsdCk7bj1yO2s9dDttPWM/ay54K2sud2lkdGgrTWF0aC5mbG9vcih1LzIpOmsueStrLmhlaWdodCtNYXRoLmZsb29yKHUvMil9fXRoaXMucmVzaXplUGFyZW50JiZudWxsIT1iJiZudWxsIT1rJiYhdGhpcy5ncmFwaC5pc0NlbGxDb2xsYXBzZWQoYSk/dGhpcy51cGRhdGVQYXJlbnRHZW9tZXRyeShhLGIsayk6dGhpcy5yZXNpemVMYXN0JiZudWxsIT1iJiZudWxsIT1rJiZudWxsIT1uJiYoYz9rLndpZHRoPWIud2lkdGgtay54LXRoaXMuc3BhY2luZy10aGlzLm1hcmdpblJpZ2h0LXRoaXMubWFyZ2luTGVmdDprLmhlaWdodD1iLmhlaWdodC1rLnktdGhpcy5zcGFjaW5nLXRoaXMubWFyZ2luQm90dG9tLHRoaXMuc2V0Q2hpbGRHZW9tZXRyeShuLGspKX1maW5hbGx5e2QuZW5kVXBkYXRlKCl9fX07Cm14U3RhY2tMYXlvdXQucHJvdG90eXBlLnNldENoaWxkR2VvbWV0cnk9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeShhKTtudWxsIT1jJiZiLng9PWMueCYmYi55PT1jLnkmJmIud2lkdGg9PWMud2lkdGgmJmIuaGVpZ2h0PT1jLmhlaWdodHx8dGhpcy5ncmFwaC5nZXRNb2RlbCgpLnNldEdlb21ldHJ5KGEsYil9OwpteFN0YWNrTGF5b3V0LnByb3RvdHlwZS51cGRhdGVQYXJlbnRHZW9tZXRyeT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5pc0hvcml6b250YWwoKSxlPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKSxmPWIuY2xvbmUoKTtkPyhjPWMueCtjLndpZHRoK3RoaXMubWFyZ2luUmlnaHQrdGhpcy5ib3JkZXIsZi53aWR0aD10aGlzLnJlc2l6ZVBhcmVudE1heD9NYXRoLm1heChmLndpZHRoLGMpOmMpOihjPWMueStjLmhlaWdodCt0aGlzLm1hcmdpbkJvdHRvbSt0aGlzLmJvcmRlcixmLmhlaWdodD10aGlzLnJlc2l6ZVBhcmVudE1heD9NYXRoLm1heChmLmhlaWdodCxjKTpjKTtiLng9PWYueCYmYi55PT1mLnkmJmIud2lkdGg9PWYud2lkdGgmJmIuaGVpZ2h0PT1mLmhlaWdodHx8ZS5zZXRHZW9tZXRyeShhLGYpfTsKZnVuY3Rpb24gbXhQYXJ0aXRpb25MYXlvdXQoYSxiLGMsZCl7bXhHcmFwaExheW91dC5jYWxsKHRoaXMsYSk7dGhpcy5ob3Jpem9udGFsPW51bGwhPWI/YjohMDt0aGlzLnNwYWNpbmc9Y3x8MDt0aGlzLmJvcmRlcj1kfHwwfW14UGFydGl0aW9uTGF5b3V0LnByb3RvdHlwZT1uZXcgbXhHcmFwaExheW91dDtteFBhcnRpdGlvbkxheW91dC5wcm90b3R5cGUuY29uc3RydWN0b3I9bXhQYXJ0aXRpb25MYXlvdXQ7bXhQYXJ0aXRpb25MYXlvdXQucHJvdG90eXBlLmhvcml6b250YWw9bnVsbDtteFBhcnRpdGlvbkxheW91dC5wcm90b3R5cGUuc3BhY2luZz1udWxsO214UGFydGl0aW9uTGF5b3V0LnByb3RvdHlwZS5ib3JkZXI9bnVsbDtteFBhcnRpdGlvbkxheW91dC5wcm90b3R5cGUucmVzaXplVmVydGljZXM9ITA7bXhQYXJ0aXRpb25MYXlvdXQucHJvdG90eXBlLmlzSG9yaXpvbnRhbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhvcml6b250YWx9OwpteFBhcnRpdGlvbkxheW91dC5wcm90b3R5cGUubW92ZUNlbGw9ZnVuY3Rpb24oYSxiLGMpe2M9dGhpcy5ncmFwaC5nZXRNb2RlbCgpO3ZhciBkPWMuZ2V0UGFyZW50KGEpO2lmKG51bGwhPWEmJm51bGwhPWQpe3ZhciBlLGY9MCxnPWMuZ2V0Q2hpbGRDb3VudChkKTtmb3IoZT0wO2U8ZztlKyspe3ZhciBrPWMuZ2V0Q2hpbGRBdChkLGUpLGs9dGhpcy5nZXRWZXJ0ZXhCb3VuZHMoayk7aWYobnVsbCE9ayl7az1rLngray53aWR0aC8yO2lmKGY8YiYmaz5iKWJyZWFrO2Y9a319Yj1kLmdldEluZGV4KGEpO2I9TWF0aC5tYXgoMCxlLShlPmI/MTowKSk7Yy5hZGQoZCxhLGIpfX07Cm14UGFydGl0aW9uTGF5b3V0LnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaXNIb3Jpem9udGFsKCksYz10aGlzLmdyYXBoLmdldE1vZGVsKCksZD1jLmdldEdlb21ldHJ5KGEpO251bGwhPXRoaXMuZ3JhcGguY29udGFpbmVyJiYobnVsbD09ZCYmYy5pc0xheWVyKGEpfHxhPT10aGlzLmdyYXBoLmdldFZpZXcoKS5jdXJyZW50Um9vdCkmJihkPW5ldyBteFJlY3RhbmdsZSgwLDAsdGhpcy5ncmFwaC5jb250YWluZXIub2Zmc2V0V2lkdGgtMSx0aGlzLmdyYXBoLmNvbnRhaW5lci5vZmZzZXRIZWlnaHQtMSkpO2lmKG51bGwhPWQpe2Zvcih2YXIgZT1bXSxmPWMuZ2V0Q2hpbGRDb3VudChhKSxnPTA7ZzxmO2crKyl7dmFyIGs9Yy5nZXRDaGlsZEF0KGEsZyk7IXRoaXMuaXNWZXJ0ZXhJZ25vcmVkKGspJiZ0aGlzLmlzVmVydGV4TW92YWJsZShrKSYmZS5wdXNoKGspfWY9ZS5sZW5ndGg7aWYoMDxmKXt2YXIgbD10aGlzLmJvcmRlcixtPXRoaXMuYm9yZGVyLG49Yj8KZC5oZWlnaHQ6ZC53aWR0aCxuPW4tMip0aGlzLmJvcmRlcjthPXRoaXMuZ3JhcGguaXNTd2ltbGFuZShhKT90aGlzLmdyYXBoLmdldFN0YXJ0U2l6ZShhKTpuZXcgbXhSZWN0YW5nbGU7bi09Yj9hLmhlaWdodDphLndpZHRoO2wrPWEud2lkdGg7bSs9YS5oZWlnaHQ7YT10aGlzLmJvcmRlcisoZi0xKSp0aGlzLnNwYWNpbmc7ZD1iPyhkLndpZHRoLWwtYSkvZjooZC5oZWlnaHQtbS1hKS9mO2lmKDA8ZCl7Yy5iZWdpblVwZGF0ZSgpO3RyeXtmb3IoZz0wO2c8ZjtnKyspe3ZhciBrPWVbZ10scD1jLmdldEdlb21ldHJ5KGspO251bGwhPXAmJihwPXAuY2xvbmUoKSxwLng9bCxwLnk9bSxiPyh0aGlzLnJlc2l6ZVZlcnRpY2VzJiYocC53aWR0aD1kLHAuaGVpZ2h0PW4pLGwrPWQrdGhpcy5zcGFjaW5nKToodGhpcy5yZXNpemVWZXJ0aWNlcyYmKHAuaGVpZ2h0PWQscC53aWR0aD1uKSxtKz1kK3RoaXMuc3BhY2luZyksYy5zZXRHZW9tZXRyeShrLHApKX19ZmluYWxseXtjLmVuZFVwZGF0ZSgpfX19fX07CmZ1bmN0aW9uIG14Q29tcGFjdFRyZWVMYXlvdXQoYSxiLGMpe214R3JhcGhMYXlvdXQuY2FsbCh0aGlzLGEpO3RoaXMuaG9yaXpvbnRhbD1udWxsIT1iP2I6ITA7dGhpcy5pbnZlcnQ9bnVsbCE9Yz9jOiExfW14Q29tcGFjdFRyZWVMYXlvdXQucHJvdG90eXBlPW5ldyBteEdyYXBoTGF5b3V0O214Q29tcGFjdFRyZWVMYXlvdXQucHJvdG90eXBlLmNvbnN0cnVjdG9yPW14Q29tcGFjdFRyZWVMYXlvdXQ7bXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUuaG9yaXpvbnRhbD1udWxsO214Q29tcGFjdFRyZWVMYXlvdXQucHJvdG90eXBlLmludmVydD1udWxsO214Q29tcGFjdFRyZWVMYXlvdXQucHJvdG90eXBlLnJlc2l6ZVBhcmVudD0hMDtteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5tYWludGFpblBhcmVudExvY2F0aW9uPSExO214Q29tcGFjdFRyZWVMYXlvdXQucHJvdG90eXBlLmdyb3VwUGFkZGluZz0xMDsKbXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUuZ3JvdXBQYWRkaW5nVG9wPTA7bXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUuZ3JvdXBQYWRkaW5nUmlnaHQ9MDtteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5ncm91cFBhZGRpbmdCb3R0b209MDtteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5ncm91cFBhZGRpbmdMZWZ0PTA7bXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUucGFyZW50c0NoYW5nZWQ9bnVsbDtteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5tb3ZlVHJlZT0hMTtteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS52aXNpdGVkPW51bGw7bXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUubGV2ZWxEaXN0YW5jZT0xMDtteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5ub2RlRGlzdGFuY2U9MjA7bXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUucmVzZXRFZGdlcz0hMDsKbXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUucHJlZkhvekVkZ2VTZXA9NTtteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5wcmVmVmVydEVkZ2VPZmY9NDtteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5taW5FZGdlSmV0dHk9ODtteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5jaGFubmVsQnVmZmVyPTQ7bXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUuZWRnZVJvdXRpbmc9ITA7bXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUuc29ydEVkZ2VzPSExO214Q29tcGFjdFRyZWVMYXlvdXQucHJvdG90eXBlLmFsaWduUmFua3M9ITE7bXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUubWF4UmFua0hlaWdodD1udWxsO214Q29tcGFjdFRyZWVMYXlvdXQucHJvdG90eXBlLnJvb3Q9bnVsbDtteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5ub2RlPW51bGw7Cm14Q29tcGFjdFRyZWVMYXlvdXQucHJvdG90eXBlLmlzVmVydGV4SWdub3JlZD1mdW5jdGlvbihhKXtyZXR1cm4gbXhHcmFwaExheW91dC5wcm90b3R5cGUuaXNWZXJ0ZXhJZ25vcmVkLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8MD09dGhpcy5ncmFwaC5nZXRDb25uZWN0aW9ucyhhKS5sZW5ndGh9O214Q29tcGFjdFRyZWVMYXlvdXQucHJvdG90eXBlLmlzSG9yaXpvbnRhbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhvcml6b250YWx9OwpteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKGEsYil7dGhpcy5wYXJlbnQ9YTt2YXIgYz10aGlzLmdyYXBoLmdldE1vZGVsKCk7aWYobnVsbD09YilpZigwPHRoaXMuZ3JhcGguZ2V0RWRnZXMoYSxjLmdldFBhcmVudChhKSx0aGlzLmludmVydCwhdGhpcy5pbnZlcnQsITEpLmxlbmd0aCl0aGlzLnJvb3Q9YTtlbHNle3ZhciBkPXRoaXMuZ3JhcGguZmluZFRyZWVSb290cyhhLCEwLHRoaXMuaW52ZXJ0KTtpZigwPGQubGVuZ3RoKWZvcih2YXIgZT0wO2U8ZC5sZW5ndGg7ZSsrKWlmKCF0aGlzLmlzVmVydGV4SWdub3JlZChkW2VdKSYmMDx0aGlzLmdyYXBoLmdldEVkZ2VzKGRbZV0sbnVsbCx0aGlzLmludmVydCwhdGhpcy5pbnZlcnQsITEpLmxlbmd0aCl7dGhpcy5yb290PWRbZV07YnJlYWt9fWVsc2UgdGhpcy5yb290PWI7aWYobnVsbCE9dGhpcy5yb290KXt0aGlzLnBhcmVudHNDaGFuZ2VkPXRoaXMucmVzaXplUGFyZW50P3t9Om51bGw7dGhpcy5wYXJlbnRZPQp0aGlzLnBhcmVudFg9bnVsbDtpZihhIT10aGlzLnJvb3QmJm51bGwhPWMuaXNWZXJ0ZXgoYSkmJnRoaXMubWFpbnRhaW5QYXJlbnRMb2NhdGlvbil7dmFyIGY9dGhpcy5ncmFwaC5nZXRDZWxsR2VvbWV0cnkoYSk7bnVsbCE9ZiYmKHRoaXMucGFyZW50WD1mLngsdGhpcy5wYXJlbnRZPWYueSl9Yy5iZWdpblVwZGF0ZSgpO3RyeXtpZih0aGlzLnZpc2l0ZWQ9e30sdGhpcy5ub2RlPXRoaXMuZGZzKHRoaXMucm9vdCxhKSx0aGlzLmFsaWduUmFua3MmJih0aGlzLm1heFJhbmtIZWlnaHQ9W10sdGhpcy5maW5kUmFua0hlaWdodHModGhpcy5ub2RlLDApLHRoaXMuc2V0Q2VsbEhlaWdodHModGhpcy5ub2RlLDApKSxudWxsIT10aGlzLm5vZGUpe3RoaXMubGF5b3V0KHRoaXMubm9kZSk7dmFyIGc9dGhpcy5ncmFwaC5ncmlkU2l6ZSxkPWc7aWYoIXRoaXMubW92ZVRyZWUpe3ZhciBrPXRoaXMuZ2V0VmVydGV4Qm91bmRzKHRoaXMucm9vdCk7bnVsbCE9ayYmKGc9ay54LGQ9ay55KX1rPW51bGw7Cms9dGhpcy5pc0hvcml6b250YWwoKT90aGlzLmhvcml6b250YWxMYXlvdXQodGhpcy5ub2RlLGcsZCk6dGhpcy52ZXJ0aWNhbExheW91dCh0aGlzLm5vZGUsbnVsbCxnLGQpO2lmKG51bGwhPWspe3ZhciBsPWU9MDswPmsueCYmKGU9TWF0aC5hYnMoZy1rLngpKTswPmsueSYmKGw9TWF0aC5hYnMoZC1rLnkpKTswPT1lJiYwPT1sfHx0aGlzLm1vdmVOb2RlKHRoaXMubm9kZSxlLGwpO3RoaXMucmVzaXplUGFyZW50JiZ0aGlzLmFkanVzdFBhcmVudHMoKTt0aGlzLmVkZ2VSb3V0aW5nJiZ0aGlzLmxvY2FsRWRnZVByb2Nlc3NpbmcodGhpcy5ub2RlKX1udWxsIT10aGlzLnBhcmVudFgmJm51bGwhPXRoaXMucGFyZW50WSYmKGY9dGhpcy5ncmFwaC5nZXRDZWxsR2VvbWV0cnkoYSksbnVsbCE9ZiYmKGY9Zi5jbG9uZSgpLGYueD10aGlzLnBhcmVudFgsZi55PXRoaXMucGFyZW50WSxjLnNldEdlb21ldHJ5KGEsZikpKX19ZmluYWxseXtjLmVuZFVwZGF0ZSgpfX19OwpteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5tb3ZlTm9kZT1mdW5jdGlvbihhLGIsYyl7YS54Kz1iO2EueSs9Yzt0aGlzLmFwcGx5KGEpO2ZvcihhPWEuY2hpbGQ7bnVsbCE9YTspdGhpcy5tb3ZlTm9kZShhLGIsYyksYT1hLm5leHR9OwpteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5zb3J0T3V0Z29pbmdFZGdlcz1mdW5jdGlvbihhLGIpe3ZhciBjPW5ldyBteERpY3Rpb25hcnk7Yi5zb3J0KGZ1bmN0aW9uKGIsZSl7dmFyIGQ9Yi5nZXRUZXJtaW5hbChiLmdldFRlcm1pbmFsKCExKT09YSksZz1jLmdldChkKTtudWxsPT1nJiYoZz1teENlbGxQYXRoLmNyZWF0ZShkKS5zcGxpdChteENlbGxQYXRoLlBBVEhfU0VQQVJBVE9SKSxjLnB1dChkLGcpKTt2YXIgZD1lLmdldFRlcm1pbmFsKGUuZ2V0VGVybWluYWwoITEpPT1hKSxrPWMuZ2V0KGQpO251bGw9PWsmJihrPW14Q2VsbFBhdGguY3JlYXRlKGQpLnNwbGl0KG14Q2VsbFBhdGguUEFUSF9TRVBBUkFUT1IpLGMucHV0KGQsaykpO3JldHVybiBteENlbGxQYXRoLmNvbXBhcmUoZyxrKX0pfTsKbXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUuZmluZFJhbmtIZWlnaHRzPWZ1bmN0aW9uKGEsYil7aWYobnVsbD09dGhpcy5tYXhSYW5rSGVpZ2h0W2JdfHx0aGlzLm1heFJhbmtIZWlnaHRbYl08YS5oZWlnaHQpdGhpcy5tYXhSYW5rSGVpZ2h0W2JdPWEuaGVpZ2h0O2Zvcih2YXIgYz1hLmNoaWxkO251bGwhPWM7KXRoaXMuZmluZFJhbmtIZWlnaHRzKGMsYisxKSxjPWMubmV4dH07bXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUuc2V0Q2VsbEhlaWdodHM9ZnVuY3Rpb24oYSxiKXtudWxsIT10aGlzLm1heFJhbmtIZWlnaHRbYl0mJnRoaXMubWF4UmFua0hlaWdodFtiXT5hLmhlaWdodCYmKGEuaGVpZ2h0PXRoaXMubWF4UmFua0hlaWdodFtiXSk7Zm9yKHZhciBjPWEuY2hpbGQ7bnVsbCE9YzspdGhpcy5zZXRDZWxsSGVpZ2h0cyhjLGIrMSksYz1jLm5leHR9OwpteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5kZnM9ZnVuY3Rpb24oYSxiKXt2YXIgYz1teENlbGxQYXRoLmNyZWF0ZShhKSxkPW51bGw7aWYobnVsbCE9YSYmbnVsbD09dGhpcy52aXNpdGVkW2NdJiYhdGhpcy5pc1ZlcnRleElnbm9yZWQoYSkpe3RoaXMudmlzaXRlZFtjXT1hO3ZhciBkPXRoaXMuY3JlYXRlTm9kZShhKSxjPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKSxlPW51bGwsZj10aGlzLmdyYXBoLmdldEVkZ2VzKGEsYix0aGlzLmludmVydCwhdGhpcy5pbnZlcnQsITEsITApLGc9dGhpcy5ncmFwaC5nZXRWaWV3KCk7dGhpcy5zb3J0RWRnZXMmJnRoaXMuc29ydE91dGdvaW5nRWRnZXMoYSxmKTtmb3IodmFyIGs9MDtrPGYubGVuZ3RoO2srKyl7dmFyIGw9ZltrXTtpZighdGhpcy5pc0VkZ2VJZ25vcmVkKGwpKXt0aGlzLnJlc2V0RWRnZXMmJnRoaXMuc2V0RWRnZVBvaW50cyhsLG51bGwpO3RoaXMuZWRnZVJvdXRpbmcmJih0aGlzLnNldEVkZ2VTdHlsZUVuYWJsZWQobCwhMSksCnRoaXMuc2V0RWRnZVBvaW50cyhsLG51bGwpKTt2YXIgbT1nLmdldFN0YXRlKGwpLGw9bnVsbCE9bT9tLmdldFZpc2libGVUZXJtaW5hbCh0aGlzLmludmVydCk6Zy5nZXRWaXNpYmxlVGVybWluYWwobCx0aGlzLmludmVydCksbT10aGlzLmRmcyhsLGIpO251bGwhPW0mJm51bGwhPWMuZ2V0R2VvbWV0cnkobCkmJihudWxsPT1lP2QuY2hpbGQ9bTplLm5leHQ9bSxlPW0pfX19cmV0dXJuIGR9O214Q29tcGFjdFRyZWVMYXlvdXQucHJvdG90eXBlLmxheW91dD1mdW5jdGlvbihhKXtpZihudWxsIT1hKXtmb3IodmFyIGI9YS5jaGlsZDtudWxsIT1iOyl0aGlzLmxheW91dChiKSxiPWIubmV4dDtudWxsIT1hLmNoaWxkP3RoaXMuYXR0YWNoUGFyZW50KGEsdGhpcy5qb2luKGEpKTp0aGlzLmxheW91dExlYWYoYSl9fTsKbXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUuaG9yaXpvbnRhbExheW91dD1mdW5jdGlvbihhLGIsYyxkKXthLngrPWIrYS5vZmZzZXRYO2EueSs9YythLm9mZnNldFk7ZD10aGlzLmFwcGx5KGEsZCk7Yj1hLmNoaWxkO2lmKG51bGwhPWIpe2Q9dGhpcy5ob3Jpem9udGFsTGF5b3V0KGIsYS54LGEueSxkKTtjPWEueStiLm9mZnNldFk7Zm9yKHZhciBlPWIubmV4dDtudWxsIT1lOylkPXRoaXMuaG9yaXpvbnRhbExheW91dChlLGEueCtiLm9mZnNldFgsYyxkKSxjKz1lLm9mZnNldFksZT1lLm5leHR9cmV0dXJuIGR9OwpteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS52ZXJ0aWNhbExheW91dD1mdW5jdGlvbihhLGIsYyxkLGUpe2EueCs9YythLm9mZnNldFk7YS55Kz1kK2Eub2Zmc2V0WDtlPXRoaXMuYXBwbHkoYSxlKTtiPWEuY2hpbGQ7aWYobnVsbCE9Yilmb3IoZT10aGlzLnZlcnRpY2FsTGF5b3V0KGIsYSxhLngsYS55LGUpLGM9YS54K2Iub2Zmc2V0WSxkPWIubmV4dDtudWxsIT1kOyllPXRoaXMudmVydGljYWxMYXlvdXQoZCxhLGMsYS55K2Iub2Zmc2V0WCxlKSxjKz1kLm9mZnNldFksZD1kLm5leHQ7cmV0dXJuIGV9OwpteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5hdHRhY2hQYXJlbnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLm5vZGVEaXN0YW5jZSt0aGlzLmxldmVsRGlzdGFuY2UsZD0oYi1hLndpZHRoKS8yLXRoaXMubm9kZURpc3RhbmNlLGU9ZCthLndpZHRoKzIqdGhpcy5ub2RlRGlzdGFuY2UtYjthLmNoaWxkLm9mZnNldFg9YythLmhlaWdodDthLmNoaWxkLm9mZnNldFk9ZTthLmNvbnRvdXIudXBwZXJIZWFkPXRoaXMuY3JlYXRlTGluZShhLmhlaWdodCwwLHRoaXMuY3JlYXRlTGluZShjLGUsYS5jb250b3VyLnVwcGVySGVhZCkpO2EuY29udG91ci5sb3dlckhlYWQ9dGhpcy5jcmVhdGVMaW5lKGEuaGVpZ2h0LDAsdGhpcy5jcmVhdGVMaW5lKGMsZCxhLmNvbnRvdXIubG93ZXJIZWFkKSl9OwpteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5sYXlvdXRMZWFmPWZ1bmN0aW9uKGEpe3ZhciBiPTIqdGhpcy5ub2RlRGlzdGFuY2U7YS5jb250b3VyLnVwcGVyVGFpbD10aGlzLmNyZWF0ZUxpbmUoYS5oZWlnaHQrYiwwKTthLmNvbnRvdXIudXBwZXJIZWFkPWEuY29udG91ci51cHBlclRhaWw7YS5jb250b3VyLmxvd2VyVGFpbD10aGlzLmNyZWF0ZUxpbmUoMCwtYS53aWR0aC1iKTthLmNvbnRvdXIubG93ZXJIZWFkPXRoaXMuY3JlYXRlTGluZShhLmhlaWdodCtiLDAsYS5jb250b3VyLmxvd2VyVGFpbCl9OwpteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5qb2luPWZ1bmN0aW9uKGEpe3ZhciBiPTIqdGhpcy5ub2RlRGlzdGFuY2UsYz1hLmNoaWxkO2EuY29udG91cj1jLmNvbnRvdXI7Zm9yKHZhciBkPWMud2lkdGgrYixlPWQsYz1jLm5leHQ7bnVsbCE9Yzspe3ZhciBmPXRoaXMubWVyZ2UoYS5jb250b3VyLGMuY29udG91cik7Yy5vZmZzZXRZPWYrZDtjLm9mZnNldFg9MDtkPWMud2lkdGgrYjtlKz1mK2Q7Yz1jLm5leHR9cmV0dXJuIGV9OwpteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5tZXJnZT1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wLGQ9MCxlPTAsZj1hLmxvd2VySGVhZCxnPWIudXBwZXJIZWFkO251bGwhPWcmJm51bGwhPWY7KXt2YXIgaz10aGlzLm9mZnNldChjLGQsZy5keCxnLmR5LGYuZHgsZi5keSksZD1kK2ssZT1lK2s7YytnLmR4PD1mLmR4PyhjKz1nLmR4LGQrPWcuZHksZz1nLm5leHQpOihjLT1mLmR4LGQtPWYuZHksZj1mLm5leHQpfW51bGwhPWc/KGM9dGhpcy5icmlkZ2UoYS51cHBlclRhaWwsMCwwLGcsYyxkKSxhLnVwcGVyVGFpbD1udWxsIT1jLm5leHQ/Yi51cHBlclRhaWw6YyxhLmxvd2VyVGFpbD1iLmxvd2VyVGFpbCk6KGM9dGhpcy5icmlkZ2UoYi5sb3dlclRhaWwsYyxkLGYsMCwwKSxudWxsPT1jLm5leHQmJihhLmxvd2VyVGFpbD1jKSk7YS5sb3dlckhlYWQ9Yi5sb3dlckhlYWQ7cmV0dXJuIGV9OwpteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5vZmZzZXQ9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe2lmKGU8PWF8fDA+PWErYylyZXR1cm4gMDthPTA8ZSpkLWMqZj8wPmE/YSpkL2MtYjowPGE/YSpmL2UtYjotYjplPGErYz9mLShiKyhlLWEpKmQvYyk6ZT5hK2M/KGMrYSkqZi9lLShiK2QpOmYtKGIrZCk7cmV0dXJuIDA8YT9hOjB9O214Q29tcGFjdFRyZWVMYXlvdXQucHJvdG90eXBlLmJyaWRnZT1mdW5jdGlvbihhLGIsYyxkLGUsZil7Yj1lK2QuZHgtYjswPT1kLmR4P2U9ZC5keTooZT1iKmQuZHksZS89ZC5keCk7Yj10aGlzLmNyZWF0ZUxpbmUoYixlLGQubmV4dCk7YS5uZXh0PXRoaXMuY3JlYXRlTGluZSgwLGYrZC5keS1lLWMsYik7cmV0dXJuIGJ9OwpteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5jcmVhdGVOb2RlPWZ1bmN0aW9uKGEpe3ZhciBiPXt9O2IuY2VsbD1hO2IueD0wO2IueT0wO2Iud2lkdGg9MDtiLmhlaWdodD0wO2E9dGhpcy5nZXRWZXJ0ZXhCb3VuZHMoYSk7bnVsbCE9YSYmKHRoaXMuaXNIb3Jpem9udGFsKCk/KGIud2lkdGg9YS5oZWlnaHQsYi5oZWlnaHQ9YS53aWR0aCk6KGIud2lkdGg9YS53aWR0aCxiLmhlaWdodD1hLmhlaWdodCkpO2Iub2Zmc2V0WD0wO2Iub2Zmc2V0WT0wO2IuY29udG91cj17fTtyZXR1cm4gYn07Cm14Q29tcGFjdFRyZWVMYXlvdXQucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLGQ9YS5jZWxsLGU9Yy5nZXRHZW9tZXRyeShkKTtudWxsIT1kJiZudWxsIT1lJiYodGhpcy5pc1ZlcnRleE1vdmFibGUoZCkmJihlPXRoaXMuc2V0VmVydGV4TG9jYXRpb24oZCxhLngsYS55KSx0aGlzLnJlc2l6ZVBhcmVudCYmKGM9Yy5nZXRQYXJlbnQoZCksZD1teENlbGxQYXRoLmNyZWF0ZShjKSxudWxsPT10aGlzLnBhcmVudHNDaGFuZ2VkW2RdJiYodGhpcy5wYXJlbnRzQ2hhbmdlZFtkXT1jKSkpLGI9bnVsbD09Yj9uZXcgbXhSZWN0YW5nbGUoZS54LGUueSxlLndpZHRoLGUuaGVpZ2h0KTpuZXcgbXhSZWN0YW5nbGUoTWF0aC5taW4oYi54LGUueCksTWF0aC5taW4oYi55LGUueSksTWF0aC5tYXgoYi54K2Iud2lkdGgsZS54K2Uud2lkdGgpLE1hdGgubWF4KGIueStiLmhlaWdodCxlLnkrZS5oZWlnaHQpKSk7cmV0dXJuIGJ9OwpteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5jcmVhdGVMaW5lPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD17fTtkLmR4PWE7ZC5keT1iO2QubmV4dD1jO3JldHVybiBkfTtteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5hZGp1c3RQYXJlbnRzPWZ1bmN0aW9uKCl7dmFyIGE9W10sYjtmb3IoYiBpbiB0aGlzLnBhcmVudHNDaGFuZ2VkKWEucHVzaCh0aGlzLnBhcmVudHNDaGFuZ2VkW2JdKTt0aGlzLmFycmFuZ2VHcm91cHMobXhVdGlscy5zb3J0Q2VsbHMoYSwhMCksdGhpcy5ncm91cFBhZGRpbmcsdGhpcy5ncm91cFBhZGRpbmdUb3AsdGhpcy5ncm91cFBhZGRpbmdSaWdodCx0aGlzLmdyb3VwUGFkZGluZ0JvdHRvbSx0aGlzLmdyb3VwUGFkZGluZ0xlZnQpfTsKbXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUubG9jYWxFZGdlUHJvY2Vzc2luZz1mdW5jdGlvbihhKXt0aGlzLnByb2Nlc3NOb2RlT3V0Z29pbmcoYSk7Zm9yKGE9YS5jaGlsZDtudWxsIT1hOyl0aGlzLmxvY2FsRWRnZVByb2Nlc3NpbmcoYSksYT1hLm5leHR9OwpteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5wcm9jZXNzTm9kZU91dGdvaW5nPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hLmNoaWxkLGM9YS5jZWxsLGQ9MCxlPVtdO251bGwhPWI7KXtkKys7dmFyIGY9Yi54O3RoaXMuaG9yaXpvbnRhbCYmKGY9Yi55KTtlLnB1c2gobmV3IFdlaWdodGVkQ2VsbFNvcnRlcihiLGYpKTtiPWIubmV4dH1lLnNvcnQoV2VpZ2h0ZWRDZWxsU29ydGVyLnByb3RvdHlwZS5jb21wYXJlKTt2YXIgZj1hLndpZHRoLGc9KGQrMSkqdGhpcy5wcmVmSG96RWRnZVNlcDtmPmcrMip0aGlzLnByZWZIb3pFZGdlU2VwJiYoZi09Mip0aGlzLnByZWZIb3pFZGdlU2VwKTthPWYvZDtiPWEvMjtmPmcrMip0aGlzLnByZWZIb3pFZGdlU2VwJiYoYis9dGhpcy5wcmVmSG96RWRnZVNlcCk7Zm9yKHZhciBmPXRoaXMubWluRWRnZUpldHR5LXRoaXMucHJlZlZlcnRFZGdlT2ZmLGc9dGhpcy5nZXRWZXJ0ZXhCb3VuZHMoYyksaz0wO2s8ZS5sZW5ndGg7aysrKXtmb3IodmFyIGw9CmVba10uY2VsbC5jZWxsLG09dGhpcy5nZXRWZXJ0ZXhCb3VuZHMobCksbD10aGlzLmdyYXBoLmdldEVkZ2VzQmV0d2VlbihjLGwsITEpLG49W10scCxxLHI9MDtyPGwubGVuZ3RoO3IrKyl0aGlzLmhvcml6b250YWw/KHA9Zy54K2cud2lkdGgscT1nLnkrYixuLnB1c2gobmV3IG14UG9pbnQocCxxKSkscD1nLngrZy53aWR0aCtmLG4ucHVzaChuZXcgbXhQb2ludChwLHEpKSxxPW0ueSttLmhlaWdodC8yKToocD1nLngrYixxPWcueStnLmhlaWdodCxuLnB1c2gobmV3IG14UG9pbnQocCxxKSkscT1nLnkrZy5oZWlnaHQrZixuLnB1c2gobmV3IG14UG9pbnQocCxxKSkscD1tLngrbS53aWR0aC8yKSxuLnB1c2gobmV3IG14UG9pbnQocCxxKSksdGhpcy5zZXRFZGdlUG9pbnRzKGxbcl0sbik7azxkLzI/Zis9dGhpcy5wcmVmVmVydEVkZ2VPZmY6az5kLzImJihmLT10aGlzLnByZWZWZXJ0RWRnZU9mZik7Yis9YX19OwpmdW5jdGlvbiBteFJhZGlhbFRyZWVMYXlvdXQoYSl7bXhDb21wYWN0VHJlZUxheW91dC5jYWxsKHRoaXMsYSwhMSl9bXhVdGlscy5leHRlbmQobXhSYWRpYWxUcmVlTGF5b3V0LG14Q29tcGFjdFRyZWVMYXlvdXQpO214UmFkaWFsVHJlZUxheW91dC5wcm90b3R5cGUuYW5nbGVPZmZzZXQ9LjU7bXhSYWRpYWxUcmVlTGF5b3V0LnByb3RvdHlwZS5yb290eD0wO214UmFkaWFsVHJlZUxheW91dC5wcm90b3R5cGUucm9vdHk9MDtteFJhZGlhbFRyZWVMYXlvdXQucHJvdG90eXBlLmxldmVsRGlzdGFuY2U9MTIwO214UmFkaWFsVHJlZUxheW91dC5wcm90b3R5cGUubm9kZURpc3RhbmNlPTEwO214UmFkaWFsVHJlZUxheW91dC5wcm90b3R5cGUuYXV0b1JhZGl1cz0hMTtteFJhZGlhbFRyZWVMYXlvdXQucHJvdG90eXBlLnNvcnRFZGdlcz0hMTtteFJhZGlhbFRyZWVMYXlvdXQucHJvdG90eXBlLnJvd01pblg9W107bXhSYWRpYWxUcmVlTGF5b3V0LnByb3RvdHlwZS5yb3dNYXhYPVtdOwpteFJhZGlhbFRyZWVMYXlvdXQucHJvdG90eXBlLnJvd01pbkNlblg9W107bXhSYWRpYWxUcmVlTGF5b3V0LnByb3RvdHlwZS5yb3dNYXhDZW5YPVtdO214UmFkaWFsVHJlZUxheW91dC5wcm90b3R5cGUucm93UmFkaT1bXTtteFJhZGlhbFRyZWVMYXlvdXQucHJvdG90eXBlLnJvdz1bXTtteFJhZGlhbFRyZWVMYXlvdXQucHJvdG90eXBlLmlzVmVydGV4SWdub3JlZD1mdW5jdGlvbihhKXtyZXR1cm4gbXhHcmFwaExheW91dC5wcm90b3R5cGUuaXNWZXJ0ZXhJZ25vcmVkLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8MD09dGhpcy5ncmFwaC5nZXRDb25uZWN0aW9ucyhhKS5sZW5ndGh9OwpteFJhZGlhbFRyZWVMYXlvdXQucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oYSxiKXt0aGlzLnBhcmVudD1hO3RoaXMuZWRnZVJvdXRpbmc9dGhpcy51c2VCb3VuZGluZ0JveD0hMTtteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5leGVjdXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgYz1udWxsLGQ9dGhpcy5nZXRWZXJ0ZXhCb3VuZHModGhpcy5yb290KTt0aGlzLmNlbnRlclg9ZC54K2Qud2lkdGgvMjt0aGlzLmNlbnRlclk9ZC55K2QuaGVpZ2h0LzI7Zm9yKHZhciBlIGluIHRoaXMudmlzaXRlZCl7dmFyIGY9dGhpcy5nZXRWZXJ0ZXhCb3VuZHModGhpcy52aXNpdGVkW2VdKSxjPW51bGwhPWM/YzpmLmNsb25lKCk7Yy5hZGQoZil9dGhpcy5jYWxjUm93RGltcyhbdGhpcy5ub2RlXSwwKTtmb3IodmFyIGc9MCxrPTAsYz0wO2M8dGhpcy5yb3cubGVuZ3RoO2MrKyllPSh0aGlzLnJvd01heFhbY10tdGhpcy5jZW50ZXJYLXRoaXMubm9kZURpc3RhbmNlKS90aGlzLnJvd1JhZGlbY10sCmc9TWF0aC5tYXgoZywodGhpcy5jZW50ZXJYLXRoaXMucm93TWluWFtjXS10aGlzLm5vZGVEaXN0YW5jZSkvdGhpcy5yb3dSYWRpW2NdKSxrPU1hdGgubWF4KGssZSk7Zm9yKGM9MDtjPHRoaXMucm93Lmxlbmd0aDtjKyspe3ZhciBsPXRoaXMuY2VudGVyWC10aGlzLm5vZGVEaXN0YW5jZS1nKnRoaXMucm93UmFkaVtjXSxtPXRoaXMuY2VudGVyWCt0aGlzLm5vZGVEaXN0YW5jZStrKnRoaXMucm93UmFkaVtjXS1sO2ZvcihlPTA7ZTx0aGlzLnJvd1tjXS5sZW5ndGg7ZSsrKWY9dGhpcy5yb3dbY10sZD1mW2VdLGY9dGhpcy5nZXRWZXJ0ZXhCb3VuZHMoZC5jZWxsKSxkLnRoZXRhPShmLngrZi53aWR0aC8yLWwpL20qTWF0aC5QSSoyfWZvcihjPXRoaXMucm93Lmxlbmd0aC0yOzA8PWM7Yy0tKWZvcihmPXRoaXMucm93W2NdLGU9MDtlPGYubGVuZ3RoO2UrKyl7ZD1mW2VdO2c9ZC5jaGlsZDtmb3IobD1rPTA7bnVsbCE9ZzspbCs9Zy50aGV0YSxrKyssZz1nLm5leHQ7MDxrJiYoZz1sL2ssZz4KZC50aGV0YSYmZTxmLmxlbmd0aC0xP2QudGhldGE9TWF0aC5taW4oZyxmW2UrMV0udGhldGEtTWF0aC5QSS8xMCk6ZzxkLnRoZXRhJiYwPGUmJihkLnRoZXRhPU1hdGgubWF4KGcsZltlLTFdLnRoZXRhK01hdGguUEkvMTApKSl9Zm9yKGM9MDtjPHRoaXMucm93Lmxlbmd0aDtjKyspZm9yKGU9MDtlPHRoaXMucm93W2NdLmxlbmd0aDtlKyspZj10aGlzLnJvd1tjXSxkPWZbZV0sZj10aGlzLmdldFZlcnRleEJvdW5kcyhkLmNlbGwpLHRoaXMuc2V0VmVydGV4TG9jYXRpb24oZC5jZWxsLHRoaXMuY2VudGVyWC1mLndpZHRoLzIrdGhpcy5yb3dSYWRpW2NdKk1hdGguY29zKGQudGhldGEpLHRoaXMuY2VudGVyWS1mLmhlaWdodC8yK3RoaXMucm93UmFkaVtjXSpNYXRoLnNpbihkLnRoZXRhKSl9OwpteFJhZGlhbFRyZWVMYXlvdXQucHJvdG90eXBlLmNhbGNSb3dEaW1zPWZ1bmN0aW9uKGEsYil7aWYobnVsbCE9YSYmMCE9YS5sZW5ndGgpe3RoaXMucm93TWluWFtiXT10aGlzLmNlbnRlclg7dGhpcy5yb3dNYXhYW2JdPXRoaXMuY2VudGVyWDt0aGlzLnJvd01pbkNlblhbYl09dGhpcy5jZW50ZXJYO3RoaXMucm93TWF4Q2VuWFtiXT10aGlzLmNlbnRlclg7dGhpcy5yb3dbYl09W107Zm9yKHZhciBjPSExLGQ9MDtkPGEubGVuZ3RoO2QrKylmb3IodmFyIGU9bnVsbCE9YVtkXT9hW2RdLmNoaWxkOm51bGw7bnVsbCE9ZTspe3ZhciBmPXRoaXMuZ2V0VmVydGV4Qm91bmRzKGUuY2VsbCk7dGhpcy5yb3dNaW5YW2JdPU1hdGgubWluKGYueCx0aGlzLnJvd01pblhbYl0pO3RoaXMucm93TWF4WFtiXT1NYXRoLm1heChmLngrZi53aWR0aCx0aGlzLnJvd01heFhbYl0pO3RoaXMucm93TWluQ2VuWFtiXT1NYXRoLm1pbihmLngrZi53aWR0aC8yLHRoaXMucm93TWluQ2VuWFtiXSk7dGhpcy5yb3dNYXhDZW5YW2JdPQpNYXRoLm1heChmLngrZi53aWR0aC8yLHRoaXMucm93TWF4Q2VuWFtiXSk7dGhpcy5yb3dSYWRpW2JdPWYueS10aGlzLmdldFZlcnRleEJvdW5kcyh0aGlzLnJvb3QpLnk7bnVsbCE9ZS5jaGlsZCYmKGM9ITApO3RoaXMucm93W2JdLnB1c2goZSk7ZT1lLm5leHR9YyYmdGhpcy5jYWxjUm93RGltcyh0aGlzLnJvd1tiXSxiKzEpfX07ZnVuY3Rpb24gbXhGYXN0T3JnYW5pY0xheW91dChhKXtteEdyYXBoTGF5b3V0LmNhbGwodGhpcyxhKX1teEZhc3RPcmdhbmljTGF5b3V0LnByb3RvdHlwZT1uZXcgbXhHcmFwaExheW91dDtteEZhc3RPcmdhbmljTGF5b3V0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1teEZhc3RPcmdhbmljTGF5b3V0O214RmFzdE9yZ2FuaWNMYXlvdXQucHJvdG90eXBlLnVzZUlucHV0T3JpZ2luPSEwO214RmFzdE9yZ2FuaWNMYXlvdXQucHJvdG90eXBlLnJlc2V0RWRnZXM9ITA7bXhGYXN0T3JnYW5pY0xheW91dC5wcm90b3R5cGUuZGlzYWJsZUVkZ2VTdHlsZT0hMDsKbXhGYXN0T3JnYW5pY0xheW91dC5wcm90b3R5cGUuZm9yY2VDb25zdGFudD01MDtteEZhc3RPcmdhbmljTGF5b3V0LnByb3RvdHlwZS5mb3JjZUNvbnN0YW50U3F1YXJlZD0wO214RmFzdE9yZ2FuaWNMYXlvdXQucHJvdG90eXBlLm1pbkRpc3RhbmNlTGltaXQ9MjtteEZhc3RPcmdhbmljTGF5b3V0LnByb3RvdHlwZS5tYXhEaXN0YW5jZUxpbWl0PTUwMDtteEZhc3RPcmdhbmljTGF5b3V0LnByb3RvdHlwZS5taW5EaXN0YW5jZUxpbWl0U3F1YXJlZD00O214RmFzdE9yZ2FuaWNMYXlvdXQucHJvdG90eXBlLmluaXRpYWxUZW1wPTIwMDtteEZhc3RPcmdhbmljTGF5b3V0LnByb3RvdHlwZS50ZW1wZXJhdHVyZT0wO214RmFzdE9yZ2FuaWNMYXlvdXQucHJvdG90eXBlLm1heEl0ZXJhdGlvbnM9MDtteEZhc3RPcmdhbmljTGF5b3V0LnByb3RvdHlwZS5pdGVyYXRpb249MDtteEZhc3RPcmdhbmljTGF5b3V0LnByb3RvdHlwZS5hbGxvd2VkVG9SdW49ITA7Cm14RmFzdE9yZ2FuaWNMYXlvdXQucHJvdG90eXBlLmlzVmVydGV4SWdub3JlZD1mdW5jdGlvbihhKXtyZXR1cm4gbXhHcmFwaExheW91dC5wcm90b3R5cGUuaXNWZXJ0ZXhJZ25vcmVkLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8MD09dGhpcy5ncmFwaC5nZXRDb25uZWN0aW9ucyhhKS5sZW5ndGh9OwpteEZhc3RPcmdhbmljTGF5b3V0LnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKTt0aGlzLnZlcnRleEFycmF5PVtdO2Zvcih2YXIgYz10aGlzLmdyYXBoLmdldENoaWxkVmVydGljZXMoYSksZD0wO2Q8Yy5sZW5ndGg7ZCsrKXRoaXMuaXNWZXJ0ZXhJZ25vcmVkKGNbZF0pfHx0aGlzLnZlcnRleEFycmF5LnB1c2goY1tkXSk7dmFyIGU9dGhpcy51c2VJbnB1dE9yaWdpbj90aGlzLmdyYXBoLmdldEJvdW5kaW5nQm94RnJvbUdlb21ldHJ5KHRoaXMudmVydGV4QXJyYXkpOm51bGwsZj10aGlzLnZlcnRleEFycmF5Lmxlbmd0aDt0aGlzLmluZGljZXM9W107dGhpcy5kaXNwWD1bXTt0aGlzLmRpc3BZPVtdO3RoaXMuY2VsbExvY2F0aW9uPVtdO3RoaXMuaXNNb3ZlYWJsZT1bXTt0aGlzLm5laWdoYm91cnM9W107dGhpcy5yYWRpdXM9W107dGhpcy5yYWRpdXNTcXVhcmVkPVtdOy4wMDE+dGhpcy5mb3JjZUNvbnN0YW50JiYodGhpcy5mb3JjZUNvbnN0YW50PQouMDAxKTt0aGlzLmZvcmNlQ29uc3RhbnRTcXVhcmVkPXRoaXMuZm9yY2VDb25zdGFudCp0aGlzLmZvcmNlQ29uc3RhbnQ7Zm9yKGQ9MDtkPHRoaXMudmVydGV4QXJyYXkubGVuZ3RoO2QrKyl7dmFyIGc9dGhpcy52ZXJ0ZXhBcnJheVtkXTt0aGlzLmNlbGxMb2NhdGlvbltkXT1bXTt2YXIgaz1teE9iamVjdElkZW50aXR5LmdldChnKTt0aGlzLmluZGljZXNba109ZDt2YXIgbD10aGlzLmdldFZlcnRleEJvdW5kcyhnKSxtPWwud2lkdGgsbj1sLmhlaWdodCxwPWwueCxxPWwueTt0aGlzLmNlbGxMb2NhdGlvbltkXVswXT1wK20vMjt0aGlzLmNlbGxMb2NhdGlvbltkXVsxXT1xK24vMjt0aGlzLnJhZGl1c1tkXT1NYXRoLm1pbihtLG4pO3RoaXMucmFkaXVzU3F1YXJlZFtkXT10aGlzLnJhZGl1c1tkXSp0aGlzLnJhZGl1c1tkXX1iLmJlZ2luVXBkYXRlKCk7dHJ5e2ZvcihkPTA7ZDxmO2QrKyl7dGhpcy5kaXNwWFtkXT0wO3RoaXMuZGlzcFlbZF09MDt0aGlzLmlzTW92ZWFibGVbZF09dGhpcy5pc1ZlcnRleE1vdmFibGUodGhpcy52ZXJ0ZXhBcnJheVtkXSk7CnZhciByPXRoaXMuZ3JhcGguZ2V0Q29ubmVjdGlvbnModGhpcy52ZXJ0ZXhBcnJheVtkXSxhKSxjPXRoaXMuZ3JhcGguZ2V0T3Bwb3NpdGVzKHIsdGhpcy52ZXJ0ZXhBcnJheVtkXSk7dGhpcy5uZWlnaGJvdXJzW2RdPVtdO2ZvcihtPTA7bTxjLmxlbmd0aDttKyspe3RoaXMucmVzZXRFZGdlcyYmdGhpcy5ncmFwaC5yZXNldEVkZ2UoclttXSk7dGhpcy5kaXNhYmxlRWRnZVN0eWxlJiZ0aGlzLnNldEVkZ2VTdHlsZUVuYWJsZWQoclttXSwhMSk7dmFyIGs9bXhPYmplY3RJZGVudGl0eS5nZXQoY1ttXSksdD10aGlzLmluZGljZXNba107dGhpcy5uZWlnaGJvdXJzW2RdW21dPW51bGwhPXQ/dDpkfX10aGlzLnRlbXBlcmF0dXJlPXRoaXMuaW5pdGlhbFRlbXA7MD09dGhpcy5tYXhJdGVyYXRpb25zJiYodGhpcy5tYXhJdGVyYXRpb25zPTIwKk1hdGguc3FydChmKSk7Zm9yKHRoaXMuaXRlcmF0aW9uPTA7dGhpcy5pdGVyYXRpb248dGhpcy5tYXhJdGVyYXRpb25zO3RoaXMuaXRlcmF0aW9uKyspe2lmKCF0aGlzLmFsbG93ZWRUb1J1bilyZXR1cm47CnRoaXMuY2FsY1JlcHVsc2lvbigpO3RoaXMuY2FsY0F0dHJhY3Rpb24oKTt0aGlzLmNhbGNQb3NpdGlvbnMoKTt0aGlzLnJlZHVjZVRlbXBlcmF0dXJlKCl9YT1jPW51bGw7Zm9yKGQ9MDtkPHRoaXMudmVydGV4QXJyYXkubGVuZ3RoO2QrKylnPXRoaXMudmVydGV4QXJyYXlbZF0sdGhpcy5pc1ZlcnRleE1vdmFibGUoZykmJihsPXRoaXMuZ2V0VmVydGV4Qm91bmRzKGcpLG51bGwhPWwmJih0aGlzLmNlbGxMb2NhdGlvbltkXVswXS09bC53aWR0aC8yLHRoaXMuY2VsbExvY2F0aW9uW2RdWzFdLT1sLmhlaWdodC8yLHA9dGhpcy5ncmFwaC5zbmFwKE1hdGgucm91bmQodGhpcy5jZWxsTG9jYXRpb25bZF1bMF0pKSxxPXRoaXMuZ3JhcGguc25hcChNYXRoLnJvdW5kKHRoaXMuY2VsbExvY2F0aW9uW2RdWzFdKSksdGhpcy5zZXRWZXJ0ZXhMb2NhdGlvbihnLHAscSksYz1udWxsPT1jP3A6TWF0aC5taW4oYyxwKSxhPW51bGw9PWE/cTpNYXRoLm1pbihhLHEpKSk7ZD0tKGN8fDApKzE7Zz0tKGF8fAowKSsxO251bGwhPWUmJihkKz1lLngsZys9ZS55KTt0aGlzLmdyYXBoLm1vdmVDZWxscyh0aGlzLnZlcnRleEFycmF5LGQsZyl9ZmluYWxseXtiLmVuZFVwZGF0ZSgpfX07bXhGYXN0T3JnYW5pY0xheW91dC5wcm90b3R5cGUuY2FsY1Bvc2l0aW9ucz1mdW5jdGlvbigpe2Zvcih2YXIgYT0wO2E8dGhpcy52ZXJ0ZXhBcnJheS5sZW5ndGg7YSsrKWlmKHRoaXMuaXNNb3ZlYWJsZVthXSl7dmFyIGI9TWF0aC5zcXJ0KHRoaXMuZGlzcFhbYV0qdGhpcy5kaXNwWFthXSt0aGlzLmRpc3BZW2FdKnRoaXMuZGlzcFlbYV0pOy4wMDE+YiYmKGI9LjAwMSk7dmFyIGM9dGhpcy5kaXNwWFthXS9iKk1hdGgubWluKGIsdGhpcy50ZW1wZXJhdHVyZSksYj10aGlzLmRpc3BZW2FdL2IqTWF0aC5taW4oYix0aGlzLnRlbXBlcmF0dXJlKTt0aGlzLmRpc3BYW2FdPTA7dGhpcy5kaXNwWVthXT0wO3RoaXMuY2VsbExvY2F0aW9uW2FdWzBdKz1jO3RoaXMuY2VsbExvY2F0aW9uW2FdWzFdKz1ifX07Cm14RmFzdE9yZ2FuaWNMYXlvdXQucHJvdG90eXBlLmNhbGNBdHRyYWN0aW9uPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTx0aGlzLnZlcnRleEFycmF5Lmxlbmd0aDthKyspZm9yKHZhciBiPTA7Yjx0aGlzLm5laWdoYm91cnNbYV0ubGVuZ3RoO2IrKyl7dmFyIGM9dGhpcy5uZWlnaGJvdXJzW2FdW2JdO2lmKGEhPWMmJnRoaXMuaXNNb3ZlYWJsZVthXSYmdGhpcy5pc01vdmVhYmxlW2NdKXt2YXIgZD10aGlzLmNlbGxMb2NhdGlvblthXVswXS10aGlzLmNlbGxMb2NhdGlvbltjXVswXSxlPXRoaXMuY2VsbExvY2F0aW9uW2FdWzFdLXRoaXMuY2VsbExvY2F0aW9uW2NdWzFdLGY9ZCpkK2UqZS10aGlzLnJhZGl1c1NxdWFyZWRbYV0tdGhpcy5yYWRpdXNTcXVhcmVkW2NdO2Y8dGhpcy5taW5EaXN0YW5jZUxpbWl0U3F1YXJlZCYmKGY9dGhpcy5taW5EaXN0YW5jZUxpbWl0U3F1YXJlZCk7dmFyIGc9TWF0aC5zcXJ0KGYpLGY9Zi90aGlzLmZvcmNlQ29uc3RhbnQsZD1kL2cqZixlPWUvZypmOwp0aGlzLmRpc3BYW2FdLT1kO3RoaXMuZGlzcFlbYV0tPWU7dGhpcy5kaXNwWFtjXSs9ZDt0aGlzLmRpc3BZW2NdKz1lfX19OwpteEZhc3RPcmdhbmljTGF5b3V0LnByb3RvdHlwZS5jYWxjUmVwdWxzaW9uPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMudmVydGV4QXJyYXkubGVuZ3RoLGI9MDtiPGE7YisrKWZvcih2YXIgYz1iO2M8YTtjKyspe2lmKCF0aGlzLmFsbG93ZWRUb1J1bilyZXR1cm47aWYoYyE9YiYmdGhpcy5pc01vdmVhYmxlW2JdJiZ0aGlzLmlzTW92ZWFibGVbY10pe3ZhciBkPXRoaXMuY2VsbExvY2F0aW9uW2JdWzBdLXRoaXMuY2VsbExvY2F0aW9uW2NdWzBdLGU9dGhpcy5jZWxsTG9jYXRpb25bYl1bMV0tdGhpcy5jZWxsTG9jYXRpb25bY11bMV07MD09ZCYmKGQ9LjAxK01hdGgucmFuZG9tKCkpOzA9PWUmJihlPS4wMStNYXRoLnJhbmRvbSgpKTt2YXIgZj1NYXRoLnNxcnQoZCpkK2UqZSksZz1mLXRoaXMucmFkaXVzW2JdLXRoaXMucmFkaXVzW2NdO2c+dGhpcy5tYXhEaXN0YW5jZUxpbWl0fHwoZzx0aGlzLm1pbkRpc3RhbmNlTGltaXQmJihnPXRoaXMubWluRGlzdGFuY2VMaW1pdCksZz10aGlzLmZvcmNlQ29uc3RhbnRTcXVhcmVkLwpnLGQ9ZC9mKmcsZT1lL2YqZyx0aGlzLmRpc3BYW2JdKz1kLHRoaXMuZGlzcFlbYl0rPWUsdGhpcy5kaXNwWFtjXS09ZCx0aGlzLmRpc3BZW2NdLT1lKX19fTtteEZhc3RPcmdhbmljTGF5b3V0LnByb3RvdHlwZS5yZWR1Y2VUZW1wZXJhdHVyZT1mdW5jdGlvbigpe3RoaXMudGVtcGVyYXR1cmU9dGhpcy5pbml0aWFsVGVtcCooMS10aGlzLml0ZXJhdGlvbi90aGlzLm1heEl0ZXJhdGlvbnMpfTtmdW5jdGlvbiBteENpcmNsZUxheW91dChhLGIpe214R3JhcGhMYXlvdXQuY2FsbCh0aGlzLGEpO3RoaXMucmFkaXVzPW51bGwhPWI/YjoxMDB9bXhDaXJjbGVMYXlvdXQucHJvdG90eXBlPW5ldyBteEdyYXBoTGF5b3V0O214Q2lyY2xlTGF5b3V0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1teENpcmNsZUxheW91dDtteENpcmNsZUxheW91dC5wcm90b3R5cGUucmFkaXVzPW51bGw7bXhDaXJjbGVMYXlvdXQucHJvdG90eXBlLm1vdmVDaXJjbGU9ITE7Cm14Q2lyY2xlTGF5b3V0LnByb3RvdHlwZS54MD0wO214Q2lyY2xlTGF5b3V0LnByb3RvdHlwZS55MD0wO214Q2lyY2xlTGF5b3V0LnByb3RvdHlwZS5yZXNldEVkZ2VzPSEwO214Q2lyY2xlTGF5b3V0LnByb3RvdHlwZS5kaXNhYmxlRWRnZVN0eWxlPSEwOwpteENpcmNsZUxheW91dC5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdyYXBoLmdldE1vZGVsKCk7Yi5iZWdpblVwZGF0ZSgpO3RyeXtmb3IodmFyIGM9MCxkPW51bGwsZT1udWxsLGY9W10sZz1iLmdldENoaWxkQ291bnQoYSksaz0wO2s8ZztrKyspe3ZhciBsPWIuZ2V0Q2hpbGRBdChhLGspO2lmKHRoaXMuaXNWZXJ0ZXhJZ25vcmVkKGwpKXRoaXMuaXNFZGdlSWdub3JlZChsKXx8KHRoaXMucmVzZXRFZGdlcyYmdGhpcy5ncmFwaC5yZXNldEVkZ2UobCksdGhpcy5kaXNhYmxlRWRnZVN0eWxlJiZ0aGlzLnNldEVkZ2VTdHlsZUVuYWJsZWQobCwhMSkpO2Vsc2V7Zi5wdXNoKGwpO3ZhciBtPXRoaXMuZ2V0VmVydGV4Qm91bmRzKGwpLGQ9bnVsbD09ZD9tLnk6TWF0aC5taW4oZCxtLnkpLGU9bnVsbD09ZT9tLng6TWF0aC5taW4oZSxtLngpLGM9TWF0aC5tYXgoYyxNYXRoLm1heChtLndpZHRoLG0uaGVpZ2h0KSl9fXZhciBuPXRoaXMuZ2V0UmFkaXVzKGYubGVuZ3RoLApjKTt0aGlzLm1vdmVDaXJjbGUmJihlPXRoaXMueDAsZD10aGlzLnkwKTt0aGlzLmNpcmNsZShmLG4sZSxkKX1maW5hbGx5e2IuZW5kVXBkYXRlKCl9fTtteENpcmNsZUxheW91dC5wcm90b3R5cGUuZ2V0UmFkaXVzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIE1hdGgubWF4KGEqYi9NYXRoLlBJLHRoaXMucmFkaXVzKX07bXhDaXJjbGVMYXlvdXQucHJvdG90eXBlLmNpcmNsZT1mdW5jdGlvbihhLGIsYyxkKXtmb3IodmFyIGU9YS5sZW5ndGgsZj0yKk1hdGguUEkvZSxnPTA7ZzxlO2crKyl0aGlzLmlzVmVydGV4TW92YWJsZShhW2ddKSYmdGhpcy5zZXRWZXJ0ZXhMb2NhdGlvbihhW2ddLE1hdGgucm91bmQoYytiK2IqTWF0aC5zaW4oZypmKSksTWF0aC5yb3VuZChkK2IrYipNYXRoLmNvcyhnKmYpKSl9O2Z1bmN0aW9uIG14UGFyYWxsZWxFZGdlTGF5b3V0KGEpe214R3JhcGhMYXlvdXQuY2FsbCh0aGlzLGEpfW14UGFyYWxsZWxFZGdlTGF5b3V0LnByb3RvdHlwZT1uZXcgbXhHcmFwaExheW91dDsKbXhQYXJhbGxlbEVkZ2VMYXlvdXQucHJvdG90eXBlLmNvbnN0cnVjdG9yPW14UGFyYWxsZWxFZGdlTGF5b3V0O214UGFyYWxsZWxFZGdlTGF5b3V0LnByb3RvdHlwZS5zcGFjaW5nPTIwO214UGFyYWxsZWxFZGdlTGF5b3V0LnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKGEpe2E9dGhpcy5maW5kUGFyYWxsZWxzKGEpO3RoaXMuZ3JhcGgubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKHZhciBiIGluIGEpe3ZhciBjPWFbYl07MTxjLmxlbmd0aCYmdGhpcy5sYXlvdXQoYyl9fWZpbmFsbHl7dGhpcy5ncmFwaC5tb2RlbC5lbmRVcGRhdGUoKX19OwpteFBhcmFsbGVsRWRnZUxheW91dC5wcm90b3R5cGUuZmluZFBhcmFsbGVscz1mdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLGM9W10sZD1iLmdldENoaWxkQ291bnQoYSksZT0wO2U8ZDtlKyspe3ZhciBmPWIuZ2V0Q2hpbGRBdChhLGUpO2lmKCF0aGlzLmlzRWRnZUlnbm9yZWQoZikpe3ZhciBnPXRoaXMuZ2V0RWRnZUlkKGYpO251bGwhPWcmJihudWxsPT1jW2ddJiYoY1tnXT1bXSksY1tnXS5wdXNoKGYpKX19cmV0dXJuIGN9O214UGFyYWxsZWxFZGdlTGF5b3V0LnByb3RvdHlwZS5nZXRFZGdlSWQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5ncmFwaC5nZXRWaWV3KCksYz1iLmdldFZpc2libGVUZXJtaW5hbChhLCEwKTthPWIuZ2V0VmlzaWJsZVRlcm1pbmFsKGEsITEpO3JldHVybiBudWxsIT1jJiZudWxsIT1hPyhjPW14T2JqZWN0SWRlbnRpdHkuZ2V0KGMpLGE9bXhPYmplY3RJZGVudGl0eS5nZXQoYSksYz5hP2ErIi0iK2M6YysiLSIrYSk6bnVsbH07Cm14UGFyYWxsZWxFZGdlTGF5b3V0LnByb3RvdHlwZS5sYXlvdXQ9ZnVuY3Rpb24oYSl7dmFyIGI9YVswXSxjPXRoaXMuZ3JhcGguZ2V0VmlldygpLGQ9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLGU9ZC5nZXRHZW9tZXRyeShjLmdldFZpc2libGVUZXJtaW5hbChiLCEwKSksZD1kLmdldEdlb21ldHJ5KGMuZ2V0VmlzaWJsZVRlcm1pbmFsKGIsITEpKTtpZihlPT1kKWZvcih2YXIgYj1lLngrZS53aWR0aCt0aGlzLnNwYWNpbmcsYz1lLnkrZS5oZWlnaHQvMixmPTA7ZjxhLmxlbmd0aDtmKyspdGhpcy5yb3V0ZShhW2ZdLGIsYyksYis9dGhpcy5zcGFjaW5nO2Vsc2UgaWYobnVsbCE9ZSYmbnVsbCE9ZCl7dmFyIGI9ZS54K2Uud2lkdGgvMixjPWUueStlLmhlaWdodC8yLGY9ZC54K2Qud2lkdGgvMi1iLGc9ZC55K2QuaGVpZ2h0LzItYyxkPU1hdGguc3FydChmKmYrZypnKTtpZigwPGQpZm9yKGU9Zyp0aGlzLnNwYWNpbmcvZCxkPWYqdGhpcy5zcGFjaW5nL2QsYj1iK2YvMitlKihhLmxlbmd0aC0KMSkvMixjPWMrZy8yLWQqKGEubGVuZ3RoLTEpLzIsZj0wO2Y8YS5sZW5ndGg7ZisrKXRoaXMucm91dGUoYVtmXSxiLGMpLGItPWUsYys9ZH19O214UGFyYWxsZWxFZGdlTGF5b3V0LnByb3RvdHlwZS5yb3V0ZT1mdW5jdGlvbihhLGIsYyl7dGhpcy5ncmFwaC5pc0NlbGxNb3ZhYmxlKGEpJiZ0aGlzLnNldEVkZ2VQb2ludHMoYSxbbmV3IG14UG9pbnQoYixjKV0pfTtmdW5jdGlvbiBteENvbXBvc2l0ZUxheW91dChhLGIsYyl7bXhHcmFwaExheW91dC5jYWxsKHRoaXMsYSk7dGhpcy5sYXlvdXRzPWI7dGhpcy5tYXN0ZXI9Y31teENvbXBvc2l0ZUxheW91dC5wcm90b3R5cGU9bmV3IG14R3JhcGhMYXlvdXQ7bXhDb21wb3NpdGVMYXlvdXQucHJvdG90eXBlLmNvbnN0cnVjdG9yPW14Q29tcG9zaXRlTGF5b3V0O214Q29tcG9zaXRlTGF5b3V0LnByb3RvdHlwZS5sYXlvdXRzPW51bGw7bXhDb21wb3NpdGVMYXlvdXQucHJvdG90eXBlLm1hc3Rlcj1udWxsOwpteENvbXBvc2l0ZUxheW91dC5wcm90b3R5cGUubW92ZUNlbGw9ZnVuY3Rpb24oYSxiLGMpe251bGwhPXRoaXMubWFzdGVyP3RoaXMubWFzdGVyLm1vdmVDZWxsLmFwcGx5KHRoaXMubWFzdGVyLGFyZ3VtZW50cyk6dGhpcy5sYXlvdXRzWzBdLm1vdmVDZWxsLmFwcGx5KHRoaXMubGF5b3V0c1swXSxhcmd1bWVudHMpfTtteENvbXBvc2l0ZUxheW91dC5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdyYXBoLmdldE1vZGVsKCk7Yi5iZWdpblVwZGF0ZSgpO3RyeXtmb3IodmFyIGM9MDtjPHRoaXMubGF5b3V0cy5sZW5ndGg7YysrKXRoaXMubGF5b3V0c1tjXS5leGVjdXRlLmFwcGx5KHRoaXMubGF5b3V0c1tjXSxhcmd1bWVudHMpfWZpbmFsbHl7Yi5lbmRVcGRhdGUoKX19O2Z1bmN0aW9uIG14RWRnZUxhYmVsTGF5b3V0KGEsYil7bXhHcmFwaExheW91dC5jYWxsKHRoaXMsYSl9bXhFZGdlTGFiZWxMYXlvdXQucHJvdG90eXBlPW5ldyBteEdyYXBoTGF5b3V0OwpteEVkZ2VMYWJlbExheW91dC5wcm90b3R5cGUuY29uc3RydWN0b3I9bXhFZGdlTGFiZWxMYXlvdXQ7bXhFZGdlTGFiZWxMYXlvdXQucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuZ3JhcGgudmlldyxjPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKSxkPVtdLGU9W10sZj1jLmdldENoaWxkQ291bnQoYSksZz0wO2c8ZjtnKyspe3ZhciBrPWMuZ2V0Q2hpbGRBdChhLGcpLGw9Yi5nZXRTdGF0ZShrKTtudWxsIT1sJiYodGhpcy5pc1ZlcnRleElnbm9yZWQoayk/dGhpcy5pc0VkZ2VJZ25vcmVkKGspfHxkLnB1c2gobCk6ZS5wdXNoKGwpKX10aGlzLnBsYWNlTGFiZWxzKGUsZCl9OwpteEVkZ2VMYWJlbExheW91dC5wcm90b3R5cGUucGxhY2VMYWJlbHM9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdyYXBoLmdldE1vZGVsKCk7Yy5iZWdpblVwZGF0ZSgpO3RyeXtmb3IodmFyIGQ9MDtkPGIubGVuZ3RoO2QrKyl7dmFyIGU9YltkXTtpZihudWxsIT1lJiZudWxsIT1lLnRleHQmJm51bGwhPWUudGV4dC5ib3VuZGluZ0JveClmb3IodmFyIGY9MDtmPGEubGVuZ3RoO2YrKyl7dmFyIGc9YVtmXTtudWxsIT1nJiZ0aGlzLmF2b2lkKGUsZyl9fX1maW5hbGx5e2MuZW5kVXBkYXRlKCl9fTsKbXhFZGdlTGFiZWxMYXlvdXQucHJvdG90eXBlLmF2b2lkPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLGQ9YS50ZXh0LmJvdW5kaW5nQm94O2lmKG14VXRpbHMuaW50ZXJzZWN0cyhkLGIpKXt2YXIgZT0tZC55LWQuaGVpZ2h0K2IueSxmPS1kLnkrYi55K2IuaGVpZ2h0LGU9TWF0aC5hYnMoZSk8TWF0aC5hYnMoZik/ZTpmLGY9LWQueC1kLndpZHRoK2IueCxkPS1kLngrYi54K2Iud2lkdGgsZD1NYXRoLmFicyhmKTxNYXRoLmFicyhkKT9mOmQ7TWF0aC5hYnMoZCk8TWF0aC5hYnMoZSk/ZT0wOmQ9MDtmPWMuZ2V0R2VvbWV0cnkoYS5jZWxsKTtudWxsIT1mJiYoZj1mLmNsb25lKCksbnVsbCE9Zi5vZmZzZXQ/KGYub2Zmc2V0LngrPWQsZi5vZmZzZXQueSs9ZSk6Zi5vZmZzZXQ9bmV3IG14UG9pbnQoZCxlKSxjLnNldEdlb21ldHJ5KGEuY2VsbCxmKSl9fTsKZnVuY3Rpb24gbXhHcmFwaEFic3RyYWN0SGllcmFyY2h5Q2VsbCgpe3RoaXMueD1bXTt0aGlzLnk9W107dGhpcy50ZW1wPVtdfW14R3JhcGhBYnN0cmFjdEhpZXJhcmNoeUNlbGwucHJvdG90eXBlLm1heFJhbms9LTE7bXhHcmFwaEFic3RyYWN0SGllcmFyY2h5Q2VsbC5wcm90b3R5cGUubWluUmFuaz0tMTtteEdyYXBoQWJzdHJhY3RIaWVyYXJjaHlDZWxsLnByb3RvdHlwZS54PW51bGw7bXhHcmFwaEFic3RyYWN0SGllcmFyY2h5Q2VsbC5wcm90b3R5cGUueT1udWxsO214R3JhcGhBYnN0cmFjdEhpZXJhcmNoeUNlbGwucHJvdG90eXBlLndpZHRoPTA7bXhHcmFwaEFic3RyYWN0SGllcmFyY2h5Q2VsbC5wcm90b3R5cGUuaGVpZ2h0PTA7bXhHcmFwaEFic3RyYWN0SGllcmFyY2h5Q2VsbC5wcm90b3R5cGUubmV4dExheWVyQ29ubmVjdGVkQ2VsbHM9bnVsbDtteEdyYXBoQWJzdHJhY3RIaWVyYXJjaHlDZWxsLnByb3RvdHlwZS5wcmV2aW91c0xheWVyQ29ubmVjdGVkQ2VsbHM9bnVsbDsKbXhHcmFwaEFic3RyYWN0SGllcmFyY2h5Q2VsbC5wcm90b3R5cGUudGVtcD1udWxsO214R3JhcGhBYnN0cmFjdEhpZXJhcmNoeUNlbGwucHJvdG90eXBlLmdldE5leHRMYXllckNvbm5lY3RlZENlbGxzPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsfTtteEdyYXBoQWJzdHJhY3RIaWVyYXJjaHlDZWxsLnByb3RvdHlwZS5nZXRQcmV2aW91c0xheWVyQ29ubmVjdGVkQ2VsbHM9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGx9O214R3JhcGhBYnN0cmFjdEhpZXJhcmNoeUNlbGwucHJvdG90eXBlLmlzRWRnZT1mdW5jdGlvbigpe3JldHVybiExfTtteEdyYXBoQWJzdHJhY3RIaWVyYXJjaHlDZWxsLnByb3RvdHlwZS5pc1ZlcnRleD1mdW5jdGlvbigpe3JldHVybiExfTtteEdyYXBoQWJzdHJhY3RIaWVyYXJjaHlDZWxsLnByb3RvdHlwZS5nZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsfTsKbXhHcmFwaEFic3RyYWN0SGllcmFyY2h5Q2VsbC5wcm90b3R5cGUuc2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZT1mdW5jdGlvbihhLGIpe3JldHVybiBudWxsfTtteEdyYXBoQWJzdHJhY3RIaWVyYXJjaHlDZWxsLnByb3RvdHlwZS5zZXRYPWZ1bmN0aW9uKGEsYil7dGhpcy5pc1ZlcnRleCgpP3RoaXMueFswXT1iOnRoaXMuaXNFZGdlKCkmJih0aGlzLnhbYS10aGlzLm1pblJhbmstMV09Yil9O214R3JhcGhBYnN0cmFjdEhpZXJhcmNoeUNlbGwucHJvdG90eXBlLmdldFg9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXNWZXJ0ZXgoKT90aGlzLnhbMF06dGhpcy5pc0VkZ2UoKT90aGlzLnhbYS10aGlzLm1pblJhbmstMV06MH07bXhHcmFwaEFic3RyYWN0SGllcmFyY2h5Q2VsbC5wcm90b3R5cGUuc2V0WT1mdW5jdGlvbihhLGIpe3RoaXMuaXNWZXJ0ZXgoKT90aGlzLnlbMF09Yjp0aGlzLmlzRWRnZSgpJiYodGhpcy55W2EtdGhpcy5taW5SYW5rLTFdPWIpfTsKZnVuY3Rpb24gbXhHcmFwaEhpZXJhcmNoeU5vZGUoYSl7bXhHcmFwaEFic3RyYWN0SGllcmFyY2h5Q2VsbC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5jZWxsPWE7dGhpcy5pZD1teE9iamVjdElkZW50aXR5LmdldChhKTt0aGlzLmNvbm5lY3RzQXNUYXJnZXQ9W107dGhpcy5jb25uZWN0c0FzU291cmNlPVtdfW14R3JhcGhIaWVyYXJjaHlOb2RlLnByb3RvdHlwZT1uZXcgbXhHcmFwaEFic3RyYWN0SGllcmFyY2h5Q2VsbDtteEdyYXBoSGllcmFyY2h5Tm9kZS5wcm90b3R5cGUuY29uc3RydWN0b3I9bXhHcmFwaEhpZXJhcmNoeU5vZGU7bXhHcmFwaEhpZXJhcmNoeU5vZGUucHJvdG90eXBlLmNlbGw9bnVsbDtteEdyYXBoSGllcmFyY2h5Tm9kZS5wcm90b3R5cGUuaWQ9bnVsbDtteEdyYXBoSGllcmFyY2h5Tm9kZS5wcm90b3R5cGUuY29ubmVjdHNBc1RhcmdldD1udWxsO214R3JhcGhIaWVyYXJjaHlOb2RlLnByb3RvdHlwZS5jb25uZWN0c0FzU291cmNlPW51bGw7Cm14R3JhcGhIaWVyYXJjaHlOb2RlLnByb3RvdHlwZS5oYXNoQ29kZT0hMTtteEdyYXBoSGllcmFyY2h5Tm9kZS5wcm90b3R5cGUuZ2V0UmFua1ZhbHVlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1heFJhbmt9O214R3JhcGhIaWVyYXJjaHlOb2RlLnByb3RvdHlwZS5nZXROZXh0TGF5ZXJDb25uZWN0ZWRDZWxscz1mdW5jdGlvbihhKXtpZihudWxsPT10aGlzLm5leHRMYXllckNvbm5lY3RlZENlbGxzKXt0aGlzLm5leHRMYXllckNvbm5lY3RlZENlbGxzPVtdO3RoaXMubmV4dExheWVyQ29ubmVjdGVkQ2VsbHNbMF09W107Zm9yKHZhciBiPTA7Yjx0aGlzLmNvbm5lY3RzQXNUYXJnZXQubGVuZ3RoO2IrKyl7dmFyIGM9dGhpcy5jb25uZWN0c0FzVGFyZ2V0W2JdOy0xPT1jLm1heFJhbmt8fGMubWF4UmFuaz09YSsxP3RoaXMubmV4dExheWVyQ29ubmVjdGVkQ2VsbHNbMF0ucHVzaChjLnNvdXJjZSk6dGhpcy5uZXh0TGF5ZXJDb25uZWN0ZWRDZWxsc1swXS5wdXNoKGMpfX1yZXR1cm4gdGhpcy5uZXh0TGF5ZXJDb25uZWN0ZWRDZWxsc1swXX07Cm14R3JhcGhIaWVyYXJjaHlOb2RlLnByb3RvdHlwZS5nZXRQcmV2aW91c0xheWVyQ29ubmVjdGVkQ2VsbHM9ZnVuY3Rpb24oYSl7aWYobnVsbD09dGhpcy5wcmV2aW91c0xheWVyQ29ubmVjdGVkQ2VsbHMpe3RoaXMucHJldmlvdXNMYXllckNvbm5lY3RlZENlbGxzPVtdO3RoaXMucHJldmlvdXNMYXllckNvbm5lY3RlZENlbGxzWzBdPVtdO2Zvcih2YXIgYj0wO2I8dGhpcy5jb25uZWN0c0FzU291cmNlLmxlbmd0aDtiKyspe3ZhciBjPXRoaXMuY29ubmVjdHNBc1NvdXJjZVtiXTstMT09Yy5taW5SYW5rfHxjLm1pblJhbms9PWEtMT90aGlzLnByZXZpb3VzTGF5ZXJDb25uZWN0ZWRDZWxsc1swXS5wdXNoKGMudGFyZ2V0KTp0aGlzLnByZXZpb3VzTGF5ZXJDb25uZWN0ZWRDZWxsc1swXS5wdXNoKGMpfX1yZXR1cm4gdGhpcy5wcmV2aW91c0xheWVyQ29ubmVjdGVkQ2VsbHNbMF19O214R3JhcGhIaWVyYXJjaHlOb2RlLnByb3RvdHlwZS5pc1ZlcnRleD1mdW5jdGlvbigpe3JldHVybiEwfTsKbXhHcmFwaEhpZXJhcmNoeU5vZGUucHJvdG90eXBlLmdldEdlbmVyYWxQdXJwb3NlVmFyaWFibGU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMudGVtcFswXX07bXhHcmFwaEhpZXJhcmNoeU5vZGUucHJvdG90eXBlLnNldEdlbmVyYWxQdXJwb3NlVmFyaWFibGU9ZnVuY3Rpb24oYSxiKXt0aGlzLnRlbXBbMF09Yn07bXhHcmFwaEhpZXJhcmNoeU5vZGUucHJvdG90eXBlLmlzQW5jZXN0b3I9ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSYmbnVsbCE9dGhpcy5oYXNoQ29kZSYmbnVsbCE9YS5oYXNoQ29kZSYmdGhpcy5oYXNoQ29kZS5sZW5ndGg8YS5oYXNoQ29kZS5sZW5ndGgpe2lmKHRoaXMuaGFzaENvZGU9PWEuaGFzaENvZGUpcmV0dXJuITA7aWYobnVsbD09dGhpcy5oYXNoQ29kZXx8bnVsbD09dGhpcy5oYXNoQ29kZSlyZXR1cm4hMTtmb3IodmFyIGI9MDtiPHRoaXMuaGFzaENvZGUubGVuZ3RoO2IrKylpZih0aGlzLmhhc2hDb2RlW2JdIT1hLmhhc2hDb2RlW2JdKXJldHVybiExO3JldHVybiEwfXJldHVybiExfTsKbXhHcmFwaEhpZXJhcmNoeU5vZGUucHJvdG90eXBlLmdldENvcmVDZWxsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2VsbH07ZnVuY3Rpb24gbXhHcmFwaEhpZXJhcmNoeUVkZ2UoYSl7bXhHcmFwaEFic3RyYWN0SGllcmFyY2h5Q2VsbC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5lZGdlcz1hO3RoaXMuaWRzPVtdO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKXRoaXMuaWRzLnB1c2gobXhPYmplY3RJZGVudGl0eS5nZXQoYVtiXSkpfW14R3JhcGhIaWVyYXJjaHlFZGdlLnByb3RvdHlwZT1uZXcgbXhHcmFwaEFic3RyYWN0SGllcmFyY2h5Q2VsbDtteEdyYXBoSGllcmFyY2h5RWRnZS5wcm90b3R5cGUuY29uc3RydWN0b3I9bXhHcmFwaEhpZXJhcmNoeUVkZ2U7bXhHcmFwaEhpZXJhcmNoeUVkZ2UucHJvdG90eXBlLmVkZ2VzPW51bGw7bXhHcmFwaEhpZXJhcmNoeUVkZ2UucHJvdG90eXBlLmlkcz1udWxsO214R3JhcGhIaWVyYXJjaHlFZGdlLnByb3RvdHlwZS5zb3VyY2U9bnVsbDsKbXhHcmFwaEhpZXJhcmNoeUVkZ2UucHJvdG90eXBlLnRhcmdldD1udWxsO214R3JhcGhIaWVyYXJjaHlFZGdlLnByb3RvdHlwZS5pc1JldmVyc2VkPSExO214R3JhcGhIaWVyYXJjaHlFZGdlLnByb3RvdHlwZS5pbnZlcnQ9ZnVuY3Rpb24oYSl7YT10aGlzLnNvdXJjZTt0aGlzLnNvdXJjZT10aGlzLnRhcmdldDt0aGlzLnRhcmdldD1hO3RoaXMuaXNSZXZlcnNlZD0hdGhpcy5pc1JldmVyc2VkfTsKbXhHcmFwaEhpZXJhcmNoeUVkZ2UucHJvdG90eXBlLmdldE5leHRMYXllckNvbm5lY3RlZENlbGxzPWZ1bmN0aW9uKGEpe2lmKG51bGw9PXRoaXMubmV4dExheWVyQ29ubmVjdGVkQ2VsbHMpe3RoaXMubmV4dExheWVyQ29ubmVjdGVkQ2VsbHM9W107Zm9yKHZhciBiPTA7Yjx0aGlzLnRlbXAubGVuZ3RoO2IrKyl0aGlzLm5leHRMYXllckNvbm5lY3RlZENlbGxzW2JdPVtdLGI9PXRoaXMudGVtcC5sZW5ndGgtMT90aGlzLm5leHRMYXllckNvbm5lY3RlZENlbGxzW2JdLnB1c2godGhpcy5zb3VyY2UpOnRoaXMubmV4dExheWVyQ29ubmVjdGVkQ2VsbHNbYl0ucHVzaCh0aGlzKX1yZXR1cm4gdGhpcy5uZXh0TGF5ZXJDb25uZWN0ZWRDZWxsc1thLXRoaXMubWluUmFuay0xXX07Cm14R3JhcGhIaWVyYXJjaHlFZGdlLnByb3RvdHlwZS5nZXRQcmV2aW91c0xheWVyQ29ubmVjdGVkQ2VsbHM9ZnVuY3Rpb24oYSl7aWYobnVsbD09dGhpcy5wcmV2aW91c0xheWVyQ29ubmVjdGVkQ2VsbHMpe3RoaXMucHJldmlvdXNMYXllckNvbm5lY3RlZENlbGxzPVtdO2Zvcih2YXIgYj0wO2I8dGhpcy50ZW1wLmxlbmd0aDtiKyspdGhpcy5wcmV2aW91c0xheWVyQ29ubmVjdGVkQ2VsbHNbYl09W10sMD09Yj90aGlzLnByZXZpb3VzTGF5ZXJDb25uZWN0ZWRDZWxsc1tiXS5wdXNoKHRoaXMudGFyZ2V0KTp0aGlzLnByZXZpb3VzTGF5ZXJDb25uZWN0ZWRDZWxsc1tiXS5wdXNoKHRoaXMpfXJldHVybiB0aGlzLnByZXZpb3VzTGF5ZXJDb25uZWN0ZWRDZWxsc1thLXRoaXMubWluUmFuay0xXX07bXhHcmFwaEhpZXJhcmNoeUVkZ2UucHJvdG90eXBlLmlzRWRnZT1mdW5jdGlvbigpe3JldHVybiEwfTsKbXhHcmFwaEhpZXJhcmNoeUVkZ2UucHJvdG90eXBlLmdldEdlbmVyYWxQdXJwb3NlVmFyaWFibGU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMudGVtcFthLXRoaXMubWluUmFuay0xXX07bXhHcmFwaEhpZXJhcmNoeUVkZ2UucHJvdG90eXBlLnNldEdlbmVyYWxQdXJwb3NlVmFyaWFibGU9ZnVuY3Rpb24oYSxiKXt0aGlzLnRlbXBbYS10aGlzLm1pblJhbmstMV09Yn07bXhHcmFwaEhpZXJhcmNoeUVkZ2UucHJvdG90eXBlLmdldENvcmVDZWxsPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMuZWRnZXMmJjA8dGhpcy5lZGdlcy5sZW5ndGg/dGhpcy5lZGdlc1swXTpudWxsfTsKZnVuY3Rpb24gbXhHcmFwaEhpZXJhcmNoeU1vZGVsKGEsYixjLGQsZSl7YS5nZXRHcmFwaCgpO3RoaXMudGlnaHRlblRvU291cmNlPWU7dGhpcy5yb290cz1jO3RoaXMucGFyZW50PWQ7dGhpcy52ZXJ0ZXhNYXBwZXI9bmV3IG14RGljdGlvbmFyeTt0aGlzLmVkZ2VNYXBwZXI9bmV3IG14RGljdGlvbmFyeTt0aGlzLm1heFJhbms9MDtjPVtdO251bGw9PWImJihiPXRoaXMuZ3JhcGguZ2V0Q2hpbGRWZXJ0aWNlcyhkKSk7dGhpcy5tYXhSYW5rPXRoaXMuU09VUkNFU0NBTlNUQVJUUkFOSzt0aGlzLmNyZWF0ZUludGVybmFsQ2VsbHMoYSxiLGMpO2ZvcihkPTA7ZDxiLmxlbmd0aDtkKyspe2U9Y1tkXS5jb25uZWN0c0FzU291cmNlO2Zvcih2YXIgZj0wO2Y8ZS5sZW5ndGg7ZisrKXt2YXIgZz1lW2ZdLGs9Zy5lZGdlcztpZihudWxsIT1rJiYwPGsubGVuZ3RoKXt2YXIgaz1rWzBdLGw9YS5nZXRWaXNpYmxlVGVybWluYWwoaywhMSksbD10aGlzLnZlcnRleE1hcHBlci5nZXQobCk7Y1tkXT09CmwmJihsPWEuZ2V0VmlzaWJsZVRlcm1pbmFsKGssITApLGw9dGhpcy52ZXJ0ZXhNYXBwZXIuZ2V0KGwpKTtudWxsIT1sJiZjW2RdIT1sJiYoZy50YXJnZXQ9bCwwPT1sLmNvbm5lY3RzQXNUYXJnZXQubGVuZ3RoJiYobC5jb25uZWN0c0FzVGFyZ2V0PVtdKSwwPm14VXRpbHMuaW5kZXhPZihsLmNvbm5lY3RzQXNUYXJnZXQsZykmJmwuY29ubmVjdHNBc1RhcmdldC5wdXNoKGcpKX19Y1tkXS50ZW1wWzBdPTF9fW14R3JhcGhIaWVyYXJjaHlNb2RlbC5wcm90b3R5cGUubWF4UmFuaz1udWxsO214R3JhcGhIaWVyYXJjaHlNb2RlbC5wcm90b3R5cGUudmVydGV4TWFwcGVyPW51bGw7bXhHcmFwaEhpZXJhcmNoeU1vZGVsLnByb3RvdHlwZS5lZGdlTWFwcGVyPW51bGw7bXhHcmFwaEhpZXJhcmNoeU1vZGVsLnByb3RvdHlwZS5yYW5rcz1udWxsO214R3JhcGhIaWVyYXJjaHlNb2RlbC5wcm90b3R5cGUucm9vdHM9bnVsbDtteEdyYXBoSGllcmFyY2h5TW9kZWwucHJvdG90eXBlLnBhcmVudD1udWxsOwpteEdyYXBoSGllcmFyY2h5TW9kZWwucHJvdG90eXBlLmRmc0NvdW50PTA7bXhHcmFwaEhpZXJhcmNoeU1vZGVsLnByb3RvdHlwZS5TT1VSQ0VTQ0FOU1RBUlRSQU5LPTFFODtteEdyYXBoSGllcmFyY2h5TW9kZWwucHJvdG90eXBlLnRpZ2h0ZW5Ub1NvdXJjZT0hMTsKbXhHcmFwaEhpZXJhcmNoeU1vZGVsLnByb3RvdHlwZS5jcmVhdGVJbnRlcm5hbENlbGxzPWZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5nZXRHcmFwaCgpLGU9MDtlPGIubGVuZ3RoO2UrKyl7Y1tlXT1uZXcgbXhHcmFwaEhpZXJhcmNoeU5vZGUoYltlXSk7dGhpcy52ZXJ0ZXhNYXBwZXIucHV0KGJbZV0sY1tlXSk7dmFyIGY9YS5nZXRFZGdlcyhiW2VdKTtjW2VdLmNvbm5lY3RzQXNTb3VyY2U9W107Zm9yKHZhciBnPTA7ZzxmLmxlbmd0aDtnKyspe3ZhciBrPWEuZ2V0VmlzaWJsZVRlcm1pbmFsKGZbZ10sITEpO2lmKGshPWJbZV0mJmEuZ3JhcGgubW9kZWwuaXNWZXJ0ZXgoaykmJiFhLmlzVmVydGV4SWdub3JlZChrKSl7dmFyIGw9YS5nZXRFZGdlc0JldHdlZW4oYltlXSxrLCExKSxrPWEuZ2V0RWRnZXNCZXR3ZWVuKGJbZV0saywhMCk7aWYobnVsbCE9bCYmMDxsLmxlbmd0aCYmbnVsbD09dGhpcy5lZGdlTWFwcGVyLmdldChsWzBdKSYmMiprLmxlbmd0aD49bC5sZW5ndGgpe2Zvcih2YXIgaz0KbmV3IG14R3JhcGhIaWVyYXJjaHlFZGdlKGwpLG09MDttPGwubGVuZ3RoO20rKyl7dmFyIG49bFttXTt0aGlzLmVkZ2VNYXBwZXIucHV0KG4sayk7ZC5yZXNldEVkZ2Uobik7YS5kaXNhYmxlRWRnZVN0eWxlJiYoYS5zZXRFZGdlU3R5bGVFbmFibGVkKG4sITEpLGEuc2V0T3J0aG9nb25hbEVkZ2UobiwhMCkpfWsuc291cmNlPWNbZV07MD5teFV0aWxzLmluZGV4T2YoY1tlXS5jb25uZWN0c0FzU291cmNlLGspJiZjW2VdLmNvbm5lY3RzQXNTb3VyY2UucHVzaChrKX19fWNbZV0udGVtcFswXT0wfX07Cm14R3JhcGhIaWVyYXJjaHlNb2RlbC5wcm90b3R5cGUuaW5pdGlhbFJhbms9ZnVuY3Rpb24oKXt2YXIgYT1bXTtpZihudWxsIT10aGlzLnJvb3RzKWZvcih2YXIgYj0wO2I8dGhpcy5yb290cy5sZW5ndGg7YisrKXt2YXIgYz10aGlzLnZlcnRleE1hcHBlci5nZXQodGhpcy5yb290c1tiXSk7bnVsbCE9YyYmYS5wdXNoKGMpfWZvcih2YXIgZD10aGlzLnZlcnRleE1hcHBlci5nZXRWYWx1ZXMoKSxiPTA7YjxkLmxlbmd0aDtiKyspZFtiXS50ZW1wWzBdPS0xO2Zvcih2YXIgZT1hLnNsaWNlKCk7MDxhLmxlbmd0aDspe3ZhciBjPWFbMF0sZixnO2Y9Yy5jb25uZWN0c0FzVGFyZ2V0O2c9Yy5jb25uZWN0c0FzU291cmNlO2Zvcih2YXIgaz0hMCxsPXRoaXMuU09VUkNFU0NBTlNUQVJUUkFOSyxiPTA7YjxmLmxlbmd0aDtiKyspe3ZhciBtPWZbYl07aWYoNTI3MDYyMD09bS50ZW1wWzBdKW09bS5zb3VyY2UsbD1NYXRoLm1pbihsLG0udGVtcFswXS0xKTtlbHNle2s9ITE7YnJlYWt9fWlmKGspe2MudGVtcFswXT0KbDt0aGlzLm1heFJhbms9TWF0aC5taW4odGhpcy5tYXhSYW5rLGwpO2lmKG51bGwhPWcpZm9yKGI9MDtiPGcubGVuZ3RoO2IrKyltPWdbYl0sbS50ZW1wWzBdPTUyNzA2MjAsbT1tLnRhcmdldCwtMT09bS50ZW1wWzBdJiYoYS5wdXNoKG0pLG0udGVtcFswXT0tMik7YS5zaGlmdCgpfWVsc2UgaWYoYj1hLnNoaWZ0KCksYS5wdXNoKGMpLGI9PWMmJjE9PWEubGVuZ3RoKWJyZWFrfWZvcihiPTA7YjxkLmxlbmd0aDtiKyspZFtiXS50ZW1wWzBdLT10aGlzLm1heFJhbms7Zm9yKGI9MDtiPGUubGVuZ3RoO2IrKylmb3IoYz1lW2JdLGE9MCxmPWMuY29ubmVjdHNBc1NvdXJjZSxkPTA7ZDxmLmxlbmd0aDtkKyspbT1mW2RdLG09bS50YXJnZXQsYy50ZW1wWzBdPU1hdGgubWF4KGEsbS50ZW1wWzBdKzEpLGE9Yy50ZW1wWzBdO3RoaXMubWF4UmFuaz10aGlzLlNPVVJDRVNDQU5TVEFSVFJBTkstdGhpcy5tYXhSYW5rfTsKbXhHcmFwaEhpZXJhcmNoeU1vZGVsLnByb3RvdHlwZS5maXhSYW5rcz1mdW5jdGlvbigpe3ZhciBhPVtdO3RoaXMucmFua3M9W107Zm9yKHZhciBiPTA7Yjx0aGlzLm1heFJhbmsrMTtiKyspYVtiXT1bXSx0aGlzLnJhbmtzW2JdPWFbYl07dmFyIGM9bnVsbDtpZihudWxsIT10aGlzLnJvb3RzKWZvcih2YXIgZD10aGlzLnJvb3RzLGM9W10sYj0wO2I8ZC5sZW5ndGg7YisrKXt2YXIgZT10aGlzLnZlcnRleE1hcHBlci5nZXQoZFtiXSk7Y1tiXT1lfXRoaXMudmlzaXQoZnVuY3Rpb24oYixjLGQsZSxtKXswPT1tJiYwPmMubWF4UmFuayYmMD5jLm1pblJhbmsmJihhW2MudGVtcFswXV0ucHVzaChjKSxjLm1heFJhbms9Yy50ZW1wWzBdLGMubWluUmFuaz1jLnRlbXBbMF0sYy50ZW1wWzBdPWFbYy5tYXhSYW5rXS5sZW5ndGgtMSk7aWYobnVsbCE9YiYmbnVsbCE9ZCYmMTxiLm1heFJhbmstYy5tYXhSYW5rKWZvcihkLm1heFJhbms9Yi5tYXhSYW5rLGQubWluUmFuaz1jLm1heFJhbmssZC50ZW1wPQpbXSxkLng9W10sZC55PVtdLGI9ZC5taW5SYW5rKzE7YjxkLm1heFJhbms7YisrKWFbYl0ucHVzaChkKSxkLnNldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUoYixhW2JdLmxlbmd0aC0xKX0sYywhMSxudWxsKX07bXhHcmFwaEhpZXJhcmNoeU1vZGVsLnByb3RvdHlwZS52aXNpdD1mdW5jdGlvbihhLGIsYyxkKXtpZihudWxsIT1iKXtmb3IodmFyIGU9MDtlPGIubGVuZ3RoO2UrKyl7dmFyIGY9YltlXTtudWxsIT1mJiYobnVsbD09ZCYmKGQ9e30pLGM/KGYuaGFzaENvZGU9W10sZi5oYXNoQ29kZVswXT10aGlzLmRmc0NvdW50LGYuaGFzaENvZGVbMV09ZSx0aGlzLmV4dGVuZGVkRGZzKG51bGwsZixudWxsLGEsZCxmLmhhc2hDb2RlLGUsMCkpOnRoaXMuZGZzKG51bGwsZixudWxsLGEsZCwwKSl9dGhpcy5kZnNDb3VudCsrfX07Cm14R3JhcGhIaWVyYXJjaHlNb2RlbC5wcm90b3R5cGUuZGZzPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXtpZihudWxsIT1iKXt2YXIgZz1iLmlkO2lmKG51bGw9PWVbZ10pZm9yKGVbZ109YixkKGEsYixjLGYsMCksYT1iLmNvbm5lY3RzQXNTb3VyY2Uuc2xpY2UoKSxjPTA7YzxhLmxlbmd0aDtjKyspZz1hW2NdLHRoaXMuZGZzKGIsZy50YXJnZXQsZyxkLGUsZisxKTtlbHNlIGQoYSxiLGMsZiwxKX19OwpteEdyYXBoSGllcmFyY2h5TW9kZWwucHJvdG90eXBlLmV4dGVuZGVkRGZzPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsayl7aWYobnVsbCE9YilpZihudWxsPT1hfHxudWxsIT1iLmhhc2hDb2RlJiZiLmhhc2hDb2RlWzBdPT1hLmhhc2hDb2RlWzBdfHwoZj1hLmhhc2hDb2RlLmxlbmd0aCsxLGIuaGFzaENvZGU9YS5oYXNoQ29kZS5zbGljZSgpLGIuaGFzaENvZGVbZi0xXT1nKSxnPWIuaWQsbnVsbD09ZVtnXSlmb3IoZVtnXT1iLGQoYSxiLGMsaywwKSxhPWIuY29ubmVjdHNBc1NvdXJjZS5zbGljZSgpLGM9MDtjPGEubGVuZ3RoO2MrKylnPWFbY10sdGhpcy5leHRlbmRlZERmcyhiLGcudGFyZ2V0LGcsZCxlLGIuaGFzaENvZGUsYyxrKzEpO2Vsc2UgZChhLGIsYyxrLDEpfTsKZnVuY3Rpb24gbXhTd2ltbGFuZU1vZGVsKGEsYixjLGQsZSl7YS5nZXRHcmFwaCgpO3RoaXMudGlnaHRlblRvU291cmNlPWU7dGhpcy5yb290cz1jO3RoaXMucGFyZW50PWQ7dGhpcy52ZXJ0ZXhNYXBwZXI9bmV3IG14RGljdGlvbmFyeTt0aGlzLmVkZ2VNYXBwZXI9bmV3IG14RGljdGlvbmFyeTt0aGlzLm1heFJhbms9MDtjPVtdO251bGw9PWImJihiPXRoaXMuZ3JhcGguZ2V0Q2hpbGRWZXJ0aWNlcyhkKSk7dGhpcy5tYXhSYW5rPXRoaXMuU09VUkNFU0NBTlNUQVJUUkFOSzt0aGlzLmNyZWF0ZUludGVybmFsQ2VsbHMoYSxiLGMpO2ZvcihkPTA7ZDxiLmxlbmd0aDtkKyspe2U9Y1tkXS5jb25uZWN0c0FzU291cmNlO2Zvcih2YXIgZj0wO2Y8ZS5sZW5ndGg7ZisrKXt2YXIgZz1lW2ZdLGs9Zy5lZGdlcztpZihudWxsIT1rJiYwPGsubGVuZ3RoKXt2YXIgaz1rWzBdLGw9YS5nZXRWaXNpYmxlVGVybWluYWwoaywhMSksbD10aGlzLnZlcnRleE1hcHBlci5nZXQobCk7Y1tkXT09bCYmKGw9CmEuZ2V0VmlzaWJsZVRlcm1pbmFsKGssITApLGw9dGhpcy52ZXJ0ZXhNYXBwZXIuZ2V0KGwpKTtudWxsIT1sJiZjW2RdIT1sJiYoZy50YXJnZXQ9bCwwPT1sLmNvbm5lY3RzQXNUYXJnZXQubGVuZ3RoJiYobC5jb25uZWN0c0FzVGFyZ2V0PVtdKSwwPm14VXRpbHMuaW5kZXhPZihsLmNvbm5lY3RzQXNUYXJnZXQsZykmJmwuY29ubmVjdHNBc1RhcmdldC5wdXNoKGcpKX19Y1tkXS50ZW1wWzBdPTF9fW14U3dpbWxhbmVNb2RlbC5wcm90b3R5cGUubWF4UmFuaz1udWxsO214U3dpbWxhbmVNb2RlbC5wcm90b3R5cGUudmVydGV4TWFwcGVyPW51bGw7bXhTd2ltbGFuZU1vZGVsLnByb3RvdHlwZS5lZGdlTWFwcGVyPW51bGw7bXhTd2ltbGFuZU1vZGVsLnByb3RvdHlwZS5yYW5rcz1udWxsO214U3dpbWxhbmVNb2RlbC5wcm90b3R5cGUucm9vdHM9bnVsbDtteFN3aW1sYW5lTW9kZWwucHJvdG90eXBlLnBhcmVudD1udWxsO214U3dpbWxhbmVNb2RlbC5wcm90b3R5cGUuZGZzQ291bnQ9MDsKbXhTd2ltbGFuZU1vZGVsLnByb3RvdHlwZS5TT1VSQ0VTQ0FOU1RBUlRSQU5LPTFFODtteFN3aW1sYW5lTW9kZWwucHJvdG90eXBlLnRpZ2h0ZW5Ub1NvdXJjZT0hMTtteFN3aW1sYW5lTW9kZWwucHJvdG90eXBlLnJhbmtzUGVyR3JvdXA9bnVsbDsKbXhTd2ltbGFuZU1vZGVsLnByb3RvdHlwZS5jcmVhdGVJbnRlcm5hbENlbGxzPWZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5nZXRHcmFwaCgpLGU9YS5zd2ltbGFuZXMsZj0wO2Y8Yi5sZW5ndGg7ZisrKXtjW2ZdPW5ldyBteEdyYXBoSGllcmFyY2h5Tm9kZShiW2ZdKTt0aGlzLnZlcnRleE1hcHBlci5wdXQoYltmXSxjW2ZdKTtjW2ZdLnN3aW1sYW5lSW5kZXg9LTE7Zm9yKHZhciBnPTA7ZzxlLmxlbmd0aDtnKyspaWYoZC5tb2RlbC5nZXRQYXJlbnQoYltmXSk9PWVbZ10pe2NbZl0uc3dpbWxhbmVJbmRleD1nO2JyZWFrfWc9YS5nZXRFZGdlcyhiW2ZdKTtjW2ZdLmNvbm5lY3RzQXNTb3VyY2U9W107Zm9yKHZhciBrPTA7azxnLmxlbmd0aDtrKyspe3ZhciBsPWEuZ2V0VmlzaWJsZVRlcm1pbmFsKGdba10sITEpO2lmKGwhPWJbZl0mJmEuZ3JhcGgubW9kZWwuaXNWZXJ0ZXgobCkmJiFhLmlzVmVydGV4SWdub3JlZChsKSl7dmFyIG09YS5nZXRFZGdlc0JldHdlZW4oYltmXSxsLCExKSwKbD1hLmdldEVkZ2VzQmV0d2VlbihiW2ZdLGwsITApO2lmKG51bGwhPW0mJjA8bS5sZW5ndGgmJm51bGw9PXRoaXMuZWRnZU1hcHBlci5nZXQobVswXSkmJjIqbC5sZW5ndGg+PW0ubGVuZ3RoKXtmb3IodmFyIGw9bmV3IG14R3JhcGhIaWVyYXJjaHlFZGdlKG0pLG49MDtuPG0ubGVuZ3RoO24rKyl7dmFyIHA9bVtuXTt0aGlzLmVkZ2VNYXBwZXIucHV0KHAsbCk7ZC5yZXNldEVkZ2UocCk7YS5kaXNhYmxlRWRnZVN0eWxlJiYoYS5zZXRFZGdlU3R5bGVFbmFibGVkKHAsITEpLGEuc2V0T3J0aG9nb25hbEVkZ2UocCwhMCkpfWwuc291cmNlPWNbZl07MD5teFV0aWxzLmluZGV4T2YoY1tmXS5jb25uZWN0c0FzU291cmNlLGwpJiZjW2ZdLmNvbm5lY3RzQXNTb3VyY2UucHVzaChsKX19fWNbZl0udGVtcFswXT0wfX07Cm14U3dpbWxhbmVNb2RlbC5wcm90b3R5cGUuaW5pdGlhbFJhbms9ZnVuY3Rpb24oKXt0aGlzLnJhbmtzUGVyR3JvdXA9W107dmFyIGE9W10sYj17fTtpZihudWxsIT10aGlzLnJvb3RzKWZvcih2YXIgYz0wO2M8dGhpcy5yb290cy5sZW5ndGg7YysrKXt2YXIgZD10aGlzLnZlcnRleE1hcHBlci5nZXQodGhpcy5yb290c1tjXSk7dGhpcy5tYXhDaGFpbkRmcyhudWxsLGQsbnVsbCxiLDApO251bGwhPWQmJmEucHVzaChkKX1kPVtdO2I9W107Zm9yKGM9dGhpcy5yYW5rc1Blckdyb3VwLmxlbmd0aC0xOzA8PWM7Yy0tKWRbY109Yz09dGhpcy5yYW5rc1Blckdyb3VwLmxlbmd0aC0xPzA6YltjKzFdKzEsYltjXT1kW2NdK3RoaXMucmFua3NQZXJHcm91cFtjXTt0aGlzLm1heFJhbms9YlswXTtkPXRoaXMudmVydGV4TWFwcGVyLmdldFZhbHVlcygpO2ZvcihjPTA7YzxkLmxlbmd0aDtjKyspZFtjXS50ZW1wWzBdPS0xO2ZvcihhLnNsaWNlKCk7MDxhLmxlbmd0aDspe3ZhciBkPWFbMF0sZSxmOwplPWQuY29ubmVjdHNBc1RhcmdldDtmPWQuY29ubmVjdHNBc1NvdXJjZTtmb3IodmFyIGc9ITAsaz1iWzBdLGM9MDtjPGUubGVuZ3RoO2MrKyl7dmFyIGw9ZVtjXTtpZig1MjcwNjIwPT1sLnRlbXBbMF0pbD1sLnNvdXJjZSxrPU1hdGgubWluKGssbC50ZW1wWzBdLTEpO2Vsc2V7Zz0hMTticmVha319aWYoZyl7az5iW2Quc3dpbWxhbmVJbmRleF0mJihrPWJbZC5zd2ltbGFuZUluZGV4XSk7ZC50ZW1wWzBdPWs7aWYobnVsbCE9Zilmb3IoYz0wO2M8Zi5sZW5ndGg7YysrKWw9ZltjXSxsLnRlbXBbMF09NTI3MDYyMCxsPWwudGFyZ2V0LC0xPT1sLnRlbXBbMF0mJihhLnB1c2gobCksbC50ZW1wWzBdPS0yKTthLnNoaWZ0KCl9ZWxzZSBpZihjPWEuc2hpZnQoKSxhLnB1c2goZCksYz09ZCYmMT09YS5sZW5ndGgpYnJlYWt9fTsKbXhTd2ltbGFuZU1vZGVsLnByb3RvdHlwZS5tYXhDaGFpbkRmcz1mdW5jdGlvbihhLGIsYyxkLGUpe2lmKG51bGwhPWImJihhPW14Q2VsbFBhdGguY3JlYXRlKGIuY2VsbCksbnVsbD09ZFthXSkpe2RbYV09YjthPWIuc3dpbWxhbmVJbmRleDtpZihudWxsPT10aGlzLnJhbmtzUGVyR3JvdXBbYV18fHRoaXMucmFua3NQZXJHcm91cFthXTxlKXRoaXMucmFua3NQZXJHcm91cFthXT1lO2E9Yi5jb25uZWN0c0FzU291cmNlLnNsaWNlKCk7Zm9yKGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGY9YVtjXSxnPWYudGFyZ2V0O2Iuc3dpbWxhbmVJbmRleDxnLnN3aW1sYW5lSW5kZXg/dGhpcy5tYXhDaGFpbkRmcyhiLGcsZixteFV0aWxzLmNsb25lKGQsbnVsbCwhMCksMCk6Yi5zd2ltbGFuZUluZGV4PT1nLnN3aW1sYW5lSW5kZXgmJnRoaXMubWF4Q2hhaW5EZnMoYixnLGYsbXhVdGlscy5jbG9uZShkLG51bGwsITApLGUrMSl9fX07Cm14U3dpbWxhbmVNb2RlbC5wcm90b3R5cGUuZml4UmFua3M9ZnVuY3Rpb24oKXt2YXIgYT1bXTt0aGlzLnJhbmtzPVtdO2Zvcih2YXIgYj0wO2I8dGhpcy5tYXhSYW5rKzE7YisrKWFbYl09W10sdGhpcy5yYW5rc1tiXT1hW2JdO3ZhciBjPW51bGw7aWYobnVsbCE9dGhpcy5yb290cylmb3IodmFyIGQ9dGhpcy5yb290cyxjPVtdLGI9MDtiPGQubGVuZ3RoO2IrKyl7dmFyIGU9dGhpcy52ZXJ0ZXhNYXBwZXIuZ2V0KGRbYl0pO2NbYl09ZX10aGlzLnZpc2l0KGZ1bmN0aW9uKGIsYyxkLGUsbSl7MD09bSYmMD5jLm1heFJhbmsmJjA+Yy5taW5SYW5rJiYoYVtjLnRlbXBbMF1dLnB1c2goYyksYy5tYXhSYW5rPWMudGVtcFswXSxjLm1pblJhbms9Yy50ZW1wWzBdLGMudGVtcFswXT1hW2MubWF4UmFua10ubGVuZ3RoLTEpO2lmKG51bGwhPWImJm51bGwhPWQmJjE8Yi5tYXhSYW5rLWMubWF4UmFuaylmb3IoZC5tYXhSYW5rPWIubWF4UmFuayxkLm1pblJhbms9Yy5tYXhSYW5rLGQudGVtcD1bXSwKZC54PVtdLGQueT1bXSxiPWQubWluUmFuaysxO2I8ZC5tYXhSYW5rO2IrKylhW2JdLnB1c2goZCksZC5zZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGIsYVtiXS5sZW5ndGgtMSl9LGMsITEsbnVsbCl9O214U3dpbWxhbmVNb2RlbC5wcm90b3R5cGUudmlzaXQ9ZnVuY3Rpb24oYSxiLGMsZCl7aWYobnVsbCE9Yil7Zm9yKHZhciBlPTA7ZTxiLmxlbmd0aDtlKyspe3ZhciBmPWJbZV07bnVsbCE9ZiYmKG51bGw9PWQmJihkPXt9KSxjPyhmLmhhc2hDb2RlPVtdLGYuaGFzaENvZGVbMF09dGhpcy5kZnNDb3VudCxmLmhhc2hDb2RlWzFdPWUsdGhpcy5leHRlbmRlZERmcyhudWxsLGYsbnVsbCxhLGQsZi5oYXNoQ29kZSxlLDApKTp0aGlzLmRmcyhudWxsLGYsbnVsbCxhLGQsMCkpfXRoaXMuZGZzQ291bnQrK319OwpteFN3aW1sYW5lTW9kZWwucHJvdG90eXBlLmRmcz1mdW5jdGlvbihhLGIsYyxkLGUsZil7aWYobnVsbCE9Yil7dmFyIGc9Yi5pZDtpZihudWxsPT1lW2ddKWZvcihlW2ddPWIsZChhLGIsYyxmLDApLGE9Yi5jb25uZWN0c0FzU291cmNlLnNsaWNlKCksYz0wO2M8YS5sZW5ndGg7YysrKWc9YVtjXSx0aGlzLmRmcyhiLGcudGFyZ2V0LGcsZCxlLGYrMSk7ZWxzZSBkKGEsYixjLGYsMSl9fTsKbXhTd2ltbGFuZU1vZGVsLnByb3RvdHlwZS5leHRlbmRlZERmcz1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGspe2lmKG51bGwhPWIpaWYobnVsbD09YXx8bnVsbCE9Yi5oYXNoQ29kZSYmYi5oYXNoQ29kZVswXT09YS5oYXNoQ29kZVswXXx8KGY9YS5oYXNoQ29kZS5sZW5ndGgrMSxiLmhhc2hDb2RlPWEuaGFzaENvZGUuc2xpY2UoKSxiLmhhc2hDb2RlW2YtMV09ZyksZz1iLmlkLG51bGw9PWVbZ10pe2VbZ109YjtkKGEsYixjLGssMCk7YT1iLmNvbm5lY3RzQXNTb3VyY2Uuc2xpY2UoKTtjPWIuY29ubmVjdHNBc1RhcmdldC5zbGljZSgpO2ZvcihnPTA7ZzxhLmxlbmd0aDtnKyspe2Y9YVtnXTt2YXIgbD1mLnRhcmdldDtiLnN3aW1sYW5lSW5kZXg8PWwuc3dpbWxhbmVJbmRleCYmdGhpcy5leHRlbmRlZERmcyhiLGwsZixkLGUsYi5oYXNoQ29kZSxnLGsrMSl9Zm9yKGc9MDtnPGMubGVuZ3RoO2crKylmPWNbZ10sbD1mLnNvdXJjZSxiLnN3aW1sYW5lSW5kZXg8bC5zd2ltbGFuZUluZGV4JiYKdGhpcy5leHRlbmRlZERmcyhiLGwsZixkLGUsYi5oYXNoQ29kZSxnLGsrMSl9ZWxzZSBkKGEsYixjLGssMSl9O2Z1bmN0aW9uIG14SGllcmFyY2hpY2FsTGF5b3V0U3RhZ2UoKXt9bXhIaWVyYXJjaGljYWxMYXlvdXRTdGFnZS5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbihhKXt9O2Z1bmN0aW9uIG14TWVkaWFuSHlicmlkQ3Jvc3NpbmdSZWR1Y3Rpb24oYSl7dGhpcy5sYXlvdXQ9YX1teE1lZGlhbkh5YnJpZENyb3NzaW5nUmVkdWN0aW9uLnByb3RvdHlwZT1uZXcgbXhIaWVyYXJjaGljYWxMYXlvdXRTdGFnZTtteE1lZGlhbkh5YnJpZENyb3NzaW5nUmVkdWN0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1teE1lZGlhbkh5YnJpZENyb3NzaW5nUmVkdWN0aW9uO214TWVkaWFuSHlicmlkQ3Jvc3NpbmdSZWR1Y3Rpb24ucHJvdG90eXBlLmxheW91dD1udWxsO214TWVkaWFuSHlicmlkQ3Jvc3NpbmdSZWR1Y3Rpb24ucHJvdG90eXBlLm1heEl0ZXJhdGlvbnM9MjQ7Cm14TWVkaWFuSHlicmlkQ3Jvc3NpbmdSZWR1Y3Rpb24ucHJvdG90eXBlLm5lc3RlZEJlc3RSYW5rcz1udWxsO214TWVkaWFuSHlicmlkQ3Jvc3NpbmdSZWR1Y3Rpb24ucHJvdG90eXBlLmN1cnJlbnRCZXN0Q3Jvc3NpbmdzPTA7bXhNZWRpYW5IeWJyaWRDcm9zc2luZ1JlZHVjdGlvbi5wcm90b3R5cGUuaXRlcmF0aW9uc1dpdGhvdXRJbXByb3ZlbWVudD0wO214TWVkaWFuSHlicmlkQ3Jvc3NpbmdSZWR1Y3Rpb24ucHJvdG90eXBlLm1heE5vSW1wcm92ZW1lbnRJdGVyYXRpb25zPTI7Cm14TWVkaWFuSHlicmlkQ3Jvc3NpbmdSZWR1Y3Rpb24ucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oYSl7YT10aGlzLmxheW91dC5nZXRNb2RlbCgpO3RoaXMubmVzdGVkQmVzdFJhbmtzPVtdO2Zvcih2YXIgYj0wO2I8YS5yYW5rcy5sZW5ndGg7YisrKXRoaXMubmVzdGVkQmVzdFJhbmtzW2JdPWEucmFua3NbYl0uc2xpY2UoKTtmb3IodmFyIGM9MCxkPXRoaXMuY2FsY3VsYXRlQ3Jvc3NpbmdzKGEpLGI9MDtiPHRoaXMubWF4SXRlcmF0aW9ucyYmYzx0aGlzLm1heE5vSW1wcm92ZW1lbnRJdGVyYXRpb25zO2IrKyl7dGhpcy53ZWlnaHRlZE1lZGlhbihiLGEpO3RoaXMudHJhbnNwb3NlKGIsYSk7dmFyIGU9dGhpcy5jYWxjdWxhdGVDcm9zc2luZ3MoYSk7aWYoZTxkKWZvcihkPWUsZT1jPTA7ZTx0aGlzLm5lc3RlZEJlc3RSYW5rcy5sZW5ndGg7ZSsrKWZvcih2YXIgZj1hLnJhbmtzW2VdLGc9MDtnPGYubGVuZ3RoO2crKyl7dmFyIGs9ZltnXTt0aGlzLm5lc3RlZEJlc3RSYW5rc1tlXVtrLmdldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUoZSldPQprfWVsc2UgZm9yKGMrKyxlPTA7ZTx0aGlzLm5lc3RlZEJlc3RSYW5rcy5sZW5ndGg7ZSsrKWZvcihmPWEucmFua3NbZV0sZz0wO2c8Zi5sZW5ndGg7ZysrKWs9ZltnXSxrLnNldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUoZSxnKTtpZigwPT1kKWJyZWFrfWM9W107ZD1bXTtmb3IoYj0wO2I8YS5tYXhSYW5rKzE7YisrKWRbYl09W10sY1tiXT1kW2JdO2ZvcihiPTA7Yjx0aGlzLm5lc3RlZEJlc3RSYW5rcy5sZW5ndGg7YisrKWZvcihlPTA7ZTx0aGlzLm5lc3RlZEJlc3RSYW5rc1tiXS5sZW5ndGg7ZSsrKWRbYl0ucHVzaCh0aGlzLm5lc3RlZEJlc3RSYW5rc1tiXVtlXSk7YS5yYW5rcz1jfTtteE1lZGlhbkh5YnJpZENyb3NzaW5nUmVkdWN0aW9uLnByb3RvdHlwZS5jYWxjdWxhdGVDcm9zc2luZ3M9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWEucmFua3MubGVuZ3RoLGM9MCxkPTE7ZDxiO2QrKyljKz10aGlzLmNhbGN1bGF0ZVJhbmtDcm9zc2luZyhkLGEpO3JldHVybiBjfTsKbXhNZWRpYW5IeWJyaWRDcm9zc2luZ1JlZHVjdGlvbi5wcm90b3R5cGUuY2FsY3VsYXRlUmFua0Nyb3NzaW5nPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTAsZD1iLnJhbmtzW2FdLGU9Yi5yYW5rc1thLTFdLGY9W10sZz0wO2c8ZC5sZW5ndGg7ZysrKXtmb3IodmFyIGs9ZFtnXSxsPWsuZ2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShhKSxrPWsuZ2V0UHJldmlvdXNMYXllckNvbm5lY3RlZENlbGxzKGEpLG09W10sbj0wO248ay5sZW5ndGg7bisrKXt2YXIgcD1rW25dLmdldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUoYS0xKTttLnB1c2gocCl9bS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEtYn0pO2ZbbF09bX1kPVtdO2ZvcihnPTA7ZzxmLmxlbmd0aDtnKyspZD1kLmNvbmNhdChmW2ddKTtmb3IoZj0xO2Y8ZS5sZW5ndGg7KWY8PD0xO2w9MipmLTE7LS1mO2U9W107Zm9yKGc9MDtnPGw7KytnKWVbZ109MDtmb3IoZz0wO2c8ZC5sZW5ndGg7ZysrKWZvcihsPWRbZ10rZiwrK2VbbF07MDwKbDspbCUyJiYoYys9ZVtsKzFdKSxsPWwtMT4+MSwrK2VbbF07cmV0dXJuIGN9OwpteE1lZGlhbkh5YnJpZENyb3NzaW5nUmVkdWN0aW9uLnByb3RvdHlwZS50cmFuc3Bvc2U9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9ITAsZD0wO2MmJjEwPmQrKzspZm9yKHZhciBlPTE9PWElMiYmMT09ZCUyLGM9ITEsZj0wO2Y8Yi5yYW5rcy5sZW5ndGg7ZisrKXtmb3IodmFyIGc9Yi5yYW5rc1tmXSxrPVtdLGw9MDtsPGcubGVuZ3RoO2wrKyl7dmFyIG09Z1tsXSxuPW0uZ2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShmKTswPm4mJihuPWwpO2tbbl09bX1mb3IodmFyIHA9bnVsbCxxPW51bGwscix0LHU9bnVsbCx4PW51bGwseSxCPW51bGwsbD0wO2w8Zy5sZW5ndGgtMTtsKyspe2lmKDA9PWwpe3k9a1tsXTttPXkuZ2V0TmV4dExheWVyQ29ubmVjdGVkQ2VsbHMoZik7bj15LmdldFByZXZpb3VzTGF5ZXJDb25uZWN0ZWRDZWxscyhmKTtyPVtdO3Q9W107Zm9yKHZhciBBPTA7QTxtLmxlbmd0aDtBKyspcltBXT1tW0FdLmdldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUoZisxKTtmb3IoQT0KMDtBPG4ubGVuZ3RoO0ErKyl0W0FdPW5bQV0uZ2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShmLTEpfWVsc2UgbT1wLG49cSxyPXUsdD14LHk9QjtCPWtbbCsxXTtwPUIuZ2V0TmV4dExheWVyQ29ubmVjdGVkQ2VsbHMoZik7cT1CLmdldFByZXZpb3VzTGF5ZXJDb25uZWN0ZWRDZWxscyhmKTt1PVtdO3g9W107Zm9yKEE9MDtBPHAubGVuZ3RoO0ErKyl1W0FdPXBbQV0uZ2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShmKzEpO2ZvcihBPTA7QTxxLmxlbmd0aDtBKyspeFtBXT1xW0FdLmdldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUoZi0xKTtmb3IodmFyIHo9MCxDPTAsQT0wO0E8ci5sZW5ndGg7QSsrKWZvcih2YXIgdj0wO3Y8dS5sZW5ndGg7disrKXJbQV0+dVt2XSYmeisrLHJbQV08dVt2XSYmQysrO2ZvcihBPTA7QTx0Lmxlbmd0aDtBKyspZm9yKHY9MDt2PHgubGVuZ3RoO3YrKyl0W0FdPnhbdl0mJnorKyx0W0FdPHhbdl0mJkMrKztpZihDPHp8fEM9PXomJmUpcD15LmdldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUoZiksCnkuc2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShmLEIuZ2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShmKSksQi5zZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGYscCkscD1tLHE9bix1PXIseD10LEI9eSxlfHwoYz0hMCl9fX07bXhNZWRpYW5IeWJyaWRDcm9zc2luZ1JlZHVjdGlvbi5wcm90b3R5cGUud2VpZ2h0ZWRNZWRpYW49ZnVuY3Rpb24oYSxiKXt2YXIgYz0wPT1hJTI7aWYoYylmb3IodmFyIGQ9Yi5tYXhSYW5rLTE7MDw9ZDtkLS0pdGhpcy5tZWRpYW5SYW5rKGQsYyk7ZWxzZSBmb3IoZD0xO2Q8Yi5tYXhSYW5rO2QrKyl0aGlzLm1lZGlhblJhbmsoZCxjKX07Cm14TWVkaWFuSHlicmlkQ3Jvc3NpbmdSZWR1Y3Rpb24ucHJvdG90eXBlLm1lZGlhblJhbms9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9dGhpcy5uZXN0ZWRCZXN0UmFua3NbYV0ubGVuZ3RoLGQ9W10sZT1bXSxmPTA7ZjxjO2YrKyl7dmFyIGc9dGhpcy5uZXN0ZWRCZXN0UmFua3NbYV1bZl0saz1uZXcgTWVkaWFuQ2VsbFNvcnRlcjtrLmNlbGw9Zzt2YXIgbDtsPWI/Zy5nZXROZXh0TGF5ZXJDb25uZWN0ZWRDZWxscyhhKTpnLmdldFByZXZpb3VzTGF5ZXJDb25uZWN0ZWRDZWxscyhhKTt2YXIgbTttPWI/YSsxOmEtMTtudWxsIT1sJiYwIT1sLmxlbmd0aD8oay5tZWRpYW5WYWx1ZT10aGlzLm1lZGlhblZhbHVlKGwsbSksZC5wdXNoKGspKTplW2cuZ2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShhKV09ITB9ZC5zb3J0KE1lZGlhbkNlbGxTb3J0ZXIucHJvdG90eXBlLmNvbXBhcmUpO2ZvcihmPTA7ZjxjO2YrKyludWxsPT1lW2ZdJiYoZz1kLnNoaWZ0KCkuY2VsbCxnLnNldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUoYSwKZikpfTtteE1lZGlhbkh5YnJpZENyb3NzaW5nUmVkdWN0aW9uLnByb3RvdHlwZS5tZWRpYW5WYWx1ZT1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1bXSxkPTAsZT0wO2U8YS5sZW5ndGg7ZSsrKXt2YXIgZj1hW2VdO2NbZCsrXT1mLmdldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUoYil9Yy5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEtYn0pO2lmKDE9PWQlMilyZXR1cm4gY1tNYXRoLmZsb29yKGQvMildO2lmKDI9PWQpcmV0dXJuKGNbMF0rY1sxXSkvMjtlPWQvMjtmPWNbZS0xXS1jWzBdO2Q9Y1tkLTFdLWNbZV07cmV0dXJuKGNbZS0xXSpkK2NbZV0qZikvKGYrZCl9O2Z1bmN0aW9uIE1lZGlhbkNlbGxTb3J0ZXIoKXt9TWVkaWFuQ2VsbFNvcnRlci5wcm90b3R5cGUubWVkaWFuVmFsdWU9MDtNZWRpYW5DZWxsU29ydGVyLnByb3RvdHlwZS5jZWxsPSExOwpNZWRpYW5DZWxsU29ydGVyLnByb3RvdHlwZS5jb21wYXJlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGwhPWEmJm51bGwhPWI/Yi5tZWRpYW5WYWx1ZT5hLm1lZGlhblZhbHVlPy0xOmIubWVkaWFuVmFsdWU8YS5tZWRpYW5WYWx1ZT8xOjA6MH07ZnVuY3Rpb24gbXhNaW5pbXVtQ3ljbGVSZW1vdmVyKGEpe3RoaXMubGF5b3V0PWF9bXhNaW5pbXVtQ3ljbGVSZW1vdmVyLnByb3RvdHlwZT1uZXcgbXhIaWVyYXJjaGljYWxMYXlvdXRTdGFnZTtteE1pbmltdW1DeWNsZVJlbW92ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPW14TWluaW11bUN5Y2xlUmVtb3ZlcjtteE1pbmltdW1DeWNsZVJlbW92ZXIucHJvdG90eXBlLmxheW91dD1udWxsOwpteE1pbmltdW1DeWNsZVJlbW92ZXIucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oYSl7YT10aGlzLmxheW91dC5nZXRNb2RlbCgpO2Zvcih2YXIgYj17fSxjPWEudmVydGV4TWFwcGVyLmdldFZhbHVlcygpLGQ9e30sZT0wO2U8Yy5sZW5ndGg7ZSsrKWRbY1tlXS5pZF09Y1tlXTtjPW51bGw7aWYobnVsbCE9YS5yb290cylmb3IodmFyIGY9YS5yb290cyxjPVtdLGU9MDtlPGYubGVuZ3RoO2UrKyljW2VdPWEudmVydGV4TWFwcGVyLmdldChmW2VdKTthLnZpc2l0KGZ1bmN0aW9uKGEsYyxlLGYsbil7Yy5pc0FuY2VzdG9yKGEpJiYoZS5pbnZlcnQoKSxteFV0aWxzLnJlbW92ZShlLGEuY29ubmVjdHNBc1NvdXJjZSksYS5jb25uZWN0c0FzVGFyZ2V0LnB1c2goZSksbXhVdGlscy5yZW1vdmUoZSxjLmNvbm5lY3RzQXNUYXJnZXQpLGMuY29ubmVjdHNBc1NvdXJjZS5wdXNoKGUpKTtiW2MuaWRdPWM7ZGVsZXRlIGRbYy5pZF19LGMsITAsbnVsbCk7ZT1teFV0aWxzLmNsb25lKGIsbnVsbCwKITApO2EudmlzaXQoZnVuY3Rpb24oYSxjLGUsZixuKXtjLmlzQW5jZXN0b3IoYSkmJihlLmludmVydCgpLG14VXRpbHMucmVtb3ZlKGUsYS5jb25uZWN0c0FzU291cmNlKSxjLmNvbm5lY3RzQXNTb3VyY2UucHVzaChlKSxhLmNvbm5lY3RzQXNUYXJnZXQucHVzaChlKSxteFV0aWxzLnJlbW92ZShlLGMuY29ubmVjdHNBc1RhcmdldCkpO2JbYy5pZF09YztkZWxldGUgZFtjLmlkXX0sZCwhMCxlKX07ZnVuY3Rpb24gbXhDb29yZGluYXRlQXNzaWdubWVudChhLGIsYyxkLGUsZil7dGhpcy5sYXlvdXQ9YTt0aGlzLmludHJhQ2VsbFNwYWNpbmc9Yjt0aGlzLmludGVyUmFua0NlbGxTcGFjaW5nPWM7dGhpcy5vcmllbnRhdGlvbj1kO3RoaXMuaW5pdGlhbFg9ZTt0aGlzLnBhcmFsbGVsRWRnZVNwYWNpbmc9Zn1teENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZT1uZXcgbXhIaWVyYXJjaGljYWxMYXlvdXRTdGFnZTsKbXhDb29yZGluYXRlQXNzaWdubWVudC5wcm90b3R5cGUuY29uc3RydWN0b3I9bXhDb29yZGluYXRlQXNzaWdubWVudDtteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS5sYXlvdXQ9bnVsbDtteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS5pbnRyYUNlbGxTcGFjaW5nPTMwO214Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLmludGVyUmFua0NlbGxTcGFjaW5nPTEwMDtteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS5wYXJhbGxlbEVkZ2VTcGFjaW5nPTEwO214Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLm1heEl0ZXJhdGlvbnM9ODtteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS5wcmVmSG96RWRnZVNlcD01O214Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLnByZWZWZXJ0RWRnZU9mZj0yO214Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLm1pbkVkZ2VKZXR0eT0xMjsKbXhDb29yZGluYXRlQXNzaWdubWVudC5wcm90b3R5cGUuY2hhbm5lbEJ1ZmZlcj00O214Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLmpldHR5UG9zaXRpb25zPW51bGw7bXhDb29yZGluYXRlQXNzaWdubWVudC5wcm90b3R5cGUub3JpZW50YXRpb249bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIO214Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLmluaXRpYWxYPW51bGw7bXhDb29yZGluYXRlQXNzaWdubWVudC5wcm90b3R5cGUubGltaXRYPW51bGw7bXhDb29yZGluYXRlQXNzaWdubWVudC5wcm90b3R5cGUuY3VycmVudFhEZWx0YT1udWxsO214Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLndpZGVzdFJhbms9bnVsbDtteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS5yYW5rVG9wWT1udWxsO214Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLnJhbmtCb3R0b21ZPW51bGw7Cm14Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLndpZGVzdFJhbmtWYWx1ZT1udWxsO214Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLnJhbmtXaWR0aHM9bnVsbDtteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS5yYW5rWT1udWxsO214Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLmZpbmVUdW5pbmc9ITA7bXhDb29yZGluYXRlQXNzaWdubWVudC5wcm90b3R5cGUubmV4dExheWVyQ29ubmVjdGVkQ2FjaGU9bnVsbDtteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS5wcmV2aW91c0xheWVyQ29ubmVjdGVkQ2FjaGU9bnVsbDtteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS5ncm91cFBhZGRpbmc9MTA7Cm14Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLnByaW50U3RhdHVzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5sYXlvdXQuZ2V0TW9kZWwoKTtteExvZy5zaG93KCk7bXhMb2cud3JpdGVsbigiPT09PT09Q29vcmQgYXNzaWdubWVudCBkZWJ1Zz09PT09PT0iKTtmb3IodmFyIGI9MDtiPGEucmFua3MubGVuZ3RoO2IrKyl7bXhMb2cud3JpdGUoIlJhbmsgIixiLCIgOiAiKTtmb3IodmFyIGM9YS5yYW5rc1tiXSxkPTA7ZDxjLmxlbmd0aDtkKyspbXhMb2cud3JpdGUoY1tkXS5nZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGIpLCIgICIpO214TG9nLndyaXRlbG4oKX1teExvZy53cml0ZWxuKCI9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0iKX07Cm14Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oYSl7dGhpcy5qZXR0eVBvc2l0aW9ucz17fTthPXRoaXMubGF5b3V0LmdldE1vZGVsKCk7dGhpcy5jdXJyZW50WERlbHRhPTA7dGhpcy5pbml0aWFsQ29vcmRzKHRoaXMubGF5b3V0LmdldEdyYXBoKCksYSk7dGhpcy5maW5lVHVuaW5nJiZ0aGlzLm1pbk5vZGUoYSk7dmFyIGI9MUU4O2lmKHRoaXMuZmluZVR1bmluZylmb3IodmFyIGM9MDtjPHRoaXMubWF4SXRlcmF0aW9ucztjKyspezAhPWMmJih0aGlzLm1lZGlhblBvcyhjLGEpLHRoaXMubWluTm9kZShhKSk7aWYodGhpcy5jdXJyZW50WERlbHRhPGIpe2Zvcih2YXIgZD0wO2Q8YS5yYW5rcy5sZW5ndGg7ZCsrKWZvcih2YXIgZT1hLnJhbmtzW2RdLGY9MDtmPGUubGVuZ3RoO2YrKyl7dmFyIGc9ZVtmXTtnLnNldFgoZCxnLmdldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUoZCkpfWI9dGhpcy5jdXJyZW50WERlbHRhfWVsc2UgZm9yKGQ9MDtkPGEucmFua3MubGVuZ3RoO2QrKylmb3IoZT0KYS5yYW5rc1tkXSxmPTA7ZjxlLmxlbmd0aDtmKyspZz1lW2ZdLGcuc2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShkLGcuZ2V0WChkKSk7dGhpcy5taW5QYXRoKHRoaXMubGF5b3V0LmdldEdyYXBoKCksYSk7dGhpcy5jdXJyZW50WERlbHRhPTB9dGhpcy5zZXRDZWxsTG9jYXRpb25zKHRoaXMubGF5b3V0LmdldEdyYXBoKCksYSl9OwpteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS5taW5Ob2RlPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxjPW5ldyBteERpY3Rpb25hcnksZD1bXSxlPTA7ZTw9YS5tYXhSYW5rO2UrKyl7ZFtlXT1hLnJhbmtzW2VdO2Zvcih2YXIgZj0wO2Y8ZFtlXS5sZW5ndGg7ZisrKXt2YXIgZz1kW2VdW2ZdLGs9bmV3IFdlaWdodGVkQ2VsbFNvcnRlcihnLGUpO2sucmFua0luZGV4PWY7ay52aXNpdGVkPSEwO2IucHVzaChrKTtjLnB1dChnLGspfX1hPTEwKmIubGVuZ3RoO2ZvcihmPTA7MDxiLmxlbmd0aCYmZjw9YTspe3ZhciBnPWIuc2hpZnQoKSxlPWcuY2VsbCxsPWcud2VpZ2h0ZWRWYWx1ZSxtPXBhcnNlSW50KGcucmFua0luZGV4KSxrPWUuZ2V0TmV4dExheWVyQ29ubmVjdGVkQ2VsbHMobCksbj1lLmdldFByZXZpb3VzTGF5ZXJDb25uZWN0ZWRDZWxscyhsKSxwPWsubGVuZ3RoLHE9bi5sZW5ndGgscj10aGlzLm1lZGlhblhWYWx1ZShrLGwrMSksdD10aGlzLm1lZGlhblhWYWx1ZShuLApsLTEpLHU9cCtxLHg9ZS5nZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGwpLHk9eDswPHUmJih5PShyKnArdCpxKS91KTtwPSExO3k8eC0xPzA9PW0/KGUuc2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShsLHkpLHA9ITApOihtPWRbbF1bbS0xXSx4PW0uZ2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShsKSx4PXgrbS53aWR0aC8yK3RoaXMuaW50cmFDZWxsU3BhY2luZytlLndpZHRoLzIseDx5PyhlLnNldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUobCx5KSxwPSEwKTp4PGUuZ2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShsKS0xJiYoZS5zZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGwseCkscD0hMCkpOnk+eCsxJiYobT09ZFtsXS5sZW5ndGgtMT8oZS5zZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGwseSkscD0hMCk6KG09ZFtsXVttKzFdLHg9bS5nZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGwpLHg9eC1tLndpZHRoLzItdGhpcy5pbnRyYUNlbGxTcGFjaW5nLWUud2lkdGgvMix4Pnk/KGUuc2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShsLAp5KSxwPSEwKTp4PmUuZ2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShsKSsxJiYoZS5zZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGwseCkscD0hMCkpKTtpZihwKXtmb3IoZT0wO2U8ay5sZW5ndGg7ZSsrKWw9a1tlXSxsPWMuZ2V0KGwpLG51bGwhPWwmJjA9PWwudmlzaXRlZCYmKGwudmlzaXRlZD0hMCxiLnB1c2gobCkpO2ZvcihlPTA7ZTxuLmxlbmd0aDtlKyspbD1uW2VdLGw9Yy5nZXQobCksbnVsbCE9bCYmMD09bC52aXNpdGVkJiYobC52aXNpdGVkPSEwLGIucHVzaChsKSl9Zy52aXNpdGVkPSExO2YrK319O214Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLm1lZGlhblBvcz1mdW5jdGlvbihhLGIpe2lmKDA9PWElMilmb3IodmFyIGM9Yi5tYXhSYW5rOzA8YztjLS0pdGhpcy5yYW5rTWVkaWFuUG9zaXRpb24oYy0xLGIsYyk7ZWxzZSBmb3IoYz0wO2M8Yi5tYXhSYW5rLTE7YysrKXRoaXMucmFua01lZGlhblBvc2l0aW9uKGMrMSxiLGMpfTsKbXhDb29yZGluYXRlQXNzaWdubWVudC5wcm90b3R5cGUucmFua01lZGlhblBvc2l0aW9uPWZ1bmN0aW9uKGEsYixjKXtiPWIucmFua3NbYV07Zm9yKHZhciBkPVtdLGU9e30sZj0wO2Y8Yi5sZW5ndGg7ZisrKXt2YXIgZz1iW2ZdO2RbZl09bmV3IFdlaWdodGVkQ2VsbFNvcnRlcjtkW2ZdLmNlbGw9ZztkW2ZdLnJhbmtJbmRleD1mO2VbZy5pZF09ZFtmXTt2YXIgaztrPWM8YT9nLmdldFByZXZpb3VzTGF5ZXJDb25uZWN0ZWRDZWxscyhhKTpnLmdldE5leHRMYXllckNvbm5lY3RlZENlbGxzKGEpO2RbZl0ud2VpZ2h0ZWRWYWx1ZT10aGlzLmNhbGN1bGF0ZWRXZWlnaHRlZFZhbHVlKGcsayl9ZC5zb3J0KFdlaWdodGVkQ2VsbFNvcnRlci5wcm90b3R5cGUuY29tcGFyZSk7Zm9yKGY9MDtmPGQubGVuZ3RoO2YrKyl7dmFyIGwsZz1kW2ZdLmNlbGw7bD0wO2s9YzxhP2cuZ2V0UHJldmlvdXNMYXllckNvbm5lY3RlZENlbGxzKGEpLnNsaWNlKCk6Zy5nZXROZXh0TGF5ZXJDb25uZWN0ZWRDZWxscyhhKS5zbGljZSgpOwpudWxsIT1rJiYobD1rLmxlbmd0aCxsPTA8bD90aGlzLm1lZGlhblhWYWx1ZShrLGMpOmcuZ2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShhKSk7dmFyIG09MDtrPS0xRTg7Zm9yKHZhciBuPWRbZl0ucmFua0luZGV4LTE7MDw9bjspe3ZhciBwPWVbYltuXS5pZF07aWYobnVsbCE9cCl7dmFyIHE9cC5jZWxsO3AudmlzaXRlZD8oaz1xLmdldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUoYSkrcS53aWR0aC8yK3RoaXMuaW50cmFDZWxsU3BhY2luZyttK2cud2lkdGgvMixuPS0xKToobSs9cS53aWR0aCt0aGlzLmludHJhQ2VsbFNwYWNpbmcsbi0tKX19bT0wO3E9MUU4O2ZvcihuPWRbZl0ucmFua0luZGV4KzE7bjxkLmxlbmd0aDspaWYocD1lW2Jbbl0uaWRdLG51bGwhPXApe3ZhciByPXAuY2VsbDtwLnZpc2l0ZWQ/KHE9ci5nZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGEpLXIud2lkdGgvMi10aGlzLmludHJhQ2VsbFNwYWNpbmctbS1nLndpZHRoLzIsbj1kLmxlbmd0aCk6KG0rPXIud2lkdGgrCnRoaXMuaW50cmFDZWxsU3BhY2luZyxuKyspfWw+PWsmJmw8PXE/Zy5zZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGEsbCk6bDxrPyhnLnNldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUoYSxrKSx0aGlzLmN1cnJlbnRYRGVsdGErPWstbCk6bD5xJiYoZy5zZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGEscSksdGhpcy5jdXJyZW50WERlbHRhKz1sLXEpO2RbZl0udmlzaXRlZD0hMH19O214Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLmNhbGN1bGF0ZWRXZWlnaHRlZFZhbHVlPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTAsZD0wO2Q8Yi5sZW5ndGg7ZCsrKXt2YXIgZT1iW2RdO2EuaXNWZXJ0ZXgoKSYmZS5pc1ZlcnRleCgpP2MrKzpjPWEuaXNFZGdlKCkmJmUuaXNFZGdlKCk/Yys4OmMrMn1yZXR1cm4gY307Cm14Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLm1lZGlhblhWYWx1ZT1mdW5jdGlvbihhLGIpe2lmKDA9PWEubGVuZ3RoKXJldHVybiAwO2Zvcih2YXIgYz1bXSxkPTA7ZDxhLmxlbmd0aDtkKyspY1tkXT1hW2RdLmdldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUoYik7Yy5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEtYn0pO2lmKDE9PWEubGVuZ3RoJTIpcmV0dXJuIGNbTWF0aC5mbG9vcihhLmxlbmd0aC8yKV07ZD1hLmxlbmd0aC8yO3JldHVybihjW2QtMV0rY1tkXSkvMn07Cm14Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLmluaXRpYWxDb29yZHM9ZnVuY3Rpb24oYSxiKXt0aGlzLmNhbGN1bGF0ZVdpZGVzdFJhbmsoYSxiKTtmb3IodmFyIGM9dGhpcy53aWRlc3RSYW5rOzA8PWM7Yy0tKWM8Yi5tYXhSYW5rJiZ0aGlzLnJhbmtDb29yZGluYXRlcyhjLGEsYik7Zm9yKGM9dGhpcy53aWRlc3RSYW5rKzE7Yzw9Yi5tYXhSYW5rO2MrKykwPGMmJnRoaXMucmFua0Nvb3JkaW5hdGVzKGMsYSxiKX07Cm14Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLnJhbmtDb29yZGluYXRlcz1mdW5jdGlvbihhLGIsYyl7Yj1jLnJhbmtzW2FdO2M9dGhpcy5pbml0aWFsWCsodGhpcy53aWRlc3RSYW5rVmFsdWUtdGhpcy5yYW5rV2lkdGhzW2FdKS8yO2Zvcih2YXIgZD0hMSxlPTA7ZTxiLmxlbmd0aDtlKyspe3ZhciBmPWJbZV07aWYoZi5pc1ZlcnRleCgpKXt2YXIgZz10aGlzLmxheW91dC5nZXRWZXJ0ZXhCb3VuZHMoZi5jZWxsKTtudWxsIT1nP3RoaXMub3JpZW50YXRpb249PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSHx8dGhpcy5vcmllbnRhdGlvbj09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIPyhmLndpZHRoPWcud2lkdGgsZi5oZWlnaHQ9Zy5oZWlnaHQpOihmLndpZHRoPWcuaGVpZ2h0LGYuaGVpZ2h0PWcud2lkdGgpOmQ9ITB9ZWxzZSBmLmlzRWRnZSgpJiYoZz0xLG51bGwhPWYuZWRnZXM/Zz1mLmVkZ2VzLmxlbmd0aDpteExvZy53YXJuKCJlZGdlLmVkZ2VzIGlzIG51bGwiKSwKZi53aWR0aD0oZy0xKSp0aGlzLnBhcmFsbGVsRWRnZVNwYWNpbmcpO2MrPWYud2lkdGgvMjtmLnNldFgoYSxjKTtmLnNldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUoYSxjKTtjKz1mLndpZHRoLzI7Yys9dGhpcy5pbnRyYUNlbGxTcGFjaW5nfTE9PWQmJm14TG9nLndhcm4oIkF0IGxlYXN0IG9uZSBjZWxsIGhhcyBubyBib3VuZHMiKX07Cm14Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLmNhbGN1bGF0ZVdpZGVzdFJhbms9ZnVuY3Rpb24oYSxiKXt2YXIgYz0tdGhpcy5pbnRlclJhbmtDZWxsU3BhY2luZyxkPTA7dGhpcy5yYW5rV2lkdGhzPVtdO3RoaXMucmFua1k9W107Zm9yKHZhciBlPWIubWF4UmFuazswPD1lO2UtLSl7Zm9yKHZhciBmPTAsZz1iLnJhbmtzW2VdLGs9dGhpcy5pbml0aWFsWCxsPSExLG09MDttPGcubGVuZ3RoO20rKyl7dmFyIG49Z1ttXTtpZihuLmlzVmVydGV4KCkpe3ZhciBwPXRoaXMubGF5b3V0LmdldFZlcnRleEJvdW5kcyhuLmNlbGwpO251bGwhPXA/dGhpcy5vcmllbnRhdGlvbj09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIfHx0aGlzLm9yaWVudGF0aW9uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEg/KG4ud2lkdGg9cC53aWR0aCxuLmhlaWdodD1wLmhlaWdodCk6KG4ud2lkdGg9cC5oZWlnaHQsbi5oZWlnaHQ9cC53aWR0aCk6bD0hMDtmPU1hdGgubWF4KGYsbi5oZWlnaHQpfWVsc2Ugbi5pc0VkZ2UoKSYmCihwPTEsbnVsbCE9bi5lZGdlcz9wPW4uZWRnZXMubGVuZ3RoOm14TG9nLndhcm4oImVkZ2UuZWRnZXMgaXMgbnVsbCIpLG4ud2lkdGg9KHAtMSkqdGhpcy5wYXJhbGxlbEVkZ2VTcGFjaW5nKTtrKz1uLndpZHRoLzI7bi5zZXRYKGUsayk7bi5zZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGUsayk7ays9bi53aWR0aC8yO2srPXRoaXMuaW50cmFDZWxsU3BhY2luZztrPnRoaXMud2lkZXN0UmFua1ZhbHVlJiYodGhpcy53aWRlc3RSYW5rVmFsdWU9ayx0aGlzLndpZGVzdFJhbms9ZSk7dGhpcy5yYW5rV2lkdGhzW2VdPWt9MT09bCYmbXhMb2cud2FybigiQXQgbGVhc3Qgb25lIGNlbGwgaGFzIG5vIGJvdW5kcyIpO3RoaXMucmFua1lbZV09YztrPWYvMitkLzIrdGhpcy5pbnRlclJhbmtDZWxsU3BhY2luZztkPWY7Yz10aGlzLm9yaWVudGF0aW9uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEh8fHRoaXMub3JpZW50YXRpb249PW14Q29uc3RhbnRzLkRJUkVDVElPTl9XRVNUP2MrazpjLQprO2ZvcihtPTA7bTxnLmxlbmd0aDttKyspZ1ttXS5zZXRZKGUsYyl9fTsKbXhDb29yZGluYXRlQXNzaWdubWVudC5wcm90b3R5cGUubWluUGF0aD1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1iLmVkZ2VNYXBwZXIuZ2V0VmFsdWVzKCksZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1jW2RdO2lmKCEoMT5lLm1heFJhbmstZS5taW5SYW5rLTEpKXtmb3IodmFyIGY9ZS5nZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGUubWluUmFuaysxKSxnPSEwLGs9MCxsPWUubWluUmFuaysyO2w8ZS5tYXhSYW5rO2wrKyl7dmFyIG09ZS5nZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGwpO2YhPW0/KGc9ITEsZj1tKTprKyt9aWYoIWcpe2Zvcih2YXIgZz1mPTAsbT1bXSxuPVtdLHA9ZS5nZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGUubWluUmFuaysxKSxsPWUubWluUmFuaysxO2w8ZS5tYXhSYW5rLTE7bCsrKXt2YXIgcT1lLmdldFgobCsxKTtwPT1xPyhtW2wtZS5taW5SYW5rLTFdPXAsZisrKTp0aGlzLnJlcG9zaXRpb25WYWxpZChiLGUsbCsxLHApPyhtW2wtZS5taW5SYW5rLQoxXT1wLGYrKyk6cD1tW2wtZS5taW5SYW5rLTFdPXF9cD1lLmdldFgobCk7Zm9yKGw9ZS5tYXhSYW5rLTE7bD5lLm1pblJhbmsrMTtsLS0pcT1lLmdldFgobC0xKSxwPT1xPyhuW2wtZS5taW5SYW5rLTJdPXAsZysrKTp0aGlzLnJlcG9zaXRpb25WYWxpZChiLGUsbC0xLHApPyhuW2wtZS5taW5SYW5rLTJdPXAsZysrKToobltsLWUubWluUmFuay0yXT1lLmdldFgobC0xKSxwPXEpO2lmKGc+a3x8Zj5rKWlmKGc+PWYpZm9yKGw9ZS5tYXhSYW5rLTI7bD5lLm1pblJhbms7bC0tKWUuc2V0WChsLG5bbC1lLm1pblJhbmstMV0pO2Vsc2UgaWYoZj5nKWZvcihsPWUubWluUmFuaysyO2w8ZS5tYXhSYW5rO2wrKyllLnNldFgobCxtW2wtZS5taW5SYW5rLTJdKX19fX07Cm14Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLnJlcG9zaXRpb25WYWxpZD1mdW5jdGlvbihhLGIsYyxkKXthPWEucmFua3NbY107Zm9yKHZhciBlPS0xLGY9MDtmPGEubGVuZ3RoO2YrKylpZihiPT1hW2ZdKXtlPWY7YnJlYWt9aWYoMD5lKXJldHVybiExO2Y9Yi5nZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGMpO2lmKGQ8Zil7aWYoMD09ZSlyZXR1cm4hMDthPWFbZS0xXTtjPWEuZ2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShjKTtjPWMrYS53aWR0aC8yK3RoaXMuaW50cmFDZWxsU3BhY2luZytiLndpZHRoLzI7aWYoIShjPD1kKSlyZXR1cm4hMX1lbHNlIGlmKGQ+Zil7aWYoZT09YS5sZW5ndGgtMSlyZXR1cm4hMDthPWFbZSsxXTtjPWEuZ2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShjKTtjPWMtYS53aWR0aC8yLXRoaXMuaW50cmFDZWxsU3BhY2luZy1iLndpZHRoLzI7aWYoIShjPj1kKSlyZXR1cm4hMX1yZXR1cm4hMH07Cm14Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLnNldENlbGxMb2NhdGlvbnM9ZnVuY3Rpb24oYSxiKXt0aGlzLnJhbmtUb3BZPVtdO3RoaXMucmFua0JvdHRvbVk9W107Zm9yKHZhciBjPTA7YzxiLnJhbmtzLmxlbmd0aDtjKyspdGhpcy5yYW5rVG9wWVtjXT1OdW1iZXIuTUFYX1ZBTFVFLHRoaXMucmFua0JvdHRvbVlbY109LU51bWJlci5NQVhfVkFMVUU7Zm9yKHZhciBkPWIudmVydGV4TWFwcGVyLmdldFZhbHVlcygpLGM9MDtjPGQubGVuZ3RoO2MrKyl0aGlzLnNldFZlcnRleExvY2F0aW9uKGRbY10pO3RoaXMubGF5b3V0LmVkZ2VTdHlsZSE9bXhIaWVyYXJjaGljYWxFZGdlU3R5bGUuT1JUSE9HT05BTCYmdGhpcy5sYXlvdXQuZWRnZVN0eWxlIT1teEhpZXJhcmNoaWNhbEVkZ2VTdHlsZS5QT0xZTElORSYmdGhpcy5sYXlvdXQuZWRnZVN0eWxlIT1teEhpZXJhcmNoaWNhbEVkZ2VTdHlsZS5DVVJWRXx8dGhpcy5sb2NhbEVkZ2VQcm9jZXNzaW5nKGIpO2Q9Yi5lZGdlTWFwcGVyLmdldFZhbHVlcygpOwpmb3IoYz0wO2M8ZC5sZW5ndGg7YysrKXRoaXMuc2V0RWRnZVBvc2l0aW9uKGRbY10pfTsKbXhDb29yZGluYXRlQXNzaWdubWVudC5wcm90b3R5cGUubG9jYWxFZGdlUHJvY2Vzc2luZz1mdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPGEucmFua3MubGVuZ3RoO2IrKylmb3IodmFyIGM9YS5yYW5rc1tiXSxkPTA7ZDxjLmxlbmd0aDtkKyspe3ZhciBlPWNbZF07aWYoZS5pc1ZlcnRleCgpKWZvcih2YXIgZj1lLmdldFByZXZpb3VzTGF5ZXJDb25uZWN0ZWRDZWxscyhiKSxnPWItMSxrPTA7Mj5rO2srKyl7aWYoLTE8ZyYmZzxhLnJhbmtzLmxlbmd0aCYmbnVsbCE9ZiYmMDxmLmxlbmd0aCl7Zm9yKHZhciBsPVtdLG09MDttPGYubGVuZ3RoO20rKyl7dmFyIG49bmV3IFdlaWdodGVkQ2VsbFNvcnRlcihmW21dLGZbbV0uZ2V0WChnKSk7bC5wdXNoKG4pfWwuc29ydChXZWlnaHRlZENlbGxTb3J0ZXIucHJvdG90eXBlLmNvbXBhcmUpO2Zvcih2YXIgbj1lLnhbMF0tZS53aWR0aC8yLHA9bitlLndpZHRoLHE9Zj0wLGc9W10sbT0wO208bC5sZW5ndGg7bSsrKXt2YXIgcj1sW21dLmNlbGwsCnQ7aWYoci5pc1ZlcnRleCgpKXt0PTA9PWs/ZS5jb25uZWN0c0FzU291cmNlOmUuY29ubmVjdHNBc1RhcmdldDtmb3IodmFyIHU9MDt1PHQubGVuZ3RoO3UrKylpZih0W3VdLnNvdXJjZT09cnx8dFt1XS50YXJnZXQ9PXIpZis9dFt1XS5lZGdlcy5sZW5ndGgscSsrLGcucHVzaCh0W3VdKX1lbHNlIGYrPXIuZWRnZXMubGVuZ3RoLHErKyxnLnB1c2gocil9ZS53aWR0aD4oZisxKSp0aGlzLnByZWZIb3pFZGdlU2VwKzIqdGhpcy5wcmVmSG96RWRnZVNlcCYmKG4rPXRoaXMucHJlZkhvekVkZ2VTZXAscC09dGhpcy5wcmVmSG96RWRnZVNlcCk7bD0ocC1uKS9mO24rPWwvMjtwPXRoaXMubWluRWRnZUpldHR5LXRoaXMucHJlZlZlcnRFZGdlT2ZmO2ZvcihtPTA7bTxnLmxlbmd0aDttKyspZm9yKHE9Z1ttXS5lZGdlcy5sZW5ndGgscj10aGlzLmpldHR5UG9zaXRpb25zW2dbbV0uaWRzWzBdXSxudWxsPT1yJiYocj1bXSx0aGlzLmpldHR5UG9zaXRpb25zW2dbbV0uaWRzWzBdXT1yKSxtPGYvMj8KcCs9dGhpcy5wcmVmVmVydEVkZ2VPZmY6bT5mLzImJihwLT10aGlzLnByZWZWZXJ0RWRnZU9mZiksdD0wO3Q8cTt0Kyspcls0KnQrMiprXT1uLG4rPWwscls0KnQrMiprKzFdPXB9Zj1lLmdldE5leHRMYXllckNvbm5lY3RlZENlbGxzKGIpO2c9YisxfX19OwpteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS5zZXRFZGdlUG9zaXRpb249ZnVuY3Rpb24oYSl7dmFyIGI9MDtpZigxMDEyMDchPWEudGVtcFswXSl7dmFyIGM9YS5tYXhSYW5rLGQ9YS5taW5SYW5rO2M9PWQmJihjPWEuc291cmNlLm1heFJhbmssZD1hLnRhcmdldC5taW5SYW5rKTtmb3IodmFyIGU9MCxmPXRoaXMuamV0dHlQb3NpdGlvbnNbYS5pZHNbMF1dLGc9YS5pc1JldmVyc2VkP2EudGFyZ2V0LmNlbGw6YS5zb3VyY2UuY2VsbCxrPXRoaXMubGF5b3V0LmdyYXBoLGw9dGhpcy5vcmllbnRhdGlvbj09bXhDb25zdGFudHMuRElSRUNUSU9OX0VBU1R8fHRoaXMub3JpZW50YXRpb249PW14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSCxtPTA7bTxhLmVkZ2VzLmxlbmd0aDttKyspe3ZhciBuPWEuZWRnZXNbbV0scD10aGlzLmxheW91dC5nZXRWaXNpYmxlVGVybWluYWwobiwhMCkscT1bXSxyPWEuaXNSZXZlcnNlZDtwIT1nJiYocj0hcik7aWYobnVsbCE9Zil7dmFyIHQ9cj8KMjowLHU9cj9sP3RoaXMucmFua0JvdHRvbVlbZF06dGhpcy5yYW5rVG9wWVtkXTpsP3RoaXMucmFua1RvcFlbY106dGhpcy5yYW5rQm90dG9tWVtjXSx4PWZbNCplKzErdF07ciE9bCYmKHg9LXgpO3ZhciB1PXUreCx0PWZbNCplK3RdLHk9ay5tb2RlbC5nZXRUZXJtaW5hbChuLCEwKTt0aGlzLmxheW91dC5pc1BvcnQoeSkmJmsubW9kZWwuZ2V0UGFyZW50KHkpPT1wJiYodD1rLnZpZXcuZ2V0U3RhdGUoeSksdD1udWxsIT10P3QueDpwLmdlb21ldHJ5LngrYS5zb3VyY2Uud2lkdGgqeS5nZW9tZXRyeS54KTt0aGlzLm9yaWVudGF0aW9uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEh8fHRoaXMub3JpZW50YXRpb249PW14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSD8ocS5wdXNoKG5ldyBteFBvaW50KHQsdSkpLHRoaXMubGF5b3V0LmVkZ2VTdHlsZT09bXhIaWVyYXJjaGljYWxFZGdlU3R5bGUuQ1VSVkUmJnEucHVzaChuZXcgbXhQb2ludCh0LHUreCkpKToocS5wdXNoKG5ldyBteFBvaW50KHUsCnQpKSx0aGlzLmxheW91dC5lZGdlU3R5bGU9PW14SGllcmFyY2hpY2FsRWRnZVN0eWxlLkNVUlZFJiZxLnB1c2gobmV3IG14UG9pbnQodSt4LHQpKSl9dD1hLngubGVuZ3RoLTE7dT14PS0xO3A9YS5tYXhSYW5rLTE7Zm9yKHImJih0PTAseD1hLngubGVuZ3RoLHU9MSxwPWEubWluUmFuaysxKTthLm1heFJhbmshPWEubWluUmFuayYmdCE9eDt0Kz11KXt2YXIgeT1hLnhbdF0rYixCPSh0aGlzLnJhbmtUb3BZW3BdK3RoaXMucmFua0JvdHRvbVlbcCsxXSkvMixBPSh0aGlzLnJhbmtUb3BZW3AtMV0rdGhpcy5yYW5rQm90dG9tWVtwXSkvMjtpZihyKXZhciB6PUIsQj1BLEE9ejt0aGlzLm9yaWVudGF0aW9uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEh8fHRoaXMub3JpZW50YXRpb249PW14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSD8ocS5wdXNoKG5ldyBteFBvaW50KHksQikpLHEucHVzaChuZXcgbXhQb2ludCh5LEEpKSk6KHEucHVzaChuZXcgbXhQb2ludChCLHkpKSxxLnB1c2gobmV3IG14UG9pbnQoQSwKeSkpKTt0aGlzLmxpbWl0WD1NYXRoLm1heCh0aGlzLmxpbWl0WCx5KTtwKz11fW51bGwhPWYmJih0PXI/MjowLHU9cj9sP3RoaXMucmFua1RvcFlbY106dGhpcy5yYW5rQm90dG9tWVtjXTpsP3RoaXMucmFua0JvdHRvbVlbZF06dGhpcy5yYW5rVG9wWVtkXSx4PWZbNCplKzMtdF0sciE9bCYmKHg9LXgpLHUtPXgsdD1mWzQqZSsyLXRdLHI9ay5tb2RlbC5nZXRUZXJtaW5hbChuLCExKSxwPXRoaXMubGF5b3V0LmdldFZpc2libGVUZXJtaW5hbChuLCExKSx0aGlzLmxheW91dC5pc1BvcnQocikmJmsubW9kZWwuZ2V0UGFyZW50KHIpPT1wJiYodD1rLnZpZXcuZ2V0U3RhdGUociksdD1udWxsIT10P3QueDpwLmdlb21ldHJ5LngrYS50YXJnZXQud2lkdGgqci5nZW9tZXRyeS54KSx0aGlzLm9yaWVudGF0aW9uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEh8fHRoaXMub3JpZW50YXRpb249PW14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSD8odGhpcy5sYXlvdXQuZWRnZVN0eWxlPT1teEhpZXJhcmNoaWNhbEVkZ2VTdHlsZS5DVVJWRSYmCnEucHVzaChuZXcgbXhQb2ludCh0LHUteCkpLHEucHVzaChuZXcgbXhQb2ludCh0LHUpKSk6KHRoaXMubGF5b3V0LmVkZ2VTdHlsZT09bXhIaWVyYXJjaGljYWxFZGdlU3R5bGUuQ1VSVkUmJnEucHVzaChuZXcgbXhQb2ludCh1LXgsdCkpLHEucHVzaChuZXcgbXhQb2ludCh1LHQpKSkpO2EuaXNSZXZlcnNlZCYmdGhpcy5wcm9jZXNzUmV2ZXJzZWRFZGdlKGEsbik7dGhpcy5sYXlvdXQuc2V0RWRnZVBvaW50cyhuLHEpO2I9MD09Yj90aGlzLnBhcmFsbGVsRWRnZVNwYWNpbmc6MDxiPy1iOi1iK3RoaXMucGFyYWxsZWxFZGdlU3BhY2luZztlKyt9YS50ZW1wWzBdPTEwMTIwN319OwpteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS5zZXRWZXJ0ZXhMb2NhdGlvbj1mdW5jdGlvbihhKXt2YXIgYj1hLmNlbGwsYz1hLnhbMF0tYS53aWR0aC8yLGQ9YS55WzBdLWEuaGVpZ2h0LzI7dGhpcy5yYW5rVG9wWVthLm1pblJhbmtdPU1hdGgubWluKHRoaXMucmFua1RvcFlbYS5taW5SYW5rXSxkKTt0aGlzLnJhbmtCb3R0b21ZW2EubWluUmFua109TWF0aC5tYXgodGhpcy5yYW5rQm90dG9tWVthLm1pblJhbmtdLGQrYS5oZWlnaHQpO3RoaXMub3JpZW50YXRpb249PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSHx8dGhpcy5vcmllbnRhdGlvbj09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIP3RoaXMubGF5b3V0LnNldFZlcnRleExvY2F0aW9uKGIsYyxkKTp0aGlzLmxheW91dC5zZXRWZXJ0ZXhMb2NhdGlvbihiLGQsYyk7dGhpcy5saW1pdFg9TWF0aC5tYXgodGhpcy5saW1pdFgsYythLndpZHRoKX07Cm14Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLnByb2Nlc3NSZXZlcnNlZEVkZ2U9ZnVuY3Rpb24oYSxiKXt9O2Z1bmN0aW9uIG14U3dpbWxhbmVPcmRlcmluZyhhKXt0aGlzLmxheW91dD1hfW14U3dpbWxhbmVPcmRlcmluZy5wcm90b3R5cGU9bmV3IG14SGllcmFyY2hpY2FsTGF5b3V0U3RhZ2U7bXhTd2ltbGFuZU9yZGVyaW5nLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1teFN3aW1sYW5lT3JkZXJpbmc7bXhTd2ltbGFuZU9yZGVyaW5nLnByb3RvdHlwZS5sYXlvdXQ9bnVsbDsKbXhTd2ltbGFuZU9yZGVyaW5nLnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKGEpe2E9dGhpcy5sYXlvdXQuZ2V0TW9kZWwoKTt2YXIgYj1teFV0aWxzLmNsb25lKGEudmVydGV4TWFwcGVyLG51bGwsITApLGM9bnVsbDtpZihudWxsIT1hLnJvb3RzKWZvcih2YXIgZD1hLnJvb3RzLGM9W10sZT0wO2U8ZC5sZW5ndGg7ZSsrKWNbZV09YS52ZXJ0ZXhNYXBwZXIuZ2V0KGRbZV0pO2EudmlzaXQoZnVuY3Rpb24oYSxjLGQsZSxtKXtlPW51bGwhPWEmJmEuc3dpbWxhbmVJbmRleD09Yy5zd2ltbGFuZUluZGV4JiZjLmlzQW5jZXN0b3IoYSk7bT1udWxsIT1hJiZudWxsIT1kJiZhLnN3aW1sYW5lSW5kZXg8Yy5zd2ltbGFuZUluZGV4JiZkLnNvdXJjZT09YztlPyhkLmludmVydCgpLG14VXRpbHMucmVtb3ZlKGQsYS5jb25uZWN0c0FzU291cmNlKSxjLmNvbm5lY3RzQXNTb3VyY2UucHVzaChkKSxhLmNvbm5lY3RzQXNUYXJnZXQucHVzaChkKSxteFV0aWxzLnJlbW92ZShkLGMuY29ubmVjdHNBc1RhcmdldCkpOgptJiYoZC5pbnZlcnQoKSxteFV0aWxzLnJlbW92ZShkLGEuY29ubmVjdHNBc1RhcmdldCksYy5jb25uZWN0c0FzVGFyZ2V0LnB1c2goZCksYS5jb25uZWN0c0FzU291cmNlLnB1c2goZCksbXhVdGlscy5yZW1vdmUoZCxjLmNvbm5lY3RzQXNTb3VyY2UpKTthPW14Q2VsbFBhdGguY3JlYXRlKGMuY2VsbCk7ZGVsZXRlIGJbYV19LGMsITAsbnVsbCl9O2Z1bmN0aW9uIG14SGllcmFyY2hpY2FsTGF5b3V0KGEsYixjKXtteEdyYXBoTGF5b3V0LmNhbGwodGhpcyxhKTt0aGlzLm9yaWVudGF0aW9uPW51bGwhPWI/YjpteENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEg7dGhpcy5kZXRlcm1pbmlzdGljPW51bGwhPWM/YzohMH12YXIgbXhIaWVyYXJjaGljYWxFZGdlU3R5bGU9e09SVEhPR09OQUw6MSxQT0xZTElORToyLFNUUkFJR0hUOjMsQ1VSVkU6NH07bXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlPW5ldyBteEdyYXBoTGF5b3V0OwpteEhpZXJhcmNoaWNhbExheW91dC5wcm90b3R5cGUuY29uc3RydWN0b3I9bXhIaWVyYXJjaGljYWxMYXlvdXQ7bXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLnJvb3RzPW51bGw7bXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLnJlc2l6ZVBhcmVudD0hMTtteEhpZXJhcmNoaWNhbExheW91dC5wcm90b3R5cGUubWFpbnRhaW5QYXJlbnRMb2NhdGlvbj0hMTtteEhpZXJhcmNoaWNhbExheW91dC5wcm90b3R5cGUubW92ZVBhcmVudD0hMTtteEhpZXJhcmNoaWNhbExheW91dC5wcm90b3R5cGUucGFyZW50Qm9yZGVyPTA7bXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLmludHJhQ2VsbFNwYWNpbmc9MzA7bXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLmludGVyUmFua0NlbGxTcGFjaW5nPTEwMDtteEhpZXJhcmNoaWNhbExheW91dC5wcm90b3R5cGUuaW50ZXJIaWVyYXJjaHlTcGFjaW5nPTYwOwpteEhpZXJhcmNoaWNhbExheW91dC5wcm90b3R5cGUucGFyYWxsZWxFZGdlU3BhY2luZz0xMDtteEhpZXJhcmNoaWNhbExheW91dC5wcm90b3R5cGUub3JpZW50YXRpb249bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIO214SGllcmFyY2hpY2FsTGF5b3V0LnByb3RvdHlwZS5maW5lVHVuaW5nPSEwO214SGllcmFyY2hpY2FsTGF5b3V0LnByb3RvdHlwZS50aWdodGVuVG9Tb3VyY2U9ITA7bXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLmRpc2FibGVFZGdlU3R5bGU9ITA7bXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLnRyYXZlcnNlQW5jZXN0b3JzPSEwO214SGllcmFyY2hpY2FsTGF5b3V0LnByb3RvdHlwZS5tb2RlbD1udWxsO214SGllcmFyY2hpY2FsTGF5b3V0LnByb3RvdHlwZS5lZGdlc0NhY2hlPW51bGw7bXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLmVkZ2VTb3VyY2VUZXJtQ2FjaGU9bnVsbDsKbXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLmVkZ2VzVGFyZ2V0VGVybUNhY2hlPW51bGw7bXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLmVkZ2VTdHlsZT1teEhpZXJhcmNoaWNhbEVkZ2VTdHlsZS5QT0xZTElORTtteEhpZXJhcmNoaWNhbExheW91dC5wcm90b3R5cGUuZ2V0TW9kZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb2RlbH07Cm14SGllcmFyY2hpY2FsTGF5b3V0LnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKGEsYil7dGhpcy5wYXJlbnQ9YTt2YXIgYz10aGlzLmdyYXBoLm1vZGVsO3RoaXMuZWRnZXNDYWNoZT1uZXcgbXhEaWN0aW9uYXJ5O3RoaXMuZWRnZVNvdXJjZVRlcm1DYWNoZT1uZXcgbXhEaWN0aW9uYXJ5O3RoaXMuZWRnZXNUYXJnZXRUZXJtQ2FjaGU9bmV3IG14RGljdGlvbmFyeTtudWxsPT1ifHxiIGluc3RhbmNlb2YgQXJyYXl8fChiPVtiXSk7aWYobnVsbCE9Ynx8bnVsbCE9YSl7dGhpcy5wYXJlbnRZPXRoaXMucGFyZW50WD1udWxsO2lmKGEhPXRoaXMucm9vdCYmbnVsbCE9Yy5pc1ZlcnRleChhKSYmdGhpcy5tYWludGFpblBhcmVudExvY2F0aW9uKXt2YXIgZD10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeShhKTtudWxsIT1kJiYodGhpcy5wYXJlbnRYPWQueCx0aGlzLnBhcmVudFk9ZC55KX1pZihudWxsIT1iKXtmb3IodmFyIGU9W10sZj0wO2Y8Yi5sZW5ndGg7ZisrKShudWxsIT1hP2MuaXNBbmNlc3RvcihhLApiW2ZdKToxKSYmYy5pc1ZlcnRleChiW2ZdKSYmZS5wdXNoKGJbZl0pO3RoaXMucm9vdHM9ZX1jLmJlZ2luVXBkYXRlKCk7dHJ5e3RoaXMucnVuKGEpLHRoaXMucmVzaXplUGFyZW50JiYhdGhpcy5ncmFwaC5pc0NlbGxDb2xsYXBzZWQoYSkmJnRoaXMuZ3JhcGgudXBkYXRlR3JvdXBCb3VuZHMoW2FdLHRoaXMucGFyZW50Qm9yZGVyLHRoaXMubW92ZVBhcmVudCksbnVsbCE9dGhpcy5wYXJlbnRYJiZudWxsIT10aGlzLnBhcmVudFkmJihkPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGEpLG51bGwhPWQmJihkPWQuY2xvbmUoKSxkLng9dGhpcy5wYXJlbnRYLGQueT10aGlzLnBhcmVudFksYy5zZXRHZW9tZXRyeShhLGQpKSl9ZmluYWxseXtjLmVuZFVwZGF0ZSgpfX19OwpteEhpZXJhcmNoaWNhbExheW91dC5wcm90b3R5cGUuZmluZFJvb3RzPWZ1bmN0aW9uKGEsYil7dmFyIGM9W107aWYobnVsbCE9YSYmbnVsbCE9Yil7dmFyIGQ9dGhpcy5ncmFwaC5tb2RlbCxlPW51bGwsZj0tMUU1LGc7Zm9yKGcgaW4gYil7dmFyIGs9YltnXTtpZihkLmlzVmVydGV4KGspJiZ0aGlzLmdyYXBoLmlzQ2VsbFZpc2libGUoaykpe2Zvcih2YXIgbD10aGlzLmdldEVkZ2VzKGspLG09MCxuPTAscD0wO3A8bC5sZW5ndGg7cCsrKXRoaXMuZ2V0VmlzaWJsZVRlcm1pbmFsKGxbcF0sITApPT1rP20rKzpuKys7MD09biYmMDxtJiZjLnB1c2goayk7bD1tLW47bD5mJiYoZj1sLGU9ayl9fTA9PWMubGVuZ3RoJiZudWxsIT1lJiZjLnB1c2goZSl9cmV0dXJuIGN9OwpteEhpZXJhcmNoaWNhbExheW91dC5wcm90b3R5cGUuZ2V0RWRnZXM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5lZGdlc0NhY2hlLmdldChhKTtpZihudWxsIT1iKXJldHVybiBiO2Zvcih2YXIgYz10aGlzLmdyYXBoLm1vZGVsLGI9W10sZD10aGlzLmdyYXBoLmlzQ2VsbENvbGxhcHNlZChhKSxlPWMuZ2V0Q2hpbGRDb3VudChhKSxmPTA7ZjxlO2YrKyl7dmFyIGc9Yy5nZXRDaGlsZEF0KGEsZik7aWYodGhpcy5pc1BvcnQoZykpYj1iLmNvbmNhdChjLmdldEVkZ2VzKGcsITAsITApKTtlbHNlIGlmKGR8fCF0aGlzLmdyYXBoLmlzQ2VsbFZpc2libGUoZykpYj1iLmNvbmNhdChjLmdldEVkZ2VzKGcsITAsITApKX1iPWIuY29uY2F0KGMuZ2V0RWRnZXMoYSwhMCwhMCkpO2M9W107Zm9yKGY9MDtmPGIubGVuZ3RoO2YrKylkPXRoaXMuZ2V0VmlzaWJsZVRlcm1pbmFsKGJbZl0sITApLGU9dGhpcy5nZXRWaXNpYmxlVGVybWluYWwoYltmXSwhMSksKGQ9PWV8fGQhPWUmJihlPT1hJiYobnVsbD09CnRoaXMucGFyZW50fHx0aGlzLmlzQW5jZXN0b3IodGhpcy5wYXJlbnQsZCx0aGlzLnRyYXZlcnNlQW5jZXN0b3JzKSl8fGQ9PWEmJihudWxsPT10aGlzLnBhcmVudHx8dGhpcy5pc0FuY2VzdG9yKHRoaXMucGFyZW50LGUsdGhpcy50cmF2ZXJzZUFuY2VzdG9ycykpKSkmJmMucHVzaChiW2ZdKTt0aGlzLmVkZ2VzQ2FjaGUucHV0KGEsYyk7cmV0dXJuIGN9OwpteEhpZXJhcmNoaWNhbExheW91dC5wcm90b3R5cGUuZ2V0VmlzaWJsZVRlcm1pbmFsPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5lZGdlc1RhcmdldFRlcm1DYWNoZTtiJiYoYz10aGlzLmVkZ2VTb3VyY2VUZXJtQ2FjaGUpO3ZhciBkPWMuZ2V0KGEpO2lmKG51bGwhPWQpcmV0dXJuIGQ7dmFyIGQ9dGhpcy5ncmFwaC52aWV3LmdldFN0YXRlKGEpLGU9bnVsbCE9ZD9kLmdldFZpc2libGVUZXJtaW5hbChiKTp0aGlzLmdyYXBoLnZpZXcuZ2V0VmlzaWJsZVRlcm1pbmFsKGEsYik7bnVsbD09ZSYmKGU9bnVsbCE9ZD9kLmdldFZpc2libGVUZXJtaW5hbChiKTp0aGlzLmdyYXBoLnZpZXcuZ2V0VmlzaWJsZVRlcm1pbmFsKGEsYikpO251bGwhPWUmJih0aGlzLmlzUG9ydChlKSYmKGU9dGhpcy5ncmFwaC5tb2RlbC5nZXRQYXJlbnQoZSkpLGMucHV0KGEsZSkpO3JldHVybiBlfTsKbXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLnJ1bj1mdW5jdGlvbihhKXt2YXIgYj1bXSxjPVtdO2lmKG51bGw9PXRoaXMucm9vdHMmJm51bGwhPWEpe3ZhciBkPXt9O3RoaXMuZmlsdGVyRGVzY2VuZGFudHMoYSxkKTt0aGlzLnJvb3RzPVtdO3ZhciBlPSEwLGY7Zm9yKGYgaW4gZClpZihudWxsIT1kW2ZdKXtlPSExO2JyZWFrfWZvcig7IWU7KXtmb3IodmFyIGc9dGhpcy5maW5kUm9vdHMoYSxkKSxlPTA7ZTxnLmxlbmd0aDtlKyspe3ZhciBrPXt9O2IucHVzaChrKTt0aGlzLnRyYXZlcnNlKGdbZV0sITAsbnVsbCxjLGssYixkKX1mb3IoZT0wO2U8Zy5sZW5ndGg7ZSsrKXRoaXMucm9vdHMucHVzaChnW2VdKTtlPSEwO2ZvcihmIGluIGQpaWYobnVsbCE9ZFtmXSl7ZT0hMTticmVha319fWVsc2UgZm9yKGU9MDtlPHRoaXMucm9vdHMubGVuZ3RoO2UrKylrPXt9LGIucHVzaChrKSx0aGlzLnRyYXZlcnNlKHRoaXMucm9vdHNbZV0sITAsbnVsbCxjLGssYixudWxsKTtmb3IoZT1jPQowO2U8Yi5sZW5ndGg7ZSsrKXtrPWJbZV07ZD1bXTtmb3IoZiBpbiBrKWQucHVzaChrW2ZdKTt0aGlzLm1vZGVsPW5ldyBteEdyYXBoSGllcmFyY2h5TW9kZWwodGhpcyxkLHRoaXMucm9vdHMsYSx0aGlzLnRpZ2h0ZW5Ub1NvdXJjZSk7dGhpcy5jeWNsZVN0YWdlKGEpO3RoaXMubGF5ZXJpbmdTdGFnZSgpO3RoaXMuY3Jvc3NpbmdTdGFnZShhKTtjPXRoaXMucGxhY2VtZW50U3RhZ2UoYyxhKX19OwpteEhpZXJhcmNoaWNhbExheW91dC5wcm90b3R5cGUuZmlsdGVyRGVzY2VuZGFudHM9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdyYXBoLm1vZGVsO2MuaXNWZXJ0ZXgoYSkmJmEhPXRoaXMucGFyZW50JiZ0aGlzLmdyYXBoLmlzQ2VsbFZpc2libGUoYSkmJihiW214T2JqZWN0SWRlbnRpdHkuZ2V0KGEpXT1hKTtpZih0aGlzLnRyYXZlcnNlQW5jZXN0b3JzfHxhPT10aGlzLnBhcmVudCYmdGhpcy5ncmFwaC5pc0NlbGxWaXNpYmxlKGEpKWZvcih2YXIgZD1jLmdldENoaWxkQ291bnQoYSksZT0wO2U8ZDtlKyspe3ZhciBmPWMuZ2V0Q2hpbGRBdChhLGUpO3RoaXMuaXNQb3J0KGYpfHx0aGlzLmZpbHRlckRlc2NlbmRhbnRzKGYsYil9fTtteEhpZXJhcmNoaWNhbExheW91dC5wcm90b3R5cGUuaXNQb3J0PWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiZudWxsIT1hLmdlb21ldHJ5P2EuZ2VvbWV0cnkucmVsYXRpdmU6ITF9OwpteEhpZXJhcmNoaWNhbExheW91dC5wcm90b3R5cGUuZ2V0RWRnZXNCZXR3ZWVuPWZ1bmN0aW9uKGEsYixjKXtjPW51bGwhPWM/YzohMTtmb3IodmFyIGQ9dGhpcy5nZXRFZGdlcyhhKSxlPVtdLGY9MDtmPGQubGVuZ3RoO2YrKyl7dmFyIGc9dGhpcy5nZXRWaXNpYmxlVGVybWluYWwoZFtmXSwhMCksaz10aGlzLmdldFZpc2libGVUZXJtaW5hbChkW2ZdLCExKTsoZz09YSYmaz09Ynx8IWMmJmc9PWImJms9PWEpJiZlLnB1c2goZFtmXSl9cmV0dXJuIGV9OwpteEhpZXJhcmNoaWNhbExheW91dC5wcm90b3R5cGUudHJhdmVyc2U9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7aWYobnVsbCE9YSYmbnVsbCE9ZCl7dmFyIGs9bXhPYmplY3RJZGVudGl0eS5nZXQoYSk7aWYobnVsbD09ZFtrXSYmKG51bGw9PWd8fG51bGwhPWdba10pKXtudWxsPT1lW2tdJiYoZVtrXT1hKTtudWxsPT1kW2tdJiYoZFtrXT1hKTtudWxsIT09ZyYmZGVsZXRlIGdba107dmFyIGw9dGhpcy5nZXRFZGdlcyhhKSxrPVtdO2ZvcihjPTA7YzxsLmxlbmd0aDtjKyspa1tjXT10aGlzLmdldFZpc2libGVUZXJtaW5hbChsW2NdLCEwKT09YTtmb3IoYz0wO2M8bC5sZW5ndGg7YysrKWlmKCFifHxrW2NdKXthPXRoaXMuZ2V0VmlzaWJsZVRlcm1pbmFsKGxbY10sIWtbY10pO2Zvcih2YXIgbT0xLG49MDtuPGwubGVuZ3RoO24rKylpZihuIT1jKXt2YXIgcD1rW25dO3RoaXMuZ2V0VmlzaWJsZVRlcm1pbmFsKGxbbl0sIXApPT1hJiYocD9tKys6bS0tKX0wPD1tJiYoZT10aGlzLnRyYXZlcnNlKGEsCmIsbFtjXSxkLGUsZixnKSl9fWVsc2UgaWYobnVsbD09ZVtrXSlmb3IoYz0wO2M8Zi5sZW5ndGg7YysrKWlmKGI9ZltjXSxudWxsIT1iW2tdKXtmb3IobCBpbiBiKWVbbF09YltsXTtmLnNwbGljZShjLDEpO2JyZWFrfX1yZXR1cm4gZX07bXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLmN5Y2xlU3RhZ2U9ZnVuY3Rpb24oYSl7KG5ldyBteE1pbmltdW1DeWNsZVJlbW92ZXIodGhpcykpLmV4ZWN1dGUoYSl9O214SGllcmFyY2hpY2FsTGF5b3V0LnByb3RvdHlwZS5sYXllcmluZ1N0YWdlPWZ1bmN0aW9uKCl7dGhpcy5tb2RlbC5pbml0aWFsUmFuaygpO3RoaXMubW9kZWwuZml4UmFua3MoKX07bXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLmNyb3NzaW5nU3RhZ2U9ZnVuY3Rpb24oYSl7KG5ldyBteE1lZGlhbkh5YnJpZENyb3NzaW5nUmVkdWN0aW9uKHRoaXMpKS5leGVjdXRlKGEpfTsKbXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLnBsYWNlbWVudFN0YWdlPWZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IG14Q29vcmRpbmF0ZUFzc2lnbm1lbnQodGhpcyx0aGlzLmludHJhQ2VsbFNwYWNpbmcsdGhpcy5pbnRlclJhbmtDZWxsU3BhY2luZyx0aGlzLm9yaWVudGF0aW9uLGEsdGhpcy5wYXJhbGxlbEVkZ2VTcGFjaW5nKTtjLmZpbmVUdW5pbmc9dGhpcy5maW5lVHVuaW5nO2MuZXhlY3V0ZShiKTtyZXR1cm4gYy5saW1pdFgrdGhpcy5pbnRlckhpZXJhcmNoeVNwYWNpbmd9O2Z1bmN0aW9uIG14U3dpbWxhbmVMYXlvdXQoYSxiLGMpe214R3JhcGhMYXlvdXQuY2FsbCh0aGlzLGEpO3RoaXMub3JpZW50YXRpb249bnVsbCE9Yj9iOm14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSDt0aGlzLmRldGVybWluaXN0aWM9bnVsbCE9Yz9jOiEwfW14U3dpbWxhbmVMYXlvdXQucHJvdG90eXBlPW5ldyBteEdyYXBoTGF5b3V0OwpteFN3aW1sYW5lTGF5b3V0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1teFN3aW1sYW5lTGF5b3V0O214U3dpbWxhbmVMYXlvdXQucHJvdG90eXBlLnJvb3RzPW51bGw7bXhTd2ltbGFuZUxheW91dC5wcm90b3R5cGUuc3dpbWxhbmVzPW51bGw7bXhTd2ltbGFuZUxheW91dC5wcm90b3R5cGUuZHVtbXlWZXJ0ZXhXaWR0aD01MDtteFN3aW1sYW5lTGF5b3V0LnByb3RvdHlwZS5yZXNpemVQYXJlbnQ9ITE7bXhTd2ltbGFuZUxheW91dC5wcm90b3R5cGUubWFpbnRhaW5QYXJlbnRMb2NhdGlvbj0hMTtteFN3aW1sYW5lTGF5b3V0LnByb3RvdHlwZS5tb3ZlUGFyZW50PSExO214U3dpbWxhbmVMYXlvdXQucHJvdG90eXBlLnBhcmVudEJvcmRlcj0zMDtteFN3aW1sYW5lTGF5b3V0LnByb3RvdHlwZS5pbnRyYUNlbGxTcGFjaW5nPTMwO214U3dpbWxhbmVMYXlvdXQucHJvdG90eXBlLmludGVyUmFua0NlbGxTcGFjaW5nPTEwMDsKbXhTd2ltbGFuZUxheW91dC5wcm90b3R5cGUuaW50ZXJIaWVyYXJjaHlTcGFjaW5nPTYwO214U3dpbWxhbmVMYXlvdXQucHJvdG90eXBlLnBhcmFsbGVsRWRnZVNwYWNpbmc9MTA7bXhTd2ltbGFuZUxheW91dC5wcm90b3R5cGUub3JpZW50YXRpb249bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIO214U3dpbWxhbmVMYXlvdXQucHJvdG90eXBlLmZpbmVUdW5pbmc9ITA7bXhTd2ltbGFuZUxheW91dC5wcm90b3R5cGUudGlnaHRlblRvU291cmNlPSEwO214U3dpbWxhbmVMYXlvdXQucHJvdG90eXBlLmRpc2FibGVFZGdlU3R5bGU9ITA7bXhTd2ltbGFuZUxheW91dC5wcm90b3R5cGUudHJhdmVyc2VBbmNlc3RvcnM9ITA7bXhTd2ltbGFuZUxheW91dC5wcm90b3R5cGUubW9kZWw9bnVsbDtteFN3aW1sYW5lTGF5b3V0LnByb3RvdHlwZS5lZGdlc0NhY2hlPW51bGw7bXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLmVkZ2VTb3VyY2VUZXJtQ2FjaGU9bnVsbDsKbXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLmVkZ2VzVGFyZ2V0VGVybUNhY2hlPW51bGw7bXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLmVkZ2VTdHlsZT1teEhpZXJhcmNoaWNhbEVkZ2VTdHlsZS5QT0xZTElORTtteFN3aW1sYW5lTGF5b3V0LnByb3RvdHlwZS5nZXRNb2RlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1vZGVsfTsKbXhTd2ltbGFuZUxheW91dC5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbihhLGIpe3RoaXMucGFyZW50PWE7dmFyIGM9dGhpcy5ncmFwaC5tb2RlbDt0aGlzLmVkZ2VzQ2FjaGU9bmV3IG14RGljdGlvbmFyeTt0aGlzLmVkZ2VTb3VyY2VUZXJtQ2FjaGU9bmV3IG14RGljdGlvbmFyeTt0aGlzLmVkZ2VzVGFyZ2V0VGVybUNhY2hlPW5ldyBteERpY3Rpb25hcnk7aWYoIShudWxsPT1ifHwxPmIubGVuZ3RoKSl7bnVsbD09YSYmKGE9Yy5nZXRQYXJlbnQoYlswXSkpO3RoaXMucGFyZW50WT10aGlzLnBhcmVudFg9bnVsbDtpZihhIT10aGlzLnJvb3QmJm51bGwhPWMuaXNWZXJ0ZXgoYSkmJnRoaXMubWFpbnRhaW5QYXJlbnRMb2NhdGlvbil7dmFyIGQ9dGhpcy5ncmFwaC5nZXRDZWxsR2VvbWV0cnkoYSk7bnVsbCE9ZCYmKHRoaXMucGFyZW50WD1kLngsdGhpcy5wYXJlbnRZPWQueSl9dGhpcy5zd2ltbGFuZXM9Yjtmb3IodmFyIGU9W10sZj0wO2Y8Yi5sZW5ndGg7ZisrKXt2YXIgZz10aGlzLmdyYXBoLmdldENoaWxkQ2VsbHMoYltmXSk7CmlmKG51bGw9PWd8fDA9PWcubGVuZ3RoKWc9dGhpcy5ncmFwaC5pbnNlcnRWZXJ0ZXgoYltmXSxudWxsLG51bGwsMCwwLHRoaXMuZHVtbXlWZXJ0ZXhXaWR0aCwwKSxlLnB1c2goZyl9Yy5iZWdpblVwZGF0ZSgpO3RyeXt0aGlzLnJ1bihhKSx0aGlzLnJlc2l6ZVBhcmVudCYmIXRoaXMuZ3JhcGguaXNDZWxsQ29sbGFwc2VkKGEpJiZ0aGlzLmdyYXBoLnVwZGF0ZUdyb3VwQm91bmRzKFthXSx0aGlzLnBhcmVudEJvcmRlcix0aGlzLm1vdmVQYXJlbnQpLG51bGwhPXRoaXMucGFyZW50WCYmbnVsbCE9dGhpcy5wYXJlbnRZJiYoZD10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeShhKSxudWxsIT1kJiYoZD1kLmNsb25lKCksZC54PXRoaXMucGFyZW50WCxkLnk9dGhpcy5wYXJlbnRZLGMuc2V0R2VvbWV0cnkoYSxkKSkpLHRoaXMuZ3JhcGgucmVtb3ZlQ2VsbHMoZSl9ZmluYWxseXtjLmVuZFVwZGF0ZSgpfX19OwpteFN3aW1sYW5lTGF5b3V0LnByb3RvdHlwZS51cGRhdGVHcm91cEJvdW5kcz1mdW5jdGlvbigpe3ZhciBhPVtdLGI9dGhpcy5tb2RlbCxjO2ZvcihjIGluIGIuZWRnZU1hcHBlcilmb3IodmFyIGQ9Yi5lZGdlTWFwcGVyW2NdLGU9MDtlPGQuZWRnZXMubGVuZ3RoO2UrKylhLnB1c2goZC5lZGdlc1tlXSk7YT10aGlzLmdyYXBoLmdldEJvdW5kaW5nQm94RnJvbUdlb21ldHJ5KGEsITApO2I9W107Zm9yKGU9MDtlPHRoaXMuc3dpbWxhbmVzLmxlbmd0aDtlKyspe3ZhciBmPXRoaXMuc3dpbWxhbmVzW2VdO2M9dGhpcy5ncmFwaC5nZXRDZWxsR2VvbWV0cnkoZik7aWYobnVsbCE9Yyl7dmFyIGc9dGhpcy5ncmFwaC5nZXRDaGlsZENlbGxzKGYpLGQ9dGhpcy5ncmFwaC5pc1N3aW1sYW5lKGYpP3RoaXMuZ3JhcGguZ2V0U3RhcnRTaXplKGYpOm5ldyBteFJlY3RhbmdsZSxmPXRoaXMuZ3JhcGguZ2V0Qm91bmRpbmdCb3hGcm9tR2VvbWV0cnkoZyk7YltlXT1mO2Q9Zi55K2MueS1kLmhlaWdodC0KdGhpcy5wYXJlbnRCb3JkZXI7Yz1mLnkrYy55K2YuaGVpZ2h0O251bGw9PWE/YT1uZXcgbXhSZWN0YW5nbGUoMCxkLDAsYy1kKTooYS55PU1hdGgubWluKGEueSxkKSxhLmhlaWdodD1NYXRoLm1heChhLnkrYS5oZWlnaHQsYyktYS55KX19Zm9yKGU9MDtlPHRoaXMuc3dpbWxhbmVzLmxlbmd0aDtlKyspaWYoZj10aGlzLnN3aW1sYW5lc1tlXSxjPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGYpLG51bGwhPWMpe3ZhciBnPXRoaXMuZ3JhcGguZ2V0Q2hpbGRDZWxscyhmKSxkPXRoaXMuZ3JhcGguaXNTd2ltbGFuZShmKT90aGlzLmdyYXBoLmdldFN0YXJ0U2l6ZShmKTpuZXcgbXhSZWN0YW5nbGUsaz1jLmNsb25lKCksbD1kLndpZHRoKygwPT1lP3RoaXMucGFyZW50Qm9yZGVyOnRoaXMuaW50ZXJSYW5rQ2VsbFNwYWNpbmcvMiksbT1iW2VdLngtbCxuPWEueS10aGlzLnBhcmVudEJvcmRlcjtrLngrPW07ay55PW47ay53aWR0aD1iW2VdLndpZHRoK2wrdGhpcy5pbnRlclJhbmtDZWxsU3BhY2luZy8KMjtrLmhlaWdodD1hLmhlaWdodCtkLmhlaWdodCsyKnRoaXMucGFyZW50Qm9yZGVyO3RoaXMuZ3JhcGgubW9kZWwuc2V0R2VvbWV0cnkoZixrKTt0aGlzLmdyYXBoLm1vdmVDZWxscyhnLC1tLGMueS1uKX19OwpteFN3aW1sYW5lTGF5b3V0LnByb3RvdHlwZS5maW5kUm9vdHM9ZnVuY3Rpb24oYSxiKXt2YXIgYz1bXTtpZihudWxsIT1hJiZudWxsIT1iKXt2YXIgZD10aGlzLmdyYXBoLm1vZGVsLGU9bnVsbCxmPS0xRTUsZztmb3IoZyBpbiBiKXt2YXIgaz1iW2ddO2lmKG51bGwhPWsmJmQuaXNWZXJ0ZXgoaykmJnRoaXMuZ3JhcGguaXNDZWxsVmlzaWJsZShrKSYmZC5pc0FuY2VzdG9yKGEsaykpe2Zvcih2YXIgbD10aGlzLmdldEVkZ2VzKGspLG09MCxuPTAscD0wO3A8bC5sZW5ndGg7cCsrKXt2YXIgcT10aGlzLmdldFZpc2libGVUZXJtaW5hbChsW3BdLCEwKTtxPT1rPyhxPXRoaXMuZ2V0VmlzaWJsZVRlcm1pbmFsKGxbcF0sITEpLGQuaXNBbmNlc3RvcihhLHEpJiZtKyspOmQuaXNBbmNlc3RvcihhLHEpJiZuKyt9MD09biYmMDxtJiZjLnB1c2goayk7bD1tLW47bD5mJiYoZj1sLGU9ayl9fTA9PWMubGVuZ3RoJiZudWxsIT1lJiZjLnB1c2goZSl9cmV0dXJuIGN9OwpteFN3aW1sYW5lTGF5b3V0LnByb3RvdHlwZS5nZXRFZGdlcz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmVkZ2VzQ2FjaGUuZ2V0KGEpO2lmKG51bGwhPWIpcmV0dXJuIGI7Zm9yKHZhciBjPXRoaXMuZ3JhcGgubW9kZWwsYj1bXSxkPXRoaXMuZ3JhcGguaXNDZWxsQ29sbGFwc2VkKGEpLGU9Yy5nZXRDaGlsZENvdW50KGEpLGY9MDtmPGU7ZisrKXt2YXIgZz1jLmdldENoaWxkQXQoYSxmKTtpZih0aGlzLmlzUG9ydChnKSliPWIuY29uY2F0KGMuZ2V0RWRnZXMoZywhMCwhMCkpO2Vsc2UgaWYoZHx8IXRoaXMuZ3JhcGguaXNDZWxsVmlzaWJsZShnKSliPWIuY29uY2F0KGMuZ2V0RWRnZXMoZywhMCwhMCkpfWI9Yi5jb25jYXQoYy5nZXRFZGdlcyhhLCEwLCEwKSk7Yz1bXTtmb3IoZj0wO2Y8Yi5sZW5ndGg7ZisrKWQ9dGhpcy5nZXRWaXNpYmxlVGVybWluYWwoYltmXSwhMCksZT10aGlzLmdldFZpc2libGVUZXJtaW5hbChiW2ZdLCExKSwoZD09ZXx8ZCE9ZSYmKGU9PWEmJihudWxsPT10aGlzLnBhcmVudHx8CnRoaXMuZ3JhcGguaXNWYWxpZEFuY2VzdG9yKGQsdGhpcy5wYXJlbnQsdGhpcy50cmF2ZXJzZUFuY2VzdG9ycykpfHxkPT1hJiYobnVsbD09dGhpcy5wYXJlbnR8fHRoaXMuZ3JhcGguaXNWYWxpZEFuY2VzdG9yKGUsdGhpcy5wYXJlbnQsdGhpcy50cmF2ZXJzZUFuY2VzdG9ycykpKSkmJmMucHVzaChiW2ZdKTt0aGlzLmVkZ2VzQ2FjaGUucHV0KGEsYyk7cmV0dXJuIGN9OwpteFN3aW1sYW5lTGF5b3V0LnByb3RvdHlwZS5nZXRWaXNpYmxlVGVybWluYWw9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmVkZ2VzVGFyZ2V0VGVybUNhY2hlO2ImJihjPXRoaXMuZWRnZVNvdXJjZVRlcm1DYWNoZSk7dmFyIGQ9Yy5nZXQoYSk7aWYobnVsbCE9ZClyZXR1cm4gZDt2YXIgZD10aGlzLmdyYXBoLnZpZXcuZ2V0U3RhdGUoYSksZT1udWxsIT1kP2QuZ2V0VmlzaWJsZVRlcm1pbmFsKGIpOnRoaXMuZ3JhcGgudmlldy5nZXRWaXNpYmxlVGVybWluYWwoYSxiKTtudWxsPT1lJiYoZT1udWxsIT1kP2QuZ2V0VmlzaWJsZVRlcm1pbmFsKGIpOnRoaXMuZ3JhcGgudmlldy5nZXRWaXNpYmxlVGVybWluYWwoYSxiKSk7bnVsbCE9ZSYmKHRoaXMuaXNQb3J0KGUpJiYoZT10aGlzLmdyYXBoLm1vZGVsLmdldFBhcmVudChlKSksYy5wdXQoYSxlKSk7cmV0dXJuIGV9OwpteFN3aW1sYW5lTGF5b3V0LnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oYSl7dmFyIGI9W10sYz17fTtpZihudWxsIT10aGlzLnN3aW1sYW5lcyYmMDx0aGlzLnN3aW1sYW5lcy5sZW5ndGgmJm51bGwhPWEpe2Zvcih2YXIgZD17fSxlPTA7ZTx0aGlzLnN3aW1sYW5lcy5sZW5ndGg7ZSsrKXRoaXMuZmlsdGVyRGVzY2VuZGFudHModGhpcy5zd2ltbGFuZXNbZV0sZCk7dGhpcy5yb290cz1bXTt2YXIgZT0hMCxmO2ZvcihmIGluIGQpaWYobnVsbCE9ZFtmXSl7ZT0hMTticmVha31mb3IodmFyIGc9MDshZSYmZzx0aGlzLnN3aW1sYW5lcy5sZW5ndGg7KXt2YXIgaz10aGlzLmZpbmRSb290cyh0aGlzLnN3aW1sYW5lc1tnXSxkKTtpZigwPT1rLmxlbmd0aClnKys7ZWxzZXtmb3IoZT0wO2U8ay5sZW5ndGg7ZSsrKXt2YXIgbD17fTtiLnB1c2gobCk7dGhpcy50cmF2ZXJzZShrW2VdLCEwLG51bGwsYyxsLGIsZCxnKX1mb3IoZT0wO2U8ay5sZW5ndGg7ZSsrKXRoaXMucm9vdHMucHVzaChrW2VdKTsKZT0hMDtmb3IoZiBpbiBkKWlmKG51bGwhPWRbZl0pe2U9ITE7YnJlYWt9fX19ZWxzZSBmb3IoZT0wO2U8dGhpcy5yb290cy5sZW5ndGg7ZSsrKWw9e30sYi5wdXNoKGwpLHRoaXMudHJhdmVyc2UodGhpcy5yb290c1tlXSwhMCxudWxsLGMsbCxiLG51bGwpO2I9W107Zm9yKGYgaW4gYyliLnB1c2goY1tmXSk7dGhpcy5tb2RlbD1uZXcgbXhTd2ltbGFuZU1vZGVsKHRoaXMsYix0aGlzLnJvb3RzLGEsdGhpcy50aWdodGVuVG9Tb3VyY2UpO3RoaXMuY3ljbGVTdGFnZShhKTt0aGlzLmxheWVyaW5nU3RhZ2UoKTt0aGlzLmNyb3NzaW5nU3RhZ2UoYSk7dGhpcy5wbGFjZW1lbnRTdGFnZSgwLGEpfTsKbXhTd2ltbGFuZUxheW91dC5wcm90b3R5cGUuZmlsdGVyRGVzY2VuZGFudHM9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdyYXBoLm1vZGVsO2MuaXNWZXJ0ZXgoYSkmJmEhPXRoaXMucGFyZW50JiZjLmdldFBhcmVudChhKSE9dGhpcy5wYXJlbnQmJnRoaXMuZ3JhcGguaXNDZWxsVmlzaWJsZShhKSYmKGJbbXhPYmplY3RJZGVudGl0eS5nZXQoYSldPWEpO2lmKHRoaXMudHJhdmVyc2VBbmNlc3RvcnN8fGE9PXRoaXMucGFyZW50JiZ0aGlzLmdyYXBoLmlzQ2VsbFZpc2libGUoYSkpZm9yKHZhciBkPWMuZ2V0Q2hpbGRDb3VudChhKSxlPTA7ZTxkO2UrKyl7dmFyIGY9Yy5nZXRDaGlsZEF0KGEsZSk7dGhpcy5pc1BvcnQoZil8fHRoaXMuZmlsdGVyRGVzY2VuZGFudHMoZixiKX19O214U3dpbWxhbmVMYXlvdXQucHJvdG90eXBlLmlzUG9ydD1mdW5jdGlvbihhKXtyZXR1cm4gYS5nZW9tZXRyeS5yZWxhdGl2ZT8hMDohMX07Cm14U3dpbWxhbmVMYXlvdXQucHJvdG90eXBlLmdldEVkZ2VzQmV0d2Vlbj1mdW5jdGlvbihhLGIsYyl7Yz1udWxsIT1jP2M6ITE7Zm9yKHZhciBkPXRoaXMuZ2V0RWRnZXMoYSksZT1bXSxmPTA7ZjxkLmxlbmd0aDtmKyspe3ZhciBnPXRoaXMuZ2V0VmlzaWJsZVRlcm1pbmFsKGRbZl0sITApLGs9dGhpcy5nZXRWaXNpYmxlVGVybWluYWwoZFtmXSwhMSk7KGc9PWEmJms9PWJ8fCFjJiZnPT1iJiZrPT1hKSYmZS5wdXNoKGRbZl0pfXJldHVybiBlfTsKbXhTd2ltbGFuZUxheW91dC5wcm90b3R5cGUudHJhdmVyc2U9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxrKXtpZihudWxsIT1hJiZudWxsIT1kKXt2YXIgbD1teE9iamVjdElkZW50aXR5LmdldChhKTtpZihudWxsPT1kW2xdJiYobnVsbD09Z3x8bnVsbCE9Z1tsXSkpe251bGw9PWVbbF0mJihlW2xdPWEpO251bGw9PWRbbF0mJihkW2xdPWEpO251bGwhPT1nJiZkZWxldGUgZ1tsXTt2YXIgbT10aGlzLmdldEVkZ2VzKGEpLGw9dGhpcy5ncmFwaC5tb2RlbDtmb3IoYz0wO2M8bS5sZW5ndGg7YysrKXt2YXIgbj10aGlzLmdldFZpc2libGVUZXJtaW5hbChtW2NdLCEwKSxwPW49PWE7cCYmKG49dGhpcy5nZXRWaXNpYmxlVGVybWluYWwobVtjXSwhMSkpO3ZhciBxO2ZvcihxPTA7cTx0aGlzLnN3aW1sYW5lcy5sZW5ndGgmJiFsLmlzQW5jZXN0b3IodGhpcy5zd2ltbGFuZXNbcV0sbik7cSsrKTtxPj10aGlzLnN3aW1sYW5lcy5sZW5ndGh8fCEocT5rfHwoIWJ8fHApJiZxPT1rKXx8KGU9dGhpcy50cmF2ZXJzZShuLApiLG1bY10sZCxlLGYsZyxxKSl9fWVsc2UgaWYobnVsbD09ZVtsXSlmb3IoYz0wO2M8Zi5sZW5ndGg7YysrKWlmKGE9ZltjXSxudWxsIT1hW2xdKXtmb3IobSBpbiBhKWVbbV09YVttXTtmLnNwbGljZShjLDEpO2JyZWFrfX1yZXR1cm4gZX07bXhTd2ltbGFuZUxheW91dC5wcm90b3R5cGUuY3ljbGVTdGFnZT1mdW5jdGlvbihhKXsobmV3IG14U3dpbWxhbmVPcmRlcmluZyh0aGlzKSkuZXhlY3V0ZShhKX07bXhTd2ltbGFuZUxheW91dC5wcm90b3R5cGUubGF5ZXJpbmdTdGFnZT1mdW5jdGlvbigpe3RoaXMubW9kZWwuaW5pdGlhbFJhbmsoKTt0aGlzLm1vZGVsLmZpeFJhbmtzKCl9O214U3dpbWxhbmVMYXlvdXQucHJvdG90eXBlLmNyb3NzaW5nU3RhZ2U9ZnVuY3Rpb24oYSl7KG5ldyBteE1lZGlhbkh5YnJpZENyb3NzaW5nUmVkdWN0aW9uKHRoaXMpKS5leGVjdXRlKGEpfTsKbXhTd2ltbGFuZUxheW91dC5wcm90b3R5cGUucGxhY2VtZW50U3RhZ2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgbXhDb29yZGluYXRlQXNzaWdubWVudCh0aGlzLHRoaXMuaW50cmFDZWxsU3BhY2luZyx0aGlzLmludGVyUmFua0NlbGxTcGFjaW5nLHRoaXMub3JpZW50YXRpb24sYSx0aGlzLnBhcmFsbGVsRWRnZVNwYWNpbmcpO2MuZmluZVR1bmluZz10aGlzLmZpbmVUdW5pbmc7Yy5leGVjdXRlKGIpO3JldHVybiBjLmxpbWl0WCt0aGlzLmludGVySGllcmFyY2h5U3BhY2luZ307ZnVuY3Rpb24gbXhHcmFwaE1vZGVsKGEpe3RoaXMuY3VycmVudEVkaXQ9dGhpcy5jcmVhdGVVbmRvYWJsZUVkaXQoKTtudWxsIT1hP3RoaXMuc2V0Um9vdChhKTp0aGlzLmNsZWFyKCl9bXhHcmFwaE1vZGVsLnByb3RvdHlwZT1uZXcgbXhFdmVudFNvdXJjZTtteEdyYXBoTW9kZWwucHJvdG90eXBlLmNvbnN0cnVjdG9yPW14R3JhcGhNb2RlbDtteEdyYXBoTW9kZWwucHJvdG90eXBlLnJvb3Q9bnVsbDsKbXhHcmFwaE1vZGVsLnByb3RvdHlwZS5jZWxscz1udWxsO214R3JhcGhNb2RlbC5wcm90b3R5cGUubWFpbnRhaW5FZGdlUGFyZW50PSEwO214R3JhcGhNb2RlbC5wcm90b3R5cGUuaWdub3JlUmVsYXRpdmVFZGdlUGFyZW50PSEwO214R3JhcGhNb2RlbC5wcm90b3R5cGUuY3JlYXRlSWRzPSEwO214R3JhcGhNb2RlbC5wcm90b3R5cGUucHJlZml4PSIiO214R3JhcGhNb2RlbC5wcm90b3R5cGUucG9zdGZpeD0iIjtteEdyYXBoTW9kZWwucHJvdG90eXBlLm5leHRJZD0wO214R3JhcGhNb2RlbC5wcm90b3R5cGUuY3VycmVudEVkaXQ9bnVsbDtteEdyYXBoTW9kZWwucHJvdG90eXBlLnVwZGF0ZUxldmVsPTA7bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5lbmRpbmdVcGRhdGU9ITE7bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuc2V0Um9vdCh0aGlzLmNyZWF0ZVJvb3QoKSl9O214R3JhcGhNb2RlbC5wcm90b3R5cGUuaXNDcmVhdGVJZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jcmVhdGVJZHN9OwpteEdyYXBoTW9kZWwucHJvdG90eXBlLnNldENyZWF0ZUlkcz1mdW5jdGlvbihhKXt0aGlzLmNyZWF0ZUlkcz1hfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLmNyZWF0ZVJvb3Q9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgbXhDZWxsO2EuaW5zZXJ0KG5ldyBteENlbGwpO3JldHVybiBhfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLmdldENlbGw9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPXRoaXMuY2VsbHM/dGhpcy5jZWxsc1thXTpudWxsfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLmZpbHRlckNlbGxzPWZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbDtpZihudWxsIT1hKWZvcih2YXIgYz1bXSxkPTA7ZDxhLmxlbmd0aDtkKyspYihhW2RdKSYmYy5wdXNoKGFbZF0pO3JldHVybiBjfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLmdldERlc2NlbmRhbnRzPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmZpbHRlckRlc2NlbmRhbnRzKG51bGwsYSl9OwpteEdyYXBoTW9kZWwucHJvdG90eXBlLmZpbHRlckRlc2NlbmRhbnRzPWZ1bmN0aW9uKGEsYil7dmFyIGM9W107Yj1ifHx0aGlzLmdldFJvb3QoKTsobnVsbD09YXx8YShiKSkmJmMucHVzaChiKTtmb3IodmFyIGQ9dGhpcy5nZXRDaGlsZENvdW50KGIpLGU9MDtlPGQ7ZSsrKXZhciBmPXRoaXMuZ2V0Q2hpbGRBdChiLGUpLGM9Yy5jb25jYXQodGhpcy5maWx0ZXJEZXNjZW5kYW50cyhhLGYpKTtyZXR1cm4gY307bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5nZXRSb290PWZ1bmN0aW9uKGEpe3ZhciBiPWF8fHRoaXMucm9vdDtpZihudWxsIT1hKWZvcig7bnVsbCE9YTspYj1hLGE9dGhpcy5nZXRQYXJlbnQoYSk7cmV0dXJuIGJ9O214R3JhcGhNb2RlbC5wcm90b3R5cGUuc2V0Um9vdD1mdW5jdGlvbihhKXt0aGlzLmV4ZWN1dGUobmV3IG14Um9vdENoYW5nZSh0aGlzLGEpKTtyZXR1cm4gYX07Cm14R3JhcGhNb2RlbC5wcm90b3R5cGUucm9vdENoYW5nZWQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5yb290O3RoaXMucm9vdD1hO3RoaXMubmV4dElkPTA7dGhpcy5jZWxscz1udWxsO3RoaXMuY2VsbEFkZGVkKGEpO3JldHVybiBifTtteEdyYXBoTW9kZWwucHJvdG90eXBlLmlzUm9vdD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YSYmdGhpcy5yb290PT1hfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLmlzTGF5ZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXNSb290KHRoaXMuZ2V0UGFyZW50KGEpKX07bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5pc0FuY2VzdG9yPWZ1bmN0aW9uKGEsYil7Zm9yKDtudWxsIT1iJiZiIT1hOyliPXRoaXMuZ2V0UGFyZW50KGIpO3JldHVybiBiPT1hfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzQW5jZXN0b3IodGhpcy5yb290LGEpfTsKbXhHcmFwaE1vZGVsLnByb3RvdHlwZS5nZXRQYXJlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/YS5nZXRQYXJlbnQoKTpudWxsfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLmFkZD1mdW5jdGlvbihhLGIsYyl7aWYoYiE9YSYmbnVsbCE9YSYmbnVsbCE9Yil7bnVsbD09YyYmKGM9dGhpcy5nZXRDaGlsZENvdW50KGEpKTt2YXIgZD1hIT10aGlzLmdldFBhcmVudChiKTt0aGlzLmV4ZWN1dGUobmV3IG14Q2hpbGRDaGFuZ2UodGhpcyxhLGIsYykpO3RoaXMubWFpbnRhaW5FZGdlUGFyZW50JiZkJiZ0aGlzLnVwZGF0ZUVkZ2VQYXJlbnRzKGIpfXJldHVybiBifTsKbXhHcmFwaE1vZGVsLnByb3RvdHlwZS5jZWxsQWRkZWQ9ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSl7bnVsbD09YS5nZXRJZCgpJiZ0aGlzLmNyZWF0ZUlkcyYmYS5zZXRJZCh0aGlzLmNyZWF0ZUlkKGEpKTtpZihudWxsIT1hLmdldElkKCkpe3ZhciBiPXRoaXMuZ2V0Q2VsbChhLmdldElkKCkpO2lmKGIhPWEpe2Zvcig7bnVsbCE9YjspYS5zZXRJZCh0aGlzLmNyZWF0ZUlkKGEpKSxiPXRoaXMuZ2V0Q2VsbChhLmdldElkKCkpO251bGw9PXRoaXMuY2VsbHMmJih0aGlzLmNlbGxzPXt9KTt0aGlzLmNlbGxzW2EuZ2V0SWQoKV09YX19bXhVdGlscy5pc051bWVyaWMoYS5nZXRJZCgpKSYmKHRoaXMubmV4dElkPU1hdGgubWF4KHRoaXMubmV4dElkLGEuZ2V0SWQoKSkpO2Zvcih2YXIgYj10aGlzLmdldENoaWxkQ291bnQoYSksYz0wO2M8YjtjKyspdGhpcy5jZWxsQWRkZWQodGhpcy5nZXRDaGlsZEF0KGEsYykpfX07Cm14R3JhcGhNb2RlbC5wcm90b3R5cGUuY3JlYXRlSWQ9ZnVuY3Rpb24oYSl7YT10aGlzLm5leHRJZDt0aGlzLm5leHRJZCsrO3JldHVybiB0aGlzLnByZWZpeCthK3RoaXMucG9zdGZpeH07bXhHcmFwaE1vZGVsLnByb3RvdHlwZS51cGRhdGVFZGdlUGFyZW50cz1mdW5jdGlvbihhLGIpe2I9Ynx8dGhpcy5nZXRSb290KGEpO2Zvcih2YXIgYz10aGlzLmdldENoaWxkQ291bnQoYSksZD0wO2Q8YztkKyspe3ZhciBlPXRoaXMuZ2V0Q2hpbGRBdChhLGQpO3RoaXMudXBkYXRlRWRnZVBhcmVudHMoZSxiKX1lPXRoaXMuZ2V0RWRnZUNvdW50KGEpO2M9W107Zm9yKGQ9MDtkPGU7ZCsrKWMucHVzaCh0aGlzLmdldEVkZ2VBdChhLGQpKTtmb3IoZD0wO2Q8Yy5sZW5ndGg7ZCsrKWU9Y1tkXSx0aGlzLmlzQW5jZXN0b3IoYixlKSYmdGhpcy51cGRhdGVFZGdlUGFyZW50KGUsYil9OwpteEdyYXBoTW9kZWwucHJvdG90eXBlLnVwZGF0ZUVkZ2VQYXJlbnQ9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9dGhpcy5nZXRUZXJtaW5hbChhLCEwKSxkPXRoaXMuZ2V0VGVybWluYWwoYSwhMSk7bnVsbCE9YyYmIXRoaXMuaXNFZGdlKGMpJiZudWxsIT1jLmdlb21ldHJ5JiZjLmdlb21ldHJ5LnJlbGF0aXZlOyljPXRoaXMuZ2V0UGFyZW50KGMpO2Zvcig7bnVsbCE9ZCYmdGhpcy5pZ25vcmVSZWxhdGl2ZUVkZ2VQYXJlbnQmJiF0aGlzLmlzRWRnZShkKSYmbnVsbCE9ZC5nZW9tZXRyeSYmZC5nZW9tZXRyeS5yZWxhdGl2ZTspZD10aGlzLmdldFBhcmVudChkKTtpZih0aGlzLmlzQW5jZXN0b3IoYixjKSYmdGhpcy5pc0FuY2VzdG9yKGIsZCkmJihjPWM9PWQ/dGhpcy5nZXRQYXJlbnQoYyk6dGhpcy5nZXROZWFyZXN0Q29tbW9uQW5jZXN0b3IoYyxkKSxudWxsIT1jJiYodGhpcy5nZXRQYXJlbnQoYykhPXRoaXMucm9vdHx8dGhpcy5pc0FuY2VzdG9yKGMsYSkpJiZ0aGlzLmdldFBhcmVudChhKSE9CmMpKXtkPXRoaXMuZ2V0R2VvbWV0cnkoYSk7aWYobnVsbCE9ZCl7dmFyIGU9dGhpcy5nZXRPcmlnaW4odGhpcy5nZXRQYXJlbnQoYSkpLGY9dGhpcy5nZXRPcmlnaW4oYyksZz1mLngtZS54LGU9Zi55LWUueSxkPWQuY2xvbmUoKTtkLnRyYW5zbGF0ZSgtZywtZSk7dGhpcy5zZXRHZW9tZXRyeShhLGQpfXRoaXMuYWRkKGMsYSx0aGlzLmdldENoaWxkQ291bnQoYykpfX07bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5nZXRPcmlnaW49ZnVuY3Rpb24oYSl7dmFyIGI7bnVsbCE9YT8oYj10aGlzLmdldE9yaWdpbih0aGlzLmdldFBhcmVudChhKSksdGhpcy5pc0VkZ2UoYSl8fChhPXRoaXMuZ2V0R2VvbWV0cnkoYSksbnVsbCE9YSYmKGIueCs9YS54LGIueSs9YS55KSkpOmI9bmV3IG14UG9pbnQ7cmV0dXJuIGJ9OwpteEdyYXBoTW9kZWwucHJvdG90eXBlLmdldE5lYXJlc3RDb21tb25BbmNlc3Rvcj1mdW5jdGlvbihhLGIpe2lmKG51bGwhPWEmJm51bGwhPWIpe3ZhciBjPW14Q2VsbFBhdGguY3JlYXRlKGIpO2lmKG51bGwhPWMmJjA8Yy5sZW5ndGgpe3ZhciBkPWEsZT1teENlbGxQYXRoLmNyZWF0ZShkKTtpZihjLmxlbmd0aDxlLmxlbmd0aCl2YXIgZD1iLGY9ZSxlPWMsYz1mO2Zvcig7bnVsbCE9ZDspe2Y9dGhpcy5nZXRQYXJlbnQoZCk7aWYoMD09Yy5pbmRleE9mKGUrbXhDZWxsUGF0aC5QQVRIX1NFUEFSQVRPUikmJm51bGwhPWYpcmV0dXJuIGQ7ZT1teENlbGxQYXRoLmdldFBhcmVudFBhdGgoZSk7ZD1mfX19cmV0dXJuIG51bGx9O214R3JhcGhNb2RlbC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGEpe2E9PXRoaXMucm9vdD90aGlzLnNldFJvb3QobnVsbCk6bnVsbCE9dGhpcy5nZXRQYXJlbnQoYSkmJnRoaXMuZXhlY3V0ZShuZXcgbXhDaGlsZENoYW5nZSh0aGlzLG51bGwsYSkpO3JldHVybiBhfTsKbXhHcmFwaE1vZGVsLnByb3RvdHlwZS5jZWxsUmVtb3ZlZD1mdW5jdGlvbihhKXtpZihudWxsIT1hJiZudWxsIT10aGlzLmNlbGxzKXtmb3IodmFyIGI9dGhpcy5nZXRDaGlsZENvdW50KGEpLTE7MDw9YjtiLS0pdGhpcy5jZWxsUmVtb3ZlZCh0aGlzLmdldENoaWxkQXQoYSxiKSk7bnVsbCE9dGhpcy5jZWxscyYmbnVsbCE9YS5nZXRJZCgpJiZkZWxldGUgdGhpcy5jZWxsc1thLmdldElkKCldfX07bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5wYXJlbnRGb3JDZWxsQ2hhbmdlZD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5nZXRQYXJlbnQoYSk7bnVsbCE9Yj9iPT1kJiZkLmdldEluZGV4KGEpPT1jfHxiLmluc2VydChhLGMpOm51bGwhPWQmJihjPWQuZ2V0SW5kZXgoYSksZC5yZW1vdmUoYykpO2I9dGhpcy5jb250YWlucyhiKTtjPXRoaXMuY29udGFpbnMoZCk7YiYmIWM/dGhpcy5jZWxsQWRkZWQoYSk6YyYmIWImJnRoaXMuY2VsbFJlbW92ZWQoYSk7cmV0dXJuIGR9OwpteEdyYXBoTW9kZWwucHJvdG90eXBlLmdldENoaWxkQ291bnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/YS5nZXRDaGlsZENvdW50KCk6MH07bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5nZXRDaGlsZEF0PWZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGwhPWE/YS5nZXRDaGlsZEF0KGIpOm51bGx9O214R3JhcGhNb2RlbC5wcm90b3R5cGUuZ2V0Q2hpbGRyZW49ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/YS5jaGlsZHJlbjpudWxsfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLmdldENoaWxkVmVydGljZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ2V0Q2hpbGRDZWxscyhhLCEwLCExKX07bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5nZXRDaGlsZEVkZ2VzPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdldENoaWxkQ2VsbHMoYSwhMSwhMCl9OwpteEdyYXBoTW9kZWwucHJvdG90eXBlLmdldENoaWxkQ2VsbHM9ZnVuY3Rpb24oYSxiLGMpe2I9bnVsbCE9Yj9iOiExO2M9bnVsbCE9Yz9jOiExO2Zvcih2YXIgZD10aGlzLmdldENoaWxkQ291bnQoYSksZT1bXSxmPTA7ZjxkO2YrKyl7dmFyIGc9dGhpcy5nZXRDaGlsZEF0KGEsZik7KCFjJiYhYnx8YyYmdGhpcy5pc0VkZ2UoZyl8fGImJnRoaXMuaXNWZXJ0ZXgoZykpJiZlLnB1c2goZyl9cmV0dXJuIGV9O214R3JhcGhNb2RlbC5wcm90b3R5cGUuZ2V0VGVybWluYWw9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbnVsbCE9YT9hLmdldFRlcm1pbmFsKGIpOm51bGx9OwpteEdyYXBoTW9kZWwucHJvdG90eXBlLnNldFRlcm1pbmFsPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1iIT10aGlzLmdldFRlcm1pbmFsKGEsYyk7dGhpcy5leGVjdXRlKG5ldyBteFRlcm1pbmFsQ2hhbmdlKHRoaXMsYSxiLGMpKTt0aGlzLm1haW50YWluRWRnZVBhcmVudCYmZCYmdGhpcy51cGRhdGVFZGdlUGFyZW50KGEsdGhpcy5nZXRSb290KCkpO3JldHVybiBifTtteEdyYXBoTW9kZWwucHJvdG90eXBlLnNldFRlcm1pbmFscz1mdW5jdGlvbihhLGIsYyl7dGhpcy5iZWdpblVwZGF0ZSgpO3RyeXt0aGlzLnNldFRlcm1pbmFsKGEsYiwhMCksdGhpcy5zZXRUZXJtaW5hbChhLGMsITEpfWZpbmFsbHl7dGhpcy5lbmRVcGRhdGUoKX19OwpteEdyYXBoTW9kZWwucHJvdG90eXBlLnRlcm1pbmFsRm9yQ2VsbENoYW5nZWQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuZ2V0VGVybWluYWwoYSxjKTtudWxsIT1iP2IuaW5zZXJ0RWRnZShhLGMpOm51bGwhPWQmJmQucmVtb3ZlRWRnZShhLGMpO3JldHVybiBkfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLmdldEVkZ2VDb3VudD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT9hLmdldEVkZ2VDb3VudCgpOjB9O214R3JhcGhNb2RlbC5wcm90b3R5cGUuZ2V0RWRnZUF0PWZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGwhPWE/YS5nZXRFZGdlQXQoYik6bnVsbH07bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5nZXREaXJlY3RlZEVkZ2VDb3VudD1mdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPTAsZT10aGlzLmdldEVkZ2VDb3VudChhKSxmPTA7ZjxlO2YrKyl7dmFyIGc9dGhpcy5nZXRFZGdlQXQoYSxmKTtnIT1jJiZ0aGlzLmdldFRlcm1pbmFsKGcsYik9PWEmJmQrK31yZXR1cm4gZH07Cm14R3JhcGhNb2RlbC5wcm90b3R5cGUuZ2V0Q29ubmVjdGlvbnM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ2V0RWRnZXMoYSwhMCwhMCwhMSl9O214R3JhcGhNb2RlbC5wcm90b3R5cGUuZ2V0SW5jb21pbmdFZGdlcz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5nZXRFZGdlcyhhLCEwLCExLCExKX07bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5nZXRPdXRnb2luZ0VkZ2VzPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdldEVkZ2VzKGEsITEsITAsITEpfTsKbXhHcmFwaE1vZGVsLnByb3RvdHlwZS5nZXRFZGdlcz1mdW5jdGlvbihhLGIsYyxkKXtiPW51bGwhPWI/YjohMDtjPW51bGwhPWM/YzohMDtkPW51bGwhPWQ/ZDohMDtmb3IodmFyIGU9dGhpcy5nZXRFZGdlQ291bnQoYSksZj1bXSxnPTA7ZzxlO2crKyl7dmFyIGs9dGhpcy5nZXRFZGdlQXQoYSxnKSxsPXRoaXMuZ2V0VGVybWluYWwoaywhMCksbT10aGlzLmdldFRlcm1pbmFsKGssITEpOyhkJiZsPT1tfHxsIT1tJiYoYiYmbT09YXx8YyYmbD09YSkpJiZmLnB1c2goayl9cmV0dXJuIGZ9OwpteEdyYXBoTW9kZWwucHJvdG90eXBlLmdldEVkZ2VzQmV0d2Vlbj1mdW5jdGlvbihhLGIsYyl7Yz1udWxsIT1jP2M6ITE7dmFyIGQ9dGhpcy5nZXRFZGdlQ291bnQoYSksZT10aGlzLmdldEVkZ2VDb3VudChiKSxmPWEsZz1kO2U8ZCYmKGc9ZSxmPWIpO2Q9W107Zm9yKGU9MDtlPGc7ZSsrKXt2YXIgaz10aGlzLmdldEVkZ2VBdChmLGUpLGw9dGhpcy5nZXRUZXJtaW5hbChrLCEwKSxtPXRoaXMuZ2V0VGVybWluYWwoaywhMSksbj1tPT1hJiZsPT1iOyhsPT1hJiZtPT1ifHwhYyYmbikmJmQucHVzaChrKX1yZXR1cm4gZH07Cm14R3JhcGhNb2RlbC5wcm90b3R5cGUuZ2V0T3Bwb3NpdGVzPWZ1bmN0aW9uKGEsYixjLGQpe2M9bnVsbCE9Yz9jOiEwO2Q9bnVsbCE9ZD9kOiEwO3ZhciBlPVtdO2lmKG51bGwhPWEpZm9yKHZhciBmPTA7ZjxhLmxlbmd0aDtmKyspe3ZhciBnPXRoaXMuZ2V0VGVybWluYWwoYVtmXSwhMCksaz10aGlzLmdldFRlcm1pbmFsKGFbZl0sITEpO2c9PWImJm51bGwhPWsmJmshPWImJmQ/ZS5wdXNoKGspOms9PWImJm51bGwhPWcmJmchPWImJmMmJmUucHVzaChnKX1yZXR1cm4gZX07Cm14R3JhcGhNb2RlbC5wcm90b3R5cGUuZ2V0VG9wbW9zdENlbGxzPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1uZXcgbXhEaWN0aW9uYXJ5LGM9W10sZD0wO2Q8YS5sZW5ndGg7ZCsrKWIucHV0KGFbZF0sITApO2ZvcihkPTA7ZDxhLmxlbmd0aDtkKyspe2Zvcih2YXIgZT1hW2RdLGY9ITAsZz10aGlzLmdldFBhcmVudChlKTtudWxsIT1nOyl7aWYoYi5nZXQoZykpe2Y9ITE7YnJlYWt9Zz10aGlzLmdldFBhcmVudChnKX1mJiZjLnB1c2goZSl9cmV0dXJuIGN9O214R3JhcGhNb2RlbC5wcm90b3R5cGUuaXNWZXJ0ZXg9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/YS5pc1ZlcnRleCgpOiExfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLmlzRWRnZT1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT9hLmlzRWRnZSgpOiExfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLmlzQ29ubmVjdGFibGU9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/YS5pc0Nvbm5lY3RhYmxlKCk6ITF9OwpteEdyYXBoTW9kZWwucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hP2EuZ2V0VmFsdWUoKTpudWxsfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKGEsYil7dGhpcy5leGVjdXRlKG5ldyBteFZhbHVlQ2hhbmdlKHRoaXMsYSxiKSk7cmV0dXJuIGJ9O214R3JhcGhNb2RlbC5wcm90b3R5cGUudmFsdWVGb3JDZWxsQ2hhbmdlZD1mdW5jdGlvbihhLGIpe3JldHVybiBhLnZhbHVlQ2hhbmdlZChiKX07bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5nZXRHZW9tZXRyeT1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT9hLmdldEdlb21ldHJ5KCk6bnVsbH07bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5zZXRHZW9tZXRyeT1mdW5jdGlvbihhLGIpe2IhPXRoaXMuZ2V0R2VvbWV0cnkoYSkmJnRoaXMuZXhlY3V0ZShuZXcgbXhHZW9tZXRyeUNoYW5nZSh0aGlzLGEsYikpO3JldHVybiBifTsKbXhHcmFwaE1vZGVsLnByb3RvdHlwZS5nZW9tZXRyeUZvckNlbGxDaGFuZ2VkPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRHZW9tZXRyeShhKTthLnNldEdlb21ldHJ5KGIpO3JldHVybiBjfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLmdldFN0eWxlPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hP2EuZ2V0U3R5bGUoKTpudWxsfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLnNldFN0eWxlPWZ1bmN0aW9uKGEsYil7YiE9dGhpcy5nZXRTdHlsZShhKSYmdGhpcy5leGVjdXRlKG5ldyBteFN0eWxlQ2hhbmdlKHRoaXMsYSxiKSk7cmV0dXJuIGJ9O214R3JhcGhNb2RlbC5wcm90b3R5cGUuc3R5bGVGb3JDZWxsQ2hhbmdlZD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0U3R5bGUoYSk7YS5zZXRTdHlsZShiKTtyZXR1cm4gY307bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5pc0NvbGxhcHNlZD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT9hLmlzQ29sbGFwc2VkKCk6ITF9OwpteEdyYXBoTW9kZWwucHJvdG90eXBlLnNldENvbGxhcHNlZD1mdW5jdGlvbihhLGIpe2IhPXRoaXMuaXNDb2xsYXBzZWQoYSkmJnRoaXMuZXhlY3V0ZShuZXcgbXhDb2xsYXBzZUNoYW5nZSh0aGlzLGEsYikpO3JldHVybiBifTtteEdyYXBoTW9kZWwucHJvdG90eXBlLmNvbGxhcHNlZFN0YXRlRm9yQ2VsbENoYW5nZWQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmlzQ29sbGFwc2VkKGEpO2Euc2V0Q29sbGFwc2VkKGIpO3JldHVybiBjfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLmlzVmlzaWJsZT1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT9hLmlzVmlzaWJsZSgpOiExfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLnNldFZpc2libGU9ZnVuY3Rpb24oYSxiKXtiIT10aGlzLmlzVmlzaWJsZShhKSYmdGhpcy5leGVjdXRlKG5ldyBteFZpc2libGVDaGFuZ2UodGhpcyxhLGIpKTtyZXR1cm4gYn07Cm14R3JhcGhNb2RlbC5wcm90b3R5cGUudmlzaWJsZVN0YXRlRm9yQ2VsbENoYW5nZWQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmlzVmlzaWJsZShhKTthLnNldFZpc2libGUoYik7cmV0dXJuIGN9O214R3JhcGhNb2RlbC5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbihhKXthLmV4ZWN1dGUoKTt0aGlzLmJlZ2luVXBkYXRlKCk7dGhpcy5jdXJyZW50RWRpdC5hZGQoYSk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5FWEVDVVRFLCJjaGFuZ2UiLGEpKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkVYRUNVVEVELCJjaGFuZ2UiLGEpKTt0aGlzLmVuZFVwZGF0ZSgpfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLmJlZ2luVXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy51cGRhdGVMZXZlbCsrO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuQkVHSU5fVVBEQVRFKSk7MT09dGhpcy51cGRhdGVMZXZlbCYmdGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5TVEFSVF9FRElUKSl9OwpteEdyYXBoTW9kZWwucHJvdG90eXBlLmVuZFVwZGF0ZT1mdW5jdGlvbigpe3RoaXMudXBkYXRlTGV2ZWwtLTswPT10aGlzLnVwZGF0ZUxldmVsJiZ0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkVORF9FRElUKSk7aWYoIXRoaXMuZW5kaW5nVXBkYXRlKXt0aGlzLmVuZGluZ1VwZGF0ZT0wPT10aGlzLnVwZGF0ZUxldmVsO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuRU5EX1VQREFURSwiZWRpdCIsdGhpcy5jdXJyZW50RWRpdCkpO3RyeXtpZih0aGlzLmVuZGluZ1VwZGF0ZSYmIXRoaXMuY3VycmVudEVkaXQuaXNFbXB0eSgpKXt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkJFRk9SRV9VTkRPLCJlZGl0Iix0aGlzLmN1cnJlbnRFZGl0KSk7dmFyIGE9dGhpcy5jdXJyZW50RWRpdDt0aGlzLmN1cnJlbnRFZGl0PXRoaXMuY3JlYXRlVW5kb2FibGVFZGl0KCk7YS5ub3RpZnkoKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlVORE8sCiJlZGl0IixhKSl9fWZpbmFsbHl7dGhpcy5lbmRpbmdVcGRhdGU9ITF9fX07bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5jcmVhdGVVbmRvYWJsZUVkaXQ9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IG14VW5kb2FibGVFZGl0KHRoaXMsbnVsbCE9YT9hOiEwKTtiLm5vdGlmeT1mdW5jdGlvbigpe2Iuc291cmNlLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkNIQU5HRSwiZWRpdCIsYiwiY2hhbmdlcyIsYi5jaGFuZ2VzKSk7Yi5zb3VyY2UuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuTk9USUZZLCJlZGl0IixiLCJjaGFuZ2VzIixiLmNoYW5nZXMpKX07cmV0dXJuIGJ9OwpteEdyYXBoTW9kZWwucHJvdG90eXBlLm1lcmdlQ2hpbGRyZW49ZnVuY3Rpb24oYSxiLGMpe2M9bnVsbCE9Yz9jOiEwO3RoaXMuYmVnaW5VcGRhdGUoKTt0cnl7dmFyIGQ9e307dGhpcy5tZXJnZUNoaWxkcmVuSW1wbChhLGIsYyxkKTtmb3IodmFyIGUgaW4gZCl7dmFyIGY9ZFtlXSxnPXRoaXMuZ2V0VGVybWluYWwoZiwhMCk7bnVsbCE9ZyYmKGc9ZFtteENlbGxQYXRoLmNyZWF0ZShnKV0sdGhpcy5zZXRUZXJtaW5hbChmLGcsITApKTtnPXRoaXMuZ2V0VGVybWluYWwoZiwhMSk7bnVsbCE9ZyYmKGc9ZFtteENlbGxQYXRoLmNyZWF0ZShnKV0sdGhpcy5zZXRUZXJtaW5hbChmLGcsITEpKX19ZmluYWxseXt0aGlzLmVuZFVwZGF0ZSgpfX07Cm14R3JhcGhNb2RlbC5wcm90b3R5cGUubWVyZ2VDaGlsZHJlbkltcGw9ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy5iZWdpblVwZGF0ZSgpO3RyeXtmb3IodmFyIGU9YS5nZXRDaGlsZENvdW50KCksZj0wO2Y8ZTtmKyspe3ZhciBnPWEuZ2V0Q2hpbGRBdChmKTtpZigiZnVuY3Rpb24iPT10eXBlb2YgZy5nZXRJZCl7dmFyIGs9Zy5nZXRJZCgpLGw9bnVsbD09a3x8dGhpcy5pc0VkZ2UoZykmJmM/bnVsbDp0aGlzLmdldENlbGwoayk7aWYobnVsbD09bCl7dmFyIG09Zy5jbG9uZSgpO20uc2V0SWQoayk7bS5zZXRUZXJtaW5hbChnLmdldFRlcm1pbmFsKCEwKSwhMCk7bS5zZXRUZXJtaW5hbChnLmdldFRlcm1pbmFsKCExKSwhMSk7bD1iLmluc2VydChtKTt0aGlzLmNlbGxBZGRlZChsKX1kW214Q2VsbFBhdGguY3JlYXRlKGcpXT1sO3RoaXMubWVyZ2VDaGlsZHJlbkltcGwoZyxsLGMsZCl9fX1maW5hbGx5e3RoaXMuZW5kVXBkYXRlKCl9fTsKbXhHcmFwaE1vZGVsLnByb3RvdHlwZS5nZXRQYXJlbnRzPWZ1bmN0aW9uKGEpe3ZhciBiPVtdO2lmKG51bGwhPWEpZm9yKHZhciBjPW5ldyBteERpY3Rpb25hcnksZD0wO2Q8YS5sZW5ndGg7ZCsrKXt2YXIgZT10aGlzLmdldFBhcmVudChhW2RdKTtudWxsPT1lfHxjLmdldChlKXx8KGMucHV0KGUsITApLGIucHVzaChlKSl9cmV0dXJuIGJ9O214R3JhcGhNb2RlbC5wcm90b3R5cGUuY2xvbmVDZWxsPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGwhPWE/dGhpcy5jbG9uZUNlbGxzKFthXSxiKVswXTpudWxsfTsKbXhHcmFwaE1vZGVsLnByb3RvdHlwZS5jbG9uZUNlbGxzPWZ1bmN0aW9uKGEsYixjKXtiPW51bGwhPWI/YjohMDtjPW51bGwhPWM/Yzp7fTtmb3IodmFyIGQ9W10sZT0wO2U8YS5sZW5ndGg7ZSsrKW51bGwhPWFbZV0/ZC5wdXNoKHRoaXMuY2xvbmVDZWxsSW1wbChhW2VdLGMsYikpOmQucHVzaChudWxsKTtmb3IoZT0wO2U8ZC5sZW5ndGg7ZSsrKW51bGwhPWRbZV0mJnRoaXMucmVzdG9yZUNsb25lKGRbZV0sYVtlXSxjKTtyZXR1cm4gZH07bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5jbG9uZUNlbGxJbXBsPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1teE9iamVjdElkZW50aXR5LmdldChhKSxlPWJbZF07aWYobnVsbD09ZSYmKGU9dGhpcy5jZWxsQ2xvbmVkKGEpLGJbZF09ZSxjKSlmb3IoYz10aGlzLmdldENoaWxkQ291bnQoYSksZD0wO2Q8YztkKyspe3ZhciBmPXRoaXMuY2xvbmVDZWxsSW1wbCh0aGlzLmdldENoaWxkQXQoYSxkKSxiLCEwKTtlLmluc2VydChmKX1yZXR1cm4gZX07Cm14R3JhcGhNb2RlbC5wcm90b3R5cGUuY2VsbENsb25lZD1mdW5jdGlvbihhKXtyZXR1cm4gYS5jbG9uZSgpfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLnJlc3RvcmVDbG9uZT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5nZXRUZXJtaW5hbChiLCEwKTtudWxsIT1kJiYoZD1jW214T2JqZWN0SWRlbnRpdHkuZ2V0KGQpXSxudWxsIT1kJiZkLmluc2VydEVkZ2UoYSwhMCkpO2Q9dGhpcy5nZXRUZXJtaW5hbChiLCExKTtudWxsIT1kJiYoZD1jW214T2JqZWN0SWRlbnRpdHkuZ2V0KGQpXSxudWxsIT1kJiZkLmluc2VydEVkZ2UoYSwhMSkpO2Zvcih2YXIgZD10aGlzLmdldENoaWxkQ291bnQoYSksZT0wO2U8ZDtlKyspdGhpcy5yZXN0b3JlQ2xvbmUodGhpcy5nZXRDaGlsZEF0KGEsZSksdGhpcy5nZXRDaGlsZEF0KGIsZSksYyl9O2Z1bmN0aW9uIG14Um9vdENoYW5nZShhLGIpe3RoaXMubW9kZWw9YTt0aGlzLnByZXZpb3VzPXRoaXMucm9vdD1ifQpteFJvb3RDaGFuZ2UucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oKXt0aGlzLnJvb3Q9dGhpcy5wcmV2aW91czt0aGlzLnByZXZpb3VzPXRoaXMubW9kZWwucm9vdENoYW5nZWQodGhpcy5wcmV2aW91cyl9O2Z1bmN0aW9uIG14Q2hpbGRDaGFuZ2UoYSxiLGMsZCl7dGhpcy5tb2RlbD1hO3RoaXMucHJldmlvdXM9dGhpcy5wYXJlbnQ9Yjt0aGlzLmNoaWxkPWM7dGhpcy5wcmV2aW91c0luZGV4PXRoaXMuaW5kZXg9ZH0KbXhDaGlsZENoYW5nZS5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuY2hpbGQpe3ZhciBhPXRoaXMubW9kZWwuZ2V0UGFyZW50KHRoaXMuY2hpbGQpLGI9bnVsbCE9YT9hLmdldEluZGV4KHRoaXMuY2hpbGQpOjA7bnVsbD09dGhpcy5wcmV2aW91cyYmdGhpcy5jb25uZWN0KHRoaXMuY2hpbGQsITEpO2E9dGhpcy5tb2RlbC5wYXJlbnRGb3JDZWxsQ2hhbmdlZCh0aGlzLmNoaWxkLHRoaXMucHJldmlvdXMsdGhpcy5wcmV2aW91c0luZGV4KTtudWxsIT10aGlzLnByZXZpb3VzJiZ0aGlzLmNvbm5lY3QodGhpcy5jaGlsZCwhMCk7dGhpcy5wYXJlbnQ9dGhpcy5wcmV2aW91czt0aGlzLnByZXZpb3VzPWE7dGhpcy5pbmRleD10aGlzLnByZXZpb3VzSW5kZXg7dGhpcy5wcmV2aW91c0luZGV4PWJ9fTsKbXhDaGlsZENoYW5nZS5wcm90b3R5cGUuY29ubmVjdD1mdW5jdGlvbihhLGIpe2I9bnVsbCE9Yj9iOiEwO3ZhciBjPWEuZ2V0VGVybWluYWwoITApLGQ9YS5nZXRUZXJtaW5hbCghMSk7bnVsbCE9YyYmKGI/dGhpcy5tb2RlbC50ZXJtaW5hbEZvckNlbGxDaGFuZ2VkKGEsYywhMCk6dGhpcy5tb2RlbC50ZXJtaW5hbEZvckNlbGxDaGFuZ2VkKGEsbnVsbCwhMCkpO251bGwhPWQmJihiP3RoaXMubW9kZWwudGVybWluYWxGb3JDZWxsQ2hhbmdlZChhLGQsITEpOnRoaXMubW9kZWwudGVybWluYWxGb3JDZWxsQ2hhbmdlZChhLG51bGwsITEpKTthLnNldFRlcm1pbmFsKGMsITApO2Euc2V0VGVybWluYWwoZCwhMSk7Yz10aGlzLm1vZGVsLmdldENoaWxkQ291bnQoYSk7Zm9yKGQ9MDtkPGM7ZCsrKXRoaXMuY29ubmVjdCh0aGlzLm1vZGVsLmdldENoaWxkQXQoYSxkKSxiKX07CmZ1bmN0aW9uIG14VGVybWluYWxDaGFuZ2UoYSxiLGMsZCl7dGhpcy5tb2RlbD1hO3RoaXMuY2VsbD1iO3RoaXMucHJldmlvdXM9dGhpcy50ZXJtaW5hbD1jO3RoaXMuc291cmNlPWR9bXhUZXJtaW5hbENoYW5nZS5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbigpe251bGwhPXRoaXMuY2VsbCYmKHRoaXMudGVybWluYWw9dGhpcy5wcmV2aW91cyx0aGlzLnByZXZpb3VzPXRoaXMubW9kZWwudGVybWluYWxGb3JDZWxsQ2hhbmdlZCh0aGlzLmNlbGwsdGhpcy5wcmV2aW91cyx0aGlzLnNvdXJjZSkpfTtmdW5jdGlvbiBteFZhbHVlQ2hhbmdlKGEsYixjKXt0aGlzLm1vZGVsPWE7dGhpcy5jZWxsPWI7dGhpcy5wcmV2aW91cz10aGlzLnZhbHVlPWN9Cm14VmFsdWVDaGFuZ2UucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oKXtudWxsIT10aGlzLmNlbGwmJih0aGlzLnZhbHVlPXRoaXMucHJldmlvdXMsdGhpcy5wcmV2aW91cz10aGlzLm1vZGVsLnZhbHVlRm9yQ2VsbENoYW5nZWQodGhpcy5jZWxsLHRoaXMucHJldmlvdXMpKX07ZnVuY3Rpb24gbXhTdHlsZUNoYW5nZShhLGIsYyl7dGhpcy5tb2RlbD1hO3RoaXMuY2VsbD1iO3RoaXMucHJldmlvdXM9dGhpcy5zdHlsZT1jfW14U3R5bGVDaGFuZ2UucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oKXtudWxsIT10aGlzLmNlbGwmJih0aGlzLnN0eWxlPXRoaXMucHJldmlvdXMsdGhpcy5wcmV2aW91cz10aGlzLm1vZGVsLnN0eWxlRm9yQ2VsbENoYW5nZWQodGhpcy5jZWxsLHRoaXMucHJldmlvdXMpKX07ZnVuY3Rpb24gbXhHZW9tZXRyeUNoYW5nZShhLGIsYyl7dGhpcy5tb2RlbD1hO3RoaXMuY2VsbD1iO3RoaXMucHJldmlvdXM9dGhpcy5nZW9tZXRyeT1jfQpteEdlb21ldHJ5Q2hhbmdlLnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5jZWxsJiYodGhpcy5nZW9tZXRyeT10aGlzLnByZXZpb3VzLHRoaXMucHJldmlvdXM9dGhpcy5tb2RlbC5nZW9tZXRyeUZvckNlbGxDaGFuZ2VkKHRoaXMuY2VsbCx0aGlzLnByZXZpb3VzKSl9O2Z1bmN0aW9uIG14Q29sbGFwc2VDaGFuZ2UoYSxiLGMpe3RoaXMubW9kZWw9YTt0aGlzLmNlbGw9Yjt0aGlzLnByZXZpb3VzPXRoaXMuY29sbGFwc2VkPWN9bXhDb2xsYXBzZUNoYW5nZS5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbigpe251bGwhPXRoaXMuY2VsbCYmKHRoaXMuY29sbGFwc2VkPXRoaXMucHJldmlvdXMsdGhpcy5wcmV2aW91cz10aGlzLm1vZGVsLmNvbGxhcHNlZFN0YXRlRm9yQ2VsbENoYW5nZWQodGhpcy5jZWxsLHRoaXMucHJldmlvdXMpKX07CmZ1bmN0aW9uIG14VmlzaWJsZUNoYW5nZShhLGIsYyl7dGhpcy5tb2RlbD1hO3RoaXMuY2VsbD1iO3RoaXMucHJldmlvdXM9dGhpcy52aXNpYmxlPWN9bXhWaXNpYmxlQ2hhbmdlLnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5jZWxsJiYodGhpcy52aXNpYmxlPXRoaXMucHJldmlvdXMsdGhpcy5wcmV2aW91cz10aGlzLm1vZGVsLnZpc2libGVTdGF0ZUZvckNlbGxDaGFuZ2VkKHRoaXMuY2VsbCx0aGlzLnByZXZpb3VzKSl9O2Z1bmN0aW9uIG14Q2VsbEF0dHJpYnV0ZUNoYW5nZShhLGIsYyl7dGhpcy5jZWxsPWE7dGhpcy5hdHRyaWJ1dGU9Yjt0aGlzLnByZXZpb3VzPXRoaXMudmFsdWU9Y30KbXhDZWxsQXR0cmlidXRlQ2hhbmdlLnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy5jZWxsKXt2YXIgYT10aGlzLmNlbGwuZ2V0QXR0cmlidXRlKHRoaXMuYXR0cmlidXRlKTtudWxsPT10aGlzLnByZXZpb3VzP3RoaXMuY2VsbC52YWx1ZS5yZW1vdmVBdHRyaWJ1dGUodGhpcy5hdHRyaWJ1dGUpOnRoaXMuY2VsbC5zZXRBdHRyaWJ1dGUodGhpcy5hdHRyaWJ1dGUsdGhpcy5wcmV2aW91cyk7dGhpcy5wcmV2aW91cz1hfX07ZnVuY3Rpb24gbXhDZWxsKGEsYixjKXt0aGlzLnZhbHVlPWE7dGhpcy5zZXRHZW9tZXRyeShiKTt0aGlzLnNldFN0eWxlKGMpO2lmKG51bGwhPXRoaXMub25Jbml0KXRoaXMub25Jbml0KCl9bXhDZWxsLnByb3RvdHlwZS5pZD1udWxsO214Q2VsbC5wcm90b3R5cGUudmFsdWU9bnVsbDtteENlbGwucHJvdG90eXBlLmdlb21ldHJ5PW51bGw7bXhDZWxsLnByb3RvdHlwZS5zdHlsZT1udWxsO214Q2VsbC5wcm90b3R5cGUudmVydGV4PSExOwpteENlbGwucHJvdG90eXBlLmVkZ2U9ITE7bXhDZWxsLnByb3RvdHlwZS5jb25uZWN0YWJsZT0hMDtteENlbGwucHJvdG90eXBlLnZpc2libGU9ITA7bXhDZWxsLnByb3RvdHlwZS5jb2xsYXBzZWQ9ITE7bXhDZWxsLnByb3RvdHlwZS5wYXJlbnQ9bnVsbDtteENlbGwucHJvdG90eXBlLnNvdXJjZT1udWxsO214Q2VsbC5wcm90b3R5cGUudGFyZ2V0PW51bGw7bXhDZWxsLnByb3RvdHlwZS5jaGlsZHJlbj1udWxsO214Q2VsbC5wcm90b3R5cGUuZWRnZXM9bnVsbDtteENlbGwucHJvdG90eXBlLm14VHJhbnNpZW50PSJpZCB2YWx1ZSBwYXJlbnQgc291cmNlIHRhcmdldCBjaGlsZHJlbiBlZGdlcyIuc3BsaXQoIiAiKTtteENlbGwucHJvdG90eXBlLmdldElkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaWR9O214Q2VsbC5wcm90b3R5cGUuc2V0SWQ9ZnVuY3Rpb24oYSl7dGhpcy5pZD1hfTtteENlbGwucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWV9OwpteENlbGwucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKGEpe3RoaXMudmFsdWU9YX07bXhDZWxsLnByb3RvdHlwZS52YWx1ZUNoYW5nZWQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRWYWx1ZSgpO3RoaXMuc2V0VmFsdWUoYSk7cmV0dXJuIGJ9O214Q2VsbC5wcm90b3R5cGUuZ2V0R2VvbWV0cnk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZW9tZXRyeX07bXhDZWxsLnByb3RvdHlwZS5zZXRHZW9tZXRyeT1mdW5jdGlvbihhKXt0aGlzLmdlb21ldHJ5PWF9O214Q2VsbC5wcm90b3R5cGUuZ2V0U3R5bGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdHlsZX07bXhDZWxsLnByb3RvdHlwZS5zZXRTdHlsZT1mdW5jdGlvbihhKXt0aGlzLnN0eWxlPWF9O214Q2VsbC5wcm90b3R5cGUuaXNWZXJ0ZXg9ZnVuY3Rpb24oKXtyZXR1cm4gMCE9dGhpcy52ZXJ0ZXh9O214Q2VsbC5wcm90b3R5cGUuc2V0VmVydGV4PWZ1bmN0aW9uKGEpe3RoaXMudmVydGV4PWF9OwpteENlbGwucHJvdG90eXBlLmlzRWRnZT1mdW5jdGlvbigpe3JldHVybiAwIT10aGlzLmVkZ2V9O214Q2VsbC5wcm90b3R5cGUuc2V0RWRnZT1mdW5jdGlvbihhKXt0aGlzLmVkZ2U9YX07bXhDZWxsLnByb3RvdHlwZS5pc0Nvbm5lY3RhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIDAhPXRoaXMuY29ubmVjdGFibGV9O214Q2VsbC5wcm90b3R5cGUuc2V0Q29ubmVjdGFibGU9ZnVuY3Rpb24oYSl7dGhpcy5jb25uZWN0YWJsZT1hfTtteENlbGwucHJvdG90eXBlLmlzVmlzaWJsZT1mdW5jdGlvbigpe3JldHVybiAwIT10aGlzLnZpc2libGV9O214Q2VsbC5wcm90b3R5cGUuc2V0VmlzaWJsZT1mdW5jdGlvbihhKXt0aGlzLnZpc2libGU9YX07bXhDZWxsLnByb3RvdHlwZS5pc0NvbGxhcHNlZD1mdW5jdGlvbigpe3JldHVybiAwIT10aGlzLmNvbGxhcHNlZH07bXhDZWxsLnByb3RvdHlwZS5zZXRDb2xsYXBzZWQ9ZnVuY3Rpb24oYSl7dGhpcy5jb2xsYXBzZWQ9YX07Cm14Q2VsbC5wcm90b3R5cGUuZ2V0UGFyZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50fTtteENlbGwucHJvdG90eXBlLnNldFBhcmVudD1mdW5jdGlvbihhKXt0aGlzLnBhcmVudD1hfTtteENlbGwucHJvdG90eXBlLmdldFRlcm1pbmFsPWZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMuc291cmNlOnRoaXMudGFyZ2V0fTtteENlbGwucHJvdG90eXBlLnNldFRlcm1pbmFsPWZ1bmN0aW9uKGEsYil7Yj90aGlzLnNvdXJjZT1hOnRoaXMudGFyZ2V0PWE7cmV0dXJuIGF9O214Q2VsbC5wcm90b3R5cGUuZ2V0Q2hpbGRDb3VudD1mdW5jdGlvbigpe3JldHVybiBudWxsPT10aGlzLmNoaWxkcmVuPzA6dGhpcy5jaGlsZHJlbi5sZW5ndGh9O214Q2VsbC5wcm90b3R5cGUuZ2V0SW5kZXg9ZnVuY3Rpb24oYSl7cmV0dXJuIG14VXRpbHMuaW5kZXhPZih0aGlzLmNoaWxkcmVuLGEpfTsKbXhDZWxsLnByb3RvdHlwZS5nZXRDaGlsZEF0PWZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT10aGlzLmNoaWxkcmVuP251bGw6dGhpcy5jaGlsZHJlblthXX07bXhDZWxsLnByb3RvdHlwZS5pbnNlcnQ9ZnVuY3Rpb24oYSxiKXtudWxsIT1hJiYobnVsbD09YiYmKGI9dGhpcy5nZXRDaGlsZENvdW50KCksYS5nZXRQYXJlbnQoKT09dGhpcyYmYi0tKSxhLnJlbW92ZUZyb21QYXJlbnQoKSxhLnNldFBhcmVudCh0aGlzKSxudWxsPT10aGlzLmNoaWxkcmVuPyh0aGlzLmNoaWxkcmVuPVtdLHRoaXMuY2hpbGRyZW4ucHVzaChhKSk6dGhpcy5jaGlsZHJlbi5zcGxpY2UoYiwwLGEpKTtyZXR1cm4gYX07bXhDZWxsLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDtudWxsIT10aGlzLmNoaWxkcmVuJiYwPD1hJiYoYj10aGlzLmdldENoaWxkQXQoYSksbnVsbCE9YiYmKHRoaXMuY2hpbGRyZW4uc3BsaWNlKGEsMSksYi5zZXRQYXJlbnQobnVsbCkpKTtyZXR1cm4gYn07Cm14Q2VsbC5wcm90b3R5cGUucmVtb3ZlRnJvbVBhcmVudD1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMucGFyZW50KXt2YXIgYT10aGlzLnBhcmVudC5nZXRJbmRleCh0aGlzKTt0aGlzLnBhcmVudC5yZW1vdmUoYSl9fTtteENlbGwucHJvdG90eXBlLmdldEVkZ2VDb3VudD1mdW5jdGlvbigpe3JldHVybiBudWxsPT10aGlzLmVkZ2VzPzA6dGhpcy5lZGdlcy5sZW5ndGh9O214Q2VsbC5wcm90b3R5cGUuZ2V0RWRnZUluZGV4PWZ1bmN0aW9uKGEpe3JldHVybiBteFV0aWxzLmluZGV4T2YodGhpcy5lZGdlcyxhKX07bXhDZWxsLnByb3RvdHlwZS5nZXRFZGdlQXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PXRoaXMuZWRnZXM/bnVsbDp0aGlzLmVkZ2VzW2FdfTsKbXhDZWxsLnByb3RvdHlwZS5pbnNlcnRFZGdlPWZ1bmN0aW9uKGEsYil7bnVsbCE9YSYmKGEucmVtb3ZlRnJvbVRlcm1pbmFsKGIpLGEuc2V0VGVybWluYWwodGhpcyxiKSxudWxsPT10aGlzLmVkZ2VzfHxhLmdldFRlcm1pbmFsKCFiKSE9dGhpc3x8MD5teFV0aWxzLmluZGV4T2YodGhpcy5lZGdlcyxhKSkmJihudWxsPT10aGlzLmVkZ2VzJiYodGhpcy5lZGdlcz1bXSksdGhpcy5lZGdlcy5wdXNoKGEpKTtyZXR1cm4gYX07bXhDZWxsLnByb3RvdHlwZS5yZW1vdmVFZGdlPWZ1bmN0aW9uKGEsYil7aWYobnVsbCE9YSl7aWYoYS5nZXRUZXJtaW5hbCghYikhPXRoaXMmJm51bGwhPXRoaXMuZWRnZXMpe3ZhciBjPXRoaXMuZ2V0RWRnZUluZGV4KGEpOzA8PWMmJnRoaXMuZWRnZXMuc3BsaWNlKGMsMSl9YS5zZXRUZXJtaW5hbChudWxsLGIpfXJldHVybiBhfTsKbXhDZWxsLnByb3RvdHlwZS5yZW1vdmVGcm9tVGVybWluYWw9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRUZXJtaW5hbChhKTtudWxsIT1iJiZiLnJlbW92ZUVkZ2UodGhpcyxhKX07bXhDZWxsLnByb3RvdHlwZS5oYXNBdHRyaWJ1dGU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRWYWx1ZSgpO3JldHVybiBudWxsIT1iJiZiLm5vZGVUeXBlPT1teENvbnN0YW50cy5OT0RFVFlQRV9FTEVNRU5UJiZiLmhhc0F0dHJpYnV0ZT9iLmhhc0F0dHJpYnV0ZShhKTpudWxsIT1iLmdldEF0dHJpYnV0ZShhKX07bXhDZWxsLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldFZhbHVlKCksYz1udWxsIT1jJiZjLm5vZGVUeXBlPT1teENvbnN0YW50cy5OT0RFVFlQRV9FTEVNRU5UP2MuZ2V0QXR0cmlidXRlKGEpOm51bGw7cmV0dXJuIG51bGwhPWM/YzpifTsKbXhDZWxsLnByb3RvdHlwZS5zZXRBdHRyaWJ1dGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldFZhbHVlKCk7bnVsbCE9YyYmYy5ub2RlVHlwZT09bXhDb25zdGFudHMuTk9ERVRZUEVfRUxFTUVOVCYmYy5zZXRBdHRyaWJ1dGUoYSxiKX07bXhDZWxsLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW14VXRpbHMuY2xvbmUodGhpcyx0aGlzLm14VHJhbnNpZW50KTthLnNldFZhbHVlKHRoaXMuY2xvbmVWYWx1ZSgpKTtyZXR1cm4gYX07bXhDZWxsLnByb3RvdHlwZS5jbG9uZVZhbHVlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRWYWx1ZSgpO251bGwhPWEmJigiZnVuY3Rpb24iPT10eXBlb2YgYS5jbG9uZT9hPWEuY2xvbmUoKTppc05hTihhLm5vZGVUeXBlKXx8KGE9YS5jbG9uZU5vZGUoITApKSk7cmV0dXJuIGF9O2Z1bmN0aW9uIG14R2VvbWV0cnkoYSxiLGMsZCl7bXhSZWN0YW5nbGUuY2FsbCh0aGlzLGEsYixjLGQpfW14R2VvbWV0cnkucHJvdG90eXBlPW5ldyBteFJlY3RhbmdsZTsKbXhHZW9tZXRyeS5wcm90b3R5cGUuY29uc3RydWN0b3I9bXhHZW9tZXRyeTtteEdlb21ldHJ5LnByb3RvdHlwZS5UUkFOU0xBVEVfQ09OVFJPTF9QT0lOVFM9ITA7bXhHZW9tZXRyeS5wcm90b3R5cGUuYWx0ZXJuYXRlQm91bmRzPW51bGw7bXhHZW9tZXRyeS5wcm90b3R5cGUuc291cmNlUG9pbnQ9bnVsbDtteEdlb21ldHJ5LnByb3RvdHlwZS50YXJnZXRQb2ludD1udWxsO214R2VvbWV0cnkucHJvdG90eXBlLnBvaW50cz1udWxsO214R2VvbWV0cnkucHJvdG90eXBlLm9mZnNldD1udWxsO214R2VvbWV0cnkucHJvdG90eXBlLnJlbGF0aXZlPSExOwpteEdlb21ldHJ5LnByb3RvdHlwZS5zd2FwPWZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy5hbHRlcm5hdGVCb3VuZHMpe3ZhciBhPW5ldyBteFJlY3RhbmdsZSh0aGlzLngsdGhpcy55LHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpO3RoaXMueD10aGlzLmFsdGVybmF0ZUJvdW5kcy54O3RoaXMueT10aGlzLmFsdGVybmF0ZUJvdW5kcy55O3RoaXMud2lkdGg9dGhpcy5hbHRlcm5hdGVCb3VuZHMud2lkdGg7dGhpcy5oZWlnaHQ9dGhpcy5hbHRlcm5hdGVCb3VuZHMuaGVpZ2h0O3RoaXMuYWx0ZXJuYXRlQm91bmRzPWF9fTtteEdlb21ldHJ5LnByb3RvdHlwZS5nZXRUZXJtaW5hbFBvaW50PWZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMuc291cmNlUG9pbnQ6dGhpcy50YXJnZXRQb2ludH07bXhHZW9tZXRyeS5wcm90b3R5cGUuc2V0VGVybWluYWxQb2ludD1mdW5jdGlvbihhLGIpe2I/dGhpcy5zb3VyY2VQb2ludD1hOnRoaXMudGFyZ2V0UG9pbnQ9YTtyZXR1cm4gYX07Cm14R2VvbWV0cnkucHJvdG90eXBlLnJvdGF0ZT1mdW5jdGlvbihhLGIpe3ZhciBjPW14VXRpbHMudG9SYWRpYW5zKGEpLGQ9TWF0aC5jb3MoYyksYz1NYXRoLnNpbihjKTtpZighdGhpcy5yZWxhdGl2ZSl7dmFyIGU9bmV3IG14UG9pbnQodGhpcy5nZXRDZW50ZXJYKCksdGhpcy5nZXRDZW50ZXJZKCkpLGU9bXhVdGlscy5nZXRSb3RhdGVkUG9pbnQoZSxkLGMsYik7dGhpcy54PU1hdGgucm91bmQoZS54LXRoaXMud2lkdGgvMik7dGhpcy55PU1hdGgucm91bmQoZS55LXRoaXMuaGVpZ2h0LzIpfW51bGwhPXRoaXMuc291cmNlUG9pbnQmJihlPW14VXRpbHMuZ2V0Um90YXRlZFBvaW50KHRoaXMuc291cmNlUG9pbnQsZCxjLGIpLHRoaXMuc291cmNlUG9pbnQueD1NYXRoLnJvdW5kKGUueCksdGhpcy5zb3VyY2VQb2ludC55PU1hdGgucm91bmQoZS55KSk7bnVsbCE9dGhpcy50YXJnZXRQb2ludCYmKGU9bXhVdGlscy5nZXRSb3RhdGVkUG9pbnQodGhpcy50YXJnZXRQb2ludCxkLGMsYiksdGhpcy50YXJnZXRQb2ludC54PQpNYXRoLnJvdW5kKGUueCksdGhpcy50YXJnZXRQb2ludC55PU1hdGgucm91bmQoZS55KSk7aWYobnVsbCE9dGhpcy5wb2ludHMpZm9yKHZhciBmPTA7Zjx0aGlzLnBvaW50cy5sZW5ndGg7ZisrKW51bGwhPXRoaXMucG9pbnRzW2ZdJiYoZT1teFV0aWxzLmdldFJvdGF0ZWRQb2ludCh0aGlzLnBvaW50c1tmXSxkLGMsYiksdGhpcy5wb2ludHNbZl0ueD1NYXRoLnJvdW5kKGUueCksdGhpcy5wb2ludHNbZl0ueT1NYXRoLnJvdW5kKGUueSkpfTsKbXhHZW9tZXRyeS5wcm90b3R5cGUudHJhbnNsYXRlPWZ1bmN0aW9uKGEsYil7YT1wYXJzZUZsb2F0KGEpO2I9cGFyc2VGbG9hdChiKTt0aGlzLnJlbGF0aXZlfHwodGhpcy54PXBhcnNlRmxvYXQodGhpcy54KSthLHRoaXMueT1wYXJzZUZsb2F0KHRoaXMueSkrYik7bnVsbCE9dGhpcy5zb3VyY2VQb2ludCYmKHRoaXMuc291cmNlUG9pbnQueD1wYXJzZUZsb2F0KHRoaXMuc291cmNlUG9pbnQueCkrYSx0aGlzLnNvdXJjZVBvaW50Lnk9cGFyc2VGbG9hdCh0aGlzLnNvdXJjZVBvaW50LnkpK2IpO251bGwhPXRoaXMudGFyZ2V0UG9pbnQmJih0aGlzLnRhcmdldFBvaW50Lng9cGFyc2VGbG9hdCh0aGlzLnRhcmdldFBvaW50LngpK2EsdGhpcy50YXJnZXRQb2ludC55PXBhcnNlRmxvYXQodGhpcy50YXJnZXRQb2ludC55KStiKTtpZih0aGlzLlRSQU5TTEFURV9DT05UUk9MX1BPSU5UUyYmbnVsbCE9dGhpcy5wb2ludHMpZm9yKHZhciBjPTA7Yzx0aGlzLnBvaW50cy5sZW5ndGg7YysrKW51bGwhPQp0aGlzLnBvaW50c1tjXSYmKHRoaXMucG9pbnRzW2NdLng9cGFyc2VGbG9hdCh0aGlzLnBvaW50c1tjXS54KSthLHRoaXMucG9pbnRzW2NdLnk9cGFyc2VGbG9hdCh0aGlzLnBvaW50c1tjXS55KStiKX07Cm14R2VvbWV0cnkucHJvdG90eXBlLnNjYWxlPWZ1bmN0aW9uKGEsYixjKXthPXBhcnNlRmxvYXQoYSk7Yj1wYXJzZUZsb2F0KGIpO251bGwhPXRoaXMuc291cmNlUG9pbnQmJih0aGlzLnNvdXJjZVBvaW50Lng9cGFyc2VGbG9hdCh0aGlzLnNvdXJjZVBvaW50LngpKmEsdGhpcy5zb3VyY2VQb2ludC55PXBhcnNlRmxvYXQodGhpcy5zb3VyY2VQb2ludC55KSpiKTtudWxsIT10aGlzLnRhcmdldFBvaW50JiYodGhpcy50YXJnZXRQb2ludC54PXBhcnNlRmxvYXQodGhpcy50YXJnZXRQb2ludC54KSphLHRoaXMudGFyZ2V0UG9pbnQueT1wYXJzZUZsb2F0KHRoaXMudGFyZ2V0UG9pbnQueSkqYik7aWYobnVsbCE9dGhpcy5wb2ludHMpZm9yKHZhciBkPTA7ZDx0aGlzLnBvaW50cy5sZW5ndGg7ZCsrKW51bGwhPXRoaXMucG9pbnRzW2RdJiYodGhpcy5wb2ludHNbZF0ueD1wYXJzZUZsb2F0KHRoaXMucG9pbnRzW2RdLngpKmEsdGhpcy5wb2ludHNbZF0ueT1wYXJzZUZsb2F0KHRoaXMucG9pbnRzW2RdLnkpKgpiKTt0aGlzLnJlbGF0aXZlfHwodGhpcy54PXBhcnNlRmxvYXQodGhpcy54KSphLHRoaXMueT1wYXJzZUZsb2F0KHRoaXMueSkqYixjJiYoYj1hPU1hdGgubWluKGEsYikpLHRoaXMud2lkdGg9cGFyc2VGbG9hdCh0aGlzLndpZHRoKSphLHRoaXMuaGVpZ2h0PXBhcnNlRmxvYXQodGhpcy5oZWlnaHQpKmIpfTsKbXhHZW9tZXRyeS5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKGEpe3JldHVybiBteFJlY3RhbmdsZS5wcm90b3R5cGUuZXF1YWxzLmFwcGx5KHRoaXMsYXJndW1lbnRzKSYmdGhpcy5yZWxhdGl2ZT09YS5yZWxhdGl2ZSYmKG51bGw9PXRoaXMuc291cmNlUG9pbnQmJm51bGw9PWEuc291cmNlUG9pbnR8fG51bGwhPXRoaXMuc291cmNlUG9pbnQmJnRoaXMuc291cmNlUG9pbnQuZXF1YWxzKGEuc291cmNlUG9pbnQpKSYmKG51bGw9PXRoaXMudGFyZ2V0UG9pbnQmJm51bGw9PWEudGFyZ2V0UG9pbnR8fG51bGwhPXRoaXMudGFyZ2V0UG9pbnQmJnRoaXMudGFyZ2V0UG9pbnQuZXF1YWxzKGEudGFyZ2V0UG9pbnQpKSYmKG51bGw9PXRoaXMucG9pbnRzJiZudWxsPT1hLnBvaW50c3x8bnVsbCE9dGhpcy5wb2ludHMmJm14VXRpbHMuZXF1YWxQb2ludHModGhpcy5wb2ludHMsYS5wb2ludHMpKSYmKG51bGw9PXRoaXMuYWx0ZXJuYXRlQm91bmRzJiZudWxsPT1hLmFsdGVybmF0ZUJvdW5kc3x8Cm51bGwhPXRoaXMuYWx0ZXJuYXRlQm91bmRzJiZ0aGlzLmFsdGVybmF0ZUJvdW5kcy5lcXVhbHMoYS5hbHRlcm5hdGVCb3VuZHMpKSYmKG51bGw9PXRoaXMub2Zmc2V0JiZudWxsPT1hLm9mZnNldHx8bnVsbCE9dGhpcy5vZmZzZXQmJnRoaXMub2Zmc2V0LmVxdWFscyhhLm9mZnNldCkpfTsKdmFyIG14Q2VsbFBhdGg9e1BBVEhfU0VQQVJBVE9SOiIuIixjcmVhdGU6ZnVuY3Rpb24oYSl7dmFyIGI9IiI7aWYobnVsbCE9YSlmb3IodmFyIGM9YS5nZXRQYXJlbnQoKTtudWxsIT1jOyliPWMuZ2V0SW5kZXgoYSkrbXhDZWxsUGF0aC5QQVRIX1NFUEFSQVRPUitiLGE9YyxjPWEuZ2V0UGFyZW50KCk7YT1iLmxlbmd0aDsxPGEmJihiPWIuc3Vic3RyaW5nKDAsYS0xKSk7cmV0dXJuIGJ9LGdldFBhcmVudFBhdGg6ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSl7dmFyIGI9YS5sYXN0SW5kZXhPZihteENlbGxQYXRoLlBBVEhfU0VQQVJBVE9SKTtpZigwPD1iKXJldHVybiBhLnN1YnN0cmluZygwLGIpO2lmKDA8YS5sZW5ndGgpcmV0dXJuIiJ9cmV0dXJuIG51bGx9LHJlc29sdmU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hO2lmKG51bGwhPWIpZm9yKHZhciBkPWIuc3BsaXQobXhDZWxsUGF0aC5QQVRIX1NFUEFSQVRPUiksZT0wO2U8ZC5sZW5ndGg7ZSsrKWM9Yy5nZXRDaGlsZEF0KHBhcnNlSW50KGRbZV0pKTsKcmV0dXJuIGN9LGNvbXBhcmU6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9TWF0aC5taW4oYS5sZW5ndGgsYi5sZW5ndGgpLGQ9MCxlPTA7ZTxjO2UrKylpZihhW2VdIT1iW2VdKXswPT1hW2VdLmxlbmd0aHx8MD09YltlXS5sZW5ndGg/ZD1hW2VdPT1iW2VdPzA6YVtlXT5iW2VdPzE6LTE6KGM9cGFyc2VJbnQoYVtlXSksZT1wYXJzZUludChiW2VdKSxkPWM9PWU/MDpjPmU/MTotMSk7YnJlYWt9MD09ZCYmKGM9YS5sZW5ndGgsZT1iLmxlbmd0aCxjIT1lJiYoZD1jPmU/MTotMSkpO3JldHVybiBkfX0sbXhQZXJpbWV0ZXI9e1JlY3RhbmdsZVBlcmltZXRlcjpmdW5jdGlvbihhLGIsYyxkKXtiPWEuZ2V0Q2VudGVyWCgpO3ZhciBlPWEuZ2V0Q2VudGVyWSgpLGY9TWF0aC5hdGFuMihjLnktZSxjLngtYiksZz1uZXcgbXhQb2ludCgwLDApLGs9TWF0aC5QSSxsPU1hdGguUEkvMi1mLG09TWF0aC5hdGFuMihhLmhlaWdodCxhLndpZHRoKTtmPC1rK218fGY+ay1tPyhnLng9YS54LGcueT1lLWEud2lkdGgqCk1hdGgudGFuKGYpLzIpOmY8LW0/KGcueT1hLnksZy54PWItYS5oZWlnaHQqTWF0aC50YW4obCkvMik6ZjxtPyhnLng9YS54K2Eud2lkdGgsZy55PWUrYS53aWR0aCpNYXRoLnRhbihmKS8yKTooZy55PWEueSthLmhlaWdodCxnLng9YithLmhlaWdodCpNYXRoLnRhbihsKS8yKTtkJiYoYy54Pj1hLngmJmMueDw9YS54K2Eud2lkdGg/Zy54PWMueDpjLnk+PWEueSYmYy55PD1hLnkrYS5oZWlnaHQmJihnLnk9Yy55KSxjLng8YS54P2cueD1hLng6Yy54PmEueCthLndpZHRoJiYoZy54PWEueCthLndpZHRoKSxjLnk8YS55P2cueT1hLnk6Yy55PmEueSthLmhlaWdodCYmKGcueT1hLnkrYS5oZWlnaHQpKTtyZXR1cm4gZ30sRWxsaXBzZVBlcmltZXRlcjpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1hLngsZj1hLnksZz1hLndpZHRoLzIsaz1hLmhlaWdodC8yLGw9ZStnLG09ZitrO2I9Yy54O2M9Yy55O3ZhciBuPXBhcnNlSW50KGItbCkscD1wYXJzZUludChjLW0pO2lmKDA9PW4mJjAhPXApcmV0dXJuIG5ldyBteFBvaW50KGwsCm0raypwL01hdGguYWJzKHApKTtpZigwPT1uJiYwPT1wKXJldHVybiBuZXcgbXhQb2ludChiLGMpO2lmKGQpe2lmKGM+PWYmJmM8PWYrYS5oZWlnaHQpcmV0dXJuIGE9Yy1tLGE9TWF0aC5zcXJ0KGcqZyooMS1hKmEvKGsqaykpKXx8MCxiPD1lJiYoYT0tYSksbmV3IG14UG9pbnQobCthLGMpO2lmKGI+PWUmJmI8PWUrYS53aWR0aClyZXR1cm4gYT1iLWwsYT1NYXRoLnNxcnQoayprKigxLWEqYS8oZypnKSkpfHwwLGM8PWYmJihhPS1hKSxuZXcgbXhQb2ludChiLG0rYSl9ZT1wL247bS09ZSpsO2Y9ZypnKmUqZStrKms7YT0tMipsKmY7az1NYXRoLnNxcnQoYSphLTQqZiooZypnKmUqZSpsKmwrayprKmwqbC1nKmcqayprKSk7Zz0oLWEraykvKDIqZik7bD0oLWEtaykvKDIqZik7az1lKmcrbTttPWUqbCttO01hdGguc3FydChNYXRoLnBvdyhnLWIsMikrTWF0aC5wb3coay1jLDIpKTxNYXRoLnNxcnQoTWF0aC5wb3cobC1iLDIpK01hdGgucG93KG0tYywyKSk/KGI9ZyxjPWspOihiPWwsYz0KbSk7cmV0dXJuIG5ldyBteFBvaW50KGIsYyl9LFJob21idXNQZXJpbWV0ZXI6ZnVuY3Rpb24oYSxiLGMsZCl7Yj1hLng7dmFyIGU9YS55LGY9YS53aWR0aDthPWEuaGVpZ2h0O3ZhciBnPWIrZi8yLGs9ZSthLzIsbD1jLng7Yz1jLnk7aWYoZz09bClyZXR1cm4gaz5jP25ldyBteFBvaW50KGcsZSk6bmV3IG14UG9pbnQoZyxlK2EpO2lmKGs9PWMpcmV0dXJuIGc+bD9uZXcgbXhQb2ludChiLGspOm5ldyBteFBvaW50KGIrZixrKTt2YXIgbT1nLG49aztkJiYobD49YiYmbDw9YitmP209bDpjPj1lJiZjPD1lK2EmJihuPWMpKTtyZXR1cm4gbDxnP2M8az9teFV0aWxzLmludGVyc2VjdGlvbihsLGMsbSxuLGcsZSxiLGspOm14VXRpbHMuaW50ZXJzZWN0aW9uKGwsYyxtLG4sZyxlK2EsYixrKTpjPGs/bXhVdGlscy5pbnRlcnNlY3Rpb24obCxjLG0sbixnLGUsYitmLGspOm14VXRpbHMuaW50ZXJzZWN0aW9uKGwsYyxtLG4sZyxlK2EsYitmLGspfSxUcmlhbmdsZVBlcmltZXRlcjpmdW5jdGlvbihhLApiLGMsZCl7Yj1udWxsIT1iP2Iuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRElSRUNUSU9OXTpudWxsO3ZhciBlPWI9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSHx8Yj09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRILGY9YS54LGc9YS55LGs9YS53aWR0aCxsPWEuaGVpZ2h0O2E9ZitrLzI7dmFyIG09ZytsLzIsbj1uZXcgbXhQb2ludChmLGcpLHA9bmV3IG14UG9pbnQoZitrLG0pLHE9bmV3IG14UG9pbnQoZixnK2wpO2I9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSD8obj1xLHA9bmV3IG14UG9pbnQoYSxnKSxxPW5ldyBteFBvaW50KGYrayxnK2wpKTpiPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEg/KHA9bmV3IG14UG9pbnQoYSxnK2wpLHE9bmV3IG14UG9pbnQoZitrLGcpKTpiPT1teENvbnN0YW50cy5ESVJFQ1RJT05fV0VTVCYmKG49bmV3IG14UG9pbnQoZitrLGcpLHA9bmV3IG14UG9pbnQoZixtKSxxPW5ldyBteFBvaW50KGYrayxnK2wpKTt2YXIgcj1jLngtCmEsdD1jLnktbSxyPWU/TWF0aC5hdGFuMihyLHQpOk1hdGguYXRhbjIodCxyKSx0PWU/TWF0aC5hdGFuMihrLGwpOk1hdGguYXRhbjIobCxrKTsoYj09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIfHxiPT1teENvbnN0YW50cy5ESVJFQ1RJT05fV0VTVD9yPi10JiZyPHQ6cjwtTWF0aC5QSSt0fHxyPk1hdGguUEktdCk/Yz1kJiYoZSYmYy54Pj1uLngmJmMueDw9cS54fHwhZSYmYy55Pj1uLnkmJmMueTw9cS55KT9lP25ldyBteFBvaW50KGMueCxuLnkpOm5ldyBteFBvaW50KG4ueCxjLnkpOmI9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSD9uZXcgbXhQb2ludChmK2svMitsKk1hdGgudGFuKHIpLzIsZytsKTpiPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEg/bmV3IG14UG9pbnQoZitrLzItbCpNYXRoLnRhbihyKS8yLGcpOmI9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9XRVNUP25ldyBteFBvaW50KGYrayxnK2wvMitrKk1hdGgudGFuKHIpLzIpOm5ldyBteFBvaW50KGYsZysKbC8yLWsqTWF0aC50YW4ocikvMik6KGQmJihkPW5ldyBteFBvaW50KGEsbSksYy55Pj1nJiZjLnk8PWcrbD8oZC54PWU/YTpiPT1teENvbnN0YW50cy5ESVJFQ1RJT05fV0VTVD9mK2s6ZixkLnk9Yy55KTpjLng+PWYmJmMueDw9ZitrJiYoZC54PWMueCxkLnk9ZT9iPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEg/ZytsOmc6bSksYT1kLngsbT1kLnkpLGM9ZSYmYy54PD1mK2svMnx8IWUmJmMueTw9ZytsLzI/bXhVdGlscy5pbnRlcnNlY3Rpb24oYy54LGMueSxhLG0sbi54LG4ueSxwLngscC55KTpteFV0aWxzLmludGVyc2VjdGlvbihjLngsYy55LGEsbSxwLngscC55LHEueCxxLnkpKTtudWxsPT1jJiYoYz1uZXcgbXhQb2ludChhLG0pKTtyZXR1cm4gY30sSGV4YWdvblBlcmltZXRlcjpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1hLngsZj1hLnksZz1hLndpZHRoLGs9YS5oZWlnaHQsbD1hLmdldENlbnRlclgoKTthPWEuZ2V0Q2VudGVyWSgpO3ZhciBtPWMueCxuPWMueSxwPS1NYXRoLmF0YW4yKG4tCmEsbS1sKSxxPU1hdGguUEkscj1NYXRoLlBJLzI7bmV3IG14UG9pbnQobCxhKTtiPW51bGwhPWI/bXhVdGlscy5nZXRWYWx1ZShiLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0RJUkVDVElPTixteENvbnN0YW50cy5ESVJFQ1RJT05fRUFTVCk6bXhDb25zdGFudHMuRElSRUNUSU9OX0VBU1Q7dmFyIHQ9Yj09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIfHxiPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEg7Yj1uZXcgbXhQb2ludDt2YXIgdT1uZXcgbXhQb2ludDtpZihtPGUmJm48Znx8bTxlJiZuPmYra3x8bT5lK2cmJm48Znx8bT5lK2cmJm4+ZitrKWQ9ITE7aWYoZCl7aWYodCl7aWYobT09bCl7aWYobjw9ZilyZXR1cm4gbmV3IG14UG9pbnQobCxmKTtpZihuPj1mK2spcmV0dXJuIG5ldyBteFBvaW50KGwsZitrKX1lbHNlIGlmKG08ZSl7aWYobj09ZitrLzQpcmV0dXJuIG5ldyBteFBvaW50KGUsZitrLzQpO2lmKG49PWYrMyprLzQpcmV0dXJuIG5ldyBteFBvaW50KGUsZiszKgprLzQpfWVsc2UgaWYobT5lK2cpe2lmKG49PWYray80KXJldHVybiBuZXcgbXhQb2ludChlK2csZitrLzQpO2lmKG49PWYrMyprLzQpcmV0dXJuIG5ldyBteFBvaW50KGUrZyxmKzMqay80KX1lbHNlIGlmKG09PWUpe2lmKG48YSlyZXR1cm4gbmV3IG14UG9pbnQoZSxmK2svNCk7aWYobj5hKXJldHVybiBuZXcgbXhQb2ludChlLGYrMyprLzQpfWVsc2UgaWYobT09ZStnKXtpZihuPGEpcmV0dXJuIG5ldyBteFBvaW50KGUrZyxmK2svNCk7aWYobj5hKXJldHVybiBuZXcgbXhQb2ludChlK2csZiszKmsvNCl9aWYobj09ZilyZXR1cm4gbmV3IG14UG9pbnQobCxmKTtpZihuPT1mK2spcmV0dXJuIG5ldyBteFBvaW50KGwsZitrKTttPGw/bj5mK2svNCYmbjxmKzMqay80PyhiPW5ldyBteFBvaW50KGUsZiksdT1uZXcgbXhQb2ludChlLGYraykpOm48ZitrLzQ/KGI9bmV3IG14UG9pbnQoZS1NYXRoLmZsb29yKC41KmcpLGYrTWF0aC5mbG9vciguNSprKSksdT1uZXcgbXhQb2ludChlK2csZi0KTWF0aC5mbG9vciguMjUqaykpKTpuPmYrMyprLzQmJihiPW5ldyBteFBvaW50KGUtTWF0aC5mbG9vciguNSpnKSxmK01hdGguZmxvb3IoLjUqaykpLHU9bmV3IG14UG9pbnQoZStnLGYrTWF0aC5mbG9vcigxLjI1KmspKSk6bT5sJiYobj5mK2svNCYmbjxmKzMqay80PyhiPW5ldyBteFBvaW50KGUrZyxmKSx1PW5ldyBteFBvaW50KGUrZyxmK2spKTpuPGYray80PyhiPW5ldyBteFBvaW50KGUsZi1NYXRoLmZsb29yKC4yNSprKSksdT1uZXcgbXhQb2ludChlK01hdGguZmxvb3IoMS41KmcpLGYrTWF0aC5mbG9vciguNSprKSkpOm4+ZiszKmsvNCYmKGI9bmV3IG14UG9pbnQoZStNYXRoLmZsb29yKDEuNSpnKSxmK01hdGguZmxvb3IoLjUqaykpLHU9bmV3IG14UG9pbnQoZSxmK01hdGguZmxvb3IoMS4yNSprKSkpKX1lbHNle2lmKG49PWEpe2lmKG08PWUpcmV0dXJuIG5ldyBteFBvaW50KGUsZitrLzIpO2lmKG0+PWUrZylyZXR1cm4gbmV3IG14UG9pbnQoZStnLGYray8yKX1lbHNlIGlmKG48CmYpe2lmKG09PWUrZy80KXJldHVybiBuZXcgbXhQb2ludChlK2cvNCxmKTtpZihtPT1lKzMqZy80KXJldHVybiBuZXcgbXhQb2ludChlKzMqZy80LGYpfWVsc2UgaWYobj5mK2spe2lmKG09PWUrZy80KXJldHVybiBuZXcgbXhQb2ludChlK2cvNCxmK2spO2lmKG09PWUrMypnLzQpcmV0dXJuIG5ldyBteFBvaW50KGUrMypnLzQsZitrKX1lbHNlIGlmKG49PWYpe2lmKG08bClyZXR1cm4gbmV3IG14UG9pbnQoZStnLzQsZik7aWYobT5sKXJldHVybiBuZXcgbXhQb2ludChlKzMqZy80LGYpfWVsc2UgaWYobj09ZitrKXtpZihtPGwpcmV0dXJuIG5ldyBteFBvaW50KGUrZy80LGYrayk7aWYobj5hKXJldHVybiBuZXcgbXhQb2ludChlKzMqZy80LGYrayl9aWYobT09ZSlyZXR1cm4gbmV3IG14UG9pbnQoZSxhKTtpZihtPT1lK2cpcmV0dXJuIG5ldyBteFBvaW50KGUrZyxhKTtuPGE/bT5lK2cvNCYmbTxlKzMqZy80PyhiPW5ldyBteFBvaW50KGUsZiksdT1uZXcgbXhQb2ludChlK2csZikpOgptPGUrZy80PyhiPW5ldyBteFBvaW50KGUtTWF0aC5mbG9vciguMjUqZyksZitrKSx1PW5ldyBteFBvaW50KGUrTWF0aC5mbG9vciguNSpnKSxmLU1hdGguZmxvb3IoLjUqaykpKTptPmUrMypnLzQmJihiPW5ldyBteFBvaW50KGUrTWF0aC5mbG9vciguNSpnKSxmLU1hdGguZmxvb3IoLjUqaykpLHU9bmV3IG14UG9pbnQoZStNYXRoLmZsb29yKDEuMjUqZyksZitrKSk6bj5hJiYobT5lK2cvNCYmbTxlKzMqZy80PyhiPW5ldyBteFBvaW50KGUsZitrKSx1PW5ldyBteFBvaW50KGUrZyxmK2spKTptPGUrZy80PyhiPW5ldyBteFBvaW50KGUtTWF0aC5mbG9vciguMjUqZyksZiksdT1uZXcgbXhQb2ludChlK01hdGguZmxvb3IoLjUqZyksZitNYXRoLmZsb29yKDEuNSprKSkpOm0+ZSszKmcvNCYmKGI9bmV3IG14UG9pbnQoZStNYXRoLmZsb29yKC41KmcpLGYrTWF0aC5mbG9vcigxLjUqaykpLHU9bmV3IG14UG9pbnQoZStNYXRoLmZsb29yKDEuMjUqZyksZikpKX1kPWw7cD1hO20+PWUmJm08PQplK2c/KGQ9bSxwPW48YT9mK2s6Zik6bj49ZiYmbjw9ZitrJiYocD1uLGQ9bTxsP2UrZzplKTtjPW14VXRpbHMuaW50ZXJzZWN0aW9uKGQscCxjLngsYy55LGIueCxiLnksdS54LHUueSl9ZWxzZXtpZih0KXttPU1hdGguYXRhbjIoay80LGcvMik7aWYocD09bSlyZXR1cm4gbmV3IG14UG9pbnQoZStnLGYrTWF0aC5mbG9vciguMjUqaykpO2lmKHA9PXIpcmV0dXJuIG5ldyBteFBvaW50KGUrTWF0aC5mbG9vciguNSpnKSxmKTtpZihwPT1xLW0pcmV0dXJuIG5ldyBteFBvaW50KGUsZitNYXRoLmZsb29yKC4yNSprKSk7aWYocD09LW0pcmV0dXJuIG5ldyBteFBvaW50KGUrZyxmK01hdGguZmxvb3IoLjc1KmspKTtpZihwPT0tcilyZXR1cm4gbmV3IG14UG9pbnQoZStNYXRoLmZsb29yKC41KmcpLGYrayk7aWYocD09LXErbSlyZXR1cm4gbmV3IG14UG9pbnQoZSxmK01hdGguZmxvb3IoLjc1KmspKTtwPG0mJnA+LW0/KGI9bmV3IG14UG9pbnQoZStnLGYpLHU9bmV3IG14UG9pbnQoZStnLGYrCmspKTpwPm0mJnA8cj8oYj1uZXcgbXhQb2ludChlLGYtTWF0aC5mbG9vciguMjUqaykpLHU9bmV3IG14UG9pbnQoZStNYXRoLmZsb29yKDEuNSpnKSxmK01hdGguZmxvb3IoLjUqaykpKTpwPnImJnA8cS1tPyhiPW5ldyBteFBvaW50KGUtTWF0aC5mbG9vciguNSpnKSxmK01hdGguZmxvb3IoLjUqaykpLHU9bmV3IG14UG9pbnQoZStnLGYtTWF0aC5mbG9vciguMjUqaykpKTpwPnEtbSYmcDw9cXx8cDwtcSttJiZwPj0tcT8oYj1uZXcgbXhQb2ludChlLGYpLHU9bmV3IG14UG9pbnQoZSxmK2spKTpwPC1tJiZwPi1yPyhiPW5ldyBteFBvaW50KGUrTWF0aC5mbG9vcigxLjUqZyksZitNYXRoLmZsb29yKC41KmspKSx1PW5ldyBteFBvaW50KGUsZitNYXRoLmZsb29yKDEuMjUqaykpKTpwPC1yJiZwPi1xK20mJihiPW5ldyBteFBvaW50KGUtTWF0aC5mbG9vciguNSpnKSxmK01hdGguZmxvb3IoLjUqaykpLHU9bmV3IG14UG9pbnQoZStnLGYrTWF0aC5mbG9vcigxLjI1KmspKSl9ZWxzZXttPQpNYXRoLmF0YW4yKGsvMixnLzQpO2lmKHA9PW0pcmV0dXJuIG5ldyBteFBvaW50KGUrTWF0aC5mbG9vciguNzUqZyksZik7aWYocD09cS1tKXJldHVybiBuZXcgbXhQb2ludChlK01hdGguZmxvb3IoLjI1KmcpLGYpO2lmKHA9PXF8fHA9PS1xKXJldHVybiBuZXcgbXhQb2ludChlLGYrTWF0aC5mbG9vciguNSprKSk7aWYoMD09cClyZXR1cm4gbmV3IG14UG9pbnQoZStnLGYrTWF0aC5mbG9vciguNSprKSk7aWYocD09LW0pcmV0dXJuIG5ldyBteFBvaW50KGUrTWF0aC5mbG9vciguNzUqZyksZitrKTtpZihwPT0tcSttKXJldHVybiBuZXcgbXhQb2ludChlK01hdGguZmxvb3IoLjI1KmcpLGYrayk7MDxwJiZwPG0/KGI9bmV3IG14UG9pbnQoZStNYXRoLmZsb29yKC41KmcpLGYtTWF0aC5mbG9vciguNSprKSksdT1uZXcgbXhQb2ludChlK01hdGguZmxvb3IoMS4yNSpnKSxmK2spKTpwPm0mJnA8cS1tPyhiPW5ldyBteFBvaW50KGUsZiksdT1uZXcgbXhQb2ludChlK2csZikpOnA+cS1tJiYKcDxxPyhiPW5ldyBteFBvaW50KGUtTWF0aC5mbG9vciguMjUqZyksZitrKSx1PW5ldyBteFBvaW50KGUrTWF0aC5mbG9vciguNSpnKSxmLU1hdGguZmxvb3IoLjUqaykpKTowPnAmJnA+LW0/KGI9bmV3IG14UG9pbnQoZStNYXRoLmZsb29yKC41KmcpLGYrTWF0aC5mbG9vcigxLjUqaykpLHU9bmV3IG14UG9pbnQoZStNYXRoLmZsb29yKDEuMjUqZyksZikpOnA8LW0mJnA+LXErbT8oYj1uZXcgbXhQb2ludChlLGYrayksdT1uZXcgbXhQb2ludChlK2csZitrKSk6cDwtcSttJiZwPi1xJiYoYj1uZXcgbXhQb2ludChlLU1hdGguZmxvb3IoLjI1KmcpLGYpLHU9bmV3IG14UG9pbnQoZStNYXRoLmZsb29yKC41KmcpLGYrTWF0aC5mbG9vcigxLjUqaykpKX1jPW14VXRpbHMuaW50ZXJzZWN0aW9uKGwsYSxjLngsYy55LGIueCxiLnksdS54LHUueSl9cmV0dXJuIG51bGw9PWM/bmV3IG14UG9pbnQobCxhKTpjfX07CmZ1bmN0aW9uIG14UHJpbnRQcmV2aWV3KGEsYixjLGQsZSxmLGcsayxsKXt0aGlzLmdyYXBoPWE7dGhpcy5zY2FsZT1udWxsIT1iP2I6MS9hLnBhZ2VTY2FsZTt0aGlzLmJvcmRlcj1udWxsIT1kP2Q6MDt0aGlzLnBhZ2VGb3JtYXQ9bXhSZWN0YW5nbGUuZnJvbVJlY3RhbmdsZShudWxsIT1jP2M6YS5wYWdlRm9ybWF0KTt0aGlzLnRpdGxlPW51bGwhPWs/azoiUHJpbnRlci1mcmllbmRseSB2ZXJzaW9uIjt0aGlzLngwPW51bGwhPWU/ZTowO3RoaXMueTA9bnVsbCE9Zj9mOjA7dGhpcy5ib3JkZXJDb2xvcj1nO3RoaXMucGFnZVNlbGVjdG9yPW51bGwhPWw/bDohMH1teFByaW50UHJldmlldy5wcm90b3R5cGUuZ3JhcGg9bnVsbDtteFByaW50UHJldmlldy5wcm90b3R5cGUucGFnZUZvcm1hdD1udWxsO214UHJpbnRQcmV2aWV3LnByb3RvdHlwZS5zY2FsZT1udWxsO214UHJpbnRQcmV2aWV3LnByb3RvdHlwZS5ib3JkZXI9MDsKbXhQcmludFByZXZpZXcucHJvdG90eXBlLm1hcmdpblRvcD0wO214UHJpbnRQcmV2aWV3LnByb3RvdHlwZS5tYXJnaW5Cb3R0b209MDtteFByaW50UHJldmlldy5wcm90b3R5cGUueDA9MDtteFByaW50UHJldmlldy5wcm90b3R5cGUueTA9MDtteFByaW50UHJldmlldy5wcm90b3R5cGUuYXV0b09yaWdpbj0hMDtteFByaW50UHJldmlldy5wcm90b3R5cGUucHJpbnRPdmVybGF5cz0hMTtteFByaW50UHJldmlldy5wcm90b3R5cGUucHJpbnRDb250cm9scz0hMTtteFByaW50UHJldmlldy5wcm90b3R5cGUucHJpbnRCYWNrZ3JvdW5kSW1hZ2U9ITE7bXhQcmludFByZXZpZXcucHJvdG90eXBlLmJhY2tncm91bmRDb2xvcj0iI2ZmZmZmZiI7bXhQcmludFByZXZpZXcucHJvdG90eXBlLmJvcmRlckNvbG9yPW51bGw7bXhQcmludFByZXZpZXcucHJvdG90eXBlLnRpdGxlPW51bGw7bXhQcmludFByZXZpZXcucHJvdG90eXBlLnBhZ2VTZWxlY3Rvcj1udWxsOwpteFByaW50UHJldmlldy5wcm90b3R5cGUud25kPW51bGw7bXhQcmludFByZXZpZXcucHJvdG90eXBlLnRhcmdldFdpbmRvdz1udWxsO214UHJpbnRQcmV2aWV3LnByb3RvdHlwZS5wYWdlQ291bnQ9MDtteFByaW50UHJldmlldy5wcm90b3R5cGUuY2xpcHBpbmc9ITA7bXhQcmludFByZXZpZXcucHJvdG90eXBlLmdldFdpbmRvdz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnduZH07Cm14UHJpbnRQcmV2aWV3LnByb3RvdHlwZS5nZXREb2N0eXBlPWZ1bmN0aW9uKCl7dmFyIGE9IiI7NT09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlP2E9JzxtZXRhIGh0dHAtZXF1aXY9IlgtVUEtQ29tcGF0aWJsZSIgY29udGVudD0iSUU9NSI+Jzo4PT1kb2N1bWVudC5kb2N1bWVudE1vZGU/YT0nPG1ldGEgaHR0cC1lcXVpdj0iWC1VQS1Db21wYXRpYmxlIiBjb250ZW50PSJJRT04Ij4nOjg8ZG9jdW1lbnQuZG9jdW1lbnRNb2RlJiYoYT0nXHgzYyEtLVtpZiBJRV0+PG1ldGEgaHR0cC1lcXVpdj0iWC1VQS1Db21wYXRpYmxlIiBjb250ZW50PSJJRT1lZGdlIj48IVtlbmRpZl0tLVx4M2UnKTtyZXR1cm4gYX07bXhQcmludFByZXZpZXcucHJvdG90eXBlLmFwcGVuZEdyYXBoPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt0aGlzLmdyYXBoPWE7dGhpcy5zY2FsZT1udWxsIT1iP2I6MS9hLnBhZ2VTY2FsZTt0aGlzLngwPWM7dGhpcy55MD1kO3RoaXMub3BlbihudWxsLG51bGwsZSxmKX07Cm14UHJpbnRQcmV2aWV3LnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXRoaXMuZ3JhcGguY2VsbFJlbmRlcmVyLmluaXRpYWxpemVPdmVybGF5LGY9bnVsbDt0cnl7dGhpcy5wcmludE92ZXJsYXlzJiYodGhpcy5ncmFwaC5jZWxsUmVuZGVyZXIuaW5pdGlhbGl6ZU92ZXJsYXk9ZnVuY3Rpb24oYSxiKXtiLmluaXQoYS52aWV3LmdldERyYXdQYW5lKCkpfSk7dGhpcy5wcmludENvbnRyb2xzJiYodGhpcy5ncmFwaC5jZWxsUmVuZGVyZXIuaW5pdENvbnRyb2w9ZnVuY3Rpb24oYSxiLGMsZCl7Yi5kaWFsZWN0PWEudmlldy5ncmFwaC5kaWFsZWN0O2IuaW5pdChhLnZpZXcuZ2V0RHJhd1BhbmUoKSl9KTt0aGlzLnduZD1udWxsIT1iP2I6dGhpcy53bmQ7dmFyIGc9ITE7bnVsbD09dGhpcy53bmQmJihnPSEwLHRoaXMud25kPXdpbmRvdy5vcGVuKCkpO3ZhciBrPXRoaXMud25kLmRvY3VtZW50O2lmKGcpe3ZhciBsPXRoaXMuZ2V0RG9jdHlwZSgpO251bGwhPWwmJjA8bC5sZW5ndGgmJgprLndyaXRlbG4obCk7bXhDbGllbnQuSVNfVk1MP2sud3JpdGVsbignPGh0bWwgeG1sbnM6dj0idXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTp2bWwiIHhtbG5zOm89InVybjpzY2hlbWFzLW1pY3Jvc29mdC1jb206b2ZmaWNlOm9mZmljZSI+Jyk6KCJDU1MxQ29tcGF0Ij09PWRvY3VtZW50LmNvbXBhdE1vZGUmJmsud3JpdGVsbigiPCFET0NUWVBFIGh0bWw+Iiksay53cml0ZWxuKCI8aHRtbD4iKSk7ay53cml0ZWxuKCI8aGVhZD4iKTt0aGlzLndyaXRlSGVhZChrLGEpO2sud3JpdGVsbigiPC9oZWFkPiIpO2sud3JpdGVsbignPGJvZHkgY2xhc3M9Im14UGFnZSI+Jyl9dmFyIG09dGhpcy5ncmFwaC5nZXRHcmFwaEJvdW5kcygpLmNsb25lKCksbj10aGlzLmdyYXBoLmdldFZpZXcoKS5nZXRTY2FsZSgpLHA9bi90aGlzLnNjYWxlLHE9dGhpcy5ncmFwaC5nZXRWaWV3KCkuZ2V0VHJhbnNsYXRlKCk7dGhpcy5hdXRvT3JpZ2lufHwodGhpcy54MC09cS54KnRoaXMuc2NhbGUsdGhpcy55MC09CnEueSp0aGlzLnNjYWxlLG0ud2lkdGgrPW0ueCxtLmhlaWdodCs9bS55LG0ueD0wLHRoaXMuYm9yZGVyPW0ueT0wKTt2YXIgcj10aGlzLnBhZ2VGb3JtYXQud2lkdGgtMip0aGlzLmJvcmRlcix0PXRoaXMucGFnZUZvcm1hdC5oZWlnaHQtMip0aGlzLmJvcmRlcjt0aGlzLnBhZ2VGb3JtYXQuaGVpZ2h0Kz10aGlzLm1hcmdpblRvcCt0aGlzLm1hcmdpbkJvdHRvbTttLndpZHRoLz1wO20uaGVpZ2h0Lz1wO3ZhciB1PU1hdGgubWF4KDEsTWF0aC5jZWlsKChtLndpZHRoK3RoaXMueDApL3IpKSx4PU1hdGgubWF4KDEsTWF0aC5jZWlsKChtLmhlaWdodCt0aGlzLnkwKS90KSk7dGhpcy5wYWdlQ291bnQ9dSp4O3ZhciB5PW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7aWYodGhpcy5wYWdlU2VsZWN0b3ImJigxPHh8fDE8dSkpe3ZhciBhPXRoaXMuY3JlYXRlUGFnZVNlbGVjdG9yKHgsdSk7ay5ib2R5LmFwcGVuZENoaWxkKGEpO2lmKG14Q2xpZW50LklTX0lFJiZudWxsPT1rLmRvY3VtZW50TW9kZXx8CjU9PWsuZG9jdW1lbnRNb2RlfHw4PT1rLmRvY3VtZW50TW9kZXx8Nz09ay5kb2N1bWVudE1vZGUpe2Euc3R5bGUucG9zaXRpb249ImFic29sdXRlIjt2YXIgYj1mdW5jdGlvbigpe2Euc3R5bGUudG9wPShrLmJvZHkuc2Nyb2xsVG9wfHxrLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApKzEwKyJweCJ9O214RXZlbnQuYWRkTGlzdGVuZXIodGhpcy53bmQsInNjcm9sbCIsZnVuY3Rpb24oYSl7YigpfSk7bXhFdmVudC5hZGRMaXN0ZW5lcih0aGlzLnduZCwicmVzaXplIixmdW5jdGlvbihhKXtiKCl9KX19fSksQj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGIpe251bGwhPXRoaXMuYm9yZGVyQ29sb3ImJihhLnN0eWxlLmJvcmRlckNvbG9yPXRoaXMuYm9yZGVyQ29sb3IsYS5zdHlsZS5ib3JkZXJTdHlsZT0ic29saWQiLGEuc3R5bGUuYm9yZGVyV2lkdGg9IjFweCIpO2Euc3R5bGUuYmFja2dyb3VuZD10aGlzLmJhY2tncm91bmRDb2xvcjtpZihjfHxiKWEuc3R5bGUucGFnZUJyZWFrQWZ0ZXI9CiJhbHdheXMiO2lmKGcmJihteENsaWVudC5JU19JRXx8MTE8PWRvY3VtZW50LmRvY3VtZW50TW9kZXx8bXhDbGllbnQuSVNfRURHRSkpay53cml0ZWxuKGEub3V0ZXJIVE1MKSxhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSk7ZWxzZSBpZihteENsaWVudC5JU19JRXx8MTE8PWRvY3VtZW50LmRvY3VtZW50TW9kZXx8bXhDbGllbnQuSVNfRURHRSl7dmFyIGQ9ay5jcmVhdGVFbGVtZW50KCJkaXYiKTtkLmlubmVySFRNTD1hLm91dGVySFRNTDtkPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpWzBdO2suYm9keS5hcHBlbmRDaGlsZChkKTthLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSl9ZWxzZSBhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSksay5ib2R5LmFwcGVuZENoaWxkKGEpOyhjfHxiKSYmdGhpcy5hZGRQYWdlQnJlYWsoayl9KSxBPXRoaXMuZ2V0Q292ZXJQYWdlcyh0aGlzLnBhZ2VGb3JtYXQud2lkdGgsdGhpcy5wYWdlRm9ybWF0LmhlaWdodCk7aWYobnVsbCE9QSlmb3IodmFyIHo9CjA7ejxBLmxlbmd0aDt6KyspQihBW3pdLCEwKTtmb3IodmFyIEM9dGhpcy5nZXRBcHBlbmRpY2VzKHRoaXMucGFnZUZvcm1hdC53aWR0aCx0aGlzLnBhZ2VGb3JtYXQuaGVpZ2h0KSx6PTA7ejx4O3orKyl7dmFyIHY9eip0L3RoaXMuc2NhbGUtdGhpcy55MC90aGlzLnNjYWxlKyhtLnktcS55Km4pL247Zm9yKGE9MDthPHU7YSsrKXtpZihudWxsPT10aGlzLnduZClyZXR1cm4gbnVsbDt2YXIgRD1hKnIvdGhpcy5zY2FsZS10aGlzLngwL3RoaXMuc2NhbGUrKG0ueC1xLngqbikvbixHPXoqdSthKzEsSj1uZXcgbXhSZWN0YW5nbGUoRCx2LHIsdCksZj10aGlzLnJlbmRlclBhZ2UodGhpcy5wYWdlRm9ybWF0LndpZHRoLHRoaXMucGFnZUZvcm1hdC5oZWlnaHQsMCwwLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuYWRkR3JhcGhGcmFnbWVudCgtRCwtdix0aGlzLnNjYWxlLEcsYSxKKTt0aGlzLnByaW50QmFja2dyb3VuZEltYWdlJiZ0aGlzLmluc2VydEJhY2tncm91bmRJbWFnZShhLAotRCwtdil9KSxHKTtmLnNldEF0dHJpYnV0ZSgiaWQiLCJteFBhZ2UtIitHKTtCKGYsbnVsbCE9Q3x8ejx4LTF8fGE8dS0xKX19aWYobnVsbCE9Qylmb3Ioej0wO3o8Qy5sZW5ndGg7eisrKUIoQ1t6XSx6PEMubGVuZ3RoLTEpO2cmJiFkJiYodGhpcy5jbG9zZURvY3VtZW50KCkseSgpKTt0aGlzLnduZC5mb2N1cygpfWNhdGNoKEUpe251bGwhPWYmJm51bGwhPWYucGFyZW50Tm9kZSYmZi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGYpfWZpbmFsbHl7dGhpcy5ncmFwaC5jZWxsUmVuZGVyZXIuaW5pdGlhbGl6ZU92ZXJsYXk9ZX1yZXR1cm4gdGhpcy53bmR9O214UHJpbnRQcmV2aWV3LnByb3RvdHlwZS5hZGRQYWdlQnJlYWs9ZnVuY3Rpb24oYSl7dmFyIGI9YS5jcmVhdGVFbGVtZW50KCJociIpO2IuY2xhc3NOYW1lPSJteFBhZ2VCcmVhayI7YS5ib2R5LmFwcGVuZENoaWxkKGIpfTsKbXhQcmludFByZXZpZXcucHJvdG90eXBlLmNsb3NlRG9jdW1lbnQ9ZnVuY3Rpb24oKXt0cnl7aWYobnVsbCE9dGhpcy53bmQmJm51bGwhPXRoaXMud25kLmRvY3VtZW50KXt2YXIgYT10aGlzLnduZC5kb2N1bWVudDt0aGlzLndyaXRlUG9zdGZpeChhKTthLndyaXRlbG4oIjwvYm9keT4iKTthLndyaXRlbG4oIjwvaHRtbD4iKTthLmNsb3NlKCk7bXhFdmVudC5yZWxlYXNlKGEuYm9keSl9fWNhdGNoKGIpe319OwpteFByaW50UHJldmlldy5wcm90b3R5cGUud3JpdGVIZWFkPWZ1bmN0aW9uKGEsYil7bnVsbCE9dGhpcy50aXRsZSYmYS53cml0ZWxuKCI8dGl0bGU+Iit0aGlzLnRpdGxlKyI8L3RpdGxlPiIpO214Q2xpZW50LklTX1ZNTCYmYS53cml0ZWxuKCc8c3R5bGUgdHlwZT0idGV4dC9jc3MiPnZcXDoqe2JlaGF2aW9yOnVybCgjZGVmYXVsdCNWTUwpfW9cXDoqe2JlaGF2aW9yOnVybCgjZGVmYXVsdCNWTUwpfTwvc3R5bGU+Jyk7bXhDbGllbnQubGluaygic3R5bGVzaGVldCIsbXhDbGllbnQuYmFzZVBhdGgrIi9jc3MvY29tbW9uLmNzcyIsYSk7YS53cml0ZWxuKCc8c3R5bGUgdHlwZT0idGV4dC9jc3MiPicpO2Eud3JpdGVsbigiQG1lZGlhIHByaW50IHsiKTthLndyaXRlbG4oIiAgKiB7IC13ZWJraXQtcHJpbnQtY29sb3ItYWRqdXN0OiBleGFjdDsgfSIpO2Eud3JpdGVsbigiICB0YWJsZS5teFBhZ2VTZWxlY3RvciB7IGRpc3BsYXk6IG5vbmU7IH0iKTthLndyaXRlbG4oIiAgaHIubXhQYWdlQnJlYWsgeyBkaXNwbGF5OiBub25lOyB9Iik7CmEud3JpdGVsbigifSIpO2Eud3JpdGVsbigiQG1lZGlhIHNjcmVlbiB7Iik7YS53cml0ZWxuKCIgIHRhYmxlLm14UGFnZVNlbGVjdG9yIHsgcG9zaXRpb246IGZpeGVkOyByaWdodDogMTBweDsgdG9wOiAxMHB4O2ZvbnQtZmFtaWx5OiBBcmlhbDsgZm9udC1zaXplOjEwcHQ7IGJvcmRlcjogc29saWQgMXB4IGRhcmtncmF5O2JhY2tncm91bmQ6IHdoaXRlOyBib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7IH0iKTthLndyaXRlbG4oIiAgdGFibGUubXhQYWdlU2VsZWN0b3IgdGQgeyBib3JkZXI6IHNvbGlkIDFweCBncmF5OyBwYWRkaW5nOjRweDsgfSIpO2Eud3JpdGVsbigiICBib2R5Lm14UGFnZSB7IGJhY2tncm91bmQ6IGdyYXk7IH0iKTthLndyaXRlbG4oIn0iKTtudWxsIT1iJiZhLndyaXRlbG4oYik7YS53cml0ZWxuKCI8L3N0eWxlPiIpfTtteFByaW50UHJldmlldy5wcm90b3R5cGUud3JpdGVQb3N0Zml4PWZ1bmN0aW9uKGEpe307Cm14UHJpbnRQcmV2aWV3LnByb3RvdHlwZS5jcmVhdGVQYWdlU2VsZWN0b3I9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnduZC5kb2N1bWVudCxkPWMuY3JlYXRlRWxlbWVudCgidGFibGUiKTtkLmNsYXNzTmFtZT0ibXhQYWdlU2VsZWN0b3IiO2Quc2V0QXR0cmlidXRlKCJib3JkZXIiLCIwIik7Zm9yKHZhciBlPWMuY3JlYXRlRWxlbWVudCgidGJvZHkiKSxmPTA7ZjxhO2YrKyl7Zm9yKHZhciBnPWMuY3JlYXRlRWxlbWVudCgidHIiKSxrPTA7azxiO2srKyl7dmFyIGw9ZipiK2srMSxtPWMuY3JlYXRlRWxlbWVudCgidGQiKSxuPWMuY3JlYXRlRWxlbWVudCgiYSIpO24uc2V0QXR0cmlidXRlKCJocmVmIiwiI214UGFnZS0iK2wpOyFteENsaWVudC5JU19OU3x8bXhDbGllbnQuSVNfU0Z8fG14Q2xpZW50LklTX0dDfHxuLnNldEF0dHJpYnV0ZSgib25jbGljayIsInZhciBwYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ214UGFnZS0iK2wrIicpO3BhZ2Uuc2Nyb2xsSW50b1ZpZXcodHJ1ZSk7ZXZlbnQucHJldmVudERlZmF1bHQoKTsiKTsKbXhVdGlscy53cml0ZShuLGwsYyk7bS5hcHBlbmRDaGlsZChuKTtnLmFwcGVuZENoaWxkKG0pfWUuYXBwZW5kQ2hpbGQoZyl9ZC5hcHBlbmRDaGlsZChlKTtyZXR1cm4gZH07Cm14UHJpbnRQcmV2aWV3LnByb3RvdHlwZS5yZW5kZXJQYWdlPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXtmPXRoaXMud25kLmRvY3VtZW50O3ZhciBnPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGs9bnVsbDt0cnl7aWYoMCE9Y3x8MCE9ZCl7Zy5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiO2cuc3R5bGUud2lkdGg9YSsicHgiO2cuc3R5bGUuaGVpZ2h0PWIrInB4IjtnLnN0eWxlLnBhZ2VCcmVha0luc2lkZT0iYXZvaWQiO3ZhciBsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2wuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIjtsLnN0eWxlLnRvcD10aGlzLmJvcmRlcisicHgiO2wuc3R5bGUubGVmdD10aGlzLmJvcmRlcisicHgiO2wuc3R5bGUud2lkdGg9YS0yKnRoaXMuYm9yZGVyKyJweCI7bC5zdHlsZS5oZWlnaHQ9Yi0yKnRoaXMuYm9yZGVyKyJweCI7bC5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIjt2YXIgbT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTttLnN0eWxlLnBvc2l0aW9uPQoicmVsYXRpdmUiO20uc3R5bGUubWFyZ2luTGVmdD1jKyJweCI7bS5zdHlsZS5tYXJnaW5Ub3A9ZCsicHgiOzg9PWYuZG9jdW1lbnRNb2RlJiYobC5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiLG0uc3R5bGUucG9zaXRpb249ImFic29sdXRlIik7MTA9PWYuZG9jdW1lbnRNb2RlJiYobS5zdHlsZS53aWR0aD0iMTAwJSIsbS5zdHlsZS5oZWlnaHQ9IjEwMCUiKTtsLmFwcGVuZENoaWxkKG0pO2cuYXBwZW5kQ2hpbGQobCk7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChnKTtrPW19ZWxzZSBnLnN0eWxlLndpZHRoPWErInB4IixnLnN0eWxlLmhlaWdodD1iKyJweCIsZy5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIixnLnN0eWxlLnBhZ2VCcmVha0luc2lkZT0iYXZvaWQiLDg9PWYuZG9jdW1lbnRNb2RlJiYoZy5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiKSxsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGwuc3R5bGUud2lkdGg9YS0yKnRoaXMuYm9yZGVyKyJweCIsbC5zdHlsZS5oZWlnaHQ9CmItMip0aGlzLmJvcmRlcisicHgiLGwuc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiIsIW14Q2xpZW50LklTX0lFfHxudWxsIT1mLmRvY3VtZW50TW9kZSYmNSE9Zi5kb2N1bWVudE1vZGUmJjghPWYuZG9jdW1lbnRNb2RlJiY3IT1mLmRvY3VtZW50TW9kZT8obC5zdHlsZS50b3A9dGhpcy5ib3JkZXIrInB4IixsLnN0eWxlLmxlZnQ9dGhpcy5ib3JkZXIrInB4Iik6KGwuc3R5bGUubWFyZ2luVG9wPXRoaXMuYm9yZGVyKyJweCIsbC5zdHlsZS5tYXJnaW5MZWZ0PXRoaXMuYm9yZGVyKyJweCIpLHRoaXMuZ3JhcGguZGlhbGVjdD09bXhDb25zdGFudHMuRElBTEVDVF9WTUwmJihsLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIpLGcuYXBwZW5kQ2hpbGQobCksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChnKSxrPWx9Y2F0Y2gobil7dGhyb3cgZy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGcpLG47fWUoayk7cmV0dXJuIGd9OwpteFByaW50UHJldmlldy5wcm90b3R5cGUuZ2V0Um9vdD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ3JhcGgudmlldy5jdXJyZW50Um9vdDtudWxsPT1hJiYoYT10aGlzLmdyYXBoLmdldE1vZGVsKCkuZ2V0Um9vdCgpKTtyZXR1cm4gYX07Cm14UHJpbnRQcmV2aWV3LnByb3RvdHlwZS5hZGRHcmFwaEZyYWdtZW50PWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZz10aGlzLmdyYXBoLmdldFZpZXcoKTtkPXRoaXMuZ3JhcGguY29udGFpbmVyO3RoaXMuZ3JhcGguY29udGFpbmVyPWU7dmFyIGs9Zy5nZXRDYW52YXMoKSxsPWcuZ2V0QmFja2dyb3VuZFBhbmUoKSxtPWcuZ2V0RHJhd1BhbmUoKSxuPWcuZ2V0T3ZlcmxheVBhbmUoKSxwPWM7aWYodGhpcy5ncmFwaC5kaWFsZWN0PT1teENvbnN0YW50cy5ESUFMRUNUX1NWRyl7aWYoZy5jcmVhdGVTdmcoKSwhbXhDbGllbnQuTk9fRk8pe3ZhciBxPWcuZ2V0RHJhd1BhbmUoKS5wYXJlbnROb2RlO3EuZ2V0QXR0cmlidXRlKCJ0cmFuc2Zvcm0iKTtxLnNldEF0dHJpYnV0ZSgidHJhbnNmb3JtT3JpZ2luIiwiMCAwIik7cS5zZXRBdHRyaWJ1dGUoInRyYW5zZm9ybSIsInNjYWxlKCIrYysiLCIrYysiKXRyYW5zbGF0ZSgiK2ErIiwiK2IrIikiKTtjPTE7Yj1hPTB9fWVsc2UgdGhpcy5ncmFwaC5kaWFsZWN0PT0KbXhDb25zdGFudHMuRElBTEVDVF9WTUw/Zy5jcmVhdGVWbWwoKTpnLmNyZWF0ZUh0bWwoKTtxPWcuaXNFdmVudHNFbmFibGVkKCk7Zy5zZXRFdmVudHNFbmFibGVkKCExKTt2YXIgcj10aGlzLmdyYXBoLmlzRW5hYmxlZCgpO3RoaXMuZ3JhcGguc2V0RW5hYmxlZCghMSk7dmFyIHQ9Zy5nZXRUcmFuc2xhdGUoKTtnLnRyYW5zbGF0ZT1uZXcgbXhQb2ludChhLGIpO3ZhciB1PXRoaXMuZ3JhcGguY2VsbFJlbmRlcmVyLnJlZHJhdyx4PWcuc3RhdGVzO2E9Zy5zY2FsZTtpZih0aGlzLmNsaXBwaW5nKXt2YXIgeT1uZXcgbXhSZWN0YW5nbGUoKGYueCt0LngpKmEsKGYueSt0LnkpKmEsZi53aWR0aCphL3AsZi5oZWlnaHQqYS9wKTt0aGlzLmdyYXBoLmNlbGxSZW5kZXJlci5yZWRyYXc9ZnVuY3Rpb24oYSxiLGMpe2lmKG51bGwhPWEpe3ZhciBkPXguZ2V0KGEuY2VsbCk7aWYobnVsbCE9ZCYmKGQ9Zy5nZXRCb3VuZGluZ0JveChkLCExKSxudWxsIT1kJiYwPGQud2lkdGgmJjA8ZC5oZWlnaHQmJgohbXhVdGlscy5pbnRlcnNlY3RzKHksZCkpKXJldHVybn11LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19YT1udWxsO3RyeXt2YXIgQj1bdGhpcy5nZXRSb290KCldO2E9bmV3IG14VGVtcG9yYXJ5Q2VsbFN0YXRlcyhnLGMsQixudWxsLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdldExpbmtGb3JDZWxsU3RhdGUoYSl9KSl9ZmluYWxseXtpZihteENsaWVudC5JU19JRSlnLm92ZXJsYXlQYW5lLmlubmVySFRNTD0iIixnLmNhbnZhcy5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIixnLmNhbnZhcy5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiLGcuY2FudmFzLnN0eWxlLnRvcD10aGlzLm1hcmdpblRvcCsicHgiLGcuY2FudmFzLnN0eWxlLndpZHRoPWYud2lkdGgrInB4IixnLmNhbnZhcy5zdHlsZS5oZWlnaHQ9Zi5oZWlnaHQrInB4IjtlbHNlIGZvcihjPWUuZmlyc3RDaGlsZDtudWxsIT1jOylCPWMubmV4dFNpYmxpbmcsYj1jLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksCiJzdmciPT1iPyhjLnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iLGMuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIixjLnN0eWxlLnRvcD10aGlzLm1hcmdpblRvcCsicHgiLGMuc2V0QXR0cmlidXRlKCJ3aWR0aCIsZi53aWR0aCksYy5zZXRBdHRyaWJ1dGUoImhlaWdodCIsZi5oZWlnaHQpLGMuc3R5bGUud2lkdGg9IiIsYy5zdHlsZS5oZWlnaHQ9IiIpOiJkZWZhdWx0IiE9Yy5zdHlsZS5jdXJzb3ImJiJkaXYiIT1iJiZjLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYyksYz1CO3RoaXMucHJpbnRCYWNrZ3JvdW5kSW1hZ2UmJihlPWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInN2ZyIpLDA8ZS5sZW5ndGgmJihlWzBdLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIpKTtnLm92ZXJsYXlQYW5lLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZy5vdmVybGF5UGFuZSk7dGhpcy5ncmFwaC5zZXRFbmFibGVkKHIpO3RoaXMuZ3JhcGguY29udGFpbmVyPWQ7dGhpcy5ncmFwaC5jZWxsUmVuZGVyZXIucmVkcmF3PQp1O2cuY2FudmFzPWs7Zy5iYWNrZ3JvdW5kUGFuZT1sO2cuZHJhd1BhbmU9bTtnLm92ZXJsYXlQYW5lPW47Zy50cmFuc2xhdGU9dDthLmRlc3Ryb3koKTtnLnNldEV2ZW50c0VuYWJsZWQocSl9fTtteFByaW50UHJldmlldy5wcm90b3R5cGUuZ2V0TGlua0ZvckNlbGxTdGF0ZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5ncmFwaC5nZXRMaW5rRm9yQ2VsbChhLmNlbGwpfTsKbXhQcmludFByZXZpZXcucHJvdG90eXBlLmluc2VydEJhY2tncm91bmRJbWFnZT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5ncmFwaC5iYWNrZ3JvdW5kSW1hZ2U7aWYobnVsbCE9ZCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7ZS5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiO2Uuc3R5bGUubWFyZ2luTGVmdD1NYXRoLnJvdW5kKGIqdGhpcy5zY2FsZSkrInB4IjtlLnN0eWxlLm1hcmdpblRvcD1NYXRoLnJvdW5kKGMqdGhpcy5zY2FsZSkrInB4IjtlLnNldEF0dHJpYnV0ZSgid2lkdGgiLE1hdGgucm91bmQodGhpcy5zY2FsZSpkLndpZHRoKSk7ZS5zZXRBdHRyaWJ1dGUoImhlaWdodCIsTWF0aC5yb3VuZCh0aGlzLnNjYWxlKmQuaGVpZ2h0KSk7ZS5zcmM9ZC5zcmM7YS5pbnNlcnRCZWZvcmUoZSxhLmZpcnN0Q2hpbGQpfX07bXhQcmludFByZXZpZXcucHJvdG90eXBlLmdldENvdmVyUGFnZXM9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH07Cm14UHJpbnRQcmV2aWV3LnByb3RvdHlwZS5nZXRBcHBlbmRpY2VzPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9O214UHJpbnRQcmV2aWV3LnByb3RvdHlwZS5wcmludD1mdW5jdGlvbihhKXthPXRoaXMub3BlbihhKTtudWxsIT1hJiZhLnByaW50KCl9O214UHJpbnRQcmV2aWV3LnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe251bGwhPXRoaXMud25kJiYodGhpcy53bmQuY2xvc2UoKSx0aGlzLnduZD1udWxsKX07ZnVuY3Rpb24gbXhTdHlsZXNoZWV0KCl7dGhpcy5zdHlsZXM9e307dGhpcy5wdXREZWZhdWx0VmVydGV4U3R5bGUodGhpcy5jcmVhdGVEZWZhdWx0VmVydGV4U3R5bGUoKSk7dGhpcy5wdXREZWZhdWx0RWRnZVN0eWxlKHRoaXMuY3JlYXRlRGVmYXVsdEVkZ2VTdHlsZSgpKX0KbXhTdHlsZXNoZWV0LnByb3RvdHlwZS5jcmVhdGVEZWZhdWx0VmVydGV4U3R5bGU9ZnVuY3Rpb24oKXt2YXIgYT17fTthW214Q29uc3RhbnRzLlNUWUxFX1NIQVBFXT1teENvbnN0YW50cy5TSEFQRV9SRUNUQU5HTEU7YVtteENvbnN0YW50cy5TVFlMRV9QRVJJTUVURVJdPW14UGVyaW1ldGVyLlJlY3RhbmdsZVBlcmltZXRlcjthW214Q29uc3RhbnRzLlNUWUxFX1ZFUlRJQ0FMX0FMSUdOXT1teENvbnN0YW50cy5BTElHTl9NSURETEU7YVtteENvbnN0YW50cy5TVFlMRV9BTElHTl09bXhDb25zdGFudHMuQUxJR05fQ0VOVEVSO2FbbXhDb25zdGFudHMuU1RZTEVfRklMTENPTE9SXT0iI0MzRDlGRiI7YVtteENvbnN0YW50cy5TVFlMRV9TVFJPS0VDT0xPUl09IiM2NDgyQjkiO2FbbXhDb25zdGFudHMuU1RZTEVfRk9OVENPTE9SXT0iIzc3NDQwMCI7cmV0dXJuIGF9OwpteFN0eWxlc2hlZXQucHJvdG90eXBlLmNyZWF0ZURlZmF1bHRFZGdlU3R5bGU9ZnVuY3Rpb24oKXt2YXIgYT17fTthW214Q29uc3RhbnRzLlNUWUxFX1NIQVBFXT1teENvbnN0YW50cy5TSEFQRV9DT05ORUNUT1I7YVtteENvbnN0YW50cy5TVFlMRV9FTkRBUlJPV109bXhDb25zdGFudHMuQVJST1dfQ0xBU1NJQzthW214Q29uc3RhbnRzLlNUWUxFX1ZFUlRJQ0FMX0FMSUdOXT1teENvbnN0YW50cy5BTElHTl9NSURETEU7YVtteENvbnN0YW50cy5TVFlMRV9BTElHTl09bXhDb25zdGFudHMuQUxJR05fQ0VOVEVSO2FbbXhDb25zdGFudHMuU1RZTEVfU1RST0tFQ09MT1JdPSIjNjQ4MkI5IjthW214Q29uc3RhbnRzLlNUWUxFX0ZPTlRDT0xPUl09IiM0NDYyOTkiO3JldHVybiBhfTtteFN0eWxlc2hlZXQucHJvdG90eXBlLnB1dERlZmF1bHRWZXJ0ZXhTdHlsZT1mdW5jdGlvbihhKXt0aGlzLnB1dENlbGxTdHlsZSgiZGVmYXVsdFZlcnRleCIsYSl9OwpteFN0eWxlc2hlZXQucHJvdG90eXBlLnB1dERlZmF1bHRFZGdlU3R5bGU9ZnVuY3Rpb24oYSl7dGhpcy5wdXRDZWxsU3R5bGUoImRlZmF1bHRFZGdlIixhKX07bXhTdHlsZXNoZWV0LnByb3RvdHlwZS5nZXREZWZhdWx0VmVydGV4U3R5bGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdHlsZXMuZGVmYXVsdFZlcnRleH07bXhTdHlsZXNoZWV0LnByb3RvdHlwZS5nZXREZWZhdWx0RWRnZVN0eWxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3R5bGVzLmRlZmF1bHRFZGdlfTtteFN0eWxlc2hlZXQucHJvdG90eXBlLnB1dENlbGxTdHlsZT1mdW5jdGlvbihhLGIpe3RoaXMuc3R5bGVzW2FdPWJ9OwpteFN0eWxlc2hlZXQucHJvdG90eXBlLmdldENlbGxTdHlsZT1mdW5jdGlvbihhLGIpe3ZhciBjPWI7aWYobnVsbCE9YSYmMDxhLmxlbmd0aClmb3IodmFyIGQ9YS5zcGxpdCgiOyIpLGM9bnVsbCE9YyYmIjsiIT1hLmNoYXJBdCgwKT9teFV0aWxzLmNsb25lKGMpOnt9LGU9MDtlPGQubGVuZ3RoO2UrKyl7dmFyIGY9ZFtlXSxnPWYuaW5kZXhPZigiPSIpO2lmKDA8PWcpe3ZhciBrPWYuc3Vic3RyaW5nKDAsZyksZj1mLnN1YnN0cmluZyhnKzEpO2Y9PW14Q29uc3RhbnRzLk5PTkU/ZGVsZXRlIGNba106bXhVdGlscy5pc051bWVyaWMoZik/Y1trXT1wYXJzZUZsb2F0KGYpOmNba109Zn1lbHNlIGlmKGY9dGhpcy5zdHlsZXNbZl0sbnVsbCE9Zilmb3IoayBpbiBmKWNba109ZltrXX1yZXR1cm4gY307CmZ1bmN0aW9uIG14Q2VsbFN0YXRlKGEsYixjKXt0aGlzLnZpZXc9YTt0aGlzLmNlbGw9Yjt0aGlzLnN0eWxlPW51bGwhPWM/Yzp7fTt0aGlzLm9yaWdpbj1uZXcgbXhQb2ludDt0aGlzLmFic29sdXRlT2Zmc2V0PW5ldyBteFBvaW50fW14Q2VsbFN0YXRlLnByb3RvdHlwZT1uZXcgbXhSZWN0YW5nbGU7bXhDZWxsU3RhdGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPW14Q2VsbFN0YXRlO214Q2VsbFN0YXRlLnByb3RvdHlwZS52aWV3PW51bGw7bXhDZWxsU3RhdGUucHJvdG90eXBlLmNlbGw9bnVsbDtteENlbGxTdGF0ZS5wcm90b3R5cGUuc3R5bGU9bnVsbDtteENlbGxTdGF0ZS5wcm90b3R5cGUuaW52YWxpZFN0eWxlPSExO214Q2VsbFN0YXRlLnByb3RvdHlwZS5pbnZhbGlkPSEwO214Q2VsbFN0YXRlLnByb3RvdHlwZS5vcmlnaW49bnVsbDtteENlbGxTdGF0ZS5wcm90b3R5cGUuYWJzb2x1dGVQb2ludHM9bnVsbDtteENlbGxTdGF0ZS5wcm90b3R5cGUuYWJzb2x1dGVPZmZzZXQ9bnVsbDsKbXhDZWxsU3RhdGUucHJvdG90eXBlLnZpc2libGVTb3VyY2VTdGF0ZT1udWxsO214Q2VsbFN0YXRlLnByb3RvdHlwZS52aXNpYmxlVGFyZ2V0U3RhdGU9bnVsbDtteENlbGxTdGF0ZS5wcm90b3R5cGUudGVybWluYWxEaXN0YW5jZT0wO214Q2VsbFN0YXRlLnByb3RvdHlwZS5sZW5ndGg9MDtteENlbGxTdGF0ZS5wcm90b3R5cGUuc2VnbWVudHM9bnVsbDtteENlbGxTdGF0ZS5wcm90b3R5cGUuc2hhcGU9bnVsbDtteENlbGxTdGF0ZS5wcm90b3R5cGUudGV4dD1udWxsO214Q2VsbFN0YXRlLnByb3RvdHlwZS51bnNjYWxlZFdpZHRoPW51bGw7bXhDZWxsU3RhdGUucHJvdG90eXBlLnVuc2NhbGVkSGVpZ2h0PW51bGw7Cm14Q2VsbFN0YXRlLnByb3RvdHlwZS5nZXRQZXJpbWV0ZXJCb3VuZHM9ZnVuY3Rpb24oYSxiKXthPWF8fDA7Yj1udWxsIT1iP2I6bmV3IG14UmVjdGFuZ2xlKHRoaXMueCx0aGlzLnksdGhpcy53aWR0aCx0aGlzLmhlaWdodCk7aWYobnVsbCE9dGhpcy5zaGFwZSYmbnVsbCE9dGhpcy5zaGFwZS5zdGVuY2lsJiYiZml4ZWQiPT10aGlzLnNoYXBlLnN0ZW5jaWwuYXNwZWN0KXt2YXIgYz10aGlzLnNoYXBlLnN0ZW5jaWwuY29tcHV0ZUFzcGVjdCh0aGlzLnN0eWxlLGIueCxiLnksYi53aWR0aCxiLmhlaWdodCk7Yi54PWMueDtiLnk9Yy55O2Iud2lkdGg9dGhpcy5zaGFwZS5zdGVuY2lsLncwKmMud2lkdGg7Yi5oZWlnaHQ9dGhpcy5zaGFwZS5zdGVuY2lsLmgwKmMuaGVpZ2h0fTAhPWEmJmIuZ3JvdyhhKTtyZXR1cm4gYn07Cm14Q2VsbFN0YXRlLnByb3RvdHlwZS5zZXRBYnNvbHV0ZVRlcm1pbmFsUG9pbnQ9ZnVuY3Rpb24oYSxiKXtiPyhudWxsPT10aGlzLmFic29sdXRlUG9pbnRzJiYodGhpcy5hYnNvbHV0ZVBvaW50cz1bXSksMD09dGhpcy5hYnNvbHV0ZVBvaW50cy5sZW5ndGg/dGhpcy5hYnNvbHV0ZVBvaW50cy5wdXNoKGEpOnRoaXMuYWJzb2x1dGVQb2ludHNbMF09YSk6bnVsbD09dGhpcy5hYnNvbHV0ZVBvaW50cz8odGhpcy5hYnNvbHV0ZVBvaW50cz1bXSx0aGlzLmFic29sdXRlUG9pbnRzLnB1c2gobnVsbCksdGhpcy5hYnNvbHV0ZVBvaW50cy5wdXNoKGEpKToxPT10aGlzLmFic29sdXRlUG9pbnRzLmxlbmd0aD90aGlzLmFic29sdXRlUG9pbnRzLnB1c2goYSk6dGhpcy5hYnNvbHV0ZVBvaW50c1t0aGlzLmFic29sdXRlUG9pbnRzLmxlbmd0aC0xXT1hfTsKbXhDZWxsU3RhdGUucHJvdG90eXBlLnNldEN1cnNvcj1mdW5jdGlvbihhKXtudWxsIT10aGlzLnNoYXBlJiZ0aGlzLnNoYXBlLnNldEN1cnNvcihhKTtudWxsIT10aGlzLnRleHQmJnRoaXMudGV4dC5zZXRDdXJzb3IoYSl9O214Q2VsbFN0YXRlLnByb3RvdHlwZS5nZXRWaXNpYmxlVGVybWluYWw9ZnVuY3Rpb24oYSl7YT10aGlzLmdldFZpc2libGVUZXJtaW5hbFN0YXRlKGEpO3JldHVybiBudWxsIT1hP2EuY2VsbDpudWxsfTtteENlbGxTdGF0ZS5wcm90b3R5cGUuZ2V0VmlzaWJsZVRlcm1pbmFsU3RhdGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGE/dGhpcy52aXNpYmxlU291cmNlU3RhdGU6dGhpcy52aXNpYmxlVGFyZ2V0U3RhdGV9O214Q2VsbFN0YXRlLnByb3RvdHlwZS5zZXRWaXNpYmxlVGVybWluYWxTdGF0ZT1mdW5jdGlvbihhLGIpe2I/dGhpcy52aXNpYmxlU291cmNlU3RhdGU9YTp0aGlzLnZpc2libGVUYXJnZXRTdGF0ZT1hfTsKbXhDZWxsU3RhdGUucHJvdG90eXBlLmdldENlbGxCb3VuZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jZWxsQm91bmRzfTtteENlbGxTdGF0ZS5wcm90b3R5cGUuZ2V0UGFpbnRCb3VuZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYWludEJvdW5kc307bXhDZWxsU3RhdGUucHJvdG90eXBlLnVwZGF0ZUNhY2hlZEJvdW5kcz1mdW5jdGlvbigpe3ZhciBhPXRoaXMudmlldy50cmFuc2xhdGUsYj10aGlzLnZpZXcuc2NhbGU7dGhpcy5jZWxsQm91bmRzPW5ldyBteFJlY3RhbmdsZSh0aGlzLngvYi1hLngsdGhpcy55L2ItYS55LHRoaXMud2lkdGgvYix0aGlzLmhlaWdodC9iKTt0aGlzLnBhaW50Qm91bmRzPW14UmVjdGFuZ2xlLmZyb21SZWN0YW5nbGUodGhpcy5jZWxsQm91bmRzKTtudWxsIT10aGlzLnNoYXBlJiZ0aGlzLnNoYXBlLmlzUGFpbnRCb3VuZHNJbnZlcnRlZCgpJiZ0aGlzLnBhaW50Qm91bmRzLnJvdGF0ZTkwKCl9OwpteENlbGxTdGF0ZS5wcm90b3R5cGUuc2V0U3RhdGU9ZnVuY3Rpb24oYSl7dGhpcy52aWV3PWEudmlldzt0aGlzLmNlbGw9YS5jZWxsO3RoaXMuc3R5bGU9YS5zdHlsZTt0aGlzLmFic29sdXRlUG9pbnRzPWEuYWJzb2x1dGVQb2ludHM7dGhpcy5vcmlnaW49YS5vcmlnaW47dGhpcy5hYnNvbHV0ZU9mZnNldD1hLmFic29sdXRlT2Zmc2V0O3RoaXMuYm91bmRpbmdCb3g9YS5ib3VuZGluZ0JveDt0aGlzLnRlcm1pbmFsRGlzdGFuY2U9YS50ZXJtaW5hbERpc3RhbmNlO3RoaXMuc2VnbWVudHM9YS5zZWdtZW50czt0aGlzLmxlbmd0aD1hLmxlbmd0aDt0aGlzLng9YS54O3RoaXMueT1hLnk7dGhpcy53aWR0aD1hLndpZHRoO3RoaXMuaGVpZ2h0PWEuaGVpZ2h0O3RoaXMudW5zY2FsZWRXaWR0aD1hLnVuc2NhbGVkV2lkdGg7dGhpcy51bnNjYWxlZEhlaWdodD1hLnVuc2NhbGVkSGVpZ2h0fTsKbXhDZWxsU3RhdGUucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IG14Q2VsbFN0YXRlKHRoaXMudmlldyx0aGlzLmNlbGwsdGhpcy5zdHlsZSk7aWYobnVsbCE9dGhpcy5hYnNvbHV0ZVBvaW50cyl7YS5hYnNvbHV0ZVBvaW50cz1bXTtmb3IodmFyIGI9MDtiPHRoaXMuYWJzb2x1dGVQb2ludHMubGVuZ3RoO2IrKylhLmFic29sdXRlUG9pbnRzW2JdPXRoaXMuYWJzb2x1dGVQb2ludHNbYl0uY2xvbmUoKX1udWxsIT10aGlzLm9yaWdpbiYmKGEub3JpZ2luPXRoaXMub3JpZ2luLmNsb25lKCkpO251bGwhPXRoaXMuYWJzb2x1dGVPZmZzZXQmJihhLmFic29sdXRlT2Zmc2V0PXRoaXMuYWJzb2x1dGVPZmZzZXQuY2xvbmUoKSk7bnVsbCE9dGhpcy5ib3VuZGluZ0JveCYmKGEuYm91bmRpbmdCb3g9dGhpcy5ib3VuZGluZ0JveC5jbG9uZSgpKTthLnRlcm1pbmFsRGlzdGFuY2U9dGhpcy50ZXJtaW5hbERpc3RhbmNlO2Euc2VnbWVudHM9dGhpcy5zZWdtZW50czthLmxlbmd0aD0KdGhpcy5sZW5ndGg7YS54PXRoaXMueDthLnk9dGhpcy55O2Eud2lkdGg9dGhpcy53aWR0aDthLmhlaWdodD10aGlzLmhlaWdodDthLnVuc2NhbGVkV2lkdGg9dGhpcy51bnNjYWxlZFdpZHRoO2EudW5zY2FsZWRIZWlnaHQ9dGhpcy51bnNjYWxlZEhlaWdodDtyZXR1cm4gYX07bXhDZWxsU3RhdGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnZpZXcuZ3JhcGguY2VsbFJlbmRlcmVyLmRlc3Ryb3kodGhpcyl9O2Z1bmN0aW9uIG14R3JhcGhTZWxlY3Rpb25Nb2RlbChhKXt0aGlzLmdyYXBoPWE7dGhpcy5jZWxscz1bXX1teEdyYXBoU2VsZWN0aW9uTW9kZWwucHJvdG90eXBlPW5ldyBteEV2ZW50U291cmNlO214R3JhcGhTZWxlY3Rpb25Nb2RlbC5wcm90b3R5cGUuY29uc3RydWN0b3I9bXhHcmFwaFNlbGVjdGlvbk1vZGVsO214R3JhcGhTZWxlY3Rpb25Nb2RlbC5wcm90b3R5cGUuZG9uZVJlc291cmNlPSJub25lIiE9bXhDbGllbnQubGFuZ3VhZ2U/ImRvbmUiOiIiOwpteEdyYXBoU2VsZWN0aW9uTW9kZWwucHJvdG90eXBlLnVwZGF0aW5nU2VsZWN0aW9uUmVzb3VyY2U9Im5vbmUiIT1teENsaWVudC5sYW5ndWFnZT8idXBkYXRpbmdTZWxlY3Rpb24iOiIiO214R3JhcGhTZWxlY3Rpb25Nb2RlbC5wcm90b3R5cGUuZ3JhcGg9bnVsbDtteEdyYXBoU2VsZWN0aW9uTW9kZWwucHJvdG90eXBlLnNpbmdsZVNlbGVjdGlvbj0hMTtteEdyYXBoU2VsZWN0aW9uTW9kZWwucHJvdG90eXBlLmlzU2luZ2xlU2VsZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2luZ2xlU2VsZWN0aW9ufTtteEdyYXBoU2VsZWN0aW9uTW9kZWwucHJvdG90eXBlLnNldFNpbmdsZVNlbGVjdGlvbj1mdW5jdGlvbihhKXt0aGlzLnNpbmdsZVNlbGVjdGlvbj1hfTtteEdyYXBoU2VsZWN0aW9uTW9kZWwucHJvdG90eXBlLmlzU2VsZWN0ZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/MDw9bXhVdGlscy5pbmRleE9mKHRoaXMuY2VsbHMsYSk6ITF9OwpteEdyYXBoU2VsZWN0aW9uTW9kZWwucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gMD09dGhpcy5jZWxscy5sZW5ndGh9O214R3JhcGhTZWxlY3Rpb25Nb2RlbC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLmNoYW5nZVNlbGVjdGlvbihudWxsLHRoaXMuY2VsbHMpfTtteEdyYXBoU2VsZWN0aW9uTW9kZWwucHJvdG90eXBlLnNldENlbGw9ZnVuY3Rpb24oYSl7bnVsbCE9YSYmdGhpcy5zZXRDZWxscyhbYV0pfTtteEdyYXBoU2VsZWN0aW9uTW9kZWwucHJvdG90eXBlLnNldENlbGxzPWZ1bmN0aW9uKGEpe2lmKG51bGwhPWEpe3RoaXMuc2luZ2xlU2VsZWN0aW9uJiYoYT1bdGhpcy5nZXRGaXJzdFNlbGVjdGFibGVDZWxsKGEpXSk7Zm9yKHZhciBiPVtdLGM9MDtjPGEubGVuZ3RoO2MrKyl0aGlzLmdyYXBoLmlzQ2VsbFNlbGVjdGFibGUoYVtjXSkmJmIucHVzaChhW2NdKTt0aGlzLmNoYW5nZVNlbGVjdGlvbihiLHRoaXMuY2VsbHMpfX07Cm14R3JhcGhTZWxlY3Rpb25Nb2RlbC5wcm90b3R5cGUuZ2V0Rmlyc3RTZWxlY3RhYmxlQ2VsbD1mdW5jdGlvbihhKXtpZihudWxsIT1hKWZvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWlmKHRoaXMuZ3JhcGguaXNDZWxsU2VsZWN0YWJsZShhW2JdKSlyZXR1cm4gYVtiXTtyZXR1cm4gbnVsbH07bXhHcmFwaFNlbGVjdGlvbk1vZGVsLnByb3RvdHlwZS5hZGRDZWxsPWZ1bmN0aW9uKGEpe251bGwhPWEmJnRoaXMuYWRkQ2VsbHMoW2FdKX07Cm14R3JhcGhTZWxlY3Rpb25Nb2RlbC5wcm90b3R5cGUuYWRkQ2VsbHM9ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSl7dmFyIGI9bnVsbDt0aGlzLnNpbmdsZVNlbGVjdGlvbiYmKGI9dGhpcy5jZWxscyxhPVt0aGlzLmdldEZpcnN0U2VsZWN0YWJsZUNlbGwoYSldKTtmb3IodmFyIGM9W10sZD0wO2Q8YS5sZW5ndGg7ZCsrKSF0aGlzLmlzU2VsZWN0ZWQoYVtkXSkmJnRoaXMuZ3JhcGguaXNDZWxsU2VsZWN0YWJsZShhW2RdKSYmYy5wdXNoKGFbZF0pO3RoaXMuY2hhbmdlU2VsZWN0aW9uKGMsYil9fTtteEdyYXBoU2VsZWN0aW9uTW9kZWwucHJvdG90eXBlLnJlbW92ZUNlbGw9ZnVuY3Rpb24oYSl7bnVsbCE9YSYmdGhpcy5yZW1vdmVDZWxscyhbYV0pfTsKbXhHcmFwaFNlbGVjdGlvbk1vZGVsLnByb3RvdHlwZS5yZW1vdmVDZWxscz1mdW5jdGlvbihhKXtpZihudWxsIT1hKXtmb3IodmFyIGI9W10sYz0wO2M8YS5sZW5ndGg7YysrKXRoaXMuaXNTZWxlY3RlZChhW2NdKSYmYi5wdXNoKGFbY10pO3RoaXMuY2hhbmdlU2VsZWN0aW9uKG51bGwsYil9fTtteEdyYXBoU2VsZWN0aW9uTW9kZWwucHJvdG90eXBlLmNoYW5nZVNlbGVjdGlvbj1mdW5jdGlvbihhLGIpe2lmKG51bGwhPWEmJjA8YS5sZW5ndGgmJm51bGwhPWFbMF18fG51bGwhPWImJjA8Yi5sZW5ndGgmJm51bGwhPWJbMF0pe3ZhciBjPW5ldyBteFNlbGVjdGlvbkNoYW5nZSh0aGlzLGEsYik7Yy5leGVjdXRlKCk7dmFyIGQ9bmV3IG14VW5kb2FibGVFZGl0KHRoaXMsITEpO2QuYWRkKGMpO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuVU5ETywiZWRpdCIsZCkpfX07Cm14R3JhcGhTZWxlY3Rpb25Nb2RlbC5wcm90b3R5cGUuY2VsbEFkZGVkPWZ1bmN0aW9uKGEpe251bGw9PWF8fHRoaXMuaXNTZWxlY3RlZChhKXx8dGhpcy5jZWxscy5wdXNoKGEpfTtteEdyYXBoU2VsZWN0aW9uTW9kZWwucHJvdG90eXBlLmNlbGxSZW1vdmVkPWZ1bmN0aW9uKGEpe251bGwhPWEmJihhPW14VXRpbHMuaW5kZXhPZih0aGlzLmNlbGxzLGEpLDA8PWEmJnRoaXMuY2VsbHMuc3BsaWNlKGEsMSkpfTtmdW5jdGlvbiBteFNlbGVjdGlvbkNoYW5nZShhLGIsYyl7dGhpcy5zZWxlY3Rpb25Nb2RlbD1hO3RoaXMuYWRkZWQ9bnVsbCE9Yj9iLnNsaWNlKCk6bnVsbDt0aGlzLnJlbW92ZWQ9bnVsbCE9Yz9jLnNsaWNlKCk6bnVsbH0KbXhTZWxlY3Rpb25DaGFuZ2UucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oKXt2YXIgYT1teExvZy5lbnRlcigibXhTZWxlY3Rpb25DaGFuZ2UuZXhlY3V0ZSIpO3dpbmRvdy5zdGF0dXM9bXhSZXNvdXJjZXMuZ2V0KHRoaXMuc2VsZWN0aW9uTW9kZWwudXBkYXRpbmdTZWxlY3Rpb25SZXNvdXJjZSl8fHRoaXMuc2VsZWN0aW9uTW9kZWwudXBkYXRpbmdTZWxlY3Rpb25SZXNvdXJjZTtpZihudWxsIT10aGlzLnJlbW92ZWQpZm9yKHZhciBiPTA7Yjx0aGlzLnJlbW92ZWQubGVuZ3RoO2IrKyl0aGlzLnNlbGVjdGlvbk1vZGVsLmNlbGxSZW1vdmVkKHRoaXMucmVtb3ZlZFtiXSk7aWYobnVsbCE9dGhpcy5hZGRlZClmb3IoYj0wO2I8dGhpcy5hZGRlZC5sZW5ndGg7YisrKXRoaXMuc2VsZWN0aW9uTW9kZWwuY2VsbEFkZGVkKHRoaXMuYWRkZWRbYl0pO2I9dGhpcy5hZGRlZDt0aGlzLmFkZGVkPXRoaXMucmVtb3ZlZDt0aGlzLnJlbW92ZWQ9Yjt3aW5kb3cuc3RhdHVzPW14UmVzb3VyY2VzLmdldCh0aGlzLnNlbGVjdGlvbk1vZGVsLmRvbmVSZXNvdXJjZSl8fAp0aGlzLnNlbGVjdGlvbk1vZGVsLmRvbmVSZXNvdXJjZTtteExvZy5sZWF2ZSgibXhTZWxlY3Rpb25DaGFuZ2UuZXhlY3V0ZSIsYSk7dGhpcy5zZWxlY3Rpb25Nb2RlbC5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5DSEFOR0UsImFkZGVkIix0aGlzLmFkZGVkLCJyZW1vdmVkIix0aGlzLnJlbW92ZWQpKX07CmZ1bmN0aW9uIG14Q2VsbEVkaXRvcihhKXt0aGlzLmdyYXBoPWE7dGhpcy56b29tSGFuZGxlcj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuZ3JhcGguaXNFZGl0aW5nKCkmJnRoaXMucmVzaXplKCl9KTt0aGlzLmdyYXBoLnZpZXcuYWRkTGlzdGVuZXIobXhFdmVudC5TQ0FMRSx0aGlzLnpvb21IYW5kbGVyKTt0aGlzLmdyYXBoLnZpZXcuYWRkTGlzdGVuZXIobXhFdmVudC5TQ0FMRV9BTkRfVFJBTlNMQVRFLHRoaXMuem9vbUhhbmRsZXIpO3RoaXMuY2hhbmdlSGFuZGxlcj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtudWxsIT10aGlzLmVkaXRpbmdDZWxsJiZudWxsPT10aGlzLmdyYXBoLmdldFZpZXcoKS5nZXRTdGF0ZSh0aGlzLmVkaXRpbmdDZWxsKSYmdGhpcy5zdG9wRWRpdGluZyghMCl9KTt0aGlzLmdyYXBoLmdldE1vZGVsKCkuYWRkTGlzdGVuZXIobXhFdmVudC5DSEFOR0UsdGhpcy5jaGFuZ2VIYW5kbGVyKX0KbXhDZWxsRWRpdG9yLnByb3RvdHlwZS5ncmFwaD1udWxsO214Q2VsbEVkaXRvci5wcm90b3R5cGUudGV4dGFyZWE9bnVsbDtteENlbGxFZGl0b3IucHJvdG90eXBlLmVkaXRpbmdDZWxsPW51bGw7bXhDZWxsRWRpdG9yLnByb3RvdHlwZS50cmlnZ2VyPW51bGw7bXhDZWxsRWRpdG9yLnByb3RvdHlwZS5tb2RpZmllZD0hMTtteENlbGxFZGl0b3IucHJvdG90eXBlLmF1dG9TaXplPSEwO214Q2VsbEVkaXRvci5wcm90b3R5cGUuc2VsZWN0VGV4dD0hMDtteENlbGxFZGl0b3IucHJvdG90eXBlLmVtcHR5TGFiZWxUZXh0PW14Q2xpZW50LklTX0ZGPyI8YnI+IjoiIjtteENlbGxFZGl0b3IucHJvdG90eXBlLmVzY2FwZUNhbmNlbHNFZGl0aW5nPSEwO214Q2VsbEVkaXRvci5wcm90b3R5cGUudGV4dE5vZGU9IiI7bXhDZWxsRWRpdG9yLnByb3RvdHlwZS56SW5kZXg9NTtteENlbGxFZGl0b3IucHJvdG90eXBlLm1pblJlc2l6ZT1uZXcgbXhSZWN0YW5nbGUoMCwyMCk7Cm14Q2VsbEVkaXRvci5wcm90b3R5cGUud29yZFdyYXBQYWRkaW5nPW14Q2xpZW50LklTX1FVSVJLUz8yOm14Q2xpZW50LklTX0lFMTE/MDoxO214Q2VsbEVkaXRvci5wcm90b3R5cGUuYmx1ckVuYWJsZWQ9ITE7bXhDZWxsRWRpdG9yLnByb3RvdHlwZS5pbml0aWFsVmFsdWU9bnVsbDtteENlbGxFZGl0b3IucHJvdG90eXBlLmFsaWduPW51bGw7bXhDZWxsRWRpdG9yLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dGhpcy50ZXh0YXJlYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTt0aGlzLnRleHRhcmVhLmNsYXNzTmFtZT0ibXhDZWxsRWRpdG9yIG14UGxhaW5UZXh0RWRpdG9yIjt0aGlzLnRleHRhcmVhLmNvbnRlbnRFZGl0YWJsZT0hMDtteENsaWVudC5JU19HQyYmKHRoaXMudGV4dGFyZWEuc3R5bGUubWluSGVpZ2h0PSIxZW0iKTt0aGlzLnRleHRhcmVhLnN0eWxlLnBvc2l0aW9uPXRoaXMuaXNMZWdhY3lFZGl0b3IoKT8iYWJzb2x1dGUiOiJyZWxhdGl2ZSI7dGhpcy5pbnN0YWxsTGlzdGVuZXJzKHRoaXMudGV4dGFyZWEpfTsKbXhDZWxsRWRpdG9yLnByb3RvdHlwZS5hcHBseVZhbHVlPWZ1bmN0aW9uKGEsYil7dGhpcy5ncmFwaC5sYWJlbENoYW5nZWQoYS5jZWxsLGIsdGhpcy50cmlnZ2VyKX07bXhDZWxsRWRpdG9yLnByb3RvdHlwZS5zZXRBbGlnbj1mdW5jdGlvbihhKXtudWxsIT10aGlzLnRleHRhcmVhJiYodGhpcy50ZXh0YXJlYS5zdHlsZS50ZXh0QWxpZ249YSk7dGhpcy5hbGlnbj1hO3RoaXMucmVzaXplKCl9OwpteENlbGxFZGl0b3IucHJvdG90eXBlLmdldEluaXRpYWxWYWx1ZT1mdW5jdGlvbihhLGIpe3ZhciBjPW14VXRpbHMuaHRtbEVudGl0aWVzKHRoaXMuZ3JhcGguZ2V0RWRpdGluZ1ZhbHVlKGEuY2VsbCxiKSwhMSk7bXhDbGllbnQuSVNfUVVJUktTfHw4PT1kb2N1bWVudC5kb2N1bWVudE1vZGV8fDk9PWRvY3VtZW50LmRvY3VtZW50TW9kZXx8MTA9PWRvY3VtZW50LmRvY3VtZW50TW9kZXx8KGM9bXhVdGlscy5yZXBsYWNlVHJhaWxpbmdOZXdsaW5lcyhjLCI8ZGl2Pjxicj48L2Rpdj4iKSk7cmV0dXJuIGMucmVwbGFjZSgvXG4vZywiPGJyPiIpfTtteENlbGxFZGl0b3IucHJvdG90eXBlLmdldEN1cnJlbnRWYWx1ZT1mdW5jdGlvbihhKXtyZXR1cm4gbXhVdGlscy5leHRyYWN0VGV4dFdpdGhXaGl0ZXNwYWNlKHRoaXMudGV4dGFyZWEuY2hpbGROb2Rlcyl9OwpteENlbGxFZGl0b3IucHJvdG90eXBlLmlzQ2FuY2VsRWRpdGluZ0tleUV2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVzY2FwZUNhbmNlbHNFZGl0aW5nfHxteEV2ZW50LmlzU2hpZnREb3duKGEpfHxteEV2ZW50LmlzQ29udHJvbERvd24oYSl8fG14RXZlbnQuaXNNZXRhRG93bihhKX07Cm14Q2VsbEVkaXRvci5wcm90b3R5cGUuaW5zdGFsbExpc3RlbmVycz1mdW5jdGlvbihhKXtteEV2ZW50LmFkZExpc3RlbmVyKGEsImRyYWdzdGFydCIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5ncmFwaC5zdG9wRWRpdGluZyghMSk7bXhFdmVudC5jb25zdW1lKGEpfSkpO214RXZlbnQuYWRkTGlzdGVuZXIoYSwiYmx1ciIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5ibHVyRW5hYmxlZCYmdGhpcy5mb2N1c0xvc3QoYSl9KSk7bXhFdmVudC5hZGRMaXN0ZW5lcihhLCJrZXlkb3duIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtteEV2ZW50LmlzQ29uc3VtZWQoYSl8fCh0aGlzLmlzU3RvcEVkaXRpbmdFdmVudChhKT8odGhpcy5ncmFwaC5zdG9wRWRpdGluZyghMSksbXhFdmVudC5jb25zdW1lKGEpKToyNz09YS5rZXlDb2RlJiYodGhpcy5ncmFwaC5zdG9wRWRpdGluZyh0aGlzLmlzQ2FuY2VsRWRpdGluZ0tleUV2ZW50KGEpKSxteEV2ZW50LmNvbnN1bWUoYSkpKX0pKTsKdmFyIGI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7bnVsbCE9dGhpcy5lZGl0aW5nQ2VsbCYmdGhpcy5jbGVhck9uQ2hhbmdlJiZhLmlubmVySFRNTD09dGhpcy5nZXRFbXB0eUxhYmVsVGV4dCgpJiYoIW14Q2xpZW50LklTX0ZGfHw4IT1iLmtleUNvZGUmJjQ2IT1iLmtleUNvZGUpJiYodGhpcy5jbGVhck9uQ2hhbmdlPSExLGEuaW5uZXJIVE1MPSIiKX0pO214RXZlbnQuYWRkTGlzdGVuZXIoYSwia2V5cHJlc3MiLGIpO214RXZlbnQuYWRkTGlzdGVuZXIoYSwicGFzdGUiLGIpO2I9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7bnVsbCE9dGhpcy5lZGl0aW5nQ2VsbCYmKDA9PXRoaXMudGV4dGFyZWEuaW5uZXJIVE1MLmxlbmd0aHx8Ijxicj4iPT10aGlzLnRleHRhcmVhLmlubmVySFRNTD8odGhpcy50ZXh0YXJlYS5pbm5lckhUTUw9dGhpcy5nZXRFbXB0eUxhYmVsVGV4dCgpLHRoaXMuY2xlYXJPbkNoYW5nZT0wPHRoaXMudGV4dGFyZWEuaW5uZXJIVE1MLmxlbmd0aCk6CnRoaXMuY2xlYXJPbkNoYW5nZT0hMSl9KTtteEV2ZW50LmFkZExpc3RlbmVyKGEsbXhDbGllbnQuSVNfSUUxMXx8bXhDbGllbnQuSVNfSUU/ImtleXVwIjoiaW5wdXQiLGIpO214RXZlbnQuYWRkTGlzdGVuZXIoYSwiY3V0IixiKTtteEV2ZW50LmFkZExpc3RlbmVyKGEsInBhc3RlIixiKTt2YXIgYj1teENsaWVudC5JU19JRTExfHxteENsaWVudC5JU19JRT8ia2V5ZG93biI6ImlucHV0IixjPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe251bGwhPXRoaXMuZWRpdGluZ0NlbGwmJnRoaXMuYXV0b1NpemUmJiFteEV2ZW50LmlzQ29uc3VtZWQoYSkmJihudWxsIT10aGlzLnJlc2l6ZVRocmVhZCYmd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnJlc2l6ZVRocmVhZCksdGhpcy5yZXNpemVUaHJlYWQ9d2luZG93LnNldFRpbWVvdXQobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnJlc2l6ZVRocmVhZD1udWxsO3RoaXMucmVzaXplKCl9KSwwKSl9KTtteEV2ZW50LmFkZExpc3RlbmVyKGEsCmIsYyk7bXhFdmVudC5hZGRMaXN0ZW5lcih3aW5kb3csInJlc2l6ZSIsYyk7OTw9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlPyhteEV2ZW50LmFkZExpc3RlbmVyKGEsIkRPTU5vZGVSZW1vdmVkIixjKSxteEV2ZW50LmFkZExpc3RlbmVyKGEsIkRPTU5vZGVJbnNlcnRlZCIsYykpOihteEV2ZW50LmFkZExpc3RlbmVyKGEsImN1dCIsYyksbXhFdmVudC5hZGRMaXN0ZW5lcihhLCJwYXN0ZSIsYykpfTtteENlbGxFZGl0b3IucHJvdG90eXBlLmlzU3RvcEVkaXRpbmdFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gMTEzPT1hLmtleUNvZGV8fHRoaXMuZ3JhcGguaXNFbnRlclN0b3BzQ2VsbEVkaXRpbmcoKSYmMTM9PWEua2V5Q29kZSYmIW14RXZlbnQuaXNDb250cm9sRG93bihhKSYmIW14RXZlbnQuaXNTaGlmdERvd24oYSl9O214Q2VsbEVkaXRvci5wcm90b3R5cGUuaXNFdmVudFNvdXJjZT1mdW5jdGlvbihhKXtyZXR1cm4gbXhFdmVudC5nZXRTb3VyY2UoYSk9PXRoaXMudGV4dGFyZWF9OwpteENlbGxFZGl0b3IucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ3JhcGguZ2V0VmlldygpLmdldFN0YXRlKHRoaXMuZWRpdGluZ0NlbGwpO2lmKG51bGw9PWEpdGhpcy5zdG9wRWRpdGluZyghMCk7ZWxzZSBpZihudWxsIT10aGlzLnRleHRhcmVhKXt2YXIgYj10aGlzLmdyYXBoLmdldE1vZGVsKCkuaXNFZGdlKGEuY2VsbCksYz10aGlzLmdyYXBoLmdldFZpZXcoKS5zY2FsZSxkPW51bGw7aWYodGhpcy5hdXRvU2l6ZSYmImZpbGwiIT1hLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX09WRVJGTE9XXSl7dmFyIGU9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0xBQkVMX1dJRFRILG51bGwpLGQ9bnVsbCE9YS50ZXh0JiZudWxsPT10aGlzLmFsaWduP2EudGV4dC5tYXJnaW46bnVsbDtudWxsPT1kJiYoZD1teFV0aWxzLmdldEFsaWdubWVudEFzUG9pbnQodGhpcy5hbGlnbnx8bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FMSUdOLApteENvbnN0YW50cy5BTElHTl9DRU5URVIpLG14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9WRVJUSUNBTF9BTElHTixteENvbnN0YW50cy5BTElHTl9NSURETEUpKSk7aWYoYil0aGlzLmJvdW5kcz1uZXcgbXhSZWN0YW5nbGUoYS5hYnNvbHV0ZU9mZnNldC54LGEuYWJzb2x1dGVPZmZzZXQueSwwLDApLG51bGwhPWUmJihlPShwYXJzZUZsb2F0KGUpKzIpKmMsdGhpcy5ib3VuZHMud2lkdGg9ZSx0aGlzLmJvdW5kcy54Kz1kLngqZSk7ZWxzZXt2YXIgYj1teFJlY3RhbmdsZS5mcm9tUmVjdGFuZ2xlKGEpLGY9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0xBQkVMX1BPU0lUSU9OLG14Q29uc3RhbnRzLkFMSUdOX0NFTlRFUiksZz1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfVkVSVElDQUxfTEFCRUxfUE9TSVRJT04sbXhDb25zdGFudHMuQUxJR05fTUlERExFKSxiPW51bGwhPWEuc2hhcGUmJmY9PQpteENvbnN0YW50cy5BTElHTl9DRU5URVImJmc9PW14Q29uc3RhbnRzLkFMSUdOX01JRERMRT9hLnNoYXBlLmdldExhYmVsQm91bmRzKGIpOmI7bnVsbCE9ZSYmKGIud2lkdGg9cGFyc2VGbG9hdChlKSpjKTtpZighYS52aWV3LmdyYXBoLmNlbGxSZW5kZXJlci5sZWdhY3lTcGFjaW5nfHwid2lkdGgiIT1hLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX09WRVJGTE9XXSl2YXIgZj1wYXJzZUludChhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1NQQUNJTkddfHwyKSpjLGs9KHBhcnNlSW50KGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU1BBQ0lOR19UT1BdfHwwKStteFRleHQucHJvdG90eXBlLmJhc2VTcGFjaW5nVG9wKSpjK2YsbD0ocGFyc2VJbnQoYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9TUEFDSU5HX1JJR0hUXXx8MCkrbXhUZXh0LnByb3RvdHlwZS5iYXNlU3BhY2luZ1JpZ2h0KSpjK2YsbT0ocGFyc2VJbnQoYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9TUEFDSU5HX0JPVFRPTV18fAowKStteFRleHQucHJvdG90eXBlLmJhc2VTcGFjaW5nQm90dG9tKSpjK2Ysbj0ocGFyc2VJbnQoYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9TUEFDSU5HX0xFRlRdfHwwKStteFRleHQucHJvdG90eXBlLmJhc2VTcGFjaW5nTGVmdCkqYytmLGY9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0xBQkVMX1BPU0lUSU9OLG14Q29uc3RhbnRzLkFMSUdOX0NFTlRFUiksZz1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfVkVSVElDQUxfTEFCRUxfUE9TSVRJT04sbXhDb25zdGFudHMuQUxJR05fTUlERExFKSxiPW5ldyBteFJlY3RhbmdsZShiLngrbixiLnkrayxiLndpZHRoLShmPT1teENvbnN0YW50cy5BTElHTl9DRU5URVImJm51bGw9PWU/bitsOjApLGIuaGVpZ2h0LShnPT1teENvbnN0YW50cy5BTElHTl9NSURETEU/ayttOjApKTt0aGlzLmJvdW5kcz1uZXcgbXhSZWN0YW5nbGUoYi54K2EuYWJzb2x1dGVPZmZzZXQueCxiLnkrCmEuYWJzb2x1dGVPZmZzZXQueSxiLndpZHRoLGIuaGVpZ2h0KX10aGlzLmdyYXBoLmlzV3JhcHBpbmcoYS5jZWxsKSYmKDI8PXRoaXMuYm91bmRzLndpZHRofHwyPD10aGlzLmJvdW5kcy5oZWlnaHQpJiZ0aGlzLnRleHRhcmVhLmlubmVySFRNTCE9dGhpcy5nZXRFbXB0eUxhYmVsVGV4dCgpPyh0aGlzLnRleHRhcmVhLnN0eWxlLndvcmRXcmFwPW14Q29uc3RhbnRzLldPUkRfV1JBUCx0aGlzLnRleHRhcmVhLnN0eWxlLndoaXRlU3BhY2U9Im5vcm1hbCIsZT1NYXRoLnJvdW5kKHRoaXMuYm91bmRzLndpZHRoL2MpK3RoaXMud29yZFdyYXBQYWRkaW5nLCJyZWxhdGl2ZSIhPXRoaXMudGV4dGFyZWEuc3R5bGUucG9zaXRpb24/KHRoaXMudGV4dGFyZWEuc3R5bGUud2lkdGg9ZSsicHgiLHRoaXMudGV4dGFyZWEuc2Nyb2xsV2lkdGg+ZSYmKHRoaXMudGV4dGFyZWEuc3R5bGUud2lkdGg9dGhpcy50ZXh0YXJlYS5zY3JvbGxXaWR0aCsicHgiKSk6dGhpcy50ZXh0YXJlYS5zdHlsZS5tYXhXaWR0aD0KZSsicHgiKToodGhpcy50ZXh0YXJlYS5zdHlsZS53aGl0ZVNwYWNlPSJub3dyYXAiLHRoaXMudGV4dGFyZWEuc3R5bGUud2lkdGg9IiIpOzg9PWRvY3VtZW50LmRvY3VtZW50TW9kZSYmKHRoaXMudGV4dGFyZWEuc3R5bGUuem9vbT0iMSIsdGhpcy50ZXh0YXJlYS5zdHlsZS5oZWlnaHQ9ImF1dG8iKTthPXRoaXMudGV4dGFyZWEuc2Nyb2xsV2lkdGg7ZT10aGlzLnRleHRhcmVhLnNjcm9sbEhlaWdodDs4PT1kb2N1bWVudC5kb2N1bWVudE1vZGU/KHRoaXMudGV4dGFyZWEuc3R5bGUubGVmdD1NYXRoLm1heCgwLE1hdGguY2VpbCgodGhpcy5ib3VuZHMueC1kLngqKHRoaXMuYm91bmRzLndpZHRoLShhKzEpKmMpK2EqKGMtMSkqMCsyKihkLngrLjUpKS9jKSkrInB4Iix0aGlzLnRleHRhcmVhLnN0eWxlLnRvcD1NYXRoLm1heCgwLE1hdGguY2VpbCgodGhpcy5ib3VuZHMueS1kLnkqKHRoaXMuYm91bmRzLmhlaWdodC0oZSsuNSkqYykrZSooYy0xKSowKzEqTWF0aC5hYnMoZC55Ky41KSkvCmMpKSsicHgiLHRoaXMudGV4dGFyZWEuc3R5bGUud2lkdGg9TWF0aC5yb3VuZChhKmMpKyJweCIsdGhpcy50ZXh0YXJlYS5zdHlsZS5oZWlnaHQ9TWF0aC5yb3VuZChlKmMpKyJweCIpOm14Q2xpZW50LklTX1FVSVJLUz8odGhpcy50ZXh0YXJlYS5zdHlsZS5sZWZ0PU1hdGgubWF4KDAsTWF0aC5jZWlsKHRoaXMuYm91bmRzLngtZC54Kih0aGlzLmJvdW5kcy53aWR0aC0oYSsxKSpjKSthKihjLTEpKjArMiooZC54Ky41KSkpKyJweCIsdGhpcy50ZXh0YXJlYS5zdHlsZS50b3A9TWF0aC5tYXgoMCxNYXRoLmNlaWwodGhpcy5ib3VuZHMueS1kLnkqKHRoaXMuYm91bmRzLmhlaWdodC0oZSsuNSkqYykrZSooYy0xKSowKzEqTWF0aC5hYnMoZC55Ky41KSkpKyJweCIpOih0aGlzLnRleHRhcmVhLnN0eWxlLmxlZnQ9TWF0aC5tYXgoMCxNYXRoLnJvdW5kKHRoaXMuYm91bmRzLngtZC54Kih0aGlzLmJvdW5kcy53aWR0aC0yKSkrMSkrInB4Iix0aGlzLnRleHRhcmVhLnN0eWxlLnRvcD1NYXRoLm1heCgwLApNYXRoLnJvdW5kKHRoaXMuYm91bmRzLnktZC55Kih0aGlzLmJvdW5kcy5oZWlnaHQtNCkrKC0xPT1kLnk/MzowKSkrMSkrInB4Iil9ZWxzZSB0aGlzLmJvdW5kcz10aGlzLmdldEVkaXRvckJvdW5kcyhhKSx0aGlzLnRleHRhcmVhLnN0eWxlLndpZHRoPU1hdGgucm91bmQodGhpcy5ib3VuZHMud2lkdGgvYykrInB4Iix0aGlzLnRleHRhcmVhLnN0eWxlLmhlaWdodD1NYXRoLnJvdW5kKHRoaXMuYm91bmRzLmhlaWdodC9jKSsicHgiLDg9PWRvY3VtZW50LmRvY3VtZW50TW9kZXx8bXhDbGllbnQuSVNfUVVJUktTPyh0aGlzLnRleHRhcmVhLnN0eWxlLmxlZnQ9TWF0aC5yb3VuZCh0aGlzLmJvdW5kcy54KSsicHgiLHRoaXMudGV4dGFyZWEuc3R5bGUudG9wPU1hdGgucm91bmQodGhpcy5ib3VuZHMueSkrInB4Iik6KHRoaXMudGV4dGFyZWEuc3R5bGUubGVmdD1NYXRoLm1heCgwLE1hdGgucm91bmQodGhpcy5ib3VuZHMueCsxKSkrInB4Iix0aGlzLnRleHRhcmVhLnN0eWxlLnRvcD1NYXRoLm1heCgwLApNYXRoLnJvdW5kKHRoaXMuYm91bmRzLnkrMSkpKyJweCIpLHRoaXMuZ3JhcGguaXNXcmFwcGluZyhhLmNlbGwpJiYoMjw9dGhpcy5ib3VuZHMud2lkdGh8fDI8PXRoaXMuYm91bmRzLmhlaWdodCkmJnRoaXMudGV4dGFyZWEuaW5uZXJIVE1MIT10aGlzLmdldEVtcHR5TGFiZWxUZXh0KCk/KHRoaXMudGV4dGFyZWEuc3R5bGUud29yZFdyYXA9bXhDb25zdGFudHMuV09SRF9XUkFQLHRoaXMudGV4dGFyZWEuc3R5bGUud2hpdGVTcGFjZT0ibm9ybWFsIiwiZmlsbCIhPWEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfT1ZFUkZMT1ddJiYodGhpcy50ZXh0YXJlYS5zdHlsZS53aWR0aD1NYXRoLnJvdW5kKHRoaXMuYm91bmRzLndpZHRoL2MpK3RoaXMud29yZFdyYXBQYWRkaW5nKyJweCIpKToodGhpcy50ZXh0YXJlYS5zdHlsZS53aGl0ZVNwYWNlPSJub3dyYXAiLCJmaWxsIiE9YS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9PVkVSRkxPV10mJih0aGlzLnRleHRhcmVhLnN0eWxlLndpZHRoPSIiKSk7Cm14Q2xpZW50LklTX1ZNTD90aGlzLnRleHRhcmVhLnN0eWxlLnpvb209YzoobXhVdGlscy5zZXRQcmVmaXhlZFN0eWxlKHRoaXMudGV4dGFyZWEuc3R5bGUsInRyYW5zZm9ybU9yaWdpbiIsIjBweCAwcHgiKSxteFV0aWxzLnNldFByZWZpeGVkU3R5bGUodGhpcy50ZXh0YXJlYS5zdHlsZSwidHJhbnNmb3JtIiwic2NhbGUoIitjKyIsIitjKyIpIisobnVsbD09ZD8iIjoiIHRyYW5zbGF0ZSgiKzEwMCpkLngrIiUsIisxMDAqZC55KyIlKSIpKSl9fTtteENlbGxFZGl0b3IucHJvdG90eXBlLmZvY3VzTG9zdD1mdW5jdGlvbigpe3RoaXMuc3RvcEVkaXRpbmcoIXRoaXMuZ3JhcGguaXNJbnZva2VzU3RvcENlbGxFZGl0aW5nKCkpfTtteENlbGxFZGl0b3IucHJvdG90eXBlLmdldEJhY2tncm91bmRDb2xvcj1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbH07Cm14Q2VsbEVkaXRvci5wcm90b3R5cGUuaXNMZWdhY3lFZGl0b3I9ZnVuY3Rpb24oKXtpZihteENsaWVudC5JU19WTUwpcmV0dXJuITA7dmFyIGE9ITE7aWYobXhDbGllbnQuSVNfU1ZHKXt2YXIgYj10aGlzLmdyYXBoLnZpZXcuZ2V0RHJhd1BhbmUoKS5vd25lclNWR0VsZW1lbnQ7bnVsbCE9YiYmKGI9bXhVdGlscy5nZXRDdXJyZW50U3R5bGUoYiksbnVsbCE9YiYmKGE9ImFic29sdXRlIj09Yi5wb3NpdGlvbikpfXJldHVybiFhfTsKbXhDZWxsRWRpdG9yLnByb3RvdHlwZS5zdGFydEVkaXRpbmc9ZnVuY3Rpb24oYSxiKXt0aGlzLnN0b3BFZGl0aW5nKCEwKTt0aGlzLmFsaWduPW51bGw7bnVsbD09dGhpcy50ZXh0YXJlYSYmdGhpcy5pbml0KCk7bnVsbCE9dGhpcy5ncmFwaC50b29sdGlwSGFuZGxlciYmdGhpcy5ncmFwaC50b29sdGlwSGFuZGxlci5oaWRlVG9vbHRpcCgpO3ZhciBjPXRoaXMuZ3JhcGguZ2V0VmlldygpLmdldFN0YXRlKGEpO2lmKG51bGwhPWMpe3RoaXMuZ3JhcGguZ2V0VmlldygpO3ZhciBkPW14VXRpbHMuZ2V0VmFsdWUoYy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9GT05UU0laRSxteENvbnN0YW50cy5ERUZBVUxUX0ZPTlRTSVpFKSxlPW14VXRpbHMuZ2V0VmFsdWUoYy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9GT05URkFNSUxZLG14Q29uc3RhbnRzLkRFRkFVTFRfRk9OVEZBTUlMWSksZj1teFV0aWxzLmdldFZhbHVlKGMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRk9OVENPTE9SLCJibGFjayIpLApnPW14VXRpbHMuZ2V0VmFsdWUoYy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9BTElHTixteENvbnN0YW50cy5BTElHTl9MRUZUKSxrPShteFV0aWxzLmdldFZhbHVlKGMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRk9OVFNUWUxFLDApJm14Q29uc3RhbnRzLkZPTlRfQk9MRCk9PW14Q29uc3RhbnRzLkZPTlRfQk9MRCxsPShteFV0aWxzLmdldFZhbHVlKGMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRk9OVFNUWUxFLDApJm14Q29uc3RhbnRzLkZPTlRfSVRBTElDKT09bXhDb25zdGFudHMuRk9OVF9JVEFMSUMsbT1bXTsobXhVdGlscy5nZXRWYWx1ZShjLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0ZPTlRTVFlMRSwwKSZteENvbnN0YW50cy5GT05UX1VOREVSTElORSk9PW14Q29uc3RhbnRzLkZPTlRfVU5ERVJMSU5FJiZtLnB1c2goInVuZGVybGluZSIpOyhteFV0aWxzLmdldFZhbHVlKGMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRk9OVFNUWUxFLDApJm14Q29uc3RhbnRzLkZPTlRfU1RSSUtFVEhST1VHSCk9PQpteENvbnN0YW50cy5GT05UX1NUUklLRVRIUk9VR0gmJm0ucHVzaCgibGluZS10aHJvdWdoIik7dGhpcy50ZXh0YXJlYS5zdHlsZS5saW5lSGVpZ2h0PW14Q29uc3RhbnRzLkFCU09MVVRFX0xJTkVfSEVJR0hUP01hdGgucm91bmQoZCpteENvbnN0YW50cy5MSU5FX0hFSUdIVCkrInB4IjpteENvbnN0YW50cy5MSU5FX0hFSUdIVDt0aGlzLnRleHRhcmVhLnN0eWxlLmJhY2tncm91bmRDb2xvcj10aGlzLmdldEJhY2tncm91bmRDb2xvcihjKTt0aGlzLnRleHRhcmVhLnN0eWxlLnRleHREZWNvcmF0aW9uPW0uam9pbigiICIpO3RoaXMudGV4dGFyZWEuc3R5bGUuZm9udFdlaWdodD1rPyJib2xkIjoibm9ybWFsIjt0aGlzLnRleHRhcmVhLnN0eWxlLmZvbnRTdHlsZT1sPyJpdGFsaWMiOiIiO3RoaXMudGV4dGFyZWEuc3R5bGUuZm9udFNpemU9TWF0aC5yb3VuZChkKSsicHgiO3RoaXMudGV4dGFyZWEuc3R5bGUuekluZGV4PXRoaXMuekluZGV4O3RoaXMudGV4dGFyZWEuc3R5bGUuZm9udEZhbWlseT0KZTt0aGlzLnRleHRhcmVhLnN0eWxlLnRleHRBbGlnbj1nO3RoaXMudGV4dGFyZWEuc3R5bGUub3V0bGluZT0ibm9uZSI7dGhpcy50ZXh0YXJlYS5zdHlsZS5jb2xvcj1mO2Q9dGhpcy50ZXh0RGlyZWN0aW9uPW14VXRpbHMuZ2V0VmFsdWUoYy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9URVhUX0RJUkVDVElPTixteENvbnN0YW50cy5ERUZBVUxUX1RFWFRfRElSRUNUSU9OKTtkPT1teENvbnN0YW50cy5URVhUX0RJUkVDVElPTl9BVVRPJiYobnVsbD09Y3x8bnVsbD09Yy50ZXh0fHxjLnRleHQuZGlhbGVjdD09bXhDb25zdGFudHMuRElBTEVDVF9TVFJJQ1RIVE1MfHxteFV0aWxzLmlzTm9kZShjLnRleHQudmFsdWUpfHwoZD1jLnRleHQuZ2V0QXV0b0RpcmVjdGlvbigpKSk7ZD09bXhDb25zdGFudHMuVEVYVF9ESVJFQ1RJT05fTFRSfHxkPT1teENvbnN0YW50cy5URVhUX0RJUkVDVElPTl9SVEw/dGhpcy50ZXh0YXJlYS5zZXRBdHRyaWJ1dGUoImRpciIsZCk6dGhpcy50ZXh0YXJlYS5yZW1vdmVBdHRyaWJ1dGUoImRpciIpOwp0aGlzLnRleHRhcmVhLmlubmVySFRNTD10aGlzLmdldEluaXRpYWxWYWx1ZShjLGIpfHwiIjt0aGlzLmluaXRpYWxWYWx1ZT10aGlzLnRleHRhcmVhLmlubmVySFRNTDswPT10aGlzLnRleHRhcmVhLmlubmVySFRNTC5sZW5ndGh8fCI8YnI+Ij09dGhpcy50ZXh0YXJlYS5pbm5lckhUTUw/KHRoaXMudGV4dGFyZWEuaW5uZXJIVE1MPXRoaXMuZ2V0RW1wdHlMYWJlbFRleHQoKSx0aGlzLmNsZWFyT25DaGFuZ2U9ITApOnRoaXMuY2xlYXJPbkNoYW5nZT10aGlzLnRleHRhcmVhLmlubmVySFRNTD09dGhpcy5nZXRFbXB0eUxhYmVsVGV4dCgpO3RoaXMuZ3JhcGguY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMudGV4dGFyZWEpO3RoaXMuZWRpdGluZ0NlbGw9YTt0aGlzLnRyaWdnZXI9Yjt0aGlzLnRleHROb2RlPW51bGw7bnVsbCE9Yy50ZXh0JiZ0aGlzLmlzSGlkZUxhYmVsKGMpJiYodGhpcy50ZXh0Tm9kZT1jLnRleHQubm9kZSx0aGlzLnRleHROb2RlLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiIpOwp0aGlzLmF1dG9TaXplJiYodGhpcy5ncmFwaC5tb2RlbC5pc0VkZ2UoYy5jZWxsKXx8ImZpbGwiIT1jLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX09WRVJGTE9XXSkmJndpbmRvdy5zZXRUaW1lb3V0KG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5yZXNpemUoKX0pLDApO3RoaXMucmVzaXplKCk7dHJ5e3RoaXMudGV4dGFyZWEuZm9jdXMoKSx0aGlzLmlzU2VsZWN0VGV4dCgpJiYwPHRoaXMudGV4dGFyZWEuaW5uZXJIVE1MLmxlbmd0aCYmKHRoaXMudGV4dGFyZWEuaW5uZXJIVE1MIT10aGlzLmdldEVtcHR5TGFiZWxUZXh0KCl8fCF0aGlzLmNsZWFyT25DaGFuZ2UpJiZkb2N1bWVudC5leGVjQ29tbWFuZCgic2VsZWN0QWxsIiwhMSxudWxsKX1jYXRjaChuKXt9fX07bXhDZWxsRWRpdG9yLnByb3RvdHlwZS5pc1NlbGVjdFRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxlY3RUZXh0fTsKbXhDZWxsRWRpdG9yLnByb3RvdHlwZS5jbGVhclNlbGVjdGlvbj1mdW5jdGlvbigpe3ZhciBhPW51bGw7d2luZG93LmdldFNlbGVjdGlvbj9hPXdpbmRvdy5nZXRTZWxlY3Rpb24oKTpkb2N1bWVudC5zZWxlY3Rpb24mJihhPWRvY3VtZW50LnNlbGVjdGlvbik7bnVsbCE9YSYmKGEuZW1wdHk/YS5lbXB0eSgpOmEucmVtb3ZlQWxsUmFuZ2VzJiZhLnJlbW92ZUFsbFJhbmdlcygpKX07Cm14Q2VsbEVkaXRvci5wcm90b3R5cGUuc3RvcEVkaXRpbmc9ZnVuY3Rpb24oYSl7aWYobnVsbCE9dGhpcy5lZGl0aW5nQ2VsbCl7bnVsbCE9dGhpcy50ZXh0Tm9kZSYmKHRoaXMudGV4dE5vZGUuc3R5bGUudmlzaWJpbGl0eT0idmlzaWJsZSIsdGhpcy50ZXh0Tm9kZT1udWxsKTthPWE/bnVsbDp0aGlzLmdyYXBoLnZpZXcuZ2V0U3RhdGUodGhpcy5lZGl0aW5nQ2VsbCk7dmFyIGI9dGhpcy5pbml0aWFsVmFsdWU7dGhpcy5ib3VuZHM9dGhpcy50cmlnZ2VyPXRoaXMuZWRpdGluZ0NlbGw9dGhpcy5pbml0aWFsVmFsdWU9bnVsbDt0aGlzLnRleHRhcmVhLmJsdXIoKTt0aGlzLmNsZWFyU2VsZWN0aW9uKCk7bnVsbCE9dGhpcy50ZXh0YXJlYS5wYXJlbnROb2RlJiZ0aGlzLnRleHRhcmVhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy50ZXh0YXJlYSk7dGhpcy5jbGVhck9uQ2hhbmdlJiZ0aGlzLnRleHRhcmVhLmlubmVySFRNTD09dGhpcy5nZXRFbXB0eUxhYmVsVGV4dCgpJiYodGhpcy50ZXh0YXJlYS5pbm5lckhUTUw9CiIiLHRoaXMuY2xlYXJPbkNoYW5nZT0hMSk7aWYobnVsbCE9YSYmKHRoaXMudGV4dGFyZWEuaW5uZXJIVE1MIT1ifHxudWxsIT10aGlzLmFsaWduKSl7dGhpcy5wcmVwYXJlVGV4dGFyZWEoKTtiPXRoaXMuZ2V0Q3VycmVudFZhbHVlKGEpO3RoaXMuZ3JhcGguZ2V0TW9kZWwoKS5iZWdpblVwZGF0ZSgpO3RyeXtudWxsIT1iJiZ0aGlzLmFwcGx5VmFsdWUoYSxiKSxudWxsIT10aGlzLmFsaWduJiZ0aGlzLmdyYXBoLnNldENlbGxTdHlsZXMobXhDb25zdGFudHMuU1RZTEVfQUxJR04sdGhpcy5hbGlnbixbYS5jZWxsXSl9ZmluYWxseXt0aGlzLmdyYXBoLmdldE1vZGVsKCkuZW5kVXBkYXRlKCl9fW14RXZlbnQucmVsZWFzZSh0aGlzLnRleHRhcmVhKTt0aGlzLmFsaWduPXRoaXMudGV4dGFyZWE9bnVsbH19OwpteENlbGxFZGl0b3IucHJvdG90eXBlLnByZXBhcmVUZXh0YXJlYT1mdW5jdGlvbigpe251bGwhPXRoaXMudGV4dGFyZWEubGFzdENoaWxkJiYiQlIiPT10aGlzLnRleHRhcmVhLmxhc3RDaGlsZC5ub2RlTmFtZSYmdGhpcy50ZXh0YXJlYS5yZW1vdmVDaGlsZCh0aGlzLnRleHRhcmVhLmxhc3RDaGlsZCl9O214Q2VsbEVkaXRvci5wcm90b3R5cGUuaXNIaWRlTGFiZWw9ZnVuY3Rpb24oYSl7cmV0dXJuITB9O214Q2VsbEVkaXRvci5wcm90b3R5cGUuZ2V0TWluaW11bVNpemU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5ncmFwaC5nZXRWaWV3KCkuc2NhbGU7cmV0dXJuIG5ldyBteFJlY3RhbmdsZSgwLDAsbnVsbD09YS50ZXh0PzMwOmEudGV4dC5zaXplKmIrMjAsImxlZnQiPT10aGlzLnRleHRhcmVhLnN0eWxlLnRleHRBbGlnbj8xMjA6NDApfTsKbXhDZWxsRWRpdG9yLnByb3RvdHlwZS5nZXRFZGl0b3JCb3VuZHM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmlzRWRnZShhLmNlbGwpLGM9dGhpcy5ncmFwaC5nZXRWaWV3KCkuc2NhbGUsZD10aGlzLmdldE1pbmltdW1TaXplKGEpLGU9ZC53aWR0aCxkPWQuaGVpZ2h0O2lmKCFiJiZhLnZpZXcuZ3JhcGguY2VsbFJlbmRlcmVyLmxlZ2FjeVNwYWNpbmcmJiJmaWxsIj09YS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9PVkVSRkxPV10pYz1hLnNoYXBlLmdldExhYmVsQm91bmRzKG14UmVjdGFuZ2xlLmZyb21SZWN0YW5nbGUoYSkpO2Vsc2V7dmFyIGY9cGFyc2VJbnQoYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9TUEFDSU5HXXx8MCkqYyxnPShwYXJzZUludChhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1NQQUNJTkdfVE9QXXx8MCkrbXhUZXh0LnByb3RvdHlwZS5iYXNlU3BhY2luZ1RvcCkqYytmLGs9KHBhcnNlSW50KGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU1BBQ0lOR19SSUdIVF18fAowKStteFRleHQucHJvdG90eXBlLmJhc2VTcGFjaW5nUmlnaHQpKmMrZixsPShwYXJzZUludChhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1NQQUNJTkdfQk9UVE9NXXx8MCkrbXhUZXh0LnByb3RvdHlwZS5iYXNlU3BhY2luZ0JvdHRvbSkqYytmLGY9KHBhcnNlSW50KGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU1BBQ0lOR19MRUZUXXx8MCkrbXhUZXh0LnByb3RvdHlwZS5iYXNlU3BhY2luZ0xlZnQpKmMrZixjPW5ldyBteFJlY3RhbmdsZShhLngsYS55LE1hdGgubWF4KGUsYS53aWR0aC1mLWspLE1hdGgubWF4KGQsYS5oZWlnaHQtZy1sKSksaz1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfTEFCRUxfUE9TSVRJT04sbXhDb25zdGFudHMuQUxJR05fQ0VOVEVSKSxsPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9WRVJUSUNBTF9MQUJFTF9QT1NJVElPTixteENvbnN0YW50cy5BTElHTl9NSURETEUpLGM9bnVsbCE9YS5zaGFwZSYmCms9PW14Q29uc3RhbnRzLkFMSUdOX0NFTlRFUiYmbD09bXhDb25zdGFudHMuQUxJR05fTUlERExFP2Euc2hhcGUuZ2V0TGFiZWxCb3VuZHMoYyk6YztiPyhjLng9YS5hYnNvbHV0ZU9mZnNldC54LGMueT1hLmFic29sdXRlT2Zmc2V0LnksbnVsbCE9YS50ZXh0JiZudWxsIT1hLnRleHQuYm91bmRpbmdCb3gmJigwPGEudGV4dC5ib3VuZGluZ0JveC54JiYoYy54PWEudGV4dC5ib3VuZGluZ0JveC54KSwwPGEudGV4dC5ib3VuZGluZ0JveC55JiYoYy55PWEudGV4dC5ib3VuZGluZ0JveC55KSkpOm51bGwhPWEudGV4dCYmbnVsbCE9YS50ZXh0LmJvdW5kaW5nQm94JiYoYy54PU1hdGgubWluKGMueCxhLnRleHQuYm91bmRpbmdCb3gueCksYy55PU1hdGgubWluKGMueSxhLnRleHQuYm91bmRpbmdCb3gueSkpO2MueCs9ZjtjLnkrPWc7bnVsbCE9YS50ZXh0JiZudWxsIT1hLnRleHQuYm91bmRpbmdCb3gmJihiPyhjLndpZHRoPU1hdGgubWF4KGUsYS50ZXh0LmJvdW5kaW5nQm94LndpZHRoKSwKYy5oZWlnaHQ9TWF0aC5tYXgoZCxhLnRleHQuYm91bmRpbmdCb3guaGVpZ2h0KSk6KGMud2lkdGg9TWF0aC5tYXgoYy53aWR0aCxhLnRleHQuYm91bmRpbmdCb3gud2lkdGgpLGMuaGVpZ2h0PU1hdGgubWF4KGMuaGVpZ2h0LGEudGV4dC5ib3VuZGluZ0JveC5oZWlnaHQpKSk7dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmlzVmVydGV4KGEuY2VsbCkmJihiPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9MQUJFTF9QT1NJVElPTixteENvbnN0YW50cy5BTElHTl9DRU5URVIpLGI9PW14Q29uc3RhbnRzLkFMSUdOX0xFRlQ/Yy54LT1hLndpZHRoOmI9PW14Q29uc3RhbnRzLkFMSUdOX1JJR0hUJiYoYy54Kz1hLndpZHRoKSxiPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9WRVJUSUNBTF9MQUJFTF9QT1NJVElPTixteENvbnN0YW50cy5BTElHTl9NSURETEUpLGI9PW14Q29uc3RhbnRzLkFMSUdOX1RPUD9jLnktPWEuaGVpZ2h0OmI9PQpteENvbnN0YW50cy5BTElHTl9CT1RUT00mJihjLnkrPWEuaGVpZ2h0KSl9cmV0dXJuIG5ldyBteFJlY3RhbmdsZShNYXRoLnJvdW5kKGMueCksTWF0aC5yb3VuZChjLnkpLE1hdGgucm91bmQoYy53aWR0aCksTWF0aC5yb3VuZChjLmhlaWdodCkpfTtteENlbGxFZGl0b3IucHJvdG90eXBlLmdldEVtcHR5TGFiZWxUZXh0PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVtcHR5TGFiZWxUZXh0fTtteENlbGxFZGl0b3IucHJvdG90eXBlLmdldEVkaXRpbmdDZWxsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRpdGluZ0NlbGx9OwpteENlbGxFZGl0b3IucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtudWxsIT10aGlzLnRleHRhcmVhJiYobXhFdmVudC5yZWxlYXNlKHRoaXMudGV4dGFyZWEpLG51bGwhPXRoaXMudGV4dGFyZWEucGFyZW50Tm9kZSYmdGhpcy50ZXh0YXJlYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMudGV4dGFyZWEpLHRoaXMudGV4dGFyZWE9bnVsbCk7bnVsbCE9dGhpcy5jaGFuZ2VIYW5kbGVyJiYodGhpcy5ncmFwaC5nZXRNb2RlbCgpLnJlbW92ZUxpc3RlbmVyKHRoaXMuY2hhbmdlSGFuZGxlciksdGhpcy5jaGFuZ2VIYW5kbGVyPW51bGwpO3RoaXMuem9vbUhhbmRsZXImJih0aGlzLmdyYXBoLnZpZXcucmVtb3ZlTGlzdGVuZXIodGhpcy56b29tSGFuZGxlciksdGhpcy56b29tSGFuZGxlcj1udWxsKX07ZnVuY3Rpb24gbXhDZWxsUmVuZGVyZXIoKXt9bXhDZWxsUmVuZGVyZXIuZGVmYXVsdFNoYXBlcz17fTsKbXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLmRlZmF1bHRFZGdlU2hhcGU9bXhDb25uZWN0b3I7bXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLmRlZmF1bHRWZXJ0ZXhTaGFwZT1teFJlY3RhbmdsZVNoYXBlO214Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5kZWZhdWx0VGV4dFNoYXBlPW14VGV4dDtteENlbGxSZW5kZXJlci5wcm90b3R5cGUubGVnYWN5Q29udHJvbFBvc2l0aW9uPSEwO214Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5sZWdhY3lTcGFjaW5nPSEwO214Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5hbnRpQWxpYXM9ITA7bXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLm1pblN2Z1N0cm9rZVdpZHRoPTE7bXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLmZvcmNlQ29udHJvbENsaWNrSGFuZGxlcj0hMTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlPWZ1bmN0aW9uKGEsYil7bXhDZWxsUmVuZGVyZXIuZGVmYXVsdFNoYXBlc1thXT1ifTsKbXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZShteENvbnN0YW50cy5TSEFQRV9SRUNUQU5HTEUsbXhSZWN0YW5nbGVTaGFwZSk7bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZShteENvbnN0YW50cy5TSEFQRV9FTExJUFNFLG14RWxsaXBzZSk7bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZShteENvbnN0YW50cy5TSEFQRV9SSE9NQlVTLG14UmhvbWJ1cyk7bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZShteENvbnN0YW50cy5TSEFQRV9DWUxJTkRFUixteEN5bGluZGVyKTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKG14Q29uc3RhbnRzLlNIQVBFX0NPTk5FQ1RPUixteENvbm5lY3Rvcik7bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZShteENvbnN0YW50cy5TSEFQRV9BQ1RPUixteEFjdG9yKTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKG14Q29uc3RhbnRzLlNIQVBFX1RSSUFOR0xFLG14VHJpYW5nbGUpOwpteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKG14Q29uc3RhbnRzLlNIQVBFX0hFWEFHT04sbXhIZXhhZ29uKTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKG14Q29uc3RhbnRzLlNIQVBFX0NMT1VELG14Q2xvdWQpO214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUobXhDb25zdGFudHMuU0hBUEVfTElORSxteExpbmUpO214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUobXhDb25zdGFudHMuU0hBUEVfQVJST1csbXhBcnJvdyk7bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZShteENvbnN0YW50cy5TSEFQRV9BUlJPV19DT05ORUNUT1IsbXhBcnJvd0Nvbm5lY3Rvcik7bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZShteENvbnN0YW50cy5TSEFQRV9ET1VCTEVfRUxMSVBTRSxteERvdWJsZUVsbGlwc2UpO214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUobXhDb25zdGFudHMuU0hBUEVfU1dJTUxBTkUsbXhTd2ltbGFuZSk7Cm14Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUobXhDb25zdGFudHMuU0hBUEVfSU1BR0UsbXhJbWFnZVNoYXBlKTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKG14Q29uc3RhbnRzLlNIQVBFX0xBQkVMLG14TGFiZWwpO214Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5pbml0aWFsaXplU2hhcGU9ZnVuY3Rpb24oYSl7YS5zaGFwZS5kaWFsZWN0PWEudmlldy5ncmFwaC5kaWFsZWN0O3RoaXMuY29uZmlndXJlU2hhcGUoYSk7YS5zaGFwZS5pbml0KGEudmlldy5nZXREcmF3UGFuZSgpKX07bXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZVNoYXBlPWZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7bnVsbCE9YS5zdHlsZSYmKGI9bXhTdGVuY2lsUmVnaXN0cnkuZ2V0U3RlbmNpbChhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1NIQVBFXSksYj1udWxsIT1iP25ldyBteFNoYXBlKGIpOm5ldyAodGhpcy5nZXRTaGFwZUNvbnN0cnVjdG9yKGEpKSk7cmV0dXJuIGJ9OwpteENlbGxSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlSW5kaWNhdG9yU2hhcGU9ZnVuY3Rpb24oYSl7YS5zaGFwZS5pbmRpY2F0b3JTaGFwZT10aGlzLmdldFNoYXBlKGEudmlldy5ncmFwaC5nZXRJbmRpY2F0b3JTaGFwZShhKSl9O214Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5nZXRTaGFwZT1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT9teENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzW2FdOm51bGx9O214Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5nZXRTaGFwZUNvbnN0cnVjdG9yPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0U2hhcGUoYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9TSEFQRV0pO251bGw9PWImJihiPWEudmlldy5ncmFwaC5nZXRNb2RlbCgpLmlzRWRnZShhLmNlbGwpP3RoaXMuZGVmYXVsdEVkZ2VTaGFwZTp0aGlzLmRlZmF1bHRWZXJ0ZXhTaGFwZSk7cmV0dXJuIGJ9OwpteENlbGxSZW5kZXJlci5wcm90b3R5cGUuY29uZmlndXJlU2hhcGU9ZnVuY3Rpb24oYSl7YS5zaGFwZS5hcHBseShhKTthLnNoYXBlLmltYWdlPWEudmlldy5ncmFwaC5nZXRJbWFnZShhKTthLnNoYXBlLmluZGljYXRvckNvbG9yPWEudmlldy5ncmFwaC5nZXRJbmRpY2F0b3JDb2xvcihhKTthLnNoYXBlLmluZGljYXRvclN0cm9rZUNvbG9yPWEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfSU5ESUNBVE9SX1NUUk9LRUNPTE9SXTthLnNoYXBlLmluZGljYXRvckdyYWRpZW50Q29sb3I9YS52aWV3LmdyYXBoLmdldEluZGljYXRvckdyYWRpZW50Q29sb3IoYSk7YS5zaGFwZS5pbmRpY2F0b3JEaXJlY3Rpb249YS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9JTkRJQ0FUT1JfRElSRUNUSU9OXTthLnNoYXBlLmluZGljYXRvckltYWdlPWEudmlldy5ncmFwaC5nZXRJbmRpY2F0b3JJbWFnZShhKTt0aGlzLnBvc3RDb25maWd1cmVTaGFwZShhKX07Cm14Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5wb3N0Q29uZmlndXJlU2hhcGU9ZnVuY3Rpb24oYSl7bnVsbCE9YS5zaGFwZSYmKHRoaXMucmVzb2x2ZUNvbG9yKGEsImluZGljYXRvckdyYWRpZW50Q29sb3IiLG14Q29uc3RhbnRzLlNUWUxFX0dSQURJRU5UQ09MT1IpLHRoaXMucmVzb2x2ZUNvbG9yKGEsImluZGljYXRvckNvbG9yIixteENvbnN0YW50cy5TVFlMRV9GSUxMQ09MT1IpLHRoaXMucmVzb2x2ZUNvbG9yKGEsImdyYWRpZW50IixteENvbnN0YW50cy5TVFlMRV9HUkFESUVOVENPTE9SKSx0aGlzLnJlc29sdmVDb2xvcihhLCJzdHJva2UiLG14Q29uc3RhbnRzLlNUWUxFX1NUUk9LRUNPTE9SKSx0aGlzLnJlc29sdmVDb2xvcihhLCJmaWxsIixteENvbnN0YW50cy5TVFlMRV9GSUxMQ09MT1IpKX07Cm14Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5jaGVja1BsYWNlaG9sZGVyU3R5bGVzPWZ1bmN0aW9uKGEpe2lmKG51bGwhPWEuc3R5bGUpZm9yKHZhciBiPVsiaW5oZXJpdCIsInN3aW1sYW5lIiwiaW5kaWNhdGVkIl0sYz1bbXhDb25zdGFudHMuU1RZTEVfRklMTENPTE9SLG14Q29uc3RhbnRzLlNUWUxFX1NUUk9LRUNPTE9SLG14Q29uc3RhbnRzLlNUWUxFX0dSQURJRU5UQ09MT1IsbXhDb25zdGFudHMuU1RZTEVfRk9OVENPTE9SXSxkPTA7ZDxjLmxlbmd0aDtkKyspaWYoMDw9bXhVdGlscy5pbmRleE9mKGIsYS5zdHlsZVtjW2RdXSkpcmV0dXJuITA7cmV0dXJuITF9OwpteENlbGxSZW5kZXJlci5wcm90b3R5cGUucmVzb2x2ZUNvbG9yPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1jPT1teENvbnN0YW50cy5TVFlMRV9GT05UQ09MT1I/YS50ZXh0OmEuc2hhcGU7aWYobnVsbCE9ZCl7dmFyIGU9YS52aWV3LmdyYXBoLGY9ZFtiXSxnPW51bGw7ImluaGVyaXQiPT1mP2c9ZS5tb2RlbC5nZXRQYXJlbnQoYS5jZWxsKToic3dpbWxhbmUiPT1mPyhkW2JdPWM9PW14Q29uc3RhbnRzLlNUWUxFX1NUUk9LRUNPTE9SfHxjPT1teENvbnN0YW50cy5TVFlMRV9GT05UQ09MT1I/IiMwMDAwMDAiOiIjZmZmZmZmIixnPW51bGwhPWUubW9kZWwuZ2V0VGVybWluYWwoYS5jZWxsLCExKT9lLm1vZGVsLmdldFRlcm1pbmFsKGEuY2VsbCwhMSk6YS5jZWxsLGc9ZS5nZXRTd2ltbGFuZShnKSxjPWUuc3dpbWxhbmVJbmRpY2F0b3JDb2xvckF0dHJpYnV0ZSk6ImluZGljYXRlZCI9PWYmJm51bGwhPWEuc2hhcGUmJihkW2JdPWEuc2hhcGUuaW5kaWNhdG9yQ29sb3IpO251bGwhPWcmJihhPQplLmdldFZpZXcoKS5nZXRTdGF0ZShnKSxkW2JdPW51bGwsbnVsbCE9YSYmKGU9Yz09bXhDb25zdGFudHMuU1RZTEVfRk9OVENPTE9SP2EudGV4dDphLnNoYXBlLGRbYl09bnVsbCE9ZSYmImluZGljYXRvckNvbG9yIiE9Yj9lW2JdOmEuc3R5bGVbY10pKX19O214Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5nZXRMYWJlbFZhbHVlPWZ1bmN0aW9uKGEpe3JldHVybiBhLnZpZXcuZ3JhcGguZ2V0TGFiZWwoYS5jZWxsKX07Cm14Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVMYWJlbD1mdW5jdGlvbihhLGIpe3ZhciBjPWEudmlldy5ncmFwaDtjLmdldE1vZGVsKCkuaXNFZGdlKGEuY2VsbCk7aWYoMDxhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0ZPTlRTSVpFXXx8bnVsbD09YS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9GT05UU0laRV0pe3ZhciBkPWMuaXNIdG1sTGFiZWwoYS5jZWxsKXx8bnVsbCE9YiYmbXhVdGlscy5pc05vZGUoYik7YS50ZXh0PW5ldyB0aGlzLmRlZmF1bHRUZXh0U2hhcGUoYixuZXcgbXhSZWN0YW5nbGUsYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9BTElHTl18fG14Q29uc3RhbnRzLkFMSUdOX0NFTlRFUixjLmdldFZlcnRpY2FsQWxpZ24oYSksYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9GT05UQ09MT1JdLGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRk9OVEZBTUlMWV0sYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9GT05UU0laRV0sYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9GT05UU1RZTEVdLAphLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1NQQUNJTkddLGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU1BBQ0lOR19UT1BdLGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU1BBQ0lOR19SSUdIVF0sYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9TUEFDSU5HX0JPVFRPTV0sYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9TUEFDSU5HX0xFRlRdLGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfSE9SSVpPTlRBTF0sYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9MQUJFTF9CQUNLR1JPVU5EQ09MT1JdLGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfTEFCRUxfQk9SREVSQ09MT1JdLGMuaXNXcmFwcGluZyhhLmNlbGwpJiZjLmlzSHRtbExhYmVsKGEuY2VsbCksYy5pc0xhYmVsQ2xpcHBlZChhLmNlbGwpLGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfT1ZFUkZMT1ddLGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfTEFCRUxfUEFERElOR10sbXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1RFWFRfRElSRUNUSU9OLApteENvbnN0YW50cy5ERUZBVUxUX1RFWFRfRElSRUNUSU9OKSk7YS50ZXh0Lm9wYWNpdHk9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1RFWFRfT1BBQ0lUWSwxMDApO2EudGV4dC5kaWFsZWN0PWQ/bXhDb25zdGFudHMuRElBTEVDVF9TVFJJQ1RIVE1MOmEudmlldy5ncmFwaC5kaWFsZWN0O2EudGV4dC5zdHlsZT1hLnN0eWxlO2EudGV4dC5zdGF0ZT1hO3RoaXMuaW5pdGlhbGl6ZUxhYmVsKGEsYS50ZXh0KTt2YXIgZT0hMSxmPWZ1bmN0aW9uKGIpe3ZhciBkPWE7aWYobXhDbGllbnQuSVNfVE9VQ0h8fGUpZD1teEV2ZW50LmdldENsaWVudFgoYiksYj1teEV2ZW50LmdldENsaWVudFkoYiksYj1teFV0aWxzLmNvbnZlcnRQb2ludChjLmNvbnRhaW5lcixkLGIpLGQ9Yy52aWV3LmdldFN0YXRlKGMuZ2V0Q2VsbEF0KGIueCxiLnkpKTtyZXR1cm4gZH07bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKGEudGV4dC5ub2RlLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe3RoaXMuaXNMYWJlbEV2ZW50KGEsCmIpJiYoYy5maXJlTW91c2VFdmVudChteEV2ZW50Lk1PVVNFX0RPV04sbmV3IG14TW91c2VFdmVudChiLGEpKSxlPWMuZGlhbGVjdCE9bXhDb25zdGFudHMuRElBTEVDVF9TVkcmJiJJTUciPT1teEV2ZW50LmdldFNvdXJjZShiKS5ub2RlTmFtZSl9KSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXt0aGlzLmlzTGFiZWxFdmVudChhLGIpJiZjLmZpcmVNb3VzZUV2ZW50KG14RXZlbnQuTU9VU0VfTU9WRSxuZXcgbXhNb3VzZUV2ZW50KGIsZihiKSkpfSksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7dGhpcy5pc0xhYmVsRXZlbnQoYSxiKSYmKGMuZmlyZU1vdXNlRXZlbnQobXhFdmVudC5NT1VTRV9VUCxuZXcgbXhNb3VzZUV2ZW50KGIsZihiKSkpLGU9ITEpfSkpO2MubmF0aXZlRGJsQ2xpY2tFbmFibGVkJiZteEV2ZW50LmFkZExpc3RlbmVyKGEudGV4dC5ub2RlLCJkYmxjbGljayIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7dGhpcy5pc0xhYmVsRXZlbnQoYSwKYikmJihjLmRibENsaWNrKGIsYS5jZWxsKSxteEV2ZW50LmNvbnN1bWUoYikpfSkpfX07bXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLmluaXRpYWxpemVMYWJlbD1mdW5jdGlvbihhLGIpe214Q2xpZW50LklTX1NWRyYmbXhDbGllbnQuTk9fRk8mJmIuZGlhbGVjdCE9bXhDb25zdGFudHMuRElBTEVDVF9TVkc/Yi5pbml0KGEudmlldy5ncmFwaC5jb250YWluZXIpOmIuaW5pdChhLnZpZXcuZ2V0RHJhd1BhbmUoKSl9OwpteENlbGxSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlQ2VsbE92ZXJsYXlzPWZ1bmN0aW9uKGEpe3ZhciBiPWEudmlldy5ncmFwaC5nZXRDZWxsT3ZlcmxheXMoYS5jZWxsKSxjPW51bGw7aWYobnVsbCE9Yilmb3IodmFyIGM9bmV3IG14RGljdGlvbmFyeSxkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBlPW51bGwhPWEub3ZlcmxheXM/YS5vdmVybGF5cy5yZW1vdmUoYltkXSk6bnVsbDtudWxsPT1lJiYoZT1uZXcgbXhJbWFnZVNoYXBlKG5ldyBteFJlY3RhbmdsZSxiW2RdLmltYWdlLnNyYyksZS5kaWFsZWN0PWEudmlldy5ncmFwaC5kaWFsZWN0LGUucHJlc2VydmVJbWFnZUFzcGVjdD0hMSxlLm92ZXJsYXk9YltkXSx0aGlzLmluaXRpYWxpemVPdmVybGF5KGEsZSksdGhpcy5pbnN0YWxsQ2VsbE92ZXJsYXlMaXN0ZW5lcnMoYSxiW2RdLGUpLG51bGwhPWJbZF0uY3Vyc29yJiYoZS5ub2RlLnN0eWxlLmN1cnNvcj1iW2RdLmN1cnNvcikpO2MucHV0KGJbZF0sZSl9bnVsbCE9YS5vdmVybGF5cyYmCmEub3ZlcmxheXMudmlzaXQoZnVuY3Rpb24oYSxiKXtiLmRlc3Ryb3koKX0pO2Eub3ZlcmxheXM9Y307bXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLmluaXRpYWxpemVPdmVybGF5PWZ1bmN0aW9uKGEsYil7Yi5pbml0KGEudmlldy5nZXRPdmVybGF5UGFuZSgpKX07Cm14Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5pbnN0YWxsQ2VsbE92ZXJsYXlMaXN0ZW5lcnM9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEudmlldy5ncmFwaDtteEV2ZW50LmFkZExpc3RlbmVyKGMubm9kZSwiY2xpY2siLGZ1bmN0aW9uKGMpe2QuaXNFZGl0aW5nKCkmJmQuc3RvcEVkaXRpbmcoIWQuaXNJbnZva2VzU3RvcENlbGxFZGl0aW5nKCkpO2IuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuQ0xJQ0ssImV2ZW50IixjLCJjZWxsIixhLmNlbGwpKX0pO214RXZlbnQuYWRkR2VzdHVyZUxpc3RlbmVycyhjLm5vZGUsZnVuY3Rpb24oYSl7bXhFdmVudC5jb25zdW1lKGEpfSxmdW5jdGlvbihiKXtkLmZpcmVNb3VzZUV2ZW50KG14RXZlbnQuTU9VU0VfTU9WRSxuZXcgbXhNb3VzZUV2ZW50KGIsYSkpfSk7bXhDbGllbnQuSVNfVE9VQ0gmJm14RXZlbnQuYWRkTGlzdGVuZXIoYy5ub2RlLCJ0b3VjaGVuZCIsZnVuY3Rpb24oYyl7Yi5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5DTElDSywKImV2ZW50IixjLCJjZWxsIixhLmNlbGwpKX0pfTtteENlbGxSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlQ29udHJvbD1mdW5jdGlvbihhKXt2YXIgYj1hLnZpZXcuZ3JhcGgsYz1iLmdldEZvbGRpbmdJbWFnZShhKTtpZihiLmZvbGRpbmdFbmFibGVkJiZudWxsIT1jKXtpZihudWxsPT1hLmNvbnRyb2wpe3ZhciBkPW5ldyBteFJlY3RhbmdsZSgwLDAsYy53aWR0aCxjLmhlaWdodCk7YS5jb250cm9sPW5ldyBteEltYWdlU2hhcGUoZCxjLnNyYyk7YS5jb250cm9sLnByZXNlcnZlSW1hZ2VBc3BlY3Q9ITE7YS5jb250cm9sLmRpYWxlY3Q9Yi5kaWFsZWN0O3RoaXMuaW5pdENvbnRyb2woYSxhLmNvbnRyb2wsITAsdGhpcy5jcmVhdGVDb250cm9sQ2xpY2tIYW5kbGVyKGEpKX19ZWxzZSBudWxsIT1hLmNvbnRyb2wmJihhLmNvbnRyb2wuZGVzdHJveSgpLGEuY29udHJvbD1udWxsKX07Cm14Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVDb250cm9sQ2xpY2tIYW5kbGVyPWZ1bmN0aW9uKGEpe3ZhciBiPWEudmlldy5ncmFwaDtyZXR1cm4gbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYyl7aWYodGhpcy5mb3JjZUNvbnRyb2xDbGlja0hhbmRsZXJ8fGIuaXNFbmFibGVkKCkpe3ZhciBkPSFiLmlzQ2VsbENvbGxhcHNlZChhLmNlbGwpO2IuZm9sZENlbGxzKGQsITEsW2EuY2VsbF0sbnVsbCxjKTtteEV2ZW50LmNvbnN1bWUoYyl9fSl9OwpteENlbGxSZW5kZXJlci5wcm90b3R5cGUuaW5pdENvbnRyb2w9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YS52aWV3LmdyYXBoO2UuaXNIdG1sTGFiZWwoYS5jZWxsKSYmbXhDbGllbnQuTk9fRk8mJmUuZGlhbGVjdD09bXhDb25zdGFudHMuRElBTEVDVF9TVkc/KGIuZGlhbGVjdD1teENvbnN0YW50cy5ESUFMRUNUX1BSRUZFUkhUTUwsYi5pbml0KGUuY29udGFpbmVyKSxiLm5vZGUuc3R5bGUuekluZGV4PTEpOmIuaW5pdChhLnZpZXcuZ2V0T3ZlcmxheVBhbmUoKSk7Yj1iLmlubmVyTm9kZXx8Yi5ub2RlO251bGw9PWR8fG14Q2xpZW50LklTX0lPU3x8KGUuaXNFbmFibGVkKCkmJihiLnN0eWxlLmN1cnNvcj0icG9pbnRlciIpLG14RXZlbnQuYWRkTGlzdGVuZXIoYiwiY2xpY2siLGQpKTtpZihjKXt2YXIgZj1udWxsO214RXZlbnQuYWRkR2VzdHVyZUxpc3RlbmVycyhiLGZ1bmN0aW9uKGIpe2Y9bmV3IG14UG9pbnQobXhFdmVudC5nZXRDbGllbnRYKGIpLG14RXZlbnQuZ2V0Q2xpZW50WShiKSk7CmUuZmlyZU1vdXNlRXZlbnQobXhFdmVudC5NT1VTRV9ET1dOLG5ldyBteE1vdXNlRXZlbnQoYixhKSk7bXhFdmVudC5jb25zdW1lKGIpfSxmdW5jdGlvbihiKXtlLmZpcmVNb3VzZUV2ZW50KG14RXZlbnQuTU9VU0VfTU9WRSxuZXcgbXhNb3VzZUV2ZW50KGIsYSkpfSxmdW5jdGlvbihiKXtlLmZpcmVNb3VzZUV2ZW50KG14RXZlbnQuTU9VU0VfVVAsbmV3IG14TW91c2VFdmVudChiLGEpKTtteEV2ZW50LmNvbnN1bWUoYil9KTtudWxsIT1kJiZteENsaWVudC5JU19JT1MmJmIuYWRkRXZlbnRMaXN0ZW5lcigidG91Y2hlbmQiLGZ1bmN0aW9uKGEpe2lmKG51bGwhPWYpe3ZhciBiPWUudG9sZXJhbmNlO01hdGguYWJzKGYueC1teEV2ZW50LmdldENsaWVudFgoYSkpPGImJk1hdGguYWJzKGYueS1teEV2ZW50LmdldENsaWVudFkoYSkpPGImJihkLmNhbGwoZCxhKSxteEV2ZW50LmNvbnN1bWUoYSkpfX0sITApfXJldHVybiBifTsKbXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLmlzU2hhcGVFdmVudD1mdW5jdGlvbihhLGIpe3JldHVybiEwfTtteENlbGxSZW5kZXJlci5wcm90b3R5cGUuaXNMYWJlbEV2ZW50PWZ1bmN0aW9uKGEsYil7cmV0dXJuITB9OwpteENlbGxSZW5kZXJlci5wcm90b3R5cGUuaW5zdGFsbExpc3RlbmVycz1mdW5jdGlvbihhKXt2YXIgYj1hLnZpZXcuZ3JhcGgsYz1mdW5jdGlvbihjKXt2YXIgZD1hO2lmKGIuZGlhbGVjdCE9bXhDb25zdGFudHMuRElBTEVDVF9TVkcmJiJJTUciPT1teEV2ZW50LmdldFNvdXJjZShjKS5ub2RlTmFtZXx8bXhDbGllbnQuSVNfVE9VQ0gpZD1teEV2ZW50LmdldENsaWVudFgoYyksYz1teEV2ZW50LmdldENsaWVudFkoYyksYz1teFV0aWxzLmNvbnZlcnRQb2ludChiLmNvbnRhaW5lcixkLGMpLGQ9Yi52aWV3LmdldFN0YXRlKGIuZ2V0Q2VsbEF0KGMueCxjLnkpKTtyZXR1cm4gZH07bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKGEuc2hhcGUubm9kZSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihjKXt0aGlzLmlzU2hhcGVFdmVudChhLGMpJiZiLmZpcmVNb3VzZUV2ZW50KG14RXZlbnQuTU9VU0VfRE9XTixuZXcgbXhNb3VzZUV2ZW50KGMsYSkpfSksbXhVdGlscy5iaW5kKHRoaXMsCmZ1bmN0aW9uKGQpe3RoaXMuaXNTaGFwZUV2ZW50KGEsZCkmJmIuZmlyZU1vdXNlRXZlbnQobXhFdmVudC5NT1VTRV9NT1ZFLG5ldyBteE1vdXNlRXZlbnQoZCxjKGQpKSl9KSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihkKXt0aGlzLmlzU2hhcGVFdmVudChhLGQpJiZiLmZpcmVNb3VzZUV2ZW50KG14RXZlbnQuTU9VU0VfVVAsbmV3IG14TW91c2VFdmVudChkLGMoZCkpKX0pKTtiLm5hdGl2ZURibENsaWNrRW5hYmxlZCYmbXhFdmVudC5hZGRMaXN0ZW5lcihhLnNoYXBlLm5vZGUsImRibGNsaWNrIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihjKXt0aGlzLmlzU2hhcGVFdmVudChhLGMpJiYoYi5kYmxDbGljayhjLGEuY2VsbCksbXhFdmVudC5jb25zdW1lKGMpKX0pKX07Cm14Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5yZWRyYXdMYWJlbD1mdW5jdGlvbihhLGIpe3ZhciBjPWEudmlldy5ncmFwaCxkPXRoaXMuZ2V0TGFiZWxWYWx1ZShhKSxlPWMuaXNXcmFwcGluZyhhLmNlbGwpLGY9Yy5pc0xhYmVsQ2xpcHBlZChhLmNlbGwpLGc9YS52aWV3LmdyYXBoLmlzSHRtbExhYmVsKGEuY2VsbCl8fG51bGwhPWQmJm14VXRpbHMuaXNOb2RlKGQpP214Q29uc3RhbnRzLkRJQUxFQ1RfU1RSSUNUSFRNTDphLnZpZXcuZ3JhcGguZGlhbGVjdCxrPWEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfT1ZFUkZMT1ddfHwidmlzaWJsZSI7bnVsbD09YS50ZXh0fHxhLnRleHQud3JhcD09ZSYmYS50ZXh0LmNsaXBwZWQ9PWYmJmEudGV4dC5vdmVyZmxvdz09ayYmYS50ZXh0LmRpYWxlY3Q9PWd8fChhLnRleHQuZGVzdHJveSgpLGEudGV4dD1udWxsKTtudWxsPT1hLnRleHQmJm51bGwhPWQmJihteFV0aWxzLmlzTm9kZShkKXx8MDxkLmxlbmd0aCk/dGhpcy5jcmVhdGVMYWJlbChhLApkKTpudWxsPT1hLnRleHR8fG51bGwhPWQmJjAhPWQubGVuZ3RofHwoYS50ZXh0LmRlc3Ryb3koKSxhLnRleHQ9bnVsbCk7aWYobnVsbCE9YS50ZXh0KXtiJiYobnVsbCE9YS50ZXh0Lmxhc3RWYWx1ZSYmdGhpcy5pc1RleHRTaGFwZUludmFsaWQoYSxhLnRleHQpJiYoYS50ZXh0Lmxhc3RWYWx1ZT1udWxsKSxhLnRleHQucmVzZXRTdHlsZXMoKSxhLnRleHQuYXBwbHkoYSksYS50ZXh0LnZhbGlnbj1jLmdldFZlcnRpY2FsQWxpZ24oYSkpO3ZhciBjPXRoaXMuZ2V0TGFiZWxCb3VuZHMoYSksbD10aGlzLmdldFRleHRTY2FsZShhKTt0aGlzLnJlc29sdmVDb2xvcihhLCJjb2xvciIsbXhDb25zdGFudHMuU1RZTEVfRk9OVENPTE9SKTtpZihifHxhLnRleHQudmFsdWUhPWR8fGEudGV4dC5pc1dyYXBwaW5nIT1lfHxhLnRleHQub3ZlcmZsb3chPWt8fGEudGV4dC5pc0NsaXBwaW5nIT1mfHxhLnRleHQuc2NhbGUhPWx8fGEudGV4dC5kaWFsZWN0IT1nfHxudWxsPT1hLnRleHQuYm91bmRzfHwKIWEudGV4dC5ib3VuZHMuZXF1YWxzKGMpKWEudGV4dC5kaWFsZWN0PWcsYS50ZXh0LnZhbHVlPWQsYS50ZXh0LmJvdW5kcz1jLGEudGV4dC5zY2FsZT1sLGEudGV4dC53cmFwPWUsYS50ZXh0LmNsaXBwZWQ9ZixhLnRleHQub3ZlcmZsb3c9ayxkPWEudGV4dC5ub2RlLnN0eWxlLnZpc2liaWxpdHksdGhpcy5yZWRyYXdMYWJlbFNoYXBlKGEudGV4dCksYS50ZXh0Lm5vZGUuc3R5bGUudmlzaWJpbGl0eT1kfX07Cm14Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5pc1RleHRTaGFwZUludmFsaWQ9ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGMsZSxmKXtyZXR1cm4ic3BhY2luZ1RvcCI9PWV8fCJzcGFjaW5nUmlnaHQiPT1lfHwic3BhY2luZ0JvdHRvbSI9PWV8fCJzcGFjaW5nTGVmdCI9PWU/cGFyc2VGbG9hdChiW2NdKS1wYXJzZUZsb2F0KGIuc3BhY2luZykhPShhLnN0eWxlW2VdfHxmKTpiW2NdIT0oYS5zdHlsZVtlXXx8Zil9cmV0dXJuIGMoImZvbnRTdHlsZSIsbXhDb25zdGFudHMuU1RZTEVfRk9OVFNUWUxFLG14Q29uc3RhbnRzLkRFRkFVTFRfRk9OVFNUWUxFKXx8YygiZmFtaWx5IixteENvbnN0YW50cy5TVFlMRV9GT05URkFNSUxZLG14Q29uc3RhbnRzLkRFRkFVTFRfRk9OVEZBTUlMWSl8fGMoInNpemUiLG14Q29uc3RhbnRzLlNUWUxFX0ZPTlRTSVpFLG14Q29uc3RhbnRzLkRFRkFVTFRfRk9OVFNJWkUpfHxjKCJjb2xvciIsbXhDb25zdGFudHMuU1RZTEVfRk9OVENPTE9SLCJibGFjayIpfHwKYygiYWxpZ24iLG14Q29uc3RhbnRzLlNUWUxFX0FMSUdOLCIiKXx8YygidmFsaWduIixteENvbnN0YW50cy5TVFlMRV9WRVJUSUNBTF9BTElHTiwiIil8fGMoInNwYWNpbmciLG14Q29uc3RhbnRzLlNUWUxFX1NQQUNJTkcsMil8fGMoInNwYWNpbmdUb3AiLG14Q29uc3RhbnRzLlNUWUxFX1NQQUNJTkdfVE9QLDApfHxjKCJzcGFjaW5nUmlnaHQiLG14Q29uc3RhbnRzLlNUWUxFX1NQQUNJTkdfUklHSFQsMCl8fGMoInNwYWNpbmdCb3R0b20iLG14Q29uc3RhbnRzLlNUWUxFX1NQQUNJTkdfQk9UVE9NLDApfHxjKCJzcGFjaW5nTGVmdCIsbXhDb25zdGFudHMuU1RZTEVfU1BBQ0lOR19MRUZULDApfHxjKCJob3Jpem9udGFsIixteENvbnN0YW50cy5TVFlMRV9IT1JJWk9OVEFMLCEwKXx8YygiYmFja2dyb3VuZCIsbXhDb25zdGFudHMuU1RZTEVfTEFCRUxfQkFDS0dST1VORENPTE9SKXx8YygiYm9yZGVyIixteENvbnN0YW50cy5TVFlMRV9MQUJFTF9CT1JERVJDT0xPUil8fGMoIm9wYWNpdHkiLApteENvbnN0YW50cy5TVFlMRV9URVhUX09QQUNJVFksMTAwKXx8YygidGV4dERpcmVjdGlvbiIsbXhDb25zdGFudHMuU1RZTEVfVEVYVF9ESVJFQ1RJT04sbXhDb25zdGFudHMuREVGQVVMVF9URVhUX0RJUkVDVElPTil9O214Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5yZWRyYXdMYWJlbFNoYXBlPWZ1bmN0aW9uKGEpe2EucmVkcmF3KCl9O214Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5nZXRUZXh0U2NhbGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudmlldy5zY2FsZX07Cm14Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5nZXRMYWJlbEJvdW5kcz1mdW5jdGlvbihhKXt2YXIgYj1hLnZpZXcuZ3JhcGgsYz1hLnZpZXcuc2NhbGUsZD1iLmdldE1vZGVsKCkuaXNFZGdlKGEuY2VsbCksZT1uZXcgbXhSZWN0YW5nbGUoYS5hYnNvbHV0ZU9mZnNldC54LGEuYWJzb2x1dGVPZmZzZXQueSk7aWYoZCl7dmFyIGY9YS50ZXh0LmdldFNwYWNpbmcoKTtlLngrPWYueCpjO2UueSs9Zi55KmM7Yj1iLmdldENlbGxHZW9tZXRyeShhLmNlbGwpO251bGwhPWImJihlLndpZHRoPU1hdGgubWF4KDAsYi53aWR0aCpjKSxlLmhlaWdodD1NYXRoLm1heCgwLGIuaGVpZ2h0KmMpKX1lbHNlIGEudGV4dC5pc1BhaW50Qm91bmRzSW52ZXJ0ZWQoKSYmKGI9ZS54LGUueD1lLnksZS55PWIpLGUueCs9YS54LGUueSs9YS55LGUud2lkdGg9TWF0aC5tYXgoMSxhLndpZHRoKSxlLmhlaWdodD1NYXRoLm1heCgxLGEuaGVpZ2h0KTthLnRleHQuaXNQYWludEJvdW5kc0ludmVydGVkKCkmJihiPShhLndpZHRoLQphLmhlaWdodCkvMixlLngrPWIsZS55LT1iLGI9ZS53aWR0aCxlLndpZHRoPWUuaGVpZ2h0LGUuaGVpZ2h0PWIpO251bGwhPWEuc2hhcGUmJihiPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9MQUJFTF9QT1NJVElPTixteENvbnN0YW50cy5BTElHTl9DRU5URVIpLGY9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1ZFUlRJQ0FMX0xBQkVMX1BPU0lUSU9OLG14Q29uc3RhbnRzLkFMSUdOX01JRERMRSksYj09bXhDb25zdGFudHMuQUxJR05fQ0VOVEVSJiZmPT1teENvbnN0YW50cy5BTElHTl9NSURETEUmJihlPWEuc2hhcGUuZ2V0TGFiZWxCb3VuZHMoZSkpKTtiPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9MQUJFTF9XSURUSCxudWxsKTtudWxsIT1iJiYoZS53aWR0aD1wYXJzZUZsb2F0KGIpKmMpO2R8fHRoaXMucm90YXRlTGFiZWxCb3VuZHMoYSxlKTtyZXR1cm4gZX07Cm14Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5yb3RhdGVMYWJlbEJvdW5kcz1mdW5jdGlvbihhLGIpe2IueS09YS50ZXh0Lm1hcmdpbi55KmIuaGVpZ2h0O2IueC09YS50ZXh0Lm1hcmdpbi54KmIud2lkdGg7aWYoIXRoaXMubGVnYWN5U3BhY2luZ3x8ImZpbGwiIT1hLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX09WRVJGTE9XXSYmIndpZHRoIiE9YS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9PVkVSRkxPV10pe3ZhciBjPWEudmlldy5zY2FsZSxkPWEudGV4dC5nZXRTcGFjaW5nKCk7Yi54Kz1kLngqYztiLnkrPWQueSpjO3ZhciBkPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9MQUJFTF9QT1NJVElPTixteENvbnN0YW50cy5BTElHTl9DRU5URVIpLGU9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1ZFUlRJQ0FMX0xBQkVMX1BPU0lUSU9OLG14Q29uc3RhbnRzLkFMSUdOX01JRERMRSksZj1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsCm14Q29uc3RhbnRzLlNUWUxFX0xBQkVMX1dJRFRILG51bGwpO2Iud2lkdGg9TWF0aC5tYXgoMCxiLndpZHRoLShkPT1teENvbnN0YW50cy5BTElHTl9DRU5URVImJm51bGw9PWY/YS50ZXh0LnNwYWNpbmdMZWZ0KmMrYS50ZXh0LnNwYWNpbmdSaWdodCpjOjApKTtiLmhlaWdodD1NYXRoLm1heCgwLGIuaGVpZ2h0LShlPT1teENvbnN0YW50cy5BTElHTl9NSURETEU/YS50ZXh0LnNwYWNpbmdUb3AqYythLnRleHQuc3BhY2luZ0JvdHRvbSpjOjApKX1lPWEudGV4dC5nZXRUZXh0Um90YXRpb24oKTswIT1lJiZudWxsIT1hJiZhLnZpZXcuZ3JhcGgubW9kZWwuaXNWZXJ0ZXgoYS5jZWxsKSYmKGM9YS5nZXRDZW50ZXJYKCksZD1hLmdldENlbnRlclkoKSxiLnghPWN8fGIueSE9ZCkmJihlKj1NYXRoLlBJLzE4MCxjPW14VXRpbHMuZ2V0Um90YXRlZFBvaW50KG5ldyBteFBvaW50KGIueCxiLnkpLE1hdGguY29zKGUpLE1hdGguc2luKGUpLG5ldyBteFBvaW50KGMsZCkpLGIueD1jLngsYi55PQpjLnkpfTsKbXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLnJlZHJhd0NlbGxPdmVybGF5cz1mdW5jdGlvbihhLGIpe3RoaXMuY3JlYXRlQ2VsbE92ZXJsYXlzKGEpO2lmKG51bGwhPWEub3ZlcmxheXMpe3ZhciBjPW14VXRpbHMubW9kKG14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9ST1RBVElPTiwwKSw5MCksZD1teFV0aWxzLnRvUmFkaWFucyhjKSxlPU1hdGguY29zKGQpLGY9TWF0aC5zaW4oZCk7YS5vdmVybGF5cy52aXNpdChmdW5jdGlvbihkLGspe3ZhciBnPWsub3ZlcmxheS5nZXRCb3VuZHMoYSk7aWYoIWEudmlldy5ncmFwaC5nZXRNb2RlbCgpLmlzRWRnZShhLmNlbGwpJiZudWxsIT1hLnNoYXBlJiYwIT1jKXt2YXIgbT1nLmdldENlbnRlclgoKSxuPWcuZ2V0Q2VudGVyWSgpLG49bXhVdGlscy5nZXRSb3RhdGVkUG9pbnQobmV3IG14UG9pbnQobSxuKSxlLGYsbmV3IG14UG9pbnQoYS5nZXRDZW50ZXJYKCksYS5nZXRDZW50ZXJZKCkpKSxtPW4ueCxuPW4ueTtnLng9Ck1hdGgucm91bmQobS1nLndpZHRoLzIpO2cueT1NYXRoLnJvdW5kKG4tZy5oZWlnaHQvMil9aWYoYnx8bnVsbD09ay5ib3VuZHN8fGsuc2NhbGUhPWEudmlldy5zY2FsZXx8IWsuYm91bmRzLmVxdWFscyhnKSlrLmJvdW5kcz1nLGsuc2NhbGU9YS52aWV3LnNjYWxlLGsucmVkcmF3KCl9KX19OwpteENlbGxSZW5kZXJlci5wcm90b3R5cGUucmVkcmF3Q29udHJvbD1mdW5jdGlvbihhLGIpe3ZhciBjPWEudmlldy5ncmFwaC5nZXRGb2xkaW5nSW1hZ2UoYSk7aWYobnVsbCE9YS5jb250cm9sJiZudWxsIT1jKXt2YXIgYz10aGlzLmdldENvbnRyb2xCb3VuZHMoYSxjLndpZHRoLGMuaGVpZ2h0KSxkPXRoaXMubGVnYWN5Q29udHJvbFBvc2l0aW9uP214VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9ST1RBVElPTiwwKTphLnNoYXBlLmdldFRleHRSb3RhdGlvbigpLGU9YS52aWV3LnNjYWxlO2lmKGJ8fGEuY29udHJvbC5zY2FsZSE9ZXx8IWEuY29udHJvbC5ib3VuZHMuZXF1YWxzKGMpfHxhLmNvbnRyb2wucm90YXRpb24hPWQpYS5jb250cm9sLnJvdGF0aW9uPWQsYS5jb250cm9sLmJvdW5kcz1jLGEuY29udHJvbC5zY2FsZT1lLGEuY29udHJvbC5yZWRyYXcoKX19OwpteENlbGxSZW5kZXJlci5wcm90b3R5cGUuZ2V0Q29udHJvbEJvdW5kcz1mdW5jdGlvbihhLGIsYyl7aWYobnVsbCE9YS5jb250cm9sKXt2YXIgZD1hLnZpZXcuc2NhbGUsZT1hLmdldENlbnRlclgoKSxmPWEuZ2V0Q2VudGVyWSgpO2lmKCFhLnZpZXcuZ3JhcGguZ2V0TW9kZWwoKS5pc0VkZ2UoYS5jZWxsKSYmKGU9YS54K2IqZCxmPWEueStjKmQsbnVsbCE9YS5zaGFwZSkpe3ZhciBnPWEuc2hhcGUuZ2V0U2hhcGVSb3RhdGlvbigpO2lmKHRoaXMubGVnYWN5Q29udHJvbFBvc2l0aW9uKWc9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OLDApO2Vsc2UgaWYoYS5zaGFwZS5pc1BhaW50Qm91bmRzSW52ZXJ0ZWQoKSl2YXIgaz0oYS53aWR0aC1hLmhlaWdodCkvMixlPWUrayxmPWYtazswIT1nJiYoaz1teFV0aWxzLnRvUmFkaWFucyhnKSxnPU1hdGguY29zKGspLGs9TWF0aC5zaW4oayksZj1teFV0aWxzLmdldFJvdGF0ZWRQb2ludChuZXcgbXhQb2ludChlLApmKSxnLGssbmV3IG14UG9pbnQoYS5nZXRDZW50ZXJYKCksYS5nZXRDZW50ZXJZKCkpKSxlPWYueCxmPWYueSl9cmV0dXJuIGEudmlldy5ncmFwaC5nZXRNb2RlbCgpLmlzRWRnZShhLmNlbGwpLG5ldyBteFJlY3RhbmdsZShNYXRoLnJvdW5kKGUtYi8yKmQpLE1hdGgucm91bmQoZi1jLzIqZCksTWF0aC5yb3VuZChiKmQpLE1hdGgucm91bmQoYypkKSl9cmV0dXJuIG51bGx9OwpteENlbGxSZW5kZXJlci5wcm90b3R5cGUuaW5zZXJ0U3RhdGVBZnRlcj1mdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPXRoaXMuZ2V0U2hhcGVzRm9yU3RhdGUoYSksZT0wO2U8ZC5sZW5ndGg7ZSsrKWlmKG51bGwhPWRbZV0mJm51bGwhPWRbZV0ubm9kZSl7dmFyIGY9ZFtlXS5ub2RlLnBhcmVudE5vZGUhPWEudmlldy5nZXREcmF3UGFuZSgpJiZkW2VdLm5vZGUucGFyZW50Tm9kZSE9YS52aWV3LmdldE92ZXJsYXlQYW5lKCksZz1mP2M6YjtpZihudWxsIT1nJiZnLm5leHRTaWJsaW5nIT1kW2VdLm5vZGUpbnVsbD09Zy5uZXh0U2libGluZz9nLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoZFtlXS5ub2RlKTpnLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGRbZV0ubm9kZSxnLm5leHRTaWJsaW5nKTtlbHNlIGlmKG51bGw9PWcpaWYoZFtlXS5ub2RlLnBhcmVudE5vZGU9PWEudmlldy5ncmFwaC5jb250YWluZXIpe2ZvcihnPWEudmlldy5jYW52YXM7bnVsbCE9ZyYmZy5wYXJlbnROb2RlIT0KYS52aWV3LmdyYXBoLmNvbnRhaW5lcjspZz1nLnBhcmVudE5vZGU7bnVsbCE9ZyYmbnVsbCE9Zy5uZXh0U2libGluZz9nLm5leHRTaWJsaW5nIT1kW2VdLm5vZGUmJmRbZV0ubm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShkW2VdLm5vZGUsZy5uZXh0U2libGluZyk6ZFtlXS5ub2RlLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoZFtlXS5ub2RlKX1lbHNlIG51bGwhPWRbZV0ubm9kZS5wYXJlbnROb2RlJiZudWxsIT1kW2VdLm5vZGUucGFyZW50Tm9kZS5maXJzdENoaWxkJiZkW2VdLm5vZGUucGFyZW50Tm9kZS5maXJzdENoaWxkIT1kW2VdLm5vZGUmJmRbZV0ubm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShkW2VdLm5vZGUsZFtlXS5ub2RlLnBhcmVudE5vZGUuZmlyc3RDaGlsZCk7Zj9jPWRbZV0ubm9kZTpiPWRbZV0ubm9kZX1yZXR1cm5bYixjXX07Cm14Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5nZXRTaGFwZXNGb3JTdGF0ZT1mdW5jdGlvbihhKXtyZXR1cm5bYS5zaGFwZSxhLnRleHQsYS5jb250cm9sXX07bXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLnJlZHJhdz1mdW5jdGlvbihhLGIsYyl7Yj10aGlzLnJlZHJhd1NoYXBlKGEsYixjKTtudWxsPT1hLnNoYXBlfHxudWxsIT1jJiYhY3x8KHRoaXMucmVkcmF3TGFiZWwoYSxiKSx0aGlzLnJlZHJhd0NlbGxPdmVybGF5cyhhLGIpLHRoaXMucmVkcmF3Q29udHJvbChhLGIpKX07Cm14Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5yZWRyYXdTaGFwZT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS52aWV3LmdyYXBoLm1vZGVsLGU9ITE7bnVsbCE9YS5zaGFwZSYmbnVsbCE9YS5zaGFwZS5zdHlsZSYmbnVsbCE9YS5zdHlsZSYmYS5zaGFwZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9TSEFQRV0hPWEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU0hBUEVdJiYoYS5zaGFwZS5kZXN0cm95KCksYS5zaGFwZT1udWxsKTtudWxsPT1hLnNoYXBlJiZudWxsIT1hLnZpZXcuZ3JhcGguY29udGFpbmVyJiZhLmNlbGwhPWEudmlldy5jdXJyZW50Um9vdCYmKGQuaXNWZXJ0ZXgoYS5jZWxsKXx8ZC5pc0VkZ2UoYS5jZWxsKSk/KGEuc2hhcGU9dGhpcy5jcmVhdGVTaGFwZShhKSxudWxsIT1hLnNoYXBlJiYoYS5zaGFwZS5taW5TdmdTdHJva2VXaWR0aD10aGlzLm1pblN2Z1N0cm9rZVdpZHRoLGEuc2hhcGUuYW50aUFsaWFzPXRoaXMuYW50aUFsaWFzLHRoaXMuY3JlYXRlSW5kaWNhdG9yU2hhcGUoYSksCnRoaXMuaW5pdGlhbGl6ZVNoYXBlKGEpLHRoaXMuY3JlYXRlQ2VsbE92ZXJsYXlzKGEpLHRoaXMuaW5zdGFsbExpc3RlbmVycyhhKSxhLnZpZXcuZ3JhcGguc2VsZWN0aW9uQ2VsbHNIYW5kbGVyLnVwZGF0ZUhhbmRsZXIoYSkpKTpifHxudWxsPT1hLnNoYXBlfHxteFV0aWxzLmVxdWFsRW50cmllcyhhLnNoYXBlLnN0eWxlLGEuc3R5bGUpJiYhdGhpcy5jaGVja1BsYWNlaG9sZGVyU3R5bGVzKGEpfHwoYS5zaGFwZS5yZXNldFN0eWxlcygpLHRoaXMuY29uZmlndXJlU2hhcGUoYSksYS52aWV3LmdyYXBoLnNlbGVjdGlvbkNlbGxzSGFuZGxlci51cGRhdGVIYW5kbGVyKGEpLGI9ITApO251bGwhPWEuc2hhcGUmJmEuc2hhcGUuaW5kaWNhdG9yU2hhcGUhPXRoaXMuZ2V0U2hhcGUoYS52aWV3LmdyYXBoLmdldEluZGljYXRvclNoYXBlKGEpKSYmKG51bGwhPWEuc2hhcGUuaW5kaWNhdG9yJiYoYS5zaGFwZS5pbmRpY2F0b3IuZGVzdHJveSgpLGEuc2hhcGUuaW5kaWNhdG9yPW51bGwpLHRoaXMuY3JlYXRlSW5kaWNhdG9yU2hhcGUoYSksCm51bGwhPWEuc2hhcGUuaW5kaWNhdG9yU2hhcGUmJihhLnNoYXBlLmluZGljYXRvcj1uZXcgYS5zaGFwZS5pbmRpY2F0b3JTaGFwZSxhLnNoYXBlLmluZGljYXRvci5kaWFsZWN0PWEuc2hhcGUuZGlhbGVjdCxhLnNoYXBlLmluZGljYXRvci5pbml0KGEubm9kZSksYj0hMCkpO251bGwhPWEuc2hhcGUmJih0aGlzLmNyZWF0ZUNvbnRyb2woYSksYnx8dGhpcy5pc1NoYXBlSW52YWxpZChhLGEuc2hhcGUpKSYmKG51bGwhPWEuYWJzb2x1dGVQb2ludHM/KGEuc2hhcGUucG9pbnRzPWEuYWJzb2x1dGVQb2ludHMuc2xpY2UoKSxhLnNoYXBlLmJvdW5kcz1udWxsKTooYS5zaGFwZS5wb2ludHM9bnVsbCxhLnNoYXBlLmJvdW5kcz1uZXcgbXhSZWN0YW5nbGUoYS54LGEueSxhLndpZHRoLGEuaGVpZ2h0KSksYS5zaGFwZS5zY2FsZT1hLnZpZXcuc2NhbGUsbnVsbD09Y3x8Yz90aGlzLmRvUmVkcmF3U2hhcGUoYSk6YS5zaGFwZS51cGRhdGVCb3VuZGluZ0JveCgpLGU9ITApO3JldHVybiBlfTsKbXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLmRvUmVkcmF3U2hhcGU9ZnVuY3Rpb24oYSl7YS5zaGFwZS5yZWRyYXcoKX07bXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLmlzU2hhcGVJbnZhbGlkPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGw9PWIuYm91bmRzfHxiLnNjYWxlIT1hLnZpZXcuc2NhbGV8fG51bGw9PWEuYWJzb2x1dGVQb2ludHMmJiFiLmJvdW5kcy5lcXVhbHMoYSl8fG51bGwhPWEuYWJzb2x1dGVQb2ludHMmJiFteFV0aWxzLmVxdWFsUG9pbnRzKGIucG9pbnRzLGEuYWJzb2x1dGVQb2ludHMpfTsKbXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oYSl7bnVsbCE9YS5zaGFwZSYmKG51bGwhPWEudGV4dCYmKGEudGV4dC5kZXN0cm95KCksYS50ZXh0PW51bGwpLG51bGwhPWEub3ZlcmxheXMmJihhLm92ZXJsYXlzLnZpc2l0KGZ1bmN0aW9uKGEsYyl7Yy5kZXN0cm95KCl9KSxhLm92ZXJsYXlzPW51bGwpLG51bGwhPWEuY29udHJvbCYmKGEuY29udHJvbC5kZXN0cm95KCksYS5jb250cm9sPW51bGwpLGEuc2hhcGUuZGVzdHJveSgpLGEuc2hhcGU9bnVsbCl9Owp2YXIgbXhFZGdlU3R5bGU9e0VudGl0eVJlbGF0aW9uOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9YS52aWV3LGc9Zi5ncmFwaDtkPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9TRUdNRU5ULG14Q29uc3RhbnRzLkVOVElUWV9TRUdNRU5UKSpmLnNjYWxlO3ZhciBrPWEuYWJzb2x1dGVQb2ludHMsbD1rWzBdLG09a1trLmxlbmd0aC0xXSxrPSExO2lmKG51bGwhPWwpYj1uZXcgbXhDZWxsU3RhdGUsYi54PWwueCxiLnk9bC55O2Vsc2UgaWYobnVsbCE9Yil7dmFyIG49bXhVdGlscy5nZXRQb3J0Q29uc3RyYWludHMoYixhLCEwLG14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX05PTkUpO24hPW14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX05PTkUmJm4hPW14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX1dFU1QrbXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfRUFTVD9rPW49PW14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX1dFU1Q6KGw9Zy5nZXRDZWxsR2VvbWV0cnkoYi5jZWxsKSwKbC5yZWxhdGl2ZT9rPS41Pj1sLng6bnVsbCE9YyYmKGs9Yy54K2Mud2lkdGg8Yi54KSl9ZWxzZSByZXR1cm47bD0hMDtudWxsIT1tPyhjPW5ldyBteENlbGxTdGF0ZSxjLng9bS54LGMueT1tLnkpOm51bGwhPWMmJihuPW14VXRpbHMuZ2V0UG9ydENvbnN0cmFpbnRzKGMsYSwhMSxteENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19OT05FKSxuIT1teENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19OT05FJiZuIT1teENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19XRVNUK214Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX0VBU1Q/bD1uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19XRVNUOihhPWcuZ2V0Q2VsbEdlb21ldHJ5KGMuY2VsbCksYS5yZWxhdGl2ZT9sPS41Pj1hLng6bnVsbCE9YiYmKGw9Yi54K2Iud2lkdGg8Yy54KSkpO251bGwhPWImJm51bGwhPWMmJihhPWs/Yi54OmIueCtiLndpZHRoLGI9Zi5nZXRSb3V0aW5nQ2VudGVyWShiKSxnPWw/Yy54OmMueCtjLndpZHRoLGM9Zi5nZXRSb3V0aW5nQ2VudGVyWShjKSwKZj1uZXcgbXhQb2ludChhKyhrPy1kOmQpLGIpLG09bmV3IG14UG9pbnQoZysobD8tZDpkKSxjKSxrPT1sPyhkPWs/TWF0aC5taW4oYSxnKS1kOk1hdGgubWF4KGEsZykrZCxlLnB1c2gobmV3IG14UG9pbnQoZCxiKSksZS5wdXNoKG5ldyBteFBvaW50KGQsYykpKTooZi54PG0ueD09az8oZD1iKyhjLWIpLzIsZS5wdXNoKGYpLGUucHVzaChuZXcgbXhQb2ludChmLngsZCkpLGUucHVzaChuZXcgbXhQb2ludChtLngsZCkpKTplLnB1c2goZiksZS5wdXNoKG0pKSl9LExvb3A6ZnVuY3Rpb24oYSxiLGMsZCxlKXtjPWEuYWJzb2x1dGVQb2ludHM7dmFyIGY9Y1tjLmxlbmd0aC0xXTtpZihudWxsIT1jWzBdJiZudWxsIT1mKXtpZihudWxsIT1kJiYwPGQubGVuZ3RoKWZvcihiPTA7YjxkLmxlbmd0aDtiKyspYz1kW2JdLGM9YS52aWV3LnRyYW5zZm9ybUNvbnRyb2xQb2ludChhLGMpLGUucHVzaChuZXcgbXhQb2ludChjLngsYy55KSl9ZWxzZSBpZihudWxsIT1iKXt2YXIgZj1hLnZpZXcsZz1mLmdyYXBoOwpjPW51bGwhPWQmJjA8ZC5sZW5ndGg/ZFswXTpudWxsO251bGwhPWMmJihjPWYudHJhbnNmb3JtQ29udHJvbFBvaW50KGEsYyksbXhVdGlscy5jb250YWlucyhiLGMueCxjLnkpJiYoYz1udWxsKSk7dmFyIGs9ZD0wLGw9MCxtPTAsZz1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfU0VHTUVOVCxnLmdyaWRTaXplKSpmLnNjYWxlO2E9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0RJUkVDVElPTixteENvbnN0YW50cy5ESVJFQ1RJT05fV0VTVCk7YT09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIfHxhPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEg/KGQ9Zi5nZXRSb3V0aW5nQ2VudGVyWChiKSxrPWcpOihsPWYuZ2V0Um91dGluZ0NlbnRlclkoYiksbT1nKTtudWxsPT1jfHxjLng8Yi54fHxjLng+Yi54K2Iud2lkdGg/bnVsbCE9Yz8oZD1jLngsbT1NYXRoLm1heChNYXRoLmFicyhsLWMueSksbSkpOmE9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSD8KbD1iLnktMiprOmE9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSD9sPWIueStiLmhlaWdodCsyKms6ZD1hPT1teENvbnN0YW50cy5ESVJFQ1RJT05fRUFTVD9iLngtMiptOmIueCtiLndpZHRoKzIqbTpudWxsIT1jJiYoZD1mLmdldFJvdXRpbmdDZW50ZXJYKGIpLGs9TWF0aC5tYXgoTWF0aC5hYnMoZC1jLngpLG0pLGw9Yy55LG09MCk7ZS5wdXNoKG5ldyBteFBvaW50KGQtayxsLW0pKTtlLnB1c2gobmV3IG14UG9pbnQoZCtrLGwrbSkpfX0sRWxib3dDb25uZWN0b3I6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1udWxsIT1kJiYwPGQubGVuZ3RoP2RbMF06bnVsbCxnPSExLGs9ITE7aWYobnVsbCE9YiYmbnVsbCE9YylpZihudWxsIT1mKXZhciBsPU1hdGgubWluKGIueCxjLngpLG09TWF0aC5tYXgoYi54K2Iud2lkdGgsYy54K2Mud2lkdGgpLGs9TWF0aC5taW4oYi55LGMueSksbj1NYXRoLm1heChiLnkrYi5oZWlnaHQsYy55K2MuaGVpZ2h0KSxmPWEudmlldy50cmFuc2Zvcm1Db250cm9sUG9pbnQoYSwKZiksZz1mLnk8a3x8Zi55Pm4saz1mLng8bHx8Zi54Pm07ZWxzZSBsPU1hdGgubWF4KGIueCxjLngpLG09TWF0aC5taW4oYi54K2Iud2lkdGgsYy54K2Mud2lkdGgpLChnPWw9PW0pfHwoaz1NYXRoLm1heChiLnksYy55KSxuPU1hdGgubWluKGIueStiLmhlaWdodCxjLnkrYy5oZWlnaHQpLGs9az09bik7a3x8IWcmJmEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRUxCT1ddIT1teENvbnN0YW50cy5FTEJPV19WRVJUSUNBTD9teEVkZ2VTdHlsZS5TaWRlVG9TaWRlKGEsYixjLGQsZSk6bXhFZGdlU3R5bGUuVG9wVG9Cb3R0b20oYSxiLGMsZCxlKX0sU2lkZVRvU2lkZTpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPWEudmlldztkPW51bGwhPWQmJjA8ZC5sZW5ndGg/ZFswXTpudWxsO3ZhciBnPWEuYWJzb2x1dGVQb2ludHMsaz1nWzBdLGc9Z1tnLmxlbmd0aC0xXTtudWxsIT1kJiYoZD1mLnRyYW5zZm9ybUNvbnRyb2xQb2ludChhLGQpKTtudWxsIT1rJiYoYj1uZXcgbXhDZWxsU3RhdGUsCmIueD1rLngsYi55PWsueSk7bnVsbCE9ZyYmKGM9bmV3IG14Q2VsbFN0YXRlLGMueD1nLngsYy55PWcueSk7bnVsbCE9YiYmbnVsbCE9YyYmKGE9TWF0aC5tYXgoYi54LGMueCksaz1NYXRoLm1pbihiLngrYi53aWR0aCxjLngrYy53aWR0aCksYT1udWxsIT1kP2QueDpNYXRoLnJvdW5kKGsrKGEtaykvMiksaz1mLmdldFJvdXRpbmdDZW50ZXJZKGIpLGY9Zi5nZXRSb3V0aW5nQ2VudGVyWShjKSxudWxsIT1kJiYoZC55Pj1iLnkmJmQueTw9Yi55K2IuaGVpZ2h0JiYoaz1kLnkpLGQueT49Yy55JiZkLnk8PWMueStjLmhlaWdodCYmKGY9ZC55KSksbXhVdGlscy5jb250YWlucyhjLGEsayl8fG14VXRpbHMuY29udGFpbnMoYixhLGspfHxlLnB1c2gobmV3IG14UG9pbnQoYSxrKSksbXhVdGlscy5jb250YWlucyhjLGEsZil8fG14VXRpbHMuY29udGFpbnMoYixhLGYpfHxlLnB1c2gobmV3IG14UG9pbnQoYSxmKSksMT09ZS5sZW5ndGgmJihudWxsIT1kP214VXRpbHMuY29udGFpbnMoYyxhLApkLnkpfHxteFV0aWxzLmNvbnRhaW5zKGIsYSxkLnkpfHxlLnB1c2gobmV3IG14UG9pbnQoYSxkLnkpKTooZj1NYXRoLm1heChiLnksYy55KSxlLnB1c2gobmV3IG14UG9pbnQoYSxmKyhNYXRoLm1pbihiLnkrYi5oZWlnaHQsYy55K2MuaGVpZ2h0KS1mKS8yKSkpKSl9LFRvcFRvQm90dG9tOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9YS52aWV3O2Q9bnVsbCE9ZCYmMDxkLmxlbmd0aD9kWzBdOm51bGw7dmFyIGc9YS5hYnNvbHV0ZVBvaW50cyxrPWdbMF0sZz1nW2cubGVuZ3RoLTFdO251bGwhPWQmJihkPWYudHJhbnNmb3JtQ29udHJvbFBvaW50KGEsZCkpO251bGwhPWsmJihiPW5ldyBteENlbGxTdGF0ZSxiLng9ay54LGIueT1rLnkpO251bGwhPWcmJihjPW5ldyBteENlbGxTdGF0ZSxjLng9Zy54LGMueT1nLnkpO251bGwhPWImJm51bGwhPWMmJihrPU1hdGgubWF4KGIueSxjLnkpLGc9TWF0aC5taW4oYi55K2IuaGVpZ2h0LGMueStjLmhlaWdodCksYT1mLmdldFJvdXRpbmdDZW50ZXJYKGIpLApudWxsIT1kJiZkLng+PWIueCYmZC54PD1iLngrYi53aWR0aCYmKGE9ZC54KSxrPW51bGwhPWQ/ZC55Ok1hdGgucm91bmQoZysoay1nKS8yKSxteFV0aWxzLmNvbnRhaW5zKGMsYSxrKXx8bXhVdGlscy5jb250YWlucyhiLGEsayl8fGUucHVzaChuZXcgbXhQb2ludChhLGspKSxhPW51bGwhPWQmJmQueD49Yy54JiZkLng8PWMueCtjLndpZHRoP2QueDpmLmdldFJvdXRpbmdDZW50ZXJYKGMpLG14VXRpbHMuY29udGFpbnMoYyxhLGspfHxteFV0aWxzLmNvbnRhaW5zKGIsYSxrKXx8ZS5wdXNoKG5ldyBteFBvaW50KGEsaykpLDE9PWUubGVuZ3RoJiYobnVsbCE9ZCYmMT09ZS5sZW5ndGg/bXhVdGlscy5jb250YWlucyhjLGQueCxrKXx8bXhVdGlscy5jb250YWlucyhiLGQueCxrKXx8ZS5wdXNoKG5ldyBteFBvaW50KGQueCxrKSk6KGY9TWF0aC5tYXgoYi54LGMueCksZS5wdXNoKG5ldyBteFBvaW50KGYrKE1hdGgubWluKGIueCtiLndpZHRoLGMueCtjLndpZHRoKS1mKS8yLGspKSkpKX0sClNlZ21lbnRDb25uZWN0b3I6ZnVuY3Rpb24oYSxiLGMsZCxlKXtmdW5jdGlvbiBmKGIpe2IueD1NYXRoLnJvdW5kKGIueCphLnZpZXcuc2NhbGUqMTApLzEwO2IueT1NYXRoLnJvdW5kKGIueSphLnZpZXcuc2NhbGUqMTApLzEwO2lmKG51bGw9PWt8fDE8PU1hdGguYWJzKGsueC1iLngpfHxNYXRoLmFicyhrLnktYi55KT49TWF0aC5tYXgoMSxhLnZpZXcuc2NhbGUpKWUucHVzaChiKSxrPWI7cmV0dXJuIGt9dmFyIGc9bXhFZGdlU3R5bGUuc2NhbGVQb2ludEFycmF5KGEuYWJzb2x1dGVQb2ludHMsYS52aWV3LnNjYWxlKTtiPW14RWRnZVN0eWxlLnNjYWxlQ2VsbFN0YXRlKGIsYS52aWV3LnNjYWxlKTtjPW14RWRnZVN0eWxlLnNjYWxlQ2VsbFN0YXRlKGMsYS52aWV3LnNjYWxlKTt2YXIgaz0wPGUubGVuZ3RoP2VbMF06bnVsbCxsPSEwLG09bnVsbCxuPWdbMF07bnVsbD09biYmbnVsbCE9Yj9uPW5ldyBteFBvaW50KGEudmlldy5nZXRSb3V0aW5nQ2VudGVyWChiKSxhLnZpZXcuZ2V0Um91dGluZ0NlbnRlclkoYikpOgpudWxsIT1uJiYobj1uLmNsb25lKCkpO3ZhciBwPWcubGVuZ3RoLTE7aWYobnVsbCE9ZCYmMDxkLmxlbmd0aCl7Zm9yKHZhciBxPVtdLHI9MDtyPGQubGVuZ3RoO3IrKyl7dmFyIHQ9YS52aWV3LnRyYW5zZm9ybUNvbnRyb2xQb2ludChhLGRbcl0sITApO251bGwhPXQmJnEucHVzaCh0KX1pZigwPT1xLmxlbmd0aClyZXR1cm47bnVsbCE9biYmbnVsbCE9cVswXSYmKDE+TWF0aC5hYnMocVswXS54LW4ueCkmJihxWzBdLng9bi54KSwxPk1hdGguYWJzKHFbMF0ueS1uLnkpJiYocVswXS55PW4ueSkpO3Q9Z1twXTtudWxsIT10JiZudWxsIT1xW3EubGVuZ3RoLTFdJiYoMT5NYXRoLmFicyhxW3EubGVuZ3RoLTFdLngtdC54KSYmKHFbcS5sZW5ndGgtMV0ueD10LngpLDE+TWF0aC5hYnMocVtxLmxlbmd0aC0xXS55LXQueSkmJihxW3EubGVuZ3RoLTFdLnk9dC55KSk7dmFyIG09cVswXSx1PWI7ZD1nWzBdO3ZhciB4PSExLHk9ITEseD1tO251bGwhPWQmJih1PW51bGwpO2ZvcihyPTA7Mj5yO3IrKyl7dmFyIEI9Cm51bGwhPWQmJmQueD09eC54LEE9bnVsbCE9ZCYmZC55PT14Lnksej1udWxsIT11JiZ4Lnk+PXUueSYmeC55PD11LnkrdS5oZWlnaHQsdT1udWxsIT11JiZ4Lng+PXUueCYmeC54PD11LngrdS53aWR0aCx4PUF8fG51bGw9PWQmJnoseT1CfHxudWxsPT1kJiZ1O2lmKDAhPXJ8fCEoeCYmeXx8QiYmQSkpe2lmKG51bGwhPWQmJiFBJiYhQiYmKHp8fHUpKXtsPXo/ITE6ITA7YnJlYWt9aWYoeXx8eCl7bD14OzE9PXImJihsPTA9PXEubGVuZ3RoJTI/eDp5KTticmVha319dT1jO2Q9Z1twXTtudWxsIT1kJiYodT1udWxsKTt4PXFbcS5sZW5ndGgtMV07QiYmQSYmKHE9cS5zbGljZSgxKSl9bCYmKG51bGwhPWdbMF0mJmdbMF0ueSE9bS55fHxudWxsPT1nWzBdJiZudWxsIT1iJiYobS55PGIueXx8bS55PmIueStiLmhlaWdodCkpP2YobmV3IG14UG9pbnQobi54LG0ueSkpOiFsJiYobnVsbCE9Z1swXSYmZ1swXS54IT1tLnh8fG51bGw9PWdbMF0mJm51bGwhPWImJihtLng8Yi54fHxtLng+Yi54KwpiLndpZHRoKSkmJmYobmV3IG14UG9pbnQobS54LG4ueSkpO2w/bi55PW0ueTpuLng9bS54O2ZvcihyPTA7cjxxLmxlbmd0aDtyKyspbD0hbCxtPXFbcl0sbD9uLnk9bS55Om4ueD1tLngsZihuLmNsb25lKCkpfWVsc2UgbT1uLGw9ITA7bj1nW3BdO251bGw9PW4mJm51bGwhPWMmJihuPW5ldyBteFBvaW50KGEudmlldy5nZXRSb3V0aW5nQ2VudGVyWChjKSxhLnZpZXcuZ2V0Um91dGluZ0NlbnRlclkoYykpKTtudWxsIT1uJiZudWxsIT1tJiYobCYmKG51bGwhPWdbcF0mJmdbcF0ueSE9bS55fHxudWxsPT1nW3BdJiZudWxsIT1jJiYobS55PGMueXx8bS55PmMueStjLmhlaWdodCkpP2YobmV3IG14UG9pbnQobi54LG0ueSkpOiFsJiYobnVsbCE9Z1twXSYmZ1twXS54IT1tLnh8fG51bGw9PWdbcF0mJm51bGwhPWMmJihtLng8Yy54fHxtLng+Yy54K2Mud2lkdGgpKSYmZihuZXcgbXhQb2ludChtLngsbi55KSkpO2lmKG51bGw9PWdbMF0mJm51bGwhPWIpZm9yKDsxPGUubGVuZ3RoJiZudWxsIT0KZVsxXSYmbXhVdGlscy5jb250YWlucyhiLGVbMV0ueCxlWzFdLnkpOyllLnNwbGljZSgxLDEpO2lmKG51bGw9PWdbcF0mJm51bGwhPWMpZm9yKDsxPGUubGVuZ3RoJiZudWxsIT1lW2UubGVuZ3RoLTFdJiZteFV0aWxzLmNvbnRhaW5zKGMsZVtlLmxlbmd0aC0xXS54LGVbZS5sZW5ndGgtMV0ueSk7KWUuc3BsaWNlKGUubGVuZ3RoLTEsMSk7bnVsbCE9dCYmbnVsbCE9ZVtlLmxlbmd0aC0xXSYmMT49TWF0aC5hYnModC54LWVbZS5sZW5ndGgtMV0ueCkmJjE+PU1hdGguYWJzKHQueS1lW2UubGVuZ3RoLTFdLnkpJiYoZS5zcGxpY2UoZS5sZW5ndGgtMSwxKSxudWxsIT1lW2UubGVuZ3RoLTFdJiYoMT5NYXRoLmFicyhlW2UubGVuZ3RoLTFdLngtdC54KSYmKGVbZS5sZW5ndGgtMV0ueD10LngpLDE+TWF0aC5hYnMoZVtlLmxlbmd0aC0xXS55LXQueSkmJihlW2UubGVuZ3RoLTFdLnk9dC55KSkpfSxvcnRoQnVmZmVyOjEwLG9ydGhQb2ludHNGYWxsYmFjazohMCxkaXJWZWN0b3JzOltbLTEsCjBdLFswLC0xXSxbMSwwXSxbMCwxXSxbLTEsMF0sWzAsLTFdLFsxLDBdXSx3YXlQb2ludHMxOltbMCwwXSxbMCwwXSxbMCwwXSxbMCwwXSxbMCwwXSxbMCwwXSxbMCwwXSxbMCwwXSxbMCwwXSxbMCwwXSxbMCwwXSxbMCwwXV0scm91dGVQYXR0ZXJuczpbW1s1MTMsMjMwOCwyMDgxLDI1NjJdLFs1MTMsMTA5MCw1MTQsMjE4NCwyMTE0LDI1NjFdLFs1MTMsMTA5MCw1MTQsMjU2NCwyMTg0LDI1NjJdLFs1MTMsMjMwOCwyNTYxLDEwOTAsNTE0LDI1NjgsMjMwOF1dLFtbNTE0LDEwNTcsNTEzLDIzMDgsMjA4MSwyNTYyXSxbNTE0LDIxODQsMjExNCwyNTYxXSxbNTE0LDIxODQsMjU2MiwxMDU3LDUxMywyNTY0LDIxODRdLFs1MTQsMTA1Nyw1MTMsMjU2OCwyMzA4LDI1NjFdXSxbWzEwOTAsNTE0LDEwNTcsNTEzLDIzMDgsMjA4MSwyNTYyXSxbMjExNCwyNTYxXSxbMTA5MCwyNTYyLDEwNTcsNTEzLDI1NjQsMjE4NF0sWzEwOTAsNTE0LDEwNTcsNTEzLDIzMDgsMjU2MSwyNTY4XV0sW1syMDgxLAoyNTYyXSxbMTA1Nyw1MTMsMTA5MCw1MTQsMjE4NCwyMTE0LDI1NjFdLFsxMDU3LDUxMywxMDkwLDUxNCwyMTg0LDI1NjIsMjU2NF0sWzEwNTcsMjU2MSwxMDkwLDUxNCwyNTY4LDIzMDhdXV0saW5saW5lUm91dGVQYXR0ZXJuczpbW251bGwsWzIxMTQsMjU2OF0sbnVsbCxudWxsXSxbbnVsbCxbNTE0LDIwODEsMjExNCwyNTY4XSxudWxsLG51bGxdLFtudWxsLFsyMTE0LDI1NjFdLG51bGwsbnVsbF0sW1syMDgxLDI1NjJdLFsxMDU3LDIxMTQsMjU2OF0sWzIxODQsMjU2Ml0sbnVsbF1dLHZlcnRleFNlcGVyYXRpb25zOltdLGxpbWl0czpbWzAsMCwwLDAsMCwwLDAsMCwwXSxbMCwwLDAsMCwwLDAsMCwwLDBdXSxMRUZUX01BU0s6MzIsVE9QX01BU0s6NjQsUklHSFRfTUFTSzoxMjgsQk9UVE9NX01BU0s6MjU2LExFRlQ6MSxUT1A6MixSSUdIVDo0LEJPVFRPTTo4LFNJREVfTUFTSzo0ODAsQ0VOVEVSX01BU0s6NTEyLFNPVVJDRV9NQVNLOjEwMjQsVEFSR0VUX01BU0s6MjA0OCxWRVJURVhfTUFTSzozMDcyLApnZXRKZXR0eVNpemU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsYj9teENvbnN0YW50cy5TVFlMRV9TT1VSQ0VfSkVUVFlfU0laRTpteENvbnN0YW50cy5TVFlMRV9UQVJHRVRfSkVUVFlfU0laRSxteFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfSkVUVFlfU0laRSxteEVkZ2VTdHlsZS5vcnRoQnVmZmVyKSk7ImF1dG8iPT1jJiYobXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLGI/bXhDb25zdGFudHMuU1RZTEVfU1RBUlRBUlJPVzpteENvbnN0YW50cy5TVFlMRV9FTkRBUlJPVyxteENvbnN0YW50cy5OT05FKSE9bXhDb25zdGFudHMuTk9ORT8oYz1teFV0aWxzLmdldE51bWJlcihhLnN0eWxlLGI/bXhDb25zdGFudHMuU1RZTEVfU1RBUlRTSVpFOm14Q29uc3RhbnRzLlNUWUxFX0VORFNJWkUsbXhDb25zdGFudHMuREVGQVVMVF9NQVJLRVJTSVpFKSxjPU1hdGgubWF4KDIsTWF0aC5jZWlsKChjK214RWRnZVN0eWxlLm9ydGhCdWZmZXIpLwpteEVkZ2VTdHlsZS5vcnRoQnVmZmVyKSkqbXhFZGdlU3R5bGUub3J0aEJ1ZmZlcik6Yz0yKm14RWRnZVN0eWxlLm9ydGhCdWZmZXIpO3JldHVybiBjfSxzY2FsZVBvaW50QXJyYXk6ZnVuY3Rpb24oYSxiKXt2YXIgYz1bXTtpZihudWxsIT1hKWZvcih2YXIgZD0wO2Q8YS5sZW5ndGg7ZCsrKWlmKG51bGwhPWFbZF0pe3ZhciBlPW5ldyBteFBvaW50KE1hdGgucm91bmQoYVtkXS54L2IqMTApLzEwLE1hdGgucm91bmQoYVtkXS55L2IqMTApLzEwKTtjW2RdPWV9ZWxzZSBjW2RdPW51bGw7ZWxzZSBjPW51bGw7cmV0dXJuIGN9LHNjYWxlQ2VsbFN0YXRlOmZ1bmN0aW9uKGEsYil7dmFyIGM7bnVsbCE9YT8oYz1hLmNsb25lKCksYy5zZXRSZWN0KE1hdGgucm91bmQoYS54L2IqMTApLzEwLE1hdGgucm91bmQoYS55L2IqMTApLzEwLE1hdGgucm91bmQoYS53aWR0aC9iKjEwKS8xMCxNYXRoLnJvdW5kKGEuaGVpZ2h0L2IqMTApLzEwKSk6Yz1udWxsO3JldHVybiBjfSxPcnRoQ29ubmVjdG9yOmZ1bmN0aW9uKGEsCmIsYyxkLGUpe3ZhciBmPWEudmlldy5ncmFwaCxnPW51bGw9PWw/ITE6Zi5nZXRNb2RlbCgpLmlzRWRnZShsLmNlbGwpLGs9bnVsbD09bT8hMTpmLmdldE1vZGVsKCkuaXNFZGdlKG0uY2VsbCksZj1teEVkZ2VTdHlsZS5zY2FsZVBvaW50QXJyYXkoYS5hYnNvbHV0ZVBvaW50cyxhLnZpZXcuc2NhbGUpLGw9bXhFZGdlU3R5bGUuc2NhbGVDZWxsU3RhdGUoYixhLnZpZXcuc2NhbGUpLG09bXhFZGdlU3R5bGUuc2NhbGVDZWxsU3RhdGUoYyxhLnZpZXcuc2NhbGUpLG49ZlswXSxwPWZbZi5sZW5ndGgtMV0scT1udWxsIT1sP2wueDpuLngscj1udWxsIT1sP2wueTpuLnksdD1udWxsIT1sP2wud2lkdGg6MCx1PW51bGwhPWw/bC5oZWlnaHQ6MCx4PW51bGwhPW0/bS54OnAueCx5PW51bGwhPW0/bS55OnAueSxCPW51bGwhPW0/bS53aWR0aDowLEE9bnVsbCE9bT9tLmhlaWdodDowLGY9bXhFZGdlU3R5bGUuZ2V0SmV0dHlTaXplKGEsITApLHo9bXhFZGdlU3R5bGUuZ2V0SmV0dHlTaXplKGEsITEpOwpudWxsIT1sJiZtPT1sJiYoZj16PU1hdGgubWF4KGYseikpO3ZhciBDPXorZix2PSExO2lmKG51bGwhPW4mJm51bGwhPXApdmFyIHY9cC54LW4ueCxEPXAueS1uLnksdj12KnYrRCpEPEMqQztpZih2fHxteEVkZ2VTdHlsZS5vcnRoUG9pbnRzRmFsbGJhY2smJm51bGwhPWQmJjA8ZC5sZW5ndGh8fGd8fGspbXhFZGdlU3R5bGUuU2VnbWVudENvbm5lY3RvcihhLGIsYyxkLGUpO2Vsc2V7Yz1bbXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfQUxMLG14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX0FMTF07bnVsbCE9bCYmKGNbMF09bXhVdGlscy5nZXRQb3J0Q29uc3RyYWludHMobCxhLCEwLG14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX0FMTCksYj1teFV0aWxzLmdldFZhbHVlKGwuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT04sMCksMCE9YiYmKGI9bXhVdGlscy5nZXRCb3VuZGluZ0JveChuZXcgbXhSZWN0YW5nbGUocSxyLHQsdSksYikscT1iLngscj1iLnksdD1iLndpZHRoLAp1PWIuaGVpZ2h0KSk7bnVsbCE9bSYmKGNbMV09bXhVdGlscy5nZXRQb3J0Q29uc3RyYWludHMobSxhLCExLG14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX0FMTCksYj1teFV0aWxzLmdldFZhbHVlKG0uc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT04sMCksMCE9YiYmKGI9bXhVdGlscy5nZXRCb3VuZGluZ0JveChuZXcgbXhSZWN0YW5nbGUoeCx5LEIsQSksYikseD1iLngseT1iLnksQj1iLndpZHRoLEE9Yi5oZWlnaHQpKTtiPVswLDBdO3E9W1txLHIsdCx1XSxbeCx5LEIsQV1dO3o9W2Ysel07Zm9yKHY9MDsyPnY7disrKW14RWRnZVN0eWxlLmxpbWl0c1t2XVsxXT1xW3ZdWzBdLXpbdl0sbXhFZGdlU3R5bGUubGltaXRzW3ZdWzJdPXFbdl1bMV0telt2XSxteEVkZ2VTdHlsZS5saW1pdHNbdl1bNF09cVt2XVswXStxW3ZdWzJdK3pbdl0sbXhFZGdlU3R5bGUubGltaXRzW3ZdWzhdPXFbdl1bMV0rcVt2XVszXSt6W3ZdO3o9cVswXVsxXStxWzBdWzNdLzI7cj1xWzFdWzFdK3FbMV1bM10vCjI7dj1xWzBdWzBdK3FbMF1bMl0vMi0ocVsxXVswXStxWzFdWzJdLzIpO0Q9ei1yO3o9MDswPnY/ej0wPkQ/MjoxOjA+PUQmJih6PTMsMD09diYmKHo9MikpO3I9bnVsbDtudWxsIT1sJiYocj1uKTtsPVtbLjUsLjVdLFsuNSwuNV1dO2Zvcih2PTA7Mj52O3YrKyludWxsIT1yJiYobFt2XVswXT0oci54LXFbdl1bMF0pL3Fbdl1bMl0sMT49TWF0aC5hYnMoci54LXFbdl1bMF0pP2Jbdl09bXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfV0VTVDoxPj1NYXRoLmFicyhyLngtcVt2XVswXS1xW3ZdWzJdKSYmKGJbdl09bXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfRUFTVCksbFt2XVsxXT0oci55LXFbdl1bMV0pL3Fbdl1bM10sMT49TWF0aC5hYnMoci55LXFbdl1bMV0pP2Jbdl09bXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfTk9SVEg6MT49TWF0aC5hYnMoci55LXFbdl1bMV0tcVt2XVszXSkmJihiW3ZdPW14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX1NPVVRIKSkscj1udWxsLG51bGwhPQptJiYocj1wKTt2PXFbMF1bMV0tKHFbMV1bMV0rcVsxXVszXSk7cD1xWzBdWzBdLShxWzFdWzBdK3FbMV1bMl0pO3I9cVsxXVsxXS0ocVswXVsxXStxWzBdWzNdKTt0PXFbMV1bMF0tKHFbMF1bMF0rcVswXVsyXSk7bXhFZGdlU3R5bGUudmVydGV4U2VwZXJhdGlvbnNbMV09TWF0aC5tYXgocC1DLDApO214RWRnZVN0eWxlLnZlcnRleFNlcGVyYXRpb25zWzJdPU1hdGgubWF4KHYtQywwKTtteEVkZ2VTdHlsZS52ZXJ0ZXhTZXBlcmF0aW9uc1s0XT1NYXRoLm1heChyLUMsMCk7bXhFZGdlU3R5bGUudmVydGV4U2VwZXJhdGlvbnNbM109TWF0aC5tYXgodC1DLDApO0M9W107bT1bXTtuPVtdO21bMF09cD49dD9teENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19XRVNUOm14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX0VBU1Q7blswXT12Pj1yP214Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX05PUlRIOm14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX1NPVVRIO21bMV09bXhVdGlscy5yZXZlcnNlUG9ydENvbnN0cmFpbnRzKG1bMF0pOwpuWzFdPW14VXRpbHMucmV2ZXJzZVBvcnRDb25zdHJhaW50cyhuWzBdKTtwPXA+PXQ/cDp0O3I9dj49cj92OnI7dD1bWzAsMF0sWzAsMF1dO3U9ITE7Zm9yKHY9MDsyPnY7disrKTA9PWJbdl0mJigwPT0obVt2XSZjW3ZdKSYmKG1bdl09bXhVdGlscy5yZXZlcnNlUG9ydENvbnN0cmFpbnRzKG1bdl0pKSwwPT0oblt2XSZjW3ZdKSYmKG5bdl09bXhVdGlscy5yZXZlcnNlUG9ydENvbnN0cmFpbnRzKG5bdl0pKSx0W3ZdWzBdPW5bdl0sdFt2XVsxXT1tW3ZdKTswPHImJjA8cCYmKDA8KG1bMF0mY1swXSkmJjA8KG5bMV0mY1sxXSk/KHRbMF1bMF09bVswXSx0WzBdWzFdPW5bMF0sdFsxXVswXT1uWzFdLHRbMV1bMV09bVsxXSx1PSEwKTowPChuWzBdJmNbMF0pJiYwPChtWzFdJmNbMV0pJiYodFswXVswXT1uWzBdLHRbMF1bMV09bVswXSx0WzFdWzBdPW1bMV0sdFsxXVsxXT1uWzFdLHU9ITApKTswPHImJiF1JiYodFswXVswXT1uWzBdLHRbMF1bMV09bVswXSx0WzFdWzBdPW5bMV0sdFsxXVsxXT0KbVsxXSx1PSEwKTswPHAmJiF1JiYodFswXVswXT1tWzBdLHRbMF1bMV09blswXSx0WzFdWzBdPW1bMV0sdFsxXVsxXT1uWzFdKTtmb3Iodj0wOzI+djt2KyspMD09Ylt2XSYmKDA9PSh0W3ZdWzBdJmNbdl0pJiYodFt2XVswXT10W3ZdWzFdKSxDW3ZdPXRbdl1bMF0mY1t2XSxDW3ZdfD0odFt2XVsxXSZjW3ZdKTw8OCxDW3ZdfD0odFsxLXZdW3ZdJmNbdl0pPDwxNixDW3ZdfD0odFsxLXZdWzEtdl0mY1t2XSk8PDI0LDA9PShDW3ZdJjE1KSYmKENbdl08PD04KSwwPT0oQ1t2XSYzODQwKSYmKENbdl09Q1t2XSYxNXxDW3ZdPj44KSwwPT0oQ1t2XSY5ODMwNDApJiYoQ1t2XT1DW3ZdJjY1NTM1fChDW3ZdJjI1MTY1ODI0MCk+PjgpLGJbdl09Q1t2XSYxNSxjW3ZdPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19XRVNUfHxjW3ZdPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19OT1JUSHx8Y1t2XT09bXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfRUFTVHx8Y1t2XT09bXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfU09VVEgpJiYKKGJbdl09Y1t2XSk7Yz1iWzBdPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19FQVNUPzM6YlswXTtDPWJbMV09PW14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX0VBU1Q/MzpiWzFdO2MtPXo7Qy09ejsxPmMmJihjKz00KTsxPkMmJihDKz00KTtjPW14RWRnZVN0eWxlLnJvdXRlUGF0dGVybnNbYy0xXVtDLTFdO214RWRnZVN0eWxlLndheVBvaW50czFbMF1bMF09cVswXVswXTtteEVkZ2VTdHlsZS53YXlQb2ludHMxWzBdWzFdPXFbMF1bMV07c3dpdGNoKGJbMF0pe2Nhc2UgbXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfV0VTVDpteEVkZ2VTdHlsZS53YXlQb2ludHMxWzBdWzBdLT1mO214RWRnZVN0eWxlLndheVBvaW50czFbMF1bMV0rPWxbMF1bMV0qcVswXVszXTticmVhaztjYXNlIG14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX1NPVVRIOm14RWRnZVN0eWxlLndheVBvaW50czFbMF1bMF0rPWxbMF1bMF0qcVswXVsyXTtteEVkZ2VTdHlsZS53YXlQb2ludHMxWzBdWzFdKz1xWzBdWzNdKwpmO2JyZWFrO2Nhc2UgbXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfRUFTVDpteEVkZ2VTdHlsZS53YXlQb2ludHMxWzBdWzBdKz1xWzBdWzJdK2Y7bXhFZGdlU3R5bGUud2F5UG9pbnRzMVswXVsxXSs9bFswXVsxXSpxWzBdWzNdO2JyZWFrO2Nhc2UgbXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfTk9SVEg6bXhFZGdlU3R5bGUud2F5UG9pbnRzMVswXVswXSs9bFswXVswXSpxWzBdWzJdLG14RWRnZVN0eWxlLndheVBvaW50czFbMF1bMV0tPWZ9Zj0wO209Qz0wPChiWzBdJihteENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19FQVNUfG14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX1dFU1QpKT8wOjE7Zm9yKHY9MDt2PGMubGVuZ3RoO3YrKyluPWNbdl0mMTUsdT1uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19FQVNUPzM6bix1Kz16LDQ8dSYmKHUtPTQpLHA9bXhFZGdlU3R5bGUuZGlyVmVjdG9yc1t1LTFdLG49MDx1JTI/MDoxLG4hPUMmJihmKyssbXhFZGdlU3R5bGUud2F5UG9pbnRzMVtmXVswXT0KbXhFZGdlU3R5bGUud2F5UG9pbnRzMVtmLTFdWzBdLG14RWRnZVN0eWxlLndheVBvaW50czFbZl1bMV09bXhFZGdlU3R5bGUud2F5UG9pbnRzMVtmLTFdWzFdKSx4PTA8KGNbdl0mbXhFZGdlU3R5bGUuVEFSR0VUX01BU0spLHk9MDwoY1t2XSZteEVkZ2VTdHlsZS5TT1VSQ0VfTUFTSykscj0oY1t2XSZteEVkZ2VTdHlsZS5TSURFX01BU0spPj41LHI8PD16LDE1PHImJihyPj49NCksdD0wPChjW3ZdJm14RWRnZVN0eWxlLkNFTlRFUl9NQVNLKSwoeXx8eCkmJjk+cj8odT15PzA6MSxyPXQmJjA9PW4/cVt1XVswXStsW3VdWzBdKnFbdV1bMl06dD9xW3VdWzFdK2xbdV1bMV0qcVt1XVszXTpteEVkZ2VTdHlsZS5saW1pdHNbdV1bcl0sMD09bj8ocj0oci1teEVkZ2VTdHlsZS53YXlQb2ludHMxW2ZdWzBdKSpwWzBdLDA8ciYmKG14RWRnZVN0eWxlLndheVBvaW50czFbZl1bMF0rPXBbMF0qcikpOihyPShyLW14RWRnZVN0eWxlLndheVBvaW50czFbZl1bMV0pKnBbMV0sMDxyJiYobXhFZGdlU3R5bGUud2F5UG9pbnRzMVtmXVsxXSs9CnBbMV0qcikpKTp0JiYobXhFZGdlU3R5bGUud2F5UG9pbnRzMVtmXVswXSs9cFswXSpNYXRoLmFicyhteEVkZ2VTdHlsZS52ZXJ0ZXhTZXBlcmF0aW9uc1t1XS8yKSxteEVkZ2VTdHlsZS53YXlQb2ludHMxW2ZdWzFdKz1wWzFdKk1hdGguYWJzKG14RWRnZVN0eWxlLnZlcnRleFNlcGVyYXRpb25zW3VdLzIpKSwwPGYmJm14RWRnZVN0eWxlLndheVBvaW50czFbZl1bbl09PW14RWRnZVN0eWxlLndheVBvaW50czFbZi0xXVtuXT9mLS06Qz1uO2Zvcih2PTA7djw9ZiYmKHYhPWZ8fCgoMDwoYlsxXSYobXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfRUFTVHxteENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19XRVNUKSk/MDoxKT09bT8wOjEpPT0oZisxKSUyKTt2KyspZS5wdXNoKG5ldyBteFBvaW50KE1hdGgucm91bmQobXhFZGdlU3R5bGUud2F5UG9pbnRzMVt2XVswXSphLnZpZXcuc2NhbGUqMTApLzEwLE1hdGgucm91bmQobXhFZGdlU3R5bGUud2F5UG9pbnRzMVt2XVsxXSphLnZpZXcuc2NhbGUqCjEwKS8xMCkpO2ZvcihhPTE7YTxlLmxlbmd0aDspbnVsbD09ZVthLTFdfHxudWxsPT1lW2FdfHxlW2EtMV0ueCE9ZVthXS54fHxlW2EtMV0ueSE9ZVthXS55P2ErKzplLnNwbGljZShhLDEpfX0sZ2V0Um91dGVQYXR0ZXJuOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWFbMF09PW14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX0VBU1Q/MzphWzBdO2E9YVsxXT09bXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfRUFTVD8zOmFbMV07ZS09YjthLT1iOzE+ZSYmKGUrPTQpOzE+YSYmKGErPTQpO2I9cm91dGVQYXR0ZXJuc1tlLTFdW2EtMV07MCE9YyYmMCE9ZHx8bnVsbD09aW5saW5lUm91dGVQYXR0ZXJuc1tlLTFdW2EtMV18fChiPWlubGluZVJvdXRlUGF0dGVybnNbZS0xXVthLTFdKTtyZXR1cm4gYn19LG14U3R5bGVSZWdpc3RyeT17dmFsdWVzOltdLHB1dFZhbHVlOmZ1bmN0aW9uKGEsYil7bXhTdHlsZVJlZ2lzdHJ5LnZhbHVlc1thXT1ifSxnZXRWYWx1ZTpmdW5jdGlvbihhKXtyZXR1cm4gbXhTdHlsZVJlZ2lzdHJ5LnZhbHVlc1thXX0sCmdldE5hbWU6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIG14U3R5bGVSZWdpc3RyeS52YWx1ZXMpaWYobXhTdHlsZVJlZ2lzdHJ5LnZhbHVlc1tiXT09YSlyZXR1cm4gYjtyZXR1cm4gbnVsbH19O214U3R5bGVSZWdpc3RyeS5wdXRWYWx1ZShteENvbnN0YW50cy5FREdFU1RZTEVfRUxCT1csbXhFZGdlU3R5bGUuRWxib3dDb25uZWN0b3IpO214U3R5bGVSZWdpc3RyeS5wdXRWYWx1ZShteENvbnN0YW50cy5FREdFU1RZTEVfRU5USVRZX1JFTEFUSU9OLG14RWRnZVN0eWxlLkVudGl0eVJlbGF0aW9uKTtteFN0eWxlUmVnaXN0cnkucHV0VmFsdWUobXhDb25zdGFudHMuRURHRVNUWUxFX0xPT1AsbXhFZGdlU3R5bGUuTG9vcCk7bXhTdHlsZVJlZ2lzdHJ5LnB1dFZhbHVlKG14Q29uc3RhbnRzLkVER0VTVFlMRV9TSURFVE9TSURFLG14RWRnZVN0eWxlLlNpZGVUb1NpZGUpO214U3R5bGVSZWdpc3RyeS5wdXRWYWx1ZShteENvbnN0YW50cy5FREdFU1RZTEVfVE9QVE9CT1RUT00sbXhFZGdlU3R5bGUuVG9wVG9Cb3R0b20pOwpteFN0eWxlUmVnaXN0cnkucHV0VmFsdWUobXhDb25zdGFudHMuRURHRVNUWUxFX09SVEhPR09OQUwsbXhFZGdlU3R5bGUuT3J0aENvbm5lY3Rvcik7bXhTdHlsZVJlZ2lzdHJ5LnB1dFZhbHVlKG14Q29uc3RhbnRzLkVER0VTVFlMRV9TRUdNRU5ULG14RWRnZVN0eWxlLlNlZ21lbnRDb25uZWN0b3IpO214U3R5bGVSZWdpc3RyeS5wdXRWYWx1ZShteENvbnN0YW50cy5QRVJJTUVURVJfRUxMSVBTRSxteFBlcmltZXRlci5FbGxpcHNlUGVyaW1ldGVyKTtteFN0eWxlUmVnaXN0cnkucHV0VmFsdWUobXhDb25zdGFudHMuUEVSSU1FVEVSX1JFQ1RBTkdMRSxteFBlcmltZXRlci5SZWN0YW5nbGVQZXJpbWV0ZXIpO214U3R5bGVSZWdpc3RyeS5wdXRWYWx1ZShteENvbnN0YW50cy5QRVJJTUVURVJfUkhPTUJVUyxteFBlcmltZXRlci5SaG9tYnVzUGVyaW1ldGVyKTtteFN0eWxlUmVnaXN0cnkucHV0VmFsdWUobXhDb25zdGFudHMuUEVSSU1FVEVSX1RSSUFOR0xFLG14UGVyaW1ldGVyLlRyaWFuZ2xlUGVyaW1ldGVyKTsKbXhTdHlsZVJlZ2lzdHJ5LnB1dFZhbHVlKG14Q29uc3RhbnRzLlBFUklNRVRFUl9IRVhBR09OLG14UGVyaW1ldGVyLkhleGFnb25QZXJpbWV0ZXIpO2Z1bmN0aW9uIG14R3JhcGhWaWV3KGEpe3RoaXMuZ3JhcGg9YTt0aGlzLnRyYW5zbGF0ZT1uZXcgbXhQb2ludDt0aGlzLmdyYXBoQm91bmRzPW5ldyBteFJlY3RhbmdsZTt0aGlzLnN0YXRlcz1uZXcgbXhEaWN0aW9uYXJ5fW14R3JhcGhWaWV3LnByb3RvdHlwZT1uZXcgbXhFdmVudFNvdXJjZTtteEdyYXBoVmlldy5wcm90b3R5cGUuY29uc3RydWN0b3I9bXhHcmFwaFZpZXc7bXhHcmFwaFZpZXcucHJvdG90eXBlLkVNUFRZX1BPSU5UPW5ldyBteFBvaW50O214R3JhcGhWaWV3LnByb3RvdHlwZS5kb25lUmVzb3VyY2U9Im5vbmUiIT1teENsaWVudC5sYW5ndWFnZT8iZG9uZSI6IiI7Cm14R3JhcGhWaWV3LnByb3RvdHlwZS51cGRhdGluZ0RvY3VtZW50UmVzb3VyY2U9Im5vbmUiIT1teENsaWVudC5sYW5ndWFnZT8idXBkYXRpbmdEb2N1bWVudCI6IiI7bXhHcmFwaFZpZXcucHJvdG90eXBlLmFsbG93RXZhbD0hMTtteEdyYXBoVmlldy5wcm90b3R5cGUuY2FwdHVyZURvY3VtZW50R2VzdHVyZT0hMDtteEdyYXBoVmlldy5wcm90b3R5cGUub3B0aW1pemVWbWxSZWZsb3dzPSEwO214R3JhcGhWaWV3LnByb3RvdHlwZS5yZW5kZXJpbmc9ITA7bXhHcmFwaFZpZXcucHJvdG90eXBlLmdyYXBoPW51bGw7bXhHcmFwaFZpZXcucHJvdG90eXBlLmN1cnJlbnRSb290PW51bGw7bXhHcmFwaFZpZXcucHJvdG90eXBlLmdyYXBoQm91bmRzPW51bGw7bXhHcmFwaFZpZXcucHJvdG90eXBlLnNjYWxlPTE7bXhHcmFwaFZpZXcucHJvdG90eXBlLnRyYW5zbGF0ZT1udWxsO214R3JhcGhWaWV3LnByb3RvdHlwZS5zdGF0ZXM9bnVsbDsKbXhHcmFwaFZpZXcucHJvdG90eXBlLnVwZGF0ZVN0eWxlPSExO214R3JhcGhWaWV3LnByb3RvdHlwZS5sYXN0Tm9kZT1udWxsO214R3JhcGhWaWV3LnByb3RvdHlwZS5sYXN0SHRtbE5vZGU9bnVsbDtteEdyYXBoVmlldy5wcm90b3R5cGUubGFzdEZvcmVncm91bmROb2RlPW51bGw7bXhHcmFwaFZpZXcucHJvdG90eXBlLmxhc3RGb3JlZ3JvdW5kSHRtbE5vZGU9bnVsbDtteEdyYXBoVmlldy5wcm90b3R5cGUuZ2V0R3JhcGhCb3VuZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ncmFwaEJvdW5kc307bXhHcmFwaFZpZXcucHJvdG90eXBlLnNldEdyYXBoQm91bmRzPWZ1bmN0aW9uKGEpe3RoaXMuZ3JhcGhCb3VuZHM9YX07Cm14R3JhcGhWaWV3LnByb3RvdHlwZS5nZXRCb3VuZHM9ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDtpZihudWxsIT1hJiYwPGEubGVuZ3RoKWZvcih2YXIgYz10aGlzLmdyYXBoLmdldE1vZGVsKCksZD0wO2Q8YS5sZW5ndGg7ZCsrKWlmKGMuaXNWZXJ0ZXgoYVtkXSl8fGMuaXNFZGdlKGFbZF0pKXt2YXIgZT10aGlzLmdldFN0YXRlKGFbZF0pO251bGwhPWUmJihudWxsPT1iP2I9bXhSZWN0YW5nbGUuZnJvbVJlY3RhbmdsZShlKTpiLmFkZChlKSl9cmV0dXJuIGJ9O214R3JhcGhWaWV3LnByb3RvdHlwZS5zZXRDdXJyZW50Um9vdD1mdW5jdGlvbihhKXtpZih0aGlzLmN1cnJlbnRSb290IT1hKXt2YXIgYj1uZXcgbXhDdXJyZW50Um9vdENoYW5nZSh0aGlzLGEpO2IuZXhlY3V0ZSgpO3ZhciBjPW5ldyBteFVuZG9hYmxlRWRpdCh0aGlzLCEwKTtjLmFkZChiKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlVORE8sImVkaXQiLGMpKTt0aGlzLmdyYXBoLnNpemVEaWRDaGFuZ2UoKX1yZXR1cm4gYX07Cm14R3JhcGhWaWV3LnByb3RvdHlwZS5zY2FsZUFuZFRyYW5zbGF0ZT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5zY2FsZSxlPW5ldyBteFBvaW50KHRoaXMudHJhbnNsYXRlLngsdGhpcy50cmFuc2xhdGUueSk7aWYodGhpcy5zY2FsZSE9YXx8dGhpcy50cmFuc2xhdGUueCE9Ynx8dGhpcy50cmFuc2xhdGUueSE9Yyl0aGlzLnNjYWxlPWEsdGhpcy50cmFuc2xhdGUueD1iLHRoaXMudHJhbnNsYXRlLnk9Yyx0aGlzLmlzRXZlbnRzRW5hYmxlZCgpJiZ0aGlzLnZpZXdTdGF0ZUNoYW5nZWQoKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlNDQUxFX0FORF9UUkFOU0xBVEUsInNjYWxlIixhLCJwcmV2aW91c1NjYWxlIixkLCJ0cmFuc2xhdGUiLHRoaXMudHJhbnNsYXRlLCJwcmV2aW91c1RyYW5zbGF0ZSIsZSkpfTtteEdyYXBoVmlldy5wcm90b3R5cGUuZ2V0U2NhbGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zY2FsZX07Cm14R3JhcGhWaWV3LnByb3RvdHlwZS5zZXRTY2FsZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLnNjYWxlO3RoaXMuc2NhbGUhPWEmJih0aGlzLnNjYWxlPWEsdGhpcy5pc0V2ZW50c0VuYWJsZWQoKSYmdGhpcy52aWV3U3RhdGVDaGFuZ2VkKCkpO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuU0NBTEUsInNjYWxlIixhLCJwcmV2aW91c1NjYWxlIixiKSl9O214R3JhcGhWaWV3LnByb3RvdHlwZS5nZXRUcmFuc2xhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFuc2xhdGV9OwpteEdyYXBoVmlldy5wcm90b3R5cGUuc2V0VHJhbnNsYXRlPWZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IG14UG9pbnQodGhpcy50cmFuc2xhdGUueCx0aGlzLnRyYW5zbGF0ZS55KTtpZih0aGlzLnRyYW5zbGF0ZS54IT1hfHx0aGlzLnRyYW5zbGF0ZS55IT1iKXRoaXMudHJhbnNsYXRlLng9YSx0aGlzLnRyYW5zbGF0ZS55PWIsdGhpcy5pc0V2ZW50c0VuYWJsZWQoKSYmdGhpcy52aWV3U3RhdGVDaGFuZ2VkKCk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5UUkFOU0xBVEUsInRyYW5zbGF0ZSIsdGhpcy50cmFuc2xhdGUsInByZXZpb3VzVHJhbnNsYXRlIixjKSl9O214R3JhcGhWaWV3LnByb3RvdHlwZS52aWV3U3RhdGVDaGFuZ2VkPWZ1bmN0aW9uKCl7dGhpcy5yZXZhbGlkYXRlKCk7dGhpcy5ncmFwaC5zaXplRGlkQ2hhbmdlKCl9OwpteEdyYXBoVmlldy5wcm90b3R5cGUucmVmcmVzaD1mdW5jdGlvbigpe251bGwhPXRoaXMuY3VycmVudFJvb3QmJnRoaXMuY2xlYXIoKTt0aGlzLnJldmFsaWRhdGUoKX07bXhHcmFwaFZpZXcucHJvdG90eXBlLnJldmFsaWRhdGU9ZnVuY3Rpb24oKXt0aGlzLmludmFsaWRhdGUoKTt0aGlzLnZhbGlkYXRlKCl9O214R3JhcGhWaWV3LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5ncmFwaC5nZXRNb2RlbCgpO2E9YXx8ZC5nZXRSb290KCk7Yj1udWxsIT1iP2I6ITE7Yz1udWxsIT1jP2M6ITA7dGhpcy5yZW1vdmVTdGF0ZShhKTtpZihjJiYoYnx8YSE9dGhpcy5jdXJyZW50Um9vdCkpe2M9ZC5nZXRDaGlsZENvdW50KGEpO2Zvcih2YXIgZT0wO2U8YztlKyspdGhpcy5jbGVhcihkLmdldENoaWxkQXQoYSxlKSxiKX1lbHNlIHRoaXMuaW52YWxpZGF0ZShhKX07Cm14R3JhcGhWaWV3LnByb3RvdHlwZS5pbnZhbGlkYXRlPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmdyYXBoLmdldE1vZGVsKCk7YT1hfHxkLmdldFJvb3QoKTtiPW51bGwhPWI/YjohMDtjPW51bGwhPWM/YzohMDt2YXIgZT10aGlzLmdldFN0YXRlKGEpO251bGwhPWUmJihlLmludmFsaWQ9ITApO2lmKCFhLmludmFsaWRhdGluZyl7YS5pbnZhbGlkYXRpbmc9ITA7aWYoYilmb3IodmFyIGY9ZC5nZXRDaGlsZENvdW50KGEpLGU9MDtlPGY7ZSsrKXt2YXIgZz1kLmdldENoaWxkQXQoYSxlKTt0aGlzLmludmFsaWRhdGUoZyxiLGMpfWlmKGMpZm9yKGY9ZC5nZXRFZGdlQ291bnQoYSksZT0wO2U8ZjtlKyspdGhpcy5pbnZhbGlkYXRlKGQuZ2V0RWRnZUF0KGEsZSksYixjKTtkZWxldGUgYS5pbnZhbGlkYXRpbmd9fTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLnZhbGlkYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPW14TG9nLmVudGVyKCJteEdyYXBoVmlldy52YWxpZGF0ZSIpO3dpbmRvdy5zdGF0dXM9bXhSZXNvdXJjZXMuZ2V0KHRoaXMudXBkYXRpbmdEb2N1bWVudFJlc291cmNlKXx8dGhpcy51cGRhdGluZ0RvY3VtZW50UmVzb3VyY2U7dGhpcy5yZXNldFZhbGlkYXRpb25TdGF0ZSgpO3ZhciBjPW51bGw7dGhpcy5vcHRpbWl6ZVZtbFJlZmxvd3MmJm51bGwhPXRoaXMuY2FudmFzJiZudWxsPT10aGlzLnRleHREaXYmJig4PT1kb2N1bWVudC5kb2N1bWVudE1vZGUmJiFteENsaWVudC5JU19FTXx8bXhDbGllbnQuSVNfUVVJUktTKSYmKHRoaXMucGxhY2Vob2xkZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy5wbGFjZWhvbGRlci5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiLHRoaXMucGxhY2Vob2xkZXIuc3R5bGUud2lkdGg9dGhpcy5jYW52YXMuY2xpZW50V2lkdGgrInB4Iix0aGlzLnBsYWNlaG9sZGVyLnN0eWxlLmhlaWdodD0KdGhpcy5jYW52YXMuY2xpZW50SGVpZ2h0KyJweCIsdGhpcy5jYW52YXMucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0aGlzLnBsYWNlaG9sZGVyKSxjPXRoaXMuZHJhd1BhbmUuc3R5bGUuZGlzcGxheSx0aGlzLmNhbnZhcy5zdHlsZS5kaXNwbGF5PSJub25lIix0aGlzLnRleHREaXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy50ZXh0RGl2LnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsdGhpcy50ZXh0RGl2LnN0eWxlLndoaXRlU3BhY2U9Im5vd3JhcCIsdGhpcy50ZXh0RGl2LnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiIsdGhpcy50ZXh0RGl2LnN0eWxlLmRpc3BsYXk9bXhDbGllbnQuSVNfUVVJUktTPyJpbmxpbmUiOiJpbmxpbmUtYmxvY2siLHRoaXMudGV4dERpdi5zdHlsZS56b29tPSIxIixkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMudGV4dERpdikpO2E9dGhpcy5nZXRCb3VuZGluZ0JveCh0aGlzLnZhbGlkYXRlQ2VsbFN0YXRlKHRoaXMudmFsaWRhdGVDZWxsKGF8fAoobnVsbCE9dGhpcy5jdXJyZW50Um9vdD90aGlzLmN1cnJlbnRSb290OnRoaXMuZ3JhcGguZ2V0TW9kZWwoKS5nZXRSb290KCkpKSkpO3RoaXMuc2V0R3JhcGhCb3VuZHMobnVsbCE9YT9hOnRoaXMuZ2V0RW1wdHlCb3VuZHMoKSk7dGhpcy52YWxpZGF0ZUJhY2tncm91bmQoKTtudWxsIT1jJiYodGhpcy5jYW52YXMuc3R5bGUuZGlzcGxheT1jLHRoaXMudGV4dERpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMudGV4dERpdiksbnVsbCE9dGhpcy5wbGFjZWhvbGRlciYmdGhpcy5wbGFjZWhvbGRlci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMucGxhY2Vob2xkZXIpLHRoaXMudGV4dERpdj1udWxsKTt0aGlzLnJlc2V0VmFsaWRhdGlvblN0YXRlKCk7d2luZG93LnN0YXR1cz1teFJlc291cmNlcy5nZXQodGhpcy5kb25lUmVzb3VyY2UpfHx0aGlzLmRvbmVSZXNvdXJjZTtteExvZy5sZWF2ZSgibXhHcmFwaFZpZXcudmFsaWRhdGUiLGIpfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLmdldEVtcHR5Qm91bmRzPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBteFJlY3RhbmdsZSh0aGlzLnRyYW5zbGF0ZS54KnRoaXMuc2NhbGUsdGhpcy50cmFuc2xhdGUueSp0aGlzLnNjYWxlKX07Cm14R3JhcGhWaWV3LnByb3RvdHlwZS5nZXRCb3VuZGluZ0JveD1mdW5jdGlvbihhLGIpe2I9bnVsbCE9Yj9iOiEwO3ZhciBjPW51bGw7aWYobnVsbCE9YSYmKG51bGwhPWEuc2hhcGUmJm51bGwhPWEuc2hhcGUuYm91bmRpbmdCb3gmJihjPWEuc2hhcGUuYm91bmRpbmdCb3guY2xvbmUoKSksbnVsbCE9YS50ZXh0JiZudWxsIT1hLnRleHQuYm91bmRpbmdCb3gmJihudWxsIT1jP2MuYWRkKGEudGV4dC5ib3VuZGluZ0JveCk6Yz1hLnRleHQuYm91bmRpbmdCb3guY2xvbmUoKSksYikpZm9yKHZhciBkPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKSxlPWQuZ2V0Q2hpbGRDb3VudChhLmNlbGwpLGY9MDtmPGU7ZisrKXt2YXIgZz10aGlzLmdldEJvdW5kaW5nQm94KHRoaXMuZ2V0U3RhdGUoZC5nZXRDaGlsZEF0KGEuY2VsbCxmKSkpO251bGwhPWcmJihudWxsPT1jP2M9ZzpjLmFkZChnKSl9cmV0dXJuIGN9OwpteEdyYXBoVmlldy5wcm90b3R5cGUuY3JlYXRlQmFja2dyb3VuZFBhZ2VTaGFwZT1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IG14UmVjdGFuZ2xlU2hhcGUoYSwid2hpdGUiLCJibGFjayIpfTtteEdyYXBoVmlldy5wcm90b3R5cGUudmFsaWRhdGVCYWNrZ3JvdW5kPWZ1bmN0aW9uKCl7dGhpcy52YWxpZGF0ZUJhY2tncm91bmRJbWFnZSgpO3RoaXMudmFsaWRhdGVCYWNrZ3JvdW5kUGFnZSgpfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLnZhbGlkYXRlQmFja2dyb3VuZEltYWdlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5ncmFwaC5nZXRCYWNrZ3JvdW5kSW1hZ2UoKTtpZihudWxsIT1hKXtpZihudWxsPT10aGlzLmJhY2tncm91bmRJbWFnZXx8dGhpcy5iYWNrZ3JvdW5kSW1hZ2UuaW1hZ2UhPWEuc3JjKXtudWxsIT10aGlzLmJhY2tncm91bmRJbWFnZSYmdGhpcy5iYWNrZ3JvdW5kSW1hZ2UuZGVzdHJveSgpO3ZhciBiPW5ldyBteFJlY3RhbmdsZSgwLDAsMSwxKTt0aGlzLmJhY2tncm91bmRJbWFnZT1uZXcgbXhJbWFnZVNoYXBlKGIsYS5zcmMpO3RoaXMuYmFja2dyb3VuZEltYWdlLmRpYWxlY3Q9dGhpcy5ncmFwaC5kaWFsZWN0O3RoaXMuYmFja2dyb3VuZEltYWdlLmluaXQodGhpcy5iYWNrZ3JvdW5kUGFuZSk7dGhpcy5iYWNrZ3JvdW5kSW1hZ2UucmVkcmF3KCk7OCE9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHxteENsaWVudC5JU19FTXx8bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKHRoaXMuYmFja2dyb3VuZEltYWdlLm5vZGUsCm14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuZ3JhcGguZmlyZU1vdXNlRXZlbnQobXhFdmVudC5NT1VTRV9ET1dOLG5ldyBteE1vdXNlRXZlbnQoYSkpfSksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5ncmFwaC5maXJlTW91c2VFdmVudChteEV2ZW50Lk1PVVNFX01PVkUsbmV3IG14TW91c2VFdmVudChhKSl9KSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmdyYXBoLmZpcmVNb3VzZUV2ZW50KG14RXZlbnQuTU9VU0VfVVAsbmV3IG14TW91c2VFdmVudChhKSl9KSl9dGhpcy5yZWRyYXdCYWNrZ3JvdW5kSW1hZ2UodGhpcy5iYWNrZ3JvdW5kSW1hZ2UsYSl9ZWxzZSBudWxsIT10aGlzLmJhY2tncm91bmRJbWFnZSYmKHRoaXMuYmFja2dyb3VuZEltYWdlLmRlc3Ryb3koKSx0aGlzLmJhY2tncm91bmRJbWFnZT1udWxsKX07Cm14R3JhcGhWaWV3LnByb3RvdHlwZS52YWxpZGF0ZUJhY2tncm91bmRQYWdlPWZ1bmN0aW9uKCl7aWYodGhpcy5ncmFwaC5wYWdlVmlzaWJsZSl7dmFyIGE9dGhpcy5nZXRCYWNrZ3JvdW5kUGFnZUJvdW5kcygpO251bGw9PXRoaXMuYmFja2dyb3VuZFBhZ2VTaGFwZT8odGhpcy5iYWNrZ3JvdW5kUGFnZVNoYXBlPXRoaXMuY3JlYXRlQmFja2dyb3VuZFBhZ2VTaGFwZShhKSx0aGlzLmJhY2tncm91bmRQYWdlU2hhcGUuc2NhbGU9dGhpcy5zY2FsZSx0aGlzLmJhY2tncm91bmRQYWdlU2hhcGUuaXNTaGFkb3c9ITAsdGhpcy5iYWNrZ3JvdW5kUGFnZVNoYXBlLmRpYWxlY3Q9dGhpcy5ncmFwaC5kaWFsZWN0LHRoaXMuYmFja2dyb3VuZFBhZ2VTaGFwZS5pbml0KHRoaXMuYmFja2dyb3VuZFBhbmUpLHRoaXMuYmFja2dyb3VuZFBhZ2VTaGFwZS5yZWRyYXcoKSx0aGlzLmdyYXBoLm5hdGl2ZURibENsaWNrRW5hYmxlZCYmbXhFdmVudC5hZGRMaXN0ZW5lcih0aGlzLmJhY2tncm91bmRQYWdlU2hhcGUubm9kZSwKImRibGNsaWNrIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmdyYXBoLmRibENsaWNrKGEpfSkpLG14RXZlbnQuYWRkR2VzdHVyZUxpc3RlbmVycyh0aGlzLmJhY2tncm91bmRQYWdlU2hhcGUubm9kZSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmdyYXBoLmZpcmVNb3VzZUV2ZW50KG14RXZlbnQuTU9VU0VfRE9XTixuZXcgbXhNb3VzZUV2ZW50KGEpKX0pLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe251bGwhPXRoaXMuZ3JhcGgudG9vbHRpcEhhbmRsZXImJnRoaXMuZ3JhcGgudG9vbHRpcEhhbmRsZXIuaXNIaWRlT25Ib3ZlcigpJiZ0aGlzLmdyYXBoLnRvb2x0aXBIYW5kbGVyLmhpZGUoKTt0aGlzLmdyYXBoLmlzTW91c2VEb3duJiYhbXhFdmVudC5pc0NvbnN1bWVkKGEpJiZ0aGlzLmdyYXBoLmZpcmVNb3VzZUV2ZW50KG14RXZlbnQuTU9VU0VfTU9WRSxuZXcgbXhNb3VzZUV2ZW50KGEpKX0pLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuZ3JhcGguZmlyZU1vdXNlRXZlbnQobXhFdmVudC5NT1VTRV9VUCwKbmV3IG14TW91c2VFdmVudChhKSl9KSkpOih0aGlzLmJhY2tncm91bmRQYWdlU2hhcGUuc2NhbGU9dGhpcy5zY2FsZSx0aGlzLmJhY2tncm91bmRQYWdlU2hhcGUuYm91bmRzPWEsdGhpcy5iYWNrZ3JvdW5kUGFnZVNoYXBlLnJlZHJhdygpKX1lbHNlIG51bGwhPXRoaXMuYmFja2dyb3VuZFBhZ2VTaGFwZSYmKHRoaXMuYmFja2dyb3VuZFBhZ2VTaGFwZS5kZXN0cm95KCksdGhpcy5iYWNrZ3JvdW5kUGFnZVNoYXBlPW51bGwpfTtteEdyYXBoVmlldy5wcm90b3R5cGUuZ2V0QmFja2dyb3VuZFBhZ2VCb3VuZHM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdyYXBoLnBhZ2VGb3JtYXQsYj10aGlzLnNjYWxlKnRoaXMuZ3JhcGgucGFnZVNjYWxlO3JldHVybiBuZXcgbXhSZWN0YW5nbGUodGhpcy5zY2FsZSp0aGlzLnRyYW5zbGF0ZS54LHRoaXMuc2NhbGUqdGhpcy50cmFuc2xhdGUueSxhLndpZHRoKmIsYS5oZWlnaHQqYil9OwpteEdyYXBoVmlldy5wcm90b3R5cGUucmVkcmF3QmFja2dyb3VuZEltYWdlPWZ1bmN0aW9uKGEsYil7YS5zY2FsZT10aGlzLnNjYWxlO2EuYm91bmRzLng9dGhpcy5zY2FsZSp0aGlzLnRyYW5zbGF0ZS54O2EuYm91bmRzLnk9dGhpcy5zY2FsZSp0aGlzLnRyYW5zbGF0ZS55O2EuYm91bmRzLndpZHRoPXRoaXMuc2NhbGUqYi53aWR0aDthLmJvdW5kcy5oZWlnaHQ9dGhpcy5zY2FsZSpiLmhlaWdodDthLnJlZHJhdygpfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLnZhbGlkYXRlQ2VsbD1mdW5jdGlvbihhLGIpe2lmKG51bGwhPWEpaWYoYj0obnVsbCE9Yj9iOiEwKSYmdGhpcy5ncmFwaC5pc0NlbGxWaXNpYmxlKGEpLG51bGw9PXRoaXMuZ2V0U3RhdGUoYSxiKXx8Yilmb3IodmFyIGM9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLGQ9Yy5nZXRDaGlsZENvdW50KGEpLGU9MDtlPGQ7ZSsrKXRoaXMudmFsaWRhdGVDZWxsKGMuZ2V0Q2hpbGRBdChhLGUpLGImJighdGhpcy5pc0NlbGxDb2xsYXBzZWQoYSl8fGE9PXRoaXMuY3VycmVudFJvb3QpKTtlbHNlIHRoaXMucmVtb3ZlU3RhdGUoYSk7cmV0dXJuIGF9OwpteEdyYXBoVmlldy5wcm90b3R5cGUudmFsaWRhdGVDZWxsU3RhdGU9ZnVuY3Rpb24oYSxiKXtiPW51bGwhPWI/YjohMDt2YXIgYz1udWxsO2lmKG51bGwhPWEmJihjPXRoaXMuZ2V0U3RhdGUoYSksbnVsbCE9Yykpe3ZhciBkPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKTtpZihjLmludmFsaWQpe2MuaW52YWxpZD0hMTtpZihudWxsPT1jLnN0eWxlfHxjLmludmFsaWRTdHlsZSljLnN0eWxlPXRoaXMuZ3JhcGguZ2V0Q2VsbFN0eWxlKGMuY2VsbCksYy5pbnZhbGlkU3R5bGU9ITE7YSE9dGhpcy5jdXJyZW50Um9vdCYmdGhpcy52YWxpZGF0ZUNlbGxTdGF0ZShkLmdldFBhcmVudChhKSwhMSk7Yy5zZXRWaXNpYmxlVGVybWluYWxTdGF0ZSh0aGlzLnZhbGlkYXRlQ2VsbFN0YXRlKHRoaXMuZ2V0VmlzaWJsZVRlcm1pbmFsKGEsITApLCExKSwhMCk7Yy5zZXRWaXNpYmxlVGVybWluYWxTdGF0ZSh0aGlzLnZhbGlkYXRlQ2VsbFN0YXRlKHRoaXMuZ2V0VmlzaWJsZVRlcm1pbmFsKGEsITEpLCExKSwKITEpO3RoaXMudXBkYXRlQ2VsbFN0YXRlKGMpO2E9PXRoaXMuY3VycmVudFJvb3R8fGMuaW52YWxpZHx8KHRoaXMuZ3JhcGguY2VsbFJlbmRlcmVyLnJlZHJhdyhjLCExLHRoaXMuaXNSZW5kZXJpbmcoKSksYy51cGRhdGVDYWNoZWRCb3VuZHMoKSl9aWYoYiYmIWMuaW52YWxpZCl7bnVsbCE9Yy5zaGFwZSYmdGhpcy5zdGF0ZVZhbGlkYXRlZChjKTtmb3IodmFyIGU9ZC5nZXRDaGlsZENvdW50KGEpLGY9MDtmPGU7ZisrKXRoaXMudmFsaWRhdGVDZWxsU3RhdGUoZC5nZXRDaGlsZEF0KGEsZikpfX1yZXR1cm4gY307Cm14R3JhcGhWaWV3LnByb3RvdHlwZS51cGRhdGVDZWxsU3RhdGU9ZnVuY3Rpb24oYSl7YS5hYnNvbHV0ZU9mZnNldC54PTA7YS5hYnNvbHV0ZU9mZnNldC55PTA7YS5vcmlnaW4ueD0wO2Eub3JpZ2luLnk9MDthLmxlbmd0aD0wO2lmKGEuY2VsbCE9dGhpcy5jdXJyZW50Um9vdCl7dmFyIGI9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLGM9dGhpcy5nZXRTdGF0ZShiLmdldFBhcmVudChhLmNlbGwpKTtudWxsIT1jJiZjLmNlbGwhPXRoaXMuY3VycmVudFJvb3QmJihhLm9yaWdpbi54Kz1jLm9yaWdpbi54LGEub3JpZ2luLnkrPWMub3JpZ2luLnkpO3ZhciBkPXRoaXMuZ3JhcGguZ2V0Q2hpbGRPZmZzZXRGb3JDZWxsKGEuY2VsbCk7bnVsbCE9ZCYmKGEub3JpZ2luLngrPWQueCxhLm9yaWdpbi55Kz1kLnkpO3ZhciBlPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGEuY2VsbCk7bnVsbCE9ZSYmKGIuaXNFZGdlKGEuY2VsbCl8fChkPW51bGwhPWUub2Zmc2V0P2Uub2Zmc2V0OnRoaXMuRU1QVFlfUE9JTlQsCmUucmVsYXRpdmUmJm51bGwhPWM/Yi5pc0VkZ2UoYy5jZWxsKT8oZD10aGlzLmdldFBvaW50KGMsZSksbnVsbCE9ZCYmKGEub3JpZ2luLngrPWQueC90aGlzLnNjYWxlLWMub3JpZ2luLngtdGhpcy50cmFuc2xhdGUueCxhLm9yaWdpbi55Kz1kLnkvdGhpcy5zY2FsZS1jLm9yaWdpbi55LXRoaXMudHJhbnNsYXRlLnkpKTooYS5vcmlnaW4ueCs9ZS54KmMudW5zY2FsZWRXaWR0aCtkLngsYS5vcmlnaW4ueSs9ZS55KmMudW5zY2FsZWRIZWlnaHQrZC55KTooYS5hYnNvbHV0ZU9mZnNldC54PXRoaXMuc2NhbGUqZC54LGEuYWJzb2x1dGVPZmZzZXQueT10aGlzLnNjYWxlKmQueSxhLm9yaWdpbi54Kz1lLngsYS5vcmlnaW4ueSs9ZS55KSksYS54PXRoaXMuc2NhbGUqKHRoaXMudHJhbnNsYXRlLngrYS5vcmlnaW4ueCksYS55PXRoaXMuc2NhbGUqKHRoaXMudHJhbnNsYXRlLnkrYS5vcmlnaW4ueSksYS53aWR0aD10aGlzLnNjYWxlKmUud2lkdGgsYS51bnNjYWxlZFdpZHRoPWUud2lkdGgsYS5oZWlnaHQ9CnRoaXMuc2NhbGUqZS5oZWlnaHQsYS51bnNjYWxlZEhlaWdodD1lLmhlaWdodCxiLmlzVmVydGV4KGEuY2VsbCkmJnRoaXMudXBkYXRlVmVydGV4U3RhdGUoYSxlKSxiLmlzRWRnZShhLmNlbGwpJiZ0aGlzLnVwZGF0ZUVkZ2VTdGF0ZShhLGUpKX1hLnVwZGF0ZUNhY2hlZEJvdW5kcygpfTtteEdyYXBoVmlldy5wcm90b3R5cGUuaXNDZWxsQ29sbGFwc2VkPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdyYXBoLmlzQ2VsbENvbGxhcHNlZChhKX07Cm14R3JhcGhWaWV3LnByb3RvdHlwZS51cGRhdGVWZXJ0ZXhTdGF0ZT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKSxkPXRoaXMuZ2V0U3RhdGUoYy5nZXRQYXJlbnQoYS5jZWxsKSk7aWYoYi5yZWxhdGl2ZSYmbnVsbCE9ZCYmIWMuaXNFZGdlKGQuY2VsbCkpe3ZhciBlPW14VXRpbHMudG9SYWRpYW5zKGQuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT05dfHwiMCIpO2lmKDAhPWUpe3ZhciBjPU1hdGguY29zKGUpLGU9TWF0aC5zaW4oZSksZj1uZXcgbXhQb2ludChhLmdldENlbnRlclgoKSxhLmdldENlbnRlclkoKSksZD1uZXcgbXhQb2ludChkLmdldENlbnRlclgoKSxkLmdldENlbnRlclkoKSksZD1teFV0aWxzLmdldFJvdGF0ZWRQb2ludChmLGMsZSxkKTthLng9ZC54LWEud2lkdGgvMjthLnk9ZC55LWEuaGVpZ2h0LzJ9fXRoaXMudXBkYXRlVmVydGV4TGFiZWxPZmZzZXQoYSl9OwpteEdyYXBoVmlldy5wcm90b3R5cGUudXBkYXRlRWRnZVN0YXRlPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5nZXRWaXNpYmxlVGVybWluYWxTdGF0ZSghMCksZD1hLmdldFZpc2libGVUZXJtaW5hbFN0YXRlKCExKTtudWxsIT10aGlzLmdyYXBoLm1vZGVsLmdldFRlcm1pbmFsKGEuY2VsbCwhMCkmJm51bGw9PWN8fG51bGw9PWMmJm51bGw9PWIuZ2V0VGVybWluYWxQb2ludCghMCl8fG51bGwhPXRoaXMuZ3JhcGgubW9kZWwuZ2V0VGVybWluYWwoYS5jZWxsLCExKSYmbnVsbD09ZHx8bnVsbD09ZCYmbnVsbD09Yi5nZXRUZXJtaW5hbFBvaW50KCExKT90aGlzLmNsZWFyKGEuY2VsbCwhMCk6KHRoaXMudXBkYXRlRml4ZWRUZXJtaW5hbFBvaW50cyhhLGMsZCksdGhpcy51cGRhdGVQb2ludHMoYSxiLnBvaW50cyxjLGQpLHRoaXMudXBkYXRlRmxvYXRpbmdUZXJtaW5hbFBvaW50cyhhLGMsZCksYz1hLmFic29sdXRlUG9pbnRzLGEuY2VsbCE9dGhpcy5jdXJyZW50Um9vdCYmKG51bGw9PWN8fDI+CmMubGVuZ3RofHxudWxsPT1jWzBdfHxudWxsPT1jW2MubGVuZ3RoLTFdKT90aGlzLmNsZWFyKGEuY2VsbCwhMCk6KHRoaXMudXBkYXRlRWRnZUJvdW5kcyhhKSx0aGlzLnVwZGF0ZUVkZ2VMYWJlbE9mZnNldChhKSkpfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLnVwZGF0ZVZlcnRleExhYmVsT2Zmc2V0PWZ1bmN0aW9uKGEpe3ZhciBiPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9MQUJFTF9QT1NJVElPTixteENvbnN0YW50cy5BTElHTl9DRU5URVIpO2lmKGI9PW14Q29uc3RhbnRzLkFMSUdOX0xFRlQpYj1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfTEFCRUxfV0lEVEgsbnVsbCksYj1udWxsIT1iP2IqdGhpcy5zY2FsZTphLndpZHRoLGEuYWJzb2x1dGVPZmZzZXQueC09YjtlbHNlIGlmKGI9PW14Q29uc3RhbnRzLkFMSUdOX1JJR0hUKWEuYWJzb2x1dGVPZmZzZXQueCs9YS53aWR0aDtlbHNlIGlmKGI9PW14Q29uc3RhbnRzLkFMSUdOX0NFTlRFUiYmKGI9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0xBQkVMX1dJRFRILG51bGwpLG51bGwhPWIpKXt2YXIgYz1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQUxJR04sCm14Q29uc3RhbnRzLkFMSUdOX0NFTlRFUiksZD0wO2M9PW14Q29uc3RhbnRzLkFMSUdOX0NFTlRFUj9kPS41OmM9PW14Q29uc3RhbnRzLkFMSUdOX1JJR0hUJiYoZD0xKTswIT1kJiYoYS5hYnNvbHV0ZU9mZnNldC54LT0oYip0aGlzLnNjYWxlLWEud2lkdGgpKmQpfWI9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1ZFUlRJQ0FMX0xBQkVMX1BPU0lUSU9OLG14Q29uc3RhbnRzLkFMSUdOX01JRERMRSk7Yj09bXhDb25zdGFudHMuQUxJR05fVE9QP2EuYWJzb2x1dGVPZmZzZXQueS09YS5oZWlnaHQ6Yj09bXhDb25zdGFudHMuQUxJR05fQk9UVE9NJiYoYS5hYnNvbHV0ZU9mZnNldC55Kz1hLmhlaWdodCl9O214R3JhcGhWaWV3LnByb3RvdHlwZS5yZXNldFZhbGlkYXRpb25TdGF0ZT1mdW5jdGlvbigpe3RoaXMubGFzdEZvcmVncm91bmRIdG1sTm9kZT10aGlzLmxhc3RGb3JlZ3JvdW5kTm9kZT10aGlzLmxhc3RIdG1sTm9kZT10aGlzLmxhc3ROb2RlPW51bGx9OwpteEdyYXBoVmlldy5wcm90b3R5cGUuc3RhdGVWYWxpZGF0ZWQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmlzRWRnZShhLmNlbGwpJiZ0aGlzLmdyYXBoLmtlZXBFZGdlc0luRm9yZWdyb3VuZHx8dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmlzVmVydGV4KGEuY2VsbCkmJnRoaXMuZ3JhcGgua2VlcEVkZ2VzSW5CYWNrZ3JvdW5kO2E9dGhpcy5ncmFwaC5jZWxsUmVuZGVyZXIuaW5zZXJ0U3RhdGVBZnRlcihhLGI/dGhpcy5sYXN0Rm9yZWdyb3VuZE5vZGV8fHRoaXMubGFzdE5vZGU6dGhpcy5sYXN0Tm9kZSxiP3RoaXMubGFzdEZvcmVncm91bmRIdG1sTm9kZXx8dGhpcy5sYXN0SHRtbE5vZGU6dGhpcy5sYXN0SHRtbE5vZGUpO2I/KHRoaXMubGFzdEZvcmVncm91bmRIdG1sTm9kZT1hWzFdLHRoaXMubGFzdEZvcmVncm91bmROb2RlPWFbMF0pOih0aGlzLmxhc3RIdG1sTm9kZT1hWzFdLHRoaXMubGFzdE5vZGU9YVswXSl9OwpteEdyYXBoVmlldy5wcm90b3R5cGUudXBkYXRlRml4ZWRUZXJtaW5hbFBvaW50cz1mdW5jdGlvbihhLGIsYyl7dGhpcy51cGRhdGVGaXhlZFRlcm1pbmFsUG9pbnQoYSxiLCEwLHRoaXMuZ3JhcGguZ2V0Q29ubmVjdGlvbkNvbnN0cmFpbnQoYSxiLCEwKSk7dGhpcy51cGRhdGVGaXhlZFRlcm1pbmFsUG9pbnQoYSxjLCExLHRoaXMuZ3JhcGguZ2V0Q29ubmVjdGlvbkNvbnN0cmFpbnQoYSxjLCExKSl9O214R3JhcGhWaWV3LnByb3RvdHlwZS51cGRhdGVGaXhlZFRlcm1pbmFsUG9pbnQ9ZnVuY3Rpb24oYSxiLGMsZCl7YS5zZXRBYnNvbHV0ZVRlcm1pbmFsUG9pbnQodGhpcy5nZXRGaXhlZFRlcm1pbmFsUG9pbnQoYSxiLGMsZCksYyl9OwpteEdyYXBoVmlldy5wcm90b3R5cGUuZ2V0Rml4ZWRUZXJtaW5hbFBvaW50PWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPW51bGw7bnVsbCE9ZCYmKGU9dGhpcy5ncmFwaC5nZXRDb25uZWN0aW9uUG9pbnQoYixkLCExKSk7aWYobnVsbD09ZSYmbnVsbD09Yil7Yj10aGlzLnNjYWxlO2Q9dGhpcy50cmFuc2xhdGU7dmFyIGY9YS5vcmlnaW4sZT10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeShhLmNlbGwpLmdldFRlcm1pbmFsUG9pbnQoYyk7bnVsbCE9ZSYmKGU9bmV3IG14UG9pbnQoYiooZC54K2UueCtmLngpLGIqKGQueStlLnkrZi55KSkpfXJldHVybiBlfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLnVwZGF0ZUJvdW5kc0Zyb21TdGVuY2lsPWZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7aWYobnVsbCE9YSYmbnVsbCE9YS5zaGFwZSYmbnVsbCE9YS5zaGFwZS5zdGVuY2lsJiYiZml4ZWQiPT1hLnNoYXBlLnN0ZW5jaWwuYXNwZWN0KXt2YXIgYj1teFJlY3RhbmdsZS5mcm9tUmVjdGFuZ2xlKGEpLGM9YS5zaGFwZS5zdGVuY2lsLmNvbXB1dGVBc3BlY3QoYS5zdHlsZSxhLngsYS55LGEud2lkdGgsYS5oZWlnaHQpO2Euc2V0UmVjdChjLngsYy55LGEuc2hhcGUuc3RlbmNpbC53MCpjLndpZHRoLGEuc2hhcGUuc3RlbmNpbC5oMCpjLmhlaWdodCl9cmV0dXJuIGJ9OwpteEdyYXBoVmlldy5wcm90b3R5cGUudXBkYXRlUG9pbnRzPWZ1bmN0aW9uKGEsYixjLGQpe2lmKG51bGwhPWEpe3ZhciBlPVtdO2UucHVzaChhLmFic29sdXRlUG9pbnRzWzBdKTt2YXIgZj10aGlzLmdldEVkZ2VTdHlsZShhLGIsYyxkKTtpZihudWxsIT1mKXtjPXRoaXMuZ2V0VGVybWluYWxQb3J0KGEsYywhMCk7ZD10aGlzLmdldFRlcm1pbmFsUG9ydChhLGQsITEpO3ZhciBnPXRoaXMudXBkYXRlQm91bmRzRnJvbVN0ZW5jaWwoYyksaz10aGlzLnVwZGF0ZUJvdW5kc0Zyb21TdGVuY2lsKGQpO2YoYSxjLGQsYixlKTtudWxsIT1nJiZjLnNldFJlY3QoZy54LGcueSxnLndpZHRoLGcuaGVpZ2h0KTtudWxsIT1rJiZkLnNldFJlY3Qoay54LGsueSxrLndpZHRoLGsuaGVpZ2h0KX1lbHNlIGlmKG51bGwhPWIpZm9yKGY9MDtmPGIubGVuZ3RoO2YrKyludWxsIT1iW2ZdJiYoYz1teFV0aWxzLmNsb25lKGJbZl0pLGUucHVzaCh0aGlzLnRyYW5zZm9ybUNvbnRyb2xQb2ludChhLGMpKSk7Yj0KYS5hYnNvbHV0ZVBvaW50cztlLnB1c2goYltiLmxlbmd0aC0xXSk7YS5hYnNvbHV0ZVBvaW50cz1lfX07bXhHcmFwaFZpZXcucHJvdG90eXBlLnRyYW5zZm9ybUNvbnRyb2xQb2ludD1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIG51bGwhPWEmJm51bGwhPWI/KGE9YS5vcmlnaW4sYz1jPzE6dGhpcy5zY2FsZSxuZXcgbXhQb2ludChjKihiLngrdGhpcy50cmFuc2xhdGUueCthLngpLGMqKGIueSt0aGlzLnRyYW5zbGF0ZS55K2EueSkpKTpudWxsfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLmlzTG9vcFN0eWxlRW5hYmxlZD1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT10aGlzLmdyYXBoLmdldENvbm5lY3Rpb25Db25zdHJhaW50KGEsYywhMCksZj10aGlzLmdyYXBoLmdldENvbm5lY3Rpb25Db25zdHJhaW50KGEsZCwhMSk7cmV0dXJuIShudWxsPT1ifHwyPmIubGVuZ3RoKXx8bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX09SVEhPR09OQUxfTE9PUCwhMSkmJihudWxsIT1lJiZudWxsIT1lLnBvaW50fHxudWxsIT1mJiZudWxsIT1mLnBvaW50KT8hMTpudWxsIT1jJiZjPT1kfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLmdldEVkZ2VTdHlsZT1mdW5jdGlvbihhLGIsYyxkKXthPXRoaXMuaXNMb29wU3R5bGVFbmFibGVkKGEsYixjLGQpP214VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9MT09QLHRoaXMuZ3JhcGguZGVmYXVsdExvb3BTdHlsZSk6bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX05PRURHRVNUWUxFLCExKT9udWxsOmEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRURHRV07InN0cmluZyI9PXR5cGVvZiBhJiYoYj1teFN0eWxlUmVnaXN0cnkuZ2V0VmFsdWUoYSksbnVsbD09YiYmdGhpcy5pc0FsbG93RXZhbCgpJiYoYj1teFV0aWxzLmV2YWwoYSkpLGE9Yik7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGE/YTpudWxsfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLnVwZGF0ZUZsb2F0aW5nVGVybWluYWxQb2ludHM9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEuYWJzb2x1dGVQb2ludHMsZT1kWzBdO251bGw9PWRbZC5sZW5ndGgtMV0mJm51bGwhPWMmJnRoaXMudXBkYXRlRmxvYXRpbmdUZXJtaW5hbFBvaW50KGEsYyxiLCExKTtudWxsPT1lJiZudWxsIT1iJiZ0aGlzLnVwZGF0ZUZsb2F0aW5nVGVybWluYWxQb2ludChhLGIsYywhMCl9O214R3JhcGhWaWV3LnByb3RvdHlwZS51cGRhdGVGbG9hdGluZ1Rlcm1pbmFsUG9pbnQ9ZnVuY3Rpb24oYSxiLGMsZCl7YS5zZXRBYnNvbHV0ZVRlcm1pbmFsUG9pbnQodGhpcy5nZXRGbG9hdGluZ1Rlcm1pbmFsUG9pbnQoYSxiLGMsZCksZCl9OwpteEdyYXBoVmlldy5wcm90b3R5cGUuZ2V0RmxvYXRpbmdUZXJtaW5hbFBvaW50PWZ1bmN0aW9uKGEsYixjLGQpe2I9dGhpcy5nZXRUZXJtaW5hbFBvcnQoYSxiLGQpO3ZhciBlPXRoaXMuZ2V0TmV4dFBvaW50KGEsYyxkKSxmPXRoaXMuZ3JhcGguaXNPcnRob2dvbmFsKGEpO2M9bXhVdGlscy50b1JhZGlhbnMoTnVtYmVyKGIuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT05dfHwiMCIpKTt2YXIgZz1uZXcgbXhQb2ludChiLmdldENlbnRlclgoKSxiLmdldENlbnRlclkoKSk7aWYoMCE9Yyl2YXIgaz1NYXRoLmNvcygtYyksbD1NYXRoLnNpbigtYyksZT1teFV0aWxzLmdldFJvdGF0ZWRQb2ludChlLGssbCxnKTtrPXBhcnNlRmxvYXQoYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9QRVJJTUVURVJfU1BBQ0lOR118fDApO2srPXBhcnNlRmxvYXQoYS5zdHlsZVtkP214Q29uc3RhbnRzLlNUWUxFX1NPVVJDRV9QRVJJTUVURVJfU1BBQ0lORzpteENvbnN0YW50cy5TVFlMRV9UQVJHRVRfUEVSSU1FVEVSX1NQQUNJTkddfHwKMCk7YT10aGlzLmdldFBlcmltZXRlclBvaW50KGIsZSwwPT1jJiZmLGspOzAhPWMmJihrPU1hdGguY29zKGMpLGw9TWF0aC5zaW4oYyksYT1teFV0aWxzLmdldFJvdGF0ZWRQb2ludChhLGssbCxnKSk7cmV0dXJuIGF9O214R3JhcGhWaWV3LnByb3RvdHlwZS5nZXRUZXJtaW5hbFBvcnQ9ZnVuY3Rpb24oYSxiLGMpe2E9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLGM/bXhDb25zdGFudHMuU1RZTEVfU09VUkNFX1BPUlQ6bXhDb25zdGFudHMuU1RZTEVfVEFSR0VUX1BPUlQpO251bGwhPWEmJihhPXRoaXMuZ2V0U3RhdGUodGhpcy5ncmFwaC5nZXRNb2RlbCgpLmdldENlbGwoYSkpLG51bGwhPWEmJihiPWEpKTtyZXR1cm4gYn07Cm14R3JhcGhWaWV3LnByb3RvdHlwZS5nZXRQZXJpbWV0ZXJQb2ludD1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1udWxsO2lmKG51bGwhPWEpe3ZhciBmPXRoaXMuZ2V0UGVyaW1ldGVyRnVuY3Rpb24oYSk7aWYobnVsbCE9ZiYmbnVsbCE9YiYmKGQ9dGhpcy5nZXRQZXJpbWV0ZXJCb3VuZHMoYSxkKSwwPGQud2lkdGh8fDA8ZC5oZWlnaHQpKXt2YXIgZT1uZXcgbXhQb2ludChiLngsYi55KSxnPWI9ITE7dGhpcy5ncmFwaC5tb2RlbC5pc1ZlcnRleChhLmNlbGwpJiYoYj0xPT1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRkxJUEgsMCksZz0xPT1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRkxJUFYsMCksbnVsbCE9YS5zaGFwZSYmbnVsbCE9YS5zaGFwZS5zdGVuY2lsJiYoYj0xPT1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsInN0ZW5jaWxGbGlwSCIsMCl8fGIsZz0xPT1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsInN0ZW5jaWxGbGlwViIsCjApfHxnKSxiJiYoZS54PTIqZC5nZXRDZW50ZXJYKCktZS54KSxnJiYoZS55PTIqZC5nZXRDZW50ZXJZKCktZS55KSk7ZT1mKGQsYSxlLGMpO251bGwhPWUmJihiJiYoZS54PTIqZC5nZXRDZW50ZXJYKCktZS54KSxnJiYoZS55PTIqZC5nZXRDZW50ZXJZKCktZS55KSl9bnVsbD09ZSYmKGU9dGhpcy5nZXRQb2ludChhKSl9cmV0dXJuIGV9O214R3JhcGhWaWV3LnByb3RvdHlwZS5nZXRSb3V0aW5nQ2VudGVyWD1mdW5jdGlvbihhKXt2YXIgYj1udWxsIT1hLnN0eWxlP3BhcnNlRmxvYXQoYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9ST1VUSU5HX0NFTlRFUl9YXSl8fDA6MDtyZXR1cm4gYS5nZXRDZW50ZXJYKCkrYiphLndpZHRofTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLmdldFJvdXRpbmdDZW50ZXJZPWZ1bmN0aW9uKGEpe3ZhciBiPW51bGwhPWEuc3R5bGU/cGFyc2VGbG9hdChhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1JPVVRJTkdfQ0VOVEVSX1ldKXx8MDowO3JldHVybiBhLmdldENlbnRlclkoKStiKmEuaGVpZ2h0fTtteEdyYXBoVmlldy5wcm90b3R5cGUuZ2V0UGVyaW1ldGVyQm91bmRzPWZ1bmN0aW9uKGEsYil7Yj1udWxsIT1iP2I6MDtudWxsIT1hJiYoYis9cGFyc2VGbG9hdChhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1BFUklNRVRFUl9TUEFDSU5HXXx8MCkpO3JldHVybiBhLmdldFBlcmltZXRlckJvdW5kcyhiKnRoaXMuc2NhbGUpfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLmdldFBlcmltZXRlckZ1bmN0aW9uPWZ1bmN0aW9uKGEpe2E9YS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9QRVJJTUVURVJdO2lmKCJzdHJpbmciPT10eXBlb2YgYSl7dmFyIGI9bXhTdHlsZVJlZ2lzdHJ5LmdldFZhbHVlKGEpO251bGw9PWImJnRoaXMuaXNBbGxvd0V2YWwoKSYmKGI9bXhVdGlscy5ldmFsKGEpKTthPWJ9cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGE/YTpudWxsfTtteEdyYXBoVmlldy5wcm90b3R5cGUuZ2V0TmV4dFBvaW50PWZ1bmN0aW9uKGEsYixjKXthPWEuYWJzb2x1dGVQb2ludHM7dmFyIGQ9bnVsbDtudWxsIT1hJiYyPD1hLmxlbmd0aCYmKGQ9YS5sZW5ndGgsZD1hW2M/TWF0aC5taW4oMSxkLTEpOk1hdGgubWF4KDAsZC0yKV0pO251bGw9PWQmJm51bGwhPWImJihkPW5ldyBteFBvaW50KGIuZ2V0Q2VudGVyWCgpLGIuZ2V0Q2VudGVyWSgpKSk7cmV0dXJuIGR9OwpteEdyYXBoVmlldy5wcm90b3R5cGUuZ2V0VmlzaWJsZVRlcm1pbmFsPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKSxkPWMuZ2V0VGVybWluYWwoYSxiKSxlPWQ7bnVsbCE9ZCYmZCE9dGhpcy5jdXJyZW50Um9vdDspe2lmKCF0aGlzLmdyYXBoLmlzQ2VsbFZpc2libGUoZSl8fHRoaXMuaXNDZWxsQ29sbGFwc2VkKGQpKWU9ZDtkPWMuZ2V0UGFyZW50KGQpfW51bGw9PWV8fGMuY29udGFpbnMoZSkmJmMuZ2V0UGFyZW50KGUpIT1jLmdldFJvb3QoKSYmZSE9dGhpcy5jdXJyZW50Um9vdHx8KGU9bnVsbCk7cmV0dXJuIGV9OwpteEdyYXBoVmlldy5wcm90b3R5cGUudXBkYXRlRWRnZUJvdW5kcz1mdW5jdGlvbihhKXt2YXIgYj1hLmFic29sdXRlUG9pbnRzLGM9YlswXSxkPWJbYi5sZW5ndGgtMV07aWYoYy54IT1kLnh8fGMueSE9ZC55KXt2YXIgZT1kLngtYy54LGY9ZC55LWMueTthLnRlcm1pbmFsRGlzdGFuY2U9TWF0aC5zcXJ0KGUqZStmKmYpfWVsc2UgYS50ZXJtaW5hbERpc3RhbmNlPTA7dmFyIGQ9MCxnPVtdLGY9YztpZihudWxsIT1mKXtmb3IodmFyIGM9Zi54LGs9Zi55LGw9YyxtPWssbj0xO248Yi5sZW5ndGg7bisrKXt2YXIgcD1iW25dO251bGwhPXAmJihlPWYueC1wLngsZj1mLnktcC55LGU9TWF0aC5zcXJ0KGUqZStmKmYpLGcucHVzaChlKSxkKz1lLGY9cCxjPU1hdGgubWluKGYueCxjKSxrPU1hdGgubWluKGYueSxrKSxsPU1hdGgubWF4KGYueCxsKSxtPU1hdGgubWF4KGYueSxtKSl9YS5sZW5ndGg9ZDthLnNlZ21lbnRzPWc7YS54PWM7YS55PWs7YS53aWR0aD1NYXRoLm1heCgxLGwtYyk7YS5oZWlnaHQ9Ck1hdGgubWF4KDEsbS1rKX19OwpteEdyYXBoVmlldy5wcm90b3R5cGUuZ2V0UG9pbnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmdldENlbnRlclgoKSxkPWEuZ2V0Q2VudGVyWSgpO2lmKG51bGw9PWEuc2VnbWVudHN8fG51bGwhPWImJiFiLnJlbGF0aXZlKW51bGwhPWImJihtPWIub2Zmc2V0LG51bGwhPW0mJihjKz1tLngsZCs9bS55KSk7ZWxzZXtmb3IodmFyIGU9YS5hYnNvbHV0ZVBvaW50cy5sZW5ndGgsZj1NYXRoLnJvdW5kKCgobnVsbCE9Yj9iLngvMjowKSsuNSkqYS5sZW5ndGgpLGc9YS5zZWdtZW50c1swXSxrPTAsbD0xO2Y+PU1hdGgucm91bmQoaytnKSYmbDxlLTE7KWsrPWcsZz1hLnNlZ21lbnRzW2wrK107ZT0wPT1nPzA6KGYtaykvZztmPWEuYWJzb2x1dGVQb2ludHNbbC0xXTtsPWEuYWJzb2x1dGVQb2ludHNbbF07aWYobnVsbCE9ZiYmbnVsbCE9bCl7az1jPWQ9MDtpZihudWxsIT1iKXt2YXIgZD1iLnksbT1iLm9mZnNldDtudWxsIT1tJiYoYz1tLngsaz1tLnkpfW09bC54LWYueDtsPWwueS1mLnk7Yz0KZi54K20qZSsoKDA9PWc/MDpsL2cpKmQrYykqdGhpcy5zY2FsZTtkPWYueStsKmUtKCgwPT1nPzA6bS9nKSpkLWspKnRoaXMuc2NhbGV9fXJldHVybiBuZXcgbXhQb2ludChjLGQpfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLmdldFJlbGF0aXZlUG9pbnQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKS5nZXRHZW9tZXRyeShhLmNlbGwpO2lmKG51bGwhPWQpe3ZhciBlPWEuYWJzb2x1dGVQb2ludHMubGVuZ3RoO2lmKGQucmVsYXRpdmUmJjE8ZSl7Zm9yKHZhciBkPWEubGVuZ3RoLGY9YS5zZWdtZW50cyxnPWEuYWJzb2x1dGVQb2ludHNbMF0saz1hLmFic29sdXRlUG9pbnRzWzFdLGw9bXhVdGlscy5wdFNlZ0Rpc3RTcShnLngsZy55LGsueCxrLnksYixjKSxtPTAsbj0wLHA9MCxxPTI7cTxlO3ErKyluKz1mW3EtMl0saz1hLmFic29sdXRlUG9pbnRzW3FdLGc9bXhVdGlscy5wdFNlZ0Rpc3RTcShnLngsZy55LGsueCxrLnksYixjKSxnPD1sJiYobD1nLG09cS0xLHA9biksZz1rO2U9ZlttXTtnPWEuYWJzb2x1dGVQb2ludHNbbV07az1hLmFic29sdXRlUG9pbnRzW20rMV07bD1rLng7Zj1rLnk7YT1nLngtbDttPWcueS1mO2Y9KGEtKGItbCkpKgphKyhtLShjLWYpKSptO2E9TWF0aC5zcXJ0KDA+PWY/MDpmKmYvKGEqYSttKm0pKTthPmUmJihhPWUpO2U9TWF0aC5zcXJ0KG14VXRpbHMucHRTZWdEaXN0U3EoZy54LGcueSxrLngsay55LGIsYykpOy0xPT1teFV0aWxzLnJlbGF0aXZlQ2N3KGcueCxnLnksay54LGsueSxiLGMpJiYoZT0tZSk7cmV0dXJuIG5ldyBteFBvaW50KChkLzItcC1hKS9kKi0yLGUvdGhpcy5zY2FsZSl9fXJldHVybiBuZXcgbXhQb2ludH07Cm14R3JhcGhWaWV3LnByb3RvdHlwZS51cGRhdGVFZGdlTGFiZWxPZmZzZXQ9ZnVuY3Rpb24oYSl7dmFyIGI9YS5hYnNvbHV0ZVBvaW50czthLmFic29sdXRlT2Zmc2V0Lng9YS5nZXRDZW50ZXJYKCk7YS5hYnNvbHV0ZU9mZnNldC55PWEuZ2V0Q2VudGVyWSgpO2lmKG51bGwhPWImJjA8Yi5sZW5ndGgmJm51bGwhPWEuc2VnbWVudHMpe3ZhciBjPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGEuY2VsbCk7aWYoYy5yZWxhdGl2ZSl7dmFyIGQ9dGhpcy5nZXRQb2ludChhLGMpO251bGwhPWQmJihhLmFic29sdXRlT2Zmc2V0PWQpfWVsc2V7dmFyIGQ9YlswXSxlPWJbYi5sZW5ndGgtMV07aWYobnVsbCE9ZCYmbnVsbCE9ZSl7dmFyIGI9ZS54LWQueCxmPWUueS1kLnksZz1lPTAsYz1jLm9mZnNldDtudWxsIT1jJiYoZT1jLngsZz1jLnkpO2M9ZC55K2YvMitnKnRoaXMuc2NhbGU7YS5hYnNvbHV0ZU9mZnNldC54PWQueCtiLzIrZSp0aGlzLnNjYWxlO2EuYWJzb2x1dGVPZmZzZXQueT1jfX19fTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLmdldFN0YXRlPWZ1bmN0aW9uKGEsYil7Yj1ifHwhMTt2YXIgYz1udWxsO251bGwhPWEmJihjPXRoaXMuc3RhdGVzLmdldChhKSxiJiYobnVsbD09Y3x8dGhpcy51cGRhdGVTdHlsZSkmJnRoaXMuZ3JhcGguaXNDZWxsVmlzaWJsZShhKSYmKG51bGw9PWM/KGM9dGhpcy5jcmVhdGVTdGF0ZShhKSx0aGlzLnN0YXRlcy5wdXQoYSxjKSk6Yy5zdHlsZT10aGlzLmdyYXBoLmdldENlbGxTdHlsZShhKSkpO3JldHVybiBjfTtteEdyYXBoVmlldy5wcm90b3R5cGUuaXNSZW5kZXJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZW5kZXJpbmd9O214R3JhcGhWaWV3LnByb3RvdHlwZS5zZXRSZW5kZXJpbmc9ZnVuY3Rpb24oYSl7dGhpcy5yZW5kZXJpbmc9YX07bXhHcmFwaFZpZXcucHJvdG90eXBlLmlzQWxsb3dFdmFsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWxsb3dFdmFsfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLnNldEFsbG93RXZhbD1mdW5jdGlvbihhKXt0aGlzLmFsbG93RXZhbD1hfTtteEdyYXBoVmlldy5wcm90b3R5cGUuZ2V0U3RhdGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGVzfTtteEdyYXBoVmlldy5wcm90b3R5cGUuc2V0U3RhdGVzPWZ1bmN0aW9uKGEpe3RoaXMuc3RhdGVzPWF9O214R3JhcGhWaWV3LnByb3RvdHlwZS5nZXRDZWxsU3RhdGVzPWZ1bmN0aW9uKGEpe2lmKG51bGw9PWEpcmV0dXJuIHRoaXMuc3RhdGVzO2Zvcih2YXIgYj1bXSxjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBkPXRoaXMuZ2V0U3RhdGUoYVtjXSk7bnVsbCE9ZCYmYi5wdXNoKGQpfXJldHVybiBifTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLnJlbW92ZVN0YXRlPWZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7bnVsbCE9YSYmKGI9dGhpcy5zdGF0ZXMucmVtb3ZlKGEpLG51bGwhPWImJih0aGlzLmdyYXBoLmNlbGxSZW5kZXJlci5kZXN0cm95KGIpLGIuaW52YWxpZD0hMCxiLmRlc3Ryb3koKSkpO3JldHVybiBifTtteEdyYXBoVmlldy5wcm90b3R5cGUuY3JlYXRlU3RhdGU9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBteENlbGxTdGF0ZSh0aGlzLGEsdGhpcy5ncmFwaC5nZXRDZWxsU3R5bGUoYSkpfTtteEdyYXBoVmlldy5wcm90b3R5cGUuZ2V0Q2FudmFzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FudmFzfTtteEdyYXBoVmlldy5wcm90b3R5cGUuZ2V0QmFja2dyb3VuZFBhbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYWNrZ3JvdW5kUGFuZX07bXhHcmFwaFZpZXcucHJvdG90eXBlLmdldERyYXdQYW5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZHJhd1BhbmV9OwpteEdyYXBoVmlldy5wcm90b3R5cGUuZ2V0T3ZlcmxheVBhbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vdmVybGF5UGFuZX07bXhHcmFwaFZpZXcucHJvdG90eXBlLmdldERlY29yYXRvclBhbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZWNvcmF0b3JQYW5lfTtteEdyYXBoVmlldy5wcm90b3R5cGUuaXNDb250YWluZXJFdmVudD1mdW5jdGlvbihhKXthPW14RXZlbnQuZ2V0U291cmNlKGEpO3JldHVybiBhPT10aGlzLmdyYXBoLmNvbnRhaW5lcnx8YS5wYXJlbnROb2RlPT10aGlzLmJhY2tncm91bmRQYW5lfHxudWxsIT1hLnBhcmVudE5vZGUmJmEucGFyZW50Tm9kZS5wYXJlbnROb2RlPT10aGlzLmJhY2tncm91bmRQYW5lfHxhPT10aGlzLmNhbnZhcy5wYXJlbnROb2RlfHxhPT10aGlzLmNhbnZhc3x8YT09dGhpcy5iYWNrZ3JvdW5kUGFuZXx8YT09dGhpcy5kcmF3UGFuZXx8YT09dGhpcy5vdmVybGF5UGFuZXx8YT09dGhpcy5kZWNvcmF0b3JQYW5lfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLmlzU2Nyb2xsRXZlbnQ9ZnVuY3Rpb24oYSl7dmFyIGI9bXhVdGlscy5nZXRPZmZzZXQodGhpcy5ncmFwaC5jb250YWluZXIpO2E9bmV3IG14UG9pbnQoYS5jbGllbnRYLWIueCxhLmNsaWVudFktYi55KTt2YXIgYj10aGlzLmdyYXBoLmNvbnRhaW5lci5vZmZzZXRXaWR0aCxjPXRoaXMuZ3JhcGguY29udGFpbmVyLmNsaWVudFdpZHRoO2lmKGI+YyYmYS54PmMrMiYmYS54PD1iKXJldHVybiEwO2I9dGhpcy5ncmFwaC5jb250YWluZXIub2Zmc2V0SGVpZ2h0O2M9dGhpcy5ncmFwaC5jb250YWluZXIuY2xpZW50SGVpZ2h0O3JldHVybiBiPmMmJmEueT5jKzImJmEueTw9Yj8hMDohMX07Cm14R3JhcGhWaWV3LnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dGhpcy5pbnN0YWxsTGlzdGVuZXJzKCk7dmFyIGE9dGhpcy5ncmFwaDthLmRpYWxlY3Q9PW14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHP3RoaXMuY3JlYXRlU3ZnKCk6YS5kaWFsZWN0PT1teENvbnN0YW50cy5ESUFMRUNUX1ZNTD90aGlzLmNyZWF0ZVZtbCgpOnRoaXMuY3JlYXRlSHRtbCgpfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLmluc3RhbGxMaXN0ZW5lcnM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdyYXBoLGI9YS5jb250YWluZXI7aWYobnVsbCE9Yil7bXhDbGllbnQuSVNfVE9VQ0gmJihteEV2ZW50LmFkZExpc3RlbmVyKGIsImdlc3R1cmVzdGFydCIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7YS5maXJlR2VzdHVyZUV2ZW50KGIpO214RXZlbnQuY29uc3VtZShiKX0pKSxteEV2ZW50LmFkZExpc3RlbmVyKGIsImdlc3R1cmVjaGFuZ2UiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe2EuZmlyZUdlc3R1cmVFdmVudChiKTtteEV2ZW50LmNvbnN1bWUoYil9KSksbXhFdmVudC5hZGRMaXN0ZW5lcihiLCJnZXN0dXJlZW5kIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXthLmZpcmVHZXN0dXJlRXZlbnQoYik7bXhFdmVudC5jb25zdW1lKGIpfSkpKTtteEV2ZW50LmFkZEdlc3R1cmVMaXN0ZW5lcnMoYixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXshdGhpcy5pc0NvbnRhaW5lckV2ZW50KGIpfHwKKG14Q2xpZW50LklTX0lFfHxteENsaWVudC5JU19JRTExfHxteENsaWVudC5JU19HQ3x8bXhDbGllbnQuSVNfT1B8fG14Q2xpZW50LklTX1NGKSYmdGhpcy5pc1Njcm9sbEV2ZW50KGIpfHxhLmZpcmVNb3VzZUV2ZW50KG14RXZlbnQuTU9VU0VfRE9XTixuZXcgbXhNb3VzZUV2ZW50KGIpKX0pLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe3RoaXMuaXNDb250YWluZXJFdmVudChiKSYmYS5maXJlTW91c2VFdmVudChteEV2ZW50Lk1PVVNFX01PVkUsbmV3IG14TW91c2VFdmVudChiKSl9KSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXt0aGlzLmlzQ29udGFpbmVyRXZlbnQoYikmJmEuZmlyZU1vdXNlRXZlbnQobXhFdmVudC5NT1VTRV9VUCxuZXcgbXhNb3VzZUV2ZW50KGIpKX0pKTtteEV2ZW50LmFkZExpc3RlbmVyKGIsImRibGNsaWNrIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXt0aGlzLmlzQ29udGFpbmVyRXZlbnQoYikmJmEuZGJsQ2xpY2soYil9KSk7CnZhciBjPWZ1bmN0aW9uKGMpe3ZhciBkPW51bGw7bXhDbGllbnQuSVNfVE9VQ0gmJihkPW14RXZlbnQuZ2V0Q2xpZW50WChjKSxjPW14RXZlbnQuZ2V0Q2xpZW50WShjKSxjPW14VXRpbHMuY29udmVydFBvaW50KGIsZCxjKSxkPWEudmlldy5nZXRTdGF0ZShhLmdldENlbGxBdChjLngsYy55KSkpO3JldHVybiBkfTthLmFkZE1vdXNlTGlzdGVuZXIoe21vdXNlRG93bjpmdW5jdGlvbihiLGMpe2EucG9wdXBNZW51SGFuZGxlci5oaWRlTWVudSgpfSxtb3VzZU1vdmU6ZnVuY3Rpb24oKXt9LG1vdXNlVXA6ZnVuY3Rpb24oKXt9fSk7dGhpcy5tb3ZlSGFuZGxlcj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXtudWxsIT1hLnRvb2x0aXBIYW5kbGVyJiZhLnRvb2x0aXBIYW5kbGVyLmlzSGlkZU9uSG92ZXIoKSYmYS50b29sdGlwSGFuZGxlci5oaWRlKCk7dGhpcy5jYXB0dXJlRG9jdW1lbnRHZXN0dXJlJiZhLmlzTW91c2VEb3duJiZudWxsIT1hLmNvbnRhaW5lciYmIXRoaXMuaXNDb250YWluZXJFdmVudChiKSYmCiJub25lIiE9YS5jb250YWluZXIuc3R5bGUuZGlzcGxheSYmImhpZGRlbiIhPWEuY29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkmJiFteEV2ZW50LmlzQ29uc3VtZWQoYikmJmEuZmlyZU1vdXNlRXZlbnQobXhFdmVudC5NT1VTRV9NT1ZFLG5ldyBteE1vdXNlRXZlbnQoYixjKGIpKSl9KTt0aGlzLmVuZEhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7dGhpcy5jYXB0dXJlRG9jdW1lbnRHZXN0dXJlJiZhLmlzTW91c2VEb3duJiZudWxsIT1hLmNvbnRhaW5lciYmIXRoaXMuaXNDb250YWluZXJFdmVudChiKSYmIm5vbmUiIT1hLmNvbnRhaW5lci5zdHlsZS5kaXNwbGF5JiYiaGlkZGVuIiE9YS5jb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSYmYS5maXJlTW91c2VFdmVudChteEV2ZW50Lk1PVVNFX1VQLG5ldyBteE1vdXNlRXZlbnQoYikpfSk7bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKGRvY3VtZW50LG51bGwsdGhpcy5tb3ZlSGFuZGxlcix0aGlzLmVuZEhhbmRsZXIpfX07Cm14R3JhcGhWaWV3LnByb3RvdHlwZS5jcmVhdGVIdG1sPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5ncmFwaC5jb250YWluZXI7bnVsbCE9YSYmKHRoaXMuY2FudmFzPXRoaXMuY3JlYXRlSHRtbFBhbmUoIjEwMCUiLCIxMDAlIiksdGhpcy5jYW52YXMuc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiIsdGhpcy5iYWNrZ3JvdW5kUGFuZT10aGlzLmNyZWF0ZUh0bWxQYW5lKCIxcHgiLCIxcHgiKSx0aGlzLmRyYXdQYW5lPXRoaXMuY3JlYXRlSHRtbFBhbmUoIjFweCIsIjFweCIpLHRoaXMub3ZlcmxheVBhbmU9dGhpcy5jcmVhdGVIdG1sUGFuZSgiMXB4IiwiMXB4IiksdGhpcy5kZWNvcmF0b3JQYW5lPXRoaXMuY3JlYXRlSHRtbFBhbmUoIjFweCIsIjFweCIpLHRoaXMuY2FudmFzLmFwcGVuZENoaWxkKHRoaXMuYmFja2dyb3VuZFBhbmUpLHRoaXMuY2FudmFzLmFwcGVuZENoaWxkKHRoaXMuZHJhd1BhbmUpLHRoaXMuY2FudmFzLmFwcGVuZENoaWxkKHRoaXMub3ZlcmxheVBhbmUpLHRoaXMuY2FudmFzLmFwcGVuZENoaWxkKHRoaXMuZGVjb3JhdG9yUGFuZSksCmEuYXBwZW5kQ2hpbGQodGhpcy5jYW52YXMpLHRoaXMudXBkYXRlQ29udGFpbmVyU3R5bGUoYSksbXhDbGllbnQuSVNfUVVJUktTJiYoYT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXthPXRoaXMuZ2V0R3JhcGhCb3VuZHMoKTt0aGlzLnVwZGF0ZUh0bWxDYW52YXNTaXplKGEueCthLndpZHRoK3RoaXMuZ3JhcGguYm9yZGVyLGEueSthLmhlaWdodCt0aGlzLmdyYXBoLmJvcmRlcil9KSxteEV2ZW50LmFkZExpc3RlbmVyKHdpbmRvdywicmVzaXplIixhKSkpfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLnVwZGF0ZUh0bWxDYW52YXNTaXplPWZ1bmN0aW9uKGEsYil7aWYobnVsbCE9dGhpcy5ncmFwaC5jb250YWluZXIpe3ZhciBjPXRoaXMuZ3JhcGguY29udGFpbmVyLm9mZnNldEhlaWdodDt0aGlzLmNhbnZhcy5zdHlsZS53aWR0aD10aGlzLmdyYXBoLmNvbnRhaW5lci5vZmZzZXRXaWR0aDxhP2ErInB4IjoiMTAwJSI7dGhpcy5jYW52YXMuc3R5bGUuaGVpZ2h0PWM8Yj9iKyJweCI6IjEwMCUifX07bXhHcmFwaFZpZXcucHJvdG90eXBlLmNyZWF0ZUh0bWxQYW5lPWZ1bmN0aW9uKGEsYil7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiRElWIik7bnVsbCE9YSYmbnVsbCE9Yj8oYy5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiLGMuc3R5bGUubGVmdD0iMHB4IixjLnN0eWxlLnRvcD0iMHB4IixjLnN0eWxlLndpZHRoPWEsYy5zdHlsZS5oZWlnaHQ9Yik6Yy5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiO3JldHVybiBjfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLmNyZWF0ZVZtbD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ3JhcGguY29udGFpbmVyO2lmKG51bGwhPWEpe3ZhciBiPWEub2Zmc2V0V2lkdGgsYz1hLm9mZnNldEhlaWdodDt0aGlzLmNhbnZhcz10aGlzLmNyZWF0ZVZtbFBhbmUoYixjKTt0aGlzLmNhbnZhcy5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIjt0aGlzLmJhY2tncm91bmRQYW5lPXRoaXMuY3JlYXRlVm1sUGFuZShiLGMpO3RoaXMuZHJhd1BhbmU9dGhpcy5jcmVhdGVWbWxQYW5lKGIsYyk7dGhpcy5vdmVybGF5UGFuZT10aGlzLmNyZWF0ZVZtbFBhbmUoYixjKTt0aGlzLmRlY29yYXRvclBhbmU9dGhpcy5jcmVhdGVWbWxQYW5lKGIsYyk7dGhpcy5jYW52YXMuYXBwZW5kQ2hpbGQodGhpcy5iYWNrZ3JvdW5kUGFuZSk7dGhpcy5jYW52YXMuYXBwZW5kQ2hpbGQodGhpcy5kcmF3UGFuZSk7dGhpcy5jYW52YXMuYXBwZW5kQ2hpbGQodGhpcy5vdmVybGF5UGFuZSk7dGhpcy5jYW52YXMuYXBwZW5kQ2hpbGQodGhpcy5kZWNvcmF0b3JQYW5lKTsKYS5hcHBlbmRDaGlsZCh0aGlzLmNhbnZhcyl9fTtteEdyYXBoVmlldy5wcm90b3R5cGUuY3JlYXRlVm1sUGFuZT1mdW5jdGlvbihhLGIpe3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobXhDbGllbnQuVk1MX1BSRUZJWCsiOmdyb3VwIik7Yy5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiO2Muc3R5bGUubGVmdD0iMHB4IjtjLnN0eWxlLnRvcD0iMHB4IjtjLnN0eWxlLndpZHRoPWErInB4IjtjLnN0eWxlLmhlaWdodD1iKyJweCI7Yy5zZXRBdHRyaWJ1dGUoImNvb3Jkc2l6ZSIsYSsiLCIrYik7Yy5zZXRBdHRyaWJ1dGUoImNvb3Jkb3JpZ2luIiwiMCwwIik7cmV0dXJuIGN9OwpteEdyYXBoVmlldy5wcm90b3R5cGUuY3JlYXRlU3ZnPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5ncmFwaC5jb250YWluZXI7dGhpcy5jYW52YXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG14Q29uc3RhbnRzLk5TX1NWRywiZyIpO3RoaXMuYmFja2dyb3VuZFBhbmU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG14Q29uc3RhbnRzLk5TX1NWRywiZyIpO3RoaXMuY2FudmFzLmFwcGVuZENoaWxkKHRoaXMuYmFja2dyb3VuZFBhbmUpO3RoaXMuZHJhd1BhbmU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG14Q29uc3RhbnRzLk5TX1NWRywiZyIpO3RoaXMuY2FudmFzLmFwcGVuZENoaWxkKHRoaXMuZHJhd1BhbmUpO3RoaXMub3ZlcmxheVBhbmU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG14Q29uc3RhbnRzLk5TX1NWRywiZyIpO3RoaXMuY2FudmFzLmFwcGVuZENoaWxkKHRoaXMub3ZlcmxheVBhbmUpO3RoaXMuZGVjb3JhdG9yUGFuZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobXhDb25zdGFudHMuTlNfU1ZHLAoiZyIpO3RoaXMuY2FudmFzLmFwcGVuZENoaWxkKHRoaXMuZGVjb3JhdG9yUGFuZSk7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG14Q29uc3RhbnRzLk5TX1NWRywic3ZnIik7Yi5zdHlsZS5sZWZ0PSIwcHgiO2Iuc3R5bGUudG9wPSIwcHgiO2Iuc3R5bGUud2lkdGg9IjEwMCUiO2Iuc3R5bGUuaGVpZ2h0PSIxMDAlIjtiLnN0eWxlLmRpc3BsYXk9ImJsb2NrIjtiLmFwcGVuZENoaWxkKHRoaXMuY2FudmFzKTtpZihteENsaWVudC5JU19JRXx8bXhDbGllbnQuSVNfSUUxMSliLnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iO251bGwhPWEmJihhLmFwcGVuZENoaWxkKGIpLHRoaXMudXBkYXRlQ29udGFpbmVyU3R5bGUoYSkpfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLnVwZGF0ZUNvbnRhaW5lclN0eWxlPWZ1bmN0aW9uKGEpe3ZhciBiPW14VXRpbHMuZ2V0Q3VycmVudFN0eWxlKGEpO251bGwhPWImJiJzdGF0aWMiPT1iLnBvc2l0aW9uJiYoYS5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiKTtteENsaWVudC5JU19QT0lOVEVSJiYoYS5zdHlsZS50b3VjaEFjdGlvbj0ibm9uZSIpfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt2YXIgYT1udWxsIT10aGlzLmNhbnZhcz90aGlzLmNhbnZhcy5vd25lclNWR0VsZW1lbnQ6bnVsbDtudWxsPT1hJiYoYT10aGlzLmNhbnZhcyk7bnVsbCE9YSYmbnVsbCE9YS5wYXJlbnROb2RlJiYodGhpcy5jbGVhcih0aGlzLmN1cnJlbnRSb290LCEwKSxteEV2ZW50LnJlbW92ZUdlc3R1cmVMaXN0ZW5lcnMoZG9jdW1lbnQsbnVsbCx0aGlzLm1vdmVIYW5kbGVyLHRoaXMuZW5kSGFuZGxlciksbXhFdmVudC5yZWxlYXNlKHRoaXMuZ3JhcGguY29udGFpbmVyKSxhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSksdGhpcy5kZWNvcmF0b3JQYW5lPXRoaXMub3ZlcmxheVBhbmU9dGhpcy5kcmF3UGFuZT10aGlzLmJhY2tncm91bmRQYW5lPXRoaXMuY2FudmFzPXRoaXMuZW5kSGFuZGxlcj10aGlzLm1vdmVIYW5kbGVyPW51bGwpfTsKZnVuY3Rpb24gbXhDdXJyZW50Um9vdENoYW5nZShhLGIpe3RoaXMudmlldz1hO3RoaXMucHJldmlvdXM9dGhpcy5yb290PWI7dGhpcy5pc1VwPW51bGw9PWI7aWYoIXRoaXMuaXNVcClmb3IodmFyIGM9dGhpcy52aWV3LmN1cnJlbnRSb290LGQ9dGhpcy52aWV3LmdyYXBoLmdldE1vZGVsKCk7bnVsbCE9Yzspe2lmKGM9PWIpe3RoaXMuaXNVcD0hMDticmVha31jPWQuZ2V0UGFyZW50KGMpfX0KbXhDdXJyZW50Um9vdENoYW5nZS5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMudmlldy5jdXJyZW50Um9vdDt0aGlzLnZpZXcuY3VycmVudFJvb3Q9dGhpcy5wcmV2aW91czt0aGlzLnByZXZpb3VzPWE7YT10aGlzLnZpZXcuZ3JhcGguZ2V0VHJhbnNsYXRlRm9yUm9vdCh0aGlzLnZpZXcuY3VycmVudFJvb3QpO251bGwhPWEmJih0aGlzLnZpZXcudHJhbnNsYXRlPW5ldyBteFBvaW50KC1hLngsLWEueSkpO3RoaXMuaXNVcD8odGhpcy52aWV3LmNsZWFyKHRoaXMudmlldy5jdXJyZW50Um9vdCwhMCksdGhpcy52aWV3LnZhbGlkYXRlKCkpOnRoaXMudmlldy5yZWZyZXNoKCk7dGhpcy52aWV3LmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCh0aGlzLmlzVXA/bXhFdmVudC5VUDpteEV2ZW50LkRPV04sInJvb3QiLHRoaXMudmlldy5jdXJyZW50Um9vdCwicHJldmlvdXMiLHRoaXMucHJldmlvdXMpKTt0aGlzLmlzVXA9IXRoaXMuaXNVcH07CmZ1bmN0aW9uIG14R3JhcGgoYSxiLGMsZCl7dGhpcy5tb3VzZUxpc3RlbmVycz1udWxsO3RoaXMucmVuZGVySGludD1jO3RoaXMuZGlhbGVjdD1teENsaWVudC5JU19TVkc/bXhDb25zdGFudHMuRElBTEVDVF9TVkc6Yz09bXhDb25zdGFudHMuUkVOREVSSU5HX0hJTlRfRVhBQ1QmJm14Q2xpZW50LklTX1ZNTD9teENvbnN0YW50cy5ESUFMRUNUX1ZNTDpjPT1teENvbnN0YW50cy5SRU5ERVJJTkdfSElOVF9GQVNURVNUP214Q29uc3RhbnRzLkRJQUxFQ1RfU1RSSUNUSFRNTDpjPT1teENvbnN0YW50cy5SRU5ERVJJTkdfSElOVF9GQVNURVI/bXhDb25zdGFudHMuRElBTEVDVF9QUkVGRVJIVE1MOm14Q29uc3RhbnRzLkRJQUxFQ1RfTUlYRURIVE1MO3RoaXMubW9kZWw9bnVsbCE9Yj9iOm5ldyBteEdyYXBoTW9kZWw7dGhpcy5tdWx0aXBsaWNpdGllcz1bXTt0aGlzLmltYWdlQnVuZGxlcz1bXTt0aGlzLmNlbGxSZW5kZXJlcj10aGlzLmNyZWF0ZUNlbGxSZW5kZXJlcigpO3RoaXMuc2V0U2VsZWN0aW9uTW9kZWwodGhpcy5jcmVhdGVTZWxlY3Rpb25Nb2RlbCgpKTsKdGhpcy5zZXRTdHlsZXNoZWV0KG51bGwhPWQ/ZDp0aGlzLmNyZWF0ZVN0eWxlc2hlZXQoKSk7dGhpcy52aWV3PXRoaXMuY3JlYXRlR3JhcGhWaWV3KCk7dGhpcy5ncmFwaE1vZGVsQ2hhbmdlTGlzdGVuZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxiKXt0aGlzLmdyYXBoTW9kZWxDaGFuZ2VkKGIuZ2V0UHJvcGVydHkoImVkaXQiKS5jaGFuZ2VzKX0pO3RoaXMubW9kZWwuYWRkTGlzdGVuZXIobXhFdmVudC5DSEFOR0UsdGhpcy5ncmFwaE1vZGVsQ2hhbmdlTGlzdGVuZXIpO3RoaXMuY3JlYXRlSGFuZGxlcnMoKTtudWxsIT1hJiZ0aGlzLmluaXQoYSk7dGhpcy52aWV3LnJldmFsaWRhdGUoKX1teExvYWRSZXNvdXJjZXM/bXhSZXNvdXJjZXMuYWRkKG14Q2xpZW50LmJhc2VQYXRoKyIvcmVzb3VyY2VzL2dyYXBoIik6bXhDbGllbnQuZGVmYXVsdEJ1bmRsZXMucHVzaChteENsaWVudC5iYXNlUGF0aCsiL3Jlc291cmNlcy9ncmFwaCIpO214R3JhcGgucHJvdG90eXBlPW5ldyBteEV2ZW50U291cmNlOwpteEdyYXBoLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1teEdyYXBoO214R3JhcGgucHJvdG90eXBlLm1vdXNlTGlzdGVuZXJzPW51bGw7bXhHcmFwaC5wcm90b3R5cGUuaXNNb3VzZURvd249ITE7bXhHcmFwaC5wcm90b3R5cGUubW9kZWw9bnVsbDtteEdyYXBoLnByb3RvdHlwZS52aWV3PW51bGw7bXhHcmFwaC5wcm90b3R5cGUuc3R5bGVzaGVldD1udWxsO214R3JhcGgucHJvdG90eXBlLnNlbGVjdGlvbk1vZGVsPW51bGw7bXhHcmFwaC5wcm90b3R5cGUuY2VsbEVkaXRvcj1udWxsO214R3JhcGgucHJvdG90eXBlLmNlbGxSZW5kZXJlcj1udWxsO214R3JhcGgucHJvdG90eXBlLm11bHRpcGxpY2l0aWVzPW51bGw7bXhHcmFwaC5wcm90b3R5cGUucmVuZGVySGludD1udWxsO214R3JhcGgucHJvdG90eXBlLmRpYWxlY3Q9bnVsbDtteEdyYXBoLnByb3RvdHlwZS5ncmlkU2l6ZT0xMDtteEdyYXBoLnByb3RvdHlwZS5ncmlkRW5hYmxlZD0hMDsKbXhHcmFwaC5wcm90b3R5cGUucG9ydHNFbmFibGVkPSEwO214R3JhcGgucHJvdG90eXBlLm5hdGl2ZURibENsaWNrRW5hYmxlZD0hMDtteEdyYXBoLnByb3RvdHlwZS5kb3VibGVUYXBFbmFibGVkPSEwO214R3JhcGgucHJvdG90eXBlLmRvdWJsZVRhcFRpbWVvdXQ9NTAwO214R3JhcGgucHJvdG90eXBlLmRvdWJsZVRhcFRvbGVyYW5jZT0yNTtteEdyYXBoLnByb3RvdHlwZS5sYXN0VG91Y2hZPTA7bXhHcmFwaC5wcm90b3R5cGUubGFzdFRvdWNoWT0wO214R3JhcGgucHJvdG90eXBlLmxhc3RUb3VjaFRpbWU9MDtteEdyYXBoLnByb3RvdHlwZS50YXBBbmRIb2xkRW5hYmxlZD0hMDtteEdyYXBoLnByb3RvdHlwZS50YXBBbmRIb2xkRGVsYXk9NTAwO214R3JhcGgucHJvdG90eXBlLnRhcEFuZEhvbGRJblByb2dyZXNzPSExO214R3JhcGgucHJvdG90eXBlLnRhcEFuZEhvbGRWYWxpZD0hMTtteEdyYXBoLnByb3RvdHlwZS5pbml0aWFsVG91Y2hYPTA7Cm14R3JhcGgucHJvdG90eXBlLmluaXRpYWxUb3VjaFk9MDtteEdyYXBoLnByb3RvdHlwZS50b2xlcmFuY2U9NDtteEdyYXBoLnByb3RvdHlwZS5kZWZhdWx0T3ZlcmxhcD0uNTtteEdyYXBoLnByb3RvdHlwZS5kZWZhdWx0UGFyZW50PW51bGw7bXhHcmFwaC5wcm90b3R5cGUuYWx0ZXJuYXRlRWRnZVN0eWxlPW51bGw7bXhHcmFwaC5wcm90b3R5cGUuYmFja2dyb3VuZEltYWdlPW51bGw7bXhHcmFwaC5wcm90b3R5cGUucGFnZVZpc2libGU9ITE7bXhHcmFwaC5wcm90b3R5cGUucGFnZUJyZWFrc1Zpc2libGU9ITE7bXhHcmFwaC5wcm90b3R5cGUucGFnZUJyZWFrQ29sb3I9ImdyYXkiO214R3JhcGgucHJvdG90eXBlLnBhZ2VCcmVha0Rhc2hlZD0hMDtteEdyYXBoLnByb3RvdHlwZS5taW5QYWdlQnJlYWtEaXN0PTIwO214R3JhcGgucHJvdG90eXBlLnByZWZlclBhZ2VTaXplPSExO214R3JhcGgucHJvdG90eXBlLnBhZ2VGb3JtYXQ9bXhDb25zdGFudHMuUEFHRV9GT1JNQVRfQTRfUE9SVFJBSVQ7Cm14R3JhcGgucHJvdG90eXBlLnBhZ2VTY2FsZT0xLjU7bXhHcmFwaC5wcm90b3R5cGUuZW5hYmxlZD0hMDtteEdyYXBoLnByb3RvdHlwZS5lc2NhcGVFbmFibGVkPSEwO214R3JhcGgucHJvdG90eXBlLmludm9rZXNTdG9wQ2VsbEVkaXRpbmc9ITA7bXhHcmFwaC5wcm90b3R5cGUuZW50ZXJTdG9wc0NlbGxFZGl0aW5nPSExO214R3JhcGgucHJvdG90eXBlLnVzZVNjcm9sbGJhcnNGb3JQYW5uaW5nPSEwO214R3JhcGgucHJvdG90eXBlLmV4cG9ydEVuYWJsZWQ9ITA7bXhHcmFwaC5wcm90b3R5cGUuaW1wb3J0RW5hYmxlZD0hMDtteEdyYXBoLnByb3RvdHlwZS5jZWxsc0xvY2tlZD0hMTtteEdyYXBoLnByb3RvdHlwZS5jZWxsc0Nsb25lYWJsZT0hMDtteEdyYXBoLnByb3RvdHlwZS5mb2xkaW5nRW5hYmxlZD0hMDtteEdyYXBoLnByb3RvdHlwZS5jZWxsc0VkaXRhYmxlPSEwO214R3JhcGgucHJvdG90eXBlLmNlbGxzRGVsZXRhYmxlPSEwOwpteEdyYXBoLnByb3RvdHlwZS5jZWxsc01vdmFibGU9ITA7bXhHcmFwaC5wcm90b3R5cGUuZWRnZUxhYmVsc01vdmFibGU9ITA7bXhHcmFwaC5wcm90b3R5cGUudmVydGV4TGFiZWxzTW92YWJsZT0hMTtteEdyYXBoLnByb3RvdHlwZS5kcm9wRW5hYmxlZD0hMTtteEdyYXBoLnByb3RvdHlwZS5zcGxpdEVuYWJsZWQ9ITA7bXhHcmFwaC5wcm90b3R5cGUuY2VsbHNSZXNpemFibGU9ITA7bXhHcmFwaC5wcm90b3R5cGUuY2VsbHNCZW5kYWJsZT0hMDtteEdyYXBoLnByb3RvdHlwZS5jZWxsc1NlbGVjdGFibGU9ITA7bXhHcmFwaC5wcm90b3R5cGUuY2VsbHNEaXNjb25uZWN0YWJsZT0hMDtteEdyYXBoLnByb3RvdHlwZS5hdXRvU2l6ZUNlbGxzPSExO214R3JhcGgucHJvdG90eXBlLmF1dG9TaXplQ2VsbHNPbkFkZD0hMTtteEdyYXBoLnByb3RvdHlwZS5hdXRvU2Nyb2xsPSEwO214R3JhcGgucHJvdG90eXBlLmlnbm9yZVNjcm9sbGJhcnM9ITE7Cm14R3JhcGgucHJvdG90eXBlLnRyYW5zbGF0ZVRvU2Nyb2xsUG9zaXRpb249ITE7bXhHcmFwaC5wcm90b3R5cGUudGltZXJBdXRvU2Nyb2xsPSExO214R3JhcGgucHJvdG90eXBlLmFsbG93QXV0b1Bhbm5pbmc9ITE7bXhHcmFwaC5wcm90b3R5cGUuYXV0b0V4dGVuZD0hMDtteEdyYXBoLnByb3RvdHlwZS5tYXhpbXVtR3JhcGhCb3VuZHM9bnVsbDtteEdyYXBoLnByb3RvdHlwZS5taW5pbXVtR3JhcGhTaXplPW51bGw7bXhHcmFwaC5wcm90b3R5cGUubWluaW11bUNvbnRhaW5lclNpemU9bnVsbDtteEdyYXBoLnByb3RvdHlwZS5tYXhpbXVtQ29udGFpbmVyU2l6ZT1udWxsO214R3JhcGgucHJvdG90eXBlLnJlc2l6ZUNvbnRhaW5lcj0hMTtteEdyYXBoLnByb3RvdHlwZS5ib3JkZXI9MDtteEdyYXBoLnByb3RvdHlwZS5rZWVwRWRnZXNJbkZvcmVncm91bmQ9ITE7bXhHcmFwaC5wcm90b3R5cGUua2VlcEVkZ2VzSW5CYWNrZ3JvdW5kPSExOwpteEdyYXBoLnByb3RvdHlwZS5hbGxvd05lZ2F0aXZlQ29vcmRpbmF0ZXM9ITA7bXhHcmFwaC5wcm90b3R5cGUuY29uc3RyYWluQ2hpbGRyZW49ITA7bXhHcmFwaC5wcm90b3R5cGUuY29uc3RyYWluUmVsYXRpdmVDaGlsZHJlbj0hMTtteEdyYXBoLnByb3RvdHlwZS5leHRlbmRQYXJlbnRzPSEwO214R3JhcGgucHJvdG90eXBlLmV4dGVuZFBhcmVudHNPbkFkZD0hMDtteEdyYXBoLnByb3RvdHlwZS5leHRlbmRQYXJlbnRzT25Nb3ZlPSExO214R3JhcGgucHJvdG90eXBlLnJlY3Vyc2l2ZVJlc2l6ZT0hMTtteEdyYXBoLnByb3RvdHlwZS5jb2xsYXBzZVRvUHJlZmVycmVkU2l6ZT0hMDtteEdyYXBoLnByb3RvdHlwZS56b29tRmFjdG9yPTEuMjtteEdyYXBoLnByb3RvdHlwZS5rZWVwU2VsZWN0aW9uVmlzaWJsZU9uWm9vbT0hMTtteEdyYXBoLnByb3RvdHlwZS5jZW50ZXJab29tPSEwO214R3JhcGgucHJvdG90eXBlLnJlc2V0Vmlld09uUm9vdENoYW5nZT0hMDsKbXhHcmFwaC5wcm90b3R5cGUucmVzZXRFZGdlc09uUmVzaXplPSExO214R3JhcGgucHJvdG90eXBlLnJlc2V0RWRnZXNPbk1vdmU9ITE7bXhHcmFwaC5wcm90b3R5cGUucmVzZXRFZGdlc09uQ29ubmVjdD0hMDtteEdyYXBoLnByb3RvdHlwZS5hbGxvd0xvb3BzPSExO214R3JhcGgucHJvdG90eXBlLmRlZmF1bHRMb29wU3R5bGU9bXhFZGdlU3R5bGUuTG9vcDtteEdyYXBoLnByb3RvdHlwZS5tdWx0aWdyYXBoPSEwO214R3JhcGgucHJvdG90eXBlLmNvbm5lY3RhYmxlRWRnZXM9ITE7bXhHcmFwaC5wcm90b3R5cGUuYWxsb3dEYW5nbGluZ0VkZ2VzPSEwO214R3JhcGgucHJvdG90eXBlLmNsb25lSW52YWxpZEVkZ2VzPSExO214R3JhcGgucHJvdG90eXBlLmRpc2Nvbm5lY3RPbk1vdmU9ITA7bXhHcmFwaC5wcm90b3R5cGUubGFiZWxzVmlzaWJsZT0hMDtteEdyYXBoLnByb3RvdHlwZS5odG1sTGFiZWxzPSExO214R3JhcGgucHJvdG90eXBlLnN3aW1sYW5lU2VsZWN0aW9uRW5hYmxlZD0hMDsKbXhHcmFwaC5wcm90b3R5cGUuc3dpbWxhbmVOZXN0aW5nPSEwO214R3JhcGgucHJvdG90eXBlLnN3aW1sYW5lSW5kaWNhdG9yQ29sb3JBdHRyaWJ1dGU9bXhDb25zdGFudHMuU1RZTEVfRklMTENPTE9SO214R3JhcGgucHJvdG90eXBlLmltYWdlQnVuZGxlcz1udWxsO214R3JhcGgucHJvdG90eXBlLm1pbkZpdFNjYWxlPS4xO214R3JhcGgucHJvdG90eXBlLm1heEZpdFNjYWxlPTg7bXhHcmFwaC5wcm90b3R5cGUucGFuRHg9MDtteEdyYXBoLnByb3RvdHlwZS5wYW5EeT0wO214R3JhcGgucHJvdG90eXBlLmNvbGxhcHNlZEltYWdlPW5ldyBteEltYWdlKG14Q2xpZW50LmltYWdlQmFzZVBhdGgrIi9jb2xsYXBzZWQuZ2lmIiw5LDkpO214R3JhcGgucHJvdG90eXBlLmV4cGFuZGVkSW1hZ2U9bmV3IG14SW1hZ2UobXhDbGllbnQuaW1hZ2VCYXNlUGF0aCsiL2V4cGFuZGVkLmdpZiIsOSw5KTsKbXhHcmFwaC5wcm90b3R5cGUud2FybmluZ0ltYWdlPW5ldyBteEltYWdlKG14Q2xpZW50LmltYWdlQmFzZVBhdGgrIi93YXJuaW5nIisobXhDbGllbnQuSVNfTUFDPyIucG5nIjoiLmdpZiIpLDE2LDE2KTtteEdyYXBoLnByb3RvdHlwZS5hbHJlYWR5Q29ubmVjdGVkUmVzb3VyY2U9Im5vbmUiIT1teENsaWVudC5sYW5ndWFnZT8iYWxyZWFkeUNvbm5lY3RlZCI6IiI7bXhHcmFwaC5wcm90b3R5cGUuY29udGFpbnNWYWxpZGF0aW9uRXJyb3JzUmVzb3VyY2U9Im5vbmUiIT1teENsaWVudC5sYW5ndWFnZT8iY29udGFpbnNWYWxpZGF0aW9uRXJyb3JzIjoiIjtteEdyYXBoLnByb3RvdHlwZS5jb2xsYXBzZUV4cGFuZFJlc291cmNlPSJub25lIiE9bXhDbGllbnQubGFuZ3VhZ2U/ImNvbGxhcHNlLWV4cGFuZCI6IiI7Cm14R3JhcGgucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oYSl7dGhpcy5jb250YWluZXI9YTt0aGlzLmNlbGxFZGl0b3I9dGhpcy5jcmVhdGVDZWxsRWRpdG9yKCk7dGhpcy52aWV3LmluaXQoKTt0aGlzLnNpemVEaWRDaGFuZ2UoKTtteEV2ZW50LmFkZExpc3RlbmVyKGEsIm1vdXNlbGVhdmUiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7bnVsbCE9dGhpcy50b29sdGlwSGFuZGxlciYmdGhpcy50b29sdGlwSGFuZGxlci5oaWRlKCl9KSk7bXhDbGllbnQuSVNfSUUmJihteEV2ZW50LmFkZExpc3RlbmVyKHdpbmRvdywidW5sb2FkIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuZGVzdHJveSgpfSkpLG14RXZlbnQuYWRkTGlzdGVuZXIoYSwic2VsZWN0c3RhcnQiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzRWRpdGluZygpfHwhdGhpcy5pc01vdXNlRG93biYmIW14RXZlbnQuaXNTaGlmdERvd24oYSl9KSkpOzg9PWRvY3VtZW50LmRvY3VtZW50TW9kZSYmCmEuaW5zZXJ0QWRqYWNlbnRIVE1MKCJiZWZvcmVlbmQiLCI8IitteENsaWVudC5WTUxfUFJFRklYKyc6Z3JvdXAgc3R5bGU9IkRJU1BMQVk6IG5vbmU7Ij48LycrbXhDbGllbnQuVk1MX1BSRUZJWCsiOmdyb3VwPiIpfTsKbXhHcmFwaC5wcm90b3R5cGUuY3JlYXRlSGFuZGxlcnM9ZnVuY3Rpb24oKXt0aGlzLnRvb2x0aXBIYW5kbGVyPXRoaXMuY3JlYXRlVG9vbHRpcEhhbmRsZXIoKTt0aGlzLnRvb2x0aXBIYW5kbGVyLnNldEVuYWJsZWQoITEpO3RoaXMuc2VsZWN0aW9uQ2VsbHNIYW5kbGVyPXRoaXMuY3JlYXRlU2VsZWN0aW9uQ2VsbHNIYW5kbGVyKCk7dGhpcy5jb25uZWN0aW9uSGFuZGxlcj10aGlzLmNyZWF0ZUNvbm5lY3Rpb25IYW5kbGVyKCk7dGhpcy5jb25uZWN0aW9uSGFuZGxlci5zZXRFbmFibGVkKCExKTt0aGlzLmdyYXBoSGFuZGxlcj10aGlzLmNyZWF0ZUdyYXBoSGFuZGxlcigpO3RoaXMucGFubmluZ0hhbmRsZXI9dGhpcy5jcmVhdGVQYW5uaW5nSGFuZGxlcigpO3RoaXMucGFubmluZ0hhbmRsZXIucGFubmluZ0VuYWJsZWQ9ITE7dGhpcy5wb3B1cE1lbnVIYW5kbGVyPXRoaXMuY3JlYXRlUG9wdXBNZW51SGFuZGxlcigpfTsKbXhHcmFwaC5wcm90b3R5cGUuY3JlYXRlVG9vbHRpcEhhbmRsZXI9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG14VG9vbHRpcEhhbmRsZXIodGhpcyl9O214R3JhcGgucHJvdG90eXBlLmNyZWF0ZVNlbGVjdGlvbkNlbGxzSGFuZGxlcj1mdW5jdGlvbigpe3JldHVybiBuZXcgbXhTZWxlY3Rpb25DZWxsc0hhbmRsZXIodGhpcyl9O214R3JhcGgucHJvdG90eXBlLmNyZWF0ZUNvbm5lY3Rpb25IYW5kbGVyPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBteENvbm5lY3Rpb25IYW5kbGVyKHRoaXMpfTtteEdyYXBoLnByb3RvdHlwZS5jcmVhdGVHcmFwaEhhbmRsZXI9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG14R3JhcGhIYW5kbGVyKHRoaXMpfTtteEdyYXBoLnByb3RvdHlwZS5jcmVhdGVQYW5uaW5nSGFuZGxlcj1mdW5jdGlvbigpe3JldHVybiBuZXcgbXhQYW5uaW5nSGFuZGxlcih0aGlzKX07bXhHcmFwaC5wcm90b3R5cGUuY3JlYXRlUG9wdXBNZW51SGFuZGxlcj1mdW5jdGlvbigpe3JldHVybiBuZXcgbXhQb3B1cE1lbnVIYW5kbGVyKHRoaXMpfTsKbXhHcmFwaC5wcm90b3R5cGUuY3JlYXRlU2VsZWN0aW9uTW9kZWw9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG14R3JhcGhTZWxlY3Rpb25Nb2RlbCh0aGlzKX07bXhHcmFwaC5wcm90b3R5cGUuY3JlYXRlU3R5bGVzaGVldD1mdW5jdGlvbigpe3JldHVybiBuZXcgbXhTdHlsZXNoZWV0fTtteEdyYXBoLnByb3RvdHlwZS5jcmVhdGVHcmFwaFZpZXc9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG14R3JhcGhWaWV3KHRoaXMpfTtteEdyYXBoLnByb3RvdHlwZS5jcmVhdGVDZWxsUmVuZGVyZXI9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG14Q2VsbFJlbmRlcmVyfTtteEdyYXBoLnByb3RvdHlwZS5jcmVhdGVDZWxsRWRpdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBteENlbGxFZGl0b3IodGhpcyl9O214R3JhcGgucHJvdG90eXBlLmdldE1vZGVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubW9kZWx9O214R3JhcGgucHJvdG90eXBlLmdldFZpZXc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aWV3fTsKbXhHcmFwaC5wcm90b3R5cGUuZ2V0U3R5bGVzaGVldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0eWxlc2hlZXR9O214R3JhcGgucHJvdG90eXBlLnNldFN0eWxlc2hlZXQ9ZnVuY3Rpb24oYSl7dGhpcy5zdHlsZXNoZWV0PWF9O214R3JhcGgucHJvdG90eXBlLmdldFNlbGVjdGlvbk1vZGVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0aW9uTW9kZWx9O214R3JhcGgucHJvdG90eXBlLnNldFNlbGVjdGlvbk1vZGVsPWZ1bmN0aW9uKGEpe3RoaXMuc2VsZWN0aW9uTW9kZWw9YX07Cm14R3JhcGgucHJvdG90eXBlLmdldFNlbGVjdGlvbkNlbGxzRm9yQ2hhbmdlcz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1uZXcgbXhEaWN0aW9uYXJ5LGQ9W10sZT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtpZighYy5nZXQoYSkmJnRoaXMubW9kZWwuY29udGFpbnMoYSkpaWYodGhpcy5tb2RlbC5pc0VkZ2UoYSl8fHRoaXMubW9kZWwuaXNWZXJ0ZXgoYSkpYy5wdXQoYSwhMCksZC5wdXNoKGEpO2Vsc2UgZm9yKHZhciBiPXRoaXMubW9kZWwuZ2V0Q2hpbGRDb3VudChhKSxmPTA7ZjxiO2YrKyllKHRoaXMubW9kZWwuZ2V0Q2hpbGRBdChhLGYpKX0pLGY9MDtmPGEubGVuZ3RoO2YrKyl7dmFyIGc9YVtmXTtpZihnLmNvbnN0cnVjdG9yIT1teFJvb3RDaGFuZ2UmJihudWxsPT1ifHwhYihnKSkpe3ZhciBrPW51bGw7ZyBpbnN0YW5jZW9mIG14Q2hpbGRDaGFuZ2U/az1nLmNoaWxkOm51bGwhPWcuY2VsbCYmZy5jZWxsIGluc3RhbmNlb2YgbXhDZWxsJiYoaz1nLmNlbGwpO251bGwhPQprJiZlKGspfX1yZXR1cm4gZH07bXhHcmFwaC5wcm90b3R5cGUuZ3JhcGhNb2RlbENoYW5nZWQ9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspdGhpcy5wcm9jZXNzQ2hhbmdlKGFbYl0pO3RoaXMudXBkYXRlU2VsZWN0aW9uKCk7dGhpcy52aWV3LnZhbGlkYXRlKCk7dGhpcy5zaXplRGlkQ2hhbmdlKCl9OwpteEdyYXBoLnByb3RvdHlwZS51cGRhdGVTZWxlY3Rpb249ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5nZXRTZWxlY3Rpb25DZWxscygpLGI9W10sYz0wO2M8YS5sZW5ndGg7YysrKWlmKHRoaXMubW9kZWwuY29udGFpbnMoYVtjXSkmJnRoaXMuaXNDZWxsVmlzaWJsZShhW2NdKSlmb3IodmFyIGQ9dGhpcy5tb2RlbC5nZXRQYXJlbnQoYVtjXSk7bnVsbCE9ZCYmZCE9dGhpcy52aWV3LmN1cnJlbnRSb290Oyl7aWYodGhpcy5pc0NlbGxDb2xsYXBzZWQoZCl8fCF0aGlzLmlzQ2VsbFZpc2libGUoZCkpe2IucHVzaChhW2NdKTticmVha31kPXRoaXMubW9kZWwuZ2V0UGFyZW50KGQpfWVsc2UgYi5wdXNoKGFbY10pO3RoaXMucmVtb3ZlU2VsZWN0aW9uQ2VsbHMoYil9OwpteEdyYXBoLnByb3RvdHlwZS5wcm9jZXNzQ2hhbmdlPWZ1bmN0aW9uKGEpe2lmKGEgaW5zdGFuY2VvZiBteFJvb3RDaGFuZ2UpdGhpcy5jbGVhclNlbGVjdGlvbigpLHRoaXMuc2V0RGVmYXVsdFBhcmVudChudWxsKSx0aGlzLnJlbW92ZVN0YXRlRm9yQ2VsbChhLnByZXZpb3VzKSx0aGlzLnJlc2V0Vmlld09uUm9vdENoYW5nZSYmKHRoaXMudmlldy5zY2FsZT0xLHRoaXMudmlldy50cmFuc2xhdGUueD0wLHRoaXMudmlldy50cmFuc2xhdGUueT0wKSx0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlJPT1QpKTtlbHNlIGlmKGEgaW5zdGFuY2VvZiBteENoaWxkQ2hhbmdlKXt2YXIgYj10aGlzLm1vZGVsLmdldFBhcmVudChhLmNoaWxkKTt0aGlzLnZpZXcuaW52YWxpZGF0ZShhLmNoaWxkLCEwLCEwKTtpZighdGhpcy5tb2RlbC5jb250YWlucyhiKXx8dGhpcy5pc0NlbGxDb2xsYXBzZWQoYikpdGhpcy52aWV3LmludmFsaWRhdGUoYS5jaGlsZCwhMCwhMCksdGhpcy5yZW1vdmVTdGF0ZUZvckNlbGwoYS5jaGlsZCksCnRoaXMudmlldy5jdXJyZW50Um9vdD09YS5jaGlsZCYmdGhpcy5ob21lKCk7YiE9YS5wcmV2aW91cyYmKG51bGwhPWImJnRoaXMudmlldy5pbnZhbGlkYXRlKGIsITEsITEpLG51bGwhPWEucHJldmlvdXMmJnRoaXMudmlldy5pbnZhbGlkYXRlKGEucHJldmlvdXMsITEsITEpKX1lbHNlIGEgaW5zdGFuY2VvZiBteFRlcm1pbmFsQ2hhbmdlfHxhIGluc3RhbmNlb2YgbXhHZW9tZXRyeUNoYW5nZT8oYSBpbnN0YW5jZW9mIG14VGVybWluYWxDaGFuZ2V8fG51bGw9PWEucHJldmlvdXMmJm51bGwhPWEuZ2VvbWV0cnl8fG51bGwhPWEucHJldmlvdXMmJiFhLnByZXZpb3VzLmVxdWFscyhhLmdlb21ldHJ5KSkmJnRoaXMudmlldy5pbnZhbGlkYXRlKGEuY2VsbCk6YSBpbnN0YW5jZW9mIG14VmFsdWVDaGFuZ2U/dGhpcy52aWV3LmludmFsaWRhdGUoYS5jZWxsLCExLCExKTphIGluc3RhbmNlb2YgbXhTdHlsZUNoYW5nZT8odGhpcy52aWV3LmludmFsaWRhdGUoYS5jZWxsLCEwLCEwKSxhPXRoaXMudmlldy5nZXRTdGF0ZShhLmNlbGwpLApudWxsIT1hJiYoYS5pbnZhbGlkU3R5bGU9ITApKTpudWxsIT1hLmNlbGwmJmEuY2VsbCBpbnN0YW5jZW9mIG14Q2VsbCYmdGhpcy5yZW1vdmVTdGF0ZUZvckNlbGwoYS5jZWxsKX07bXhHcmFwaC5wcm90b3R5cGUucmVtb3ZlU3RhdGVGb3JDZWxsPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLm1vZGVsLmdldENoaWxkQ291bnQoYSksYz0wO2M8YjtjKyspdGhpcy5yZW1vdmVTdGF0ZUZvckNlbGwodGhpcy5tb2RlbC5nZXRDaGlsZEF0KGEsYykpO3RoaXMudmlldy5pbnZhbGlkYXRlKGEsITEsITApO3RoaXMudmlldy5yZW1vdmVTdGF0ZShhKX07Cm14R3JhcGgucHJvdG90eXBlLmFkZENlbGxPdmVybGF5PWZ1bmN0aW9uKGEsYil7bnVsbD09YS5vdmVybGF5cyYmKGEub3ZlcmxheXM9W10pO2Eub3ZlcmxheXMucHVzaChiKTt2YXIgYz10aGlzLnZpZXcuZ2V0U3RhdGUoYSk7bnVsbCE9YyYmdGhpcy5jZWxsUmVuZGVyZXIucmVkcmF3KGMpO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuQUREX09WRVJMQVksImNlbGwiLGEsIm92ZXJsYXkiLGIpKTtyZXR1cm4gYn07bXhHcmFwaC5wcm90b3R5cGUuZ2V0Q2VsbE92ZXJsYXlzPWZ1bmN0aW9uKGEpe3JldHVybiBhLm92ZXJsYXlzfTsKbXhHcmFwaC5wcm90b3R5cGUucmVtb3ZlQ2VsbE92ZXJsYXk9ZnVuY3Rpb24oYSxiKXtpZihudWxsPT1iKXRoaXMucmVtb3ZlQ2VsbE92ZXJsYXlzKGEpO2Vsc2V7dmFyIGM9bXhVdGlscy5pbmRleE9mKGEub3ZlcmxheXMsYik7MDw9Yz8oYS5vdmVybGF5cy5zcGxpY2UoYywxKSwwPT1hLm92ZXJsYXlzLmxlbmd0aCYmKGEub3ZlcmxheXM9bnVsbCksYz10aGlzLnZpZXcuZ2V0U3RhdGUoYSksbnVsbCE9YyYmdGhpcy5jZWxsUmVuZGVyZXIucmVkcmF3KGMpLHRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuUkVNT1ZFX09WRVJMQVksImNlbGwiLGEsIm92ZXJsYXkiLGIpKSk6Yj1udWxsfXJldHVybiBifTsKbXhHcmFwaC5wcm90b3R5cGUucmVtb3ZlQ2VsbE92ZXJsYXlzPWZ1bmN0aW9uKGEpe3ZhciBiPWEub3ZlcmxheXM7aWYobnVsbCE9Yil7YS5vdmVybGF5cz1udWxsO3ZhciBjPXRoaXMudmlldy5nZXRTdGF0ZShhKTtudWxsIT1jJiZ0aGlzLmNlbGxSZW5kZXJlci5yZWRyYXcoYyk7Zm9yKGM9MDtjPGIubGVuZ3RoO2MrKyl0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlJFTU9WRV9PVkVSTEFZLCJjZWxsIixhLCJvdmVybGF5IixiW2NdKSl9cmV0dXJuIGJ9O214R3JhcGgucHJvdG90eXBlLmNsZWFyQ2VsbE92ZXJsYXlzPWZ1bmN0aW9uKGEpe2E9bnVsbCE9YT9hOnRoaXMubW9kZWwuZ2V0Um9vdCgpO3RoaXMucmVtb3ZlQ2VsbE92ZXJsYXlzKGEpO2Zvcih2YXIgYj10aGlzLm1vZGVsLmdldENoaWxkQ291bnQoYSksYz0wO2M8YjtjKyspe3ZhciBkPXRoaXMubW9kZWwuZ2V0Q2hpbGRBdChhLGMpO3RoaXMuY2xlYXJDZWxsT3ZlcmxheXMoZCl9fTsKbXhHcmFwaC5wcm90b3R5cGUuc2V0Q2VsbFdhcm5pbmc9ZnVuY3Rpb24oYSxiLGMsZCl7aWYobnVsbCE9YiYmMDxiLmxlbmd0aClyZXR1cm4gYz1udWxsIT1jP2M6dGhpcy53YXJuaW5nSW1hZ2UsYj1uZXcgbXhDZWxsT3ZlcmxheShjLCI8Zm9udCBjb2xvcj1yZWQ+IitiKyI8L2ZvbnQ+IiksZCYmYi5hZGRMaXN0ZW5lcihteEV2ZW50LkNMSUNLLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIsYyl7dGhpcy5pc0VuYWJsZWQoKSYmdGhpcy5zZXRTZWxlY3Rpb25DZWxsKGEpfSkpLHRoaXMuYWRkQ2VsbE92ZXJsYXkoYSxiKTt0aGlzLnJlbW92ZUNlbGxPdmVybGF5cyhhKTtyZXR1cm4gbnVsbH07bXhHcmFwaC5wcm90b3R5cGUuc3RhcnRFZGl0aW5nPWZ1bmN0aW9uKGEpe3RoaXMuc3RhcnRFZGl0aW5nQXRDZWxsKG51bGwsYSl9OwpteEdyYXBoLnByb3RvdHlwZS5zdGFydEVkaXRpbmdBdENlbGw9ZnVuY3Rpb24oYSxiKXtudWxsIT1iJiZteEV2ZW50LmlzTXVsdGlUb3VjaEV2ZW50KGIpfHwobnVsbD09YSYmKGE9dGhpcy5nZXRTZWxlY3Rpb25DZWxsKCksbnVsbD09YXx8dGhpcy5pc0NlbGxFZGl0YWJsZShhKXx8KGE9bnVsbCkpLG51bGwhPWEmJih0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlNUQVJUX0VESVRJTkcsImNlbGwiLGEsImV2ZW50IixiKSksdGhpcy5jZWxsRWRpdG9yLnN0YXJ0RWRpdGluZyhhLGIpLHRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuRURJVElOR19TVEFSVEVELCJjZWxsIixhLCJldmVudCIsYikpKSl9O214R3JhcGgucHJvdG90eXBlLmdldEVkaXRpbmdWYWx1ZT1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmNvbnZlcnRWYWx1ZVRvU3RyaW5nKGEpfTsKbXhHcmFwaC5wcm90b3R5cGUuc3RvcEVkaXRpbmc9ZnVuY3Rpb24oYSl7dGhpcy5jZWxsRWRpdG9yLnN0b3BFZGl0aW5nKGEpO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuRURJVElOR19TVE9QUEVELCJjYW5jZWwiLGEpKX07bXhHcmFwaC5wcm90b3R5cGUubGFiZWxDaGFuZ2VkPWZ1bmN0aW9uKGEsYixjKXt0aGlzLm1vZGVsLmJlZ2luVXBkYXRlKCk7dHJ5e3ZhciBkPWEudmFsdWU7dGhpcy5jZWxsTGFiZWxDaGFuZ2VkKGEsYix0aGlzLmlzQXV0b1NpemVDZWxsKGEpKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkxBQkVMX0NIQU5HRUQsImNlbGwiLGEsInZhbHVlIixiLCJvbGQiLGQsImV2ZW50IixjKSl9ZmluYWxseXt0aGlzLm1vZGVsLmVuZFVwZGF0ZSgpfXJldHVybiBhfTsKbXhHcmFwaC5wcm90b3R5cGUuY2VsbExhYmVsQ2hhbmdlZD1mdW5jdGlvbihhLGIsYyl7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXt0aGlzLm1vZGVsLnNldFZhbHVlKGEsYiksYyYmdGhpcy5jZWxsU2l6ZVVwZGF0ZWQoYSwhMSl9ZmluYWxseXt0aGlzLm1vZGVsLmVuZFVwZGF0ZSgpfX07bXhHcmFwaC5wcm90b3R5cGUuZXNjYXBlPWZ1bmN0aW9uKGEpe3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuRVNDQVBFLCJldmVudCIsYSkpfTsKbXhHcmFwaC5wcm90b3R5cGUuY2xpY2s9ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRFdmVudCgpLGM9YS5nZXRDZWxsKCksZD1uZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkNMSUNLLCJldmVudCIsYiwiY2VsbCIsYyk7YS5pc0NvbnN1bWVkKCkmJmQuY29uc3VtZSgpO3RoaXMuZmlyZUV2ZW50KGQpO2lmKHRoaXMuaXNFbmFibGVkKCkmJiFteEV2ZW50LmlzQ29uc3VtZWQoYikmJiFkLmlzQ29uc3VtZWQoKSl7aWYobnVsbCE9Yyl7aWYodGhpcy5pc1RyYW5zcGFyZW50Q2xpY2tFdmVudChiKSl7dmFyIGU9ITE7YT10aGlzLmdldENlbGxBdChhLmdyYXBoWCxhLmdyYXBoWSxudWxsLG51bGwsbnVsbCxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt2YXIgYj10aGlzLmlzQ2VsbFNlbGVjdGVkKGEuY2VsbCk7ZT1lfHxiO3JldHVybiFlfHxifHxhLmNlbGwhPWMmJnRoaXMubW9kZWwuaXNBbmNlc3RvcihhLmNlbGwsYyl9KSk7bnVsbCE9YSYmKGM9YSl9fWVsc2UgaWYodGhpcy5pc1N3aW1sYW5lU2VsZWN0aW9uRW5hYmxlZCgpJiYKKGM9dGhpcy5nZXRTd2ltbGFuZUF0KGEuZ2V0R3JhcGhYKCksYS5nZXRHcmFwaFkoKSksIShudWxsPT1jfHx0aGlzLmlzVG9nZ2xlRXZlbnQoYikmJm14RXZlbnQuaXNBbHREb3duKGIpKSkpe2Q9Yztmb3IoYT1bXTtudWxsIT1kOyl7dmFyIGQ9dGhpcy5tb2RlbC5nZXRQYXJlbnQoZCksZj10aGlzLnZpZXcuZ2V0U3RhdGUoZCk7dGhpcy5pc1N3aW1sYW5lKGQpJiZudWxsIT1mJiZhLnB1c2goZCl9aWYoMDxhLmxlbmd0aClmb3IoYT1hLnJldmVyc2UoKSxhLnNwbGljZSgwLDAsYyksYS5wdXNoKGMpLGQ9MDtkPGEubGVuZ3RoLTE7ZCsrKXRoaXMuaXNDZWxsU2VsZWN0ZWQoYVtkXSkmJihjPWFbdGhpcy5pc1RvZ2dsZUV2ZW50KGIpP2Q6ZCsxXSl9bnVsbCE9Yz90aGlzLnNlbGVjdENlbGxGb3JFdmVudChjLGIpOnRoaXMuaXNUb2dnbGVFdmVudChiKXx8dGhpcy5jbGVhclNlbGVjdGlvbigpfX07Cm14R3JhcGgucHJvdG90eXBlLmlzU2libGluZ1NlbGVjdGVkPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLm1vZGVsLGM9Yi5nZXRQYXJlbnQoYSksZD1iLmdldENoaWxkQ291bnQoYyksZT0wO2U8ZDtlKyspe3ZhciBmPWIuZ2V0Q2hpbGRBdChjLGUpO2lmKGEhPWYmJnRoaXMuaXNDZWxsU2VsZWN0ZWQoZikpcmV0dXJuITB9cmV0dXJuITF9O214R3JhcGgucHJvdG90eXBlLmRibENsaWNrPWZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5ET1VCTEVfQ0xJQ0ssImV2ZW50IixhLCJjZWxsIixiKTt0aGlzLmZpcmVFdmVudChjKTshdGhpcy5pc0VuYWJsZWQoKXx8bXhFdmVudC5pc0NvbnN1bWVkKGEpfHxjLmlzQ29uc3VtZWQoKXx8bnVsbD09Ynx8IXRoaXMuaXNDZWxsRWRpdGFibGUoYil8fHRoaXMuaXNFZGl0aW5nKGIpfHwodGhpcy5zdGFydEVkaXRpbmdBdENlbGwoYixhKSxteEV2ZW50LmNvbnN1bWUoYSkpfTsKbXhHcmFwaC5wcm90b3R5cGUudGFwQW5kSG9sZD1mdW5jdGlvbihhKXt2YXIgYj1hLmdldEV2ZW50KCksYz1uZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlRBUF9BTkRfSE9MRCwiZXZlbnQiLGIsImNlbGwiLGEuZ2V0Q2VsbCgpKTt0aGlzLmZpcmVFdmVudChjKTtjLmlzQ29uc3VtZWQoKSYmKHRoaXMucGFubmluZ0hhbmRsZXIucGFubmluZ1RyaWdnZXI9ITEpO3RoaXMuaXNFbmFibGVkKCkmJiFteEV2ZW50LmlzQ29uc3VtZWQoYikmJiFjLmlzQ29uc3VtZWQoKSYmdGhpcy5jb25uZWN0aW9uSGFuZGxlci5pc0VuYWJsZWQoKSYmKGI9dGhpcy52aWV3LmdldFN0YXRlKHRoaXMuY29ubmVjdGlvbkhhbmRsZXIubWFya2VyLmdldENlbGwoYSkpLG51bGwhPWImJih0aGlzLmNvbm5lY3Rpb25IYW5kbGVyLm1hcmtlci5jdXJyZW50Q29sb3I9dGhpcy5jb25uZWN0aW9uSGFuZGxlci5tYXJrZXIudmFsaWRDb2xvcix0aGlzLmNvbm5lY3Rpb25IYW5kbGVyLm1hcmtlci5tYXJrZWRTdGF0ZT1iLAp0aGlzLmNvbm5lY3Rpb25IYW5kbGVyLm1hcmtlci5tYXJrKCksdGhpcy5jb25uZWN0aW9uSGFuZGxlci5maXJzdD1uZXcgbXhQb2ludChhLmdldEdyYXBoWCgpLGEuZ2V0R3JhcGhZKCkpLHRoaXMuY29ubmVjdGlvbkhhbmRsZXIuZWRnZVN0YXRlPXRoaXMuY29ubmVjdGlvbkhhbmRsZXIuY3JlYXRlRWRnZVN0YXRlKGEpLHRoaXMuY29ubmVjdGlvbkhhbmRsZXIucHJldmlvdXM9Yix0aGlzLmNvbm5lY3Rpb25IYW5kbGVyLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlNUQVJULCJzdGF0ZSIsdGhpcy5jb25uZWN0aW9uSGFuZGxlci5wcmV2aW91cykpKSl9OwpteEdyYXBoLnByb3RvdHlwZS5zY3JvbGxQb2ludFRvVmlzaWJsZT1mdW5jdGlvbihhLGIsYyxkKXtpZih0aGlzLnRpbWVyQXV0b1Njcm9sbHx8IXRoaXMuaWdub3JlU2Nyb2xsYmFycyYmIW14VXRpbHMuaGFzU2Nyb2xsYmFycyh0aGlzLmNvbnRhaW5lcikpdGhpcy5hbGxvd0F1dG9QYW5uaW5nJiYhdGhpcy5wYW5uaW5nSGFuZGxlci5pc0FjdGl2ZSgpJiYobnVsbD09dGhpcy5wYW5uaW5nTWFuYWdlciYmKHRoaXMucGFubmluZ01hbmFnZXI9dGhpcy5jcmVhdGVQYW5uaW5nTWFuYWdlcigpKSx0aGlzLnBhbm5pbmdNYW5hZ2VyLnBhblRvKGErdGhpcy5wYW5EeCxiK3RoaXMucGFuRHkpKTtlbHNle3ZhciBlPXRoaXMuY29udGFpbmVyO2Q9bnVsbCE9ZD9kOjIwO2lmKGE+PWUuc2Nyb2xsTGVmdCYmYj49ZS5zY3JvbGxUb3AmJmE8PWUuc2Nyb2xsTGVmdCtlLmNsaWVudFdpZHRoJiZiPD1lLnNjcm9sbFRvcCtlLmNsaWVudEhlaWdodCl7dmFyIGY9ZS5zY3JvbGxMZWZ0K2UuY2xpZW50V2lkdGgtCmE7aWYoZjxkKXtpZihhPWUuc2Nyb2xsTGVmdCxlLnNjcm9sbExlZnQrPWQtZixjJiZhPT1lLnNjcm9sbExlZnQpe2lmKHRoaXMuZGlhbGVjdD09bXhDb25zdGFudHMuRElBTEVDVF9TVkcpe2E9dGhpcy52aWV3LmdldERyYXdQYW5lKCkub3duZXJTVkdFbGVtZW50O3ZhciBnPXRoaXMuY29udGFpbmVyLnNjcm9sbFdpZHRoK2QtZn1lbHNlIGc9TWF0aC5tYXgoZS5jbGllbnRXaWR0aCxlLnNjcm9sbFdpZHRoKStkLWYsYT10aGlzLnZpZXcuZ2V0Q2FudmFzKCk7YS5zdHlsZS53aWR0aD1nKyJweCI7ZS5zY3JvbGxMZWZ0Kz1kLWZ9fWVsc2UgZj1hLWUuc2Nyb2xsTGVmdCxmPGQmJihlLnNjcm9sbExlZnQtPWQtZik7Zj1lLnNjcm9sbFRvcCtlLmNsaWVudEhlaWdodC1iO2Y8ZD8oYT1lLnNjcm9sbFRvcCxlLnNjcm9sbFRvcCs9ZC1mLGE9PWUuc2Nyb2xsVG9wJiZjJiYodGhpcy5kaWFsZWN0PT1teENvbnN0YW50cy5ESUFMRUNUX1NWRz8oYT10aGlzLnZpZXcuZ2V0RHJhd1BhbmUoKS5vd25lclNWR0VsZW1lbnQsCmI9dGhpcy5jb250YWluZXIuc2Nyb2xsSGVpZ2h0K2QtZik6KGI9TWF0aC5tYXgoZS5jbGllbnRIZWlnaHQsZS5zY3JvbGxIZWlnaHQpK2QtZixhPXRoaXMudmlldy5nZXRDYW52YXMoKSksYS5zdHlsZS5oZWlnaHQ9YisicHgiLGUuc2Nyb2xsVG9wKz1kLWYpKTooZj1iLWUuc2Nyb2xsVG9wLGY8ZCYmKGUuc2Nyb2xsVG9wLT1kLWYpKX19fTtteEdyYXBoLnByb3RvdHlwZS5jcmVhdGVQYW5uaW5nTWFuYWdlcj1mdW5jdGlvbigpe3JldHVybiBuZXcgbXhQYW5uaW5nTWFuYWdlcih0aGlzKX07Cm14R3JhcGgucHJvdG90eXBlLmdldEJvcmRlclNpemVzPWZ1bmN0aW9uKCl7dmFyIGE9bXhVdGlscy5nZXRDdXJyZW50U3R5bGUodGhpcy5jb250YWluZXIpO3JldHVybiBuZXcgbXhSZWN0YW5nbGUobXhVdGlscy5wYXJzZUNzc051bWJlcihhLnBhZGRpbmdMZWZ0KSsoIm5vbmUiIT1hLmJvcmRlckxlZnRTdHlsZT9teFV0aWxzLnBhcnNlQ3NzTnVtYmVyKGEuYm9yZGVyTGVmdFdpZHRoKTowKSxteFV0aWxzLnBhcnNlQ3NzTnVtYmVyKGEucGFkZGluZ1RvcCkrKCJub25lIiE9YS5ib3JkZXJUb3BTdHlsZT9teFV0aWxzLnBhcnNlQ3NzTnVtYmVyKGEuYm9yZGVyVG9wV2lkdGgpOjApLG14VXRpbHMucGFyc2VDc3NOdW1iZXIoYS5wYWRkaW5nUmlnaHQpKygibm9uZSIhPWEuYm9yZGVyUmlnaHRTdHlsZT9teFV0aWxzLnBhcnNlQ3NzTnVtYmVyKGEuYm9yZGVyUmlnaHRXaWR0aCk6MCksbXhVdGlscy5wYXJzZUNzc051bWJlcihhLnBhZGRpbmdCb3R0b20pKygibm9uZSIhPWEuYm9yZGVyQm90dG9tU3R5bGU/Cm14VXRpbHMucGFyc2VDc3NOdW1iZXIoYS5ib3JkZXJCb3R0b21XaWR0aCk6MCkpfTtteEdyYXBoLnByb3RvdHlwZS5nZXRQcmVmZXJyZWRQYWdlU2l6ZT1mdW5jdGlvbihhLGIsYyl7YT10aGlzLnZpZXcudHJhbnNsYXRlO3ZhciBkPXRoaXMucGFnZUZvcm1hdCxlPXRoaXMucGFnZVNjYWxlLGQ9bmV3IG14UmVjdGFuZ2xlKDAsMCxNYXRoLmNlaWwoZC53aWR0aCplKSxNYXRoLmNlaWwoZC5oZWlnaHQqZSkpO3JldHVybiBuZXcgbXhSZWN0YW5nbGUoMCwwLCh0aGlzLnBhZ2VCcmVha3NWaXNpYmxlP01hdGguY2VpbChiL2Qud2lkdGgpOjEpKmQud2lkdGgrMithLngsKHRoaXMucGFnZUJyZWFrc1Zpc2libGU/TWF0aC5jZWlsKGMvZC5oZWlnaHQpOjEpKmQuaGVpZ2h0KzIrYS55KX07Cm14R3JhcGgucHJvdG90eXBlLmZpdD1mdW5jdGlvbihhLGIsYyxkLGUsZixnKXtpZihudWxsIT10aGlzLmNvbnRhaW5lcil7YT1udWxsIT1hP2E6dGhpcy5nZXRCb3JkZXIoKTtiPW51bGwhPWI/YjohMTtjPW51bGwhPWM/YzowO2Q9bnVsbCE9ZD9kOiEwO2U9bnVsbCE9ZT9lOiExO2Y9bnVsbCE9Zj9mOiExO3ZhciBrPXRoaXMuZ2V0Qm9yZGVyU2l6ZXMoKSxsPXRoaXMuY29udGFpbmVyLm9mZnNldFdpZHRoLWsueC1rLndpZHRoLTEsbT1udWxsIT1nP2c6dGhpcy5jb250YWluZXIub2Zmc2V0SGVpZ2h0LWsueS1rLmhlaWdodC0xO2c9dGhpcy52aWV3LmdldEdyYXBoQm91bmRzKCk7aWYoMDxnLndpZHRoJiYwPGcuaGVpZ2h0KXtiJiZudWxsIT1nLngmJm51bGwhPWcueSYmKGc9Zy5jbG9uZSgpLGcud2lkdGgrPWcueCxnLmhlaWdodCs9Zy55LGcueD0wLGcueT0wKTt2YXIgaz10aGlzLnZpZXcuc2NhbGUsbj1nLndpZHRoL2sscD1nLmhlaWdodC9rO251bGwhPXRoaXMuYmFja2dyb3VuZEltYWdlJiYKKG49TWF0aC5tYXgobix0aGlzLmJhY2tncm91bmRJbWFnZS53aWR0aC1nLngvaykscD1NYXRoLm1heChwLHRoaXMuYmFja2dyb3VuZEltYWdlLmhlaWdodC1nLnkvaykpO3ZhciBxPShiP2E6MiphKStjKzEsbD1sLXEsbT1tLXE7ZT1lP20vcDpmP2wvbjpNYXRoLm1pbihsL24sbS9wKTtudWxsIT10aGlzLm1pbkZpdFNjYWxlJiYoZT1NYXRoLm1heChlLHRoaXMubWluRml0U2NhbGUpKTtudWxsIT10aGlzLm1heEZpdFNjYWxlJiYoZT1NYXRoLm1pbihlLHRoaXMubWF4Rml0U2NhbGUpKTtpZihkKWI/dGhpcy52aWV3LnNjYWxlIT1lJiZ0aGlzLnZpZXcuc2V0U2NhbGUoZSk6bXhVdGlscy5oYXNTY3JvbGxiYXJzKHRoaXMuY29udGFpbmVyKT8odGhpcy52aWV3LnNldFNjYWxlKGUpLGE9dGhpcy5nZXRHcmFwaEJvdW5kcygpLG51bGwhPWEueCYmKHRoaXMuY29udGFpbmVyLnNjcm9sbExlZnQ9YS54KSxudWxsIT1hLnkmJih0aGlzLmNvbnRhaW5lci5zY3JvbGxUb3A9YS55KSk6dGhpcy52aWV3LnNjYWxlQW5kVHJhbnNsYXRlKGUsCm51bGwhPWcueD9NYXRoLmZsb29yKHRoaXMudmlldy50cmFuc2xhdGUueC1nLngvaythL2UrYy8yKTphLG51bGwhPWcueT9NYXRoLmZsb29yKHRoaXMudmlldy50cmFuc2xhdGUueS1nLnkvaythL2UrYy8yKTphKTtlbHNlIHJldHVybiBlfX1yZXR1cm4gdGhpcy52aWV3LnNjYWxlfTsKbXhHcmFwaC5wcm90b3R5cGUuc2l6ZURpZENoYW5nZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0R3JhcGhCb3VuZHMoKTtpZihudWxsIT10aGlzLmNvbnRhaW5lcil7dmFyIGI9dGhpcy5nZXRCb3JkZXIoKSxjPU1hdGgubWF4KDAsYS54KSthLndpZHRoKzIqYixiPU1hdGgubWF4KDAsYS55KSthLmhlaWdodCsyKmI7bnVsbCE9dGhpcy5taW5pbXVtQ29udGFpbmVyU2l6ZSYmKGM9TWF0aC5tYXgoYyx0aGlzLm1pbmltdW1Db250YWluZXJTaXplLndpZHRoKSxiPU1hdGgubWF4KGIsdGhpcy5taW5pbXVtQ29udGFpbmVyU2l6ZS5oZWlnaHQpKTt0aGlzLnJlc2l6ZUNvbnRhaW5lciYmdGhpcy5kb1Jlc2l6ZUNvbnRhaW5lcihjLGIpO2lmKHRoaXMucHJlZmVyUGFnZVNpemV8fCFteENsaWVudC5JU19JRSYmdGhpcy5wYWdlVmlzaWJsZSl7dmFyIGQ9dGhpcy5nZXRQcmVmZXJyZWRQYWdlU2l6ZShhLE1hdGgubWF4KDEsYyksTWF0aC5tYXgoMSxiKSk7bnVsbCE9ZCYmKGM9ZC53aWR0aCp0aGlzLnZpZXcuc2NhbGUsCmI9ZC5oZWlnaHQqdGhpcy52aWV3LnNjYWxlKX1udWxsIT10aGlzLm1pbmltdW1HcmFwaFNpemUmJihjPU1hdGgubWF4KGMsdGhpcy5taW5pbXVtR3JhcGhTaXplLndpZHRoKnRoaXMudmlldy5zY2FsZSksYj1NYXRoLm1heChiLHRoaXMubWluaW11bUdyYXBoU2l6ZS5oZWlnaHQqdGhpcy52aWV3LnNjYWxlKSk7Yz1NYXRoLmNlaWwoYyk7Yj1NYXRoLmNlaWwoYik7dGhpcy5kaWFsZWN0PT1teENvbnN0YW50cy5ESUFMRUNUX1NWRz8oZD10aGlzLnZpZXcuZ2V0RHJhd1BhbmUoKS5vd25lclNWR0VsZW1lbnQsbnVsbCE9ZCYmKGQuc3R5bGUubWluV2lkdGg9TWF0aC5tYXgoMSxjKSsicHgiLGQuc3R5bGUubWluSGVpZ2h0PU1hdGgubWF4KDEsYikrInB4IixkLnN0eWxlLndpZHRoPSIxMDAlIixkLnN0eWxlLmhlaWdodD0iMTAwJSIpKTpteENsaWVudC5JU19RVUlSS1M/dGhpcy52aWV3LnVwZGF0ZUh0bWxDYW52YXNTaXplKE1hdGgubWF4KDEsYyksTWF0aC5tYXgoMSxiKSk6KHRoaXMudmlldy5jYW52YXMuc3R5bGUubWluV2lkdGg9Ck1hdGgubWF4KDEsYykrInB4Iix0aGlzLnZpZXcuY2FudmFzLnN0eWxlLm1pbkhlaWdodD1NYXRoLm1heCgxLGIpKyJweCIpO3RoaXMudXBkYXRlUGFnZUJyZWFrcyh0aGlzLnBhZ2VCcmVha3NWaXNpYmxlLGMsYil9dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5TSVpFLCJib3VuZHMiLGEpKX07bXhHcmFwaC5wcm90b3R5cGUuZG9SZXNpemVDb250YWluZXI9ZnVuY3Rpb24oYSxiKXtudWxsIT10aGlzLm1heGltdW1Db250YWluZXJTaXplJiYoYT1NYXRoLm1pbih0aGlzLm1heGltdW1Db250YWluZXJTaXplLndpZHRoLGEpLGI9TWF0aC5taW4odGhpcy5tYXhpbXVtQ29udGFpbmVyU2l6ZS5oZWlnaHQsYikpO3RoaXMuY29udGFpbmVyLnN0eWxlLndpZHRoPU1hdGguY2VpbChhKSsicHgiO3RoaXMuY29udGFpbmVyLnN0eWxlLmhlaWdodD1NYXRoLmNlaWwoYikrInB4In07Cm14R3JhcGgucHJvdG90eXBlLnVwZGF0ZVBhZ2VCcmVha3M9ZnVuY3Rpb24oYSxiLGMpe2I9dGhpcy52aWV3LnNjYWxlO2M9dGhpcy52aWV3LnRyYW5zbGF0ZTt2YXIgZD10aGlzLnBhZ2VGb3JtYXQsZT1iKnRoaXMucGFnZVNjYWxlLGY9bmV3IG14UmVjdGFuZ2xlKDAsMCxkLndpZHRoKmUsZC5oZWlnaHQqZSksZD1teFJlY3RhbmdsZS5mcm9tUmVjdGFuZ2xlKHRoaXMuZ2V0R3JhcGhCb3VuZHMoKSk7ZC53aWR0aD1NYXRoLm1heCgxLGQud2lkdGgpO2QuaGVpZ2h0PU1hdGgubWF4KDEsZC5oZWlnaHQpO2YueD1NYXRoLmZsb29yKChkLngtYy54KmIpL2Yud2lkdGgpKmYud2lkdGgrYy54KmI7Zi55PU1hdGguZmxvb3IoKGQueS1jLnkqYikvZi5oZWlnaHQpKmYuaGVpZ2h0K2MueSpiO2Qud2lkdGg9TWF0aC5jZWlsKChkLndpZHRoKyhkLngtZi54KSkvZi53aWR0aCkqZi53aWR0aDtkLmhlaWdodD1NYXRoLmNlaWwoKGQuaGVpZ2h0KyhkLnktZi55KSkvZi5oZWlnaHQpKmYuaGVpZ2h0Owp2YXIgZz0oYT1hJiZNYXRoLm1pbihmLndpZHRoLGYuaGVpZ2h0KT50aGlzLm1pblBhZ2VCcmVha0Rpc3QpP01hdGguY2VpbChkLmhlaWdodC9mLmhlaWdodCkrMTowLGs9YT9NYXRoLmNlaWwoZC53aWR0aC9mLndpZHRoKSsxOjAsbD0oay0xKSpmLndpZHRoLG09KGctMSkqZi5oZWlnaHQ7bnVsbD09dGhpcy5ob3Jpem9udGFsUGFnZUJyZWFrcyYmMDxnJiYodGhpcy5ob3Jpem9udGFsUGFnZUJyZWFrcz1bXSk7bnVsbD09dGhpcy52ZXJ0aWNhbFBhZ2VCcmVha3MmJjA8ayYmKHRoaXMudmVydGljYWxQYWdlQnJlYWtzPVtdKTthPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe2lmKG51bGwhPWEpe2Zvcih2YXIgYj1hPT10aGlzLmhvcml6b250YWxQYWdlQnJlYWtzP2c6ayxjPTA7Yzw9YjtjKyspe3ZhciBkPWE9PXRoaXMuaG9yaXpvbnRhbFBhZ2VCcmVha3M/W25ldyBteFBvaW50KE1hdGgucm91bmQoZi54KSxNYXRoLnJvdW5kKGYueStjKmYuaGVpZ2h0KSksbmV3IG14UG9pbnQoTWF0aC5yb3VuZChmLngrCmwpLE1hdGgucm91bmQoZi55K2MqZi5oZWlnaHQpKV06W25ldyBteFBvaW50KE1hdGgucm91bmQoZi54K2MqZi53aWR0aCksTWF0aC5yb3VuZChmLnkpKSxuZXcgbXhQb2ludChNYXRoLnJvdW5kKGYueCtjKmYud2lkdGgpLE1hdGgucm91bmQoZi55K20pKV07bnVsbCE9YVtjXT8oYVtjXS5wb2ludHM9ZCxhW2NdLnJlZHJhdygpKTooZD1uZXcgbXhQb2x5bGluZShkLHRoaXMucGFnZUJyZWFrQ29sb3IpLGQuZGlhbGVjdD10aGlzLmRpYWxlY3QsZC5wb2ludGVyRXZlbnRzPSExLGQuaXNEYXNoZWQ9dGhpcy5wYWdlQnJlYWtEYXNoZWQsZC5pbml0KHRoaXMudmlldy5iYWNrZ3JvdW5kUGFuZSksZC5yZWRyYXcoKSxhW2NdPWQpfWZvcihjPWI7YzxhLmxlbmd0aDtjKyspYVtjXS5kZXN0cm95KCk7YS5zcGxpY2UoYixhLmxlbmd0aC1iKX19KTthKHRoaXMuaG9yaXpvbnRhbFBhZ2VCcmVha3MpO2EodGhpcy52ZXJ0aWNhbFBhZ2VCcmVha3MpfTsKbXhHcmFwaC5wcm90b3R5cGUuZ2V0Q3VycmVudENlbGxTdHlsZT1mdW5jdGlvbihhLGIpe3ZhciBjPWI/bnVsbDp0aGlzLnZpZXcuZ2V0U3RhdGUoYSk7cmV0dXJuIG51bGwhPWM/Yy5zdHlsZTp0aGlzLmdldENlbGxTdHlsZShhKX07bXhHcmFwaC5wcm90b3R5cGUuZ2V0Q2VsbFN0eWxlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMubW9kZWwuZ2V0U3R5bGUoYSk7YT10aGlzLm1vZGVsLmlzRWRnZShhKT90aGlzLnN0eWxlc2hlZXQuZ2V0RGVmYXVsdEVkZ2VTdHlsZSgpOnRoaXMuc3R5bGVzaGVldC5nZXREZWZhdWx0VmVydGV4U3R5bGUoKTtudWxsIT1iJiYoYT10aGlzLnBvc3RQcm9jZXNzQ2VsbFN0eWxlKHRoaXMuc3R5bGVzaGVldC5nZXRDZWxsU3R5bGUoYixhKSkpO251bGw9PWEmJihhPXt9KTtyZXR1cm4gYX07Cm14R3JhcGgucHJvdG90eXBlLnBvc3RQcm9jZXNzQ2VsbFN0eWxlPWZ1bmN0aW9uKGEpe2lmKG51bGwhPWEpe3ZhciBiPWFbbXhDb25zdGFudHMuU1RZTEVfSU1BR0VdLGM9dGhpcy5nZXRJbWFnZUZyb21CdW5kbGVzKGIpO251bGwhPWM/YVtteENvbnN0YW50cy5TVFlMRV9JTUFHRV09YzpjPWI7bnVsbCE9YyYmImRhdGE6aW1hZ2UvIj09Yy5zdWJzdHJpbmcoMCwxMSkmJigiZGF0YTppbWFnZS9zdmcreG1sLDwiPT1jLnN1YnN0cmluZygwLDIwKT9jPWMuc3Vic3RyaW5nKDAsMTkpK2VuY29kZVVSSUNvbXBvbmVudChjLnN1YnN0cmluZygxOSkpOiJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDIiE9Yy5zdWJzdHJpbmcoMCwyMikmJihiPWMuaW5kZXhPZigiLCIpLDA8YiYmIjtiYXNlNjQsIiE9Yy5zdWJzdHJpbmcoYi03LGIrMSkmJihjPWMuc3Vic3RyaW5nKDAsYikrIjtiYXNlNjQsIitjLnN1YnN0cmluZyhiKzEpKSksYVtteENvbnN0YW50cy5TVFlMRV9JTUFHRV09Yyl9cmV0dXJuIGF9OwpteEdyYXBoLnByb3RvdHlwZS5zZXRDZWxsU3R5bGU9ZnVuY3Rpb24oYSxiKXtiPWJ8fHRoaXMuZ2V0U2VsZWN0aW9uQ2VsbHMoKTtpZihudWxsIT1iKXt0aGlzLm1vZGVsLmJlZ2luVXBkYXRlKCk7dHJ5e2Zvcih2YXIgYz0wO2M8Yi5sZW5ndGg7YysrKXRoaXMubW9kZWwuc2V0U3R5bGUoYltjXSxhKX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9fX07bXhHcmFwaC5wcm90b3R5cGUudG9nZ2xlQ2VsbFN0eWxlPWZ1bmN0aW9uKGEsYixjKXtjPWN8fHRoaXMuZ2V0U2VsZWN0aW9uQ2VsbCgpO3JldHVybiB0aGlzLnRvZ2dsZUNlbGxTdHlsZXMoYSxiLFtjXSl9OwpteEdyYXBoLnByb3RvdHlwZS50b2dnbGVDZWxsU3R5bGVzPWZ1bmN0aW9uKGEsYixjKXtiPW51bGwhPWI/YjohMTtjPWN8fHRoaXMuZ2V0U2VsZWN0aW9uQ2VsbHMoKTt2YXIgZD1udWxsO251bGwhPWMmJjA8Yy5sZW5ndGgmJihkPXRoaXMuZ2V0Q3VycmVudENlbGxTdHlsZShjWzBdKSxkPW14VXRpbHMuZ2V0VmFsdWUoZCxhLGIpPzA6MSx0aGlzLnNldENlbGxTdHlsZXMoYSxkLGMpKTtyZXR1cm4gZH07bXhHcmFwaC5wcm90b3R5cGUuc2V0Q2VsbFN0eWxlcz1mdW5jdGlvbihhLGIsYyl7Yz1jfHx0aGlzLmdldFNlbGVjdGlvbkNlbGxzKCk7bXhVdGlscy5zZXRDZWxsU3R5bGVzKHRoaXMubW9kZWwsYyxhLGIpfTtteEdyYXBoLnByb3RvdHlwZS50b2dnbGVDZWxsU3R5bGVGbGFncz1mdW5jdGlvbihhLGIsYyl7dGhpcy5zZXRDZWxsU3R5bGVGbGFncyhhLGIsbnVsbCxjKX07Cm14R3JhcGgucHJvdG90eXBlLnNldENlbGxTdHlsZUZsYWdzPWZ1bmN0aW9uKGEsYixjLGQpe2Q9ZHx8dGhpcy5nZXRTZWxlY3Rpb25DZWxscygpO251bGwhPWQmJjA8ZC5sZW5ndGgmJihudWxsPT1jJiYoYz10aGlzLmdldEN1cnJlbnRDZWxsU3R5bGUoZFswXSksYz0ocGFyc2VJbnQoY1thXXx8MCkmYikhPWIpLG14VXRpbHMuc2V0Q2VsbFN0eWxlRmxhZ3ModGhpcy5tb2RlbCxkLGEsYixjKSl9OwpteEdyYXBoLnByb3RvdHlwZS5hbGlnbkNlbGxzPWZ1bmN0aW9uKGEsYixjKXtudWxsPT1iJiYoYj10aGlzLmdldFNlbGVjdGlvbkNlbGxzKCkpO2lmKG51bGwhPWImJjE8Yi5sZW5ndGgpe2lmKG51bGw9PWMpZm9yKHZhciBkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBlPXRoaXMudmlldy5nZXRTdGF0ZShiW2RdKTtpZihudWxsIT1lJiYhdGhpcy5tb2RlbC5pc0VkZ2UoYltkXSkpaWYobnVsbD09YylpZihhPT1teENvbnN0YW50cy5BTElHTl9DRU5URVIpe2M9ZS54K2Uud2lkdGgvMjticmVha31lbHNlIGlmKGE9PW14Q29uc3RhbnRzLkFMSUdOX1JJR0hUKWM9ZS54K2Uud2lkdGg7ZWxzZSBpZihhPT1teENvbnN0YW50cy5BTElHTl9UT1ApYz1lLnk7ZWxzZSBpZihhPT1teENvbnN0YW50cy5BTElHTl9NSURETEUpe2M9ZS55K2UuaGVpZ2h0LzI7YnJlYWt9ZWxzZSBjPWE9PW14Q29uc3RhbnRzLkFMSUdOX0JPVFRPTT9lLnkrZS5oZWlnaHQ6ZS54O2Vsc2UgYz1hPT1teENvbnN0YW50cy5BTElHTl9SSUdIVD8KTWF0aC5tYXgoYyxlLngrZS53aWR0aCk6YT09bXhDb25zdGFudHMuQUxJR05fVE9QP01hdGgubWluKGMsZS55KTphPT1teENvbnN0YW50cy5BTElHTl9CT1RUT00/TWF0aC5tYXgoYyxlLnkrZS5oZWlnaHQpOk1hdGgubWluKGMsZS54KX1pZihudWxsIT1jKXt2YXIgZj10aGlzLnZpZXcuc2NhbGU7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXtmb3IoZD0wO2Q8Yi5sZW5ndGg7ZCsrKWlmKGU9dGhpcy52aWV3LmdldFN0YXRlKGJbZF0pLG51bGwhPWUpe3ZhciBnPXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KGJbZF0pO251bGw9PWd8fHRoaXMubW9kZWwuaXNFZGdlKGJbZF0pfHwoZz1nLmNsb25lKCksYT09bXhDb25zdGFudHMuQUxJR05fQ0VOVEVSP2cueCs9KGMtZS54LWUud2lkdGgvMikvZjphPT1teENvbnN0YW50cy5BTElHTl9SSUdIVD9nLngrPShjLWUueC1lLndpZHRoKS9mOmE9PW14Q29uc3RhbnRzLkFMSUdOX1RPUD9nLnkrPShjLWUueSkvZjphPT1teENvbnN0YW50cy5BTElHTl9NSURETEU/CmcueSs9KGMtZS55LWUuaGVpZ2h0LzIpL2Y6YT09bXhDb25zdGFudHMuQUxJR05fQk9UVE9NP2cueSs9KGMtZS55LWUuaGVpZ2h0KS9mOmcueCs9KGMtZS54KS9mLHRoaXMucmVzaXplQ2VsbChiW2RdLGcpKX10aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkFMSUdOX0NFTExTLCJhbGlnbiIsYSwiY2VsbHMiLGIpKX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9fX1yZXR1cm4gYn07Cm14R3JhcGgucHJvdG90eXBlLmZsaXBFZGdlPWZ1bmN0aW9uKGEpe2lmKG51bGwhPWEmJm51bGwhPXRoaXMuYWx0ZXJuYXRlRWRnZVN0eWxlKXt0aGlzLm1vZGVsLmJlZ2luVXBkYXRlKCk7dHJ5e3ZhciBiPXRoaXMubW9kZWwuZ2V0U3R5bGUoYSk7bnVsbD09Ynx8MD09Yi5sZW5ndGg/dGhpcy5tb2RlbC5zZXRTdHlsZShhLHRoaXMuYWx0ZXJuYXRlRWRnZVN0eWxlKTp0aGlzLm1vZGVsLnNldFN0eWxlKGEsbnVsbCk7dGhpcy5yZXNldEVkZ2UoYSk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5GTElQX0VER0UsImVkZ2UiLGEpKX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9fXJldHVybiBhfTtteEdyYXBoLnByb3RvdHlwZS5hZGRJbWFnZUJ1bmRsZT1mdW5jdGlvbihhKXt0aGlzLmltYWdlQnVuZGxlcy5wdXNoKGEpfTsKbXhHcmFwaC5wcm90b3R5cGUucmVtb3ZlSW1hZ2VCdW5kbGU9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9MDtjPHRoaXMuaW1hZ2VCdW5kbGVzLmxlbmd0aDtjKyspdGhpcy5pbWFnZUJ1bmRsZXNbY10hPWEmJmIucHVzaCh0aGlzLmltYWdlQnVuZGxlc1tjXSk7dGhpcy5pbWFnZUJ1bmRsZXM9Yn07bXhHcmFwaC5wcm90b3R5cGUuZ2V0SW1hZ2VGcm9tQnVuZGxlcz1mdW5jdGlvbihhKXtpZihudWxsIT1hKWZvcih2YXIgYj0wO2I8dGhpcy5pbWFnZUJ1bmRsZXMubGVuZ3RoO2IrKyl7dmFyIGM9dGhpcy5pbWFnZUJ1bmRsZXNbYl0uZ2V0SW1hZ2UoYSk7aWYobnVsbCE9YylyZXR1cm4gY31yZXR1cm4gbnVsbH07Cm14R3JhcGgucHJvdG90eXBlLm9yZGVyQ2VsbHM9ZnVuY3Rpb24oYSxiKXtudWxsPT1iJiYoYj1teFV0aWxzLnNvcnRDZWxscyh0aGlzLmdldFNlbGVjdGlvbkNlbGxzKCksITApKTt0aGlzLm1vZGVsLmJlZ2luVXBkYXRlKCk7dHJ5e3RoaXMuY2VsbHNPcmRlcmVkKGIsYSksdGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5PUkRFUl9DRUxMUywiYmFjayIsYSwiY2VsbHMiLGIpKX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9cmV0dXJuIGJ9OwpteEdyYXBoLnByb3RvdHlwZS5jZWxsc09yZGVyZWQ9ZnVuY3Rpb24oYSxiKXtpZihudWxsIT1hKXt0aGlzLm1vZGVsLmJlZ2luVXBkYXRlKCk7dHJ5e2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZD10aGlzLm1vZGVsLmdldFBhcmVudChhW2NdKTtiP3RoaXMubW9kZWwuYWRkKGQsYVtjXSxjKTp0aGlzLm1vZGVsLmFkZChkLGFbY10sdGhpcy5tb2RlbC5nZXRDaGlsZENvdW50KGQpLTEpfXRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuQ0VMTFNfT1JERVJFRCwiYmFjayIsYiwiY2VsbHMiLGEpKX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9fX07Cm14R3JhcGgucHJvdG90eXBlLmdyb3VwQ2VsbHM9ZnVuY3Rpb24oYSxiLGMpe251bGw9PWMmJihjPW14VXRpbHMuc29ydENlbGxzKHRoaXMuZ2V0U2VsZWN0aW9uQ2VsbHMoKSwhMCkpO2M9dGhpcy5nZXRDZWxsc0Zvckdyb3VwKGMpO251bGw9PWEmJihhPXRoaXMuY3JlYXRlR3JvdXBDZWxsKGMpKTt2YXIgZD10aGlzLmdldEJvdW5kc0Zvckdyb3VwKGEsYyxiKTtpZigwPGMubGVuZ3RoJiZudWxsIT1kKXt2YXIgZT10aGlzLm1vZGVsLmdldFBhcmVudChhKTtudWxsPT1lJiYoZT10aGlzLm1vZGVsLmdldFBhcmVudChjWzBdKSk7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXtudWxsPT10aGlzLmdldENlbGxHZW9tZXRyeShhKSYmdGhpcy5tb2RlbC5zZXRHZW9tZXRyeShhLG5ldyBteEdlb21ldHJ5KTt2YXIgZj10aGlzLm1vZGVsLmdldENoaWxkQ291bnQoZSk7dGhpcy5jZWxsc0FkZGVkKFthXSxlLGYsbnVsbCxudWxsLCExLCExLCExKTtmPXRoaXMubW9kZWwuZ2V0Q2hpbGRDb3VudChhKTsKdGhpcy5jZWxsc0FkZGVkKGMsYSxmLG51bGwsbnVsbCwhMSwhMSwhMSk7dGhpcy5jZWxsc01vdmVkKGMsLWQueCwtZC55LCExLCExLCExKTt0aGlzLmNlbGxzUmVzaXplZChbYV0sW2RdLCExKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkdST1VQX0NFTExTLCJncm91cCIsYSwiYm9yZGVyIixiLCJjZWxscyIsYykpfWZpbmFsbHl7dGhpcy5tb2RlbC5lbmRVcGRhdGUoKX19cmV0dXJuIGF9O214R3JhcGgucHJvdG90eXBlLmdldENlbGxzRm9yR3JvdXA9ZnVuY3Rpb24oYSl7dmFyIGI9W107aWYobnVsbCE9YSYmMDxhLmxlbmd0aCl7dmFyIGM9dGhpcy5tb2RlbC5nZXRQYXJlbnQoYVswXSk7Yi5wdXNoKGFbMF0pO2Zvcih2YXIgZD0xO2Q8YS5sZW5ndGg7ZCsrKXRoaXMubW9kZWwuZ2V0UGFyZW50KGFbZF0pPT1jJiZiLnB1c2goYVtkXSl9cmV0dXJuIGJ9OwpteEdyYXBoLnByb3RvdHlwZS5nZXRCb3VuZHNGb3JHcm91cD1mdW5jdGlvbihhLGIsYyl7Yj10aGlzLmdldEJvdW5kaW5nQm94RnJvbUdlb21ldHJ5KGIsITApO251bGwhPWImJih0aGlzLmlzU3dpbWxhbmUoYSkmJihhPXRoaXMuZ2V0U3RhcnRTaXplKGEpLGIueC09YS53aWR0aCxiLnktPWEuaGVpZ2h0LGIud2lkdGgrPWEud2lkdGgsYi5oZWlnaHQrPWEuaGVpZ2h0KSxudWxsIT1jJiYoYi54LT1jLGIueS09YyxiLndpZHRoKz0yKmMsYi5oZWlnaHQrPTIqYykpO3JldHVybiBifTtteEdyYXBoLnByb3RvdHlwZS5jcmVhdGVHcm91cENlbGw9ZnVuY3Rpb24oYSl7YT1uZXcgbXhDZWxsKCIiKTthLnNldFZlcnRleCghMCk7YS5zZXRDb25uZWN0YWJsZSghMSk7cmV0dXJuIGF9OwpteEdyYXBoLnByb3RvdHlwZS51bmdyb3VwQ2VsbHM9ZnVuY3Rpb24oYSl7dmFyIGI9W107aWYobnVsbD09YSl7YT10aGlzLmdldFNlbGVjdGlvbkNlbGxzKCk7Zm9yKHZhciBjPVtdLGQ9MDtkPGEubGVuZ3RoO2QrKykwPHRoaXMubW9kZWwuZ2V0Q2hpbGRDb3VudChhW2RdKSYmYy5wdXNoKGFbZF0pO2E9Y31pZihudWxsIT1hJiYwPGEubGVuZ3RoKXt0aGlzLm1vZGVsLmJlZ2luVXBkYXRlKCk7dHJ5e2ZvcihkPTA7ZDxhLmxlbmd0aDtkKyspe3ZhciBlPXRoaXMubW9kZWwuZ2V0Q2hpbGRyZW4oYVtkXSk7aWYobnVsbCE9ZSYmMDxlLmxlbmd0aCl7dmFyIGU9ZS5zbGljZSgpLGY9dGhpcy5tb2RlbC5nZXRQYXJlbnQoYVtkXSksZz10aGlzLm1vZGVsLmdldENoaWxkQ291bnQoZik7dGhpcy5jZWxsc0FkZGVkKGUsZixnLG51bGwsbnVsbCwhMCk7Yj1iLmNvbmNhdChlKX19dGhpcy5yZW1vdmVDZWxsc0FmdGVyVW5ncm91cChhKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlVOR1JPVVBfQ0VMTFMsCiJjZWxscyIsYSkpfWZpbmFsbHl7dGhpcy5tb2RlbC5lbmRVcGRhdGUoKX19cmV0dXJuIGJ9O214R3JhcGgucHJvdG90eXBlLnJlbW92ZUNlbGxzQWZ0ZXJVbmdyb3VwPWZ1bmN0aW9uKGEpe3RoaXMuY2VsbHNSZW1vdmVkKHRoaXMuYWRkQWxsRWRnZXMoYSkpfTtteEdyYXBoLnByb3RvdHlwZS5yZW1vdmVDZWxsc0Zyb21QYXJlbnQ9ZnVuY3Rpb24oYSl7bnVsbD09YSYmKGE9dGhpcy5nZXRTZWxlY3Rpb25DZWxscygpKTt0aGlzLm1vZGVsLmJlZ2luVXBkYXRlKCk7dHJ5e3ZhciBiPXRoaXMuZ2V0RGVmYXVsdFBhcmVudCgpLGM9dGhpcy5tb2RlbC5nZXRDaGlsZENvdW50KGIpO3RoaXMuY2VsbHNBZGRlZChhLGIsYyxudWxsLG51bGwsITApO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuUkVNT1ZFX0NFTExTX0ZST01fUEFSRU5ULCJjZWxscyIsYSkpfWZpbmFsbHl7dGhpcy5tb2RlbC5lbmRVcGRhdGUoKX1yZXR1cm4gYX07Cm14R3JhcGgucHJvdG90eXBlLnVwZGF0ZUdyb3VwQm91bmRzPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe251bGw9PWEmJihhPXRoaXMuZ2V0U2VsZWN0aW9uQ2VsbHMoKSk7Yj1udWxsIT1iP2I6MDtjPW51bGwhPWM/YzohMTtkPW51bGwhPWQ/ZDowO2U9bnVsbCE9ZT9lOjA7Zj1udWxsIT1mP2Y6MDtnPW51bGwhPWc/ZzowO3RoaXMubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKHZhciBrPWEubGVuZ3RoLTE7MDw9aztrLS0pe3ZhciBsPXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KGFba10pO2lmKG51bGwhPWwpe3ZhciBtPXRoaXMuZ2V0Q2hpbGRDZWxscyhhW2tdKTtpZihudWxsIT1tJiYwPG0ubGVuZ3RoKXt2YXIgbj10aGlzLmdldEJvdW5kaW5nQm94RnJvbUdlb21ldHJ5KG0sITApO2lmKG51bGwhPW4mJjA8bi53aWR0aCYmMDxuLmhlaWdodCl7dmFyIHA9MCxxPTA7aWYodGhpcy5pc1N3aW1sYW5lKGFba10pKXZhciByPXRoaXMuZ2V0U3RhcnRTaXplKGFba10pLHA9ci53aWR0aCxxPQpyLmhlaWdodDtsPWwuY2xvbmUoKTtjJiYobC54PU1hdGgucm91bmQobC54K24ueC1iLXAtZyksbC55PU1hdGgucm91bmQobC55K24ueS1iLXEtZCkpO2wud2lkdGg9TWF0aC5yb3VuZChuLndpZHRoKzIqYitwK2crZSk7bC5oZWlnaHQ9TWF0aC5yb3VuZChuLmhlaWdodCsyKmIrcStkK2YpO3RoaXMubW9kZWwuc2V0R2VvbWV0cnkoYVtrXSxsKTt0aGlzLm1vdmVDZWxscyhtLGIrcC1uLngrZyxiK3Etbi55K2QpfX19fX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9cmV0dXJuIGF9OwpteEdyYXBoLnByb3RvdHlwZS5nZXRCb3VuZGluZ0JveD1mdW5jdGlvbihhKXt2YXIgYj1udWxsO2lmKG51bGwhPWEmJjA8YS5sZW5ndGgpZm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspaWYodGhpcy5tb2RlbC5pc1ZlcnRleChhW2NdKXx8dGhpcy5tb2RlbC5pc0VkZ2UoYVtjXSkpe3ZhciBkPXRoaXMudmlldy5nZXRCb3VuZGluZ0JveCh0aGlzLnZpZXcuZ2V0U3RhdGUoYVtjXSksITApO251bGwhPWQmJihudWxsPT1iP2I9bXhSZWN0YW5nbGUuZnJvbVJlY3RhbmdsZShkKTpiLmFkZChkKSl9cmV0dXJuIGJ9O214R3JhcGgucHJvdG90eXBlLmNsb25lQ2VsbD1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5jbG9uZUNlbGxzKFthXSxiLGMsZClbMF19OwpteEdyYXBoLnByb3RvdHlwZS5jbG9uZUNlbGxzPWZ1bmN0aW9uKGEsYixjLGQpe2I9bnVsbCE9Yj9iOiEwO3ZhciBlPW51bGw7aWYobnVsbCE9YSl7Zm9yKHZhciBmPW5ldyBteERpY3Rpb25hcnksZT1bXSxnPTA7ZzxhLmxlbmd0aDtnKyspZi5wdXQoYVtnXSwhMCksZS5wdXNoKGFbZ10pO2lmKDA8ZS5sZW5ndGgpZm9yKHZhciBrPXRoaXMudmlldy5zY2FsZSxsPXRoaXMudmlldy50cmFuc2xhdGUsZT10aGlzLm1vZGVsLmNsb25lQ2VsbHMoYSwhMCxjKSxnPTA7ZzxhLmxlbmd0aDtnKyspaWYoIWImJnRoaXMubW9kZWwuaXNFZGdlKGVbZ10pJiZudWxsIT10aGlzLmdldEVkZ2VWYWxpZGF0aW9uRXJyb3IoZVtnXSx0aGlzLm1vZGVsLmdldFRlcm1pbmFsKGVbZ10sITApLHRoaXMubW9kZWwuZ2V0VGVybWluYWwoZVtnXSwhMSkpKWVbZ109bnVsbDtlbHNle3ZhciBtPXRoaXMubW9kZWwuZ2V0R2VvbWV0cnkoZVtnXSk7aWYobnVsbCE9bSl7dmFyIG49dGhpcy52aWV3LmdldFN0YXRlKGFbZ10pLApwPXRoaXMudmlldy5nZXRTdGF0ZSh0aGlzLm1vZGVsLmdldFBhcmVudChhW2ddKSk7aWYobnVsbCE9biYmbnVsbCE9cClpZihjPWQ/MDpwLm9yaWdpbi54LHA9ZD8wOnAub3JpZ2luLnksdGhpcy5tb2RlbC5pc0VkZ2UoZVtnXSkpe2lmKG49bi5hYnNvbHV0ZVBvaW50cyxudWxsIT1uKXtmb3IodmFyIHE9dGhpcy5tb2RlbC5nZXRUZXJtaW5hbChhW2ddLCEwKTtudWxsIT1xJiYhZi5nZXQocSk7KXE9dGhpcy5tb2RlbC5nZXRQYXJlbnQocSk7bnVsbD09cSYmbnVsbCE9blswXSYmbS5zZXRUZXJtaW5hbFBvaW50KG5ldyBteFBvaW50KG5bMF0ueC9rLWwueCxuWzBdLnkvay1sLnkpLCEwKTtmb3IocT10aGlzLm1vZGVsLmdldFRlcm1pbmFsKGFbZ10sITEpO251bGwhPXEmJiFmLmdldChxKTspcT10aGlzLm1vZGVsLmdldFBhcmVudChxKTt2YXIgcj1uLmxlbmd0aC0xO251bGw9PXEmJm51bGwhPW5bcl0mJm0uc2V0VGVybWluYWxQb2ludChuZXcgbXhQb2ludChuW3JdLngvay1sLngsbltyXS55LwprLWwueSksITEpO209bS5wb2ludHM7aWYobnVsbCE9bSlmb3Iobj0wO248bS5sZW5ndGg7bisrKW1bbl0ueCs9YyxtW25dLnkrPXB9fWVsc2UgbS50cmFuc2xhdGUoYyxwKX19ZWxzZSBlPVtdfXJldHVybiBlfTtteEdyYXBoLnByb3RvdHlwZS5pbnNlcnRWZXJ0ZXg9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxrLGwpe2I9dGhpcy5jcmVhdGVWZXJ0ZXgoYSxiLGMsZCxlLGYsZyxrLGwpO3JldHVybiB0aGlzLmFkZENlbGwoYixhKX07bXhHcmFwaC5wcm90b3R5cGUuY3JlYXRlVmVydGV4PWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsayxsKXthPW5ldyBteEdlb21ldHJ5KGQsZSxmLGcpO2EucmVsYXRpdmU9bnVsbCE9bD9sOiExO2M9bmV3IG14Q2VsbChjLGEsayk7Yy5zZXRJZChiKTtjLnNldFZlcnRleCghMCk7Yy5zZXRDb25uZWN0YWJsZSghMCk7cmV0dXJuIGN9OwpteEdyYXBoLnByb3RvdHlwZS5pbnNlcnRFZGdlPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXtiPXRoaXMuY3JlYXRlRWRnZShhLGIsYyxkLGUsZik7cmV0dXJuIHRoaXMuYWRkRWRnZShiLGEsZCxlKX07bXhHcmFwaC5wcm90b3R5cGUuY3JlYXRlRWRnZT1mdW5jdGlvbihhLGIsYyxkLGUsZil7YT1uZXcgbXhDZWxsKGMsbmV3IG14R2VvbWV0cnksZik7YS5zZXRJZChiKTthLnNldEVkZ2UoITApO2EuZ2VvbWV0cnkucmVsYXRpdmU9ITA7cmV0dXJuIGF9O214R3JhcGgucHJvdG90eXBlLmFkZEVkZ2U9ZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4gdGhpcy5hZGRDZWxsKGEsYixlLGMsZCl9O214R3JhcGgucHJvdG90eXBlLmFkZENlbGw9ZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4gdGhpcy5hZGRDZWxscyhbYV0sYixjLGQsZSlbMF19OwpteEdyYXBoLnByb3RvdHlwZS5hZGRDZWxscz1mdW5jdGlvbihhLGIsYyxkLGUsZil7bnVsbD09YiYmKGI9dGhpcy5nZXREZWZhdWx0UGFyZW50KCkpO251bGw9PWMmJihjPXRoaXMubW9kZWwuZ2V0Q2hpbGRDb3VudChiKSk7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXt0aGlzLmNlbGxzQWRkZWQoYSxiLGMsZCxlLG51bGwhPWY/ZjohMSwhMCksdGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5BRERfQ0VMTFMsImNlbGxzIixhLCJwYXJlbnQiLGIsImluZGV4IixjLCJzb3VyY2UiLGQsInRhcmdldCIsZSkpfWZpbmFsbHl7dGhpcy5tb2RlbC5lbmRVcGRhdGUoKX1yZXR1cm4gYX07Cm14R3JhcGgucHJvdG90eXBlLmNlbGxzQWRkZWQ9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxrKXtpZihudWxsIT1hJiZudWxsIT1iJiZudWxsIT1jKXt0aGlzLm1vZGVsLmJlZ2luVXBkYXRlKCk7dHJ5e2Zvcih2YXIgbD1mP3RoaXMudmlldy5nZXRTdGF0ZShiKTpudWxsLG09bnVsbCE9bD9sLm9yaWdpbjpudWxsLG49bmV3IG14UG9pbnQoMCwwKSxsPTA7bDxhLmxlbmd0aDtsKyspaWYobnVsbD09YVtsXSljLS07ZWxzZXt2YXIgcD10aGlzLm1vZGVsLmdldFBhcmVudChhW2xdKTtpZihudWxsIT1tJiZhW2xdIT1iJiZiIT1wKXt2YXIgcT10aGlzLnZpZXcuZ2V0U3RhdGUocCkscj1udWxsIT1xP3Eub3JpZ2luOm4sdD10aGlzLm1vZGVsLmdldEdlb21ldHJ5KGFbbF0pO2lmKG51bGwhPXQpe3ZhciB1PXIueC1tLngseD1yLnktbS55LHQ9dC5jbG9uZSgpO3QudHJhbnNsYXRlKHUseCk7dC5yZWxhdGl2ZXx8IXRoaXMubW9kZWwuaXNWZXJ0ZXgoYVtsXSl8fHRoaXMuaXNBbGxvd05lZ2F0aXZlQ29vcmRpbmF0ZXMoKXx8Cih0Lng9TWF0aC5tYXgoMCx0LngpLHQueT1NYXRoLm1heCgwLHQueSkpO3RoaXMubW9kZWwuc2V0R2VvbWV0cnkoYVtsXSx0KX19Yj09cCYmYytsPnRoaXMubW9kZWwuZ2V0Q2hpbGRDb3VudChiKSYmYy0tO3RoaXMubW9kZWwuYWRkKGIsYVtsXSxjK2wpO3RoaXMuYXV0b1NpemVDZWxsc09uQWRkJiZ0aGlzLmF1dG9TaXplQ2VsbChhW2xdLCEwKTsobnVsbD09a3x8aykmJnRoaXMuaXNFeHRlbmRQYXJlbnRzT25BZGQoYVtsXSkmJnRoaXMuaXNFeHRlbmRQYXJlbnQoYVtsXSkmJnRoaXMuZXh0ZW5kUGFyZW50KGFbbF0pOyhudWxsPT1nfHxnKSYmdGhpcy5jb25zdHJhaW5DaGlsZChhW2xdKTtudWxsIT1kJiZ0aGlzLmNlbGxDb25uZWN0ZWQoYVtsXSxkLCEwKTtudWxsIT1lJiZ0aGlzLmNlbGxDb25uZWN0ZWQoYVtsXSxlLCExKX10aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkNFTExTX0FEREVELCJjZWxscyIsYSwicGFyZW50IixiLCJpbmRleCIsYywic291cmNlIiwKZCwidGFyZ2V0IixlLCJhYnNvbHV0ZSIsZikpfWZpbmFsbHl7dGhpcy5tb2RlbC5lbmRVcGRhdGUoKX19fTtteEdyYXBoLnByb3RvdHlwZS5hdXRvU2l6ZUNlbGw9ZnVuY3Rpb24oYSxiKXtpZihudWxsIT1iP2I6MSlmb3IodmFyIGM9dGhpcy5tb2RlbC5nZXRDaGlsZENvdW50KGEpLGQ9MDtkPGM7ZCsrKXRoaXMuYXV0b1NpemVDZWxsKHRoaXMubW9kZWwuZ2V0Q2hpbGRBdChhLGQpKTt0aGlzLmdldE1vZGVsKCkuaXNWZXJ0ZXgoYSkmJnRoaXMuaXNBdXRvU2l6ZUNlbGwoYSkmJnRoaXMudXBkYXRlQ2VsbFNpemUoYSl9OwpteEdyYXBoLnByb3RvdHlwZS5yZW1vdmVDZWxscz1mdW5jdGlvbihhLGIpe2I9bnVsbCE9Yj9iOiEwO251bGw9PWEmJihhPXRoaXMuZ2V0RGVsZXRhYmxlQ2VsbHModGhpcy5nZXRTZWxlY3Rpb25DZWxscygpKSk7aWYoYilhPXRoaXMuZ2V0RGVsZXRhYmxlQ2VsbHModGhpcy5hZGRBbGxFZGdlcyhhKSk7ZWxzZXthPWEuc2xpY2UoKTtmb3IodmFyIGM9dGhpcy5nZXREZWxldGFibGVDZWxscyh0aGlzLmdldEFsbEVkZ2VzKGEpKSxkPW5ldyBteERpY3Rpb25hcnksZT0wO2U8YS5sZW5ndGg7ZSsrKWQucHV0KGFbZV0sITApO2ZvcihlPTA7ZTxjLmxlbmd0aDtlKyspbnVsbCE9dGhpcy52aWV3LmdldFN0YXRlKGNbZV0pfHxkLmdldChjW2VdKXx8KGQucHV0KGNbZV0sITApLGEucHVzaChjW2VdKSl9dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXt0aGlzLmNlbGxzUmVtb3ZlZChhKSx0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlJFTU9WRV9DRUxMUywiY2VsbHMiLAphLCJpbmNsdWRlRWRnZXMiLGIpKX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9cmV0dXJuIGF9OwpteEdyYXBoLnByb3RvdHlwZS5jZWxsc1JlbW92ZWQ9ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSYmMDxhLmxlbmd0aCl7dmFyIGI9dGhpcy52aWV3LnNjYWxlLGM9dGhpcy52aWV3LnRyYW5zbGF0ZTt0aGlzLm1vZGVsLmJlZ2luVXBkYXRlKCk7dHJ5e2Zvcih2YXIgZD1uZXcgbXhEaWN0aW9uYXJ5LGU9MDtlPGEubGVuZ3RoO2UrKylkLnB1dChhW2VdLCEwKTtmb3IoZT0wO2U8YS5sZW5ndGg7ZSsrKXtmb3IodmFyIGY9dGhpcy5nZXRBbGxFZGdlcyhbYVtlXV0pLGc9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oZCxmKXt2YXIgZz10aGlzLm1vZGVsLmdldEdlb21ldHJ5KGQpO2lmKG51bGwhPWcpe2Zvcih2YXIgaz10aGlzLm1vZGVsLmdldFRlcm1pbmFsKGQsZiksbD0hMSxtPWs7bnVsbCE9bTspe2lmKGFbZV09PW0pe2w9ITA7YnJlYWt9bT10aGlzLm1vZGVsLmdldFBhcmVudChtKX1sJiYoZz1nLmNsb25lKCksbD10aGlzLnZpZXcuZ2V0U3RhdGUoZCksbnVsbCE9bCYmbnVsbCE9bC5hYnNvbHV0ZVBvaW50cz8KKGs9bC5hYnNvbHV0ZVBvaW50cyxtPWY/MDprLmxlbmd0aC0xLGcuc2V0VGVybWluYWxQb2ludChuZXcgbXhQb2ludChrW21dLngvYi1jLngtbC5vcmlnaW4ueCxrW21dLnkvYi1jLnktbC5vcmlnaW4ueSksZikpOihrPXRoaXMudmlldy5nZXRTdGF0ZShrKSxudWxsIT1rJiZnLnNldFRlcm1pbmFsUG9pbnQobmV3IG14UG9pbnQoay5nZXRDZW50ZXJYKCkvYi1jLngsay5nZXRDZW50ZXJZKCkvYi1jLnkpLGYpKSx0aGlzLm1vZGVsLnNldEdlb21ldHJ5KGQsZyksdGhpcy5tb2RlbC5zZXRUZXJtaW5hbChkLG51bGwsZikpfX0pLGs9MDtrPGYubGVuZ3RoO2srKylkLmdldChmW2tdKXx8KGQucHV0KGZba10sITApLGcoZltrXSwhMCksZyhmW2tdLCExKSk7dGhpcy5tb2RlbC5yZW1vdmUoYVtlXSl9dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5DRUxMU19SRU1PVkVELCJjZWxscyIsYSkpfWZpbmFsbHl7dGhpcy5tb2RlbC5lbmRVcGRhdGUoKX19fTsKbXhHcmFwaC5wcm90b3R5cGUuc3BsaXRFZGdlPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsayl7ZD1kfHwwO2U9ZXx8MDtrPW51bGwhPWs/azp0aGlzLm1vZGVsLmdldFBhcmVudChhKTtmPXRoaXMubW9kZWwuZ2V0VGVybWluYWwoYSwhMCk7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXtpZihudWxsPT1jKXtjPXRoaXMuY2xvbmVDZWxsKGEpO3ZhciBsPXRoaXMudmlldy5nZXRTdGF0ZShhKSxtPXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KGMpO2lmKG51bGwhPW0mJm51bGwhPW0ucG9pbnRzJiZudWxsIT1sKXt2YXIgbj10aGlzLnZpZXcudHJhbnNsYXRlLHA9dGhpcy52aWV3LnNjYWxlLHE9bXhVdGlscy5maW5kTmVhcmVzdFNlZ21lbnQobCwoZCtuLngpKnAsKGUrbi55KSpwKTttLnBvaW50cz1tLnBvaW50cy5zbGljZSgwLHEpO209dGhpcy5nZXRDZWxsR2VvbWV0cnkoYSk7bnVsbCE9bSYmbnVsbCE9bS5wb2ludHMmJihtPW0uY2xvbmUoKSxtLnBvaW50cz1tLnBvaW50cy5zbGljZShxKSwKdGhpcy5tb2RlbC5zZXRHZW9tZXRyeShhLG0pKX19dGhpcy5jZWxsc01vdmVkKGIsZCxlLCExLCExKTt0aGlzLmNlbGxzQWRkZWQoYixrLHRoaXMubW9kZWwuZ2V0Q2hpbGRDb3VudChrKSxudWxsLG51bGwsITApO3RoaXMuY2VsbHNBZGRlZChbY10sayx0aGlzLm1vZGVsLmdldENoaWxkQ291bnQoayksZixiWzBdLCExKTt0aGlzLmNlbGxDb25uZWN0ZWQoYSxiWzBdLCEwKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlNQTElUX0VER0UsImVkZ2UiLGEsImNlbGxzIixiLCJuZXdFZGdlIixjLCJkeCIsZCwiZHkiLGUpKX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9cmV0dXJuIGN9OwpteEdyYXBoLnByb3RvdHlwZS50b2dnbGVDZWxscz1mdW5jdGlvbihhLGIsYyl7bnVsbD09YiYmKGI9dGhpcy5nZXRTZWxlY3Rpb25DZWxscygpKTtjJiYoYj10aGlzLmFkZEFsbEVkZ2VzKGIpKTt0aGlzLm1vZGVsLmJlZ2luVXBkYXRlKCk7dHJ5e3RoaXMuY2VsbHNUb2dnbGVkKGIsYSksdGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5UT0dHTEVfQ0VMTFMsInNob3ciLGEsImNlbGxzIixiLCJpbmNsdWRlRWRnZXMiLGMpKX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9cmV0dXJuIGJ9O214R3JhcGgucHJvdG90eXBlLmNlbGxzVG9nZ2xlZD1mdW5jdGlvbihhLGIpe2lmKG51bGwhPWEmJjA8YS5sZW5ndGgpe3RoaXMubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspdGhpcy5tb2RlbC5zZXRWaXNpYmxlKGFbY10sYil9ZmluYWxseXt0aGlzLm1vZGVsLmVuZFVwZGF0ZSgpfX19OwpteEdyYXBoLnByb3RvdHlwZS5mb2xkQ2VsbHM9ZnVuY3Rpb24oYSxiLGMsZCxlKXtiPW51bGwhPWI/YjohMTtudWxsPT1jJiYoYz10aGlzLmdldEZvbGRhYmxlQ2VsbHModGhpcy5nZXRTZWxlY3Rpb25DZWxscygpLGEpKTt0aGlzLnN0b3BFZGl0aW5nKCExKTt0aGlzLm1vZGVsLmJlZ2luVXBkYXRlKCk7dHJ5e3RoaXMuY2VsbHNGb2xkZWQoYyxhLGIsZCksdGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5GT0xEX0NFTExTLCJjb2xsYXBzZSIsYSwicmVjdXJzZSIsYiwiY2VsbHMiLGMpKX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9cmV0dXJuIGN9OwpteEdyYXBoLnByb3RvdHlwZS5jZWxsc0ZvbGRlZD1mdW5jdGlvbihhLGIsYyxkKXtpZihudWxsIT1hJiYwPGEubGVuZ3RoKXt0aGlzLm1vZGVsLmJlZ2luVXBkYXRlKCk7dHJ5e2Zvcih2YXIgZT0wO2U8YS5sZW5ndGg7ZSsrKWlmKCghZHx8dGhpcy5pc0NlbGxGb2xkYWJsZShhW2VdLGIpKSYmYiE9dGhpcy5pc0NlbGxDb2xsYXBzZWQoYVtlXSkpe3RoaXMubW9kZWwuc2V0Q29sbGFwc2VkKGFbZV0sYik7dGhpcy5zd2FwQm91bmRzKGFbZV0sYik7dGhpcy5pc0V4dGVuZFBhcmVudChhW2VdKSYmdGhpcy5leHRlbmRQYXJlbnQoYVtlXSk7aWYoYyl7dmFyIGY9dGhpcy5tb2RlbC5nZXRDaGlsZHJlbihhW2VdKTt0aGlzLmNlbGxzRm9sZGVkKGYsYixjKX10aGlzLmNvbnN0cmFpbkNoaWxkKGFbZV0pfXRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuQ0VMTFNfRk9MREVELCJjZWxscyIsYSwiY29sbGFwc2UiLGIsInJlY3Vyc2UiLGMpKX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9fX07Cm14R3JhcGgucHJvdG90eXBlLnN3YXBCb3VuZHM9ZnVuY3Rpb24oYSxiKXtpZihudWxsIT1hKXt2YXIgYz10aGlzLm1vZGVsLmdldEdlb21ldHJ5KGEpO251bGwhPWMmJihjPWMuY2xvbmUoKSx0aGlzLnVwZGF0ZUFsdGVybmF0ZUJvdW5kcyhhLGMsYiksYy5zd2FwKCksdGhpcy5tb2RlbC5zZXRHZW9tZXRyeShhLGMpKX19OwpteEdyYXBoLnByb3RvdHlwZS51cGRhdGVBbHRlcm5hdGVCb3VuZHM9ZnVuY3Rpb24oYSxiLGMpe2lmKG51bGwhPWEmJm51bGwhPWIpe2M9dGhpcy5nZXRDdXJyZW50Q2VsbFN0eWxlKGEpO2lmKG51bGw9PWIuYWx0ZXJuYXRlQm91bmRzKXt2YXIgZD1iO3RoaXMuY29sbGFwc2VUb1ByZWZlcnJlZFNpemUmJihhPXRoaXMuZ2V0UHJlZmVycmVkU2l6ZUZvckNlbGwoYSksbnVsbCE9YSYmKGQ9YSxhPW14VXRpbHMuZ2V0VmFsdWUoYyxteENvbnN0YW50cy5TVFlMRV9TVEFSVFNJWkUpLDA8YSYmKGQuaGVpZ2h0PU1hdGgubWF4KGQuaGVpZ2h0LGEpKSkpO2IuYWx0ZXJuYXRlQm91bmRzPW5ldyBteFJlY3RhbmdsZSgwLDAsZC53aWR0aCxkLmhlaWdodCl9aWYobnVsbCE9Yi5hbHRlcm5hdGVCb3VuZHMpe2IuYWx0ZXJuYXRlQm91bmRzLng9Yi54O2IuYWx0ZXJuYXRlQm91bmRzLnk9Yi55O3ZhciBlPW14VXRpbHMudG9SYWRpYW5zKGNbbXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT05dfHwwKTsKMCE9ZSYmKGM9Yi5hbHRlcm5hdGVCb3VuZHMuZ2V0Q2VudGVyWCgpLWIuZ2V0Q2VudGVyWCgpLGQ9Yi5hbHRlcm5hdGVCb3VuZHMuZ2V0Q2VudGVyWSgpLWIuZ2V0Q2VudGVyWSgpLGE9TWF0aC5jb3MoZSksZT1NYXRoLnNpbihlKSxiLmFsdGVybmF0ZUJvdW5kcy54Kz1hKmMtZSpkLWMsYi5hbHRlcm5hdGVCb3VuZHMueSs9ZSpjK2EqZC1kKX19fTtteEdyYXBoLnByb3RvdHlwZS5hZGRBbGxFZGdlcz1mdW5jdGlvbihhKXt2YXIgYj1hLnNsaWNlKCk7cmV0dXJuIG14VXRpbHMucmVtb3ZlRHVwbGljYXRlcyhiLmNvbmNhdCh0aGlzLmdldEFsbEVkZ2VzKGEpKSl9OwpteEdyYXBoLnByb3RvdHlwZS5nZXRBbGxFZGdlcz1mdW5jdGlvbihhKXt2YXIgYj1bXTtpZihudWxsIT1hKWZvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKXtmb3IodmFyIGQ9dGhpcy5tb2RlbC5nZXRFZGdlQ291bnQoYVtjXSksZT0wO2U8ZDtlKyspYi5wdXNoKHRoaXMubW9kZWwuZ2V0RWRnZUF0KGFbY10sZSkpO2Q9dGhpcy5tb2RlbC5nZXRDaGlsZHJlbihhW2NdKTtiPWIuY29uY2F0KHRoaXMuZ2V0QWxsRWRnZXMoZCkpfXJldHVybiBifTtteEdyYXBoLnByb3RvdHlwZS51cGRhdGVDZWxsU2l6ZT1mdW5jdGlvbihhLGIpe2I9bnVsbCE9Yj9iOiExO3RoaXMubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7dGhpcy5jZWxsU2l6ZVVwZGF0ZWQoYSxiKSx0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlVQREFURV9DRUxMX1NJWkUsImNlbGwiLGEsImlnbm9yZUNoaWxkcmVuIixiKSl9ZmluYWxseXt0aGlzLm1vZGVsLmVuZFVwZGF0ZSgpfXJldHVybiBhfTsKbXhHcmFwaC5wcm90b3R5cGUuY2VsbFNpemVVcGRhdGVkPWZ1bmN0aW9uKGEsYil7aWYobnVsbCE9YSl7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXt2YXIgYz10aGlzLmdldFByZWZlcnJlZFNpemVGb3JDZWxsKGEpLGQ9dGhpcy5tb2RlbC5nZXRHZW9tZXRyeShhKTtpZihudWxsIT1jJiZudWxsIT1kKXt2YXIgZT10aGlzLmlzQ2VsbENvbGxhcHNlZChhKSxkPWQuY2xvbmUoKTtpZih0aGlzLmlzU3dpbWxhbmUoYSkpe3ZhciBmPXRoaXMuZ2V0Q2VsbFN0eWxlKGEpLGc9dGhpcy5tb2RlbC5nZXRTdHlsZShhKTtudWxsPT1nJiYoZz0iIik7bXhVdGlscy5nZXRWYWx1ZShmLG14Q29uc3RhbnRzLlNUWUxFX0hPUklaT05UQUwsITApPyhnPW14VXRpbHMuc2V0U3R5bGUoZyxteENvbnN0YW50cy5TVFlMRV9TVEFSVFNJWkUsYy5oZWlnaHQrOCksZSYmKGQuaGVpZ2h0PWMuaGVpZ2h0KzgpLGQud2lkdGg9Yy53aWR0aCk6KGc9bXhVdGlscy5zZXRTdHlsZShnLG14Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRSwKYy53aWR0aCs4KSxlJiYoZC53aWR0aD1jLndpZHRoKzgpLGQuaGVpZ2h0PWMuaGVpZ2h0KTt0aGlzLm1vZGVsLnNldFN0eWxlKGEsZyl9ZWxzZXt2YXIgaz10aGlzLnZpZXcuY3JlYXRlU3RhdGUoYSksbD1rLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0FMSUdOXXx8bXhDb25zdGFudHMuQUxJR05fQ0VOVEVSO2w9PW14Q29uc3RhbnRzLkFMSUdOX1JJR0hUP2QueCs9ZC53aWR0aC1jLndpZHRoOmw9PW14Q29uc3RhbnRzLkFMSUdOX0NFTlRFUiYmKGQueCs9TWF0aC5yb3VuZCgoZC53aWR0aC1jLndpZHRoKS8yKSk7dmFyIG09dGhpcy5nZXRWZXJ0aWNhbEFsaWduKGspO209PW14Q29uc3RhbnRzLkFMSUdOX0JPVFRPTT9kLnkrPWQuaGVpZ2h0LWMuaGVpZ2h0Om09PW14Q29uc3RhbnRzLkFMSUdOX01JRERMRSYmKGQueSs9TWF0aC5yb3VuZCgoZC5oZWlnaHQtYy5oZWlnaHQpLzIpKTtkLndpZHRoPWMud2lkdGg7ZC5oZWlnaHQ9Yy5oZWlnaHR9aWYoIWImJiFlKXt2YXIgbj10aGlzLnZpZXcuZ2V0Qm91bmRzKHRoaXMubW9kZWwuZ2V0Q2hpbGRyZW4oYSkpOwppZihudWxsIT1uKXt2YXIgcD10aGlzLnZpZXcudHJhbnNsYXRlLHE9dGhpcy52aWV3LnNjYWxlLHI9KG4ueStuLmhlaWdodCkvcS1kLnktcC55O2Qud2lkdGg9TWF0aC5tYXgoZC53aWR0aCwobi54K24ud2lkdGgpL3EtZC54LXAueCk7ZC5oZWlnaHQ9TWF0aC5tYXgoZC5oZWlnaHQscil9fXRoaXMuY2VsbHNSZXNpemVkKFthXSxbZF0sITEpfX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9fX07Cm14R3JhcGgucHJvdG90eXBlLmdldFByZWZlcnJlZFNpemVGb3JDZWxsPWZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbDtpZihudWxsIT1hKXt2YXIgZD10aGlzLnZpZXcuY3JlYXRlU3RhdGUoYSksZT1kLnN0eWxlO2lmKCF0aGlzLm1vZGVsLmlzRWRnZShhKSl7dmFyIGY9ZVtteENvbnN0YW50cy5TVFlMRV9GT05UU0laRV18fG14Q29uc3RhbnRzLkRFRkFVTFRfRk9OVFNJWkUsZz0wLGM9MDtudWxsPT10aGlzLmdldEltYWdlKGQpJiZudWxsPT1lW214Q29uc3RhbnRzLlNUWUxFX0lNQUdFXXx8ZVtteENvbnN0YW50cy5TVFlMRV9TSEFQRV0hPW14Q29uc3RhbnRzLlNIQVBFX0xBQkVMfHwoZVtteENvbnN0YW50cy5TVFlMRV9WRVJUSUNBTF9BTElHTl09PW14Q29uc3RhbnRzLkFMSUdOX01JRERMRSYmKGcrPXBhcnNlRmxvYXQoZVtteENvbnN0YW50cy5TVFlMRV9JTUFHRV9XSURUSF0pfHxteExhYmVsLnByb3RvdHlwZS5pbWFnZVNpemUpLGVbbXhDb25zdGFudHMuU1RZTEVfQUxJR05dIT0KbXhDb25zdGFudHMuQUxJR05fQ0VOVEVSJiYoYys9cGFyc2VGbG9hdChlW214Q29uc3RhbnRzLlNUWUxFX0lNQUdFX0hFSUdIVF0pfHxteExhYmVsLnByb3RvdHlwZS5pbWFnZVNpemUpKTt2YXIgZz1nKzIqKGVbbXhDb25zdGFudHMuU1RZTEVfU1BBQ0lOR118fDApLGc9ZysoZVtteENvbnN0YW50cy5TVFlMRV9TUEFDSU5HX0xFRlRdfHwwKSxnPWcrKGVbbXhDb25zdGFudHMuU1RZTEVfU1BBQ0lOR19SSUdIVF18fDApLGM9YysyKihlW214Q29uc3RhbnRzLlNUWUxFX1NQQUNJTkddfHwwKSxjPWMrKGVbbXhDb25zdGFudHMuU1RZTEVfU1BBQ0lOR19UT1BdfHwwKSxjPWMrKGVbbXhDb25zdGFudHMuU1RZTEVfU1BBQ0lOR19CT1RUT01dfHwwKSxrPXRoaXMuZ2V0Rm9sZGluZ0ltYWdlKGQpO251bGwhPWsmJihnKz1rLndpZHRoKzgpO2s9dGhpcy5jZWxsUmVuZGVyZXIuZ2V0TGFiZWxWYWx1ZShkKTtudWxsIT1rJiYwPGsubGVuZ3RoPyh0aGlzLmlzSHRtbExhYmVsKGQuY2VsbCl8fChrPQpteFV0aWxzLmh0bWxFbnRpdGllcyhrLCExKSksaz1rLnJlcGxhY2UoL1xuL2csIjxicj4iKSxmPW14VXRpbHMuZ2V0U2l6ZUZvclN0cmluZyhrLGYsZVtteENvbnN0YW50cy5TVFlMRV9GT05URkFNSUxZXSxiLGVbbXhDb25zdGFudHMuU1RZTEVfRk9OVFNUWUxFXSksZD1mLndpZHRoK2csYz1mLmhlaWdodCtjLG14VXRpbHMuZ2V0VmFsdWUoZSxteENvbnN0YW50cy5TVFlMRV9IT1JJWk9OVEFMLCEwKXx8KGU9YyxjPWQsZD1lKSx0aGlzLmdyaWRFbmFibGVkJiYoZD10aGlzLnNuYXAoZCt0aGlzLmdyaWRTaXplLzIpLGM9dGhpcy5zbmFwKGMrdGhpcy5ncmlkU2l6ZS8yKSksYz1uZXcgbXhSZWN0YW5nbGUoMCwwLGQsYykpOihlPTQqdGhpcy5ncmlkU2l6ZSxjPW5ldyBteFJlY3RhbmdsZSgwLDAsZSxlKSl9fXJldHVybiBjfTtteEdyYXBoLnByb3RvdHlwZS5yZXNpemVDZWxsPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5yZXNpemVDZWxscyhbYV0sW2JdLGMpWzBdfTsKbXhHcmFwaC5wcm90b3R5cGUucmVzaXplQ2VsbHM9ZnVuY3Rpb24oYSxiLGMpe2M9bnVsbCE9Yz9jOnRoaXMuaXNSZWN1cnNpdmVSZXNpemUoKTt0aGlzLm1vZGVsLmJlZ2luVXBkYXRlKCk7dHJ5e3ZhciBkPXRoaXMuY2VsbHNSZXNpemVkKGEsYixjKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlJFU0laRV9DRUxMUywiY2VsbHMiLGEsImJvdW5kcyIsYiwicHJldmlvdXMiLGQpKX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9cmV0dXJuIGF9OwpteEdyYXBoLnByb3RvdHlwZS5jZWxsc1Jlc2l6ZWQ9ZnVuY3Rpb24oYSxiLGMpe2M9bnVsbCE9Yz9jOiExO3ZhciBkPVtdO2lmKG51bGwhPWEmJm51bGwhPWImJmEubGVuZ3RoPT1iLmxlbmd0aCl7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXtmb3IodmFyIGU9MDtlPGEubGVuZ3RoO2UrKylkLnB1c2godGhpcy5jZWxsUmVzaXplZChhW2VdLGJbZV0sITEsYykpLHRoaXMuaXNFeHRlbmRQYXJlbnQoYVtlXSkmJnRoaXMuZXh0ZW5kUGFyZW50KGFbZV0pLHRoaXMuY29uc3RyYWluQ2hpbGQoYVtlXSk7dGhpcy5yZXNldEVkZ2VzT25SZXNpemUmJnRoaXMucmVzZXRFZGdlcyhhKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkNFTExTX1JFU0laRUQsImNlbGxzIixhLCJib3VuZHMiLGIsInByZXZpb3VzIixkKSl9ZmluYWxseXt0aGlzLm1vZGVsLmVuZFVwZGF0ZSgpfX1yZXR1cm4gZH07Cm14R3JhcGgucHJvdG90eXBlLmNlbGxSZXNpemVkPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXRoaXMubW9kZWwuZ2V0R2VvbWV0cnkoYSk7aWYobnVsbCE9ZSYmKGUueCE9Yi54fHxlLnkhPWIueXx8ZS53aWR0aCE9Yi53aWR0aHx8ZS5oZWlnaHQhPWIuaGVpZ2h0KSl7dmFyIGY9ZS5jbG9uZSgpOyFjJiZmLnJlbGF0aXZlPyhjPWYub2Zmc2V0LG51bGwhPWMmJihjLngrPWIueC1mLngsYy55Kz1iLnktZi55KSk6KGYueD1iLngsZi55PWIueSk7Zi53aWR0aD1iLndpZHRoO2YuaGVpZ2h0PWIuaGVpZ2h0O2YucmVsYXRpdmV8fCF0aGlzLm1vZGVsLmlzVmVydGV4KGEpfHx0aGlzLmlzQWxsb3dOZWdhdGl2ZUNvb3JkaW5hdGVzKCl8fChmLng9TWF0aC5tYXgoMCxmLngpLGYueT1NYXRoLm1heCgwLGYueSkpO3RoaXMubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7ZCYmdGhpcy5yZXNpemVDaGlsZENlbGxzKGEsZiksdGhpcy5tb2RlbC5zZXRHZW9tZXRyeShhLGYpLHRoaXMuY29uc3RyYWluQ2hpbGRDZWxscyhhKX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9fXJldHVybiBlfTsKbXhHcmFwaC5wcm90b3R5cGUucmVzaXplQ2hpbGRDZWxscz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz10aGlzLm1vZGVsLmdldEdlb21ldHJ5KGEpLGQ9Yi53aWR0aC9jLndpZHRoLGM9Yi5oZWlnaHQvYy5oZWlnaHQsZT10aGlzLm1vZGVsLmdldENoaWxkQ291bnQoYSksZj0wO2Y8ZTtmKyspdGhpcy5zY2FsZUNlbGwodGhpcy5tb2RlbC5nZXRDaGlsZEF0KGEsZiksZCxjLCEwKX07bXhHcmFwaC5wcm90b3R5cGUuY29uc3RyYWluQ2hpbGRDZWxscz1mdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5tb2RlbC5nZXRDaGlsZENvdW50KGEpLGM9MDtjPGI7YysrKXRoaXMuY29uc3RyYWluQ2hpbGQodGhpcy5tb2RlbC5nZXRDaGlsZEF0KGEsYykpfTsKbXhHcmFwaC5wcm90b3R5cGUuc2NhbGVDZWxsPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXRoaXMubW9kZWwuZ2V0R2VvbWV0cnkoYSk7aWYobnVsbCE9ZSl7dmFyIGY9dGhpcy5nZXRDdXJyZW50Q2VsbFN0eWxlKGEpLGU9ZS5jbG9uZSgpLGc9ZS54LGs9ZS55LGw9ZS53aWR0aCxtPWUuaGVpZ2h0O2Uuc2NhbGUoYixjLCJmaXhlZCI9PWZbbXhDb25zdGFudHMuU1RZTEVfQVNQRUNUXSk7IjEiPT1mW214Q29uc3RhbnRzLlNUWUxFX1JFU0laRV9XSURUSF0/ZS53aWR0aD1sKmI6IjAiPT1mW214Q29uc3RhbnRzLlNUWUxFX1JFU0laRV9XSURUSF0mJihlLndpZHRoPWwpOyIxIj09ZltteENvbnN0YW50cy5TVFlMRV9SRVNJWkVfSEVJR0hUXT9lLmhlaWdodD1tKmM6IjAiPT1mW214Q29uc3RhbnRzLlNUWUxFX1JFU0laRV9IRUlHSFRdJiYoZS5oZWlnaHQ9bSk7dGhpcy5pc0NlbGxNb3ZhYmxlKGEpfHwoZS54PWcsZS55PWspO3RoaXMuaXNDZWxsUmVzaXphYmxlKGEpfHwoZS53aWR0aD1sLAplLmhlaWdodD1tKTt0aGlzLm1vZGVsLmlzVmVydGV4KGEpP3RoaXMuY2VsbFJlc2l6ZWQoYSxlLCEwLGQpOnRoaXMubW9kZWwuc2V0R2VvbWV0cnkoYSxlKX19O214R3JhcGgucHJvdG90eXBlLmV4dGVuZFBhcmVudD1mdW5jdGlvbihhKXtpZihudWxsIT1hKXt2YXIgYj10aGlzLm1vZGVsLmdldFBhcmVudChhKSxjPXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KGIpO251bGw9PWJ8fG51bGw9PWN8fHRoaXMuaXNDZWxsQ29sbGFwc2VkKGIpfHwoYT10aGlzLmdldENlbGxHZW9tZXRyeShhKSxudWxsIT1hJiYhYS5yZWxhdGl2ZSYmKGMud2lkdGg8YS54K2Eud2lkdGh8fGMuaGVpZ2h0PGEueSthLmhlaWdodCkmJihjPWMuY2xvbmUoKSxjLndpZHRoPU1hdGgubWF4KGMud2lkdGgsYS54K2Eud2lkdGgpLGMuaGVpZ2h0PU1hdGgubWF4KGMuaGVpZ2h0LGEueSthLmhlaWdodCksdGhpcy5jZWxsc1Jlc2l6ZWQoW2JdLFtjXSwhMSkpKX19OwpteEdyYXBoLnByb3RvdHlwZS5pbXBvcnRDZWxscz1mdW5jdGlvbihhLGIsYyxkLGUsZil7cmV0dXJuIHRoaXMubW92ZUNlbGxzKGEsYixjLCEwLGQsZSxmKX07Cm14R3JhcGgucHJvdG90eXBlLm1vdmVDZWxscz1mdW5jdGlvbihhLGIsYyxkLGUsZixnKXtiPW51bGwhPWI/YjowO2M9bnVsbCE9Yz9jOjA7ZD1udWxsIT1kP2Q6ITE7aWYobnVsbCE9YSYmKDAhPWJ8fDAhPWN8fGR8fG51bGwhPWUpKXthPXRoaXMubW9kZWwuZ2V0VG9wbW9zdENlbGxzKGEpO3RoaXMubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKHZhciBrPW5ldyBteERpY3Rpb25hcnksbD0wO2w8YS5sZW5ndGg7bCsrKWsucHV0KGFbbF0sITApO2Zvcih2YXIgbT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtmb3IoO251bGwhPWE7KXtpZihrLmdldChhKSlyZXR1cm4hMDthPXRoaXMubW9kZWwuZ2V0UGFyZW50KGEpfXJldHVybiExfSksbj1bXSxsPTA7bDxhLmxlbmd0aDtsKyspe3ZhciBwPXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KGFbbF0pLHE9dGhpcy5tb2RlbC5nZXRQYXJlbnQoYVtsXSk7bnVsbCE9cCYmcC5yZWxhdGl2ZSYmdGhpcy5tb2RlbC5pc0VkZ2UocSkmJihtKHRoaXMubW9kZWwuZ2V0VGVybWluYWwocSwKITApKXx8bSh0aGlzLm1vZGVsLmdldFRlcm1pbmFsKHEsITEpKSl8fG4ucHVzaChhW2xdKX1hPW47ZCYmKGE9dGhpcy5jbG9uZUNlbGxzKGEsdGhpcy5pc0Nsb25lSW52YWxpZEVkZ2VzKCksZyksbnVsbD09ZSYmKGU9dGhpcy5nZXREZWZhdWx0UGFyZW50KCkpKTt2YXIgcj10aGlzLmlzQWxsb3dOZWdhdGl2ZUNvb3JkaW5hdGVzKCk7bnVsbCE9ZSYmdGhpcy5zZXRBbGxvd05lZ2F0aXZlQ29vcmRpbmF0ZXMoITApO3RoaXMuY2VsbHNNb3ZlZChhLGIsYywhZCYmdGhpcy5pc0Rpc2Nvbm5lY3RPbk1vdmUoKSYmdGhpcy5pc0FsbG93RGFuZ2xpbmdFZGdlcygpLG51bGw9PWUsdGhpcy5pc0V4dGVuZFBhcmVudHNPbk1vdmUoKSYmbnVsbD09ZSk7dGhpcy5zZXRBbGxvd05lZ2F0aXZlQ29vcmRpbmF0ZXMocik7aWYobnVsbCE9ZSl7dmFyIHQ9dGhpcy5tb2RlbC5nZXRDaGlsZENvdW50KGUpO3RoaXMuY2VsbHNBZGRlZChhLGUsdCxudWxsLG51bGwsITApfXRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuTU9WRV9DRUxMUywKImNlbGxzIixhLCJkeCIsYiwiZHkiLGMsImNsb25lIixkLCJ0YXJnZXQiLGUsImV2ZW50IixmKSl9ZmluYWxseXt0aGlzLm1vZGVsLmVuZFVwZGF0ZSgpfX1yZXR1cm4gYX07Cm14R3JhcGgucHJvdG90eXBlLmNlbGxzTW92ZWQ9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe2lmKG51bGwhPWEmJigwIT1ifHwwIT1jKSl7Zj1udWxsIT1mP2Y6ITE7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXtkJiZ0aGlzLmRpc2Nvbm5lY3RHcmFwaChhKTtmb3IodmFyIGc9MDtnPGEubGVuZ3RoO2crKyl0aGlzLnRyYW5zbGF0ZUNlbGwoYVtnXSxiLGMpLGYmJnRoaXMuaXNFeHRlbmRQYXJlbnQoYVtnXSk/dGhpcy5leHRlbmRQYXJlbnQoYVtnXSk6ZSYmdGhpcy5jb25zdHJhaW5DaGlsZChhW2ddKTt0aGlzLnJlc2V0RWRnZXNPbk1vdmUmJnRoaXMucmVzZXRFZGdlcyhhKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkNFTExTX01PVkVELCJjZWxscyIsYSwiZHgiLGIsImR5IixjLCJkaXNjb25uZWN0IixkKSl9ZmluYWxseXt0aGlzLm1vZGVsLmVuZFVwZGF0ZSgpfX19OwpteEdyYXBoLnByb3RvdHlwZS50cmFuc2xhdGVDZWxsPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLm1vZGVsLmdldEdlb21ldHJ5KGEpO2lmKG51bGwhPWQpe2I9cGFyc2VGbG9hdChiKTtjPXBhcnNlRmxvYXQoYyk7ZD1kLmNsb25lKCk7ZC50cmFuc2xhdGUoYixjKTtkLnJlbGF0aXZlfHwhdGhpcy5tb2RlbC5pc1ZlcnRleChhKXx8dGhpcy5pc0FsbG93TmVnYXRpdmVDb29yZGluYXRlcygpfHwoZC54PU1hdGgubWF4KDAscGFyc2VGbG9hdChkLngpKSxkLnk9TWF0aC5tYXgoMCxwYXJzZUZsb2F0KGQueSkpKTtpZihkLnJlbGF0aXZlJiYhdGhpcy5tb2RlbC5pc0VkZ2UoYSkpe3ZhciBlPXRoaXMubW9kZWwuZ2V0UGFyZW50KGEpLGY9MDt0aGlzLm1vZGVsLmlzVmVydGV4KGUpJiYoZT10aGlzLmdldEN1cnJlbnRDZWxsU3R5bGUoZSksZj1teFV0aWxzLmdldFZhbHVlKGUsbXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT04sMCkpOzAhPWYmJihmPW14VXRpbHMudG9SYWRpYW5zKC1mKSwKZT1NYXRoLmNvcyhmKSxmPU1hdGguc2luKGYpLGM9bXhVdGlscy5nZXRSb3RhdGVkUG9pbnQobmV3IG14UG9pbnQoYixjKSxlLGYsbmV3IG14UG9pbnQoMCwwKSksYj1jLngsYz1jLnkpO251bGw9PWQub2Zmc2V0P2Qub2Zmc2V0PW5ldyBteFBvaW50KGIsYyk6KGQub2Zmc2V0Lng9cGFyc2VGbG9hdChkLm9mZnNldC54KStiLGQub2Zmc2V0Lnk9cGFyc2VGbG9hdChkLm9mZnNldC55KStjKX10aGlzLm1vZGVsLnNldEdlb21ldHJ5KGEsZCl9fTsKbXhHcmFwaC5wcm90b3R5cGUuZ2V0Q2VsbENvbnRhaW5tZW50QXJlYT1mdW5jdGlvbihhKXtpZihudWxsIT1hJiYhdGhpcy5tb2RlbC5pc0VkZ2UoYSkpe3ZhciBiPXRoaXMubW9kZWwuZ2V0UGFyZW50KGEpO2lmKG51bGwhPWImJmIhPXRoaXMuZ2V0RGVmYXVsdFBhcmVudCgpKXt2YXIgYz10aGlzLm1vZGVsLmdldEdlb21ldHJ5KGIpO2lmKG51bGwhPWMpe3ZhciBkPWE9MCxlPWMud2lkdGgsYz1jLmhlaWdodDtpZih0aGlzLmlzU3dpbWxhbmUoYikpe3ZhciBmPXRoaXMuZ2V0U3RhcnRTaXplKGIpLGc9dGhpcy5nZXRDdXJyZW50Q2VsbFN0eWxlKGIpLGI9bXhVdGlscy5nZXRWYWx1ZShnLG14Q29uc3RhbnRzLlNUWUxFX0RJUkVDVElPTixteENvbnN0YW50cy5ESVJFQ1RJT05fRUFTVCksaz0xPT1teFV0aWxzLmdldFZhbHVlKGcsbXhDb25zdGFudHMuU1RZTEVfRkxJUEgsMCksZz0xPT1teFV0aWxzLmdldFZhbHVlKGcsbXhDb25zdGFudHMuU1RZTEVfRkxJUFYsMCk7aWYoYj09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIfHwKYj09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIKXt2YXIgbD1mLndpZHRoO2Yud2lkdGg9Zi5oZWlnaHQ7Zi5oZWlnaHQ9bH1pZihiPT1teENvbnN0YW50cy5ESVJFQ1RJT05fRUFTVCYmIWd8fGI9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSCYmIWt8fGI9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9XRVNUJiZnfHxiPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEgmJmspYT1mLndpZHRoLGQ9Zi5oZWlnaHQ7ZS09Zi53aWR0aDtjLT1mLmhlaWdodH1yZXR1cm4gbmV3IG14UmVjdGFuZ2xlKGEsZCxlLGMpfX19cmV0dXJuIG51bGx9O214R3JhcGgucHJvdG90eXBlLmdldE1heGltdW1HcmFwaEJvdW5kcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1heGltdW1HcmFwaEJvdW5kc307Cm14R3JhcGgucHJvdG90eXBlLmNvbnN0cmFpbkNoaWxkPWZ1bmN0aW9uKGEsYil7aWYobnVsbCE9YSl7dmFyIGM9dGhpcy5nZXRDZWxsR2VvbWV0cnkoYSk7aWYobnVsbCE9YyYmKHRoaXMuaXNDb25zdHJhaW5SZWxhdGl2ZUNoaWxkcmVuKCl8fCFjLnJlbGF0aXZlKSl7dmFyIGQ9dGhpcy5tb2RlbC5nZXRQYXJlbnQoYSk7dGhpcy5nZXRDZWxsR2VvbWV0cnkoZCk7dmFyIGU9dGhpcy5nZXRNYXhpbXVtR3JhcGhCb3VuZHMoKTtudWxsIT1lJiYoZD10aGlzLmdldEJvdW5kaW5nQm94RnJvbUdlb21ldHJ5KFtkXSwhMSksbnVsbCE9ZCYmKGU9bXhSZWN0YW5nbGUuZnJvbVJlY3RhbmdsZShlKSxlLngtPWQueCxlLnktPWQueSkpO2lmKHRoaXMuaXNDb25zdHJhaW5DaGlsZChhKSYmKGQ9dGhpcy5nZXRDZWxsQ29udGFpbm1lbnRBcmVhKGEpLG51bGwhPWQpKXt2YXIgZj10aGlzLmdldE92ZXJsYXAoYSk7MDxmJiYoZD1teFJlY3RhbmdsZS5mcm9tUmVjdGFuZ2xlKGQpLGQueC09ZC53aWR0aCoKZixkLnktPWQuaGVpZ2h0KmYsZC53aWR0aCs9MipkLndpZHRoKmYsZC5oZWlnaHQrPTIqZC5oZWlnaHQqZik7bnVsbD09ZT9lPWQ6KGU9bXhSZWN0YW5nbGUuZnJvbVJlY3RhbmdsZShlKSxlLmludGVyc2VjdChkKSl9aWYobnVsbCE9ZSl7ZD1bYV07aWYoIXRoaXMuaXNDZWxsQ29sbGFwc2VkKGEpKWZvcih2YXIgZj10aGlzLm1vZGVsLmdldERlc2NlbmRhbnRzKGEpLGc9MDtnPGYubGVuZ3RoO2crKyl0aGlzLmlzQ2VsbFZpc2libGUoZltnXSkmJmQucHVzaChmW2ddKTtkPXRoaXMuZ2V0Qm91bmRpbmdCb3hGcm9tR2VvbWV0cnkoZCwhMSk7aWYobnVsbCE9ZCl7Yz1jLmNsb25lKCk7Zj0wO2Mud2lkdGg+ZS53aWR0aCYmKGY9Yy53aWR0aC1lLndpZHRoLGMud2lkdGgtPWYpO2QueCtkLndpZHRoPmUueCtlLndpZHRoJiYoZi09ZC54K2Qud2lkdGgtZS54LWUud2lkdGgtZik7Zz0wO2MuaGVpZ2h0PmUuaGVpZ2h0JiYoZz1jLmhlaWdodC1lLmhlaWdodCxjLmhlaWdodC09Zyk7ZC55K2QuaGVpZ2h0PgplLnkrZS5oZWlnaHQmJihnLT1kLnkrZC5oZWlnaHQtZS55LWUuaGVpZ2h0LWcpO2QueDxlLngmJihmLT1kLngtZS54KTtkLnk8ZS55JiYoZy09ZC55LWUueSk7aWYoMCE9Znx8MCE9ZyljLnJlbGF0aXZlPyhudWxsPT1jLm9mZnNldCYmKGMub2Zmc2V0PW5ldyBteFBvaW50KSxjLm9mZnNldC54Kz1mLGMub2Zmc2V0LnkrPWcpOihjLngrPWYsYy55Kz1nKTt0aGlzLm1vZGVsLnNldEdlb21ldHJ5KGEsYyl9fX19fTsKbXhHcmFwaC5wcm90b3R5cGUucmVzZXRFZGdlcz1mdW5jdGlvbihhKXtpZihudWxsIT1hKXtmb3IodmFyIGI9bmV3IG14RGljdGlvbmFyeSxjPTA7YzxhLmxlbmd0aDtjKyspYi5wdXQoYVtjXSwhMCk7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXtmb3IoYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZD10aGlzLm1vZGVsLmdldEVkZ2VzKGFbY10pO2lmKG51bGwhPWQpZm9yKHZhciBlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPXRoaXMudmlldy5nZXRTdGF0ZShkW2VdKSxnPW51bGwhPWY/Zi5nZXRWaXNpYmxlVGVybWluYWwoITApOnRoaXMudmlldy5nZXRWaXNpYmxlVGVybWluYWwoZFtlXSwhMCksaz1udWxsIT1mP2YuZ2V0VmlzaWJsZVRlcm1pbmFsKCExKTp0aGlzLnZpZXcuZ2V0VmlzaWJsZVRlcm1pbmFsKGRbZV0sITEpO2IuZ2V0KGcpJiZiLmdldChrKXx8dGhpcy5yZXNldEVkZ2UoZFtlXSl9dGhpcy5yZXNldEVkZ2VzKHRoaXMubW9kZWwuZ2V0Q2hpbGRyZW4oYVtjXSkpfX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9fX07Cm14R3JhcGgucHJvdG90eXBlLnJlc2V0RWRnZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLm1vZGVsLmdldEdlb21ldHJ5KGEpO251bGwhPWImJm51bGwhPWIucG9pbnRzJiYwPGIucG9pbnRzLmxlbmd0aCYmKGI9Yi5jbG9uZSgpLGIucG9pbnRzPVtdLHRoaXMubW9kZWwuc2V0R2VvbWV0cnkoYSxiKSk7cmV0dXJuIGF9OwpteEdyYXBoLnByb3RvdHlwZS5nZXRPdXRsaW5lQ29uc3RyYWludD1mdW5jdGlvbihhLGIsYyl7aWYobnVsbCE9Yi5zaGFwZSl7Yz10aGlzLnZpZXcuZ2V0UGVyaW1ldGVyQm91bmRzKGIpO3ZhciBkPWIuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRElSRUNUSU9OXTtpZihkPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEh8fGQ9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSCl7Yy54Kz1jLndpZHRoLzItYy5oZWlnaHQvMjtjLnkrPWMuaGVpZ2h0LzItYy53aWR0aC8yO3ZhciBlPWMud2lkdGg7Yy53aWR0aD1jLmhlaWdodDtjLmhlaWdodD1lfXZhciBmPW14VXRpbHMudG9SYWRpYW5zKGIuc2hhcGUuZ2V0U2hhcGVSb3RhdGlvbigpKTtpZigwIT1mKXt2YXIgZT1NYXRoLmNvcygtZiksZj1NYXRoLnNpbigtZiksZz1uZXcgbXhQb2ludChjLmdldENlbnRlclgoKSxjLmdldENlbnRlclkoKSk7YT1teFV0aWxzLmdldFJvdGF0ZWRQb2ludChhLGUsZixnKX12YXIgZz1mPTEsaz0wLGw9CjA7aWYodGhpcy5nZXRNb2RlbCgpLmlzVmVydGV4KGIuY2VsbCkpe3ZhciBtPWIuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRkxJUEhdLG49Yi5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9GTElQVl07bnVsbCE9Yi5zaGFwZSYmbnVsbCE9Yi5zaGFwZS5zdGVuY2lsJiYobT0xPT1teFV0aWxzLmdldFZhbHVlKGIuc3R5bGUsInN0ZW5jaWxGbGlwSCIsMCl8fG0sbj0xPT1teFV0aWxzLmdldFZhbHVlKGIuc3R5bGUsInN0ZW5jaWxGbGlwViIsMCl8fG4pO2lmKGQ9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSHx8ZD09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIKWU9bSxtPW4sbj1lO20mJihmPS0xLGs9LWMud2lkdGgpO24mJihnPS0xLGw9LWMuaGVpZ2h0KX1hPW5ldyBteFBvaW50KChhLngtYy54KSpmLWsrYy54LChhLnktYy55KSpnLWwrYy55KTtyZXR1cm4gbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMD09Yy53aWR0aD8wOk1hdGgucm91bmQoMUUzKgooYS54LWMueCkvYy53aWR0aCkvMUUzLDA9PWMuaGVpZ2h0PzA6TWF0aC5yb3VuZCgxRTMqKGEueS1jLnkpL2MuaGVpZ2h0KS8xRTMpLCExKX1yZXR1cm4gbnVsbH07bXhHcmFwaC5wcm90b3R5cGUuZ2V0QWxsQ29ubmVjdGlvbkNvbnN0cmFpbnRzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGwhPWEmJm51bGwhPWEuc2hhcGUmJm51bGwhPWEuc2hhcGUuc3RlbmNpbD9hLnNoYXBlLnN0ZW5jaWwuY29uc3RyYWludHM6bnVsbH07Cm14R3JhcGgucHJvdG90eXBlLmdldENvbm5lY3Rpb25Db25zdHJhaW50PWZ1bmN0aW9uKGEsYixjKXtiPW51bGw7dmFyIGQ9YS5zdHlsZVtjP214Q29uc3RhbnRzLlNUWUxFX0VYSVRfWDpteENvbnN0YW50cy5TVFlMRV9FTlRSWV9YXTtpZihudWxsIT1kKXt2YXIgZT1hLnN0eWxlW2M/bXhDb25zdGFudHMuU1RZTEVfRVhJVF9ZOm14Q29uc3RhbnRzLlNUWUxFX0VOVFJZX1ldO251bGwhPWUmJihiPW5ldyBteFBvaW50KHBhcnNlRmxvYXQoZCkscGFyc2VGbG9hdChlKSkpfXZhciBkPSExLGY9ZT0wO251bGwhPWImJihkPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxjP214Q29uc3RhbnRzLlNUWUxFX0VYSVRfUEVSSU1FVEVSOm14Q29uc3RhbnRzLlNUWUxFX0VOVFJZX1BFUklNRVRFUiwhMCksZT1wYXJzZUZsb2F0KGEuc3R5bGVbYz9teENvbnN0YW50cy5TVFlMRV9FWElUX0RYOm14Q29uc3RhbnRzLlNUWUxFX0VOVFJZX0RYXSksZj1wYXJzZUZsb2F0KGEuc3R5bGVbYz9teENvbnN0YW50cy5TVFlMRV9FWElUX0RZOgpteENvbnN0YW50cy5TVFlMRV9FTlRSWV9EWV0pLGU9aXNGaW5pdGUoZSk/ZTowLGY9aXNGaW5pdGUoZik/ZjowKTtyZXR1cm4gbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQoYixkLG51bGwsZSxmKX07Cm14R3JhcGgucHJvdG90eXBlLnNldENvbm5lY3Rpb25Db25zdHJhaW50PWZ1bmN0aW9uKGEsYixjLGQpe2lmKG51bGwhPWQpe3RoaXMubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7bnVsbD09ZHx8bnVsbD09ZC5wb2ludD8odGhpcy5zZXRDZWxsU3R5bGVzKGM/bXhDb25zdGFudHMuU1RZTEVfRVhJVF9YOm14Q29uc3RhbnRzLlNUWUxFX0VOVFJZX1gsbnVsbCxbYV0pLHRoaXMuc2V0Q2VsbFN0eWxlcyhjP214Q29uc3RhbnRzLlNUWUxFX0VYSVRfWTpteENvbnN0YW50cy5TVFlMRV9FTlRSWV9ZLG51bGwsW2FdKSx0aGlzLnNldENlbGxTdHlsZXMoYz9teENvbnN0YW50cy5TVFlMRV9FWElUX0RYOm14Q29uc3RhbnRzLlNUWUxFX0VOVFJZX0RYLG51bGwsW2FdKSx0aGlzLnNldENlbGxTdHlsZXMoYz9teENvbnN0YW50cy5TVFlMRV9FWElUX0RZOm14Q29uc3RhbnRzLlNUWUxFX0VOVFJZX0RZLG51bGwsW2FdKSx0aGlzLnNldENlbGxTdHlsZXMoYz9teENvbnN0YW50cy5TVFlMRV9FWElUX1BFUklNRVRFUjoKbXhDb25zdGFudHMuU1RZTEVfRU5UUllfUEVSSU1FVEVSLG51bGwsW2FdKSk6bnVsbCE9ZC5wb2ludCYmKHRoaXMuc2V0Q2VsbFN0eWxlcyhjP214Q29uc3RhbnRzLlNUWUxFX0VYSVRfWDpteENvbnN0YW50cy5TVFlMRV9FTlRSWV9YLGQucG9pbnQueCxbYV0pLHRoaXMuc2V0Q2VsbFN0eWxlcyhjP214Q29uc3RhbnRzLlNUWUxFX0VYSVRfWTpteENvbnN0YW50cy5TVFlMRV9FTlRSWV9ZLGQucG9pbnQueSxbYV0pLHRoaXMuc2V0Q2VsbFN0eWxlcyhjP214Q29uc3RhbnRzLlNUWUxFX0VYSVRfRFg6bXhDb25zdGFudHMuU1RZTEVfRU5UUllfRFgsZC5keCxbYV0pLHRoaXMuc2V0Q2VsbFN0eWxlcyhjP214Q29uc3RhbnRzLlNUWUxFX0VYSVRfRFk6bXhDb25zdGFudHMuU1RZTEVfRU5UUllfRFksZC5keSxbYV0pLGQucGVyaW1ldGVyP3RoaXMuc2V0Q2VsbFN0eWxlcyhjP214Q29uc3RhbnRzLlNUWUxFX0VYSVRfUEVSSU1FVEVSOm14Q29uc3RhbnRzLlNUWUxFX0VOVFJZX1BFUklNRVRFUiwKbnVsbCxbYV0pOnRoaXMuc2V0Q2VsbFN0eWxlcyhjP214Q29uc3RhbnRzLlNUWUxFX0VYSVRfUEVSSU1FVEVSOm14Q29uc3RhbnRzLlNUWUxFX0VOVFJZX1BFUklNRVRFUiwiMCIsW2FdKSl9ZmluYWxseXt0aGlzLm1vZGVsLmVuZFVwZGF0ZSgpfX19OwpteEdyYXBoLnByb3RvdHlwZS5nZXRDb25uZWN0aW9uUG9pbnQ9ZnVuY3Rpb24oYSxiLGMpe2M9bnVsbCE9Yz9jOiEwO3ZhciBkPW51bGw7aWYobnVsbCE9YSYmbnVsbCE9Yi5wb2ludCl7dmFyIGU9dGhpcy52aWV3LmdldFBlcmltZXRlckJvdW5kcyhhKSxmPW5ldyBteFBvaW50KGUuZ2V0Q2VudGVyWCgpLGUuZ2V0Q2VudGVyWSgpKSxnPWEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRElSRUNUSU9OXSxrPTA7bnVsbCE9ZyYmMT09bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FOQ0hPUl9QT0lOVF9ESVJFQ1RJT04sMSkmJihnPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEg/ays9MjcwOmc9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9XRVNUP2srPTE4MDpnPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEgmJihrKz05MCksZyE9bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIJiZnIT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEh8fGUucm90YXRlOTAoKSk7CnZhciBkPXRoaXMudmlldy5zY2FsZSxkPW5ldyBteFBvaW50KGUueCtiLnBvaW50LngqZS53aWR0aCtiLmR4KmQsZS55K2IucG9pbnQueSplLmhlaWdodCtiLmR5KmQpLGw9YS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9ST1RBVElPTl18fDA7aWYoYi5wZXJpbWV0ZXIpMCE9ayYmKGc9ZT0wLDkwPT1rP2c9MToxODA9PWs/ZT0tMToyNzA9PWsmJihnPS0xKSxkPW14VXRpbHMuZ2V0Um90YXRlZFBvaW50KGQsZSxnLGYpKSxkPXRoaXMudmlldy5nZXRQZXJpbWV0ZXJQb2ludChhLGQsITEpO2Vsc2UgaWYobCs9ayx0aGlzLmdldE1vZGVsKCkuaXNWZXJ0ZXgoYS5jZWxsKSl7az0xPT1hLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0ZMSVBIXTtiPTE9PWEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRkxJUFZdO251bGwhPWEuc2hhcGUmJm51bGwhPWEuc2hhcGUuc3RlbmNpbCYmKGs9MT09bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLCJzdGVuY2lsRmxpcEgiLDApfHxrLGI9MT09bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLAoic3RlbmNpbEZsaXBWIiwwKXx8Yik7aWYoZz09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIfHxnPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEgpYT1rLGs9YixiPWE7ayYmKGQueD0yKmUuZ2V0Q2VudGVyWCgpLWQueCk7YiYmKGQueT0yKmUuZ2V0Q2VudGVyWSgpLWQueSl9MCE9bCYmbnVsbCE9ZCYmKGE9bXhVdGlscy50b1JhZGlhbnMobCksZT1NYXRoLmNvcyhhKSxnPU1hdGguc2luKGEpLGQ9bXhVdGlscy5nZXRSb3RhdGVkUG9pbnQoZCxlLGcsZikpfWMmJm51bGwhPWQmJihkLng9TWF0aC5yb3VuZChkLngpLGQueT1NYXRoLnJvdW5kKGQueSkpO3JldHVybiBkfTsKbXhHcmFwaC5wcm90b3R5cGUuY29ubmVjdENlbGw9ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXt2YXIgZT10aGlzLm1vZGVsLmdldFRlcm1pbmFsKGEsYyk7dGhpcy5jZWxsQ29ubmVjdGVkKGEsYixjLGQpO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuQ09OTkVDVF9DRUxMLCJlZGdlIixhLCJ0ZXJtaW5hbCIsYiwic291cmNlIixjLCJwcmV2aW91cyIsZSkpfWZpbmFsbHl7dGhpcy5tb2RlbC5lbmRVcGRhdGUoKX1yZXR1cm4gYX07Cm14R3JhcGgucHJvdG90eXBlLmNlbGxDb25uZWN0ZWQ9ZnVuY3Rpb24oYSxiLGMsZCl7aWYobnVsbCE9YSl7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXt2YXIgZT10aGlzLm1vZGVsLmdldFRlcm1pbmFsKGEsYyk7dGhpcy5zZXRDb25uZWN0aW9uQ29uc3RyYWludChhLGIsYyxkKTt0aGlzLmlzUG9ydHNFbmFibGVkKCkmJihkPW51bGwsdGhpcy5pc1BvcnQoYikmJihkPWIuZ2V0SWQoKSxiPXRoaXMuZ2V0VGVybWluYWxGb3JQb3J0KGIsYykpLHRoaXMuc2V0Q2VsbFN0eWxlcyhjP214Q29uc3RhbnRzLlNUWUxFX1NPVVJDRV9QT1JUOm14Q29uc3RhbnRzLlNUWUxFX1RBUkdFVF9QT1JULGQsW2FdKSk7dGhpcy5tb2RlbC5zZXRUZXJtaW5hbChhLGIsYyk7dGhpcy5yZXNldEVkZ2VzT25Db25uZWN0JiZ0aGlzLnJlc2V0RWRnZShhKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkNFTExfQ09OTkVDVEVELCJlZGdlIixhLCJ0ZXJtaW5hbCIsYiwic291cmNlIiwKYywicHJldmlvdXMiLGUpKX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9fX07Cm14R3JhcGgucHJvdG90eXBlLmRpc2Nvbm5lY3RHcmFwaD1mdW5jdGlvbihhKXtpZihudWxsIT1hKXt0aGlzLm1vZGVsLmJlZ2luVXBkYXRlKCk7dHJ5e2Zvcih2YXIgYj10aGlzLnZpZXcuc2NhbGUsYz10aGlzLnZpZXcudHJhbnNsYXRlLGQ9bmV3IG14RGljdGlvbmFyeSxlPTA7ZTxhLmxlbmd0aDtlKyspZC5wdXQoYVtlXSwhMCk7Zm9yKGU9MDtlPGEubGVuZ3RoO2UrKylpZih0aGlzLm1vZGVsLmlzRWRnZShhW2VdKSl7dmFyIGY9dGhpcy5tb2RlbC5nZXRHZW9tZXRyeShhW2VdKTtpZihudWxsIT1mKXt2YXIgZz10aGlzLnZpZXcuZ2V0U3RhdGUoYVtlXSksaz10aGlzLnZpZXcuZ2V0U3RhdGUodGhpcy5tb2RlbC5nZXRQYXJlbnQoYVtlXSkpO2lmKG51bGwhPWcmJm51bGwhPWspe3ZhciBmPWYuY2xvbmUoKSxsPS1rLm9yaWdpbi54LG09LWsub3JpZ2luLnksbj1nLmFic29sdXRlUG9pbnRzLHA9dGhpcy5tb2RlbC5nZXRUZXJtaW5hbChhW2VdLCEwKTtpZihudWxsIT1wJiZ0aGlzLmlzQ2VsbERpc2Nvbm5lY3RhYmxlKGFbZV0sCnAsITApKXtmb3IoO251bGwhPXAmJiFkLmdldChwKTspcD10aGlzLm1vZGVsLmdldFBhcmVudChwKTtudWxsPT1wJiYoZi5zZXRUZXJtaW5hbFBvaW50KG5ldyBteFBvaW50KG5bMF0ueC9iLWMueCtsLG5bMF0ueS9iLWMueSttKSwhMCksdGhpcy5tb2RlbC5zZXRUZXJtaW5hbChhW2VdLG51bGwsITApKX12YXIgcT10aGlzLm1vZGVsLmdldFRlcm1pbmFsKGFbZV0sITEpO2lmKG51bGwhPXEmJnRoaXMuaXNDZWxsRGlzY29ubmVjdGFibGUoYVtlXSxxLCExKSl7Zm9yKDtudWxsIT1xJiYhZC5nZXQocSk7KXE9dGhpcy5tb2RlbC5nZXRQYXJlbnQocSk7aWYobnVsbD09cSl7dmFyIHI9bi5sZW5ndGgtMTtmLnNldFRlcm1pbmFsUG9pbnQobmV3IG14UG9pbnQobltyXS54L2ItYy54K2wsbltyXS55L2ItYy55K20pLCExKTt0aGlzLm1vZGVsLnNldFRlcm1pbmFsKGFbZV0sbnVsbCwhMSl9fXRoaXMubW9kZWwuc2V0R2VvbWV0cnkoYVtlXSxmKX19fX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9fX07Cm14R3JhcGgucHJvdG90eXBlLmdldEN1cnJlbnRSb290PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmlldy5jdXJyZW50Um9vdH07bXhHcmFwaC5wcm90b3R5cGUuZ2V0VHJhbnNsYXRlRm9yUm9vdD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbH07bXhHcmFwaC5wcm90b3R5cGUuaXNQb3J0PWZ1bmN0aW9uKGEpe3JldHVybiExfTtteEdyYXBoLnByb3RvdHlwZS5nZXRUZXJtaW5hbEZvclBvcnQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5tb2RlbC5nZXRQYXJlbnQoYSl9O214R3JhcGgucHJvdG90eXBlLmdldENoaWxkT2Zmc2V0Rm9yQ2VsbD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbH07bXhHcmFwaC5wcm90b3R5cGUuZW50ZXJHcm91cD1mdW5jdGlvbihhKXthPWF8fHRoaXMuZ2V0U2VsZWN0aW9uQ2VsbCgpO251bGwhPWEmJnRoaXMuaXNWYWxpZFJvb3QoYSkmJih0aGlzLnZpZXcuc2V0Q3VycmVudFJvb3QoYSksdGhpcy5jbGVhclNlbGVjdGlvbigpKX07Cm14R3JhcGgucHJvdG90eXBlLmV4aXRHcm91cD1mdW5jdGlvbigpe3ZhciBhPXRoaXMubW9kZWwuZ2V0Um9vdCgpLGI9dGhpcy5nZXRDdXJyZW50Um9vdCgpO2lmKG51bGwhPWIpe2Zvcih2YXIgYz10aGlzLm1vZGVsLmdldFBhcmVudChiKTtjIT1hJiYhdGhpcy5pc1ZhbGlkUm9vdChjKSYmdGhpcy5tb2RlbC5nZXRQYXJlbnQoYykhPWE7KWM9dGhpcy5tb2RlbC5nZXRQYXJlbnQoYyk7Yz09YXx8dGhpcy5tb2RlbC5nZXRQYXJlbnQoYyk9PWE/dGhpcy52aWV3LnNldEN1cnJlbnRSb290KG51bGwpOnRoaXMudmlldy5zZXRDdXJyZW50Um9vdChjKTtudWxsIT10aGlzLnZpZXcuZ2V0U3RhdGUoYikmJnRoaXMuc2V0U2VsZWN0aW9uQ2VsbChiKX19O214R3JhcGgucHJvdG90eXBlLmhvbWU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEN1cnJlbnRSb290KCk7bnVsbCE9YSYmKHRoaXMudmlldy5zZXRDdXJyZW50Um9vdChudWxsKSxudWxsIT10aGlzLnZpZXcuZ2V0U3RhdGUoYSkmJnRoaXMuc2V0U2VsZWN0aW9uQ2VsbChhKSl9OwpteEdyYXBoLnByb3RvdHlwZS5pc1ZhbGlkUm9vdD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YX07bXhHcmFwaC5wcm90b3R5cGUuZ2V0R3JhcGhCb3VuZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aWV3LmdldEdyYXBoQm91bmRzKCl9O214R3JhcGgucHJvdG90eXBlLmdldENlbGxCb3VuZHM9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVthXTtiJiYoZD1kLmNvbmNhdCh0aGlzLm1vZGVsLmdldEVkZ2VzKGEpKSk7ZD10aGlzLnZpZXcuZ2V0Qm91bmRzKGQpO2lmKGMpe2M9dGhpcy5tb2RlbC5nZXRDaGlsZENvdW50KGEpO2Zvcih2YXIgZT0wO2U8YztlKyspe3ZhciBmPXRoaXMuZ2V0Q2VsbEJvdW5kcyh0aGlzLm1vZGVsLmdldENoaWxkQXQoYSxlKSxiLCEwKTtudWxsIT1kP2QuYWRkKGYpOmQ9Zn19cmV0dXJuIGR9OwpteEdyYXBoLnByb3RvdHlwZS5nZXRCb3VuZGluZ0JveEZyb21HZW9tZXRyeT1mdW5jdGlvbihhLGIpe2I9bnVsbCE9Yj9iOiExO3ZhciBjPW51bGw7aWYobnVsbCE9YSlmb3IodmFyIGQ9MDtkPGEubGVuZ3RoO2QrKylpZihifHx0aGlzLm1vZGVsLmlzVmVydGV4KGFbZF0pKXt2YXIgZT10aGlzLmdldENlbGxHZW9tZXRyeShhW2RdKTtpZihudWxsIT1lKXt2YXIgZj1udWxsO2lmKHRoaXMubW9kZWwuaXNFZGdlKGFbZF0pKXtmPWZ1bmN0aW9uKGEpe251bGwhPWEmJihudWxsPT1nP2c9bmV3IG14UmVjdGFuZ2xlKGEueCxhLnksMCwwKTpnLmFkZChuZXcgbXhSZWN0YW5nbGUoYS54LGEueSwwLDApKSl9O251bGw9PXRoaXMubW9kZWwuZ2V0VGVybWluYWwoYVtkXSwhMCkmJmYoZS5nZXRUZXJtaW5hbFBvaW50KCEwKSk7bnVsbD09dGhpcy5tb2RlbC5nZXRUZXJtaW5hbChhW2RdLCExKSYmZihlLmdldFRlcm1pbmFsUG9pbnQoITEpKTtlPWUucG9pbnRzO2lmKG51bGwhPWUmJjA8ZS5sZW5ndGgpZm9yKHZhciBnPQpuZXcgbXhSZWN0YW5nbGUoZVswXS54LGVbMF0ueSwwLDApLGs9MTtrPGUubGVuZ3RoO2srKylmKGVba10pO2Y9Z31lbHNlIGs9dGhpcy5tb2RlbC5nZXRQYXJlbnQoYVtkXSksZS5yZWxhdGl2ZT90aGlzLm1vZGVsLmlzVmVydGV4KGspJiZrIT10aGlzLnZpZXcuY3VycmVudFJvb3QmJihnPXRoaXMuZ2V0Qm91bmRpbmdCb3hGcm9tR2VvbWV0cnkoW2tdLCExKSxudWxsIT1nJiYoZj1uZXcgbXhSZWN0YW5nbGUoZS54Kmcud2lkdGgsZS55KmcuaGVpZ2h0LGUud2lkdGgsZS5oZWlnaHQpLDA8PW14VXRpbHMuaW5kZXhPZihhLGspJiYoZi54Kz1nLngsZi55Kz1nLnkpKSk6KGY9bXhSZWN0YW5nbGUuZnJvbVJlY3RhbmdsZShlKSx0aGlzLm1vZGVsLmlzVmVydGV4KGspJiYwPD1teFV0aWxzLmluZGV4T2YoYSxrKSYmKGc9dGhpcy5nZXRCb3VuZGluZ0JveEZyb21HZW9tZXRyeShba10sITEpLG51bGwhPWcmJihmLngrPWcueCxmLnkrPWcueSkpKSxudWxsIT1mJiZudWxsIT1lLm9mZnNldCYmCihmLngrPWUub2Zmc2V0LngsZi55Kz1lLm9mZnNldC55KSxlPXRoaXMuZ2V0Q3VycmVudENlbGxTdHlsZShhW2RdKSxudWxsIT1mJiYoZT1teFV0aWxzLmdldFZhbHVlKGUsbXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT04sMCksMCE9ZSYmKGY9bXhVdGlscy5nZXRCb3VuZGluZ0JveChmLGUpKSk7bnVsbCE9ZiYmKG51bGw9PWM/Yz1teFJlY3RhbmdsZS5mcm9tUmVjdGFuZ2xlKGYpOmMuYWRkKGYpKX19cmV0dXJuIGN9O214R3JhcGgucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oYSl7dGhpcy52aWV3LmNsZWFyKGEsbnVsbD09YSk7dGhpcy52aWV3LnZhbGlkYXRlKCk7dGhpcy5zaXplRGlkQ2hhbmdlKCk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5SRUZSRVNIKSl9O214R3JhcGgucHJvdG90eXBlLnNuYXA9ZnVuY3Rpb24oYSl7dGhpcy5ncmlkRW5hYmxlZCYmKGE9TWF0aC5yb3VuZChhL3RoaXMuZ3JpZFNpemUpKnRoaXMuZ3JpZFNpemUpO3JldHVybiBhfTsKbXhHcmFwaC5wcm90b3R5cGUuc25hcERlbHRhPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9dGhpcy52aWV3LnRyYW5zbGF0ZSxnPXRoaXMudmlldy5zY2FsZTshYyYmdGhpcy5ncmlkRW5hYmxlZD8oYz10aGlzLmdyaWRTaXplKmcqLjUsZHx8KGQ9Yi54LSh0aGlzLnNuYXAoYi54L2ctZi54KStmLngpKmcsYS54PU1hdGguYWJzKGEueC1kKTxjPzA6dGhpcy5zbmFwKGEueC9nKSpnLWQpLGV8fChiPWIueS0odGhpcy5zbmFwKGIueS9nLWYueSkrZi55KSpnLGEueT1NYXRoLmFicyhhLnktYik8Yz8wOnRoaXMuc25hcChhLnkvZykqZy1iKSk6KGM9LjUqZyxkfHwoZD1iLngtKE1hdGgucm91bmQoYi54L2ctZi54KStmLngpKmcsYS54PU1hdGguYWJzKGEueC1kKTxjPzA6TWF0aC5yb3VuZChhLngvZykqZy1kKSxlfHwoYj1iLnktKE1hdGgucm91bmQoYi55L2ctZi55KStmLnkpKmcsYS55PU1hdGguYWJzKGEueS1iKTxjPzA6TWF0aC5yb3VuZChhLnkvZykqZy1iKSk7cmV0dXJuIGF9OwpteEdyYXBoLnByb3RvdHlwZS5wYW5HcmFwaD1mdW5jdGlvbihhLGIpe2lmKHRoaXMudXNlU2Nyb2xsYmFyc0ZvclBhbm5pbmcmJm14VXRpbHMuaGFzU2Nyb2xsYmFycyh0aGlzLmNvbnRhaW5lcikpdGhpcy5jb250YWluZXIuc2Nyb2xsTGVmdD0tYSx0aGlzLmNvbnRhaW5lci5zY3JvbGxUb3A9LWI7ZWxzZXt2YXIgYz10aGlzLnZpZXcuZ2V0Q2FudmFzKCk7aWYodGhpcy5kaWFsZWN0PT1teENvbnN0YW50cy5ESUFMRUNUX1NWRylpZigwPT1hJiYwPT1iKXtpZihteENsaWVudC5JU19JRT9jLnNldEF0dHJpYnV0ZSgidHJhbnNmb3JtIiwidHJhbnNsYXRlKCIrYSsiLCIrYisiKSIpOmMucmVtb3ZlQXR0cmlidXRlKCJ0cmFuc2Zvcm0iKSxudWxsIT10aGlzLnNoaWZ0UHJldmlldzEpe2Zvcih2YXIgZD10aGlzLnNoaWZ0UHJldmlldzEuZmlyc3RDaGlsZDtudWxsIT1kOyl7dmFyIGU9ZC5uZXh0U2libGluZzt0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZChkKTtkPWV9bnVsbCE9dGhpcy5zaGlmdFByZXZpZXcxLnBhcmVudE5vZGUmJgp0aGlzLnNoaWZ0UHJldmlldzEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnNoaWZ0UHJldmlldzEpO3RoaXMuc2hpZnRQcmV2aWV3MT1udWxsO3RoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKGMucGFyZW50Tm9kZSk7Zm9yKGQ9dGhpcy5zaGlmdFByZXZpZXcyLmZpcnN0Q2hpbGQ7bnVsbCE9ZDspZT1kLm5leHRTaWJsaW5nLHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKGQpLGQ9ZTtudWxsIT10aGlzLnNoaWZ0UHJldmlldzIucGFyZW50Tm9kZSYmdGhpcy5zaGlmdFByZXZpZXcyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5zaGlmdFByZXZpZXcyKTt0aGlzLnNoaWZ0UHJldmlldzI9bnVsbH19ZWxzZXtjLnNldEF0dHJpYnV0ZSgidHJhbnNmb3JtIiwidHJhbnNsYXRlKCIrYSsiLCIrYisiKSIpO2lmKG51bGw9PXRoaXMuc2hpZnRQcmV2aWV3MSl7dGhpcy5zaGlmdFByZXZpZXcxPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3RoaXMuc2hpZnRQcmV2aWV3MS5zdHlsZS5wb3NpdGlvbj0KImFic29sdXRlIjt0aGlzLnNoaWZ0UHJldmlldzEuc3R5bGUub3ZlcmZsb3c9InZpc2libGUiO3RoaXMuc2hpZnRQcmV2aWV3Mj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTt0aGlzLnNoaWZ0UHJldmlldzIuc3R5bGUucG9zaXRpb249ImFic29sdXRlIjt0aGlzLnNoaWZ0UHJldmlldzIuc3R5bGUub3ZlcmZsb3c9InZpc2libGUiO2Zvcih2YXIgZj10aGlzLnNoaWZ0UHJldmlldzEsZD10aGlzLmNvbnRhaW5lci5maXJzdENoaWxkO251bGwhPWQ7KWU9ZC5uZXh0U2libGluZyxkIT1jLnBhcmVudE5vZGU/Zi5hcHBlbmRDaGlsZChkKTpmPXRoaXMuc2hpZnRQcmV2aWV3MixkPWU7bnVsbCE9dGhpcy5zaGlmdFByZXZpZXcxLmZpcnN0Q2hpbGQmJnRoaXMuY29udGFpbmVyLmluc2VydEJlZm9yZSh0aGlzLnNoaWZ0UHJldmlldzEsYy5wYXJlbnROb2RlKTtudWxsIT10aGlzLnNoaWZ0UHJldmlldzIuZmlyc3RDaGlsZCYmdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5zaGlmdFByZXZpZXcyKX10aGlzLnNoaWZ0UHJldmlldzEuc3R5bGUubGVmdD0KYSsicHgiO3RoaXMuc2hpZnRQcmV2aWV3MS5zdHlsZS50b3A9YisicHgiO3RoaXMuc2hpZnRQcmV2aWV3Mi5zdHlsZS5sZWZ0PWErInB4Ijt0aGlzLnNoaWZ0UHJldmlldzIuc3R5bGUudG9wPWIrInB4In1lbHNlIGMuc3R5bGUubGVmdD1hKyJweCIsYy5zdHlsZS50b3A9YisicHgiO3RoaXMucGFuRHg9YTt0aGlzLnBhbkR5PWI7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5QQU4pKX19O214R3JhcGgucHJvdG90eXBlLnpvb21Jbj1mdW5jdGlvbigpe3RoaXMuem9vbSh0aGlzLnpvb21GYWN0b3IpfTtteEdyYXBoLnByb3RvdHlwZS56b29tT3V0PWZ1bmN0aW9uKCl7dGhpcy56b29tKDEvdGhpcy56b29tRmFjdG9yKX07Cm14R3JhcGgucHJvdG90eXBlLnpvb21BY3R1YWw9ZnVuY3Rpb24oKXsxPT10aGlzLnZpZXcuc2NhbGU/dGhpcy52aWV3LnNldFRyYW5zbGF0ZSgwLDApOih0aGlzLnZpZXcudHJhbnNsYXRlLng9MCx0aGlzLnZpZXcudHJhbnNsYXRlLnk9MCx0aGlzLnZpZXcuc2V0U2NhbGUoMSkpfTtteEdyYXBoLnByb3RvdHlwZS56b29tVG89ZnVuY3Rpb24oYSxiKXt0aGlzLnpvb20oYS90aGlzLnZpZXcuc2NhbGUsYil9OwpteEdyYXBoLnByb3RvdHlwZS5jZW50ZXI9ZnVuY3Rpb24oYSxiLGMsZCl7YT1udWxsIT1hP2E6ITA7Yj1udWxsIT1iP2I6ITA7Yz1udWxsIT1jP2M6LjU7ZD1udWxsIT1kP2Q6LjU7dmFyIGU9bXhVdGlscy5oYXNTY3JvbGxiYXJzKHRoaXMuY29udGFpbmVyKSxmPTIqdGhpcy5nZXRCb3JkZXIoKSxnPXRoaXMuY29udGFpbmVyLmNsaWVudFdpZHRoLWYsZj10aGlzLmNvbnRhaW5lci5jbGllbnRIZWlnaHQtZixrPXRoaXMuZ2V0R3JhcGhCb3VuZHMoKSxsPXRoaXMudmlldy50cmFuc2xhdGUsbT10aGlzLnZpZXcuc2NhbGUsbj1hP2ctay53aWR0aDowLHA9Yj9mLWsuaGVpZ2h0OjA7ZT8oay54LT1sLngsay55LT1sLnksYT10aGlzLmNvbnRhaW5lci5zY3JvbGxXaWR0aCxiPXRoaXMuY29udGFpbmVyLnNjcm9sbEhlaWdodCxhPmcmJihuPTApLGI+ZiYmKHA9MCksdGhpcy52aWV3LnNldFRyYW5zbGF0ZShNYXRoLmZsb29yKG4vMi1rLngpLE1hdGguZmxvb3IocC8yLWsueSkpLHRoaXMuY29udGFpbmVyLnNjcm9sbExlZnQ9CihhLWcpLzIsdGhpcy5jb250YWluZXIuc2Nyb2xsVG9wPShiLWYpLzIpOnRoaXMudmlldy5zZXRUcmFuc2xhdGUoYT9NYXRoLmZsb29yKGwueC1rLngqbStuKmMvbSk6bC54LGI/TWF0aC5mbG9vcihsLnktay55Km0rcCpkL20pOmwueSl9OwpteEdyYXBoLnByb3RvdHlwZS56b29tPWZ1bmN0aW9uKGEsYil7Yj1udWxsIT1iP2I6dGhpcy5jZW50ZXJab29tO3ZhciBjPU1hdGgucm91bmQodGhpcy52aWV3LnNjYWxlKmEqMTAwKS8xMDAsZD10aGlzLnZpZXcuZ2V0U3RhdGUodGhpcy5nZXRTZWxlY3Rpb25DZWxsKCkpO2E9Yy90aGlzLnZpZXcuc2NhbGU7aWYodGhpcy5rZWVwU2VsZWN0aW9uVmlzaWJsZU9uWm9vbSYmbnVsbCE9ZClkPW5ldyBteFJlY3RhbmdsZShkLngqYSxkLnkqYSxkLndpZHRoKmEsZC5oZWlnaHQqYSksdGhpcy52aWV3LnNjYWxlPWMsdGhpcy5zY3JvbGxSZWN0VG9WaXNpYmxlKGQpfHwodGhpcy52aWV3LnJldmFsaWRhdGUoKSx0aGlzLnZpZXcuc2V0U2NhbGUoYykpO2Vsc2UgaWYoZD1teFV0aWxzLmhhc1Njcm9sbGJhcnModGhpcy5jb250YWluZXIpLGImJiFkKXt2YXIgZD10aGlzLmNvbnRhaW5lci5vZmZzZXRXaWR0aCxlPXRoaXMuY29udGFpbmVyLm9mZnNldEhlaWdodDtpZigxPGEpdmFyIGY9KGEtMSkvCigyKmMpLGQ9ZCotZixlPWUqLWY7ZWxzZSBmPSgxL2EtMSkvKDIqdGhpcy52aWV3LnNjYWxlKSxkKj1mLGUqPWY7dGhpcy52aWV3LnNjYWxlQW5kVHJhbnNsYXRlKGMsdGhpcy52aWV3LnRyYW5zbGF0ZS54K2QsdGhpcy52aWV3LnRyYW5zbGF0ZS55K2UpfWVsc2V7dmFyIGY9dGhpcy52aWV3LnRyYW5zbGF0ZS54LGc9dGhpcy52aWV3LnRyYW5zbGF0ZS55LGs9dGhpcy5jb250YWluZXIuc2Nyb2xsTGVmdCxsPXRoaXMuY29udGFpbmVyLnNjcm9sbFRvcDt0aGlzLnZpZXcuc2V0U2NhbGUoYyk7ZCYmKGU9ZD0wLGImJihkPXRoaXMuY29udGFpbmVyLm9mZnNldFdpZHRoKihhLTEpLzIsZT10aGlzLmNvbnRhaW5lci5vZmZzZXRIZWlnaHQqKGEtMSkvMiksdGhpcy5jb250YWluZXIuc2Nyb2xsTGVmdD0odGhpcy52aWV3LnRyYW5zbGF0ZS54LWYpKnRoaXMudmlldy5zY2FsZStNYXRoLnJvdW5kKGsqYStkKSx0aGlzLmNvbnRhaW5lci5zY3JvbGxUb3A9KHRoaXMudmlldy50cmFuc2xhdGUueS0KZykqdGhpcy52aWV3LnNjYWxlK01hdGgucm91bmQobCphK2UpKX19OwpteEdyYXBoLnByb3RvdHlwZS56b29tVG9SZWN0PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY29udGFpbmVyLmNsaWVudFdpZHRoL2Eud2lkdGgvKHRoaXMuY29udGFpbmVyLmNsaWVudEhlaWdodC9hLmhlaWdodCk7YS54PU1hdGgubWF4KDAsYS54KTthLnk9TWF0aC5tYXgoMCxhLnkpO3ZhciBjPU1hdGgubWluKHRoaXMuY29udGFpbmVyLnNjcm9sbFdpZHRoLGEueCthLndpZHRoKSxkPU1hdGgubWluKHRoaXMuY29udGFpbmVyLnNjcm9sbEhlaWdodCxhLnkrYS5oZWlnaHQpO2Eud2lkdGg9Yy1hLng7YS5oZWlnaHQ9ZC1hLnk7MT5iPyhiPWEuaGVpZ2h0L2IsYz0oYi1hLmhlaWdodCkvMixhLmhlaWdodD1iLGEueS09TWF0aC5taW4oYS55LGMpLGQ9TWF0aC5taW4odGhpcy5jb250YWluZXIuc2Nyb2xsSGVpZ2h0LGEueSthLmhlaWdodCksYS5oZWlnaHQ9ZC1hLnkpOihiKj1hLndpZHRoLGM9KGItYS53aWR0aCkvMixhLndpZHRoPWIsYS54LT1NYXRoLm1pbihhLngsYyksYz1NYXRoLm1pbih0aGlzLmNvbnRhaW5lci5zY3JvbGxXaWR0aCwKYS54K2Eud2lkdGgpLGEud2lkdGg9Yy1hLngpO2I9dGhpcy5jb250YWluZXIuY2xpZW50V2lkdGgvYS53aWR0aDtjPXRoaXMudmlldy5zY2FsZSpiO214VXRpbHMuaGFzU2Nyb2xsYmFycyh0aGlzLmNvbnRhaW5lcik/KHRoaXMudmlldy5zZXRTY2FsZShjKSx0aGlzLmNvbnRhaW5lci5zY3JvbGxMZWZ0PU1hdGgucm91bmQoYS54KmIpLHRoaXMuY29udGFpbmVyLnNjcm9sbFRvcD1NYXRoLnJvdW5kKGEueSpiKSk6dGhpcy52aWV3LnNjYWxlQW5kVHJhbnNsYXRlKGMsdGhpcy52aWV3LnRyYW5zbGF0ZS54LWEueC90aGlzLnZpZXcuc2NhbGUsdGhpcy52aWV3LnRyYW5zbGF0ZS55LWEueS90aGlzLnZpZXcuc2NhbGUpfTsKbXhHcmFwaC5wcm90b3R5cGUuc2Nyb2xsQ2VsbFRvVmlzaWJsZT1mdW5jdGlvbihhLGIpe3ZhciBjPS10aGlzLnZpZXcudHJhbnNsYXRlLngsZD0tdGhpcy52aWV3LnRyYW5zbGF0ZS55LGU9dGhpcy52aWV3LmdldFN0YXRlKGEpO251bGwhPWUmJihjPW5ldyBteFJlY3RhbmdsZShjK2UueCxkK2UueSxlLndpZHRoLGUuaGVpZ2h0KSxiJiZudWxsIT10aGlzLmNvbnRhaW5lciYmKGQ9dGhpcy5jb250YWluZXIuY2xpZW50V2lkdGgsZT10aGlzLmNvbnRhaW5lci5jbGllbnRIZWlnaHQsYy54PWMuZ2V0Q2VudGVyWCgpLWQvMixjLndpZHRoPWQsYy55PWMuZ2V0Q2VudGVyWSgpLWUvMixjLmhlaWdodD1lKSxkPW5ldyBteFBvaW50KHRoaXMudmlldy50cmFuc2xhdGUueCx0aGlzLnZpZXcudHJhbnNsYXRlLnkpLHRoaXMuc2Nyb2xsUmVjdFRvVmlzaWJsZShjKSYmKGM9bmV3IG14UG9pbnQodGhpcy52aWV3LnRyYW5zbGF0ZS54LHRoaXMudmlldy50cmFuc2xhdGUueSksdGhpcy52aWV3LnRyYW5zbGF0ZS54PQpkLngsdGhpcy52aWV3LnRyYW5zbGF0ZS55PWQueSx0aGlzLnZpZXcuc2V0VHJhbnNsYXRlKGMueCxjLnkpKSl9OwpteEdyYXBoLnByb3RvdHlwZS5zY3JvbGxSZWN0VG9WaXNpYmxlPWZ1bmN0aW9uKGEpe3ZhciBiPSExO2lmKG51bGwhPWEpe3ZhciBjPXRoaXMuY29udGFpbmVyLm9mZnNldFdpZHRoLGQ9dGhpcy5jb250YWluZXIub2Zmc2V0SGVpZ2h0LGU9TWF0aC5taW4oYyxhLndpZHRoKSxmPU1hdGgubWluKGQsYS5oZWlnaHQpO2lmKG14VXRpbHMuaGFzU2Nyb2xsYmFycyh0aGlzLmNvbnRhaW5lcikpe2M9dGhpcy5jb250YWluZXI7YS54Kz10aGlzLnZpZXcudHJhbnNsYXRlLng7YS55Kz10aGlzLnZpZXcudHJhbnNsYXRlLnk7dmFyIGc9Yy5zY3JvbGxMZWZ0LWEueCxkPU1hdGgubWF4KGctYy5zY3JvbGxMZWZ0LDApOzA8Zz9jLnNjcm9sbExlZnQtPWcrMjooZz1hLngrZS1jLnNjcm9sbExlZnQtYy5jbGllbnRXaWR0aCwwPGcmJihjLnNjcm9sbExlZnQrPWcrMikpO2U9Yy5zY3JvbGxUb3AtYS55O2c9TWF0aC5tYXgoMCxlLWMuc2Nyb2xsVG9wKTswPGU/Yy5zY3JvbGxUb3AtPWUrMjooZT1hLnkrCmYtYy5zY3JvbGxUb3AtYy5jbGllbnRIZWlnaHQsMDxlJiYoYy5zY3JvbGxUb3ArPWUrMikpO3RoaXMudXNlU2Nyb2xsYmFyc0ZvclBhbm5pbmd8fDA9PWQmJjA9PWd8fHRoaXMudmlldy5zZXRUcmFuc2xhdGUoZCxnKX1lbHNle3ZhciBnPS10aGlzLnZpZXcudHJhbnNsYXRlLngsaz0tdGhpcy52aWV3LnRyYW5zbGF0ZS55LGw9dGhpcy52aWV3LnNjYWxlO2EueCtlPmcrYyYmKHRoaXMudmlldy50cmFuc2xhdGUueC09KGEueCtlLWMtZykvbCxiPSEwKTthLnkrZj5rK2QmJih0aGlzLnZpZXcudHJhbnNsYXRlLnktPShhLnkrZi1kLWspL2wsYj0hMCk7YS54PGcmJih0aGlzLnZpZXcudHJhbnNsYXRlLngrPShnLWEueCkvbCxiPSEwKTthLnk8ayYmKHRoaXMudmlldy50cmFuc2xhdGUueSs9KGstYS55KS9sLGI9ITApO2ImJih0aGlzLnZpZXcucmVmcmVzaCgpLG51bGwhPXRoaXMuc2VsZWN0aW9uQ2VsbHNIYW5kbGVyJiZ0aGlzLnNlbGVjdGlvbkNlbGxzSGFuZGxlci5yZWZyZXNoKCkpfX1yZXR1cm4gYn07Cm14R3JhcGgucHJvdG90eXBlLmdldENlbGxHZW9tZXRyeT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5tb2RlbC5nZXRHZW9tZXRyeShhKX07bXhHcmFwaC5wcm90b3R5cGUuaXNDZWxsVmlzaWJsZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5tb2RlbC5pc1Zpc2libGUoYSl9O214R3JhcGgucHJvdG90eXBlLmlzQ2VsbENvbGxhcHNlZD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5tb2RlbC5pc0NvbGxhcHNlZChhKX07bXhHcmFwaC5wcm90b3R5cGUuaXNDZWxsQ29ubmVjdGFibGU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubW9kZWwuaXNDb25uZWN0YWJsZShhKX07Cm14R3JhcGgucHJvdG90eXBlLmlzT3J0aG9nb25hbD1mdW5jdGlvbihhKXt2YXIgYj1hLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX09SVEhPR09OQUxdO2lmKG51bGwhPWIpcmV0dXJuIGI7YT10aGlzLnZpZXcuZ2V0RWRnZVN0eWxlKGEpO3JldHVybiBhPT1teEVkZ2VTdHlsZS5TZWdtZW50Q29ubmVjdG9yfHxhPT1teEVkZ2VTdHlsZS5FbGJvd0Nvbm5lY3Rvcnx8YT09bXhFZGdlU3R5bGUuU2lkZVRvU2lkZXx8YT09bXhFZGdlU3R5bGUuVG9wVG9Cb3R0b218fGE9PW14RWRnZVN0eWxlLkVudGl0eVJlbGF0aW9ufHxhPT1teEVkZ2VTdHlsZS5PcnRoQ29ubmVjdG9yfTtteEdyYXBoLnByb3RvdHlwZS5pc0xvb3A9ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRWaXNpYmxlVGVybWluYWxTdGF0ZSghMCk7YT1hLmdldFZpc2libGVUZXJtaW5hbFN0YXRlKCExKTtyZXR1cm4gbnVsbCE9YiYmYj09YX07bXhHcmFwaC5wcm90b3R5cGUuaXNDbG9uZUV2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiBteEV2ZW50LmlzQ29udHJvbERvd24oYSl9OwpteEdyYXBoLnByb3RvdHlwZS5pc1RyYW5zcGFyZW50Q2xpY2tFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4hMX07bXhHcmFwaC5wcm90b3R5cGUuaXNUb2dnbGVFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gbXhDbGllbnQuSVNfTUFDP214RXZlbnQuaXNNZXRhRG93bihhKTpteEV2ZW50LmlzQ29udHJvbERvd24oYSl9O214R3JhcGgucHJvdG90eXBlLmlzR3JpZEVuYWJsZWRFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YSYmIW14RXZlbnQuaXNBbHREb3duKGEpfTtteEdyYXBoLnByb3RvdHlwZS5pc0NvbnN0cmFpbmVkRXZlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG14RXZlbnQuaXNTaGlmdERvd24oYSl9O214R3JhcGgucHJvdG90eXBlLmlzSWdub3JlVGVybWluYWxFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4hMX07bXhHcmFwaC5wcm90b3R5cGUudmFsaWRhdGlvbkFsZXJ0PWZ1bmN0aW9uKGEpe214VXRpbHMuYWxlcnQoYSl9OwpteEdyYXBoLnByb3RvdHlwZS5pc0VkZ2VWYWxpZD1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIG51bGw9PXRoaXMuZ2V0RWRnZVZhbGlkYXRpb25FcnJvcihhLGIsYyl9OwpteEdyYXBoLnByb3RvdHlwZS5nZXRFZGdlVmFsaWRhdGlvbkVycm9yPWZ1bmN0aW9uKGEsYixjKXtpZihudWxsIT1hJiYhdGhpcy5pc0FsbG93RGFuZ2xpbmdFZGdlcygpJiYobnVsbD09Ynx8bnVsbD09YykpcmV0dXJuIiI7aWYobnVsbCE9YSYmbnVsbD09dGhpcy5tb2RlbC5nZXRUZXJtaW5hbChhLCEwKSYmbnVsbD09dGhpcy5tb2RlbC5nZXRUZXJtaW5hbChhLCExKSlyZXR1cm4gbnVsbDtpZighdGhpcy5hbGxvd0xvb3BzJiZiPT1jJiZudWxsIT1ifHwhdGhpcy5pc1ZhbGlkQ29ubmVjdGlvbihiLGMpKXJldHVybiIiO2lmKG51bGwhPWImJm51bGwhPWMpe3ZhciBkPSIiO2lmKCF0aGlzLm11bHRpZ3JhcGgpe3ZhciBlPXRoaXMubW9kZWwuZ2V0RWRnZXNCZXR3ZWVuKGIsYywhMCk7aWYoMTxlLmxlbmd0aHx8MT09ZS5sZW5ndGgmJmVbMF0hPWEpZCs9KG14UmVzb3VyY2VzLmdldCh0aGlzLmFscmVhZHlDb25uZWN0ZWRSZXNvdXJjZSl8fHRoaXMuYWxyZWFkeUNvbm5lY3RlZFJlc291cmNlKSsKIlxuIn12YXIgZT10aGlzLm1vZGVsLmdldERpcmVjdGVkRWRnZUNvdW50KGIsITAsYSksZj10aGlzLm1vZGVsLmdldERpcmVjdGVkRWRnZUNvdW50KGMsITEsYSk7aWYobnVsbCE9dGhpcy5tdWx0aXBsaWNpdGllcylmb3IodmFyIGc9MDtnPHRoaXMubXVsdGlwbGljaXRpZXMubGVuZ3RoO2crKyl7dmFyIGs9dGhpcy5tdWx0aXBsaWNpdGllc1tnXS5jaGVjayh0aGlzLGEsYixjLGUsZik7bnVsbCE9ayYmKGQrPWspfWs9dGhpcy52YWxpZGF0ZUVkZ2UoYSxiLGMpO251bGwhPWsmJihkKz1rKTtyZXR1cm4gMDxkLmxlbmd0aD9kOm51bGx9cmV0dXJuIHRoaXMuYWxsb3dEYW5nbGluZ0VkZ2VzP251bGw6IiJ9O214R3JhcGgucHJvdG90eXBlLnZhbGlkYXRlRWRnZT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIG51bGx9OwpteEdyYXBoLnByb3RvdHlwZS52YWxpZGF0ZUdyYXBoPWZ1bmN0aW9uKGEsYil7YT1udWxsIT1hP2E6dGhpcy5tb2RlbC5nZXRSb290KCk7Yj1udWxsIT1iP2I6e307Zm9yKHZhciBjPSEwLGQ9dGhpcy5tb2RlbC5nZXRDaGlsZENvdW50KGEpLGU9MDtlPGQ7ZSsrKXt2YXIgZj10aGlzLm1vZGVsLmdldENoaWxkQXQoYSxlKSxnPWI7dGhpcy5pc1ZhbGlkUm9vdChmKSYmKGc9e30pO2c9dGhpcy52YWxpZGF0ZUdyYXBoKGYsZyk7bnVsbCE9Zz90aGlzLnNldENlbGxXYXJuaW5nKGYsZy5yZXBsYWNlKC9cbi9nLCI8YnI+IikpOnRoaXMuc2V0Q2VsbFdhcm5pbmcoZixudWxsKTtjPWMmJm51bGw9PWd9ZD0iIjt0aGlzLmlzQ2VsbENvbGxhcHNlZChhKSYmIWMmJihkKz0obXhSZXNvdXJjZXMuZ2V0KHRoaXMuY29udGFpbnNWYWxpZGF0aW9uRXJyb3JzUmVzb3VyY2UpfHx0aGlzLmNvbnRhaW5zVmFsaWRhdGlvbkVycm9yc1Jlc291cmNlKSsiXG4iKTtkPXRoaXMubW9kZWwuaXNFZGdlKGEpP2QrCih0aGlzLmdldEVkZ2VWYWxpZGF0aW9uRXJyb3IoYSx0aGlzLm1vZGVsLmdldFRlcm1pbmFsKGEsITApLHRoaXMubW9kZWwuZ2V0VGVybWluYWwoYSwhMSkpfHwiIik6ZCsodGhpcy5nZXRDZWxsVmFsaWRhdGlvbkVycm9yKGEpfHwiIik7ZT10aGlzLnZhbGlkYXRlQ2VsbChhLGIpO251bGwhPWUmJihkKz1lKTtudWxsPT10aGlzLm1vZGVsLmdldFBhcmVudChhKSYmdGhpcy52aWV3LnZhbGlkYXRlKCk7cmV0dXJuIDA8ZC5sZW5ndGh8fCFjP2Q6bnVsbH07Cm14R3JhcGgucHJvdG90eXBlLmdldENlbGxWYWxpZGF0aW9uRXJyb3I9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5tb2RlbC5nZXREaXJlY3RlZEVkZ2VDb3VudChhLCEwKSxjPXRoaXMubW9kZWwuZ2V0RGlyZWN0ZWRFZGdlQ291bnQoYSwhMSk7YT10aGlzLm1vZGVsLmdldFZhbHVlKGEpO3ZhciBkPSIiO2lmKG51bGwhPXRoaXMubXVsdGlwbGljaXRpZXMpZm9yKHZhciBlPTA7ZTx0aGlzLm11bHRpcGxpY2l0aWVzLmxlbmd0aDtlKyspe3ZhciBmPXRoaXMubXVsdGlwbGljaXRpZXNbZV07Zi5zb3VyY2UmJm14VXRpbHMuaXNOb2RlKGEsZi50eXBlLGYuYXR0cixmLnZhbHVlKSYmKGI+Zi5tYXh8fGI8Zi5taW4pP2QrPWYuY291bnRFcnJvcisiXG4iOiFmLnNvdXJjZSYmbXhVdGlscy5pc05vZGUoYSxmLnR5cGUsZi5hdHRyLGYudmFsdWUpJiYoYz5mLm1heHx8YzxmLm1pbikmJihkKz1mLmNvdW50RXJyb3IrIlxuIil9cmV0dXJuIDA8ZC5sZW5ndGg/ZDpudWxsfTsKbXhHcmFwaC5wcm90b3R5cGUudmFsaWRhdGVDZWxsPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGx9O214R3JhcGgucHJvdG90eXBlLmdldEJhY2tncm91bmRJbWFnZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJhY2tncm91bmRJbWFnZX07bXhHcmFwaC5wcm90b3R5cGUuc2V0QmFja2dyb3VuZEltYWdlPWZ1bmN0aW9uKGEpe3RoaXMuYmFja2dyb3VuZEltYWdlPWF9O214R3JhcGgucHJvdG90eXBlLmdldEZvbGRpbmdJbWFnZT1mdW5jdGlvbihhKXtpZihudWxsIT1hJiZ0aGlzLmZvbGRpbmdFbmFibGVkJiYhdGhpcy5nZXRNb2RlbCgpLmlzRWRnZShhLmNlbGwpKXt2YXIgYj10aGlzLmlzQ2VsbENvbGxhcHNlZChhLmNlbGwpO2lmKHRoaXMuaXNDZWxsRm9sZGFibGUoYS5jZWxsLCFiKSlyZXR1cm4gYj90aGlzLmNvbGxhcHNlZEltYWdlOnRoaXMuZXhwYW5kZWRJbWFnZX1yZXR1cm4gbnVsbH07Cm14R3JhcGgucHJvdG90eXBlLmNvbnZlcnRWYWx1ZVRvU3RyaW5nPWZ1bmN0aW9uKGEpe2E9dGhpcy5tb2RlbC5nZXRWYWx1ZShhKTtpZihudWxsIT1hKXtpZihteFV0aWxzLmlzTm9kZShhKSlyZXR1cm4gYS5ub2RlTmFtZTtpZigiZnVuY3Rpb24iPT10eXBlb2YgYS50b1N0cmluZylyZXR1cm4gYS50b1N0cmluZygpfXJldHVybiIifTtteEdyYXBoLnByb3RvdHlwZS5nZXRMYWJlbD1mdW5jdGlvbihhKXt2YXIgYj0iIjtpZih0aGlzLmxhYmVsc1Zpc2libGUmJm51bGwhPWEpe3ZhciBjPXRoaXMuZ2V0Q3VycmVudENlbGxTdHlsZShhKTtteFV0aWxzLmdldFZhbHVlKGMsbXhDb25zdGFudHMuU1RZTEVfTk9MQUJFTCwhMSl8fChiPXRoaXMuY29udmVydFZhbHVlVG9TdHJpbmcoYSkpfXJldHVybiBifTtteEdyYXBoLnByb3RvdHlwZS5pc0h0bWxMYWJlbD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pc0h0bWxMYWJlbHMoKX07bXhHcmFwaC5wcm90b3R5cGUuaXNIdG1sTGFiZWxzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaHRtbExhYmVsc307Cm14R3JhcGgucHJvdG90eXBlLnNldEh0bWxMYWJlbHM9ZnVuY3Rpb24oYSl7dGhpcy5odG1sTGFiZWxzPWF9O214R3JhcGgucHJvdG90eXBlLmlzV3JhcHBpbmc9ZnVuY3Rpb24oYSl7cmV0dXJuIndyYXAiPT10aGlzLmdldEN1cnJlbnRDZWxsU3R5bGUoYSlbbXhDb25zdGFudHMuU1RZTEVfV0hJVEVfU1BBQ0VdfTtteEdyYXBoLnByb3RvdHlwZS5pc0xhYmVsQ2xpcHBlZD1mdW5jdGlvbihhKXtyZXR1cm4iaGlkZGVuIj09dGhpcy5nZXRDdXJyZW50Q2VsbFN0eWxlKGEpW214Q29uc3RhbnRzLlNUWUxFX09WRVJGTE9XXX07Cm14R3JhcGgucHJvdG90eXBlLmdldFRvb2x0aXA9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9bnVsbDtudWxsIT1hJiYobnVsbD09YS5jb250cm9sfHxiIT1hLmNvbnRyb2wubm9kZSYmYi5wYXJlbnROb2RlIT1hLmNvbnRyb2wubm9kZXx8KGU9dGhpcy5jb2xsYXBzZUV4cGFuZFJlc291cmNlLGU9bXhVdGlscy5odG1sRW50aXRpZXMobXhSZXNvdXJjZXMuZ2V0KGUpfHxlKS5yZXBsYWNlKC9cXG4vZywiPGJyPiIpKSxudWxsPT1lJiZudWxsIT1hLm92ZXJsYXlzJiZhLm92ZXJsYXlzLnZpc2l0KGZ1bmN0aW9uKGEsYyl7bnVsbCE9ZXx8YiE9Yy5ub2RlJiZiLnBhcmVudE5vZGUhPWMubm9kZXx8KGU9Yy5vdmVybGF5LnRvU3RyaW5nKCkpfSksbnVsbD09ZSYmKGM9dGhpcy5zZWxlY3Rpb25DZWxsc0hhbmRsZXIuZ2V0SGFuZGxlcihhLmNlbGwpLG51bGwhPWMmJiJmdW5jdGlvbiI9PXR5cGVvZiBjLmdldFRvb2x0aXBGb3JOb2RlJiYoZT1jLmdldFRvb2x0aXBGb3JOb2RlKGIpKSksbnVsbD09CmUmJihlPXRoaXMuZ2V0VG9vbHRpcEZvckNlbGwoYS5jZWxsKSkpO3JldHVybiBlfTtteEdyYXBoLnByb3RvdHlwZS5nZXRUb29sdGlwRm9yQ2VsbD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YSYmbnVsbCE9YS5nZXRUb29sdGlwP2EuZ2V0VG9vbHRpcCgpOnRoaXMuY29udmVydFZhbHVlVG9TdHJpbmcoYSl9O214R3JhcGgucHJvdG90eXBlLmdldExpbmtGb3JDZWxsPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsfTtteEdyYXBoLnByb3RvdHlwZS5nZXRDdXJzb3JGb3JNb3VzZUV2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdldEN1cnNvckZvckNlbGwoYS5nZXRDZWxsKCkpfTtteEdyYXBoLnByb3RvdHlwZS5nZXRDdXJzb3JGb3JDZWxsPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsfTsKbXhHcmFwaC5wcm90b3R5cGUuZ2V0U3RhcnRTaXplPWZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IG14UmVjdGFuZ2xlLGQ9dGhpcy5nZXRDdXJyZW50Q2VsbFN0eWxlKGEsYiksZT1wYXJzZUludChteFV0aWxzLmdldFZhbHVlKGQsbXhDb25zdGFudHMuU1RZTEVfU1RBUlRTSVpFLG14Q29uc3RhbnRzLkRFRkFVTFRfU1RBUlRTSVpFKSk7bXhVdGlscy5nZXRWYWx1ZShkLG14Q29uc3RhbnRzLlNUWUxFX0hPUklaT05UQUwsITApP2MuaGVpZ2h0PWU6Yy53aWR0aD1lO3JldHVybiBjfTsKbXhHcmFwaC5wcm90b3R5cGUuZ2V0U3dpbWxhbmVEaXJlY3Rpb249ZnVuY3Rpb24oYSl7dmFyIGI9bXhVdGlscy5nZXRWYWx1ZShhLG14Q29uc3RhbnRzLlNUWUxFX0RJUkVDVElPTixteENvbnN0YW50cy5ESVJFQ1RJT05fRUFTVCksYz0xPT1teFV0aWxzLmdldFZhbHVlKGEsbXhDb25zdGFudHMuU1RZTEVfRkxJUEgsMCksZD0xPT1teFV0aWxzLmdldFZhbHVlKGEsbXhDb25zdGFudHMuU1RZTEVfRkxJUFYsMCk7YT1teFV0aWxzLmdldFZhbHVlKGEsbXhDb25zdGFudHMuU1RZTEVfSE9SSVpPTlRBTCwhMCk/MDozO2I9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSD9hLS06Yj09bXhDb25zdGFudHMuRElSRUNUSU9OX1dFU1Q/YSs9MjpiPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEgmJihhKz0xKTtiPW14VXRpbHMubW9kKGEsMik7YyYmMT09YiYmKGErPTIpO2QmJjA9PWImJihhKz0yKTtyZXR1cm5bbXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRILG14Q29uc3RhbnRzLkRJUkVDVElPTl9FQVNULApteENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEgsbXhDb25zdGFudHMuRElSRUNUSU9OX1dFU1RdW214VXRpbHMubW9kKGEsNCldfTtteEdyYXBoLnByb3RvdHlwZS5nZXRBY3R1YWxTdGFydFNpemU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgbXhSZWN0YW5nbGU7aWYodGhpcy5pc1N3aW1sYW5lKGEsYikpe3ZhciBkPXRoaXMuZ2V0Q3VycmVudENlbGxTdHlsZShhLGIpLGU9cGFyc2VJbnQobXhVdGlscy5nZXRWYWx1ZShkLG14Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRSxteENvbnN0YW50cy5ERUZBVUxUX1NUQVJUU0laRSkpLGQ9dGhpcy5nZXRTd2ltbGFuZURpcmVjdGlvbihkKTtkPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEg/Yy55PWU6ZD09bXhDb25zdGFudHMuRElSRUNUSU9OX1dFU1Q/Yy54PWU6ZD09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIP2MuaGVpZ2h0PWU6Yy53aWR0aD1lfXJldHVybiBjfTsKbXhHcmFwaC5wcm90b3R5cGUuZ2V0SW1hZ2U9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWEmJm51bGwhPWEuc3R5bGU/YS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9JTUFHRV06bnVsbH07bXhHcmFwaC5wcm90b3R5cGUuaXNUcmFuc3BhcmVudFN0YXRlPWZ1bmN0aW9uKGEpe3ZhciBiPSExO2lmKG51bGwhPWEpdmFyIGI9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1NUUk9LRUNPTE9SLG14Q29uc3RhbnRzLk5PTkUpLGM9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0ZJTExDT0xPUixteENvbnN0YW50cy5OT05FKSxiPWI9PW14Q29uc3RhbnRzLk5PTkUmJmM9PW14Q29uc3RhbnRzLk5PTkUmJm51bGw9PXRoaXMuZ2V0SW1hZ2UoYSk7cmV0dXJuIGJ9OwpteEdyYXBoLnByb3RvdHlwZS5nZXRWZXJ0aWNhbEFsaWduPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiZudWxsIT1hLnN0eWxlP2Euc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfVkVSVElDQUxfQUxJR05dfHxteENvbnN0YW50cy5BTElHTl9NSURETEU6bnVsbH07bXhHcmFwaC5wcm90b3R5cGUuZ2V0SW5kaWNhdG9yQ29sb3I9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWEmJm51bGwhPWEuc3R5bGU/YS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9JTkRJQ0FUT1JfQ09MT1JdOm51bGx9O214R3JhcGgucHJvdG90eXBlLmdldEluZGljYXRvckdyYWRpZW50Q29sb3I9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWEmJm51bGwhPWEuc3R5bGU/YS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9JTkRJQ0FUT1JfR1JBRElFTlRDT0xPUl06bnVsbH07Cm14R3JhcGgucHJvdG90eXBlLmdldEluZGljYXRvclNoYXBlPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiZudWxsIT1hLnN0eWxlP2Euc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfSU5ESUNBVE9SX1NIQVBFXTpudWxsfTtteEdyYXBoLnByb3RvdHlwZS5nZXRJbmRpY2F0b3JJbWFnZT1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YSYmbnVsbCE9YS5zdHlsZT9hLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0lORElDQVRPUl9JTUFHRV06bnVsbH07bXhHcmFwaC5wcm90b3R5cGUuZ2V0Qm9yZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm9yZGVyfTtteEdyYXBoLnByb3RvdHlwZS5zZXRCb3JkZXI9ZnVuY3Rpb24oYSl7dGhpcy5ib3JkZXI9YX07Cm14R3JhcGgucHJvdG90eXBlLmlzU3dpbWxhbmU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbnVsbD09YXx8dGhpcy5tb2RlbC5nZXRQYXJlbnQoYSk9PXRoaXMubW9kZWwuZ2V0Um9vdCgpfHx0aGlzLm1vZGVsLmlzRWRnZShhKT8hMTp0aGlzLmdldEN1cnJlbnRDZWxsU3R5bGUoYSxiKVtteENvbnN0YW50cy5TVFlMRV9TSEFQRV09PW14Q29uc3RhbnRzLlNIQVBFX1NXSU1MQU5FfTtteEdyYXBoLnByb3RvdHlwZS5pc1Jlc2l6ZUNvbnRhaW5lcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlc2l6ZUNvbnRhaW5lcn07bXhHcmFwaC5wcm90b3R5cGUuc2V0UmVzaXplQ29udGFpbmVyPWZ1bmN0aW9uKGEpe3RoaXMucmVzaXplQ29udGFpbmVyPWF9O214R3JhcGgucHJvdG90eXBlLmlzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuYWJsZWR9O214R3JhcGgucHJvdG90eXBlLnNldEVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5lbmFibGVkPWF9OwpteEdyYXBoLnByb3RvdHlwZS5pc0VzY2FwZUVuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lc2NhcGVFbmFibGVkfTtteEdyYXBoLnByb3RvdHlwZS5zZXRFc2NhcGVFbmFibGVkPWZ1bmN0aW9uKGEpe3RoaXMuZXNjYXBlRW5hYmxlZD1hfTtteEdyYXBoLnByb3RvdHlwZS5pc0ludm9rZXNTdG9wQ2VsbEVkaXRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnZva2VzU3RvcENlbGxFZGl0aW5nfTtteEdyYXBoLnByb3RvdHlwZS5zZXRJbnZva2VzU3RvcENlbGxFZGl0aW5nPWZ1bmN0aW9uKGEpe3RoaXMuaW52b2tlc1N0b3BDZWxsRWRpdGluZz1hfTtteEdyYXBoLnByb3RvdHlwZS5pc0VudGVyU3RvcHNDZWxsRWRpdGluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVudGVyU3RvcHNDZWxsRWRpdGluZ307bXhHcmFwaC5wcm90b3R5cGUuc2V0RW50ZXJTdG9wc0NlbGxFZGl0aW5nPWZ1bmN0aW9uKGEpe3RoaXMuZW50ZXJTdG9wc0NlbGxFZGl0aW5nPWF9OwpteEdyYXBoLnByb3RvdHlwZS5pc0NlbGxMb2NrZWQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5tb2RlbC5nZXRHZW9tZXRyeShhKTtyZXR1cm4gdGhpcy5pc0NlbGxzTG9ja2VkKCl8fG51bGwhPWImJnRoaXMubW9kZWwuaXNWZXJ0ZXgoYSkmJmIucmVsYXRpdmV9O214R3JhcGgucHJvdG90eXBlLmlzQ2VsbHNMb2NrZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jZWxsc0xvY2tlZH07bXhHcmFwaC5wcm90b3R5cGUuc2V0Q2VsbHNMb2NrZWQ9ZnVuY3Rpb24oYSl7dGhpcy5jZWxsc0xvY2tlZD1hfTtteEdyYXBoLnByb3RvdHlwZS5nZXRDbG9uZWFibGVDZWxscz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5tb2RlbC5maWx0ZXJDZWxscyhhLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzQ2VsbENsb25lYWJsZShhKX0pKX07Cm14R3JhcGgucHJvdG90eXBlLmlzQ2VsbENsb25lYWJsZT1mdW5jdGlvbihhKXthPXRoaXMuZ2V0Q3VycmVudENlbGxTdHlsZShhKTtyZXR1cm4gdGhpcy5pc0NlbGxzQ2xvbmVhYmxlKCkmJjAhPWFbbXhDb25zdGFudHMuU1RZTEVfQ0xPTkVBQkxFXX07bXhHcmFwaC5wcm90b3R5cGUuaXNDZWxsc0Nsb25lYWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNlbGxzQ2xvbmVhYmxlfTtteEdyYXBoLnByb3RvdHlwZS5zZXRDZWxsc0Nsb25lYWJsZT1mdW5jdGlvbihhKXt0aGlzLmNlbGxzQ2xvbmVhYmxlPWF9O214R3JhcGgucHJvdG90eXBlLmdldEV4cG9ydGFibGVDZWxscz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5tb2RlbC5maWx0ZXJDZWxscyhhLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNhbkV4cG9ydENlbGwoYSl9KSl9O214R3JhcGgucHJvdG90eXBlLmNhbkV4cG9ydENlbGw9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZXhwb3J0RW5hYmxlZH07Cm14R3JhcGgucHJvdG90eXBlLmdldEltcG9ydGFibGVDZWxscz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5tb2RlbC5maWx0ZXJDZWxscyhhLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNhbkltcG9ydENlbGwoYSl9KSl9O214R3JhcGgucHJvdG90eXBlLmNhbkltcG9ydENlbGw9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaW1wb3J0RW5hYmxlZH07bXhHcmFwaC5wcm90b3R5cGUuaXNDZWxsU2VsZWN0YWJsZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pc0NlbGxzU2VsZWN0YWJsZSgpfTtteEdyYXBoLnByb3RvdHlwZS5pc0NlbGxzU2VsZWN0YWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNlbGxzU2VsZWN0YWJsZX07bXhHcmFwaC5wcm90b3R5cGUuc2V0Q2VsbHNTZWxlY3RhYmxlPWZ1bmN0aW9uKGEpe3RoaXMuY2VsbHNTZWxlY3RhYmxlPWF9OwpteEdyYXBoLnByb3RvdHlwZS5nZXREZWxldGFibGVDZWxscz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5tb2RlbC5maWx0ZXJDZWxscyhhLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzQ2VsbERlbGV0YWJsZShhKX0pKX07bXhHcmFwaC5wcm90b3R5cGUuaXNDZWxsRGVsZXRhYmxlPWZ1bmN0aW9uKGEpe2E9dGhpcy5nZXRDdXJyZW50Q2VsbFN0eWxlKGEpO3JldHVybiB0aGlzLmlzQ2VsbHNEZWxldGFibGUoKSYmMCE9YVtteENvbnN0YW50cy5TVFlMRV9ERUxFVEFCTEVdfTtteEdyYXBoLnByb3RvdHlwZS5pc0NlbGxzRGVsZXRhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2VsbHNEZWxldGFibGV9O214R3JhcGgucHJvdG90eXBlLnNldENlbGxzRGVsZXRhYmxlPWZ1bmN0aW9uKGEpe3RoaXMuY2VsbHNEZWxldGFibGU9YX07Cm14R3JhcGgucHJvdG90eXBlLmlzTGFiZWxNb3ZhYmxlPWZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmlzQ2VsbExvY2tlZChhKSYmKHRoaXMubW9kZWwuaXNFZGdlKGEpJiZ0aGlzLmVkZ2VMYWJlbHNNb3ZhYmxlfHx0aGlzLm1vZGVsLmlzVmVydGV4KGEpJiZ0aGlzLnZlcnRleExhYmVsc01vdmFibGUpfTtteEdyYXBoLnByb3RvdHlwZS5pc0NlbGxSb3RhdGFibGU9ZnVuY3Rpb24oYSl7cmV0dXJuIDAhPXRoaXMuZ2V0Q3VycmVudENlbGxTdHlsZShhKVtteENvbnN0YW50cy5TVFlMRV9ST1RBVEFCTEVdfTtteEdyYXBoLnByb3RvdHlwZS5nZXRNb3ZhYmxlQ2VsbHM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubW9kZWwuZmlsdGVyQ2VsbHMoYSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pc0NlbGxNb3ZhYmxlKGEpfSkpfTsKbXhHcmFwaC5wcm90b3R5cGUuaXNDZWxsTW92YWJsZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldEN1cnJlbnRDZWxsU3R5bGUoYSk7cmV0dXJuIHRoaXMuaXNDZWxsc01vdmFibGUoKSYmIXRoaXMuaXNDZWxsTG9ja2VkKGEpJiYwIT1iW214Q29uc3RhbnRzLlNUWUxFX01PVkFCTEVdfTtteEdyYXBoLnByb3RvdHlwZS5pc0NlbGxzTW92YWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNlbGxzTW92YWJsZX07bXhHcmFwaC5wcm90b3R5cGUuc2V0Q2VsbHNNb3ZhYmxlPWZ1bmN0aW9uKGEpe3RoaXMuY2VsbHNNb3ZhYmxlPWF9O214R3JhcGgucHJvdG90eXBlLmlzR3JpZEVuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ncmlkRW5hYmxlZH07bXhHcmFwaC5wcm90b3R5cGUuc2V0R3JpZEVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5ncmlkRW5hYmxlZD1hfTtteEdyYXBoLnByb3RvdHlwZS5pc1BvcnRzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBvcnRzRW5hYmxlZH07Cm14R3JhcGgucHJvdG90eXBlLnNldFBvcnRzRW5hYmxlZD1mdW5jdGlvbihhKXt0aGlzLnBvcnRzRW5hYmxlZD1hfTtteEdyYXBoLnByb3RvdHlwZS5nZXRHcmlkU2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdyaWRTaXplfTtteEdyYXBoLnByb3RvdHlwZS5zZXRHcmlkU2l6ZT1mdW5jdGlvbihhKXt0aGlzLmdyaWRTaXplPWF9O214R3JhcGgucHJvdG90eXBlLmdldFRvbGVyYW5jZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRvbGVyYW5jZX07bXhHcmFwaC5wcm90b3R5cGUuc2V0VG9sZXJhbmNlPWZ1bmN0aW9uKGEpe3RoaXMudG9sZXJhbmNlPWF9O214R3JhcGgucHJvdG90eXBlLmlzVmVydGV4TGFiZWxzTW92YWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZlcnRleExhYmVsc01vdmFibGV9O214R3JhcGgucHJvdG90eXBlLnNldFZlcnRleExhYmVsc01vdmFibGU9ZnVuY3Rpb24oYSl7dGhpcy52ZXJ0ZXhMYWJlbHNNb3ZhYmxlPWF9OwpteEdyYXBoLnByb3RvdHlwZS5pc0VkZ2VMYWJlbHNNb3ZhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRnZUxhYmVsc01vdmFibGV9O214R3JhcGgucHJvdG90eXBlLnNldEVkZ2VMYWJlbHNNb3ZhYmxlPWZ1bmN0aW9uKGEpe3RoaXMuZWRnZUxhYmVsc01vdmFibGU9YX07bXhHcmFwaC5wcm90b3R5cGUuaXNTd2ltbGFuZU5lc3Rpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zd2ltbGFuZU5lc3Rpbmd9O214R3JhcGgucHJvdG90eXBlLnNldFN3aW1sYW5lTmVzdGluZz1mdW5jdGlvbihhKXt0aGlzLnN3aW1sYW5lTmVzdGluZz1hfTtteEdyYXBoLnByb3RvdHlwZS5pc1N3aW1sYW5lU2VsZWN0aW9uRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN3aW1sYW5lU2VsZWN0aW9uRW5hYmxlZH07bXhHcmFwaC5wcm90b3R5cGUuc2V0U3dpbWxhbmVTZWxlY3Rpb25FbmFibGVkPWZ1bmN0aW9uKGEpe3RoaXMuc3dpbWxhbmVTZWxlY3Rpb25FbmFibGVkPWF9OwpteEdyYXBoLnByb3RvdHlwZS5pc011bHRpZ3JhcGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tdWx0aWdyYXBofTtteEdyYXBoLnByb3RvdHlwZS5zZXRNdWx0aWdyYXBoPWZ1bmN0aW9uKGEpe3RoaXMubXVsdGlncmFwaD1hfTtteEdyYXBoLnByb3RvdHlwZS5pc0FsbG93TG9vcHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hbGxvd0xvb3BzfTtteEdyYXBoLnByb3RvdHlwZS5zZXRBbGxvd0RhbmdsaW5nRWRnZXM9ZnVuY3Rpb24oYSl7dGhpcy5hbGxvd0RhbmdsaW5nRWRnZXM9YX07bXhHcmFwaC5wcm90b3R5cGUuaXNBbGxvd0RhbmdsaW5nRWRnZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hbGxvd0RhbmdsaW5nRWRnZXN9O214R3JhcGgucHJvdG90eXBlLnNldENvbm5lY3RhYmxlRWRnZXM9ZnVuY3Rpb24oYSl7dGhpcy5jb25uZWN0YWJsZUVkZ2VzPWF9O214R3JhcGgucHJvdG90eXBlLmlzQ29ubmVjdGFibGVFZGdlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbm5lY3RhYmxlRWRnZXN9OwpteEdyYXBoLnByb3RvdHlwZS5zZXRDbG9uZUludmFsaWRFZGdlcz1mdW5jdGlvbihhKXt0aGlzLmNsb25lSW52YWxpZEVkZ2VzPWF9O214R3JhcGgucHJvdG90eXBlLmlzQ2xvbmVJbnZhbGlkRWRnZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbG9uZUludmFsaWRFZGdlc307bXhHcmFwaC5wcm90b3R5cGUuc2V0QWxsb3dMb29wcz1mdW5jdGlvbihhKXt0aGlzLmFsbG93TG9vcHM9YX07bXhHcmFwaC5wcm90b3R5cGUuaXNEaXNjb25uZWN0T25Nb3ZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGlzY29ubmVjdE9uTW92ZX07bXhHcmFwaC5wcm90b3R5cGUuc2V0RGlzY29ubmVjdE9uTW92ZT1mdW5jdGlvbihhKXt0aGlzLmRpc2Nvbm5lY3RPbk1vdmU9YX07bXhHcmFwaC5wcm90b3R5cGUuaXNEcm9wRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRyb3BFbmFibGVkfTsKbXhHcmFwaC5wcm90b3R5cGUuc2V0RHJvcEVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5kcm9wRW5hYmxlZD1hfTtteEdyYXBoLnByb3RvdHlwZS5pc1NwbGl0RW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNwbGl0RW5hYmxlZH07bXhHcmFwaC5wcm90b3R5cGUuc2V0U3BsaXRFbmFibGVkPWZ1bmN0aW9uKGEpe3RoaXMuc3BsaXRFbmFibGVkPWF9O214R3JhcGgucHJvdG90eXBlLmlzQ2VsbFJlc2l6YWJsZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldEN1cnJlbnRDZWxsU3R5bGUoYSk7cmV0dXJuIHRoaXMuaXNDZWxsc1Jlc2l6YWJsZSgpJiYhdGhpcy5pc0NlbGxMb2NrZWQoYSkmJiIwIiE9bXhVdGlscy5nZXRWYWx1ZShiLG14Q29uc3RhbnRzLlNUWUxFX1JFU0laQUJMRSwiMSIpfTtteEdyYXBoLnByb3RvdHlwZS5pc0NlbGxzUmVzaXphYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2VsbHNSZXNpemFibGV9OwpteEdyYXBoLnByb3RvdHlwZS5zZXRDZWxsc1Jlc2l6YWJsZT1mdW5jdGlvbihhKXt0aGlzLmNlbGxzUmVzaXphYmxlPWF9O214R3JhcGgucHJvdG90eXBlLmlzVGVybWluYWxQb2ludE1vdmFibGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4hMH07bXhHcmFwaC5wcm90b3R5cGUuaXNDZWxsQmVuZGFibGU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRDdXJyZW50Q2VsbFN0eWxlKGEpO3JldHVybiB0aGlzLmlzQ2VsbHNCZW5kYWJsZSgpJiYhdGhpcy5pc0NlbGxMb2NrZWQoYSkmJjAhPWJbbXhDb25zdGFudHMuU1RZTEVfQkVOREFCTEVdfTtteEdyYXBoLnByb3RvdHlwZS5pc0NlbGxzQmVuZGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jZWxsc0JlbmRhYmxlfTtteEdyYXBoLnByb3RvdHlwZS5zZXRDZWxsc0JlbmRhYmxlPWZ1bmN0aW9uKGEpe3RoaXMuY2VsbHNCZW5kYWJsZT1hfTsKbXhHcmFwaC5wcm90b3R5cGUuaXNDZWxsRWRpdGFibGU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRDdXJyZW50Q2VsbFN0eWxlKGEpO3JldHVybiB0aGlzLmlzQ2VsbHNFZGl0YWJsZSgpJiYhdGhpcy5pc0NlbGxMb2NrZWQoYSkmJjAhPWJbbXhDb25zdGFudHMuU1RZTEVfRURJVEFCTEVdfTtteEdyYXBoLnByb3RvdHlwZS5pc0NlbGxzRWRpdGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jZWxsc0VkaXRhYmxlfTtteEdyYXBoLnByb3RvdHlwZS5zZXRDZWxsc0VkaXRhYmxlPWZ1bmN0aW9uKGEpe3RoaXMuY2VsbHNFZGl0YWJsZT1hfTtteEdyYXBoLnByb3RvdHlwZS5pc0NlbGxEaXNjb25uZWN0YWJsZT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuaXNDZWxsc0Rpc2Nvbm5lY3RhYmxlKCkmJiF0aGlzLmlzQ2VsbExvY2tlZChhKX07bXhHcmFwaC5wcm90b3R5cGUuaXNDZWxsc0Rpc2Nvbm5lY3RhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2VsbHNEaXNjb25uZWN0YWJsZX07Cm14R3JhcGgucHJvdG90eXBlLnNldENlbGxzRGlzY29ubmVjdGFibGU9ZnVuY3Rpb24oYSl7dGhpcy5jZWxsc0Rpc2Nvbm5lY3RhYmxlPWF9O214R3JhcGgucHJvdG90eXBlLmlzVmFsaWRTb3VyY2U9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWEmJnRoaXMuYWxsb3dEYW5nbGluZ0VkZ2VzfHxudWxsIT1hJiYoIXRoaXMubW9kZWwuaXNFZGdlKGEpfHx0aGlzLmNvbm5lY3RhYmxlRWRnZXMpJiZ0aGlzLmlzQ2VsbENvbm5lY3RhYmxlKGEpfTtteEdyYXBoLnByb3RvdHlwZS5pc1ZhbGlkVGFyZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzVmFsaWRTb3VyY2UoYSl9O214R3JhcGgucHJvdG90eXBlLmlzVmFsaWRDb25uZWN0aW9uPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuaXNWYWxpZFNvdXJjZShhKSYmdGhpcy5pc1ZhbGlkVGFyZ2V0KGIpfTtteEdyYXBoLnByb3RvdHlwZS5zZXRDb25uZWN0YWJsZT1mdW5jdGlvbihhKXt0aGlzLmNvbm5lY3Rpb25IYW5kbGVyLnNldEVuYWJsZWQoYSl9OwpteEdyYXBoLnByb3RvdHlwZS5pc0Nvbm5lY3RhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29ubmVjdGlvbkhhbmRsZXIuaXNFbmFibGVkKCl9O214R3JhcGgucHJvdG90eXBlLnNldFRvb2x0aXBzPWZ1bmN0aW9uKGEpe3RoaXMudG9vbHRpcEhhbmRsZXIuc2V0RW5hYmxlZChhKX07bXhHcmFwaC5wcm90b3R5cGUuc2V0UGFubmluZz1mdW5jdGlvbihhKXt0aGlzLnBhbm5pbmdIYW5kbGVyLnBhbm5pbmdFbmFibGVkPWF9O214R3JhcGgucHJvdG90eXBlLmlzRWRpdGluZz1mdW5jdGlvbihhKXtpZihudWxsIT10aGlzLmNlbGxFZGl0b3Ipe3ZhciBiPXRoaXMuY2VsbEVkaXRvci5nZXRFZGl0aW5nQ2VsbCgpO3JldHVybiBudWxsPT1hP251bGwhPWI6YT09Yn1yZXR1cm4hMX07bXhHcmFwaC5wcm90b3R5cGUuaXNBdXRvU2l6ZUNlbGw9ZnVuY3Rpb24oYSl7YT10aGlzLmdldEN1cnJlbnRDZWxsU3R5bGUoYSk7cmV0dXJuIHRoaXMuaXNBdXRvU2l6ZUNlbGxzKCl8fDE9PWFbbXhDb25zdGFudHMuU1RZTEVfQVVUT1NJWkVdfTsKbXhHcmFwaC5wcm90b3R5cGUuaXNBdXRvU2l6ZUNlbGxzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXV0b1NpemVDZWxsc307bXhHcmFwaC5wcm90b3R5cGUuc2V0QXV0b1NpemVDZWxscz1mdW5jdGlvbihhKXt0aGlzLmF1dG9TaXplQ2VsbHM9YX07bXhHcmFwaC5wcm90b3R5cGUuaXNFeHRlbmRQYXJlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIXRoaXMuZ2V0TW9kZWwoKS5pc0VkZ2UoYSkmJnRoaXMuaXNFeHRlbmRQYXJlbnRzKCl9O214R3JhcGgucHJvdG90eXBlLmlzRXh0ZW5kUGFyZW50cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmV4dGVuZFBhcmVudHN9O214R3JhcGgucHJvdG90eXBlLnNldEV4dGVuZFBhcmVudHM9ZnVuY3Rpb24oYSl7dGhpcy5leHRlbmRQYXJlbnRzPWF9O214R3JhcGgucHJvdG90eXBlLmlzRXh0ZW5kUGFyZW50c09uQWRkPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmV4dGVuZFBhcmVudHNPbkFkZH07Cm14R3JhcGgucHJvdG90eXBlLnNldEV4dGVuZFBhcmVudHNPbkFkZD1mdW5jdGlvbihhKXt0aGlzLmV4dGVuZFBhcmVudHNPbkFkZD1hfTtteEdyYXBoLnByb3RvdHlwZS5pc0V4dGVuZFBhcmVudHNPbk1vdmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5leHRlbmRQYXJlbnRzT25Nb3ZlfTtteEdyYXBoLnByb3RvdHlwZS5zZXRFeHRlbmRQYXJlbnRzT25Nb3ZlPWZ1bmN0aW9uKGEpe3RoaXMuZXh0ZW5kUGFyZW50c09uTW92ZT1hfTtteEdyYXBoLnByb3RvdHlwZS5pc1JlY3Vyc2l2ZVJlc2l6ZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5yZWN1cnNpdmVSZXNpemV9O214R3JhcGgucHJvdG90eXBlLnNldFJlY3Vyc2l2ZVJlc2l6ZT1mdW5jdGlvbihhKXt0aGlzLnJlY3Vyc2l2ZVJlc2l6ZT1hfTtteEdyYXBoLnByb3RvdHlwZS5pc0NvbnN0cmFpbkNoaWxkPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzQ29uc3RyYWluQ2hpbGRyZW4oKSYmIXRoaXMuZ2V0TW9kZWwoKS5pc0VkZ2UodGhpcy5nZXRNb2RlbCgpLmdldFBhcmVudChhKSl9OwpteEdyYXBoLnByb3RvdHlwZS5pc0NvbnN0cmFpbkNoaWxkcmVuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RyYWluQ2hpbGRyZW59O214R3JhcGgucHJvdG90eXBlLnNldENvbnN0cmFpbkNoaWxkcmVuPWZ1bmN0aW9uKGEpe3RoaXMuY29uc3RyYWluQ2hpbGRyZW49YX07bXhHcmFwaC5wcm90b3R5cGUuaXNDb25zdHJhaW5SZWxhdGl2ZUNoaWxkcmVuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RyYWluUmVsYXRpdmVDaGlsZHJlbn07bXhHcmFwaC5wcm90b3R5cGUuc2V0Q29uc3RyYWluUmVsYXRpdmVDaGlsZHJlbj1mdW5jdGlvbihhKXt0aGlzLmNvbnN0cmFpblJlbGF0aXZlQ2hpbGRyZW49YX07bXhHcmFwaC5wcm90b3R5cGUuaXNBbGxvd05lZ2F0aXZlQ29vcmRpbmF0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hbGxvd05lZ2F0aXZlQ29vcmRpbmF0ZXN9OwpteEdyYXBoLnByb3RvdHlwZS5zZXRBbGxvd05lZ2F0aXZlQ29vcmRpbmF0ZXM9ZnVuY3Rpb24oYSl7dGhpcy5hbGxvd05lZ2F0aXZlQ29vcmRpbmF0ZXM9YX07bXhHcmFwaC5wcm90b3R5cGUuZ2V0T3ZlcmxhcD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pc0FsbG93T3ZlcmxhcFBhcmVudChhKT90aGlzLmRlZmF1bHRPdmVybGFwOjB9O214R3JhcGgucHJvdG90eXBlLmlzQWxsb3dPdmVybGFwUGFyZW50PWZ1bmN0aW9uKGEpe3JldHVybiExfTtteEdyYXBoLnByb3RvdHlwZS5nZXRGb2xkYWJsZUNlbGxzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMubW9kZWwuZmlsdGVyQ2VsbHMoYSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pc0NlbGxGb2xkYWJsZShhLGIpfSkpfTsKbXhHcmFwaC5wcm90b3R5cGUuaXNDZWxsRm9sZGFibGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldEN1cnJlbnRDZWxsU3R5bGUoYSk7cmV0dXJuIDA8dGhpcy5tb2RlbC5nZXRDaGlsZENvdW50KGEpJiYwIT1jW214Q29uc3RhbnRzLlNUWUxFX0ZPTERBQkxFXX07bXhHcmFwaC5wcm90b3R5cGUuaXNWYWxpZERyb3BUYXJnZXQ9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBudWxsIT1hJiYodGhpcy5pc1NwbGl0RW5hYmxlZCgpJiZ0aGlzLmlzU3BsaXRUYXJnZXQoYSxiLGMpfHwhdGhpcy5tb2RlbC5pc0VkZ2UoYSkmJih0aGlzLmlzU3dpbWxhbmUoYSl8fDA8dGhpcy5tb2RlbC5nZXRDaGlsZENvdW50KGEpJiYhdGhpcy5pc0NlbGxDb2xsYXBzZWQoYSkpKX07Cm14R3JhcGgucHJvdG90eXBlLmlzU3BsaXRUYXJnZXQ9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLm1vZGVsLmlzRWRnZShhKSYmbnVsbCE9YiYmMT09Yi5sZW5ndGgmJnRoaXMuaXNDZWxsQ29ubmVjdGFibGUoYlswXSkmJm51bGw9PXRoaXMuZ2V0RWRnZVZhbGlkYXRpb25FcnJvcihhLHRoaXMubW9kZWwuZ2V0VGVybWluYWwoYSwhMCksYlswXSk/KGM9dGhpcy5tb2RlbC5nZXRUZXJtaW5hbChhLCEwKSxhPXRoaXMubW9kZWwuZ2V0VGVybWluYWwoYSwhMSksIXRoaXMubW9kZWwuaXNBbmNlc3RvcihiWzBdLGMpJiYhdGhpcy5tb2RlbC5pc0FuY2VzdG9yKGJbMF0sYSkpOiExfTsKbXhHcmFwaC5wcm90b3R5cGUuZ2V0RHJvcFRhcmdldD1mdW5jdGlvbihhLGIsYyxkKXtpZighdGhpcy5pc1N3aW1sYW5lTmVzdGluZygpKWZvcih2YXIgZT0wO2U8YS5sZW5ndGg7ZSsrKWlmKHRoaXMuaXNTd2ltbGFuZShhW2VdKSlyZXR1cm4gbnVsbDtlPW14VXRpbHMuY29udmVydFBvaW50KHRoaXMuY29udGFpbmVyLG14RXZlbnQuZ2V0Q2xpZW50WChiKSxteEV2ZW50LmdldENsaWVudFkoYikpO2UueC09dGhpcy5wYW5EeDtlLnktPXRoaXMucGFuRHk7ZT10aGlzLmdldFN3aW1sYW5lQXQoZS54LGUueSk7aWYobnVsbD09YyljPWU7ZWxzZSBpZihudWxsIT1lKXtmb3IodmFyIGY9dGhpcy5tb2RlbC5nZXRQYXJlbnQoZSk7bnVsbCE9ZiYmdGhpcy5pc1N3aW1sYW5lKGYpJiZmIT1jOylmPXRoaXMubW9kZWwuZ2V0UGFyZW50KGYpO2Y9PWMmJihjPWUpfWZvcig7bnVsbCE9YyYmIXRoaXMuaXNWYWxpZERyb3BUYXJnZXQoYyxhLGIpJiYhdGhpcy5tb2RlbC5pc0xheWVyKGMpOyljPXRoaXMubW9kZWwuZ2V0UGFyZW50KGMpOwppZihudWxsPT1kfHwhZClmb3IodmFyIGc9YztudWxsIT1nJiYwPm14VXRpbHMuaW5kZXhPZihhLGcpOylnPXRoaXMubW9kZWwuZ2V0UGFyZW50KGcpO3JldHVybiB0aGlzLm1vZGVsLmlzTGF5ZXIoYyl8fG51bGwhPWc/bnVsbDpjfTtteEdyYXBoLnByb3RvdHlwZS5nZXREZWZhdWx0UGFyZW50PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRDdXJyZW50Um9vdCgpO251bGw9PWEmJihhPXRoaXMuZGVmYXVsdFBhcmVudCxudWxsPT1hJiYoYT10aGlzLm1vZGVsLmdldFJvb3QoKSxhPXRoaXMubW9kZWwuZ2V0Q2hpbGRBdChhLDApKSk7cmV0dXJuIGF9O214R3JhcGgucHJvdG90eXBlLnNldERlZmF1bHRQYXJlbnQ9ZnVuY3Rpb24oYSl7dGhpcy5kZWZhdWx0UGFyZW50PWF9O214R3JhcGgucHJvdG90eXBlLmdldFN3aW1sYW5lPWZ1bmN0aW9uKGEpe2Zvcig7bnVsbCE9YSYmIXRoaXMuaXNTd2ltbGFuZShhKTspYT10aGlzLm1vZGVsLmdldFBhcmVudChhKTtyZXR1cm4gYX07Cm14R3JhcGgucHJvdG90eXBlLmdldFN3aW1sYW5lQXQ9ZnVuY3Rpb24oYSxiLGMpe251bGw9PWMmJihjPXRoaXMuZ2V0Q3VycmVudFJvb3QoKSxudWxsPT1jJiYoYz10aGlzLm1vZGVsLmdldFJvb3QoKSkpO2lmKG51bGwhPWMpZm9yKHZhciBkPXRoaXMubW9kZWwuZ2V0Q2hpbGRDb3VudChjKSxlPTA7ZTxkO2UrKyl7dmFyIGY9dGhpcy5tb2RlbC5nZXRDaGlsZEF0KGMsZSk7aWYobnVsbCE9Zil7dmFyIGc9dGhpcy5nZXRTd2ltbGFuZUF0KGEsYixmKTtpZihudWxsIT1nKXJldHVybiBnO2lmKHRoaXMuaXNDZWxsVmlzaWJsZShmKSYmdGhpcy5pc1N3aW1sYW5lKGYpJiYoZz10aGlzLnZpZXcuZ2V0U3RhdGUoZiksdGhpcy5pbnRlcnNlY3RzKGcsYSxiKSkpcmV0dXJuIGZ9fXJldHVybiBudWxsfTsKbXhHcmFwaC5wcm90b3R5cGUuZ2V0Q2VsbEF0PWZ1bmN0aW9uKGEsYixjLGQsZSxmKXtkPW51bGwhPWQ/ZDohMDtlPW51bGwhPWU/ZTohMDtudWxsPT1jJiYoYz10aGlzLmdldEN1cnJlbnRSb290KCksbnVsbD09YyYmKGM9dGhpcy5nZXRNb2RlbCgpLmdldFJvb3QoKSkpO2lmKG51bGwhPWMpZm9yKHZhciBnPXRoaXMubW9kZWwuZ2V0Q2hpbGRDb3VudChjKS0xOzA8PWc7Zy0tKXt2YXIgaz10aGlzLm1vZGVsLmdldENoaWxkQXQoYyxnKSxsPXRoaXMuZ2V0Q2VsbEF0KGEsYixrLGQsZSxmKTtpZihudWxsIT1sKXJldHVybiBsO2lmKHRoaXMuaXNDZWxsVmlzaWJsZShrKSYmKGUmJnRoaXMubW9kZWwuaXNFZGdlKGspfHxkJiZ0aGlzLm1vZGVsLmlzVmVydGV4KGspKSYmKGw9dGhpcy52aWV3LmdldFN0YXRlKGspLG51bGwhPWwmJihudWxsPT1mfHwhZihsLGEsYikpJiZ0aGlzLmludGVyc2VjdHMobCxhLGIpKSlyZXR1cm4ga31yZXR1cm4gbnVsbH07Cm14R3JhcGgucHJvdG90eXBlLmludGVyc2VjdHM9ZnVuY3Rpb24oYSxiLGMpe2lmKG51bGwhPWEpe3ZhciBkPWEuYWJzb2x1dGVQb2ludHM7aWYobnVsbCE9ZCl7YT10aGlzLnRvbGVyYW5jZSp0aGlzLnRvbGVyYW5jZTtmb3IodmFyIGU9ZFswXSxmPTE7ZjxkLmxlbmd0aDtmKyspe3ZhciBnPWRbZl07aWYobXhVdGlscy5wdFNlZ0Rpc3RTcShlLngsZS55LGcueCxnLnksYixjKTw9YSlyZXR1cm4hMDtlPWd9fWVsc2UgaWYoZT1teFV0aWxzLnRvUmFkaWFucyhteFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT04pfHwwKSwwIT1lJiYoZD1NYXRoLmNvcygtZSksZT1NYXRoLnNpbigtZSksZj1uZXcgbXhQb2ludChhLmdldENlbnRlclgoKSxhLmdldENlbnRlclkoKSksZT1teFV0aWxzLmdldFJvdGF0ZWRQb2ludChuZXcgbXhQb2ludChiLGMpLGQsZSxmKSxiPWUueCxjPWUueSksbXhVdGlscy5jb250YWlucyhhLGIsYykpcmV0dXJuITB9cmV0dXJuITF9OwpteEdyYXBoLnByb3RvdHlwZS5oaXRzU3dpbWxhbmVDb250ZW50PWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmdldFZpZXcoKS5nZXRTdGF0ZShhKTthPXRoaXMuZ2V0U3RhcnRTaXplKGEpO2lmKG51bGwhPWQpe3ZhciBlPXRoaXMuZ2V0VmlldygpLmdldFNjYWxlKCk7Yi09ZC54O2MtPWQueTtpZigwPGEud2lkdGgmJjA8YiYmYj5hLndpZHRoKmV8fDA8YS5oZWlnaHQmJjA8YyYmYz5hLmhlaWdodCplKXJldHVybiEwfXJldHVybiExfTtteEdyYXBoLnByb3RvdHlwZS5nZXRDaGlsZFZlcnRpY2VzPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdldENoaWxkQ2VsbHMoYSwhMCwhMSl9O214R3JhcGgucHJvdG90eXBlLmdldENoaWxkRWRnZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ2V0Q2hpbGRDZWxscyhhLCExLCEwKX07Cm14R3JhcGgucHJvdG90eXBlLmdldENoaWxkQ2VsbHM9ZnVuY3Rpb24oYSxiLGMpe2E9bnVsbCE9YT9hOnRoaXMuZ2V0RGVmYXVsdFBhcmVudCgpO2E9dGhpcy5tb2RlbC5nZXRDaGlsZENlbGxzKGEsbnVsbCE9Yj9iOiExLG51bGwhPWM/YzohMSk7Yj1bXTtmb3IoYz0wO2M8YS5sZW5ndGg7YysrKXRoaXMuaXNDZWxsVmlzaWJsZShhW2NdKSYmYi5wdXNoKGFbY10pO3JldHVybiBifTtteEdyYXBoLnByb3RvdHlwZS5nZXRDb25uZWN0aW9ucz1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmdldEVkZ2VzKGEsYiwhMCwhMCwhMSl9O214R3JhcGgucHJvdG90eXBlLmdldEluY29taW5nRWRnZXM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5nZXRFZGdlcyhhLGIsITAsITEsITEpfTtteEdyYXBoLnByb3RvdHlwZS5nZXRPdXRnb2luZ0VkZ2VzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZ2V0RWRnZXMoYSxiLCExLCEwLCExKX07Cm14R3JhcGgucHJvdG90eXBlLmdldEVkZ2VzPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXtjPW51bGwhPWM/YzohMDtkPW51bGwhPWQ/ZDohMDtlPW51bGwhPWU/ZTohMDtmPW51bGwhPWY/ZjohMTtmb3IodmFyIGc9W10saz10aGlzLmlzQ2VsbENvbGxhcHNlZChhKSxsPXRoaXMubW9kZWwuZ2V0Q2hpbGRDb3VudChhKSxtPTA7bTxsO20rKyl7dmFyIG49dGhpcy5tb2RlbC5nZXRDaGlsZEF0KGEsbSk7aWYoa3x8IXRoaXMuaXNDZWxsVmlzaWJsZShuKSlnPWcuY29uY2F0KHRoaXMubW9kZWwuZ2V0RWRnZXMobixjLGQpKX1nPWcuY29uY2F0KHRoaXMubW9kZWwuZ2V0RWRnZXMoYSxjLGQpKTtrPVtdO2ZvcihtPTA7bTxnLmxlbmd0aDttKyspbj10aGlzLnZpZXcuZ2V0U3RhdGUoZ1ttXSksbD1udWxsIT1uP24uZ2V0VmlzaWJsZVRlcm1pbmFsKCEwKTp0aGlzLnZpZXcuZ2V0VmlzaWJsZVRlcm1pbmFsKGdbbV0sITApLG49bnVsbCE9bj9uLmdldFZpc2libGVUZXJtaW5hbCghMSk6dGhpcy52aWV3LmdldFZpc2libGVUZXJtaW5hbChnW21dLAohMSksKGUmJmw9PW58fGwhPW4mJihjJiZuPT1hJiYobnVsbD09Ynx8dGhpcy5pc1ZhbGlkQW5jZXN0b3IobCxiLGYpKXx8ZCYmbD09YSYmKG51bGw9PWJ8fHRoaXMuaXNWYWxpZEFuY2VzdG9yKG4sYixmKSkpKSYmay5wdXNoKGdbbV0pO3JldHVybiBrfTtteEdyYXBoLnByb3RvdHlwZS5pc1ZhbGlkQW5jZXN0b3I9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjP3RoaXMubW9kZWwuaXNBbmNlc3RvcihiLGEpOnRoaXMubW9kZWwuZ2V0UGFyZW50KGEpPT1ifTsKbXhHcmFwaC5wcm90b3R5cGUuZ2V0T3Bwb3NpdGVzPWZ1bmN0aW9uKGEsYixjLGQpe2M9bnVsbCE9Yz9jOiEwO2Q9bnVsbCE9ZD9kOiEwO3ZhciBlPVtdLGY9bmV3IG14RGljdGlvbmFyeTtpZihudWxsIT1hKWZvcih2YXIgZz0wO2c8YS5sZW5ndGg7ZysrKXt2YXIgaz10aGlzLnZpZXcuZ2V0U3RhdGUoYVtnXSksbD1udWxsIT1rP2suZ2V0VmlzaWJsZVRlcm1pbmFsKCEwKTp0aGlzLnZpZXcuZ2V0VmlzaWJsZVRlcm1pbmFsKGFbZ10sITApLGs9bnVsbCE9az9rLmdldFZpc2libGVUZXJtaW5hbCghMSk6dGhpcy52aWV3LmdldFZpc2libGVUZXJtaW5hbChhW2ddLCExKTtsPT1iJiZudWxsIT1rJiZrIT1iJiZkP2YuZ2V0KGspfHwoZi5wdXQoaywhMCksZS5wdXNoKGspKTprPT1iJiZudWxsIT1sJiZsIT1iJiZjJiYhZi5nZXQobCkmJihmLnB1dChsLCEwKSxlLnB1c2gobCkpfXJldHVybiBlfTsKbXhHcmFwaC5wcm90b3R5cGUuZ2V0RWRnZXNCZXR3ZWVuPWZ1bmN0aW9uKGEsYixjKXtjPW51bGwhPWM/YzohMTtmb3IodmFyIGQ9dGhpcy5nZXRFZGdlcyhhKSxlPVtdLGY9MDtmPGQubGVuZ3RoO2YrKyl7dmFyIGc9dGhpcy52aWV3LmdldFN0YXRlKGRbZl0pLGs9bnVsbCE9Zz9nLmdldFZpc2libGVUZXJtaW5hbCghMCk6dGhpcy52aWV3LmdldFZpc2libGVUZXJtaW5hbChkW2ZdLCEwKSxnPW51bGwhPWc/Zy5nZXRWaXNpYmxlVGVybWluYWwoITEpOnRoaXMudmlldy5nZXRWaXNpYmxlVGVybWluYWwoZFtmXSwhMSk7KGs9PWEmJmc9PWJ8fCFjJiZrPT1iJiZnPT1hKSYmZS5wdXNoKGRbZl0pfXJldHVybiBlfTsKbXhHcmFwaC5wcm90b3R5cGUuZ2V0UG9pbnRGb3JFdmVudD1mdW5jdGlvbihhLGIpe3ZhciBjPW14VXRpbHMuY29udmVydFBvaW50KHRoaXMuY29udGFpbmVyLG14RXZlbnQuZ2V0Q2xpZW50WChhKSxteEV2ZW50LmdldENsaWVudFkoYSkpLGQ9dGhpcy52aWV3LnNjYWxlLGU9dGhpcy52aWV3LnRyYW5zbGF0ZSxmPTAhPWI/dGhpcy5ncmlkU2l6ZS8yOjA7Yy54PXRoaXMuc25hcChjLngvZC1lLngtZik7Yy55PXRoaXMuc25hcChjLnkvZC1lLnktZik7cmV0dXJuIGN9OwpteEdyYXBoLnByb3RvdHlwZS5nZXRDZWxscz1mdW5jdGlvbihhLGIsYyxkLGUsZil7Zj1udWxsIT1mP2Y6W107aWYoMDxjfHwwPGQpe3ZhciBnPXRoaXMuZ2V0TW9kZWwoKSxrPWErYyxsPWIrZDtudWxsPT1lJiYoZT10aGlzLmdldEN1cnJlbnRSb290KCksbnVsbD09ZSYmKGU9Zy5nZXRSb290KCkpKTtpZihudWxsIT1lKWZvcih2YXIgbT1nLmdldENoaWxkQ291bnQoZSksbj0wO248bTtuKyspe3ZhciBwPWcuZ2V0Q2hpbGRBdChlLG4pLHE9dGhpcy52aWV3LmdldFN0YXRlKHApO2lmKG51bGwhPXEmJnRoaXMuaXNDZWxsVmlzaWJsZShwKSl7dmFyIHI9bXhVdGlscy5nZXRWYWx1ZShxLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OKXx8MDswIT1yJiYocT1teFV0aWxzLmdldEJvdW5kaW5nQm94KHEscikpOyhnLmlzRWRnZShwKXx8Zy5pc1ZlcnRleChwKSkmJnEueD49YSYmcS55K3EuaGVpZ2h0PD1sJiZxLnk+PWImJnEueCtxLndpZHRoPD1rP2YucHVzaChwKTp0aGlzLmdldENlbGxzKGEsCmIsYyxkLHAsZil9fX1yZXR1cm4gZn07bXhHcmFwaC5wcm90b3R5cGUuZ2V0Q2VsbHNCZXlvbmQ9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1bXTtpZihkfHxlKWlmKG51bGw9PWMmJihjPXRoaXMuZ2V0RGVmYXVsdFBhcmVudCgpKSxudWxsIT1jKWZvcih2YXIgZz10aGlzLm1vZGVsLmdldENoaWxkQ291bnQoYyksaz0wO2s8ZztrKyspe3ZhciBsPXRoaXMubW9kZWwuZ2V0Q2hpbGRBdChjLGspLG09dGhpcy52aWV3LmdldFN0YXRlKGwpO3RoaXMuaXNDZWxsVmlzaWJsZShsKSYmbnVsbCE9bSYmKCFkfHxtLng+PWEpJiYoIWV8fG0ueT49YikmJmYucHVzaChsKX1yZXR1cm4gZn07Cm14R3JhcGgucHJvdG90eXBlLmZpbmRUcmVlUm9vdHM9ZnVuY3Rpb24oYSxiLGMpe2I9bnVsbCE9Yj9iOiExO2M9bnVsbCE9Yz9jOiExO3ZhciBkPVtdO2lmKG51bGwhPWEpe2Zvcih2YXIgZT10aGlzLmdldE1vZGVsKCksZj1lLmdldENoaWxkQ291bnQoYSksZz1udWxsLGs9MCxsPTA7bDxmO2wrKyl7dmFyIG09ZS5nZXRDaGlsZEF0KGEsbCk7aWYodGhpcy5tb2RlbC5pc1ZlcnRleChtKSYmdGhpcy5pc0NlbGxWaXNpYmxlKG0pKXtmb3IodmFyIG49dGhpcy5nZXRDb25uZWN0aW9ucyhtLGI/YTpudWxsKSxwPTAscT0wLHI9MDtyPG4ubGVuZ3RoO3IrKyl0aGlzLnZpZXcuZ2V0VmlzaWJsZVRlcm1pbmFsKG5bcl0sITApPT1tP3ArKzpxKys7KGMmJjA9PXAmJjA8cXx8IWMmJjA9PXEmJjA8cCkmJmQucHVzaChtKTtuPWM/cS1wOnAtcTtuPmsmJihrPW4sZz1tKX19MD09ZC5sZW5ndGgmJm51bGwhPWcmJmQucHVzaChnKX1yZXR1cm4gZH07Cm14R3JhcGgucHJvdG90eXBlLnRyYXZlcnNlPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXtpZihudWxsIT1jJiZudWxsIT1hJiYoYj1udWxsIT1iP2I6ITAsZj1udWxsIT1mP2Y6ITEsZT1lfHxuZXcgbXhEaWN0aW9uYXJ5LCFlLmdldChhKSYmKGUucHV0KGEsITApLGQ9YyhhLGQpLG51bGw9PWR8fGQpKSYmKGQ9dGhpcy5tb2RlbC5nZXRFZGdlQ291bnQoYSksMDxkKSlmb3IodmFyIGc9MDtnPGQ7ZysrKXt2YXIgaz10aGlzLm1vZGVsLmdldEVkZ2VBdChhLGcpLGw9dGhpcy5tb2RlbC5nZXRUZXJtaW5hbChrLCEwKT09YTtiJiYhZiE9bHx8KGw9dGhpcy5tb2RlbC5nZXRUZXJtaW5hbChrLCFsKSx0aGlzLnRyYXZlcnNlKGwsYixjLGssZSxmKSl9fTtteEdyYXBoLnByb3RvdHlwZS5pc0NlbGxTZWxlY3RlZD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5nZXRTZWxlY3Rpb25Nb2RlbCgpLmlzU2VsZWN0ZWQoYSl9O214R3JhcGgucHJvdG90eXBlLmlzU2VsZWN0aW9uRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRTZWxlY3Rpb25Nb2RlbCgpLmlzRW1wdHkoKX07Cm14R3JhcGgucHJvdG90eXBlLmNsZWFyU2VsZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0U2VsZWN0aW9uTW9kZWwoKS5jbGVhcigpfTtteEdyYXBoLnByb3RvdHlwZS5nZXRTZWxlY3Rpb25Db3VudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFNlbGVjdGlvbk1vZGVsKCkuY2VsbHMubGVuZ3RofTtteEdyYXBoLnByb3RvdHlwZS5nZXRTZWxlY3Rpb25DZWxsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0U2VsZWN0aW9uTW9kZWwoKS5jZWxsc1swXX07bXhHcmFwaC5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uQ2VsbHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRTZWxlY3Rpb25Nb2RlbCgpLmNlbGxzLnNsaWNlKCl9O214R3JhcGgucHJvdG90eXBlLnNldFNlbGVjdGlvbkNlbGw9ZnVuY3Rpb24oYSl7dGhpcy5nZXRTZWxlY3Rpb25Nb2RlbCgpLnNldENlbGwoYSl9O214R3JhcGgucHJvdG90eXBlLnNldFNlbGVjdGlvbkNlbGxzPWZ1bmN0aW9uKGEpe3RoaXMuZ2V0U2VsZWN0aW9uTW9kZWwoKS5zZXRDZWxscyhhKX07Cm14R3JhcGgucHJvdG90eXBlLmFkZFNlbGVjdGlvbkNlbGw9ZnVuY3Rpb24oYSl7dGhpcy5nZXRTZWxlY3Rpb25Nb2RlbCgpLmFkZENlbGwoYSl9O214R3JhcGgucHJvdG90eXBlLmFkZFNlbGVjdGlvbkNlbGxzPWZ1bmN0aW9uKGEpe3RoaXMuZ2V0U2VsZWN0aW9uTW9kZWwoKS5hZGRDZWxscyhhKX07bXhHcmFwaC5wcm90b3R5cGUucmVtb3ZlU2VsZWN0aW9uQ2VsbD1mdW5jdGlvbihhKXt0aGlzLmdldFNlbGVjdGlvbk1vZGVsKCkucmVtb3ZlQ2VsbChhKX07bXhHcmFwaC5wcm90b3R5cGUucmVtb3ZlU2VsZWN0aW9uQ2VsbHM9ZnVuY3Rpb24oYSl7dGhpcy5nZXRTZWxlY3Rpb25Nb2RlbCgpLnJlbW92ZUNlbGxzKGEpfTtteEdyYXBoLnByb3RvdHlwZS5zZWxlY3RSZWdpb249ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENlbGxzKGEueCxhLnksYS53aWR0aCxhLmhlaWdodCk7dGhpcy5zZWxlY3RDZWxsc0ZvckV2ZW50KGMsYik7cmV0dXJuIGN9OwpteEdyYXBoLnByb3RvdHlwZS5zZWxlY3ROZXh0Q2VsbD1mdW5jdGlvbigpe3RoaXMuc2VsZWN0Q2VsbCghMCl9O214R3JhcGgucHJvdG90eXBlLnNlbGVjdFByZXZpb3VzQ2VsbD1mdW5jdGlvbigpe3RoaXMuc2VsZWN0Q2VsbCgpfTtteEdyYXBoLnByb3RvdHlwZS5zZWxlY3RQYXJlbnRDZWxsPWZ1bmN0aW9uKCl7dGhpcy5zZWxlY3RDZWxsKCExLCEwKX07bXhHcmFwaC5wcm90b3R5cGUuc2VsZWN0Q2hpbGRDZWxsPWZ1bmN0aW9uKCl7dGhpcy5zZWxlY3RDZWxsKCExLCExLCEwKX07Cm14R3JhcGgucHJvdG90eXBlLnNlbGVjdENlbGw9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuc2VsZWN0aW9uTW9kZWwsZT0wPGQuY2VsbHMubGVuZ3RoP2QuY2VsbHNbMF06bnVsbDsxPGQuY2VsbHMubGVuZ3RoJiZkLmNsZWFyKCk7dmFyIGQ9bnVsbCE9ZT90aGlzLm1vZGVsLmdldFBhcmVudChlKTp0aGlzLmdldERlZmF1bHRQYXJlbnQoKSxmPXRoaXMubW9kZWwuZ2V0Q2hpbGRDb3VudChkKTtudWxsPT1lJiYwPGY/KGE9dGhpcy5tb2RlbC5nZXRDaGlsZEF0KGQsMCksdGhpcy5zZXRTZWxlY3Rpb25DZWxsKGEpKTpudWxsIT1lJiYhYnx8bnVsbD09dGhpcy52aWV3LmdldFN0YXRlKGQpfHxudWxsPT10aGlzLm1vZGVsLmdldEdlb21ldHJ5KGQpP251bGwhPWUmJmM/MDx0aGlzLm1vZGVsLmdldENoaWxkQ291bnQoZSkmJihhPXRoaXMubW9kZWwuZ2V0Q2hpbGRBdChlLDApLHRoaXMuc2V0U2VsZWN0aW9uQ2VsbChhKSk6MDxmJiYoYj1kLmdldEluZGV4KGUpLGE/KGIrKyxhPXRoaXMubW9kZWwuZ2V0Q2hpbGRBdChkLApiJWYpKTooYi0tLGE9dGhpcy5tb2RlbC5nZXRDaGlsZEF0KGQsMD5iP2YtMTpiKSksdGhpcy5zZXRTZWxlY3Rpb25DZWxsKGEpKTp0aGlzLmdldEN1cnJlbnRSb290KCkhPWQmJnRoaXMuc2V0U2VsZWN0aW9uQ2VsbChkKX07bXhHcmFwaC5wcm90b3R5cGUuc2VsZWN0QWxsPWZ1bmN0aW9uKGEsYil7YT1hfHx0aGlzLmdldERlZmF1bHRQYXJlbnQoKTt2YXIgYz1iP3RoaXMubW9kZWwuZmlsdGVyRGVzY2VuZGFudHMobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7cmV0dXJuIGIhPWEmJm51bGwhPXRoaXMudmlldy5nZXRTdGF0ZShiKX0pLGEpOnRoaXMubW9kZWwuZ2V0Q2hpbGRyZW4oYSk7bnVsbCE9YyYmdGhpcy5zZXRTZWxlY3Rpb25DZWxscyhjKX07bXhHcmFwaC5wcm90b3R5cGUuc2VsZWN0VmVydGljZXM9ZnVuY3Rpb24oYSxiKXt0aGlzLnNlbGVjdENlbGxzKCEwLCExLGEsYil9OwpteEdyYXBoLnByb3RvdHlwZS5zZWxlY3RFZGdlcz1mdW5jdGlvbihhKXt0aGlzLnNlbGVjdENlbGxzKCExLCEwLGEpfTtteEdyYXBoLnByb3RvdHlwZS5zZWxlY3RDZWxscz1mdW5jdGlvbihhLGIsYyxkKXtjPWN8fHRoaXMuZ2V0RGVmYXVsdFBhcmVudCgpO3ZhciBlPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGMpe3JldHVybiBudWxsIT10aGlzLnZpZXcuZ2V0U3RhdGUoYykmJigoZHx8MD09dGhpcy5tb2RlbC5nZXRDaGlsZENvdW50KGMpKSYmdGhpcy5tb2RlbC5pc1ZlcnRleChjKSYmYSYmIXRoaXMubW9kZWwuaXNFZGdlKHRoaXMubW9kZWwuZ2V0UGFyZW50KGMpKXx8dGhpcy5tb2RlbC5pc0VkZ2UoYykmJmIpfSk7Yz10aGlzLm1vZGVsLmZpbHRlckRlc2NlbmRhbnRzKGUsYyk7bnVsbCE9YyYmdGhpcy5zZXRTZWxlY3Rpb25DZWxscyhjKX07Cm14R3JhcGgucHJvdG90eXBlLnNlbGVjdENlbGxGb3JFdmVudD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuaXNDZWxsU2VsZWN0ZWQoYSk7dGhpcy5pc1RvZ2dsZUV2ZW50KGIpP2M/dGhpcy5yZW1vdmVTZWxlY3Rpb25DZWxsKGEpOnRoaXMuYWRkU2VsZWN0aW9uQ2VsbChhKTpjJiYxPT10aGlzLmdldFNlbGVjdGlvbkNvdW50KCl8fHRoaXMuc2V0U2VsZWN0aW9uQ2VsbChhKX07bXhHcmFwaC5wcm90b3R5cGUuc2VsZWN0Q2VsbHNGb3JFdmVudD1mdW5jdGlvbihhLGIpe3RoaXMuaXNUb2dnbGVFdmVudChiKT90aGlzLmFkZFNlbGVjdGlvbkNlbGxzKGEpOnRoaXMuc2V0U2VsZWN0aW9uQ2VsbHMoYSl9OwpteEdyYXBoLnByb3RvdHlwZS5jcmVhdGVIYW5kbGVyPWZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7aWYobnVsbCE9YSlpZih0aGlzLm1vZGVsLmlzRWRnZShhLmNlbGwpKXZhciBiPWEuZ2V0VmlzaWJsZVRlcm1pbmFsU3RhdGUoITApLGM9YS5nZXRWaXNpYmxlVGVybWluYWxTdGF0ZSghMSksZD10aGlzLmdldENlbGxHZW9tZXRyeShhLmNlbGwpLGI9dGhpcy52aWV3LmdldEVkZ2VTdHlsZShhLG51bGwhPWQ/ZC5wb2ludHM6bnVsbCxiLGMpLGI9dGhpcy5jcmVhdGVFZGdlSGFuZGxlcihhLGIpO2Vsc2UgYj10aGlzLmNyZWF0ZVZlcnRleEhhbmRsZXIoYSk7cmV0dXJuIGJ9O214R3JhcGgucHJvdG90eXBlLmNyZWF0ZVZlcnRleEhhbmRsZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBteFZlcnRleEhhbmRsZXIoYSl9OwpteEdyYXBoLnByb3RvdHlwZS5jcmVhdGVFZGdlSGFuZGxlcj1mdW5jdGlvbihhLGIpe3JldHVybiBiPT1teEVkZ2VTdHlsZS5Mb29wfHxiPT1teEVkZ2VTdHlsZS5FbGJvd0Nvbm5lY3Rvcnx8Yj09bXhFZGdlU3R5bGUuU2lkZVRvU2lkZXx8Yj09bXhFZGdlU3R5bGUuVG9wVG9Cb3R0b20/dGhpcy5jcmVhdGVFbGJvd0VkZ2VIYW5kbGVyKGEpOmI9PW14RWRnZVN0eWxlLlNlZ21lbnRDb25uZWN0b3J8fGI9PW14RWRnZVN0eWxlLk9ydGhDb25uZWN0b3I/dGhpcy5jcmVhdGVFZGdlU2VnbWVudEhhbmRsZXIoYSk6bmV3IG14RWRnZUhhbmRsZXIoYSl9O214R3JhcGgucHJvdG90eXBlLmNyZWF0ZUVkZ2VTZWdtZW50SGFuZGxlcj1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IG14RWRnZVNlZ21lbnRIYW5kbGVyKGEpfTtteEdyYXBoLnByb3RvdHlwZS5jcmVhdGVFbGJvd0VkZ2VIYW5kbGVyPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgbXhFbGJvd0VkZ2VIYW5kbGVyKGEpfTsKbXhHcmFwaC5wcm90b3R5cGUuYWRkTW91c2VMaXN0ZW5lcj1mdW5jdGlvbihhKXtudWxsPT10aGlzLm1vdXNlTGlzdGVuZXJzJiYodGhpcy5tb3VzZUxpc3RlbmVycz1bXSk7dGhpcy5tb3VzZUxpc3RlbmVycy5wdXNoKGEpfTtteEdyYXBoLnByb3RvdHlwZS5yZW1vdmVNb3VzZUxpc3RlbmVyPWZ1bmN0aW9uKGEpe2lmKG51bGwhPXRoaXMubW91c2VMaXN0ZW5lcnMpZm9yKHZhciBiPTA7Yjx0aGlzLm1vdXNlTGlzdGVuZXJzLmxlbmd0aDtiKyspaWYodGhpcy5tb3VzZUxpc3RlbmVyc1tiXT09YSl7dGhpcy5tb3VzZUxpc3RlbmVycy5zcGxpY2UoYiwxKTticmVha319OwpteEdyYXBoLnByb3RvdHlwZS51cGRhdGVNb3VzZUV2ZW50PWZ1bmN0aW9uKGEsYil7aWYobnVsbD09YS5ncmFwaFh8fG51bGw9PWEuZ3JhcGhZKXt2YXIgYz1teFV0aWxzLmNvbnZlcnRQb2ludCh0aGlzLmNvbnRhaW5lcixhLmdldFgoKSxhLmdldFkoKSk7YS5ncmFwaFg9Yy54LXRoaXMucGFuRHg7YS5ncmFwaFk9Yy55LXRoaXMucGFuRHk7bnVsbD09YS5nZXRDZWxsKCkmJnRoaXMuaXNNb3VzZURvd24mJmI9PW14RXZlbnQuTU9VU0VfTU9WRSYmKGEuc3RhdGU9dGhpcy52aWV3LmdldFN0YXRlKHRoaXMuZ2V0Q2VsbEF0KGMueCxjLnksbnVsbCxudWxsLG51bGwsZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWEuc2hhcGV8fGEuc2hhcGUucGFpbnRCYWNrZ3JvdW5kIT1teFJlY3RhbmdsZVNoYXBlLnByb3RvdHlwZS5wYWludEJhY2tncm91bmR8fCIxIj09bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1BPSU5URVJfRVZFTlRTLCIxIil8fG51bGwhPWEuc2hhcGUuZmlsbCYmCmEuc2hhcGUuZmlsbCE9bXhDb25zdGFudHMuTk9ORX0pKSl9cmV0dXJuIGF9O214R3JhcGgucHJvdG90eXBlLmdldFN0YXRlRm9yVG91Y2hFdmVudD1mdW5jdGlvbihhKXt2YXIgYj1teEV2ZW50LmdldENsaWVudFgoYSk7YT1teEV2ZW50LmdldENsaWVudFkoYSk7Yj1teFV0aWxzLmNvbnZlcnRQb2ludCh0aGlzLmNvbnRhaW5lcixiLGEpO3JldHVybiB0aGlzLnZpZXcuZ2V0U3RhdGUodGhpcy5nZXRDZWxsQXQoYi54LGIueSkpfTsKbXhHcmFwaC5wcm90b3R5cGUuaXNFdmVudElnbm9yZWQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPW14RXZlbnQuaXNNb3VzZUV2ZW50KGIuZ2V0RXZlbnQoKSksZT0hMTtiLmdldEV2ZW50KCk9PXRoaXMubGFzdEV2ZW50P2U9ITA6dGhpcy5sYXN0RXZlbnQ9Yi5nZXRFdmVudCgpO251bGwhPXRoaXMuZXZlbnRTb3VyY2UmJmEhPW14RXZlbnQuTU9VU0VfTU9WRT8obXhFdmVudC5yZW1vdmVHZXN0dXJlTGlzdGVuZXJzKHRoaXMuZXZlbnRTb3VyY2UsbnVsbCx0aGlzLm1vdXNlTW92ZVJlZGlyZWN0LHRoaXMubW91c2VVcFJlZGlyZWN0KSx0aGlzLmV2ZW50U291cmNlPXRoaXMubW91c2VVcFJlZGlyZWN0PXRoaXMubW91c2VNb3ZlUmVkaXJlY3Q9bnVsbCk6bXhDbGllbnQuSVNfR0N8fG51bGw9PXRoaXMuZXZlbnRTb3VyY2V8fGIuZ2V0U291cmNlKCk9PXRoaXMuZXZlbnRTb3VyY2U/IW14Q2xpZW50LklTX1RPVUNIfHxhIT1teEV2ZW50Lk1PVVNFX0RPV058fGR8fG14RXZlbnQuaXNQZW5FdmVudChiLmdldEV2ZW50KCkpfHwKKHRoaXMuZXZlbnRTb3VyY2U9Yi5nZXRTb3VyY2UoKSx0aGlzLm1vdXNlTW92ZVJlZGlyZWN0PW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuZmlyZU1vdXNlRXZlbnQobXhFdmVudC5NT1VTRV9NT1ZFLG5ldyBteE1vdXNlRXZlbnQoYSx0aGlzLmdldFN0YXRlRm9yVG91Y2hFdmVudChhKSkpfSksdGhpcy5tb3VzZVVwUmVkaXJlY3Q9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5maXJlTW91c2VFdmVudChteEV2ZW50Lk1PVVNFX1VQLG5ldyBteE1vdXNlRXZlbnQoYSx0aGlzLmdldFN0YXRlRm9yVG91Y2hFdmVudChhKSkpfSksbXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKHRoaXMuZXZlbnRTb3VyY2UsbnVsbCx0aGlzLm1vdXNlTW92ZVJlZGlyZWN0LHRoaXMubW91c2VVcFJlZGlyZWN0KSk6ZT0hMDt0aGlzLmlzU3ludGhldGljRXZlbnRJZ25vcmVkKGEsYixjKSYmKGU9ITApO2lmKCFteEV2ZW50LmlzUG9wdXBUcmlnZ2VyKHRoaXMubGFzdEV2ZW50KSYmCmEhPW14RXZlbnQuTU9VU0VfTU9WRSYmMj09dGhpcy5sYXN0RXZlbnQuZGV0YWlsKXJldHVybiEwO2E9PW14RXZlbnQuTU9VU0VfVVAmJnRoaXMuaXNNb3VzZURvd24/dGhpcy5pc01vdXNlRG93bj0hMTphIT1teEV2ZW50Lk1PVVNFX0RPV058fHRoaXMuaXNNb3VzZURvd24/IWUmJigoIW14Q2xpZW50LklTX0ZGfHxhIT1teEV2ZW50Lk1PVVNFX01PVkUpJiZ0aGlzLmlzTW91c2VEb3duJiZ0aGlzLmlzTW91c2VUcmlnZ2VyIT1kfHxhPT1teEV2ZW50Lk1PVVNFX0RPV04mJnRoaXMuaXNNb3VzZURvd258fGE9PW14RXZlbnQuTU9VU0VfVVAmJiF0aGlzLmlzTW91c2VEb3duKSYmKGU9ITApOih0aGlzLmlzTW91c2VEb3duPSEwLHRoaXMuaXNNb3VzZVRyaWdnZXI9ZCk7ZXx8YSE9bXhFdmVudC5NT1VTRV9ET1dOfHwodGhpcy5sYXN0TW91c2VYPWIuZ2V0WCgpLHRoaXMubGFzdE1vdXNlWT1iLmdldFkoKSk7cmV0dXJuIGV9OwpteEdyYXBoLnByb3RvdHlwZS5pc1N5bnRoZXRpY0V2ZW50SWdub3JlZD1mdW5jdGlvbihhLGIsYyl7Yz0hMTtiPW14RXZlbnQuaXNNb3VzZUV2ZW50KGIuZ2V0RXZlbnQoKSk7dGhpcy5pZ25vcmVNb3VzZUV2ZW50cyYmYiYmYSE9bXhFdmVudC5NT1VTRV9NT1ZFPyh0aGlzLmlnbm9yZU1vdXNlRXZlbnRzPWEhPW14RXZlbnQuTU9VU0VfVVAsYz0hMCk6bXhDbGllbnQuSVNfRkYmJiFiJiZhPT1teEV2ZW50Lk1PVVNFX1VQJiYodGhpcy5pZ25vcmVNb3VzZUV2ZW50cz0hMCk7cmV0dXJuIGN9OwpteEdyYXBoLnByb3RvdHlwZS5pc0V2ZW50U291cmNlSWdub3JlZD1mdW5jdGlvbihhLGIpe3ZhciBjPWIuZ2V0U291cmNlKCksZD1udWxsIT1jLm5vZGVOYW1lP2Mubm9kZU5hbWUudG9Mb3dlckNhc2UoKToiIixlPSFteEV2ZW50LmlzTW91c2VFdmVudChiLmdldEV2ZW50KCkpfHxteEV2ZW50LmlzTGVmdE1vdXNlQnV0dG9uKGIuZ2V0RXZlbnQoKSk7cmV0dXJuIGE9PW14RXZlbnQuTU9VU0VfRE9XTiYmZSYmKCJzZWxlY3QiPT1kfHwib3B0aW9uIj09ZHx8ImlucHV0Ij09ZCYmImNoZWNrYm94IiE9Yy50eXBlJiYicmFkaW8iIT1jLnR5cGUmJiJidXR0b24iIT1jLnR5cGUmJiJzdWJtaXQiIT1jLnR5cGUmJiJmaWxlIiE9Yy50eXBlKX07bXhHcmFwaC5wcm90b3R5cGUuZ2V0RXZlbnRTdGF0ZT1mdW5jdGlvbihhKXtyZXR1cm4gYX07Cm14R3JhcGgucHJvdG90eXBlLmZpcmVNb3VzZUV2ZW50PWZ1bmN0aW9uKGEsYixjKXtpZih0aGlzLmlzRXZlbnRTb3VyY2VJZ25vcmVkKGEsYikpbnVsbCE9dGhpcy50b29sdGlwSGFuZGxlciYmdGhpcy50b29sdGlwSGFuZGxlci5oaWRlKCk7ZWxzZXtudWxsPT1jJiYoYz10aGlzKTtiPXRoaXMudXBkYXRlTW91c2VFdmVudChiLGEpO2lmKCF0aGlzLm5hdGl2ZURibENsaWNrRW5hYmxlZCYmIW14RXZlbnQuaXNQb3B1cFRyaWdnZXIoYi5nZXRFdmVudCgpKXx8dGhpcy5kb3VibGVUYXBFbmFibGVkJiZteENsaWVudC5JU19UT1VDSCYmKG14RXZlbnQuaXNUb3VjaEV2ZW50KGIuZ2V0RXZlbnQoKSl8fG14RXZlbnQuaXNQZW5FdmVudChiLmdldEV2ZW50KCkpKSl7dmFyIGQ9KG5ldyBEYXRlKS5nZXRUaW1lKCk7aWYoIW14Q2xpZW50LklTX1FVSVJLUyYmYT09bXhFdmVudC5NT1VTRV9ET1dOfHxteENsaWVudC5JU19RVUlSS1MmJmE9PW14RXZlbnQuTU9VU0VfVVAmJiF0aGlzLmZpcmVEb3VibGVDbGljaylpZihudWxsIT0KdGhpcy5sYXN0VG91Y2hFdmVudCYmdGhpcy5sYXN0VG91Y2hFdmVudCE9Yi5nZXRFdmVudCgpJiZkLXRoaXMubGFzdFRvdWNoVGltZTx0aGlzLmRvdWJsZVRhcFRpbWVvdXQmJk1hdGguYWJzKHRoaXMubGFzdFRvdWNoWC1iLmdldFgoKSk8dGhpcy5kb3VibGVUYXBUb2xlcmFuY2UmJk1hdGguYWJzKHRoaXMubGFzdFRvdWNoWS1iLmdldFkoKSk8dGhpcy5kb3VibGVUYXBUb2xlcmFuY2UmJjI+dGhpcy5kb3VibGVDbGlja0NvdW50ZXIpe2lmKHRoaXMuZG91YmxlQ2xpY2tDb3VudGVyKyssZD0hMSxhPT1teEV2ZW50Lk1PVVNFX1VQP2IuZ2V0Q2VsbCgpPT10aGlzLmxhc3RUb3VjaENlbGwmJm51bGwhPXRoaXMubGFzdFRvdWNoQ2VsbCYmKHRoaXMubGFzdFRvdWNoVGltZT0wLGQ9dGhpcy5sYXN0VG91Y2hDZWxsLHRoaXMubGFzdFRvdWNoQ2VsbD1udWxsLG14Q2xpZW50LklTX1FVSVJLUyYmYi5nZXRTb3VyY2UoKS5maXJlRXZlbnQoIm9uZGJsY2xpY2siKSx0aGlzLmRibENsaWNrKGIuZ2V0RXZlbnQoKSwKZCksZD0hMCk6KHRoaXMuZmlyZURvdWJsZUNsaWNrPSEwLHRoaXMubGFzdFRvdWNoVGltZT0wKSwhbXhDbGllbnQuSVNfUVVJUktTfHxkKXtteEV2ZW50LmNvbnN1bWUoYi5nZXRFdmVudCgpKTtyZXR1cm59fWVsc2V7aWYobnVsbD09dGhpcy5sYXN0VG91Y2hFdmVudHx8dGhpcy5sYXN0VG91Y2hFdmVudCE9Yi5nZXRFdmVudCgpKXRoaXMubGFzdFRvdWNoQ2VsbD1iLmdldENlbGwoKSx0aGlzLmxhc3RUb3VjaFg9Yi5nZXRYKCksdGhpcy5sYXN0VG91Y2hZPWIuZ2V0WSgpLHRoaXMubGFzdFRvdWNoVGltZT1kLHRoaXMubGFzdFRvdWNoRXZlbnQ9Yi5nZXRFdmVudCgpLHRoaXMuZG91YmxlQ2xpY2tDb3VudGVyPTB9ZWxzZSBpZigodGhpcy5pc01vdXNlRG93bnx8YT09bXhFdmVudC5NT1VTRV9VUCkmJnRoaXMuZmlyZURvdWJsZUNsaWNrKXt0aGlzLmZpcmVEb3VibGVDbGljaz0hMTtkPXRoaXMubGFzdFRvdWNoQ2VsbDt0aGlzLmxhc3RUb3VjaENlbGw9bnVsbDt0aGlzLmlzTW91c2VEb3duPQohMTsobnVsbCE9ZHx8KG14RXZlbnQuaXNUb3VjaEV2ZW50KGIuZ2V0RXZlbnQoKSl8fG14RXZlbnQuaXNQZW5FdmVudChiLmdldEV2ZW50KCkpKSYmKG14Q2xpZW50LklTX0dDfHxteENsaWVudC5JU19TRikpJiZNYXRoLmFicyh0aGlzLmxhc3RUb3VjaFgtYi5nZXRYKCkpPHRoaXMuZG91YmxlVGFwVG9sZXJhbmNlJiZNYXRoLmFicyh0aGlzLmxhc3RUb3VjaFktYi5nZXRZKCkpPHRoaXMuZG91YmxlVGFwVG9sZXJhbmNlP3RoaXMuZGJsQ2xpY2soYi5nZXRFdmVudCgpLGQpOm14RXZlbnQuY29uc3VtZShiLmdldEV2ZW50KCkpO3JldHVybn19aWYoIXRoaXMuaXNFdmVudElnbm9yZWQoYSxiLGMpKXtiLnN0YXRlPXRoaXMuZ2V0RXZlbnRTdGF0ZShiLmdldFN0YXRlKCkpO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuRklSRV9NT1VTRV9FVkVOVCwiZXZlbnROYW1lIixhLCJldmVudCIsYikpO2lmKG14Q2xpZW50LklTX09QfHxteENsaWVudC5JU19TRnx8bXhDbGllbnQuSVNfR0N8fApteENsaWVudC5JU19JRTExfHxteENsaWVudC5JU19JRSYmbXhDbGllbnQuSVNfU1ZHfHxiLmdldEV2ZW50KCkudGFyZ2V0IT10aGlzLmNvbnRhaW5lcil7aWYoYT09bXhFdmVudC5NT1VTRV9NT1ZFJiZ0aGlzLmlzTW91c2VEb3duJiZ0aGlzLmF1dG9TY3JvbGwmJiFteEV2ZW50LmlzTXVsdGlUb3VjaEV2ZW50KGIuZ2V0RXZlbnQpKXRoaXMuc2Nyb2xsUG9pbnRUb1Zpc2libGUoYi5nZXRHcmFwaFgoKSxiLmdldEdyYXBoWSgpLHRoaXMuYXV0b0V4dGVuZCk7ZWxzZSBpZihhPT1teEV2ZW50Lk1PVVNFX1VQJiZ0aGlzLmlnbm9yZVNjcm9sbGJhcnMmJnRoaXMudHJhbnNsYXRlVG9TY3JvbGxQb3NpdGlvbiYmKDAhPXRoaXMuY29udGFpbmVyLnNjcm9sbExlZnR8fDAhPXRoaXMuY29udGFpbmVyLnNjcm9sbFRvcCkpe3ZhciBkPXRoaXMudmlldy5zY2FsZSxlPXRoaXMudmlldy50cmFuc2xhdGU7dGhpcy52aWV3LnNldFRyYW5zbGF0ZShlLngtdGhpcy5jb250YWluZXIuc2Nyb2xsTGVmdC8KZCxlLnktdGhpcy5jb250YWluZXIuc2Nyb2xsVG9wL2QpO3RoaXMuY29udGFpbmVyLnNjcm9sbExlZnQ9MDt0aGlzLmNvbnRhaW5lci5zY3JvbGxUb3A9MH1pZihudWxsIT10aGlzLm1vdXNlTGlzdGVuZXJzKWZvcihkPVtjLGJdLGIuZ2V0RXZlbnQoKS5wcmV2ZW50RGVmYXVsdHx8KGIuZ2V0RXZlbnQoKS5yZXR1cm5WYWx1ZT0hMCksZT0wO2U8dGhpcy5tb3VzZUxpc3RlbmVycy5sZW5ndGg7ZSsrKXt2YXIgZj10aGlzLm1vdXNlTGlzdGVuZXJzW2VdO2E9PW14RXZlbnQuTU9VU0VfRE9XTj9mLm1vdXNlRG93bi5hcHBseShmLGQpOmE9PW14RXZlbnQuTU9VU0VfTU9WRT9mLm1vdXNlTW92ZS5hcHBseShmLGQpOmE9PW14RXZlbnQuTU9VU0VfVVAmJmYubW91c2VVcC5hcHBseShmLGQpfWE9PW14RXZlbnQuTU9VU0VfVVAmJnRoaXMuY2xpY2soYil9KG14RXZlbnQuaXNUb3VjaEV2ZW50KGIuZ2V0RXZlbnQoKSl8fG14RXZlbnQuaXNQZW5FdmVudChiLmdldEV2ZW50KCkpKSYmYT09bXhFdmVudC5NT1VTRV9ET1dOJiYKdGhpcy50YXBBbmRIb2xkRW5hYmxlZCYmIXRoaXMudGFwQW5kSG9sZEluUHJvZ3Jlc3M/KHRoaXMudGFwQW5kSG9sZEluUHJvZ3Jlc3M9ITAsdGhpcy5pbml0aWFsVG91Y2hYPWIuZ2V0R3JhcGhYKCksdGhpcy5pbml0aWFsVG91Y2hZPWIuZ2V0R3JhcGhZKCksdGhpcy50YXBBbmRIb2xkVGhyZWFkJiZ3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMudGFwQW5kSG9sZFRocmVhZCksdGhpcy50YXBBbmRIb2xkVGhyZWFkPXdpbmRvdy5zZXRUaW1lb3V0KG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy50YXBBbmRIb2xkVmFsaWQmJnRoaXMudGFwQW5kSG9sZChiKTt0aGlzLnRhcEFuZEhvbGRWYWxpZD10aGlzLnRhcEFuZEhvbGRJblByb2dyZXNzPSExfSksdGhpcy50YXBBbmRIb2xkRGVsYXkpLHRoaXMudGFwQW5kSG9sZFZhbGlkPSEwKTphPT1teEV2ZW50Lk1PVVNFX1VQP3RoaXMudGFwQW5kSG9sZFZhbGlkPXRoaXMudGFwQW5kSG9sZEluUHJvZ3Jlc3M9ITE6dGhpcy50YXBBbmRIb2xkVmFsaWQmJgoodGhpcy50YXBBbmRIb2xkVmFsaWQ9TWF0aC5hYnModGhpcy5pbml0aWFsVG91Y2hYLWIuZ2V0R3JhcGhYKCkpPHRoaXMudG9sZXJhbmNlJiZNYXRoLmFicyh0aGlzLmluaXRpYWxUb3VjaFktYi5nZXRHcmFwaFkoKSk8dGhpcy50b2xlcmFuY2UpO2E9PW14RXZlbnQuTU9VU0VfRE9XTiYmdGhpcy5pc0VkaXRpbmcoKSYmIXRoaXMuY2VsbEVkaXRvci5pc0V2ZW50U291cmNlKGIuZ2V0RXZlbnQoKSkmJnRoaXMuc3RvcEVkaXRpbmcoIXRoaXMuaXNJbnZva2VzU3RvcENlbGxFZGl0aW5nKCkpO3RoaXMuY29uc3VtZU1vdXNlRXZlbnQoYSxiLGMpfX19O214R3JhcGgucHJvdG90eXBlLmNvbnN1bWVNb3VzZUV2ZW50PWZ1bmN0aW9uKGEsYixjKXthPT1teEV2ZW50Lk1PVVNFX0RPV04mJm14RXZlbnQuaXNUb3VjaEV2ZW50KGIuZ2V0RXZlbnQoKSkmJmIuY29uc3VtZSghMSl9OwpteEdyYXBoLnByb3RvdHlwZS5maXJlR2VzdHVyZUV2ZW50PWZ1bmN0aW9uKGEsYil7dGhpcy5sYXN0VG91Y2hUaW1lPTA7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5HRVNUVVJFLCJldmVudCIsYSwiY2VsbCIsYikpfTsKbXhHcmFwaC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZGVzdHJveWVkfHwodGhpcy5kZXN0cm95ZWQ9ITAsbnVsbCE9dGhpcy50b29sdGlwSGFuZGxlciYmdGhpcy50b29sdGlwSGFuZGxlci5kZXN0cm95KCksbnVsbCE9dGhpcy5zZWxlY3Rpb25DZWxsc0hhbmRsZXImJnRoaXMuc2VsZWN0aW9uQ2VsbHNIYW5kbGVyLmRlc3Ryb3koKSxudWxsIT10aGlzLnBhbm5pbmdIYW5kbGVyJiZ0aGlzLnBhbm5pbmdIYW5kbGVyLmRlc3Ryb3koKSxudWxsIT10aGlzLnBvcHVwTWVudUhhbmRsZXImJnRoaXMucG9wdXBNZW51SGFuZGxlci5kZXN0cm95KCksbnVsbCE9dGhpcy5jb25uZWN0aW9uSGFuZGxlciYmdGhpcy5jb25uZWN0aW9uSGFuZGxlci5kZXN0cm95KCksbnVsbCE9dGhpcy5ncmFwaEhhbmRsZXImJnRoaXMuZ3JhcGhIYW5kbGVyLmRlc3Ryb3koKSxudWxsIT10aGlzLmNlbGxFZGl0b3ImJnRoaXMuY2VsbEVkaXRvci5kZXN0cm95KCksbnVsbCE9dGhpcy52aWV3JiZ0aGlzLnZpZXcuZGVzdHJveSgpLApudWxsIT10aGlzLm1vZGVsJiZudWxsIT10aGlzLmdyYXBoTW9kZWxDaGFuZ2VMaXN0ZW5lciYmKHRoaXMubW9kZWwucmVtb3ZlTGlzdGVuZXIodGhpcy5ncmFwaE1vZGVsQ2hhbmdlTGlzdGVuZXIpLHRoaXMuZ3JhcGhNb2RlbENoYW5nZUxpc3RlbmVyPW51bGwpLHRoaXMuY29udGFpbmVyPW51bGwpfTtmdW5jdGlvbiBteENlbGxPdmVybGF5KGEsYixjLGQsZSxmKXt0aGlzLmltYWdlPWE7dGhpcy50b29sdGlwPWI7dGhpcy5hbGlnbj1udWxsIT1jP2M6dGhpcy5hbGlnbjt0aGlzLnZlcnRpY2FsQWxpZ249bnVsbCE9ZD9kOnRoaXMudmVydGljYWxBbGlnbjt0aGlzLm9mZnNldD1udWxsIT1lP2U6bmV3IG14UG9pbnQ7dGhpcy5jdXJzb3I9bnVsbCE9Zj9mOiJoZWxwIn1teENlbGxPdmVybGF5LnByb3RvdHlwZT1uZXcgbXhFdmVudFNvdXJjZTtteENlbGxPdmVybGF5LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1teENlbGxPdmVybGF5O214Q2VsbE92ZXJsYXkucHJvdG90eXBlLmltYWdlPW51bGw7Cm14Q2VsbE92ZXJsYXkucHJvdG90eXBlLnRvb2x0aXA9bnVsbDtteENlbGxPdmVybGF5LnByb3RvdHlwZS5hbGlnbj1teENvbnN0YW50cy5BTElHTl9SSUdIVDtteENlbGxPdmVybGF5LnByb3RvdHlwZS52ZXJ0aWNhbEFsaWduPW14Q29uc3RhbnRzLkFMSUdOX0JPVFRPTTtteENlbGxPdmVybGF5LnByb3RvdHlwZS5vZmZzZXQ9bnVsbDtteENlbGxPdmVybGF5LnByb3RvdHlwZS5jdXJzb3I9bnVsbDtteENlbGxPdmVybGF5LnByb3RvdHlwZS5kZWZhdWx0T3ZlcmxhcD0uNTsKbXhDZWxsT3ZlcmxheS5wcm90b3R5cGUuZ2V0Qm91bmRzPWZ1bmN0aW9uKGEpe3ZhciBiPWEudmlldy5ncmFwaC5nZXRNb2RlbCgpLmlzRWRnZShhLmNlbGwpLGM9YS52aWV3LnNjYWxlLGQ9dGhpcy5pbWFnZS53aWR0aCxlPXRoaXMuaW1hZ2UuaGVpZ2h0O2lmKGIpaWYoYj1hLmFic29sdXRlUG9pbnRzLDE9PWIubGVuZ3RoJTIpYj1iW01hdGguZmxvb3IoYi5sZW5ndGgvMildO2Vsc2V7dmFyIGY9Yi5sZW5ndGgvMjthPWJbZi0xXTtiPWJbZl07Yj1uZXcgbXhQb2ludChhLngrKGIueC1hLngpLzIsYS55KyhiLnktYS55KS8yKX1lbHNlIGI9bmV3IG14UG9pbnQsYi54PXRoaXMuYWxpZ249PW14Q29uc3RhbnRzLkFMSUdOX0xFRlQ/YS54OnRoaXMuYWxpZ249PW14Q29uc3RhbnRzLkFMSUdOX0NFTlRFUj9hLngrYS53aWR0aC8yOmEueCthLndpZHRoLGIueT10aGlzLnZlcnRpY2FsQWxpZ249PW14Q29uc3RhbnRzLkFMSUdOX1RPUD9hLnk6dGhpcy52ZXJ0aWNhbEFsaWduPT1teENvbnN0YW50cy5BTElHTl9NSURETEU/CmEueSthLmhlaWdodC8yOmEueSthLmhlaWdodDtyZXR1cm4gbmV3IG14UmVjdGFuZ2xlKE1hdGgucm91bmQoYi54LShkKnRoaXMuZGVmYXVsdE92ZXJsYXAtdGhpcy5vZmZzZXQueCkqYyksTWF0aC5yb3VuZChiLnktKGUqdGhpcy5kZWZhdWx0T3ZlcmxhcC10aGlzLm9mZnNldC55KSpjKSxkKmMsZSpjKX07bXhDZWxsT3ZlcmxheS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b29sdGlwfTtmdW5jdGlvbiBteE91dGxpbmUoYSxiKXt0aGlzLnNvdXJjZT1hO251bGwhPWImJnRoaXMuaW5pdChiKX1teE91dGxpbmUucHJvdG90eXBlLnNvdXJjZT1udWxsO214T3V0bGluZS5wcm90b3R5cGUub3V0bGluZT1udWxsO214T3V0bGluZS5wcm90b3R5cGUuZ3JhcGhSZW5kZXJIaW50PW14Q29uc3RhbnRzLlJFTkRFUklOR19ISU5UX0ZBU1RFUjtteE91dGxpbmUucHJvdG90eXBlLmVuYWJsZWQ9ITA7bXhPdXRsaW5lLnByb3RvdHlwZS5zaG93Vmlld3BvcnQ9ITA7Cm14T3V0bGluZS5wcm90b3R5cGUuYm9yZGVyPTEwO214T3V0bGluZS5wcm90b3R5cGUuc2l6ZXJTaXplPTg7bXhPdXRsaW5lLnByb3RvdHlwZS5sYWJlbHNWaXNpYmxlPSExO214T3V0bGluZS5wcm90b3R5cGUudXBkYXRlT25QYW49ITE7bXhPdXRsaW5lLnByb3RvdHlwZS5zaXplckltYWdlPW51bGw7bXhPdXRsaW5lLnByb3RvdHlwZS5taW5TY2FsZT0xRS00O214T3V0bGluZS5wcm90b3R5cGUuc3VzcGVuZGVkPSExO214T3V0bGluZS5wcm90b3R5cGUuZm9yY2VWbWxIYW5kbGVzPTg9PWRvY3VtZW50LmRvY3VtZW50TW9kZTtteE91dGxpbmUucHJvdG90eXBlLmNyZWF0ZUdyYXBoPWZ1bmN0aW9uKGEpe2E9bmV3IG14R3JhcGgoYSx0aGlzLnNvdXJjZS5nZXRNb2RlbCgpLHRoaXMuZ3JhcGhSZW5kZXJIaW50LHRoaXMuc291cmNlLmdldFN0eWxlc2hlZXQoKSk7YS5mb2xkaW5nRW5hYmxlZD0hMTthLmF1dG9TY3JvbGw9ITE7cmV0dXJuIGF9OwpteE91dGxpbmUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oYSl7dGhpcy5vdXRsaW5lPXRoaXMuY3JlYXRlR3JhcGgoYSk7dmFyIGI9dGhpcy5vdXRsaW5lLmdyYXBoTW9kZWxDaGFuZ2VkO3RoaXMub3V0bGluZS5ncmFwaE1vZGVsQ2hhbmdlZD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLnN1c3BlbmRlZHx8bnVsbD09dGhpcy5vdXRsaW5lfHxiLmFwcGx5KHRoaXMub3V0bGluZSxhcmd1bWVudHMpfSk7bXhDbGllbnQuSVNfU1ZHJiYoYT10aGlzLm91dGxpbmUuZ2V0VmlldygpLmdldENhbnZhcygpLnBhcmVudE5vZGUsYS5zZXRBdHRyaWJ1dGUoInNoYXBlLXJlbmRlcmluZyIsIm9wdGltaXplU3BlZWQiKSxhLnNldEF0dHJpYnV0ZSgiaW1hZ2UtcmVuZGVyaW5nIiwib3B0aW1pemVTcGVlZCIpKTt0aGlzLm91dGxpbmUubGFiZWxzVmlzaWJsZT10aGlzLmxhYmVsc1Zpc2libGU7dGhpcy5vdXRsaW5lLnNldEVuYWJsZWQoITEpO3RoaXMudXBkYXRlSGFuZGxlcj1teFV0aWxzLmJpbmQodGhpcywKZnVuY3Rpb24oYSxiKXt0aGlzLnN1c3BlbmRlZHx8dGhpcy5hY3RpdmV8fHRoaXMudXBkYXRlKCl9KTt0aGlzLnNvdXJjZS5nZXRNb2RlbCgpLmFkZExpc3RlbmVyKG14RXZlbnQuQ0hBTkdFLHRoaXMudXBkYXRlSGFuZGxlcik7dGhpcy5vdXRsaW5lLmFkZE1vdXNlTGlzdGVuZXIodGhpcyk7YT10aGlzLnNvdXJjZS5nZXRWaWV3KCk7YS5hZGRMaXN0ZW5lcihteEV2ZW50LlNDQUxFLHRoaXMudXBkYXRlSGFuZGxlcik7YS5hZGRMaXN0ZW5lcihteEV2ZW50LlRSQU5TTEFURSx0aGlzLnVwZGF0ZUhhbmRsZXIpO2EuYWRkTGlzdGVuZXIobXhFdmVudC5TQ0FMRV9BTkRfVFJBTlNMQVRFLHRoaXMudXBkYXRlSGFuZGxlcik7YS5hZGRMaXN0ZW5lcihteEV2ZW50LkRPV04sdGhpcy51cGRhdGVIYW5kbGVyKTthLmFkZExpc3RlbmVyKG14RXZlbnQuVVAsdGhpcy51cGRhdGVIYW5kbGVyKTtteEV2ZW50LmFkZExpc3RlbmVyKHRoaXMuc291cmNlLmNvbnRhaW5lciwic2Nyb2xsIix0aGlzLnVwZGF0ZUhhbmRsZXIpOwp0aGlzLnBhbkhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy51cGRhdGVPblBhbiYmdGhpcy51cGRhdGVIYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pO3RoaXMuc291cmNlLmFkZExpc3RlbmVyKG14RXZlbnQuUEFOLHRoaXMucGFuSGFuZGxlcik7dGhpcy5yZWZyZXNoSGFuZGxlcj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLm91dGxpbmUuc2V0U3R5bGVzaGVldCh0aGlzLnNvdXJjZS5nZXRTdHlsZXNoZWV0KCkpO3RoaXMub3V0bGluZS5yZWZyZXNoKCl9KTt0aGlzLnNvdXJjZS5hZGRMaXN0ZW5lcihteEV2ZW50LlJFRlJFU0gsdGhpcy5yZWZyZXNoSGFuZGxlcik7dGhpcy5ib3VuZHM9bmV3IG14UmVjdGFuZ2xlKDAsMCwwLDApO3RoaXMuc2VsZWN0aW9uQm9yZGVyPW5ldyBteFJlY3RhbmdsZVNoYXBlKHRoaXMuYm91bmRzLG51bGwsbXhDb25zdGFudHMuT1VUTElORV9DT0xPUixteENvbnN0YW50cy5PVVRMSU5FX1NUUk9LRVdJRFRIKTsKdGhpcy5zZWxlY3Rpb25Cb3JkZXIuZGlhbGVjdD10aGlzLm91dGxpbmUuZGlhbGVjdDt0aGlzLmZvcmNlVm1sSGFuZGxlcyYmKHRoaXMuc2VsZWN0aW9uQm9yZGVyLmlzSHRtbEFsbG93ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX0pO3RoaXMuc2VsZWN0aW9uQm9yZGVyLmluaXQodGhpcy5vdXRsaW5lLmdldFZpZXcoKS5nZXRPdmVybGF5UGFuZSgpKTthPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3ZhciBiPW14RXZlbnQuZ2V0U291cmNlKGEpLGM9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5vdXRsaW5lLmZpcmVNb3VzZUV2ZW50KG14RXZlbnQuTU9VU0VfTU9WRSxuZXcgbXhNb3VzZUV2ZW50KGEpKX0pLGY9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7bXhFdmVudC5yZW1vdmVHZXN0dXJlTGlzdGVuZXJzKGIsbnVsbCxjLGYpO3RoaXMub3V0bGluZS5maXJlTW91c2VFdmVudChteEV2ZW50Lk1PVVNFX1VQLG5ldyBteE1vdXNlRXZlbnQoYSkpfSk7Cm14RXZlbnQuYWRkR2VzdHVyZUxpc3RlbmVycyhiLG51bGwsYyxmKTt0aGlzLm91dGxpbmUuZmlyZU1vdXNlRXZlbnQobXhFdmVudC5NT1VTRV9ET1dOLG5ldyBteE1vdXNlRXZlbnQoYSkpfSk7bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKHRoaXMuc2VsZWN0aW9uQm9yZGVyLm5vZGUsYSk7dGhpcy5zaXplcj10aGlzLmNyZWF0ZVNpemVyKCk7dGhpcy5mb3JjZVZtbEhhbmRsZXMmJih0aGlzLnNpemVyLmlzSHRtbEFsbG93ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX0pO3RoaXMuc2l6ZXIuaW5pdCh0aGlzLm91dGxpbmUuZ2V0VmlldygpLmdldE92ZXJsYXlQYW5lKCkpO3RoaXMuZW5hYmxlZCYmKHRoaXMuc2l6ZXIubm9kZS5zdHlsZS5jdXJzb3I9Im53c2UtcmVzaXplIik7bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKHRoaXMuc2l6ZXIubm9kZSxhKTt0aGlzLnNlbGVjdGlvbkJvcmRlci5ub2RlLnN0eWxlLmRpc3BsYXk9dGhpcy5zaG93Vmlld3BvcnQ/IiI6Im5vbmUiO3RoaXMuc2l6ZXIubm9kZS5zdHlsZS5kaXNwbGF5PQp0aGlzLnNlbGVjdGlvbkJvcmRlci5ub2RlLnN0eWxlLmRpc3BsYXk7dGhpcy5zZWxlY3Rpb25Cb3JkZXIubm9kZS5zdHlsZS5jdXJzb3I9Im1vdmUiO3RoaXMudXBkYXRlKCExKX07bXhPdXRsaW5lLnByb3RvdHlwZS5pc0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmFibGVkfTtteE91dGxpbmUucHJvdG90eXBlLnNldEVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5lbmFibGVkPWF9O214T3V0bGluZS5wcm90b3R5cGUuc2V0Wm9vbUVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5zaXplci5ub2RlLnN0eWxlLnZpc2liaWxpdHk9YT8idmlzaWJsZSI6ImhpZGRlbiJ9O214T3V0bGluZS5wcm90b3R5cGUucmVmcmVzaD1mdW5jdGlvbigpe3RoaXMudXBkYXRlKCEwKX07Cm14T3V0bGluZS5wcm90b3R5cGUuY3JlYXRlU2l6ZXI9ZnVuY3Rpb24oKXt2YXIgYT1udWxsIT10aGlzLnNpemVySW1hZ2U/bmV3IG14SW1hZ2VTaGFwZShuZXcgbXhSZWN0YW5nbGUoMCwwLHRoaXMuc2l6ZXJJbWFnZS53aWR0aCx0aGlzLnNpemVySW1hZ2UuaGVpZ2h0KSx0aGlzLnNpemVySW1hZ2Uuc3JjKTpuZXcgbXhSZWN0YW5nbGVTaGFwZShuZXcgbXhSZWN0YW5nbGUoMCwwLHRoaXMuc2l6ZXJTaXplLHRoaXMuc2l6ZXJTaXplKSxteENvbnN0YW50cy5PVVRMSU5FX0hBTkRMRV9GSUxMQ09MT1IsbXhDb25zdGFudHMuT1VUTElORV9IQU5ETEVfU1RST0tFQ09MT1IpO2EuZGlhbGVjdD10aGlzLm91dGxpbmUuZGlhbGVjdDtyZXR1cm4gYX07bXhPdXRsaW5lLnByb3RvdHlwZS5nZXRTb3VyY2VDb250YWluZXJTaXplPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBteFJlY3RhbmdsZSgwLDAsdGhpcy5zb3VyY2UuY29udGFpbmVyLnNjcm9sbFdpZHRoLHRoaXMuc291cmNlLmNvbnRhaW5lci5zY3JvbGxIZWlnaHQpfTsKbXhPdXRsaW5lLnByb3RvdHlwZS5nZXRPdXRsaW5lT2Zmc2V0PWZ1bmN0aW9uKGEpe3JldHVybiBudWxsfTtteE91dGxpbmUucHJvdG90eXBlLmdldFNvdXJjZUdyYXBoQm91bmRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc291cmNlLmdldEdyYXBoQm91bmRzKCl9OwpteE91dGxpbmUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihhKXtpZihudWxsIT10aGlzLnNvdXJjZSYmbnVsbCE9dGhpcy5zb3VyY2UuY29udGFpbmVyJiZudWxsIT10aGlzLm91dGxpbmUmJm51bGwhPXRoaXMub3V0bGluZS5jb250YWluZXIpe3ZhciBiPXRoaXMuc291cmNlLnZpZXcuc2NhbGUsYz10aGlzLmdldFNvdXJjZUdyYXBoQm91bmRzKCksYz1uZXcgbXhSZWN0YW5nbGUoYy54L2IrdGhpcy5zb3VyY2UucGFuRHgsYy55L2IrdGhpcy5zb3VyY2UucGFuRHksYy53aWR0aC9iLGMuaGVpZ2h0L2IpLGQ9bmV3IG14UmVjdGFuZ2xlKDAsMCx0aGlzLnNvdXJjZS5jb250YWluZXIuY2xpZW50V2lkdGgvYix0aGlzLnNvdXJjZS5jb250YWluZXIuY2xpZW50SGVpZ2h0L2IpLGU9Yy5jbG9uZSgpO2UuYWRkKGQpO2Q9dGhpcy5nZXRTb3VyY2VDb250YWluZXJTaXplKCk7Yj1NYXRoLm1pbihNYXRoLm1heCgwLHRoaXMub3V0bGluZS5jb250YWluZXIuY2xpZW50V2lkdGgtdGhpcy5ib3JkZXIpLwpNYXRoLm1heChkLndpZHRoL2IsZS53aWR0aCksTWF0aC5tYXgoMCx0aGlzLm91dGxpbmUuY29udGFpbmVyLmNsaWVudEhlaWdodC10aGlzLmJvcmRlcikvTWF0aC5tYXgoZC5oZWlnaHQvYixlLmhlaWdodCkpO2Q9aXNOYU4oYik/dGhpcy5taW5TY2FsZTpNYXRoLm1heCh0aGlzLm1pblNjYWxlLGIpO2lmKDA8ZCl7dGhpcy5vdXRsaW5lLmdldFZpZXcoKS5zY2FsZSE9ZCYmKHRoaXMub3V0bGluZS5nZXRWaWV3KCkuc2NhbGU9ZCxhPSEwKTtiPXRoaXMub3V0bGluZS5nZXRWaWV3KCk7Yi5jdXJyZW50Um9vdCE9dGhpcy5zb3VyY2UuZ2V0VmlldygpLmN1cnJlbnRSb290JiZiLnNldEN1cnJlbnRSb290KHRoaXMuc291cmNlLmdldFZpZXcoKS5jdXJyZW50Um9vdCk7dmFyIGU9dGhpcy5zb3VyY2Uudmlldy50cmFuc2xhdGUsZj1lLngrdGhpcy5zb3VyY2UucGFuRHgsZz1lLnkrdGhpcy5zb3VyY2UucGFuRHksZD10aGlzLmdldE91dGxpbmVPZmZzZXQoZCk7bnVsbCE9ZCYmKGYrPWQueCwKZys9ZC55KTswPmMueCYmKGYtPWMueCk7MD5jLnkmJihnLT1jLnkpO2lmKGIudHJhbnNsYXRlLnghPWZ8fGIudHJhbnNsYXRlLnkhPWcpYi50cmFuc2xhdGUueD1mLGIudHJhbnNsYXRlLnk9ZyxhPSEwO3ZhciBjPWIudHJhbnNsYXRlLGQ9dGhpcy5zb3VyY2UuZ2V0VmlldygpLnNjYWxlLGY9ZC9iLnNjYWxlLGc9MS9iLnNjYWxlLGs9dGhpcy5zb3VyY2UuY29udGFpbmVyO3RoaXMuYm91bmRzPW5ldyBteFJlY3RhbmdsZSgoYy54LWUueC10aGlzLnNvdXJjZS5wYW5EeCkvZywoYy55LWUueS10aGlzLnNvdXJjZS5wYW5EeSkvZyxrLmNsaWVudFdpZHRoL2Ysay5jbGllbnRIZWlnaHQvZik7dGhpcy5ib3VuZHMueCs9dGhpcy5zb3VyY2UuY29udGFpbmVyLnNjcm9sbExlZnQqYi5zY2FsZS9kO3RoaXMuYm91bmRzLnkrPXRoaXMuc291cmNlLmNvbnRhaW5lci5zY3JvbGxUb3AqYi5zY2FsZS9kO2M9dGhpcy5zZWxlY3Rpb25Cb3JkZXIuYm91bmRzO2lmKGMueCE9dGhpcy5ib3VuZHMueHx8CmMueSE9dGhpcy5ib3VuZHMueXx8Yy53aWR0aCE9dGhpcy5ib3VuZHMud2lkdGh8fGMuaGVpZ2h0IT10aGlzLmJvdW5kcy5oZWlnaHQpdGhpcy5zZWxlY3Rpb25Cb3JkZXIuYm91bmRzPXRoaXMuYm91bmRzLHRoaXMuc2VsZWN0aW9uQm9yZGVyLnJlZHJhdygpO2M9dGhpcy5zaXplci5ib3VuZHM7Yj1uZXcgbXhSZWN0YW5nbGUodGhpcy5ib3VuZHMueCt0aGlzLmJvdW5kcy53aWR0aC1jLndpZHRoLzIsdGhpcy5ib3VuZHMueSt0aGlzLmJvdW5kcy5oZWlnaHQtYy5oZWlnaHQvMixjLndpZHRoLGMuaGVpZ2h0KTtpZihjLnghPWIueHx8Yy55IT1iLnl8fGMud2lkdGghPWIud2lkdGh8fGMuaGVpZ2h0IT1iLmhlaWdodCl0aGlzLnNpemVyLmJvdW5kcz1iLCJoaWRkZW4iIT10aGlzLnNpemVyLm5vZGUuc3R5bGUudmlzaWJpbGl0eSYmdGhpcy5zaXplci5yZWRyYXcoKTthJiZ0aGlzLm91dGxpbmUudmlldy5yZXZhbGlkYXRlKCl9fX07Cm14T3V0bGluZS5wcm90b3R5cGUubW91c2VEb3duPWZ1bmN0aW9uKGEsYil7aWYodGhpcy5lbmFibGVkJiZ0aGlzLnNob3dWaWV3cG9ydCl7dmFyIGM9bXhFdmVudC5pc01vdXNlRXZlbnQoYi5nZXRFdmVudCgpKT8wOnRoaXMuc291cmNlLnRvbGVyYW5jZSxjPXRoaXMuc291cmNlLmFsbG93SGFuZGxlQm91bmRzQ2hlY2smJihteENsaWVudC5JU19JRXx8MDxjKT9uZXcgbXhSZWN0YW5nbGUoYi5nZXRHcmFwaFgoKS1jLGIuZ2V0R3JhcGhZKCktYywyKmMsMipjKTpudWxsO3RoaXMuem9vbT1iLmlzU291cmNlKHRoaXMuc2l6ZXIpfHxudWxsIT1jJiZteFV0aWxzLmludGVyc2VjdHMoc2hhcGUuYm91bmRzLGMpO3RoaXMuc3RhcnRYPWIuZ2V0WCgpO3RoaXMuc3RhcnRZPWIuZ2V0WSgpO3RoaXMuYWN0aXZlPSEwO3RoaXMuc291cmNlLnVzZVNjcm9sbGJhcnNGb3JQYW5uaW5nJiZteFV0aWxzLmhhc1Njcm9sbGJhcnModGhpcy5zb3VyY2UuY29udGFpbmVyKT8odGhpcy5keDA9dGhpcy5zb3VyY2UuY29udGFpbmVyLnNjcm9sbExlZnQsCnRoaXMuZHkwPXRoaXMuc291cmNlLmNvbnRhaW5lci5zY3JvbGxUb3ApOnRoaXMuZHkwPXRoaXMuZHgwPTB9Yi5jb25zdW1lKCl9OwpteE91dGxpbmUucHJvdG90eXBlLm1vdXNlTW92ZT1mdW5jdGlvbihhLGIpe2lmKHRoaXMuYWN0aXZlKXt0aGlzLnNlbGVjdGlvbkJvcmRlci5ub2RlLnN0eWxlLmRpc3BsYXk9dGhpcy5zaG93Vmlld3BvcnQ/IiI6Im5vbmUiO3RoaXMuc2l6ZXIubm9kZS5zdHlsZS5kaXNwbGF5PXRoaXMuc2VsZWN0aW9uQm9yZGVyLm5vZGUuc3R5bGUuZGlzcGxheTt2YXIgYz10aGlzLmdldFRyYW5zbGF0ZUZvckV2ZW50KGIpLGQ9Yy54LGU9Yy55O2lmKHRoaXMuem9vbSljPXRoaXMuc291cmNlLmNvbnRhaW5lcixlPWQvKGMuY2xpZW50V2lkdGgvYy5jbGllbnRIZWlnaHQpLGM9bmV3IG14UmVjdGFuZ2xlKHRoaXMuYm91bmRzLngsdGhpcy5ib3VuZHMueSxNYXRoLm1heCgxLHRoaXMuYm91bmRzLndpZHRoK2QpLE1hdGgubWF4KDEsdGhpcy5ib3VuZHMuaGVpZ2h0K2UpKSx0aGlzLnNlbGVjdGlvbkJvcmRlci5ib3VuZHM9Yyx0aGlzLnNlbGVjdGlvbkJvcmRlci5yZWRyYXcoKTtlbHNle3ZhciBmPXRoaXMub3V0bGluZS5nZXRWaWV3KCkuc2NhbGUsCmM9bmV3IG14UmVjdGFuZ2xlKHRoaXMuYm91bmRzLngrZCx0aGlzLmJvdW5kcy55K2UsdGhpcy5ib3VuZHMud2lkdGgsdGhpcy5ib3VuZHMuaGVpZ2h0KTt0aGlzLnNlbGVjdGlvbkJvcmRlci5ib3VuZHM9Yzt0aGlzLnNlbGVjdGlvbkJvcmRlci5yZWRyYXcoKTtkPWQvZip0aGlzLnNvdXJjZS5nZXRWaWV3KCkuc2NhbGU7ZT1lL2YqdGhpcy5zb3VyY2UuZ2V0VmlldygpLnNjYWxlO3RoaXMuc291cmNlLnBhbkdyYXBoKC1kLXRoaXMuZHgwLC1lLXRoaXMuZHkwKX1kPXRoaXMuc2l6ZXIuYm91bmRzO3RoaXMuc2l6ZXIuYm91bmRzPW5ldyBteFJlY3RhbmdsZShjLngrYy53aWR0aC1kLndpZHRoLzIsYy55K2MuaGVpZ2h0LWQuaGVpZ2h0LzIsZC53aWR0aCxkLmhlaWdodCk7ImhpZGRlbiIhPXRoaXMuc2l6ZXIubm9kZS5zdHlsZS52aXNpYmlsaXR5JiZ0aGlzLnNpemVyLnJlZHJhdygpO2IuY29uc3VtZSgpfX07Cm14T3V0bGluZS5wcm90b3R5cGUuZ2V0VHJhbnNsYXRlRm9yRXZlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBteFBvaW50KGEuZ2V0WCgpLXRoaXMuc3RhcnRYLGEuZ2V0WSgpLXRoaXMuc3RhcnRZKX07Cm14T3V0bGluZS5wcm90b3R5cGUubW91c2VVcD1mdW5jdGlvbihhLGIpe2lmKHRoaXMuYWN0aXZlKXt2YXIgYz10aGlzLmdldFRyYW5zbGF0ZUZvckV2ZW50KGIpLGQ9Yy54LGM9Yy55O2lmKDA8TWF0aC5hYnMoZCl8fDA8TWF0aC5hYnMoYykpe2lmKHRoaXMuem9vbSl7dmFyIGM9dGhpcy5zZWxlY3Rpb25Cb3JkZXIuYm91bmRzLndpZHRoLGU9dGhpcy5zb3VyY2UuZ2V0VmlldygpLnNjYWxlO3RoaXMuc291cmNlLnpvb21UbyhNYXRoLm1heCh0aGlzLm1pblNjYWxlLGUtZCplL2MpLCExKX1lbHNlIHRoaXMuc291cmNlLnVzZVNjcm9sbGJhcnNGb3JQYW5uaW5nJiZteFV0aWxzLmhhc1Njcm9sbGJhcnModGhpcy5zb3VyY2UuY29udGFpbmVyKXx8KHRoaXMuc291cmNlLnBhbkdyYXBoKDAsMCksZC89dGhpcy5vdXRsaW5lLmdldFZpZXcoKS5zY2FsZSxjLz10aGlzLm91dGxpbmUuZ2V0VmlldygpLnNjYWxlLGU9dGhpcy5zb3VyY2UuZ2V0VmlldygpLnRyYW5zbGF0ZSx0aGlzLnNvdXJjZS5nZXRWaWV3KCkuc2V0VHJhbnNsYXRlKGUueC0KZCxlLnktYykpO3RoaXMudXBkYXRlKCk7Yi5jb25zdW1lKCl9dGhpcy5pbmRleD1udWxsO3RoaXMuYWN0aXZlPSExfX07Cm14T3V0bGluZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe251bGwhPXRoaXMuc291cmNlJiYodGhpcy5zb3VyY2UucmVtb3ZlTGlzdGVuZXIodGhpcy5wYW5IYW5kbGVyKSx0aGlzLnNvdXJjZS5yZW1vdmVMaXN0ZW5lcih0aGlzLnJlZnJlc2hIYW5kbGVyKSx0aGlzLnNvdXJjZS5nZXRNb2RlbCgpLnJlbW92ZUxpc3RlbmVyKHRoaXMudXBkYXRlSGFuZGxlciksdGhpcy5zb3VyY2UuZ2V0VmlldygpLnJlbW92ZUxpc3RlbmVyKHRoaXMudXBkYXRlSGFuZGxlciksbXhFdmVudC5yZW1vdmVMaXN0ZW5lcih0aGlzLnNvdXJjZS5jb250YWluZXIsInNjcm9sbCIsdGhpcy51cGRhdGVIYW5kbGVyKSx0aGlzLnNvdXJjZT1udWxsKTtudWxsIT10aGlzLm91dGxpbmUmJih0aGlzLm91dGxpbmUucmVtb3ZlTW91c2VMaXN0ZW5lcih0aGlzKSx0aGlzLm91dGxpbmUuZGVzdHJveSgpLHRoaXMub3V0bGluZT1udWxsKTtudWxsIT10aGlzLnNlbGVjdGlvbkJvcmRlciYmKHRoaXMuc2VsZWN0aW9uQm9yZGVyLmRlc3Ryb3koKSwKdGhpcy5zZWxlY3Rpb25Cb3JkZXI9bnVsbCk7bnVsbCE9dGhpcy5zaXplciYmKHRoaXMuc2l6ZXIuZGVzdHJveSgpLHRoaXMuc2l6ZXI9bnVsbCl9O2Z1bmN0aW9uIG14TXVsdGlwbGljaXR5KGEsYixjLGQsZSxmLGcsayxsLG0pe3RoaXMuc291cmNlPWE7dGhpcy50eXBlPWI7dGhpcy5hdHRyPWM7dGhpcy52YWx1ZT1kO3RoaXMubWluPW51bGwhPWU/ZTowO3RoaXMubWF4PW51bGwhPWY/ZjoibiI7dGhpcy52YWxpZE5laWdoYm9ycz1nO3RoaXMuY291bnRFcnJvcj1teFJlc291cmNlcy5nZXQoayl8fGs7dGhpcy50eXBlRXJyb3I9bXhSZXNvdXJjZXMuZ2V0KGwpfHxsO3RoaXMudmFsaWROZWlnaGJvcnNBbGxvd2VkPW51bGwhPW0/bTohMH1teE11bHRpcGxpY2l0eS5wcm90b3R5cGUudHlwZT1udWxsO214TXVsdGlwbGljaXR5LnByb3RvdHlwZS5hdHRyPW51bGw7bXhNdWx0aXBsaWNpdHkucHJvdG90eXBlLnZhbHVlPW51bGw7bXhNdWx0aXBsaWNpdHkucHJvdG90eXBlLnNvdXJjZT1udWxsOwpteE11bHRpcGxpY2l0eS5wcm90b3R5cGUubWluPW51bGw7bXhNdWx0aXBsaWNpdHkucHJvdG90eXBlLm1heD1udWxsO214TXVsdGlwbGljaXR5LnByb3RvdHlwZS52YWxpZE5laWdoYm9ycz1udWxsO214TXVsdGlwbGljaXR5LnByb3RvdHlwZS52YWxpZE5laWdoYm9yc0FsbG93ZWQ9ITA7bXhNdWx0aXBsaWNpdHkucHJvdG90eXBlLmNvdW50RXJyb3I9bnVsbDtteE11bHRpcGxpY2l0eS5wcm90b3R5cGUudHlwZUVycm9yPW51bGw7Cm14TXVsdGlwbGljaXR5LnByb3RvdHlwZS5jaGVjaz1mdW5jdGlvbihhLGIsYyxkLGUsZil7dmFyIGc9IiI7aWYodGhpcy5zb3VyY2UmJnRoaXMuY2hlY2tUZXJtaW5hbChhLGMsYil8fCF0aGlzLnNvdXJjZSYmdGhpcy5jaGVja1Rlcm1pbmFsKGEsZCxiKSludWxsIT10aGlzLmNvdW50RXJyb3ImJih0aGlzLnNvdXJjZSYmKDA9PXRoaXMubWF4fHxlPj10aGlzLm1heCl8fCF0aGlzLnNvdXJjZSYmKDA9PXRoaXMubWF4fHxmPj10aGlzLm1heCkpJiYoZys9dGhpcy5jb3VudEVycm9yKyJcbiIpLG51bGwhPXRoaXMudmFsaWROZWlnaGJvcnMmJm51bGwhPXRoaXMudHlwZUVycm9yJiYwPHRoaXMudmFsaWROZWlnaGJvcnMubGVuZ3RoJiYodGhpcy5jaGVja05laWdoYm9ycyhhLGIsYyxkKXx8KGcrPXRoaXMudHlwZUVycm9yKyJcbiIpKTtyZXR1cm4gMDxnLmxlbmd0aD9nOm51bGx9OwpteE11bHRpcGxpY2l0eS5wcm90b3R5cGUuY2hlY2tOZWlnaGJvcnM9ZnVuY3Rpb24oYSxiLGMsZCl7Yj1hLm1vZGVsLmdldFZhbHVlKGMpO2Q9YS5tb2RlbC5nZXRWYWx1ZShkKTtjPSF0aGlzLnZhbGlkTmVpZ2hib3JzQWxsb3dlZDtmb3IodmFyIGU9dGhpcy52YWxpZE5laWdoYm9ycyxmPTA7ZjxlLmxlbmd0aDtmKyspaWYodGhpcy5zb3VyY2UmJnRoaXMuY2hlY2tUeXBlKGEsZCxlW2ZdKSl7Yz10aGlzLnZhbGlkTmVpZ2hib3JzQWxsb3dlZDticmVha31lbHNlIGlmKCF0aGlzLnNvdXJjZSYmdGhpcy5jaGVja1R5cGUoYSxiLGVbZl0pKXtjPXRoaXMudmFsaWROZWlnaGJvcnNBbGxvd2VkO2JyZWFrfXJldHVybiBjfTtteE11bHRpcGxpY2l0eS5wcm90b3R5cGUuY2hlY2tUZXJtaW5hbD1mdW5jdGlvbihhLGIsYyl7Yj1hLm1vZGVsLmdldFZhbHVlKGIpO3JldHVybiB0aGlzLmNoZWNrVHlwZShhLGIsdGhpcy50eXBlLHRoaXMuYXR0cix0aGlzLnZhbHVlKX07Cm14TXVsdGlwbGljaXR5LnByb3RvdHlwZS5jaGVja1R5cGU9ZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4gbnVsbCE9Yj9pc05hTihiLm5vZGVUeXBlKT9iPT1jOm14VXRpbHMuaXNOb2RlKGIsYyxkLGUpOiExfTsKZnVuY3Rpb24gbXhMYXlvdXRNYW5hZ2VyKGEpe3RoaXMudW5kb0hhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxjKXt0aGlzLmlzRW5hYmxlZCgpJiZ0aGlzLmJlZm9yZVVuZG8oYy5nZXRQcm9wZXJ0eSgiZWRpdCIpKX0pO3RoaXMubW92ZUhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxjKXt0aGlzLmlzRW5hYmxlZCgpJiZ0aGlzLmNlbGxzTW92ZWQoYy5nZXRQcm9wZXJ0eSgiY2VsbHMiKSxjLmdldFByb3BlcnR5KCJldmVudCIpKX0pO3RoaXMucmVzaXplSGFuZGxlcj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGMpe3RoaXMuaXNFbmFibGVkKCkmJnRoaXMuY2VsbHNSZXNpemVkKGMuZ2V0UHJvcGVydHkoImNlbGxzIiksYy5nZXRQcm9wZXJ0eSgiYm91bmRzIiksYy5nZXRQcm9wZXJ0eSgicHJldmlvdXMiKSl9KTt0aGlzLnNldEdyYXBoKGEpfW14TGF5b3V0TWFuYWdlci5wcm90b3R5cGU9bmV3IG14RXZlbnRTb3VyY2U7Cm14TGF5b3V0TWFuYWdlci5wcm90b3R5cGUuY29uc3RydWN0b3I9bXhMYXlvdXRNYW5hZ2VyO214TGF5b3V0TWFuYWdlci5wcm90b3R5cGUuZ3JhcGg9bnVsbDtteExheW91dE1hbmFnZXIucHJvdG90eXBlLmJ1YmJsaW5nPSEwO214TGF5b3V0TWFuYWdlci5wcm90b3R5cGUuZW5hYmxlZD0hMDtteExheW91dE1hbmFnZXIucHJvdG90eXBlLnVuZG9IYW5kbGVyPW51bGw7bXhMYXlvdXRNYW5hZ2VyLnByb3RvdHlwZS5tb3ZlSGFuZGxlcj1udWxsO214TGF5b3V0TWFuYWdlci5wcm90b3R5cGUucmVzaXplSGFuZGxlcj1udWxsO214TGF5b3V0TWFuYWdlci5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5hYmxlZH07bXhMYXlvdXRNYW5hZ2VyLnByb3RvdHlwZS5zZXRFbmFibGVkPWZ1bmN0aW9uKGEpe3RoaXMuZW5hYmxlZD1hfTtteExheW91dE1hbmFnZXIucHJvdG90eXBlLmlzQnViYmxpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5idWJibGluZ307Cm14TGF5b3V0TWFuYWdlci5wcm90b3R5cGUuc2V0QnViYmxpbmc9ZnVuY3Rpb24oYSl7dGhpcy5idWJibGluZz1hfTtteExheW91dE1hbmFnZXIucHJvdG90eXBlLmdldEdyYXBoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ3JhcGh9OwpteExheW91dE1hbmFnZXIucHJvdG90eXBlLnNldEdyYXBoPWZ1bmN0aW9uKGEpe2lmKG51bGwhPXRoaXMuZ3JhcGgpe3ZhciBiPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKTtiLnJlbW92ZUxpc3RlbmVyKHRoaXMudW5kb0hhbmRsZXIpO3RoaXMuZ3JhcGgucmVtb3ZlTGlzdGVuZXIodGhpcy5tb3ZlSGFuZGxlcik7dGhpcy5ncmFwaC5yZW1vdmVMaXN0ZW5lcih0aGlzLnJlc2l6ZUhhbmRsZXIpfXRoaXMuZ3JhcGg9YTtudWxsIT10aGlzLmdyYXBoJiYoYj10aGlzLmdyYXBoLmdldE1vZGVsKCksYi5hZGRMaXN0ZW5lcihteEV2ZW50LkJFRk9SRV9VTkRPLHRoaXMudW5kb0hhbmRsZXIpLHRoaXMuZ3JhcGguYWRkTGlzdGVuZXIobXhFdmVudC5NT1ZFX0NFTExTLHRoaXMubW92ZUhhbmRsZXIpLHRoaXMuZ3JhcGguYWRkTGlzdGVuZXIobXhFdmVudC5SRVNJWkVfQ0VMTFMsdGhpcy5yZXNpemVIYW5kbGVyKSl9OwpteExheW91dE1hbmFnZXIucHJvdG90eXBlLmhhc0xheW91dD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5nZXRMYXlvdXQoYSxteEV2ZW50LkxBWU9VVF9DRUxMUyl9O214TGF5b3V0TWFuYWdlci5wcm90b3R5cGUuZ2V0TGF5b3V0PWZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGx9O214TGF5b3V0TWFuYWdlci5wcm90b3R5cGUuYmVmb3JlVW5kbz1mdW5jdGlvbihhKXt0aGlzLmV4ZWN1dGVMYXlvdXRGb3JDZWxscyh0aGlzLmdldENlbGxzRm9yQ2hhbmdlcyhhLmNoYW5nZXMpKX07Cm14TGF5b3V0TWFuYWdlci5wcm90b3R5cGUuY2VsbHNNb3ZlZD1mdW5jdGlvbihhLGIpe2lmKG51bGwhPWEmJm51bGwhPWIpZm9yKHZhciBjPW14VXRpbHMuY29udmVydFBvaW50KHRoaXMuZ2V0R3JhcGgoKS5jb250YWluZXIsbXhFdmVudC5nZXRDbGllbnRYKGIpLG14RXZlbnQuZ2V0Q2xpZW50WShiKSksZD0wO2Q8YS5sZW5ndGg7ZCsrKXt2YXIgZT10aGlzLmdldEFuY2VzdG9yTGF5b3V0KGFbZF0sbXhFdmVudC5NT1ZFX0NFTExTKTtudWxsIT1lJiZlLm1vdmVDZWxsKGFbZF0sYy54LGMueSl9fTtteExheW91dE1hbmFnZXIucHJvdG90eXBlLmNlbGxzUmVzaXplZD1mdW5jdGlvbihhLGIsYyl7aWYobnVsbCE9YSYmbnVsbCE9Yilmb3IodmFyIGQ9MDtkPGEubGVuZ3RoO2QrKyl7dmFyIGU9dGhpcy5nZXRBbmNlc3RvckxheW91dChhW2RdLG14RXZlbnQuUkVTSVpFX0NFTExTKTtudWxsIT1lJiZlLnJlc2l6ZUNlbGwoYVtkXSxiW2RdLGNbZF0pfX07Cm14TGF5b3V0TWFuYWdlci5wcm90b3R5cGUuZ2V0QW5jZXN0b3JMYXlvdXQ9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9dGhpcy5nZXRHcmFwaCgpLmdldE1vZGVsKCk7bnVsbCE9YTspe3ZhciBkPXRoaXMuZ2V0TGF5b3V0KGEsYik7aWYobnVsbCE9ZClyZXR1cm4gZDthPWMuZ2V0UGFyZW50KGEpfXJldHVybiBudWxsfTtteExheW91dE1hbmFnZXIucHJvdG90eXBlLmdldENlbGxzRm9yQ2hhbmdlcz1mdW5jdGlvbihhKXtmb3IodmFyIGI9W10sYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZD1hW2NdO2lmKGQgaW5zdGFuY2VvZiBteFJvb3RDaGFuZ2UpcmV0dXJuW107Yj1iLmNvbmNhdCh0aGlzLmdldENlbGxzRm9yQ2hhbmdlKGQpKX1yZXR1cm4gYn07Cm14TGF5b3V0TWFuYWdlci5wcm90b3R5cGUuZ2V0Q2VsbHNGb3JDaGFuZ2U9ZnVuY3Rpb24oYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBteENoaWxkQ2hhbmdlP3RoaXMuYWRkQ2VsbHNXaXRoTGF5b3V0KGEuY2hpbGQsdGhpcy5hZGRDZWxsc1dpdGhMYXlvdXQoYS5wcmV2aW91cykpOmEgaW5zdGFuY2VvZiBteFRlcm1pbmFsQ2hhbmdlfHxhIGluc3RhbmNlb2YgbXhHZW9tZXRyeUNoYW5nZXx8YSBpbnN0YW5jZW9mIG14VmlzaWJsZUNoYW5nZXx8YSBpbnN0YW5jZW9mIG14U3R5bGVDaGFuZ2U/dGhpcy5hZGRDZWxsc1dpdGhMYXlvdXQoYS5jZWxsKTpbXX07bXhMYXlvdXRNYW5hZ2VyLnByb3RvdHlwZS5hZGRDZWxsc1dpdGhMYXlvdXQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5hZGREZXNjZW5kYW50c1dpdGhMYXlvdXQoYSx0aGlzLmFkZEFuY2VzdG9yc1dpdGhMYXlvdXQoYSxiKSl9OwpteExheW91dE1hbmFnZXIucHJvdG90eXBlLmFkZEFuY2VzdG9yc1dpdGhMYXlvdXQ9ZnVuY3Rpb24oYSxiKXtiPW51bGwhPWI/YjpbXTtpZihudWxsIT1hJiYobnVsbCE9dGhpcy5oYXNMYXlvdXQoYSkmJmIucHVzaChhKSx0aGlzLmlzQnViYmxpbmcoKSkpe3ZhciBjPXRoaXMuZ2V0R3JhcGgoKS5nZXRNb2RlbCgpO3RoaXMuYWRkQW5jZXN0b3JzV2l0aExheW91dChjLmdldFBhcmVudChhKSxiKX1yZXR1cm4gYn07bXhMYXlvdXRNYW5hZ2VyLnByb3RvdHlwZS5hZGREZXNjZW5kYW50c1dpdGhMYXlvdXQ9ZnVuY3Rpb24oYSxiKXtiPW51bGwhPWI/YjpbXTtpZihudWxsIT1hJiZ0aGlzLmhhc0xheW91dChhKSlmb3IodmFyIGM9dGhpcy5nZXRHcmFwaCgpLmdldE1vZGVsKCksZD0wO2Q8Yy5nZXRDaGlsZENvdW50KGEpO2QrKyl7dmFyIGU9Yy5nZXRDaGlsZEF0KGEsZCk7dGhpcy5oYXNMYXlvdXQoZSkmJihiLnB1c2goZSksdGhpcy5hZGREZXNjZW5kYW50c1dpdGhMYXlvdXQoZSxiKSl9cmV0dXJuIGJ9OwpteExheW91dE1hbmFnZXIucHJvdG90eXBlLmV4ZWN1dGVMYXlvdXRGb3JDZWxscz1mdW5jdGlvbihhKXthPW14VXRpbHMuc29ydENlbGxzKGEsITEpO3RoaXMubGF5b3V0Q2VsbHMoYSwhMCk7dGhpcy5sYXlvdXRDZWxscyhhLnJldmVyc2UoKSwhMSl9O214TGF5b3V0TWFuYWdlci5wcm90b3R5cGUubGF5b3V0Q2VsbHM9ZnVuY3Rpb24oYSxiKXtpZigwPGEubGVuZ3RoKXt2YXIgYz10aGlzLmdldEdyYXBoKCkuZ2V0TW9kZWwoKTtjLmJlZ2luVXBkYXRlKCk7dHJ5e2Zvcih2YXIgZD1udWxsLGU9MDtlPGEubGVuZ3RoO2UrKylhW2VdIT1jLmdldFJvb3QoKSYmYVtlXSE9ZCYmKHRoaXMuZXhlY3V0ZUxheW91dChhW2VdLGIpLGQ9YVtlXSk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5MQVlPVVRfQ0VMTFMsImNlbGxzIixhKSl9ZmluYWxseXtjLmVuZFVwZGF0ZSgpfX19OwpteExheW91dE1hbmFnZXIucHJvdG90eXBlLmV4ZWN1dGVMYXlvdXQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldExheW91dChhLGI/bXhFdmVudC5CRUdJTl9VUERBVEU6bXhFdmVudC5FTkRfVVBEQVRFKTtudWxsIT1jJiZjLmV4ZWN1dGUoYSl9O214TGF5b3V0TWFuYWdlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuc2V0R3JhcGgobnVsbCl9OwpmdW5jdGlvbiBteFN3aW1sYW5lTWFuYWdlcihhLGIsYyxkKXt0aGlzLmhvcml6b250YWw9bnVsbCE9Yj9iOiEwO3RoaXMuYWRkRW5hYmxlZD1udWxsIT1jP2M6ITA7dGhpcy5yZXNpemVFbmFibGVkPW51bGwhPWQ/ZDohMDt0aGlzLmFkZEhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxiKXt0aGlzLmlzRW5hYmxlZCgpJiZ0aGlzLmlzQWRkRW5hYmxlZCgpJiZ0aGlzLmNlbGxzQWRkZWQoYi5nZXRQcm9wZXJ0eSgiY2VsbHMiKSl9KTt0aGlzLnJlc2l6ZUhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxiKXt0aGlzLmlzRW5hYmxlZCgpJiZ0aGlzLmlzUmVzaXplRW5hYmxlZCgpJiZ0aGlzLmNlbGxzUmVzaXplZChiLmdldFByb3BlcnR5KCJjZWxscyIpKX0pO3RoaXMuc2V0R3JhcGgoYSl9bXhTd2ltbGFuZU1hbmFnZXIucHJvdG90eXBlPW5ldyBteEV2ZW50U291cmNlO214U3dpbWxhbmVNYW5hZ2VyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1teFN3aW1sYW5lTWFuYWdlcjsKbXhTd2ltbGFuZU1hbmFnZXIucHJvdG90eXBlLmdyYXBoPW51bGw7bXhTd2ltbGFuZU1hbmFnZXIucHJvdG90eXBlLmVuYWJsZWQ9ITA7bXhTd2ltbGFuZU1hbmFnZXIucHJvdG90eXBlLmhvcml6b250YWw9ITA7bXhTd2ltbGFuZU1hbmFnZXIucHJvdG90eXBlLmFkZEVuYWJsZWQ9ITA7bXhTd2ltbGFuZU1hbmFnZXIucHJvdG90eXBlLnJlc2l6ZUVuYWJsZWQ9ITA7bXhTd2ltbGFuZU1hbmFnZXIucHJvdG90eXBlLmFkZEhhbmRsZXI9bnVsbDtteFN3aW1sYW5lTWFuYWdlci5wcm90b3R5cGUucmVzaXplSGFuZGxlcj1udWxsO214U3dpbWxhbmVNYW5hZ2VyLnByb3RvdHlwZS5pc0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmFibGVkfTtteFN3aW1sYW5lTWFuYWdlci5wcm90b3R5cGUuc2V0RW5hYmxlZD1mdW5jdGlvbihhKXt0aGlzLmVuYWJsZWQ9YX07bXhTd2ltbGFuZU1hbmFnZXIucHJvdG90eXBlLmlzSG9yaXpvbnRhbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhvcml6b250YWx9OwpteFN3aW1sYW5lTWFuYWdlci5wcm90b3R5cGUuc2V0SG9yaXpvbnRhbD1mdW5jdGlvbihhKXt0aGlzLmhvcml6b250YWw9YX07bXhTd2ltbGFuZU1hbmFnZXIucHJvdG90eXBlLmlzQWRkRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFkZEVuYWJsZWR9O214U3dpbWxhbmVNYW5hZ2VyLnByb3RvdHlwZS5zZXRBZGRFbmFibGVkPWZ1bmN0aW9uKGEpe3RoaXMuYWRkRW5hYmxlZD1hfTtteFN3aW1sYW5lTWFuYWdlci5wcm90b3R5cGUuaXNSZXNpemVFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVzaXplRW5hYmxlZH07bXhTd2ltbGFuZU1hbmFnZXIucHJvdG90eXBlLnNldFJlc2l6ZUVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5yZXNpemVFbmFibGVkPWF9O214U3dpbWxhbmVNYW5hZ2VyLnByb3RvdHlwZS5nZXRHcmFwaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdyYXBofTsKbXhTd2ltbGFuZU1hbmFnZXIucHJvdG90eXBlLnNldEdyYXBoPWZ1bmN0aW9uKGEpe251bGwhPXRoaXMuZ3JhcGgmJih0aGlzLmdyYXBoLnJlbW92ZUxpc3RlbmVyKHRoaXMuYWRkSGFuZGxlciksdGhpcy5ncmFwaC5yZW1vdmVMaXN0ZW5lcih0aGlzLnJlc2l6ZUhhbmRsZXIpKTt0aGlzLmdyYXBoPWE7bnVsbCE9dGhpcy5ncmFwaCYmKHRoaXMuZ3JhcGguYWRkTGlzdGVuZXIobXhFdmVudC5BRERfQ0VMTFMsdGhpcy5hZGRIYW5kbGVyKSx0aGlzLmdyYXBoLmFkZExpc3RlbmVyKG14RXZlbnQuQ0VMTFNfUkVTSVpFRCx0aGlzLnJlc2l6ZUhhbmRsZXIpKX07bXhTd2ltbGFuZU1hbmFnZXIucHJvdG90eXBlLmlzU3dpbWxhbmVJZ25vcmVkPWZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmdldEdyYXBoKCkuaXNTd2ltbGFuZShhKX07Cm14U3dpbWxhbmVNYW5hZ2VyLnByb3RvdHlwZS5pc0NlbGxIb3Jpem9udGFsPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdyYXBoLmlzU3dpbWxhbmUoYSk/KGE9dGhpcy5ncmFwaC5nZXRDZWxsU3R5bGUoYSksMT09bXhVdGlscy5nZXRWYWx1ZShhLG14Q29uc3RhbnRzLlNUWUxFX0hPUklaT05UQUwsMSkpOiF0aGlzLmlzSG9yaXpvbnRhbCgpfTtteFN3aW1sYW5lTWFuYWdlci5wcm90b3R5cGUuY2VsbHNBZGRlZD1mdW5jdGlvbihhKXtpZihudWxsIT1hKXt2YXIgYj10aGlzLmdldEdyYXBoKCkuZ2V0TW9kZWwoKTtiLmJlZ2luVXBkYXRlKCk7dHJ5e2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKXRoaXMuaXNTd2ltbGFuZUlnbm9yZWQoYVtjXSl8fHRoaXMuc3dpbWxhbmVBZGRlZChhW2NdKX1maW5hbGx5e2IuZW5kVXBkYXRlKCl9fX07Cm14U3dpbWxhbmVNYW5hZ2VyLnByb3RvdHlwZS5zd2ltbGFuZUFkZGVkPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmdldEdyYXBoKCkuZ2V0TW9kZWwoKSxjPWIuZ2V0UGFyZW50KGEpLGQ9Yi5nZXRDaGlsZENvdW50KGMpLGU9bnVsbCxmPTA7ZjxkO2YrKyl7dmFyIGc9Yi5nZXRDaGlsZEF0KGMsZik7aWYoZyE9YSYmIXRoaXMuaXNTd2ltbGFuZUlnbm9yZWQoZykmJihlPWIuZ2V0R2VvbWV0cnkoZyksbnVsbCE9ZSkpYnJlYWt9bnVsbCE9ZSYmKGI9bnVsbCE9Yz90aGlzLmlzQ2VsbEhvcml6b250YWwoYyk6dGhpcy5ob3Jpem9udGFsLHRoaXMucmVzaXplU3dpbWxhbmUoYSxlLndpZHRoLGUuaGVpZ2h0LGIpKX07Cm14U3dpbWxhbmVNYW5hZ2VyLnByb3RvdHlwZS5jZWxsc1Jlc2l6ZWQ9ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSl7dmFyIGI9dGhpcy5nZXRHcmFwaCgpLmdldE1vZGVsKCk7Yi5iZWdpblVwZGF0ZSgpO3RyeXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKylpZighdGhpcy5pc1N3aW1sYW5lSWdub3JlZChhW2NdKSl7dmFyIGQ9Yi5nZXRHZW9tZXRyeShhW2NdKTtpZihudWxsIT1kKXtmb3IodmFyIGU9bmV3IG14UmVjdGFuZ2xlKDAsMCxkLndpZHRoLGQuaGVpZ2h0KSxmPWFbY10sZz1mO251bGwhPWc7KXt2YXIgZj1nLGc9Yi5nZXRQYXJlbnQoZyksaz10aGlzLmdyYXBoLmlzU3dpbWxhbmUoZyk/dGhpcy5ncmFwaC5nZXRTdGFydFNpemUoZyk6bmV3IG14UmVjdGFuZ2xlO2Uud2lkdGgrPWsud2lkdGg7ZS5oZWlnaHQrPWsuaGVpZ2h0fXZhciBsPW51bGwhPWc/dGhpcy5pc0NlbGxIb3Jpem9udGFsKGcpOnRoaXMuaG9yaXpvbnRhbDt0aGlzLnJlc2l6ZVN3aW1sYW5lKGYsZS53aWR0aCwKZS5oZWlnaHQsbCl9fX1maW5hbGx5e2IuZW5kVXBkYXRlKCl9fX07Cm14U3dpbWxhbmVNYW5hZ2VyLnByb3RvdHlwZS5yZXNpemVTd2ltbGFuZT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT10aGlzLmdldEdyYXBoKCkuZ2V0TW9kZWwoKTtlLmJlZ2luVXBkYXRlKCk7dHJ5e3ZhciBmPXRoaXMuaXNDZWxsSG9yaXpvbnRhbChhKTtpZighdGhpcy5pc1N3aW1sYW5lSWdub3JlZChhKSl7dmFyIGc9ZS5nZXRHZW9tZXRyeShhKTtudWxsIT1nJiYoZCYmZy5oZWlnaHQhPWN8fCFkJiZnLndpZHRoIT1iKSYmKGc9Zy5jbG9uZSgpLGQ/Zy5oZWlnaHQ9YzpnLndpZHRoPWIsZS5zZXRHZW9tZXRyeShhLGcpKX12YXIgaz10aGlzLmdyYXBoLmlzU3dpbWxhbmUoYSk/dGhpcy5ncmFwaC5nZXRTdGFydFNpemUoYSk6bmV3IG14UmVjdGFuZ2xlO2ItPWsud2lkdGg7Yy09ay5oZWlnaHQ7dmFyIGw9ZS5nZXRDaGlsZENvdW50KGEpO2ZvcihkPTA7ZDxsO2QrKyl7dmFyIG09ZS5nZXRDaGlsZEF0KGEsZCk7dGhpcy5yZXNpemVTd2ltbGFuZShtLGIsYyxmKX19ZmluYWxseXtlLmVuZFVwZGF0ZSgpfX07Cm14U3dpbWxhbmVNYW5hZ2VyLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5zZXRHcmFwaChudWxsKX07CmZ1bmN0aW9uIG14VGVtcG9yYXJ5Q2VsbFN0YXRlcyhhLGIsYyxkLGUpe2I9bnVsbCE9Yj9iOjE7dGhpcy52aWV3PWE7dGhpcy5vbGRWYWxpZGF0ZUNlbGxTdGF0ZT1hLnZhbGlkYXRlQ2VsbFN0YXRlO3RoaXMub2xkQm91bmRzPWEuZ2V0R3JhcGhCb3VuZHMoKTt0aGlzLm9sZFN0YXRlcz1hLmdldFN0YXRlcygpO3RoaXMub2xkU2NhbGU9YS5nZXRTY2FsZSgpO3RoaXMub2xkRG9SZWRyYXdTaGFwZT1hLmdyYXBoLmNlbGxSZW5kZXJlci5kb1JlZHJhd1NoYXBlO3ZhciBmPXRoaXM7bnVsbCE9ZSYmKGEuZ3JhcGguY2VsbFJlbmRlcmVyLmRvUmVkcmF3U2hhcGU9ZnVuY3Rpb24oYil7dmFyIGM9Yi5zaGFwZS5wYWludDtiLnNoYXBlLnBhaW50PWZ1bmN0aW9uKGEpe3ZhciBkPWUoYik7bnVsbCE9ZCYmYS5zZXRMaW5rKGQpO2MuYXBwbHkodGhpcyxhcmd1bWVudHMpO251bGwhPWQmJmEuc2V0TGluayhudWxsKX07Zi5vbGREb1JlZHJhd1NoYXBlLmFwcGx5KGEuZ3JhcGguY2VsbFJlbmRlcmVyLAphcmd1bWVudHMpO2Iuc2hhcGUucGFpbnQ9Y30pO2EudmFsaWRhdGVDZWxsU3RhdGU9ZnVuY3Rpb24oYixjKXtyZXR1cm4gbnVsbD09Ynx8bnVsbD09ZHx8ZChiKT9mLm9sZFZhbGlkYXRlQ2VsbFN0YXRlLmFwcGx5KGEsYXJndW1lbnRzKTpudWxsfTthLnNldFN0YXRlcyhuZXcgbXhEaWN0aW9uYXJ5KTthLnNldFNjYWxlKGIpO2lmKG51bGwhPWMpe2EucmVzZXRWYWxpZGF0aW9uU3RhdGUoKTtiPW51bGw7Zm9yKHZhciBnPTA7ZzxjLmxlbmd0aDtnKyspe3ZhciBrPWEuZ2V0Qm91bmRpbmdCb3goYS52YWxpZGF0ZUNlbGxTdGF0ZShhLnZhbGlkYXRlQ2VsbChjW2ddKSkpO251bGw9PWI/Yj1rOmIuYWRkKGspfWEuc2V0R3JhcGhCb3VuZHMoYnx8bmV3IG14UmVjdGFuZ2xlKX19bXhUZW1wb3JhcnlDZWxsU3RhdGVzLnByb3RvdHlwZS52aWV3PW51bGw7bXhUZW1wb3JhcnlDZWxsU3RhdGVzLnByb3RvdHlwZS5vbGRTdGF0ZXM9bnVsbDsKbXhUZW1wb3JhcnlDZWxsU3RhdGVzLnByb3RvdHlwZS5vbGRCb3VuZHM9bnVsbDtteFRlbXBvcmFyeUNlbGxTdGF0ZXMucHJvdG90eXBlLm9sZFNjYWxlPW51bGw7bXhUZW1wb3JhcnlDZWxsU3RhdGVzLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy52aWV3LnNldFNjYWxlKHRoaXMub2xkU2NhbGUpO3RoaXMudmlldy5zZXRTdGF0ZXModGhpcy5vbGRTdGF0ZXMpO3RoaXMudmlldy5zZXRHcmFwaEJvdW5kcyh0aGlzLm9sZEJvdW5kcyk7dGhpcy52aWV3LnZhbGlkYXRlQ2VsbFN0YXRlPXRoaXMub2xkVmFsaWRhdGVDZWxsU3RhdGU7dGhpcy52aWV3LmdyYXBoLmNlbGxSZW5kZXJlci5kb1JlZHJhd1NoYXBlPXRoaXMub2xkRG9SZWRyYXdTaGFwZX07ZnVuY3Rpb24gbXhDZWxsU3RhdGVQcmV2aWV3KGEpe3RoaXMuZGVsdGFzPW5ldyBteERpY3Rpb25hcnk7dGhpcy5ncmFwaD1hfW14Q2VsbFN0YXRlUHJldmlldy5wcm90b3R5cGUuZ3JhcGg9bnVsbDsKbXhDZWxsU3RhdGVQcmV2aWV3LnByb3RvdHlwZS5kZWx0YXM9bnVsbDtteENlbGxTdGF0ZVByZXZpZXcucHJvdG90eXBlLmNvdW50PTA7bXhDZWxsU3RhdGVQcmV2aWV3LnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PXRoaXMuY291bnR9O214Q2VsbFN0YXRlUHJldmlldy5wcm90b3R5cGUubW92ZVN0YXRlPWZ1bmN0aW9uKGEsYixjLGQsZSl7ZD1udWxsIT1kP2Q6ITA7ZT1udWxsIT1lP2U6ITA7dmFyIGY9dGhpcy5kZWx0YXMuZ2V0KGEuY2VsbCk7bnVsbD09Zj8oZj17cG9pbnQ6bmV3IG14UG9pbnQoYixjKSxzdGF0ZTphfSx0aGlzLmRlbHRhcy5wdXQoYS5jZWxsLGYpLHRoaXMuY291bnQrKyk6ZD8oZi5wb2ludC54Kz1iLGYucG9pbnQueSs9Yyk6KGYucG9pbnQueD1iLGYucG9pbnQueT1jKTtlJiZ0aGlzLmFkZEVkZ2VzKGEpO3JldHVybiBmLnBvaW50fTsKbXhDZWxsU3RhdGVQcmV2aWV3LnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKGEpe3RoaXMuZGVsdGFzLnZpc2l0KG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYyl7dGhpcy50cmFuc2xhdGVTdGF0ZShjLnN0YXRlLGMucG9pbnQueCxjLnBvaW50LnkpfSkpO3RoaXMuZGVsdGFzLnZpc2l0KG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIsYyl7dGhpcy5yZXZhbGlkYXRlU3RhdGUoYy5zdGF0ZSxjLnBvaW50LngsYy5wb2ludC55LGEpfSkpfTsKbXhDZWxsU3RhdGVQcmV2aWV3LnByb3RvdHlwZS50cmFuc2xhdGVTdGF0ZT1mdW5jdGlvbihhLGIsYyl7aWYobnVsbCE9YSl7dmFyIGQ9dGhpcy5ncmFwaC5nZXRNb2RlbCgpO2lmKGQuaXNWZXJ0ZXgoYS5jZWxsKSl7YS52aWV3LnVwZGF0ZUNlbGxTdGF0ZShhKTt2YXIgZT1kLmdldEdlb21ldHJ5KGEuY2VsbCk7MD09YiYmMD09Y3x8bnVsbD09ZXx8ZS5yZWxhdGl2ZSYmbnVsbD09dGhpcy5kZWx0YXMuZ2V0KGEuY2VsbCl8fChhLngrPWIsYS55Kz1jKX1mb3IodmFyIGU9ZC5nZXRDaGlsZENvdW50KGEuY2VsbCksZj0wO2Y8ZTtmKyspdGhpcy50cmFuc2xhdGVTdGF0ZShhLnZpZXcuZ2V0U3RhdGUoZC5nZXRDaGlsZEF0KGEuY2VsbCxmKSksYixjKX19OwpteENlbGxTdGF0ZVByZXZpZXcucHJvdG90eXBlLnJldmFsaWRhdGVTdGF0ZT1mdW5jdGlvbihhLGIsYyxkKXtpZihudWxsIT1hKXt2YXIgZT10aGlzLmdyYXBoLmdldE1vZGVsKCk7ZS5pc0VkZ2UoYS5jZWxsKSYmYS52aWV3LnVwZGF0ZUNlbGxTdGF0ZShhKTt2YXIgZj10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeShhLmNlbGwpLGc9YS52aWV3LmdldFN0YXRlKGUuZ2V0UGFyZW50KGEuY2VsbCkpOzA9PWImJjA9PWN8fG51bGw9PWZ8fCFmLnJlbGF0aXZlfHwhZS5pc1ZlcnRleChhLmNlbGwpfHxudWxsIT1nJiYhZS5pc1ZlcnRleChnLmNlbGwpJiZudWxsPT10aGlzLmRlbHRhcy5nZXQoYS5jZWxsKXx8KGEueCs9YixhLnkrPWMpO3RoaXMuZ3JhcGguY2VsbFJlbmRlcmVyLnJlZHJhdyhhKTtudWxsIT1kJiZkKGEpO2Y9ZS5nZXRDaGlsZENvdW50KGEuY2VsbCk7Zm9yKGc9MDtnPGY7ZysrKXRoaXMucmV2YWxpZGF0ZVN0YXRlKHRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZShlLmdldENoaWxkQXQoYS5jZWxsLApnKSksYixjLGQpfX07bXhDZWxsU3RhdGVQcmV2aWV3LnByb3RvdHlwZS5hZGRFZGdlcz1mdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLGM9Yi5nZXRFZGdlQ291bnQoYS5jZWxsKSxkPTA7ZDxjO2QrKyl7dmFyIGU9YS52aWV3LmdldFN0YXRlKGIuZ2V0RWRnZUF0KGEuY2VsbCxkKSk7bnVsbCE9ZSYmdGhpcy5tb3ZlU3RhdGUoZSwwLDApfX07ZnVuY3Rpb24gbXhDb25uZWN0aW9uQ29uc3RyYWludChhLGIsYyxkLGUpe3RoaXMucG9pbnQ9YTt0aGlzLnBlcmltZXRlcj1udWxsIT1iP2I6ITA7dGhpcy5uYW1lPWM7dGhpcy5keD1kP2Q6MDt0aGlzLmR5PWU/ZTowfW14Q29ubmVjdGlvbkNvbnN0cmFpbnQucHJvdG90eXBlLnBvaW50PW51bGw7bXhDb25uZWN0aW9uQ29uc3RyYWludC5wcm90b3R5cGUucGVyaW1ldGVyPW51bGw7bXhDb25uZWN0aW9uQ29uc3RyYWludC5wcm90b3R5cGUubmFtZT1udWxsOwpteENvbm5lY3Rpb25Db25zdHJhaW50LnByb3RvdHlwZS5keD1udWxsO214Q29ubmVjdGlvbkNvbnN0cmFpbnQucHJvdG90eXBlLmR5PW51bGw7CmZ1bmN0aW9uIG14R3JhcGhIYW5kbGVyKGEpe3RoaXMuZ3JhcGg9YTt0aGlzLmdyYXBoLmFkZE1vdXNlTGlzdGVuZXIodGhpcyk7dGhpcy5wYW5IYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5zdXNwZW5kZWR8fCh0aGlzLnVwZGF0ZVByZXZpZXcoKSx0aGlzLnVwZGF0ZUhpbnQoKSl9KTt0aGlzLmdyYXBoLmFkZExpc3RlbmVyKG14RXZlbnQuUEFOLHRoaXMucGFuSGFuZGxlcik7dGhpcy5lc2NhcGVIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYyl7dGhpcy5yZXNldCgpfSk7dGhpcy5ncmFwaC5hZGRMaXN0ZW5lcihteEV2ZW50LkVTQ0FQRSx0aGlzLmVzY2FwZUhhbmRsZXIpO3RoaXMucmVmcmVzaEhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxjKXt3aW5kb3cuc2V0VGltZW91dChteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuZmlyc3QmJiF0aGlzLnN1c3BlbmRlZCl7dmFyIGE9dGhpcy5jdXJyZW50RHgsCmI9dGhpcy5jdXJyZW50RHk7dGhpcy5jdXJyZW50RHk9dGhpcy5jdXJyZW50RHg9MDt0aGlzLnVwZGF0ZVByZXZpZXcoKTt0aGlzLmJvdW5kcz10aGlzLmdyYXBoLmdldFZpZXcoKS5nZXRCb3VuZHModGhpcy5jZWxscyk7dGhpcy5wQm91bmRzPXRoaXMuZ2V0UHJldmlld0JvdW5kcyh0aGlzLmNlbGxzKTtudWxsPT10aGlzLnBCb3VuZHM/dGhpcy5yZXNldCgpOih0aGlzLmN1cnJlbnREeD1hLHRoaXMuY3VycmVudER5PWIsdGhpcy51cGRhdGVQcmV2aWV3KCksdGhpcy51cGRhdGVIaW50KCksdGhpcy5saXZlUHJldmlld1VzZWQmJnRoaXMuc2V0SGFuZGxlc1Zpc2libGVGb3JDZWxscyh0aGlzLmdyYXBoLnNlbGVjdGlvbkNlbGxzSGFuZGxlci5nZXRIYW5kbGVkU2VsZWN0aW9uQ2VsbHMoKSwhMSkpfX0pLDApfSk7dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmFkZExpc3RlbmVyKG14RXZlbnQuQ0hBTkdFLHRoaXMucmVmcmVzaEhhbmRsZXIpO3RoaXMua2V5SGFuZGxlcj1teFV0aWxzLmJpbmQodGhpcywKZnVuY3Rpb24oYSl7bnVsbD09dGhpcy5ncmFwaC5jb250YWluZXJ8fCJoaWRkZW4iPT10aGlzLmdyYXBoLmNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5fHxudWxsPT10aGlzLmZpcnN0fHx0aGlzLnN1c3BlbmRlZHx8KGE9dGhpcy5ncmFwaC5pc0Nsb25lRXZlbnQoYSkmJnRoaXMuZ3JhcGguaXNDZWxsc0Nsb25lYWJsZSgpJiZ0aGlzLmlzQ2xvbmVFbmFibGVkKCksYSE9dGhpcy5jbG9uaW5nJiYodGhpcy5jbG9uaW5nPWEsdGhpcy5jaGVja1ByZXZpZXcoKSx0aGlzLnVwZGF0ZVByZXZpZXcoKSkpfSk7bXhFdmVudC5hZGRMaXN0ZW5lcihkb2N1bWVudCwia2V5ZG93biIsdGhpcy5rZXlIYW5kbGVyKTtteEV2ZW50LmFkZExpc3RlbmVyKGRvY3VtZW50LCJrZXl1cCIsdGhpcy5rZXlIYW5kbGVyKX1teEdyYXBoSGFuZGxlci5wcm90b3R5cGUuZ3JhcGg9bnVsbDtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUubWF4Q2VsbHM9bXhDbGllbnQuSVNfSUU/MjA6NTA7Cm14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5lbmFibGVkPSEwO214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5oaWdobGlnaHRFbmFibGVkPSEwO214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5jbG9uZUVuYWJsZWQ9ITA7bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLm1vdmVFbmFibGVkPSEwO214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5ndWlkZXNFbmFibGVkPSExO214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5oYW5kbGVzVmlzaWJsZT0hMDtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuZ3VpZGU9bnVsbDtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuY3VycmVudER4PW51bGw7bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLmN1cnJlbnREeT1udWxsO214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS51cGRhdGVDdXJzb3I9ITA7bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnNlbGVjdEVuYWJsZWQ9ITA7bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnJlbW92ZUNlbGxzRnJvbVBhcmVudD0hMDsKbXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnJlbW92ZUVtcHR5UGFyZW50cz0hMTtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuY29ubmVjdE9uRHJvcD0hMTtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuc2Nyb2xsT25Nb3ZlPSEwO214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5taW5pbXVtU2l6ZT02O214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5wcmV2aWV3Q29sb3I9ImJsYWNrIjtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuaHRtbFByZXZpZXc9ITE7bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnNoYXBlPW51bGw7bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnNjYWxlR3JpZD0hMTtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUucm90YXRpb25FbmFibGVkPSEwO214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5tYXhMaXZlUHJldmlldz0wO214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5hbGxvd0xpdmVQcmV2aWV3PW14Q2xpZW50LklTX1NWRzsKbXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLmlzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuYWJsZWR9O214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5zZXRFbmFibGVkPWZ1bmN0aW9uKGEpe3RoaXMuZW5hYmxlZD1hfTtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuaXNDbG9uZUVuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbG9uZUVuYWJsZWR9O214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5zZXRDbG9uZUVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5jbG9uZUVuYWJsZWQ9YX07bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLmlzTW92ZUVuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb3ZlRW5hYmxlZH07bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnNldE1vdmVFbmFibGVkPWZ1bmN0aW9uKGEpe3RoaXMubW92ZUVuYWJsZWQ9YX07bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLmlzU2VsZWN0RW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNlbGVjdEVuYWJsZWR9OwpteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuc2V0U2VsZWN0RW5hYmxlZD1mdW5jdGlvbihhKXt0aGlzLnNlbGVjdEVuYWJsZWQ9YX07bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLmlzUmVtb3ZlQ2VsbHNGcm9tUGFyZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVtb3ZlQ2VsbHNGcm9tUGFyZW50fTtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuc2V0UmVtb3ZlQ2VsbHNGcm9tUGFyZW50PWZ1bmN0aW9uKGEpe3RoaXMucmVtb3ZlQ2VsbHNGcm9tUGFyZW50PWF9OwpteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuaXNQcm9wYWdhdGVTZWxlY3Rpb25DZWxsPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmdyYXBoLm1vZGVsLmdldFBhcmVudChhKTtyZXR1cm4gYj8oYj10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeShhKSwhdGhpcy5ncmFwaC5tb2RlbC5pc0VkZ2UoYSkmJiF0aGlzLmdyYXBoLm1vZGVsLmlzRWRnZShkKSYmIXRoaXMuZ3JhcGguaXNTaWJsaW5nU2VsZWN0ZWQoYSkmJihudWxsPT1ifHxiLnJlbGF0aXZlfHwhdGhpcy5ncmFwaC5pc1N3aW1sYW5lKGQpKSk6KCF0aGlzLmdyYXBoLmlzVG9nZ2xlRXZlbnQoYy5nZXRFdmVudCgpKXx8IXRoaXMuZ3JhcGguaXNTaWJsaW5nU2VsZWN0ZWQoYSkmJiF0aGlzLmdyYXBoLmlzQ2VsbFNlbGVjdGVkKGEpJiYhdGhpcy5ncmFwaC5pc1N3aW1sYW5lKGQpfHx0aGlzLmdyYXBoLmlzQ2VsbFNlbGVjdGVkKGQpKSYmKHRoaXMuZ3JhcGguaXNUb2dnbGVFdmVudChjLmdldEV2ZW50KCkpfHwhdGhpcy5ncmFwaC5pc0NlbGxTZWxlY3RlZChkKSl9OwpteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuZ2V0SW5pdGlhbENlbGxGb3JFdmVudD1mdW5jdGlvbihhKXt2YXIgYj1hLmdldFN0YXRlKCk7aWYoISh0aGlzLmdyYXBoLmlzVG9nZ2xlRXZlbnQoYS5nZXRFdmVudCgpKSYmbXhFdmVudC5pc0FsdERvd24oYS5nZXRFdmVudCgpKXx8bnVsbD09Ynx8dGhpcy5ncmFwaC5pc0NlbGxTZWxlY3RlZChiLmNlbGwpKSlmb3IodmFyIGM9dGhpcy5ncmFwaC5tb2RlbCxkPXRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZShjLmdldFBhcmVudChiLmNlbGwpKTtudWxsIT1kJiYhdGhpcy5ncmFwaC5pc0NlbGxTZWxlY3RlZChkLmNlbGwpJiYoYy5pc1ZlcnRleChkLmNlbGwpfHxjLmlzRWRnZShkLmNlbGwpKSYmdGhpcy5pc1Byb3BhZ2F0ZVNlbGVjdGlvbkNlbGwoYi5jZWxsLCEwLGEpOyliPWQsZD10aGlzLmdyYXBoLnZpZXcuZ2V0U3RhdGUodGhpcy5ncmFwaC5nZXRNb2RlbCgpLmdldFBhcmVudChiLmNlbGwpKTtyZXR1cm4gbnVsbCE9Yj9iLmNlbGw6bnVsbH07Cm14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5pc0RlbGF5ZWRTZWxlY3Rpb249ZnVuY3Rpb24oYSxiKXtpZighdGhpcy5ncmFwaC5pc1RvZ2dsZUV2ZW50KGIuZ2V0RXZlbnQoKSl8fCFteEV2ZW50LmlzQWx0RG93bihiLmdldEV2ZW50KCkpKWZvcig7bnVsbCE9YTspe2lmKHRoaXMuZ3JhcGguc2VsZWN0aW9uQ2VsbHNIYW5kbGVyLmlzSGFuZGxlZChhKSlyZXR1cm4gdGhpcy5ncmFwaC5jZWxsRWRpdG9yLmdldEVkaXRpbmdDZWxsKCkhPWE7YT10aGlzLmdyYXBoLm1vZGVsLmdldFBhcmVudChhKX1yZXR1cm4gdGhpcy5ncmFwaC5pc1RvZ2dsZUV2ZW50KGIuZ2V0RXZlbnQoKSkmJiFteEV2ZW50LmlzQWx0RG93bihiLmdldEV2ZW50KCkpfTsKbXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnNlbGVjdERlbGF5ZWQ9ZnVuY3Rpb24oYSl7aWYoIXRoaXMuZ3JhcGgucG9wdXBNZW51SGFuZGxlci5pc1BvcHVwVHJpZ2dlcihhKSl7dmFyIGI9YS5nZXRDZWxsKCk7bnVsbD09YiYmKGI9dGhpcy5jZWxsKTt2YXIgYz10aGlzLmdyYXBoLnZpZXcuZ2V0U3RhdGUoYik7aWYobnVsbCE9Yyl7aWYoIShhLmlzU291cmNlKGMuY29udHJvbCl8fHRoaXMuZ3JhcGguaXNUb2dnbGVFdmVudChhLmdldEV2ZW50KCkpJiZteEV2ZW50LmlzQWx0RG93bihhLmdldEV2ZW50KCkpKSlmb3IodmFyIGM9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLGQ9Yy5nZXRQYXJlbnQoYik7bnVsbCE9dGhpcy5ncmFwaC52aWV3LmdldFN0YXRlKGQpJiYoYy5pc1ZlcnRleChkKXx8Yy5pc0VkZ2UoZCkpJiZ0aGlzLmlzUHJvcGFnYXRlU2VsZWN0aW9uQ2VsbChiLCExLGEpOyliPWQsZD1jLmdldFBhcmVudChiKTt0aGlzLmdyYXBoLnNlbGVjdENlbGxGb3JFdmVudChiLGEuZ2V0RXZlbnQoKSl9fX07Cm14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5jb25zdW1lTW91c2VFdmVudD1mdW5jdGlvbihhLGIpe2IuY29uc3VtZSgpfTsKbXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLm1vdXNlRG93bj1mdW5jdGlvbihhLGIpe2lmKCFiLmlzQ29uc3VtZWQoKSYmdGhpcy5pc0VuYWJsZWQoKSYmdGhpcy5ncmFwaC5pc0VuYWJsZWQoKSYmbnVsbCE9Yi5nZXRTdGF0ZSgpJiYhbXhFdmVudC5pc011bHRpVG91Y2hFdmVudChiLmdldEV2ZW50KCkpKXt2YXIgYz10aGlzLmdldEluaXRpYWxDZWxsRm9yRXZlbnQoYik7dGhpcy5kZWxheWVkU2VsZWN0aW9uPXRoaXMuaXNEZWxheWVkU2VsZWN0aW9uKGMsYik7dGhpcy5jZWxsPW51bGw7dGhpcy5pc1NlbGVjdEVuYWJsZWQoKSYmIXRoaXMuZGVsYXllZFNlbGVjdGlvbiYmdGhpcy5ncmFwaC5zZWxlY3RDZWxsRm9yRXZlbnQoYyxiLmdldEV2ZW50KCkpO2lmKHRoaXMuaXNNb3ZlRW5hYmxlZCgpKXt2YXIgZD10aGlzLmdyYXBoLm1vZGVsLGU9ZC5nZXRHZW9tZXRyeShjKTt0aGlzLmdyYXBoLmlzQ2VsbE1vdmFibGUoYykmJighZC5pc0VkZ2UoYyl8fDE8dGhpcy5ncmFwaC5nZXRTZWxlY3Rpb25Db3VudCgpfHwKbnVsbCE9ZS5wb2ludHMmJjA8ZS5wb2ludHMubGVuZ3RofHxudWxsPT1kLmdldFRlcm1pbmFsKGMsITApfHxudWxsPT1kLmdldFRlcm1pbmFsKGMsITEpfHx0aGlzLmdyYXBoLmFsbG93RGFuZ2xpbmdFZGdlc3x8dGhpcy5ncmFwaC5pc0Nsb25lRXZlbnQoYi5nZXRFdmVudCgpKSYmdGhpcy5ncmFwaC5pc0NlbGxzQ2xvbmVhYmxlKCkpP3RoaXMuc3RhcnQoYyxiLmdldFgoKSxiLmdldFkoKSk6dGhpcy5kZWxheWVkU2VsZWN0aW9uJiYodGhpcy5jZWxsPWMpO3RoaXMuY2VsbFdhc0NsaWNrZWQ9ITA7dGhpcy5jb25zdW1lTW91c2VFdmVudChteEV2ZW50Lk1PVVNFX0RPV04sYil9fX07Cm14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5nZXRHdWlkZVN0YXRlcz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ3JhcGguZ2V0RGVmYXVsdFBhcmVudCgpLGI9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLGM9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPXRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZShhKSYmYi5pc1ZlcnRleChhKSYmbnVsbCE9Yi5nZXRHZW9tZXRyeShhKSYmIWIuZ2V0R2VvbWV0cnkoYSkucmVsYXRpdmV9KTtyZXR1cm4gdGhpcy5ncmFwaC52aWV3LmdldENlbGxTdGF0ZXMoYi5maWx0ZXJEZXNjZW5kYW50cyhjLGEpKX07bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLmdldENlbGxzPWZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmRlbGF5ZWRTZWxlY3Rpb24mJnRoaXMuZ3JhcGguaXNDZWxsTW92YWJsZShhKT9bYV06dGhpcy5ncmFwaC5nZXRNb3ZhYmxlQ2VsbHModGhpcy5ncmFwaC5nZXRTZWxlY3Rpb25DZWxscygpKX07Cm14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5nZXRQcmV2aWV3Qm91bmRzPWZ1bmN0aW9uKGEpe2E9dGhpcy5nZXRCb3VuZGluZ0JveChhKTtudWxsIT1hJiYoYS53aWR0aD1NYXRoLm1heCgwLGEud2lkdGgtMSksYS5oZWlnaHQ9TWF0aC5tYXgoMCxhLmhlaWdodC0xKSxhLndpZHRoPHRoaXMubWluaW11bVNpemU/KGEueC09KHRoaXMubWluaW11bVNpemUtYS53aWR0aCkvMixhLndpZHRoPXRoaXMubWluaW11bVNpemUpOihhLng9TWF0aC5yb3VuZChhLngpLGEud2lkdGg9TWF0aC5jZWlsKGEud2lkdGgpKSxhLmhlaWdodDx0aGlzLm1pbmltdW1TaXplPyhhLnktPSh0aGlzLm1pbmltdW1TaXplLWEuaGVpZ2h0KS8yLGEuaGVpZ2h0PXRoaXMubWluaW11bVNpemUpOihhLnk9TWF0aC5yb3VuZChhLnkpLGEuaGVpZ2h0PU1hdGguY2VpbChhLmhlaWdodCkpKTtyZXR1cm4gYX07Cm14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5nZXRCb3VuZGluZ0JveD1mdW5jdGlvbihhKXt2YXIgYj1udWxsO2lmKG51bGwhPWEmJjA8YS5sZW5ndGgpZm9yKHZhciBjPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKSxkPTA7ZDxhLmxlbmd0aDtkKyspaWYoYy5pc1ZlcnRleChhW2RdKXx8Yy5pc0VkZ2UoYVtkXSkpe3ZhciBlPXRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZShhW2RdKTtpZihudWxsIT1lKXt2YXIgZj1lO2MuaXNWZXJ0ZXgoYVtkXSkmJm51bGwhPWUuc2hhcGUmJm51bGwhPWUuc2hhcGUuYm91bmRpbmdCb3gmJihmPWUuc2hhcGUuYm91bmRpbmdCb3gpO251bGw9PWI/Yj1teFJlY3RhbmdsZS5mcm9tUmVjdGFuZ2xlKGYpOmIuYWRkKGYpfX1yZXR1cm4gYn07Cm14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVQcmV2aWV3U2hhcGU9ZnVuY3Rpb24oYSl7YT1uZXcgbXhSZWN0YW5nbGVTaGFwZShhLG51bGwsdGhpcy5wcmV2aWV3Q29sb3IpO2EuaXNEYXNoZWQ9ITA7dGhpcy5odG1sUHJldmlldz8oYS5kaWFsZWN0PW14Q29uc3RhbnRzLkRJQUxFQ1RfU1RSSUNUSFRNTCxhLmluaXQodGhpcy5ncmFwaC5jb250YWluZXIpKTooYS5kaWFsZWN0PXRoaXMuZ3JhcGguZGlhbGVjdCE9bXhDb25zdGFudHMuRElBTEVDVF9TVkc/bXhDb25zdGFudHMuRElBTEVDVF9WTUw6bXhDb25zdGFudHMuRElBTEVDVF9TVkcsYS5pbml0KHRoaXMuZ3JhcGguZ2V0VmlldygpLmdldE92ZXJsYXlQYW5lKCkpLGEucG9pbnRlckV2ZW50cz0hMSxteENsaWVudC5JU19JT1MmJihhLmdldFN2Z1NjcmVlbk9mZnNldD1mdW5jdGlvbigpe3JldHVybiAwfSkpO3JldHVybiBhfTsKbXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKGEsYixjLGQpe3RoaXMuY2VsbD1hO3RoaXMuZmlyc3Q9bXhVdGlscy5jb252ZXJ0UG9pbnQodGhpcy5ncmFwaC5jb250YWluZXIsYixjKTt0aGlzLmNlbGxzPW51bGwhPWQ/ZDp0aGlzLmdldENlbGxzKHRoaXMuY2VsbCk7dGhpcy5ib3VuZHM9dGhpcy5ncmFwaC5nZXRWaWV3KCkuZ2V0Qm91bmRzKHRoaXMuY2VsbHMpO3RoaXMucEJvdW5kcz10aGlzLmdldFByZXZpZXdCb3VuZHModGhpcy5jZWxscyk7dGhpcy5hbGxDZWxscz1uZXcgbXhEaWN0aW9uYXJ5O3RoaXMuY2xvbmluZz0hMTtmb3IoYj10aGlzLmNlbGxDb3VudD0wO2I8dGhpcy5jZWxscy5sZW5ndGg7YisrKXRoaXMuY2VsbENvdW50Kz10aGlzLmFkZFN0YXRlcyh0aGlzLmNlbGxzW2JdLHRoaXMuYWxsQ2VsbHMpO2lmKHRoaXMuZ3VpZGVzRW5hYmxlZCl7dGhpcy5ndWlkZT1uZXcgbXhHdWlkZSh0aGlzLmdyYXBoLHRoaXMuZ2V0R3VpZGVTdGF0ZXMoKSk7CnZhciBlPXRoaXMuZ3JhcGgubW9kZWwuZ2V0UGFyZW50KGEpLGY9Mj50aGlzLmdyYXBoLm1vZGVsLmdldENoaWxkQ291bnQoZSksZz1uZXcgbXhEaWN0aW9uYXJ5O2E9dGhpcy5ncmFwaC5nZXRPcHBvc2l0ZXModGhpcy5ncmFwaC5nZXRFZGdlcyh0aGlzLmNlbGwpLHRoaXMuY2VsbCk7Zm9yKGI9MDtiPGEubGVuZ3RoO2IrKyljPXRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZShhW2JdKSxudWxsPT1jfHxnLmdldChjKXx8Zy5wdXQoYywhMCk7dGhpcy5ndWlkZS5pc1N0YXRlSWdub3JlZD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdyYXBoLm1vZGVsLmdldFBhcmVudChhLmNlbGwpO3JldHVybiBudWxsIT1hLmNlbGwmJighdGhpcy5jbG9uaW5nJiZ0aGlzLmlzQ2VsbE1vdmluZyhhLmNlbGwpfHxhLmNlbGwhPSh0aGlzLnRhcmdldHx8ZSkmJiFmJiYhZy5nZXQoYSkmJihudWxsPT10aGlzLnRhcmdldHx8Mjw9dGhpcy5ncmFwaC5tb2RlbC5nZXRDaGlsZENvdW50KHRoaXMudGFyZ2V0KSkmJgpiIT0odGhpcy50YXJnZXR8fGUpKX0pfX07bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLmFkZFN0YXRlcz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZShhKSxkPTA7aWYobnVsbCE9YyYmbnVsbD09Yi5nZXQoYSkpe2IucHV0KGEsYyk7ZCsrO2Zvcih2YXIgYz10aGlzLmdyYXBoLm1vZGVsLmdldENoaWxkQ291bnQoYSksZT0wO2U8YztlKyspZCs9dGhpcy5hZGRTdGF0ZXModGhpcy5ncmFwaC5tb2RlbC5nZXRDaGlsZEF0KGEsZSksYil9cmV0dXJuIGR9O214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5pc0NlbGxNb3Zpbmc9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPXRoaXMuYWxsQ2VsbHMuZ2V0KGEpfTsKbXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnVzZUd1aWRlc0ZvckV2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT10aGlzLmd1aWRlP3RoaXMuZ3VpZGUuaXNFbmFibGVkRm9yRXZlbnQoYS5nZXRFdmVudCgpKSYmIXRoaXMuZ3JhcGguaXNDb25zdHJhaW5lZEV2ZW50KGEuZ2V0RXZlbnQoKSk6ITB9O214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5zbmFwPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuc2NhbGVHcmlkP3RoaXMuZ3JhcGgudmlldy5zY2FsZToxO2EueD10aGlzLmdyYXBoLnNuYXAoYS54L2IpKmI7YS55PXRoaXMuZ3JhcGguc25hcChhLnkvYikqYjtyZXR1cm4gYX07Cm14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5nZXREZWx0YT1mdW5jdGlvbihhKXthPW14VXRpbHMuY29udmVydFBvaW50KHRoaXMuZ3JhcGguY29udGFpbmVyLGEuZ2V0WCgpLGEuZ2V0WSgpKTtyZXR1cm4gbmV3IG14UG9pbnQoYS54LXRoaXMuZmlyc3QueC10aGlzLmdyYXBoLnBhbkR4LGEueS10aGlzLmZpcnN0LnktdGhpcy5ncmFwaC5wYW5EeSl9O214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS51cGRhdGVIaW50PWZ1bmN0aW9uKGEpe307bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnJlbW92ZUhpbnQ9ZnVuY3Rpb24oKXt9O214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5yb3VuZExlbmd0aD1mdW5jdGlvbihhKXtyZXR1cm4gTWF0aC5yb3VuZCgxMDAqYSkvMTAwfTtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuaXNWYWxpZERyb3BUYXJnZXQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5ncmFwaC5tb2RlbC5nZXRQYXJlbnQodGhpcy5jZWxsKSE9YX07Cm14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5jaGVja1ByZXZpZXc9ZnVuY3Rpb24oKXt0aGlzLmxpdmVQcmV2aWV3QWN0aXZlJiZ0aGlzLmNsb25pbmc/KHRoaXMucmVzZXRMaXZlUHJldmlldygpLHRoaXMubGl2ZVByZXZpZXdBY3RpdmU9ITEpOnRoaXMubWF4TGl2ZVByZXZpZXc+PXRoaXMuY2VsbENvdW50JiYhdGhpcy5saXZlUHJldmlld0FjdGl2ZSYmdGhpcy5hbGxvd0xpdmVQcmV2aWV3P3RoaXMuY2xvbmluZyYmdGhpcy5saXZlUHJldmlld0FjdGl2ZXx8KHRoaXMubGl2ZVByZXZpZXdVc2VkPXRoaXMubGl2ZVByZXZpZXdBY3RpdmU9ITApOnRoaXMubGl2ZVByZXZpZXdVc2VkfHxudWxsIT10aGlzLnNoYXBlfHwodGhpcy5zaGFwZT10aGlzLmNyZWF0ZVByZXZpZXdTaGFwZSh0aGlzLmJvdW5kcykpfTsKbXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLm1vdXNlTW92ZT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ3JhcGg7aWYoYi5pc0NvbnN1bWVkKCl8fCFjLmlzTW91c2VEb3dufHxudWxsPT10aGlzLmNlbGx8fG51bGw9PXRoaXMuZmlyc3R8fG51bGw9PXRoaXMuYm91bmRzfHx0aGlzLnN1c3BlbmRlZCkhdGhpcy5pc01vdmVFbmFibGVkKCkmJiF0aGlzLmlzQ2xvbmVFbmFibGVkKCl8fCF0aGlzLnVwZGF0ZUN1cnNvcnx8Yi5pc0NvbnN1bWVkKCl8fG51bGw9PWIuZ2V0U3RhdGUoKSYmbnVsbD09Yi5zb3VyY2VTdGF0ZXx8Yy5pc01vdXNlRG93bnx8KGQ9Yy5nZXRDdXJzb3JGb3JNb3VzZUV2ZW50KGIpLG51bGw9PWQmJmMuaXNFbmFibGVkKCkmJmMuaXNDZWxsTW92YWJsZShiLmdldENlbGwoKSkmJihkPWMuZ2V0TW9kZWwoKS5pc0VkZ2UoYi5nZXRDZWxsKCkpP214Q29uc3RhbnRzLkNVUlNPUl9NT1ZBQkxFX0VER0U6bXhDb25zdGFudHMuQ1VSU09SX01PVkFCTEVfVkVSVEVYKSxudWxsIT0KZCYmbnVsbCE9Yi5zb3VyY2VTdGF0ZSYmYi5zb3VyY2VTdGF0ZS5zZXRDdXJzb3IoZCkpO2Vsc2UgaWYobXhFdmVudC5pc011bHRpVG91Y2hFdmVudChiLmdldEV2ZW50KCkpKXRoaXMucmVzZXQoKTtlbHNle3ZhciBkPXRoaXMuZ2V0RGVsdGEoYiksZT1jLnRvbGVyYW5jZTtpZihudWxsIT10aGlzLnNoYXBlfHx0aGlzLmxpdmVQcmV2aWV3QWN0aXZlfHxNYXRoLmFicyhkLngpPmV8fE1hdGguYWJzKGQueSk+ZSl7bnVsbD09dGhpcy5oaWdobGlnaHQmJih0aGlzLmhpZ2hsaWdodD1uZXcgbXhDZWxsSGlnaGxpZ2h0KHRoaXMuZ3JhcGgsbXhDb25zdGFudHMuRFJPUF9UQVJHRVRfQ09MT1IsMykpO3ZhciBlPWMuaXNDbG9uZUV2ZW50KGIuZ2V0RXZlbnQoKSkmJmMuaXNDZWxsc0Nsb25lYWJsZSgpJiZ0aGlzLmlzQ2xvbmVFbmFibGVkKCksZj1jLmlzR3JpZEVuYWJsZWRFdmVudChiLmdldEV2ZW50KCkpLGc9Yi5nZXRDZWxsKCksaz0hMCxsPW51bGw7dGhpcy5jbG9uaW5nPWU7Yy5pc0Ryb3BFbmFibGVkKCkmJgp0aGlzLmhpZ2hsaWdodEVuYWJsZWQmJihsPWMuZ2V0RHJvcFRhcmdldCh0aGlzLmNlbGxzLGIuZ2V0RXZlbnQoKSxnLGUpKTt2YXIgbT1jLmdldFZpZXcoKS5nZXRTdGF0ZShsKSxuPSExO251bGwhPW0mJihlfHx0aGlzLmlzVmFsaWREcm9wVGFyZ2V0KGwsYikpPyh0aGlzLnRhcmdldCE9bCYmKHRoaXMudGFyZ2V0PWwsdGhpcy5zZXRIaWdobGlnaHRDb2xvcihteENvbnN0YW50cy5EUk9QX1RBUkdFVF9DT0xPUikpLG49ITApOih0aGlzLnRhcmdldD1udWxsLHRoaXMuY29ubmVjdE9uRHJvcCYmbnVsbCE9ZyYmMT09dGhpcy5jZWxscy5sZW5ndGgmJmMuZ2V0TW9kZWwoKS5pc1ZlcnRleChnKSYmYy5pc0NlbGxDb25uZWN0YWJsZShnKSYmKG09Yy5nZXRWaWV3KCkuZ2V0U3RhdGUoZyksbnVsbCE9bSYmKGc9bnVsbD09Yy5nZXRFZGdlVmFsaWRhdGlvbkVycm9yKG51bGwsdGhpcy5jZWxsLGcpP214Q29uc3RhbnRzLlZBTElEX0NPTE9SOm14Q29uc3RhbnRzLklOVkFMSURfQ09OTkVDVF9UQVJHRVRfQ09MT1IsCnRoaXMuc2V0SGlnaGxpZ2h0Q29sb3IoZyksbj0hMCkpKTtudWxsIT1tJiZuP3RoaXMuaGlnaGxpZ2h0LmhpZ2hsaWdodChtKTp0aGlzLmhpZ2hsaWdodC5oaWRlKCk7bnVsbCE9dGhpcy5ndWlkZSYmdGhpcy51c2VHdWlkZXNGb3JFdmVudChiKT8oZD10aGlzLmd1aWRlLm1vdmUodGhpcy5ib3VuZHMsZCxmLGUpLGs9ITEpOmQ9dGhpcy5ncmFwaC5zbmFwRGVsdGEoZCx0aGlzLmJvdW5kcywhZiwhMSwhMSk7bnVsbCE9dGhpcy5ndWlkZSYmayYmdGhpcy5ndWlkZS5oaWRlKCk7Yy5pc0NvbnN0cmFpbmVkRXZlbnQoYi5nZXRFdmVudCgpKSYmKE1hdGguYWJzKGQueCk+TWF0aC5hYnMoZC55KT9kLnk9MDpkLng9MCk7dGhpcy5jaGVja1ByZXZpZXcoKTtpZih0aGlzLmN1cnJlbnREeCE9ZC54fHx0aGlzLmN1cnJlbnREeSE9ZC55KXRoaXMuY3VycmVudER4PWQueCx0aGlzLmN1cnJlbnREeT1kLnksdGhpcy51cGRhdGVQcmV2aWV3KCl9dGhpcy51cGRhdGVIaW50KGIpO3RoaXMuY29uc3VtZU1vdXNlRXZlbnQobXhFdmVudC5NT1VTRV9NT1ZFLApiKTtteEV2ZW50LmNvbnN1bWUoYi5nZXRFdmVudCgpKX19O214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS51cGRhdGVQcmV2aWV3PWZ1bmN0aW9uKGEpe3RoaXMubGl2ZVByZXZpZXdVc2VkJiYhYT9udWxsIT10aGlzLmNlbGxzJiYodGhpcy5zZXRIYW5kbGVzVmlzaWJsZUZvckNlbGxzKHRoaXMuZ3JhcGguc2VsZWN0aW9uQ2VsbHNIYW5kbGVyLmdldEhhbmRsZWRTZWxlY3Rpb25DZWxscygpLCExKSx0aGlzLnVwZGF0ZUxpdmVQcmV2aWV3KHRoaXMuY3VycmVudER4LHRoaXMuY3VycmVudER5KSk6dGhpcy51cGRhdGVQcmV2aWV3U2hhcGUoKX07Cm14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS51cGRhdGVQcmV2aWV3U2hhcGU9ZnVuY3Rpb24oKXtudWxsIT10aGlzLnNoYXBlJiZudWxsIT10aGlzLnBCb3VuZHMmJih0aGlzLnNoYXBlLmJvdW5kcz1uZXcgbXhSZWN0YW5nbGUoTWF0aC5yb3VuZCh0aGlzLnBCb3VuZHMueCt0aGlzLmN1cnJlbnREeCksTWF0aC5yb3VuZCh0aGlzLnBCb3VuZHMueSt0aGlzLmN1cnJlbnREeSksdGhpcy5wQm91bmRzLndpZHRoLHRoaXMucEJvdW5kcy5oZWlnaHQpLHRoaXMuc2hhcGUucmVkcmF3KCkpfTsKbXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnVwZGF0ZUxpdmVQcmV2aWV3PWZ1bmN0aW9uKGEsYil7aWYoIXRoaXMuc3VzcGVuZGVkKXt2YXIgYz1bXTtudWxsIT10aGlzLmFsbENlbGxzJiZ0aGlzLmFsbENlbGxzLnZpc2l0KG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGQsZSl7aWYobnVsbD09dGhpcy5ncmFwaC52aWV3LmdldFN0YXRlKGUuY2VsbCkpZS5kZXN0cm95KCk7ZWxzZXt2YXIgZj1lLmNsb25lKCk7Yy5wdXNoKFtlLGZdKTtudWxsIT1lLnNoYXBlJiYobnVsbD09ZS5zaGFwZS5vcmlnaW5hbFBvaW50ZXJFdmVudHMmJihlLnNoYXBlLm9yaWdpbmFsUG9pbnRlckV2ZW50cz1lLnNoYXBlLnBvaW50ZXJFdmVudHMpLGUuc2hhcGUucG9pbnRlckV2ZW50cz0hMSxudWxsIT1lLnRleHQmJihudWxsPT1lLnRleHQub3JpZ2luYWxQb2ludGVyRXZlbnRzJiYoZS50ZXh0Lm9yaWdpbmFsUG9pbnRlckV2ZW50cz1lLnRleHQucG9pbnRlckV2ZW50cyksZS50ZXh0LnBvaW50ZXJFdmVudHM9CiExKSk7dGhpcy5ncmFwaC5tb2RlbC5pc1ZlcnRleChlLmNlbGwpJiYoZS54Kz1hLGUueSs9Yix0aGlzLmNsb25pbmd8fChlLnZpZXcuZ3JhcGguY2VsbFJlbmRlcmVyLnJlZHJhdyhlLCEwKSxlLnZpZXcuaW52YWxpZGF0ZShlLmNlbGwpLGUuaW52YWxpZD0hMSxudWxsIT1lLmNvbnRyb2wmJm51bGwhPWUuY29udHJvbC5ub2RlJiYoZS5jb250cm9sLm5vZGUuc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIikpKX19KSk7aWYoMD09Yy5sZW5ndGgpdGhpcy5yZXNldCgpO2Vsc2V7Zm9yKHZhciBkPXRoaXMuZ3JhcGgudmlldy5zY2FsZSxlPTA7ZTxjLmxlbmd0aDtlKyspe3ZhciBmPWNbZV1bMF07aWYodGhpcy5ncmFwaC5tb2RlbC5pc0VkZ2UoZi5jZWxsKSl7dmFyIGc9dGhpcy5ncmFwaC5nZXRDZWxsR2VvbWV0cnkoZi5jZWxsKSxrPVtdO2lmKG51bGwhPWcmJm51bGwhPWcucG9pbnRzKWZvcih2YXIgbD0wO2w8Zy5wb2ludHMubGVuZ3RoO2wrKyludWxsIT1nLnBvaW50c1tsXSYmay5wdXNoKG5ldyBteFBvaW50KGcucG9pbnRzW2xdLngrCmEvZCxnLnBvaW50c1tsXS55K2IvZCkpO3ZhciBnPWYudmlzaWJsZVNvdXJjZVN0YXRlLGw9Zi52aXNpYmxlVGFyZ2V0U3RhdGUsbT1jW2VdWzFdLmFic29sdXRlUG9pbnRzO251bGwhPWcmJnRoaXMuaXNDZWxsTW92aW5nKGcuY2VsbCk/Zi52aWV3LnVwZGF0ZUZpeGVkVGVybWluYWxQb2ludChmLGcsITAsdGhpcy5ncmFwaC5nZXRDb25uZWN0aW9uQ29uc3RyYWludChmLGcsITApKTooZz1tWzBdLGYuc2V0QWJzb2x1dGVUZXJtaW5hbFBvaW50KG5ldyBteFBvaW50KGcueCthLGcueStiKSwhMCksZz1udWxsKTtudWxsIT1sJiZ0aGlzLmlzQ2VsbE1vdmluZyhsLmNlbGwpP2Yudmlldy51cGRhdGVGaXhlZFRlcm1pbmFsUG9pbnQoZixsLCExLHRoaXMuZ3JhcGguZ2V0Q29ubmVjdGlvbkNvbnN0cmFpbnQoZixsLCExKSk6KGw9bVttLmxlbmd0aC0xXSxmLnNldEFic29sdXRlVGVybWluYWxQb2ludChuZXcgbXhQb2ludChsLngrYSxsLnkrYiksITEpLGw9bnVsbCk7Zi52aWV3LnVwZGF0ZVBvaW50cyhmLAprLGcsbCk7Zi52aWV3LnVwZGF0ZUZsb2F0aW5nVGVybWluYWxQb2ludHMoZixnLGwpO2Yudmlldy51cGRhdGVFZGdlTGFiZWxPZmZzZXQoZik7Zi5pbnZhbGlkPSExO3RoaXMuY2xvbmluZ3x8Zi52aWV3LmdyYXBoLmNlbGxSZW5kZXJlci5yZWRyYXcoZiwhMCl9fXRoaXMuZ3JhcGgudmlldy52YWxpZGF0ZSgpO3RoaXMucmVkcmF3SGFuZGxlcyhjKTt0aGlzLnJlc2V0UHJldmlld1N0YXRlcyhjKX19fTtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUucmVkcmF3SGFuZGxlcz1mdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKyl7dmFyIGM9dGhpcy5ncmFwaC5zZWxlY3Rpb25DZWxsc0hhbmRsZXIuZ2V0SGFuZGxlcihhW2JdWzBdLmNlbGwpO251bGwhPWMmJmMucmVkcmF3KCEwKX19O214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5yZXNldFByZXZpZXdTdGF0ZXM9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspYVtiXVswXS5zZXRTdGF0ZShhW2JdWzFdKX07Cm14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5zdXNwZW5kPWZ1bmN0aW9uKCl7dGhpcy5zdXNwZW5kZWR8fCh0aGlzLmxpdmVQcmV2aWV3VXNlZCYmdGhpcy51cGRhdGVMaXZlUHJldmlldygwLDApLG51bGwhPXRoaXMuc2hhcGUmJih0aGlzLnNoYXBlLm5vZGUuc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIiksbnVsbCE9dGhpcy5ndWlkZSYmdGhpcy5ndWlkZS5zZXRWaXNpYmxlKCExKSx0aGlzLnN1c3BlbmRlZD0hMCl9O214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oKXt0aGlzLnN1c3BlbmRlZCYmKHRoaXMuc3VzcGVuZGVkPW51bGwsdGhpcy5saXZlUHJldmlld1VzZWQmJih0aGlzLmxpdmVQcmV2aWV3QWN0aXZlPSEwKSxudWxsIT10aGlzLnNoYXBlJiYodGhpcy5zaGFwZS5ub2RlLnN0eWxlLnZpc2liaWxpdHk9InZpc2libGUiKSxudWxsIT10aGlzLmd1aWRlJiZ0aGlzLmd1aWRlLnNldFZpc2libGUoITApKX07Cm14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5yZXNldExpdmVQcmV2aWV3PWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5hbGxDZWxscyYmKHRoaXMuYWxsQ2VsbHMudmlzaXQobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxiKXtudWxsIT1iLnNoYXBlJiZudWxsIT1iLnNoYXBlLm9yaWdpbmFsUG9pbnRlckV2ZW50cyYmKGIuc2hhcGUucG9pbnRlckV2ZW50cz1iLnNoYXBlLm9yaWdpbmFsUG9pbnRlckV2ZW50cyxiLnNoYXBlLm9yaWdpbmFsUG9pbnRlckV2ZW50cz1udWxsLGIuc2hhcGUuYm91bmRzPW51bGwsbnVsbCE9Yi50ZXh0JiYoYi50ZXh0LnBvaW50ZXJFdmVudHM9Yi50ZXh0Lm9yaWdpbmFsUG9pbnRlckV2ZW50cyxiLnRleHQub3JpZ2luYWxQb2ludGVyRXZlbnRzPW51bGwpKTtudWxsIT1iLmNvbnRyb2wmJm51bGwhPWIuY29udHJvbC5ub2RlJiYiaGlkZGVuIj09Yi5jb250cm9sLm5vZGUuc3R5bGUudmlzaWJpbGl0eSYmKGIuY29udHJvbC5ub2RlLnN0eWxlLnZpc2liaWxpdHk9CiIiKTtiLnZpZXcuaW52YWxpZGF0ZShiLmNlbGwpfSkpLHRoaXMuZ3JhcGgudmlldy52YWxpZGF0ZSgpKX07bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnNldEhhbmRsZXNWaXNpYmxlRm9yQ2VsbHM9ZnVuY3Rpb24oYSxiKXtpZih0aGlzLmhhbmRsZXNWaXNpYmxlIT1iKXt0aGlzLmhhbmRsZXNWaXNpYmxlPWI7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBkPXRoaXMuZ3JhcGguc2VsZWN0aW9uQ2VsbHNIYW5kbGVyLmdldEhhbmRsZXIoYVtjXSk7bnVsbCE9ZCYmKGQuc2V0SGFuZGxlc1Zpc2libGUoYiksYiYmZC5yZWRyYXcoKSl9fX07bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnNldEhpZ2hsaWdodENvbG9yPWZ1bmN0aW9uKGEpe251bGwhPXRoaXMuaGlnaGxpZ2h0JiZ0aGlzLmhpZ2hsaWdodC5zZXRIaWdobGlnaHRDb2xvcihhKX07Cm14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5tb3VzZVVwPWZ1bmN0aW9uKGEsYil7aWYoIWIuaXNDb25zdW1lZCgpKWlmKHRoaXMubGl2ZVByZXZpZXdVc2VkJiZ0aGlzLnJlc2V0TGl2ZVByZXZpZXcoKSxudWxsPT10aGlzLmNlbGx8fG51bGw9PXRoaXMuZmlyc3R8fG51bGw9PXRoaXMuc2hhcGUmJiF0aGlzLmxpdmVQcmV2aWV3VXNlZHx8bnVsbD09dGhpcy5jdXJyZW50RHh8fG51bGw9PXRoaXMuY3VycmVudER5KXRoaXMuaXNTZWxlY3RFbmFibGVkKCkmJnRoaXMuZGVsYXllZFNlbGVjdGlvbiYmbnVsbCE9dGhpcy5jZWxsJiZ0aGlzLnNlbGVjdERlbGF5ZWQoYik7ZWxzZXt2YXIgYz10aGlzLmdyYXBoLGQ9Yi5nZXRDZWxsKCk7aWYodGhpcy5jb25uZWN0T25Ecm9wJiZudWxsPT10aGlzLnRhcmdldCYmbnVsbCE9ZCYmYy5nZXRNb2RlbCgpLmlzVmVydGV4KGQpJiZjLmlzQ2VsbENvbm5lY3RhYmxlKGQpJiZjLmlzRWRnZVZhbGlkKG51bGwsdGhpcy5jZWxsLGQpKWMuY29ubmVjdGlvbkhhbmRsZXIuY29ubmVjdCh0aGlzLmNlbGwsCmQsYi5nZXRFdmVudCgpKTtlbHNle3ZhciBkPWMuaXNDbG9uZUV2ZW50KGIuZ2V0RXZlbnQoKSkmJmMuaXNDZWxsc0Nsb25lYWJsZSgpJiZ0aGlzLmlzQ2xvbmVFbmFibGVkKCksZT1jLmdldFZpZXcoKS5zY2FsZSxmPXRoaXMucm91bmRMZW5ndGgodGhpcy5jdXJyZW50RHgvZSksZT10aGlzLnJvdW5kTGVuZ3RoKHRoaXMuY3VycmVudER5L2UpLGc9dGhpcy50YXJnZXQ7Yy5pc1NwbGl0RW5hYmxlZCgpJiZjLmlzU3BsaXRUYXJnZXQoZyx0aGlzLmNlbGxzLGIuZ2V0RXZlbnQoKSk/Yy5zcGxpdEVkZ2UoZyx0aGlzLmNlbGxzLG51bGwsZixlLGIuZ2V0R3JhcGhYKCksYi5nZXRHcmFwaFkoKSk6dGhpcy5tb3ZlQ2VsbHModGhpcy5jZWxscyxmLGUsZCx0aGlzLnRhcmdldCxiLmdldEV2ZW50KCkpfX10aGlzLmNlbGxXYXNDbGlja2VkJiZ0aGlzLmNvbnN1bWVNb3VzZUV2ZW50KG14RXZlbnQuTU9VU0VfVVAsYik7dGhpcy5yZXNldCgpfTsKbXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5saXZlUHJldmlld1VzZWQmJih0aGlzLnJlc2V0TGl2ZVByZXZpZXcoKSx0aGlzLnNldEhhbmRsZXNWaXNpYmxlRm9yQ2VsbHModGhpcy5ncmFwaC5zZWxlY3Rpb25DZWxsc0hhbmRsZXIuZ2V0SGFuZGxlZFNlbGVjdGlvbkNlbGxzKCksITApKTt0aGlzLmRlc3Ryb3lTaGFwZXMoKTt0aGlzLnJlbW92ZUhpbnQoKTt0aGlzLmRlbGF5ZWRTZWxlY3Rpb249ITE7dGhpcy5saXZlUHJldmlld1VzZWQ9dGhpcy5saXZlUHJldmlld0FjdGl2ZT1udWxsO3RoaXMuY2VsbFdhc0NsaWNrZWQ9ITE7dGhpcy5jZWxsQ291bnQ9dGhpcy5jdXJyZW50RHk9dGhpcy5jdXJyZW50RHg9dGhpcy5zdXNwZW5kZWQ9bnVsbDt0aGlzLmNsb25pbmc9ITE7dGhpcy5jZWxsPXRoaXMuY2VsbHM9dGhpcy5maXJzdD10aGlzLnRhcmdldD10aGlzLmd1aWRlcz10aGlzLnBCb3VuZHM9dGhpcy5hbGxDZWxscz1udWxsfTsKbXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnNob3VsZFJlbW92ZUNlbGxzRnJvbVBhcmVudD1mdW5jdGlvbihhLGIsYyl7aWYodGhpcy5ncmFwaC5nZXRNb2RlbCgpLmlzVmVydGV4KGEpJiYoYT10aGlzLmdyYXBoLmdldFZpZXcoKS5nZXRTdGF0ZShhKSxudWxsIT1hKSl7Yz1teFV0aWxzLmNvbnZlcnRQb2ludCh0aGlzLmdyYXBoLmNvbnRhaW5lcixteEV2ZW50LmdldENsaWVudFgoYyksbXhFdmVudC5nZXRDbGllbnRZKGMpKTt2YXIgZD1teFV0aWxzLnRvUmFkaWFucyhteFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT04pfHwwKTtpZigwIT1kKXtiPU1hdGguY29zKC1kKTt2YXIgZD1NYXRoLnNpbigtZCksZT1uZXcgbXhQb2ludChhLmdldENlbnRlclgoKSxhLmdldENlbnRlclkoKSk7Yz1teFV0aWxzLmdldFJvdGF0ZWRQb2ludChjLGIsZCxlKX1yZXR1cm4hbXhVdGlscy5jb250YWlucyhhLGMueCxjLnkpfXJldHVybiExfTsKbXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLm1vdmVDZWxscz1mdW5jdGlvbihhLGIsYyxkLGUsZil7ZCYmKGE9dGhpcy5ncmFwaC5nZXRDbG9uZWFibGVDZWxscyhhKSk7dmFyIGc9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmdldFBhcmVudCh0aGlzLmNlbGwpO251bGw9PWUmJnRoaXMuaXNSZW1vdmVDZWxsc0Zyb21QYXJlbnQoKSYmdGhpcy5zaG91bGRSZW1vdmVDZWxsc0Zyb21QYXJlbnQoZyxhLGYpJiYoZT10aGlzLmdyYXBoLmdldERlZmF1bHRQYXJlbnQoKSk7ZD1kJiYhdGhpcy5ncmFwaC5pc0NlbGxMb2NrZWQoZXx8dGhpcy5ncmFwaC5nZXREZWZhdWx0UGFyZW50KCkpO3RoaXMuZ3JhcGguZ2V0TW9kZWwoKS5iZWdpblVwZGF0ZSgpO3RyeXtnPVtdO2lmKCFkJiZudWxsIT1lJiZ0aGlzLnJlbW92ZUVtcHR5UGFyZW50cyl7Zm9yKHZhciBrPW5ldyBteERpY3Rpb25hcnksbD0wO2w8YS5sZW5ndGg7bCsrKWsucHV0KGFbbF0sITApO2ZvcihsPTA7bDxhLmxlbmd0aDtsKyspe3ZhciBtPQp0aGlzLmdyYXBoLm1vZGVsLmdldFBhcmVudChhW2xdKTtudWxsPT1tfHxrLmdldChtKXx8KGsucHV0KG0sITApLGcucHVzaChtKSl9fWE9dGhpcy5ncmFwaC5tb3ZlQ2VsbHMoYSxiLGMsZCxlLGYpO2I9W107Zm9yKGw9MDtsPGcubGVuZ3RoO2wrKyl0aGlzLnNob3VsZFJlbW92ZVBhcmVudChnW2xdKSYmYi5wdXNoKGdbbF0pO3RoaXMuZ3JhcGgucmVtb3ZlQ2VsbHMoYiwhMSl9ZmluYWxseXt0aGlzLmdyYXBoLmdldE1vZGVsKCkuZW5kVXBkYXRlKCl9ZCYmdGhpcy5ncmFwaC5zZXRTZWxlY3Rpb25DZWxscyhhKTt0aGlzLmlzU2VsZWN0RW5hYmxlZCgpJiZ0aGlzLnNjcm9sbE9uTW92ZSYmdGhpcy5ncmFwaC5zY3JvbGxDZWxsVG9WaXNpYmxlKGFbMF0pfTsKbXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnNob3VsZFJlbW92ZVBhcmVudD1mdW5jdGlvbihhKXthPXRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZShhKTtyZXR1cm4gbnVsbCE9YSYmKHRoaXMuZ3JhcGgubW9kZWwuaXNFZGdlKGEuY2VsbCl8fHRoaXMuZ3JhcGgubW9kZWwuaXNWZXJ0ZXgoYS5jZWxsKSkmJnRoaXMuZ3JhcGguaXNDZWxsRGVsZXRhYmxlKGEuY2VsbCkmJjA9PXRoaXMuZ3JhcGgubW9kZWwuZ2V0Q2hpbGRDb3VudChhLmNlbGwpJiZ0aGlzLmdyYXBoLmlzVHJhbnNwYXJlbnRTdGF0ZShhKX07Cm14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5kZXN0cm95U2hhcGVzPWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5zaGFwZSYmKHRoaXMuc2hhcGUuZGVzdHJveSgpLHRoaXMuc2hhcGU9bnVsbCk7bnVsbCE9dGhpcy5ndWlkZSYmKHRoaXMuZ3VpZGUuZGVzdHJveSgpLHRoaXMuZ3VpZGU9bnVsbCk7bnVsbCE9dGhpcy5oaWdobGlnaHQmJih0aGlzLmhpZ2hsaWdodC5kZXN0cm95KCksdGhpcy5oaWdobGlnaHQ9bnVsbCl9OwpteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZ3JhcGgucmVtb3ZlTW91c2VMaXN0ZW5lcih0aGlzKTt0aGlzLmdyYXBoLnJlbW92ZUxpc3RlbmVyKHRoaXMucGFuSGFuZGxlcik7bnVsbCE9dGhpcy5lc2NhcGVIYW5kbGVyJiYodGhpcy5ncmFwaC5yZW1vdmVMaXN0ZW5lcih0aGlzLmVzY2FwZUhhbmRsZXIpLHRoaXMuZXNjYXBlSGFuZGxlcj1udWxsKTtudWxsIT10aGlzLnJlZnJlc2hIYW5kbGVyJiYodGhpcy5ncmFwaC5nZXRNb2RlbCgpLnJlbW92ZUxpc3RlbmVyKHRoaXMucmVmcmVzaEhhbmRsZXIpLHRoaXMucmVmcmVzaEhhbmRsZXI9bnVsbCk7bXhFdmVudC5yZW1vdmVMaXN0ZW5lcihkb2N1bWVudCwia2V5ZG93biIsdGhpcy5rZXlIYW5kbGVyKTtteEV2ZW50LnJlbW92ZUxpc3RlbmVyKGRvY3VtZW50LCJrZXl1cCIsdGhpcy5rZXlIYW5kbGVyKTt0aGlzLmRlc3Ryb3lTaGFwZXMoKTt0aGlzLnJlbW92ZUhpbnQoKX07CmZ1bmN0aW9uIG14UGFubmluZ0hhbmRsZXIoYSl7bnVsbCE9YSYmKHRoaXMuZ3JhcGg9YSx0aGlzLmdyYXBoLmFkZE1vdXNlTGlzdGVuZXIodGhpcyksdGhpcy5mb3JjZVBhbm5pbmdIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYyl7dmFyIGI9Yy5nZXRQcm9wZXJ0eSgiZXZlbnROYW1lIiksZT1jLmdldFByb3BlcnR5KCJldmVudCIpO2I9PW14RXZlbnQuTU9VU0VfRE9XTiYmdGhpcy5pc0ZvcmNlUGFubmluZ0V2ZW50KGUpJiYodGhpcy5zdGFydChlKSx0aGlzLmFjdGl2ZT0hMCx0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlBBTl9TVEFSVCwiZXZlbnQiLGUpKSxlLmNvbnN1bWUoKSl9KSx0aGlzLmdyYXBoLmFkZExpc3RlbmVyKG14RXZlbnQuRklSRV9NT1VTRV9FVkVOVCx0aGlzLmZvcmNlUGFubmluZ0hhbmRsZXIpLHRoaXMuZ2VzdHVyZUhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxjKXtpZih0aGlzLmlzUGluY2hFbmFibGVkKCkpe3ZhciBiPQpjLmdldFByb3BlcnR5KCJldmVudCIpO214RXZlbnQuaXNDb25zdW1lZChiKXx8Imdlc3R1cmVzdGFydCIhPWIudHlwZT8iZ2VzdHVyZWVuZCI9PWIudHlwZSYmbnVsbCE9dGhpcy5pbml0aWFsU2NhbGUmJih0aGlzLmluaXRpYWxTY2FsZT1udWxsKToodGhpcy5pbml0aWFsU2NhbGU9dGhpcy5ncmFwaC52aWV3LnNjYWxlLHRoaXMuYWN0aXZlfHxudWxsPT10aGlzLm1vdXNlRG93bkV2ZW50fHwodGhpcy5zdGFydCh0aGlzLm1vdXNlRG93bkV2ZW50KSx0aGlzLm1vdXNlRG93bkV2ZW50PW51bGwpKTtudWxsIT10aGlzLmluaXRpYWxTY2FsZSYmdGhpcy56b29tR3JhcGgoYil9fSksdGhpcy5ncmFwaC5hZGRMaXN0ZW5lcihteEV2ZW50LkdFU1RVUkUsdGhpcy5nZXN0dXJlSGFuZGxlciksdGhpcy5tb3VzZVVwTGlzdGVuZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmFjdGl2ZSYmdGhpcy5yZXNldCgpfSksbXhFdmVudC5hZGRMaXN0ZW5lcihkb2N1bWVudCwibW91c2V1cCIsCnRoaXMubW91c2VVcExpc3RlbmVyKSl9bXhQYW5uaW5nSGFuZGxlci5wcm90b3R5cGU9bmV3IG14RXZlbnRTb3VyY2U7bXhQYW5uaW5nSGFuZGxlci5wcm90b3R5cGUuY29uc3RydWN0b3I9bXhQYW5uaW5nSGFuZGxlcjtteFBhbm5pbmdIYW5kbGVyLnByb3RvdHlwZS5ncmFwaD1udWxsO214UGFubmluZ0hhbmRsZXIucHJvdG90eXBlLnVzZUxlZnRCdXR0b25Gb3JQYW5uaW5nPSExO214UGFubmluZ0hhbmRsZXIucHJvdG90eXBlLnVzZVBvcHVwVHJpZ2dlcj0hMDtteFBhbm5pbmdIYW5kbGVyLnByb3RvdHlwZS5pZ25vcmVDZWxsPSExO214UGFubmluZ0hhbmRsZXIucHJvdG90eXBlLnByZXZpZXdFbmFibGVkPSEwO214UGFubmluZ0hhbmRsZXIucHJvdG90eXBlLnVzZUdyaWQ9ITE7bXhQYW5uaW5nSGFuZGxlci5wcm90b3R5cGUucGFubmluZ0VuYWJsZWQ9ITA7bXhQYW5uaW5nSGFuZGxlci5wcm90b3R5cGUucGluY2hFbmFibGVkPSEwOwpteFBhbm5pbmdIYW5kbGVyLnByb3RvdHlwZS5tYXhTY2FsZT04O214UGFubmluZ0hhbmRsZXIucHJvdG90eXBlLm1pblNjYWxlPS4wMTtteFBhbm5pbmdIYW5kbGVyLnByb3RvdHlwZS5keD1udWxsO214UGFubmluZ0hhbmRsZXIucHJvdG90eXBlLmR5PW51bGw7bXhQYW5uaW5nSGFuZGxlci5wcm90b3R5cGUuc3RhcnRYPTA7bXhQYW5uaW5nSGFuZGxlci5wcm90b3R5cGUuc3RhcnRZPTA7bXhQYW5uaW5nSGFuZGxlci5wcm90b3R5cGUuaXNBY3RpdmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hY3RpdmV8fG51bGwhPXRoaXMuaW5pdGlhbFNjYWxlfTtteFBhbm5pbmdIYW5kbGVyLnByb3RvdHlwZS5pc1Bhbm5pbmdFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFubmluZ0VuYWJsZWR9O214UGFubmluZ0hhbmRsZXIucHJvdG90eXBlLnNldFBhbm5pbmdFbmFibGVkPWZ1bmN0aW9uKGEpe3RoaXMucGFubmluZ0VuYWJsZWQ9YX07Cm14UGFubmluZ0hhbmRsZXIucHJvdG90eXBlLmlzUGluY2hFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGluY2hFbmFibGVkfTtteFBhbm5pbmdIYW5kbGVyLnByb3RvdHlwZS5zZXRQaW5jaEVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5waW5jaEVuYWJsZWQ9YX07bXhQYW5uaW5nSGFuZGxlci5wcm90b3R5cGUuaXNQYW5uaW5nVHJpZ2dlcj1mdW5jdGlvbihhKXt2YXIgYj1hLmdldEV2ZW50KCk7cmV0dXJuIHRoaXMudXNlTGVmdEJ1dHRvbkZvclBhbm5pbmcmJm51bGw9PWEuZ2V0U3RhdGUoKSYmbXhFdmVudC5pc0xlZnRNb3VzZUJ1dHRvbihiKXx8bXhFdmVudC5pc0NvbnRyb2xEb3duKGIpJiZteEV2ZW50LmlzU2hpZnREb3duKGIpfHx0aGlzLnVzZVBvcHVwVHJpZ2dlciYmbXhFdmVudC5pc1BvcHVwVHJpZ2dlcihiKX07bXhQYW5uaW5nSGFuZGxlci5wcm90b3R5cGUuaXNGb3JjZVBhbm5pbmdFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pZ25vcmVDZWxsfHxteEV2ZW50LmlzTXVsdGlUb3VjaEV2ZW50KGEuZ2V0RXZlbnQoKSl9OwpteFBhbm5pbmdIYW5kbGVyLnByb3RvdHlwZS5tb3VzZURvd249ZnVuY3Rpb24oYSxiKXt0aGlzLm1vdXNlRG93bkV2ZW50PWI7IWIuaXNDb25zdW1lZCgpJiZ0aGlzLmlzUGFubmluZ0VuYWJsZWQoKSYmIXRoaXMuYWN0aXZlJiZ0aGlzLmlzUGFubmluZ1RyaWdnZXIoYikmJih0aGlzLnN0YXJ0KGIpLHRoaXMuY29uc3VtZVBhbm5pbmdUcmlnZ2VyKGIpKX07bXhQYW5uaW5nSGFuZGxlci5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oYSl7dGhpcy5keDA9LXRoaXMuZ3JhcGguY29udGFpbmVyLnNjcm9sbExlZnQ7dGhpcy5keTA9LXRoaXMuZ3JhcGguY29udGFpbmVyLnNjcm9sbFRvcDt0aGlzLnN0YXJ0WD1hLmdldFgoKTt0aGlzLnN0YXJ0WT1hLmdldFkoKTt0aGlzLmR5PXRoaXMuZHg9bnVsbDt0aGlzLnBhbm5pbmdUcmlnZ2VyPSEwfTtteFBhbm5pbmdIYW5kbGVyLnByb3RvdHlwZS5jb25zdW1lUGFubmluZ1RyaWdnZXI9ZnVuY3Rpb24oYSl7YS5jb25zdW1lKCl9OwpteFBhbm5pbmdIYW5kbGVyLnByb3RvdHlwZS5tb3VzZU1vdmU9ZnVuY3Rpb24oYSxiKXt0aGlzLmR4PWIuZ2V0WCgpLXRoaXMuc3RhcnRYO3RoaXMuZHk9Yi5nZXRZKCktdGhpcy5zdGFydFk7aWYodGhpcy5hY3RpdmUpdGhpcy5wcmV2aWV3RW5hYmxlZCYmKHRoaXMudXNlR3JpZCYmKHRoaXMuZHg9dGhpcy5ncmFwaC5zbmFwKHRoaXMuZHgpLHRoaXMuZHk9dGhpcy5ncmFwaC5zbmFwKHRoaXMuZHkpKSx0aGlzLmdyYXBoLnBhbkdyYXBoKHRoaXMuZHgrdGhpcy5keDAsdGhpcy5keSt0aGlzLmR5MCkpLHRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuUEFOLCJldmVudCIsYikpO2Vsc2UgaWYodGhpcy5wYW5uaW5nVHJpZ2dlcil7dmFyIGM9dGhpcy5hY3RpdmU7dGhpcy5hY3RpdmU9TWF0aC5hYnModGhpcy5keCk+dGhpcy5ncmFwaC50b2xlcmFuY2V8fE1hdGguYWJzKHRoaXMuZHkpPnRoaXMuZ3JhcGgudG9sZXJhbmNlOyFjJiZ0aGlzLmFjdGl2ZSYmdGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5QQU5fU1RBUlQsCiJldmVudCIsYikpfSh0aGlzLmFjdGl2ZXx8dGhpcy5wYW5uaW5nVHJpZ2dlcikmJmIuY29uc3VtZSgpfTtteFBhbm5pbmdIYW5kbGVyLnByb3RvdHlwZS5tb3VzZVVwPWZ1bmN0aW9uKGEsYil7aWYodGhpcy5hY3RpdmUpe2lmKG51bGwhPXRoaXMuZHgmJm51bGwhPXRoaXMuZHkpe2lmKCF0aGlzLmdyYXBoLnVzZVNjcm9sbGJhcnNGb3JQYW5uaW5nfHwhbXhVdGlscy5oYXNTY3JvbGxiYXJzKHRoaXMuZ3JhcGguY29udGFpbmVyKSl7dmFyIGM9dGhpcy5ncmFwaC5nZXRWaWV3KCkuc2NhbGUsZD10aGlzLmdyYXBoLmdldFZpZXcoKS50cmFuc2xhdGU7dGhpcy5ncmFwaC5wYW5HcmFwaCgwLDApO3RoaXMucGFuR3JhcGgoZC54K3RoaXMuZHgvYyxkLnkrdGhpcy5keS9jKX1iLmNvbnN1bWUoKX10aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlBBTl9FTkQsImV2ZW50IixiKSl9dGhpcy5yZXNldCgpfTsKbXhQYW5uaW5nSGFuZGxlci5wcm90b3R5cGUuem9vbUdyYXBoPWZ1bmN0aW9uKGEpe3ZhciBiPU1hdGgucm91bmQodGhpcy5pbml0aWFsU2NhbGUqYS5zY2FsZSoxMDApLzEwMDtudWxsIT10aGlzLm1pblNjYWxlJiYoYj1NYXRoLm1heCh0aGlzLm1pblNjYWxlLGIpKTtudWxsIT10aGlzLm1heFNjYWxlJiYoYj1NYXRoLm1pbih0aGlzLm1heFNjYWxlLGIpKTt0aGlzLmdyYXBoLnZpZXcuc2NhbGUhPWImJih0aGlzLmdyYXBoLnpvb21UbyhiKSxteEV2ZW50LmNvbnN1bWUoYSkpfTtteFBhbm5pbmdIYW5kbGVyLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMucGFubmluZ1RyaWdnZXI9ITE7dGhpcy5tb3VzZURvd25FdmVudD1udWxsO3RoaXMuYWN0aXZlPSExO3RoaXMuZHk9dGhpcy5keD1udWxsfTtteFBhbm5pbmdIYW5kbGVyLnByb3RvdHlwZS5wYW5HcmFwaD1mdW5jdGlvbihhLGIpe3RoaXMuZ3JhcGguZ2V0VmlldygpLnNldFRyYW5zbGF0ZShhLGIpfTsKbXhQYW5uaW5nSGFuZGxlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZ3JhcGgucmVtb3ZlTW91c2VMaXN0ZW5lcih0aGlzKTt0aGlzLmdyYXBoLnJlbW92ZUxpc3RlbmVyKHRoaXMuZm9yY2VQYW5uaW5nSGFuZGxlcik7dGhpcy5ncmFwaC5yZW1vdmVMaXN0ZW5lcih0aGlzLmdlc3R1cmVIYW5kbGVyKTtteEV2ZW50LnJlbW92ZUxpc3RlbmVyKGRvY3VtZW50LCJtb3VzZXVwIix0aGlzLm1vdXNlVXBMaXN0ZW5lcil9OwpmdW5jdGlvbiBteFBvcHVwTWVudUhhbmRsZXIoYSxiKXtudWxsIT1hJiYodGhpcy5ncmFwaD1hLHRoaXMuZmFjdG9yeU1ldGhvZD1iLHRoaXMuZ3JhcGguYWRkTW91c2VMaXN0ZW5lcih0aGlzKSx0aGlzLmdlc3R1cmVIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYil7dGhpcy5pblRvbGVyYW5jZT0hMX0pLHRoaXMuZ3JhcGguYWRkTGlzdGVuZXIobXhFdmVudC5HRVNUVVJFLHRoaXMuZ2VzdHVyZUhhbmRsZXIpLHRoaXMuaW5pdCgpKX1teFBvcHVwTWVudUhhbmRsZXIucHJvdG90eXBlPW5ldyBteFBvcHVwTWVudTtteFBvcHVwTWVudUhhbmRsZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPW14UG9wdXBNZW51SGFuZGxlcjtteFBvcHVwTWVudUhhbmRsZXIucHJvdG90eXBlLmdyYXBoPW51bGw7bXhQb3B1cE1lbnVIYW5kbGVyLnByb3RvdHlwZS5zZWxlY3RPblBvcHVwPSEwOwpteFBvcHVwTWVudUhhbmRsZXIucHJvdG90eXBlLmNsZWFyU2VsZWN0aW9uT25CYWNrZ3JvdW5kPSEwO214UG9wdXBNZW51SGFuZGxlci5wcm90b3R5cGUudHJpZ2dlclg9bnVsbDtteFBvcHVwTWVudUhhbmRsZXIucHJvdG90eXBlLnRyaWdnZXJZPW51bGw7bXhQb3B1cE1lbnVIYW5kbGVyLnByb3RvdHlwZS5zY3JlZW5YPW51bGw7bXhQb3B1cE1lbnVIYW5kbGVyLnByb3RvdHlwZS5zY3JlZW5ZPW51bGw7bXhQb3B1cE1lbnVIYW5kbGVyLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7bXhQb3B1cE1lbnUucHJvdG90eXBlLmluaXQuYXBwbHkodGhpcyk7bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKHRoaXMuZGl2LG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuZ3JhcGgudG9vbHRpcEhhbmRsZXIuaGlkZSgpfSkpfTtteFBvcHVwTWVudUhhbmRsZXIucHJvdG90eXBlLmlzU2VsZWN0T25Qb3B1cD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5zZWxlY3RPblBvcHVwfTsKbXhQb3B1cE1lbnVIYW5kbGVyLnByb3RvdHlwZS5tb3VzZURvd249ZnVuY3Rpb24oYSxiKXt0aGlzLmlzRW5hYmxlZCgpJiYhbXhFdmVudC5pc011bHRpVG91Y2hFdmVudChiLmdldEV2ZW50KCkpJiYodGhpcy5oaWRlTWVudSgpLHRoaXMudHJpZ2dlclg9Yi5nZXRHcmFwaFgoKSx0aGlzLnRyaWdnZXJZPWIuZ2V0R3JhcGhZKCksdGhpcy5zY3JlZW5YPW14RXZlbnQuZ2V0TWFpbkV2ZW50KGIuZ2V0RXZlbnQoKSkuc2NyZWVuWCx0aGlzLnNjcmVlblk9bXhFdmVudC5nZXRNYWluRXZlbnQoYi5nZXRFdmVudCgpKS5zY3JlZW5ZLHRoaXMucG9wdXBUcmlnZ2VyPXRoaXMuaXNQb3B1cFRyaWdnZXIoYiksdGhpcy5pblRvbGVyYW5jZT0hMCl9OwpteFBvcHVwTWVudUhhbmRsZXIucHJvdG90eXBlLm1vdXNlTW92ZT1mdW5jdGlvbihhLGIpe3RoaXMuaW5Ub2xlcmFuY2UmJm51bGwhPXRoaXMuc2NyZWVuWCYmbnVsbCE9dGhpcy5zY3JlZW5ZJiYoTWF0aC5hYnMobXhFdmVudC5nZXRNYWluRXZlbnQoYi5nZXRFdmVudCgpKS5zY3JlZW5YLXRoaXMuc2NyZWVuWCk+dGhpcy5ncmFwaC50b2xlcmFuY2V8fE1hdGguYWJzKG14RXZlbnQuZ2V0TWFpbkV2ZW50KGIuZ2V0RXZlbnQoKSkuc2NyZWVuWS10aGlzLnNjcmVlblkpPnRoaXMuZ3JhcGgudG9sZXJhbmNlKSYmKHRoaXMuaW5Ub2xlcmFuY2U9ITEpfTsKbXhQb3B1cE1lbnVIYW5kbGVyLnByb3RvdHlwZS5tb3VzZVVwPWZ1bmN0aW9uKGEsYil7aWYodGhpcy5wb3B1cFRyaWdnZXImJnRoaXMuaW5Ub2xlcmFuY2UmJm51bGwhPXRoaXMudHJpZ2dlclgmJm51bGwhPXRoaXMudHJpZ2dlclkpe3ZhciBjPXRoaXMuZ2V0Q2VsbEZvclBvcHVwRXZlbnQoYik7dGhpcy5ncmFwaC5pc0VuYWJsZWQoKSYmdGhpcy5pc1NlbGVjdE9uUG9wdXAoYikmJm51bGwhPWMmJiF0aGlzLmdyYXBoLmlzQ2VsbFNlbGVjdGVkKGMpP3RoaXMuZ3JhcGguc2V0U2VsZWN0aW9uQ2VsbChjKTp0aGlzLmNsZWFyU2VsZWN0aW9uT25CYWNrZ3JvdW5kJiZudWxsPT1jJiZ0aGlzLmdyYXBoLmNsZWFyU2VsZWN0aW9uKCk7dGhpcy5ncmFwaC50b29sdGlwSGFuZGxlci5oaWRlKCk7dmFyIGQ9bXhVdGlscy5nZXRTY3JvbGxPcmlnaW4oKTt0aGlzLnBvcHVwKGIuZ2V0WCgpK2QueCsxLGIuZ2V0WSgpK2QueSsxLGMsYi5nZXRFdmVudCgpKTtiLmNvbnN1bWUoKX10aGlzLmluVG9sZXJhbmNlPQp0aGlzLnBvcHVwVHJpZ2dlcj0hMX07bXhQb3B1cE1lbnVIYW5kbGVyLnByb3RvdHlwZS5nZXRDZWxsRm9yUG9wdXBFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRDZWxsKCl9O214UG9wdXBNZW51SGFuZGxlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZ3JhcGgucmVtb3ZlTW91c2VMaXN0ZW5lcih0aGlzKTt0aGlzLmdyYXBoLnJlbW92ZUxpc3RlbmVyKHRoaXMuZ2VzdHVyZUhhbmRsZXIpO214UG9wdXBNZW51LnByb3RvdHlwZS5kZXN0cm95LmFwcGx5KHRoaXMpfTsKZnVuY3Rpb24gbXhDZWxsTWFya2VyKGEsYixjLGQpe214RXZlbnRTb3VyY2UuY2FsbCh0aGlzKTtudWxsIT1hJiYodGhpcy5ncmFwaD1hLHRoaXMudmFsaWRDb2xvcj1udWxsIT1iP2I6bXhDb25zdGFudHMuREVGQVVMVF9WQUxJRF9DT0xPUix0aGlzLmludmFsaWRDb2xvcj1udWxsIT1jP2M6bXhDb25zdGFudHMuREVGQVVMVF9JTlZBTElEX0NPTE9SLHRoaXMuaG90c3BvdD1udWxsIT1kP2Q6bXhDb25zdGFudHMuREVGQVVMVF9IT1RTUE9ULHRoaXMuaGlnaGxpZ2h0PW5ldyBteENlbGxIaWdobGlnaHQoYSkpfW14VXRpbHMuZXh0ZW5kKG14Q2VsbE1hcmtlcixteEV2ZW50U291cmNlKTtteENlbGxNYXJrZXIucHJvdG90eXBlLmdyYXBoPW51bGw7bXhDZWxsTWFya2VyLnByb3RvdHlwZS5lbmFibGVkPSEwO214Q2VsbE1hcmtlci5wcm90b3R5cGUuaG90c3BvdD1teENvbnN0YW50cy5ERUZBVUxUX0hPVFNQT1Q7bXhDZWxsTWFya2VyLnByb3RvdHlwZS5ob3RzcG90RW5hYmxlZD0hMTsKbXhDZWxsTWFya2VyLnByb3RvdHlwZS52YWxpZENvbG9yPW51bGw7bXhDZWxsTWFya2VyLnByb3RvdHlwZS5pbnZhbGlkQ29sb3I9bnVsbDtteENlbGxNYXJrZXIucHJvdG90eXBlLmN1cnJlbnRDb2xvcj1udWxsO214Q2VsbE1hcmtlci5wcm90b3R5cGUudmFsaWRTdGF0ZT1udWxsO214Q2VsbE1hcmtlci5wcm90b3R5cGUubWFya2VkU3RhdGU9bnVsbDtteENlbGxNYXJrZXIucHJvdG90eXBlLnNldEVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5lbmFibGVkPWF9O214Q2VsbE1hcmtlci5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5hYmxlZH07bXhDZWxsTWFya2VyLnByb3RvdHlwZS5zZXRIb3RzcG90PWZ1bmN0aW9uKGEpe3RoaXMuaG90c3BvdD1hfTtteENlbGxNYXJrZXIucHJvdG90eXBlLmdldEhvdHNwb3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ob3RzcG90fTsKbXhDZWxsTWFya2VyLnByb3RvdHlwZS5zZXRIb3RzcG90RW5hYmxlZD1mdW5jdGlvbihhKXt0aGlzLmhvdHNwb3RFbmFibGVkPWF9O214Q2VsbE1hcmtlci5wcm90b3R5cGUuaXNIb3RzcG90RW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhvdHNwb3RFbmFibGVkfTtteENlbGxNYXJrZXIucHJvdG90eXBlLmhhc1ZhbGlkU3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy52YWxpZFN0YXRlfTtteENlbGxNYXJrZXIucHJvdG90eXBlLmdldFZhbGlkU3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWxpZFN0YXRlfTtteENlbGxNYXJrZXIucHJvdG90eXBlLmdldE1hcmtlZFN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFya2VkU3RhdGV9O214Q2VsbE1hcmtlci5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLnZhbGlkU3RhdGU9bnVsbDtudWxsIT10aGlzLm1hcmtlZFN0YXRlJiYodGhpcy5tYXJrZWRTdGF0ZT1udWxsLHRoaXMudW5tYXJrKCkpfTsKbXhDZWxsTWFya2VyLnByb3RvdHlwZS5wcm9jZXNzPWZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7dGhpcy5pc0VuYWJsZWQoKSYmKGI9dGhpcy5nZXRTdGF0ZShhKSx0aGlzLnNldEN1cnJlbnRTdGF0ZShiLGEpKTtyZXR1cm4gYn07bXhDZWxsTWFya2VyLnByb3RvdHlwZS5zZXRDdXJyZW50U3RhdGU9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPW51bGwhPWE/dGhpcy5pc1ZhbGlkU3RhdGUoYSk6ITE7Yz1udWxsIT1jP2M6dGhpcy5nZXRNYXJrZXJDb2xvcihiLmdldEV2ZW50KCksYSxkKTt0aGlzLnZhbGlkU3RhdGU9ZD9hOm51bGw7aWYoYSE9dGhpcy5tYXJrZWRTdGF0ZXx8YyE9dGhpcy5jdXJyZW50Q29sb3IpdGhpcy5jdXJyZW50Q29sb3I9YyxudWxsIT1hJiZudWxsIT10aGlzLmN1cnJlbnRDb2xvcj8odGhpcy5tYXJrZWRTdGF0ZT1hLHRoaXMubWFyaygpKTpudWxsIT10aGlzLm1hcmtlZFN0YXRlJiYodGhpcy5tYXJrZWRTdGF0ZT1udWxsLHRoaXMudW5tYXJrKCkpfTsKbXhDZWxsTWFya2VyLnByb3RvdHlwZS5tYXJrQ2VsbD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ3JhcGguZ2V0VmlldygpLmdldFN0YXRlKGEpO251bGwhPWMmJih0aGlzLmN1cnJlbnRDb2xvcj1udWxsIT1iP2I6dGhpcy52YWxpZENvbG9yLHRoaXMubWFya2VkU3RhdGU9Yyx0aGlzLm1hcmsoKSl9O214Q2VsbE1hcmtlci5wcm90b3R5cGUubWFyaz1mdW5jdGlvbigpe3RoaXMuaGlnaGxpZ2h0LnNldEhpZ2hsaWdodENvbG9yKHRoaXMuY3VycmVudENvbG9yKTt0aGlzLmhpZ2hsaWdodC5oaWdobGlnaHQodGhpcy5tYXJrZWRTdGF0ZSk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5NQVJLLCJzdGF0ZSIsdGhpcy5tYXJrZWRTdGF0ZSkpfTtteENlbGxNYXJrZXIucHJvdG90eXBlLnVubWFyaz1mdW5jdGlvbigpe3RoaXMubWFyaygpfTtteENlbGxNYXJrZXIucHJvdG90eXBlLmlzVmFsaWRTdGF0ZT1mdW5jdGlvbihhKXtyZXR1cm4hMH07Cm14Q2VsbE1hcmtlci5wcm90b3R5cGUuZ2V0TWFya2VyQ29sb3I9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjP3RoaXMudmFsaWRDb2xvcjp0aGlzLmludmFsaWRDb2xvcn07bXhDZWxsTWFya2VyLnByb3RvdHlwZS5nZXRTdGF0ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdyYXBoLmdldFZpZXcoKSxjPXRoaXMuZ2V0Q2VsbChhKSxiPXRoaXMuZ2V0U3RhdGVUb01hcmsoYi5nZXRTdGF0ZShjKSk7cmV0dXJuIG51bGwhPWImJnRoaXMuaW50ZXJzZWN0cyhiLGEpP2I6bnVsbH07bXhDZWxsTWFya2VyLnByb3RvdHlwZS5nZXRDZWxsPWZ1bmN0aW9uKGEpe3JldHVybiBhLmdldENlbGwoKX07bXhDZWxsTWFya2VyLnByb3RvdHlwZS5nZXRTdGF0ZVRvTWFyaz1mdW5jdGlvbihhKXtyZXR1cm4gYX07Cm14Q2VsbE1hcmtlci5wcm90b3R5cGUuaW50ZXJzZWN0cz1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmhvdHNwb3RFbmFibGVkP214VXRpbHMuaW50ZXJzZWN0c0hvdHNwb3QoYSxiLmdldEdyYXBoWCgpLGIuZ2V0R3JhcGhZKCksdGhpcy5ob3RzcG90LG14Q29uc3RhbnRzLk1JTl9IT1RTUE9UX1NJWkUsbXhDb25zdGFudHMuTUFYX0hPVFNQT1RfU0laRSk6ITB9O214Q2VsbE1hcmtlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZ3JhcGguZ2V0VmlldygpLnJlbW92ZUxpc3RlbmVyKHRoaXMucmVzZXRIYW5kbGVyKTt0aGlzLmdyYXBoLmdldE1vZGVsKCkucmVtb3ZlTGlzdGVuZXIodGhpcy5yZXNldEhhbmRsZXIpO3RoaXMuaGlnaGxpZ2h0LmRlc3Ryb3koKX07CmZ1bmN0aW9uIG14U2VsZWN0aW9uQ2VsbHNIYW5kbGVyKGEpe214RXZlbnRTb3VyY2UuY2FsbCh0aGlzKTt0aGlzLmdyYXBoPWE7dGhpcy5oYW5kbGVycz1uZXcgbXhEaWN0aW9uYXJ5O3RoaXMuZ3JhcGguYWRkTW91c2VMaXN0ZW5lcih0aGlzKTt0aGlzLnJlZnJlc2hIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYyl7dGhpcy5pc0VuYWJsZWQoKSYmdGhpcy5yZWZyZXNoKCl9KTt0aGlzLmdyYXBoLmdldFNlbGVjdGlvbk1vZGVsKCkuYWRkTGlzdGVuZXIobXhFdmVudC5DSEFOR0UsdGhpcy5yZWZyZXNoSGFuZGxlcik7dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmFkZExpc3RlbmVyKG14RXZlbnQuQ0hBTkdFLHRoaXMucmVmcmVzaEhhbmRsZXIpO3RoaXMuZ3JhcGguZ2V0VmlldygpLmFkZExpc3RlbmVyKG14RXZlbnQuU0NBTEUsdGhpcy5yZWZyZXNoSGFuZGxlcik7dGhpcy5ncmFwaC5nZXRWaWV3KCkuYWRkTGlzdGVuZXIobXhFdmVudC5UUkFOU0xBVEUsdGhpcy5yZWZyZXNoSGFuZGxlcik7CnRoaXMuZ3JhcGguZ2V0VmlldygpLmFkZExpc3RlbmVyKG14RXZlbnQuU0NBTEVfQU5EX1RSQU5TTEFURSx0aGlzLnJlZnJlc2hIYW5kbGVyKTt0aGlzLmdyYXBoLmdldFZpZXcoKS5hZGRMaXN0ZW5lcihteEV2ZW50LkRPV04sdGhpcy5yZWZyZXNoSGFuZGxlcik7dGhpcy5ncmFwaC5nZXRWaWV3KCkuYWRkTGlzdGVuZXIobXhFdmVudC5VUCx0aGlzLnJlZnJlc2hIYW5kbGVyKX1teFV0aWxzLmV4dGVuZChteFNlbGVjdGlvbkNlbGxzSGFuZGxlcixteEV2ZW50U291cmNlKTtteFNlbGVjdGlvbkNlbGxzSGFuZGxlci5wcm90b3R5cGUuZ3JhcGg9bnVsbDtteFNlbGVjdGlvbkNlbGxzSGFuZGxlci5wcm90b3R5cGUuZW5hYmxlZD0hMDtteFNlbGVjdGlvbkNlbGxzSGFuZGxlci5wcm90b3R5cGUucmVmcmVzaEhhbmRsZXI9bnVsbDtteFNlbGVjdGlvbkNlbGxzSGFuZGxlci5wcm90b3R5cGUubWF4SGFuZGxlcnM9MTAwOwpteFNlbGVjdGlvbkNlbGxzSGFuZGxlci5wcm90b3R5cGUuaGFuZGxlcnM9bnVsbDtteFNlbGVjdGlvbkNlbGxzSGFuZGxlci5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5hYmxlZH07bXhTZWxlY3Rpb25DZWxsc0hhbmRsZXIucHJvdG90eXBlLnNldEVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5lbmFibGVkPWF9O214U2VsZWN0aW9uQ2VsbHNIYW5kbGVyLnByb3RvdHlwZS5nZXRIYW5kbGVyPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmhhbmRsZXJzLmdldChhKX07bXhTZWxlY3Rpb25DZWxsc0hhbmRsZXIucHJvdG90eXBlLmlzSGFuZGxlZD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9dGhpcy5nZXRIYW5kbGVyKGEpfTtteFNlbGVjdGlvbkNlbGxzSGFuZGxlci5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZXJzLnZpc2l0KGZ1bmN0aW9uKGEsYil7Yi5yZXNldC5hcHBseShiKX0pfTsKbXhTZWxlY3Rpb25DZWxsc0hhbmRsZXIucHJvdG90eXBlLmdldEhhbmRsZWRTZWxlY3Rpb25DZWxscz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdyYXBoLmdldFNlbGVjdGlvbkNlbGxzKCl9OwpteFNlbGVjdGlvbkNlbGxzSGFuZGxlci5wcm90b3R5cGUucmVmcmVzaD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuaGFuZGxlcnM7dGhpcy5oYW5kbGVycz1uZXcgbXhEaWN0aW9uYXJ5O2Zvcih2YXIgYj1teFV0aWxzLnNvcnRDZWxscyh0aGlzLmdldEhhbmRsZWRTZWxlY3Rpb25DZWxscygpLCExKSxjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBkPXRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZShiW2NdKTtpZihudWxsIT1kKXt2YXIgZT1hLnJlbW92ZShiW2NdKTtudWxsIT1lJiYoZS5zdGF0ZSE9ZD8oZS5kZXN0cm95KCksZT1udWxsKTp0aGlzLmlzSGFuZGxlckFjdGl2ZShlKXx8KG51bGwhPWUucmVmcmVzaCYmZS5yZWZyZXNoKCksZS5yZWRyYXcoKSkpO251bGw9PWUmJihlPXRoaXMuZ3JhcGguY3JlYXRlSGFuZGxlcihkKSx0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkFERCwic3RhdGUiLGQpKSk7bnVsbCE9ZSYmdGhpcy5oYW5kbGVycy5wdXQoYltjXSxlKX19YS52aXNpdChteFV0aWxzLmJpbmQodGhpcywKZnVuY3Rpb24oYSxiKXt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlJFTU9WRSwic3RhdGUiLGIuc3RhdGUpKTtiLmRlc3Ryb3koKX0pKX07bXhTZWxlY3Rpb25DZWxsc0hhbmRsZXIucHJvdG90eXBlLmlzSGFuZGxlckFjdGl2ZT1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS5pbmRleH07bXhTZWxlY3Rpb25DZWxsc0hhbmRsZXIucHJvdG90eXBlLnVwZGF0ZUhhbmRsZXI9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5oYW5kbGVycy5yZW1vdmUoYS5jZWxsKTtpZihudWxsIT1iKXt2YXIgYz1iLmluZGV4LGQ9Yi5zdGFydFgsZT1iLnN0YXJ0WTtiLmRlc3Ryb3koKTtiPXRoaXMuZ3JhcGguY3JlYXRlSGFuZGxlcihhKTtudWxsIT1iJiYodGhpcy5oYW5kbGVycy5wdXQoYS5jZWxsLGIpLG51bGwhPWMmJm51bGwhPWQmJm51bGwhPWUmJmIuc3RhcnQoZCxlLGMpKX19OwpteFNlbGVjdGlvbkNlbGxzSGFuZGxlci5wcm90b3R5cGUubW91c2VEb3duPWZ1bmN0aW9uKGEsYil7aWYodGhpcy5ncmFwaC5pc0VuYWJsZWQoKSYmdGhpcy5pc0VuYWJsZWQoKSl7dmFyIGM9W2EsYl07dGhpcy5oYW5kbGVycy52aXNpdChmdW5jdGlvbihhLGIpe2IubW91c2VEb3duLmFwcGx5KGIsYyl9KX19O214U2VsZWN0aW9uQ2VsbHNIYW5kbGVyLnByb3RvdHlwZS5tb3VzZU1vdmU9ZnVuY3Rpb24oYSxiKXtpZih0aGlzLmdyYXBoLmlzRW5hYmxlZCgpJiZ0aGlzLmlzRW5hYmxlZCgpKXt2YXIgYz1bYSxiXTt0aGlzLmhhbmRsZXJzLnZpc2l0KGZ1bmN0aW9uKGEsYil7Yi5tb3VzZU1vdmUuYXBwbHkoYixjKX0pfX07Cm14U2VsZWN0aW9uQ2VsbHNIYW5kbGVyLnByb3RvdHlwZS5tb3VzZVVwPWZ1bmN0aW9uKGEsYil7aWYodGhpcy5ncmFwaC5pc0VuYWJsZWQoKSYmdGhpcy5pc0VuYWJsZWQoKSl7dmFyIGM9W2EsYl07dGhpcy5oYW5kbGVycy52aXNpdChmdW5jdGlvbihhLGIpe2IubW91c2VVcC5hcHBseShiLGMpfSl9fTtteFNlbGVjdGlvbkNlbGxzSGFuZGxlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZ3JhcGgucmVtb3ZlTW91c2VMaXN0ZW5lcih0aGlzKTtudWxsIT10aGlzLnJlZnJlc2hIYW5kbGVyJiYodGhpcy5ncmFwaC5nZXRTZWxlY3Rpb25Nb2RlbCgpLnJlbW92ZUxpc3RlbmVyKHRoaXMucmVmcmVzaEhhbmRsZXIpLHRoaXMuZ3JhcGguZ2V0TW9kZWwoKS5yZW1vdmVMaXN0ZW5lcih0aGlzLnJlZnJlc2hIYW5kbGVyKSx0aGlzLmdyYXBoLmdldFZpZXcoKS5yZW1vdmVMaXN0ZW5lcih0aGlzLnJlZnJlc2hIYW5kbGVyKSx0aGlzLnJlZnJlc2hIYW5kbGVyPW51bGwpfTsKZnVuY3Rpb24gbXhDb25uZWN0aW9uSGFuZGxlcihhLGIpe214RXZlbnRTb3VyY2UuY2FsbCh0aGlzKTtudWxsIT1hJiYodGhpcy5ncmFwaD1hLHRoaXMuZmFjdG9yeU1ldGhvZD1iLHRoaXMuaW5pdCgpLHRoaXMuZXNjYXBlSGFuZGxlcj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGIpe3RoaXMucmVzZXQoKX0pLHRoaXMuZ3JhcGguYWRkTGlzdGVuZXIobXhFdmVudC5FU0NBUEUsdGhpcy5lc2NhcGVIYW5kbGVyKSl9bXhVdGlscy5leHRlbmQobXhDb25uZWN0aW9uSGFuZGxlcixteEV2ZW50U291cmNlKTtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5ncmFwaD1udWxsO214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmZhY3RvcnlNZXRob2Q9ITA7bXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUubW92ZUljb25Gcm9udD0hMTtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5tb3ZlSWNvbkJhY2s9ITE7Cm14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmNvbm5lY3RJbWFnZT1udWxsO214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLnRhcmdldENvbm5lY3RJbWFnZT0hMTtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5lbmFibGVkPSEwO214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLnNlbGVjdD0hMDtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVUYXJnZXQ9ITE7bXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUubWFya2VyPW51bGw7bXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuY29uc3RyYWludEhhbmRsZXI9bnVsbDtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5lcnJvcj1udWxsO214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLndheXBvaW50c0VuYWJsZWQ9ITE7bXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuaWdub3JlTW91c2VEb3duPSExO214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmZpcnN0PW51bGw7Cm14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmNvbm5lY3RJY29uT2Zmc2V0PW5ldyBteFBvaW50KDAsbXhDb25zdGFudHMuVE9PTFRJUF9WRVJUSUNBTF9PRkZTRVQpO214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmVkZ2VTdGF0ZT1udWxsO214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmNoYW5nZUhhbmRsZXI9bnVsbDtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5kcmlsbEhhbmRsZXI9bnVsbDtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5tb3VzZURvd25Db3VudGVyPTA7bXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUubW92ZVByZXZpZXdBd2F5PW14Q2xpZW50LklTX1ZNTDtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5vdXRsaW5lQ29ubmVjdD0hMTtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5saXZlUHJldmlldz0hMTtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5jdXJzb3I9bnVsbDsKbXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuaW5zZXJ0QmVmb3JlU291cmNlPSExO214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmlzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuYWJsZWR9O214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLnNldEVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5lbmFibGVkPWF9O214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmlzSW5zZXJ0QmVmb3JlPWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIHRoaXMuaW5zZXJ0QmVmb3JlU291cmNlJiZiIT1jfTtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5pc0NyZWF0ZVRhcmdldD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVUYXJnZXR9O214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLnNldENyZWF0ZVRhcmdldD1mdW5jdGlvbihhKXt0aGlzLmNyZWF0ZVRhcmdldD1hfTsKbXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuY3JlYXRlU2hhcGU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmxpdmVQcmV2aWV3JiZudWxsIT10aGlzLmVkZ2VTdGF0ZT90aGlzLmdyYXBoLmNlbGxSZW5kZXJlci5jcmVhdGVTaGFwZSh0aGlzLmVkZ2VTdGF0ZSk6bmV3IG14UG9seWxpbmUoW10sbXhDb25zdGFudHMuSU5WQUxJRF9DT0xPUik7YS5kaWFsZWN0PXRoaXMuZ3JhcGguZGlhbGVjdCE9bXhDb25zdGFudHMuRElBTEVDVF9TVkc/bXhDb25zdGFudHMuRElBTEVDVF9WTUw6bXhDb25zdGFudHMuRElBTEVDVF9TVkc7YS5zY2FsZT10aGlzLmdyYXBoLnZpZXcuc2NhbGU7YS5wb2ludGVyRXZlbnRzPSExO2EuaXNEYXNoZWQ9ITA7YS5pbml0KHRoaXMuZ3JhcGguZ2V0VmlldygpLmdldE92ZXJsYXlQYW5lKCkpO214RXZlbnQucmVkaXJlY3RNb3VzZUV2ZW50cyhhLm5vZGUsdGhpcy5ncmFwaCxudWxsKTtyZXR1cm4gYX07Cm14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt0aGlzLmdyYXBoLmFkZE1vdXNlTGlzdGVuZXIodGhpcyk7dGhpcy5tYXJrZXI9dGhpcy5jcmVhdGVNYXJrZXIoKTt0aGlzLmNvbnN0cmFpbnRIYW5kbGVyPW5ldyBteENvbnN0cmFpbnRIYW5kbGVyKHRoaXMuZ3JhcGgpO3RoaXMuY2hhbmdlSGFuZGxlcj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtudWxsIT10aGlzLmljb25TdGF0ZSYmKHRoaXMuaWNvblN0YXRlPXRoaXMuZ3JhcGguZ2V0VmlldygpLmdldFN0YXRlKHRoaXMuaWNvblN0YXRlLmNlbGwpKTtudWxsIT10aGlzLmljb25TdGF0ZT8odGhpcy5yZWRyYXdJY29ucyh0aGlzLmljb25zLHRoaXMuaWNvblN0YXRlKSx0aGlzLmNvbnN0cmFpbnRIYW5kbGVyLnJlc2V0KCkpOm51bGwhPXRoaXMucHJldmlvdXMmJm51bGw9PXRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZSh0aGlzLnByZXZpb3VzLmNlbGwpJiZ0aGlzLnJlc2V0KCl9KTt0aGlzLmdyYXBoLmdldE1vZGVsKCkuYWRkTGlzdGVuZXIobXhFdmVudC5DSEFOR0UsCnRoaXMuY2hhbmdlSGFuZGxlcik7dGhpcy5ncmFwaC5nZXRWaWV3KCkuYWRkTGlzdGVuZXIobXhFdmVudC5TQ0FMRSx0aGlzLmNoYW5nZUhhbmRsZXIpO3RoaXMuZ3JhcGguZ2V0VmlldygpLmFkZExpc3RlbmVyKG14RXZlbnQuVFJBTlNMQVRFLHRoaXMuY2hhbmdlSGFuZGxlcik7dGhpcy5ncmFwaC5nZXRWaWV3KCkuYWRkTGlzdGVuZXIobXhFdmVudC5TQ0FMRV9BTkRfVFJBTlNMQVRFLHRoaXMuY2hhbmdlSGFuZGxlcik7dGhpcy5kcmlsbEhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5yZXNldCgpfSk7dGhpcy5ncmFwaC5hZGRMaXN0ZW5lcihteEV2ZW50LlNUQVJUX0VESVRJTkcsdGhpcy5kcmlsbEhhbmRsZXIpO3RoaXMuZ3JhcGguZ2V0VmlldygpLmFkZExpc3RlbmVyKG14RXZlbnQuRE9XTix0aGlzLmRyaWxsSGFuZGxlcik7dGhpcy5ncmFwaC5nZXRWaWV3KCkuYWRkTGlzdGVuZXIobXhFdmVudC5VUCx0aGlzLmRyaWxsSGFuZGxlcil9OwpteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5pc0Nvbm5lY3RhYmxlQ2VsbD1mdW5jdGlvbihhKXtyZXR1cm4hMH07Cm14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZU1hcmtlcj1mdW5jdGlvbigpe3ZhciBhPW5ldyBteENlbGxNYXJrZXIodGhpcy5ncmFwaCk7YS5ob3RzcG90RW5hYmxlZD0hMDthLmdldENlbGw9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7dmFyIGM9bXhDZWxsTWFya2VyLnByb3RvdHlwZS5nZXRDZWxsLmFwcGx5KGEsYXJndW1lbnRzKTt0aGlzLmVycm9yPW51bGw7bnVsbD09YyYmbnVsbCE9dGhpcy5jdXJyZW50UG9pbnQmJihjPXRoaXMuZ3JhcGguZ2V0Q2VsbEF0KHRoaXMuY3VycmVudFBvaW50LngsdGhpcy5jdXJyZW50UG9pbnQueSkpO2lmKG51bGwhPWMmJiF0aGlzLmdyYXBoLmlzQ2VsbENvbm5lY3RhYmxlKGMpKXt2YXIgZD10aGlzLmdyYXBoLmdldE1vZGVsKCkuZ2V0UGFyZW50KGMpO3RoaXMuZ3JhcGguZ2V0TW9kZWwoKS5pc1ZlcnRleChkKSYmdGhpcy5ncmFwaC5pc0NlbGxDb25uZWN0YWJsZShkKSYmKGM9ZCl9aWYodGhpcy5ncmFwaC5pc1N3aW1sYW5lKGMpJiYKbnVsbCE9dGhpcy5jdXJyZW50UG9pbnQmJnRoaXMuZ3JhcGguaGl0c1N3aW1sYW5lQ29udGVudChjLHRoaXMuY3VycmVudFBvaW50LngsdGhpcy5jdXJyZW50UG9pbnQueSl8fCF0aGlzLmlzQ29ubmVjdGFibGVDZWxsKGMpKWM9bnVsbDtudWxsIT1jP3RoaXMuaXNDb25uZWN0aW5nKCk/bnVsbCE9dGhpcy5wcmV2aW91cyYmKHRoaXMuZXJyb3I9dGhpcy52YWxpZGF0ZUNvbm5lY3Rpb24odGhpcy5wcmV2aW91cy5jZWxsLGMpLG51bGwhPXRoaXMuZXJyb3ImJjA9PXRoaXMuZXJyb3IubGVuZ3RoJiYoYz1udWxsLHRoaXMuaXNDcmVhdGVUYXJnZXQoYi5nZXRFdmVudCgpKSYmKHRoaXMuZXJyb3I9bnVsbCkpKTp0aGlzLmlzVmFsaWRTb3VyY2UoYyxiKXx8KGM9bnVsbCk6IXRoaXMuaXNDb25uZWN0aW5nKCl8fHRoaXMuaXNDcmVhdGVUYXJnZXQoYi5nZXRFdmVudCgpKXx8dGhpcy5ncmFwaC5hbGxvd0RhbmdsaW5nRWRnZXN8fCh0aGlzLmVycm9yPSIiKTtyZXR1cm4gY30pO2EuaXNWYWxpZFN0YXRlPQpteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5pc0Nvbm5lY3RpbmcoKT9udWxsPT10aGlzLmVycm9yOm14Q2VsbE1hcmtlci5wcm90b3R5cGUuaXNWYWxpZFN0YXRlLmFwcGx5KGEsYXJndW1lbnRzKX0pO2EuZ2V0TWFya2VyQ29sb3I9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYixjLGQpe3JldHVybiBudWxsPT10aGlzLmNvbm5lY3RJbWFnZXx8dGhpcy5pc0Nvbm5lY3RpbmcoKT9teENlbGxNYXJrZXIucHJvdG90eXBlLmdldE1hcmtlckNvbG9yLmFwcGx5KGEsYXJndW1lbnRzKTpudWxsfSk7YS5pbnRlcnNlY3RzPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIsYyl7cmV0dXJuIG51bGwhPXRoaXMuY29ubmVjdEltYWdlfHx0aGlzLmlzQ29ubmVjdGluZygpPyEwOm14Q2VsbE1hcmtlci5wcm90b3R5cGUuaW50ZXJzZWN0cy5hcHBseShhLGFyZ3VtZW50cyl9KTtyZXR1cm4gYX07Cm14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKGEsYixjLGQpe3RoaXMucHJldmlvdXM9YTt0aGlzLmZpcnN0PW5ldyBteFBvaW50KGIsYyk7dGhpcy5lZGdlU3RhdGU9bnVsbCE9ZD9kOnRoaXMuY3JlYXRlRWRnZVN0YXRlKG51bGwpO3RoaXMubWFya2VyLmN1cnJlbnRDb2xvcj10aGlzLm1hcmtlci52YWxpZENvbG9yO3RoaXMubWFya2VyLm1hcmtlZFN0YXRlPWE7dGhpcy5tYXJrZXIubWFyaygpO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuU1RBUlQsInN0YXRlIix0aGlzLnByZXZpb3VzKSl9O214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmlzQ29ubmVjdGluZz1mdW5jdGlvbigpe3JldHVybiBudWxsIT10aGlzLmZpcnN0JiZudWxsIT10aGlzLnNoYXBlfTtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5pc1ZhbGlkU291cmNlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZ3JhcGguaXNWYWxpZFNvdXJjZShhKX07Cm14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmlzVmFsaWRUYXJnZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuITB9O214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLnZhbGlkYXRlQ29ubmVjdGlvbj1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmlzVmFsaWRUYXJnZXQoYik/dGhpcy5ncmFwaC5nZXRFZGdlVmFsaWRhdGlvbkVycm9yKG51bGwsYSxiKToiIn07bXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuZ2V0Q29ubmVjdEltYWdlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNvbm5lY3RJbWFnZX07bXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuaXNNb3ZlSWNvblRvRnJvbnRGb3JTdGF0ZT1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS50ZXh0JiZhLnRleHQubm9kZS5wYXJlbnROb2RlPT10aGlzLmdyYXBoLmNvbnRhaW5lcj8hMDp0aGlzLm1vdmVJY29uRnJvbnR9OwpteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVJY29ucz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldENvbm5lY3RJbWFnZShhKTtpZihudWxsIT1iJiZudWxsIT1hKXt0aGlzLmljb25TdGF0ZT1hO3ZhciBjPVtdLGQ9bmV3IG14UmVjdGFuZ2xlKDAsMCxiLndpZHRoLGIuaGVpZ2h0KSxlPW5ldyBteEltYWdlU2hhcGUoZCxiLnNyYyxudWxsLG51bGwsMCk7ZS5wcmVzZXJ2ZUltYWdlQXNwZWN0PSExO3RoaXMuaXNNb3ZlSWNvblRvRnJvbnRGb3JTdGF0ZShhKT8oZS5kaWFsZWN0PW14Q29uc3RhbnRzLkRJQUxFQ1RfU1RSSUNUSFRNTCxlLmluaXQodGhpcy5ncmFwaC5jb250YWluZXIpKTooZS5kaWFsZWN0PXRoaXMuZ3JhcGguZGlhbGVjdD09bXhDb25zdGFudHMuRElBTEVDVF9TVkc/bXhDb25zdGFudHMuRElBTEVDVF9TVkc6bXhDb25zdGFudHMuRElBTEVDVF9WTUwsZS5pbml0KHRoaXMuZ3JhcGguZ2V0VmlldygpLmdldE92ZXJsYXlQYW5lKCkpLHRoaXMubW92ZUljb25CYWNrJiYKbnVsbCE9ZS5ub2RlLnByZXZpb3VzU2libGluZyYmZS5ub2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUubm9kZSxlLm5vZGUucGFyZW50Tm9kZS5maXJzdENoaWxkKSk7ZS5ub2RlLnN0eWxlLmN1cnNvcj1teENvbnN0YW50cy5DVVJTT1JfQ09OTkVDVDt2YXIgZj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3JldHVybiBudWxsIT10aGlzLmN1cnJlbnRTdGF0ZT90aGlzLmN1cnJlbnRTdGF0ZTphfSksYj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtteEV2ZW50LmlzQ29uc3VtZWQoYSl8fCh0aGlzLmljb249ZSx0aGlzLmdyYXBoLmZpcmVNb3VzZUV2ZW50KG14RXZlbnQuTU9VU0VfRE9XTixuZXcgbXhNb3VzZUV2ZW50KGEsZigpKSkpfSk7bXhFdmVudC5yZWRpcmVjdE1vdXNlRXZlbnRzKGUubm9kZSx0aGlzLmdyYXBoLGYsYik7Yy5wdXNoKGUpO3RoaXMucmVkcmF3SWNvbnMoYyx0aGlzLmljb25TdGF0ZSk7cmV0dXJuIGN9cmV0dXJuIG51bGx9OwpteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5yZWRyYXdJY29ucz1mdW5jdGlvbihhLGIpe2lmKG51bGwhPWEmJm51bGwhPWFbMF0mJm51bGwhPWIpe3ZhciBjPXRoaXMuZ2V0SWNvblBvc2l0aW9uKGFbMF0sYik7YVswXS5ib3VuZHMueD1jLng7YVswXS5ib3VuZHMueT1jLnk7YVswXS5yZWRyYXcoKX19OwpteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5nZXRJY29uUG9zaXRpb249ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdyYXBoLmdldFZpZXcoKS5zY2FsZSxkPWIuZ2V0Q2VudGVyWCgpLGU9Yi5nZXRDZW50ZXJZKCk7aWYodGhpcy5ncmFwaC5pc1N3aW1sYW5lKGIuY2VsbCkpe3ZhciBmPXRoaXMuZ3JhcGguZ2V0U3RhcnRTaXplKGIuY2VsbCksZD0wIT1mLndpZHRoP2IueCtmLndpZHRoKmMvMjpkLGU9MCE9Zi5oZWlnaHQ/Yi55K2YuaGVpZ2h0KmMvMjplLGY9bXhVdGlscy50b1JhZGlhbnMobXhVdGlscy5nZXRWYWx1ZShiLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OKXx8MCk7aWYoMCE9Zil2YXIgYz1NYXRoLmNvcyhmKSxmPU1hdGguc2luKGYpLGc9bmV3IG14UG9pbnQoYi5nZXRDZW50ZXJYKCksYi5nZXRDZW50ZXJZKCkpLGU9bXhVdGlscy5nZXRSb3RhdGVkUG9pbnQobmV3IG14UG9pbnQoZCxlKSxjLGYsZyksZD1lLngsZT1lLnl9cmV0dXJuIG5ldyBteFBvaW50KGQtCmEuYm91bmRzLndpZHRoLzIsZS1hLmJvdW5kcy5oZWlnaHQvMil9O214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmRlc3Ryb3lJY29ucz1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuaWNvbnMpe2Zvcih2YXIgYT0wO2E8dGhpcy5pY29ucy5sZW5ndGg7YSsrKXRoaXMuaWNvbnNbYV0uZGVzdHJveSgpO3RoaXMuaWNvblN0YXRlPXRoaXMuc2VsZWN0ZWRJY29uPXRoaXMuaWNvbj10aGlzLmljb25zPW51bGx9fTtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5pc1N0YXJ0RXZlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudEZvY3VzJiZudWxsIT10aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRDb25zdHJhaW50fHxudWxsIT10aGlzLnByZXZpb3VzJiZudWxsPT10aGlzLmVycm9yJiYobnVsbD09dGhpcy5pY29uc3x8bnVsbCE9dGhpcy5pY29ucyYmbnVsbCE9dGhpcy5pY29uKX07Cm14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLm1vdXNlRG93bj1mdW5jdGlvbihhLGIpe3RoaXMubW91c2VEb3duQ291bnRlcisrO2lmKHRoaXMuaXNFbmFibGVkKCkmJnRoaXMuZ3JhcGguaXNFbmFibGVkKCkmJiFiLmlzQ29uc3VtZWQoKSYmIXRoaXMuaXNDb25uZWN0aW5nKCkmJnRoaXMuaXNTdGFydEV2ZW50KGIpKXtudWxsIT10aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRDb25zdHJhaW50JiZudWxsIT10aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRGb2N1cyYmbnVsbCE9dGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50UG9pbnQ/KHRoaXMuc291cmNlQ29uc3RyYWludD10aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRDb25zdHJhaW50LHRoaXMucHJldmlvdXM9dGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50Rm9jdXMsdGhpcy5maXJzdD10aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRQb2ludC5jbG9uZSgpKTp0aGlzLmZpcnN0PW5ldyBteFBvaW50KGIuZ2V0R3JhcGhYKCksCmIuZ2V0R3JhcGhZKCkpO3RoaXMuZWRnZVN0YXRlPXRoaXMuY3JlYXRlRWRnZVN0YXRlKGIpO3RoaXMubW91c2VEb3duQ291bnRlcj0xO3RoaXMud2F5cG9pbnRzRW5hYmxlZCYmbnVsbD09dGhpcy5zaGFwZSYmKHRoaXMud2F5cG9pbnRzPW51bGwsdGhpcy5zaGFwZT10aGlzLmNyZWF0ZVNoYXBlKCksbnVsbCE9dGhpcy5lZGdlU3RhdGUmJnRoaXMuc2hhcGUuYXBwbHkodGhpcy5lZGdlU3RhdGUpKTtpZihudWxsPT10aGlzLnByZXZpb3VzJiZudWxsIT10aGlzLmVkZ2VTdGF0ZSl7dmFyIGM9dGhpcy5ncmFwaC5nZXRQb2ludEZvckV2ZW50KGIuZ2V0RXZlbnQoKSk7dGhpcy5lZGdlU3RhdGUuY2VsbC5nZW9tZXRyeS5zZXRUZXJtaW5hbFBvaW50KGMsITApfXRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuU1RBUlQsInN0YXRlIix0aGlzLnByZXZpb3VzKSk7Yi5jb25zdW1lKCl9dGhpcy5zZWxlY3RlZEljb249dGhpcy5pY29uO3RoaXMuaWNvbj1udWxsfTsKbXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuaXNJbW1lZGlhdGVDb25uZWN0U291cmNlPWZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmdyYXBoLmlzQ2VsbE1vdmFibGUoYS5jZWxsKX07bXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuY3JlYXRlRWRnZVN0YXRlPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsfTsKbXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuaXNPdXRsaW5lQ29ubmVjdEV2ZW50PWZ1bmN0aW9uKGEpe3ZhciBiPW14VXRpbHMuZ2V0T2Zmc2V0KHRoaXMuZ3JhcGguY29udGFpbmVyKSxjPWEuZ2V0RXZlbnQoKSxkPW14RXZlbnQuZ2V0Q2xpZW50WChjKSxjPW14RXZlbnQuZ2V0Q2xpZW50WShjKSxlPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxmPXRoaXMuY3VycmVudFBvaW50LngtdGhpcy5ncmFwaC5jb250YWluZXIuc2Nyb2xsTGVmdCtiLngtKCh3aW5kb3cucGFnZVhPZmZzZXR8fGUuc2Nyb2xsTGVmdCktKGUuY2xpZW50TGVmdHx8MCkpLGI9dGhpcy5jdXJyZW50UG9pbnQueS10aGlzLmdyYXBoLmNvbnRhaW5lci5zY3JvbGxUb3ArYi55LSgod2luZG93LnBhZ2VZT2Zmc2V0fHxlLnNjcm9sbFRvcCktKGUuY2xpZW50VG9wfHwwKSk7cmV0dXJuIHRoaXMub3V0bGluZUNvbm5lY3QmJiFteEV2ZW50LmlzU2hpZnREb3duKGEuZ2V0RXZlbnQoKSkmJihhLmlzU291cmNlKHRoaXMubWFya2VyLmhpZ2hsaWdodC5zaGFwZSl8fApteEV2ZW50LmlzQWx0RG93bihhLmdldEV2ZW50KCkpJiZudWxsIT1hLmdldFN0YXRlKCl8fHRoaXMubWFya2VyLmhpZ2hsaWdodC5pc0hpZ2hsaWdodEF0KGQsYyl8fChmIT1kfHxiIT1jKSYmbnVsbD09YS5nZXRTdGF0ZSgpJiZ0aGlzLm1hcmtlci5oaWdobGlnaHQuaXNIaWdobGlnaHRBdChmLGIpKX07Cm14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLnVwZGF0ZUN1cnJlbnRTdGF0ZT1mdW5jdGlvbihhLGIpe3RoaXMuY29uc3RyYWludEhhbmRsZXIudXBkYXRlKGEsbnVsbD09dGhpcy5maXJzdCwhMSxudWxsPT10aGlzLmZpcnN0fHxhLmlzU291cmNlKHRoaXMubWFya2VyLmhpZ2hsaWdodC5zaGFwZSk/bnVsbDpiKTtpZihudWxsIT10aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRGb2N1cyYmbnVsbCE9dGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50Q29uc3RyYWludCludWxsIT10aGlzLm1hcmtlci5oaWdobGlnaHQmJm51bGwhPXRoaXMubWFya2VyLmhpZ2hsaWdodC5zdGF0ZSYmdGhpcy5tYXJrZXIuaGlnaGxpZ2h0LnN0YXRlLmNlbGw9PXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudEZvY3VzLmNlbGw/InRyYW5zcGFyZW50IiE9dGhpcy5tYXJrZXIuaGlnaGxpZ2h0LnNoYXBlLnN0cm9rZSYmKHRoaXMubWFya2VyLmhpZ2hsaWdodC5zaGFwZS5zdHJva2U9InRyYW5zcGFyZW50IiwKdGhpcy5tYXJrZXIuaGlnaGxpZ2h0LnJlcGFpbnQoKSk6dGhpcy5tYXJrZXIubWFya0NlbGwodGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50Rm9jdXMuY2VsbCwidHJhbnNwYXJlbnQiKSxudWxsIT10aGlzLnByZXZpb3VzJiYodGhpcy5lcnJvcj10aGlzLnZhbGlkYXRlQ29ubmVjdGlvbih0aGlzLnByZXZpb3VzLmNlbGwsdGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50Rm9jdXMuY2VsbCksbnVsbD09dGhpcy5lcnJvciYmKHRoaXMuY3VycmVudFN0YXRlPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudEZvY3VzKSwobnVsbCE9dGhpcy5lcnJvcnx8bnVsbCE9dGhpcy5jdXJyZW50U3RhdGUmJiF0aGlzLmlzQ2VsbEVuYWJsZWQodGhpcy5jdXJyZW50U3RhdGUuY2VsbCkpJiZ0aGlzLmNvbnN0cmFpbnRIYW5kbGVyLnJlc2V0KCkpO2Vsc2V7dGhpcy5ncmFwaC5pc0lnbm9yZVRlcm1pbmFsRXZlbnQoYS5nZXRFdmVudCgpKT8odGhpcy5tYXJrZXIucmVzZXQoKSx0aGlzLmN1cnJlbnRTdGF0ZT0KbnVsbCk6KHRoaXMubWFya2VyLnByb2Nlc3MoYSksdGhpcy5jdXJyZW50U3RhdGU9dGhpcy5tYXJrZXIuZ2V0VmFsaWRTdGF0ZSgpKTtudWxsPT10aGlzLmN1cnJlbnRTdGF0ZXx8dGhpcy5pc0NlbGxFbmFibGVkKHRoaXMuY3VycmVudFN0YXRlLmNlbGwpfHwodGhpcy5jb25zdHJhaW50SGFuZGxlci5yZXNldCgpLHRoaXMubWFya2VyLnJlc2V0KCksdGhpcy5jdXJyZW50U3RhdGU9bnVsbCk7dmFyIGM9dGhpcy5pc091dGxpbmVDb25uZWN0RXZlbnQoYSk7bnVsbCE9dGhpcy5jdXJyZW50U3RhdGUmJmMmJihhLmlzU291cmNlKHRoaXMubWFya2VyLmhpZ2hsaWdodC5zaGFwZSkmJihiPW5ldyBteFBvaW50KGEuZ2V0R3JhcGhYKCksYS5nZXRHcmFwaFkoKSkpLGM9dGhpcy5ncmFwaC5nZXRPdXRsaW5lQ29uc3RyYWludChiLHRoaXMuY3VycmVudFN0YXRlLGEpLHRoaXMuY29uc3RyYWludEhhbmRsZXIuc2V0Rm9jdXMoYSx0aGlzLmN1cnJlbnRTdGF0ZSwhMSksdGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50Q29uc3RyYWludD0KYyx0aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRQb2ludD1iKTt0aGlzLm91dGxpbmVDb25uZWN0JiZudWxsIT10aGlzLm1hcmtlci5oaWdobGlnaHQmJm51bGwhPXRoaXMubWFya2VyLmhpZ2hsaWdodC5zaGFwZSYmKGM9dGhpcy5ncmFwaC52aWV3LnNjYWxlLG51bGwhPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudENvbnN0cmFpbnQmJm51bGwhPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudEZvY3VzPyh0aGlzLm1hcmtlci5oaWdobGlnaHQuc2hhcGUuc3Ryb2tlPW14Q29uc3RhbnRzLk9VVExJTkVfSElHSExJR0hUX0NPTE9SLHRoaXMubWFya2VyLmhpZ2hsaWdodC5zaGFwZS5zdHJva2V3aWR0aD1teENvbnN0YW50cy5PVVRMSU5FX0hJR0hMSUdIVF9TVFJPS0VXSURUSC9jL2MsdGhpcy5tYXJrZXIuaGlnaGxpZ2h0LnJlcGFpbnQoKSk6dGhpcy5tYXJrZXIuaGFzVmFsaWRTdGF0ZSgpJiYodGhpcy5ncmFwaC5pc0NlbGxDb25uZWN0YWJsZShhLmdldENlbGwoKSkmJgp0aGlzLm1hcmtlci5nZXRWYWxpZFN0YXRlKCkhPWEuZ2V0U3RhdGUoKT8odGhpcy5tYXJrZXIuaGlnaGxpZ2h0LnNoYXBlLnN0cm9rZT0idHJhbnNwYXJlbnQiLHRoaXMuY3VycmVudFN0YXRlPW51bGwpOnRoaXMubWFya2VyLmhpZ2hsaWdodC5zaGFwZS5zdHJva2U9bXhDb25zdGFudHMuREVGQVVMVF9WQUxJRF9DT0xPUix0aGlzLm1hcmtlci5oaWdobGlnaHQuc2hhcGUuc3Ryb2tld2lkdGg9bXhDb25zdGFudHMuSElHSExJR0hUX1NUUk9LRVdJRFRIL2MvYyx0aGlzLm1hcmtlci5oaWdobGlnaHQucmVwYWludCgpKSl9fTtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5pc0NlbGxFbmFibGVkPWZ1bmN0aW9uKGEpe3JldHVybiEwfTsKbXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuY29udmVydFdheXBvaW50PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ3JhcGguZ2V0VmlldygpLmdldFNjYWxlKCksYz10aGlzLmdyYXBoLmdldFZpZXcoKS5nZXRUcmFuc2xhdGUoKTthLng9YS54L2ItYy54O2EueT1hLnkvYi1jLnl9OwpteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5zbmFwVG9QcmV2aWV3PWZ1bmN0aW9uKGEsYil7aWYoIW14RXZlbnQuaXNBbHREb3duKGEuZ2V0RXZlbnQoKSkmJm51bGwhPXRoaXMucHJldmlvdXMpe3ZhciBjPXRoaXMuZ3JhcGguZ3JpZFNpemUqdGhpcy5ncmFwaC52aWV3LnNjYWxlLzIsZD1udWxsIT10aGlzLnNvdXJjZUNvbnN0cmFpbnQ/dGhpcy5maXJzdDpuZXcgbXhQb2ludCh0aGlzLnByZXZpb3VzLmdldENlbnRlclgoKSx0aGlzLnByZXZpb3VzLmdldENlbnRlclkoKSk7TWF0aC5hYnMoZC54LWEuZ2V0R3JhcGhYKCkpPGMmJihiLng9ZC54KTtNYXRoLmFicyhkLnktYS5nZXRHcmFwaFkoKSk8YyYmKGIueT1kLnkpfX07Cm14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLm1vdXNlTW92ZT1mdW5jdGlvbihhLGIpe2lmKGIuaXNDb25zdW1lZCgpfHwhdGhpcy5pZ25vcmVNb3VzZURvd24mJm51bGw9PXRoaXMuZmlyc3QmJnRoaXMuZ3JhcGguaXNNb3VzZURvd24pdGhpcy5jb25zdHJhaW50SGFuZGxlci5yZXNldCgpO2Vsc2V7dGhpcy5pc0VuYWJsZWQoKXx8bnVsbD09dGhpcy5jdXJyZW50U3RhdGV8fCh0aGlzLmRlc3Ryb3lJY29ucygpLHRoaXMuY3VycmVudFN0YXRlPW51bGwpO3ZhciBjPXRoaXMuZ3JhcGguZ2V0VmlldygpLGQ9Yy5zY2FsZSxlPWMudHJhbnNsYXRlLGM9bmV3IG14UG9pbnQoYi5nZXRHcmFwaFgoKSxiLmdldEdyYXBoWSgpKTt0aGlzLmVycm9yPW51bGw7dGhpcy5ncmFwaC5pc0dyaWRFbmFibGVkRXZlbnQoYi5nZXRFdmVudCgpKSYmKGM9bmV3IG14UG9pbnQoKHRoaXMuZ3JhcGguc25hcChjLngvZC1lLngpK2UueCkqZCwodGhpcy5ncmFwaC5zbmFwKGMueS9kLWUueSkrZS55KSpkKSk7CnRoaXMuc25hcFRvUHJldmlldyhiLGMpO3RoaXMuY3VycmVudFBvaW50PWM7KG51bGwhPXRoaXMuZmlyc3R8fHRoaXMuaXNFbmFibGVkKCkmJnRoaXMuZ3JhcGguaXNFbmFibGVkKCkpJiYobnVsbCE9dGhpcy5zaGFwZXx8bnVsbD09dGhpcy5maXJzdHx8TWF0aC5hYnMoYi5nZXRHcmFwaFgoKS10aGlzLmZpcnN0LngpPnRoaXMuZ3JhcGgudG9sZXJhbmNlfHxNYXRoLmFicyhiLmdldEdyYXBoWSgpLXRoaXMuZmlyc3QueSk+dGhpcy5ncmFwaC50b2xlcmFuY2UpJiZ0aGlzLnVwZGF0ZUN1cnJlbnRTdGF0ZShiLGMpO2lmKG51bGwhPXRoaXMuZmlyc3Qpe3ZhciBmPW51bGwsZD1jO251bGwhPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudENvbnN0cmFpbnQmJm51bGwhPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudEZvY3VzJiZudWxsIT10aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRQb2ludD8oZj10aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRDb25zdHJhaW50LApkPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudFBvaW50LmNsb25lKCkpOm51bGwhPXRoaXMucHJldmlvdXMmJiF0aGlzLmdyYXBoLmlzSWdub3JlVGVybWluYWxFdmVudChiLmdldEV2ZW50KCkpJiZteEV2ZW50LmlzU2hpZnREb3duKGIuZ2V0RXZlbnQoKSkmJihNYXRoLmFicyh0aGlzLnByZXZpb3VzLmdldENlbnRlclgoKS1jLngpPE1hdGguYWJzKHRoaXMucHJldmlvdXMuZ2V0Q2VudGVyWSgpLWMueSk/Yy54PXRoaXMucHJldmlvdXMuZ2V0Q2VudGVyWCgpOmMueT10aGlzLnByZXZpb3VzLmdldENlbnRlclkoKSk7ZT10aGlzLmZpcnN0O2lmKG51bGwhPXRoaXMuc2VsZWN0ZWRJY29uKXt2YXIgZz10aGlzLnNlbGVjdGVkSWNvbi5ib3VuZHMud2lkdGgsaz10aGlzLnNlbGVjdGVkSWNvbi5ib3VuZHMuaGVpZ2h0O251bGwhPXRoaXMuY3VycmVudFN0YXRlJiZ0aGlzLnRhcmdldENvbm5lY3RJbWFnZT8oZz10aGlzLmdldEljb25Qb3NpdGlvbih0aGlzLnNlbGVjdGVkSWNvbiwKdGhpcy5jdXJyZW50U3RhdGUpLHRoaXMuc2VsZWN0ZWRJY29uLmJvdW5kcy54PWcueCx0aGlzLnNlbGVjdGVkSWNvbi5ib3VuZHMueT1nLnkpOihnPW5ldyBteFJlY3RhbmdsZShiLmdldEdyYXBoWCgpK3RoaXMuY29ubmVjdEljb25PZmZzZXQueCxiLmdldEdyYXBoWSgpK3RoaXMuY29ubmVjdEljb25PZmZzZXQueSxnLGspLHRoaXMuc2VsZWN0ZWRJY29uLmJvdW5kcz1nKTt0aGlzLnNlbGVjdGVkSWNvbi5yZWRyYXcoKX1udWxsIT10aGlzLmVkZ2VTdGF0ZT8odGhpcy51cGRhdGVFZGdlU3RhdGUoZCxmKSxkPXRoaXMuZWRnZVN0YXRlLmFic29sdXRlUG9pbnRzW3RoaXMuZWRnZVN0YXRlLmFic29sdXRlUG9pbnRzLmxlbmd0aC0xXSxlPXRoaXMuZWRnZVN0YXRlLmFic29sdXRlUG9pbnRzWzBdKToobnVsbCE9dGhpcy5jdXJyZW50U3RhdGUmJm51bGw9PXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudENvbnN0cmFpbnQmJihnPXRoaXMuZ2V0VGFyZ2V0UGVyaW1ldGVyUG9pbnQodGhpcy5jdXJyZW50U3RhdGUsCmIpLG51bGwhPWcmJihkPWcpKSxudWxsPT10aGlzLnNvdXJjZUNvbnN0cmFpbnQmJm51bGwhPXRoaXMucHJldmlvdXMmJihnPXRoaXMuZ2V0U291cmNlUGVyaW1ldGVyUG9pbnQodGhpcy5wcmV2aW91cyxudWxsIT10aGlzLndheXBvaW50cyYmMDx0aGlzLndheXBvaW50cy5sZW5ndGg/dGhpcy53YXlwb2ludHNbMF06ZCxiKSxudWxsIT1nJiYoZT1nKSkpO2lmKG51bGw9PXRoaXMuY3VycmVudFN0YXRlJiZ0aGlzLm1vdmVQcmV2aWV3QXdheSl7Zz1lO251bGwhPXRoaXMuZWRnZVN0YXRlJiYyPD10aGlzLmVkZ2VTdGF0ZS5hYnNvbHV0ZVBvaW50cy5sZW5ndGgmJihmPXRoaXMuZWRnZVN0YXRlLmFic29sdXRlUG9pbnRzW3RoaXMuZWRnZVN0YXRlLmFic29sdXRlUG9pbnRzLmxlbmd0aC0yXSxudWxsIT1mJiYoZz1mKSk7Zj1kLngtZy54O2c9ZC55LWcueTtrPU1hdGguc3FydChmKmYrZypnKTtpZigwPT1rKXJldHVybjt0aGlzLm9yaWdpbmFsUG9pbnQ9ZC5jbG9uZSgpO2QueC09NCpmLwprO2QueS09NCpnL2t9ZWxzZSB0aGlzLm9yaWdpbmFsUG9pbnQ9bnVsbDtudWxsPT10aGlzLnNoYXBlJiYoZj1NYXRoLmFicyhiLmdldEdyYXBoWCgpLXRoaXMuZmlyc3QueCksZz1NYXRoLmFicyhiLmdldEdyYXBoWSgpLXRoaXMuZmlyc3QueSksZj50aGlzLmdyYXBoLnRvbGVyYW5jZXx8Zz50aGlzLmdyYXBoLnRvbGVyYW5jZSkmJih0aGlzLnNoYXBlPXRoaXMuY3JlYXRlU2hhcGUoKSxudWxsIT10aGlzLmVkZ2VTdGF0ZSYmdGhpcy5zaGFwZS5hcHBseSh0aGlzLmVkZ2VTdGF0ZSksdGhpcy51cGRhdGVDdXJyZW50U3RhdGUoYixjKSk7bnVsbCE9dGhpcy5zaGFwZSYmKG51bGwhPXRoaXMuZWRnZVN0YXRlP3RoaXMuc2hhcGUucG9pbnRzPXRoaXMuZWRnZVN0YXRlLmFic29sdXRlUG9pbnRzOihjPVtlXSxudWxsIT10aGlzLndheXBvaW50cyYmKGM9Yy5jb25jYXQodGhpcy53YXlwb2ludHMpKSxjLnB1c2goZCksdGhpcy5zaGFwZS5wb2ludHM9YyksdGhpcy5kcmF3UHJldmlldygpKTsKbnVsbCE9dGhpcy5jdXJzb3ImJih0aGlzLmdyYXBoLmNvbnRhaW5lci5zdHlsZS5jdXJzb3I9dGhpcy5jdXJzb3IpO214RXZlbnQuY29uc3VtZShiLmdldEV2ZW50KCkpO2IuY29uc3VtZSgpfWVsc2UgdGhpcy5pc0VuYWJsZWQoKSYmdGhpcy5ncmFwaC5pc0VuYWJsZWQoKT90aGlzLnByZXZpb3VzIT10aGlzLmN1cnJlbnRTdGF0ZSYmbnVsbD09dGhpcy5lZGdlU3RhdGU/KHRoaXMuZGVzdHJveUljb25zKCksbnVsbCE9dGhpcy5jdXJyZW50U3RhdGUmJm51bGw9PXRoaXMuZXJyb3ImJm51bGw9PXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudENvbnN0cmFpbnQmJih0aGlzLmljb25zPXRoaXMuY3JlYXRlSWNvbnModGhpcy5jdXJyZW50U3RhdGUpLG51bGw9PXRoaXMuaWNvbnMmJih0aGlzLmN1cnJlbnRTdGF0ZS5zZXRDdXJzb3IobXhDb25zdGFudHMuQ1VSU09SX0NPTk5FQ1QpLGIuY29uc3VtZSgpKSksdGhpcy5wcmV2aW91cz10aGlzLmN1cnJlbnRTdGF0ZSk6dGhpcy5wcmV2aW91cyE9CnRoaXMuY3VycmVudFN0YXRlfHxudWxsPT10aGlzLmN1cnJlbnRTdGF0ZXx8bnVsbCE9dGhpcy5pY29uc3x8dGhpcy5ncmFwaC5pc01vdXNlRG93bnx8Yi5jb25zdW1lKCk6dGhpcy5jb25zdHJhaW50SGFuZGxlci5yZXNldCgpO2lmKCF0aGlzLmdyYXBoLmlzTW91c2VEb3duJiZudWxsIT10aGlzLmN1cnJlbnRTdGF0ZSYmbnVsbCE9dGhpcy5pY29ucyl7Yz0hMTtkPWIuZ2V0U291cmNlKCk7Zm9yKGU9MDtlPHRoaXMuaWNvbnMubGVuZ3RoJiYhYztlKyspYz1kPT10aGlzLmljb25zW2VdLm5vZGV8fGQucGFyZW50Tm9kZT09dGhpcy5pY29uc1tlXS5ub2RlO2N8fHRoaXMudXBkYXRlSWNvbnModGhpcy5jdXJyZW50U3RhdGUsdGhpcy5pY29ucyxiKX19fTsKbXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUudXBkYXRlRWRnZVN0YXRlPWZ1bmN0aW9uKGEsYil7bnVsbCE9dGhpcy5zb3VyY2VDb25zdHJhaW50JiZudWxsIT10aGlzLnNvdXJjZUNvbnN0cmFpbnQucG9pbnQmJih0aGlzLmVkZ2VTdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9FWElUX1hdPXRoaXMuc291cmNlQ29uc3RyYWludC5wb2ludC54LHRoaXMuZWRnZVN0YXRlLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0VYSVRfWV09dGhpcy5zb3VyY2VDb25zdHJhaW50LnBvaW50LnkpO251bGwhPWImJm51bGwhPWIucG9pbnQ/KHRoaXMuZWRnZVN0YXRlLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0VOVFJZX1hdPWIucG9pbnQueCx0aGlzLmVkZ2VTdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9FTlRSWV9ZXT1iLnBvaW50LnkpOihkZWxldGUgdGhpcy5lZGdlU3RhdGUuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRU5UUllfWF0sZGVsZXRlIHRoaXMuZWRnZVN0YXRlLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0VOVFJZX1ldKTsKdGhpcy5lZGdlU3RhdGUuYWJzb2x1dGVQb2ludHM9W251bGwsbnVsbCE9dGhpcy5jdXJyZW50U3RhdGU/bnVsbDphXTt0aGlzLmdyYXBoLnZpZXcudXBkYXRlRml4ZWRUZXJtaW5hbFBvaW50KHRoaXMuZWRnZVN0YXRlLHRoaXMucHJldmlvdXMsITAsdGhpcy5zb3VyY2VDb25zdHJhaW50KTtudWxsIT10aGlzLmN1cnJlbnRTdGF0ZSYmKG51bGw9PWImJihiPXRoaXMuZ3JhcGguZ2V0Q29ubmVjdGlvbkNvbnN0cmFpbnQodGhpcy5lZGdlU3RhdGUsdGhpcy5wcmV2aW91cywhMSkpLHRoaXMuZWRnZVN0YXRlLnNldEFic29sdXRlVGVybWluYWxQb2ludChudWxsLCExKSx0aGlzLmdyYXBoLnZpZXcudXBkYXRlRml4ZWRUZXJtaW5hbFBvaW50KHRoaXMuZWRnZVN0YXRlLHRoaXMuY3VycmVudFN0YXRlLCExLGIpKTt2YXIgYz1udWxsO2lmKG51bGwhPXRoaXMud2F5cG9pbnRzKWZvcih2YXIgYz1bXSxkPTA7ZDx0aGlzLndheXBvaW50cy5sZW5ndGg7ZCsrKXt2YXIgZT10aGlzLndheXBvaW50c1tkXS5jbG9uZSgpOwp0aGlzLmNvbnZlcnRXYXlwb2ludChlKTtjW2RdPWV9dGhpcy5ncmFwaC52aWV3LnVwZGF0ZVBvaW50cyh0aGlzLmVkZ2VTdGF0ZSxjLHRoaXMucHJldmlvdXMsdGhpcy5jdXJyZW50U3RhdGUpO3RoaXMuZ3JhcGgudmlldy51cGRhdGVGbG9hdGluZ1Rlcm1pbmFsUG9pbnRzKHRoaXMuZWRnZVN0YXRlLHRoaXMucHJldmlvdXMsdGhpcy5jdXJyZW50U3RhdGUpfTsKbXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuZ2V0VGFyZ2V0UGVyaW1ldGVyUG9pbnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1udWxsLGQ9YS52aWV3LGU9ZC5nZXRQZXJpbWV0ZXJGdW5jdGlvbihhKTtpZihudWxsIT1lKXt2YXIgZj1udWxsIT10aGlzLndheXBvaW50cyYmMDx0aGlzLndheXBvaW50cy5sZW5ndGg/dGhpcy53YXlwb2ludHNbdGhpcy53YXlwb2ludHMubGVuZ3RoLTFdOm5ldyBteFBvaW50KHRoaXMucHJldmlvdXMuZ2V0Q2VudGVyWCgpLHRoaXMucHJldmlvdXMuZ2V0Q2VudGVyWSgpKSxkPWUoZC5nZXRQZXJpbWV0ZXJCb3VuZHMoYSksdGhpcy5lZGdlU3RhdGUsZiwhMSk7bnVsbCE9ZCYmKGM9ZCl9ZWxzZSBjPW5ldyBteFBvaW50KGEuZ2V0Q2VudGVyWCgpLGEuZ2V0Q2VudGVyWSgpKTtyZXR1cm4gY307Cm14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmdldFNvdXJjZVBlcmltZXRlclBvaW50PWZ1bmN0aW9uKGEsYixjKXtjPW51bGw7dmFyIGQ9YS52aWV3LGU9ZC5nZXRQZXJpbWV0ZXJGdW5jdGlvbihhKSxmPW5ldyBteFBvaW50KGEuZ2V0Q2VudGVyWCgpLGEuZ2V0Q2VudGVyWSgpKTtpZihudWxsIT1lKXt2YXIgZz1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT04sMCksaz1NYXRoLlBJLzE4MCotZzswIT1nJiYoYj1teFV0aWxzLmdldFJvdGF0ZWRQb2ludChuZXcgbXhQb2ludChiLngsYi55KSxNYXRoLmNvcyhrKSxNYXRoLnNpbihrKSxmKSk7YT1lKGQuZ2V0UGVyaW1ldGVyQm91bmRzKGEpLGEsYiwhMSk7bnVsbCE9YSYmKDAhPWcmJihhPW14VXRpbHMuZ2V0Um90YXRlZFBvaW50KG5ldyBteFBvaW50KGEueCxhLnkpLE1hdGguY29zKC1rKSxNYXRoLnNpbigtayksZikpLGM9YSl9ZWxzZSBjPWY7cmV0dXJuIGN9OwpteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS51cGRhdGVJY29ucz1mdW5jdGlvbihhLGIsYyl7fTtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5pc1N0b3BFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS5nZXRTdGF0ZSgpfTsKbXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuYWRkV2F5cG9pbnRGb3JFdmVudD1mdW5jdGlvbihhKXt2YXIgYj1teFV0aWxzLmNvbnZlcnRQb2ludCh0aGlzLmdyYXBoLmNvbnRhaW5lcixhLmdldFgoKSxhLmdldFkoKSksYz1NYXRoLmFicyhiLngtdGhpcy5maXJzdC54KSxiPU1hdGguYWJzKGIueS10aGlzLmZpcnN0LnkpO2lmKG51bGwhPXRoaXMud2F5cG9pbnRzfHwxPHRoaXMubW91c2VEb3duQ291bnRlciYmKGM+dGhpcy5ncmFwaC50b2xlcmFuY2V8fGI+dGhpcy5ncmFwaC50b2xlcmFuY2UpKW51bGw9PXRoaXMud2F5cG9pbnRzJiYodGhpcy53YXlwb2ludHM9W10pLGM9dGhpcy5ncmFwaC52aWV3LnNjYWxlLGI9bmV3IG14UG9pbnQodGhpcy5ncmFwaC5zbmFwKGEuZ2V0R3JhcGhYKCkvYykqYyx0aGlzLmdyYXBoLnNuYXAoYS5nZXRHcmFwaFkoKS9jKSpjKSx0aGlzLndheXBvaW50cy5wdXNoKGIpfTsKbXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuY2hlY2tDb25zdHJhaW50cz1mdW5jdGlvbihhLGIpe3JldHVybiBudWxsPT1hfHxudWxsPT1ifHxudWxsPT1hLnBvaW50fHxudWxsPT1iLnBvaW50fHwhYS5wb2ludC5lcXVhbHMoYi5wb2ludCl8fGEuZHghPWIuZHh8fGEuZHkhPWIuZHl8fGEucGVyaW1ldGVyIT1iLnBlcmltZXRlcn07Cm14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLm1vdXNlVXA9ZnVuY3Rpb24oYSxiKXtpZighYi5pc0NvbnN1bWVkKCkmJnRoaXMuaXNDb25uZWN0aW5nKCkpe2lmKHRoaXMud2F5cG9pbnRzRW5hYmxlZCYmIXRoaXMuaXNTdG9wRXZlbnQoYikpe3RoaXMuYWRkV2F5cG9pbnRGb3JFdmVudChiKTtiLmNvbnN1bWUoKTtyZXR1cm59dmFyIGM9dGhpcy5zb3VyY2VDb25zdHJhaW50LGQ9dGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50Q29uc3RyYWludCxlPW51bGwhPXRoaXMucHJldmlvdXM/dGhpcy5wcmV2aW91cy5jZWxsOm51bGwsZj1udWxsO251bGwhPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudENvbnN0cmFpbnQmJm51bGwhPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudEZvY3VzJiYoZj10aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRGb2N1cy5jZWxsKTtudWxsPT1mJiZudWxsIT10aGlzLmN1cnJlbnRTdGF0ZSYmKGY9dGhpcy5jdXJyZW50U3RhdGUuY2VsbCk7Cm51bGwhPXRoaXMuZXJyb3J8fG51bGwhPWUmJm51bGwhPWYmJmU9PWYmJiF0aGlzLmNoZWNrQ29uc3RyYWludHMoYyxkKT8obnVsbCE9dGhpcy5wcmV2aW91cyYmbnVsbCE9dGhpcy5tYXJrZXIudmFsaWRTdGF0ZSYmdGhpcy5wcmV2aW91cy5jZWxsPT10aGlzLm1hcmtlci52YWxpZFN0YXRlLmNlbGwmJnRoaXMuZ3JhcGguc2VsZWN0Q2VsbEZvckV2ZW50KHRoaXMubWFya2VyLnNvdXJjZSxiLmdldEV2ZW50KCkpLG51bGwhPXRoaXMuZXJyb3ImJjA8dGhpcy5lcnJvci5sZW5ndGgmJnRoaXMuZ3JhcGgudmFsaWRhdGlvbkFsZXJ0KHRoaXMuZXJyb3IpKTp0aGlzLmNvbm5lY3QoZSxmLGIuZ2V0RXZlbnQoKSxiLmdldENlbGwoKSk7dGhpcy5kZXN0cm95SWNvbnMoKTtiLmNvbnN1bWUoKX1udWxsIT10aGlzLmZpcnN0JiZ0aGlzLnJlc2V0KCl9OwpteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe251bGwhPXRoaXMuc2hhcGUmJih0aGlzLnNoYXBlLmRlc3Ryb3koKSx0aGlzLnNoYXBlPW51bGwpO251bGwhPXRoaXMuY3Vyc29yJiZudWxsIT10aGlzLmdyYXBoLmNvbnRhaW5lciYmKHRoaXMuZ3JhcGguY29udGFpbmVyLnN0eWxlLmN1cnNvcj0iIik7dGhpcy5kZXN0cm95SWNvbnMoKTt0aGlzLm1hcmtlci5yZXNldCgpO3RoaXMuY29uc3RyYWludEhhbmRsZXIucmVzZXQoKTt0aGlzLnNvdXJjZUNvbnN0cmFpbnQ9dGhpcy5lcnJvcj10aGlzLnByZXZpb3VzPXRoaXMuZWRnZVN0YXRlPXRoaXMuY3VycmVudFBvaW50PXRoaXMub3JpZ2luYWxQb2ludD1udWxsO3RoaXMubW91c2VEb3duQ291bnRlcj0wO3RoaXMuZmlyc3Q9bnVsbDt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlJFU0VUKSl9OwpteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5kcmF3UHJldmlldz1mdW5jdGlvbigpe3RoaXMudXBkYXRlUHJldmlldyhudWxsPT10aGlzLmVycm9yKTt0aGlzLnNoYXBlLnJlZHJhdygpfTtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS51cGRhdGVQcmV2aWV3PWZ1bmN0aW9uKGEpe3RoaXMuc2hhcGUuc3Ryb2tld2lkdGg9dGhpcy5nZXRFZGdlV2lkdGgoYSk7dGhpcy5zaGFwZS5zdHJva2U9dGhpcy5nZXRFZGdlQ29sb3IoYSl9O214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmdldEVkZ2VDb2xvcj1mdW5jdGlvbihhKXtyZXR1cm4gYT9teENvbnN0YW50cy5WQUxJRF9DT0xPUjpteENvbnN0YW50cy5JTlZBTElEX0NPTE9SfTtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5nZXRFZGdlV2lkdGg9ZnVuY3Rpb24oYSl7cmV0dXJuIGE/MzoxfTsKbXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuY29ubmVjdD1mdW5jdGlvbihhLGIsYyxkKXtpZihudWxsIT1ifHx0aGlzLmlzQ3JlYXRlVGFyZ2V0KGMpfHx0aGlzLmdyYXBoLmFsbG93RGFuZ2xpbmdFZGdlcyl7dmFyIGU9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLGY9ITEsZz1udWxsO2UuYmVnaW5VcGRhdGUoKTt0cnl7aWYobnVsbCE9YSYmbnVsbD09YiYmIXRoaXMuZ3JhcGguaXNJZ25vcmVUZXJtaW5hbEV2ZW50KGMpJiZ0aGlzLmlzQ3JlYXRlVGFyZ2V0KGMpJiYoYj10aGlzLmNyZWF0ZVRhcmdldFZlcnRleChjLGEpLG51bGwhPWIpKXtkPXRoaXMuZ3JhcGguZ2V0RHJvcFRhcmdldChbYl0sYyxkKTtmPSEwO2lmKG51bGwhPWQmJnRoaXMuZ3JhcGguZ2V0TW9kZWwoKS5pc0VkZ2UoZCkpZD10aGlzLmdyYXBoLmdldERlZmF1bHRQYXJlbnQoKTtlbHNle3ZhciBrPXRoaXMuZ3JhcGguZ2V0VmlldygpLmdldFN0YXRlKGQpO2lmKG51bGwhPWspe3ZhciBsPWUuZ2V0R2VvbWV0cnkoYik7CmwueC09ay5vcmlnaW4ueDtsLnktPWsub3JpZ2luLnl9fXRoaXMuZ3JhcGguYWRkQ2VsbChiLGQpfXZhciBtPXRoaXMuZ3JhcGguZ2V0RGVmYXVsdFBhcmVudCgpO251bGwhPWEmJm51bGwhPWImJmUuZ2V0UGFyZW50KGEpPT1lLmdldFBhcmVudChiKSYmZS5nZXRQYXJlbnQoZS5nZXRQYXJlbnQoYSkpIT1lLmdldFJvb3QoKSYmKG09ZS5nZXRQYXJlbnQoYSksbnVsbCE9YS5nZW9tZXRyeSYmYS5nZW9tZXRyeS5yZWxhdGl2ZSYmbnVsbCE9Yi5nZW9tZXRyeSYmYi5nZW9tZXRyeS5yZWxhdGl2ZSYmKG09ZS5nZXRQYXJlbnQobSkpKTt2YXIgbj1rPW51bGw7bnVsbCE9dGhpcy5lZGdlU3RhdGUmJihrPXRoaXMuZWRnZVN0YXRlLmNlbGwudmFsdWUsbj10aGlzLmVkZ2VTdGF0ZS5jZWxsLnN0eWxlKTtnPXRoaXMuaW5zZXJ0RWRnZShtLG51bGwsayxhLGIsbik7aWYobnVsbCE9Zyl7dGhpcy5ncmFwaC5zZXRDb25uZWN0aW9uQ29uc3RyYWludChnLGEsITAsdGhpcy5zb3VyY2VDb25zdHJhaW50KTsKdGhpcy5ncmFwaC5zZXRDb25uZWN0aW9uQ29uc3RyYWludChnLGIsITEsdGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50Q29uc3RyYWludCk7bnVsbCE9dGhpcy5lZGdlU3RhdGUmJmUuc2V0R2VvbWV0cnkoZyx0aGlzLmVkZ2VTdGF0ZS5jZWxsLmdlb21ldHJ5KTttPWUuZ2V0UGFyZW50KGEpO2lmKHRoaXMuaXNJbnNlcnRCZWZvcmUoZyxhLGIsYyxkKSl7Zm9yKGw9YTtudWxsIT1sLnBhcmVudCYmbnVsbCE9bC5nZW9tZXRyeSYmbC5nZW9tZXRyeS5yZWxhdGl2ZSYmbC5wYXJlbnQhPWcucGFyZW50OylsPXRoaXMuZ3JhcGgubW9kZWwuZ2V0UGFyZW50KGwpO251bGwhPWwmJm51bGwhPWwucGFyZW50JiZsLnBhcmVudD09Zy5wYXJlbnQmJmUuYWRkKG0sZyxsLnBhcmVudC5nZXRJbmRleChsKSl9dmFyIHA9ZS5nZXRHZW9tZXRyeShnKTtudWxsPT1wJiYocD1uZXcgbXhHZW9tZXRyeSxwLnJlbGF0aXZlPSEwLGUuc2V0R2VvbWV0cnkoZyxwKSk7aWYobnVsbCE9dGhpcy53YXlwb2ludHMmJgowPHRoaXMud2F5cG9pbnRzLmxlbmd0aCl7dmFyIHE9dGhpcy5ncmFwaC52aWV3LnNjYWxlLHI9dGhpcy5ncmFwaC52aWV3LnRyYW5zbGF0ZTtwLnBvaW50cz1bXTtmb3IoYT0wO2E8dGhpcy53YXlwb2ludHMubGVuZ3RoO2ErKyl7dmFyIHQ9dGhpcy53YXlwb2ludHNbYV07cC5wb2ludHMucHVzaChuZXcgbXhQb2ludCh0LngvcS1yLngsdC55L3Etci55KSl9fWlmKG51bGw9PWIpe3ZhciB1PXRoaXMuZ3JhcGgudmlldy50cmFuc2xhdGUscT10aGlzLmdyYXBoLnZpZXcuc2NhbGUsdD1udWxsIT10aGlzLm9yaWdpbmFsUG9pbnQ/bmV3IG14UG9pbnQodGhpcy5vcmlnaW5hbFBvaW50LngvcS11LngsdGhpcy5vcmlnaW5hbFBvaW50LnkvcS11LnkpOm5ldyBteFBvaW50KHRoaXMuY3VycmVudFBvaW50LngvcS11LngsdGhpcy5jdXJyZW50UG9pbnQueS9xLXUueSk7dC54LT10aGlzLmdyYXBoLnBhbkR4L3RoaXMuZ3JhcGgudmlldy5zY2FsZTt0LnktPXRoaXMuZ3JhcGgucGFuRHkvdGhpcy5ncmFwaC52aWV3LnNjYWxlOwpwLnNldFRlcm1pbmFsUG9pbnQodCwhMSl9dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5DT05ORUNULCJjZWxsIixnLCJ0ZXJtaW5hbCIsYiwiZXZlbnQiLGMsInRhcmdldCIsZCwidGVybWluYWxJbnNlcnRlZCIsZikpfX1jYXRjaCh4KXtteExvZy5zaG93KCksbXhMb2cuZGVidWcoeC5tZXNzYWdlKX1maW5hbGx5e2UuZW5kVXBkYXRlKCl9dGhpcy5zZWxlY3QmJnRoaXMuc2VsZWN0Q2VsbHMoZyxmP2I6bnVsbCl9fTtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5zZWxlY3RDZWxscz1mdW5jdGlvbihhLGIpe3RoaXMuZ3JhcGguc2V0U2VsZWN0aW9uQ2VsbChhKX07Cm14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmluc2VydEVkZ2U9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe2lmKG51bGw9PXRoaXMuZmFjdG9yeU1ldGhvZClyZXR1cm4gdGhpcy5ncmFwaC5pbnNlcnRFZGdlKGEsYixjLGQsZSxmKTtiPXRoaXMuY3JlYXRlRWRnZShjLGQsZSxmKTtyZXR1cm4gdGhpcy5ncmFwaC5hZGRFZGdlKGIsYSxkLGUpfTsKbXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuY3JlYXRlVGFyZ2V0VmVydGV4PWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGIpO251bGwhPWMmJmMucmVsYXRpdmU7KWI9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmdldFBhcmVudChiKSxjPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGIpO3ZhciBkPXRoaXMuZ3JhcGguY2xvbmVDZWxsKGIpLGM9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmdldEdlb21ldHJ5KGQpO2lmKG51bGwhPWMpe3ZhciBlPXRoaXMuZ3JhcGgudmlldy50cmFuc2xhdGUsZj10aGlzLmdyYXBoLnZpZXcuc2NhbGUsZz1uZXcgbXhQb2ludCh0aGlzLmN1cnJlbnRQb2ludC54L2YtZS54LHRoaXMuY3VycmVudFBvaW50LnkvZi1lLnkpO2MueD1NYXRoLnJvdW5kKGcueC1jLndpZHRoLzItdGhpcy5ncmFwaC5wYW5EeC9mKTtjLnk9TWF0aC5yb3VuZChnLnktYy5oZWlnaHQvMi10aGlzLmdyYXBoLnBhbkR5L2YpO2c9dGhpcy5nZXRBbGlnbm1lbnRUb2xlcmFuY2UoKTsKaWYoMDxnKXt2YXIgaz10aGlzLmdyYXBoLnZpZXcuZ2V0U3RhdGUoYik7aWYobnVsbCE9ayl7dmFyIGw9ay54L2YtZS54LGU9ay55L2YtZS55O01hdGguYWJzKGwtYy54KTw9ZyYmKGMueD1NYXRoLnJvdW5kKGwpKTtNYXRoLmFicyhlLWMueSk8PWcmJihjLnk9TWF0aC5yb3VuZChlKSl9fX1yZXR1cm4gZH07bXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuZ2V0QWxpZ25tZW50VG9sZXJhbmNlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdyYXBoLmlzR3JpZEVuYWJsZWQoKT90aGlzLmdyYXBoLmdyaWRTaXplLzI6dGhpcy5ncmFwaC50b2xlcmFuY2V9OwpteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVFZGdlPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPW51bGw7bnVsbCE9dGhpcy5mYWN0b3J5TWV0aG9kJiYoZT10aGlzLmZhY3RvcnlNZXRob2QoYixjLGQpKTtudWxsPT1lJiYoZT1uZXcgbXhDZWxsKGF8fCIiKSxlLnNldEVkZ2UoITApLGUuc2V0U3R5bGUoZCksYT1uZXcgbXhHZW9tZXRyeSxhLnJlbGF0aXZlPSEwLGUuc2V0R2VvbWV0cnkoYSkpO3JldHVybiBlfTsKbXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZ3JhcGgucmVtb3ZlTW91c2VMaXN0ZW5lcih0aGlzKTtudWxsIT10aGlzLnNoYXBlJiYodGhpcy5zaGFwZS5kZXN0cm95KCksdGhpcy5zaGFwZT1udWxsKTtudWxsIT10aGlzLm1hcmtlciYmKHRoaXMubWFya2VyLmRlc3Ryb3koKSx0aGlzLm1hcmtlcj1udWxsKTtudWxsIT10aGlzLmNvbnN0cmFpbnRIYW5kbGVyJiYodGhpcy5jb25zdHJhaW50SGFuZGxlci5kZXN0cm95KCksdGhpcy5jb25zdHJhaW50SGFuZGxlcj1udWxsKTtudWxsIT10aGlzLmNoYW5nZUhhbmRsZXImJih0aGlzLmdyYXBoLmdldE1vZGVsKCkucmVtb3ZlTGlzdGVuZXIodGhpcy5jaGFuZ2VIYW5kbGVyKSx0aGlzLmdyYXBoLmdldFZpZXcoKS5yZW1vdmVMaXN0ZW5lcih0aGlzLmNoYW5nZUhhbmRsZXIpLHRoaXMuY2hhbmdlSGFuZGxlcj1udWxsKTtudWxsIT10aGlzLmRyaWxsSGFuZGxlciYmKHRoaXMuZ3JhcGgucmVtb3ZlTGlzdGVuZXIodGhpcy5kcmlsbEhhbmRsZXIpLAp0aGlzLmdyYXBoLmdldFZpZXcoKS5yZW1vdmVMaXN0ZW5lcih0aGlzLmRyaWxsSGFuZGxlciksdGhpcy5kcmlsbEhhbmRsZXI9bnVsbCk7bnVsbCE9dGhpcy5lc2NhcGVIYW5kbGVyJiYodGhpcy5ncmFwaC5yZW1vdmVMaXN0ZW5lcih0aGlzLmVzY2FwZUhhbmRsZXIpLHRoaXMuZXNjYXBlSGFuZGxlcj1udWxsKX07CmZ1bmN0aW9uIG14Q29uc3RyYWludEhhbmRsZXIoYSl7dGhpcy5ncmFwaD1hO3RoaXMucmVzZXRIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYyl7bnVsbCE9dGhpcy5jdXJyZW50Rm9jdXMmJm51bGw9PXRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZSh0aGlzLmN1cnJlbnRGb2N1cy5jZWxsKT90aGlzLnJlc2V0KCk6dGhpcy5yZWRyYXcoKX0pO3RoaXMuZ3JhcGgubW9kZWwuYWRkTGlzdGVuZXIobXhFdmVudC5DSEFOR0UsdGhpcy5yZXNldEhhbmRsZXIpO3RoaXMuZ3JhcGgudmlldy5hZGRMaXN0ZW5lcihteEV2ZW50LlNDQUxFX0FORF9UUkFOU0xBVEUsdGhpcy5yZXNldEhhbmRsZXIpO3RoaXMuZ3JhcGgudmlldy5hZGRMaXN0ZW5lcihteEV2ZW50LlRSQU5TTEFURSx0aGlzLnJlc2V0SGFuZGxlcik7dGhpcy5ncmFwaC52aWV3LmFkZExpc3RlbmVyKG14RXZlbnQuU0NBTEUsdGhpcy5yZXNldEhhbmRsZXIpO3RoaXMuZ3JhcGguYWRkTGlzdGVuZXIobXhFdmVudC5ST09ULAp0aGlzLnJlc2V0SGFuZGxlcil9bXhDb25zdHJhaW50SGFuZGxlci5wcm90b3R5cGUucG9pbnRJbWFnZT1uZXcgbXhJbWFnZShteENsaWVudC5pbWFnZUJhc2VQYXRoKyIvcG9pbnQuZ2lmIiw1LDUpO214Q29uc3RyYWludEhhbmRsZXIucHJvdG90eXBlLmdyYXBoPW51bGw7bXhDb25zdHJhaW50SGFuZGxlci5wcm90b3R5cGUuZW5hYmxlZD0hMDtteENvbnN0cmFpbnRIYW5kbGVyLnByb3RvdHlwZS5oaWdobGlnaHRDb2xvcj1teENvbnN0YW50cy5ERUZBVUxUX1ZBTElEX0NPTE9SO214Q29uc3RyYWludEhhbmRsZXIucHJvdG90eXBlLmlzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuYWJsZWR9O214Q29uc3RyYWludEhhbmRsZXIucHJvdG90eXBlLnNldEVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5lbmFibGVkPWF9OwpteENvbnN0cmFpbnRIYW5kbGVyLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuZm9jdXNJY29ucyl7Zm9yKHZhciBhPTA7YTx0aGlzLmZvY3VzSWNvbnMubGVuZ3RoO2ErKyl0aGlzLmZvY3VzSWNvbnNbYV0uZGVzdHJveSgpO3RoaXMuZm9jdXNJY29ucz1udWxsfW51bGwhPXRoaXMuZm9jdXNIaWdobGlnaHQmJih0aGlzLmZvY3VzSGlnaGxpZ2h0LmRlc3Ryb3koKSx0aGlzLmZvY3VzSGlnaGxpZ2h0PW51bGwpO3RoaXMuZm9jdXNQb2ludHM9dGhpcy5jdXJyZW50Rm9jdXM9dGhpcy5jdXJyZW50UG9pbnQ9dGhpcy5jdXJyZW50Rm9jdXNBcmVhPXRoaXMuY3VycmVudENvbnN0cmFpbnQ9bnVsbH07bXhDb25zdHJhaW50SGFuZGxlci5wcm90b3R5cGUuZ2V0VG9sZXJhbmNlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdyYXBoLmdldFRvbGVyYW5jZSgpfTsKbXhDb25zdHJhaW50SGFuZGxlci5wcm90b3R5cGUuZ2V0SW1hZ2VGb3JDb25zdHJhaW50PWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5wb2ludEltYWdlfTtteENvbnN0cmFpbnRIYW5kbGVyLnByb3RvdHlwZS5pc0V2ZW50SWdub3JlZD1mdW5jdGlvbihhLGIpe3JldHVybiExfTtteENvbnN0cmFpbnRIYW5kbGVyLnByb3RvdHlwZS5pc1N0YXRlSWdub3JlZD1mdW5jdGlvbihhLGIpe3JldHVybiExfTtteENvbnN0cmFpbnRIYW5kbGVyLnByb3RvdHlwZS5kZXN0cm95SWNvbnM9ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLmZvY3VzSWNvbnMpe2Zvcih2YXIgYT0wO2E8dGhpcy5mb2N1c0ljb25zLmxlbmd0aDthKyspdGhpcy5mb2N1c0ljb25zW2FdLmRlc3Ryb3koKTt0aGlzLmZvY3VzUG9pbnRzPXRoaXMuZm9jdXNJY29ucz1udWxsfX07Cm14Q29uc3RyYWludEhhbmRsZXIucHJvdG90eXBlLmRlc3Ryb3lGb2N1c0hpZ2hsaWdodD1mdW5jdGlvbigpe251bGwhPXRoaXMuZm9jdXNIaWdobGlnaHQmJih0aGlzLmZvY3VzSGlnaGxpZ2h0LmRlc3Ryb3koKSx0aGlzLmZvY3VzSGlnaGxpZ2h0PW51bGwpfTtteENvbnN0cmFpbnRIYW5kbGVyLnByb3RvdHlwZS5pc0tlZXBGb2N1c0V2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiBteEV2ZW50LmlzU2hpZnREb3duKGEuZ2V0RXZlbnQoKSl9OwpteENvbnN0cmFpbnRIYW5kbGVyLnByb3RvdHlwZS5nZXRDZWxsRm9yRXZlbnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmdldENlbGwoKTtudWxsIT1jfHxudWxsPT1ifHxhLmdldEdyYXBoWCgpPT1iLngmJmEuZ2V0R3JhcGhZKCk9PWIueXx8KGM9dGhpcy5ncmFwaC5nZXRDZWxsQXQoYi54LGIueSkpO2lmKG51bGwhPWMmJiF0aGlzLmdyYXBoLmlzQ2VsbENvbm5lY3RhYmxlKGMpKXt2YXIgZD10aGlzLmdyYXBoLmdldE1vZGVsKCkuZ2V0UGFyZW50KGMpO3RoaXMuZ3JhcGguZ2V0TW9kZWwoKS5pc1ZlcnRleChkKSYmdGhpcy5ncmFwaC5pc0NlbGxDb25uZWN0YWJsZShkKSYmKGM9ZCl9cmV0dXJuIHRoaXMuZ3JhcGguaXNDZWxsTG9ja2VkKGMpP251bGw6Y307Cm14Q29uc3RyYWludEhhbmRsZXIucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihhLGIsYyxkKXtpZih0aGlzLmlzRW5hYmxlZCgpJiYhdGhpcy5pc0V2ZW50SWdub3JlZChhKSl7bnVsbD09dGhpcy5tb3VzZWxlYXZlSGFuZGxlciYmbnVsbCE9dGhpcy5ncmFwaC5jb250YWluZXImJih0aGlzLm1vdXNlbGVhdmVIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5yZXNldCgpfSksbXhFdmVudC5hZGRMaXN0ZW5lcih0aGlzLmdyYXBoLmNvbnRhaW5lciwibW91c2VsZWF2ZSIsdGhpcy5yZXNldEhhbmRsZXIpKTt2YXIgZT10aGlzLmdldFRvbGVyYW5jZShhKSxmPW51bGwhPWQ/ZC54OmEuZ2V0R3JhcGhYKCksZz1udWxsIT1kP2QueTphLmdldEdyYXBoWSgpLGY9bmV3IG14UmVjdGFuZ2xlKGYtZSxnLWUsMiplLDIqZSksZT1uZXcgbXhSZWN0YW5nbGUoYS5nZXRHcmFwaFgoKS1lLGEuZ2V0R3JhcGhZKCktZSwyKmUsMiplKSxrPXRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZSh0aGlzLmdldENlbGxGb3JFdmVudChhLApkKSk7dGhpcy5pc0tlZXBGb2N1c0V2ZW50KGEpfHxudWxsIT10aGlzLmN1cnJlbnRGb2N1c0FyZWEmJm51bGwhPXRoaXMuY3VycmVudEZvY3VzJiZudWxsPT1rJiZ0aGlzLmdyYXBoLmdldE1vZGVsKCkuaXNWZXJ0ZXgodGhpcy5jdXJyZW50Rm9jdXMuY2VsbCkmJm14VXRpbHMuaW50ZXJzZWN0cyh0aGlzLmN1cnJlbnRGb2N1c0FyZWEsZSl8fGs9PXRoaXMuY3VycmVudEZvY3VzfHwodGhpcy5jdXJyZW50Rm9jdXM9dGhpcy5jdXJyZW50Rm9jdXNBcmVhPW51bGwsdGhpcy5zZXRGb2N1cyhhLGssYikpO2E9dGhpcy5jdXJyZW50UG9pbnQ9dGhpcy5jdXJyZW50Q29uc3RyYWludD1udWxsO2lmKG51bGwhPXRoaXMuZm9jdXNJY29ucyYmbnVsbCE9dGhpcy5jb25zdHJhaW50cyYmKG51bGw9PWt8fHRoaXMuY3VycmVudEZvY3VzPT1rKSlmb3IodmFyIGc9ZS5nZXRDZW50ZXJYKCksbD1lLmdldENlbnRlclkoKSxtPTA7bTx0aGlzLmZvY3VzSWNvbnMubGVuZ3RoO20rKyl7dmFyIG49Zy10aGlzLmZvY3VzSWNvbnNbbV0uYm91bmRzLmdldENlbnRlclgoKSwKcD1sLXRoaXMuZm9jdXNJY29uc1ttXS5ib3VuZHMuZ2V0Q2VudGVyWSgpLG49bipuK3AqcDtpZigodGhpcy5pbnRlcnNlY3RzKHRoaXMuZm9jdXNJY29uc1ttXSxlLGIsYyl8fG51bGwhPWQmJnRoaXMuaW50ZXJzZWN0cyh0aGlzLmZvY3VzSWNvbnNbbV0sZixiLGMpKSYmKG51bGw9PWF8fG48YSkpe3RoaXMuY3VycmVudENvbnN0cmFpbnQ9dGhpcy5jb25zdHJhaW50c1ttXTt0aGlzLmN1cnJlbnRQb2ludD10aGlzLmZvY3VzUG9pbnRzW21dO2E9bjtuPXRoaXMuZm9jdXNJY29uc1ttXS5ib3VuZHMuY2xvbmUoKTtuLmdyb3cobXhDb25zdGFudHMuSElHSExJR0hUX1NJWkUrMSk7LS1uLndpZHRoOy0tbi5oZWlnaHQ7aWYobnVsbD09dGhpcy5mb2N1c0hpZ2hsaWdodCl7cD10aGlzLmNyZWF0ZUhpZ2hsaWdodFNoYXBlKCk7cC5kaWFsZWN0PXRoaXMuZ3JhcGguZGlhbGVjdD09bXhDb25zdGFudHMuRElBTEVDVF9TVkc/bXhDb25zdGFudHMuRElBTEVDVF9TVkc6bXhDb25zdGFudHMuRElBTEVDVF9WTUw7CnAucG9pbnRlckV2ZW50cz0hMTtwLmluaXQodGhpcy5ncmFwaC5nZXRWaWV3KCkuZ2V0T3ZlcmxheVBhbmUoKSk7dGhpcy5mb2N1c0hpZ2hsaWdodD1wO3ZhciBxPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMuY3VycmVudEZvY3VzP3RoaXMuY3VycmVudEZvY3VzOmt9KTtteEV2ZW50LnJlZGlyZWN0TW91c2VFdmVudHMocC5ub2RlLHRoaXMuZ3JhcGgscSl9dGhpcy5mb2N1c0hpZ2hsaWdodC5ib3VuZHM9bjt0aGlzLmZvY3VzSGlnaGxpZ2h0LnJlZHJhdygpfX1udWxsPT10aGlzLmN1cnJlbnRDb25zdHJhaW50JiZ0aGlzLmRlc3Ryb3lGb2N1c0hpZ2hsaWdodCgpfWVsc2UgdGhpcy5jdXJyZW50UG9pbnQ9dGhpcy5jdXJyZW50Rm9jdXM9dGhpcy5jdXJyZW50Q29uc3RyYWludD1udWxsfTsKbXhDb25zdHJhaW50SGFuZGxlci5wcm90b3R5cGUucmVkcmF3PWZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy5jdXJyZW50Rm9jdXMmJm51bGwhPXRoaXMuY29uc3RyYWludHMmJm51bGwhPXRoaXMuZm9jdXNJY29ucyl7dmFyIGE9dGhpcy5ncmFwaC52aWV3LmdldFN0YXRlKHRoaXMuY3VycmVudEZvY3VzLmNlbGwpO3RoaXMuY3VycmVudEZvY3VzPWE7dGhpcy5jdXJyZW50Rm9jdXNBcmVhPW5ldyBteFJlY3RhbmdsZShhLngsYS55LGEud2lkdGgsYS5oZWlnaHQpO2Zvcih2YXIgYj0wO2I8dGhpcy5jb25zdHJhaW50cy5sZW5ndGg7YisrKXt2YXIgYz10aGlzLmdyYXBoLmdldENvbm5lY3Rpb25Qb2ludChhLHRoaXMuY29uc3RyYWludHNbYl0pLGQ9dGhpcy5nZXRJbWFnZUZvckNvbnN0cmFpbnQoYSx0aGlzLmNvbnN0cmFpbnRzW2JdLGMpLGQ9bmV3IG14UmVjdGFuZ2xlKE1hdGgucm91bmQoYy54LWQud2lkdGgvMiksTWF0aC5yb3VuZChjLnktZC5oZWlnaHQvMiksZC53aWR0aCxkLmhlaWdodCk7CnRoaXMuZm9jdXNJY29uc1tiXS5ib3VuZHM9ZDt0aGlzLmZvY3VzSWNvbnNbYl0ucmVkcmF3KCk7dGhpcy5jdXJyZW50Rm9jdXNBcmVhLmFkZCh0aGlzLmZvY3VzSWNvbnNbYl0uYm91bmRzKTt0aGlzLmZvY3VzUG9pbnRzW2JdPWN9fX07Cm14Q29uc3RyYWludEhhbmRsZXIucHJvdG90eXBlLnNldEZvY3VzPWZ1bmN0aW9uKGEsYixjKXt0aGlzLmNvbnN0cmFpbnRzPW51bGwhPWImJiF0aGlzLmlzU3RhdGVJZ25vcmVkKGIsYykmJnRoaXMuZ3JhcGguaXNDZWxsQ29ubmVjdGFibGUoYi5jZWxsKT90aGlzLmlzRW5hYmxlZCgpP3RoaXMuZ3JhcGguZ2V0QWxsQ29ubmVjdGlvbkNvbnN0cmFpbnRzKGIsYyl8fFtdOltdOm51bGw7aWYobnVsbCE9dGhpcy5jb25zdHJhaW50cyl7dGhpcy5jdXJyZW50Rm9jdXM9Yjt0aGlzLmN1cnJlbnRGb2N1c0FyZWE9bmV3IG14UmVjdGFuZ2xlKGIueCxiLnksYi53aWR0aCxiLmhlaWdodCk7aWYobnVsbCE9dGhpcy5mb2N1c0ljb25zKXtmb3IoYz0wO2M8dGhpcy5mb2N1c0ljb25zLmxlbmd0aDtjKyspdGhpcy5mb2N1c0ljb25zW2NdLmRlc3Ryb3koKTt0aGlzLmZvY3VzUG9pbnRzPXRoaXMuZm9jdXNJY29ucz1udWxsfXRoaXMuZm9jdXNQb2ludHM9W107dGhpcy5mb2N1c0ljb25zPVtdO2ZvcihjPQowO2M8dGhpcy5jb25zdHJhaW50cy5sZW5ndGg7YysrKXt2YXIgZD10aGlzLmdyYXBoLmdldENvbm5lY3Rpb25Qb2ludChiLHRoaXMuY29uc3RyYWludHNbY10pLGU9dGhpcy5nZXRJbWFnZUZvckNvbnN0cmFpbnQoYix0aGlzLmNvbnN0cmFpbnRzW2NdLGQpLGY9ZS5zcmMsZT1uZXcgbXhSZWN0YW5nbGUoTWF0aC5yb3VuZChkLngtZS53aWR0aC8yKSxNYXRoLnJvdW5kKGQueS1lLmhlaWdodC8yKSxlLndpZHRoLGUuaGVpZ2h0KSxmPW5ldyBteEltYWdlU2hhcGUoZSxmKTtmLmRpYWxlY3Q9dGhpcy5ncmFwaC5kaWFsZWN0IT1teENvbnN0YW50cy5ESUFMRUNUX1NWRz9teENvbnN0YW50cy5ESUFMRUNUX01JWEVESFRNTDpteENvbnN0YW50cy5ESUFMRUNUX1NWRztmLnByZXNlcnZlSW1hZ2VBc3BlY3Q9ITE7Zi5pbml0KHRoaXMuZ3JhcGguZ2V0VmlldygpLmdldERlY29yYXRvclBhbmUoKSk7KG14Q2xpZW50LklTX1FVSVJLU3x8OD09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSYmbXhFdmVudC5hZGRMaXN0ZW5lcihmLm5vZGUsCiJkcmFnc3RhcnQiLGZ1bmN0aW9uKGEpe214RXZlbnQuY29uc3VtZShhKTtyZXR1cm4hMX0pO251bGwhPWYubm9kZS5wcmV2aW91c1NpYmxpbmcmJmYubm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShmLm5vZGUsZi5ub2RlLnBhcmVudE5vZGUuZmlyc3RDaGlsZCk7ZT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3JldHVybiBudWxsIT10aGlzLmN1cnJlbnRGb2N1cz90aGlzLmN1cnJlbnRGb2N1czpifSk7Zi5yZWRyYXcoKTtteEV2ZW50LnJlZGlyZWN0TW91c2VFdmVudHMoZi5ub2RlLHRoaXMuZ3JhcGgsZSk7dGhpcy5jdXJyZW50Rm9jdXNBcmVhLmFkZChmLmJvdW5kcyk7dGhpcy5mb2N1c0ljb25zLnB1c2goZik7dGhpcy5mb2N1c1BvaW50cy5wdXNoKGQpfXRoaXMuY3VycmVudEZvY3VzQXJlYS5ncm93KHRoaXMuZ2V0VG9sZXJhbmNlKGEpKX1lbHNlIHRoaXMuZGVzdHJveUljb25zKCksdGhpcy5kZXN0cm95Rm9jdXNIaWdobGlnaHQoKX07Cm14Q29uc3RyYWludEhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZUhpZ2hsaWdodFNoYXBlPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IG14UmVjdGFuZ2xlU2hhcGUobnVsbCx0aGlzLmhpZ2hsaWdodENvbG9yLHRoaXMuaGlnaGxpZ2h0Q29sb3IsbXhDb25zdGFudHMuSElHSExJR0hUX1NUUk9LRVdJRFRIKTthLm9wYWNpdHk9bXhDb25zdGFudHMuSElHSExJR0hUX09QQUNJVFk7cmV0dXJuIGF9O214Q29uc3RyYWludEhhbmRsZXIucHJvdG90eXBlLmludGVyc2VjdHM9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIG14VXRpbHMuaW50ZXJzZWN0cyhhLmJvdW5kcyxiKX07Cm14Q29uc3RyYWludEhhbmRsZXIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnJlc2V0KCk7bnVsbCE9dGhpcy5yZXNldEhhbmRsZXImJih0aGlzLmdyYXBoLm1vZGVsLnJlbW92ZUxpc3RlbmVyKHRoaXMucmVzZXRIYW5kbGVyKSx0aGlzLmdyYXBoLnZpZXcucmVtb3ZlTGlzdGVuZXIodGhpcy5yZXNldEhhbmRsZXIpLHRoaXMuZ3JhcGgucmVtb3ZlTGlzdGVuZXIodGhpcy5yZXNldEhhbmRsZXIpLHRoaXMucmVzZXRIYW5kbGVyPW51bGwpO251bGwhPXRoaXMubW91c2VsZWF2ZUhhbmRsZXImJm51bGwhPXRoaXMuZ3JhcGguY29udGFpbmVyJiYobXhFdmVudC5yZW1vdmVMaXN0ZW5lcih0aGlzLmdyYXBoLmNvbnRhaW5lciwibW91c2VsZWF2ZSIsdGhpcy5tb3VzZWxlYXZlSGFuZGxlciksdGhpcy5tb3VzZWxlYXZlSGFuZGxlcj1udWxsKX07CmZ1bmN0aW9uIG14UnViYmVyYmFuZChhKXtudWxsIT1hJiYodGhpcy5ncmFwaD1hLHRoaXMuZ3JhcGguYWRkTW91c2VMaXN0ZW5lcih0aGlzKSx0aGlzLmZvcmNlUnViYmVyYmFuZEhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxjKXt2YXIgYj1jLmdldFByb3BlcnR5KCJldmVudE5hbWUiKSxlPWMuZ2V0UHJvcGVydHkoImV2ZW50Iik7aWYoYj09bXhFdmVudC5NT1VTRV9ET1dOJiZ0aGlzLmlzRm9yY2VSdWJiZXJiYW5kRXZlbnQoZSkpe3ZhciBiPW14VXRpbHMuZ2V0T2Zmc2V0KHRoaXMuZ3JhcGguY29udGFpbmVyKSxmPW14VXRpbHMuZ2V0U2Nyb2xsT3JpZ2luKHRoaXMuZ3JhcGguY29udGFpbmVyKTtmLngtPWIueDtmLnktPWIueTt0aGlzLnN0YXJ0KGUuZ2V0WCgpK2YueCxlLmdldFkoKStmLnkpO2UuY29uc3VtZSghMSl9fSksdGhpcy5ncmFwaC5hZGRMaXN0ZW5lcihteEV2ZW50LkZJUkVfTU9VU0VfRVZFTlQsdGhpcy5mb3JjZVJ1YmJlcmJhbmRIYW5kbGVyKSwKdGhpcy5wYW5IYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5yZXBhaW50KCl9KSx0aGlzLmdyYXBoLmFkZExpc3RlbmVyKG14RXZlbnQuUEFOLHRoaXMucGFuSGFuZGxlciksdGhpcy5nZXN0dXJlSGFuZGxlcj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGMpe251bGwhPXRoaXMuZmlyc3QmJnRoaXMucmVzZXQoKX0pLHRoaXMuZ3JhcGguYWRkTGlzdGVuZXIobXhFdmVudC5HRVNUVVJFLHRoaXMuZ2VzdHVyZUhhbmRsZXIpLG14Q2xpZW50LklTX0lFJiZteEV2ZW50LmFkZExpc3RlbmVyKHdpbmRvdywidW5sb2FkIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuZGVzdHJveSgpfSkpKX1teFJ1YmJlcmJhbmQucHJvdG90eXBlLmRlZmF1bHRPcGFjaXR5PTIwO214UnViYmVyYmFuZC5wcm90b3R5cGUuZW5hYmxlZD0hMDtteFJ1YmJlcmJhbmQucHJvdG90eXBlLmRpdj1udWxsO214UnViYmVyYmFuZC5wcm90b3R5cGUuc2hhcmVkRGl2PW51bGw7Cm14UnViYmVyYmFuZC5wcm90b3R5cGUuY3VycmVudFg9MDtteFJ1YmJlcmJhbmQucHJvdG90eXBlLmN1cnJlbnRZPTA7bXhSdWJiZXJiYW5kLnByb3RvdHlwZS5mYWRlT3V0PSExO214UnViYmVyYmFuZC5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5hYmxlZH07bXhSdWJiZXJiYW5kLnByb3RvdHlwZS5zZXRFbmFibGVkPWZ1bmN0aW9uKGEpe3RoaXMuZW5hYmxlZD1hfTtteFJ1YmJlcmJhbmQucHJvdG90eXBlLmlzRm9yY2VSdWJiZXJiYW5kRXZlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG14RXZlbnQuaXNBbHREb3duKGEuZ2V0RXZlbnQoKSl9OwpteFJ1YmJlcmJhbmQucHJvdG90eXBlLm1vdXNlRG93bj1mdW5jdGlvbihhLGIpe2lmKCFiLmlzQ29uc3VtZWQoKSYmdGhpcy5pc0VuYWJsZWQoKSYmdGhpcy5ncmFwaC5pc0VuYWJsZWQoKSYmbnVsbD09Yi5nZXRTdGF0ZSgpJiYhbXhFdmVudC5pc011bHRpVG91Y2hFdmVudChiLmdldEV2ZW50KCkpKXt2YXIgYz1teFV0aWxzLmdldE9mZnNldCh0aGlzLmdyYXBoLmNvbnRhaW5lciksZD1teFV0aWxzLmdldFNjcm9sbE9yaWdpbih0aGlzLmdyYXBoLmNvbnRhaW5lcik7ZC54LT1jLng7ZC55LT1jLnk7dGhpcy5zdGFydChiLmdldFgoKStkLngsYi5nZXRZKCkrZC55KTtiLmNvbnN1bWUoITEpfX07Cm14UnViYmVyYmFuZC5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEpe2E9bmV3IG14TW91c2VFdmVudChhKTt2YXIgYj1teFV0aWxzLmNvbnZlcnRQb2ludChkLGEuZ2V0WCgpLGEuZ2V0WSgpKTthLmdyYXBoWD1iLng7YS5ncmFwaFk9Yi55O3JldHVybiBhfXRoaXMuZmlyc3Q9bmV3IG14UG9pbnQoYSxiKTt2YXIgZD10aGlzLmdyYXBoLmNvbnRhaW5lcjt0aGlzLmRyYWdIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMubW91c2VNb3ZlKHRoaXMuZ3JhcGgsYyhhKSl9KTt0aGlzLmRyb3BIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMubW91c2VVcCh0aGlzLmdyYXBoLGMoYSkpfSk7bXhDbGllbnQuSVNfRkYmJm14RXZlbnQuYWRkR2VzdHVyZUxpc3RlbmVycyhkb2N1bWVudCxudWxsLHRoaXMuZHJhZ0hhbmRsZXIsdGhpcy5kcm9wSGFuZGxlcil9OwpteFJ1YmJlcmJhbmQucHJvdG90eXBlLm1vdXNlTW92ZT1mdW5jdGlvbihhLGIpe2lmKCFiLmlzQ29uc3VtZWQoKSYmbnVsbCE9dGhpcy5maXJzdCl7dmFyIGM9bXhVdGlscy5nZXRTY3JvbGxPcmlnaW4odGhpcy5ncmFwaC5jb250YWluZXIpLGQ9bXhVdGlscy5nZXRPZmZzZXQodGhpcy5ncmFwaC5jb250YWluZXIpO2MueC09ZC54O2MueS09ZC55O3ZhciBkPWIuZ2V0WCgpK2MueCxjPWIuZ2V0WSgpK2MueSxlPXRoaXMuZmlyc3QueC1kLGY9dGhpcy5maXJzdC55LWMsZz10aGlzLmdyYXBoLnRvbGVyYW5jZTtpZihudWxsIT10aGlzLmRpdnx8TWF0aC5hYnMoZSk+Z3x8TWF0aC5hYnMoZik+ZyludWxsPT10aGlzLmRpdiYmKHRoaXMuZGl2PXRoaXMuY3JlYXRlU2hhcGUoKSksbXhVdGlscy5jbGVhclNlbGVjdGlvbigpLHRoaXMudXBkYXRlKGQsYyksYi5jb25zdW1lKCl9fTsKbXhSdWJiZXJiYW5kLnByb3RvdHlwZS5jcmVhdGVTaGFwZT1mdW5jdGlvbigpe251bGw9PXRoaXMuc2hhcmVkRGl2JiYodGhpcy5zaGFyZWREaXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy5zaGFyZWREaXYuY2xhc3NOYW1lPSJteFJ1YmJlcmJhbmQiLG14VXRpbHMuc2V0T3BhY2l0eSh0aGlzLnNoYXJlZERpdix0aGlzLmRlZmF1bHRPcGFjaXR5KSk7dGhpcy5ncmFwaC5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5zaGFyZWREaXYpO3ZhciBhPXRoaXMuc2hhcmVkRGl2O214Q2xpZW50LklTX1NWRyYmKCFteENsaWVudC5JU19JRXx8MTA8PWRvY3VtZW50LmRvY3VtZW50TW9kZSkmJnRoaXMuZmFkZU91dCYmKHRoaXMuc2hhcmVkRGl2PW51bGwpO3JldHVybiBhfTtteFJ1YmJlcmJhbmQucHJvdG90eXBlLmlzQWN0aXZlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGwhPXRoaXMuZGl2JiYibm9uZSIhPXRoaXMuZGl2LnN0eWxlLmRpc3BsYXl9OwpteFJ1YmJlcmJhbmQucHJvdG90eXBlLm1vdXNlVXA9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmlzQWN0aXZlKCk7dGhpcy5yZXNldCgpO2MmJih0aGlzLmV4ZWN1dGUoYi5nZXRFdmVudCgpKSxiLmNvbnN1bWUoKSl9O214UnViYmVyYmFuZC5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbihhKXt2YXIgYj1uZXcgbXhSZWN0YW5nbGUodGhpcy54LHRoaXMueSx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KTt0aGlzLmdyYXBoLnNlbGVjdFJlZ2lvbihiLGEpfTsKbXhSdWJiZXJiYW5kLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuZGl2KWlmKG14Q2xpZW50LklTX1NWRyYmKCFteENsaWVudC5JU19JRXx8MTA8PWRvY3VtZW50LmRvY3VtZW50TW9kZSkmJnRoaXMuZmFkZU91dCl7dmFyIGE9dGhpcy5kaXY7bXhVdGlscy5zZXRQcmVmaXhlZFN0eWxlKGEuc3R5bGUsInRyYW5zaXRpb24iLCJhbGwgMC4ycyBsaW5lYXIiKTthLnN0eWxlLnBvaW50ZXJFdmVudHM9Im5vbmUiO2Euc3R5bGUub3BhY2l0eT0wO3dpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpfSwyMDApfWVsc2UgdGhpcy5kaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRpdik7bXhFdmVudC5yZW1vdmVHZXN0dXJlTGlzdGVuZXJzKGRvY3VtZW50LG51bGwsdGhpcy5kcmFnSGFuZGxlcix0aGlzLmRyb3BIYW5kbGVyKTt0aGlzLmRyb3BIYW5kbGVyPXRoaXMuZHJhZ0hhbmRsZXI9bnVsbDt0aGlzLmN1cnJlbnRZPQp0aGlzLmN1cnJlbnRYPTA7dGhpcy5kaXY9dGhpcy5maXJzdD1udWxsfTtteFJ1YmJlcmJhbmQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihhLGIpe3RoaXMuY3VycmVudFg9YTt0aGlzLmN1cnJlbnRZPWI7dGhpcy5yZXBhaW50KCl9OwpteFJ1YmJlcmJhbmQucHJvdG90eXBlLnJlcGFpbnQ9ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLmRpdil7dmFyIGE9dGhpcy5jdXJyZW50WC10aGlzLmdyYXBoLnBhbkR4LGI9dGhpcy5jdXJyZW50WS10aGlzLmdyYXBoLnBhbkR5O3RoaXMueD1NYXRoLm1pbih0aGlzLmZpcnN0LngsYSk7dGhpcy55PU1hdGgubWluKHRoaXMuZmlyc3QueSxiKTt0aGlzLndpZHRoPU1hdGgubWF4KHRoaXMuZmlyc3QueCxhKS10aGlzLng7dGhpcy5oZWlnaHQ9TWF0aC5tYXgodGhpcy5maXJzdC55LGIpLXRoaXMueTthPW14Q2xpZW50LklTX1ZNTD90aGlzLmdyYXBoLnBhbkR5OjA7dGhpcy5kaXYuc3R5bGUubGVmdD10aGlzLngrKG14Q2xpZW50LklTX1ZNTD90aGlzLmdyYXBoLnBhbkR4OjApKyJweCI7dGhpcy5kaXYuc3R5bGUudG9wPXRoaXMueSthKyJweCI7dGhpcy5kaXYuc3R5bGUud2lkdGg9TWF0aC5tYXgoMSx0aGlzLndpZHRoKSsicHgiO3RoaXMuZGl2LnN0eWxlLmhlaWdodD1NYXRoLm1heCgxLAp0aGlzLmhlaWdodCkrInB4In19O214UnViYmVyYmFuZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZGVzdHJveWVkfHwodGhpcy5kZXN0cm95ZWQ9ITAsdGhpcy5ncmFwaC5yZW1vdmVNb3VzZUxpc3RlbmVyKHRoaXMpLHRoaXMuZ3JhcGgucmVtb3ZlTGlzdGVuZXIodGhpcy5mb3JjZVJ1YmJlcmJhbmRIYW5kbGVyKSx0aGlzLmdyYXBoLnJlbW92ZUxpc3RlbmVyKHRoaXMucGFuSGFuZGxlciksdGhpcy5yZXNldCgpLG51bGwhPXRoaXMuc2hhcmVkRGl2JiYodGhpcy5zaGFyZWREaXY9bnVsbCkpfTtmdW5jdGlvbiBteEhhbmRsZShhLGIsYyxkKXt0aGlzLmdyYXBoPWEudmlldy5ncmFwaDt0aGlzLnN0YXRlPWE7dGhpcy5jdXJzb3I9bnVsbCE9Yj9iOnRoaXMuY3Vyc29yO3RoaXMuaW1hZ2U9bnVsbCE9Yz9jOnRoaXMuaW1hZ2U7dGhpcy5zaGFwZT1udWxsIT1kP2Q6bnVsbDt0aGlzLmluaXQoKX1teEhhbmRsZS5wcm90b3R5cGUuY3Vyc29yPSJkZWZhdWx0IjsKbXhIYW5kbGUucHJvdG90eXBlLmltYWdlPW51bGw7bXhIYW5kbGUucHJvdG90eXBlLmlnbm9yZUdyaWQ9ITE7bXhIYW5kbGUucHJvdG90eXBlLmdldFBvc2l0aW9uPWZ1bmN0aW9uKGEpe307bXhIYW5kbGUucHJvdG90eXBlLnNldFBvc2l0aW9uPWZ1bmN0aW9uKGEsYixjKXt9O214SGFuZGxlLnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKGEpe307bXhIYW5kbGUucHJvdG90eXBlLmNvcHlTdHlsZT1mdW5jdGlvbihhKXt0aGlzLmdyYXBoLnNldENlbGxTdHlsZXMoYSx0aGlzLnN0YXRlLnN0eWxlW2FdLFt0aGlzLnN0YXRlLmNlbGxdKX07Cm14SGFuZGxlLnByb3RvdHlwZS5wcm9jZXNzRXZlbnQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5ncmFwaC52aWV3LnNjYWxlLGM9dGhpcy5ncmFwaC52aWV3LnRyYW5zbGF0ZSxjPW5ldyBteFBvaW50KGEuZ2V0R3JhcGhYKCkvYi1jLngsYS5nZXRHcmFwaFkoKS9iLWMueSk7bnVsbCE9dGhpcy5zaGFwZSYmbnVsbCE9dGhpcy5zaGFwZS5ib3VuZHMmJihjLngtPXRoaXMuc2hhcGUuYm91bmRzLndpZHRoL2IvNCxjLnktPXRoaXMuc2hhcGUuYm91bmRzLmhlaWdodC9iLzQpO3ZhciBiPS1teFV0aWxzLnRvUmFkaWFucyh0aGlzLmdldFJvdGF0aW9uKCkpLGQ9LW14VXRpbHMudG9SYWRpYW5zKHRoaXMuZ2V0VG90YWxSb3RhdGlvbigpKS1iLGM9dGhpcy5mbGlwUG9pbnQodGhpcy5yb3RhdGVQb2ludCh0aGlzLnNuYXBQb2ludCh0aGlzLnJvdGF0ZVBvaW50KGMsYiksdGhpcy5pZ25vcmVHcmlkfHwhdGhpcy5ncmFwaC5pc0dyaWRFbmFibGVkRXZlbnQoYS5nZXRFdmVudCgpKSksZCkpO3RoaXMuc2V0UG9zaXRpb24odGhpcy5zdGF0ZS5nZXRQYWludEJvdW5kcygpLApjLGEpO3RoaXMucmVkcmF3KCl9O214SGFuZGxlLnByb3RvdHlwZS5wb3NpdGlvbkNoYW5nZWQ9ZnVuY3Rpb24oKXtudWxsIT10aGlzLnN0YXRlLnRleHQmJnRoaXMuc3RhdGUudGV4dC5hcHBseSh0aGlzLnN0YXRlKTtudWxsIT10aGlzLnN0YXRlLnNoYXBlJiZ0aGlzLnN0YXRlLnNoYXBlLmFwcGx5KHRoaXMuc3RhdGUpO3RoaXMuZ3JhcGguY2VsbFJlbmRlcmVyLnJlZHJhdyh0aGlzLnN0YXRlLCEwKX07bXhIYW5kbGUucHJvdG90eXBlLmdldFJvdGF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMuc3RhdGUuc2hhcGU/dGhpcy5zdGF0ZS5zaGFwZS5nZXRSb3RhdGlvbigpOjB9O214SGFuZGxlLnByb3RvdHlwZS5nZXRUb3RhbFJvdGF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMuc3RhdGUuc2hhcGU/dGhpcy5zdGF0ZS5zaGFwZS5nZXRTaGFwZVJvdGF0aW9uKCk6MH07Cm14SGFuZGxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5pc0h0bWxSZXF1aXJlZCgpO251bGwhPXRoaXMuaW1hZ2U/KHRoaXMuc2hhcGU9bmV3IG14SW1hZ2VTaGFwZShuZXcgbXhSZWN0YW5nbGUoMCwwLHRoaXMuaW1hZ2Uud2lkdGgsdGhpcy5pbWFnZS5oZWlnaHQpLHRoaXMuaW1hZ2Uuc3JjKSx0aGlzLnNoYXBlLnByZXNlcnZlSW1hZ2VBc3BlY3Q9ITEpOm51bGw9PXRoaXMuc2hhcGUmJih0aGlzLnNoYXBlPXRoaXMuY3JlYXRlU2hhcGUoYSkpO3RoaXMuaW5pdFNoYXBlKGEpfTtteEhhbmRsZS5wcm90b3R5cGUuY3JlYXRlU2hhcGU9ZnVuY3Rpb24oYSl7YT1uZXcgbXhSZWN0YW5nbGUoMCwwLG14Q29uc3RhbnRzLkhBTkRMRV9TSVpFLG14Q29uc3RhbnRzLkhBTkRMRV9TSVpFKTtyZXR1cm4gbmV3IG14UmVjdGFuZ2xlU2hhcGUoYSxteENvbnN0YW50cy5IQU5ETEVfRklMTENPTE9SLG14Q29uc3RhbnRzLkhBTkRMRV9TVFJPS0VDT0xPUil9OwpteEhhbmRsZS5wcm90b3R5cGUuaW5pdFNoYXBlPWZ1bmN0aW9uKGEpe2EmJnRoaXMuc2hhcGUuaXNIdG1sQWxsb3dlZCgpPyh0aGlzLnNoYXBlLmRpYWxlY3Q9bXhDb25zdGFudHMuRElBTEVDVF9TVFJJQ1RIVE1MLHRoaXMuc2hhcGUuaW5pdCh0aGlzLmdyYXBoLmNvbnRhaW5lcikpOih0aGlzLnNoYXBlLmRpYWxlY3Q9dGhpcy5ncmFwaC5kaWFsZWN0IT1teENvbnN0YW50cy5ESUFMRUNUX1NWRz9teENvbnN0YW50cy5ESUFMRUNUX01JWEVESFRNTDpteENvbnN0YW50cy5ESUFMRUNUX1NWRyxudWxsIT10aGlzLmN1cnNvciYmdGhpcy5zaGFwZS5pbml0KHRoaXMuZ3JhcGguZ2V0VmlldygpLmdldE92ZXJsYXlQYW5lKCkpKTtteEV2ZW50LnJlZGlyZWN0TW91c2VFdmVudHModGhpcy5zaGFwZS5ub2RlLHRoaXMuZ3JhcGgsdGhpcy5zdGF0ZSk7dGhpcy5zaGFwZS5ub2RlLnN0eWxlLmN1cnNvcj10aGlzLmN1cnNvcn07Cm14SGFuZGxlLnByb3RvdHlwZS5yZWRyYXc9ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLnNoYXBlJiZudWxsIT10aGlzLnN0YXRlLnNoYXBlKXt2YXIgYT10aGlzLmdldFBvc2l0aW9uKHRoaXMuc3RhdGUuZ2V0UGFpbnRCb3VuZHMoKSk7aWYobnVsbCE9YSl7dmFyIGI9bXhVdGlscy50b1JhZGlhbnModGhpcy5nZXRUb3RhbFJvdGF0aW9uKCkpLGE9dGhpcy5yb3RhdGVQb2ludCh0aGlzLmZsaXBQb2ludChhKSxiKSxiPXRoaXMuZ3JhcGgudmlldy5zY2FsZSxjPXRoaXMuZ3JhcGgudmlldy50cmFuc2xhdGU7dGhpcy5zaGFwZS5ib3VuZHMueD1NYXRoLmZsb29yKChhLngrYy54KSpiLXRoaXMuc2hhcGUuYm91bmRzLndpZHRoLzIpO3RoaXMuc2hhcGUuYm91bmRzLnk9TWF0aC5mbG9vcigoYS55K2MueSkqYi10aGlzLnNoYXBlLmJvdW5kcy5oZWlnaHQvMik7dGhpcy5zaGFwZS5yZWRyYXcoKX19fTsKbXhIYW5kbGUucHJvdG90eXBlLmlzSHRtbFJlcXVpcmVkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMuc3RhdGUudGV4dCYmdGhpcy5zdGF0ZS50ZXh0Lm5vZGUucGFyZW50Tm9kZT09dGhpcy5ncmFwaC5jb250YWluZXJ9O214SGFuZGxlLnByb3RvdHlwZS5yb3RhdGVQb2ludD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuc3RhdGUuZ2V0Q2VsbEJvdW5kcygpLGM9bmV3IG14UG9pbnQoYy5nZXRDZW50ZXJYKCksYy5nZXRDZW50ZXJZKCkpO3JldHVybiBteFV0aWxzLmdldFJvdGF0ZWRQb2ludChhLE1hdGguY29zKGIpLE1hdGguc2luKGIpLGMpfTsKbXhIYW5kbGUucHJvdG90eXBlLmZsaXBQb2ludD1mdW5jdGlvbihhKXtpZihudWxsIT10aGlzLnN0YXRlLnNoYXBlKXt2YXIgYj10aGlzLnN0YXRlLmdldENlbGxCb3VuZHMoKTt0aGlzLnN0YXRlLnNoYXBlLmZsaXBIJiYoYS54PTIqYi54K2Iud2lkdGgtYS54KTt0aGlzLnN0YXRlLnNoYXBlLmZsaXBWJiYoYS55PTIqYi55K2IuaGVpZ2h0LWEueSl9cmV0dXJuIGF9O214SGFuZGxlLnByb3RvdHlwZS5zbmFwUG9pbnQ9ZnVuY3Rpb24oYSxiKXtifHwoYS54PXRoaXMuZ3JhcGguc25hcChhLngpLGEueT10aGlzLmdyYXBoLnNuYXAoYS55KSk7cmV0dXJuIGF9O214SGFuZGxlLnByb3RvdHlwZS5zZXRWaXNpYmxlPWZ1bmN0aW9uKGEpe251bGwhPXRoaXMuc2hhcGUmJm51bGwhPXRoaXMuc2hhcGUubm9kZSYmKHRoaXMuc2hhcGUubm9kZS5zdHlsZS5kaXNwbGF5PWE/IiI6Im5vbmUiKX07Cm14SGFuZGxlLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuc2V0VmlzaWJsZSghMCk7dGhpcy5zdGF0ZS5zdHlsZT10aGlzLmdyYXBoLmdldENlbGxTdHlsZSh0aGlzLnN0YXRlLmNlbGwpO3RoaXMucG9zaXRpb25DaGFuZ2VkKCl9O214SGFuZGxlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5zaGFwZSYmKHRoaXMuc2hhcGUuZGVzdHJveSgpLHRoaXMuc2hhcGU9bnVsbCl9OwpmdW5jdGlvbiBteFZlcnRleEhhbmRsZXIoYSl7bnVsbCE9YSYmKHRoaXMuc3RhdGU9YSx0aGlzLmluaXQoKSx0aGlzLmVzY2FwZUhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxjKXt0aGlzLmxpdmVQcmV2aWV3JiZudWxsIT10aGlzLmluZGV4JiYodGhpcy5zdGF0ZS52aWV3LmdyYXBoLmNlbGxSZW5kZXJlci5yZWRyYXcodGhpcy5zdGF0ZSwhMCksdGhpcy5zdGF0ZS52aWV3LmludmFsaWRhdGUodGhpcy5zdGF0ZS5jZWxsKSx0aGlzLnN0YXRlLmludmFsaWQ9ITEsdGhpcy5zdGF0ZS52aWV3LnZhbGlkYXRlKCkpO3RoaXMucmVzZXQoKX0pLHRoaXMuc3RhdGUudmlldy5ncmFwaC5hZGRMaXN0ZW5lcihteEV2ZW50LkVTQ0FQRSx0aGlzLmVzY2FwZUhhbmRsZXIpKX1teFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmdyYXBoPW51bGw7bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5zdGF0ZT1udWxsO214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuc2luZ2xlU2l6ZXI9ITE7Cm14VmVydGV4SGFuZGxlci5wcm90b3R5cGUuaW5kZXg9bnVsbDtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmFsbG93SGFuZGxlQm91bmRzQ2hlY2s9ITA7bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5oYW5kbGVJbWFnZT1udWxsO214VmVydGV4SGFuZGxlci5wcm90b3R5cGUudG9sZXJhbmNlPTA7bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5yb3RhdGlvbkVuYWJsZWQ9ITE7bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5wYXJlbnRIaWdobGlnaHRFbmFibGVkPSExO214VmVydGV4SGFuZGxlci5wcm90b3R5cGUucm90YXRpb25SYXN0ZXI9ITA7bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5yb3RhdGlvbkN1cnNvcj0iY3Jvc3NoYWlyIjtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmxpdmVQcmV2aWV3PSExO214VmVydGV4SGFuZGxlci5wcm90b3R5cGUubWFuYWdlU2l6ZXJzPSExO214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuY29uc3RyYWluR3JvdXBCeUNoaWxkcmVuPSExOwpteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnJvdGF0aW9uSGFuZGxlVlNwYWNpbmc9LTE2O214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuaG9yaXpvbnRhbE9mZnNldD0wO214VmVydGV4SGFuZGxlci5wcm90b3R5cGUudmVydGljYWxPZmZzZXQ9MDsKbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dGhpcy5ncmFwaD10aGlzLnN0YXRlLnZpZXcuZ3JhcGg7dGhpcy5zZWxlY3Rpb25Cb3VuZHM9dGhpcy5nZXRTZWxlY3Rpb25Cb3VuZHModGhpcy5zdGF0ZSk7dGhpcy5ib3VuZHM9bmV3IG14UmVjdGFuZ2xlKHRoaXMuc2VsZWN0aW9uQm91bmRzLngsdGhpcy5zZWxlY3Rpb25Cb3VuZHMueSx0aGlzLnNlbGVjdGlvbkJvdW5kcy53aWR0aCx0aGlzLnNlbGVjdGlvbkJvdW5kcy5oZWlnaHQpO3RoaXMuc2VsZWN0aW9uQm9yZGVyPXRoaXMuY3JlYXRlU2VsZWN0aW9uU2hhcGUodGhpcy5ib3VuZHMpO3RoaXMuc2VsZWN0aW9uQm9yZGVyLmRpYWxlY3Q9dGhpcy5ncmFwaC5kaWFsZWN0IT1teENvbnN0YW50cy5ESUFMRUNUX1NWRz9teENvbnN0YW50cy5ESUFMRUNUX1ZNTDpteENvbnN0YW50cy5ESUFMRUNUX1NWRzt0aGlzLnNlbGVjdGlvbkJvcmRlci5wb2ludGVyRXZlbnRzPSExO3RoaXMuc2VsZWN0aW9uQm9yZGVyLnJvdGF0aW9uPQpOdW1iZXIodGhpcy5zdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9ST1RBVElPTl18fCIwIik7dGhpcy5zZWxlY3Rpb25Cb3JkZXIuaW5pdCh0aGlzLmdyYXBoLmdldFZpZXcoKS5nZXRPdmVybGF5UGFuZSgpKTtteEV2ZW50LnJlZGlyZWN0TW91c2VFdmVudHModGhpcy5zZWxlY3Rpb25Cb3JkZXIubm9kZSx0aGlzLmdyYXBoLHRoaXMuc3RhdGUpO3RoaXMuZ3JhcGguaXNDZWxsTW92YWJsZSh0aGlzLnN0YXRlLmNlbGwpJiZ0aGlzLnNlbGVjdGlvbkJvcmRlci5zZXRDdXJzb3IobXhDb25zdGFudHMuQ1VSU09SX01PVkFCTEVfVkVSVEVYKTtpZigwPj1teEdyYXBoSGFuZGxlci5wcm90b3R5cGUubWF4Q2VsbHN8fHRoaXMuZ3JhcGguZ2V0U2VsZWN0aW9uQ291bnQoKTxteEdyYXBoSGFuZGxlci5wcm90b3R5cGUubWF4Q2VsbHMpe3ZhciBhPXRoaXMuZ3JhcGguaXNDZWxsUmVzaXphYmxlKHRoaXMuc3RhdGUuY2VsbCk7dGhpcy5zaXplcnM9W107aWYoYXx8dGhpcy5ncmFwaC5pc0xhYmVsTW92YWJsZSh0aGlzLnN0YXRlLmNlbGwpJiYKMjw9dGhpcy5zdGF0ZS53aWR0aCYmMjw9dGhpcy5zdGF0ZS5oZWlnaHQpe3ZhciBiPTA7YSYmKHRoaXMuc2luZ2xlU2l6ZXJ8fCh0aGlzLnNpemVycy5wdXNoKHRoaXMuY3JlYXRlU2l6ZXIoIm53LXJlc2l6ZSIsYisrKSksdGhpcy5zaXplcnMucHVzaCh0aGlzLmNyZWF0ZVNpemVyKCJuLXJlc2l6ZSIsYisrKSksdGhpcy5zaXplcnMucHVzaCh0aGlzLmNyZWF0ZVNpemVyKCJuZS1yZXNpemUiLGIrKykpLHRoaXMuc2l6ZXJzLnB1c2godGhpcy5jcmVhdGVTaXplcigidy1yZXNpemUiLGIrKykpLHRoaXMuc2l6ZXJzLnB1c2godGhpcy5jcmVhdGVTaXplcigiZS1yZXNpemUiLGIrKykpLHRoaXMuc2l6ZXJzLnB1c2godGhpcy5jcmVhdGVTaXplcigic3ctcmVzaXplIixiKyspKSx0aGlzLnNpemVycy5wdXNoKHRoaXMuY3JlYXRlU2l6ZXIoInMtcmVzaXplIixiKyspKSksdGhpcy5zaXplcnMucHVzaCh0aGlzLmNyZWF0ZVNpemVyKCJzZS1yZXNpemUiLGIrKykpKTthPXRoaXMuZ3JhcGgubW9kZWwuZ2V0R2VvbWV0cnkodGhpcy5zdGF0ZS5jZWxsKTsKbnVsbD09YXx8YS5yZWxhdGl2ZXx8dGhpcy5ncmFwaC5pc1N3aW1sYW5lKHRoaXMuc3RhdGUuY2VsbCl8fCF0aGlzLmdyYXBoLmlzTGFiZWxNb3ZhYmxlKHRoaXMuc3RhdGUuY2VsbCl8fCh0aGlzLmxhYmVsU2hhcGU9dGhpcy5jcmVhdGVTaXplcihteENvbnN0YW50cy5DVVJTT1JfTEFCRUxfSEFORExFLG14RXZlbnQuTEFCRUxfSEFORExFLG14Q29uc3RhbnRzLkxBQkVMX0hBTkRMRV9TSVpFLG14Q29uc3RhbnRzLkxBQkVMX0hBTkRMRV9GSUxMQ09MT1IpLHRoaXMuc2l6ZXJzLnB1c2godGhpcy5sYWJlbFNoYXBlKSl9ZWxzZSB0aGlzLmdyYXBoLmlzQ2VsbE1vdmFibGUodGhpcy5zdGF0ZS5jZWxsKSYmIXRoaXMuZ3JhcGguaXNDZWxsUmVzaXphYmxlKHRoaXMuc3RhdGUuY2VsbCkmJjI+dGhpcy5zdGF0ZS53aWR0aCYmMj50aGlzLnN0YXRlLmhlaWdodCYmKHRoaXMubGFiZWxTaGFwZT10aGlzLmNyZWF0ZVNpemVyKG14Q29uc3RhbnRzLkNVUlNPUl9NT1ZBQkxFX1ZFUlRFWCxteEV2ZW50LkxBQkVMX0hBTkRMRSwKbnVsbCxteENvbnN0YW50cy5MQUJFTF9IQU5ETEVfRklMTENPTE9SKSx0aGlzLnNpemVycy5wdXNoKHRoaXMubGFiZWxTaGFwZSkpfXRoaXMuaXNSb3RhdGlvbkhhbmRsZVZpc2libGUoKSYmKHRoaXMucm90YXRpb25TaGFwZT10aGlzLmNyZWF0ZVNpemVyKHRoaXMucm90YXRpb25DdXJzb3IsbXhFdmVudC5ST1RBVElPTl9IQU5ETEUsbXhDb25zdGFudHMuSEFORExFX1NJWkUrMyxteENvbnN0YW50cy5IQU5ETEVfRklMTENPTE9SKSx0aGlzLnNpemVycy5wdXNoKHRoaXMucm90YXRpb25TaGFwZSkpO3RoaXMuY3VzdG9tSGFuZGxlcz10aGlzLmNyZWF0ZUN1c3RvbUhhbmRsZXMoKTt0aGlzLnJlZHJhdygpO3RoaXMuY29uc3RyYWluR3JvdXBCeUNoaWxkcmVuJiZ0aGlzLnVwZGF0ZU1pbkJvdW5kcygpfTsKbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5pc1JvdGF0aW9uSGFuZGxlVmlzaWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdyYXBoLmlzRW5hYmxlZCgpJiZ0aGlzLnJvdGF0aW9uRW5hYmxlZCYmdGhpcy5ncmFwaC5pc0NlbGxSb3RhdGFibGUodGhpcy5zdGF0ZS5jZWxsKSYmKDA+PW14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5tYXhDZWxsc3x8dGhpcy5ncmFwaC5nZXRTZWxlY3Rpb25Db3VudCgpPG14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5tYXhDZWxscyl9O214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuaXNDb25zdHJhaW5lZEV2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiBteEV2ZW50LmlzU2hpZnREb3duKGEuZ2V0RXZlbnQoKSl8fCJmaXhlZCI9PXRoaXMuc3RhdGUuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfQVNQRUNUXX07bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5pc0NlbnRlcmVkRXZlbnQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4hMX07Cm14VmVydGV4SGFuZGxlci5wcm90b3R5cGUuY3JlYXRlQ3VzdG9tSGFuZGxlcz1mdW5jdGlvbigpe3JldHVybiBudWxsfTsKbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS51cGRhdGVNaW5Cb3VuZHM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdyYXBoLmdldENoaWxkQ2VsbHModGhpcy5zdGF0ZS5jZWxsKTtpZigwPGEubGVuZ3RoJiYodGhpcy5taW5Cb3VuZHM9dGhpcy5ncmFwaC52aWV3LmdldEJvdW5kcyhhKSxudWxsIT10aGlzLm1pbkJvdW5kcykpe3ZhciBhPXRoaXMuc3RhdGUudmlldy5zY2FsZSxiPXRoaXMuc3RhdGUudmlldy50cmFuc2xhdGU7dGhpcy5taW5Cb3VuZHMueC09dGhpcy5zdGF0ZS54O3RoaXMubWluQm91bmRzLnktPXRoaXMuc3RhdGUueTt0aGlzLm1pbkJvdW5kcy54Lz1hO3RoaXMubWluQm91bmRzLnkvPWE7dGhpcy5taW5Cb3VuZHMud2lkdGgvPWE7dGhpcy5taW5Cb3VuZHMuaGVpZ2h0Lz1hO3RoaXMueDA9dGhpcy5zdGF0ZS54L2EtYi54O3RoaXMueTA9dGhpcy5zdGF0ZS55L2EtYi55fX07Cm14VmVydGV4SGFuZGxlci5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uQm91bmRzPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgbXhSZWN0YW5nbGUoTWF0aC5yb3VuZChhLngpLE1hdGgucm91bmQoYS55KSxNYXRoLnJvdW5kKGEud2lkdGgpLE1hdGgucm91bmQoYS5oZWlnaHQpKX07bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVQYXJlbnRIaWdobGlnaHRTaGFwZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVTZWxlY3Rpb25TaGFwZShhKX07bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVTZWxlY3Rpb25TaGFwZT1mdW5jdGlvbihhKXthPW5ldyBteFJlY3RhbmdsZVNoYXBlKG14UmVjdGFuZ2xlLmZyb21SZWN0YW5nbGUoYSksbnVsbCx0aGlzLmdldFNlbGVjdGlvbkNvbG9yKCkpO2Euc3Ryb2tld2lkdGg9dGhpcy5nZXRTZWxlY3Rpb25TdHJva2VXaWR0aCgpO2EuaXNEYXNoZWQ9dGhpcy5pc1NlbGVjdGlvbkRhc2hlZCgpO3JldHVybiBhfTsKbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5nZXRTZWxlY3Rpb25Db2xvcj1mdW5jdGlvbigpe3JldHVybiBteENvbnN0YW50cy5WRVJURVhfU0VMRUNUSU9OX0NPTE9SfTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmdldFNlbGVjdGlvblN0cm9rZVdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIG14Q29uc3RhbnRzLlZFUlRFWF9TRUxFQ1RJT05fU1RST0tFV0lEVEh9O214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuaXNTZWxlY3Rpb25EYXNoZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbXhDb25zdGFudHMuVkVSVEVYX1NFTEVDVElPTl9EQVNIRUR9OwpteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZVNpemVyPWZ1bmN0aW9uKGEsYixjLGQpe2M9Y3x8bXhDb25zdGFudHMuSEFORExFX1NJWkU7Yz1uZXcgbXhSZWN0YW5nbGUoMCwwLGMsYyk7ZD10aGlzLmNyZWF0ZVNpemVyU2hhcGUoYyxiLGQpO2QuaXNIdG1sQWxsb3dlZCgpJiZudWxsIT10aGlzLnN0YXRlLnRleHQmJnRoaXMuc3RhdGUudGV4dC5ub2RlLnBhcmVudE5vZGU9PXRoaXMuZ3JhcGguY29udGFpbmVyPygtLWQuYm91bmRzLmhlaWdodCwtLWQuYm91bmRzLndpZHRoLGQuZGlhbGVjdD1teENvbnN0YW50cy5ESUFMRUNUX1NUUklDVEhUTUwsZC5pbml0KHRoaXMuZ3JhcGguY29udGFpbmVyKSk6KGQuZGlhbGVjdD10aGlzLmdyYXBoLmRpYWxlY3QhPW14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHP214Q29uc3RhbnRzLkRJQUxFQ1RfTUlYRURIVE1MOm14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHLGQuaW5pdCh0aGlzLmdyYXBoLmdldFZpZXcoKS5nZXRPdmVybGF5UGFuZSgpKSk7Cm14RXZlbnQucmVkaXJlY3RNb3VzZUV2ZW50cyhkLm5vZGUsdGhpcy5ncmFwaCx0aGlzLnN0YXRlKTt0aGlzLmdyYXBoLmlzRW5hYmxlZCgpJiZkLnNldEN1cnNvcihhKTt0aGlzLmlzU2l6ZXJWaXNpYmxlKGIpfHwoZC52aXNpYmxlPSExKTtyZXR1cm4gZH07bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5pc1NpemVyVmlzaWJsZT1mdW5jdGlvbihhKXtyZXR1cm4hMH07Cm14VmVydGV4SGFuZGxlci5wcm90b3R5cGUuY3JlYXRlU2l6ZXJTaGFwZT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIG51bGwhPXRoaXMuaGFuZGxlSW1hZ2U/KGE9bmV3IG14UmVjdGFuZ2xlKGEueCxhLnksdGhpcy5oYW5kbGVJbWFnZS53aWR0aCx0aGlzLmhhbmRsZUltYWdlLmhlaWdodCksYT1uZXcgbXhJbWFnZVNoYXBlKGEsdGhpcy5oYW5kbGVJbWFnZS5zcmMpLGEucHJlc2VydmVJbWFnZUFzcGVjdD0hMSxhKTpiPT1teEV2ZW50LlJPVEFUSU9OX0hBTkRMRT9uZXcgbXhFbGxpcHNlKGEsY3x8bXhDb25zdGFudHMuSEFORExFX0ZJTExDT0xPUixteENvbnN0YW50cy5IQU5ETEVfU1RST0tFQ09MT1IpOm5ldyBteFJlY3RhbmdsZVNoYXBlKGEsY3x8bXhDb25zdGFudHMuSEFORExFX0ZJTExDT0xPUixteENvbnN0YW50cy5IQU5ETEVfU1RST0tFQ09MT1IpfTsKbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5tb3ZlU2l6ZXJUbz1mdW5jdGlvbihhLGIsYyl7bnVsbCE9YSYmKGEuYm91bmRzLng9TWF0aC5mbG9vcihiLWEuYm91bmRzLndpZHRoLzIpLGEuYm91bmRzLnk9TWF0aC5mbG9vcihjLWEuYm91bmRzLmhlaWdodC8yKSxudWxsIT1hLm5vZGUmJiJub25lIiE9YS5ub2RlLnN0eWxlLmRpc3BsYXkmJmEucmVkcmF3KCkpfTsKbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5nZXRIYW5kbGVGb3JFdmVudD1mdW5jdGlvbihhKXt2YXIgYj1teEV2ZW50LmlzTW91c2VFdmVudChhLmdldEV2ZW50KCkpPzE6dGhpcy50b2xlcmFuY2UsYz10aGlzLmFsbG93SGFuZGxlQm91bmRzQ2hlY2smJihteENsaWVudC5JU19JRXx8MDxiKT9uZXcgbXhSZWN0YW5nbGUoYS5nZXRHcmFwaFgoKS1iLGEuZ2V0R3JhcGhZKCktYiwyKmIsMipiKTpudWxsLGI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7dmFyIGQ9bnVsbCE9YiYmYi5jb25zdHJ1Y3RvciE9bXhJbWFnZVNoYXBlJiZ0aGlzLmFsbG93SGFuZGxlQm91bmRzQ2hlY2s/bmV3IG14UmVjdGFuZ2xlKGEuZ2V0R3JhcGhYKCktYi5zdmdTdHJva2VUb2xlcmFuY2UsYS5nZXRHcmFwaFkoKS1iLnN2Z1N0cm9rZVRvbGVyYW5jZSwyKmIuc3ZnU3Ryb2tlVG9sZXJhbmNlLDIqYi5zdmdTdHJva2VUb2xlcmFuY2UpOmM7cmV0dXJuIG51bGwhPWImJihhLmlzU291cmNlKGIpfHxudWxsIT0KZCYmbXhVdGlscy5pbnRlcnNlY3RzKGIuYm91bmRzLGQpJiYibm9uZSIhPWIubm9kZS5zdHlsZS5kaXNwbGF5JiYiaGlkZGVuIiE9Yi5ub2RlLnN0eWxlLnZpc2liaWxpdHkpfSk7aWYoYih0aGlzLnJvdGF0aW9uU2hhcGUpKXJldHVybiBteEV2ZW50LlJPVEFUSU9OX0hBTkRMRTtpZihiKHRoaXMubGFiZWxTaGFwZSkpcmV0dXJuIG14RXZlbnQuTEFCRUxfSEFORExFO2lmKG51bGwhPXRoaXMuc2l6ZXJzKWZvcih2YXIgZD0wO2Q8dGhpcy5zaXplcnMubGVuZ3RoO2QrKylpZihiKHRoaXMuc2l6ZXJzW2RdKSlyZXR1cm4gZDtpZihudWxsIT10aGlzLmN1c3RvbUhhbmRsZXMmJnRoaXMuaXNDdXN0b21IYW5kbGVFdmVudChhKSlmb3IoZD10aGlzLmN1c3RvbUhhbmRsZXMubGVuZ3RoLTE7MDw9ZDtkLS0paWYoYih0aGlzLmN1c3RvbUhhbmRsZXNbZF0uc2hhcGUpKXJldHVybiBteEV2ZW50LkNVU1RPTV9IQU5ETEUtZDtyZXR1cm4gbnVsbH07Cm14VmVydGV4SGFuZGxlci5wcm90b3R5cGUuaXNDdXN0b21IYW5kbGVFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4hMH07bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5tb3VzZURvd249ZnVuY3Rpb24oYSxiKXtpZighYi5pc0NvbnN1bWVkKCkmJnRoaXMuZ3JhcGguaXNFbmFibGVkKCkpe3ZhciBjPXRoaXMuZ2V0SGFuZGxlRm9yRXZlbnQoYik7bnVsbCE9YyYmKHRoaXMuc3RhcnQoYi5nZXRHcmFwaFgoKSxiLmdldEdyYXBoWSgpLGMpLGIuY29uc3VtZSgpKX19O214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuaXNMaXZlUHJldmlld0JvcmRlcj1mdW5jdGlvbigpe3JldHVybiBudWxsIT10aGlzLnN0YXRlLnNoYXBlJiZudWxsPT10aGlzLnN0YXRlLnNoYXBlLmZpbGwmJm51bGw9PXRoaXMuc3RhdGUuc2hhcGUuc3Ryb2tlfTsKbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbihhLGIsYyl7aWYobnVsbCE9dGhpcy5zZWxlY3Rpb25Cb3JkZXIpaWYodGhpcy5saXZlUHJldmlld0FjdGl2ZT10aGlzLmxpdmVQcmV2aWV3JiYwPT10aGlzLmdyYXBoLm1vZGVsLmdldENoaWxkQ291bnQodGhpcy5zdGF0ZS5jZWxsKSx0aGlzLmluVG9sZXJhbmNlPSEwLHRoaXMuY2hpbGRPZmZzZXRZPXRoaXMuY2hpbGRPZmZzZXRYPTAsdGhpcy5pbmRleD1jLHRoaXMuc3RhcnRYPWEsdGhpcy5zdGFydFk9Yix0aGlzLmluZGV4PD1teEV2ZW50LkNVU1RPTV9IQU5ETEUmJnRoaXMuaXNHaG9zdFByZXZpZXcoKSl0aGlzLmdob3N0UHJldmlldz10aGlzLmNyZWF0ZUdob3N0UHJldmlldygpO2Vsc2V7YT10aGlzLnN0YXRlLnZpZXcuZ3JhcGgubW9kZWw7Yj1hLmdldFBhcmVudCh0aGlzLnN0YXRlLmNlbGwpO3RoaXMuc3RhdGUudmlldy5jdXJyZW50Um9vdCE9YiYmKGEuaXNWZXJ0ZXgoYil8fGEuaXNFZGdlKGIpKSYmCih0aGlzLnBhcmVudFN0YXRlPXRoaXMuc3RhdGUudmlldy5ncmFwaC52aWV3LmdldFN0YXRlKGIpKTt0aGlzLnNlbGVjdGlvbkJvcmRlci5ub2RlLnN0eWxlLmRpc3BsYXk9Yz09bXhFdmVudC5ST1RBVElPTl9IQU5ETEU/ImlubGluZSI6Im5vbmUiO2lmKCF0aGlzLmxpdmVQcmV2aWV3QWN0aXZlfHx0aGlzLmlzTGl2ZVByZXZpZXdCb3JkZXIoKSl0aGlzLnByZXZpZXc9dGhpcy5jcmVhdGVTZWxlY3Rpb25TaGFwZSh0aGlzLmJvdW5kcyksbXhDbGllbnQuSVNfU1ZHJiYwIT1OdW1iZXIodGhpcy5zdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9ST1RBVElPTl18fCIwIil8fG51bGw9PXRoaXMuc3RhdGUudGV4dHx8dGhpcy5zdGF0ZS50ZXh0Lm5vZGUucGFyZW50Tm9kZSE9dGhpcy5ncmFwaC5jb250YWluZXI/KHRoaXMucHJldmlldy5kaWFsZWN0PXRoaXMuZ3JhcGguZGlhbGVjdCE9bXhDb25zdGFudHMuRElBTEVDVF9TVkc/bXhDb25zdGFudHMuRElBTEVDVF9WTUw6bXhDb25zdGFudHMuRElBTEVDVF9TVkcsCnRoaXMucHJldmlldy5pbml0KHRoaXMuZ3JhcGgudmlldy5nZXRPdmVybGF5UGFuZSgpKSk6KHRoaXMucHJldmlldy5kaWFsZWN0PW14Q29uc3RhbnRzLkRJQUxFQ1RfU1RSSUNUSFRNTCx0aGlzLnByZXZpZXcuaW5pdCh0aGlzLmdyYXBoLmNvbnRhaW5lcikpO2M9PW14RXZlbnQuUk9UQVRJT05fSEFORExFJiYoYj10aGlzLmdldFJvdGF0aW9uSGFuZGxlUG9zaXRpb24oKSxhPWIueC10aGlzLnN0YXRlLmdldENlbnRlclgoKSxiPWIueS10aGlzLnN0YXRlLmdldENlbnRlclkoKSx0aGlzLnN0YXJ0QW5nbGU9MCE9YT8xODAqTWF0aC5hdGFuKGIvYSkvTWF0aC5QSSs5MDowPmI/MTgwOjAsdGhpcy5zdGFydERpc3Q9TWF0aC5zcXJ0KGEqYStiKmIpKTtpZih0aGlzLmxpdmVQcmV2aWV3QWN0aXZlKWZvcih0aGlzLmhpZGVTaXplcnMoKSxjPT1teEV2ZW50LlJPVEFUSU9OX0hBTkRMRT90aGlzLnJvdGF0aW9uU2hhcGUubm9kZS5zdHlsZS5kaXNwbGF5PSIiOmM9PW14RXZlbnQuTEFCRUxfSEFORExFPwp0aGlzLmxhYmVsU2hhcGUubm9kZS5zdHlsZS5kaXNwbGF5PSIiOm51bGwhPXRoaXMuc2l6ZXJzJiZudWxsIT10aGlzLnNpemVyc1tjXT90aGlzLnNpemVyc1tjXS5ub2RlLnN0eWxlLmRpc3BsYXk9IiI6Yzw9bXhFdmVudC5DVVNUT01fSEFORExFJiZudWxsIT10aGlzLmN1c3RvbUhhbmRsZXMmJnRoaXMuY3VzdG9tSGFuZGxlc1tteEV2ZW50LkNVU1RPTV9IQU5ETEUtY10uc2V0VmlzaWJsZSghMCksYz10aGlzLmdyYXBoLmdldEVkZ2VzKHRoaXMuc3RhdGUuY2VsbCksdGhpcy5lZGdlSGFuZGxlcnM9W10sYT0wO2E8Yy5sZW5ndGg7YSsrKWI9dGhpcy5ncmFwaC5zZWxlY3Rpb25DZWxsc0hhbmRsZXIuZ2V0SGFuZGxlcihjW2FdKSxudWxsIT1iJiZ0aGlzLmVkZ2VIYW5kbGVycy5wdXNoKGIpfX07Cm14VmVydGV4SGFuZGxlci5wcm90b3R5cGUuY3JlYXRlR2hvc3RQcmV2aWV3PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5ncmFwaC5jZWxsUmVuZGVyZXIuY3JlYXRlU2hhcGUodGhpcy5zdGF0ZSk7YS5pbml0KHRoaXMuZ3JhcGgudmlldy5nZXRPdmVybGF5UGFuZSgpKTthLnNjYWxlPXRoaXMuc3RhdGUudmlldy5zY2FsZTthLmJvdW5kcz10aGlzLmJvdW5kczthLm91dGxpbmU9ITA7cmV0dXJuIGF9O214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuc2V0SGFuZGxlc1Zpc2libGU9ZnVuY3Rpb24oYSl7aWYobnVsbCE9dGhpcy5zaXplcnMpZm9yKHZhciBiPTA7Yjx0aGlzLnNpemVycy5sZW5ndGg7YisrKXRoaXMuc2l6ZXJzW2JdLm5vZGUuc3R5bGUuZGlzcGxheT1hPyIiOiJub25lIjtpZihudWxsIT10aGlzLmN1c3RvbUhhbmRsZXMpZm9yKGI9MDtiPHRoaXMuY3VzdG9tSGFuZGxlcy5sZW5ndGg7YisrKXRoaXMuY3VzdG9tSGFuZGxlc1tiXS5zZXRWaXNpYmxlKGEpfTsKbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5oaWRlU2l6ZXJzPWZ1bmN0aW9uKCl7dGhpcy5zZXRIYW5kbGVzVmlzaWJsZSghMSl9O214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuY2hlY2tUb2xlcmFuY2U9ZnVuY3Rpb24oYSl7dGhpcy5pblRvbGVyYW5jZSYmbnVsbCE9dGhpcy5zdGFydFgmJm51bGwhPXRoaXMuc3RhcnRZJiYobXhFdmVudC5pc01vdXNlRXZlbnQoYS5nZXRFdmVudCgpKXx8TWF0aC5hYnMoYS5nZXRHcmFwaFgoKS10aGlzLnN0YXJ0WCk+dGhpcy5ncmFwaC50b2xlcmFuY2V8fE1hdGguYWJzKGEuZ2V0R3JhcGhZKCktdGhpcy5zdGFydFkpPnRoaXMuZ3JhcGgudG9sZXJhbmNlKSYmKHRoaXMuaW5Ub2xlcmFuY2U9ITEpfTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnVwZGF0ZUhpbnQ9ZnVuY3Rpb24oYSl7fTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnJlbW92ZUhpbnQ9ZnVuY3Rpb24oKXt9OwpteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnJvdW5kQW5nbGU9ZnVuY3Rpb24oYSl7cmV0dXJuIE1hdGgucm91bmQoMTAqYSkvMTB9O214VmVydGV4SGFuZGxlci5wcm90b3R5cGUucm91bmRMZW5ndGg9ZnVuY3Rpb24oYSl7cmV0dXJuIE1hdGgucm91bmQoMTAwKmEpLzEwMH07Cm14VmVydGV4SGFuZGxlci5wcm90b3R5cGUubW91c2VNb3ZlPWZ1bmN0aW9uKGEsYil7Yi5pc0NvbnN1bWVkKCl8fG51bGw9PXRoaXMuaW5kZXg/dGhpcy5ncmFwaC5pc01vdXNlRG93bnx8bnVsbD09dGhpcy5nZXRIYW5kbGVGb3JFdmVudChiKXx8Yi5jb25zdW1lKCExKToodGhpcy5jaGVja1RvbGVyYW5jZShiKSx0aGlzLmluVG9sZXJhbmNlfHwodGhpcy5pbmRleDw9bXhFdmVudC5DVVNUT01fSEFORExFP251bGwhPXRoaXMuY3VzdG9tSGFuZGxlcyYmKHRoaXMuY3VzdG9tSGFuZGxlc1tteEV2ZW50LkNVU1RPTV9IQU5ETEUtdGhpcy5pbmRleF0ucHJvY2Vzc0V2ZW50KGIpLHRoaXMuY3VzdG9tSGFuZGxlc1tteEV2ZW50LkNVU1RPTV9IQU5ETEUtdGhpcy5pbmRleF0uYWN0aXZlPSEwLG51bGwhPXRoaXMuZ2hvc3RQcmV2aWV3Pyh0aGlzLmdob3N0UHJldmlldy5hcHBseSh0aGlzLnN0YXRlKSx0aGlzLmdob3N0UHJldmlldy5zdHJva2V3aWR0aD10aGlzLmdldFNlbGVjdGlvblN0cm9rZVdpZHRoKCkvCnRoaXMuZ2hvc3RQcmV2aWV3LnNjYWxlL3RoaXMuZ2hvc3RQcmV2aWV3LnNjYWxlLHRoaXMuZ2hvc3RQcmV2aWV3LmlzRGFzaGVkPXRoaXMuaXNTZWxlY3Rpb25EYXNoZWQoKSx0aGlzLmdob3N0UHJldmlldy5zdHJva2U9dGhpcy5nZXRTZWxlY3Rpb25Db2xvcigpLHRoaXMuZ2hvc3RQcmV2aWV3LnJlZHJhdygpLG51bGwhPXRoaXMuc2VsZWN0aW9uQm91bmRzJiYodGhpcy5zZWxlY3Rpb25Cb3JkZXIubm9kZS5zdHlsZS5kaXNwbGF5PSJub25lIikpOih0aGlzLm1vdmVUb0Zyb250KCksdGhpcy5jdXN0b21IYW5kbGVzW214RXZlbnQuQ1VTVE9NX0hBTkRMRS10aGlzLmluZGV4XS5wb3NpdGlvbkNoYW5nZWQoKSkpOnRoaXMuaW5kZXg9PW14RXZlbnQuTEFCRUxfSEFORExFP3RoaXMubW92ZUxhYmVsKGIpOnRoaXMuaW5kZXg9PW14RXZlbnQuUk9UQVRJT05fSEFORExFP3RoaXMucm90YXRlVmVydGV4KGIpOih0aGlzLnJlc2l6ZVZlcnRleChiKSx0aGlzLnVwZGF0ZUhpbnQoYikpKSxiLmNvbnN1bWUoKSl9OwpteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmlzR2hvc3RQcmV2aWV3PWZ1bmN0aW9uKCl7cmV0dXJuIDA8dGhpcy5zdGF0ZS52aWV3LmdyYXBoLm1vZGVsLmdldENoaWxkQ291bnQodGhpcy5zdGF0ZS5jZWxsKX07bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5tb3ZlTGFiZWw9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IG14UG9pbnQoYS5nZXRHcmFwaFgoKSxhLmdldEdyYXBoWSgpKSxjPXRoaXMuZ3JhcGgudmlldy50cmFuc2xhdGUsZD10aGlzLmdyYXBoLnZpZXcuc2NhbGU7dGhpcy5ncmFwaC5pc0dyaWRFbmFibGVkRXZlbnQoYS5nZXRFdmVudCgpKSYmKGIueD0odGhpcy5ncmFwaC5zbmFwKGIueC9kLWMueCkrYy54KSpkLGIueT0odGhpcy5ncmFwaC5zbmFwKGIueS9kLWMueSkrYy55KSpkKTt0aGlzLm1vdmVTaXplclRvKHRoaXMuc2l6ZXJzW251bGwhPXRoaXMucm90YXRpb25TaGFwZT90aGlzLnNpemVycy5sZW5ndGgtMjp0aGlzLnNpemVycy5sZW5ndGgtMV0sYi54LGIueSl9OwpteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnJvdGF0ZVZlcnRleD1mdW5jdGlvbihhKXt2YXIgYj1uZXcgbXhQb2ludChhLmdldEdyYXBoWCgpLGEuZ2V0R3JhcGhZKCkpLGM9dGhpcy5zdGF0ZS54K3RoaXMuc3RhdGUud2lkdGgvMi1iLngsZD10aGlzLnN0YXRlLnkrdGhpcy5zdGF0ZS5oZWlnaHQvMi1iLnk7dGhpcy5jdXJyZW50QWxwaGE9MCE9Yz8xODAqTWF0aC5hdGFuKGQvYykvTWF0aC5QSSs5MDowPmQ/MTgwOjA7MDxjJiYodGhpcy5jdXJyZW50QWxwaGEtPTE4MCk7dGhpcy5jdXJyZW50QWxwaGEtPXRoaXMuc3RhcnRBbmdsZTt0aGlzLnJvdGF0aW9uUmFzdGVyJiZ0aGlzLmdyYXBoLmlzR3JpZEVuYWJsZWRFdmVudChhLmdldEV2ZW50KCkpPyhjPWIueC10aGlzLnN0YXRlLmdldENlbnRlclgoKSxkPWIueS10aGlzLnN0YXRlLmdldENlbnRlclkoKSxhPU1hdGguc3FydChjKmMrZCpkKSxyYXN0ZXI9Mj5hLXRoaXMuc3RhcnREaXN0PzE1OjI1PmEtdGhpcy5zdGFydERpc3Q/NToKMSx0aGlzLmN1cnJlbnRBbHBoYT1NYXRoLnJvdW5kKHRoaXMuY3VycmVudEFscGhhL3Jhc3RlcikqcmFzdGVyKTp0aGlzLmN1cnJlbnRBbHBoYT10aGlzLnJvdW5kQW5nbGUodGhpcy5jdXJyZW50QWxwaGEpO3RoaXMuc2VsZWN0aW9uQm9yZGVyLnJvdGF0aW9uPXRoaXMuY3VycmVudEFscGhhO3RoaXMuc2VsZWN0aW9uQm9yZGVyLnJlZHJhdygpO3RoaXMubGl2ZVByZXZpZXdBY3RpdmUmJnRoaXMucmVkcmF3SGFuZGxlcygpfTsKbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5yZXNpemVWZXJ0ZXg9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IG14UG9pbnQodGhpcy5zdGF0ZS5nZXRDZW50ZXJYKCksdGhpcy5zdGF0ZS5nZXRDZW50ZXJZKCkpLGM9bXhVdGlscy50b1JhZGlhbnModGhpcy5zdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9ST1RBVElPTl18fCIwIiksZD1uZXcgbXhQb2ludChhLmdldEdyYXBoWCgpLGEuZ2V0R3JhcGhZKCkpLGU9dGhpcy5ncmFwaC52aWV3LnRyYW5zbGF0ZSxmPXRoaXMuZ3JhcGgudmlldy5zY2FsZSxnPU1hdGguY29zKC1jKSxrPU1hdGguc2luKC1jKSxsPWQueC10aGlzLnN0YXJ0WCxtPWQueS10aGlzLnN0YXJ0WSxkPWsqbCtnKm0sbD1nKmwtayptLG09ZCxnPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KHRoaXMuc3RhdGUuY2VsbCk7dGhpcy51bnNjYWxlZEJvdW5kcz10aGlzLnVuaW9uKGcsbC9mLG0vZix0aGlzLmluZGV4LHRoaXMuZ3JhcGguaXNHcmlkRW5hYmxlZEV2ZW50KGEuZ2V0RXZlbnQoKSksCjEsbmV3IG14UG9pbnQoMCwwKSx0aGlzLmlzQ29uc3RyYWluZWRFdmVudChhKSx0aGlzLmlzQ2VudGVyZWRFdmVudCh0aGlzLnN0YXRlLGEpKTtnLnJlbGF0aXZlfHwoaz10aGlzLmdyYXBoLmdldE1heGltdW1HcmFwaEJvdW5kcygpLG51bGwhPWsmJm51bGwhPXRoaXMucGFyZW50U3RhdGUmJihrPW14UmVjdGFuZ2xlLmZyb21SZWN0YW5nbGUoayksay54LT0odGhpcy5wYXJlbnRTdGF0ZS54LWUueCpmKS9mLGsueS09KHRoaXMucGFyZW50U3RhdGUueS1lLnkqZikvZiksdGhpcy5ncmFwaC5pc0NvbnN0cmFpbkNoaWxkKHRoaXMuc3RhdGUuY2VsbCkmJihkPXRoaXMuZ3JhcGguZ2V0Q2VsbENvbnRhaW5tZW50QXJlYSh0aGlzLnN0YXRlLmNlbGwpLG51bGwhPWQmJihsPXRoaXMuZ3JhcGguZ2V0T3ZlcmxhcCh0aGlzLnN0YXRlLmNlbGwpLDA8bCYmKGQ9bXhSZWN0YW5nbGUuZnJvbVJlY3RhbmdsZShkKSxkLngtPWQud2lkdGgqbCxkLnktPWQuaGVpZ2h0KmwsZC53aWR0aCs9MipkLndpZHRoKgpsLGQuaGVpZ2h0Kz0yKmQuaGVpZ2h0KmwpLG51bGw9PWs/az1kOihrPW14UmVjdGFuZ2xlLmZyb21SZWN0YW5nbGUoayksay5pbnRlcnNlY3QoZCkpKSksbnVsbCE9ayYmKHRoaXMudW5zY2FsZWRCb3VuZHMueDxrLngmJih0aGlzLnVuc2NhbGVkQm91bmRzLndpZHRoLT1rLngtdGhpcy51bnNjYWxlZEJvdW5kcy54LHRoaXMudW5zY2FsZWRCb3VuZHMueD1rLngpLHRoaXMudW5zY2FsZWRCb3VuZHMueTxrLnkmJih0aGlzLnVuc2NhbGVkQm91bmRzLmhlaWdodC09ay55LXRoaXMudW5zY2FsZWRCb3VuZHMueSx0aGlzLnVuc2NhbGVkQm91bmRzLnk9ay55KSx0aGlzLnVuc2NhbGVkQm91bmRzLngrdGhpcy51bnNjYWxlZEJvdW5kcy53aWR0aD5rLngray53aWR0aCYmKHRoaXMudW5zY2FsZWRCb3VuZHMud2lkdGgtPXRoaXMudW5zY2FsZWRCb3VuZHMueCt0aGlzLnVuc2NhbGVkQm91bmRzLndpZHRoLWsueC1rLndpZHRoKSx0aGlzLnVuc2NhbGVkQm91bmRzLnkrdGhpcy51bnNjYWxlZEJvdW5kcy5oZWlnaHQ+CmsueStrLmhlaWdodCYmKHRoaXMudW5zY2FsZWRCb3VuZHMuaGVpZ2h0LT10aGlzLnVuc2NhbGVkQm91bmRzLnkrdGhpcy51bnNjYWxlZEJvdW5kcy5oZWlnaHQtay55LWsuaGVpZ2h0KSkpO2Q9dGhpcy5ib3VuZHM7dGhpcy5ib3VuZHM9bmV3IG14UmVjdGFuZ2xlKChudWxsIT10aGlzLnBhcmVudFN0YXRlP3RoaXMucGFyZW50U3RhdGUueDplLngqZikrdGhpcy51bnNjYWxlZEJvdW5kcy54KmYsKG51bGwhPXRoaXMucGFyZW50U3RhdGU/dGhpcy5wYXJlbnRTdGF0ZS55OmUueSpmKSt0aGlzLnVuc2NhbGVkQm91bmRzLnkqZix0aGlzLnVuc2NhbGVkQm91bmRzLndpZHRoKmYsdGhpcy51bnNjYWxlZEJvdW5kcy5oZWlnaHQqZik7Zy5yZWxhdGl2ZSYmbnVsbCE9dGhpcy5wYXJlbnRTdGF0ZSYmKHRoaXMuYm91bmRzLngrPXRoaXMuc3RhdGUueC10aGlzLnBhcmVudFN0YXRlLngsdGhpcy5ib3VuZHMueSs9dGhpcy5zdGF0ZS55LXRoaXMucGFyZW50U3RhdGUueSk7Zz1NYXRoLmNvcyhjKTsKaz1NYXRoLnNpbihjKTtjPW5ldyBteFBvaW50KHRoaXMuYm91bmRzLmdldENlbnRlclgoKSx0aGlzLmJvdW5kcy5nZXRDZW50ZXJZKCkpO2w9Yy54LWIueDttPWMueS1iLnk7Yj1nKmwtayptLWw7Yz1rKmwrZyptLW07bD10aGlzLmJvdW5kcy54LXRoaXMuc3RhdGUueDttPXRoaXMuYm91bmRzLnktdGhpcy5zdGF0ZS55O2U9ZypsLWsqbTtnPWsqbCtnKm07dGhpcy5ib3VuZHMueCs9Yjt0aGlzLmJvdW5kcy55Kz1jO3RoaXMudW5zY2FsZWRCb3VuZHMueD10aGlzLnJvdW5kTGVuZ3RoKHRoaXMudW5zY2FsZWRCb3VuZHMueCtiL2YpO3RoaXMudW5zY2FsZWRCb3VuZHMueT10aGlzLnJvdW5kTGVuZ3RoKHRoaXMudW5zY2FsZWRCb3VuZHMueStjL2YpO3RoaXMudW5zY2FsZWRCb3VuZHMud2lkdGg9dGhpcy5yb3VuZExlbmd0aCh0aGlzLnVuc2NhbGVkQm91bmRzLndpZHRoKTt0aGlzLnVuc2NhbGVkQm91bmRzLmhlaWdodD10aGlzLnJvdW5kTGVuZ3RoKHRoaXMudW5zY2FsZWRCb3VuZHMuaGVpZ2h0KTsKdGhpcy5ncmFwaC5pc0NlbGxDb2xsYXBzZWQodGhpcy5zdGF0ZS5jZWxsKXx8MD09YiYmMD09Yz90aGlzLmNoaWxkT2Zmc2V0WT10aGlzLmNoaWxkT2Zmc2V0WD0wOih0aGlzLmNoaWxkT2Zmc2V0WD10aGlzLnN0YXRlLngtdGhpcy5ib3VuZHMueCtlLHRoaXMuY2hpbGRPZmZzZXRZPXRoaXMuc3RhdGUueS10aGlzLmJvdW5kcy55K2cpO2QuZXF1YWxzKHRoaXMuYm91bmRzKXx8KHRoaXMubGl2ZVByZXZpZXdBY3RpdmUmJnRoaXMudXBkYXRlTGl2ZVByZXZpZXcoYSksbnVsbCE9dGhpcy5wcmV2aWV3P3RoaXMuZHJhd1ByZXZpZXcoKTp0aGlzLnVwZGF0ZVBhcmVudEhpZ2hsaWdodCgpKX07Cm14VmVydGV4SGFuZGxlci5wcm90b3R5cGUudXBkYXRlTGl2ZVByZXZpZXc9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5ncmFwaC52aWV3LnNjYWxlLGM9dGhpcy5ncmFwaC52aWV3LnRyYW5zbGF0ZTthPXRoaXMuc3RhdGUuY2xvbmUoKTt0aGlzLnN0YXRlLng9dGhpcy5ib3VuZHMueDt0aGlzLnN0YXRlLnk9dGhpcy5ib3VuZHMueTt0aGlzLnN0YXRlLm9yaWdpbj1uZXcgbXhQb2ludCh0aGlzLnN0YXRlLngvYi1jLngsdGhpcy5zdGF0ZS55L2ItYy55KTt0aGlzLnN0YXRlLndpZHRoPXRoaXMuYm91bmRzLndpZHRoO3RoaXMuc3RhdGUuaGVpZ2h0PXRoaXMuYm91bmRzLmhlaWdodDtiPXRoaXMuc3RhdGUuYWJzb2x1dGVPZmZzZXQ7bmV3IG14UG9pbnQoYi54LGIueSk7dGhpcy5zdGF0ZS5hYnNvbHV0ZU9mZnNldC54PTA7dGhpcy5zdGF0ZS5hYnNvbHV0ZU9mZnNldC55PTA7Yj10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeSh0aGlzLnN0YXRlLmNlbGwpO251bGwhPWImJihjPWIub2Zmc2V0fHwKdGhpcy5FTVBUWV9QT0lOVCxudWxsPT1jfHxiLnJlbGF0aXZlfHwodGhpcy5zdGF0ZS5hYnNvbHV0ZU9mZnNldC54PXRoaXMuc3RhdGUudmlldy5zY2FsZSpjLngsdGhpcy5zdGF0ZS5hYnNvbHV0ZU9mZnNldC55PXRoaXMuc3RhdGUudmlldy5zY2FsZSpjLnkpLHRoaXMuc3RhdGUudmlldy51cGRhdGVWZXJ0ZXhMYWJlbE9mZnNldCh0aGlzLnN0YXRlKSk7dGhpcy5zdGF0ZS52aWV3LmdyYXBoLmNlbGxSZW5kZXJlci5yZWRyYXcodGhpcy5zdGF0ZSwhMCk7dGhpcy5zdGF0ZS52aWV3LmludmFsaWRhdGUodGhpcy5zdGF0ZS5jZWxsKTt0aGlzLnN0YXRlLmludmFsaWQ9ITE7dGhpcy5zdGF0ZS52aWV3LnZhbGlkYXRlKCk7dGhpcy5yZWRyYXdIYW5kbGVzKCk7dGhpcy5tb3ZlVG9Gcm9udCgpO251bGwhPXRoaXMuc3RhdGUuY29udHJvbCYmbnVsbCE9dGhpcy5zdGF0ZS5jb250cm9sLm5vZGUmJih0aGlzLnN0YXRlLmNvbnRyb2wubm9kZS5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iKTt0aGlzLnN0YXRlLnNldFN0YXRlKGEpfTsKbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5tb3ZlVG9Gcm9udD1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuc3RhdGUudGV4dCYmbnVsbCE9dGhpcy5zdGF0ZS50ZXh0Lm5vZGUmJm51bGwhPXRoaXMuc3RhdGUudGV4dC5ub2RlLm5leHRTaWJsaW5nfHxudWxsIT10aGlzLnN0YXRlLnNoYXBlJiZudWxsIT10aGlzLnN0YXRlLnNoYXBlLm5vZGUmJm51bGwhPXRoaXMuc3RhdGUuc2hhcGUubm9kZS5uZXh0U2libGluZyYmKG51bGw9PXRoaXMuc3RhdGUudGV4dHx8dGhpcy5zdGF0ZS5zaGFwZS5ub2RlLm5leHRTaWJsaW5nIT10aGlzLnN0YXRlLnRleHQubm9kZSkpbnVsbCE9dGhpcy5zdGF0ZS5zaGFwZSYmbnVsbCE9dGhpcy5zdGF0ZS5zaGFwZS5ub2RlJiZ0aGlzLnN0YXRlLnNoYXBlLm5vZGUucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0aGlzLnN0YXRlLnNoYXBlLm5vZGUpLG51bGwhPXRoaXMuc3RhdGUudGV4dCYmbnVsbCE9dGhpcy5zdGF0ZS50ZXh0Lm5vZGUmJnRoaXMuc3RhdGUudGV4dC5ub2RlLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5zdGF0ZS50ZXh0Lm5vZGUpfTsKbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5tb3VzZVVwPWZ1bmN0aW9uKGEsYil7aWYobnVsbCE9dGhpcy5pbmRleCYmbnVsbCE9dGhpcy5zdGF0ZSl7dmFyIGM9bmV3IG14UG9pbnQoYi5nZXRHcmFwaFgoKSxiLmdldEdyYXBoWSgpKSxkPXRoaXMuaW5kZXg7dGhpcy5pbmRleD1udWxsO251bGw9PXRoaXMuZ2hvc3RQcmV2aWV3JiYodGhpcy5zdGF0ZS52aWV3LmludmFsaWRhdGUodGhpcy5zdGF0ZS5jZWxsLCExLCExKSx0aGlzLnN0YXRlLnZpZXcudmFsaWRhdGUoKSk7dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmJlZ2luVXBkYXRlKCk7dHJ5e2lmKGQ8PW14RXZlbnQuQ1VTVE9NX0hBTkRMRSl7aWYobnVsbCE9dGhpcy5jdXN0b21IYW5kbGVzKXt2YXIgZT10aGlzLnN0YXRlLnZpZXcuZ3JhcGguZ2V0Q2VsbFN0eWxlKHRoaXMuc3RhdGUuY2VsbCk7dGhpcy5jdXN0b21IYW5kbGVzW214RXZlbnQuQ1VTVE9NX0hBTkRMRS1kXS5hY3RpdmU9ITE7dGhpcy5jdXN0b21IYW5kbGVzW214RXZlbnQuQ1VTVE9NX0hBTkRMRS0KZF0uZXhlY3V0ZShiKTtudWxsIT10aGlzLmN1c3RvbUhhbmRsZXMmJm51bGwhPXRoaXMuY3VzdG9tSGFuZGxlc1tteEV2ZW50LkNVU1RPTV9IQU5ETEUtZF0mJih0aGlzLnN0YXRlLnN0eWxlPWUsdGhpcy5jdXN0b21IYW5kbGVzW214RXZlbnQuQ1VTVE9NX0hBTkRMRS1kXS5wb3NpdGlvbkNoYW5nZWQoKSl9fWVsc2UgaWYoZD09bXhFdmVudC5ST1RBVElPTl9IQU5ETEUpaWYobnVsbCE9dGhpcy5jdXJyZW50QWxwaGEpe3ZhciBmPXRoaXMuY3VycmVudEFscGhhLSh0aGlzLnN0YXRlLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OXXx8MCk7MCE9ZiYmdGhpcy5yb3RhdGVDZWxsKHRoaXMuc3RhdGUuY2VsbCxmKX1lbHNlIHRoaXMucm90YXRlQ2xpY2soKTtlbHNle3ZhciBnPXRoaXMuZ3JhcGguaXNHcmlkRW5hYmxlZEV2ZW50KGIuZ2V0RXZlbnQoKSksaz1teFV0aWxzLnRvUmFkaWFucyh0aGlzLnN0YXRlLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OXXx8IjAiKSwKbD1NYXRoLmNvcygtayksbT1NYXRoLnNpbigtayksbj1jLngtdGhpcy5zdGFydFgscD1jLnktdGhpcy5zdGFydFksYz1tKm4rbCpwLG49bCpuLW0qcCxwPWMscT10aGlzLmdyYXBoLnZpZXcuc2NhbGUscj10aGlzLmlzUmVjdXJzaXZlUmVzaXplKHRoaXMuc3RhdGUsYik7dGhpcy5yZXNpemVDZWxsKHRoaXMuc3RhdGUuY2VsbCx0aGlzLnJvdW5kTGVuZ3RoKG4vcSksdGhpcy5yb3VuZExlbmd0aChwL3EpLGQsZyx0aGlzLmlzQ29uc3RyYWluZWRFdmVudChiKSxyKX19ZmluYWxseXt0aGlzLmdyYXBoLmdldE1vZGVsKCkuZW5kVXBkYXRlKCl9Yi5jb25zdW1lKCk7dGhpcy5yZXNldCgpfX07bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5pc1JlY3Vyc2l2ZVJlc2l6ZT1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmdyYXBoLmlzUmVjdXJzaXZlUmVzaXplKHRoaXMuc3RhdGUpfTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnJvdGF0ZUNsaWNrPWZ1bmN0aW9uKCl7fTsKbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5yb3RhdGVDZWxsPWZ1bmN0aW9uKGEsYixjKXtpZigwIT1iKXt2YXIgZD10aGlzLmdyYXBoLmdldE1vZGVsKCk7aWYoZC5pc1ZlcnRleChhKXx8ZC5pc0VkZ2UoYSkpe2lmKCFkLmlzRWRnZShhKSl7dmFyIGU9KHRoaXMuZ3JhcGguZ2V0Q3VycmVudENlbGxTdHlsZShhKVtteENvbnN0YW50cy5TVFlMRV9ST1RBVElPTl18fDApK2I7dGhpcy5ncmFwaC5zZXRDZWxsU3R5bGVzKG14Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OLGUsW2FdKX1lPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGEpO2lmKG51bGwhPWUpe3ZhciBmPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGMpO251bGw9PWZ8fGQuaXNFZGdlKGMpfHwoZT1lLmNsb25lKCksZS5yb3RhdGUoYixuZXcgbXhQb2ludChmLndpZHRoLzIsZi5oZWlnaHQvMikpLGQuc2V0R2VvbWV0cnkoYSxlKSk7aWYoZC5pc1ZlcnRleChhKSYmIWUucmVsYXRpdmV8fGQuaXNFZGdlKGEpKWZvcihjPQpkLmdldENoaWxkQ291bnQoYSksZT0wO2U8YztlKyspdGhpcy5yb3RhdGVDZWxsKGQuZ2V0Q2hpbGRBdChhLGUpLGIsYSl9fX19OwpteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5zaXplcnMmJm51bGwhPXRoaXMuaW5kZXgmJm51bGwhPXRoaXMuc2l6ZXJzW3RoaXMuaW5kZXhdJiYibm9uZSI9PXRoaXMuc2l6ZXJzW3RoaXMuaW5kZXhdLm5vZGUuc3R5bGUuZGlzcGxheSYmKHRoaXMuc2l6ZXJzW3RoaXMuaW5kZXhdLm5vZGUuc3R5bGUuZGlzcGxheT0iIik7dGhpcy5pbmRleD10aGlzLmluVG9sZXJhbmNlPXRoaXMuY3VycmVudEFscGhhPW51bGw7bnVsbCE9dGhpcy5wcmV2aWV3JiYodGhpcy5wcmV2aWV3LmRlc3Ryb3koKSx0aGlzLnByZXZpZXc9bnVsbCk7bnVsbCE9dGhpcy5naG9zdFByZXZpZXcmJih0aGlzLmdob3N0UHJldmlldy5kZXN0cm95KCksdGhpcy5naG9zdFByZXZpZXc9bnVsbCk7aWYodGhpcy5saXZlUHJldmlld0FjdGl2ZSYmbnVsbCE9dGhpcy5zaXplcnMpe2Zvcih2YXIgYT0wO2E8dGhpcy5zaXplcnMubGVuZ3RoO2ErKyludWxsIT10aGlzLnNpemVyc1thXSYmCih0aGlzLnNpemVyc1thXS5ub2RlLnN0eWxlLmRpc3BsYXk9IiIpO251bGwhPXRoaXMuc3RhdGUuY29udHJvbCYmbnVsbCE9dGhpcy5zdGF0ZS5jb250cm9sLm5vZGUmJih0aGlzLnN0YXRlLmNvbnRyb2wubm9kZS5zdHlsZS52aXNpYmlsaXR5PSIiKX1pZihudWxsIT10aGlzLmN1c3RvbUhhbmRsZXMpZm9yKGE9MDthPHRoaXMuY3VzdG9tSGFuZGxlcy5sZW5ndGg7YSsrKXRoaXMuY3VzdG9tSGFuZGxlc1thXS5hY3RpdmU/KHRoaXMuY3VzdG9tSGFuZGxlc1thXS5hY3RpdmU9ITEsdGhpcy5jdXN0b21IYW5kbGVzW2FdLnJlc2V0KCkpOnRoaXMuY3VzdG9tSGFuZGxlc1thXS5zZXRWaXNpYmxlKCEwKTtudWxsIT10aGlzLnNlbGVjdGlvbkJvcmRlciYmKHRoaXMuc2VsZWN0aW9uQm9yZGVyLm5vZGUuc3R5bGUuZGlzcGxheT0iaW5saW5lIix0aGlzLnNlbGVjdGlvbkJvdW5kcz10aGlzLmdldFNlbGVjdGlvbkJvdW5kcyh0aGlzLnN0YXRlKSx0aGlzLmJvdW5kcz1uZXcgbXhSZWN0YW5nbGUodGhpcy5zZWxlY3Rpb25Cb3VuZHMueCwKdGhpcy5zZWxlY3Rpb25Cb3VuZHMueSx0aGlzLnNlbGVjdGlvbkJvdW5kcy53aWR0aCx0aGlzLnNlbGVjdGlvbkJvdW5kcy5oZWlnaHQpLHRoaXMuZHJhd1ByZXZpZXcoKSk7dGhpcy5yZW1vdmVIaW50KCk7dGhpcy5yZWRyYXdIYW5kbGVzKCk7dGhpcy5saXZlUHJldmlld0FjdGl2ZT10aGlzLnVuc2NhbGVkQm91bmRzPXRoaXMuZWRnZUhhbmRsZXJzPW51bGx9OwpteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnJlc2l6ZUNlbGw9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7Yj10aGlzLmdyYXBoLm1vZGVsLmdldEdlb21ldHJ5KGEpO251bGwhPWImJihkPT1teEV2ZW50LkxBQkVMX0hBTkRMRT8oZD0tbXhVdGlscy50b1JhZGlhbnModGhpcy5zdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9ST1RBVElPTl18fCIwIiksZz1NYXRoLmNvcyhkKSxjPU1hdGguc2luKGQpLGQ9dGhpcy5ncmFwaC52aWV3LnNjYWxlLGc9bXhVdGlscy5nZXRSb3RhdGVkUG9pbnQobmV3IG14UG9pbnQoTWF0aC5yb3VuZCgodGhpcy5sYWJlbFNoYXBlLmJvdW5kcy5nZXRDZW50ZXJYKCktdGhpcy5zdGFydFgpL2QpLE1hdGgucm91bmQoKHRoaXMubGFiZWxTaGFwZS5ib3VuZHMuZ2V0Q2VudGVyWSgpLXRoaXMuc3RhcnRZKS9kKSksZyxjKSxiPWIuY2xvbmUoKSxudWxsPT1iLm9mZnNldD9iLm9mZnNldD1nOihiLm9mZnNldC54Kz1nLngsYi5vZmZzZXQueSs9Zy55KSx0aGlzLmdyYXBoLm1vZGVsLnNldEdlb21ldHJ5KGEsCmIpKTpudWxsIT10aGlzLnVuc2NhbGVkQm91bmRzJiYoZD10aGlzLmdyYXBoLnZpZXcuc2NhbGUsMD09dGhpcy5jaGlsZE9mZnNldFgmJjA9PXRoaXMuY2hpbGRPZmZzZXRZfHx0aGlzLm1vdmVDaGlsZHJlbihhLE1hdGgucm91bmQodGhpcy5jaGlsZE9mZnNldFgvZCksTWF0aC5yb3VuZCh0aGlzLmNoaWxkT2Zmc2V0WS9kKSksdGhpcy5ncmFwaC5yZXNpemVDZWxsKGEsdGhpcy51bnNjYWxlZEJvdW5kcyxnKSkpfTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLm1vdmVDaGlsZHJlbj1mdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKSxlPWQuZ2V0Q2hpbGRDb3VudChhKSxmPTA7ZjxlO2YrKyl7dmFyIGc9ZC5nZXRDaGlsZEF0KGEsZiksaz10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeShnKTtudWxsIT1rJiYoaz1rLmNsb25lKCksay50cmFuc2xhdGUoYixjKSxkLnNldEdlb21ldHJ5KGcsaykpfX07Cm14VmVydGV4SGFuZGxlci5wcm90b3R5cGUudW5pb249ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxrLGwpe2U9bnVsbCE9ZT9lJiZ0aGlzLmdyYXBoLmdyaWRFbmFibGVkOnRoaXMuZ3JhcGguZ3JpZEVuYWJsZWQ7aWYodGhpcy5zaW5nbGVTaXplcilyZXR1cm4gZD1hLngrYS53aWR0aCtiLGc9YS55K2EuaGVpZ2h0K2MsZSYmKGQ9dGhpcy5ncmFwaC5zbmFwKGQvZikqZixnPXRoaXMuZ3JhcGguc25hcChnL2YpKmYpLGY9bmV3IG14UmVjdGFuZ2xlKGEueCxhLnksMCwwKSxmLmFkZChuZXcgbXhSZWN0YW5nbGUoZCxnLDAsMCkpLGY7dmFyIG09YS53aWR0aCxuPWEuaGVpZ2h0LHA9YS54LWcueCpmLHE9cCttO2E9YS55LWcueSpmO3ZhciByPWErbix0PXArbS8yLHU9YStuLzI7NDxkPyhyKz1jLHI9ZT90aGlzLmdyYXBoLnNuYXAoci9mKSpmOk1hdGgucm91bmQoci9mKSpmKTozPmQmJihhKz1jLGE9ZT90aGlzLmdyYXBoLnNuYXAoYS9mKSpmOk1hdGgucm91bmQoYS9mKSpmKTtpZigwPT1kfHwKMz09ZHx8NT09ZClwKz1iLHA9ZT90aGlzLmdyYXBoLnNuYXAocC9mKSpmOk1hdGgucm91bmQocC9mKSpmO2Vsc2UgaWYoMj09ZHx8ND09ZHx8Nz09ZClxKz1iLHE9ZT90aGlzLmdyYXBoLnNuYXAocS9mKSpmOk1hdGgucm91bmQocS9mKSpmO2U9cS1wO2M9ci1hO2smJihrPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KHRoaXMuc3RhdGUuY2VsbCksbnVsbCE9ayYmKGs9ay53aWR0aC9rLmhlaWdodCwxPT1kfHwyPT1kfHw3PT1kfHw2PT1kP2U9YyprOmM9ZS9rLDA9PWQmJihwPXEtZSxhPXItYykpKTtsJiYoZSs9ZS1tLGMrPWMtbixwKz10LShwK2UvMiksYSs9dS0oYStjLzIpKTswPmUmJihwKz1lLGU9TWF0aC5hYnMoZSkpOzA+YyYmKGErPWMsYz1NYXRoLmFicyhjKSk7ZD1uZXcgbXhSZWN0YW5nbGUocCtnLngqZixhK2cueSpmLGUsYyk7bnVsbCE9dGhpcy5taW5Cb3VuZHMmJihkLndpZHRoPU1hdGgubWF4KGQud2lkdGgsdGhpcy5taW5Cb3VuZHMueCpmK3RoaXMubWluQm91bmRzLndpZHRoKgpmK01hdGgubWF4KDAsdGhpcy54MCpmLWQueCkpLGQuaGVpZ2h0PU1hdGgubWF4KGQuaGVpZ2h0LHRoaXMubWluQm91bmRzLnkqZit0aGlzLm1pbkJvdW5kcy5oZWlnaHQqZitNYXRoLm1heCgwLHRoaXMueTAqZi1kLnkpKSk7cmV0dXJuIGR9O214VmVydGV4SGFuZGxlci5wcm90b3R5cGUucmVkcmF3PWZ1bmN0aW9uKGEpe3RoaXMuc2VsZWN0aW9uQm91bmRzPXRoaXMuZ2V0U2VsZWN0aW9uQm91bmRzKHRoaXMuc3RhdGUpO3RoaXMuYm91bmRzPW5ldyBteFJlY3RhbmdsZSh0aGlzLnNlbGVjdGlvbkJvdW5kcy54LHRoaXMuc2VsZWN0aW9uQm91bmRzLnksdGhpcy5zZWxlY3Rpb25Cb3VuZHMud2lkdGgsdGhpcy5zZWxlY3Rpb25Cb3VuZHMuaGVpZ2h0KTt0aGlzLmRyYXdQcmV2aWV3KCk7YXx8dGhpcy5yZWRyYXdIYW5kbGVzKCl9OwpteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmdldEhhbmRsZVBhZGRpbmc9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgbXhQb2ludCgwLDApLGI9dGhpcy50b2xlcmFuY2U7bnVsbCE9dGhpcy5zaXplcnMmJjA8dGhpcy5zaXplcnMubGVuZ3RoJiZudWxsIT10aGlzLnNpemVyc1swXSYmKHRoaXMuYm91bmRzLndpZHRoPDIqdGhpcy5zaXplcnNbMF0uYm91bmRzLndpZHRoKzIqYnx8dGhpcy5ib3VuZHMuaGVpZ2h0PDIqdGhpcy5zaXplcnNbMF0uYm91bmRzLmhlaWdodCsyKmIpJiYoYi89MixhLng9dGhpcy5zaXplcnNbMF0uYm91bmRzLndpZHRoK2IsYS55PXRoaXMuc2l6ZXJzWzBdLmJvdW5kcy5oZWlnaHQrYik7cmV0dXJuIGF9O214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuZ2V0U2l6ZXJCb3VuZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib3VuZHN9OwpteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnJlZHJhd0hhbmRsZXM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFNpemVyQm91bmRzKCksYj10aGlzLnRvbGVyYW5jZTt0aGlzLnZlcnRpY2FsT2Zmc2V0PXRoaXMuaG9yaXpvbnRhbE9mZnNldD0wO2lmKG51bGwhPXRoaXMuY3VzdG9tSGFuZGxlcylmb3IodmFyIGM9MDtjPHRoaXMuY3VzdG9tSGFuZGxlcy5sZW5ndGg7YysrKXt2YXIgZD10aGlzLmN1c3RvbUhhbmRsZXNbY10uc2hhcGUubm9kZS5zdHlsZS5kaXNwbGF5O3RoaXMuY3VzdG9tSGFuZGxlc1tjXS5yZWRyYXcoKTt0aGlzLmN1c3RvbUhhbmRsZXNbY10uc2hhcGUubm9kZS5zdHlsZS5kaXNwbGF5PWQ7dGhpcy5jdXN0b21IYW5kbGVzW2NdLnNoYXBlLm5vZGUuc3R5bGUudmlzaWJpbGl0eT10aGlzLmlzQ3VzdG9tSGFuZGxlVmlzaWJsZSh0aGlzLmN1c3RvbUhhbmRsZXNbY10pPyIiOiJoaWRkZW4ifWlmKG51bGwhPXRoaXMuc2l6ZXJzJiYwPHRoaXMuc2l6ZXJzLmxlbmd0aCYmCm51bGwhPXRoaXMuc2l6ZXJzWzBdKXtpZihudWxsPT10aGlzLmluZGV4JiZ0aGlzLm1hbmFnZVNpemVycyYmODw9dGhpcy5zaXplcnMubGVuZ3RoKXtjPXRoaXMuZ2V0SGFuZGxlUGFkZGluZygpO3RoaXMuaG9yaXpvbnRhbE9mZnNldD1jLng7dGhpcy52ZXJ0aWNhbE9mZnNldD1jLnk7aWYoMCE9dGhpcy5ob3Jpem9udGFsT2Zmc2V0fHwwIT10aGlzLnZlcnRpY2FsT2Zmc2V0KWE9bmV3IG14UmVjdGFuZ2xlKGEueCxhLnksYS53aWR0aCxhLmhlaWdodCksYS54LT10aGlzLmhvcml6b250YWxPZmZzZXQvMixhLndpZHRoKz10aGlzLmhvcml6b250YWxPZmZzZXQsYS55LT10aGlzLnZlcnRpY2FsT2Zmc2V0LzIsYS5oZWlnaHQrPXRoaXMudmVydGljYWxPZmZzZXQ7ODw9dGhpcy5zaXplcnMubGVuZ3RoJiYoYS53aWR0aDwyKnRoaXMuc2l6ZXJzWzBdLmJvdW5kcy53aWR0aCsyKmJ8fGEuaGVpZ2h0PDIqdGhpcy5zaXplcnNbMF0uYm91bmRzLmhlaWdodCsyKmI/KHRoaXMuc2l6ZXJzWzBdLm5vZGUuc3R5bGUuZGlzcGxheT0KIm5vbmUiLHRoaXMuc2l6ZXJzWzJdLm5vZGUuc3R5bGUuZGlzcGxheT0ibm9uZSIsdGhpcy5zaXplcnNbNV0ubm9kZS5zdHlsZS5kaXNwbGF5PSJub25lIix0aGlzLnNpemVyc1s3XS5ub2RlLnN0eWxlLmRpc3BsYXk9Im5vbmUiKToodGhpcy5zaXplcnNbMF0ubm9kZS5zdHlsZS5kaXNwbGF5PSIiLHRoaXMuc2l6ZXJzWzJdLm5vZGUuc3R5bGUuZGlzcGxheT0iIix0aGlzLnNpemVyc1s1XS5ub2RlLnN0eWxlLmRpc3BsYXk9IiIsdGhpcy5zaXplcnNbN10ubm9kZS5zdHlsZS5kaXNwbGF5PSIiKSl9Yj1hLngrYS53aWR0aDtjPWEueSthLmhlaWdodDtpZih0aGlzLnNpbmdsZVNpemVyKXRoaXMubW92ZVNpemVyVG8odGhpcy5zaXplcnNbMF0sYixjKTtlbHNle3ZhciBkPWEueCthLndpZHRoLzIsZT1hLnkrYS5oZWlnaHQvMjtpZig4PD10aGlzLnNpemVycy5sZW5ndGgpe3ZhciBmPSJudy1yZXNpemUgbi1yZXNpemUgbmUtcmVzaXplIGUtcmVzaXplIHNlLXJlc2l6ZSBzLXJlc2l6ZSBzdy1yZXNpemUgdy1yZXNpemUiLnNwbGl0KCIgIiksCmc9bXhVdGlscy50b1JhZGlhbnModGhpcy5zdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9ST1RBVElPTl18fCIwIiksaz1NYXRoLmNvcyhnKSxsPU1hdGguc2luKGcpLGc9TWF0aC5yb3VuZCg0KmcvTWF0aC5QSSksbT1uZXcgbXhQb2ludChhLmdldENlbnRlclgoKSxhLmdldENlbnRlclkoKSksbj1teFV0aWxzLmdldFJvdGF0ZWRQb2ludChuZXcgbXhQb2ludChhLngsYS55KSxrLGwsbSk7dGhpcy5tb3ZlU2l6ZXJUbyh0aGlzLnNpemVyc1swXSxuLngsbi55KTt0aGlzLnNpemVyc1swXS5zZXRDdXJzb3IoZltteFV0aWxzLm1vZCgwK2csZi5sZW5ndGgpXSk7bi54PWQ7bi55PWEueTtuPW14VXRpbHMuZ2V0Um90YXRlZFBvaW50KG4sayxsLG0pO3RoaXMubW92ZVNpemVyVG8odGhpcy5zaXplcnNbMV0sbi54LG4ueSk7dGhpcy5zaXplcnNbMV0uc2V0Q3Vyc29yKGZbbXhVdGlscy5tb2QoMStnLGYubGVuZ3RoKV0pO24ueD1iO24ueT1hLnk7bj1teFV0aWxzLmdldFJvdGF0ZWRQb2ludChuLAprLGwsbSk7dGhpcy5tb3ZlU2l6ZXJUbyh0aGlzLnNpemVyc1syXSxuLngsbi55KTt0aGlzLnNpemVyc1syXS5zZXRDdXJzb3IoZltteFV0aWxzLm1vZCgyK2csZi5sZW5ndGgpXSk7bi54PWEueDtuLnk9ZTtuPW14VXRpbHMuZ2V0Um90YXRlZFBvaW50KG4sayxsLG0pO3RoaXMubW92ZVNpemVyVG8odGhpcy5zaXplcnNbM10sbi54LG4ueSk7dGhpcy5zaXplcnNbM10uc2V0Q3Vyc29yKGZbbXhVdGlscy5tb2QoNytnLGYubGVuZ3RoKV0pO24ueD1iO24ueT1lO249bXhVdGlscy5nZXRSb3RhdGVkUG9pbnQobixrLGwsbSk7dGhpcy5tb3ZlU2l6ZXJUbyh0aGlzLnNpemVyc1s0XSxuLngsbi55KTt0aGlzLnNpemVyc1s0XS5zZXRDdXJzb3IoZltteFV0aWxzLm1vZCgzK2csZi5sZW5ndGgpXSk7bi54PWEueDtuLnk9YztuPW14VXRpbHMuZ2V0Um90YXRlZFBvaW50KG4sayxsLG0pO3RoaXMubW92ZVNpemVyVG8odGhpcy5zaXplcnNbNV0sbi54LG4ueSk7dGhpcy5zaXplcnNbNV0uc2V0Q3Vyc29yKGZbbXhVdGlscy5tb2QoNisKZyxmLmxlbmd0aCldKTtuLng9ZDtuLnk9YztuPW14VXRpbHMuZ2V0Um90YXRlZFBvaW50KG4sayxsLG0pO3RoaXMubW92ZVNpemVyVG8odGhpcy5zaXplcnNbNl0sbi54LG4ueSk7dGhpcy5zaXplcnNbNl0uc2V0Q3Vyc29yKGZbbXhVdGlscy5tb2QoNStnLGYubGVuZ3RoKV0pO24ueD1iO24ueT1jO249bXhVdGlscy5nZXRSb3RhdGVkUG9pbnQobixrLGwsbSk7dGhpcy5tb3ZlU2l6ZXJUbyh0aGlzLnNpemVyc1s3XSxuLngsbi55KTt0aGlzLnNpemVyc1s3XS5zZXRDdXJzb3IoZltteFV0aWxzLm1vZCg0K2csZi5sZW5ndGgpXSk7bi54PWQrdGhpcy5zdGF0ZS5hYnNvbHV0ZU9mZnNldC54O24ueT1lK3RoaXMuc3RhdGUuYWJzb2x1dGVPZmZzZXQueTtuPW14VXRpbHMuZ2V0Um90YXRlZFBvaW50KG4sayxsLG0pO3RoaXMubW92ZVNpemVyVG8odGhpcy5zaXplcnNbOF0sbi54LG4ueSl9ZWxzZSAyPD10aGlzLnN0YXRlLndpZHRoJiYyPD10aGlzLnN0YXRlLmhlaWdodD90aGlzLm1vdmVTaXplclRvKHRoaXMuc2l6ZXJzWzBdLApkK3RoaXMuc3RhdGUuYWJzb2x1dGVPZmZzZXQueCxlK3RoaXMuc3RhdGUuYWJzb2x1dGVPZmZzZXQueSk6dGhpcy5tb3ZlU2l6ZXJUbyh0aGlzLnNpemVyc1swXSx0aGlzLnN0YXRlLngsdGhpcy5zdGF0ZS55KX19bnVsbCE9dGhpcy5yb3RhdGlvblNoYXBlJiYoZz1teFV0aWxzLnRvUmFkaWFucyhudWxsIT10aGlzLmN1cnJlbnRBbHBoYT90aGlzLmN1cnJlbnRBbHBoYTp0aGlzLnN0YXRlLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OXXx8IjAiKSxrPU1hdGguY29zKGcpLGw9TWF0aC5zaW4oZyksbT1uZXcgbXhQb2ludCh0aGlzLnN0YXRlLmdldENlbnRlclgoKSx0aGlzLnN0YXRlLmdldENlbnRlclkoKSksbj1teFV0aWxzLmdldFJvdGF0ZWRQb2ludCh0aGlzLmdldFJvdGF0aW9uSGFuZGxlUG9zaXRpb24oKSxrLGwsbSksbnVsbCE9dGhpcy5yb3RhdGlvblNoYXBlLm5vZGUmJih0aGlzLm1vdmVTaXplclRvKHRoaXMucm90YXRpb25TaGFwZSxuLngsbi55KSx0aGlzLnJvdGF0aW9uU2hhcGUubm9kZS5zdHlsZS52aXNpYmlsaXR5PQp0aGlzLnN0YXRlLnZpZXcuZ3JhcGguaXNFZGl0aW5nKCk/ImhpZGRlbiI6IiIpKTtudWxsIT10aGlzLnNlbGVjdGlvbkJvcmRlciYmKHRoaXMuc2VsZWN0aW9uQm9yZGVyLnJvdGF0aW9uPU51bWJlcih0aGlzLnN0YXRlLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OXXx8IjAiKSk7aWYobnVsbCE9dGhpcy5lZGdlSGFuZGxlcnMpZm9yKGM9MDtjPHRoaXMuZWRnZUhhbmRsZXJzLmxlbmd0aDtjKyspdGhpcy5lZGdlSGFuZGxlcnNbY10ucmVkcmF3KCl9O214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuaXNDdXN0b21IYW5kbGVWaXNpYmxlPWZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmdyYXBoLmlzRWRpdGluZygpJiYxPT10aGlzLnN0YXRlLnZpZXcuZ3JhcGguZ2V0U2VsZWN0aW9uQ291bnQoKX07Cm14VmVydGV4SGFuZGxlci5wcm90b3R5cGUuZ2V0Um90YXRpb25IYW5kbGVQb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybiBuZXcgbXhQb2ludCh0aGlzLmJvdW5kcy54K3RoaXMuYm91bmRzLndpZHRoLzIsdGhpcy5ib3VuZHMueSt0aGlzLnJvdGF0aW9uSGFuZGxlVlNwYWNpbmcpfTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmlzUGFyZW50SGlnaGxpZ2h0VmlzaWJsZT1mdW5jdGlvbigpe3JldHVybiEwfTsKbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS51cGRhdGVQYXJlbnRIaWdobGlnaHQ9ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLnNlbGVjdGlvbkJvcmRlciYmdGhpcy5pc1BhcmVudEhpZ2hsaWdodFZpc2libGUoKSlpZihudWxsIT10aGlzLnBhcmVudEhpZ2hsaWdodCl7dmFyIGE9dGhpcy5ncmFwaC5tb2RlbC5nZXRQYXJlbnQodGhpcy5zdGF0ZS5jZWxsKTtpZih0aGlzLmdyYXBoLm1vZGVsLmlzVmVydGV4KGEpKXt2YXIgYT10aGlzLmdyYXBoLnZpZXcuZ2V0U3RhdGUoYSksYj10aGlzLnBhcmVudEhpZ2hsaWdodC5ib3VuZHM7bnVsbD09YXx8Yi54PT1hLngmJmIueT09YS55JiZiLndpZHRoPT1hLndpZHRoJiZiLmhlaWdodD09YS5oZWlnaHR8fCh0aGlzLnBhcmVudEhpZ2hsaWdodC5ib3VuZHM9bXhSZWN0YW5nbGUuZnJvbVJlY3RhbmdsZShhKSx0aGlzLnBhcmVudEhpZ2hsaWdodC5yZWRyYXcoKSl9ZWxzZSB0aGlzLnBhcmVudEhpZ2hsaWdodC5kZXN0cm95KCksdGhpcy5wYXJlbnRIaWdobGlnaHQ9Cm51bGx9ZWxzZSB0aGlzLnBhcmVudEhpZ2hsaWdodEVuYWJsZWQmJihhPXRoaXMuZ3JhcGgubW9kZWwuZ2V0UGFyZW50KHRoaXMuc3RhdGUuY2VsbCksdGhpcy5ncmFwaC5tb2RlbC5pc1ZlcnRleChhKSYmKGE9dGhpcy5ncmFwaC52aWV3LmdldFN0YXRlKGEpLG51bGwhPWEmJih0aGlzLnBhcmVudEhpZ2hsaWdodD10aGlzLmNyZWF0ZVBhcmVudEhpZ2hsaWdodFNoYXBlKGEpLHRoaXMucGFyZW50SGlnaGxpZ2h0LmRpYWxlY3Q9dGhpcy5ncmFwaC5kaWFsZWN0IT1teENvbnN0YW50cy5ESUFMRUNUX1NWRz9teENvbnN0YW50cy5ESUFMRUNUX1ZNTDpteENvbnN0YW50cy5ESUFMRUNUX1NWRyx0aGlzLnBhcmVudEhpZ2hsaWdodC5wb2ludGVyRXZlbnRzPSExLHRoaXMucGFyZW50SGlnaGxpZ2h0LnJvdGF0aW9uPU51bWJlcihhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OXXx8IjAiKSx0aGlzLnBhcmVudEhpZ2hsaWdodC5pbml0KHRoaXMuZ3JhcGguZ2V0VmlldygpLmdldE92ZXJsYXlQYW5lKCkpLAp0aGlzLnBhcmVudEhpZ2hsaWdodC5yZWRyYXcoKSkpKX07Cm14VmVydGV4SGFuZGxlci5wcm90b3R5cGUuZHJhd1ByZXZpZXc9ZnVuY3Rpb24oKXtudWxsIT10aGlzLnByZXZpZXcmJih0aGlzLnByZXZpZXcuYm91bmRzPXRoaXMuYm91bmRzLHRoaXMucHJldmlldy5ub2RlLnBhcmVudE5vZGU9PXRoaXMuZ3JhcGguY29udGFpbmVyJiYodGhpcy5wcmV2aWV3LmJvdW5kcy53aWR0aD1NYXRoLm1heCgwLHRoaXMucHJldmlldy5ib3VuZHMud2lkdGgtMSksdGhpcy5wcmV2aWV3LmJvdW5kcy5oZWlnaHQ9TWF0aC5tYXgoMCx0aGlzLnByZXZpZXcuYm91bmRzLmhlaWdodC0xKSksdGhpcy5wcmV2aWV3LnJvdGF0aW9uPU51bWJlcih0aGlzLnN0YXRlLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OXXx8IjAiKSx0aGlzLnByZXZpZXcucmVkcmF3KCkpO3RoaXMuc2VsZWN0aW9uQm9yZGVyLmJvdW5kcz10aGlzLmdldFNlbGVjdGlvbkJvcmRlckJvdW5kcygpO3RoaXMuc2VsZWN0aW9uQm9yZGVyLnJlZHJhdygpO3RoaXMudXBkYXRlUGFyZW50SGlnaGxpZ2h0KCl9OwpteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmdldFNlbGVjdGlvbkJvcmRlckJvdW5kcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJvdW5kc307Cm14VmVydGV4SGFuZGxlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe251bGwhPXRoaXMuZXNjYXBlSGFuZGxlciYmKHRoaXMuc3RhdGUudmlldy5ncmFwaC5yZW1vdmVMaXN0ZW5lcih0aGlzLmVzY2FwZUhhbmRsZXIpLHRoaXMuZXNjYXBlSGFuZGxlcj1udWxsKTtudWxsIT10aGlzLnByZXZpZXcmJih0aGlzLnByZXZpZXcuZGVzdHJveSgpLHRoaXMucHJldmlldz1udWxsKTtudWxsIT10aGlzLnBhcmVudEhpZ2hsaWdodCYmKHRoaXMucGFyZW50SGlnaGxpZ2h0LmRlc3Ryb3koKSx0aGlzLnBhcmVudEhpZ2hsaWdodD1udWxsKTtudWxsIT10aGlzLmdob3N0UHJldmlldyYmKHRoaXMuZ2hvc3RQcmV2aWV3LmRlc3Ryb3koKSx0aGlzLmdob3N0UHJldmlldz1udWxsKTtudWxsIT10aGlzLnNlbGVjdGlvbkJvcmRlciYmKHRoaXMuc2VsZWN0aW9uQm9yZGVyLmRlc3Ryb3koKSx0aGlzLnNlbGVjdGlvbkJvcmRlcj1udWxsKTt0aGlzLmxhYmVsU2hhcGU9bnVsbDt0aGlzLnJlbW92ZUhpbnQoKTsKaWYobnVsbCE9dGhpcy5zaXplcnMpe2Zvcih2YXIgYT0wO2E8dGhpcy5zaXplcnMubGVuZ3RoO2ErKyl0aGlzLnNpemVyc1thXS5kZXN0cm95KCk7dGhpcy5zaXplcnM9bnVsbH1pZihudWxsIT10aGlzLmN1c3RvbUhhbmRsZXMpe2ZvcihhPTA7YTx0aGlzLmN1c3RvbUhhbmRsZXMubGVuZ3RoO2ErKyl0aGlzLmN1c3RvbUhhbmRsZXNbYV0uZGVzdHJveSgpO3RoaXMuY3VzdG9tSGFuZGxlcz1udWxsfX07CmZ1bmN0aW9uIG14RWRnZUhhbmRsZXIoYSl7bnVsbCE9YSYmKHRoaXMuc3RhdGU9YSx0aGlzLmluaXQoKSx0aGlzLmVzY2FwZUhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYixjKXt2YXIgZD1udWxsIT10aGlzLmluZGV4O3RoaXMucmVzZXQoKTtkJiZ0aGlzLmdyYXBoLmNlbGxSZW5kZXJlci5yZWRyYXcodGhpcy5zdGF0ZSwhMSxhLnZpZXcuaXNSZW5kZXJpbmcoKSl9KSx0aGlzLnN0YXRlLnZpZXcuZ3JhcGguYWRkTGlzdGVuZXIobXhFdmVudC5FU0NBUEUsdGhpcy5lc2NhcGVIYW5kbGVyKSl9bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuZ3JhcGg9bnVsbDtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5zdGF0ZT1udWxsO214RWRnZUhhbmRsZXIucHJvdG90eXBlLm1hcmtlcj1udWxsO214RWRnZUhhbmRsZXIucHJvdG90eXBlLmNvbnN0cmFpbnRIYW5kbGVyPW51bGw7bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuZXJyb3I9bnVsbDsKbXhFZGdlSGFuZGxlci5wcm90b3R5cGUuc2hhcGU9bnVsbDtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5iZW5kcz1udWxsO214RWRnZUhhbmRsZXIucHJvdG90eXBlLmxhYmVsU2hhcGU9bnVsbDtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5jbG9uZUVuYWJsZWQ9ITA7bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuYWRkRW5hYmxlZD0hMTtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5yZW1vdmVFbmFibGVkPSExO214RWRnZUhhbmRsZXIucHJvdG90eXBlLmRibENsaWNrUmVtb3ZlRW5hYmxlZD0hMTtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5tZXJnZVJlbW92ZUVuYWJsZWQ9ITE7bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuc3RyYWlnaHRSZW1vdmVFbmFibGVkPSExO214RWRnZUhhbmRsZXIucHJvdG90eXBlLnZpcnR1YWxCZW5kc0VuYWJsZWQ9ITE7bXhFZGdlSGFuZGxlci5wcm90b3R5cGUudmlydHVhbEJlbmRPcGFjaXR5PTIwOwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5wYXJlbnRIaWdobGlnaHRFbmFibGVkPSExO214RWRnZUhhbmRsZXIucHJvdG90eXBlLnByZWZlckh0bWw9ITE7bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuYWxsb3dIYW5kbGVCb3VuZHNDaGVjaz0hMDtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5zbmFwVG9UZXJtaW5hbHM9ITE7bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuaGFuZGxlSW1hZ2U9bnVsbDtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS50b2xlcmFuY2U9MDtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5vdXRsaW5lQ29ubmVjdD0hMTtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5tYW5hZ2VMYWJlbEhhbmRsZT0hMTsKbXhFZGdlSGFuZGxlci5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3RoaXMuZ3JhcGg9dGhpcy5zdGF0ZS52aWV3LmdyYXBoO3RoaXMubWFya2VyPXRoaXMuY3JlYXRlTWFya2VyKCk7dGhpcy5jb25zdHJhaW50SGFuZGxlcj1uZXcgbXhDb25zdHJhaW50SGFuZGxlcih0aGlzLmdyYXBoKTt0aGlzLnBvaW50cz1bXTt0aGlzLmFic3BvaW50cz10aGlzLmdldFNlbGVjdGlvblBvaW50cyh0aGlzLnN0YXRlKTt0aGlzLnNoYXBlPXRoaXMuY3JlYXRlU2VsZWN0aW9uU2hhcGUodGhpcy5hYnNwb2ludHMpO3RoaXMuc2hhcGUuZGlhbGVjdD10aGlzLmdyYXBoLmRpYWxlY3QhPW14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHP214Q29uc3RhbnRzLkRJQUxFQ1RfTUlYRURIVE1MOm14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHO3RoaXMuc2hhcGUuaW5pdCh0aGlzLmdyYXBoLmdldFZpZXcoKS5nZXRPdmVybGF5UGFuZSgpKTt0aGlzLnNoYXBlLnBvaW50ZXJFdmVudHM9ITE7dGhpcy5zaGFwZS5zZXRDdXJzb3IobXhDb25zdGFudHMuQ1VSU09SX01PVkFCTEVfRURHRSk7Cm14RXZlbnQucmVkaXJlY3RNb3VzZUV2ZW50cyh0aGlzLnNoYXBlLm5vZGUsdGhpcy5ncmFwaCx0aGlzLnN0YXRlKTt0aGlzLnByZWZlckh0bWw9bnVsbCE9dGhpcy5zdGF0ZS50ZXh0JiZ0aGlzLnN0YXRlLnRleHQubm9kZS5wYXJlbnROb2RlPT10aGlzLmdyYXBoLmNvbnRhaW5lcjtpZighdGhpcy5wcmVmZXJIdG1sKXt2YXIgYT10aGlzLnN0YXRlLmdldFZpc2libGVUZXJtaW5hbFN0YXRlKCEwKTtudWxsIT1hJiYodGhpcy5wcmVmZXJIdG1sPW51bGwhPWEudGV4dCYmYS50ZXh0Lm5vZGUucGFyZW50Tm9kZT09dGhpcy5ncmFwaC5jb250YWluZXIpO3RoaXMucHJlZmVySHRtbHx8KGE9dGhpcy5zdGF0ZS5nZXRWaXNpYmxlVGVybWluYWxTdGF0ZSghMSksbnVsbCE9YSYmKHRoaXMucHJlZmVySHRtbD1udWxsIT1hLnRleHQmJmEudGV4dC5ub2RlLnBhcmVudE5vZGU9PXRoaXMuZ3JhcGguY29udGFpbmVyKSl9dGhpcy5wYXJlbnRIaWdobGlnaHRFbmFibGVkJiYoYT10aGlzLmdyYXBoLm1vZGVsLmdldFBhcmVudCh0aGlzLnN0YXRlLmNlbGwpLAp0aGlzLmdyYXBoLm1vZGVsLmlzVmVydGV4KGEpJiYoYT10aGlzLmdyYXBoLnZpZXcuZ2V0U3RhdGUoYSksbnVsbCE9YSYmKHRoaXMucGFyZW50SGlnaGxpZ2h0PXRoaXMuY3JlYXRlUGFyZW50SGlnaGxpZ2h0U2hhcGUoYSksdGhpcy5wYXJlbnRIaWdobGlnaHQuZGlhbGVjdD10aGlzLmdyYXBoLmRpYWxlY3QhPW14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHP214Q29uc3RhbnRzLkRJQUxFQ1RfVk1MOm14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHLHRoaXMucGFyZW50SGlnaGxpZ2h0LnBvaW50ZXJFdmVudHM9ITEsdGhpcy5wYXJlbnRIaWdobGlnaHQucm90YXRpb249TnVtYmVyKGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT05dfHwiMCIpLHRoaXMucGFyZW50SGlnaGxpZ2h0LmluaXQodGhpcy5ncmFwaC5nZXRWaWV3KCkuZ2V0T3ZlcmxheVBhbmUoKSkpKSk7aWYodGhpcy5ncmFwaC5nZXRTZWxlY3Rpb25Db3VudCgpPG14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5tYXhDZWxsc3x8CjA+PW14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5tYXhDZWxscyl0aGlzLmJlbmRzPXRoaXMuY3JlYXRlQmVuZHMoKSx0aGlzLmlzVmlydHVhbEJlbmRzRW5hYmxlZCgpJiYodGhpcy52aXJ0dWFsQmVuZHM9dGhpcy5jcmVhdGVWaXJ0dWFsQmVuZHMoKSk7dGhpcy5sYWJlbD1uZXcgbXhQb2ludCh0aGlzLnN0YXRlLmFic29sdXRlT2Zmc2V0LngsdGhpcy5zdGF0ZS5hYnNvbHV0ZU9mZnNldC55KTt0aGlzLmxhYmVsU2hhcGU9dGhpcy5jcmVhdGVMYWJlbEhhbmRsZVNoYXBlKCk7dGhpcy5pbml0QmVuZCh0aGlzLmxhYmVsU2hhcGUpO3RoaXMubGFiZWxTaGFwZS5zZXRDdXJzb3IobXhDb25zdGFudHMuQ1VSU09SX0xBQkVMX0hBTkRMRSk7dGhpcy5jdXN0b21IYW5kbGVzPXRoaXMuY3JlYXRlQ3VzdG9tSGFuZGxlcygpO3RoaXMucmVkcmF3KCl9O214RWRnZUhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZUN1c3RvbUhhbmRsZXM9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH07Cm14RWRnZUhhbmRsZXIucHJvdG90eXBlLmlzVmlydHVhbEJlbmRzRW5hYmxlZD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy52aXJ0dWFsQmVuZHNFbmFibGVkJiYobnVsbD09dGhpcy5zdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9FREdFXXx8dGhpcy5zdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9FREdFXT09bXhDb25zdGFudHMuTk9ORXx8MT09dGhpcy5zdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9OT0VER0VTVFlMRV0pJiYiYXJyb3ciIT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfU0hBUEUsbnVsbCl9O214RWRnZUhhbmRsZXIucHJvdG90eXBlLmlzQ2VsbEVuYWJsZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuITB9O214RWRnZUhhbmRsZXIucHJvdG90eXBlLmlzQWRkUG9pbnRFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gbXhFdmVudC5pc1NoaWZ0RG93bihhKX07Cm14RWRnZUhhbmRsZXIucHJvdG90eXBlLmlzUmVtb3ZlUG9pbnRFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gbXhFdmVudC5pc1NoaWZ0RG93bihhKX07bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uUG9pbnRzPWZ1bmN0aW9uKGEpe3JldHVybiBhLmFic29sdXRlUG9pbnRzfTtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVQYXJlbnRIaWdobGlnaHRTaGFwZT1mdW5jdGlvbihhKXthPW5ldyBteFJlY3RhbmdsZVNoYXBlKGEsbnVsbCx0aGlzLmdldFNlbGVjdGlvbkNvbG9yKCkpO2Euc3Ryb2tld2lkdGg9dGhpcy5nZXRTZWxlY3Rpb25TdHJva2VXaWR0aCgpO2EuaXNEYXNoZWQ9dGhpcy5pc1NlbGVjdGlvbkRhc2hlZCgpO3JldHVybiBhfTsKbXhFZGdlSGFuZGxlci5wcm90b3R5cGUuY3JlYXRlU2VsZWN0aW9uU2hhcGU9ZnVuY3Rpb24oYSl7YT1uZXcgdGhpcy5zdGF0ZS5zaGFwZS5jb25zdHJ1Y3RvcjthLm91dGxpbmU9ITA7YS5hcHBseSh0aGlzLnN0YXRlKTthLmlzRGFzaGVkPXRoaXMuaXNTZWxlY3Rpb25EYXNoZWQoKTthLnN0cm9rZT10aGlzLmdldFNlbGVjdGlvbkNvbG9yKCk7YS5pc1NoYWRvdz0hMTtyZXR1cm4gYX07bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uQ29sb3I9ZnVuY3Rpb24oKXtyZXR1cm4gbXhDb25zdGFudHMuRURHRV9TRUxFQ1RJT05fQ09MT1J9O214RWRnZUhhbmRsZXIucHJvdG90eXBlLmdldFNlbGVjdGlvblN0cm9rZVdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIG14Q29uc3RhbnRzLkVER0VfU0VMRUNUSU9OX1NUUk9LRVdJRFRIfTtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5pc1NlbGVjdGlvbkRhc2hlZD1mdW5jdGlvbigpe3JldHVybiBteENvbnN0YW50cy5FREdFX1NFTEVDVElPTl9EQVNIRUR9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5pc0Nvbm5lY3RhYmxlQ2VsbD1mdW5jdGlvbihhKXtyZXR1cm4hMH07bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuZ2V0Q2VsbEF0PWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMub3V0bGluZUNvbm5lY3Q/bnVsbDp0aGlzLmdyYXBoLmdldENlbGxBdChhLGIpfTsKbXhFZGdlSGFuZGxlci5wcm90b3R5cGUuY3JlYXRlTWFya2VyPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IG14Q2VsbE1hcmtlcih0aGlzLmdyYXBoKSxiPXRoaXM7YS5nZXRDZWxsPWZ1bmN0aW9uKGEpe3ZhciBjPW14Q2VsbE1hcmtlci5wcm90b3R5cGUuZ2V0Q2VsbC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YyE9Yi5zdGF0ZS5jZWxsJiZudWxsIT1jfHxudWxsPT1iLmN1cnJlbnRQb2ludHx8KGM9Yi5ncmFwaC5nZXRDZWxsQXQoYi5jdXJyZW50UG9pbnQueCxiLmN1cnJlbnRQb2ludC55KSk7aWYobnVsbCE9YyYmIXRoaXMuZ3JhcGguaXNDZWxsQ29ubmVjdGFibGUoYykpe3ZhciBlPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKS5nZXRQYXJlbnQoYyk7dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmlzVmVydGV4KGUpJiZ0aGlzLmdyYXBoLmlzQ2VsbENvbm5lY3RhYmxlKGUpJiYoYz1lKX1lPWIuZ3JhcGguZ2V0TW9kZWwoKTtpZih0aGlzLmdyYXBoLmlzU3dpbWxhbmUoYykmJm51bGwhPWIuY3VycmVudFBvaW50JiYKdGhpcy5ncmFwaC5oaXRzU3dpbWxhbmVDb250ZW50KGMsYi5jdXJyZW50UG9pbnQueCxiLmN1cnJlbnRQb2ludC55KXx8IWIuaXNDb25uZWN0YWJsZUNlbGwoYyl8fGM9PWIuc3RhdGUuY2VsbHx8bnVsbCE9YyYmIWIuZ3JhcGguY29ubmVjdGFibGVFZGdlcyYmZS5pc0VkZ2UoYyl8fGUuaXNBbmNlc3RvcihiLnN0YXRlLmNlbGwsYykpYz1udWxsO3RoaXMuZ3JhcGguaXNDZWxsQ29ubmVjdGFibGUoYyl8fChjPW51bGwpO3JldHVybiBjfTthLmlzVmFsaWRTdGF0ZT1mdW5jdGlvbihhKXt2YXIgYz1iLmdyYXBoLmdldE1vZGVsKCksYz1iLmdyYXBoLnZpZXcuZ2V0VGVybWluYWxQb3J0KGEsYi5ncmFwaC52aWV3LmdldFN0YXRlKGMuZ2V0VGVybWluYWwoYi5zdGF0ZS5jZWxsLCFiLmlzU291cmNlKSksIWIuaXNTb3VyY2UpLGM9bnVsbCE9Yz9jLmNlbGw6bnVsbDtiLmVycm9yPWIudmFsaWRhdGVDb25uZWN0aW9uKGIuaXNTb3VyY2U/YS5jZWxsOmMsYi5pc1NvdXJjZT9jOmEuY2VsbCk7CnJldHVybiBudWxsPT1iLmVycm9yfTtyZXR1cm4gYX07bXhFZGdlSGFuZGxlci5wcm90b3R5cGUudmFsaWRhdGVDb25uZWN0aW9uPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZ3JhcGguZ2V0RWRnZVZhbGlkYXRpb25FcnJvcih0aGlzLnN0YXRlLmNlbGwsYSxiKX07Cm14RWRnZUhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZUJlbmRzPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuc3RhdGUuY2VsbCxiPVtdLGM9MDtjPHRoaXMuYWJzcG9pbnRzLmxlbmd0aDtjKyspaWYodGhpcy5pc0hhbmRsZVZpc2libGUoYykpe3ZhciBkPWM9PXRoaXMuYWJzcG9pbnRzLmxlbmd0aC0xLGU9MD09Y3x8ZDsoZXx8dGhpcy5ncmFwaC5pc0NlbGxCZW5kYWJsZShhKSkmJm14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3ZhciBkPXRoaXMuY3JlYXRlSGFuZGxlU2hhcGUoYSk7dGhpcy5pbml0QmVuZChkLG14VXRpbHMuYmluZCh0aGlzLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5kYmxDbGlja1JlbW92ZUVuYWJsZWQmJnRoaXMucmVtb3ZlUG9pbnQodGhpcy5zdGF0ZSxhKX0pKSk7dGhpcy5pc0hhbmRsZUVuYWJsZWQoYykmJmQuc2V0Q3Vyc29yKGU/bXhDb25zdGFudHMuQ1VSU09SX1RFUk1JTkFMX0hBTkRMRTpteENvbnN0YW50cy5DVVJTT1JfQkVORF9IQU5ETEUpOwpiLnB1c2goZCk7ZXx8KHRoaXMucG9pbnRzLnB1c2gobmV3IG14UG9pbnQoMCwwKSksZC5ub2RlLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiIpfSkoYyl9cmV0dXJuIGJ9O214RWRnZUhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZVZpcnR1YWxCZW5kcz1mdW5jdGlvbigpe3ZhciBhPVtdO2lmKHRoaXMuZ3JhcGguaXNDZWxsQmVuZGFibGUodGhpcy5zdGF0ZS5jZWxsKSlmb3IodmFyIGI9MTtiPHRoaXMuYWJzcG9pbnRzLmxlbmd0aDtiKyspbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7dGhpcy5pbml0QmVuZChiKTtiLnNldEN1cnNvcihteENvbnN0YW50cy5DVVJTT1JfVklSVFVBTF9CRU5EX0hBTkRMRSk7YS5wdXNoKGIpfSkodGhpcy5jcmVhdGVIYW5kbGVTaGFwZSgpKTtyZXR1cm4gYX07bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuaXNIYW5kbGVFbmFibGVkPWZ1bmN0aW9uKGEpe3JldHVybiEwfTsKbXhFZGdlSGFuZGxlci5wcm90b3R5cGUuaXNIYW5kbGVWaXNpYmxlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuc3RhdGUuZ2V0VmlzaWJsZVRlcm1pbmFsU3RhdGUoITApLGM9dGhpcy5zdGF0ZS5nZXRWaXNpYmxlVGVybWluYWxTdGF0ZSghMSksZD10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeSh0aGlzLnN0YXRlLmNlbGwpO3JldHVybihudWxsIT1kP3RoaXMuZ3JhcGgudmlldy5nZXRFZGdlU3R5bGUodGhpcy5zdGF0ZSxkLnBvaW50cyxiLGMpOm51bGwpIT1teEVkZ2VTdHlsZS5FbnRpdHlSZWxhdGlvbnx8MD09YXx8YT09dGhpcy5hYnNwb2ludHMubGVuZ3RoLTF9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVIYW5kbGVTaGFwZT1mdW5jdGlvbihhKXtpZihudWxsIT10aGlzLmhhbmRsZUltYWdlKXJldHVybiBhPW5ldyBteEltYWdlU2hhcGUobmV3IG14UmVjdGFuZ2xlKDAsMCx0aGlzLmhhbmRsZUltYWdlLndpZHRoLHRoaXMuaGFuZGxlSW1hZ2UuaGVpZ2h0KSx0aGlzLmhhbmRsZUltYWdlLnNyYyksYS5wcmVzZXJ2ZUltYWdlQXNwZWN0PSExLGE7YT1teENvbnN0YW50cy5IQU5ETEVfU0laRTt0aGlzLnByZWZlckh0bWwmJi0tYTtyZXR1cm4gbmV3IG14UmVjdGFuZ2xlU2hhcGUobmV3IG14UmVjdGFuZ2xlKDAsMCxhLGEpLG14Q29uc3RhbnRzLkhBTkRMRV9GSUxMQ09MT1IsbXhDb25zdGFudHMuSEFORExFX1NUUk9LRUNPTE9SKX07Cm14RWRnZUhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZUxhYmVsSGFuZGxlU2hhcGU9ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLmxhYmVsSGFuZGxlSW1hZ2Upe3ZhciBhPW5ldyBteEltYWdlU2hhcGUobmV3IG14UmVjdGFuZ2xlKDAsMCx0aGlzLmxhYmVsSGFuZGxlSW1hZ2Uud2lkdGgsdGhpcy5sYWJlbEhhbmRsZUltYWdlLmhlaWdodCksdGhpcy5sYWJlbEhhbmRsZUltYWdlLnNyYyk7YS5wcmVzZXJ2ZUltYWdlQXNwZWN0PSExO3JldHVybiBhfWE9bXhDb25zdGFudHMuTEFCRUxfSEFORExFX1NJWkU7cmV0dXJuIG5ldyBteFJlY3RhbmdsZVNoYXBlKG5ldyBteFJlY3RhbmdsZSgwLDAsYSxhKSxteENvbnN0YW50cy5MQUJFTF9IQU5ETEVfRklMTENPTE9SLG14Q29uc3RhbnRzLkhBTkRMRV9TVFJPS0VDT0xPUil9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5pbml0QmVuZD1mdW5jdGlvbihhLGIpe3RoaXMucHJlZmVySHRtbD8oYS5kaWFsZWN0PW14Q29uc3RhbnRzLkRJQUxFQ1RfU1RSSUNUSFRNTCxhLmluaXQodGhpcy5ncmFwaC5jb250YWluZXIpKTooYS5kaWFsZWN0PXRoaXMuZ3JhcGguZGlhbGVjdCE9bXhDb25zdGFudHMuRElBTEVDVF9TVkc/bXhDb25zdGFudHMuRElBTEVDVF9NSVhFREhUTUw6bXhDb25zdGFudHMuRElBTEVDVF9TVkcsYS5pbml0KHRoaXMuZ3JhcGguZ2V0VmlldygpLmdldE92ZXJsYXlQYW5lKCkpKTtteEV2ZW50LnJlZGlyZWN0TW91c2VFdmVudHMoYS5ub2RlLHRoaXMuZ3JhcGgsdGhpcy5zdGF0ZSxudWxsLG51bGwsbnVsbCxiKTsobXhDbGllbnQuSVNfUVVJUktTfHw4PT1kb2N1bWVudC5kb2N1bWVudE1vZGUpJiZteEV2ZW50LmFkZExpc3RlbmVyKGEubm9kZSwiZHJhZ3N0YXJ0IixmdW5jdGlvbihhKXtteEV2ZW50LmNvbnN1bWUoYSk7cmV0dXJuITF9KTtteENsaWVudC5JU19UT1VDSCYmCmEubm9kZS5zZXRBdHRyaWJ1dGUoInBvaW50ZXItZXZlbnRzIiwibm9uZSIpfTsKbXhFZGdlSGFuZGxlci5wcm90b3R5cGUuZ2V0SGFuZGxlRm9yRXZlbnQ9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihiKXtpZihudWxsIT1iJiZudWxsIT1iLm5vZGUmJiJub25lIiE9Yi5ub2RlLnN0eWxlLmRpc3BsYXkmJiJoaWRkZW4iIT1iLm5vZGUuc3R5bGUudmlzaWJpbGl0eSYmKGEuaXNTb3VyY2UoYil8fG51bGwhPWQmJm14VXRpbHMuaW50ZXJzZWN0cyhiLmJvdW5kcyxkKSkpe3ZhciBjPWEuZ2V0R3JhcGhYKCktYi5ib3VuZHMuZ2V0Q2VudGVyWCgpO2I9YS5nZXRHcmFwaFkoKS1iLmJvdW5kcy5nZXRDZW50ZXJZKCk7Yz1jKmMrYipiO2lmKG51bGw9PWV8fGM8PWUpcmV0dXJuIGU9YywhMH1yZXR1cm4hMX12YXIgYz1teEV2ZW50LmlzTW91c2VFdmVudChhLmdldEV2ZW50KCkpPzE6dGhpcy50b2xlcmFuY2UsZD10aGlzLmFsbG93SGFuZGxlQm91bmRzQ2hlY2smJihteENsaWVudC5JU19JRXx8MDxjKT9uZXcgbXhSZWN0YW5nbGUoYS5nZXRHcmFwaFgoKS1jLGEuZ2V0R3JhcGhZKCktCmMsMipjLDIqYyk6bnVsbCxlPW51bGwsYz1udWxsO2lmKG51bGwhPXRoaXMuY3VzdG9tSGFuZGxlcyYmdGhpcy5pc0N1c3RvbUhhbmRsZUV2ZW50KGEpKWZvcih2YXIgZj10aGlzLmN1c3RvbUhhbmRsZXMubGVuZ3RoLTE7MDw9ZjtmLS0paWYoYih0aGlzLmN1c3RvbUhhbmRsZXNbZl0uc2hhcGUpKXJldHVybiBteEV2ZW50LkNVU1RPTV9IQU5ETEUtZjtpZihhLmlzU291cmNlKHRoaXMuc3RhdGUudGV4dCl8fGIodGhpcy5sYWJlbFNoYXBlKSljPW14RXZlbnQuTEFCRUxfSEFORExFO2lmKG51bGwhPXRoaXMuYmVuZHMpZm9yKGY9MDtmPHRoaXMuYmVuZHMubGVuZ3RoO2YrKyliKHRoaXMuYmVuZHNbZl0pJiYoYz1mKTtpZihudWxsIT10aGlzLnZpcnR1YWxCZW5kcyYmdGhpcy5pc0FkZFZpcnR1YWxCZW5kRXZlbnQoYSkpZm9yKGY9MDtmPHRoaXMudmlydHVhbEJlbmRzLmxlbmd0aDtmKyspYih0aGlzLnZpcnR1YWxCZW5kc1tmXSkmJihjPW14RXZlbnQuVklSVFVBTF9IQU5ETEUtZik7cmV0dXJuIGN9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5pc0FkZFZpcnR1YWxCZW5kRXZlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuITB9O214RWRnZUhhbmRsZXIucHJvdG90eXBlLmlzQ3VzdG9tSGFuZGxlRXZlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuITB9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5tb3VzZURvd249ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldEhhbmRsZUZvckV2ZW50KGIpO2lmKG51bGwhPXRoaXMuYmVuZHMmJm51bGwhPXRoaXMuYmVuZHNbY10pe3ZhciBkPXRoaXMuYmVuZHNbY10uYm91bmRzO3RoaXMuc25hcFBvaW50PW5ldyBteFBvaW50KGQuZ2V0Q2VudGVyWCgpLGQuZ2V0Q2VudGVyWSgpKX1pZih0aGlzLmFkZEVuYWJsZWQmJm51bGw9PWMmJnRoaXMuaXNBZGRQb2ludEV2ZW50KGIuZ2V0RXZlbnQoKSkpdGhpcy5hZGRQb2ludCh0aGlzLnN0YXRlLGIuZ2V0RXZlbnQoKSksYi5jb25zdW1lKCk7ZWxzZSBpZihudWxsIT1jJiYhYi5pc0NvbnN1bWVkKCkmJnRoaXMuZ3JhcGguaXNFbmFibGVkKCkpe2lmKHRoaXMucmVtb3ZlRW5hYmxlZCYmdGhpcy5pc1JlbW92ZVBvaW50RXZlbnQoYi5nZXRFdmVudCgpKSl0aGlzLnJlbW92ZVBvaW50KHRoaXMuc3RhdGUsYyk7ZWxzZSBpZihjIT1teEV2ZW50LkxBQkVMX0hBTkRMRXx8CnRoaXMuZ3JhcGguaXNMYWJlbE1vdmFibGUoYi5nZXRDZWxsKCkpKWM8PW14RXZlbnQuVklSVFVBTF9IQU5ETEUmJm14VXRpbHMuc2V0T3BhY2l0eSh0aGlzLnZpcnR1YWxCZW5kc1tteEV2ZW50LlZJUlRVQUxfSEFORExFLWNdLm5vZGUsMTAwKSx0aGlzLnN0YXJ0KGIuZ2V0WCgpLGIuZ2V0WSgpLGMpO2IuY29uc3VtZSgpfX07Cm14RWRnZUhhbmRsZXIucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKGEsYixjKXt0aGlzLnN0YXJ0WD1hO3RoaXMuc3RhcnRZPWI7dGhpcy5pc1NvdXJjZT1udWxsPT10aGlzLmJlbmRzPyExOjA9PWM7dGhpcy5pc1RhcmdldD1udWxsPT10aGlzLmJlbmRzPyExOmM9PXRoaXMuYmVuZHMubGVuZ3RoLTE7dGhpcy5pc0xhYmVsPWM9PW14RXZlbnQuTEFCRUxfSEFORExFO2lmKHRoaXMuaXNTb3VyY2V8fHRoaXMuaXNUYXJnZXQpe2lmKGE9dGhpcy5zdGF0ZS5jZWxsLGI9dGhpcy5ncmFwaC5tb2RlbC5nZXRUZXJtaW5hbChhLHRoaXMuaXNTb3VyY2UpLG51bGw9PWImJnRoaXMuZ3JhcGguaXNUZXJtaW5hbFBvaW50TW92YWJsZShhLHRoaXMuaXNTb3VyY2UpfHxudWxsIT1iJiZ0aGlzLmdyYXBoLmlzQ2VsbERpc2Nvbm5lY3RhYmxlKGEsYix0aGlzLmlzU291cmNlKSl0aGlzLmluZGV4PWN9ZWxzZSB0aGlzLmluZGV4PWM7aWYodGhpcy5pbmRleDw9bXhFdmVudC5DVVNUT01fSEFORExFJiZ0aGlzLmluZGV4PgpteEV2ZW50LlZJUlRVQUxfSEFORExFJiZudWxsIT10aGlzLmN1c3RvbUhhbmRsZXMpZm9yKGM9MDtjPHRoaXMuY3VzdG9tSGFuZGxlcy5sZW5ndGg7YysrKWMhPW14RXZlbnQuQ1VTVE9NX0hBTkRMRS10aGlzLmluZGV4JiZ0aGlzLmN1c3RvbUhhbmRsZXNbY10uc2V0VmlzaWJsZSghMSl9O214RWRnZUhhbmRsZXIucHJvdG90eXBlLmNsb25lUHJldmlld1N0YXRlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuc3RhdGUuY2xvbmUoKX07bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuZ2V0U25hcFRvVGVybWluYWxUb2xlcmFuY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ncmFwaC5ncmlkU2l6ZSp0aGlzLmdyYXBoLnZpZXcuc2NhbGUvMn07bXhFZGdlSGFuZGxlci5wcm90b3R5cGUudXBkYXRlSGludD1mdW5jdGlvbihhLGIpe307bXhFZGdlSGFuZGxlci5wcm90b3R5cGUucmVtb3ZlSGludD1mdW5jdGlvbigpe307bXhFZGdlSGFuZGxlci5wcm90b3R5cGUucm91bmRMZW5ndGg9ZnVuY3Rpb24oYSl7cmV0dXJuIE1hdGgucm91bmQoYSl9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5pc1NuYXBUb1Rlcm1pbmFsc0V2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnNuYXBUb1Rlcm1pbmFscyYmIW14RXZlbnQuaXNBbHREb3duKGEuZ2V0RXZlbnQoKSl9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5nZXRQb2ludEZvckV2ZW50PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ3JhcGguZ2V0VmlldygpLGM9Yi5zY2FsZSxkPW5ldyBteFBvaW50KHRoaXMucm91bmRMZW5ndGgoYS5nZXRHcmFwaFgoKS9jKSpjLHRoaXMucm91bmRMZW5ndGgoYS5nZXRHcmFwaFkoKS9jKSpjKSxlPXRoaXMuZ2V0U25hcFRvVGVybWluYWxUb2xlcmFuY2UoKSxmPSExLGc9ITE7aWYoMDxlJiZ0aGlzLmlzU25hcFRvVGVybWluYWxzRXZlbnQoYSkpe3ZhciBrPWZ1bmN0aW9uKGEpe251bGwhPWEmJmwuY2FsbCh0aGlzLG5ldyBteFBvaW50KGIuZ2V0Um91dGluZ0NlbnRlclgoYSksYi5nZXRSb3V0aW5nQ2VudGVyWShhKSkpfSxsPWZ1bmN0aW9uKGEpe2lmKG51bGwhPWEpe3ZhciBiPWEueDtNYXRoLmFicyhkLngtYik8ZSYmKGQueD1iLGY9ITApO2E9YS55O01hdGguYWJzKGQueS1hKTxlJiYoZC55PWEsZz0hMCl9fTtrLmNhbGwodGhpcyx0aGlzLnN0YXRlLmdldFZpc2libGVUZXJtaW5hbFN0YXRlKCEwKSk7CmsuY2FsbCh0aGlzLHRoaXMuc3RhdGUuZ2V0VmlzaWJsZVRlcm1pbmFsU3RhdGUoITEpKTtpZihudWxsIT10aGlzLnN0YXRlLmFic29sdXRlUG9pbnRzKWZvcihrPTA7azx0aGlzLnN0YXRlLmFic29sdXRlUG9pbnRzLmxlbmd0aDtrKyspbC5jYWxsKHRoaXMsdGhpcy5zdGF0ZS5hYnNvbHV0ZVBvaW50c1trXSl9dGhpcy5ncmFwaC5pc0dyaWRFbmFibGVkRXZlbnQoYS5nZXRFdmVudCgpKSYmKGE9Yi50cmFuc2xhdGUsZnx8KGQueD0odGhpcy5ncmFwaC5zbmFwKGQueC9jLWEueCkrYS54KSpjKSxnfHwoZC55PSh0aGlzLmdyYXBoLnNuYXAoZC55L2MtYS55KSthLnkpKmMpKTtyZXR1cm4gZH07Cm14RWRnZUhhbmRsZXIucHJvdG90eXBlLmdldFByZXZpZXdUZXJtaW5hbFN0YXRlPWZ1bmN0aW9uKGEpe3RoaXMuY29uc3RyYWludEhhbmRsZXIudXBkYXRlKGEsdGhpcy5pc1NvdXJjZSwhMCxhLmlzU291cmNlKHRoaXMubWFya2VyLmhpZ2hsaWdodC5zaGFwZSk/bnVsbDp0aGlzLmN1cnJlbnRQb2ludCk7aWYobnVsbCE9dGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50Rm9jdXMmJm51bGwhPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudENvbnN0cmFpbnQpcmV0dXJuIG51bGwhPXRoaXMubWFya2VyLmhpZ2hsaWdodCYmbnVsbCE9dGhpcy5tYXJrZXIuaGlnaGxpZ2h0LnN0YXRlJiZ0aGlzLm1hcmtlci5oaWdobGlnaHQuc3RhdGUuY2VsbD09dGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50Rm9jdXMuY2VsbD8idHJhbnNwYXJlbnQiIT10aGlzLm1hcmtlci5oaWdobGlnaHQuc2hhcGUuc3Ryb2tlJiYodGhpcy5tYXJrZXIuaGlnaGxpZ2h0LnNoYXBlLnN0cm9rZT0idHJhbnNwYXJlbnQiLAp0aGlzLm1hcmtlci5oaWdobGlnaHQucmVwYWludCgpKTp0aGlzLm1hcmtlci5tYXJrQ2VsbCh0aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRGb2N1cy5jZWxsLCJ0cmFuc3BhcmVudCIpLGE9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLGE9dGhpcy5ncmFwaC52aWV3LmdldFRlcm1pbmFsUG9ydCh0aGlzLnN0YXRlLHRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZShhLmdldFRlcm1pbmFsKHRoaXMuc3RhdGUuY2VsbCwhdGhpcy5pc1NvdXJjZSkpLCF0aGlzLmlzU291cmNlKSxhPW51bGwhPWE/YS5jZWxsOm51bGwsdGhpcy5lcnJvcj10aGlzLnZhbGlkYXRlQ29ubmVjdGlvbih0aGlzLmlzU291cmNlP3RoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudEZvY3VzLmNlbGw6YSx0aGlzLmlzU291cmNlP2E6dGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50Rm9jdXMuY2VsbCksYT1udWxsLG51bGw9PXRoaXMuZXJyb3ImJihhPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudEZvY3VzKSwKKG51bGwhPXRoaXMuZXJyb3J8fG51bGwhPWEmJiF0aGlzLmlzQ2VsbEVuYWJsZWQoYS5jZWxsKSkmJnRoaXMuY29uc3RyYWludEhhbmRsZXIucmVzZXQoKSxhO2lmKHRoaXMuZ3JhcGguaXNJZ25vcmVUZXJtaW5hbEV2ZW50KGEuZ2V0RXZlbnQoKSkpcmV0dXJuIHRoaXMubWFya2VyLnJlc2V0KCksbnVsbDt0aGlzLm1hcmtlci5wcm9jZXNzKGEpO2E9dGhpcy5tYXJrZXIuZ2V0VmFsaWRTdGF0ZSgpO251bGw9PWF8fHRoaXMuaXNDZWxsRW5hYmxlZChhLmNlbGwpfHwodGhpcy5jb25zdHJhaW50SGFuZGxlci5yZXNldCgpLHRoaXMubWFya2VyLnJlc2V0KCkpO3JldHVybiB0aGlzLm1hcmtlci5nZXRWYWxpZFN0YXRlKCl9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5nZXRQcmV2aWV3UG9pbnRzPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5ncmFwaC5nZXRDZWxsR2VvbWV0cnkodGhpcy5zdGF0ZS5jZWxsKSxjPW51bGwhPWMucG9pbnRzP2MucG9pbnRzLnNsaWNlKCk6bnVsbCxkPW5ldyBteFBvaW50KGEueCxhLnkpLGU9bnVsbDtpZih0aGlzLmlzU291cmNlfHx0aGlzLmlzVGFyZ2V0KXRoaXMuZ3JhcGgucmVzZXRFZGdlc09uQ29ubmVjdCYmKGM9bnVsbCk7ZWxzZSBpZih0aGlzLmNvbnZlcnRQb2ludChkLCExKSxudWxsPT1jKWM9W2RdO2Vsc2V7dGhpcy5pbmRleDw9bXhFdmVudC5WSVJUVUFMX0hBTkRMRSYmYy5zcGxpY2UobXhFdmVudC5WSVJUVUFMX0hBTkRMRS10aGlzLmluZGV4LDAsZCk7aWYoIXRoaXMuaXNTb3VyY2UmJiF0aGlzLmlzVGFyZ2V0KXtmb3IodmFyIGY9MDtmPHRoaXMuYmVuZHMubGVuZ3RoO2YrKylpZihmIT10aGlzLmluZGV4KXt2YXIgZz10aGlzLmJlbmRzW2ZdO251bGwhPWcmJm14VXRpbHMuY29udGFpbnMoZy5ib3VuZHMsCmEueCxhLnkpJiYodGhpcy5pbmRleDw9bXhFdmVudC5WSVJUVUFMX0hBTkRMRT9jLnNwbGljZShteEV2ZW50LlZJUlRVQUxfSEFORExFLXRoaXMuaW5kZXgsMSk6Yy5zcGxpY2UodGhpcy5pbmRleC0xLDEpLGU9Yyl9aWYobnVsbD09ZSYmdGhpcy5zdHJhaWdodFJlbW92ZUVuYWJsZWQmJihudWxsPT1ifHwhbXhFdmVudC5pc0FsdERvd24oYi5nZXRFdmVudCgpKSkpe2Y9dGhpcy5ncmFwaC50b2xlcmFuY2UqdGhpcy5ncmFwaC50b2xlcmFuY2U7Zz10aGlzLnN0YXRlLmFic29sdXRlUG9pbnRzLnNsaWNlKCk7Z1t0aGlzLmluZGV4XT1hO3ZhciBrPXRoaXMuc3RhdGUuZ2V0VmlzaWJsZVRlcm1pbmFsU3RhdGUoITApO2lmKG51bGwhPWspe3ZhciBsPXRoaXMuZ3JhcGguZ2V0Q29ubmVjdGlvbkNvbnN0cmFpbnQodGhpcy5zdGF0ZSxrLCEwKTtpZihudWxsPT1sfHxudWxsPT10aGlzLmdyYXBoLmdldENvbm5lY3Rpb25Qb2ludChrLGwpKWdbMF09bmV3IG14UG9pbnQoay52aWV3LmdldFJvdXRpbmdDZW50ZXJYKGspLAprLnZpZXcuZ2V0Um91dGluZ0NlbnRlclkoaykpfWs9dGhpcy5zdGF0ZS5nZXRWaXNpYmxlVGVybWluYWxTdGF0ZSghMSk7bnVsbCE9ayYmKGw9dGhpcy5ncmFwaC5nZXRDb25uZWN0aW9uQ29uc3RyYWludCh0aGlzLnN0YXRlLGssITEpLG51bGw9PWx8fG51bGw9PXRoaXMuZ3JhcGguZ2V0Q29ubmVjdGlvblBvaW50KGssbCkpJiYoZ1tnLmxlbmd0aC0xXT1uZXcgbXhQb2ludChrLnZpZXcuZ2V0Um91dGluZ0NlbnRlclgoayksay52aWV3LmdldFJvdXRpbmdDZW50ZXJZKGspKSk7bD10aGlzLmluZGV4OzA8bCYmbDxnLmxlbmd0aC0xJiZteFV0aWxzLnB0U2VnRGlzdFNxKGdbbC0xXS54LGdbbC0xXS55LGdbbCsxXS54LGdbbCsxXS55LGEueCxhLnkpPGYmJihjLnNwbGljZShsLTEsMSksZT1jKX19bnVsbD09ZSYmdGhpcy5pbmRleD5teEV2ZW50LlZJUlRVQUxfSEFORExFJiYoY1t0aGlzLmluZGV4LTFdPWQpfXJldHVybiBudWxsIT1lP2U6Y307Cm14RWRnZUhhbmRsZXIucHJvdG90eXBlLmlzT3V0bGluZUNvbm5lY3RFdmVudD1mdW5jdGlvbihhKXt2YXIgYj1teFV0aWxzLmdldE9mZnNldCh0aGlzLmdyYXBoLmNvbnRhaW5lciksYz1hLmdldEV2ZW50KCksZD1teEV2ZW50LmdldENsaWVudFgoYyksYz1teEV2ZW50LmdldENsaWVudFkoYyksZT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsZj10aGlzLmN1cnJlbnRQb2ludC54LXRoaXMuZ3JhcGguY29udGFpbmVyLnNjcm9sbExlZnQrYi54LSgod2luZG93LnBhZ2VYT2Zmc2V0fHxlLnNjcm9sbExlZnQpLShlLmNsaWVudExlZnR8fDApKSxiPXRoaXMuY3VycmVudFBvaW50LnktdGhpcy5ncmFwaC5jb250YWluZXIuc2Nyb2xsVG9wK2IueS0oKHdpbmRvdy5wYWdlWU9mZnNldHx8ZS5zY3JvbGxUb3ApLShlLmNsaWVudFRvcHx8MCkpO3JldHVybiB0aGlzLm91dGxpbmVDb25uZWN0JiYhbXhFdmVudC5pc1NoaWZ0RG93bihhLmdldEV2ZW50KCkpJiYoYS5pc1NvdXJjZSh0aGlzLm1hcmtlci5oaWdobGlnaHQuc2hhcGUpfHwKbXhFdmVudC5pc0FsdERvd24oYS5nZXRFdmVudCgpKSYmbnVsbCE9YS5nZXRTdGF0ZSgpfHx0aGlzLm1hcmtlci5oaWdobGlnaHQuaXNIaWdobGlnaHRBdChkLGMpfHwoZiE9ZHx8YiE9YykmJm51bGw9PWEuZ2V0U3RhdGUoKSYmdGhpcy5tYXJrZXIuaGlnaGxpZ2h0LmlzSGlnaGxpZ2h0QXQoZixiKSl9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS51cGRhdGVQcmV2aWV3U3RhdGU9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj10aGlzLmlzU291cmNlP2M6dGhpcy5zdGF0ZS5nZXRWaXNpYmxlVGVybWluYWxTdGF0ZSghMCksZz10aGlzLmlzVGFyZ2V0P2M6dGhpcy5zdGF0ZS5nZXRWaXNpYmxlVGVybWluYWxTdGF0ZSghMSksaz10aGlzLmdyYXBoLmdldENvbm5lY3Rpb25Db25zdHJhaW50KGEsZiwhMCksbD10aGlzLmdyYXBoLmdldENvbm5lY3Rpb25Db25zdHJhaW50KGEsZywhMSksbT10aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRDb25zdHJhaW50O251bGw9PW0mJmUmJihudWxsIT1jPyhkLmlzU291cmNlKHRoaXMubWFya2VyLmhpZ2hsaWdodC5zaGFwZSkmJihiPW5ldyBteFBvaW50KGQuZ2V0R3JhcGhYKCksZC5nZXRHcmFwaFkoKSkpLG09dGhpcy5ncmFwaC5nZXRPdXRsaW5lQ29uc3RyYWludChiLGMsZCksdGhpcy5jb25zdHJhaW50SGFuZGxlci5zZXRGb2N1cyhkLGMsdGhpcy5pc1NvdXJjZSksCnRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudENvbnN0cmFpbnQ9bSx0aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRQb2ludD1iKTptPW5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KTtpZih0aGlzLm91dGxpbmVDb25uZWN0JiZudWxsIT10aGlzLm1hcmtlci5oaWdobGlnaHQmJm51bGwhPXRoaXMubWFya2VyLmhpZ2hsaWdodC5zaGFwZSl7dmFyIG49dGhpcy5ncmFwaC52aWV3LnNjYWxlO251bGwhPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudENvbnN0cmFpbnQmJm51bGwhPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudEZvY3VzPyh0aGlzLm1hcmtlci5oaWdobGlnaHQuc2hhcGUuc3Ryb2tlPWU/bXhDb25zdGFudHMuT1VUTElORV9ISUdITElHSFRfQ09MT1I6InRyYW5zcGFyZW50Iix0aGlzLm1hcmtlci5oaWdobGlnaHQuc2hhcGUuc3Ryb2tld2lkdGg9bXhDb25zdGFudHMuT1VUTElORV9ISUdITElHSFRfU1RST0tFV0lEVEgvbi9uLHRoaXMubWFya2VyLmhpZ2hsaWdodC5yZXBhaW50KCkpOgp0aGlzLm1hcmtlci5oYXNWYWxpZFN0YXRlKCkmJih0aGlzLm1hcmtlci5oaWdobGlnaHQuc2hhcGUuc3Ryb2tlPXRoaXMuZ3JhcGguaXNDZWxsQ29ubmVjdGFibGUoZC5nZXRDZWxsKCkpJiZ0aGlzLm1hcmtlci5nZXRWYWxpZFN0YXRlKCkhPWQuZ2V0U3RhdGUoKT8idHJhbnNwYXJlbnQiOm14Q29uc3RhbnRzLkRFRkFVTFRfVkFMSURfQ09MT1IsdGhpcy5tYXJrZXIuaGlnaGxpZ2h0LnNoYXBlLnN0cm9rZXdpZHRoPW14Q29uc3RhbnRzLkhJR0hMSUdIVF9TVFJPS0VXSURUSC9uL24sdGhpcy5tYXJrZXIuaGlnaGxpZ2h0LnJlcGFpbnQoKSl9dGhpcy5pc1NvdXJjZT9rPW06dGhpcy5pc1RhcmdldCYmKGw9bSk7aWYodGhpcy5pc1NvdXJjZXx8dGhpcy5pc1RhcmdldCludWxsIT1tJiZudWxsIT1tLnBvaW50PyhhLnN0eWxlW3RoaXMuaXNTb3VyY2U/bXhDb25zdGFudHMuU1RZTEVfRVhJVF9YOm14Q29uc3RhbnRzLlNUWUxFX0VOVFJZX1hdPW0ucG9pbnQueCxhLnN0eWxlW3RoaXMuaXNTb3VyY2U/Cm14Q29uc3RhbnRzLlNUWUxFX0VYSVRfWTpteENvbnN0YW50cy5TVFlMRV9FTlRSWV9ZXT1tLnBvaW50LnkpOihkZWxldGUgYS5zdHlsZVt0aGlzLmlzU291cmNlP214Q29uc3RhbnRzLlNUWUxFX0VYSVRfWDpteENvbnN0YW50cy5TVFlMRV9FTlRSWV9YXSxkZWxldGUgYS5zdHlsZVt0aGlzLmlzU291cmNlP214Q29uc3RhbnRzLlNUWUxFX0VYSVRfWTpteENvbnN0YW50cy5TVFlMRV9FTlRSWV9ZXSk7YS5zZXRWaXNpYmxlVGVybWluYWxTdGF0ZShmLCEwKTthLnNldFZpc2libGVUZXJtaW5hbFN0YXRlKGcsITEpO3RoaXMuaXNTb3VyY2UmJm51bGw9PWZ8fGEudmlldy51cGRhdGVGaXhlZFRlcm1pbmFsUG9pbnQoYSxmLCEwLGspO3RoaXMuaXNUYXJnZXQmJm51bGw9PWd8fGEudmlldy51cGRhdGVGaXhlZFRlcm1pbmFsUG9pbnQoYSxnLCExLGwpOyh0aGlzLmlzU291cmNlfHx0aGlzLmlzVGFyZ2V0KSYmbnVsbD09YyYmKGEuc2V0QWJzb2x1dGVUZXJtaW5hbFBvaW50KGIsdGhpcy5pc1NvdXJjZSksCm51bGw9PXRoaXMubWFya2VyLmdldE1hcmtlZFN0YXRlKCkmJih0aGlzLmVycm9yPXRoaXMuZ3JhcGguYWxsb3dEYW5nbGluZ0VkZ2VzP251bGw6IiIpKTthLnZpZXcudXBkYXRlUG9pbnRzKGEsdGhpcy5wb2ludHMsZixnKTthLnZpZXcudXBkYXRlRmxvYXRpbmdUZXJtaW5hbFBvaW50cyhhLGYsZyl9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5tb3VzZU1vdmU9ZnVuY3Rpb24oYSxiKXtpZihudWxsIT10aGlzLmluZGV4JiZudWxsIT10aGlzLm1hcmtlcil7dGhpcy5jdXJyZW50UG9pbnQ9dGhpcy5nZXRQb2ludEZvckV2ZW50KGIpO3RoaXMuZXJyb3I9bnVsbDshdGhpcy5ncmFwaC5pc0lnbm9yZVRlcm1pbmFsRXZlbnQoYi5nZXRFdmVudCgpKSYmbXhFdmVudC5pc1NoaWZ0RG93bihiLmdldEV2ZW50KCkpJiZudWxsIT10aGlzLnNuYXBQb2ludCYmKE1hdGguYWJzKHRoaXMuc25hcFBvaW50LngtdGhpcy5jdXJyZW50UG9pbnQueCk8TWF0aC5hYnModGhpcy5zbmFwUG9pbnQueS10aGlzLmN1cnJlbnRQb2ludC55KT90aGlzLmN1cnJlbnRQb2ludC54PXRoaXMuc25hcFBvaW50Lng6dGhpcy5jdXJyZW50UG9pbnQueT10aGlzLnNuYXBQb2ludC55KTtpZih0aGlzLmluZGV4PD1teEV2ZW50LkNVU1RPTV9IQU5ETEUmJnRoaXMuaW5kZXg+bXhFdmVudC5WSVJUVUFMX0hBTkRMRSludWxsIT0KdGhpcy5jdXN0b21IYW5kbGVzJiYodGhpcy5jdXN0b21IYW5kbGVzW214RXZlbnQuQ1VTVE9NX0hBTkRMRS10aGlzLmluZGV4XS5wcm9jZXNzRXZlbnQoYiksdGhpcy5jdXN0b21IYW5kbGVzW214RXZlbnQuQ1VTVE9NX0hBTkRMRS10aGlzLmluZGV4XS5wb3NpdGlvbkNoYW5nZWQoKSxudWxsIT10aGlzLnNoYXBlJiZudWxsIT10aGlzLnNoYXBlLm5vZGUmJih0aGlzLnNoYXBlLm5vZGUuc3R5bGUuZGlzcGxheT0ibm9uZSIpKTtlbHNlIGlmKHRoaXMuaXNMYWJlbCl0aGlzLmxhYmVsLng9dGhpcy5jdXJyZW50UG9pbnQueCx0aGlzLmxhYmVsLnk9dGhpcy5jdXJyZW50UG9pbnQueTtlbHNle3RoaXMucG9pbnRzPXRoaXMuZ2V0UHJldmlld1BvaW50cyh0aGlzLmN1cnJlbnRQb2ludCxiKTt2YXIgYz10aGlzLmlzU291cmNlfHx0aGlzLmlzVGFyZ2V0P3RoaXMuZ2V0UHJldmlld1Rlcm1pbmFsU3RhdGUoYik6bnVsbDtpZihudWxsIT10aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRDb25zdHJhaW50JiYKbnVsbCE9dGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50Rm9jdXMmJm51bGwhPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudFBvaW50KXRoaXMuY3VycmVudFBvaW50PXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudFBvaW50LmNsb25lKCk7ZWxzZSBpZih0aGlzLm91dGxpbmVDb25uZWN0KXt2YXIgZD10aGlzLmlzU291cmNlfHx0aGlzLmlzVGFyZ2V0P3RoaXMuaXNPdXRsaW5lQ29ubmVjdEV2ZW50KGIpOiExO2Q/Yz10aGlzLm1hcmtlci5oaWdobGlnaHQuc3RhdGU6bnVsbCE9YyYmYyE9Yi5nZXRTdGF0ZSgpJiZ0aGlzLmdyYXBoLmlzQ2VsbENvbm5lY3RhYmxlKGIuZ2V0Q2VsbCgpKSYmbnVsbCE9dGhpcy5tYXJrZXIuaGlnaGxpZ2h0LnNoYXBlJiYodGhpcy5tYXJrZXIuaGlnaGxpZ2h0LnNoYXBlLnN0cm9rZT0idHJhbnNwYXJlbnQiLHRoaXMubWFya2VyLmhpZ2hsaWdodC5yZXBhaW50KCksYz1udWxsKX1udWxsPT1jfHx0aGlzLmlzQ2VsbEVuYWJsZWQoYy5jZWxsKXx8CihjPW51bGwsdGhpcy5tYXJrZXIucmVzZXQoKSk7dmFyIGU9dGhpcy5jbG9uZVByZXZpZXdTdGF0ZSh0aGlzLmN1cnJlbnRQb2ludCxudWxsIT1jP2MuY2VsbDpudWxsKTt0aGlzLnVwZGF0ZVByZXZpZXdTdGF0ZShlLHRoaXMuY3VycmVudFBvaW50LGMsYixkKTt0aGlzLnNldFByZXZpZXdDb2xvcihudWxsPT10aGlzLmVycm9yP3RoaXMubWFya2VyLnZhbGlkQ29sb3I6dGhpcy5tYXJrZXIuaW52YWxpZENvbG9yKTt0aGlzLmFic3BvaW50cz1lLmFic29sdXRlUG9pbnRzO3RoaXMuYWN0aXZlPSEwO3RoaXMudXBkYXRlSGludChiLHRoaXMuY3VycmVudFBvaW50KX10aGlzLmRyYXdQcmV2aWV3KCk7bXhFdmVudC5jb25zdW1lKGIuZ2V0RXZlbnQoKSk7Yi5jb25zdW1lKCl9ZWxzZSBteENsaWVudC5JU19JRSYmbnVsbCE9dGhpcy5nZXRIYW5kbGVGb3JFdmVudChiKSYmYi5jb25zdW1lKCExKX07Cm14RWRnZUhhbmRsZXIucHJvdG90eXBlLm1vdXNlVXA9ZnVuY3Rpb24oYSxiKXtpZihudWxsIT10aGlzLmluZGV4JiZudWxsIT10aGlzLm1hcmtlcil7bnVsbCE9dGhpcy5zaGFwZSYmbnVsbCE9dGhpcy5zaGFwZS5ub2RlJiYodGhpcy5zaGFwZS5ub2RlLnN0eWxlLmRpc3BsYXk9IiIpO3ZhciBjPXRoaXMuc3RhdGUuY2VsbCxkPXRoaXMuaW5kZXg7dGhpcy5pbmRleD1udWxsO2lmKGIuZ2V0WCgpIT10aGlzLnN0YXJ0WHx8Yi5nZXRZKCkhPXRoaXMuc3RhcnRZKXt2YXIgZT0hdGhpcy5ncmFwaC5pc0lnbm9yZVRlcm1pbmFsRXZlbnQoYi5nZXRFdmVudCgpKSYmdGhpcy5ncmFwaC5pc0Nsb25lRXZlbnQoYi5nZXRFdmVudCgpKSYmdGhpcy5jbG9uZUVuYWJsZWQmJnRoaXMuZ3JhcGguaXNDZWxsc0Nsb25lYWJsZSgpO2lmKG51bGwhPXRoaXMuZXJyb3IpMDx0aGlzLmVycm9yLmxlbmd0aCYmdGhpcy5ncmFwaC52YWxpZGF0aW9uQWxlcnQodGhpcy5lcnJvcik7ZWxzZSBpZihkPD1teEV2ZW50LkNVU1RPTV9IQU5ETEUmJgpkPm14RXZlbnQuVklSVFVBTF9IQU5ETEUpe2lmKG51bGwhPXRoaXMuY3VzdG9tSGFuZGxlcyl7dmFyIGY9dGhpcy5ncmFwaC5nZXRNb2RlbCgpO2YuYmVnaW5VcGRhdGUoKTt0cnl7dGhpcy5jdXN0b21IYW5kbGVzW214RXZlbnQuQ1VTVE9NX0hBTkRMRS1kXS5leGVjdXRlKGIpLG51bGwhPXRoaXMuc2hhcGUmJm51bGwhPXRoaXMuc2hhcGUubm9kZSYmKHRoaXMuc2hhcGUuYXBwbHkodGhpcy5zdGF0ZSksdGhpcy5zaGFwZS5yZWRyYXcoKSl9ZmluYWxseXtmLmVuZFVwZGF0ZSgpfX19ZWxzZSBpZih0aGlzLmlzTGFiZWwpdGhpcy5tb3ZlTGFiZWwodGhpcy5zdGF0ZSx0aGlzLmxhYmVsLngsdGhpcy5sYWJlbC55KTtlbHNlIGlmKHRoaXMuaXNTb3VyY2V8fHRoaXMuaXNUYXJnZXQpaWYoZD1udWxsLG51bGwhPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudENvbnN0cmFpbnQmJm51bGwhPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudEZvY3VzJiYoZD10aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRGb2N1cy5jZWxsKSwKbnVsbD09ZCYmdGhpcy5tYXJrZXIuaGFzVmFsaWRTdGF0ZSgpJiZudWxsIT10aGlzLm1hcmtlci5oaWdobGlnaHQmJm51bGwhPXRoaXMubWFya2VyLmhpZ2hsaWdodC5zaGFwZSYmInRyYW5zcGFyZW50IiE9dGhpcy5tYXJrZXIuaGlnaGxpZ2h0LnNoYXBlLnN0cm9rZSYmIndoaXRlIiE9dGhpcy5tYXJrZXIuaGlnaGxpZ2h0LnNoYXBlLnN0cm9rZSYmKGQ9dGhpcy5tYXJrZXIudmFsaWRTdGF0ZS5jZWxsKSxudWxsIT1kKXt2YXIgZj10aGlzLmdyYXBoLmdldE1vZGVsKCksZz1mLmdldFBhcmVudChjKTtmLmJlZ2luVXBkYXRlKCk7dHJ5e2lmKGUpe3ZhciBrPWYuZ2V0R2VvbWV0cnkoYyksZT10aGlzLmdyYXBoLmNsb25lQ2VsbChjKTtmLmFkZChnLGUsZi5nZXRDaGlsZENvdW50KGcpKTtudWxsIT1rJiYoaz1rLmNsb25lKCksZi5zZXRHZW9tZXRyeShlLGspKTt2YXIgbD1mLmdldFRlcm1pbmFsKGMsIXRoaXMuaXNTb3VyY2UpO3RoaXMuZ3JhcGguY29ubmVjdENlbGwoZSxsLCF0aGlzLmlzU291cmNlKTsKYz1lfWM9dGhpcy5jb25uZWN0KGMsZCx0aGlzLmlzU291cmNlLGUsYil9ZmluYWxseXtmLmVuZFVwZGF0ZSgpfX1lbHNlIHRoaXMuZ3JhcGguaXNBbGxvd0RhbmdsaW5nRWRnZXMoKSYmKGY9dGhpcy5hYnNwb2ludHNbdGhpcy5pc1NvdXJjZT8wOnRoaXMuYWJzcG9pbnRzLmxlbmd0aC0xXSxmLng9dGhpcy5yb3VuZExlbmd0aChmLngvdGhpcy5ncmFwaC52aWV3LnNjYWxlLXRoaXMuZ3JhcGgudmlldy50cmFuc2xhdGUueCksZi55PXRoaXMucm91bmRMZW5ndGgoZi55L3RoaXMuZ3JhcGgudmlldy5zY2FsZS10aGlzLmdyYXBoLnZpZXcudHJhbnNsYXRlLnkpLGs9dGhpcy5ncmFwaC5nZXRWaWV3KCkuZ2V0U3RhdGUodGhpcy5ncmFwaC5nZXRNb2RlbCgpLmdldFBhcmVudChjKSksbnVsbCE9ayYmKGYueC09ay5vcmlnaW4ueCxmLnktPWsub3JpZ2luLnkpLGYueC09dGhpcy5ncmFwaC5wYW5EeC90aGlzLmdyYXBoLnZpZXcuc2NhbGUsZi55LT10aGlzLmdyYXBoLnBhbkR5L3RoaXMuZ3JhcGgudmlldy5zY2FsZSwKYz10aGlzLmNoYW5nZVRlcm1pbmFsUG9pbnQoYyxmLHRoaXMuaXNTb3VyY2UsZSkpO2Vsc2UgdGhpcy5hY3RpdmU/Yz10aGlzLmNoYW5nZVBvaW50cyhjLHRoaXMucG9pbnRzLGUpOih0aGlzLmdyYXBoLmdldFZpZXcoKS5pbnZhbGlkYXRlKHRoaXMuc3RhdGUuY2VsbCksdGhpcy5ncmFwaC5nZXRWaWV3KCkudmFsaWRhdGUodGhpcy5zdGF0ZS5jZWxsKSl9ZWxzZSB0aGlzLmdyYXBoLmlzVG9nZ2xlRXZlbnQoYi5nZXRFdmVudCgpKSYmdGhpcy5ncmFwaC5zZWxlY3RDZWxsRm9yRXZlbnQodGhpcy5zdGF0ZS5jZWxsLGIuZ2V0RXZlbnQoKSk7bnVsbCE9dGhpcy5tYXJrZXImJih0aGlzLnJlc2V0KCksYyE9dGhpcy5zdGF0ZS5jZWxsJiZ0aGlzLmdyYXBoLnNldFNlbGVjdGlvbkNlbGwoYykpO2IuY29uc3VtZSgpfX07Cm14RWRnZUhhbmRsZXIucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5hY3RpdmUmJnRoaXMucmVmcmVzaCgpO3RoaXMuc25hcFBvaW50PXRoaXMucG9pbnRzPXRoaXMubGFiZWw9dGhpcy5pbmRleD10aGlzLmVycm9yPW51bGw7dGhpcy5hY3RpdmU9dGhpcy5pc1RhcmdldD10aGlzLmlzU291cmNlPXRoaXMuaXNMYWJlbD0hMTtpZih0aGlzLmxpdmVQcmV2aWV3JiZudWxsIT10aGlzLnNpemVycylmb3IodmFyIGE9MDthPHRoaXMuc2l6ZXJzLmxlbmd0aDthKyspbnVsbCE9dGhpcy5zaXplcnNbYV0mJih0aGlzLnNpemVyc1thXS5ub2RlLnN0eWxlLmRpc3BsYXk9IiIpO251bGwhPXRoaXMubWFya2VyJiZ0aGlzLm1hcmtlci5yZXNldCgpO251bGwhPXRoaXMuY29uc3RyYWludEhhbmRsZXImJnRoaXMuY29uc3RyYWludEhhbmRsZXIucmVzZXQoKTtpZihudWxsIT10aGlzLmN1c3RvbUhhbmRsZXMpZm9yKGE9MDthPHRoaXMuY3VzdG9tSGFuZGxlcy5sZW5ndGg7YSsrKXRoaXMuY3VzdG9tSGFuZGxlc1thXS5yZXNldCgpOwp0aGlzLnNldFByZXZpZXdDb2xvcihteENvbnN0YW50cy5FREdFX1NFTEVDVElPTl9DT0xPUik7dGhpcy5yZW1vdmVIaW50KCk7dGhpcy5yZWRyYXcoKX07bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuc2V0UHJldmlld0NvbG9yPWZ1bmN0aW9uKGEpe251bGwhPXRoaXMuc2hhcGUmJih0aGlzLnNoYXBlLnN0cm9rZT1hKX07Cm14RWRnZUhhbmRsZXIucHJvdG90eXBlLmNvbnZlcnRQb2ludD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ3JhcGguZ2V0VmlldygpLmdldFNjYWxlKCksZD10aGlzLmdyYXBoLmdldFZpZXcoKS5nZXRUcmFuc2xhdGUoKTtiJiYoYS54PXRoaXMuZ3JhcGguc25hcChhLngpLGEueT10aGlzLmdyYXBoLnNuYXAoYS55KSk7YS54PU1hdGgucm91bmQoYS54L2MtZC54KTthLnk9TWF0aC5yb3VuZChhLnkvYy1kLnkpO2M9dGhpcy5ncmFwaC5nZXRWaWV3KCkuZ2V0U3RhdGUodGhpcy5ncmFwaC5nZXRNb2RlbCgpLmdldFBhcmVudCh0aGlzLnN0YXRlLmNlbGwpKTtudWxsIT1jJiYoYS54LT1jLm9yaWdpbi54LGEueS09Yy5vcmlnaW4ueSk7cmV0dXJuIGF9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5tb3ZlTGFiZWw9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKSxlPWQuZ2V0R2VvbWV0cnkoYS5jZWxsKTtpZihudWxsIT1lKXt2YXIgZj10aGlzLmdyYXBoLmdldFZpZXcoKS5zY2FsZSxlPWUuY2xvbmUoKTtpZihlLnJlbGF0aXZlKXt2YXIgZz10aGlzLmdyYXBoLmdldFZpZXcoKS5nZXRSZWxhdGl2ZVBvaW50KGEsYixjKTtlLng9TWF0aC5yb3VuZCgxRTQqZy54KS8xRTQ7ZS55PU1hdGgucm91bmQoZy55KTtlLm9mZnNldD1uZXcgbXhQb2ludCgwLDApO2c9dGhpcy5ncmFwaC52aWV3LmdldFBvaW50KGEsZSk7ZS5vZmZzZXQ9bmV3IG14UG9pbnQoTWF0aC5yb3VuZCgoYi1nLngpL2YpLE1hdGgucm91bmQoKGMtZy55KS9mKSl9ZWxzZXt2YXIgaz1hLmFic29sdXRlUG9pbnRzLGc9a1swXSxrPWtbay5sZW5ndGgtMV07bnVsbCE9ZyYmbnVsbCE9ayYmKGUub2Zmc2V0PW5ldyBteFBvaW50KE1hdGgucm91bmQoKGItCihnLngrKGsueC1nLngpLzIpKS9mKSxNYXRoLnJvdW5kKChjLShnLnkrKGsueS1nLnkpLzIpKS9mKSksZS54PTAsZS55PTApfWQuc2V0R2VvbWV0cnkoYS5jZWxsLGUpfX07bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuY29ubmVjdD1mdW5jdGlvbihhLGIsYyxkLGUpe2Q9dGhpcy5ncmFwaC5nZXRNb2RlbCgpO2QuZ2V0UGFyZW50KGEpO2QuYmVnaW5VcGRhdGUoKTt0cnl7dmFyIGY9dGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50Q29uc3RyYWludDtudWxsPT1mJiYoZj1uZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludCk7dGhpcy5ncmFwaC5jb25uZWN0Q2VsbChhLGIsYyxmKX1maW5hbGx5e2QuZW5kVXBkYXRlKCl9cmV0dXJuIGF9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5jaGFuZ2VUZXJtaW5hbFBvaW50PWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKTtlLmJlZ2luVXBkYXRlKCk7dHJ5e2lmKGQpe3ZhciBmPWUuZ2V0UGFyZW50KGEpLGc9ZS5nZXRUZXJtaW5hbChhLCFjKTthPXRoaXMuZ3JhcGguY2xvbmVDZWxsKGEpO2UuYWRkKGYsYSxlLmdldENoaWxkQ291bnQoZikpO2Uuc2V0VGVybWluYWwoYSxnLCFjKX12YXIgaz1lLmdldEdlb21ldHJ5KGEpO251bGwhPWsmJihrPWsuY2xvbmUoKSxrLnNldFRlcm1pbmFsUG9pbnQoYixjKSxlLnNldEdlb21ldHJ5KGEsayksdGhpcy5ncmFwaC5jb25uZWN0Q2VsbChhLG51bGwsYyxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludCkpfWZpbmFsbHl7ZS5lbmRVcGRhdGUoKX1yZXR1cm4gYX07Cm14RWRnZUhhbmRsZXIucHJvdG90eXBlLmNoYW5nZVBvaW50cz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5ncmFwaC5nZXRNb2RlbCgpO2QuYmVnaW5VcGRhdGUoKTt0cnl7aWYoYyl7dmFyIGU9ZC5nZXRQYXJlbnQoYSksZj1kLmdldFRlcm1pbmFsKGEsITApLGc9ZC5nZXRUZXJtaW5hbChhLCExKTthPXRoaXMuZ3JhcGguY2xvbmVDZWxsKGEpO2QuYWRkKGUsYSxkLmdldENoaWxkQ291bnQoZSkpO2Quc2V0VGVybWluYWwoYSxmLCEwKTtkLnNldFRlcm1pbmFsKGEsZywhMSl9dmFyIGs9ZC5nZXRHZW9tZXRyeShhKTtudWxsIT1rJiYoaz1rLmNsb25lKCksay5wb2ludHM9YixkLnNldEdlb21ldHJ5KGEsaykpfWZpbmFsbHl7ZC5lbmRVcGRhdGUoKX1yZXR1cm4gYX07Cm14RWRnZUhhbmRsZXIucHJvdG90eXBlLmFkZFBvaW50PWZ1bmN0aW9uKGEsYil7dmFyIGM9bXhVdGlscy5jb252ZXJ0UG9pbnQodGhpcy5ncmFwaC5jb250YWluZXIsbXhFdmVudC5nZXRDbGllbnRYKGIpLG14RXZlbnQuZ2V0Q2xpZW50WShiKSksZD10aGlzLmdyYXBoLmlzR3JpZEVuYWJsZWRFdmVudChiKTt0aGlzLmNvbnZlcnRQb2ludChjLGQpO3RoaXMuYWRkUG9pbnRBdChhLGMueCxjLnkpO214RXZlbnQuY29uc3VtZShiKX07Cm14RWRnZUhhbmRsZXIucHJvdG90eXBlLmFkZFBvaW50QXQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGEuY2VsbCk7Yj1uZXcgbXhQb2ludChiLGMpO2lmKG51bGwhPWQpe3ZhciBkPWQuY2xvbmUoKSxlPXRoaXMuZ3JhcGgudmlldy50cmFuc2xhdGU7Yz10aGlzLmdyYXBoLnZpZXcuc2NhbGU7dmFyIGU9bmV3IG14UG9pbnQoZS54KmMsZS55KmMpLGY9dGhpcy5ncmFwaC5tb2RlbC5nZXRQYXJlbnQodGhpcy5zdGF0ZS5jZWxsKTt0aGlzLmdyYXBoLm1vZGVsLmlzVmVydGV4KGYpJiYoZT10aGlzLmdyYXBoLnZpZXcuZ2V0U3RhdGUoZiksZT1uZXcgbXhQb2ludChlLngsZS55KSk7Yz1teFV0aWxzLmZpbmROZWFyZXN0U2VnbWVudChhLGIueCpjK2UueCxiLnkqYytlLnkpO251bGw9PWQucG9pbnRzP2QucG9pbnRzPVtiXTpkLnBvaW50cy5zcGxpY2UoYywwLGIpO3RoaXMuZ3JhcGguZ2V0TW9kZWwoKS5zZXRHZW9tZXRyeShhLmNlbGwsZCk7dGhpcy5yZWZyZXNoKCk7CnRoaXMucmVkcmF3KCl9fTtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5yZW1vdmVQb2ludD1mdW5jdGlvbihhLGIpe2lmKDA8YiYmYjx0aGlzLmFic3BvaW50cy5sZW5ndGgtMSl7dmFyIGM9dGhpcy5ncmFwaC5nZXRDZWxsR2VvbWV0cnkodGhpcy5zdGF0ZS5jZWxsKTtudWxsIT1jJiZudWxsIT1jLnBvaW50cyYmKGM9Yy5jbG9uZSgpLGMucG9pbnRzLnNwbGljZShiLTEsMSksdGhpcy5ncmFwaC5nZXRNb2RlbCgpLnNldEdlb21ldHJ5KGEuY2VsbCxjKSx0aGlzLnJlZnJlc2goKSx0aGlzLnJlZHJhdygpKX19OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5nZXRIYW5kbGVGaWxsQ29sb3I9ZnVuY3Rpb24oYSl7YT0wPT1hO3ZhciBiPXRoaXMuc3RhdGUuY2VsbCxjPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKS5nZXRUZXJtaW5hbChiLGEpLGQ9bXhDb25zdGFudHMuSEFORExFX0ZJTExDT0xPUjtudWxsIT1jJiYhdGhpcy5ncmFwaC5pc0NlbGxEaXNjb25uZWN0YWJsZShiLGMsYSl8fG51bGw9PWMmJiF0aGlzLmdyYXBoLmlzVGVybWluYWxQb2ludE1vdmFibGUoYixhKT9kPW14Q29uc3RhbnRzLkxPQ0tFRF9IQU5ETEVfRklMTENPTE9SOm51bGwhPWMmJnRoaXMuZ3JhcGguaXNDZWxsRGlzY29ubmVjdGFibGUoYixjLGEpJiYoZD1teENvbnN0YW50cy5DT05ORUNUX0hBTkRMRV9GSUxMQ09MT1IpO3JldHVybiBkfTsKbXhFZGdlSGFuZGxlci5wcm90b3R5cGUucmVkcmF3PWZ1bmN0aW9uKGEpe3RoaXMuYWJzcG9pbnRzPXRoaXMuc3RhdGUuYWJzb2x1dGVQb2ludHMuc2xpY2UoKTt2YXIgYj10aGlzLmdyYXBoLmdldE1vZGVsKCkuZ2V0R2VvbWV0cnkodGhpcy5zdGF0ZS5jZWxsKTtpZihudWxsIT1iJiYoYj1iLnBvaW50cyxudWxsIT10aGlzLmJlbmRzJiYwPHRoaXMuYmVuZHMubGVuZ3RoJiZudWxsIT1iKSl7bnVsbD09dGhpcy5wb2ludHMmJih0aGlzLnBvaW50cz1bXSk7Zm9yKHZhciBjPTE7Yzx0aGlzLmJlbmRzLmxlbmd0aC0xO2MrKyludWxsIT10aGlzLmJlbmRzW2NdJiZudWxsIT10aGlzLmFic3BvaW50c1tjXSYmKHRoaXMucG9pbnRzW2MtMV09YltjLTFdKX10aGlzLmRyYXdQcmV2aWV3KCk7YXx8dGhpcy5yZWRyYXdIYW5kbGVzKCl9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5yZWRyYXdIYW5kbGVzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zdGF0ZS5jZWxsLGI9dGhpcy5sYWJlbFNoYXBlLmJvdW5kczt0aGlzLmxhYmVsPW5ldyBteFBvaW50KHRoaXMuc3RhdGUuYWJzb2x1dGVPZmZzZXQueCx0aGlzLnN0YXRlLmFic29sdXRlT2Zmc2V0LnkpO3RoaXMubGFiZWxTaGFwZS5ib3VuZHM9bmV3IG14UmVjdGFuZ2xlKE1hdGgucm91bmQodGhpcy5sYWJlbC54LWIud2lkdGgvMiksTWF0aC5yb3VuZCh0aGlzLmxhYmVsLnktYi5oZWlnaHQvMiksYi53aWR0aCxiLmhlaWdodCk7Yj10aGlzLmdyYXBoLmdldExhYmVsKGEpO3RoaXMubGFiZWxTaGFwZS52aXNpYmxlPW51bGwhPWImJjA8Yi5sZW5ndGgmJnRoaXMuZ3JhcGguaXNMYWJlbE1vdmFibGUoYSk7aWYobnVsbCE9dGhpcy5iZW5kcyYmMDx0aGlzLmJlbmRzLmxlbmd0aCl7dmFyIGM9dGhpcy5hYnNwb2ludHMubGVuZ3RoLTEsYT10aGlzLmFic3BvaW50c1swXSxkPWEueCwKZT1hLnksYj10aGlzLmJlbmRzWzBdLmJvdW5kczt0aGlzLmJlbmRzWzBdLmJvdW5kcz1uZXcgbXhSZWN0YW5nbGUoTWF0aC5mbG9vcihkLWIud2lkdGgvMiksTWF0aC5mbG9vcihlLWIuaGVpZ2h0LzIpLGIud2lkdGgsYi5oZWlnaHQpO3RoaXMuYmVuZHNbMF0uZmlsbD10aGlzLmdldEhhbmRsZUZpbGxDb2xvcigwKTt0aGlzLmJlbmRzWzBdLnJlZHJhdygpO3RoaXMubWFuYWdlTGFiZWxIYW5kbGUmJnRoaXMuY2hlY2tMYWJlbEhhbmRsZSh0aGlzLmJlbmRzWzBdLmJvdW5kcyk7dmFyIGM9dGhpcy5hYnNwb2ludHNbY10sZD1jLngsZT1jLnksZj10aGlzLmJlbmRzLmxlbmd0aC0xLGI9dGhpcy5iZW5kc1tmXS5ib3VuZHM7dGhpcy5iZW5kc1tmXS5ib3VuZHM9bmV3IG14UmVjdGFuZ2xlKE1hdGguZmxvb3IoZC1iLndpZHRoLzIpLE1hdGguZmxvb3IoZS1iLmhlaWdodC8yKSxiLndpZHRoLGIuaGVpZ2h0KTt0aGlzLmJlbmRzW2ZdLmZpbGw9dGhpcy5nZXRIYW5kbGVGaWxsQ29sb3IoZik7CnRoaXMuYmVuZHNbZl0ucmVkcmF3KCk7dGhpcy5tYW5hZ2VMYWJlbEhhbmRsZSYmdGhpcy5jaGVja0xhYmVsSGFuZGxlKHRoaXMuYmVuZHNbZl0uYm91bmRzKTt0aGlzLnJlZHJhd0lubmVyQmVuZHMoYSxjKX1pZihudWxsIT10aGlzLmFic3BvaW50cyYmbnVsbCE9dGhpcy52aXJ0dWFsQmVuZHMmJjA8dGhpcy52aXJ0dWFsQmVuZHMubGVuZ3RoKWZvcihjPXRoaXMuYWJzcG9pbnRzWzBdLGE9MDthPHRoaXMudmlydHVhbEJlbmRzLmxlbmd0aDthKyspbnVsbCE9dGhpcy52aXJ0dWFsQmVuZHNbYV0mJm51bGwhPXRoaXMuYWJzcG9pbnRzW2ErMV0mJihkPXRoaXMuYWJzcG9pbnRzW2ErMV0sYj10aGlzLnZpcnR1YWxCZW5kc1thXSxiLmJvdW5kcz1uZXcgbXhSZWN0YW5nbGUoTWF0aC5mbG9vcihjLngrKGQueC1jLngpLzItYi5ib3VuZHMud2lkdGgvMiksTWF0aC5mbG9vcihjLnkrKGQueS1jLnkpLzItYi5ib3VuZHMuaGVpZ2h0LzIpLGIuYm91bmRzLndpZHRoLGIuYm91bmRzLmhlaWdodCksCmIucmVkcmF3KCksbXhVdGlscy5zZXRPcGFjaXR5KGIubm9kZSx0aGlzLnZpcnR1YWxCZW5kT3BhY2l0eSksYz1kLHRoaXMubWFuYWdlTGFiZWxIYW5kbGUmJnRoaXMuY2hlY2tMYWJlbEhhbmRsZShiLmJvdW5kcykpO251bGwhPXRoaXMubGFiZWxTaGFwZSYmdGhpcy5sYWJlbFNoYXBlLnJlZHJhdygpO2lmKG51bGwhPXRoaXMuY3VzdG9tSGFuZGxlcylmb3IoYT0wO2E8dGhpcy5jdXN0b21IYW5kbGVzLmxlbmd0aDthKyspYj10aGlzLmN1c3RvbUhhbmRsZXNbYV0uc2hhcGUubm9kZS5zdHlsZS5kaXNwbGF5LHRoaXMuY3VzdG9tSGFuZGxlc1thXS5yZWRyYXcoKSx0aGlzLmN1c3RvbUhhbmRsZXNbYV0uc2hhcGUubm9kZS5zdHlsZS5kaXNwbGF5PWIsdGhpcy5jdXN0b21IYW5kbGVzW2FdLnNoYXBlLm5vZGUuc3R5bGUudmlzaWJpbGl0eT10aGlzLmlzQ3VzdG9tSGFuZGxlVmlzaWJsZSh0aGlzLmN1c3RvbUhhbmRsZXNbYV0pPyIiOiJoaWRkZW4ifTsKbXhFZGdlSGFuZGxlci5wcm90b3R5cGUuaXNDdXN0b21IYW5kbGVWaXNpYmxlPWZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmdyYXBoLmlzRWRpdGluZygpJiYxPT10aGlzLnN0YXRlLnZpZXcuZ3JhcGguZ2V0U2VsZWN0aW9uQ291bnQoKX07Cm14RWRnZUhhbmRsZXIucHJvdG90eXBlLnNldEhhbmRsZXNWaXNpYmxlPWZ1bmN0aW9uKGEpe2lmKG51bGwhPXRoaXMuYmVuZHMpZm9yKHZhciBiPTA7Yjx0aGlzLmJlbmRzLmxlbmd0aDtiKyspdGhpcy5iZW5kc1tiXS5ub2RlLnN0eWxlLmRpc3BsYXk9YT8iIjoibm9uZSI7aWYobnVsbCE9dGhpcy52aXJ0dWFsQmVuZHMpZm9yKGI9MDtiPHRoaXMudmlydHVhbEJlbmRzLmxlbmd0aDtiKyspdGhpcy52aXJ0dWFsQmVuZHNbYl0ubm9kZS5zdHlsZS5kaXNwbGF5PWE/IiI6Im5vbmUiO251bGwhPXRoaXMubGFiZWxTaGFwZSYmKHRoaXMubGFiZWxTaGFwZS5ub2RlLnN0eWxlLmRpc3BsYXk9YT8iIjoibm9uZSIpO2lmKG51bGwhPXRoaXMuY3VzdG9tSGFuZGxlcylmb3IoYj0wO2I8dGhpcy5jdXN0b21IYW5kbGVzLmxlbmd0aDtiKyspdGhpcy5jdXN0b21IYW5kbGVzW2JdLnNldFZpc2libGUoYSl9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5yZWRyYXdJbm5lckJlbmRzPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTE7Yzx0aGlzLmJlbmRzLmxlbmd0aC0xO2MrKylpZihudWxsIT10aGlzLmJlbmRzW2NdKWlmKG51bGwhPXRoaXMuYWJzcG9pbnRzW2NdKXt2YXIgZD10aGlzLmFic3BvaW50c1tjXS54LGU9dGhpcy5hYnNwb2ludHNbY10ueSxmPXRoaXMuYmVuZHNbY10uYm91bmRzO3RoaXMuYmVuZHNbY10ubm9kZS5zdHlsZS52aXNpYmlsaXR5PSJ2aXNpYmxlIjt0aGlzLmJlbmRzW2NdLmJvdW5kcz1uZXcgbXhSZWN0YW5nbGUoTWF0aC5yb3VuZChkLWYud2lkdGgvMiksTWF0aC5yb3VuZChlLWYuaGVpZ2h0LzIpLGYud2lkdGgsZi5oZWlnaHQpO3RoaXMubWFuYWdlTGFiZWxIYW5kbGU/dGhpcy5jaGVja0xhYmVsSGFuZGxlKHRoaXMuYmVuZHNbY10uYm91bmRzKTpudWxsPT10aGlzLmhhbmRsZUltYWdlJiZ0aGlzLmxhYmVsU2hhcGUudmlzaWJsZSYmbXhVdGlscy5pbnRlcnNlY3RzKHRoaXMuYmVuZHNbY10uYm91bmRzLAp0aGlzLmxhYmVsU2hhcGUuYm91bmRzKSYmKHc9bXhDb25zdGFudHMuSEFORExFX1NJWkUrMyxoPW14Q29uc3RhbnRzLkhBTkRMRV9TSVpFKzMsdGhpcy5iZW5kc1tjXS5ib3VuZHM9bmV3IG14UmVjdGFuZ2xlKE1hdGgucm91bmQoZC13LzIpLE1hdGgucm91bmQoZS1oLzIpLHcsaCkpO3RoaXMuYmVuZHNbY10ucmVkcmF3KCl9ZWxzZSB0aGlzLmJlbmRzW2NdLmRlc3Ryb3koKSx0aGlzLmJlbmRzW2NdPW51bGx9O214RWRnZUhhbmRsZXIucHJvdG90eXBlLmNoZWNrTGFiZWxIYW5kbGU9ZnVuY3Rpb24oYSl7aWYobnVsbCE9dGhpcy5sYWJlbFNoYXBlKXt2YXIgYj10aGlzLmxhYmVsU2hhcGUuYm91bmRzO214VXRpbHMuaW50ZXJzZWN0cyhhLGIpJiYoYS5nZXRDZW50ZXJZKCk8Yi5nZXRDZW50ZXJZKCk/Yi55PWEueSthLmhlaWdodDpiLnk9YS55LWIuaGVpZ2h0KX19OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5kcmF3UHJldmlldz1mdW5jdGlvbigpe2lmKHRoaXMuaXNMYWJlbCl7dmFyIGE9dGhpcy5sYWJlbFNoYXBlLmJvdW5kcyxhPW5ldyBteFJlY3RhbmdsZShNYXRoLnJvdW5kKHRoaXMubGFiZWwueC1hLndpZHRoLzIpLE1hdGgucm91bmQodGhpcy5sYWJlbC55LWEuaGVpZ2h0LzIpLGEud2lkdGgsYS5oZWlnaHQpO3RoaXMubGFiZWxTaGFwZS5ib3VuZHMuZXF1YWxzKGEpfHwodGhpcy5sYWJlbFNoYXBlLmJvdW5kcz1hLHRoaXMubGFiZWxTaGFwZS5yZWRyYXcoKSl9bnVsbD09dGhpcy5zaGFwZXx8bXhVdGlscy5lcXVhbFBvaW50cyh0aGlzLnNoYXBlLnBvaW50cyx0aGlzLmFic3BvaW50cyl8fCh0aGlzLnNoYXBlLmFwcGx5KHRoaXMuc3RhdGUpLHRoaXMuc2hhcGUucG9pbnRzPXRoaXMuYWJzcG9pbnRzLnNsaWNlKCksdGhpcy5zaGFwZS5zY2FsZT10aGlzLnN0YXRlLnZpZXcuc2NhbGUsdGhpcy5zaGFwZS5pc0Rhc2hlZD10aGlzLmlzU2VsZWN0aW9uRGFzaGVkKCksCnRoaXMuc2hhcGUuc3Ryb2tlPXRoaXMuZ2V0U2VsZWN0aW9uQ29sb3IoKSx0aGlzLnNoYXBlLnN0cm9rZXdpZHRoPXRoaXMuZ2V0U2VsZWN0aW9uU3Ryb2tlV2lkdGgoKS90aGlzLnNoYXBlLnNjYWxlL3RoaXMuc2hhcGUuc2NhbGUsdGhpcy5zaGFwZS5pc1NoYWRvdz0hMSx0aGlzLnNoYXBlLnJlZHJhdygpKTtudWxsIT10aGlzLnBhcmVudEhpZ2hsaWdodCYmdGhpcy5wYXJlbnRIaWdobGlnaHQucmVkcmF3KCl9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5yZWZyZXNoPWZ1bmN0aW9uKCl7dGhpcy5hYnNwb2ludHM9dGhpcy5nZXRTZWxlY3Rpb25Qb2ludHModGhpcy5zdGF0ZSk7dGhpcy5wb2ludHM9W107bnVsbCE9dGhpcy5iZW5kcyYmKHRoaXMuZGVzdHJveUJlbmRzKHRoaXMuYmVuZHMpLHRoaXMuYmVuZHM9dGhpcy5jcmVhdGVCZW5kcygpKTtudWxsIT10aGlzLnZpcnR1YWxCZW5kcyYmKHRoaXMuZGVzdHJveUJlbmRzKHRoaXMudmlydHVhbEJlbmRzKSx0aGlzLnZpcnR1YWxCZW5kcz10aGlzLmNyZWF0ZVZpcnR1YWxCZW5kcygpKTtudWxsIT10aGlzLmN1c3RvbUhhbmRsZXMmJih0aGlzLmRlc3Ryb3lCZW5kcyh0aGlzLmN1c3RvbUhhbmRsZXMpLHRoaXMuY3VzdG9tSGFuZGxlcz10aGlzLmNyZWF0ZUN1c3RvbUhhbmRsZXMoKSk7bnVsbCE9dGhpcy5sYWJlbFNoYXBlJiZudWxsIT10aGlzLmxhYmVsU2hhcGUubm9kZSYmbnVsbCE9dGhpcy5sYWJlbFNoYXBlLm5vZGUucGFyZW50Tm9kZSYmdGhpcy5sYWJlbFNoYXBlLm5vZGUucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0aGlzLmxhYmVsU2hhcGUubm9kZSl9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5kZXN0cm95QmVuZHM9ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSlmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKyludWxsIT1hW2JdJiZhW2JdLmRlc3Ryb3koKX07Cm14RWRnZUhhbmRsZXIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtudWxsIT10aGlzLmVzY2FwZUhhbmRsZXImJih0aGlzLnN0YXRlLnZpZXcuZ3JhcGgucmVtb3ZlTGlzdGVuZXIodGhpcy5lc2NhcGVIYW5kbGVyKSx0aGlzLmVzY2FwZUhhbmRsZXI9bnVsbCk7bnVsbCE9dGhpcy5tYXJrZXImJih0aGlzLm1hcmtlci5kZXN0cm95KCksdGhpcy5tYXJrZXI9bnVsbCk7bnVsbCE9dGhpcy5zaGFwZSYmKHRoaXMuc2hhcGUuZGVzdHJveSgpLHRoaXMuc2hhcGU9bnVsbCk7bnVsbCE9dGhpcy5wYXJlbnRIaWdobGlnaHQmJih0aGlzLnBhcmVudEhpZ2hsaWdodC5kZXN0cm95KCksdGhpcy5wYXJlbnRIaWdobGlnaHQ9bnVsbCk7bnVsbCE9dGhpcy5sYWJlbFNoYXBlJiYodGhpcy5sYWJlbFNoYXBlLmRlc3Ryb3koKSx0aGlzLmxhYmVsU2hhcGU9bnVsbCk7bnVsbCE9dGhpcy5jb25zdHJhaW50SGFuZGxlciYmKHRoaXMuY29uc3RyYWludEhhbmRsZXIuZGVzdHJveSgpLHRoaXMuY29uc3RyYWludEhhbmRsZXI9Cm51bGwpO3RoaXMuZGVzdHJveUJlbmRzKHRoaXMudmlydHVhbEJlbmRzKTt0aGlzLnZpcnR1YWxCZW5kcz1udWxsO3RoaXMuZGVzdHJveUJlbmRzKHRoaXMuY3VzdG9tSGFuZGxlcyk7dGhpcy5jdXN0b21IYW5kbGVzPW51bGw7dGhpcy5kZXN0cm95QmVuZHModGhpcy5iZW5kcyk7dGhpcy5iZW5kcz1udWxsO3RoaXMucmVtb3ZlSGludCgpfTtmdW5jdGlvbiBteEVsYm93RWRnZUhhbmRsZXIoYSl7bXhFZGdlSGFuZGxlci5jYWxsKHRoaXMsYSl9bXhVdGlscy5leHRlbmQobXhFbGJvd0VkZ2VIYW5kbGVyLG14RWRnZUhhbmRsZXIpO214RWxib3dFZGdlSGFuZGxlci5wcm90b3R5cGUuZmxpcEVuYWJsZWQ9ITA7bXhFbGJvd0VkZ2VIYW5kbGVyLnByb3RvdHlwZS5kb3VibGVDbGlja09yaWVudGF0aW9uUmVzb3VyY2U9Im5vbmUiIT1teENsaWVudC5sYW5ndWFnZT8iZG91YmxlQ2xpY2tPcmllbnRhdGlvbiI6IiI7Cm14RWxib3dFZGdlSGFuZGxlci5wcm90b3R5cGUuY3JlYXRlQmVuZHM9ZnVuY3Rpb24oKXt2YXIgYT1bXSxiPXRoaXMuY3JlYXRlSGFuZGxlU2hhcGUoMCk7dGhpcy5pbml0QmVuZChiKTtiLnNldEN1cnNvcihteENvbnN0YW50cy5DVVJTT1JfVEVSTUlOQUxfSEFORExFKTthLnB1c2goYik7YS5wdXNoKHRoaXMuY3JlYXRlVmlydHVhbEJlbmQobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7IW14RXZlbnQuaXNDb25zdW1lZChhKSYmdGhpcy5mbGlwRW5hYmxlZCYmKHRoaXMuZ3JhcGguZmxpcEVkZ2UodGhpcy5zdGF0ZS5jZWxsLGEpLG14RXZlbnQuY29uc3VtZShhKSl9KSkpO3RoaXMucG9pbnRzLnB1c2gobmV3IG14UG9pbnQoMCwwKSk7Yj10aGlzLmNyZWF0ZUhhbmRsZVNoYXBlKDIpO3RoaXMuaW5pdEJlbmQoYik7Yi5zZXRDdXJzb3IobXhDb25zdGFudHMuQ1VSU09SX1RFUk1JTkFMX0hBTkRMRSk7YS5wdXNoKGIpO3JldHVybiBhfTsKbXhFbGJvd0VkZ2VIYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVWaXJ0dWFsQmVuZD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUhhbmRsZVNoYXBlKCk7dGhpcy5pbml0QmVuZChiLGEpO2Iuc2V0Q3Vyc29yKHRoaXMuZ2V0Q3Vyc29yRm9yQmVuZCgpKTt0aGlzLmdyYXBoLmlzQ2VsbEJlbmRhYmxlKHRoaXMuc3RhdGUuY2VsbCl8fChiLm5vZGUuc3R5bGUuZGlzcGxheT0ibm9uZSIpO3JldHVybiBifTsKbXhFbGJvd0VkZ2VIYW5kbGVyLnByb3RvdHlwZS5nZXRDdXJzb3JGb3JCZW5kPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGUuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRURHRV09PW14RWRnZVN0eWxlLlRvcFRvQm90dG9tfHx0aGlzLnN0YXRlLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0VER0VdPT1teENvbnN0YW50cy5FREdFU1RZTEVfVE9QVE9CT1RUT018fCh0aGlzLnN0YXRlLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0VER0VdPT1teEVkZ2VTdHlsZS5FbGJvd0Nvbm5lY3Rvcnx8dGhpcy5zdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9FREdFXT09bXhDb25zdGFudHMuRURHRVNUWUxFX0VMQk9XKSYmdGhpcy5zdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9FTEJPV109PW14Q29uc3RhbnRzLkVMQk9XX1ZFUlRJQ0FMPyJyb3ctcmVzaXplIjoiY29sLXJlc2l6ZSJ9OwpteEVsYm93RWRnZUhhbmRsZXIucHJvdG90eXBlLmdldFRvb2x0aXBGb3JOb2RlPWZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7bnVsbD09dGhpcy5iZW5kc3x8bnVsbD09dGhpcy5iZW5kc1sxXXx8YSE9dGhpcy5iZW5kc1sxXS5ub2RlJiZhLnBhcmVudE5vZGUhPXRoaXMuYmVuZHNbMV0ubm9kZXx8KGI9dGhpcy5kb3VibGVDbGlja09yaWVudGF0aW9uUmVzb3VyY2UsYj1teFJlc291cmNlcy5nZXQoYil8fGIpO3JldHVybiBifTsKbXhFbGJvd0VkZ2VIYW5kbGVyLnByb3RvdHlwZS5jb252ZXJ0UG9pbnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdyYXBoLmdldFZpZXcoKS5nZXRTY2FsZSgpLGQ9dGhpcy5ncmFwaC5nZXRWaWV3KCkuZ2V0VHJhbnNsYXRlKCksZT10aGlzLnN0YXRlLm9yaWdpbjtiJiYoYS54PXRoaXMuZ3JhcGguc25hcChhLngpLGEueT10aGlzLmdyYXBoLnNuYXAoYS55KSk7YS54PU1hdGgucm91bmQoYS54L2MtZC54LWUueCk7YS55PU1hdGgucm91bmQoYS55L2MtZC55LWUueSk7cmV0dXJuIGF9OwpteEVsYm93RWRnZUhhbmRsZXIucHJvdG90eXBlLnJlZHJhd0lubmVyQmVuZHM9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdyYXBoLmdldE1vZGVsKCkuZ2V0R2VvbWV0cnkodGhpcy5zdGF0ZS5jZWxsKSxkPXRoaXMuc3RhdGUuYWJzb2x1dGVQb2ludHMsZT1udWxsOzE8ZC5sZW5ndGg/KGE9ZFsxXSxiPWRbZC5sZW5ndGgtMl0pOm51bGwhPWMucG9pbnRzJiYwPGMucG9pbnRzLmxlbmd0aCYmKGU9ZFswXSk7ZT1udWxsPT1lP25ldyBteFBvaW50KGEueCsoYi54LWEueCkvMixhLnkrKGIueS1hLnkpLzIpOm5ldyBteFBvaW50KHRoaXMuZ3JhcGguZ2V0VmlldygpLnNjYWxlKihlLngrdGhpcy5ncmFwaC5nZXRWaWV3KCkudHJhbnNsYXRlLngrdGhpcy5zdGF0ZS5vcmlnaW4ueCksdGhpcy5ncmFwaC5nZXRWaWV3KCkuc2NhbGUqKGUueSt0aGlzLmdyYXBoLmdldFZpZXcoKS50cmFuc2xhdGUueSt0aGlzLnN0YXRlLm9yaWdpbi55KSk7ZD10aGlzLmJlbmRzWzFdLmJvdW5kcztjPWQud2lkdGg7CmQ9ZC5oZWlnaHQ7Yz1uZXcgbXhSZWN0YW5nbGUoTWF0aC5yb3VuZChlLngtYy8yKSxNYXRoLnJvdW5kKGUueS1kLzIpLGMsZCk7dGhpcy5tYW5hZ2VMYWJlbEhhbmRsZT90aGlzLmNoZWNrTGFiZWxIYW5kbGUoYyk6bnVsbD09dGhpcy5oYW5kbGVJbWFnZSYmdGhpcy5sYWJlbFNoYXBlLnZpc2libGUmJm14VXRpbHMuaW50ZXJzZWN0cyhjLHRoaXMubGFiZWxTaGFwZS5ib3VuZHMpJiYoYz1teENvbnN0YW50cy5IQU5ETEVfU0laRSszLGQ9bXhDb25zdGFudHMuSEFORExFX1NJWkUrMyxjPW5ldyBteFJlY3RhbmdsZShNYXRoLmZsb29yKGUueC1jLzIpLE1hdGguZmxvb3IoZS55LWQvMiksYyxkKSk7dGhpcy5iZW5kc1sxXS5ib3VuZHM9Yzt0aGlzLmJlbmRzWzFdLnJlZHJhdygpO3RoaXMubWFuYWdlTGFiZWxIYW5kbGUmJnRoaXMuY2hlY2tMYWJlbEhhbmRsZSh0aGlzLmJlbmRzWzFdLmJvdW5kcyl9OwpmdW5jdGlvbiBteEVkZ2VTZWdtZW50SGFuZGxlcihhKXtteEVkZ2VIYW5kbGVyLmNhbGwodGhpcyxhKX1teFV0aWxzLmV4dGVuZChteEVkZ2VTZWdtZW50SGFuZGxlcixteEVsYm93RWRnZUhhbmRsZXIpOwpteEVkZ2VTZWdtZW50SGFuZGxlci5wcm90b3R5cGUuZ2V0Q3VycmVudFBvaW50cz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuc3RhdGUuYWJzb2x1dGVQb2ludHM7aWYobnVsbCE9YSl7dmFyIGI9TWF0aC5tYXgoMSx0aGlzLmdyYXBoLnZpZXcuc2NhbGUpO2lmKDI9PWEubGVuZ3RofHwzPT1hLmxlbmd0aCYmKE1hdGguYWJzKGFbMF0ueC1hWzFdLngpPGImJk1hdGguYWJzKGFbMV0ueC1hWzJdLngpPGJ8fE1hdGguYWJzKGFbMF0ueS1hWzFdLnkpPGImJk1hdGguYWJzKGFbMV0ueS1hWzJdLnkpPGIpKXZhciBiPWFbMF0ueCsoYVthLmxlbmd0aC0xXS54LWFbMF0ueCkvMixjPWFbMF0ueSsoYVthLmxlbmd0aC0xXS55LWFbMF0ueSkvMixhPVthWzBdLG5ldyBteFBvaW50KGIsYyksbmV3IG14UG9pbnQoYixjKSxhW2EubGVuZ3RoLTFdXX1yZXR1cm4gYX07Cm14RWRnZVNlZ21lbnRIYW5kbGVyLnByb3RvdHlwZS5nZXRQcmV2aWV3UG9pbnRzPWZ1bmN0aW9uKGEpe2lmKHRoaXMuaXNTb3VyY2V8fHRoaXMuaXNUYXJnZXQpcmV0dXJuIG14RWxib3dFZGdlSGFuZGxlci5wcm90b3R5cGUuZ2V0UHJldmlld1BvaW50cy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGI9dGhpcy5nZXRDdXJyZW50UG9pbnRzKCksYz10aGlzLmNvbnZlcnRQb2ludChiWzBdLmNsb25lKCksITEpO2E9dGhpcy5jb252ZXJ0UG9pbnQoYS5jbG9uZSgpLCExKTtmb3IodmFyIGQ9W10sZT0xO2U8Yi5sZW5ndGg7ZSsrKXt2YXIgZj10aGlzLmNvbnZlcnRQb2ludChiW2VdLmNsb25lKCksITEpO2U9PXRoaXMuaW5kZXgmJigwPT1NYXRoLnJvdW5kKGMueC1mLngpJiYoYy54PWEueCxmLng9YS54KSwwPT1NYXRoLnJvdW5kKGMueS1mLnkpJiYoYy55PWEueSxmLnk9YS55KSk7ZTxiLmxlbmd0aC0xJiZkLnB1c2goZik7Yz1mfWlmKDE9PWQubGVuZ3RoKXt2YXIgYj10aGlzLnN0YXRlLmdldFZpc2libGVUZXJtaW5hbFN0YXRlKCEwKSwKYz10aGlzLnN0YXRlLmdldFZpc2libGVUZXJtaW5hbFN0YXRlKCExKSxmPXRoaXMuc3RhdGUudmlldy5nZXRTY2FsZSgpLGc9dGhpcy5zdGF0ZS52aWV3LmdldFRyYW5zbGF0ZSgpLGU9ZFswXS54KmYrZy54LGY9ZFswXS55KmYrZy55O2lmKG51bGwhPWImJm14VXRpbHMuY29udGFpbnMoYixlLGYpfHxudWxsIT1jJiZteFV0aWxzLmNvbnRhaW5zKGMsZSxmKSlkPVthLGFdfXJldHVybiBkfTsKbXhFZGdlU2VnbWVudEhhbmRsZXIucHJvdG90eXBlLnVwZGF0ZVByZXZpZXdTdGF0ZT1mdW5jdGlvbihhLGIsYyxkKXtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS51cGRhdGVQcmV2aWV3U3RhdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKCF0aGlzLmlzU291cmNlJiYhdGhpcy5pc1RhcmdldCl7Yj10aGlzLmNvbnZlcnRQb2ludChiLmNsb25lKCksITEpO2Zvcih2YXIgZT1hLmFic29sdXRlUG9pbnRzLGY9ZVswXSxnPWVbMV0saz1bXSxsPTI7bDxlLmxlbmd0aDtsKyspe3ZhciBtPWVbbF07MD09TWF0aC5yb3VuZChmLngtZy54KSYmMD09TWF0aC5yb3VuZChnLngtbS54KXx8MD09TWF0aC5yb3VuZChmLnktZy55KSYmMD09TWF0aC5yb3VuZChnLnktbS55KXx8ay5wdXNoKHRoaXMuY29udmVydFBvaW50KGcuY2xvbmUoKSwhMSkpO2Y9ZztnPW19Zj10aGlzLnN0YXRlLmdldFZpc2libGVUZXJtaW5hbFN0YXRlKCEwKTtnPXRoaXMuc3RhdGUuZ2V0VmlzaWJsZVRlcm1pbmFsU3RhdGUoITEpOwpsPXRoaXMuc3RhdGUuYWJzb2x1dGVQb2ludHM7aWYoMD09ay5sZW5ndGgmJigwPT1NYXRoLnJvdW5kKGVbMF0ueC1lW2UubGVuZ3RoLTFdLngpfHwwPT1NYXRoLnJvdW5kKGVbMF0ueS1lW2UubGVuZ3RoLTFdLnkpKSlrPVtiLGJdO2Vsc2UgaWYoNT09ZS5sZW5ndGgmJjI9PWsubGVuZ3RoJiZudWxsIT1mJiZudWxsIT1nJiZudWxsIT1sJiYwPT1NYXRoLnJvdW5kKGxbMF0ueC1sW2wubGVuZ3RoLTFdLngpKXt2YXIgaz10aGlzLmdyYXBoLmdldFZpZXcoKSxsPWsuZ2V0U2NhbGUoKSxtPWsuZ2V0VHJhbnNsYXRlKCksZT1rLmdldFJvdXRpbmdDZW50ZXJZKGYpL2wtbS55LG49dGhpcy5ncmFwaC5nZXRDb25uZWN0aW9uQ29uc3RyYWludChhLGYsITApO251bGwhPW4mJihuPXRoaXMuZ3JhcGguZ2V0Q29ubmVjdGlvblBvaW50KGYsbiksbnVsbCE9biYmKHRoaXMuY29udmVydFBvaW50KG4sITEpLGU9bi55KSk7az1rLmdldFJvdXRpbmdDZW50ZXJZKGcpL2wtbS55O2lmKGw9dGhpcy5ncmFwaC5nZXRDb25uZWN0aW9uQ29uc3RyYWludChhLApnLCExKSluPXRoaXMuZ3JhcGguZ2V0Q29ubmVjdGlvblBvaW50KGcsbCksbnVsbCE9biYmKHRoaXMuY29udmVydFBvaW50KG4sITEpLGs9bi55KTtrPVtuZXcgbXhQb2ludChiLngsZSksbmV3IG14UG9pbnQoYi54LGspXX10aGlzLnBvaW50cz1rO2Eudmlldy51cGRhdGVGaXhlZFRlcm1pbmFsUG9pbnRzKGEsZixnKTthLnZpZXcudXBkYXRlUG9pbnRzKGEsdGhpcy5wb2ludHMsZixnKTthLnZpZXcudXBkYXRlRmxvYXRpbmdUZXJtaW5hbFBvaW50cyhhLGYsZyl9fTsKbXhFZGdlU2VnbWVudEhhbmRsZXIucHJvdG90eXBlLmNvbm5lY3Q9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj10aGlzLmdyYXBoLmdldE1vZGVsKCksZz1mLmdldEdlb21ldHJ5KGEpLGs9bnVsbDtpZihudWxsIT1nJiZudWxsIT1nLnBvaW50cyYmMDxnLnBvaW50cy5sZW5ndGgpZm9yKHZhciBsPXRoaXMuYWJzcG9pbnRzLG09bFswXSxuPWxbMV0saz1bXSxwPTI7cDxsLmxlbmd0aDtwKyspe3ZhciBxPWxbcF07MD09TWF0aC5yb3VuZChtLngtbi54KSYmMD09TWF0aC5yb3VuZChuLngtcS54KXx8MD09TWF0aC5yb3VuZChtLnktbi55KSYmMD09TWF0aC5yb3VuZChuLnktcS55KXx8ay5wdXNoKHRoaXMuY29udmVydFBvaW50KG4uY2xvbmUoKSwhMSkpO209bjtuPXF9Zi5iZWdpblVwZGF0ZSgpO3RyeXtudWxsIT1rJiYoZz1mLmdldEdlb21ldHJ5KGEpLG51bGwhPWcmJihnPWcuY2xvbmUoKSxnLnBvaW50cz1rLGYuc2V0R2VvbWV0cnkoYSxnKSkpLGE9bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuY29ubmVjdC5hcHBseSh0aGlzLAphcmd1bWVudHMpfWZpbmFsbHl7Zi5lbmRVcGRhdGUoKX1yZXR1cm4gYX07bXhFZGdlU2VnbWVudEhhbmRsZXIucHJvdG90eXBlLmdldFRvb2x0aXBGb3JOb2RlPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsfTtteEVkZ2VTZWdtZW50SGFuZGxlci5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oYSxiLGMpe214RWRnZUhhbmRsZXIucHJvdG90eXBlLnN0YXJ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtudWxsPT10aGlzLmJlbmRzfHxudWxsPT10aGlzLmJlbmRzW2NdfHx0aGlzLmlzU291cmNlfHx0aGlzLmlzVGFyZ2V0fHxteFV0aWxzLnNldE9wYWNpdHkodGhpcy5iZW5kc1tjXS5ub2RlLDEwMCl9OwpteEVkZ2VTZWdtZW50SGFuZGxlci5wcm90b3R5cGUuY3JlYXRlQmVuZHM9ZnVuY3Rpb24oKXt2YXIgYT1bXSxiPXRoaXMuY3JlYXRlSGFuZGxlU2hhcGUoMCk7dGhpcy5pbml0QmVuZChiKTtiLnNldEN1cnNvcihteENvbnN0YW50cy5DVVJTT1JfVEVSTUlOQUxfSEFORExFKTthLnB1c2goYik7dmFyIGM9dGhpcy5nZXRDdXJyZW50UG9pbnRzKCk7aWYodGhpcy5ncmFwaC5pc0NlbGxCZW5kYWJsZSh0aGlzLnN0YXRlLmNlbGwpKXtudWxsPT10aGlzLnBvaW50cyYmKHRoaXMucG9pbnRzPVtdKTtmb3IodmFyIGQ9MDtkPGMubGVuZ3RoLTE7ZCsrKXtiPXRoaXMuY3JlYXRlVmlydHVhbEJlbmQoKTthLnB1c2goYik7dmFyIGU9MD09TWF0aC5yb3VuZChjW2RdLngtY1tkKzFdLngpOzA9PU1hdGgucm91bmQoY1tkXS55LWNbZCsxXS55KSYmZDxjLmxlbmd0aC0yJiYoZT0wPT1NYXRoLnJvdW5kKGNbZF0ueC1jW2QrMl0ueCkpO2Iuc2V0Q3Vyc29yKGU/ImNvbC1yZXNpemUiOiJyb3ctcmVzaXplIik7CnRoaXMucG9pbnRzLnB1c2gobmV3IG14UG9pbnQoMCwwKSl9fWI9dGhpcy5jcmVhdGVIYW5kbGVTaGFwZShjLmxlbmd0aCk7dGhpcy5pbml0QmVuZChiKTtiLnNldEN1cnNvcihteENvbnN0YW50cy5DVVJTT1JfVEVSTUlOQUxfSEFORExFKTthLnB1c2goYik7cmV0dXJuIGF9O214RWRnZVNlZ21lbnRIYW5kbGVyLnByb3RvdHlwZS5yZWRyYXc9ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2goKTtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5yZWRyYXcuYXBwbHkodGhpcyxhcmd1bWVudHMpfTsKbXhFZGdlU2VnbWVudEhhbmRsZXIucHJvdG90eXBlLnJlZHJhd0lubmVyQmVuZHM9ZnVuY3Rpb24oYSxiKXtpZih0aGlzLmdyYXBoLmlzQ2VsbEJlbmRhYmxlKHRoaXMuc3RhdGUuY2VsbCkpe3ZhciBjPXRoaXMuZ2V0Q3VycmVudFBvaW50cygpO2lmKG51bGwhPWMmJjE8Yy5sZW5ndGgpe3ZhciBkPSExO2lmKDQ9PWMubGVuZ3RoJiYwPT1NYXRoLnJvdW5kKGNbMV0ueC1jWzJdLngpJiYwPT1NYXRoLnJvdW5kKGNbMV0ueS1jWzJdLnkpKWlmKGQ9ITAsMD09TWF0aC5yb3VuZChjWzBdLnktY1tjLmxlbmd0aC0xXS55KSl7dmFyIGU9Y1swXS54KyhjW2MubGVuZ3RoLTFdLngtY1swXS54KS8yO2NbMV09bmV3IG14UG9pbnQoZSxjWzFdLnkpO2NbMl09bmV3IG14UG9pbnQoZSxjWzJdLnkpfWVsc2UgZT1jWzBdLnkrKGNbYy5sZW5ndGgtMV0ueS1jWzBdLnkpLzIsY1sxXT1uZXcgbXhQb2ludChjWzFdLngsZSksY1syXT1uZXcgbXhQb2ludChjWzJdLngsZSk7Zm9yKGU9MDtlPGMubGVuZ3RoLQoxO2UrKylpZihudWxsIT10aGlzLmJlbmRzW2UrMV0pe2E9Y1tlXTtiPWNbZSsxXTt2YXIgZj1uZXcgbXhQb2ludChhLngrKGIueC1hLngpLzIsYS55KyhiLnktYS55KS8yKSxnPXRoaXMuYmVuZHNbZSsxXS5ib3VuZHM7dGhpcy5iZW5kc1tlKzFdLmJvdW5kcz1uZXcgbXhSZWN0YW5nbGUoTWF0aC5mbG9vcihmLngtZy53aWR0aC8yKSxNYXRoLmZsb29yKGYueS1nLmhlaWdodC8yKSxnLndpZHRoLGcuaGVpZ2h0KTt0aGlzLmJlbmRzW2UrMV0ucmVkcmF3KCk7dGhpcy5tYW5hZ2VMYWJlbEhhbmRsZSYmdGhpcy5jaGVja0xhYmVsSGFuZGxlKHRoaXMuYmVuZHNbZSsxXS5ib3VuZHMpfWQmJihteFV0aWxzLnNldE9wYWNpdHkodGhpcy5iZW5kc1sxXS5ub2RlLHRoaXMudmlydHVhbEJlbmRPcGFjaXR5KSxteFV0aWxzLnNldE9wYWNpdHkodGhpcy5iZW5kc1szXS5ub2RlLHRoaXMudmlydHVhbEJlbmRPcGFjaXR5KSl9fX07CmZ1bmN0aW9uIG14S2V5SGFuZGxlcihhLGIpe251bGwhPWEmJih0aGlzLmdyYXBoPWEsdGhpcy50YXJnZXQ9Ynx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LHRoaXMubm9ybWFsS2V5cz1bXSx0aGlzLnNoaWZ0S2V5cz1bXSx0aGlzLmNvbnRyb2xLZXlzPVtdLHRoaXMuY29udHJvbFNoaWZ0S2V5cz1bXSx0aGlzLmtleWRvd25IYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMua2V5RG93bihhKX0pLG14RXZlbnQuYWRkTGlzdGVuZXIodGhpcy50YXJnZXQsImtleWRvd24iLHRoaXMua2V5ZG93bkhhbmRsZXIpLG14Q2xpZW50LklTX0lFJiZteEV2ZW50LmFkZExpc3RlbmVyKHdpbmRvdywidW5sb2FkIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuZGVzdHJveSgpfSkpKX1teEtleUhhbmRsZXIucHJvdG90eXBlLmdyYXBoPW51bGw7bXhLZXlIYW5kbGVyLnByb3RvdHlwZS50YXJnZXQ9bnVsbDsKbXhLZXlIYW5kbGVyLnByb3RvdHlwZS5ub3JtYWxLZXlzPW51bGw7bXhLZXlIYW5kbGVyLnByb3RvdHlwZS5zaGlmdEtleXM9bnVsbDtteEtleUhhbmRsZXIucHJvdG90eXBlLmNvbnRyb2xLZXlzPW51bGw7bXhLZXlIYW5kbGVyLnByb3RvdHlwZS5jb250cm9sU2hpZnRLZXlzPW51bGw7bXhLZXlIYW5kbGVyLnByb3RvdHlwZS5lbmFibGVkPSEwO214S2V5SGFuZGxlci5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5hYmxlZH07bXhLZXlIYW5kbGVyLnByb3RvdHlwZS5zZXRFbmFibGVkPWZ1bmN0aW9uKGEpe3RoaXMuZW5hYmxlZD1hfTtteEtleUhhbmRsZXIucHJvdG90eXBlLmJpbmRLZXk9ZnVuY3Rpb24oYSxiKXt0aGlzLm5vcm1hbEtleXNbYV09Yn07bXhLZXlIYW5kbGVyLnByb3RvdHlwZS5iaW5kU2hpZnRLZXk9ZnVuY3Rpb24oYSxiKXt0aGlzLnNoaWZ0S2V5c1thXT1ifTsKbXhLZXlIYW5kbGVyLnByb3RvdHlwZS5iaW5kQ29udHJvbEtleT1mdW5jdGlvbihhLGIpe3RoaXMuY29udHJvbEtleXNbYV09Yn07bXhLZXlIYW5kbGVyLnByb3RvdHlwZS5iaW5kQ29udHJvbFNoaWZ0S2V5PWZ1bmN0aW9uKGEsYil7dGhpcy5jb250cm9sU2hpZnRLZXlzW2FdPWJ9O214S2V5SGFuZGxlci5wcm90b3R5cGUuaXNDb250cm9sRG93bj1mdW5jdGlvbihhKXtyZXR1cm4gbXhFdmVudC5pc0NvbnRyb2xEb3duKGEpfTtteEtleUhhbmRsZXIucHJvdG90eXBlLmdldEZ1bmN0aW9uPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hfHxteEV2ZW50LmlzQWx0RG93bihhKT9udWxsOnRoaXMuaXNDb250cm9sRG93bihhKT9teEV2ZW50LmlzU2hpZnREb3duKGEpP3RoaXMuY29udHJvbFNoaWZ0S2V5c1thLmtleUNvZGVdOnRoaXMuY29udHJvbEtleXNbYS5rZXlDb2RlXTpteEV2ZW50LmlzU2hpZnREb3duKGEpP3RoaXMuc2hpZnRLZXlzW2Eua2V5Q29kZV06dGhpcy5ub3JtYWxLZXlzW2Eua2V5Q29kZV19OwpteEtleUhhbmRsZXIucHJvdG90eXBlLmlzR3JhcGhFdmVudD1mdW5jdGlvbihhKXt2YXIgYj1teEV2ZW50LmdldFNvdXJjZShhKTtyZXR1cm4gYj09dGhpcy50YXJnZXR8fGIucGFyZW50Tm9kZT09dGhpcy50YXJnZXR8fG51bGwhPXRoaXMuZ3JhcGguY2VsbEVkaXRvciYmdGhpcy5ncmFwaC5jZWxsRWRpdG9yLmlzRXZlbnRTb3VyY2UoYSk/ITA6bXhVdGlscy5pc0FuY2VzdG9yTm9kZSh0aGlzLmdyYXBoLmNvbnRhaW5lcixiKX07bXhLZXlIYW5kbGVyLnByb3RvdHlwZS5rZXlEb3duPWZ1bmN0aW9uKGEpe2lmKHRoaXMuaXNFbmFibGVkRm9yRXZlbnQoYSkpaWYoMjc9PWEua2V5Q29kZSl0aGlzLmVzY2FwZShhKTtlbHNlIGlmKCF0aGlzLmlzRXZlbnRJZ25vcmVkKGEpKXt2YXIgYj10aGlzLmdldEZ1bmN0aW9uKGEpO251bGwhPWImJihiKGEpLG14RXZlbnQuY29uc3VtZShhKSl9fTsKbXhLZXlIYW5kbGVyLnByb3RvdHlwZS5pc0VuYWJsZWRGb3JFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5ncmFwaC5pc0VuYWJsZWQoKSYmIW14RXZlbnQuaXNDb25zdW1lZChhKSYmdGhpcy5pc0dyYXBoRXZlbnQoYSkmJnRoaXMuaXNFbmFibGVkKCl9O214S2V5SGFuZGxlci5wcm90b3R5cGUuaXNFdmVudElnbm9yZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ3JhcGguaXNFZGl0aW5nKCl9O214S2V5SGFuZGxlci5wcm90b3R5cGUuZXNjYXBlPWZ1bmN0aW9uKGEpe3RoaXMuZ3JhcGguaXNFc2NhcGVFbmFibGVkKCkmJnRoaXMuZ3JhcGguZXNjYXBlKGEpfTsKbXhLZXlIYW5kbGVyLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy50YXJnZXQmJm51bGwhPXRoaXMua2V5ZG93bkhhbmRsZXImJihteEV2ZW50LnJlbW92ZUxpc3RlbmVyKHRoaXMudGFyZ2V0LCJrZXlkb3duIix0aGlzLmtleWRvd25IYW5kbGVyKSx0aGlzLmtleWRvd25IYW5kbGVyPW51bGwpO3RoaXMudGFyZ2V0PW51bGx9O2Z1bmN0aW9uIG14VG9vbHRpcEhhbmRsZXIoYSxiKXtudWxsIT1hJiYodGhpcy5ncmFwaD1hLHRoaXMuZGVsYXk9Ynx8NTAwLHRoaXMuZ3JhcGguYWRkTW91c2VMaXN0ZW5lcih0aGlzKSl9bXhUb29sdGlwSGFuZGxlci5wcm90b3R5cGUuekluZGV4PTEwMDA1O214VG9vbHRpcEhhbmRsZXIucHJvdG90eXBlLmdyYXBoPW51bGw7bXhUb29sdGlwSGFuZGxlci5wcm90b3R5cGUuZGVsYXk9bnVsbDtteFRvb2x0aXBIYW5kbGVyLnByb3RvdHlwZS5pZ25vcmVUb3VjaEV2ZW50cz0hMDsKbXhUb29sdGlwSGFuZGxlci5wcm90b3R5cGUuaGlkZU9uSG92ZXI9ITE7bXhUb29sdGlwSGFuZGxlci5wcm90b3R5cGUuZGVzdHJveWVkPSExO214VG9vbHRpcEhhbmRsZXIucHJvdG90eXBlLmVuYWJsZWQ9ITA7bXhUb29sdGlwSGFuZGxlci5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5hYmxlZH07bXhUb29sdGlwSGFuZGxlci5wcm90b3R5cGUuc2V0RW5hYmxlZD1mdW5jdGlvbihhKXt0aGlzLmVuYWJsZWQ9YX07bXhUb29sdGlwSGFuZGxlci5wcm90b3R5cGUuaXNIaWRlT25Ib3Zlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhpZGVPbkhvdmVyfTtteFRvb2x0aXBIYW5kbGVyLnByb3RvdHlwZS5zZXRIaWRlT25Ib3Zlcj1mdW5jdGlvbihhKXt0aGlzLmhpZGVPbkhvdmVyPWF9OwpteFRvb2x0aXBIYW5kbGVyLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7bnVsbCE9ZG9jdW1lbnQuYm9keSYmKHRoaXMuZGl2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHRoaXMuZGl2LmNsYXNzTmFtZT0ibXhUb29sdGlwIix0aGlzLmRpdi5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5kaXYpLG14RXZlbnQuYWRkR2VzdHVyZUxpc3RlbmVycyh0aGlzLmRpdixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmhpZGVUb29sdGlwKCl9KSkpfTtteFRvb2x0aXBIYW5kbGVyLnByb3RvdHlwZS5nZXRTdGF0ZUZvckV2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiBhLmdldFN0YXRlKCl9O214VG9vbHRpcEhhbmRsZXIucHJvdG90eXBlLm1vdXNlRG93bj1mdW5jdGlvbihhLGIpe3RoaXMucmVzZXQoYiwhMSk7dGhpcy5oaWRlVG9vbHRpcCgpfTsKbXhUb29sdGlwSGFuZGxlci5wcm90b3R5cGUubW91c2VNb3ZlPWZ1bmN0aW9uKGEsYil7aWYoYi5nZXRYKCkhPXRoaXMubGFzdFh8fGIuZ2V0WSgpIT10aGlzLmxhc3RZKXt0aGlzLnJlc2V0KGIsITApO3ZhciBjPXRoaXMuZ2V0U3RhdGVGb3JFdmVudChiKTsodGhpcy5pc0hpZGVPbkhvdmVyKCl8fGMhPXRoaXMuc3RhdGV8fGIuZ2V0U291cmNlKCkhPXRoaXMubm9kZSYmKCF0aGlzLnN0YXRlU291cmNlfHxudWxsIT1jJiZ0aGlzLnN0YXRlU291cmNlPT0oYi5pc1NvdXJjZShjLnNoYXBlKXx8IWIuaXNTb3VyY2UoYy50ZXh0KSkpKSYmdGhpcy5oaWRlVG9vbHRpcCgpfXRoaXMubGFzdFg9Yi5nZXRYKCk7dGhpcy5sYXN0WT1iLmdldFkoKX07bXhUb29sdGlwSGFuZGxlci5wcm90b3R5cGUubW91c2VVcD1mdW5jdGlvbihhLGIpe3RoaXMucmVzZXQoYiwhMCk7dGhpcy5oaWRlVG9vbHRpcCgpfTsKbXhUb29sdGlwSGFuZGxlci5wcm90b3R5cGUucmVzZXRUaW1lcj1mdW5jdGlvbigpe251bGwhPXRoaXMudGhyZWFkJiYod2luZG93LmNsZWFyVGltZW91dCh0aGlzLnRocmVhZCksdGhpcy50aHJlYWQ9bnVsbCl9OwpteFRvb2x0aXBIYW5kbGVyLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbihhLGIsYyl7aWYoIXRoaXMuaWdub3JlVG91Y2hFdmVudHN8fG14RXZlbnQuaXNNb3VzZUV2ZW50KGEuZ2V0RXZlbnQoKSkpaWYodGhpcy5yZXNldFRpbWVyKCksYz1udWxsIT1jP2M6dGhpcy5nZXRTdGF0ZUZvckV2ZW50KGEpLGImJnRoaXMuaXNFbmFibGVkKCkmJm51bGwhPWMmJihudWxsPT10aGlzLmRpdnx8ImhpZGRlbiI9PXRoaXMuZGl2LnN0eWxlLnZpc2liaWxpdHkpKXt2YXIgZD1hLmdldFNvdXJjZSgpLGU9YS5nZXRYKCksZj1hLmdldFkoKSxnPWEuaXNTb3VyY2UoYy5zaGFwZSl8fGEuaXNTb3VyY2UoYy50ZXh0KTt0aGlzLnRocmVhZD13aW5kb3cuc2V0VGltZW91dChteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2lmKCF0aGlzLmdyYXBoLmlzRWRpdGluZygpJiYhdGhpcy5ncmFwaC5wb3B1cE1lbnVIYW5kbGVyLmlzTWVudVNob3dpbmcoKSYmIXRoaXMuZ3JhcGguaXNNb3VzZURvd24pe3ZhciBhPQp0aGlzLmdyYXBoLmdldFRvb2x0aXAoYyxkLGUsZik7dGhpcy5zaG93KGEsZSxmKTt0aGlzLnN0YXRlPWM7dGhpcy5ub2RlPWQ7dGhpcy5zdGF0ZVNvdXJjZT1nfX0pLHRoaXMuZGVsYXkpfX07bXhUb29sdGlwSGFuZGxlci5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe3RoaXMucmVzZXRUaW1lcigpO3RoaXMuaGlkZVRvb2x0aXAoKX07bXhUb29sdGlwSGFuZGxlci5wcm90b3R5cGUuaGlkZVRvb2x0aXA9ZnVuY3Rpb24oKXtudWxsIT10aGlzLmRpdiYmKHRoaXMuZGl2LnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiIsdGhpcy5kaXYuaW5uZXJIVE1MPSIiKX07Cm14VG9vbHRpcEhhbmRsZXIucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oYSxiLGMpe2lmKCF0aGlzLmRlc3Ryb3llZCYmbnVsbCE9YSYmMDxhLmxlbmd0aCl7bnVsbD09dGhpcy5kaXYmJnRoaXMuaW5pdCgpO3ZhciBkPW14VXRpbHMuZ2V0U2Nyb2xsT3JpZ2luKCk7dGhpcy5kaXYuc3R5bGUuekluZGV4PXRoaXMuekluZGV4O3RoaXMuZGl2LnN0eWxlLmxlZnQ9YitkLngrInB4Ijt0aGlzLmRpdi5zdHlsZS50b3A9YytteENvbnN0YW50cy5UT09MVElQX1ZFUlRJQ0FMX09GRlNFVCtkLnkrInB4IjtteFV0aWxzLmlzTm9kZShhKT8odGhpcy5kaXYuaW5uZXJIVE1MPSIiLHRoaXMuZGl2LmFwcGVuZENoaWxkKGEpKTp0aGlzLmRpdi5pbm5lckhUTUw9YS5yZXBsYWNlKC9cbi9nLCI8YnI+Iik7dGhpcy5kaXYuc3R5bGUudmlzaWJpbGl0eT0iIjtteFV0aWxzLmZpdCh0aGlzLmRpdil9fTsKbXhUb29sdGlwSGFuZGxlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZGVzdHJveWVkfHwodGhpcy5ncmFwaC5yZW1vdmVNb3VzZUxpc3RlbmVyKHRoaXMpLG14RXZlbnQucmVsZWFzZSh0aGlzLmRpdiksbnVsbCE9dGhpcy5kaXYmJm51bGwhPXRoaXMuZGl2LnBhcmVudE5vZGUmJnRoaXMuZGl2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5kaXYpLHRoaXMuZGVzdHJveWVkPSEwLHRoaXMuZGl2PW51bGwpfTtmdW5jdGlvbiBteENlbGxUcmFja2VyKGEsYixjKXtteENlbGxNYXJrZXIuY2FsbCh0aGlzLGEsYik7dGhpcy5ncmFwaC5hZGRNb3VzZUxpc3RlbmVyKHRoaXMpO251bGwhPWMmJih0aGlzLmdldENlbGw9Yyk7bXhDbGllbnQuSVNfSUUmJm14RXZlbnQuYWRkTGlzdGVuZXIod2luZG93LCJ1bmxvYWQiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5kZXN0cm95KCl9KSl9bXhVdGlscy5leHRlbmQobXhDZWxsVHJhY2tlcixteENlbGxNYXJrZXIpOwpteENlbGxUcmFja2VyLnByb3RvdHlwZS5tb3VzZURvd249ZnVuY3Rpb24oYSxiKXt9O214Q2VsbFRyYWNrZXIucHJvdG90eXBlLm1vdXNlTW92ZT1mdW5jdGlvbihhLGIpe3RoaXMuaXNFbmFibGVkKCkmJnRoaXMucHJvY2VzcyhiKX07bXhDZWxsVHJhY2tlci5wcm90b3R5cGUubW91c2VVcD1mdW5jdGlvbihhLGIpe307bXhDZWxsVHJhY2tlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZGVzdHJveWVkfHwodGhpcy5kZXN0cm95ZWQ9ITAsdGhpcy5ncmFwaC5yZW1vdmVNb3VzZUxpc3RlbmVyKHRoaXMpLG14Q2VsbE1hcmtlci5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzKSl9OwpmdW5jdGlvbiBteENlbGxIaWdobGlnaHQoYSxiLGMsZCl7bnVsbCE9YSYmKHRoaXMuZ3JhcGg9YSx0aGlzLmhpZ2hsaWdodENvbG9yPW51bGwhPWI/YjpteENvbnN0YW50cy5ERUZBVUxUX1ZBTElEX0NPTE9SLHRoaXMuc3Ryb2tlV2lkdGg9bnVsbCE9Yz9jOm14Q29uc3RhbnRzLkhJR0hMSUdIVF9TVFJPS0VXSURUSCx0aGlzLmRhc2hlZD1udWxsIT1kP2Q6ITEsdGhpcy5vcGFjaXR5PW14Q29uc3RhbnRzLkhJR0hMSUdIVF9PUEFDSVRZLHRoaXMucmVwYWludEhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLnN0YXRlKXt2YXIgYT10aGlzLmdyYXBoLnZpZXcuZ2V0U3RhdGUodGhpcy5zdGF0ZS5jZWxsKTtudWxsPT1hP3RoaXMuaGlkZSgpOih0aGlzLnN0YXRlPWEsdGhpcy5yZXBhaW50KCkpfX0pLHRoaXMuZ3JhcGguZ2V0VmlldygpLmFkZExpc3RlbmVyKG14RXZlbnQuU0NBTEUsdGhpcy5yZXBhaW50SGFuZGxlciksdGhpcy5ncmFwaC5nZXRWaWV3KCkuYWRkTGlzdGVuZXIobXhFdmVudC5UUkFOU0xBVEUsCnRoaXMucmVwYWludEhhbmRsZXIpLHRoaXMuZ3JhcGguZ2V0VmlldygpLmFkZExpc3RlbmVyKG14RXZlbnQuU0NBTEVfQU5EX1RSQU5TTEFURSx0aGlzLnJlcGFpbnRIYW5kbGVyKSx0aGlzLmdyYXBoLmdldE1vZGVsKCkuYWRkTGlzdGVuZXIobXhFdmVudC5DSEFOR0UsdGhpcy5yZXBhaW50SGFuZGxlciksdGhpcy5yZXNldEhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmhpZGUoKX0pLHRoaXMuZ3JhcGguZ2V0VmlldygpLmFkZExpc3RlbmVyKG14RXZlbnQuRE9XTix0aGlzLnJlc2V0SGFuZGxlciksdGhpcy5ncmFwaC5nZXRWaWV3KCkuYWRkTGlzdGVuZXIobXhFdmVudC5VUCx0aGlzLnJlc2V0SGFuZGxlcikpfW14Q2VsbEhpZ2hsaWdodC5wcm90b3R5cGUua2VlcE9uVG9wPSExO214Q2VsbEhpZ2hsaWdodC5wcm90b3R5cGUuZ3JhcGg9bnVsbDtteENlbGxIaWdobGlnaHQucHJvdG90eXBlLnN0YXRlPW51bGw7Cm14Q2VsbEhpZ2hsaWdodC5wcm90b3R5cGUuc3BhY2luZz0yO214Q2VsbEhpZ2hsaWdodC5wcm90b3R5cGUucmVzZXRIYW5kbGVyPW51bGw7bXhDZWxsSGlnaGxpZ2h0LnByb3RvdHlwZS5zZXRIaWdobGlnaHRDb2xvcj1mdW5jdGlvbihhKXt0aGlzLmhpZ2hsaWdodENvbG9yPWE7bnVsbCE9dGhpcy5zaGFwZSYmKHRoaXMuc2hhcGUuc3Ryb2tlPWEpfTtteENlbGxIaWdobGlnaHQucHJvdG90eXBlLmRyYXdIaWdobGlnaHQ9ZnVuY3Rpb24oKXt0aGlzLnNoYXBlPXRoaXMuY3JlYXRlU2hhcGUoKTt0aGlzLnJlcGFpbnQoKTt0aGlzLmtlZXBPblRvcHx8dGhpcy5zaGFwZS5ub2RlLnBhcmVudE5vZGUuZmlyc3RDaGlsZD09dGhpcy5zaGFwZS5ub2RlfHx0aGlzLnNoYXBlLm5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5zaGFwZS5ub2RlLHRoaXMuc2hhcGUubm9kZS5wYXJlbnROb2RlLmZpcnN0Q2hpbGQpfTsKbXhDZWxsSGlnaGxpZ2h0LnByb3RvdHlwZS5jcmVhdGVTaGFwZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ3JhcGguY2VsbFJlbmRlcmVyLmNyZWF0ZVNoYXBlKHRoaXMuc3RhdGUpO2Euc3ZnU3Ryb2tlVG9sZXJhbmNlPXRoaXMuZ3JhcGgudG9sZXJhbmNlO2EucG9pbnRzPXRoaXMuc3RhdGUuYWJzb2x1dGVQb2ludHM7YS5hcHBseSh0aGlzLnN0YXRlKTthLnN0cm9rZT10aGlzLmhpZ2hsaWdodENvbG9yO2Eub3BhY2l0eT10aGlzLm9wYWNpdHk7YS5pc0Rhc2hlZD10aGlzLmRhc2hlZDthLmlzU2hhZG93PSExO2EuZGlhbGVjdD10aGlzLmdyYXBoLmRpYWxlY3QhPW14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHP214Q29uc3RhbnRzLkRJQUxFQ1RfVk1MOm14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHO2EuaW5pdCh0aGlzLmdyYXBoLmdldFZpZXcoKS5nZXRPdmVybGF5UGFuZSgpKTtteEV2ZW50LnJlZGlyZWN0TW91c2VFdmVudHMoYS5ub2RlLHRoaXMuZ3JhcGgsdGhpcy5zdGF0ZSk7dGhpcy5ncmFwaC5kaWFsZWN0IT0KbXhDb25zdGFudHMuRElBTEVDVF9TVkc/YS5wb2ludGVyRXZlbnRzPSExOmEuc3ZnUG9pbnRlckV2ZW50cz0ic3Ryb2tlIjtyZXR1cm4gYX07bXhDZWxsSGlnaGxpZ2h0LnByb3RvdHlwZS5nZXRTdHJva2VXaWR0aD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5zdHJva2VXaWR0aH07Cm14Q2VsbEhpZ2hsaWdodC5wcm90b3R5cGUucmVwYWludD1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuc3RhdGUmJm51bGwhPXRoaXMuc2hhcGUpe3RoaXMuc2hhcGUuc2NhbGU9dGhpcy5zdGF0ZS52aWV3LnNjYWxlO3RoaXMuZ3JhcGgubW9kZWwuaXNFZGdlKHRoaXMuc3RhdGUuY2VsbCk/KHRoaXMuc2hhcGUuc3Ryb2tld2lkdGg9dGhpcy5nZXRTdHJva2VXaWR0aCgpLHRoaXMuc2hhcGUucG9pbnRzPXRoaXMuc3RhdGUuYWJzb2x1dGVQb2ludHMsdGhpcy5zaGFwZS5vdXRsaW5lPSExKToodGhpcy5zaGFwZS5ib3VuZHM9bmV3IG14UmVjdGFuZ2xlKHRoaXMuc3RhdGUueC10aGlzLnNwYWNpbmcsdGhpcy5zdGF0ZS55LXRoaXMuc3BhY2luZyx0aGlzLnN0YXRlLndpZHRoKzIqdGhpcy5zcGFjaW5nLHRoaXMuc3RhdGUuaGVpZ2h0KzIqdGhpcy5zcGFjaW5nKSx0aGlzLnNoYXBlLnJvdGF0aW9uPU51bWJlcih0aGlzLnN0YXRlLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OXXx8CiIwIiksdGhpcy5zaGFwZS5zdHJva2V3aWR0aD10aGlzLmdldFN0cm9rZVdpZHRoKCkvdGhpcy5zdGF0ZS52aWV3LnNjYWxlLHRoaXMuc2hhcGUub3V0bGluZT0hMCk7bnVsbCE9dGhpcy5zdGF0ZS5zaGFwZSYmdGhpcy5zaGFwZS5zZXRDdXJzb3IodGhpcy5zdGF0ZS5zaGFwZS5nZXRDdXJzb3IoKSk7aWYobXhDbGllbnQuSVNfUVVJUktTfHw4PT1kb2N1bWVudC5kb2N1bWVudE1vZGUpInRyYW5zcGFyZW50Ij09dGhpcy5zaGFwZS5zdHJva2U/KHRoaXMuc2hhcGUuc3Ryb2tlPSJ3aGl0ZSIsdGhpcy5zaGFwZS5vcGFjaXR5PTEpOnRoaXMuc2hhcGUub3BhY2l0eT10aGlzLm9wYWNpdHk7dGhpcy5zaGFwZS5yZWRyYXcoKX19O214Q2VsbEhpZ2hsaWdodC5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe3RoaXMuaGlnaGxpZ2h0KG51bGwpfTsKbXhDZWxsSGlnaGxpZ2h0LnByb3RvdHlwZS5oaWdobGlnaHQ9ZnVuY3Rpb24oYSl7dGhpcy5zdGF0ZSE9YSYmKG51bGwhPXRoaXMuc2hhcGUmJih0aGlzLnNoYXBlLmRlc3Ryb3koKSx0aGlzLnNoYXBlPW51bGwpLHRoaXMuc3RhdGU9YSxudWxsIT10aGlzLnN0YXRlJiZ0aGlzLmRyYXdIaWdobGlnaHQoKSl9O214Q2VsbEhpZ2hsaWdodC5wcm90b3R5cGUuaXNIaWdobGlnaHRBdD1mdW5jdGlvbihhLGIpe3ZhciBjPSExO2lmKG51bGwhPXRoaXMuc2hhcGUmJm51bGwhPWRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQmJiFteENsaWVudC5JU19RVUlSS1MpZm9yKHZhciBkPWRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoYSxiKTtudWxsIT1kOyl7aWYoZD09dGhpcy5zaGFwZS5ub2RlKXtjPSEwO2JyZWFrfWQ9ZC5wYXJlbnROb2RlfXJldHVybiBjfTsKbXhDZWxsSGlnaGxpZ2h0LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5ncmFwaC5nZXRWaWV3KCkucmVtb3ZlTGlzdGVuZXIodGhpcy5yZXNldEhhbmRsZXIpO3RoaXMuZ3JhcGguZ2V0VmlldygpLnJlbW92ZUxpc3RlbmVyKHRoaXMucmVwYWludEhhbmRsZXIpO3RoaXMuZ3JhcGguZ2V0TW9kZWwoKS5yZW1vdmVMaXN0ZW5lcih0aGlzLnJlcGFpbnRIYW5kbGVyKTtudWxsIT10aGlzLnNoYXBlJiYodGhpcy5zaGFwZS5kZXN0cm95KCksdGhpcy5zaGFwZT1udWxsKX07CmZ1bmN0aW9uIG14RGVmYXVsdEtleUhhbmRsZXIoYSl7aWYobnVsbCE9YSl7dGhpcy5lZGl0b3I9YTt0aGlzLmhhbmRsZXI9bmV3IG14S2V5SGFuZGxlcihhLmdyYXBoKTt2YXIgYj10aGlzLmhhbmRsZXIuZXNjYXBlO3RoaXMuaGFuZGxlci5lc2NhcGU9ZnVuY3Rpb24oYyl7Yi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YS5oaWRlUHJvcGVydGllcygpO2EuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuRVNDQVBFLCJldmVudCIsYykpfX19bXhEZWZhdWx0S2V5SGFuZGxlci5wcm90b3R5cGUuZWRpdG9yPW51bGw7bXhEZWZhdWx0S2V5SGFuZGxlci5wcm90b3R5cGUuaGFuZGxlcj1udWxsOwpteERlZmF1bHRLZXlIYW5kbGVyLnByb3RvdHlwZS5iaW5kQWN0aW9uPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuZWRpdG9yLmV4ZWN1dGUoYil9KTtjP3RoaXMuaGFuZGxlci5iaW5kQ29udHJvbEtleShhLGQpOnRoaXMuaGFuZGxlci5iaW5kS2V5KGEsZCl9O214RGVmYXVsdEtleUhhbmRsZXIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZXIuZGVzdHJveSgpO3RoaXMuaGFuZGxlcj1udWxsfTtmdW5jdGlvbiBteERlZmF1bHRQb3B1cE1lbnUoYSl7dGhpcy5jb25maWc9YX1teERlZmF1bHRQb3B1cE1lbnUucHJvdG90eXBlLmltYWdlQmFzZVBhdGg9bnVsbDtteERlZmF1bHRQb3B1cE1lbnUucHJvdG90eXBlLmNvbmZpZz1udWxsOwpteERlZmF1bHRQb3B1cE1lbnUucHJvdG90eXBlLmNyZWF0ZU1lbnU9ZnVuY3Rpb24oYSxiLGMsZCl7aWYobnVsbCE9dGhpcy5jb25maWcpe3ZhciBlPXRoaXMuY3JlYXRlQ29uZGl0aW9ucyhhLGMsZCk7dGhpcy5hZGRJdGVtcyhhLGIsYyxkLGUsdGhpcy5jb25maWcuZmlyc3RDaGlsZCxudWxsKX19OwpteERlZmF1bHRQb3B1cE1lbnUucHJvdG90eXBlLmFkZEl0ZW1zPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe2Zvcih2YXIgaz0hMTtudWxsIT1mOyl7aWYoImFkZCI9PWYubm9kZU5hbWUpe3ZhciBsPWYuZ2V0QXR0cmlidXRlKCJpZiIpO2lmKG51bGw9PWx8fGVbbF0pe3ZhciBsPWYuZ2V0QXR0cmlidXRlKCJhcyIpLGw9bXhSZXNvdXJjZXMuZ2V0KGwpfHxsLG09bXhVdGlscy5ldmFsKG14VXRpbHMuZ2V0VGV4dENvbnRlbnQoZikpLG49Zi5nZXRBdHRyaWJ1dGUoImFjdGlvbiIpLHA9Zi5nZXRBdHRyaWJ1dGUoImljb24iKSxxPWYuZ2V0QXR0cmlidXRlKCJpY29uQ2xzIikscj1mLmdldEF0dHJpYnV0ZSgiZW5hYmxlZC1pZiIpLHI9bnVsbD09cnx8ZVtyXTtrJiYoYi5hZGRTZXBhcmF0b3IoZyksaz0hMSk7bnVsbCE9cCYmdGhpcy5pbWFnZUJhc2VQYXRoJiYocD10aGlzLmltYWdlQmFzZVBhdGgrcCk7bD10aGlzLmFkZEFjdGlvbihiLGEsbCxwLG0sbixjLGcscSxyKTt0aGlzLmFkZEl0ZW1zKGEsCmIsYyxkLGUsZi5maXJzdENoaWxkLGwpfX1lbHNlInNlcGFyYXRvciI9PWYubm9kZU5hbWUmJihrPSEwKTtmPWYubmV4dFNpYmxpbmd9fTtteERlZmF1bHRQb3B1cE1lbnUucHJvdG90eXBlLmFkZEFjdGlvbj1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGssbCxtKXtyZXR1cm4gYS5hZGRJdGVtKGMsZCxmdW5jdGlvbihhKXsiZnVuY3Rpb24iPT10eXBlb2YgZSYmZS5jYWxsKGIsYixnLGEpO251bGwhPWYmJmIuZXhlY3V0ZShmLGcsYSl9LGssbCxtKX07Cm14RGVmYXVsdFBvcHVwTWVudS5wcm90b3R5cGUuY3JlYXRlQ29uZGl0aW9ucz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS5ncmFwaC5nZXRNb2RlbCgpLGU9ZC5nZXRDaGlsZENvdW50KGIpLGY9W107Zi5ub2NlbGw9bnVsbD09YjtmLm5jZWxscz0xPGEuZ3JhcGguZ2V0U2VsZWN0aW9uQ291bnQoKTtmLm5vdFJvb3Q9ZC5nZXRSb290KCkhPWQuZ2V0UGFyZW50KGEuZ3JhcGguZ2V0RGVmYXVsdFBhcmVudCgpKTtmLmNlbGw9bnVsbCE9YjtkPW51bGwhPWImJjE9PWEuZ3JhcGguZ2V0U2VsZWN0aW9uQ291bnQoKTtmLm5vbkVtcHR5PWQmJjA8ZTtmLmV4cGFuZGFibGU9ZCYmYS5ncmFwaC5pc0NlbGxGb2xkYWJsZShiLCExKTtmLmNvbGxhcHNhYmxlPWQmJmEuZ3JhcGguaXNDZWxsRm9sZGFibGUoYiwhMCk7Zi52YWxpZFJvb3Q9ZCYmYS5ncmFwaC5pc1ZhbGlkUm9vdChiKTtmLmVtcHR5VmFsaWRSb290PWYudmFsaWRSb290JiYwPT1lO2Yuc3dpbWxhbmU9ZCYmYS5ncmFwaC5pc1N3aW1sYW5lKGIpOwplPXRoaXMuY29uZmlnLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJjb25kaXRpb24iKTtmb3IoZD0wO2Q8ZS5sZW5ndGg7ZCsrKXt2YXIgZz1teFV0aWxzLmV2YWwobXhVdGlscy5nZXRUZXh0Q29udGVudChlW2RdKSksaz1lW2RdLmdldEF0dHJpYnV0ZSgibmFtZSIpO251bGwhPWsmJiJmdW5jdGlvbiI9PXR5cGVvZiBnJiYoZltrXT1nKGEsYixjKSl9cmV0dXJuIGZ9O2Z1bmN0aW9uIG14RGVmYXVsdFRvb2xiYXIoYSxiKXt0aGlzLmVkaXRvcj1iO251bGwhPWEmJm51bGwhPWImJnRoaXMuaW5pdChhKX1teERlZmF1bHRUb29sYmFyLnByb3RvdHlwZS5lZGl0b3I9bnVsbDtteERlZmF1bHRUb29sYmFyLnByb3RvdHlwZS50b29sYmFyPW51bGw7bXhEZWZhdWx0VG9vbGJhci5wcm90b3R5cGUucmVzZXRIYW5kbGVyPW51bGw7bXhEZWZhdWx0VG9vbGJhci5wcm90b3R5cGUuc3BhY2luZz00O214RGVmYXVsdFRvb2xiYXIucHJvdG90eXBlLmNvbm5lY3RPbkRyb3A9ITE7Cm14RGVmYXVsdFRvb2xiYXIucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oYSl7bnVsbCE9YSYmKHRoaXMudG9vbGJhcj1uZXcgbXhUb29sYmFyKGEpLHRoaXMudG9vbGJhci5hZGRMaXN0ZW5lcihteEV2ZW50LlNFTEVDVCxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGMpe3ZhciBiPWMuZ2V0UHJvcGVydHkoImZ1bmN0aW9uIik7dGhpcy5lZGl0b3IuaW5zZXJ0RnVuY3Rpb249bnVsbCE9Yj9teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2IuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMudG9vbGJhci5yZXNldE1vZGUoKX0pOm51bGx9KSksdGhpcy5yZXNldEhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtudWxsIT10aGlzLnRvb2xiYXImJnRoaXMudG9vbGJhci5yZXNldE1vZGUoITApfSksdGhpcy5lZGl0b3IuZ3JhcGguYWRkTGlzdGVuZXIobXhFdmVudC5ET1VCTEVfQ0xJQ0ssdGhpcy5yZXNldEhhbmRsZXIpLHRoaXMuZWRpdG9yLmFkZExpc3RlbmVyKG14RXZlbnQuRVNDQVBFLAp0aGlzLnJlc2V0SGFuZGxlcikpfTtteERlZmF1bHRUb29sYmFyLnByb3RvdHlwZS5hZGRJdGVtPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7bnVsbCE9YyYmMDxjLmxlbmd0aCYmdGhpcy5lZGl0b3IuZXhlY3V0ZShjKX0pO3JldHVybiB0aGlzLnRvb2xiYXIuYWRkSXRlbShhLGIsZSxkKX07bXhEZWZhdWx0VG9vbGJhci5wcm90b3R5cGUuYWRkU2VwYXJhdG9yPWZ1bmN0aW9uKGEpe2E9YXx8bXhDbGllbnQuaW1hZ2VCYXNlUGF0aCsiL3NlcGFyYXRvci5naWYiO3RoaXMudG9vbGJhci5hZGRTZXBhcmF0b3IoYSl9O214RGVmYXVsdFRvb2xiYXIucHJvdG90eXBlLmFkZENvbWJvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9vbGJhci5hZGRDb21ibygpfTtteERlZmF1bHRUb29sYmFyLnByb3RvdHlwZS5hZGRBY3Rpb25Db21ibz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy50b29sYmFyLmFkZEFjdGlvbkNvbWJvKGEpfTsKbXhEZWZhdWx0VG9vbGJhci5wcm90b3R5cGUuYWRkQWN0aW9uT3B0aW9uPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuZWRpdG9yLmV4ZWN1dGUoYyl9KTt0aGlzLmFkZE9wdGlvbihhLGIsZCl9O214RGVmYXVsdFRvb2xiYXIucHJvdG90eXBlLmFkZE9wdGlvbj1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMudG9vbGJhci5hZGRPcHRpb24oYSxiLGMpfTtteERlZmF1bHRUb29sYmFyLnByb3RvdHlwZS5hZGRNb2RlPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmVkaXRvci5zZXRNb2RlKGMpO251bGwhPWUmJmUodGhpcy5lZGl0b3IpfSk7cmV0dXJuIHRoaXMudG9vbGJhci5hZGRTd2l0Y2hNb2RlKGEsYixmLGQpfTsKbXhEZWZhdWx0VG9vbGJhci5wcm90b3R5cGUuYWRkUHJvdG90eXBlPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZz1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBjP2MoKTpudWxsIT1jP3RoaXMuZWRpdG9yLmdyYXBoLmNsb25lQ2VsbChjKTpudWxsfSksaz1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGIpeyJmdW5jdGlvbiI9PXR5cGVvZiBlP2UodGhpcy5lZGl0b3IsZygpLGEsYik6dGhpcy5kcm9wKGcoKSxhLGIpO3RoaXMudG9vbGJhci5yZXNldE1vZGUoKTtteEV2ZW50LmNvbnN1bWUoYSl9KTthPXRoaXMudG9vbGJhci5hZGRNb2RlKGEsYixrLGQsbnVsbCxmKTt0aGlzLmluc3RhbGxEcm9wSGFuZGxlcihhLGZ1bmN0aW9uKGEsYixjKXtrKGIsYyl9KTtyZXR1cm4gYX07Cm14RGVmYXVsdFRvb2xiYXIucHJvdG90eXBlLmRyb3A9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuZWRpdG9yLmdyYXBoLGU9ZC5nZXRNb2RlbCgpO2lmKG51bGwhPWMmJiFlLmlzRWRnZShjKSYmdGhpcy5jb25uZWN0T25Ecm9wJiZkLmlzQ2VsbENvbm5lY3RhYmxlKGMpKXRoaXMuY29ubmVjdChhLGIsYyk7ZWxzZXtmb3IoO251bGwhPWMmJiFkLmlzVmFsaWREcm9wVGFyZ2V0KGMsW2FdLGIpOyljPWUuZ2V0UGFyZW50KGMpO3RoaXMuaW5zZXJ0KGEsYixjKX19OwpteERlZmF1bHRUb29sYmFyLnByb3RvdHlwZS5pbnNlcnQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuZWRpdG9yLmdyYXBoO2lmKGQuY2FuSW1wb3J0Q2VsbChhKSl7dmFyIGU9bXhFdmVudC5nZXRDbGllbnRYKGIpLGY9bXhFdmVudC5nZXRDbGllbnRZKGIpLGU9bXhVdGlscy5jb252ZXJ0UG9pbnQoZC5jb250YWluZXIsZSxmKTtyZXR1cm4gZC5pc1NwbGl0RW5hYmxlZCgpJiZkLmlzU3BsaXRUYXJnZXQoYyxbYV0sYik/ZC5zcGxpdEVkZ2UoYyxbYV0sbnVsbCxlLngsZS55KTp0aGlzLmVkaXRvci5hZGRWZXJ0ZXgoYyxhLGUueCxlLnkpfXJldHVybiBudWxsfTsKbXhEZWZhdWx0VG9vbGJhci5wcm90b3R5cGUuY29ubmVjdD1mdW5jdGlvbihhLGIsYyl7Yj10aGlzLmVkaXRvci5ncmFwaDt2YXIgZD1iLmdldE1vZGVsKCk7aWYobnVsbCE9YyYmYi5pc0NlbGxDb25uZWN0YWJsZShhKSYmYi5pc0VkZ2VWYWxpZChudWxsLGMsYSkpe3ZhciBlPW51bGw7ZC5iZWdpblVwZGF0ZSgpO3RyeXt2YXIgZj1kLmdldEdlb21ldHJ5KGMpLGc9ZC5nZXRHZW9tZXRyeShhKS5jbG9uZSgpO2cueD1mLngrKGYud2lkdGgtZy53aWR0aCkvMjtnLnk9Zi55KyhmLmhlaWdodC1nLmhlaWdodCkvMjt2YXIgaz10aGlzLnNwYWNpbmcqYi5ncmlkU2l6ZSxsPTIwKmQuZ2V0RGlyZWN0ZWRFZGdlQ291bnQoYywhMCk7dGhpcy5lZGl0b3IuaG9yaXpvbnRhbEZsb3c/Zy54Kz0oZy53aWR0aCtmLndpZHRoKS8yK2srbDpnLnkrPShnLmhlaWdodCtmLmhlaWdodCkvMitrK2w7YS5zZXRHZW9tZXRyeShnKTt2YXIgbT1kLmdldFBhcmVudChjKTtiLmFkZENlbGwoYSxtKTtiLmNvbnN0cmFpbkNoaWxkKGEpOwplPXRoaXMuZWRpdG9yLmNyZWF0ZUVkZ2UoYyxhKTtpZihudWxsPT1kLmdldEdlb21ldHJ5KGUpKXt2YXIgbj1uZXcgbXhHZW9tZXRyeTtuLnJlbGF0aXZlPSEwO2Quc2V0R2VvbWV0cnkoZSxuKX1iLmFkZEVkZ2UoZSxtLGMsYSl9ZmluYWxseXtkLmVuZFVwZGF0ZSgpfWIuc2V0U2VsZWN0aW9uQ2VsbHMoW2EsZV0pO2Iuc2Nyb2xsQ2VsbFRvVmlzaWJsZShhKX19OwpteERlZmF1bHRUb29sYmFyLnByb3RvdHlwZS5pbnN0YWxsRHJvcEhhbmRsZXI9ZnVuY3Rpb24oYSxiKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTtjLnNldEF0dHJpYnV0ZSgic3JjIixhLmdldEF0dHJpYnV0ZSgic3JjIikpO3ZhciBkPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGUpe2Muc3R5bGUud2lkdGg9MiphLm9mZnNldFdpZHRoKyJweCI7Yy5zdHlsZS5oZWlnaHQ9MiphLm9mZnNldEhlaWdodCsicHgiO214VXRpbHMubWFrZURyYWdnYWJsZShhLHRoaXMuZWRpdG9yLmdyYXBoLGIsYyk7bXhFdmVudC5yZW1vdmVMaXN0ZW5lcihjLCJsb2FkIixkKX0pO214Q2xpZW50LklTX0lFP2QoKTpteEV2ZW50LmFkZExpc3RlbmVyKGMsImxvYWQiLGQpfTsKbXhEZWZhdWx0VG9vbGJhci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe251bGwhPXRoaXMucmVzZXRIYW5kbGVyJiYodGhpcy5lZGl0b3IuZ3JhcGgucmVtb3ZlTGlzdGVuZXIoImRibGNsaWNrIix0aGlzLnJlc2V0SGFuZGxlciksdGhpcy5lZGl0b3IucmVtb3ZlTGlzdGVuZXIoImVzY2FwZSIsdGhpcy5yZXNldEhhbmRsZXIpLHRoaXMucmVzZXRIYW5kbGVyPW51bGwpO251bGwhPXRoaXMudG9vbGJhciYmKHRoaXMudG9vbGJhci5kZXN0cm95KCksdGhpcy50b29sYmFyPW51bGwpfTsKZnVuY3Rpb24gbXhFZGl0b3IoYSl7dGhpcy5hY3Rpb25zPVtdO3RoaXMuYWRkQWN0aW9ucygpO2lmKG51bGwhPWRvY3VtZW50LmJvZHkpe3RoaXMuY3ljbGVBdHRyaWJ1dGVWYWx1ZXM9W107dGhpcy5wb3B1cEhhbmRsZXI9bmV3IG14RGVmYXVsdFBvcHVwTWVudTt0aGlzLnVuZG9NYW5hZ2VyPW5ldyBteFVuZG9NYW5hZ2VyO3RoaXMuZ3JhcGg9dGhpcy5jcmVhdGVHcmFwaCgpO3RoaXMudG9vbGJhcj10aGlzLmNyZWF0ZVRvb2xiYXIoKTt0aGlzLmtleUhhbmRsZXI9bmV3IG14RGVmYXVsdEtleUhhbmRsZXIodGhpcyk7dGhpcy5jb25maWd1cmUoYSk7dGhpcy5ncmFwaC5zd2ltbGFuZUluZGljYXRvckNvbG9yQXR0cmlidXRlPXRoaXMuY3ljbGVBdHRyaWJ1dGVOYW1lO2lmKG51bGwhPXRoaXMub25Jbml0KXRoaXMub25Jbml0KCk7bXhDbGllbnQuSVNfSUUmJm14RXZlbnQuYWRkTGlzdGVuZXIod2luZG93LCJ1bmxvYWQiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5kZXN0cm95KCl9KSl9fQpteExvYWRSZXNvdXJjZXM/bXhSZXNvdXJjZXMuYWRkKG14Q2xpZW50LmJhc2VQYXRoKyIvcmVzb3VyY2VzL2VkaXRvciIpOm14Q2xpZW50LmRlZmF1bHRCdW5kbGVzLnB1c2gobXhDbGllbnQuYmFzZVBhdGgrIi9yZXNvdXJjZXMvZWRpdG9yIik7bXhFZGl0b3IucHJvdG90eXBlPW5ldyBteEV2ZW50U291cmNlO214RWRpdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1teEVkaXRvcjtteEVkaXRvci5wcm90b3R5cGUuYXNrWm9vbVJlc291cmNlPSJub25lIiE9bXhDbGllbnQubGFuZ3VhZ2U/ImFza1pvb20iOiIiO214RWRpdG9yLnByb3RvdHlwZS5sYXN0U2F2ZWRSZXNvdXJjZT0ibm9uZSIhPW14Q2xpZW50Lmxhbmd1YWdlPyJsYXN0U2F2ZWQiOiIiO214RWRpdG9yLnByb3RvdHlwZS5jdXJyZW50RmlsZVJlc291cmNlPSJub25lIiE9bXhDbGllbnQubGFuZ3VhZ2U/ImN1cnJlbnRGaWxlIjoiIjsKbXhFZGl0b3IucHJvdG90eXBlLnByb3BlcnRpZXNSZXNvdXJjZT0ibm9uZSIhPW14Q2xpZW50Lmxhbmd1YWdlPyJwcm9wZXJ0aWVzIjoiIjtteEVkaXRvci5wcm90b3R5cGUudGFza3NSZXNvdXJjZT0ibm9uZSIhPW14Q2xpZW50Lmxhbmd1YWdlPyJ0YXNrcyI6IiI7bXhFZGl0b3IucHJvdG90eXBlLmhlbHBSZXNvdXJjZT0ibm9uZSIhPW14Q2xpZW50Lmxhbmd1YWdlPyJoZWxwIjoiIjtteEVkaXRvci5wcm90b3R5cGUub3V0bGluZVJlc291cmNlPSJub25lIiE9bXhDbGllbnQubGFuZ3VhZ2U/Im91dGxpbmUiOiIiO214RWRpdG9yLnByb3RvdHlwZS5vdXRsaW5lPW51bGw7bXhFZGl0b3IucHJvdG90eXBlLmdyYXBoPW51bGw7bXhFZGl0b3IucHJvdG90eXBlLmdyYXBoUmVuZGVySGludD1udWxsO214RWRpdG9yLnByb3RvdHlwZS50b29sYmFyPW51bGw7bXhFZGl0b3IucHJvdG90eXBlLnN0YXR1cz1udWxsO214RWRpdG9yLnByb3RvdHlwZS5wb3B1cEhhbmRsZXI9bnVsbDsKbXhFZGl0b3IucHJvdG90eXBlLnVuZG9NYW5hZ2VyPW51bGw7bXhFZGl0b3IucHJvdG90eXBlLmtleUhhbmRsZXI9bnVsbDtteEVkaXRvci5wcm90b3R5cGUuYWN0aW9ucz1udWxsO214RWRpdG9yLnByb3RvdHlwZS5kYmxDbGlja0FjdGlvbj0iZWRpdCI7bXhFZGl0b3IucHJvdG90eXBlLnN3aW1sYW5lUmVxdWlyZWQ9ITE7bXhFZGl0b3IucHJvdG90eXBlLmRpc2FibGVDb250ZXh0TWVudT0hMDtteEVkaXRvci5wcm90b3R5cGUuaW5zZXJ0RnVuY3Rpb249bnVsbDtteEVkaXRvci5wcm90b3R5cGUuZm9yY2VkSW5zZXJ0aW5nPSExO214RWRpdG9yLnByb3RvdHlwZS50ZW1wbGF0ZXM9bnVsbDtteEVkaXRvci5wcm90b3R5cGUuZGVmYXVsdEVkZ2U9bnVsbDtteEVkaXRvci5wcm90b3R5cGUuZGVmYXVsdEVkZ2VTdHlsZT1udWxsO214RWRpdG9yLnByb3RvdHlwZS5kZWZhdWx0R3JvdXA9bnVsbDtteEVkaXRvci5wcm90b3R5cGUuZ3JvdXBCb3JkZXJTaXplPW51bGw7Cm14RWRpdG9yLnByb3RvdHlwZS5maWxlbmFtZT1udWxsO214RWRpdG9yLnByb3RvdHlwZS5saW5lZmVlZD0iJiN4YTsiO214RWRpdG9yLnByb3RvdHlwZS5wb3N0UGFyYW1ldGVyTmFtZT0ieG1sIjtteEVkaXRvci5wcm90b3R5cGUuZXNjYXBlUG9zdERhdGE9ITA7bXhFZGl0b3IucHJvdG90eXBlLnVybFBvc3Q9bnVsbDtteEVkaXRvci5wcm90b3R5cGUudXJsSW1hZ2U9bnVsbDtteEVkaXRvci5wcm90b3R5cGUuaG9yaXpvbnRhbEZsb3c9ITE7bXhFZGl0b3IucHJvdG90eXBlLmxheW91dERpYWdyYW09ITE7bXhFZGl0b3IucHJvdG90eXBlLnN3aW1sYW5lU3BhY2luZz0wO214RWRpdG9yLnByb3RvdHlwZS5tYWludGFpblN3aW1sYW5lcz0hMTtteEVkaXRvci5wcm90b3R5cGUubGF5b3V0U3dpbWxhbmVzPSExO214RWRpdG9yLnByb3RvdHlwZS5jeWNsZUF0dHJpYnV0ZVZhbHVlcz1udWxsO214RWRpdG9yLnByb3RvdHlwZS5jeWNsZUF0dHJpYnV0ZUluZGV4PTA7Cm14RWRpdG9yLnByb3RvdHlwZS5jeWNsZUF0dHJpYnV0ZU5hbWU9ImZpbGxDb2xvciI7bXhFZGl0b3IucHJvdG90eXBlLnRhc2tzPW51bGw7bXhFZGl0b3IucHJvdG90eXBlLnRhc2tzV2luZG93SW1hZ2U9bnVsbDtteEVkaXRvci5wcm90b3R5cGUudGFza3NUb3A9MjA7bXhFZGl0b3IucHJvdG90eXBlLmhlbHA9bnVsbDtteEVkaXRvci5wcm90b3R5cGUuaGVscFdpbmRvd0ltYWdlPW51bGw7bXhFZGl0b3IucHJvdG90eXBlLnVybEhlbHA9bnVsbDtteEVkaXRvci5wcm90b3R5cGUuaGVscFdpZHRoPTMwMDtteEVkaXRvci5wcm90b3R5cGUuaGVscEhlaWdodD0yNjA7bXhFZGl0b3IucHJvdG90eXBlLnByb3BlcnRpZXNXaWR0aD0yNDA7bXhFZGl0b3IucHJvdG90eXBlLnByb3BlcnRpZXNIZWlnaHQ9bnVsbDtteEVkaXRvci5wcm90b3R5cGUubW92ZVByb3BlcnRpZXNEaWFsb2c9ITE7bXhFZGl0b3IucHJvdG90eXBlLnZhbGlkYXRpbmc9ITE7Cm14RWRpdG9yLnByb3RvdHlwZS5tb2RpZmllZD0hMTtteEVkaXRvci5wcm90b3R5cGUuaXNNb2RpZmllZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1vZGlmaWVkfTtteEVkaXRvci5wcm90b3R5cGUuc2V0TW9kaWZpZWQ9ZnVuY3Rpb24oYSl7dGhpcy5tb2RpZmllZD1hfTsKbXhFZGl0b3IucHJvdG90eXBlLmFkZEFjdGlvbnM9ZnVuY3Rpb24oKXt0aGlzLmFkZEFjdGlvbigic2F2ZSIsZnVuY3Rpb24oYSl7YS5zYXZlKCl9KTt0aGlzLmFkZEFjdGlvbigicHJpbnQiLGZ1bmN0aW9uKGEpeyhuZXcgbXhQcmludFByZXZpZXcoYS5ncmFwaCwxKSkub3BlbigpfSk7dGhpcy5hZGRBY3Rpb24oInNob3ciLGZ1bmN0aW9uKGEpe214VXRpbHMuc2hvdyhhLmdyYXBoLG51bGwsMTAsMTApfSk7dGhpcy5hZGRBY3Rpb24oImV4cG9ydEltYWdlIixmdW5jdGlvbihhKXt2YXIgYj1hLmdldFVybEltYWdlKCk7aWYobnVsbD09Ynx8bXhDbGllbnQuSVNfTE9DQUwpYS5leGVjdXRlKCJzaG93Iik7ZWxzZXt2YXIgYz1teFV0aWxzLmdldFZpZXdYbWwoYS5ncmFwaCwxKSxjPW14VXRpbHMuZ2V0WG1sKGMsIlxuIik7bXhVdGlscy5zdWJtaXQoYixhLnBvc3RQYXJhbWV0ZXJOYW1lKyI9IitlbmNvZGVVUklDb21wb25lbnQoYyksZG9jdW1lbnQsIl9ibGFuayIpfX0pO3RoaXMuYWRkQWN0aW9uKCJyZWZyZXNoIiwKZnVuY3Rpb24oYSl7YS5ncmFwaC5yZWZyZXNoKCl9KTt0aGlzLmFkZEFjdGlvbigiY3V0IixmdW5jdGlvbihhKXthLmdyYXBoLmlzRW5hYmxlZCgpJiZteENsaXBib2FyZC5jdXQoYS5ncmFwaCl9KTt0aGlzLmFkZEFjdGlvbigiY29weSIsZnVuY3Rpb24oYSl7YS5ncmFwaC5pc0VuYWJsZWQoKSYmbXhDbGlwYm9hcmQuY29weShhLmdyYXBoKX0pO3RoaXMuYWRkQWN0aW9uKCJwYXN0ZSIsZnVuY3Rpb24oYSl7YS5ncmFwaC5pc0VuYWJsZWQoKSYmbXhDbGlwYm9hcmQucGFzdGUoYS5ncmFwaCl9KTt0aGlzLmFkZEFjdGlvbigiZGVsZXRlIixmdW5jdGlvbihhKXthLmdyYXBoLmlzRW5hYmxlZCgpJiZhLmdyYXBoLnJlbW92ZUNlbGxzKCl9KTt0aGlzLmFkZEFjdGlvbigiZ3JvdXAiLGZ1bmN0aW9uKGEpe2EuZ3JhcGguaXNFbmFibGVkKCkmJmEuZ3JhcGguc2V0U2VsZWN0aW9uQ2VsbChhLmdyb3VwQ2VsbHMoKSl9KTt0aGlzLmFkZEFjdGlvbigidW5ncm91cCIsZnVuY3Rpb24oYSl7YS5ncmFwaC5pc0VuYWJsZWQoKSYmCmEuZ3JhcGguc2V0U2VsZWN0aW9uQ2VsbHMoYS5ncmFwaC51bmdyb3VwQ2VsbHMoKSl9KTt0aGlzLmFkZEFjdGlvbigicmVtb3ZlRnJvbVBhcmVudCIsZnVuY3Rpb24oYSl7YS5ncmFwaC5pc0VuYWJsZWQoKSYmYS5ncmFwaC5yZW1vdmVDZWxsc0Zyb21QYXJlbnQoKX0pO3RoaXMuYWRkQWN0aW9uKCJ1bmRvIixmdW5jdGlvbihhKXthLmdyYXBoLmlzRW5hYmxlZCgpJiZhLnVuZG8oKX0pO3RoaXMuYWRkQWN0aW9uKCJyZWRvIixmdW5jdGlvbihhKXthLmdyYXBoLmlzRW5hYmxlZCgpJiZhLnJlZG8oKX0pO3RoaXMuYWRkQWN0aW9uKCJ6b29tSW4iLGZ1bmN0aW9uKGEpe2EuZ3JhcGguem9vbUluKCl9KTt0aGlzLmFkZEFjdGlvbigiem9vbU91dCIsZnVuY3Rpb24oYSl7YS5ncmFwaC56b29tT3V0KCl9KTt0aGlzLmFkZEFjdGlvbigiYWN0dWFsU2l6ZSIsZnVuY3Rpb24oYSl7YS5ncmFwaC56b29tQWN0dWFsKCl9KTt0aGlzLmFkZEFjdGlvbigiZml0IixmdW5jdGlvbihhKXthLmdyYXBoLmZpdCgpfSk7CnRoaXMuYWRkQWN0aW9uKCJzaG93UHJvcGVydGllcyIsZnVuY3Rpb24oYSxiKXthLnNob3dQcm9wZXJ0aWVzKGIpfSk7dGhpcy5hZGRBY3Rpb24oInNlbGVjdEFsbCIsZnVuY3Rpb24oYSl7YS5ncmFwaC5pc0VuYWJsZWQoKSYmYS5ncmFwaC5zZWxlY3RBbGwoKX0pO3RoaXMuYWRkQWN0aW9uKCJzZWxlY3ROb25lIixmdW5jdGlvbihhKXthLmdyYXBoLmlzRW5hYmxlZCgpJiZhLmdyYXBoLmNsZWFyU2VsZWN0aW9uKCl9KTt0aGlzLmFkZEFjdGlvbigic2VsZWN0VmVydGljZXMiLGZ1bmN0aW9uKGEpe2EuZ3JhcGguaXNFbmFibGVkKCkmJmEuZ3JhcGguc2VsZWN0VmVydGljZXMoKX0pO3RoaXMuYWRkQWN0aW9uKCJzZWxlY3RFZGdlcyIsZnVuY3Rpb24oYSl7YS5ncmFwaC5pc0VuYWJsZWQoKSYmYS5ncmFwaC5zZWxlY3RFZGdlcygpfSk7dGhpcy5hZGRBY3Rpb24oImVkaXQiLGZ1bmN0aW9uKGEsYil7YS5ncmFwaC5pc0VuYWJsZWQoKSYmYS5ncmFwaC5pc0NlbGxFZGl0YWJsZShiKSYmYS5ncmFwaC5zdGFydEVkaXRpbmdBdENlbGwoYil9KTsKdGhpcy5hZGRBY3Rpb24oInRvQmFjayIsZnVuY3Rpb24oYSxiKXthLmdyYXBoLmlzRW5hYmxlZCgpJiZhLmdyYXBoLm9yZGVyQ2VsbHMoITApfSk7dGhpcy5hZGRBY3Rpb24oInRvRnJvbnQiLGZ1bmN0aW9uKGEsYil7YS5ncmFwaC5pc0VuYWJsZWQoKSYmYS5ncmFwaC5vcmRlckNlbGxzKCExKX0pO3RoaXMuYWRkQWN0aW9uKCJlbnRlckdyb3VwIixmdW5jdGlvbihhLGIpe2EuZ3JhcGguZW50ZXJHcm91cChiKX0pO3RoaXMuYWRkQWN0aW9uKCJleGl0R3JvdXAiLGZ1bmN0aW9uKGEpe2EuZ3JhcGguZXhpdEdyb3VwKCl9KTt0aGlzLmFkZEFjdGlvbigiaG9tZSIsZnVuY3Rpb24oYSl7YS5ncmFwaC5ob21lKCl9KTt0aGlzLmFkZEFjdGlvbigic2VsZWN0UHJldmlvdXMiLGZ1bmN0aW9uKGEpe2EuZ3JhcGguaXNFbmFibGVkKCkmJmEuZ3JhcGguc2VsZWN0UHJldmlvdXNDZWxsKCl9KTt0aGlzLmFkZEFjdGlvbigic2VsZWN0TmV4dCIsZnVuY3Rpb24oYSl7YS5ncmFwaC5pc0VuYWJsZWQoKSYmCmEuZ3JhcGguc2VsZWN0TmV4dENlbGwoKX0pO3RoaXMuYWRkQWN0aW9uKCJzZWxlY3RQYXJlbnQiLGZ1bmN0aW9uKGEpe2EuZ3JhcGguaXNFbmFibGVkKCkmJmEuZ3JhcGguc2VsZWN0UGFyZW50Q2VsbCgpfSk7dGhpcy5hZGRBY3Rpb24oInNlbGVjdENoaWxkIixmdW5jdGlvbihhKXthLmdyYXBoLmlzRW5hYmxlZCgpJiZhLmdyYXBoLnNlbGVjdENoaWxkQ2VsbCgpfSk7dGhpcy5hZGRBY3Rpb24oImNvbGxhcHNlIixmdW5jdGlvbihhKXthLmdyYXBoLmlzRW5hYmxlZCgpJiZhLmdyYXBoLmZvbGRDZWxscyghMCl9KTt0aGlzLmFkZEFjdGlvbigiY29sbGFwc2VBbGwiLGZ1bmN0aW9uKGEpe2lmKGEuZ3JhcGguaXNFbmFibGVkKCkpe3ZhciBiPWEuZ3JhcGguZ2V0Q2hpbGRWZXJ0aWNlcygpO2EuZ3JhcGguZm9sZENlbGxzKCEwLCExLGIpfX0pO3RoaXMuYWRkQWN0aW9uKCJleHBhbmQiLGZ1bmN0aW9uKGEpe2EuZ3JhcGguaXNFbmFibGVkKCkmJmEuZ3JhcGguZm9sZENlbGxzKCExKX0pOwp0aGlzLmFkZEFjdGlvbigiZXhwYW5kQWxsIixmdW5jdGlvbihhKXtpZihhLmdyYXBoLmlzRW5hYmxlZCgpKXt2YXIgYj1hLmdyYXBoLmdldENoaWxkVmVydGljZXMoKTthLmdyYXBoLmZvbGRDZWxscyghMSwhMSxiKX19KTt0aGlzLmFkZEFjdGlvbigiYm9sZCIsZnVuY3Rpb24oYSl7YS5ncmFwaC5pc0VuYWJsZWQoKSYmYS5ncmFwaC50b2dnbGVDZWxsU3R5bGVGbGFncyhteENvbnN0YW50cy5TVFlMRV9GT05UU1RZTEUsbXhDb25zdGFudHMuRk9OVF9CT0xEKX0pO3RoaXMuYWRkQWN0aW9uKCJpdGFsaWMiLGZ1bmN0aW9uKGEpe2EuZ3JhcGguaXNFbmFibGVkKCkmJmEuZ3JhcGgudG9nZ2xlQ2VsbFN0eWxlRmxhZ3MobXhDb25zdGFudHMuU1RZTEVfRk9OVFNUWUxFLG14Q29uc3RhbnRzLkZPTlRfSVRBTElDKX0pO3RoaXMuYWRkQWN0aW9uKCJ1bmRlcmxpbmUiLGZ1bmN0aW9uKGEpe2EuZ3JhcGguaXNFbmFibGVkKCkmJmEuZ3JhcGgudG9nZ2xlQ2VsbFN0eWxlRmxhZ3MobXhDb25zdGFudHMuU1RZTEVfRk9OVFNUWUxFLApteENvbnN0YW50cy5GT05UX1VOREVSTElORSl9KTt0aGlzLmFkZEFjdGlvbigiYWxpZ25DZWxsc0xlZnQiLGZ1bmN0aW9uKGEpe2EuZ3JhcGguaXNFbmFibGVkKCkmJmEuZ3JhcGguYWxpZ25DZWxscyhteENvbnN0YW50cy5BTElHTl9MRUZUKX0pO3RoaXMuYWRkQWN0aW9uKCJhbGlnbkNlbGxzQ2VudGVyIixmdW5jdGlvbihhKXthLmdyYXBoLmlzRW5hYmxlZCgpJiZhLmdyYXBoLmFsaWduQ2VsbHMobXhDb25zdGFudHMuQUxJR05fQ0VOVEVSKX0pO3RoaXMuYWRkQWN0aW9uKCJhbGlnbkNlbGxzUmlnaHQiLGZ1bmN0aW9uKGEpe2EuZ3JhcGguaXNFbmFibGVkKCkmJmEuZ3JhcGguYWxpZ25DZWxscyhteENvbnN0YW50cy5BTElHTl9SSUdIVCl9KTt0aGlzLmFkZEFjdGlvbigiYWxpZ25DZWxsc1RvcCIsZnVuY3Rpb24oYSl7YS5ncmFwaC5pc0VuYWJsZWQoKSYmYS5ncmFwaC5hbGlnbkNlbGxzKG14Q29uc3RhbnRzLkFMSUdOX1RPUCl9KTt0aGlzLmFkZEFjdGlvbigiYWxpZ25DZWxsc01pZGRsZSIsCmZ1bmN0aW9uKGEpe2EuZ3JhcGguaXNFbmFibGVkKCkmJmEuZ3JhcGguYWxpZ25DZWxscyhteENvbnN0YW50cy5BTElHTl9NSURETEUpfSk7dGhpcy5hZGRBY3Rpb24oImFsaWduQ2VsbHNCb3R0b20iLGZ1bmN0aW9uKGEpe2EuZ3JhcGguaXNFbmFibGVkKCkmJmEuZ3JhcGguYWxpZ25DZWxscyhteENvbnN0YW50cy5BTElHTl9CT1RUT00pfSk7dGhpcy5hZGRBY3Rpb24oImFsaWduRm9udExlZnQiLGZ1bmN0aW9uKGEpe2EuZ3JhcGguc2V0Q2VsbFN0eWxlcyhteENvbnN0YW50cy5TVFlMRV9BTElHTixteENvbnN0YW50cy5BTElHTl9MRUZUKX0pO3RoaXMuYWRkQWN0aW9uKCJhbGlnbkZvbnRDZW50ZXIiLGZ1bmN0aW9uKGEpe2EuZ3JhcGguaXNFbmFibGVkKCkmJmEuZ3JhcGguc2V0Q2VsbFN0eWxlcyhteENvbnN0YW50cy5TVFlMRV9BTElHTixteENvbnN0YW50cy5BTElHTl9DRU5URVIpfSk7dGhpcy5hZGRBY3Rpb24oImFsaWduRm9udFJpZ2h0IixmdW5jdGlvbihhKXthLmdyYXBoLmlzRW5hYmxlZCgpJiYKYS5ncmFwaC5zZXRDZWxsU3R5bGVzKG14Q29uc3RhbnRzLlNUWUxFX0FMSUdOLG14Q29uc3RhbnRzLkFMSUdOX1JJR0hUKX0pO3RoaXMuYWRkQWN0aW9uKCJhbGlnbkZvbnRUb3AiLGZ1bmN0aW9uKGEpe2EuZ3JhcGguaXNFbmFibGVkKCkmJmEuZ3JhcGguc2V0Q2VsbFN0eWxlcyhteENvbnN0YW50cy5TVFlMRV9WRVJUSUNBTF9BTElHTixteENvbnN0YW50cy5BTElHTl9UT1ApfSk7dGhpcy5hZGRBY3Rpb24oImFsaWduRm9udE1pZGRsZSIsZnVuY3Rpb24oYSl7YS5ncmFwaC5pc0VuYWJsZWQoKSYmYS5ncmFwaC5zZXRDZWxsU3R5bGVzKG14Q29uc3RhbnRzLlNUWUxFX1ZFUlRJQ0FMX0FMSUdOLG14Q29uc3RhbnRzLkFMSUdOX01JRERMRSl9KTt0aGlzLmFkZEFjdGlvbigiYWxpZ25Gb250Qm90dG9tIixmdW5jdGlvbihhKXthLmdyYXBoLmlzRW5hYmxlZCgpJiZhLmdyYXBoLnNldENlbGxTdHlsZXMobXhDb25zdGFudHMuU1RZTEVfVkVSVElDQUxfQUxJR04sbXhDb25zdGFudHMuQUxJR05fQk9UVE9NKX0pOwp0aGlzLmFkZEFjdGlvbigiem9vbSIsZnVuY3Rpb24oYSl7dmFyIGI9MTAwKmEuZ3JhcGguZ2V0VmlldygpLnNjYWxlLGI9cGFyc2VGbG9hdChteFV0aWxzLnByb21wdChteFJlc291cmNlcy5nZXQoYS5hc2tab29tUmVzb3VyY2UpfHxhLmFza1pvb21SZXNvdXJjZSxiKSkvMTAwO2lzTmFOKGIpfHxhLmdyYXBoLmdldFZpZXcoKS5zZXRTY2FsZShiKX0pO3RoaXMuYWRkQWN0aW9uKCJ0b2dnbGVUYXNrcyIsZnVuY3Rpb24oYSl7bnVsbCE9YS50YXNrcz9hLnRhc2tzLnNldFZpc2libGUoIWEudGFza3MuaXNWaXNpYmxlKCkpOmEuc2hvd1Rhc2tzKCl9KTt0aGlzLmFkZEFjdGlvbigidG9nZ2xlSGVscCIsZnVuY3Rpb24oYSl7bnVsbCE9YS5oZWxwP2EuaGVscC5zZXRWaXNpYmxlKCFhLmhlbHAuaXNWaXNpYmxlKCkpOmEuc2hvd0hlbHAoKX0pO3RoaXMuYWRkQWN0aW9uKCJ0b2dnbGVPdXRsaW5lIixmdW5jdGlvbihhKXtudWxsPT1hLm91dGxpbmU/YS5zaG93T3V0bGluZSgpOmEub3V0bGluZS5zZXRWaXNpYmxlKCFhLm91dGxpbmUuaXNWaXNpYmxlKCkpfSk7CnRoaXMuYWRkQWN0aW9uKCJ0b2dnbGVDb25zb2xlIixmdW5jdGlvbihhKXtteExvZy5zZXRWaXNpYmxlKCFteExvZy5pc1Zpc2libGUoKSl9KX07bXhFZGl0b3IucHJvdG90eXBlLmNvbmZpZ3VyZT1mdW5jdGlvbihhKXtudWxsIT1hJiYoKG5ldyBteENvZGVjKGEub3duZXJEb2N1bWVudCkpLmRlY29kZShhLHRoaXMpLHRoaXMucmVzZXRIaXN0b3J5KCkpfTtteEVkaXRvci5wcm90b3R5cGUucmVzZXRGaXJzdFRpbWU9ZnVuY3Rpb24oKXtkb2N1bWVudC5jb29raWU9Im14Z3JhcGg9c2VlbjsgZXhwaXJlcz1GcmksIDI3IEp1bCAyMDAxIDAyOjQ3OjExIFVUQzsgcGF0aD0vIn07bXhFZGl0b3IucHJvdG90eXBlLnJlc2V0SGlzdG9yeT1mdW5jdGlvbigpe3RoaXMubGFzdFNuYXBzaG90PShuZXcgRGF0ZSkuZ2V0VGltZSgpO3RoaXMudW5kb01hbmFnZXIuY2xlYXIoKTt0aGlzLmlnbm9yZWRDaGFuZ2VzPTA7dGhpcy5zZXRNb2RpZmllZCghMSl9OwpteEVkaXRvci5wcm90b3R5cGUuYWRkQWN0aW9uPWZ1bmN0aW9uKGEsYil7dGhpcy5hY3Rpb25zW2FdPWJ9O214RWRpdG9yLnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmFjdGlvbnNbYV07aWYobnVsbCE9ZCl0cnl7dmFyIGU9YXJndW1lbnRzO2VbMF09dGhpcztkLmFwcGx5KHRoaXMsZSl9Y2F0Y2goZil7dGhyb3cgbXhVdGlscy5lcnJvcigiQ2Fubm90IGV4ZWN1dGUgIithKyI6ICIrZi5tZXNzYWdlLDI4MCwhMCksZjt9ZWxzZSBteFV0aWxzLmVycm9yKCJDYW5ub3QgZmluZCBhY3Rpb24gIithLDI4MCwhMCl9O214RWRpdG9yLnByb3RvdHlwZS5hZGRUZW1wbGF0ZT1mdW5jdGlvbihhLGIpe3RoaXMudGVtcGxhdGVzW2FdPWJ9O214RWRpdG9yLnByb3RvdHlwZS5nZXRUZW1wbGF0ZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy50ZW1wbGF0ZXNbYV19OwpteEVkaXRvci5wcm90b3R5cGUuY3JlYXRlR3JhcGg9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgbXhHcmFwaChudWxsLG51bGwsdGhpcy5ncmFwaFJlbmRlckhpbnQpO2Euc2V0VG9vbHRpcHMoITApO2Euc2V0UGFubmluZyghMCk7dGhpcy5pbnN0YWxsRGJsQ2xpY2tIYW5kbGVyKGEpO3RoaXMuaW5zdGFsbFVuZG9IYW5kbGVyKGEpO3RoaXMuaW5zdGFsbERyaWxsSGFuZGxlcihhKTt0aGlzLmluc3RhbGxDaGFuZ2VIYW5kbGVyKGEpO3RoaXMuaW5zdGFsbEluc2VydEhhbmRsZXIoYSk7YS5wb3B1cE1lbnVIYW5kbGVyLmZhY3RvcnlNZXRob2Q9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxjLGQpe3JldHVybiB0aGlzLmNyZWF0ZVBvcHVwTWVudShhLGMsZCl9KTthLmNvbm5lY3Rpb25IYW5kbGVyLmZhY3RvcnlNZXRob2Q9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxjKXtyZXR1cm4gdGhpcy5jcmVhdGVFZGdlKGEsYyl9KTt0aGlzLmNyZWF0ZVN3aW1sYW5lTWFuYWdlcihhKTsKdGhpcy5jcmVhdGVMYXlvdXRNYW5hZ2VyKGEpO3JldHVybiBhfTtteEVkaXRvci5wcm90b3R5cGUuY3JlYXRlU3dpbWxhbmVNYW5hZ2VyPWZ1bmN0aW9uKGEpe2E9bmV3IG14U3dpbWxhbmVNYW5hZ2VyKGEsITEpO2EuaXNIb3Jpem9udGFsPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaG9yaXpvbnRhbEZsb3d9KTthLmlzRW5hYmxlZD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3JldHVybiB0aGlzLm1haW50YWluU3dpbWxhbmVzfSk7cmV0dXJuIGF9OwpteEVkaXRvci5wcm90b3R5cGUuY3JlYXRlTGF5b3V0TWFuYWdlcj1mdW5jdGlvbihhKXt2YXIgYj1uZXcgbXhMYXlvdXRNYW5hZ2VyKGEpLGM9dGhpcztiLmdldExheW91dD1mdW5jdGlvbihiKXt2YXIgZD1udWxsLGY9Yy5ncmFwaC5nZXRNb2RlbCgpO251bGwhPWYuZ2V0UGFyZW50KGIpJiYoYy5sYXlvdXRTd2ltbGFuZXMmJmEuaXNTd2ltbGFuZShiKT8obnVsbD09Yy5zd2ltbGFuZUxheW91dCYmKGMuc3dpbWxhbmVMYXlvdXQ9Yy5jcmVhdGVTd2ltbGFuZUxheW91dCgpKSxkPWMuc3dpbWxhbmVMYXlvdXQpOmMubGF5b3V0RGlhZ3JhbSYmKGEuaXNWYWxpZFJvb3QoYil8fG51bGw9PWYuZ2V0UGFyZW50KGYuZ2V0UGFyZW50KGIpKSkmJihudWxsPT1jLmRpYWdyYW1MYXlvdXQmJihjLmRpYWdyYW1MYXlvdXQ9Yy5jcmVhdGVEaWFncmFtTGF5b3V0KCkpLGQ9Yy5kaWFncmFtTGF5b3V0KSk7cmV0dXJuIGR9O3JldHVybiBifTsKbXhFZGl0b3IucHJvdG90eXBlLnNldEdyYXBoQ29udGFpbmVyPWZ1bmN0aW9uKGEpe251bGw9PXRoaXMuZ3JhcGguY29udGFpbmVyJiYodGhpcy5ncmFwaC5pbml0KGEpLHRoaXMucnViYmVyYmFuZD1uZXcgbXhSdWJiZXJiYW5kKHRoaXMuZ3JhcGgpLHRoaXMuZGlzYWJsZUNvbnRleHRNZW51JiZteEV2ZW50LmRpc2FibGVDb250ZXh0TWVudShhKSxteENsaWVudC5JU19RVUlSS1MmJm5ldyBteERpdlJlc2l6ZXIoYSkpfTtteEVkaXRvci5wcm90b3R5cGUuaW5zdGFsbERibENsaWNrSGFuZGxlcj1mdW5jdGlvbihhKXthLmFkZExpc3RlbmVyKG14RXZlbnQuRE9VQkxFX0NMSUNLLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIsYyl7dmFyIGQ9Yy5nZXRQcm9wZXJ0eSgiY2VsbCIpO251bGwhPWQmJmEuaXNFbmFibGVkKCkmJm51bGwhPXRoaXMuZGJsQ2xpY2tBY3Rpb24mJih0aGlzLmV4ZWN1dGUodGhpcy5kYmxDbGlja0FjdGlvbixkKSxjLmNvbnN1bWUoKSl9KSl9OwpteEVkaXRvci5wcm90b3R5cGUuaW5zdGFsbFVuZG9IYW5kbGVyPWZ1bmN0aW9uKGEpe3ZhciBiPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5nZXRQcm9wZXJ0eSgiZWRpdCIpO3RoaXMudW5kb01hbmFnZXIudW5kb2FibGVFZGl0SGFwcGVuZWQoYyl9KTthLmdldE1vZGVsKCkuYWRkTGlzdGVuZXIobXhFdmVudC5VTkRPLGIpO2EuZ2V0VmlldygpLmFkZExpc3RlbmVyKG14RXZlbnQuVU5ETyxiKTtiPWZ1bmN0aW9uKGIsZCl7dmFyIGM9ZC5nZXRQcm9wZXJ0eSgiZWRpdCIpLmNoYW5nZXM7YS5zZXRTZWxlY3Rpb25DZWxscyhhLmdldFNlbGVjdGlvbkNlbGxzRm9yQ2hhbmdlcyhjKSl9O3RoaXMudW5kb01hbmFnZXIuYWRkTGlzdGVuZXIobXhFdmVudC5VTkRPLGIpO3RoaXMudW5kb01hbmFnZXIuYWRkTGlzdGVuZXIobXhFdmVudC5SRURPLGIpfTsKbXhFZGl0b3IucHJvdG90eXBlLmluc3RhbGxEcmlsbEhhbmRsZXI9ZnVuY3Rpb24oYSl7dmFyIGI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5ST09UKSl9KTthLmdldFZpZXcoKS5hZGRMaXN0ZW5lcihteEV2ZW50LkRPV04sYik7YS5nZXRWaWV3KCkuYWRkTGlzdGVuZXIobXhFdmVudC5VUCxiKX07Cm14RWRpdG9yLnByb3RvdHlwZS5pbnN0YWxsQ2hhbmdlSGFuZGxlcj1mdW5jdGlvbihhKXt2YXIgYj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiLGQpe3RoaXMuc2V0TW9kaWZpZWQoITApOzE9PXRoaXMudmFsaWRhdGluZyYmYS52YWxpZGF0ZUdyYXBoKCk7Zm9yKHZhciBjPWQuZ2V0UHJvcGVydHkoImVkaXQiKS5jaGFuZ2VzLGY9MDtmPGMubGVuZ3RoO2YrKyl7dmFyIGc9Y1tmXTtpZihnIGluc3RhbmNlb2YgbXhSb290Q2hhbmdlfHxnIGluc3RhbmNlb2YgbXhWYWx1ZUNoYW5nZSYmZy5jZWxsPT10aGlzLmdyYXBoLm1vZGVsLnJvb3R8fGcgaW5zdGFuY2VvZiBteENlbGxBdHRyaWJ1dGVDaGFuZ2UmJmcuY2VsbD09dGhpcy5ncmFwaC5tb2RlbC5yb290KXt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlJPT1QpKTticmVha319fSk7YS5nZXRNb2RlbCgpLmFkZExpc3RlbmVyKG14RXZlbnQuQ0hBTkdFLGIpfTsKbXhFZGl0b3IucHJvdG90eXBlLmluc3RhbGxJbnNlcnRIYW5kbGVyPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7YS5hZGRNb3VzZUxpc3RlbmVyKHttb3VzZURvd246ZnVuY3Rpb24oYSxkKXtudWxsPT1iLmluc2VydEZ1bmN0aW9ufHxkLmlzUG9wdXBUcmlnZ2VyKCl8fCFiLmZvcmNlZEluc2VydGluZyYmbnVsbCE9ZC5nZXRTdGF0ZSgpfHwoYi5ncmFwaC5jbGVhclNlbGVjdGlvbigpLGIuaW5zZXJ0RnVuY3Rpb24oZC5nZXRFdmVudCgpLGQuZ2V0Q2VsbCgpKSx0aGlzLmlzQWN0aXZlPSEwLGQuY29uc3VtZSgpKX0sbW91c2VNb3ZlOmZ1bmN0aW9uKGEsYil7dGhpcy5pc0FjdGl2ZSYmYi5jb25zdW1lKCl9LG1vdXNlVXA6ZnVuY3Rpb24oYSxiKXt0aGlzLmlzQWN0aXZlJiYodGhpcy5pc0FjdGl2ZT0hMSxiLmNvbnN1bWUoKSl9fSl9OwpteEVkaXRvci5wcm90b3R5cGUuY3JlYXRlRGlhZ3JhbUxheW91dD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ3JhcGguZ3JpZFNpemUsYj1uZXcgbXhTdGFja0xheW91dCh0aGlzLmdyYXBoLCF0aGlzLmhvcml6b250YWxGbG93LHRoaXMuc3dpbWxhbmVTcGFjaW5nLDIqYSwyKmEpO2IuaXNWZXJ0ZXhJZ25vcmVkPWZ1bmN0aW9uKGEpe3JldHVybiFiLmdyYXBoLmlzU3dpbWxhbmUoYSl9O3JldHVybiBifTtteEVkaXRvci5wcm90b3R5cGUuY3JlYXRlU3dpbWxhbmVMYXlvdXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG14Q29tcGFjdFRyZWVMYXlvdXQodGhpcy5ncmFwaCx0aGlzLmhvcml6b250YWxGbG93KX07bXhFZGl0b3IucHJvdG90eXBlLmNyZWF0ZVRvb2xiYXI9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG14RGVmYXVsdFRvb2xiYXIobnVsbCx0aGlzKX07Cm14RWRpdG9yLnByb3RvdHlwZS5zZXRUb29sYmFyQ29udGFpbmVyPWZ1bmN0aW9uKGEpe3RoaXMudG9vbGJhci5pbml0KGEpO214Q2xpZW50LklTX1FVSVJLUyYmbmV3IG14RGl2UmVzaXplcihhKX07Cm14RWRpdG9yLnByb3RvdHlwZS5zZXRTdGF0dXNDb250YWluZXI9ZnVuY3Rpb24oYSl7bnVsbD09dGhpcy5zdGF0dXMmJih0aGlzLnN0YXR1cz1hLHRoaXMuYWRkTGlzdGVuZXIobXhFdmVudC5TQVZFLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dmFyIGE9KG5ldyBEYXRlKS50b0xvY2FsZVN0cmluZygpO3RoaXMuc2V0U3RhdHVzKChteFJlc291cmNlcy5nZXQodGhpcy5sYXN0U2F2ZWRSZXNvdXJjZSl8fHRoaXMubGFzdFNhdmVkUmVzb3VyY2UpKyI6ICIrYSl9KSksdGhpcy5hZGRMaXN0ZW5lcihteEV2ZW50Lk9QRU4sbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnNldFN0YXR1cygobXhSZXNvdXJjZXMuZ2V0KHRoaXMuY3VycmVudEZpbGVSZXNvdXJjZSl8fHRoaXMuY3VycmVudEZpbGVSZXNvdXJjZSkrIjogIit0aGlzLmZpbGVuYW1lKX0pKSxteENsaWVudC5JU19RVUlSS1MmJm5ldyBteERpdlJlc2l6ZXIoYSkpfTsKbXhFZGl0b3IucHJvdG90eXBlLnNldFN0YXR1cz1mdW5jdGlvbihhKXtudWxsIT10aGlzLnN0YXR1cyYmbnVsbCE9YSYmKHRoaXMuc3RhdHVzLmlubmVySFRNTD1hKX07bXhFZGl0b3IucHJvdG90eXBlLnNldFRpdGxlQ29udGFpbmVyPWZ1bmN0aW9uKGEpe3RoaXMuYWRkTGlzdGVuZXIobXhFdmVudC5ST09ULG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe2EuaW5uZXJIVE1MPXRoaXMuZ2V0VGl0bGUoKX0pKTtteENsaWVudC5JU19RVUlSS1MmJm5ldyBteERpdlJlc2l6ZXIoYSl9O214RWRpdG9yLnByb3RvdHlwZS50cmVlTGF5b3V0PWZ1bmN0aW9uKGEsYil7bnVsbCE9YSYmKG5ldyBteENvbXBhY3RUcmVlTGF5b3V0KHRoaXMuZ3JhcGgsYikpLmV4ZWN1dGUoYSl9OwpteEVkaXRvci5wcm90b3R5cGUuZ2V0VGl0bGU9ZnVuY3Rpb24oKXtmb3IodmFyIGE9IiIsYj10aGlzLmdyYXBoLGM9Yi5nZXRDdXJyZW50Um9vdCgpO251bGwhPWMmJm51bGwhPWIuZ2V0TW9kZWwoKS5nZXRQYXJlbnQoYi5nZXRNb2RlbCgpLmdldFBhcmVudChjKSk7KWIuaXNWYWxpZFJvb3QoYykmJihhPSIgPiAiK2IuY29udmVydFZhbHVlVG9TdHJpbmcoYykrYSksYz1iLmdldE1vZGVsKCkuZ2V0UGFyZW50KGMpO3JldHVybiB0aGlzLmdldFJvb3RUaXRsZSgpK2F9O214RWRpdG9yLnByb3RvdHlwZS5nZXRSb290VGl0bGU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdyYXBoLmdldE1vZGVsKCkuZ2V0Um9vdCgpO3JldHVybiB0aGlzLmdyYXBoLmNvbnZlcnRWYWx1ZVRvU3RyaW5nKGEpfTtteEVkaXRvci5wcm90b3R5cGUudW5kbz1mdW5jdGlvbigpe3RoaXMudW5kb01hbmFnZXIudW5kbygpfTtteEVkaXRvci5wcm90b3R5cGUucmVkbz1mdW5jdGlvbigpe3RoaXMudW5kb01hbmFnZXIucmVkbygpfTsKbXhFZGl0b3IucHJvdG90eXBlLmdyb3VwQ2VsbHM9ZnVuY3Rpb24oKXt2YXIgYT1udWxsIT10aGlzLmdyb3VwQm9yZGVyU2l6ZT90aGlzLmdyb3VwQm9yZGVyU2l6ZTp0aGlzLmdyYXBoLmdyaWRTaXplO3JldHVybiB0aGlzLmdyYXBoLmdyb3VwQ2VsbHModGhpcy5jcmVhdGVHcm91cCgpLGEpfTtteEVkaXRvci5wcm90b3R5cGUuY3JlYXRlR3JvdXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ncmFwaC5nZXRNb2RlbCgpLmNsb25lQ2VsbCh0aGlzLmRlZmF1bHRHcm91cCl9O214RWRpdG9yLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKGEpe2lmKG51bGwhPWEpe3ZhciBiPW14VXRpbHMubG9hZChhKS5nZXRYbWwoKTt0aGlzLnJlYWRHcmFwaE1vZGVsKGIuZG9jdW1lbnRFbGVtZW50KTt0aGlzLmZpbGVuYW1lPWE7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5PUEVOLCJmaWxlbmFtZSIsYSkpfX07Cm14RWRpdG9yLnByb3RvdHlwZS5yZWFkR3JhcGhNb2RlbD1mdW5jdGlvbihhKXsobmV3IG14Q29kZWMoYS5vd25lckRvY3VtZW50KSkuZGVjb2RlKGEsdGhpcy5ncmFwaC5nZXRNb2RlbCgpKTt0aGlzLnJlc2V0SGlzdG9yeSgpfTtteEVkaXRvci5wcm90b3R5cGUuc2F2ZT1mdW5jdGlvbihhLGIpe2E9YXx8dGhpcy5nZXRVcmxQb3N0KCk7aWYobnVsbCE9YSYmMDxhLmxlbmd0aCl7dmFyIGM9dGhpcy53cml0ZUdyYXBoTW9kZWwoYik7dGhpcy5wb3N0RGlhZ3JhbShhLGMpO3RoaXMuc2V0TW9kaWZpZWQoITEpfXRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuU0FWRSwidXJsIixhKSl9OwpteEVkaXRvci5wcm90b3R5cGUucG9zdERpYWdyYW09ZnVuY3Rpb24oYSxiKXt0aGlzLmVzY2FwZVBvc3REYXRhJiYoYj1lbmNvZGVVUklDb21wb25lbnQoYikpO214VXRpbHMucG9zdChhLHRoaXMucG9zdFBhcmFtZXRlck5hbWUrIj0iK2IsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYyl7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5QT1NULCJyZXF1ZXN0IixjLCJ1cmwiLGEsImRhdGEiLGIpKX0pKX07bXhFZGl0b3IucHJvdG90eXBlLndyaXRlR3JhcGhNb2RlbD1mdW5jdGlvbihhKXthPW51bGwhPWE/YTp0aGlzLmxpbmVmZWVkO3ZhciBiPShuZXcgbXhDb2RlYykuZW5jb2RlKHRoaXMuZ3JhcGguZ2V0TW9kZWwoKSk7cmV0dXJuIG14VXRpbHMuZ2V0WG1sKGIsYSl9O214RWRpdG9yLnByb3RvdHlwZS5nZXRVcmxQb3N0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsUG9zdH07bXhFZGl0b3IucHJvdG90eXBlLmdldFVybEltYWdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsSW1hZ2V9OwpteEVkaXRvci5wcm90b3R5cGUuc3dhcFN0eWxlcz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ3JhcGguZ2V0U3R5bGVzaGVldCgpLnN0eWxlc1tiXTt0aGlzLmdyYXBoLmdldFZpZXcoKS5nZXRTdHlsZXNoZWV0KCkucHV0Q2VsbFN0eWxlKGIsdGhpcy5ncmFwaC5nZXRTdHlsZXNoZWV0KCkuc3R5bGVzW2FdKTt0aGlzLmdyYXBoLmdldFN0eWxlc2hlZXQoKS5wdXRDZWxsU3R5bGUoYSxjKTt0aGlzLmdyYXBoLnJlZnJlc2goKX07Cm14RWRpdG9yLnByb3RvdHlwZS5zaG93UHJvcGVydGllcz1mdW5jdGlvbihhKXthPWF8fHRoaXMuZ3JhcGguZ2V0U2VsZWN0aW9uQ2VsbCgpO251bGw9PWEmJihhPXRoaXMuZ3JhcGguZ2V0Q3VycmVudFJvb3QoKSxudWxsPT1hJiYoYT10aGlzLmdyYXBoLmdldE1vZGVsKCkuZ2V0Um9vdCgpKSk7aWYobnVsbCE9YSl7dGhpcy5ncmFwaC5zdG9wRWRpdGluZyghMCk7dmFyIGI9bXhVdGlscy5nZXRPZmZzZXQodGhpcy5ncmFwaC5jb250YWluZXIpLGM9Yi54KzEwLGI9Yi55O2lmKG51bGw9PXRoaXMucHJvcGVydGllc3x8dGhpcy5tb3ZlUHJvcGVydGllc0RpYWxvZyl7dmFyIGQ9dGhpcy5ncmFwaC5nZXRDZWxsQm91bmRzKGEpO251bGwhPWQmJihjKz1kLngrTWF0aC5taW4oMjAwLGQud2lkdGgpLGIrPWQueSl9ZWxzZSBjPXRoaXMucHJvcGVydGllcy5nZXRYKCksYj10aGlzLnByb3BlcnRpZXMuZ2V0WSgpO3RoaXMuaGlkZVByb3BlcnRpZXMoKTthPXRoaXMuY3JlYXRlUHJvcGVydGllcyhhKTsKbnVsbCE9YSYmKHRoaXMucHJvcGVydGllcz1uZXcgbXhXaW5kb3cobXhSZXNvdXJjZXMuZ2V0KHRoaXMucHJvcGVydGllc1Jlc291cmNlKXx8dGhpcy5wcm9wZXJ0aWVzUmVzb3VyY2UsYSxjLGIsdGhpcy5wcm9wZXJ0aWVzV2lkdGgsdGhpcy5wcm9wZXJ0aWVzSGVpZ2h0LCExKSx0aGlzLnByb3BlcnRpZXMuc2V0VmlzaWJsZSghMCkpfX07bXhFZGl0b3IucHJvdG90eXBlLmlzUHJvcGVydGllc1Zpc2libGU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5wcm9wZXJ0aWVzfTsKbXhFZGl0b3IucHJvdG90eXBlLmNyZWF0ZVByb3BlcnRpZXM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLGM9Yi5nZXRWYWx1ZShhKTtpZihteFV0aWxzLmlzTm9kZShjKSl7dmFyIGQ9bmV3IG14Rm9ybSgicHJvcGVydGllcyIpO2QuYWRkVGV4dCgiSUQiLGEuZ2V0SWQoKSkuc2V0QXR0cmlidXRlKCJyZWFkb25seSIsInRydWUiKTt2YXIgZT1udWxsLGY9bnVsbCxnPW51bGwsaz1udWxsLGw9bnVsbDtiLmlzVmVydGV4KGEpJiYoZT1iLmdldEdlb21ldHJ5KGEpLG51bGwhPWUmJihmPWQuYWRkVGV4dCgidG9wIixlLnkpLGc9ZC5hZGRUZXh0KCJsZWZ0IixlLngpLGs9ZC5hZGRUZXh0KCJ3aWR0aCIsZS53aWR0aCksbD1kLmFkZFRleHQoImhlaWdodCIsZS5oZWlnaHQpKSk7Zm9yKHZhciBtPWIuZ2V0U3R5bGUoYSksbj1kLmFkZFRleHQoIlN0eWxlIixtfHwiIikscD1jLmF0dHJpYnV0ZXMscT1bXSxjPTA7YzxwLmxlbmd0aDtjKyspcVtjXT1kLmFkZFRleHRhcmVhKHBbY10ubm9kZU5hbWUsCnBbY10udmFsdWUsImxhYmVsIj09cFtjXS5ub2RlTmFtZT80OjIpO2M9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmhpZGVQcm9wZXJ0aWVzKCk7Yi5iZWdpblVwZGF0ZSgpO3RyeXtudWxsIT1lJiYoZT1lLmNsb25lKCksZS54PXBhcnNlRmxvYXQoZy52YWx1ZSksZS55PXBhcnNlRmxvYXQoZi52YWx1ZSksZS53aWR0aD1wYXJzZUZsb2F0KGsudmFsdWUpLGUuaGVpZ2h0PXBhcnNlRmxvYXQobC52YWx1ZSksYi5zZXRHZW9tZXRyeShhLGUpKTswPG4udmFsdWUubGVuZ3RoP2Iuc2V0U3R5bGUoYSxuLnZhbHVlKTpiLnNldFN0eWxlKGEsbnVsbCk7Zm9yKHZhciBjPTA7YzxwLmxlbmd0aDtjKyspe3ZhciBkPW5ldyBteENlbGxBdHRyaWJ1dGVDaGFuZ2UoYSxwW2NdLm5vZGVOYW1lLHFbY10udmFsdWUpO2IuZXhlY3V0ZShkKX10aGlzLmdyYXBoLmlzQXV0b1NpemVDZWxsKGEpJiZ0aGlzLmdyYXBoLnVwZGF0ZUNlbGxTaXplKGEpfWZpbmFsbHl7Yi5lbmRVcGRhdGUoKX19KTsKbT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuaGlkZVByb3BlcnRpZXMoKX0pO2QuYWRkQnV0dG9ucyhjLG0pO3JldHVybiBkLnRhYmxlfXJldHVybiBudWxsfTtteEVkaXRvci5wcm90b3R5cGUuaGlkZVByb3BlcnRpZXM9ZnVuY3Rpb24oKXtudWxsIT10aGlzLnByb3BlcnRpZXMmJih0aGlzLnByb3BlcnRpZXMuZGVzdHJveSgpLHRoaXMucHJvcGVydGllcz1udWxsKX07Cm14RWRpdG9yLnByb3RvdHlwZS5zaG93VGFza3M9ZnVuY3Rpb24oKXtpZihudWxsPT10aGlzLnRhc2tzKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTthLnN0eWxlLnBhZGRpbmc9IjRweCI7YS5zdHlsZS5wYWRkaW5nTGVmdD0iMjBweCI7dmFyIGI9ZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCxiPW5ldyBteFdpbmRvdyhteFJlc291cmNlcy5nZXQodGhpcy50YXNrc1Jlc291cmNlKXx8dGhpcy50YXNrc1Jlc291cmNlLGEsYi0yMjAsdGhpcy50YXNrc1RvcCwyMDApO2Iuc2V0Q2xvc2FibGUoITApO2IuZGVzdHJveU9uQ2xvc2U9ITE7dmFyIGM9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7bXhFdmVudC5yZWxlYXNlKGEpO2EuaW5uZXJIVE1MPSIiO3RoaXMuY3JlYXRlVGFza3MoYSl9KTt0aGlzLmdyYXBoLmdldE1vZGVsKCkuYWRkTGlzdGVuZXIobXhFdmVudC5DSEFOR0UsYyk7dGhpcy5ncmFwaC5nZXRTZWxlY3Rpb25Nb2RlbCgpLmFkZExpc3RlbmVyKG14RXZlbnQuQ0hBTkdFLApjKTt0aGlzLmdyYXBoLmFkZExpc3RlbmVyKG14RXZlbnQuUk9PVCxjKTtudWxsIT10aGlzLnRhc2tzV2luZG93SW1hZ2UmJmIuc2V0SW1hZ2UodGhpcy50YXNrc1dpbmRvd0ltYWdlKTt0aGlzLnRhc2tzPWI7dGhpcy5jcmVhdGVUYXNrcyhhKX10aGlzLnRhc2tzLnNldFZpc2libGUoITApfTtteEVkaXRvci5wcm90b3R5cGUucmVmcmVzaFRhc2tzPWZ1bmN0aW9uKGEpe251bGwhPXRoaXMudGFza3MmJihhPXRoaXMudGFza3MuY29udGVudCxteEV2ZW50LnJlbGVhc2UoYSksYS5pbm5lckhUTUw9IiIsdGhpcy5jcmVhdGVUYXNrcyhhKSl9O214RWRpdG9yLnByb3RvdHlwZS5jcmVhdGVUYXNrcz1mdW5jdGlvbihhKXt9OwpteEVkaXRvci5wcm90b3R5cGUuc2hvd0hlbHA9ZnVuY3Rpb24oYSl7aWYobnVsbD09dGhpcy5oZWxwKXt2YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpZnJhbWUiKTtiLnNldEF0dHJpYnV0ZSgic3JjIixteFJlc291cmNlcy5nZXQoInVybEhlbHAiKXx8dGhpcy51cmxIZWxwKTtiLnNldEF0dHJpYnV0ZSgiaGVpZ2h0IiwiMTAwJSIpO2Iuc2V0QXR0cmlidXRlKCJ3aWR0aCIsIjEwMCUiKTtiLnNldEF0dHJpYnV0ZSgiZnJhbWVCb3JkZXIiLCIwIik7Yi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9IndoaXRlIjthPWRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7dmFyIGM9ZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHR8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsZD1uZXcgbXhXaW5kb3cobXhSZXNvdXJjZXMuZ2V0KHRoaXMuaGVscFJlc291cmNlKXx8dGhpcy5oZWxwUmVzb3VyY2UsYiwoYS10aGlzLmhlbHBXaWR0aCkvMiwoYy10aGlzLmhlbHBIZWlnaHQpLwozLHRoaXMuaGVscFdpZHRoLHRoaXMuaGVscEhlaWdodCk7ZC5zZXRNYXhpbWl6YWJsZSghMCk7ZC5zZXRDbG9zYWJsZSghMCk7ZC5kZXN0cm95T25DbG9zZT0hMTtkLnNldFJlc2l6YWJsZSghMCk7bnVsbCE9dGhpcy5oZWxwV2luZG93SW1hZ2UmJmQuc2V0SW1hZ2UodGhpcy5oZWxwV2luZG93SW1hZ2UpO214Q2xpZW50LklTX05TJiYoYT1mdW5jdGlvbihhKXtiLnNldEF0dHJpYnV0ZSgiaGVpZ2h0IixkLmRpdi5vZmZzZXRIZWlnaHQtMjYrInB4Iil9LGQuYWRkTGlzdGVuZXIobXhFdmVudC5SRVNJWkVfRU5ELGEpLGQuYWRkTGlzdGVuZXIobXhFdmVudC5NQVhJTUlaRSxhKSxkLmFkZExpc3RlbmVyKG14RXZlbnQuTk9STUFMSVpFLGEpLGQuYWRkTGlzdGVuZXIobXhFdmVudC5TSE9XLGEpKTt0aGlzLmhlbHA9ZH10aGlzLmhlbHAuc2V0VmlzaWJsZSghMCl9OwpteEVkaXRvci5wcm90b3R5cGUuc2hvd091dGxpbmU9ZnVuY3Rpb24oKXtpZihudWxsPT10aGlzLm91dGxpbmUpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Euc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiI7YS5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiO2Euc3R5bGUud2lkdGg9IjEwMCUiO2Euc3R5bGUuaGVpZ2h0PSIxMDAlIjthLnN0eWxlLmJhY2tncm91bmQ9IndoaXRlIjthLnN0eWxlLmN1cnNvcj0ibW92ZSI7OD09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlJiYoYS5zdHlsZS5maWx0ZXI9InByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5hbHBoYShvcGFjaXR5PTEwMCkiKTt2YXIgYj1uZXcgbXhXaW5kb3cobXhSZXNvdXJjZXMuZ2V0KHRoaXMub3V0bGluZVJlc291cmNlKXx8dGhpcy5vdXRsaW5lUmVzb3VyY2UsYSw2MDAsNDgwLDIwMCwyMDAsITEpLGM9bmV3IG14T3V0bGluZSh0aGlzLmdyYXBoLGEpO2Iuc2V0Q2xvc2FibGUoITApO2Iuc2V0UmVzaXphYmxlKCEwKTsKYi5kZXN0cm95T25DbG9zZT0hMTtiLmFkZExpc3RlbmVyKG14RXZlbnQuUkVTSVpFX0VORCxmdW5jdGlvbigpe2MudXBkYXRlKCl9KTt0aGlzLm91dGxpbmU9Yjt0aGlzLm91dGxpbmUub3V0bGluZT1jfXRoaXMub3V0bGluZS5zZXRWaXNpYmxlKCEwKTt0aGlzLm91dGxpbmUub3V0bGluZS51cGRhdGUoITApfTtteEVkaXRvci5wcm90b3R5cGUuc2V0TW9kZT1mdW5jdGlvbihhKXsic2VsZWN0Ij09YT8odGhpcy5ncmFwaC5wYW5uaW5nSGFuZGxlci51c2VMZWZ0QnV0dG9uRm9yUGFubmluZz0hMSx0aGlzLmdyYXBoLnNldENvbm5lY3RhYmxlKCExKSk6ImNvbm5lY3QiPT1hPyh0aGlzLmdyYXBoLnBhbm5pbmdIYW5kbGVyLnVzZUxlZnRCdXR0b25Gb3JQYW5uaW5nPSExLHRoaXMuZ3JhcGguc2V0Q29ubmVjdGFibGUoITApKToicGFuIj09YSYmKHRoaXMuZ3JhcGgucGFubmluZ0hhbmRsZXIudXNlTGVmdEJ1dHRvbkZvclBhbm5pbmc9ITAsdGhpcy5ncmFwaC5zZXRDb25uZWN0YWJsZSghMSkpfTsKbXhFZGl0b3IucHJvdG90eXBlLmNyZWF0ZVBvcHVwTWVudT1mdW5jdGlvbihhLGIsYyl7dGhpcy5wb3B1cEhhbmRsZXIuY3JlYXRlTWVudSh0aGlzLGEsYixjKX07bXhFZGl0b3IucHJvdG90eXBlLmNyZWF0ZUVkZ2U9ZnVuY3Rpb24oYSxiKXt2YXIgYztpZihudWxsIT10aGlzLmRlZmF1bHRFZGdlKWM9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmNsb25lQ2VsbCh0aGlzLmRlZmF1bHRFZGdlKTtlbHNle2M9bmV3IG14Q2VsbCgiIik7Yy5zZXRFZGdlKCEwKTt2YXIgZD1uZXcgbXhHZW9tZXRyeTtkLnJlbGF0aXZlPSEwO2Muc2V0R2VvbWV0cnkoZCl9ZD10aGlzLmdldEVkZ2VTdHlsZSgpO251bGwhPWQmJmMuc2V0U3R5bGUoZCk7cmV0dXJuIGN9O214RWRpdG9yLnByb3RvdHlwZS5nZXRFZGdlU3R5bGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZWZhdWx0RWRnZVN0eWxlfTsKbXhFZGl0b3IucHJvdG90eXBlLmNvbnN1bWVDeWNsZUF0dHJpYnV0ZT1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9dGhpcy5jeWNsZUF0dHJpYnV0ZVZhbHVlcyYmMDx0aGlzLmN5Y2xlQXR0cmlidXRlVmFsdWVzLmxlbmd0aCYmdGhpcy5ncmFwaC5pc1N3aW1sYW5lKGEpP3RoaXMuY3ljbGVBdHRyaWJ1dGVWYWx1ZXNbdGhpcy5jeWNsZUF0dHJpYnV0ZUluZGV4KysldGhpcy5jeWNsZUF0dHJpYnV0ZVZhbHVlcy5sZW5ndGhdOm51bGx9O214RWRpdG9yLnByb3RvdHlwZS5jeWNsZUF0dHJpYnV0ZT1mdW5jdGlvbihhKXtpZihudWxsIT10aGlzLmN5Y2xlQXR0cmlidXRlTmFtZSl7dmFyIGI9dGhpcy5jb25zdW1lQ3ljbGVBdHRyaWJ1dGUoYSk7bnVsbCE9YiYmYS5zZXRTdHlsZShhLmdldFN0eWxlKCkrIjsiK3RoaXMuY3ljbGVBdHRyaWJ1dGVOYW1lKyI9IitiKX19OwpteEVkaXRvci5wcm90b3R5cGUuYWRkVmVydGV4PWZ1bmN0aW9uKGEsYixjLGQpe2Zvcih2YXIgZT10aGlzLmdyYXBoLmdldE1vZGVsKCk7bnVsbCE9YSYmIXRoaXMuZ3JhcGguaXNWYWxpZERyb3BUYXJnZXQoYSk7KWE9ZS5nZXRQYXJlbnQoYSk7YT1udWxsIT1hP2E6dGhpcy5ncmFwaC5nZXRTd2ltbGFuZUF0KGMsZCk7dmFyIGY9dGhpcy5ncmFwaC5nZXRWaWV3KCkuc2NhbGUsZz1lLmdldEdlb21ldHJ5KGIpLGs9ZS5nZXRHZW9tZXRyeShhKTtpZih0aGlzLmdyYXBoLmlzU3dpbWxhbmUoYikmJiF0aGlzLmdyYXBoLnN3aW1sYW5lTmVzdGluZylhPW51bGw7ZWxzZXtpZihudWxsPT1hJiZ0aGlzLnN3aW1sYW5lUmVxdWlyZWQpcmV0dXJuIG51bGw7aWYobnVsbCE9YSYmbnVsbCE9ayl7dmFyIGw9dGhpcy5ncmFwaC5nZXRWaWV3KCkuZ2V0U3RhdGUoYSk7aWYobnVsbCE9bCl7aWYoYy09bC5vcmlnaW4ueCpmLGQtPWwub3JpZ2luLnkqZix0aGlzLmdyYXBoLmlzQ29uc3RyYWluZWRNb3Zpbmcpe3ZhciBrPQpnLndpZHRoLG09Zy5oZWlnaHQsbj1sLngrbC53aWR0aDtjK2s+biYmKGMtPWMray1uKTtuPWwueStsLmhlaWdodDtkK20+biYmKGQtPWQrbS1uKX19ZWxzZSBudWxsIT1rJiYoYy09ay54KmYsZC09ay55KmYpfX1nPWcuY2xvbmUoKTtnLng9dGhpcy5ncmFwaC5zbmFwKGMvZi10aGlzLmdyYXBoLmdldFZpZXcoKS50cmFuc2xhdGUueC10aGlzLmdyYXBoLmdyaWRTaXplLzIpO2cueT10aGlzLmdyYXBoLnNuYXAoZC9mLXRoaXMuZ3JhcGguZ2V0VmlldygpLnRyYW5zbGF0ZS55LXRoaXMuZ3JhcGguZ3JpZFNpemUvMik7Yi5zZXRHZW9tZXRyeShnKTtudWxsPT1hJiYoYT10aGlzLmdyYXBoLmdldERlZmF1bHRQYXJlbnQoKSk7dGhpcy5jeWNsZUF0dHJpYnV0ZShiKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkJFRk9SRV9BRERfVkVSVEVYLCJ2ZXJ0ZXgiLGIsInBhcmVudCIsYSkpO2UuYmVnaW5VcGRhdGUoKTt0cnl7Yj10aGlzLmdyYXBoLmFkZENlbGwoYiwKYSksbnVsbCE9YiYmKHRoaXMuZ3JhcGguY29uc3RyYWluQ2hpbGQoYiksdGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5BRERfVkVSVEVYLCJ2ZXJ0ZXgiLGIpKSl9ZmluYWxseXtlLmVuZFVwZGF0ZSgpfW51bGwhPWImJih0aGlzLmdyYXBoLnNldFNlbGVjdGlvbkNlbGwoYiksdGhpcy5ncmFwaC5zY3JvbGxDZWxsVG9WaXNpYmxlKGIpLHRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuQUZURVJfQUREX1ZFUlRFWCwidmVydGV4IixiKSkpO3JldHVybiBifTsKbXhFZGl0b3IucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmRlc3Ryb3llZHx8KHRoaXMuZGVzdHJveWVkPSEwLG51bGwhPXRoaXMudGFza3MmJnRoaXMudGFza3MuZGVzdHJveSgpLG51bGwhPXRoaXMub3V0bGluZSYmdGhpcy5vdXRsaW5lLmRlc3Ryb3koKSxudWxsIT10aGlzLnByb3BlcnRpZXMmJnRoaXMucHJvcGVydGllcy5kZXN0cm95KCksbnVsbCE9dGhpcy5rZXlIYW5kbGVyJiZ0aGlzLmtleUhhbmRsZXIuZGVzdHJveSgpLG51bGwhPXRoaXMucnViYmVyYmFuZCYmdGhpcy5ydWJiZXJiYW5kLmRlc3Ryb3koKSxudWxsIT10aGlzLnRvb2xiYXImJnRoaXMudG9vbGJhci5kZXN0cm95KCksbnVsbCE9dGhpcy5ncmFwaCYmdGhpcy5ncmFwaC5kZXN0cm95KCksdGhpcy50ZW1wbGF0ZXM9dGhpcy5zdGF0dXM9bnVsbCl9Owp2YXIgbXhDb2RlY1JlZ2lzdHJ5PXtjb2RlY3M6W10sYWxpYXNlczpbXSxyZWdpc3RlcjpmdW5jdGlvbihhKXtpZihudWxsIT1hKXt2YXIgYj1hLmdldE5hbWUoKTtteENvZGVjUmVnaXN0cnkuY29kZWNzW2JdPWE7dmFyIGM9bXhVdGlscy5nZXRGdW5jdGlvbk5hbWUoYS50ZW1wbGF0ZS5jb25zdHJ1Y3Rvcik7YyE9YiYmbXhDb2RlY1JlZ2lzdHJ5LmFkZEFsaWFzKGMsYil9cmV0dXJuIGF9LGFkZEFsaWFzOmZ1bmN0aW9uKGEsYil7bXhDb2RlY1JlZ2lzdHJ5LmFsaWFzZXNbYV09Yn0sZ2V0Q29kZWM6ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDtpZihudWxsIT1hKXt2YXIgYj1teFV0aWxzLmdldEZ1bmN0aW9uTmFtZShhKSxjPW14Q29kZWNSZWdpc3RyeS5hbGlhc2VzW2JdO251bGwhPWMmJihiPWMpO2I9bXhDb2RlY1JlZ2lzdHJ5LmNvZGVjc1tiXTtpZihudWxsPT1iKXRyeXtiPW5ldyBteE9iamVjdENvZGVjKG5ldyBhKSxteENvZGVjUmVnaXN0cnkucmVnaXN0ZXIoYil9Y2F0Y2goZCl7fX1yZXR1cm4gYn19OwpmdW5jdGlvbiBteENvZGVjKGEpe3RoaXMuZG9jdW1lbnQ9YXx8bXhVdGlscy5jcmVhdGVYbWxEb2N1bWVudCgpO3RoaXMub2JqZWN0cz1bXX1teENvZGVjLnByb3RvdHlwZS5kb2N1bWVudD1udWxsO214Q29kZWMucHJvdG90eXBlLm9iamVjdHM9bnVsbDtteENvZGVjLnByb3RvdHlwZS5lbGVtZW50cz1udWxsO214Q29kZWMucHJvdG90eXBlLmVuY29kZURlZmF1bHRzPSExO214Q29kZWMucHJvdG90eXBlLnB1dE9iamVjdD1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLm9iamVjdHNbYV09Yn07bXhDb2RlYy5wcm90b3R5cGUuZ2V0T2JqZWN0PWZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7bnVsbCE9YSYmKGI9dGhpcy5vYmplY3RzW2FdLG51bGw9PWImJihiPXRoaXMubG9va3VwKGEpLG51bGw9PWImJihhPXRoaXMuZ2V0RWxlbWVudEJ5SWQoYSksbnVsbCE9YSYmKGI9dGhpcy5kZWNvZGUoYSkpKSkpO3JldHVybiBifTtteENvZGVjLnByb3RvdHlwZS5sb29rdXA9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGx9OwpteENvZGVjLnByb3RvdHlwZS5nZXRFbGVtZW50QnlJZD1mdW5jdGlvbihhKXt0aGlzLnVwZGF0ZUVsZW1lbnRzKCk7cmV0dXJuIHRoaXMuZWxlbWVudHNbYV19O214Q29kZWMucHJvdG90eXBlLnVwZGF0ZUVsZW1lbnRzPWZ1bmN0aW9uKCl7bnVsbD09dGhpcy5lbGVtZW50cyYmKHRoaXMuZWxlbWVudHM9e30sbnVsbCE9dGhpcy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQmJnRoaXMuYWRkRWxlbWVudCh0aGlzLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkpfTsKbXhDb2RlYy5wcm90b3R5cGUuYWRkRWxlbWVudD1mdW5jdGlvbihhKXtpZihhLm5vZGVUeXBlPT1teENvbnN0YW50cy5OT0RFVFlQRV9FTEVNRU5UKXt2YXIgYj1hLmdldEF0dHJpYnV0ZSgiaWQiKTtpZihudWxsIT1iKWlmKG51bGw9PXRoaXMuZWxlbWVudHNbYl0pdGhpcy5lbGVtZW50c1tiXT1hO2Vsc2UgaWYodGhpcy5lbGVtZW50c1tiXSE9YSl0aHJvdyBFcnJvcihiKyI6IER1cGxpY2F0ZSBJRCIpO31mb3IoYT1hLmZpcnN0Q2hpbGQ7bnVsbCE9YTspdGhpcy5hZGRFbGVtZW50KGEpLGE9YS5uZXh0U2libGluZ307bXhDb2RlYy5wcm90b3R5cGUuZ2V0SWQ9ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDtudWxsIT1hJiYoYj10aGlzLnJlZmVyZW5jZShhKSxudWxsPT1iJiZhIGluc3RhbmNlb2YgbXhDZWxsJiYoYj1hLmdldElkKCksbnVsbD09YiYmKGI9bXhDZWxsUGF0aC5jcmVhdGUoYSksMD09Yi5sZW5ndGgmJihiPSJyb290IikpKSk7cmV0dXJuIGJ9OwpteENvZGVjLnByb3RvdHlwZS5yZWZlcmVuY2U9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGx9O214Q29kZWMucHJvdG90eXBlLmVuY29kZT1mdW5jdGlvbihhKXt2YXIgYj1udWxsO2lmKG51bGwhPWEmJm51bGwhPWEuY29uc3RydWN0b3Ipe3ZhciBjPW14Q29kZWNSZWdpc3RyeS5nZXRDb2RlYyhhLmNvbnN0cnVjdG9yKTtudWxsIT1jP2I9Yy5lbmNvZGUodGhpcyxhKTpteFV0aWxzLmlzTm9kZShhKT9iPW14VXRpbHMuaW1wb3J0Tm9kZSh0aGlzLmRvY3VtZW50LGEsITApOm14TG9nLndhcm4oIm14Q29kZWMuZW5jb2RlOiBObyBjb2RlYyBmb3IgIitteFV0aWxzLmdldEZ1bmN0aW9uTmFtZShhLmNvbnN0cnVjdG9yKSl9cmV0dXJuIGJ9OwpteENvZGVjLnByb3RvdHlwZS5kZWNvZGU9ZnVuY3Rpb24oYSxiKXt0aGlzLnVwZGF0ZUVsZW1lbnRzKCk7dmFyIGM9bnVsbDtpZihudWxsIT1hJiZhLm5vZGVUeXBlPT1teENvbnN0YW50cy5OT0RFVFlQRV9FTEVNRU5UKXtjPW51bGw7dHJ5e2M9d2luZG93W2Eubm9kZU5hbWVdfWNhdGNoKGQpe31jPW14Q29kZWNSZWdpc3RyeS5nZXRDb2RlYyhjKTtudWxsIT1jP2M9Yy5kZWNvZGUodGhpcyxhLGIpOihjPWEuY2xvbmVOb2RlKCEwKSxjLnJlbW92ZUF0dHJpYnV0ZSgiYXMiKSl9cmV0dXJuIGN9O214Q29kZWMucHJvdG90eXBlLmVuY29kZUNlbGw9ZnVuY3Rpb24oYSxiLGMpe2IuYXBwZW5kQ2hpbGQodGhpcy5lbmNvZGUoYSkpO2lmKG51bGw9PWN8fGMpe2M9YS5nZXRDaGlsZENvdW50KCk7Zm9yKHZhciBkPTA7ZDxjO2QrKyl0aGlzLmVuY29kZUNlbGwoYS5nZXRDaGlsZEF0KGQpLGIpfX07Cm14Q29kZWMucHJvdG90eXBlLmlzQ2VsbENvZGVjPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiYiZnVuY3Rpb24iPT10eXBlb2YgYS5pc0NlbGxDb2RlYz9hLmlzQ2VsbENvZGVjKCk6ITF9O214Q29kZWMucHJvdG90eXBlLmRlY29kZUNlbGw9ZnVuY3Rpb24oYSxiKXtiPW51bGwhPWI/YjohMDt2YXIgYz1udWxsO2lmKG51bGwhPWEmJmEubm9kZVR5cGU9PW14Q29uc3RhbnRzLk5PREVUWVBFX0VMRU1FTlQpe2M9bXhDb2RlY1JlZ2lzdHJ5LmdldENvZGVjKGEubm9kZU5hbWUpO2lmKCF0aGlzLmlzQ2VsbENvZGVjKGMpKWZvcih2YXIgZD1hLmZpcnN0Q2hpbGQ7bnVsbCE9ZCYmIXRoaXMuaXNDZWxsQ29kZWMoYyk7KWM9bXhDb2RlY1JlZ2lzdHJ5LmdldENvZGVjKGQubm9kZU5hbWUpLGQ9ZC5uZXh0U2libGluZzt0aGlzLmlzQ2VsbENvZGVjKGMpfHwoYz1teENvZGVjUmVnaXN0cnkuZ2V0Q29kZWMobXhDZWxsKSk7Yz1jLmRlY29kZSh0aGlzLGEpO2ImJnRoaXMuaW5zZXJ0SW50b0dyYXBoKGMpfXJldHVybiBjfTsKbXhDb2RlYy5wcm90b3R5cGUuaW5zZXJ0SW50b0dyYXBoPWZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50LGM9YS5nZXRUZXJtaW5hbCghMCksZD1hLmdldFRlcm1pbmFsKCExKTthLnNldFRlcm1pbmFsKG51bGwsITEpO2Euc2V0VGVybWluYWwobnVsbCwhMCk7YS5wYXJlbnQ9bnVsbDtpZihudWxsIT1iKXtpZihiPT1hKXRocm93IEVycm9yKGIuaWQrIjogU2VsZiBSZWZlcmVuY2UiKTtiLmluc2VydChhKX1udWxsIT1jJiZjLmluc2VydEVkZ2UoYSwhMCk7bnVsbCE9ZCYmZC5pbnNlcnRFZGdlKGEsITEpfTtteENvZGVjLnByb3RvdHlwZS5zZXRBdHRyaWJ1dGU9ZnVuY3Rpb24oYSxiLGMpe251bGwhPWImJm51bGwhPWMmJmEuc2V0QXR0cmlidXRlKGIsYyl9OwpmdW5jdGlvbiBteE9iamVjdENvZGVjKGEsYixjLGQpe3RoaXMudGVtcGxhdGU9YTt0aGlzLmV4Y2x1ZGU9bnVsbCE9Yj9iOltdO3RoaXMuaWRyZWZzPW51bGwhPWM/YzpbXTt0aGlzLm1hcHBpbmc9bnVsbCE9ZD9kOltdO3RoaXMucmV2ZXJzZT17fTtmb3IodmFyIGUgaW4gdGhpcy5tYXBwaW5nKXRoaXMucmV2ZXJzZVt0aGlzLm1hcHBpbmdbZV1dPWV9bXhPYmplY3RDb2RlYy5hbGxvd0V2YWw9ITE7bXhPYmplY3RDb2RlYy5wcm90b3R5cGUudGVtcGxhdGU9bnVsbDtteE9iamVjdENvZGVjLnByb3RvdHlwZS5leGNsdWRlPW51bGw7bXhPYmplY3RDb2RlYy5wcm90b3R5cGUuaWRyZWZzPW51bGw7bXhPYmplY3RDb2RlYy5wcm90b3R5cGUubWFwcGluZz1udWxsO214T2JqZWN0Q29kZWMucHJvdG90eXBlLnJldmVyc2U9bnVsbDtteE9iamVjdENvZGVjLnByb3RvdHlwZS5nZXROYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIG14VXRpbHMuZ2V0RnVuY3Rpb25OYW1lKHRoaXMudGVtcGxhdGUuY29uc3RydWN0b3IpfTsKbXhPYmplY3RDb2RlYy5wcm90b3R5cGUuY2xvbmVUZW1wbGF0ZT1mdW5jdGlvbigpe3JldHVybiBuZXcgdGhpcy50ZW1wbGF0ZS5jb25zdHJ1Y3Rvcn07bXhPYmplY3RDb2RlYy5wcm90b3R5cGUuZ2V0RmllbGROYW1lPWZ1bmN0aW9uKGEpe2lmKG51bGwhPWEpe3ZhciBiPXRoaXMucmV2ZXJzZVthXTtudWxsIT1iJiYoYT1iKX1yZXR1cm4gYX07bXhPYmplY3RDb2RlYy5wcm90b3R5cGUuZ2V0QXR0cmlidXRlTmFtZT1mdW5jdGlvbihhKXtpZihudWxsIT1hKXt2YXIgYj10aGlzLm1hcHBpbmdbYV07bnVsbCE9YiYmKGE9Yil9cmV0dXJuIGF9O214T2JqZWN0Q29kZWMucHJvdG90eXBlLmlzRXhjbHVkZWQ9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIGI9PW14T2JqZWN0SWRlbnRpdHkuRklFTERfTkFNRXx8MDw9bXhVdGlscy5pbmRleE9mKHRoaXMuZXhjbHVkZSxiKX07Cm14T2JqZWN0Q29kZWMucHJvdG90eXBlLmlzUmVmZXJlbmNlPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiAwPD1teFV0aWxzLmluZGV4T2YodGhpcy5pZHJlZnMsYil9O214T2JqZWN0Q29kZWMucHJvdG90eXBlLmVuY29kZT1mdW5jdGlvbihhLGIpe3ZhciBjPWEuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0aGlzLmdldE5hbWUoKSk7Yj10aGlzLmJlZm9yZUVuY29kZShhLGIsYyk7dGhpcy5lbmNvZGVPYmplY3QoYSxiLGMpO3JldHVybiB0aGlzLmFmdGVyRW5jb2RlKGEsYixjKX07bXhPYmplY3RDb2RlYy5wcm90b3R5cGUuZW5jb2RlT2JqZWN0PWZ1bmN0aW9uKGEsYixjKXthLnNldEF0dHJpYnV0ZShjLCJpZCIsYS5nZXRJZChiKSk7Zm9yKHZhciBkIGluIGIpe3ZhciBlPWQsZj1iW2VdO251bGw9PWZ8fHRoaXMuaXNFeGNsdWRlZChiLGUsZiwhMCl8fChteFV0aWxzLmlzSW50ZWdlcihlKSYmKGU9bnVsbCksdGhpcy5lbmNvZGVWYWx1ZShhLGIsZSxmLGMpKX19OwpteE9iamVjdENvZGVjLnByb3RvdHlwZS5lbmNvZGVWYWx1ZT1mdW5jdGlvbihhLGIsYyxkLGUpe2lmKG51bGwhPWQpe2lmKHRoaXMuaXNSZWZlcmVuY2UoYixjLGQsITApKXt2YXIgZj1hLmdldElkKGQpO2lmKG51bGw9PWYpe214TG9nLndhcm4oIm14T2JqZWN0Q29kZWMuZW5jb2RlOiBObyBJRCBmb3IgIit0aGlzLmdldE5hbWUoKSsiLiIrYysiPSIrZCk7cmV0dXJufWQ9Zn1mPXRoaXMudGVtcGxhdGVbY107aWYobnVsbD09Y3x8YS5lbmNvZGVEZWZhdWx0c3x8ZiE9ZCljPXRoaXMuZ2V0QXR0cmlidXRlTmFtZShjKSx0aGlzLndyaXRlQXR0cmlidXRlKGEsYixjLGQsZSl9fTtteE9iamVjdENvZGVjLnByb3RvdHlwZS53cml0ZUF0dHJpYnV0ZT1mdW5jdGlvbihhLGIsYyxkLGUpeyJvYmplY3QiIT10eXBlb2YgZD90aGlzLndyaXRlUHJpbWl0aXZlQXR0cmlidXRlKGEsYixjLGQsZSk6dGhpcy53cml0ZUNvbXBsZXhBdHRyaWJ1dGUoYSxiLGMsZCxlKX07Cm14T2JqZWN0Q29kZWMucHJvdG90eXBlLndyaXRlUHJpbWl0aXZlQXR0cmlidXRlPWZ1bmN0aW9uKGEsYixjLGQsZSl7ZD10aGlzLmNvbnZlcnRBdHRyaWJ1dGVUb1htbChhLGIsYyxkLGUpO251bGw9PWM/KGI9YS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhZGQiKSwiZnVuY3Rpb24iPT10eXBlb2YgZD9iLmFwcGVuZENoaWxkKGEuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZCkpOmEuc2V0QXR0cmlidXRlKGIsInZhbHVlIixkKSxlLmFwcGVuZENoaWxkKGIpKToiZnVuY3Rpb24iIT10eXBlb2YgZCYmYS5zZXRBdHRyaWJ1dGUoZSxjLGQpfTsKbXhPYmplY3RDb2RlYy5wcm90b3R5cGUud3JpdGVDb21wbGV4QXR0cmlidXRlPWZ1bmN0aW9uKGEsYixjLGQsZSl7YT1hLmVuY29kZShkKTtudWxsIT1hPyhudWxsIT1jJiZhLnNldEF0dHJpYnV0ZSgiYXMiLGMpLGUuYXBwZW5kQ2hpbGQoYSkpOm14TG9nLndhcm4oIm14T2JqZWN0Q29kZWMuZW5jb2RlOiBObyBub2RlIGZvciAiK3RoaXMuZ2V0TmFtZSgpKyIuIitjKyI6ICIrZCl9O214T2JqZWN0Q29kZWMucHJvdG90eXBlLmNvbnZlcnRBdHRyaWJ1dGVUb1htbD1mdW5jdGlvbihhLGIsYyxkKXt0aGlzLmlzQm9vbGVhbkF0dHJpYnV0ZShhLGIsYyxkKSYmKGQ9MT09ZD8iMSI6IjAiKTtyZXR1cm4gZH07bXhPYmplY3RDb2RlYy5wcm90b3R5cGUuaXNCb29sZWFuQXR0cmlidXRlPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgZC5sZW5ndGgmJigxPT1kfHwwPT1kKX07Cm14T2JqZWN0Q29kZWMucHJvdG90eXBlLmNvbnZlcnRBdHRyaWJ1dGVGcm9tWG1sPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1iLnZhbHVlO3RoaXMuaXNOdW1lcmljQXR0cmlidXRlKGEsYixjKSYmKGQ9cGFyc2VGbG9hdChkKSxpc05hTihkKXx8IWlzRmluaXRlKGQpKSYmKGQ9MCk7cmV0dXJuIGR9O214T2JqZWN0Q29kZWMucHJvdG90eXBlLmlzTnVtZXJpY0F0dHJpYnV0ZT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGMuY29uc3RydWN0b3I9PW14R2VvbWV0cnkmJigieCI9PWIubmFtZXx8InkiPT1iLm5hbWV8fCJ3aWR0aCI9PWIubmFtZXx8ImhlaWdodCI9PWIubmFtZSl8fGMuY29uc3RydWN0b3I9PW14UG9pbnQmJigieCI9PWIubmFtZXx8InkiPT1iLm5hbWUpfHxteFV0aWxzLmlzTnVtZXJpYyhiLnZhbHVlKX07bXhPYmplY3RDb2RlYy5wcm90b3R5cGUuYmVmb3JlRW5jb2RlPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYn07Cm14T2JqZWN0Q29kZWMucHJvdG90eXBlLmFmdGVyRW5jb2RlPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gY307bXhPYmplY3RDb2RlYy5wcm90b3R5cGUuZGVjb2RlPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1iLmdldEF0dHJpYnV0ZSgiaWQiKSxlPWEub2JqZWN0c1tkXTtudWxsPT1lJiYoZT1jfHx0aGlzLmNsb25lVGVtcGxhdGUoKSxudWxsIT1kJiZhLnB1dE9iamVjdChkLGUpKTtiPXRoaXMuYmVmb3JlRGVjb2RlKGEsYixlKTt0aGlzLmRlY29kZU5vZGUoYSxiLGUpO3JldHVybiB0aGlzLmFmdGVyRGVjb2RlKGEsYixlKX07bXhPYmplY3RDb2RlYy5wcm90b3R5cGUuZGVjb2RlTm9kZT1mdW5jdGlvbihhLGIsYyl7bnVsbCE9YiYmKHRoaXMuZGVjb2RlQXR0cmlidXRlcyhhLGIsYyksdGhpcy5kZWNvZGVDaGlsZHJlbihhLGIsYykpfTsKbXhPYmplY3RDb2RlYy5wcm90b3R5cGUuZGVjb2RlQXR0cmlidXRlcz1mdW5jdGlvbihhLGIsYyl7Yj1iLmF0dHJpYnV0ZXM7aWYobnVsbCE9Yilmb3IodmFyIGQ9MDtkPGIubGVuZ3RoO2QrKyl0aGlzLmRlY29kZUF0dHJpYnV0ZShhLGJbZF0sYyl9O214T2JqZWN0Q29kZWMucHJvdG90eXBlLmlzSWdub3JlZEF0dHJpYnV0ZT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuImFzIj09Yi5ub2RlTmFtZXx8ImlkIj09Yi5ub2RlTmFtZX07Cm14T2JqZWN0Q29kZWMucHJvdG90eXBlLmRlY29kZUF0dHJpYnV0ZT1mdW5jdGlvbihhLGIsYyl7aWYoIXRoaXMuaXNJZ25vcmVkQXR0cmlidXRlKGEsYixjKSl7dmFyIGQ9Yi5ub2RlTmFtZTtiPXRoaXMuY29udmVydEF0dHJpYnV0ZUZyb21YbWwoYSxiLGMpO3ZhciBlPXRoaXMuZ2V0RmllbGROYW1lKGQpO2lmKHRoaXMuaXNSZWZlcmVuY2UoYyxlLGIsITEpKXthPWEuZ2V0T2JqZWN0KGIpO2lmKG51bGw9PWEpe214TG9nLndhcm4oIm14T2JqZWN0Q29kZWMuZGVjb2RlOiBObyBvYmplY3QgZm9yICIrdGhpcy5nZXROYW1lKCkrIi4iK2QrIj0iK2IpO3JldHVybn1iPWF9dGhpcy5pc0V4Y2x1ZGVkKGMsZCxiLCExKXx8KGNbZF09Yil9fTsKbXhPYmplY3RDb2RlYy5wcm90b3R5cGUuZGVjb2RlQ2hpbGRyZW49ZnVuY3Rpb24oYSxiLGMpe2ZvcihiPWIuZmlyc3RDaGlsZDtudWxsIT1iOyl7dmFyIGQ9Yi5uZXh0U2libGluZztiLm5vZGVUeXBlIT1teENvbnN0YW50cy5OT0RFVFlQRV9FTEVNRU5UfHx0aGlzLnByb2Nlc3NJbmNsdWRlKGEsYixjKXx8dGhpcy5kZWNvZGVDaGlsZChhLGIsYyk7Yj1kfX07Cm14T2JqZWN0Q29kZWMucHJvdG90eXBlLmRlY29kZUNoaWxkPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmdldEZpZWxkTmFtZShiLmdldEF0dHJpYnV0ZSgiYXMiKSk7aWYobnVsbD09ZHx8IXRoaXMuaXNFeGNsdWRlZChjLGQsYiwhMSkpe3ZhciBlPXRoaXMuZ2V0RmllbGRUZW1wbGF0ZShjLGQsYik7ImFkZCI9PWIubm9kZU5hbWU/KGE9Yi5nZXRBdHRyaWJ1dGUoInZhbHVlIiksbnVsbD09YSYmbXhPYmplY3RDb2RlYy5hbGxvd0V2YWwmJihhPW14VXRpbHMuZXZhbChteFV0aWxzLmdldFRleHRDb250ZW50KGIpKSkpOmE9YS5kZWNvZGUoYixlKTt0cnl7dGhpcy5hZGRPYmplY3RWYWx1ZShjLGQsYSxlKX1jYXRjaChmKXt0aHJvdyBFcnJvcihmLm1lc3NhZ2UrIiBmb3IgIitiLm5vZGVOYW1lKTt9fX07Cm14T2JqZWN0Q29kZWMucHJvdG90eXBlLmdldEZpZWxkVGVtcGxhdGU9ZnVuY3Rpb24oYSxiLGMpe2E9YVtiXTthIGluc3RhbmNlb2YgQXJyYXkmJjA8YS5sZW5ndGgmJihhPW51bGwpO3JldHVybiBhfTtteE9iamVjdENvZGVjLnByb3RvdHlwZS5hZGRPYmplY3RWYWx1ZT1mdW5jdGlvbihhLGIsYyxkKXtudWxsIT1jJiZjIT1kJiYobnVsbCE9YiYmMDxiLmxlbmd0aD9hW2JdPWM6YS5wdXNoKGMpKX07bXhPYmplY3RDb2RlYy5wcm90b3R5cGUucHJvY2Vzc0luY2x1ZGU9ZnVuY3Rpb24oYSxiLGMpe2lmKCJpbmNsdWRlIj09Yi5ub2RlTmFtZSl7Yj1iLmdldEF0dHJpYnV0ZSgibmFtZSIpO2lmKG51bGwhPWIpdHJ5e3ZhciBkPW14VXRpbHMubG9hZChiKS5nZXREb2N1bWVudEVsZW1lbnQoKTtudWxsIT1kJiZhLmRlY29kZShkLGMpfWNhdGNoKGUpe31yZXR1cm4hMH1yZXR1cm4hMX07bXhPYmplY3RDb2RlYy5wcm90b3R5cGUuYmVmb3JlRGVjb2RlPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYn07Cm14T2JqZWN0Q29kZWMucHJvdG90eXBlLmFmdGVyRGVjb2RlPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gY307Cm14Q29kZWNSZWdpc3RyeS5yZWdpc3RlcihmdW5jdGlvbigpe3ZhciBhPW5ldyBteE9iamVjdENvZGVjKG5ldyBteENlbGwsWyJjaGlsZHJlbiIsImVkZ2VzIiwib3ZlcmxheXMiLCJteFRyYW5zaWVudCJdLFsicGFyZW50Iiwic291cmNlIiwidGFyZ2V0Il0pO2EuaXNDZWxsQ29kZWM9ZnVuY3Rpb24oKXtyZXR1cm4hMH07YS5pc051bWVyaWNBdHRyaWJ1dGU9ZnVuY3Rpb24oYSxjLGQpe3JldHVybiJ2YWx1ZSIhPT1jLm5vZGVOYW1lJiZteE9iamVjdENvZGVjLnByb3RvdHlwZS5pc051bWVyaWNBdHRyaWJ1dGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTthLmlzRXhjbHVkZWQ9ZnVuY3Rpb24oYSxjLGQsZSl7cmV0dXJuIG14T2JqZWN0Q29kZWMucHJvdG90eXBlLmlzRXhjbHVkZWQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHxlJiYidmFsdWUiPT1jJiZkLm5vZGVUeXBlPT1teENvbnN0YW50cy5OT0RFVFlQRV9FTEVNRU5UfTthLmFmdGVyRW5jb2RlPWZ1bmN0aW9uKGEsYyxkKXtpZihudWxsIT0KYy52YWx1ZSYmYy52YWx1ZS5ub2RlVHlwZT09bXhDb25zdGFudHMuTk9ERVRZUEVfRUxFTUVOVCl7dmFyIGI9ZDtkPW14VXRpbHMuaW1wb3J0Tm9kZShhLmRvY3VtZW50LGMudmFsdWUsITApO2QuYXBwZW5kQ2hpbGQoYik7YT1iLmdldEF0dHJpYnV0ZSgiaWQiKTtkLnNldEF0dHJpYnV0ZSgiaWQiLGEpO2IucmVtb3ZlQXR0cmlidXRlKCJpZCIpfXJldHVybiBkfTthLmJlZm9yZURlY29kZT1mdW5jdGlvbihhLGMsZCl7dmFyIGI9Yy5jbG9uZU5vZGUoITApLGY9dGhpcy5nZXROYW1lKCk7Yy5ub2RlTmFtZSE9Zj8oYj1jLmdldEVsZW1lbnRzQnlUYWdOYW1lKGYpWzBdLG51bGwhPWImJmIucGFyZW50Tm9kZT09Yz8obXhVdGlscy5yZW1vdmVXaGl0ZXNwYWNlKGIsITApLG14VXRpbHMucmVtb3ZlV2hpdGVzcGFjZShiLCExKSxiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYikpOmI9bnVsbCxkLnZhbHVlPWMuY2xvbmVOb2RlKCEwKSxjPWQudmFsdWUuZ2V0QXR0cmlidXRlKCJpZCIpLG51bGwhPQpjJiYoZC5zZXRJZChjKSxkLnZhbHVlLnJlbW92ZUF0dHJpYnV0ZSgiaWQiKSkpOmQuc2V0SWQoYy5nZXRBdHRyaWJ1dGUoImlkIikpO2lmKG51bGwhPWIpZm9yKGM9MDtjPHRoaXMuaWRyZWZzLmxlbmd0aDtjKyspe3ZhciBmPXRoaXMuaWRyZWZzW2NdLGc9Yi5nZXRBdHRyaWJ1dGUoZik7aWYobnVsbCE9Zyl7Yi5yZW1vdmVBdHRyaWJ1dGUoZik7dmFyIGs9YS5vYmplY3RzW2ddfHxhLmxvb2t1cChnKTtudWxsPT1rJiYoZz1hLmdldEVsZW1lbnRCeUlkKGcpLG51bGwhPWcmJihrPShteENvZGVjUmVnaXN0cnkuY29kZWNzW2cubm9kZU5hbWVdfHx0aGlzKS5kZWNvZGUoYSxnKSkpO2RbZl09a319cmV0dXJuIGJ9O3JldHVybiBhfSgpKTsKbXhDb2RlY1JlZ2lzdHJ5LnJlZ2lzdGVyKGZ1bmN0aW9uKCl7dmFyIGE9bmV3IG14T2JqZWN0Q29kZWMobmV3IG14R3JhcGhNb2RlbCk7YS5lbmNvZGVPYmplY3Q9ZnVuY3Rpb24oYSxjLGQpe3ZhciBiPWEuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicm9vdCIpO2EuZW5jb2RlQ2VsbChjLmdldFJvb3QoKSxiKTtkLmFwcGVuZENoaWxkKGIpfTthLmRlY29kZUNoaWxkPWZ1bmN0aW9uKGEsYyxkKXsicm9vdCI9PWMubm9kZU5hbWU/dGhpcy5kZWNvZGVSb290KGEsYyxkKTpteE9iamVjdENvZGVjLnByb3RvdHlwZS5kZWNvZGVDaGlsZC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2EuZGVjb2RlUm9vdD1mdW5jdGlvbihhLGMsZCl7dmFyIGI9bnVsbDtmb3IoYz1jLmZpcnN0Q2hpbGQ7bnVsbCE9Yzspe3ZhciBmPWEuZGVjb2RlQ2VsbChjKTtudWxsIT1mJiZudWxsPT1mLmdldFBhcmVudCgpJiYoYj1mKTtjPWMubmV4dFNpYmxpbmd9bnVsbCE9YiYmZC5zZXRSb290KGIpfTtyZXR1cm4gYX0oKSk7Cm14Q29kZWNSZWdpc3RyeS5yZWdpc3RlcihmdW5jdGlvbigpe3ZhciBhPW5ldyBteE9iamVjdENvZGVjKG5ldyBteFJvb3RDaGFuZ2UsWyJtb2RlbCIsInByZXZpb3VzIiwicm9vdCJdKTthLmFmdGVyRW5jb2RlPWZ1bmN0aW9uKGEsYyxkKXthLmVuY29kZUNlbGwoYy5yb290LGQpO3JldHVybiBkfTthLmJlZm9yZURlY29kZT1mdW5jdGlvbihhLGMsZCl7aWYobnVsbCE9Yy5maXJzdENoaWxkJiZjLmZpcnN0Q2hpbGQubm9kZVR5cGU9PW14Q29uc3RhbnRzLk5PREVUWVBFX0VMRU1FTlQpe2M9Yy5jbG9uZU5vZGUoITApO3ZhciBiPWMuZmlyc3RDaGlsZDtkLnJvb3Q9YS5kZWNvZGVDZWxsKGIsITEpO2Q9Yi5uZXh0U2libGluZztiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYik7Zm9yKGI9ZDtudWxsIT1iOylkPWIubmV4dFNpYmxpbmcsYS5kZWNvZGVDZWxsKGIpLGIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKSxiPWR9cmV0dXJuIGN9O2EuYWZ0ZXJEZWNvZGU9ZnVuY3Rpb24oYSxjLApkKXtkLnByZXZpb3VzPWQucm9vdDtyZXR1cm4gZH07cmV0dXJuIGF9KCkpOwpteENvZGVjUmVnaXN0cnkucmVnaXN0ZXIoZnVuY3Rpb24oKXt2YXIgYT1uZXcgbXhPYmplY3RDb2RlYyhuZXcgbXhDaGlsZENoYW5nZSxbIm1vZGVsIiwiY2hpbGQiLCJwcmV2aW91c0luZGV4Il0sWyJwYXJlbnQiLCJwcmV2aW91cyJdKTthLmlzUmVmZXJlbmNlPWZ1bmN0aW9uKGEsYyxkLGUpe3JldHVybiJjaGlsZCIhPWN8fGUmJiFhLm1vZGVsLmNvbnRhaW5zKGEucHJldmlvdXMpPzA8PW14VXRpbHMuaW5kZXhPZih0aGlzLmlkcmVmcyxjKTohMH07YS5pc0V4Y2x1ZGVkPWZ1bmN0aW9uKGEsYyxkLGUpe3JldHVybiBteE9iamVjdENvZGVjLnByb3RvdHlwZS5pc0V4Y2x1ZGVkLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8ZSYmbnVsbCE9ZCYmKCJwcmV2aW91cyI9PWN8fCJwYXJlbnQiPT1jKSYmIWEubW9kZWwuY29udGFpbnMoZCl9O2EuYWZ0ZXJFbmNvZGU9ZnVuY3Rpb24oYSxjLGQpe3RoaXMuaXNSZWZlcmVuY2UoYywiY2hpbGQiLGMuY2hpbGQsITApP2Quc2V0QXR0cmlidXRlKCJjaGlsZCIsCmEuZ2V0SWQoYy5jaGlsZCkpOmEuZW5jb2RlQ2VsbChjLmNoaWxkLGQpO3JldHVybiBkfTthLmJlZm9yZURlY29kZT1mdW5jdGlvbihhLGMsZCl7aWYobnVsbCE9Yy5maXJzdENoaWxkJiZjLmZpcnN0Q2hpbGQubm9kZVR5cGU9PW14Q29uc3RhbnRzLk5PREVUWVBFX0VMRU1FTlQpe2M9Yy5jbG9uZU5vZGUoITApO3ZhciBiPWMuZmlyc3RDaGlsZDtkLmNoaWxkPWEuZGVjb2RlQ2VsbChiLCExKTtkPWIubmV4dFNpYmxpbmc7Yi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpO2ZvcihiPWQ7bnVsbCE9Yjspe2Q9Yi5uZXh0U2libGluZztpZihiLm5vZGVUeXBlPT1teENvbnN0YW50cy5OT0RFVFlQRV9FTEVNRU5UKXt2YXIgZj1iLmdldEF0dHJpYnV0ZSgiaWQiKTtudWxsPT1hLmxvb2t1cChmKSYmYS5kZWNvZGVDZWxsKGIpfWIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKTtiPWR9fWVsc2UgYj1jLmdldEF0dHJpYnV0ZSgiY2hpbGQiKSxkLmNoaWxkPWEuZ2V0T2JqZWN0KGIpO3JldHVybiBjfTsKYS5hZnRlckRlY29kZT1mdW5jdGlvbihhLGMsZCl7bnVsbCE9ZC5jaGlsZCYmKG51bGwhPWQuY2hpbGQucGFyZW50JiZudWxsIT1kLnByZXZpb3VzJiZkLmNoaWxkLnBhcmVudCE9ZC5wcmV2aW91cyYmKGQucHJldmlvdXM9ZC5jaGlsZC5wYXJlbnQpLGQuY2hpbGQucGFyZW50PWQucHJldmlvdXMsZC5wcmV2aW91cz1kLnBhcmVudCxkLnByZXZpb3VzSW5kZXg9ZC5pbmRleCk7cmV0dXJuIGR9O3JldHVybiBhfSgpKTtteENvZGVjUmVnaXN0cnkucmVnaXN0ZXIoZnVuY3Rpb24oKXt2YXIgYT1uZXcgbXhPYmplY3RDb2RlYyhuZXcgbXhUZXJtaW5hbENoYW5nZSxbIm1vZGVsIiwicHJldmlvdXMiXSxbImNlbGwiLCJ0ZXJtaW5hbCJdKTthLmFmdGVyRGVjb2RlPWZ1bmN0aW9uKGEsYyxkKXtkLnByZXZpb3VzPWQudGVybWluYWw7cmV0dXJuIGR9O3JldHVybiBhfSgpKTsKdmFyIG14R2VuZXJpY0NoYW5nZUNvZGVjPWZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IG14T2JqZWN0Q29kZWMoYSxbIm1vZGVsIiwicHJldmlvdXMiXSxbImNlbGwiXSk7Yy5hZnRlckRlY29kZT1mdW5jdGlvbihhLGMsZil7bXhVdGlscy5pc05vZGUoZi5jZWxsKSYmKGYuY2VsbD1hLmRlY29kZUNlbGwoZi5jZWxsLCExKSk7Zi5wcmV2aW91cz1mW2JdO3JldHVybiBmfTtyZXR1cm4gY307bXhDb2RlY1JlZ2lzdHJ5LnJlZ2lzdGVyKG14R2VuZXJpY0NoYW5nZUNvZGVjKG5ldyBteFZhbHVlQ2hhbmdlLCJ2YWx1ZSIpKTtteENvZGVjUmVnaXN0cnkucmVnaXN0ZXIobXhHZW5lcmljQ2hhbmdlQ29kZWMobmV3IG14U3R5bGVDaGFuZ2UsInN0eWxlIikpO214Q29kZWNSZWdpc3RyeS5yZWdpc3RlcihteEdlbmVyaWNDaGFuZ2VDb2RlYyhuZXcgbXhHZW9tZXRyeUNoYW5nZSwiZ2VvbWV0cnkiKSk7Cm14Q29kZWNSZWdpc3RyeS5yZWdpc3RlcihteEdlbmVyaWNDaGFuZ2VDb2RlYyhuZXcgbXhDb2xsYXBzZUNoYW5nZSwiY29sbGFwc2VkIikpO214Q29kZWNSZWdpc3RyeS5yZWdpc3RlcihteEdlbmVyaWNDaGFuZ2VDb2RlYyhuZXcgbXhWaXNpYmxlQ2hhbmdlLCJ2aXNpYmxlIikpO214Q29kZWNSZWdpc3RyeS5yZWdpc3RlcihteEdlbmVyaWNDaGFuZ2VDb2RlYyhuZXcgbXhDZWxsQXR0cmlidXRlQ2hhbmdlLCJ2YWx1ZSIpKTtteENvZGVjUmVnaXN0cnkucmVnaXN0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG14T2JqZWN0Q29kZWMobmV3IG14R3JhcGgsImdyYXBoTGlzdGVuZXJzIGV2ZW50TGlzdGVuZXJzIHZpZXcgY29udGFpbmVyIGNlbGxSZW5kZXJlciBlZGl0b3Igc2VsZWN0aW9uIi5zcGxpdCgiICIpKX0oKSk7Cm14Q29kZWNSZWdpc3RyeS5yZWdpc3RlcihmdW5jdGlvbigpe3ZhciBhPW5ldyBteE9iamVjdENvZGVjKG5ldyBteEdyYXBoVmlldyk7YS5lbmNvZGU9ZnVuY3Rpb24oYSxjKXtyZXR1cm4gdGhpcy5lbmNvZGVDZWxsKGEsYyxjLmdyYXBoLmdldE1vZGVsKCkuZ2V0Um9vdCgpKX07YS5lbmNvZGVDZWxsPWZ1bmN0aW9uKGEsYyxkKXt2YXIgYj1jLmdyYXBoLmdldE1vZGVsKCksZj1jLmdldFN0YXRlKGQpLGc9Yi5nZXRQYXJlbnQoZCk7aWYobnVsbD09Z3x8bnVsbCE9Zil7dmFyIGs9Yi5nZXRDaGlsZENvdW50KGQpLGw9Yy5ncmFwaC5nZXRDZWxsR2VvbWV0cnkoZCksbT1udWxsO2c9PWIuZ2V0Um9vdCgpP209ImxheWVyIjpudWxsPT1nP209ImdyYXBoIjpiLmlzRWRnZShkKT9tPSJlZGdlIjowPGsmJm51bGwhPWw/bT0iZ3JvdXAiOmIuaXNWZXJ0ZXgoZCkmJihtPSJ2ZXJ0ZXgiKTtpZihudWxsIT1tKXt2YXIgbj1hLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobSk7bnVsbCE9Yy5ncmFwaC5nZXRMYWJlbChkKSYmCihuLnNldEF0dHJpYnV0ZSgibGFiZWwiLGMuZ3JhcGguZ2V0TGFiZWwoZCkpLGMuZ3JhcGguaXNIdG1sTGFiZWwoZCkmJm4uc2V0QXR0cmlidXRlKCJodG1sIiwhMCkpO2lmKG51bGw9PWcpe3ZhciBwPWMuZ2V0R3JhcGhCb3VuZHMoKTtudWxsIT1wJiYobi5zZXRBdHRyaWJ1dGUoIngiLE1hdGgucm91bmQocC54KSksbi5zZXRBdHRyaWJ1dGUoInkiLE1hdGgucm91bmQocC55KSksbi5zZXRBdHRyaWJ1dGUoIndpZHRoIixNYXRoLnJvdW5kKHAud2lkdGgpKSxuLnNldEF0dHJpYnV0ZSgiaGVpZ2h0IixNYXRoLnJvdW5kKHAuaGVpZ2h0KSkpO24uc2V0QXR0cmlidXRlKCJzY2FsZSIsYy5zY2FsZSl9ZWxzZSBpZihudWxsIT1mJiZudWxsIT1sKXtmb3IocCBpbiBmLnN0eWxlKWc9Zi5zdHlsZVtwXSwiZnVuY3Rpb24iPT10eXBlb2YgZyYmIm9iamVjdCI9PXR5cGVvZiBnJiYoZz1teFN0eWxlUmVnaXN0cnkuZ2V0TmFtZShnKSksbnVsbCE9ZyYmImZ1bmN0aW9uIiE9dHlwZW9mIGcmJiJvYmplY3QiIT0KdHlwZW9mIGcmJm4uc2V0QXR0cmlidXRlKHAsZyk7Zz1mLmFic29sdXRlUG9pbnRzO2lmKG51bGwhPWcmJjA8Zy5sZW5ndGgpe2w9TWF0aC5yb3VuZChnWzBdLngpKyIsIitNYXRoLnJvdW5kKGdbMF0ueSk7Zm9yKHA9MTtwPGcubGVuZ3RoO3ArKylsKz0iICIrTWF0aC5yb3VuZChnW3BdLngpKyIsIitNYXRoLnJvdW5kKGdbcF0ueSk7bi5zZXRBdHRyaWJ1dGUoInBvaW50cyIsbCl9ZWxzZSBuLnNldEF0dHJpYnV0ZSgieCIsTWF0aC5yb3VuZChmLngpKSxuLnNldEF0dHJpYnV0ZSgieSIsTWF0aC5yb3VuZChmLnkpKSxuLnNldEF0dHJpYnV0ZSgid2lkdGgiLE1hdGgucm91bmQoZi53aWR0aCkpLG4uc2V0QXR0cmlidXRlKCJoZWlnaHQiLE1hdGgucm91bmQoZi5oZWlnaHQpKTtwPWYuYWJzb2x1dGVPZmZzZXQ7bnVsbCE9cCYmKDAhPXAueCYmbi5zZXRBdHRyaWJ1dGUoImR4IixNYXRoLnJvdW5kKHAueCkpLDAhPXAueSYmbi5zZXRBdHRyaWJ1dGUoImR5IixNYXRoLnJvdW5kKHAueSkpKX1mb3IocD0KMDtwPGs7cCsrKWY9dGhpcy5lbmNvZGVDZWxsKGEsYyxiLmdldENoaWxkQXQoZCxwKSksbnVsbCE9ZiYmbi5hcHBlbmRDaGlsZChmKX19cmV0dXJuIG59O3JldHVybiBhfSgpKTsKdmFyIG14U3R5bGVzaGVldENvZGVjPW14Q29kZWNSZWdpc3RyeS5yZWdpc3RlcihmdW5jdGlvbigpe3ZhciBhPW5ldyBteE9iamVjdENvZGVjKG5ldyBteFN0eWxlc2hlZXQpO2EuZW5jb2RlPWZ1bmN0aW9uKGEsYyl7dmFyIGI9YS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KHRoaXMuZ2V0TmFtZSgpKSxlO2ZvcihlIGluIGMuc3R5bGVzKXt2YXIgZj1jLnN0eWxlc1tlXSxnPWEuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYWRkIik7aWYobnVsbCE9ZSl7Zy5zZXRBdHRyaWJ1dGUoImFzIixlKTtmb3IodmFyIGsgaW4gZil7dmFyIGw9dGhpcy5nZXRTdHJpbmdWYWx1ZShrLGZba10pO2lmKG51bGwhPWwpe3ZhciBtPWEuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYWRkIik7bS5zZXRBdHRyaWJ1dGUoInZhbHVlIixsKTttLnNldEF0dHJpYnV0ZSgiYXMiLGspO2cuYXBwZW5kQ2hpbGQobSl9fTA8Zy5jaGlsZE5vZGVzLmxlbmd0aCYmYi5hcHBlbmRDaGlsZChnKX19cmV0dXJuIGJ9O2EuZ2V0U3RyaW5nVmFsdWU9CmZ1bmN0aW9uKGEsYyl7dmFyIGI9dHlwZW9mIGM7ImZ1bmN0aW9uIj09Yj9jPW14U3R5bGVSZWdpc3RyeS5nZXROYW1lKGMpOiJvYmplY3QiPT1iJiYoYz1udWxsKTtyZXR1cm4gY307YS5kZWNvZGU9ZnVuY3Rpb24oYSxjLGQpe2Q9ZHx8bmV3IHRoaXMudGVtcGxhdGUuY29uc3RydWN0b3I7dmFyIGI9Yy5nZXRBdHRyaWJ1dGUoImlkIik7bnVsbCE9YiYmKGEub2JqZWN0c1tiXT1kKTtmb3IoYz1jLmZpcnN0Q2hpbGQ7bnVsbCE9Yzspe2lmKCF0aGlzLnByb2Nlc3NJbmNsdWRlKGEsYyxkKSYmImFkZCI9PWMubm9kZU5hbWUmJihiPWMuZ2V0QXR0cmlidXRlKCJhcyIpLG51bGwhPWIpKXt2YXIgZj1jLmdldEF0dHJpYnV0ZSgiZXh0ZW5kIiksZz1udWxsIT1mP214VXRpbHMuY2xvbmUoZC5zdHlsZXNbZl0pOm51bGw7bnVsbD09ZyYmKG51bGwhPWYmJm14TG9nLndhcm4oIm14U3R5bGVzaGVldENvZGVjLmRlY29kZTogc3R5bGVzaGVldCAiK2YrIiBub3QgZm91bmQgdG8gZXh0ZW5kIiksZz0Ke30pO2ZvcihmPWMuZmlyc3RDaGlsZDtudWxsIT1mOyl7aWYoZi5ub2RlVHlwZT09bXhDb25zdGFudHMuTk9ERVRZUEVfRUxFTUVOVCl7dmFyIGs9Zi5nZXRBdHRyaWJ1dGUoImFzIik7aWYoImFkZCI9PWYubm9kZU5hbWUpe3ZhciBsPW14VXRpbHMuZ2V0VGV4dENvbnRlbnQoZik7bnVsbCE9bCYmMDxsLmxlbmd0aCYmbXhTdHlsZXNoZWV0Q29kZWMuYWxsb3dFdmFsP2w9bXhVdGlscy5ldmFsKGwpOihsPWYuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpLG14VXRpbHMuaXNOdW1lcmljKGwpJiYobD1wYXJzZUZsb2F0KGwpKSk7bnVsbCE9bCYmKGdba109bCl9ZWxzZSJyZW1vdmUiPT1mLm5vZGVOYW1lJiZkZWxldGUgZ1trXX1mPWYubmV4dFNpYmxpbmd9ZC5wdXRDZWxsU3R5bGUoYixnKX1jPWMubmV4dFNpYmxpbmd9cmV0dXJuIGR9O3JldHVybiBhfSgpKTtteFN0eWxlc2hlZXRDb2RlYy5hbGxvd0V2YWw9ITA7Cm14Q29kZWNSZWdpc3RyeS5yZWdpc3RlcihmdW5jdGlvbigpe3ZhciBhPW5ldyBteE9iamVjdENvZGVjKG5ldyBteERlZmF1bHRLZXlIYW5kbGVyKTthLmVuY29kZT1mdW5jdGlvbihhLGMpe3JldHVybiBudWxsfTthLmRlY29kZT1mdW5jdGlvbihhLGMsZCl7aWYobnVsbCE9ZClmb3IoYz1jLmZpcnN0Q2hpbGQ7bnVsbCE9Yzspe2lmKCF0aGlzLnByb2Nlc3NJbmNsdWRlKGEsYyxkKSYmImFkZCI9PWMubm9kZU5hbWUpe3ZhciBiPWMuZ2V0QXR0cmlidXRlKCJhcyIpLGY9Yy5nZXRBdHRyaWJ1dGUoImFjdGlvbiIpLGc9Yy5nZXRBdHRyaWJ1dGUoImNvbnRyb2wiKTtkLmJpbmRBY3Rpb24oYixmLGcpfWM9Yy5uZXh0U2libGluZ31yZXR1cm4gZH07cmV0dXJuIGF9KCkpOwp2YXIgbXhEZWZhdWx0VG9vbGJhckNvZGVjPW14Q29kZWNSZWdpc3RyeS5yZWdpc3RlcihmdW5jdGlvbigpe3ZhciBhPW5ldyBteE9iamVjdENvZGVjKG5ldyBteERlZmF1bHRUb29sYmFyKTthLmVuY29kZT1mdW5jdGlvbihhLGMpe3JldHVybiBudWxsfTthLmRlY29kZT1mdW5jdGlvbihhLGMsZCl7aWYobnVsbCE9ZCl7dmFyIGI9ZC5lZGl0b3I7Zm9yKGM9Yy5maXJzdENoaWxkO251bGwhPWM7KXtpZihjLm5vZGVUeXBlPT1teENvbnN0YW50cy5OT0RFVFlQRV9FTEVNRU5UJiYhdGhpcy5wcm9jZXNzSW5jbHVkZShhLGMsZCkpaWYoInNlcGFyYXRvciI9PWMubm9kZU5hbWUpZC5hZGRTZXBhcmF0b3IoKTtlbHNlIGlmKCJiciI9PWMubm9kZU5hbWUpZC50b29sYmFyLmFkZEJyZWFrKCk7ZWxzZSBpZigiaHIiPT1jLm5vZGVOYW1lKWQudG9vbGJhci5hZGRMaW5lKCk7ZWxzZSBpZigiYWRkIj09Yy5ub2RlTmFtZSl7dmFyIGY9Yy5nZXRBdHRyaWJ1dGUoImFzIiksZj1teFJlc291cmNlcy5nZXQoZil8fApmLGc9Yy5nZXRBdHRyaWJ1dGUoImljb24iKSxrPWMuZ2V0QXR0cmlidXRlKCJwcmVzc2VkSWNvbiIpLGw9Yy5nZXRBdHRyaWJ1dGUoImFjdGlvbiIpLG09Yy5nZXRBdHRyaWJ1dGUoIm1vZGUiKSxuPWMuZ2V0QXR0cmlidXRlKCJ0ZW1wbGF0ZSIpLHA9IjAiIT1jLmdldEF0dHJpYnV0ZSgidG9nZ2xlIikscT1teFV0aWxzLmdldFRleHRDb250ZW50KGMpLHI9bnVsbDtpZihudWxsIT1sKXI9ZC5hZGRJdGVtKGYsZyxsLGspO2Vsc2UgaWYobnVsbCE9bSl2YXIgdD1teERlZmF1bHRUb29sYmFyQ29kZWMuYWxsb3dFdmFsP214VXRpbHMuZXZhbChxKTpudWxsLHI9ZC5hZGRNb2RlKGYsZyxtLGssdCk7ZWxzZSBpZihudWxsIT1ufHxudWxsIT1xJiYwPHEubGVuZ3RoKXI9Yi50ZW1wbGF0ZXNbbl0sbj1jLmdldEF0dHJpYnV0ZSgic3R5bGUiKSxudWxsIT1yJiZudWxsIT1uJiYocj1iLmdyYXBoLmNsb25lQ2VsbChyKSxyLnNldFN0eWxlKG4pKSxuPW51bGwsbnVsbCE9cSYmMDxxLmxlbmd0aCYmCm14RGVmYXVsdFRvb2xiYXJDb2RlYy5hbGxvd0V2YWwmJihuPW14VXRpbHMuZXZhbChxKSkscj1kLmFkZFByb3RvdHlwZShmLGcscixrLG4scCk7ZWxzZSBpZihrPW14VXRpbHMuZ2V0Q2hpbGROb2RlcyhjKSwwPGsubGVuZ3RoKWlmKG51bGw9PWcpZm9yKG49ZC5hZGRBY3Rpb25Db21ibyhmKSxmPTA7ZjxrLmxlbmd0aDtmKyspcD1rW2ZdLCJzZXBhcmF0b3IiPT1wLm5vZGVOYW1lP2QuYWRkT3B0aW9uKG4sIi0tLSIpOiJhZGQiPT1wLm5vZGVOYW1lJiYoZz1wLmdldEF0dHJpYnV0ZSgiYXMiKSxwPXAuZ2V0QXR0cmlidXRlKCJhY3Rpb24iKSxkLmFkZEFjdGlvbk9wdGlvbihuLGcscCkpO2Vsc2V7dmFyIHU9bnVsbCx4PWQuYWRkUHJvdG90eXBlKGYsZyxmdW5jdGlvbigpe3ZhciBhPWIudGVtcGxhdGVzW3UudmFsdWVdO2lmKG51bGwhPWEpe3ZhciBhPWEuY2xvbmUoKSxjPXUub3B0aW9uc1t1LnNlbGVjdGVkSW5kZXhdLmNlbGxTdHlsZTtudWxsIT1jJiZhLnNldFN0eWxlKGMpO3JldHVybiBhfW14TG9nLndhcm4oIlRlbXBsYXRlICIrCmErIiBub3QgZm91bmQiKTtyZXR1cm4gbnVsbH0sbnVsbCxudWxsLHApLHU9ZC5hZGRDb21ibygpO214RXZlbnQuYWRkTGlzdGVuZXIodSwiY2hhbmdlIixmdW5jdGlvbigpe2QudG9vbGJhci5zZWxlY3RNb2RlKHgsZnVuY3Rpb24oYSl7YT1teFV0aWxzLmNvbnZlcnRQb2ludChiLmdyYXBoLmNvbnRhaW5lcixteEV2ZW50LmdldENsaWVudFgoYSksbXhFdmVudC5nZXRDbGllbnRZKGEpKTtyZXR1cm4gYi5hZGRWZXJ0ZXgobnVsbCx0KCksYS54LGEueSl9KTtkLnRvb2xiYXIubm9SZXNldD0hMX0pO2ZvcihmPTA7ZjxrLmxlbmd0aDtmKyspcD1rW2ZdLCJzZXBhcmF0b3IiPT1wLm5vZGVOYW1lP2QuYWRkT3B0aW9uKHUsIi0tLSIpOiJhZGQiPT1wLm5vZGVOYW1lJiYoZz1wLmdldEF0dHJpYnV0ZSgiYXMiKSxxPXAuZ2V0QXR0cmlidXRlKCJ0ZW1wbGF0ZSIpLGQuYWRkT3B0aW9uKHUsZyxxfHxuKS5jZWxsU3R5bGU9cC5nZXRBdHRyaWJ1dGUoInN0eWxlIikpfW51bGwhPXImJihuPWMuZ2V0QXR0cmlidXRlKCJpZCIpLApudWxsIT1uJiYwPG4ubGVuZ3RoJiZyLnNldEF0dHJpYnV0ZSgiaWQiLG4pKX1jPWMubmV4dFNpYmxpbmd9fXJldHVybiBkfTtyZXR1cm4gYX0oKSk7bXhEZWZhdWx0VG9vbGJhckNvZGVjLmFsbG93RXZhbD0hMDtteENvZGVjUmVnaXN0cnkucmVnaXN0ZXIoZnVuY3Rpb24oKXt2YXIgYT1uZXcgbXhPYmplY3RDb2RlYyhuZXcgbXhEZWZhdWx0UG9wdXBNZW51KTthLmVuY29kZT1mdW5jdGlvbihhLGMpe3JldHVybiBudWxsfTthLmRlY29kZT1mdW5jdGlvbihhLGMsZCl7dmFyIGI9Yy5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW5jbHVkZSIpWzBdO251bGwhPWI/dGhpcy5wcm9jZXNzSW5jbHVkZShhLGIsZCk6bnVsbCE9ZCYmKGQuY29uZmlnPWMpO3JldHVybiBkfTtyZXR1cm4gYX0oKSk7Cm14Q29kZWNSZWdpc3RyeS5yZWdpc3RlcihmdW5jdGlvbigpe3ZhciBhPW5ldyBteE9iamVjdENvZGVjKG5ldyBteEVkaXRvciwibW9kaWZpZWQgbGFzdFNuYXBzaG90IGlnbm9yZWRDaGFuZ2VzIHVuZG9NYW5hZ2VyIGdyYXBoQ29udGFpbmVyIHRvb2xiYXJDb250YWluZXIiLnNwbGl0KCIgIikpO2EuYWZ0ZXJEZWNvZGU9ZnVuY3Rpb24oYSxjLGQpe2E9Yy5nZXRBdHRyaWJ1dGUoImRlZmF1bHRFZGdlIik7bnVsbCE9YSYmKGMucmVtb3ZlQXR0cmlidXRlKCJkZWZhdWx0RWRnZSIpLGQuZGVmYXVsdEVkZ2U9ZC50ZW1wbGF0ZXNbYV0pO2E9Yy5nZXRBdHRyaWJ1dGUoImRlZmF1bHRHcm91cCIpO251bGwhPWEmJihjLnJlbW92ZUF0dHJpYnV0ZSgiZGVmYXVsdEdyb3VwIiksZC5kZWZhdWx0R3JvdXA9ZC50ZW1wbGF0ZXNbYV0pO3JldHVybiBkfTthLmRlY29kZUNoaWxkPWZ1bmN0aW9uKGEsYyxkKXtpZigiQXJyYXkiPT1jLm5vZGVOYW1lKXtpZigidGVtcGxhdGVzIj09Yy5nZXRBdHRyaWJ1dGUoImFzIikpe3RoaXMuZGVjb2RlVGVtcGxhdGVzKGEsCmMsZCk7cmV0dXJufX1lbHNlIGlmKCJ1aSI9PWMubm9kZU5hbWUpe3RoaXMuZGVjb2RlVWkoYSxjLGQpO3JldHVybn1teE9iamVjdENvZGVjLnByb3RvdHlwZS5kZWNvZGVDaGlsZC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2EuZGVjb2RlVWk9ZnVuY3Rpb24oYSxjLGQpe2ZvcihhPWMuZmlyc3RDaGlsZDtudWxsIT1hOyl7aWYoImFkZCI9PWEubm9kZU5hbWUpe2M9YS5nZXRBdHRyaWJ1dGUoImFzIik7dmFyIGI9YS5nZXRBdHRyaWJ1dGUoImVsZW1lbnQiKSxmPWEuZ2V0QXR0cmlidXRlKCJzdHlsZSIpO2lmKG51bGwhPWIpYj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChiKSxudWxsIT1iJiZudWxsIT1mJiYoYi5zdHlsZS5jc3NUZXh0Kz0iOyIrZik7ZWxzZXt2YXIgZz1wYXJzZUludChhLmdldEF0dHJpYnV0ZSgieCIpKSxrPXBhcnNlSW50KGEuZ2V0QXR0cmlidXRlKCJ5IikpLGw9YS5nZXRBdHRyaWJ1dGUoIndpZHRoIiksbT1hLmdldEF0dHJpYnV0ZSgiaGVpZ2h0IiksYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKYi5zdHlsZS5jc3NUZXh0PWY7KG5ldyBteFdpbmRvdyhteFJlc291cmNlcy5nZXQoYyl8fGMsYixnLGssbCxtLCExLCEwKSkuc2V0VmlzaWJsZSghMCl9ImdyYXBoIj09Yz9kLnNldEdyYXBoQ29udGFpbmVyKGIpOiJ0b29sYmFyIj09Yz9kLnNldFRvb2xiYXJDb250YWluZXIoYik6InRpdGxlIj09Yz9kLnNldFRpdGxlQ29udGFpbmVyKGIpOiJzdGF0dXMiPT1jP2Quc2V0U3RhdHVzQ29udGFpbmVyKGIpOiJtYXAiPT1jJiZkLnNldE1hcENvbnRhaW5lcihiKX1lbHNlInJlc291cmNlIj09YS5ub2RlTmFtZT9teFJlc291cmNlcy5hZGQoYS5nZXRBdHRyaWJ1dGUoImJhc2VuYW1lIikpOiJzdHlsZXNoZWV0Ij09YS5ub2RlTmFtZSYmbXhDbGllbnQubGluaygic3R5bGVzaGVldCIsYS5nZXRBdHRyaWJ1dGUoIm5hbWUiKSk7YT1hLm5leHRTaWJsaW5nfX07YS5kZWNvZGVUZW1wbGF0ZXM9ZnVuY3Rpb24oYSxjLGQpe251bGw9PWQudGVtcGxhdGVzJiYoZC50ZW1wbGF0ZXM9W10pO2M9bXhVdGlscy5nZXRDaGlsZE5vZGVzKGMpOwpmb3IodmFyIGI9MDtiPGMubGVuZ3RoO2IrKyl7Zm9yKHZhciBmPWNbYl0uZ2V0QXR0cmlidXRlKCJhcyIpLGc9Y1tiXS5maXJzdENoaWxkO251bGwhPWcmJjEhPWcubm9kZVR5cGU7KWc9Zy5uZXh0U2libGluZztudWxsIT1nJiYoZC50ZW1wbGF0ZXNbZl09YS5kZWNvZGVDZWxsKGcpKX19O3JldHVybiBhfSgpKTsvKgogR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlLCBodHRwOi8vd3d3LmdudS5vcmcvY29weWxlZnQvbGVzc2VyLmh0bWwKIEBhdXRob3IgIEphbiBPZHZhcmtvLCBodHRwOi8vb2R2YXJrby5jegogQGNyZWF0ZWQgMjAwOC0wNi0xNQogQHVwZGF0ZWQgMjAxMi0wMS0xOQogQGxpbmsgICAgaHR0cDovL2pzY29sb3IuY29tCiovCnZhciBteEpTQ29sb3I9e2JpbmRDbGFzczoiY29sb3IiLGJpbmRpbmc6ITAscHJlbG9hZGluZzohMCxpbnN0YWxsOmZ1bmN0aW9uKCl7fSxpbml0OmZ1bmN0aW9uKCl7bXhKU0NvbG9yLnByZWxvYWRpbmcmJm14SlNDb2xvci5wcmVsb2FkKCl9LGdldERpcjpmdW5jdGlvbigpe3JldHVybiBJTUFHRV9QQVRIKyIvIn0sZGV0ZWN0RGlyOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPWxvY2F0aW9uLmhyZWYsYj1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYmFzZSIpLGM9MDtjPGIubGVuZ3RoO2MrPTEpYltjXS5ocmVmJiYoYT1iW2NdLmhyZWYpO2I9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpO2ZvcihjPTA7YzxiLmxlbmd0aDtjKz0xKWlmKGJbY10uc3JjJiYvKF58XC8panNjb2xvclwuanMoWz8jXS4qKT8kL2kudGVzdChiW2NdLnNyYykpcmV0dXJuIGE9KG5ldyBteEpTQ29sb3IuVVJJKGJbY10uc3JjKSkudG9BYnNvbHV0ZShhKSxhLnBhdGg9YS5wYXRoLnJlcGxhY2UoL1teXC9dKyQvLAoiIiksYS5xdWVyeT1udWxsLGEuZnJhZ21lbnQ9bnVsbCxhLnRvU3RyaW5nKCk7cmV0dXJuITF9LHByZWxvYWQ6ZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gbXhKU0NvbG9yLmltZ1JlcXVpcmUpbXhKU0NvbG9yLmltZ1JlcXVpcmUuaGFzT3duUHJvcGVydHkoYSkmJm14SlNDb2xvci5sb2FkSW1hZ2UoYSl9LGltYWdlczp7cGFkOlsxODEsMTAxXSxzbGQ6WzE2LDEwMV0sY3Jvc3M6WzE1LDE1XSxhcnJvdzpbNywxMV19LGltZ1JlcXVpcmU6e30saW1nTG9hZGVkOnt9LHJlcXVpcmVJbWFnZTpmdW5jdGlvbihhKXtteEpTQ29sb3IuaW1nUmVxdWlyZVthXT0hMH0sbG9hZEltYWdlOmZ1bmN0aW9uKGEpe214SlNDb2xvci5pbWdMb2FkZWRbYV18fChteEpTQ29sb3IuaW1nTG9hZGVkW2FdPW5ldyBJbWFnZSxteEpTQ29sb3IuaW1nTG9hZGVkW2FdLnNyYz1teEpTQ29sb3IuZ2V0RGlyKCkrYSl9LGZldGNoRWxlbWVudDpmdW5jdGlvbihhKXtyZXR1cm4ic3RyaW5nIj09PXR5cGVvZiBhP2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEpOgphfSxhZGRFdmVudDpmdW5jdGlvbihhLGIsYyl7YS5hZGRFdmVudExpc3RlbmVyP2EuYWRkRXZlbnRMaXN0ZW5lcihiLGMsITEpOmEuYXR0YWNoRXZlbnQmJmEuYXR0YWNoRXZlbnQoIm9uIitiLGMpfSxmaXJlRXZlbnQ6ZnVuY3Rpb24oYSxiKXtpZihhKWlmKGRvY3VtZW50LmNyZWF0ZUV2ZW50KXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFdmVudCgiSFRNTEV2ZW50cyIpO2MuaW5pdEV2ZW50KGIsITAsITApO2EuZGlzcGF0Y2hFdmVudChjKX1lbHNlIGlmKGRvY3VtZW50LmNyZWF0ZUV2ZW50T2JqZWN0KWM9ZG9jdW1lbnQuY3JlYXRlRXZlbnRPYmplY3QoKSxhLmZpcmVFdmVudCgib24iK2IsYyk7ZWxzZSBpZihhWyJvbiIrYl0pYVsib24iK2JdKCl9LGdldEVsZW1lbnRQb3M6ZnVuY3Rpb24oYSl7dmFyIGI9YSxjPTAsZD0wO2lmKGIub2Zmc2V0UGFyZW50KXtkbyBjKz1iLm9mZnNldExlZnQsZCs9Yi5vZmZzZXRUb3A7d2hpbGUoYj1iLm9mZnNldFBhcmVudCl9Zm9yKDsoYT1hLnBhcmVudE5vZGUpJiYKIkJPRFkiIT09YS5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpOyljLT1hLnNjcm9sbExlZnQsZC09YS5zY3JvbGxUb3A7cmV0dXJuW2MsZF19LGdldEVsZW1lbnRTaXplOmZ1bmN0aW9uKGEpe3JldHVyblthLm9mZnNldFdpZHRoLGEub2Zmc2V0SGVpZ2h0XX0sZ2V0UmVsTW91c2VQb3M6ZnVuY3Rpb24oYSl7dmFyIGI9MCxjPTA7YXx8KGE9d2luZG93LmV2ZW50KTsibnVtYmVyIj09PXR5cGVvZiBhLm9mZnNldFg/KGI9YS5vZmZzZXRYLGM9YS5vZmZzZXRZKToibnVtYmVyIj09PXR5cGVvZiBhLmxheWVyWCYmKGI9YS5sYXllclgsYz1hLmxheWVyWSk7cmV0dXJue3g6Yix5OmN9fSxnZXRWaWV3UG9zOmZ1bmN0aW9uKCl7cmV0dXJuIm51bWJlciI9PT10eXBlb2Ygd2luZG93LnBhZ2VZT2Zmc2V0P1t3aW5kb3cucGFnZVhPZmZzZXQsd2luZG93LnBhZ2VZT2Zmc2V0XTpkb2N1bWVudC5ib2R5JiYoZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0fHxkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCk/W2RvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCwKZG9jdW1lbnQuYm9keS5zY3JvbGxUb3BdOmRvY3VtZW50LmRvY3VtZW50RWxlbWVudCYmKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0fHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wKT9bZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQsZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcF06WzAsMF19LGdldFZpZXdTaXplOmZ1bmN0aW9uKCl7cmV0dXJuIm51bWJlciI9PT10eXBlb2Ygd2luZG93LmlubmVyV2lkdGg/W3dpbmRvdy5pbm5lcldpZHRoLHdpbmRvdy5pbm5lckhlaWdodF06ZG9jdW1lbnQuYm9keSYmKGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGh8fGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0KT9bZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCxkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodF06ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50JiYoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRofHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KT8KW2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0XTpbMCwwXX0sVVJJOmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7Zm9yKHZhciBiPSIiO2E7KWlmKCIuLi8iPT09YS5zdWJzdHIoMCwzKXx8Ii4vIj09PWEuc3Vic3RyKDAsMikpYT1hLnJlcGxhY2UoL15cLisvLCIiKS5zdWJzdHIoMSk7ZWxzZSBpZigiLy4vIj09PWEuc3Vic3RyKDAsMyl8fCIvLiI9PT1hKWE9Ii8iK2Euc3Vic3RyKDMpO2Vsc2UgaWYoIi8uLi8iPT09YS5zdWJzdHIoMCw0KXx8Ii8uLiI9PT1hKWE9Ii8iK2Euc3Vic3RyKDQpLGI9Yi5yZXBsYWNlKC9cLz9bXlwvXSokLywiIik7ZWxzZSBpZigiLiI9PT1hfHwiLi4iPT09YSlhPSIiO2Vsc2V7dmFyIGM9YS5tYXRjaCgvXlwvP1teXC9dKi8pWzBdO2E9YS5zdWJzdHIoYy5sZW5ndGgpO2IrPWN9cmV0dXJuIGJ9dGhpcy5hdXRob3JpdHk9dGhpcy5zY2hlbWU9bnVsbDt0aGlzLnBhdGg9CiIiO3RoaXMuZnJhZ21lbnQ9dGhpcy5xdWVyeT1udWxsO3RoaXMucGFyc2U9ZnVuY3Rpb24oYSl7YT1hLm1hdGNoKC9eKChbQS1aYS16XVswLTlBLVphLXorLi1dKikoOikpPygoXC9cLykoW15cLz8jXSopKT8oW14/I10qKSgoXD8pKFteI10qKSk/KCgjKSguKikpPy8pO3RoaXMuc2NoZW1lPWFbM10/YVsyXTpudWxsO3RoaXMuYXV0aG9yaXR5PWFbNV0/YVs2XTpudWxsO3RoaXMucGF0aD1hWzddO3RoaXMucXVlcnk9YVs5XT9hWzEwXTpudWxsO3RoaXMuZnJhZ21lbnQ9YVsxMl0/YVsxM106bnVsbDtyZXR1cm4gdGhpc307dGhpcy50b1N0cmluZz1mdW5jdGlvbigpe3ZhciBhPSIiO251bGwhPT10aGlzLnNjaGVtZSYmKGE9YSt0aGlzLnNjaGVtZSsiOiIpO251bGwhPT10aGlzLmF1dGhvcml0eSYmKGE9YSsiLy8iK3RoaXMuYXV0aG9yaXR5KTtudWxsIT09dGhpcy5wYXRoJiYoYSs9dGhpcy5wYXRoKTtudWxsIT09dGhpcy5xdWVyeSYmKGE9YSsiPyIrdGhpcy5xdWVyeSk7bnVsbCE9PQp0aGlzLmZyYWdtZW50JiYoYT1hKyIjIit0aGlzLmZyYWdtZW50KTtyZXR1cm4gYX07dGhpcy50b0Fic29sdXRlPWZ1bmN0aW9uKGEpe2E9bmV3IG14SlNDb2xvci5VUkkoYSk7dmFyIGM9bmV3IG14SlNDb2xvci5VUkk7aWYobnVsbD09PWEuc2NoZW1lKXJldHVybiExO251bGwhPT10aGlzLnNjaGVtZSYmdGhpcy5zY2hlbWUudG9Mb3dlckNhc2UoKT09PWEuc2NoZW1lLnRvTG93ZXJDYXNlKCkmJih0aGlzLnNjaGVtZT1udWxsKTtudWxsIT09dGhpcy5zY2hlbWU/KGMuc2NoZW1lPXRoaXMuc2NoZW1lLGMuYXV0aG9yaXR5PXRoaXMuYXV0aG9yaXR5LGMucGF0aD1iKHRoaXMucGF0aCksYy5xdWVyeT10aGlzLnF1ZXJ5KToobnVsbCE9PXRoaXMuYXV0aG9yaXR5PyhjLmF1dGhvcml0eT10aGlzLmF1dGhvcml0eSxjLnBhdGg9Yih0aGlzLnBhdGgpLGMucXVlcnk9dGhpcy5xdWVyeSk6KCIiPT09dGhpcy5wYXRoPyhjLnBhdGg9YS5wYXRoLGMucXVlcnk9bnVsbCE9PXRoaXMucXVlcnk/dGhpcy5xdWVyeToKYS5xdWVyeSk6KCIvIj09PXRoaXMucGF0aC5zdWJzdHIoMCwxKT9jLnBhdGg9Yih0aGlzLnBhdGgpOihjLnBhdGg9bnVsbCE9PWEuYXV0aG9yaXR5JiYiIj09PWEucGF0aD8iLyIrdGhpcy5wYXRoOmEucGF0aC5yZXBsYWNlKC9bXlwvXSskLywiIikrdGhpcy5wYXRoLGMucGF0aD1iKGMucGF0aCkpLGMucXVlcnk9dGhpcy5xdWVyeSksYy5hdXRob3JpdHk9YS5hdXRob3JpdHkpLGMuc2NoZW1lPWEuc2NoZW1lKTtjLmZyYWdtZW50PXRoaXMuZnJhZ21lbnQ7cmV0dXJuIGN9O2EmJnRoaXMucGFyc2UoYSl9LGNvbG9yOmZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhhLGIsYyl7aWYobnVsbD09PWEpcmV0dXJuW2MsYyxjXTt2YXIgZD1NYXRoLmZsb29yKGEpLGU9YyooMS1iKTthPWMqKDEtYiooZCUyP2EtZDoxLShhLWQpKSk7c3dpdGNoKGQpe2Nhc2UgNjpjYXNlIDA6cmV0dXJuW2MsYSxlXTtjYXNlIDE6cmV0dXJuW2EsYyxlXTtjYXNlIDI6cmV0dXJuW2UsYyxhXTtjYXNlIDM6cmV0dXJuW2UsCmEsY107Y2FzZSA0OnJldHVyblthLGUsY107Y2FzZSA1OnJldHVybltjLGUsYV19fWZ1bmN0aW9uIGQoYixjKXtpZighbXhKU0NvbG9yLnBpY2tlcil7bXhKU0NvbG9yLnBpY2tlcj17Ym94OmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGJveEI6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IikscGFkOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHBhZEI6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IikscGFkTTpkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxzbGQ6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iiksc2xkQjpkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxzbGRNOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGJ0bjpkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxidG5TOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKSxidG5UOmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHIucGlja2VyQ2xvc2VUZXh0KX07Zm9yKHZhciBkPQowO2Q8bXhKU0NvbG9yLmltYWdlcy5zbGRbMV07ZCs9NCl7dmFyIGs9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7ay5zdHlsZS5oZWlnaHQ9IjRweCI7ay5zdHlsZS5mb250U2l6ZT0iMXB4IjtrLnN0eWxlLmxpbmVIZWlnaHQ9IjAiO214SlNDb2xvci5waWNrZXIuc2xkLmFwcGVuZENoaWxkKGspfW14SlNDb2xvci5waWNrZXIuc2xkQi5hcHBlbmRDaGlsZChteEpTQ29sb3IucGlja2VyLnNsZCk7bXhKU0NvbG9yLnBpY2tlci5ib3guYXBwZW5kQ2hpbGQobXhKU0NvbG9yLnBpY2tlci5zbGRCKTtteEpTQ29sb3IucGlja2VyLmJveC5hcHBlbmRDaGlsZChteEpTQ29sb3IucGlja2VyLnNsZE0pO214SlNDb2xvci5waWNrZXIucGFkQi5hcHBlbmRDaGlsZChteEpTQ29sb3IucGlja2VyLnBhZCk7bXhKU0NvbG9yLnBpY2tlci5ib3guYXBwZW5kQ2hpbGQobXhKU0NvbG9yLnBpY2tlci5wYWRCKTtteEpTQ29sb3IucGlja2VyLmJveC5hcHBlbmRDaGlsZChteEpTQ29sb3IucGlja2VyLnBhZE0pOwpteEpTQ29sb3IucGlja2VyLmJ0blMuYXBwZW5kQ2hpbGQobXhKU0NvbG9yLnBpY2tlci5idG5UKTtteEpTQ29sb3IucGlja2VyLmJ0bi5hcHBlbmRDaGlsZChteEpTQ29sb3IucGlja2VyLmJ0blMpO214SlNDb2xvci5waWNrZXIuYm94LmFwcGVuZENoaWxkKG14SlNDb2xvci5waWNrZXIuYnRuKTtteEpTQ29sb3IucGlja2VyLmJveEIuYXBwZW5kQ2hpbGQobXhKU0NvbG9yLnBpY2tlci5ib3gpfXZhciBsPW14SlNDb2xvci5waWNrZXI7bC5ib3gub25tb3VzZXVwPWwuYm94Lm9ubW91c2VvdXQ9ZnVuY3Rpb24oKXtteENsaWVudC5JU19UT1VDSHx8YS5mb2N1cygpfTtsLmJveC5vbm1vdXNlZG93bj1mdW5jdGlvbigpe307bC5ib3gub25tb3VzZW1vdmU9ZnVuY3Rpb24oYSl7aWYoeXx8Qil5JiZtKGEpLEImJm4oYSksZG9jdW1lbnQuc2VsZWN0aW9uP2RvY3VtZW50LnNlbGVjdGlvbi5lbXB0eSgpOndpbmRvdy5nZXRTZWxlY3Rpb24mJndpbmRvdy5nZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKSwKcCgpfTtsLnBhZE0ub25tb3VzZXVwPWwucGFkTS5vbm1vdXNlb3V0PWZ1bmN0aW9uKCl7eSYmKHk9ITEsbXhKU0NvbG9yLmZpcmVFdmVudCh1LCJjaGFuZ2UiKSl9O2wucGFkTS5vbm1vdXNlZG93bj1mdW5jdGlvbihhKXtzd2l0Y2godCl7Y2FzZSAwOjA9PT1yLmhzdlsyXSYmci5mcm9tSFNWKG51bGwsbnVsbCwxKTticmVhaztjYXNlIDE6MD09PXIuaHN2WzFdJiZyLmZyb21IU1YobnVsbCwxLG51bGwpfXk9ITA7bShhKTtwKCl9O2wuc2xkTS5vbm1vdXNldXA9bC5zbGRNLm9ubW91c2VvdXQ9ZnVuY3Rpb24oKXtCJiYoQj0hMSxteEpTQ29sb3IuZmlyZUV2ZW50KHUsImNoYW5nZSIpKX07bC5zbGRNLm9ubW91c2Vkb3duPWZ1bmN0aW9uKGEpe0I9ITA7bihhKTtwKCl9O2Q9ZShyKTtsLmJveC5zdHlsZS53aWR0aD1kWzBdKyJweCI7bC5ib3guc3R5bGUuaGVpZ2h0PWRbMV0rInB4IjtsLmJveEIuc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtsLmJveEIuc3R5bGUuY2xlYXI9ImJvdGgiOwpsLmJveEIuc3R5bGUubGVmdD1iKyJweCI7bC5ib3hCLnN0eWxlLnRvcD1jKyJweCI7bC5ib3hCLnN0eWxlLnpJbmRleD1yLnBpY2tlclpJbmRleDtsLmJveEIuc3R5bGUuYm9yZGVyPXIucGlja2VyQm9yZGVyKyJweCBzb2xpZCI7bC5ib3hCLnN0eWxlLmJvcmRlckNvbG9yPXIucGlja2VyQm9yZGVyQ29sb3I7bC5ib3hCLnN0eWxlLmJhY2tncm91bmQ9ci5waWNrZXJGYWNlQ29sb3I7bC5wYWQuc3R5bGUud2lkdGg9bXhKU0NvbG9yLmltYWdlcy5wYWRbMF0rInB4IjtsLnBhZC5zdHlsZS5oZWlnaHQ9bXhKU0NvbG9yLmltYWdlcy5wYWRbMV0rInB4IjtsLnBhZEIuc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtsLnBhZEIuc3R5bGUubGVmdD1yLnBpY2tlckZhY2UrInB4IjtsLnBhZEIuc3R5bGUudG9wPXIucGlja2VyRmFjZSsicHgiO2wucGFkQi5zdHlsZS5ib3JkZXI9ci5waWNrZXJJbnNldCsicHggc29saWQiO2wucGFkQi5zdHlsZS5ib3JkZXJDb2xvcj1yLnBpY2tlckluc2V0Q29sb3I7CmwucGFkTS5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiO2wucGFkTS5zdHlsZS5sZWZ0PSIwIjtsLnBhZE0uc3R5bGUudG9wPSIwIjtsLnBhZE0uc3R5bGUud2lkdGg9ci5waWNrZXJGYWNlKzIqci5waWNrZXJJbnNldCtteEpTQ29sb3IuaW1hZ2VzLnBhZFswXStteEpTQ29sb3IuaW1hZ2VzLmFycm93WzBdKyJweCI7bC5wYWRNLnN0eWxlLmhlaWdodD1sLmJveC5zdHlsZS5oZWlnaHQ7bC5wYWRNLnN0eWxlLmN1cnNvcj0iY3Jvc3NoYWlyIjtsLnNsZC5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIjtsLnNsZC5zdHlsZS53aWR0aD1teEpTQ29sb3IuaW1hZ2VzLnNsZFswXSsicHgiO2wuc2xkLnN0eWxlLmhlaWdodD1teEpTQ29sb3IuaW1hZ2VzLnNsZFsxXSsicHgiO2wuc2xkQi5zdHlsZS5kaXNwbGF5PXIuc2xpZGVyPyJibG9jayI6Im5vbmUiO2wuc2xkQi5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiO2wuc2xkQi5zdHlsZS5yaWdodD1yLnBpY2tlckZhY2UrInB4IjtsLnNsZEIuc3R5bGUudG9wPQpyLnBpY2tlckZhY2UrInB4IjtsLnNsZEIuc3R5bGUuYm9yZGVyPXIucGlja2VySW5zZXQrInB4IHNvbGlkIjtsLnNsZEIuc3R5bGUuYm9yZGVyQ29sb3I9ci5waWNrZXJJbnNldENvbG9yO2wuc2xkTS5zdHlsZS5kaXNwbGF5PXIuc2xpZGVyPyJibG9jayI6Im5vbmUiO2wuc2xkTS5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiO2wuc2xkTS5zdHlsZS5yaWdodD0iMCI7bC5zbGRNLnN0eWxlLnRvcD0iMCI7bC5zbGRNLnN0eWxlLndpZHRoPW14SlNDb2xvci5pbWFnZXMuc2xkWzBdK214SlNDb2xvci5pbWFnZXMuYXJyb3dbMF0rci5waWNrZXJGYWNlKzIqci5waWNrZXJJbnNldCsicHgiO2wuc2xkTS5zdHlsZS5oZWlnaHQ9bC5ib3guc3R5bGUuaGVpZ2h0O3RyeXtsLnNsZE0uc3R5bGUuY3Vyc29yPSJwb2ludGVyIn1jYXRjaChGKXtsLnNsZE0uc3R5bGUuY3Vyc29yPSJoYW5kIn1sLmJ0bi5zdHlsZS5kaXNwbGF5PXIucGlja2VyQ2xvc2FibGU/ImJsb2NrIjoibm9uZSI7bC5idG4uc3R5bGUucG9zaXRpb249CiJhYnNvbHV0ZSI7bC5idG4uc3R5bGUubGVmdD1yLnBpY2tlckZhY2UrInB4IjtsLmJ0bi5zdHlsZS5ib3R0b209ci5waWNrZXJGYWNlKyJweCI7bC5idG4uc3R5bGUucGFkZGluZz0iMCAxNXB4IjtsLmJ0bi5zdHlsZS5oZWlnaHQ9IjE4cHgiO2wuYnRuLnN0eWxlLmJvcmRlcj1yLnBpY2tlckluc2V0KyJweCBzb2xpZCI7KGZ1bmN0aW9uKCl7dmFyIGE9ci5waWNrZXJJbnNldENvbG9yLnNwbGl0KC9ccysvKTtsLmJ0bi5zdHlsZS5ib3JkZXJDb2xvcj0yPmEubGVuZ3RoP2FbMF06YVsxXSsiICIrYVswXSsiICIrYVswXSsiICIrYVsxXX0pKCk7bC5idG4uc3R5bGUuY29sb3I9ci5waWNrZXJCdXR0b25Db2xvcjtsLmJ0bi5zdHlsZS5mb250PSIxMnB4IHNhbnMtc2VyaWYiO2wuYnRuLnN0eWxlLnRleHRBbGlnbj0iY2VudGVyIjt0cnl7bC5idG4uc3R5bGUuY3Vyc29yPSJwb2ludGVyIn1jYXRjaChGKXtsLmJ0bi5zdHlsZS5jdXJzb3I9ImhhbmQifWwuYnRuLm9ubW91c2Vkb3duPWZ1bmN0aW9uKCl7ci5oaWRlUGlja2VyKCl9OwpsLmJ0blMuc3R5bGUubGluZUhlaWdodD1sLmJ0bi5zdHlsZS5oZWlnaHQ7c3dpdGNoKHQpe2Nhc2UgMDp2YXIgcT0iaHMucG5nIjticmVhaztjYXNlIDE6cT0iaHYucG5nIn1sLnBhZE0uc3R5bGUuYmFja2dyb3VuZEltYWdlPSJ1cmwoZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoRHdBUEFLRUJBQUFBQVAvLy8vLy8vLy8vL3lINUJBRUtBQUlBTEFBQUFBQVBBQThBQUFJa2xCOFF4NTNiNG90U1VXY3Z5aXo0LzRBZVFKYm1LWTRwMUhIYXBCbHdQTC91VlJzRkFEcz0pIjtsLnBhZE0uc3R5bGUuYmFja2dyb3VuZFJlcGVhdD0ibm8tcmVwZWF0IjtsLnNsZE0uc3R5bGUuYmFja2dyb3VuZEltYWdlPSJ1cmwoZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQndBTEFLRUNBQUFBQVAvLy82ZzhlS2c4ZUNINUJBRUtBQUlBTEFBQUFBQUhBQXNBQUFJVFRJUVljTG5zZ0d4dmlqcnhxZFFxNkRSSkFRQTcpIjtsLnNsZE0uc3R5bGUuYmFja2dyb3VuZFJlcGVhdD0ibm8tcmVwZWF0IjsKbC5wYWQuc3R5bGUuYmFja2dyb3VuZEltYWdlPSJ1cmwoJyIrbXhKU0NvbG9yLmdldERpcigpK3ErIicpIjtsLnBhZC5zdHlsZS5iYWNrZ3JvdW5kUmVwZWF0PSJuby1yZXBlYXQiO2wucGFkLnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbj0iMCAwIjtmKCk7ZygpO214SlNDb2xvci5waWNrZXIub3duZXI9cjtkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYm9keSIpWzBdLmFwcGVuZENoaWxkKGwuYm94Qil9ZnVuY3Rpb24gZShhKXtyZXR1cm5bMiphLnBpY2tlckluc2V0KzIqYS5waWNrZXJGYWNlK214SlNDb2xvci5pbWFnZXMucGFkWzBdKyhhLnNsaWRlcj8yKmEucGlja2VySW5zZXQrMipteEpTQ29sb3IuaW1hZ2VzLmFycm93WzBdK214SlNDb2xvci5pbWFnZXMuc2xkWzBdOjApLGEucGlja2VyQ2xvc2FibGU/NCphLnBpY2tlckluc2V0KzMqYS5waWNrZXJGYWNlK214SlNDb2xvci5pbWFnZXMucGFkWzFdK2EucGlja2VyQnV0dG9uSGVpZ2h0OjIqYS5waWNrZXJJbnNldCsyKgphLnBpY2tlckZhY2UrbXhKU0NvbG9yLmltYWdlcy5wYWRbMV1dfWZ1bmN0aW9uIGYoKXtzd2l0Y2godCl7Y2FzZSAwOnZhciBhPTE7YnJlYWs7Y2FzZSAxOmE9Mn1teEpTQ29sb3IucGlja2VyLnBhZE0uc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uPXIucGlja2VyRmFjZStyLnBpY2tlckluc2V0K01hdGgucm91bmQoci5oc3ZbMF0vNioobXhKU0NvbG9yLmltYWdlcy5wYWRbMF0tMSkpLU1hdGguZmxvb3IobXhKU0NvbG9yLmltYWdlcy5jcm9zc1swXS8yKSsicHggIisoci5waWNrZXJGYWNlK3IucGlja2VySW5zZXQrTWF0aC5yb3VuZCgoMS1yLmhzdlthXSkqKG14SlNDb2xvci5pbWFnZXMucGFkWzFdLTEpKS1NYXRoLmZsb29yKG14SlNDb2xvci5pbWFnZXMuY3Jvc3NbMV0vMikpKyJweCI7YT1teEpTQ29sb3IucGlja2VyLnNsZC5jaGlsZE5vZGVzO3N3aXRjaCh0KXtjYXNlIDA6Zm9yKHZhciBiPWMoci5oc3ZbMF0sci5oc3ZbMV0sMSksZD0wO2Q8YS5sZW5ndGg7ZCs9MSlhW2RdLnN0eWxlLmJhY2tncm91bmRDb2xvcj0KInJnYigiK2JbMF0qKDEtZC9hLmxlbmd0aCkqMTAwKyIlLCIrYlsxXSooMS1kL2EubGVuZ3RoKSoxMDArIiUsIitiWzJdKigxLWQvYS5sZW5ndGgpKjEwMCsiJSkiO2JyZWFrO2Nhc2UgMTp2YXIgZSxmPVtyLmhzdlsyXSwwLDBdLGQ9TWF0aC5mbG9vcihyLmhzdlswXSksZz1kJTI/ci5oc3ZbMF0tZDoxLShyLmhzdlswXS1kKTtzd2l0Y2goZCl7Y2FzZSA2OmNhc2UgMDpiPVswLDEsMl07YnJlYWs7Y2FzZSAxOmI9WzEsMCwyXTticmVhaztjYXNlIDI6Yj1bMiwwLDFdO2JyZWFrO2Nhc2UgMzpiPVsyLDEsMF07YnJlYWs7Y2FzZSA0OmI9WzEsMiwwXTticmVhaztjYXNlIDU6Yj1bMCwyLDFdfWZvcihkPTA7ZDxhLmxlbmd0aDtkKz0xKWU9MS0xLyhhLmxlbmd0aC0xKSpkLGZbMV09ZlswXSooMS1lKmcpLGZbMl09ZlswXSooMS1lKSxhW2RdLnN0eWxlLmJhY2tncm91bmRDb2xvcj0icmdiKCIrMTAwKmZbYlswXV0rIiUsIisxMDAqZltiWzFdXSsiJSwiKzEwMCpmW2JbMl1dKyIlKSJ9fWZ1bmN0aW9uIGcoKXtzd2l0Y2godCl7Y2FzZSAwOnZhciBhPQoyO2JyZWFrO2Nhc2UgMTphPTF9bXhKU0NvbG9yLnBpY2tlci5zbGRNLnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbj0iMCAiKyhyLnBpY2tlckZhY2Urci5waWNrZXJJbnNldCtNYXRoLnJvdW5kKCgxLXIuaHN2W2FdKSoobXhKU0NvbG9yLmltYWdlcy5zbGRbMV0tMSkpLU1hdGguZmxvb3IobXhKU0NvbG9yLmltYWdlcy5hcnJvd1sxXS8yKSkrInB4In1mdW5jdGlvbiBrKCl7cmV0dXJuIG14SlNDb2xvci5waWNrZXImJm14SlNDb2xvci5waWNrZXIub3duZXI9PT1yfWZ1bmN0aW9uIGwoKXt1IT09YSYmci5pbXBvcnRDb2xvcigpfWZ1bmN0aW9uIG0oYSl7dmFyIGI9bXhKU0NvbG9yLmdldFJlbE1vdXNlUG9zKGEpO2E9Yi54LXIucGlja2VyRmFjZS1yLnBpY2tlckluc2V0O2I9Yi55LXIucGlja2VyRmFjZS1yLnBpY2tlckluc2V0O3N3aXRjaCh0KXtjYXNlIDA6ci5mcm9tSFNWKDYvKG14SlNDb2xvci5pbWFnZXMucGFkWzBdLTEpKmEsMS1iLyhteEpTQ29sb3IuaW1hZ2VzLnBhZFsxXS0KMSksbnVsbCx2KTticmVhaztjYXNlIDE6ci5mcm9tSFNWKDYvKG14SlNDb2xvci5pbWFnZXMucGFkWzBdLTEpKmEsbnVsbCwxLWIvKG14SlNDb2xvci5pbWFnZXMucGFkWzFdLTEpLHYpfX1mdW5jdGlvbiBuKGEpe2E9bXhKU0NvbG9yLmdldFJlbE1vdXNlUG9zKGEpLnktci5waWNrZXJGYWNlLXIucGlja2VySW5zZXQ7c3dpdGNoKHQpe2Nhc2UgMDpyLmZyb21IU1YobnVsbCxudWxsLDEtYS8obXhKU0NvbG9yLmltYWdlcy5zbGRbMV0tMSksQyk7YnJlYWs7Y2FzZSAxOnIuZnJvbUhTVihudWxsLDEtYS8obXhKU0NvbG9yLmltYWdlcy5zbGRbMV0tMSksbnVsbCxDKX19ZnVuY3Rpb24gcCgpe2lmKHIub25JbW1lZGlhdGVDaGFuZ2UpaWYoInN0cmluZyI9PT10eXBlb2Ygci5vbkltbWVkaWF0ZUNoYW5nZSlldmFsKHIub25JbW1lZGlhdGVDaGFuZ2UpO2Vsc2Ugci5vbkltbWVkaWF0ZUNoYW5nZShyKX10aGlzLmFkanVzdD10aGlzLnJlcXVpcmVkPSEwO3RoaXMuaGFzaD0hMTt0aGlzLnNsaWRlcj0KdGhpcy5jYXBzPSEwO3RoaXMuc3R5bGVFbGVtZW50PXRoaXMudmFsdWVFbGVtZW50PWE7dGhpcy5vbkltbWVkaWF0ZUNoYW5nZT1udWxsO3RoaXMuaHN2PVswLDAsMV07dGhpcy5yZ2I9WzEsMSwxXTt0aGlzLnBpY2tlck9uZm9jdXM9ITA7dGhpcy5waWNrZXJNb2RlPSJIU1YiO3RoaXMucGlja2VyUG9zaXRpb249ImJvdHRvbSI7dGhpcy5waWNrZXJTbWFydFBvc2l0aW9uPSEwO3RoaXMucGlja2VyQnV0dG9uSGVpZ2h0PTIwO3RoaXMucGlja2VyQ2xvc2FibGU9ITE7dGhpcy5waWNrZXJDbG9zZVRleHQ9IkNsb3NlIjt0aGlzLnBpY2tlckJ1dHRvbkNvbG9yPSJCdXR0b25UZXh0Ijt0aGlzLnBpY2tlckZhY2U9MDt0aGlzLnBpY2tlckZhY2VDb2xvcj0iVGhyZWVERmFjZSI7dGhpcy5waWNrZXJCb3JkZXI9MTt0aGlzLnBpY2tlckJvcmRlckNvbG9yPSJUaHJlZURIaWdobGlnaHQgVGhyZWVEU2hhZG93IFRocmVlRFNoYWRvdyBUaHJlZURIaWdobGlnaHQiO3RoaXMucGlja2VySW5zZXQ9CjE7dGhpcy5waWNrZXJJbnNldENvbG9yPSJUaHJlZURTaGFkb3cgVGhyZWVESGlnaGxpZ2h0IFRocmVlREhpZ2hsaWdodCBUaHJlZURTaGFkb3ciO3RoaXMucGlja2VyWkluZGV4PTFFNDtmb3IodmFyIHEgaW4gYiliLmhhc093blByb3BlcnR5KHEpJiYodGhpc1txXT1iW3FdKTt0aGlzLmhpZGVQaWNrZXI9ZnVuY3Rpb24oKXtrKCkmJihkZWxldGUgbXhKU0NvbG9yLnBpY2tlci5vd25lcixkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYm9keSIpWzBdLnJlbW92ZUNoaWxkKG14SlNDb2xvci5waWNrZXIuYm94QikpfTt0aGlzLnNob3dQaWNrZXI9ZnVuY3Rpb24oKXtrKCl8fChteEpTQ29sb3IuZ2V0RWxlbWVudFBvcyhhKSxteEpTQ29sb3IuZ2V0RWxlbWVudFNpemUoYSksbXhKU0NvbG9yLmdldFZpZXdQb3MoKSxteEpTQ29sb3IuZ2V0Vmlld1NpemUoKSxlKHRoaXMpLHRoaXMucGlja2VyUG9zaXRpb24udG9Mb3dlckNhc2UoKSxkKDAsMCkpfTt0aGlzLmltcG9ydENvbG9yPQpmdW5jdGlvbigpe3U/dGhpcy5hZGp1c3Q/IXRoaXMucmVxdWlyZWQmJi9eXHMqJC8udGVzdCh1LnZhbHVlKT8odS52YWx1ZT0iIix4LnN0eWxlLmJhY2tncm91bmRJbWFnZT14LmpzY1N0eWxlLmJhY2tncm91bmRJbWFnZSx4LnN0eWxlLmJhY2tncm91bmRDb2xvcj14LmpzY1N0eWxlLmJhY2tncm91bmRDb2xvcix4LnN0eWxlLmNvbG9yPXguanNjU3R5bGUuY29sb3IsdGhpcy5leHBvcnRDb2xvcihBfHopKTp0aGlzLmZyb21TdHJpbmcodS52YWx1ZSl8fHRoaXMuZXhwb3J0Q29sb3IoKTp0aGlzLmZyb21TdHJpbmcodS52YWx1ZSxBKXx8KHguc3R5bGUuYmFja2dyb3VuZEltYWdlPXguanNjU3R5bGUuYmFja2dyb3VuZEltYWdlLHguc3R5bGUuYmFja2dyb3VuZENvbG9yPXguanNjU3R5bGUuYmFja2dyb3VuZENvbG9yLHguc3R5bGUuY29sb3I9eC5qc2NTdHlsZS5jb2xvcix0aGlzLmV4cG9ydENvbG9yKEF8eikpOnRoaXMuZXhwb3J0Q29sb3IoKX07dGhpcy5leHBvcnRDb2xvcj1mdW5jdGlvbihhKXtpZighKGEmCkEpJiZ1KXt2YXIgYj10aGlzLnRvU3RyaW5nKCk7dGhpcy5jYXBzJiYoYj1iLnRvVXBwZXJDYXNlKCkpO3RoaXMuaGFzaCYmKGI9IiMiK2IpO3UudmFsdWU9Yn1hJnp8fCF4fHwoeC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9Im5vbmUiLHguc3R5bGUuYmFja2dyb3VuZENvbG9yPSIjIit0aGlzLnRvU3RyaW5nKCkseC5zdHlsZS5jb2xvcj0uNT4uMjEzKnRoaXMucmdiWzBdKy43MTUqdGhpcy5yZ2JbMV0rLjA3Mip0aGlzLnJnYlsyXT8iI0ZGRiI6IiMwMDAiKTthJkN8fCFrKCl8fGYoKTthJnZ8fCFrKCl8fGcoKX07dGhpcy5mcm9tSFNWPWZ1bmN0aW9uKGEsYixkLGUpezA+YSYmKGE9MCk7NjxhJiYoYT02KTswPmImJihiPTApOzE8YiYmKGI9MSk7MD5kJiYoZD0wKTsxPGQmJihkPTEpO3RoaXMucmdiPWMobnVsbD09PWE/dGhpcy5oc3ZbMF06dGhpcy5oc3ZbMF09YSxudWxsPT09Yj90aGlzLmhzdlsxXTp0aGlzLmhzdlsxXT1iLG51bGw9PT1kP3RoaXMuaHN2WzJdOnRoaXMuaHN2WzJdPQpkKTt0aGlzLmV4cG9ydENvbG9yKGUpfTt0aGlzLmZyb21SR0I9ZnVuY3Rpb24oYSxiLGMsZCl7MD5hJiYoYT0wKTsxPGEmJihhPTEpOzA+YiYmKGI9MCk7MTxiJiYoYj0xKTswPmMmJihjPTApOzE8YyYmKGM9MSk7YT1udWxsPT09YT90aGlzLnJnYlswXTp0aGlzLnJnYlswXT1hO2I9bnVsbD09PWI/dGhpcy5yZ2JbMV06dGhpcy5yZ2JbMV09Yjt2YXIgZT1udWxsPT09Yz90aGlzLnJnYlsyXTp0aGlzLnJnYlsyXT1jLGY9TWF0aC5taW4oTWF0aC5taW4oYSxiKSxlKTtjPU1hdGgubWF4KE1hdGgubWF4KGEsYiksZSk7dmFyIGc9Yy1mOzA9PT1nP2E9W251bGwsMCxjXTooYT1hPT09Zj8zKyhlLWIpL2c6Yj09PWY/NSsoYS1lKS9nOjErKGItYSkvZyxhPVs2PT09YT8wOmEsZy9jLGNdKTtudWxsIT09YVswXSYmKHRoaXMuaHN2WzBdPWFbMF0pOzAhPT1hWzJdJiYodGhpcy5oc3ZbMV09YVsxXSk7dGhpcy5oc3ZbMl09YVsyXTt0aGlzLmV4cG9ydENvbG9yKGQpfTt0aGlzLmZyb21TdHJpbmc9CmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5tYXRjaCgvXlxXKihbMC05QS1GXXszfShbMC05QS1GXXszfSk/KVxXKiQvaSk7cmV0dXJuIGM/KDY9PT1jWzFdLmxlbmd0aD90aGlzLmZyb21SR0IocGFyc2VJbnQoY1sxXS5zdWJzdHIoMCwyKSwxNikvMjU1LHBhcnNlSW50KGNbMV0uc3Vic3RyKDIsMiksMTYpLzI1NSxwYXJzZUludChjWzFdLnN1YnN0cig0LDIpLDE2KS8yNTUsYik6dGhpcy5mcm9tUkdCKHBhcnNlSW50KGNbMV0uY2hhckF0KDApK2NbMV0uY2hhckF0KDApLDE2KS8yNTUscGFyc2VJbnQoY1sxXS5jaGFyQXQoMSkrY1sxXS5jaGFyQXQoMSksMTYpLzI1NSxwYXJzZUludChjWzFdLmNoYXJBdCgyKStjWzFdLmNoYXJBdCgyKSwxNikvMjU1LGIpLCEwKTohMX07dGhpcy50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybigyNTZ8TWF0aC5yb3VuZCgyNTUqdGhpcy5yZ2JbMF0pKS50b1N0cmluZygxNikuc3Vic3RyKDEpKygyNTZ8TWF0aC5yb3VuZCgyNTUqdGhpcy5yZ2JbMV0pKS50b1N0cmluZygxNikuc3Vic3RyKDEpKwooMjU2fE1hdGgucm91bmQoMjU1KnRoaXMucmdiWzJdKSkudG9TdHJpbmcoMTYpLnN1YnN0cigxKX07dmFyIHI9dGhpcyx0PSJodnMiPT09dGhpcy5waWNrZXJNb2RlLnRvTG93ZXJDYXNlKCk/MTowLHU9bXhKU0NvbG9yLmZldGNoRWxlbWVudCh0aGlzLnZhbHVlRWxlbWVudCkseD1teEpTQ29sb3IuZmV0Y2hFbGVtZW50KHRoaXMuc3R5bGVFbGVtZW50KSx5PSExLEI9ITEsQT0xLHo9MixDPTQsdj04O3UmJihxPWZ1bmN0aW9uKCl7ci5mcm9tU3RyaW5nKHUudmFsdWUsQSk7cCgpfSxteEpTQ29sb3IuYWRkRXZlbnQodSwia2V5dXAiLHEpLG14SlNDb2xvci5hZGRFdmVudCh1LCJpbnB1dCIscSksbXhKU0NvbG9yLmFkZEV2ZW50KHUsImJsdXIiLGwpLHUuc2V0QXR0cmlidXRlKCJhdXRvY29tcGxldGUiLCJvZmYiKSk7eCYmKHguanNjU3R5bGU9e2JhY2tncm91bmRJbWFnZTp4LnN0eWxlLmJhY2tncm91bmRJbWFnZSxiYWNrZ3JvdW5kQ29sb3I6eC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IsCmNvbG9yOnguc3R5bGUuY29sb3J9KTtzd2l0Y2godCl7Y2FzZSAwOm14SlNDb2xvci5yZXF1aXJlSW1hZ2UoImhzLnBuZyIpO2JyZWFrO2Nhc2UgMTpteEpTQ29sb3IucmVxdWlyZUltYWdlKCJodi5wbmciKX10aGlzLmltcG9ydENvbG9yKCl9fTtteEpTQ29sb3IuaW5zdGFsbCgpOwpFZGl0b3I9ZnVuY3Rpb24oYSxjLGYsZCxtKXtteEV2ZW50U291cmNlLmNhbGwodGhpcyk7dGhpcy5jaHJvbWVsZXNzPW51bGwhPWE/YTp0aGlzLmNocm9tZWxlc3M7dGhpcy5pbml0U3RlbmNpbFJlZ2lzdHJ5KCk7dGhpcy5ncmFwaD1kfHx0aGlzLmNyZWF0ZUdyYXBoKGMsZik7dGhpcy5lZGl0YWJsZT1udWxsIT1tP206IWE7dGhpcy51bmRvTWFuYWdlcj10aGlzLmNyZWF0ZVVuZG9NYW5hZ2VyKCk7dGhpcy5zdGF0dXM9IiI7dGhpcy5nZXRPckNyZWF0ZUZpbGVuYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmlsZW5hbWV8fG14UmVzb3VyY2VzLmdldCgiZHJhd2luZyIsW0VkaXRvci5wYWdlQ291bnRlcl0pKyIueG1sIn07dGhpcy5nZXRGaWxlbmFtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZpbGVuYW1lfTt0aGlzLnNldFN0YXR1cz1mdW5jdGlvbihhKXt0aGlzLnN0YXR1cz1hO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJzdGF0dXNDaGFuZ2VkIikpfTt0aGlzLmdldFN0YXR1cz0KZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0dXN9O3RoaXMuZ3JhcGhDaGFuZ2VMaXN0ZW5lcj1mdW5jdGlvbihhLGQpe3ZhciBiPW51bGwhPWQ/ZC5nZXRQcm9wZXJ0eSgiZWRpdCIpOm51bGw7bnVsbCE9YiYmYi5pZ25vcmVFZGl0fHx0aGlzLnNldE1vZGlmaWVkKCEwKX07dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmFkZExpc3RlbmVyKG14RXZlbnQuQ0hBTkdFLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5ncmFwaENoYW5nZUxpc3RlbmVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pKTt0aGlzLmdyYXBoLnJlc2V0Vmlld09uUm9vdENoYW5nZT0hMTt0aGlzLmluaXQoKX07RWRpdG9yLnBhZ2VDb3VudGVyPTA7CihmdW5jdGlvbigpe3RyeXtmb3IodmFyIGE9d2luZG93O251bGwhPWEub3BlbmVyJiYidW5kZWZpbmVkIiE9PXR5cGVvZiBhLm9wZW5lci5FZGl0b3ImJiFpc05hTihhLm9wZW5lci5FZGl0b3IucGFnZUNvdW50ZXIpJiZhLm9wZW5lciE9YTspYT1hLm9wZW5lcjtudWxsIT1hJiYoYS5FZGl0b3IucGFnZUNvdW50ZXIrKyxFZGl0b3IucGFnZUNvdW50ZXI9YS5FZGl0b3IucGFnZUNvdW50ZXIpfWNhdGNoKGMpe319KSgpO0VkaXRvci51c2VMb2NhbFN0b3JhZ2U9InVuZGVmaW5lZCIhPXR5cGVvZiBTdG9yYWdlJiZteENsaWVudC5JU19JT1M7CkVkaXRvci5tb3ZlSW1hZ2U9bXhDbGllbnQuSVNfU1ZHPyJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSFpwWlhkQ2IzZzlJakFnTUNBeU5DQXlOQ0lnZDJsa2RHZzlJakk0Y0hnaUlHaGxhV2RvZEQwaU1qaHdlQ0krUEdjK1BDOW5QanhuUGp4blBqeG5Qanh3WVhSb0lIUnlZVzV6Wm05eWJUMGlkSEpoYm5Oc1lYUmxLREl1TkN3eUxqUXBjMk5oYkdVb01DNDRLWEp2ZEdGMFpTZzBOU3d4TWl3eE1pa2lJSE4wY205clpUMGlJekk1WWpabU1pSWdabWxzYkQwaUl6STVZalptTWlJZ1pEMGlUVEUxTEROc01pNHpMREl1TTJ3dE1pNDRPU3d5TGpnM2JERXVORElzTVM0ME1rd3hPQzQzTERZdU4wd3lNU3c1VmpOSU1UVjZJRTB6TERsc01pNHpMVEl1TTJ3eUxqZzNMREl1T0Rsc01TNDBNaTB4TGpReVREWXVOeXcxTGpOTU9Td3pTRE5XT1hvZ1RUa3NNakVnYkMweUxqTXRNaTR6YkRJdU9Ea3RNaTQ0TjJ3dE1TNDBNaTB4TGpReVREVXVNeXd4Tnk0elRETXNNVFYyTmtnNWVpQk5NakVzTVRWc0xUSXVNeXd5TGpOc0xUSXVPRGN0TWk0NE9Xd3RNUzQwTWl3eExqUXliREl1T0Rrc01pNDROMHd4TlN3eU1XZzJWakUxZWlJdlBqd3ZaejQ4TDJjK1BDOW5Qand2YzNablBnbz0iOklNQUdFX1BBVEgrCiIvbW92ZS5wbmciO0VkaXRvci5yb3dNb3ZlSW1hZ2U9bXhDbGllbnQuSVNfU1ZHPyJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFjQUFBQUVCQU1BQUFDdzZEaE9BQUFBR0ZCTVZFVXpNelAvLy85dGJXMVFVRkNLaW9wQlFVRjhmSHhmWDEvSVhsbVhBQUFBRkVsRVFWUUltV05nTlZkellCQVVGQlJnZ0xNQUV6WUJ5MjlrRVBnQUFBQUFTVVZPUks1Q1lJST0iOklNQUdFX1BBVEgrIi90aHVtYl9ob3J6LnBuZyI7CkVkaXRvci5oZWxwSW1hZ2U9bXhDbGllbnQuSVNfU1ZHPyJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSXlOQ0lnYUdWcFoyaDBQU0l5TkNJZ2RtbGxkMEp2ZUQwaU1DQXdJREkwSURJMElqNDhjR0YwYUNCbWFXeHNQU0p1YjI1bElpQmtQU0pOTUNBd2FESTBkakkwU0RCNklpOCtQSEJoZEdnZ1pEMGlUVEV4SURFNGFESjJMVEpvTFRKMk1ucHRNUzB4TmtNMkxqUTRJRElnTWlBMkxqUTRJRElnTVRKek5DNDBPQ0F4TUNBeE1DQXhNQ0F4TUMwMExqUTRJREV3TFRFd1V6RTNMalV5SURJZ01USWdNbnB0TUNBeE9HTXROQzQwTVNBd0xUZ3RNeTQxT1MwNExUaHpNeTQxT1MwNElEZ3RPQ0E0SURNdU5Ua2dPQ0E0TFRNdU5Ua2dPQzA0SURoNmJUQXRNVFJqTFRJdU1qRWdNQzAwSURFdU56a3ROQ0EwYURKak1DMHhMakV1T1MweUlESXRNbk15SUM0NUlESWdNbU13SURJdE15QXhMamMxTFRNZ05XZ3lZekF0TWk0eU5TQXpMVEl1TlNBekxUVWdNQzB5TGpJeExURXVOemt0TkMwMExUUjZJaTgrUEM5emRtYysiOklNQUdFX1BBVEgrCiIvaGVscC5wbmciOwpFZGl0b3IuY2hlY2ttYXJrSW1hZ2U9bXhDbGllbnQuSVNfU1ZHPyJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhGUUFWQU1RZkFHeHNiSHg4ZklxS2lvYUdodmIyOW5KeWN2cjYrc0RBd0pxYW1sdGJXNU9UaytucDZZR0JnZVRrNUx5OHZKaVltUDM5L2ZMeThxV2xwYTZ1cnNqSXlPTGk0dmo0K04vZjMrM3Q3ZlQwOUxDd3NIWjJkdWJtNXI2K3ZtWm1adi8vL3lIL0MxaE5VQ0JFWVhSaFdFMVFQRDk0Y0dGamEyVjBJR0psWjJsdVBTTHZ1NzhpSUdsa1BTSlhOVTB3VFhCRFpXaHBTSHB5WlZONlRsUmplbXRqT1dRaVB6NGdQSGc2ZUcxd2JXVjBZU0I0Yld4dWN6cDRQU0poWkc5aVpUcHVjenB0WlhSaEx5SWdlRHA0YlhCMGF6MGlRV1J2WW1VZ1dFMVFJRU52Y21VZ05TNHdMV013TmpBZ05qRXVNVE0wTnpjM0xDQXlNREV3THpBeUx6RXlMVEUzT2pNeU9qQXdJQ0FnSUNBZ0lDQWlQaUE4Y21SbU9sSkVSaUI0Yld4dWN6cHlaR1k5SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpFNU9Ua3ZNREl2TWpJdGNtUm1MWE41Ym5SaGVDMXVjeU1pUGlBOGNtUm1Pa1JsYzJOeWFYQjBhVzl1SUhKa1pqcGhZbTkxZEQwaUlpQjRiV3h1Y3pwNGJYQTlJbWgwZEhBNkx5OXVjeTVoWkc5aVpTNWpiMjB2ZUdGd0x6RXVNQzhpSUhodGJHNXpPbmh0Y0UxTlBTSm9kSFJ3T2k4dmJuTXVZV1J2WW1VdVkyOXRMM2hoY0M4eExqQXZiVzB2SWlCNGJXeHVjenB6ZEZKbFpqMGlhSFIwY0RvdkwyNXpMbUZrYjJKbExtTnZiUzk0WVhBdk1TNHdMM05VZVhCbEwxSmxjMjkxY21ObFVtVm1JeUlnZUcxd09rTnlaV0YwYjNKVWIyOXNQU0pCWkc5aVpTQlFhRzkwYjNOb2IzQWdRMU0xSUZkcGJtUnZkM01pSUhodGNFMU5Pa2x1YzNSaGJtTmxTVVE5SW5odGNDNXBhV1E2T0VZNE5UWkVSVFE1UVVGQk1URkZNVUU1TVRWRE9UTTVNVVpHTVRFM00wUWlJSGh0Y0UxTk9rUnZZM1Z0Wlc1MFNVUTlJbmh0Y0M1a2FXUTZPRVk0TlRaRVJUVTVRVUZCTVRGRk1VRTVNVFZET1RNNU1VWkdNVEUzTTBRaVBpQThlRzF3VFUwNlJHVnlhWFpsWkVaeWIyMGdjM1JTWldZNmFXNXpkR0Z1WTJWSlJEMGllRzF3TG1scFpEbzRSamcxTmtSRk1qbEJRVUV4TVVVeFFUa3hOVU01TXpreFJrWXhNVGN6UkNJZ2MzUlNaV1k2Wkc5amRXMWxiblJKUkQwaWVHMXdMbVJwWkRvNFJqZzFOa1JGTXpsQlFVRXhNVVV4UVRreE5VTTVNemt4UmtZeE1UY3pSQ0l2UGlBOEwzSmtaanBFWlhOamNtbHdkR2x2Ymo0Z1BDOXlaR1k2VWtSR1BpQThMM2c2ZUcxd2JXVjBZVDRnUEQ5NGNHRmphMlYwSUdWdVpEMGljaUkvUGdILy92MzgrL3I1K1BmMjlmVHo4dkh3Nys3dDdPdnE2ZWpuNXVYazQrTGg0Ti9lM2R6YjJ0blkxOWJWMU5QUzBkRFB6czNNeThySnlNZkd4Y1REd3NIQXY3Njl2THU2dWJpM3RyVzBzN0t4c0srdXJheXJxcW1vcDZhbHBLT2lvYUNmbnAyY201cVptSmVXbFpTVGtwR1FqNDZOakl1S2lZaUhob1dFZzRLQmdIOStmWHg3ZW5sNGQzWjFkSE55Y1hCdmJtMXNhMnBwYUdkbVpXUmpZbUZnWDE1ZFhGdGFXVmhYVmxWVVUxSlJVRTlPVFV4TFNrbElSMFpGUkVOQ1FVQS9QajA4T3pvNU9EYzJOVFF6TWpFd0x5NHRMQ3NxS1NnbkppVWtJeUloSUI4ZUhSd2JHaGtZRnhZVkZCTVNFUkFQRGcwTUN3b0pDQWNHQlFRREFnRUFBQ0g1QkFFQUFCOEFMQUFBQUFBVkFCVUFBQVZJNENlT1pHbWVhS3F1Ykt0eWxrdFNnQ09MUnlMZDMrUUpFSm5oNFZIY01vT2ZZUVhRTEJjQkQ0UEE2bmdHbElJbkVIRWhQT0FOUmthSUZocThTdUhDRTFIYjhMaDhMZ3NCQURzPSI6SU1BR0VfUEFUSCsKIi9jaGVja21hcmsuZ2lmIjtFZGl0b3IubWF4aW1pemVJbWFnZT0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCVUFBQUFWQkFNQUFBQmJPYmlsQUFBQUVsQk1WRVVBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQURnS3htaUFBQUFCWFJTVGxNQTc1OHZYMVB3M0JvQUFBQkpTVVJCVkFqWFk4QUpRa09ER0JoVVEwTWhiQVVHQmlZWTI0Q0JnUm5HRm1aZ01JU3dnd3dER1JoRWhWVkJiQVZtRVFZR1J3TW1CaklBUWkvQ1RJUmQ2RzVBdUEzZHpZUUJBSGowRUZkSGt2VjRBQUFBQUVsRlRrU3VRbUNDIjtFZGl0b3Iuem9vbU91dEltYWdlPSJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJVQUFBQVZCQU1BQUFCYk9iaWxBQUFBRWxCTVZFVUFBQUFBQUFBc0xDeHhjWEVoSVNGZ1lHQ2hqVFV4QUFBQUFYUlNUbE1BUU9iWVpnQUFBRWRKUkVGVUNOZGpJQU13Q1FyQjJZS0NnZ0pRSnFNd0E3TWdsSzFvd01CZ3FBQlZBcElUZ0xKWlhGeGdiSVE0UWozQ0hJVDVnZ29JZTVrZ05rTTFLU0RZS0JLcXhQa0RBUG81QkFaQkU1NGhBQUFBQUVsRlRrU3VRbUNDIjsKRWRpdG9yLnpvb21JbkltYWdlPSJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJVQUFBQVZCQU1BQUFCYk9iaWxBQUFBRWxCTVZFVUFBQUFBQUFBc0xDd2hJU0Z4Y1hGZ1lHQmF2S2FvQUFBQUFYUlNUbE1BUU9iWVpnQUFBRWxKUkVGVUNOZGpJQU13Q1FyQjJZS0NnZ0pRSnFNSUE0c2dsSzNvd016Z3FBQlZ3c0RNd0NnQVpUTWJHOFBZQ0hHRWVvUTVDUE1GRlJEMk1rRnNobXBTUUxCUkpGU0o4d2NBRXFjRU0ydWhsMk1BQUFBQVNVVk9SSzVDWUlJPSI7RWRpdG9yLnpvb21GaXRJbWFnZT0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCVUFBQUFWQkFNQUFBQmJPYmlsQUFBQUQxQk1WRVVBQUFBQUFBQXdNREJ3Y0hCZ1lHQzF4bDA5QUFBQUFYUlNUbE1BUU9iWVpnQUFBRUZKUkVGVUNOZGpJQU13Q1FyQjJZS0NnZ0pRSnFNd0E3TWdsSzFvd01CZ3FBQlZBcElUd01kR3FFZVlnekJmVUFGaEx4UEVacWdtQlFRYlJVS0ZPSDhBQUs1T0EzbEErRkZPQUFBQUFFbEZUa1N1UW1DQyI7CkVkaXRvci5sYXllcnNJbWFnZT0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCVUFBQUFWQ0FNQUFBQ2V5VldrQUFBQWFWQk1WRVVBQUFBZ0lDQUlDQWdkSFIwUER3OFdGaFlJQ0FnTEN3c1hGeGN2THk4T0RnNHVMaTRpSWlJcUtpb2tKQ1FZR0JnS0Nnb25KeWNGQlFVQ0FnSXFLaW9jSEJ3Y0hCd09EZzRlSGg0Y0hCd25KeWNKQ1FrVUZCUXFLaW9qSXlNdUxpNFpHUmtnSUNBRUJBVE9XWVhBQUFBQUduUlNUbE1BRDcrZm56OC9INy9mZjE4Lzc3K3ZyNStmbjM5L2IyOGZIMnhTb0tzQUFBQ1FTVVJCVkJqVHJZeEpFc01nREFSWlpNQVk3M3NnQ2NuL0h4bmhLdG5rN2o2b1JxMHBzZnVveW5kWi9TdU9Ea0hQTHpmVlQ2S2V5UGVQbko3S3Jua1JqV01YVG40U01uTjhtWGUyU1NNM3RzOEwvWlV4eHJiQVVMU1lKSlVMRTBJdzlwanBlbm9JQ2NnY1g2MW1HZ1RndEN2OUJlOTlwekNvRGhOUVdRbmNoRDFtdXA1KytDWUdjb1FleGFqWmJmd0FqLzBNRDhaT2FVZ0FBQUFBU1VWT1JLNUNZSUk9IjsKRWRpdG9yLnByZXZpb3VzSW1hZ2U9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQlFBQUFBVUNBWUFBQUNOaVIwTkFBQUFCbUpMUjBRQS93RC9BUCtndmFlVEFBQUFoMGxFUVZRNGplM1VzUW5DVUJDQTRVOGhwYTFOc29FanBIUUpTMGR4QURkd0VNdU1JSmtnQTFoWUNoYkdRZ01pK0pDOHE0TC9BQi92RHU3eDc0Y1dXRVpoSlU0NFJtQTF6dWpSNUdJYlhGOVlOcmpEL1EwYkRSWTRmRUJaNFA0TGxnVG5DYkFmODRwVU04LzloWTA4dE1VdEVvUTFMcEVnck5CRmdsQ2hGWFI2UTZHZnd3UjZBR0tKTUY3NFZ0dDNBQUFBQUVsRlRrU3VRbUNDIjtFZGl0b3IubmV4dEltYWdlPSJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJRQUFBQVVDQVlBQUFDTmlSME5BQUFBQm1KTFIwUUEvd0QvQVArZ3ZhZVRBQUFBaTBsRVFWUTRqZVhVSVE3Q1VBd0EwTWVHeFdJMnl5bHduQUxKVWRCY2dZdk03UVlMbWpPUUlBa0lQbUpaZ2hpSXZ5cG9VdFgwdGZuSkwzOFg1WmZhRWdVZVVjTWFuRkJIZ1MwU0xsaEhnZ2szYkNQQmhDZjJrZUNRUjh3andZVERwNllpWnhKbU9VMWpHdzd2R0FMZXNjdUJ4c0FyTmxPd2QvQ00xVlNNL3V0MXFDSXcrdU93aU1KK09GNENRekJDWG0zaHlBQUFBQUJKUlU1RXJrSmdnZz09IjsKRWRpdG9yLmVkaXRJbWFnZT1teENsaWVudC5JU19TVkc/ImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEN3QUxBSUFCQUZkWFYvLy8veUg1QkFFQUFBRUFMQUFBQUFBTEFBc0FBQUlaakI4QWlLdWM0anZMT0dxenJqWDZ6bWtXeUNoWGFVSkJBUUE3IjpJTUFHRV9QQVRIKyIvZWRpdC5naWYiO0VkaXRvci56b29tT3V0TGFyZ2VJbWFnZT0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFnQ0FNQUFBQkVwSXJHQUFBQWlsQk1WRVVBQUFELy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vMk4yaU5BQUFBTFhSU1RsTUErdlRjS01NOTZHUkJId1h4aTBZYVgxSExyS1doaUhwV0VPbk9yNTJWYjJ4S1NEY1QxOVBLdjVsL05nZGs4K3ZpQUFBQkprbEVRVlE0eTRXVDJYYURNQXhFdldEMm5TU1VORW5USk4zci8vKzlTajdJTEFZNkwwaWpDNE9OWVZaUnBvNmNCeXJ6MllLU1VHb3JHVHB6NzFsUFZIdlQrYXZvQjV3SWtVL214azh2ZWNlU3VOb0xnNDRJenppWGp2cGloNzJ3S1FubTh5YzJVb2lQL0xBZDhqUWZlMlhmNFBxKzJFeVlJdnY5d2J6SEhDZ3d4RGRsQnRXWk9kcURmVENWZ3FweWdRcHNaYW9qVkFWYzlValF4bkFKRElCaGlRdjg0dHEzZ01RQ0FWVHhWb1NpYlhKZjh0TXVjN2UxVEIvRENtZWpCTmcvdzFZM2MrQU01dnY0dzd4TTU5L29YYW1ySGFMVnFQUStPVENubU1aeGd6MFNkTDV6amkwL2xkNmo4OHFHYTVLSWlCQjZXZUpHS2ZVS3dTTUtMdVhndmwxVFcwdG01UjlVUUwvZWZTRFlzbnp4RDhDaW5oQnNUVGR1Z0phdEtwSndmOHYrQURiOFFtdlc3QWVBQUFBQUFFbEZUa1N1UW1DQyI7CkVkaXRvci56b29tSW5MYXJnZUltYWdlPSJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNBQUFBQWdDQU1BQUFCRXBJckdBQUFBaWxCTVZFVUFBQUQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8yTjJpTkFBQUFMWFJTVGxNQSt2VGNLTU05NkdSQkh3WHhpMFlhWDFITHJLV2hpSHBXRU9uT3I1MlZiMnhLU0RjVDE5UEt2NWwvTmdkazgrdmlBQUFCS0VsRVFWUTR5NFdUNldLQ01CQ0VOd2tCd24yb0ZLdldxcjNMKzc5ZXM0RWtRSURPSDJkM1B4azJBQmlKbEI4SkNYanF3NExpa0hWR0xIVG0zbk0zVWVWTjU2OTBHQkJOMEd3eVYvM2trclVRUitXZUtuUkVlS3B6YVhXZDc3Q21KaVhHZlBJRUk0VjR5UTlUSVcvbnRsY01CZTczMVZ0czl3NVRXRzhGNWozbVFJNGh2cktwZEdlWUE3Q1g5cUFjbDY1MGdWSmFydHhSdWh5SFZnaEY4aWRRQUliRkx2Q0x1MjhCc1FFQzZhS3RDSzZQeWIzSlQ3UG1ibXROSDhOeTU2Q290RC8ycU9zNWNKYnVmZnhnWG1DaWIreGRkVlU1Uk5PaGt2dmtoVGxGZWh6VldDT2gzKytNWUVsT2hmZG92YUltblJZVm1xRGRzdWhOcDFRckJCRTZ1R0MyKzNaTmpHZGc1Qjk0b0QrOXV5VmdXVDc5QndBeEVCVFdkT3UzYldCVmdzbi9OL0FIVUQ5SUMwMU9lNDBBQUFBQVNVVk9SSzVDWUlJPSI7CkVkaXRvci5hY3R1YWxTaXplTGFyZ2VJbWFnZT0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFnQ0FNQUFBQkVwSXJHQUFBQWlsQk1WRVVBQUFELy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vMk4yaU5BQUFBTFhSU1RsTUErdlRjS01NOTZHUkJId1h4aTBZYVgxSExyS1doaUhwV0VPbk9yNTJWYjJ4S1NEY1QxOVBLdjVsL05nZGs4K3ZpQUFBQklVbEVRVlE0eTRXVDJYcURJQkNGQnhEYzl5VFdORW5USk4zcis3OWVHVDRCRWJYbmF1Yk1yOGRCQmFNNDUwZENRcDRMV0ZBYXNjR0lSZDQ4ZUI0Y05ZRTdmNlhqZ0dpQ0ZzNWMrZG1sNkNGTjZqMVY2SVFJbEhQcGRWL3VzS2NtSmNWODhnUVRSWGpMRDlNaGIrZldxOFlHOS91Q21UQ0ZqZWVEZVk4NVVHS0lVR1V1cXpONDJrdjdvQ291cTlvSGFtbHpWUjFsVmZwQUl1MVFWUmlXK3NBdjdyNEZwQVlJWlpWc1JYQjlUUDVEZnBvMWQxdHJDZ3p6MWlpcHRIL3NVYmR6NEN6TjkrbUxlWEhuMytoZGRkZDRSRGVnc3J2endad1NzMkdMUFJKaWRBcUNMVGxWd2FNUHFwWU1XalRXQkIyV1JXODZwVmtoU0t5REsyYmR0MnRtYWdaRzRzQkQvZXZkTFFITEV2UWZBT0tSb0xDbUcxRkFCNnVLbWJ5K2d6K1JFRG43TzUrRXdRQUFBQUJKUlU1RXJrSmdnZz09IjsKRWRpdG9yLnByaW50TGFyZ2VJbWFnZT0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFnQ0FNQUFBQkVwSXJHQUFBQVhWQk1WRVVBQUFELy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy85Ukt2dmxBQUFBSG5SU1RsTUF5ZG5sNzdxYk1MVDA5M0g3SzROZDRLdG4wODIrbFl0NWJra2xFZ1A0NG5RU0FBQUFwVWxFUVZRNHk3M1AyUTZESUJSRjBjT2diUkhIemhQLy81bTltQkFRS2pHMWNUMFljN0lUQU11MUxOUWdVWmlRMkRZb05RMHNDUWI2cWdIQWZSeDQ4b3BxM0o5QVo2eHVGN3VPZXc4SWsxT3NDWlJTMlVBQzlWK0Q5YStRWll4TkE0NVlGUWZ0UHRTa0FUT2h3N2RBYzB2UEJ3S1dpSU9qUDBKWjB5TXVRSjI3ZzM2RGlwT1VzcVJBTTBkUjhLRDEvSUxIYUhTRS93OERJeDA5RTNnL0JUY2U2ckhVQjVzQVBLdmZGK0pkQUFBQUFFbEZUa1N1UW1DQyI7CkVkaXRvci5sYXllcnNMYXJnZUltYWdlPSJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNBQUFBQWdDQU1BQUFCRXBJckdBQUFBbVZCTVZFVUFBQUQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8rL3Y3Ly8vK2JuWmtrQUFBQU1uUlNUbE1BQlByOEJ5aUQ4OEtzVGkvcnZKYjI3Mm1qZVVBMUN1UGUxTS9LalZ4WUh4TVA2S1owUzluWXpHUkdHUmF6bnBHSWJ6YUdVZjBBQUFIRVNVUkJWRGpMYlpMWllvSXdFRVZEZ0xDamJLSWdBbHFYcXQzbS96K3VOd3UxcmN5RGhqbDNrdG5ZTDdPWTI1NEMwVlgzeVdGWmZ6RHJPQ2xiYmdLeGkwWURIandsNGpiblJrWHhKUy9DMVlQM0RiQmhEMW43RXg0dWFBcWRWRGIzeUovNEovM25KRDJ0by9uZ1F6L0RmVXZ6TXA0Sko1c1NDYUY1b1htZW1nUURmRHh6YmkrS3E0c1Urdk5jdUFteDk0SnR5T1AyREQ0RXB6MmFzV1NDejRaLzRmRUN4eU5qOXpDOXhOTEhjZFBFTythd0RLZVNhVXUwVzR0d1pRaU8yaFlWaXNUUjNSQ3RLL2MxWDZ0NHhNRXBpR3FYcVZudEVCTG9sa1pac0tZNFF0d0g2anpxNjdkRUhsSnlzQjFhTk9EM1hUN24xVWthc1FONTlMNHlDMlJFTE1EU2VDUnR6M3lWMjJVYjNveklVVGtuWXg4SldxRGRReGJVZXM5OGNSMmtadFVTdmVGL2JBaGNlZHdFV21seElrcFpVeTRYT0NiNlZCamp4SHZid28vMWxCQUhIaTJKQ3IwTkk1NzBRaHlIcS9EaEpvRTJsTGd5QTRSVmU2S21aNDdPLzNiODZNQ1AwSFdhNzNBOC9DM1NVYzVRYzFhanQ2ZmdwWEorUkdwTXZEU2NoZXBaRE9PUVJjWlZJS2NLOTB4MkQ3ZXRxdEkrNTYrdTZuM3NQcmlPNm5mcGhpdFI0K08ybTNFYk03bGgzbWUxRk0xbytMTUk4ODdyTitzMy93WmRURmxwTlZKaU9BQUFBQUJKUlU1RXJrSmdnZz09IjsKRWRpdG9yLmNsb3NlTGFyZ2VJbWFnZT0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFnQ0FNQUFBQkVwSXJHQUFBQVVWQk1WRVVBQUFELy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLzhJTitkZUFBQUFHblJTVGxNQXV2QUlnL2RETS9RbE9ldUZoajBTNXM0dktnemp4SlJRTmlMU2V5MEFBQUROU1VSQlZEakxmWkxiRW9NZ0RFUWpSUlJzMVhxWC8vL1FObU9ISlNualBrSE9HUjdJRW1lb0d0SlpzdG53anFiUmZJc21nRWR0UENxZTlZbno3WlNjMDdyRTJRaVNjK3F2OFR2alJYQTJQRFVtM2RwZTgyaUpoT0VVZnhKSm8zYUN2K2pLbVJtSDRsY0NqQ2plaDlHV09kTC9HWlprWEgzUFlZRHJIQm5mYzREL1JWWmY1c2pvQzF3YXMrWTZIUXh3YVV4RnZxL2EwUHYzNDNWQ1R4ZkJTUmlCK2FiM00zZWlRWlhtTU5CSjNZOHBHUlp0WVE3RGdITVhKRWRQTFRhTi9xQmp6Sk9CYzNubU5jYnNBMTZiTVIwb0xxZitBQUFBQUVsRlRrU3VRbUNDIjsKRWRpdG9yLmVkaXRMYXJnZUltYWdlPSJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNBQUFBQWdDQU1BQUFCRXBJckdBQUFBZ1ZCTVZFVUFBQUQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLzlkM3lKVEFBQUFLblJTVGxNQStoemkzblJRV3lYemttMGgyajN1NTRnekVnU1hqbFlvVEJnSnhMMmxvR3BBT1MzSnQ3V3htMzVHYTdnUkFBQUE2VWxFUVZRNHk2M1EyWGFDTUJTRjRRMEpCYXNvUTVESnFiWGpmdjhIYkNLMkJaTndvLzhGWEh4N3JjTUM3bFF1MGlYOHFVL3F0dkFXQ3BvcUg4ZFl6UzBTd2FWNWVLL1VBZjhYOXBkMkNXS3p1RjVKcmZ0cDFvd1h3bklHTFVhTDNQWW5kT0hmNGtOTlhXclhLL203Q0h1bms3SzhMRTZZdEJwY2tud0c5R0t4bnJvWSt5bEJYY3g0eEt5eC91L0V1WGk1MDljUDlWN09PMW95SG56cmRGVGNxTEcvNGliQkE1cElNci80eHZLenVRRGtWeTl3VzhTZ0JGRDZIRHZ1ek12clpjQzlRbGtmTXpJN3c2NG0rYjRQcUJNTkhCMDVsSDIxUFZ4Sm8yL2ZCWHhWNGhCMzhQY0QrNUFrSTRGdUVUc0FBQUFBU1VWT1JLNUNZSUk9IjsKRWRpdG9yLnByZXZpb3VzTGFyZ2VJbWFnZT0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFnQ0FNQUFBQkVwSXJHQUFBQVBGQk1WRVVBQUFELy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1lTV2dUQUFBQUUzUlNUbE1BN2ZjaTQ5M2MwTVc4dUo2Q1prczRNeFFIRVpMNmV3QUFBRlpKUkVGVU9NdmRrc2tSZ0RBTUE0bER3ZzJCN2I5WE9sZ2UvS0t2ZHNhMjVLRmI1WGxSdnhYQy9ETkJFdjhJRk5qQmdHZERnWHRGZ1R5aHdEWGlRQVVIQ3Z3YTRVdjZtUjZVUisxbGVkMm1Wb252bCt0TUw0NXFDUU5RTEl4N0FBQUFBRWxGVGtTdVFtQ0MiO0VkaXRvci5uZXh0TGFyZ2VJbWFnZT0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFnQ0FNQUFBQkVwSXJHQUFBQVBGQk1WRVVBQUFELy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1lTV2dUQUFBQUUzUlNUbE1BN2ZjaTQ5M2MwTVc4dUo2Q1prczRNeFFIRVpMNmV3QUFBRlJKUkVGVU9NdmQwc2tSZ0NBUUJWRUZ3UTBWN2Z4ek5RUDZ3STA1djZwWi9reWoxYjdGTmdpazJnUXp6TGNBd2lVQWlnSE9Ud0RISzRBMUNtQjVCSkFOSkcxaFE5cWFmWWNxRmxaUDNJRmM5ZVZHclIraUlna0RRUlVYSUFBQUFBQkpSVTVFcmtKZ2dnPT0iOwpFZGl0b3IucmVmcmVzaExhcmdlSW1hZ2U9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQ0FBQUFBZ0NBTUFBQUJFcElyR0FBQUFvbEJNVkVVQUFBRC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy84RUxuYUNBQUFBTlhSU1RsTUFCZnlFMlFLVStkZk55eUR5b1ZZS3duVHY3Tis2cm50c1lsRk5RakVxRXczMTZ1U3pmMmMxSkIzR3ZxZWJpVnc2R0FqUUI0RFFyMTBBQUFFN1NVUkJWRGpMdlpMWGNvTXdFQUJQSWdSQ3gzVFQzQTN1ZHFMLy83VWdBZEdSY1I0eWs4aytpZHNkbWdTL1F5V0VxRC9heFMySkRWMzN6bG56TEhJelEyTURxOU9lSjNtOGw3NktLRU5ZbHhybU0vYjY1WXMxKzhZeG5URVpGSUVZMHZWaHN6RldmVUdaREpwUVREem5UZ0FlNWs0WGhReElMQjdydXpCUW4ra2t5RFh1SGZSdGpvWURFdkg3SjlMejk4ZEJaWFhMOTRYME9mY28yUEZsQ2hLYmpWekVkYWtvU2xLam9Ob3FQWWtKL3dVWkFZd2MrUHBMajFFaTcramRvQldsd1Fab0p2MkgxdzNDV2dSdm83ZGQ5RFA1YnRnd0NXejBNMDIrb1ZveENjSVdlWTlQTm1SNkIrK205cHJNeFlFSVNwQ0JZQmxmeTliYzc0NWlzN1VVVUxBZW0xV3c3RmZhbHNpQTJ1YUpzZ21XUDNwUUk5cTkveU1Ma2FhSEFwMmZ4aEhmZi9jTnE3ZEJkSFhoR1c3bCtNbzJ6VTBDZjhrbkoyeEEwb0o4ZW53QUFBQUFTVVZPUks1Q1lJST0iOwpFZGl0b3IuYmFja0xhcmdlSW1hZ2U9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQ0FBQUFBZ0NBTUFBQUJFcElyR0FBQUFjbEJNVkVVQUFBRC8vLy8vLy8vLy8vLy8vLy8rL3Y3Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8rL3Y3Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLzh2S0xmVEFBQUFKWFJTVGxNQUNoN2g5Z2J5M05MSXd6d1o1NXVWSmdINTdiKzh0YkNsallWMVJSTVE0NkZyVHpRdyt2dHhPUUFBQUo1SlJFRlVPTXVGMDBjV2d6QVFBMURSRFFGQ2J3RlNkZjhyWnBkVnJOSDJ6M3R1TXY3bWxkWlEyV04yeWk4eCtUVDhKdnlUa3F2d3BpS3Z3c09JckExZldyK1hHVGtsZmo4ZE9RUitEM0t5VUY2UXVmQmtKTjBoZkNhekV2NnNaQlJDSkRVY1Bhc0dLcHUxUkx0WUU4bGtIQVBCUUxvVHNLL1NmQXlSdzVGakF1aEN6QzJNU2owZ0orNjZsSGF0Z1hkS2JvRDl0ZlJFQjVtOS8rM2lDOWpIRFl2c0dOY1VBQUFBQUVsRlRrU3VRbUNDIjsKRWRpdG9yLmZ1bGxzY3JlZW5MYXJnZUltYWdlPSJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNBQUFBQWdDQU1BQUFCRXBJckdBQUFBbGxCTVZFVUFBQUQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vQUpjV29BQUFBTVhSU1RsTUErd0lGeFBXUENJYjQ0NnRuVXhtc29JeWtneFRlMjlqUW5wS0JlMk1Oc1poVlRSL0t5THVXYkZoRVBqVXE3TDl6K2JRaitnQUFBV3hKUkVGVU9NdHRrNGwyZ2tBTVJUT0RDTzRGdFFnSWJuV3BTOXY4Lzg4MWlaRmg4UjUxTk84R0orZ0FqTU44enVUUkZTdzA0Y0lPSFFjcUZISDZvYVFGR3hmMGplQmpFZ0I4WTUyVHBXOUFnNHpCNVFJQ1dPdEhyZ3dHdUZaQmN3K2dQUDBNRlM3K2lpRDVpbk9tRElRUzlzWmdUd1V6d0V6eXhoeEhWRUVVN05kRFVYc3FVUHRxaklnUjJJWlNDVDR1cHpTZUllT2RjTUhuZkRzeDNnaVBvZXpmVTZNclFHQjUvL1Nja0xFRzJ4WXNjSzRHZm5VRnFhaXgzOXpyd29vYU9EL2NYb1l1dkhLUUljN3B6ZDNIVlB1c3A2dDJGQVcvUm1qTW9uYmw4dndIRGVaby9Ha2xlSkM3ZStwNVhBL3JBcTFYL1YxMHdLYWcwNHJCcGEyL2QwTEw0T1lZY2VPRXRzRzVqeU1udEkxd1MrTjFCR2NRQmwvQ29Mb1BPbDlBQnJXL0JQNTNlMWJ3U0pISGxrSVZjaEp3bUh3eXlmSjRrSXZFbkt0d2t4TlNFY3Q4M0tTQ2hUN1dpV2dEWjNjY1owQk00dGxvSm93MllVQXRpZk5UM25qbnlEK3kvcE1zblA0RE4zWTR5bDFHeWswQUFBQUFTVVZPUks1Q1lJST0iOwpFZGl0b3Iucm91Z2hGaWxsU3R5bGVzPVt7dmFsOiJhdXRvIixkaXNwTmFtZToiQXV0byJ9LHt2YWw6ImhhY2h1cmUiLGRpc3BOYW1lOiJIYWNodXJlIn0se3ZhbDoic29saWQiLGRpc3BOYW1lOiJTb2xpZCJ9LHt2YWw6InppZ3phZyIsZGlzcE5hbWU6IlppZ1phZyJ9LHt2YWw6ImNyb3NzLWhhdGNoIixkaXNwTmFtZToiQ3Jvc3MgSGF0Y2gifSx7dmFsOiJkb3RzIixkaXNwTmFtZToiRG90cyJ9LHt2YWw6ImRhc2hlZCIsZGlzcE5hbWU6IkRhc2hlZCJ9LHt2YWw6InppZ3phZy1saW5lIixkaXNwTmFtZToiWmlnWmFnIExpbmUifV07RWRpdG9yLmN0cmxLZXk9bXhDbGllbnQuSVNfTUFDPyJDbWQiOiJDdHJsIjtFZGl0b3IuaGludE9mZnNldD0yMDtFZGl0b3IucG9wdXBzQWxsb3dlZD0hMDtteFV0aWxzLmV4dGVuZChFZGl0b3IsbXhFdmVudFNvdXJjZSk7RWRpdG9yLnByb3RvdHlwZS5vcmlnaW5hbE5vRm9yZWlnbk9iamVjdD1teENsaWVudC5OT19GTzsKRWRpdG9yLnByb3RvdHlwZS50cmFuc3BhcmVudEltYWdlPW14Q2xpZW50LklTX1NWRz8iZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoTUFBd0FJQUFBUC8vL3dBQUFDSDVCQUVBQUFBQUxBQUFBQUF3QURBQUFBSXhoSStweSswUG81eTAyb3V6M3J6N0Q0YmlTSmJtaWFicXlyYnVDOGZ5VE5mMmplZjZ6dmYrRHd3S2g4U2k4ZWdwQUFBNyI6SU1BR0VfUEFUSCsiL3RyYW5zcGFyZW50LmdpZiI7RWRpdG9yLnByb3RvdHlwZS5leHRlbmRDYW52YXM9ITA7RWRpdG9yLnByb3RvdHlwZS5jaHJvbWVsZXNzPSExO0VkaXRvci5wcm90b3R5cGUuY2FuY2VsRmlyc3Q9ITA7RWRpdG9yLnByb3RvdHlwZS5lbmFibGVkPSEwO0VkaXRvci5wcm90b3R5cGUuZmlsZW5hbWU9bnVsbDtFZGl0b3IucHJvdG90eXBlLm1vZGlmaWVkPSExO0VkaXRvci5wcm90b3R5cGUuYXV0b3NhdmU9ITA7RWRpdG9yLnByb3RvdHlwZS5pbml0aWFsVG9wU3BhY2luZz0wO0VkaXRvci5wcm90b3R5cGUuYXBwTmFtZT1kb2N1bWVudC50aXRsZTsKRWRpdG9yLnByb3RvdHlwZS5lZGl0QmxhbmtVcmw9d2luZG93LmxvY2F0aW9uLnByb3RvY29sKyIvLyIrd2luZG93LmxvY2F0aW9uLmhvc3QrIi8iO0VkaXRvci5wcm90b3R5cGUuZGVmYXVsdEdyYXBoT3ZlcmZsb3c9ImhpZGRlbiI7RWRpdG9yLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7fTtFZGl0b3IucHJvdG90eXBlLmlzQ2hyb21lbGVzc1ZpZXc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaHJvbWVsZXNzfTtFZGl0b3IucHJvdG90eXBlLnNldEF1dG9zYXZlPWZ1bmN0aW9uKGEpe3RoaXMuYXV0b3NhdmU9YTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgiYXV0b3NhdmVDaGFuZ2VkIikpfTtFZGl0b3IucHJvdG90eXBlLmdldEVkaXRCbGFua1VybD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lZGl0QmxhbmtVcmwrYX07CkVkaXRvci5wcm90b3R5cGUuZWRpdEFzTmV3PWZ1bmN0aW9uKGEsYyl7dmFyIGY9bnVsbCE9Yz8iP3RpdGxlPSIrZW5jb2RlVVJJQ29tcG9uZW50KGMpOiIiO251bGwhPXVybFBhcmFtcy51aSYmKGYrPSgwPGYubGVuZ3RoPyImIjoiPyIpKyJ1aT0iK3VybFBhcmFtcy51aSk7aWYoInVuZGVmaW5lZCIhPT10eXBlb2Ygd2luZG93LnBvc3RNZXNzYWdlJiYobnVsbD09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHwxMDw9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSl7dmFyIGQ9bnVsbCxtPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGMpeyJyZWFkeSI9PWMuZGF0YSYmYy5zb3VyY2U9PWQmJihteEV2ZW50LnJlbW92ZUxpc3RlbmVyKHdpbmRvdywibWVzc2FnZSIsbSksZC5wb3N0TWVzc2FnZShhLCIqIikpfSk7bXhFdmVudC5hZGRMaXN0ZW5lcih3aW5kb3csIm1lc3NhZ2UiLG0pO2Q9dGhpcy5ncmFwaC5vcGVuTGluayh0aGlzLmdldEVkaXRCbGFua1VybChmKygwPGYubGVuZ3RoPyImIjoiPyIpKwoiY2xpZW50PTEiKSxudWxsLCEwKX1lbHNlIHRoaXMuZ3JhcGgub3BlbkxpbmsodGhpcy5nZXRFZGl0QmxhbmtVcmwoZikrIiNSIitlbmNvZGVVUklDb21wb25lbnQoYSkpfTtFZGl0b3IucHJvdG90eXBlLmNyZWF0ZUdyYXBoPWZ1bmN0aW9uKGEsYyl7dmFyIGY9bmV3IEdyYXBoKG51bGwsYyxudWxsLG51bGwsYSk7Zi50cmFuc3BhcmVudEJhY2tncm91bmQ9ITE7dGhpcy5jaHJvbWVsZXNzfHwoZi5pc0JsYW5rTGluaz1mdW5jdGlvbihhKXtyZXR1cm4hdGhpcy5pc0V4dGVybmFsUHJvdG9jb2woYSl9KTtyZXR1cm4gZn07CkVkaXRvci5wcm90b3R5cGUucmVzZXRHcmFwaD1mdW5jdGlvbigpe3RoaXMuZ3JhcGguZ3JpZEVuYWJsZWQ9IXRoaXMuaXNDaHJvbWVsZXNzVmlldygpfHwiMSI9PXVybFBhcmFtcy5ncmlkO3RoaXMuZ3JhcGguZ3JhcGhIYW5kbGVyLmd1aWRlc0VuYWJsZWQ9ITA7dGhpcy5ncmFwaC5zZXRUb29sdGlwcyghMCk7dGhpcy5ncmFwaC5zZXRDb25uZWN0YWJsZSghMCk7dGhpcy5ncmFwaC5mb2xkaW5nRW5hYmxlZD0hMDt0aGlzLmdyYXBoLnNjcm9sbGJhcnM9dGhpcy5ncmFwaC5kZWZhdWx0U2Nyb2xsYmFyczt0aGlzLmdyYXBoLnBhZ2VWaXNpYmxlPXRoaXMuZ3JhcGguZGVmYXVsdFBhZ2VWaXNpYmxlO3RoaXMuZ3JhcGgucGFnZUJyZWFrc1Zpc2libGU9dGhpcy5ncmFwaC5wYWdlVmlzaWJsZTt0aGlzLmdyYXBoLnByZWZlclBhZ2VTaXplPXRoaXMuZ3JhcGgucGFnZUJyZWFrc1Zpc2libGU7dGhpcy5ncmFwaC5iYWNrZ3JvdW5kPW51bGw7dGhpcy5ncmFwaC5wYWdlU2NhbGU9bXhHcmFwaC5wcm90b3R5cGUucGFnZVNjYWxlOwp0aGlzLmdyYXBoLnBhZ2VGb3JtYXQ9bXhHcmFwaC5wcm90b3R5cGUucGFnZUZvcm1hdDt0aGlzLmdyYXBoLmN1cnJlbnRTY2FsZT0xO3RoaXMuZ3JhcGguY3VycmVudFRyYW5zbGF0ZS54PTA7dGhpcy5ncmFwaC5jdXJyZW50VHJhbnNsYXRlLnk9MDt0aGlzLnVwZGF0ZUdyYXBoQ29tcG9uZW50cygpO3RoaXMuZ3JhcGgudmlldy5zZXRTY2FsZSgxKX07CkVkaXRvci5wcm90b3R5cGUucmVhZEdyYXBoU3RhdGU9ZnVuY3Rpb24oYSl7dGhpcy5ncmFwaC5ncmlkRW5hYmxlZD0iMCIhPWEuZ2V0QXR0cmlidXRlKCJncmlkIikmJighdGhpcy5pc0Nocm9tZWxlc3NWaWV3KCl8fCIxIj09dXJsUGFyYW1zLmdyaWQpO3RoaXMuZ3JhcGguZ3JpZFNpemU9cGFyc2VGbG9hdChhLmdldEF0dHJpYnV0ZSgiZ3JpZFNpemUiKSl8fG14R3JhcGgucHJvdG90eXBlLmdyaWRTaXplO3RoaXMuZ3JhcGguZ3JhcGhIYW5kbGVyLmd1aWRlc0VuYWJsZWQ9IjAiIT1hLmdldEF0dHJpYnV0ZSgiZ3VpZGVzIik7dGhpcy5ncmFwaC5zZXRUb29sdGlwcygiMCIhPWEuZ2V0QXR0cmlidXRlKCJ0b29sdGlwcyIpKTt0aGlzLmdyYXBoLnNldENvbm5lY3RhYmxlKCIwIiE9YS5nZXRBdHRyaWJ1dGUoImNvbm5lY3QiKSk7dGhpcy5ncmFwaC5jb25uZWN0aW9uQXJyb3dzRW5hYmxlZD0iMCIhPWEuZ2V0QXR0cmlidXRlKCJhcnJvd3MiKTt0aGlzLmdyYXBoLmZvbGRpbmdFbmFibGVkPQoiMCIhPWEuZ2V0QXR0cmlidXRlKCJmb2xkIik7dGhpcy5pc0Nocm9tZWxlc3NWaWV3KCkmJnRoaXMuZ3JhcGguZm9sZGluZ0VuYWJsZWQmJih0aGlzLmdyYXBoLmZvbGRpbmdFbmFibGVkPSIxIj09dXJsUGFyYW1zLm5hdix0aGlzLmdyYXBoLmNlbGxSZW5kZXJlci5mb3JjZUNvbnRyb2xDbGlja0hhbmRsZXI9dGhpcy5ncmFwaC5mb2xkaW5nRW5hYmxlZCk7dmFyIGM9cGFyc2VGbG9hdChhLmdldEF0dHJpYnV0ZSgicGFnZVNjYWxlIikpOyFpc05hTihjKSYmMDxjP3RoaXMuZ3JhcGgucGFnZVNjYWxlPWM6dGhpcy5ncmFwaC5wYWdlU2NhbGU9bXhHcmFwaC5wcm90b3R5cGUucGFnZVNjYWxlO3RoaXMuZ3JhcGguaXNMaWdodGJveFZpZXcoKXx8dGhpcy5ncmFwaC5pc1ZpZXdlcigpP3RoaXMuZ3JhcGgucGFnZVZpc2libGU9ITE6KGM9YS5nZXRBdHRyaWJ1dGUoInBhZ2UiKSx0aGlzLmdyYXBoLnBhZ2VWaXNpYmxlPW51bGwhPWM/IjAiIT1jOnRoaXMuZ3JhcGguZGVmYXVsdFBhZ2VWaXNpYmxlKTsKdGhpcy5ncmFwaC5wYWdlQnJlYWtzVmlzaWJsZT10aGlzLmdyYXBoLnBhZ2VWaXNpYmxlO3RoaXMuZ3JhcGgucHJlZmVyUGFnZVNpemU9dGhpcy5ncmFwaC5wYWdlQnJlYWtzVmlzaWJsZTt2YXIgYz1wYXJzZUZsb2F0KGEuZ2V0QXR0cmlidXRlKCJwYWdlV2lkdGgiKSksZj1wYXJzZUZsb2F0KGEuZ2V0QXR0cmlidXRlKCJwYWdlSGVpZ2h0IikpO2lzTmFOKGMpfHxpc05hTihmKXx8KHRoaXMuZ3JhcGgucGFnZUZvcm1hdD1uZXcgbXhSZWN0YW5nbGUoMCwwLGMsZikpO2E9YS5nZXRBdHRyaWJ1dGUoImJhY2tncm91bmQiKTt0aGlzLmdyYXBoLmJhY2tncm91bmQ9bnVsbCE9YSYmMDxhLmxlbmd0aD9hOm51bGx9OwpFZGl0b3IucHJvdG90eXBlLnNldEdyYXBoWG1sPWZ1bmN0aW9uKGEpe2lmKG51bGwhPWEpe3ZhciBjPW5ldyBteENvZGVjKGEub3duZXJEb2N1bWVudCk7aWYoIm14R3JhcGhNb2RlbCI9PWEubm9kZU5hbWUpe3RoaXMuZ3JhcGgubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7dGhpcy5ncmFwaC5tb2RlbC5jbGVhcigpLHRoaXMuZ3JhcGgudmlldy5zY2FsZT0xLHRoaXMucmVhZEdyYXBoU3RhdGUoYSksdGhpcy51cGRhdGVHcmFwaENvbXBvbmVudHMoKSxjLmRlY29kZShhLHRoaXMuZ3JhcGguZ2V0TW9kZWwoKSl9ZmluYWxseXt0aGlzLmdyYXBoLm1vZGVsLmVuZFVwZGF0ZSgpfXRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJyZXNldEdyYXBoVmlldyIpKX1lbHNlIGlmKCJyb290Ij09YS5ub2RlTmFtZSl7dGhpcy5yZXNldEdyYXBoKCk7dmFyIGY9Yy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJteEdyYXBoTW9kZWwiKTtmLmFwcGVuZENoaWxkKGEpO2MuZGVjb2RlKGYsdGhpcy5ncmFwaC5nZXRNb2RlbCgpKTsKdGhpcy51cGRhdGVHcmFwaENvbXBvbmVudHMoKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgicmVzZXRHcmFwaFZpZXciKSl9ZWxzZSB0aHJvd3ttZXNzYWdlOm14UmVzb3VyY2VzLmdldCgiY2Fubm90T3BlbkZpbGUiKSxub2RlOmEsdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tZXNzYWdlfX07fWVsc2UgdGhpcy5yZXNldEdyYXBoKCksdGhpcy5ncmFwaC5tb2RlbC5jbGVhcigpLHRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJyZXNldEdyYXBoVmlldyIpKX07CkVkaXRvci5wcm90b3R5cGUuZ2V0R3JhcGhYbWw9ZnVuY3Rpb24oYSl7YT0obnVsbCE9YT9hOjEpPyhuZXcgbXhDb2RlYyhteFV0aWxzLmNyZWF0ZVhtbERvY3VtZW50KCkpKS5lbmNvZGUodGhpcy5ncmFwaC5nZXRNb2RlbCgpKTp0aGlzLmdyYXBoLmVuY29kZUNlbGxzKG14VXRpbHMuc29ydENlbGxzKHRoaXMuZ3JhcGgubW9kZWwuZ2V0VG9wbW9zdENlbGxzKHRoaXMuZ3JhcGguZ2V0U2VsZWN0aW9uQ2VsbHMoKSkpKTtpZigwIT10aGlzLmdyYXBoLnZpZXcudHJhbnNsYXRlLnh8fDAhPXRoaXMuZ3JhcGgudmlldy50cmFuc2xhdGUueSlhLnNldEF0dHJpYnV0ZSgiZHgiLE1hdGgucm91bmQoMTAwKnRoaXMuZ3JhcGgudmlldy50cmFuc2xhdGUueCkvMTAwKSxhLnNldEF0dHJpYnV0ZSgiZHkiLE1hdGgucm91bmQoMTAwKnRoaXMuZ3JhcGgudmlldy50cmFuc2xhdGUueSkvMTAwKTthLnNldEF0dHJpYnV0ZSgiZ3JpZCIsdGhpcy5ncmFwaC5pc0dyaWRFbmFibGVkKCk/IjEiOiIwIik7YS5zZXRBdHRyaWJ1dGUoImdyaWRTaXplIiwKdGhpcy5ncmFwaC5ncmlkU2l6ZSk7YS5zZXRBdHRyaWJ1dGUoImd1aWRlcyIsdGhpcy5ncmFwaC5ncmFwaEhhbmRsZXIuZ3VpZGVzRW5hYmxlZD8iMSI6IjAiKTthLnNldEF0dHJpYnV0ZSgidG9vbHRpcHMiLHRoaXMuZ3JhcGgudG9vbHRpcEhhbmRsZXIuaXNFbmFibGVkKCk/IjEiOiIwIik7YS5zZXRBdHRyaWJ1dGUoImNvbm5lY3QiLHRoaXMuZ3JhcGguY29ubmVjdGlvbkhhbmRsZXIuaXNFbmFibGVkKCk/IjEiOiIwIik7YS5zZXRBdHRyaWJ1dGUoImFycm93cyIsdGhpcy5ncmFwaC5jb25uZWN0aW9uQXJyb3dzRW5hYmxlZD8iMSI6IjAiKTthLnNldEF0dHJpYnV0ZSgiZm9sZCIsdGhpcy5ncmFwaC5mb2xkaW5nRW5hYmxlZD8iMSI6IjAiKTthLnNldEF0dHJpYnV0ZSgicGFnZSIsdGhpcy5ncmFwaC5wYWdlVmlzaWJsZT8iMSI6IjAiKTthLnNldEF0dHJpYnV0ZSgicGFnZVNjYWxlIix0aGlzLmdyYXBoLnBhZ2VTY2FsZSk7YS5zZXRBdHRyaWJ1dGUoInBhZ2VXaWR0aCIsdGhpcy5ncmFwaC5wYWdlRm9ybWF0LndpZHRoKTsKYS5zZXRBdHRyaWJ1dGUoInBhZ2VIZWlnaHQiLHRoaXMuZ3JhcGgucGFnZUZvcm1hdC5oZWlnaHQpO251bGwhPXRoaXMuZ3JhcGguYmFja2dyb3VuZCYmYS5zZXRBdHRyaWJ1dGUoImJhY2tncm91bmQiLHRoaXMuZ3JhcGguYmFja2dyb3VuZCk7cmV0dXJuIGF9O0VkaXRvci5wcm90b3R5cGUudXBkYXRlR3JhcGhDb21wb25lbnRzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5ncmFwaDtudWxsIT1hLmNvbnRhaW5lciYmKGEudmlldy52YWxpZGF0ZUJhY2tncm91bmQoKSxhLmNvbnRhaW5lci5zdHlsZS5vdmVyZmxvdz1hLnNjcm9sbGJhcnM/ImF1dG8iOnRoaXMuZGVmYXVsdEdyYXBoT3ZlcmZsb3csdGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoInVwZGF0ZUdyYXBoQ29tcG9uZW50cyIpKSl9O0VkaXRvci5wcm90b3R5cGUuc2V0TW9kaWZpZWQ9ZnVuY3Rpb24oYSl7dGhpcy5tb2RpZmllZD1hfTsKRWRpdG9yLnByb3RvdHlwZS5zZXRGaWxlbmFtZT1mdW5jdGlvbihhKXt0aGlzLmZpbGVuYW1lPWF9OwpFZGl0b3IucHJvdG90eXBlLmNyZWF0ZVVuZG9NYW5hZ2VyPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5ncmFwaCxjPW5ldyBteFVuZG9NYW5hZ2VyO3RoaXMudW5kb0xpc3RlbmVyPWZ1bmN0aW9uKGEsZil7Yy51bmRvYWJsZUVkaXRIYXBwZW5lZChmLmdldFByb3BlcnR5KCJlZGl0IikpfTt2YXIgZj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGMpe3RoaXMudW5kb0xpc3RlbmVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pO2EuZ2V0TW9kZWwoKS5hZGRMaXN0ZW5lcihteEV2ZW50LlVORE8sZik7YS5nZXRWaWV3KCkuYWRkTGlzdGVuZXIobXhFdmVudC5VTkRPLGYpO2Y9ZnVuY3Rpb24oZCxjKXt2YXIgZj1hLmdldFNlbGVjdGlvbkNlbGxzRm9yQ2hhbmdlcyhjLmdldFByb3BlcnR5KCJlZGl0IikuY2hhbmdlcyxmdW5jdGlvbihhKXtyZXR1cm4hKGEgaW5zdGFuY2VvZiBteENoaWxkQ2hhbmdlKX0pO2lmKDA8Zi5sZW5ndGgpe2EuZ2V0TW9kZWwoKTtmb3IodmFyIG09W10sYj0wO2I8CmYubGVuZ3RoO2IrKyludWxsIT1hLnZpZXcuZ2V0U3RhdGUoZltiXSkmJm0ucHVzaChmW2JdKTthLnNldFNlbGVjdGlvbkNlbGxzKG0pfX07Yy5hZGRMaXN0ZW5lcihteEV2ZW50LlVORE8sZik7Yy5hZGRMaXN0ZW5lcihteEV2ZW50LlJFRE8sZik7cmV0dXJuIGN9O0VkaXRvci5wcm90b3R5cGUuaW5pdFN0ZW5jaWxSZWdpc3RyeT1mdW5jdGlvbigpe307RWRpdG9yLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5ncmFwaCYmKHRoaXMuZ3JhcGguZGVzdHJveSgpLHRoaXMuZ3JhcGg9bnVsbCl9O09wZW5GaWxlPWZ1bmN0aW9uKGEpe3RoaXMuY29uc3VtZXI9dGhpcy5wcm9kdWNlcj1udWxsO3RoaXMuZG9uZT1hO3RoaXMuYXJncz1udWxsfTtPcGVuRmlsZS5wcm90b3R5cGUuc2V0Q29uc3VtZXI9ZnVuY3Rpb24oYSl7dGhpcy5jb25zdW1lcj1hO3RoaXMuZXhlY3V0ZSgpfTsKT3BlbkZpbGUucHJvdG90eXBlLnNldERhdGE9ZnVuY3Rpb24oKXt0aGlzLmFyZ3M9YXJndW1lbnRzO3RoaXMuZXhlY3V0ZSgpfTtPcGVuRmlsZS5wcm90b3R5cGUuZXJyb3I9ZnVuY3Rpb24oYSl7dGhpcy5jYW5jZWwoITApO214VXRpbHMuYWxlcnQoYSl9O09wZW5GaWxlLnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5jb25zdW1lciYmbnVsbCE9dGhpcy5hcmdzJiYodGhpcy5jYW5jZWwoITEpLHRoaXMuY29uc3VtZXIuYXBwbHkodGhpcyx0aGlzLmFyZ3MpKX07T3BlbkZpbGUucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbihhKXtudWxsIT10aGlzLmRvbmUmJnRoaXMuZG9uZShudWxsIT1hP2E6ITApfTsKZnVuY3Rpb24gRGlhbG9nKGEsYyxmLGQsbSxrLHEsYixlLGcscCl7dmFyIGw9MDtteENsaWVudC5JU19WTUwmJihudWxsPT1kb2N1bWVudC5kb2N1bWVudE1vZGV8fDg+ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSYmKGw9ODApO2YrPWw7ZCs9bDt2YXIgbj1mLHY9ZCx0PW14VXRpbHMuZ2V0RG9jdW1lbnRTaXplKCk7bnVsbCE9d2luZG93LmlubmVySGVpZ2h0JiYodC5oZWlnaHQ9d2luZG93LmlubmVySGVpZ2h0KTt2YXIgeD10LmhlaWdodCxBPU1hdGgubWF4KDEsTWF0aC5yb3VuZCgodC53aWR0aC1mLTY0KS8yKSksRD1NYXRoLm1heCgxLE1hdGgucm91bmQoKHgtZC1hLmZvb3RlckhlaWdodCkvMykpO214Q2xpZW50LklTX1FVSVJLU3x8KGMuc3R5bGUubWF4SGVpZ2h0PSIxMDAlIik7Zj1udWxsIT1kb2N1bWVudC5ib2R5P01hdGgubWluKGYsZG9jdW1lbnQuYm9keS5zY3JvbGxXaWR0aC02NCk6ZjtkPU1hdGgubWluKGQseC02NCk7MDxhLmRpYWxvZ3MubGVuZ3RoJiYodGhpcy56SW5kZXgrPQoyKmEuZGlhbG9ncy5sZW5ndGgpO251bGw9PXRoaXMuYmcmJih0aGlzLmJnPWEuY3JlYXRlRGl2KCJiYWNrZ3JvdW5kIiksdGhpcy5iZy5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiLHRoaXMuYmcuc3R5bGUuYmFja2dyb3VuZD1EaWFsb2cuYmFja2Ryb3BDb2xvcix0aGlzLmJnLnN0eWxlLmhlaWdodD14KyJweCIsdGhpcy5iZy5zdHlsZS5yaWdodD0iMHB4Iix0aGlzLmJnLnN0eWxlLnpJbmRleD10aGlzLnpJbmRleC0yLG14VXRpbHMuc2V0T3BhY2l0eSh0aGlzLmJnLHRoaXMuYmdPcGFjaXR5KSxteENsaWVudC5JU19RVUlSS1MmJm5ldyBteERpdlJlc2l6ZXIodGhpcy5iZykpO3Q9bXhVdGlscy5nZXREb2N1bWVudFNjcm9sbE9yaWdpbihkb2N1bWVudCk7dGhpcy5iZy5zdHlsZS5sZWZ0PXQueCsicHgiO3RoaXMuYmcuc3R5bGUudG9wPXQueSsicHgiO0ErPXQueDtEKz10Lnk7bSYmZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmJnKTt2YXIgQj1hLmNyZWF0ZURpdihlPyJnZVRyYW5zRGlhbG9nIjoKImdlRGlhbG9nIik7bT10aGlzLmdldFBvc2l0aW9uKEEsRCxmLGQpO0E9bS54O0Q9bS55O0Iuc3R5bGUud2lkdGg9ZisicHgiO0Iuc3R5bGUuaGVpZ2h0PWQrInB4IjtCLnN0eWxlLmxlZnQ9QSsicHgiO0Iuc3R5bGUudG9wPUQrInB4IjtCLnN0eWxlLnpJbmRleD10aGlzLnpJbmRleDtCLmFwcGVuZENoaWxkKGMpO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoQik7IWImJmMuY2xpZW50SGVpZ2h0PkIuY2xpZW50SGVpZ2h0LTY0JiYoYy5zdHlsZS5vdmVyZmxvd1k9ImF1dG8iKTtpZihrJiYoaz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKSxrLnNldEF0dHJpYnV0ZSgic3JjIixEaWFsb2cucHJvdG90eXBlLmNsb3NlSW1hZ2UpLGsuc2V0QXR0cmlidXRlKCJ0aXRsZSIsbXhSZXNvdXJjZXMuZ2V0KCJjbG9zZSIpKSxrLmNsYXNzTmFtZT0iZ2VEaWFsb2dDbG9zZSIsay5zdHlsZS50b3A9RCsxNCsicHgiLGsuc3R5bGUubGVmdD1BK2YrMzgtbCsicHgiLGsuc3R5bGUuekluZGV4PQp0aGlzLnpJbmRleCxteEV2ZW50LmFkZExpc3RlbmVyKGssImNsaWNrIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2EuaGlkZURpYWxvZyghMCl9KSksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChrKSx0aGlzLmRpYWxvZ0ltZz1rLCFwKSl7dmFyIEM9ITE7bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKHRoaXMuYmcsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7Qz0hMH0pLG51bGwsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7QyYmKGEuaGlkZURpYWxvZyghMCksQz0hMSl9KSl9dGhpcy5yZXNpemVMaXN0ZW5lcj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2lmKG51bGwhPWcpe3ZhciBlPWcoKTtudWxsIT1lJiYobj1mPWUudyx2PWQ9ZS5oKX1lPW14VXRpbHMuZ2V0RG9jdW1lbnRTaXplKCk7eD1lLmhlaWdodDt0aGlzLmJnLnN0eWxlLmhlaWdodD14KyJweCI7QT1NYXRoLm1heCgxLE1hdGgucm91bmQoKGUud2lkdGgtZi02NCkvMikpO0Q9TWF0aC5tYXgoMSwKTWF0aC5yb3VuZCgoeC1kLWEuZm9vdGVySGVpZ2h0KS8zKSk7Zj1udWxsIT1kb2N1bWVudC5ib2R5P01hdGgubWluKG4sZG9jdW1lbnQuYm9keS5zY3JvbGxXaWR0aC02NCk6bjtkPU1hdGgubWluKHYseC02NCk7ZT10aGlzLmdldFBvc2l0aW9uKEEsRCxmLGQpO0E9ZS54O0Q9ZS55O0Iuc3R5bGUubGVmdD1BKyJweCI7Qi5zdHlsZS50b3A9RCsicHgiO0Iuc3R5bGUud2lkdGg9ZisicHgiO0Iuc3R5bGUuaGVpZ2h0PWQrInB4IjshYiYmYy5jbGllbnRIZWlnaHQ+Qi5jbGllbnRIZWlnaHQtNjQmJihjLnN0eWxlLm92ZXJmbG93WT0iYXV0byIpO251bGwhPXRoaXMuZGlhbG9nSW1nJiYodGhpcy5kaWFsb2dJbWcuc3R5bGUudG9wPUQrMTQrInB4Iix0aGlzLmRpYWxvZ0ltZy5zdHlsZS5sZWZ0PUErZiszOC1sKyJweCIpfSk7bXhFdmVudC5hZGRMaXN0ZW5lcih3aW5kb3csInJlc2l6ZSIsdGhpcy5yZXNpemVMaXN0ZW5lcik7dGhpcy5vbkRpYWxvZ0Nsb3NlPXE7dGhpcy5jb250YWluZXI9CkI7YS5lZGl0b3IuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJzaG93RGlhbG9nIikpfURpYWxvZy5iYWNrZHJvcENvbG9yPSJ3aGl0ZSI7RGlhbG9nLnByb3RvdHlwZS56SW5kZXg9bXhQb3B1cE1lbnUucHJvdG90eXBlLnpJbmRleC0xOwpEaWFsb2cucHJvdG90eXBlLm5vQ29sb3JJbWFnZT1teENsaWVudC5JU19TVkc/ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQkFBQUFBUUNBTUFBQUFvTFE5VEFBQUFHWFJGV0hSVGIyWjBkMkZ5WlFCQlpHOWlaU0JKYldGblpWSmxZV1I1Y2NsbFBBQUFBeUJwVkZoMFdFMU1PbU52YlM1aFpHOWlaUzU0YlhBQUFBQUFBRHcvZUhCaFkydGxkQ0JpWldkcGJqMGk3N3UvSWlCcFpEMGlWelZOTUUxd1EyVm9hVWg2Y21WVGVrNVVZM3ByWXpsa0lqOCtJRHg0T25odGNHMWxkR0VnZUcxc2JuTTZlRDBpWVdSdlltVTZibk02YldWMFlTOGlJSGc2ZUcxd2RHczlJa0ZrYjJKbElGaE5VQ0JEYjNKbElEVXVNQzFqTURZd0lEWXhMakV6TkRjM055d2dNakF4TUM4d01pOHhNaTB4Tnpvek1qb3dNQ0FnSUNBZ0lDQWdJajRnUEhKa1pqcFNSRVlnZUcxc2JuTTZjbVJtUFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eE9UazVMekF5THpJeUxYSmtaaTF6ZVc1MFlYZ3Ribk1qSWo0Z1BISmtaanBFWlhOamNtbHdkR2x2YmlCeVpHWTZZV0p2ZFhROUlpSWdlRzFzYm5NNmVHMXdQU0pvZEhSd09pOHZibk11WVdSdlltVXVZMjl0TDNoaGNDOHhMakF2SWlCNGJXeHVjenA0YlhCTlRUMGlhSFIwY0RvdkwyNXpMbUZrYjJKbExtTnZiUzk0WVhBdk1TNHdMMjF0THlJZ2VHMXNibk02YzNSU1pXWTlJbWgwZEhBNkx5OXVjeTVoWkc5aVpTNWpiMjB2ZUdGd0x6RXVNQzl6Vkhsd1pTOVNaWE52ZFhKalpWSmxaaU1pSUhodGNEcERjbVZoZEc5eVZHOXZiRDBpUVdSdlltVWdVR2h2ZEc5emFHOXdJRU5UTlNCWGFXNWtiM2R6SWlCNGJYQk5UVHBKYm5OMFlXNWpaVWxFUFNKNGJYQXVhV2xrT2tFelJEbEJNVVV3T0RZeE1URXhSVEZDTXpBNFJEZERNakpCTUVNeFJETTNJaUI0YlhCTlRUcEViMk4xYldWdWRFbEVQU0o0YlhBdVpHbGtPa0V6UkRsQk1VVXhPRFl4TVRFeFJURkNNekE0UkRkRE1qSkJNRU14UkRNM0lqNGdQSGh0Y0UxTk9rUmxjbWwyWldSR2NtOXRJSE4wVW1WbU9tbHVjM1JoYm1ObFNVUTlJbmh0Y0M1cGFXUTZRVE5FT1VFeFJFVTROakV4TVRGRk1VSXpNRGhFTjBNeU1rRXdRekZFTXpjaUlITjBVbVZtT21SdlkzVnRaVzUwU1VROUluaHRjQzVrYVdRNlFUTkVPVUV4UkVZNE5qRXhNVEZGTVVJek1EaEVOME15TWtFd1F6RkVNemNpTHo0Z1BDOXlaR1k2UkdWelkzSnBjSFJwYjI0K0lEd3ZjbVJtT2xKRVJqNGdQQzk0T25odGNHMWxkR0UrSUR3L2VIQmhZMnRsZENCbGJtUTlJbklpUHo1eGgzZm1BQUFBQmxCTVZFWC8vLy9Nek13NDZxcURBQUFBR0VsRVFWUjQybUpnZ0FKR0tHQVlJSUdCdGg4S0FBSU1BRVVRQUlFbG5MdVFBQUFBQUVsRlRrU3VRbUNDIjpJTUFHRV9QQVRIKwoiL25vY29sb3IucG5nIjtEaWFsb2cucHJvdG90eXBlLmNsb3NlSW1hZ2U9bXhDbGllbnQuSVNfU1ZHPyJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFrQUFBQUpBUU1BQUFEYVg1UlRBQUFBQmxCTVZFVjdtcjMvLy8rd2tzc3BBQUFBQW5SU1RsUC9BT1czTUVvQUFBQWRTVVJCVkFnZFk5alh3Q0REd05EUndIQ3dnZUV4bUFTeWdTTDdHZ0IxMlFpcU5IWlpJd0FBQUFCSlJVNUVya0pnZ2c9PSI6SU1BR0VfUEFUSCsiL2Nsb3NlLnBuZyI7CkRpYWxvZy5wcm90b3R5cGUuY2xlYXJJbWFnZT1teENsaWVudC5JU19TVkc/ImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaERRQUtBSUFCQU1EQXdQLy8veUgvQzFoTlVDQkVZWFJoV0UxUVBEOTRjR0ZqYTJWMElHSmxaMmx1UFNMdnU3OGlJR2xrUFNKWE5VMHdUWEJEWldocFNIcHlaVk42VGxSamVtdGpPV1FpUHo0Z1BIZzZlRzF3YldWMFlTQjRiV3h1Y3pwNFBTSmhaRzlpWlRwdWN6cHRaWFJoTHlJZ2VEcDRiWEIwYXowaVFXUnZZbVVnV0UxUUlFTnZjbVVnTlM0d0xXTXdOakFnTmpFdU1UTTBOemMzTENBeU1ERXdMekF5THpFeUxURTNPak15T2pBd0lDQWdJQ0FnSUNBaVBpQThjbVJtT2xKRVJpQjRiV3h1Y3pweVpHWTlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5MekU1T1Rrdk1ESXZNakl0Y21SbUxYTjViblJoZUMxdWN5TWlQaUE4Y21SbU9rUmxjMk55YVhCMGFXOXVJSEprWmpwaFltOTFkRDBpSWlCNGJXeHVjenA0YlhBOUltaDBkSEE2THk5dWN5NWhaRzlpWlM1amIyMHZlR0Z3THpFdU1DOGlJSGh0Ykc1ek9uaHRjRTFOUFNKb2RIUndPaTh2Ym5NdVlXUnZZbVV1WTI5dEwzaGhjQzh4TGpBdmJXMHZJaUI0Yld4dWN6cHpkRkpsWmowaWFIUjBjRG92TDI1ekxtRmtiMkpsTG1OdmJTOTRZWEF2TVM0d0wzTlVlWEJsTDFKbGMyOTFjbU5sVW1WbUl5SWdlRzF3T2tOeVpXRjBiM0pVYjI5c1BTSkJaRzlpWlNCUWFHOTBiM05vYjNBZ1ExTTFJRmRwYm1SdmQzTWlJSGh0Y0UxTk9rbHVjM1JoYm1ObFNVUTlJbmh0Y0M1cGFXUTZPVUl6T0VNMU56STROakV5TVRGRk1VRXpNa05ETVVFM05qWkVSREUyUWpJaUlIaHRjRTFOT2tSdlkzVnRaVzUwU1VROUluaHRjQzVrYVdRNk9VSXpPRU0xTnpNNE5qRXlNVEZGTVVFek1rTkRNVUUzTmpaRVJERTJRaklpUGlBOGVHMXdUVTA2UkdWeWFYWmxaRVp5YjIwZ2MzUlNaV1k2YVc1emRHRnVZMlZKUkQwaWVHMXdMbWxwWkRvNVFqTTRRelUzTURnMk1USXhNVVV4UVRNeVEwTXhRVGMyTmtSRU1UWkNNaUlnYzNSU1pXWTZaRzlqZFcxbGJuUkpSRDBpZUcxd0xtUnBaRG81UWpNNFF6VTNNVGcyTVRJeE1VVXhRVE15UTBNeFFUYzJOa1JFTVRaQ01pSXZQaUE4TDNKa1pqcEVaWE5qY21sd2RHbHZiajRnUEM5eVpHWTZVa1JHUGlBOEwzZzZlRzF3YldWMFlUNGdQRDk0Y0dGamEyVjBJR1Z1WkQwaWNpSS9QZ0gvL3YzOCsvcjUrUGYyOWZUejh2SHc3Kzd0N092cTZlam41dVhrNCtMaDROL2UzZHpiMnRuWTE5YlYxTlBTMGREUHpzM015OHJKeU1mR3hjVER3c0hBdjc2OXZMdTZ1YmkzdHJXMHM3S3hzSyt1cmF5cnFxbW9wNmFscEtPaW9hQ2ZucDJjbTVxWm1KZVdsWlNUa3BHUWo0Nk5qSXVLaVlpSGhvV0VnNEtCZ0g5K2ZYeDdlbmw0ZDNaMWRITnljWEJ2Ym0xc2EycHBhR2RtWldSalltRmdYMTVkWEZ0YVdWaFhWbFZVVTFKUlVFOU9UVXhMU2tsSVIwWkZSRU5DUVVBL1BqMDhPem81T0RjMk5UUXpNakV3THk0dExDc3FLU2duSmlVa0l5SWhJQjhlSFJ3Ykdoa1lGeFlWRkJNU0VSQVBEZzBNQ3dvSkNBY0dCUVFEQWdFQUFDSDVCQUVBQUFFQUxBQUFBQUFOQUFvQUFBSVhUR0NKZWJEOWpFT1RxUmx0dFhkckIzMlBKMm5jeVJRQU93PT0iOklNQUdFX1BBVEgrCiIvY2xlYXIuZ2lmIjsKRGlhbG9nLnByb3RvdHlwZS5sb2NrZWRJbWFnZT1teENsaWVudC5JU19TVkc/ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQXdBQUFBTUNBTUFBQUJocTZ6VkFBQUFHWFJGV0hSVGIyWjBkMkZ5WlFCQlpHOWlaU0JKYldGblpWSmxZV1I1Y2NsbFBBQUFBeUpwVkZoMFdFMU1PbU52YlM1aFpHOWlaUzU0YlhBQUFBQUFBRHcvZUhCaFkydGxkQ0JpWldkcGJqMGk3N3UvSWlCcFpEMGlWelZOTUUxd1EyVm9hVWg2Y21WVGVrNVVZM3ByWXpsa0lqOCtJRHg0T25odGNHMWxkR0VnZUcxc2JuTTZlRDBpWVdSdlltVTZibk02YldWMFlTOGlJSGc2ZUcxd2RHczlJa0ZrYjJKbElGaE5VQ0JEYjNKbElEVXVNQzFqTURZd0lEWXhMakV6TkRjM055d2dNakF4TUM4d01pOHhNaTB4Tnpvek1qb3dNQ0FnSUNBZ0lDQWdJajRnUEhKa1pqcFNSRVlnZUcxc2JuTTZjbVJtUFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eE9UazVMekF5THpJeUxYSmtaaTF6ZVc1MFlYZ3Ribk1qSWo0Z1BISmtaanBFWlhOamNtbHdkR2x2YmlCeVpHWTZZV0p2ZFhROUlpSWdlRzFzYm5NNmVHMXdQU0pvZEhSd09pOHZibk11WVdSdlltVXVZMjl0TDNoaGNDOHhMakF2SWlCNGJXeHVjenA0YlhCTlRUMGlhSFIwY0RvdkwyNXpMbUZrYjJKbExtTnZiUzk0WVhBdk1TNHdMMjF0THlJZ2VHMXNibk02YzNSU1pXWTlJbWgwZEhBNkx5OXVjeTVoWkc5aVpTNWpiMjB2ZUdGd0x6RXVNQzl6Vkhsd1pTOVNaWE52ZFhKalpWSmxaaU1pSUhodGNEcERjbVZoZEc5eVZHOXZiRDBpUVdSdlltVWdVR2h2ZEc5emFHOXdJRU5UTlNCTllXTnBiblJ2YzJnaUlIaHRjRTFOT2tsdWMzUmhibU5sU1VROUluaHRjQzVwYVdRNk16ZERNRFpDT0RFeE56SXhNVEZGTlVJMFJUazVOVGc0T1RjeU1VVXlPREVpSUhodGNFMU5Pa1J2WTNWdFpXNTBTVVE5SW5odGNDNWthV1E2TXpkRE1EWkNPREl4TnpJeE1URkZOVUkwUlRrNU5UZzRPVGN5TVVVeU9ERWlQaUE4ZUcxd1RVMDZSR1Z5YVhabFpFWnliMjBnYzNSU1pXWTZhVzV6ZEdGdVkyVkpSRDBpZUcxd0xtbHBaRG96TjBNd05rSTNSakUzTWpFeE1VVTFRalJGT1RrMU9EZzVOekl4UlRJNE1TSWdjM1JTWldZNlpHOWpkVzFsYm5SSlJEMGllRzF3TG1ScFpEb3pOME13TmtJNE1ERTNNakV4TVVVMVFqUkZPVGsxT0RnNU56SXhSVEk0TVNJdlBpQThMM0prWmpwRVpYTmpjbWx3ZEdsdmJqNGdQQzl5WkdZNlVrUkdQaUE4TDNnNmVHMXdiV1YwWVQ0Z1BEOTRjR0ZqYTJWMElHVnVaRDBpY2lJL1B2cU1DRllBQUFBVlVFeFVSWm1abWIrL3Y3S3lzcXlzck16TXpMR3hzZi8vLzRnOE4xY0FBQUFIZEZKT1UvLy8vLy8vL3dBYVN3TkdBQUFBUEVsRVFWUjQybFRNUVE0QUlRZ0V3VWEwLy85a1RRaXJPd2VZT2dEcUFNYlpVcjEwQUdsQXd4NC9CSjJRSjRVMEw1YnJZam92dnB2MzJ4WmdBSFphQVRGdE1idTRBQUFBQUVsRlRrU3VRbUNDIjpJTUFHRV9QQVRIKwoiL2xvY2tlZC5wbmciOwpEaWFsb2cucHJvdG90eXBlLnVubG9ja2VkSW1hZ2U9bXhDbGllbnQuSVNfU1ZHPyJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUF3QUFBQU1DQU1BQUFCaHE2elZBQUFBR1hSRldIUlRiMlowZDJGeVpRQkJaRzlpWlNCSmJXRm5aVkpsWVdSNWNjbGxQQUFBQXlKcFZGaDBXRTFNT21OdmJTNWhaRzlpWlM1NGJYQUFBQUFBQUR3L2VIQmhZMnRsZENCaVpXZHBiajBpNzd1L0lpQnBaRDBpVnpWTk1FMXdRMlZvYVVoNmNtVlRlazVVWTNwcll6bGtJajgrSUR4NE9uaHRjRzFsZEdFZ2VHMXNibk02ZUQwaVlXUnZZbVU2Ym5NNmJXVjBZUzhpSUhnNmVHMXdkR3M5SWtGa2IySmxJRmhOVUNCRGIzSmxJRFV1TUMxak1EWXdJRFl4TGpFek5EYzNOeXdnTWpBeE1DOHdNaTh4TWkweE56b3pNam93TUNBZ0lDQWdJQ0FnSWo0Z1BISmtaanBTUkVZZ2VHMXNibk02Y21SbVBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHhPVGs1THpBeUx6SXlMWEprWmkxemVXNTBZWGd0Ym5NaklqNGdQSEprWmpwRVpYTmpjbWx3ZEdsdmJpQnlaR1k2WVdKdmRYUTlJaUlnZUcxc2JuTTZlRzF3UFNKb2RIUndPaTh2Ym5NdVlXUnZZbVV1WTI5dEwzaGhjQzh4TGpBdklpQjRiV3h1Y3pwNGJYQk5UVDBpYUhSMGNEb3ZMMjV6TG1Ga2IySmxMbU52YlM5NFlYQXZNUzR3TDIxdEx5SWdlRzFzYm5NNmMzUlNaV1k5SW1oMGRIQTZMeTl1Y3k1aFpHOWlaUzVqYjIwdmVHRndMekV1TUM5elZIbHdaUzlTWlhOdmRYSmpaVkpsWmlNaUlIaHRjRHBEY21WaGRHOXlWRzl2YkQwaVFXUnZZbVVnVUdodmRHOXphRzl3SUVOVE5TQk5ZV05wYm5SdmMyZ2lJSGh0Y0UxTk9rbHVjM1JoYm1ObFNVUTlJbmh0Y0M1cGFXUTZNemRETURaQ04wUXhOekl4TVRGRk5VSTBSVGs1TlRnNE9UY3lNVVV5T0RFaUlIaHRjRTFOT2tSdlkzVnRaVzUwU1VROUluaHRjQzVrYVdRNk16ZERNRFpDTjBVeE56SXhNVEZGTlVJMFJUazVOVGc0T1RjeU1VVXlPREVpUGlBOGVHMXdUVTA2UkdWeWFYWmxaRVp5YjIwZ2MzUlNaV1k2YVc1emRHRnVZMlZKUkQwaWVHMXdMbWxwWkRvek4wTXdOa0kzUWpFM01qRXhNVVUxUWpSRk9UazFPRGc1TnpJeFJUSTRNU0lnYzNSU1pXWTZaRzlqZFcxbGJuUkpSRDBpZUcxd0xtUnBaRG96TjBNd05rSTNRekUzTWpFeE1VVTFRalJGT1RrMU9EZzVOekl4UlRJNE1TSXZQaUE4TDNKa1pqcEVaWE5qY21sd2RHbHZiajRnUEM5eVpHWTZVa1JHUGlBOEwzZzZlRzF3YldWMFlUNGdQRDk0Y0dGamEyVjBJR1Z1WkQwaWNpSS9Qa0tNcFZ3QUFBQVlVRXhVUlptWm1iS3lzcisvdjZ5c3JPWGw1Y3pNekxHeHNmLy8vekhONWx3QUFBQUlkRkpPVS8vLy8vLy8vLzhBM29POVdRQUFBRHhKUkVGVWVOcFV6RkVTQUNBRUJOQlZzZmUvY1pKVSs4TXpzOENJQUJDaWR0ZkdPbmRuWXNUNDBIRFNpQ2NiUGRvSm8xMG85YUk2NzdjcHdBQ1JvQUYzZEZObHN3QUFBQUJKUlU1RXJrSmdnZz09IjpJTUFHRV9QQVRIKwoiL3VubG9ja2VkLnBuZyI7RGlhbG9nLnByb3RvdHlwZS5iZ09wYWNpdHk9ODA7RGlhbG9nLnByb3RvdHlwZS5nZXRQb3NpdGlvbj1mdW5jdGlvbihhLGMpe3JldHVybiBuZXcgbXhQb2ludChhLGMpfTtEaWFsb2cucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKGEsYyl7aWYobnVsbCE9dGhpcy5vbkRpYWxvZ0Nsb3NlKXtpZigwPT10aGlzLm9uRGlhbG9nQ2xvc2UoYSxjKSlyZXR1cm4hMTt0aGlzLm9uRGlhbG9nQ2xvc2U9bnVsbH1udWxsIT10aGlzLmRpYWxvZ0ltZyYmKHRoaXMuZGlhbG9nSW1nLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5kaWFsb2dJbWcpLHRoaXMuZGlhbG9nSW1nPW51bGwpO251bGwhPXRoaXMuYmcmJm51bGwhPXRoaXMuYmcucGFyZW50Tm9kZSYmdGhpcy5iZy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuYmcpO214RXZlbnQucmVtb3ZlTGlzdGVuZXIod2luZG93LCJyZXNpemUiLHRoaXMucmVzaXplTGlzdGVuZXIpO3RoaXMuY29udGFpbmVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5jb250YWluZXIpfTsKdmFyIEVycm9yRGlhbG9nPWZ1bmN0aW9uKGEsYyxmLGQsbSxrLHEsYixlLGcscCl7ZT1udWxsIT1lP2U6ITA7dmFyIGw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7bC5zdHlsZS50ZXh0QWxpZ249ImNlbnRlciI7aWYobnVsbCE9Yyl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7bi5zdHlsZS5wYWRkaW5nPSIwcHgiO24uc3R5bGUubWFyZ2luPSIwcHgiO24uc3R5bGUuZm9udFNpemU9IjE4cHgiO24uc3R5bGUucGFkZGluZ0JvdHRvbT0iMTZweCI7bi5zdHlsZS5tYXJnaW5Cb3R0b209IjEwcHgiO24uc3R5bGUuYm9yZGVyQm90dG9tPSIxcHggc29saWQgI2MwYzBjMCI7bi5zdHlsZS5jb2xvcj0iZ3JheSI7bi5zdHlsZS53aGl0ZVNwYWNlPSJub3dyYXAiO24uc3R5bGUudGV4dE92ZXJmbG93PSJlbGxpcHNpcyI7bi5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIjtteFV0aWxzLndyaXRlKG4sYyk7bi5zZXRBdHRyaWJ1dGUoInRpdGxlIixjKTtsLmFwcGVuZENoaWxkKG4pfWM9CmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Muc3R5bGUubGluZUhlaWdodD0iMS4yZW0iO2Muc3R5bGUucGFkZGluZz0iNnB4IjtjLmlubmVySFRNTD1mO2wuYXBwZW5kQ2hpbGQoYyk7Zj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtmLnN0eWxlLm1hcmdpblRvcD0iMTJweCI7Zi5zdHlsZS50ZXh0QWxpZ249ImNlbnRlciI7bnVsbCE9ayYmKGM9bXhVdGlscy5idXR0b24obXhSZXNvdXJjZXMuZ2V0KCJ0cnlBZ2FpbiIpLGZ1bmN0aW9uKCl7YS5oaWRlRGlhbG9nKCk7aygpfSksYy5jbGFzc05hbWU9ImdlQnRuIixmLmFwcGVuZENoaWxkKGMpLGYuc3R5bGUudGV4dEFsaWduPSJjZW50ZXIiKTtudWxsIT1nJiYoZz1teFV0aWxzLmJ1dHRvbihnLGZ1bmN0aW9uKCl7bnVsbCE9cCYmcCgpfSksZy5jbGFzc05hbWU9ImdlQnRuIixmLmFwcGVuZENoaWxkKGcpKTt2YXIgdj1teFV0aWxzLmJ1dHRvbihkLGZ1bmN0aW9uKCl7ZSYmYS5oaWRlRGlhbG9nKCk7bnVsbCE9bSYmbSgpfSk7CnYuY2xhc3NOYW1lPSJnZUJ0biI7Zi5hcHBlbmRDaGlsZCh2KTtudWxsIT1xJiYoZD1teFV0aWxzLmJ1dHRvbihxLGZ1bmN0aW9uKCl7ZSYmYS5oaWRlRGlhbG9nKCk7bnVsbCE9YiYmYigpfSksZC5jbGFzc05hbWU9ImdlQnRuIGdlUHJpbWFyeUJ0biIsZi5hcHBlbmRDaGlsZChkKSk7dGhpcy5pbml0PWZ1bmN0aW9uKCl7di5mb2N1cygpfTtsLmFwcGVuZENoaWxkKGYpO3RoaXMuY29udGFpbmVyPWx9LFByaW50RGlhbG9nPWZ1bmN0aW9uKGEsYyl7dGhpcy5jcmVhdGUoYSxjKX07ClByaW50RGlhbG9nLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYyhhKXt2YXIgZT1iLmNoZWNrZWR8fGcuY2hlY2tlZCxkPXBhcnNlSW50KGwudmFsdWUpLzEwMDtpc05hTihkKSYmKGQ9MSxsLnZhbHVlPSIxMDAlIik7dmFyIGQ9Ljc1KmQsYz1mLnBhZ2VGb3JtYXR8fG14Q29uc3RhbnRzLlBBR0VfRk9STUFUX0E0X1BPUlRSQUlULG49MS9mLnBhZ2VTY2FsZTtpZihlKXt2YXIgaz1iLmNoZWNrZWQ/MTpwYXJzZUludChwLnZhbHVlKTtpc05hTihrKXx8KG49bXhVdGlscy5nZXRTY2FsZUZvclBhZ2VDb3VudChrLGYsYykpfWYuZ2V0R3JhcGhCb3VuZHMoKTt2YXIgdj1rPTAsYz1teFJlY3RhbmdsZS5mcm9tUmVjdGFuZ2xlKGMpO2Mud2lkdGg9TWF0aC5jZWlsKGMud2lkdGgqZCk7Yy5oZWlnaHQ9TWF0aC5jZWlsKGMuaGVpZ2h0KmQpO24qPWQ7IWUmJmYucGFnZVZpc2libGU/KGQ9Zi5nZXRQYWdlTGF5b3V0KCksay09ZC54KmMud2lkdGgsdi09ZC55KmMuaGVpZ2h0KToKZT0hMDtlPVByaW50RGlhbG9nLmNyZWF0ZVByaW50UHJldmlldyhmLG4sYywwLGssdixlKTtlLm9wZW4oKTthJiZQcmludERpYWxvZy5wcmludFByZXZpZXcoZSl9dmFyIGY9YS5lZGl0b3IuZ3JhcGgsZCxtLGs9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGFibGUiKTtrLnN0eWxlLndpZHRoPSIxMDAlIjtrLnN0eWxlLmhlaWdodD0iMTAwJSI7dmFyIHE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGJvZHkiKTtkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyIik7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtiLnNldEF0dHJpYnV0ZSgidHlwZSIsImNoZWNrYm94Iik7bT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpO20uc2V0QXR0cmlidXRlKCJjb2xzcGFuIiwiMiIpO20uc3R5bGUuZm9udFNpemU9IjEwcHQiO20uYXBwZW5kQ2hpbGQoYik7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpO214VXRpbHMud3JpdGUoZSwiICIrbXhSZXNvdXJjZXMuZ2V0KCJmaXRQYWdlIikpOwptLmFwcGVuZENoaWxkKGUpO214RXZlbnQuYWRkTGlzdGVuZXIoZSwiY2xpY2siLGZ1bmN0aW9uKGEpe2IuY2hlY2tlZD0hYi5jaGVja2VkO2cuY2hlY2tlZD0hYi5jaGVja2VkO214RXZlbnQuY29uc3VtZShhKX0pO214RXZlbnQuYWRkTGlzdGVuZXIoYiwiY2hhbmdlIixmdW5jdGlvbigpe2cuY2hlY2tlZD0hYi5jaGVja2VkfSk7ZC5hcHBlbmRDaGlsZChtKTtxLmFwcGVuZENoaWxkKGQpO2Q9ZC5jbG9uZU5vZGUoITEpO3ZhciBnPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7Zy5zZXRBdHRyaWJ1dGUoInR5cGUiLCJjaGVja2JveCIpO209ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTttLnN0eWxlLmZvbnRTaXplPSIxMHB0IjttLmFwcGVuZENoaWxkKGcpO2U9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpO214VXRpbHMud3JpdGUoZSwiICIrbXhSZXNvdXJjZXMuZ2V0KCJwb3N0ZXJQcmludCIpKyI6Iik7bS5hcHBlbmRDaGlsZChlKTtteEV2ZW50LmFkZExpc3RlbmVyKGUsCiJjbGljayIsZnVuY3Rpb24oYSl7Zy5jaGVja2VkPSFnLmNoZWNrZWQ7Yi5jaGVja2VkPSFnLmNoZWNrZWQ7bXhFdmVudC5jb25zdW1lKGEpfSk7ZC5hcHBlbmRDaGlsZChtKTt2YXIgcD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO3Auc2V0QXR0cmlidXRlKCJ2YWx1ZSIsIjEiKTtwLnNldEF0dHJpYnV0ZSgidHlwZSIsIm51bWJlciIpO3Auc2V0QXR0cmlidXRlKCJtaW4iLCIxIik7cC5zZXRBdHRyaWJ1dGUoInNpemUiLCI0Iik7cC5zZXRBdHRyaWJ1dGUoImRpc2FibGVkIiwiZGlzYWJsZWQiKTtwLnN0eWxlLndpZHRoPSI1MHB4IjttPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7bS5zdHlsZS5mb250U2l6ZT0iMTBwdCI7bS5hcHBlbmRDaGlsZChwKTtteFV0aWxzLndyaXRlKG0sIiAiK214UmVzb3VyY2VzLmdldCgicGFnZXMiKSsiIChtYXgpIik7ZC5hcHBlbmRDaGlsZChtKTtxLmFwcGVuZENoaWxkKGQpO214RXZlbnQuYWRkTGlzdGVuZXIoZywiY2hhbmdlIiwKZnVuY3Rpb24oKXtnLmNoZWNrZWQ/cC5yZW1vdmVBdHRyaWJ1dGUoImRpc2FibGVkIik6cC5zZXRBdHRyaWJ1dGUoImRpc2FibGVkIiwiZGlzYWJsZWQiKTtiLmNoZWNrZWQ9IWcuY2hlY2tlZH0pO2Q9ZC5jbG9uZU5vZGUoITEpO209ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTtteFV0aWxzLndyaXRlKG0sbXhSZXNvdXJjZXMuZ2V0KCJwYWdlU2NhbGUiKSsiOiIpO2QuYXBwZW5kQ2hpbGQobSk7bT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpO3ZhciBsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7bC5zZXRBdHRyaWJ1dGUoInZhbHVlIiwiMTAwICUiKTtsLnNldEF0dHJpYnV0ZSgic2l6ZSIsIjUiKTtsLnN0eWxlLndpZHRoPSI1MHB4IjttLmFwcGVuZENoaWxkKGwpO2QuYXBwZW5kQ2hpbGQobSk7cS5hcHBlbmRDaGlsZChkKTtkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyIik7bT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpO20uY29sU3Bhbj0yOwptLnN0eWxlLnBhZGRpbmdUb3A9IjIwcHgiO20uc2V0QXR0cmlidXRlKCJhbGlnbiIsInJpZ2h0Iik7ZT1teFV0aWxzLmJ1dHRvbihteFJlc291cmNlcy5nZXQoImNhbmNlbCIpLGZ1bmN0aW9uKCl7YS5oaWRlRGlhbG9nKCl9KTtlLmNsYXNzTmFtZT0iZ2VCdG4iO2EuZWRpdG9yLmNhbmNlbEZpcnN0JiZtLmFwcGVuZENoaWxkKGUpO2lmKFByaW50RGlhbG9nLnByZXZpZXdFbmFibGVkKXt2YXIgbj1teFV0aWxzLmJ1dHRvbihteFJlc291cmNlcy5nZXQoInByZXZpZXciKSxmdW5jdGlvbigpe2EuaGlkZURpYWxvZygpO2MoITEpfSk7bi5jbGFzc05hbWU9ImdlQnRuIjttLmFwcGVuZENoaWxkKG4pfW49bXhVdGlscy5idXR0b24obXhSZXNvdXJjZXMuZ2V0KFByaW50RGlhbG9nLnByZXZpZXdFbmFibGVkPyJwcmludCI6Im9rIiksZnVuY3Rpb24oKXthLmhpZGVEaWFsb2coKTtjKCEwKX0pO24uY2xhc3NOYW1lPSJnZUJ0biBnZVByaW1hcnlCdG4iO20uYXBwZW5kQ2hpbGQobik7YS5lZGl0b3IuY2FuY2VsRmlyc3R8fAptLmFwcGVuZENoaWxkKGUpO2QuYXBwZW5kQ2hpbGQobSk7cS5hcHBlbmRDaGlsZChkKTtrLmFwcGVuZENoaWxkKHEpO3RoaXMuY29udGFpbmVyPWt9O1ByaW50RGlhbG9nLnByaW50UHJldmlldz1mdW5jdGlvbihhKXt0cnl7aWYobnVsbCE9YS53bmQpe3ZhciBjPWZ1bmN0aW9uKCl7YS53bmQuZm9jdXMoKTthLnduZC5wcmludCgpO2Eud25kLmNsb3NlKCl9O214Q2xpZW50LklTX0dDP3dpbmRvdy5zZXRUaW1lb3V0KGMsNTAwKTpjKCl9fWNhdGNoKGYpe319OwpQcmludERpYWxvZy5jcmVhdGVQcmludFByZXZpZXc9ZnVuY3Rpb24oYSxjLGYsZCxtLGsscSl7Yz1uZXcgbXhQcmludFByZXZpZXcoYSxjLGYsZCxtLGspO2MudGl0bGU9bXhSZXNvdXJjZXMuZ2V0KCJwcmV2aWV3Iik7Yy5wcmludEJhY2tncm91bmRJbWFnZT0hMDtjLmF1dG9PcmlnaW49cTthPWEuYmFja2dyb3VuZDtpZihudWxsPT1hfHwiIj09YXx8YT09bXhDb25zdGFudHMuTk9ORSlhPSIjZmZmZmZmIjtjLmJhY2tncm91bmRDb2xvcj1hO3ZhciBiPWMud3JpdGVIZWFkO2Mud3JpdGVIZWFkPWZ1bmN0aW9uKGEpe2IuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Eud3JpdGVsbignPHN0eWxlIHR5cGU9InRleHQvY3NzIj4nKTthLndyaXRlbG4oIkBtZWRpYSBzY3JlZW4geyIpO2Eud3JpdGVsbigiICBib2R5ID4gZGl2IHsgcGFkZGluZzozMHB4O2JveC1zaXppbmc6Y29udGVudC1ib3g7IH0iKTthLndyaXRlbG4oIn0iKTthLndyaXRlbG4oIjwvc3R5bGU+Iil9O3JldHVybiBjfTsKUHJpbnREaWFsb2cucHJldmlld0VuYWJsZWQ9ITA7CnZhciBQYWdlU2V0dXBEaWFsb2c9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYygpe251bGw9PXB8fHA9PW14Q29uc3RhbnRzLk5PTkU/KGcuc3R5bGUuYmFja2dyb3VuZENvbG9yPSIiLGcuc3R5bGUuYmFja2dyb3VuZEltYWdlPSJ1cmwoJyIrRGlhbG9nLnByb3RvdHlwZS5ub0NvbG9ySW1hZ2UrIicpIik6KGcuc3R5bGUuYmFja2dyb3VuZENvbG9yPXAsZy5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9IiIpfWZ1bmN0aW9uIGYoKXtudWxsPT12PyhuLnJlbW92ZUF0dHJpYnV0ZSgidGl0bGUiKSxuLnN0eWxlLmZvbnRTaXplPSIiLG4uaW5uZXJIVE1MPW14VXRpbHMuaHRtbEVudGl0aWVzKG14UmVzb3VyY2VzLmdldCgiY2hhbmdlIikpKyIuLi4iKToobi5zZXRBdHRyaWJ1dGUoInRpdGxlIix2LnNyYyksbi5zdHlsZS5mb250U2l6ZT0iMTFweCIsbi5pbm5lckhUTUw9bXhVdGlscy5odG1sRW50aXRpZXModi5zcmMuc3Vic3RyaW5nKDAsNDIpKSsiLi4uIil9dmFyIGQ9YS5lZGl0b3IuZ3JhcGgsbSwKayxxPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRhYmxlIik7cS5zdHlsZS53aWR0aD0iMTAwJSI7cS5zdHlsZS5oZWlnaHQ9IjEwMCUiO3ZhciBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRib2R5Iik7bT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ciIpO2s9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTtrLnN0eWxlLnZlcnRpY2FsQWxpZ249InRvcCI7ay5zdHlsZS5mb250U2l6ZT0iMTBwdCI7bXhVdGlscy53cml0ZShrLG14UmVzb3VyY2VzLmdldCgicGFwZXJTaXplIikrIjoiKTttLmFwcGVuZENoaWxkKGspO2s9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTtrLnN0eWxlLnZlcnRpY2FsQWxpZ249InRvcCI7ay5zdHlsZS5mb250U2l6ZT0iMTBwdCI7dmFyIGU9UGFnZVNldHVwRGlhbG9nLmFkZFBhZ2VGb3JtYXRQYW5lbChrLCJwYWdlc2V0dXBkaWFsb2ciLGQucGFnZUZvcm1hdCk7bS5hcHBlbmRDaGlsZChrKTtiLmFwcGVuZENoaWxkKG0pO209ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKTsKaz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpO214VXRpbHMud3JpdGUoayxteFJlc291cmNlcy5nZXQoImJhY2tncm91bmQiKSsiOiIpO20uYXBwZW5kQ2hpbGQoayk7az1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpO2suc3R5bGUud2hpdGVTcGFjZT0ibm93cmFwIjtkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpLnNldEF0dHJpYnV0ZSgidHlwZSIsInRleHQiKTt2YXIgZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTtnLnN0eWxlLndpZHRoPSIxOHB4IjtnLnN0eWxlLmhlaWdodD0iMThweCI7Zy5zdHlsZS5tYXJnaW5SaWdodD0iMjBweCI7Zy5zdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb249ImNlbnRlciBjZW50ZXIiO2cuc3R5bGUuYmFja2dyb3VuZFJlcGVhdD0ibm8tcmVwZWF0Ijt2YXIgcD1kLmJhY2tncm91bmQ7YygpO214RXZlbnQuYWRkTGlzdGVuZXIoZywiY2xpY2siLGZ1bmN0aW9uKGIpe2EucGlja0NvbG9yKHB8fCJub25lIixmdW5jdGlvbihhKXtwPQphO2MoKX0pO214RXZlbnQuY29uc3VtZShiKX0pO2suYXBwZW5kQ2hpbGQoZyk7bXhVdGlscy53cml0ZShrLG14UmVzb3VyY2VzLmdldCgiZ3JpZFNpemUiKSsiOiIpO3ZhciBsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7bC5zZXRBdHRyaWJ1dGUoInR5cGUiLCJudW1iZXIiKTtsLnNldEF0dHJpYnV0ZSgibWluIiwiMCIpO2wuc3R5bGUud2lkdGg9IjQwcHgiO2wuc3R5bGUubWFyZ2luTGVmdD0iNnB4IjtsLnZhbHVlPWQuZ2V0R3JpZFNpemUoKTtrLmFwcGVuZENoaWxkKGwpO214RXZlbnQuYWRkTGlzdGVuZXIobCwiY2hhbmdlIixmdW5jdGlvbigpe3ZhciBhPXBhcnNlSW50KGwudmFsdWUpO2wudmFsdWU9TWF0aC5tYXgoMSxpc05hTihhKT9kLmdldEdyaWRTaXplKCk6YSl9KTttLmFwcGVuZENoaWxkKGspO2IuYXBwZW5kQ2hpbGQobSk7bT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ciIpO2s9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTtteFV0aWxzLndyaXRlKGssCm14UmVzb3VyY2VzLmdldCgiaW1hZ2UiKSsiOiIpO20uYXBwZW5kQ2hpbGQoayk7az1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpO3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTtuLnN0eWxlLnRleHREZWNvcmF0aW9uPSJ1bmRlcmxpbmUiO24uc3R5bGUuY3Vyc29yPSJwb2ludGVyIjtuLnN0eWxlLmNvbG9yPSIjYTBhMGEwIjt2YXIgdj1kLmJhY2tncm91bmRJbWFnZTtteEV2ZW50LmFkZExpc3RlbmVyKG4sImNsaWNrIixmdW5jdGlvbihiKXthLnNob3dCYWNrZ3JvdW5kSW1hZ2VEaWFsb2coZnVuY3Rpb24oYSxiKXtifHwodj1hLGYoKSl9LHYpO214RXZlbnQuY29uc3VtZShiKX0pO2YoKTtrLmFwcGVuZENoaWxkKG4pO20uYXBwZW5kQ2hpbGQoayk7Yi5hcHBlbmRDaGlsZChtKTttPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyIik7az1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpO2suY29sU3Bhbj0yO2suc3R5bGUucGFkZGluZ1RvcD0iMTZweCI7ay5zZXRBdHRyaWJ1dGUoImFsaWduIiwKInJpZ2h0Iik7dmFyIHQ9bXhVdGlscy5idXR0b24obXhSZXNvdXJjZXMuZ2V0KCJjYW5jZWwiKSxmdW5jdGlvbigpe2EuaGlkZURpYWxvZygpfSk7dC5jbGFzc05hbWU9ImdlQnRuIjthLmVkaXRvci5jYW5jZWxGaXJzdCYmay5hcHBlbmRDaGlsZCh0KTt2YXIgeD1teFV0aWxzLmJ1dHRvbihteFJlc291cmNlcy5nZXQoImFwcGx5IiksZnVuY3Rpb24oKXthLmhpZGVEaWFsb2coKTt2YXIgYj1wYXJzZUludChsLnZhbHVlKTtpc05hTihiKXx8ZC5ncmlkU2l6ZT09PWJ8fGQuc2V0R3JpZFNpemUoYik7Yj1uZXcgQ2hhbmdlUGFnZVNldHVwKGEscCx2LGUuZ2V0KCkpO2IuaWdub3JlQ29sb3I9ZC5iYWNrZ3JvdW5kPT1wO2IuaWdub3JlSW1hZ2U9KG51bGwhPWQuYmFja2dyb3VuZEltYWdlP2QuYmFja2dyb3VuZEltYWdlLnNyYzpudWxsKT09PShudWxsIT12P3Yuc3JjOm51bGwpO2QucGFnZUZvcm1hdC53aWR0aD09Yi5wcmV2aW91c0Zvcm1hdC53aWR0aCYmZC5wYWdlRm9ybWF0LmhlaWdodD09CmIucHJldmlvdXNGb3JtYXQuaGVpZ2h0JiZiLmlnbm9yZUNvbG9yJiZiLmlnbm9yZUltYWdlfHxkLm1vZGVsLmV4ZWN1dGUoYil9KTt4LmNsYXNzTmFtZT0iZ2VCdG4gZ2VQcmltYXJ5QnRuIjtrLmFwcGVuZENoaWxkKHgpO2EuZWRpdG9yLmNhbmNlbEZpcnN0fHxrLmFwcGVuZENoaWxkKHQpO20uYXBwZW5kQ2hpbGQoayk7Yi5hcHBlbmRDaGlsZChtKTtxLmFwcGVuZENoaWxkKGIpO3RoaXMuY29udGFpbmVyPXF9OwpQYWdlU2V0dXBEaWFsb2cuYWRkUGFnZUZvcm1hdFBhbmVsPWZ1bmN0aW9uKGEsYyxmLGQpe2Z1bmN0aW9uIG0oYSxkLGMpe2lmKGN8fGwhPWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQmJm4hPWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpe2E9ITE7Zm9yKGQ9MDtkPHQubGVuZ3RoO2QrKyljPXRbZF0sQj8iY3VzdG9tIj09Yy5rZXkmJihiLnZhbHVlPWMua2V5LEI9ITEpOm51bGwhPWMuZm9ybWF0JiYoImE0Ij09Yy5rZXk/ODI2PT1mLndpZHRoPyhmPW14UmVjdGFuZ2xlLmZyb21SZWN0YW5nbGUoZiksZi53aWR0aD04MjcpOjgyNj09Zi5oZWlnaHQmJihmPW14UmVjdGFuZ2xlLmZyb21SZWN0YW5nbGUoZiksZi5oZWlnaHQ9ODI3KToiYTUiPT1jLmtleSYmKDU4ND09Zi53aWR0aD8oZj1teFJlY3RhbmdsZS5mcm9tUmVjdGFuZ2xlKGYpLGYud2lkdGg9NTgzKTo1ODQ9PWYuaGVpZ2h0JiYoZj1teFJlY3RhbmdsZS5mcm9tUmVjdGFuZ2xlKGYpLGYuaGVpZ2h0PTU4MykpLGYud2lkdGg9PWMuZm9ybWF0LndpZHRoJiYKZi5oZWlnaHQ9PWMuZm9ybWF0LmhlaWdodD8oYi52YWx1ZT1jLmtleSxrLnNldEF0dHJpYnV0ZSgiY2hlY2tlZCIsImNoZWNrZWQiKSxrLmRlZmF1bHRDaGVja2VkPSEwLGsuY2hlY2tlZD0hMCxxLnJlbW92ZUF0dHJpYnV0ZSgiY2hlY2tlZCIpLHEuZGVmYXVsdENoZWNrZWQ9ITEscS5jaGVja2VkPSExLGE9ITApOmYud2lkdGg9PWMuZm9ybWF0LmhlaWdodCYmZi5oZWlnaHQ9PWMuZm9ybWF0LndpZHRoJiYoYi52YWx1ZT1jLmtleSxrLnJlbW92ZUF0dHJpYnV0ZSgiY2hlY2tlZCIpLGsuZGVmYXVsdENoZWNrZWQ9ITEsay5jaGVja2VkPSExLHEuc2V0QXR0cmlidXRlKCJjaGVja2VkIiwiY2hlY2tlZCIpLHEuZGVmYXVsdENoZWNrZWQ9ITAsYT1xLmNoZWNrZWQ9ITApKTthPyhlLnN0eWxlLmRpc3BsYXk9IiIscC5zdHlsZS5kaXNwbGF5PSJub25lIik6KGwudmFsdWU9Zi53aWR0aC8xMDAsbi52YWx1ZT1mLmhlaWdodC8xMDAsay5zZXRBdHRyaWJ1dGUoImNoZWNrZWQiLCJjaGVja2VkIiksCmIudmFsdWU9ImN1c3RvbSIsZS5zdHlsZS5kaXNwbGF5PSJub25lIixwLnN0eWxlLmRpc3BsYXk9IiIpfX1jPSJmb3JtYXQtIitjO3ZhciBrPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7ay5zZXRBdHRyaWJ1dGUoIm5hbWUiLGMpO2suc2V0QXR0cmlidXRlKCJ0eXBlIiwicmFkaW8iKTtrLnNldEF0dHJpYnV0ZSgidmFsdWUiLCJwb3J0cmFpdCIpO3ZhciBxPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7cS5zZXRBdHRyaWJ1dGUoIm5hbWUiLGMpO3Euc2V0QXR0cmlidXRlKCJ0eXBlIiwicmFkaW8iKTtxLnNldEF0dHJpYnV0ZSgidmFsdWUiLCJsYW5kc2NhcGUiKTt2YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKTtiLnN0eWxlLm1hcmdpbkJvdHRvbT0iOHB4IjtiLnN0eWxlLndpZHRoPSIyMDJweCI7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7ZS5zdHlsZS5tYXJnaW5MZWZ0PSI0cHgiO2Uuc3R5bGUud2lkdGg9IjIxMHB4IjsKZS5zdHlsZS5oZWlnaHQ9IjI0cHgiO2suc3R5bGUubWFyZ2luUmlnaHQ9IjZweCI7ZS5hcHBlbmRDaGlsZChrKTtjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTtjLnN0eWxlLm1heFdpZHRoPSIxMDBweCI7bXhVdGlscy53cml0ZShjLG14UmVzb3VyY2VzLmdldCgicG9ydHJhaXQiKSk7ZS5hcHBlbmRDaGlsZChjKTtxLnN0eWxlLm1hcmdpbkxlZnQ9IjEwcHgiO3Euc3R5bGUubWFyZ2luUmlnaHQ9IjZweCI7ZS5hcHBlbmRDaGlsZChxKTt2YXIgZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7Zy5zdHlsZS53aWR0aD0iMTAwcHgiO214VXRpbHMud3JpdGUoZyxteFJlc291cmNlcy5nZXQoImxhbmRzY2FwZSIpKTtlLmFwcGVuZENoaWxkKGcpO3ZhciBwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3Auc3R5bGUubWFyZ2luTGVmdD0iNHB4IjtwLnN0eWxlLndpZHRoPSIyMTBweCI7cC5zdHlsZS5oZWlnaHQ9IjI0cHgiO3ZhciBsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7Cmwuc2V0QXR0cmlidXRlKCJzaXplIiwiNyIpO2wuc3R5bGUudGV4dEFsaWduPSJyaWdodCI7cC5hcHBlbmRDaGlsZChsKTtteFV0aWxzLndyaXRlKHAsIiBpbiB4ICIpO3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7bi5zZXRBdHRyaWJ1dGUoInNpemUiLCI3Iik7bi5zdHlsZS50ZXh0QWxpZ249InJpZ2h0IjtwLmFwcGVuZENoaWxkKG4pO214VXRpbHMud3JpdGUocCwiIGluIik7ZS5zdHlsZS5kaXNwbGF5PSJub25lIjtwLnN0eWxlLmRpc3BsYXk9Im5vbmUiO2Zvcih2YXIgdj17fSx0PVBhZ2VTZXR1cERpYWxvZy5nZXRGb3JtYXRzKCkseD0wO3g8dC5sZW5ndGg7eCsrKXt2YXIgQT10W3hdO3ZbQS5rZXldPUE7dmFyIEQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7RC5zZXRBdHRyaWJ1dGUoInZhbHVlIixBLmtleSk7bXhVdGlscy53cml0ZShELEEudGl0bGUpO2IuYXBwZW5kQ2hpbGQoRCl9dmFyIEI9ITE7bSgpO2EuYXBwZW5kQ2hpbGQoYik7bXhVdGlscy5icihhKTsKYS5hcHBlbmRDaGlsZChlKTthLmFwcGVuZENoaWxkKHApO3ZhciBDPWYsej1mdW5jdGlvbihhLGMpe3ZhciBnPXZbYi52YWx1ZV07bnVsbCE9Zy5mb3JtYXQ/KGwudmFsdWU9Zy5mb3JtYXQud2lkdGgvMTAwLG4udmFsdWU9Zy5mb3JtYXQuaGVpZ2h0LzEwMCxwLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGUuc3R5bGUuZGlzcGxheT0iIik6KGUuc3R5bGUuZGlzcGxheT0ibm9uZSIscC5zdHlsZS5kaXNwbGF5PSIiKTtnPXBhcnNlRmxvYXQobC52YWx1ZSk7aWYoaXNOYU4oZyl8fDA+PWcpbC52YWx1ZT1mLndpZHRoLzEwMDtnPXBhcnNlRmxvYXQobi52YWx1ZSk7aWYoaXNOYU4oZyl8fDA+PWcpbi52YWx1ZT1mLmhlaWdodC8xMDA7Zz1uZXcgbXhSZWN0YW5nbGUoMCwwLE1hdGguZmxvb3IoMTAwKnBhcnNlRmxvYXQobC52YWx1ZSkpLE1hdGguZmxvb3IoMTAwKnBhcnNlRmxvYXQobi52YWx1ZSkpKTsiY3VzdG9tIiE9Yi52YWx1ZSYmcS5jaGVja2VkJiYoZz1uZXcgbXhSZWN0YW5nbGUoMCwwLApnLmhlaWdodCxnLndpZHRoKSk7YyYmQnx8Zy53aWR0aD09Qy53aWR0aCYmZy5oZWlnaHQ9PUMuaGVpZ2h0fHwoQz1nLG51bGwhPWQmJmQoQykpfTtteEV2ZW50LmFkZExpc3RlbmVyKGMsImNsaWNrIixmdW5jdGlvbihhKXtrLmNoZWNrZWQ9ITA7eihhKTtteEV2ZW50LmNvbnN1bWUoYSl9KTtteEV2ZW50LmFkZExpc3RlbmVyKGcsImNsaWNrIixmdW5jdGlvbihhKXtxLmNoZWNrZWQ9ITA7eihhKTtteEV2ZW50LmNvbnN1bWUoYSl9KTtteEV2ZW50LmFkZExpc3RlbmVyKGwsImJsdXIiLHopO214RXZlbnQuYWRkTGlzdGVuZXIobCwiY2xpY2siLHopO214RXZlbnQuYWRkTGlzdGVuZXIobiwiYmx1ciIseik7bXhFdmVudC5hZGRMaXN0ZW5lcihuLCJjbGljayIseik7bXhFdmVudC5hZGRMaXN0ZW5lcihxLCJjaGFuZ2UiLHopO214RXZlbnQuYWRkTGlzdGVuZXIoaywiY2hhbmdlIix6KTtteEV2ZW50LmFkZExpc3RlbmVyKGIsImNoYW5nZSIsZnVuY3Rpb24oYSl7Qj0iY3VzdG9tIj09Yi52YWx1ZTsKeihhLCEwKX0pO3ooKTtyZXR1cm57c2V0OmZ1bmN0aW9uKGEpe2Y9YTttKG51bGwsbnVsbCwhMCl9LGdldDpmdW5jdGlvbigpe3JldHVybiBDfSx3aWR0aElucHV0OmwsaGVpZ2h0SW5wdXQ6bn19OwpQYWdlU2V0dXBEaWFsb2cuZ2V0Rm9ybWF0cz1mdW5jdGlvbigpe3JldHVyblt7a2V5OiJsZXR0ZXIiLHRpdGxlOidVUy1MZXR0ZXIgKDgsNSIgeCAxMSIpJyxmb3JtYXQ6bXhDb25zdGFudHMuUEFHRV9GT1JNQVRfTEVUVEVSX1BPUlRSQUlUfSx7a2V5OiJsZWdhbCIsdGl0bGU6J1VTLUxlZ2FsICg4LDUiIHggMTQiKScsZm9ybWF0Om5ldyBteFJlY3RhbmdsZSgwLDAsODUwLDE0MDApfSx7a2V5OiJ0YWJsb2lkIix0aXRsZTonVVMtVGFibG9pZCAoMTEiIHggMTciKScsZm9ybWF0Om5ldyBteFJlY3RhbmdsZSgwLDAsMTEwMCwxNzAwKX0se2tleToiZXhlY3V0aXZlIix0aXRsZTonVVMtRXhlY3V0aXZlICg3IiB4IDEwIiknLGZvcm1hdDpuZXcgbXhSZWN0YW5nbGUoMCwwLDcwMCwxRTMpfSx7a2V5OiJhMCIsdGl0bGU6IkEwICg4NDEgbW0geCAxMTg5IG1tKSIsZm9ybWF0Om5ldyBteFJlY3RhbmdsZSgwLDAsMzMwMCw0NjgxKX0se2tleToiYTEiLHRpdGxlOiJBMSAoNTk0IG1tIHggODQxIG1tKSIsCmZvcm1hdDpuZXcgbXhSZWN0YW5nbGUoMCwwLDIzMzksMzMwMCl9LHtrZXk6ImEyIix0aXRsZToiQTIgKDQyMCBtbSB4IDU5NCBtbSkiLGZvcm1hdDpuZXcgbXhSZWN0YW5nbGUoMCwwLDE2NTQsMjMzNil9LHtrZXk6ImEzIix0aXRsZToiQTMgKDI5NyBtbSB4IDQyMCBtbSkiLGZvcm1hdDpuZXcgbXhSZWN0YW5nbGUoMCwwLDExNjksMTY1NCl9LHtrZXk6ImE0Iix0aXRsZToiQTQgKDIxMCBtbSB4IDI5NyBtbSkiLGZvcm1hdDpteENvbnN0YW50cy5QQUdFX0ZPUk1BVF9BNF9QT1JUUkFJVH0se2tleToiYTUiLHRpdGxlOiJBNSAoMTQ4IG1tIHggMjEwIG1tKSIsZm9ybWF0Om5ldyBteFJlY3RhbmdsZSgwLDAsNTgzLDgyNyl9LHtrZXk6ImE2Iix0aXRsZToiQTYgKDEwNSBtbSB4IDE0OCBtbSkiLGZvcm1hdDpuZXcgbXhSZWN0YW5nbGUoMCwwLDQxMyw1ODMpfSx7a2V5OiJhNyIsdGl0bGU6IkE3ICg3NCBtbSB4IDEwNSBtbSkiLGZvcm1hdDpuZXcgbXhSZWN0YW5nbGUoMCwwLDI5MSw0MTMpfSwKe2tleToiYjQiLHRpdGxlOiJCNCAoMjUwIG1tIHggMzUzIG1tKSIsZm9ybWF0Om5ldyBteFJlY3RhbmdsZSgwLDAsOTgwLDEzOTApfSx7a2V5OiJiNSIsdGl0bGU6IkI1ICgxNzYgbW0geCAyNTAgbW0pIixmb3JtYXQ6bmV3IG14UmVjdGFuZ2xlKDAsMCw2OTAsOTgwKX0se2tleToiMTYtOSIsdGl0bGU6IjE2OjkgKDE2MDAgeCA5MDApIixmb3JtYXQ6bmV3IG14UmVjdGFuZ2xlKDAsMCwxNjAwLDkwMCl9LHtrZXk6IjE2LTEwIix0aXRsZToiMTY6MTAgKDE5MjAgeCAxMjAwKSIsZm9ybWF0Om5ldyBteFJlY3RhbmdsZSgwLDAsMTkyMCwxMjAwKX0se2tleToiNC0zIix0aXRsZToiNDozICgxNjAwIHggMTIwMCkiLGZvcm1hdDpuZXcgbXhSZWN0YW5nbGUoMCwwLDE2MDAsMTIwMCl9LHtrZXk6ImN1c3RvbSIsdGl0bGU6bXhSZXNvdXJjZXMuZ2V0KCJjdXN0b20iKSxmb3JtYXQ6bnVsbH1dfTsKdmFyIEZpbGVuYW1lRGlhbG9nPWZ1bmN0aW9uKGEsYyxmLGQsbSxrLHEsYixlLGcscCxsKXtlPW51bGwhPWU/ZTohMDt2YXIgbix2LHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGFibGUiKSx4PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRib2R5Iik7dC5zdHlsZS5tYXJnaW5Ub3A9IjhweCI7bj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ciIpO3Y9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTt2LnN0eWxlLndoaXRlU3BhY2U9Im5vd3JhcCI7di5zdHlsZS5mb250U2l6ZT0iMTBwdCI7di5zdHlsZS53aWR0aD1wPyI4MHB4IjoiMTIwcHgiO214VXRpbHMud3JpdGUodiwobXx8bXhSZXNvdXJjZXMuZ2V0KCJmaWxlbmFtZSIpKSsiOiIpO24uYXBwZW5kQ2hpbGQodik7dmFyIEE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtBLnNldEF0dHJpYnV0ZSgidmFsdWUiLGN8fCIiKTtBLnN0eWxlLm1hcmdpbkxlZnQ9IjRweCI7QS5zdHlsZS53aWR0aD1udWxsIT1sP2wrCiJweCI6IjE4MHB4Ijt2YXIgRD1teFV0aWxzLmJ1dHRvbihmLGZ1bmN0aW9uKCl7aWYobnVsbD09a3x8ayhBLnZhbHVlKSllJiZhLmhpZGVEaWFsb2coKSxkKEEudmFsdWUpfSk7RC5jbGFzc05hbWU9ImdlQnRuIGdlUHJpbWFyeUJ0biI7dGhpcy5pbml0PWZ1bmN0aW9uKCl7aWYobnVsbCE9bXx8bnVsbD09cSlpZihBLmZvY3VzKCksbXhDbGllbnQuSVNfR0N8fG14Q2xpZW50LklTX0ZGfHw1PD1kb2N1bWVudC5kb2N1bWVudE1vZGV8fG14Q2xpZW50LklTX1FVSVJLUz9BLnNlbGVjdCgpOmRvY3VtZW50LmV4ZWNDb21tYW5kKCJzZWxlY3RBbGwiLCExLG51bGwpLEdyYXBoLmZpbGVTdXBwb3J0KXt2YXIgYT10LnBhcmVudE5vZGU7aWYobnVsbCE9YSl7dmFyIGI9bnVsbDtteEV2ZW50LmFkZExpc3RlbmVyKGEsImRyYWdsZWF2ZSIsZnVuY3Rpb24oYSl7bnVsbCE9YiYmKGIuc3R5bGUuYmFja2dyb3VuZENvbG9yPSIiLGI9bnVsbCk7YS5zdG9wUHJvcGFnYXRpb24oKTthLnByZXZlbnREZWZhdWx0KCl9KTsKbXhFdmVudC5hZGRMaXN0ZW5lcihhLCJkcmFnb3ZlciIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7bnVsbD09YiYmKCFteENsaWVudC5JU19JRXx8MTA8ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSYmKGI9QSxiLnN0eWxlLmJhY2tncm91bmRDb2xvcj0iI2ViZjJmOSIpO2Euc3RvcFByb3BhZ2F0aW9uKCk7YS5wcmV2ZW50RGVmYXVsdCgpfSkpO214RXZlbnQuYWRkTGlzdGVuZXIoYSwiZHJvcCIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7bnVsbCE9YiYmKGIuc3R5bGUuYmFja2dyb3VuZENvbG9yPSIiLGI9bnVsbCk7MDw9bXhVdGlscy5pbmRleE9mKGEuZGF0YVRyYW5zZmVyLnR5cGVzLCJ0ZXh0L3VyaS1saXN0IikmJihBLnZhbHVlPWRlY29kZVVSSUNvbXBvbmVudChhLmRhdGFUcmFuc2Zlci5nZXREYXRhKCJ0ZXh0L3VyaS1saXN0IikpLEQuY2xpY2soKSk7YS5zdG9wUHJvcGFnYXRpb24oKTthLnByZXZlbnREZWZhdWx0KCl9KSl9fX07dj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpOwp2LnN0eWxlLndoaXRlU3BhY2U9Im5vd3JhcCI7di5hcHBlbmRDaGlsZChBKTtuLmFwcGVuZENoaWxkKHYpO2lmKG51bGwhPW18fG51bGw9PXEpeC5hcHBlbmRDaGlsZChuKSxudWxsIT1wJiYobnVsbCE9YS5lZGl0b3IuZGlhZ3JhbUZpbGVUeXBlcyYmKG49RmlsZW5hbWVEaWFsb2cuY3JlYXRlRmlsZVR5cGVzKGEsQSxhLmVkaXRvci5kaWFncmFtRmlsZVR5cGVzKSxuLnN0eWxlLm1hcmdpbkxlZnQ9IjZweCIsbi5zdHlsZS53aWR0aD0iNzRweCIsdi5hcHBlbmRDaGlsZChuKSxBLnN0eWxlLndpZHRoPW51bGwhPWw/bC00MCsicHgiOiIxNDBweCIpLHYuYXBwZW5kQ2hpbGQoRmlsZW5hbWVEaWFsb2cuY3JlYXRlVHlwZUhpbnQoYSxBLHApKSk7bnVsbCE9cSYmKG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKSx2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIiksdi5jb2xTcGFuPTIsdi5hcHBlbmRDaGlsZChxKSxuLmFwcGVuZENoaWxkKHYpLHguYXBwZW5kQ2hpbGQobikpO249CmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyIik7dj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpO3YuY29sU3Bhbj0yO3Yuc3R5bGUucGFkZGluZ1RvcD0iMjBweCI7di5zdHlsZS53aGl0ZVNwYWNlPSJub3dyYXAiO3Yuc2V0QXR0cmlidXRlKCJhbGlnbiIsInJpZ2h0Iik7cD1teFV0aWxzLmJ1dHRvbihteFJlc291cmNlcy5nZXQoImNhbmNlbCIpLGZ1bmN0aW9uKCl7YS5oaWRlRGlhbG9nKCk7bnVsbCE9ZyYmZygpfSk7cC5jbGFzc05hbWU9ImdlQnRuIjthLmVkaXRvci5jYW5jZWxGaXJzdCYmdi5hcHBlbmRDaGlsZChwKTtudWxsIT1iJiYobD1teFV0aWxzLmJ1dHRvbihteFJlc291cmNlcy5nZXQoImhlbHAiKSxmdW5jdGlvbigpe2EuZWRpdG9yLmdyYXBoLm9wZW5MaW5rKGIpfSksbC5jbGFzc05hbWU9ImdlQnRuIix2LmFwcGVuZENoaWxkKGwpKTtteEV2ZW50LmFkZExpc3RlbmVyKEEsImtleXByZXNzIixmdW5jdGlvbihhKXsxMz09YS5rZXlDb2RlJiZELmNsaWNrKCl9KTsKdi5hcHBlbmRDaGlsZChEKTthLmVkaXRvci5jYW5jZWxGaXJzdHx8di5hcHBlbmRDaGlsZChwKTtuLmFwcGVuZENoaWxkKHYpO3guYXBwZW5kQ2hpbGQobik7dC5hcHBlbmRDaGlsZCh4KTt0aGlzLmNvbnRhaW5lcj10fTtGaWxlbmFtZURpYWxvZy5maWxlbmFtZUhlbHBMaW5rPW51bGw7CkZpbGVuYW1lRGlhbG9nLmNyZWF0ZVR5cGVIaW50PWZ1bmN0aW9uKGEsYyxmKXt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTtkLnN0eWxlLmNzc1RleHQ9InZlcnRpY2FsLWFsaWduOnRvcDtoZWlnaHQ6MTZweDt3aWR0aDoxNnB4O21hcmdpbi1sZWZ0OjRweDtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1wb3NpdGlvbjpjZW50ZXIgYm90dG9tO2N1cnNvcjpwb2ludGVyOyI7bXhVdGlscy5zZXRPcGFjaXR5KGQsNzApO3ZhciBtPWZ1bmN0aW9uKCl7ZC5zZXRBdHRyaWJ1dGUoInNyYyIsRWRpdG9yLmhlbHBJbWFnZSk7ZC5zZXRBdHRyaWJ1dGUoInRpdGxlIixteFJlc291cmNlcy5nZXQoImhlbHAiKSk7Zm9yKHZhciBhPTA7YTxmLmxlbmd0aDthKyspaWYoMDxmW2FdLmV4dC5sZW5ndGgmJmMudmFsdWUudG9Mb3dlckNhc2UoKS5zdWJzdHJpbmcoYy52YWx1ZS5sZW5ndGgtZlthXS5leHQubGVuZ3RoLTEpPT0iLiIrZlthXS5leHQpe2Quc2V0QXR0cmlidXRlKCJzcmMiLApteENsaWVudC5pbWFnZUJhc2VQYXRoKyIvd2FybmluZy5wbmciKTtkLnNldEF0dHJpYnV0ZSgidGl0bGUiLG14UmVzb3VyY2VzLmdldChmW2FdLnRpdGxlKSk7YnJlYWt9fTtteEV2ZW50LmFkZExpc3RlbmVyKGMsImtleXVwIixtKTtteEV2ZW50LmFkZExpc3RlbmVyKGMsImNoYW5nZSIsbSk7bXhFdmVudC5hZGRMaXN0ZW5lcihkLCJjbGljayIsZnVuY3Rpb24oYyl7dmFyIGY9ZC5nZXRBdHRyaWJ1dGUoInRpdGxlIik7ZC5nZXRBdHRyaWJ1dGUoInNyYyIpPT1FZGl0b3IuaGVscEltYWdlP2EuZWRpdG9yLmdyYXBoLm9wZW5MaW5rKEZpbGVuYW1lRGlhbG9nLmZpbGVuYW1lSGVscExpbmspOiIiIT1mJiZhLnNob3dFcnJvcihudWxsLGYsbXhSZXNvdXJjZXMuZ2V0KCJoZWxwIiksZnVuY3Rpb24oKXthLmVkaXRvci5ncmFwaC5vcGVuTGluayhGaWxlbmFtZURpYWxvZy5maWxlbmFtZUhlbHBMaW5rKX0sbnVsbCxteFJlc291cmNlcy5nZXQoIm9rIiksbnVsbCxudWxsLG51bGwsMzQwLDkwKTsKbXhFdmVudC5jb25zdW1lKGMpfSk7bSgpO3JldHVybiBkfTsKRmlsZW5hbWVEaWFsb2cuY3JlYXRlRmlsZVR5cGVzPWZ1bmN0aW9uKGEsYyxmKXt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKTtmb3IoYT0wO2E8Zi5sZW5ndGg7YSsrKXt2YXIgbT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTttLnNldEF0dHJpYnV0ZSgidmFsdWUiLGEpO214VXRpbHMud3JpdGUobSxteFJlc291cmNlcy5nZXQoZlthXS5kZXNjcmlwdGlvbikrIiAoLiIrZlthXS5leHRlbnNpb24rIikiKTtkLmFwcGVuZENoaWxkKG0pfW14RXZlbnQuYWRkTGlzdGVuZXIoZCwiY2hhbmdlIixmdW5jdGlvbihhKXthPWZbZC52YWx1ZV0uZXh0ZW5zaW9uO3ZhciBrPWMudmFsdWUubGFzdEluZGV4T2YoIi4iKTswPGs/KGE9ZltkLnZhbHVlXS5leHRlbnNpb24sYy52YWx1ZT1jLnZhbHVlLnN1YnN0cmluZygwLGsrMSkrYSk6Yy52YWx1ZT1jLnZhbHVlKyIuIithOyJjcmVhdGVFdmVudCJpbiBkb2N1bWVudD8oYT1kb2N1bWVudC5jcmVhdGVFdmVudCgiSFRNTEV2ZW50cyIpLAphLmluaXRFdmVudCgiY2hhbmdlIiwhMSwhMCksYy5kaXNwYXRjaEV2ZW50KGEpKTpjLmZpcmVFdmVudCgib25jaGFuZ2UiKX0pO2E9ZnVuY3Rpb24oYSl7dmFyIGs9Yy52YWx1ZS5sYXN0SW5kZXhPZigiLiIpO2E9MDtpZigwPGspZm9yKHZhciBrPWMudmFsdWUudG9Mb3dlckNhc2UoKS5zdWJzdHJpbmcoaysxKSxiPTA7YjxmLmxlbmd0aDtiKyspaWYoaz09ZltiXS5leHRlbnNpb24pe2E9YjticmVha31kLnZhbHVlPWF9O214RXZlbnQuYWRkTGlzdGVuZXIoYywiY2hhbmdlIixhKTtteEV2ZW50LmFkZExpc3RlbmVyKGMsImtleXVwIixhKTthKCk7cmV0dXJuIGR9OwooZnVuY3Rpb24oKXtteEdyYXBoVmlldy5wcm90b3R5cGUudmFsaWRhdGVCYWNrZ3JvdW5kUGFnZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ3JhcGg7aWYobnVsbCE9YS5jb250YWluZXImJiFhLnRyYW5zcGFyZW50QmFja2dyb3VuZCl7aWYoYS5wYWdlVmlzaWJsZSl7dmFyIGI9dGhpcy5nZXRCYWNrZ3JvdW5kUGFnZUJvdW5kcygpO2lmKG51bGw9PXRoaXMuYmFja2dyb3VuZFBhZ2VTaGFwZSl7Zm9yKHZhciBlPWEuY29udGFpbmVyLmZpcnN0Q2hpbGQ7bnVsbCE9ZSYmZS5ub2RlVHlwZSE9bXhDb25zdGFudHMuTk9ERVRZUEVfRUxFTUVOVDspZT1lLm5leHRTaWJsaW5nO251bGwhPWUmJih0aGlzLmJhY2tncm91bmRQYWdlU2hhcGU9dGhpcy5jcmVhdGVCYWNrZ3JvdW5kUGFnZVNoYXBlKGIpLHRoaXMuYmFja2dyb3VuZFBhZ2VTaGFwZS5zY2FsZT0xLHRoaXMuYmFja2dyb3VuZFBhZ2VTaGFwZS5pc1NoYWRvdz0hbXhDbGllbnQuSVNfUVVJUktTLHRoaXMuYmFja2dyb3VuZFBhZ2VTaGFwZS5kaWFsZWN0PQpteENvbnN0YW50cy5ESUFMRUNUX1NUUklDVEhUTUwsdGhpcy5iYWNrZ3JvdW5kUGFnZVNoYXBlLmluaXQoYS5jb250YWluZXIpLGUuc3R5bGUucG9zaXRpb249ImFic29sdXRlIixhLmNvbnRhaW5lci5pbnNlcnRCZWZvcmUodGhpcy5iYWNrZ3JvdW5kUGFnZVNoYXBlLm5vZGUsZSksdGhpcy5iYWNrZ3JvdW5kUGFnZVNoYXBlLnJlZHJhdygpLHRoaXMuYmFja2dyb3VuZFBhZ2VTaGFwZS5ub2RlLmNsYXNzTmFtZT0iZ2VCYWNrZ3JvdW5kUGFnZSIsbXhFdmVudC5hZGRMaXN0ZW5lcih0aGlzLmJhY2tncm91bmRQYWdlU2hhcGUubm9kZSwiZGJsY2xpY2siLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe2EuZGJsQ2xpY2soYil9KSksbXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKHRoaXMuYmFja2dyb3VuZFBhZ2VTaGFwZS5ub2RlLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe2EuZmlyZU1vdXNlRXZlbnQobXhFdmVudC5NT1VTRV9ET1dOLG5ldyBteE1vdXNlRXZlbnQoYikpfSksCm14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe251bGwhPWEudG9vbHRpcEhhbmRsZXImJmEudG9vbHRpcEhhbmRsZXIuaXNIaWRlT25Ib3ZlcigpJiZhLnRvb2x0aXBIYW5kbGVyLmhpZGUoKTthLmlzTW91c2VEb3duJiYhbXhFdmVudC5pc0NvbnN1bWVkKGIpJiZhLmZpcmVNb3VzZUV2ZW50KG14RXZlbnQuTU9VU0VfTU9WRSxuZXcgbXhNb3VzZUV2ZW50KGIpKX0pLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe2EuZmlyZU1vdXNlRXZlbnQobXhFdmVudC5NT1VTRV9VUCxuZXcgbXhNb3VzZUV2ZW50KGIpKX0pKSl9ZWxzZSB0aGlzLmJhY2tncm91bmRQYWdlU2hhcGUuc2NhbGU9MSx0aGlzLmJhY2tncm91bmRQYWdlU2hhcGUuYm91bmRzPWIsdGhpcy5iYWNrZ3JvdW5kUGFnZVNoYXBlLnJlZHJhdygpfWVsc2UgbnVsbCE9dGhpcy5iYWNrZ3JvdW5kUGFnZVNoYXBlJiYodGhpcy5iYWNrZ3JvdW5kUGFnZVNoYXBlLmRlc3Ryb3koKSx0aGlzLmJhY2tncm91bmRQYWdlU2hhcGU9Cm51bGwpO3RoaXMudmFsaWRhdGVCYWNrZ3JvdW5kU3R5bGVzKCl9fTtteEdyYXBoVmlldy5wcm90b3R5cGUudmFsaWRhdGVCYWNrZ3JvdW5kU3R5bGVzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5ncmFwaCxiPW51bGw9PWEuYmFja2dyb3VuZHx8YS5iYWNrZ3JvdW5kPT1teENvbnN0YW50cy5OT05FP2EuZGVmYXVsdFBhZ2VCYWNrZ3JvdW5kQ29sb3I6YS5iYWNrZ3JvdW5kLGU9bnVsbCE9YiYmdGhpcy5ncmlkQ29sb3IhPWIudG9Mb3dlckNhc2UoKT90aGlzLmdyaWRDb2xvcjoiI2ZmZmZmZiIsZD0ibm9uZSIsYz0iIjtpZihhLmlzR3JpZEVuYWJsZWQoKSl7Yz0xMDtteENsaWVudC5JU19TVkc/KGQ9dW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuY3JlYXRlU3ZnR3JpZChlKSkpLGQ9d2luZG93LmJ0b2E/YnRvYShkKTpCYXNlNjQuZW5jb2RlKGQsITApLGQ9InVybChkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LCIrZCsiKSIsYz1hLmdyaWRTaXplKnRoaXMuc2NhbGUqdGhpcy5ncmlkU3RlcHMpOgpkPSJ1cmwoIit0aGlzLmdyaWRJbWFnZSsiKSI7dmFyIGY9ZT0wO251bGwhPWEudmlldy5iYWNrZ3JvdW5kUGFnZVNoYXBlJiYoZj10aGlzLmdldEJhY2tncm91bmRQYWdlQm91bmRzKCksZT0xK2YueCxmPTErZi55KTtjPS1NYXRoLnJvdW5kKGMtbXhVdGlscy5tb2QodGhpcy50cmFuc2xhdGUueCp0aGlzLnNjYWxlLWUsYykpKyJweCAiKy1NYXRoLnJvdW5kKGMtbXhVdGlscy5tb2QodGhpcy50cmFuc2xhdGUueSp0aGlzLnNjYWxlLWYsYykpKyJweCJ9ZT1hLnZpZXcuY2FudmFzO251bGwhPWUub3duZXJTVkdFbGVtZW50JiYoZT1lLm93bmVyU1ZHRWxlbWVudCk7bnVsbCE9YS52aWV3LmJhY2tncm91bmRQYWdlU2hhcGU/KGEudmlldy5iYWNrZ3JvdW5kUGFnZVNoYXBlLm5vZGUuc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uPWMsYS52aWV3LmJhY2tncm91bmRQYWdlU2hhcGUubm9kZS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9ZCxhLnZpZXcuYmFja2dyb3VuZFBhZ2VTaGFwZS5ub2RlLnN0eWxlLmJhY2tncm91bmRDb2xvcj0KYixhLmNvbnRhaW5lci5jbGFzc05hbWU9ImdlRGlhZ3JhbUNvbnRhaW5lciBnZURpYWdyYW1CYWNrZHJvcCIsZS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9Im5vbmUiLGUuc3R5bGUuYmFja2dyb3VuZENvbG9yPSIiKTooYS5jb250YWluZXIuY2xhc3NOYW1lPSJnZURpYWdyYW1Db250YWluZXIiLGUuc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uPWMsZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9YixlLnN0eWxlLmJhY2tncm91bmRJbWFnZT1kKX07bXhHcmFwaFZpZXcucHJvdG90eXBlLmNyZWF0ZVN2Z0dyaWQ9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuZ3JhcGguZ3JpZFNpemUqdGhpcy5zY2FsZTtiPHRoaXMubWluR3JpZFNpemU7KWIqPTI7Zm9yKHZhciBlPXRoaXMuZ3JpZFN0ZXBzKmIsZD1bXSxjPTE7Yzx0aGlzLmdyaWRTdGVwcztjKyspe3ZhciBmPWMqYjtkLnB1c2goIk0gMCAiK2YrIiBMICIrZSsiICIrZisiIE0gIitmKyIgMCBMICIrZisiICIrZSl9cmV0dXJuJzxzdmcgd2lkdGg9IicrCmUrJyIgaGVpZ2h0PSInK2UrJyIgeG1sbnM9IicrbXhDb25zdGFudHMuTlNfU1ZHKyciPjxkZWZzPjxwYXR0ZXJuIGlkPSJncmlkIiB3aWR0aD0iJytlKyciIGhlaWdodD0iJytlKyciIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiPjxwYXRoIGQ9IicrZC5qb2luKCIgIikrJyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSInK2ErJyIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNICcrZSsiIDAgTCAwIDAgMCAiK2UrJyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSInK2ErJyIgc3Ryb2tlLXdpZHRoPSIxIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2dyaWQpIi8+PC9zdmc+J307dmFyIGE9bXhHcmFwaC5wcm90b3R5cGUucGFuR3JhcGg7bXhHcmFwaC5wcm90b3R5cGUucGFuR3JhcGg9ZnVuY3Rpb24oZCxiKXthLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZihudWxsIT10aGlzLnNoaWZ0UHJldmlldzEpe3ZhciBlPQp0aGlzLnZpZXcuY2FudmFzO251bGwhPWUub3duZXJTVkdFbGVtZW50JiYoZT1lLm93bmVyU1ZHRWxlbWVudCk7dmFyIGM9dGhpcy5ncmlkU2l6ZSp0aGlzLnZpZXcuc2NhbGUqdGhpcy52aWV3LmdyaWRTdGVwcyxjPS1NYXRoLnJvdW5kKGMtbXhVdGlscy5tb2QodGhpcy52aWV3LnRyYW5zbGF0ZS54KnRoaXMudmlldy5zY2FsZStkLGMpKSsicHggIistTWF0aC5yb3VuZChjLW14VXRpbHMubW9kKHRoaXMudmlldy50cmFuc2xhdGUueSp0aGlzLnZpZXcuc2NhbGUrYixjKSkrInB4IjtlLnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbj1jfX07bXhHcmFwaC5wcm90b3R5cGUudXBkYXRlUGFnZUJyZWFrcz1mdW5jdGlvbihhLGIsZSl7dmFyIGQ9dGhpcy52aWV3LnNjYWxlLGM9dGhpcy52aWV3LnRyYW5zbGF0ZSxmPXRoaXMucGFnZUZvcm1hdCxuPWQqdGhpcy5wYWdlU2NhbGUsdj10aGlzLnZpZXcuZ2V0QmFja2dyb3VuZFBhZ2VCb3VuZHMoKTtiPXYud2lkdGg7ZT12LmhlaWdodDt2YXIgdD0KbmV3IG14UmVjdGFuZ2xlKGQqYy54LGQqYy55LGYud2lkdGgqbixmLmhlaWdodCpuKSxrPShhPWEmJk1hdGgubWluKHQud2lkdGgsdC5oZWlnaHQpPnRoaXMubWluUGFnZUJyZWFrRGlzdCk/TWF0aC5jZWlsKGUvdC5oZWlnaHQpLTE6MCxtPWE/TWF0aC5jZWlsKGIvdC53aWR0aCktMTowLHE9di54K2IsQj12LnkrZTtudWxsPT10aGlzLmhvcml6b250YWxQYWdlQnJlYWtzJiYwPGsmJih0aGlzLmhvcml6b250YWxQYWdlQnJlYWtzPVtdKTtudWxsPT10aGlzLnZlcnRpY2FsUGFnZUJyZWFrcyYmMDxtJiYodGhpcy52ZXJ0aWNhbFBhZ2VCcmVha3M9W10pO2E9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7aWYobnVsbCE9YSl7Zm9yKHZhciBiPWE9PXRoaXMuaG9yaXpvbnRhbFBhZ2VCcmVha3M/azptLGU9MDtlPD1iO2UrKyl7dmFyIGQ9YT09dGhpcy5ob3Jpem9udGFsUGFnZUJyZWFrcz9bbmV3IG14UG9pbnQoTWF0aC5yb3VuZCh2LngpLE1hdGgucm91bmQodi55KyhlKzEpKnQuaGVpZ2h0KSksCm5ldyBteFBvaW50KE1hdGgucm91bmQocSksTWF0aC5yb3VuZCh2LnkrKGUrMSkqdC5oZWlnaHQpKV06W25ldyBteFBvaW50KE1hdGgucm91bmQodi54KyhlKzEpKnQud2lkdGgpLE1hdGgucm91bmQodi55KSksbmV3IG14UG9pbnQoTWF0aC5yb3VuZCh2LngrKGUrMSkqdC53aWR0aCksTWF0aC5yb3VuZChCKSldO251bGwhPWFbZV0/KGFbZV0ucG9pbnRzPWQsYVtlXS5yZWRyYXcoKSk6KGQ9bmV3IG14UG9seWxpbmUoZCx0aGlzLnBhZ2VCcmVha0NvbG9yKSxkLmRpYWxlY3Q9dGhpcy5kaWFsZWN0LGQuaXNEYXNoZWQ9dGhpcy5wYWdlQnJlYWtEYXNoZWQsZC5wb2ludGVyRXZlbnRzPSExLGQuaW5pdCh0aGlzLnZpZXcuYmFja2dyb3VuZFBhbmUpLGQucmVkcmF3KCksYVtlXT1kKX1mb3IoZT1iO2U8YS5sZW5ndGg7ZSsrKWFbZV0uZGVzdHJveSgpO2Euc3BsaWNlKGIsYS5sZW5ndGgtYil9fSk7YSh0aGlzLmhvcml6b250YWxQYWdlQnJlYWtzKTthKHRoaXMudmVydGljYWxQYWdlQnJlYWtzKX07CnZhciBjPW14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5zaG91bGRSZW1vdmVDZWxsc0Zyb21QYXJlbnQ7bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnNob3VsZFJlbW92ZUNlbGxzRnJvbVBhcmVudD1mdW5jdGlvbihhLGIsZSl7Zm9yKHZhciBkPTA7ZDxiLmxlbmd0aDtkKyspaWYodGhpcy5ncmFwaC5nZXRNb2RlbCgpLmlzVmVydGV4KGJbZF0pKXt2YXIgZj10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeShiW2RdKTtpZihudWxsIT1mJiZmLnJlbGF0aXZlKXJldHVybiExfXJldHVybiBjLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dmFyIGY9bXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuY3JlYXRlTWFya2VyO214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZU1hcmtlcj1mdW5jdGlvbigpe3ZhciBhPWYuYXBwbHkodGhpcyxhcmd1bWVudHMpO2EuaW50ZXJzZWN0cz1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiLGUpe3JldHVybiB0aGlzLmlzQ29ubmVjdGluZygpPwohMDpteENlbGxNYXJrZXIucHJvdG90eXBlLmludGVyc2VjdHMuYXBwbHkoYSxhcmd1bWVudHMpfSk7cmV0dXJuIGF9O214R3JhcGhWaWV3LnByb3RvdHlwZS5jcmVhdGVCYWNrZ3JvdW5kUGFnZVNoYXBlPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgbXhSZWN0YW5nbGVTaGFwZShhLCIjZmZmZmZmIix0aGlzLmdyYXBoLmRlZmF1bHRQYWdlQm9yZGVyQ29sb3IpfTtteEdyYXBoVmlldy5wcm90b3R5cGUuZ2V0QmFja2dyb3VuZFBhZ2VCb3VuZHM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEdyYXBoQm91bmRzKCksYj0wPGEud2lkdGg/YS54L3RoaXMuc2NhbGUtdGhpcy50cmFuc2xhdGUueDowLGU9MDxhLmhlaWdodD9hLnkvdGhpcy5zY2FsZS10aGlzLnRyYW5zbGF0ZS55OjAsZD10aGlzLmdyYXBoLnBhZ2VGb3JtYXQsYz10aGlzLmdyYXBoLnBhZ2VTY2FsZSxmPWQud2lkdGgqYyxkPWQuaGVpZ2h0KmMsYz1NYXRoLmZsb29yKE1hdGgubWluKDAsYikvZiksbj1NYXRoLmZsb29yKE1hdGgubWluKDAsCmUpL2QpO3JldHVybiBuZXcgbXhSZWN0YW5nbGUodGhpcy5zY2FsZSoodGhpcy50cmFuc2xhdGUueCtjKmYpLHRoaXMuc2NhbGUqKHRoaXMudHJhbnNsYXRlLnkrbipkKSx0aGlzLnNjYWxlKihNYXRoLmNlaWwoTWF0aC5tYXgoMSxiK2Eud2lkdGgvdGhpcy5zY2FsZSkvZiktYykqZix0aGlzLnNjYWxlKihNYXRoLmNlaWwoTWF0aC5tYXgoMSxlK2EuaGVpZ2h0L3RoaXMuc2NhbGUpL2QpLW4pKmQpfTt2YXIgZD1teEdyYXBoLnByb3RvdHlwZS5wYW5HcmFwaDtteEdyYXBoLnByb3RvdHlwZS5wYW5HcmFwaD1mdW5jdGlvbihhLGIpe2QuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuZGlhbGVjdD09bXhDb25zdGFudHMuRElBTEVDVF9TVkd8fG51bGw9PXRoaXMudmlldy5iYWNrZ3JvdW5kUGFnZVNoYXBlfHx0aGlzLnVzZVNjcm9sbGJhcnNGb3JQYW5uaW5nJiZteFV0aWxzLmhhc1Njcm9sbGJhcnModGhpcy5jb250YWluZXIpfHwodGhpcy52aWV3LmJhY2tncm91bmRQYWdlU2hhcGUubm9kZS5zdHlsZS5tYXJnaW5MZWZ0PQphKyJweCIsdGhpcy52aWV3LmJhY2tncm91bmRQYWdlU2hhcGUubm9kZS5zdHlsZS5tYXJnaW5Ub3A9YisicHgiKX07dmFyIG09bXhQb3B1cE1lbnUucHJvdG90eXBlLmFkZEl0ZW07bXhQb3B1cE1lbnUucHJvdG90eXBlLmFkZEl0ZW09ZnVuY3Rpb24oYSxiLGUsZCxjLGYpe3ZhciBnPW0uYXBwbHkodGhpcyxhcmd1bWVudHMpO251bGw9PWZ8fGZ8fG14RXZlbnQuYWRkTGlzdGVuZXIoZywibW91c2Vkb3duIixmdW5jdGlvbihhKXtteEV2ZW50LmNvbnN1bWUoYSl9KTtyZXR1cm4gZ307dmFyIGs9bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLmlzUHJvcGFnYXRlU2VsZWN0aW9uQ2VsbDtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuaXNQcm9wYWdhdGVTZWxlY3Rpb25DZWxsPWZ1bmN0aW9uKGEsYixlKXt2YXIgZCxjPXRoaXMuZ3JhcGgubW9kZWwuZ2V0UGFyZW50KGEpO2lmKGIpcmV0dXJuIGQ9dGhpcy5ncmFwaC5nZXRDZWxsR2VvbWV0cnkoYSksIXRoaXMuZ3JhcGgubW9kZWwuaXNFZGdlKGEpJiYKIXRoaXMuZ3JhcGgubW9kZWwuaXNFZGdlKGMpJiYhdGhpcy5ncmFwaC5pc1NpYmxpbmdTZWxlY3RlZChhKSYmKG51bGw9PWR8fGQucmVsYXRpdmV8fCF0aGlzLmdyYXBoLmlzQ29udGFpbmVyKGMpfHx0aGlzLmdyYXBoLmlzUGFydChhKSk7ZD1rLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZih0aGlzLmdyYXBoLmlzVGFibGVDZWxsKGEpfHx0aGlzLmdyYXBoLmlzVGFibGVSb3coYSkpZD1jLHRoaXMuZ3JhcGguaXNUYWJsZShkKXx8KGQ9dGhpcy5ncmFwaC5tb2RlbC5nZXRQYXJlbnQoZCkpLGQ9IXRoaXMuZ3JhcGguc2VsZWN0aW9uQ2VsbHNIYW5kbGVyLmlzSGFuZGxlZChkKXx8dGhpcy5ncmFwaC5pc0NlbGxTZWxlY3RlZChkKSYmdGhpcy5ncmFwaC5pc1RvZ2dsZUV2ZW50KGUuZ2V0RXZlbnQoKSl8fHRoaXMuZ3JhcGguaXNDZWxsU2VsZWN0ZWQoYSkmJiF0aGlzLmdyYXBoLmlzVG9nZ2xlRXZlbnQoZS5nZXRFdmVudCgpKXx8dGhpcy5ncmFwaC5pc1RhYmxlQ2VsbChhKSYmdGhpcy5ncmFwaC5pc0NlbGxTZWxlY3RlZChjKTsKcmV0dXJuIGR9O214UG9wdXBNZW51SGFuZGxlci5wcm90b3R5cGUuZ2V0Q2VsbEZvclBvcHVwRXZlbnQ9ZnVuY3Rpb24oYSl7YT1hLmdldENlbGwoKTtmb3IodmFyIGI9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLGU9Yi5nZXRQYXJlbnQoYSksZD10aGlzLmdyYXBoLnZpZXcuZ2V0U3RhdGUoZSksYz10aGlzLmdyYXBoLmlzQ2VsbFNlbGVjdGVkKGEpO251bGwhPWQmJihiLmlzVmVydGV4KGUpfHxiLmlzRWRnZShlKSk7KXt2YXIgZj10aGlzLmdyYXBoLmlzQ2VsbFNlbGVjdGVkKGUpLGM9Y3x8ZjtpZihmfHwhYyYmKHRoaXMuZ3JhcGguaXNUYWJsZUNlbGwoYSl8fHRoaXMuZ3JhcGguaXNUYWJsZVJvdyhhKSkpYT1lO2U9Yi5nZXRQYXJlbnQoZSl9cmV0dXJuIGF9fSkoKTtFZGl0b3JVaT1mdW5jdGlvbihhLGMsZil7bXhFdmVudFNvdXJjZS5jYWxsKHRoaXMpO3RoaXMuZGVzdHJveUZ1bmN0aW9ucz1bXTt0aGlzLmVkaXRvcj1hfHxuZXcgRWRpdG9yO3RoaXMuY29udGFpbmVyPWN8fGRvY3VtZW50LmJvZHk7dmFyIGQ9dGhpcy5lZGl0b3IuZ3JhcGg7ZC5saWdodGJveD1mO2QudXNlQ3NzVHJhbnNmb3JtcyYmKHRoaXMubGF6eVpvb21EZWxheT0wKTtteENsaWVudC5JU19TVkc/bXhQb3B1cE1lbnUucHJvdG90eXBlLnN1Ym1lbnVJbWFnZT0iZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQ1FBSkFJQUFBUC8vL3pNek15SDVCQUVBQUFBQUxBQUFBQUFKQUFrQUFBSVBoSThXZWJIc0hvcFNPVmdiMjZBQUFEcz0iOihuZXcgSW1hZ2UpLnNyYz1teFBvcHVwTWVudS5wcm90b3R5cGUuc3VibWVudUltYWdlO214Q2xpZW50LklTX1NWR3x8bnVsbD09bXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuY29ubmVjdEltYWdlfHwoKG5ldyBJbWFnZSkuc3JjPW14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmNvbm5lY3RJbWFnZS5zcmMpOwp0aGlzLmVkaXRvci5jaHJvbWVsZXNzJiYhdGhpcy5lZGl0b3IuZWRpdGFibGUmJih0aGlzLmZvb3RlckhlaWdodD0wLGQuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGQucGFubmluZ0hhbmRsZXIuaXNGb3JjZVBhbm5pbmdFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4hbXhFdmVudC5pc1BvcHVwVHJpZ2dlcihhLmdldEV2ZW50KCkpfSk7dGhpcy5hY3Rpb25zPW5ldyBBY3Rpb25zKHRoaXMpO3RoaXMubWVudXM9dGhpcy5jcmVhdGVNZW51cygpO2lmKCFkLnN0YW5kYWxvbmUpe3RoaXMuY3JlYXRlRGl2cygpO3RoaXMuY3JlYXRlVWkoKTt0aGlzLnJlZnJlc2goKTt2YXIgbT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtudWxsPT1hJiYoYT13aW5kb3cuZXZlbnQpO3JldHVybiBkLmlzRWRpdGluZygpfHxudWxsIT1hJiZ0aGlzLmlzU2VsZWN0aW9uQWxsb3dlZChhKX0pO3RoaXMuY29udGFpbmVyPT1kb2N1bWVudC5ib2R5JiYodGhpcy5tZW51YmFyQ29udGFpbmVyLm9uc2VsZWN0c3RhcnQ9Cm0sdGhpcy5tZW51YmFyQ29udGFpbmVyLm9ubW91c2Vkb3duPW0sdGhpcy50b29sYmFyQ29udGFpbmVyLm9uc2VsZWN0c3RhcnQ9bSx0aGlzLnRvb2xiYXJDb250YWluZXIub25tb3VzZWRvd249bSx0aGlzLmRpYWdyYW1Db250YWluZXIub25zZWxlY3RzdGFydD1tLHRoaXMuZGlhZ3JhbUNvbnRhaW5lci5vbm1vdXNlZG93bj1tLHRoaXMuc2lkZWJhckNvbnRhaW5lci5vbnNlbGVjdHN0YXJ0PW0sdGhpcy5zaWRlYmFyQ29udGFpbmVyLm9ubW91c2Vkb3duPW0sdGhpcy5mb3JtYXRDb250YWluZXIub25zZWxlY3RzdGFydD1tLHRoaXMuZm9ybWF0Q29udGFpbmVyLm9ubW91c2Vkb3duPW0sdGhpcy5mb290ZXJDb250YWluZXIub25zZWxlY3RzdGFydD1tLHRoaXMuZm9vdGVyQ29udGFpbmVyLm9ubW91c2Vkb3duPW0sbnVsbCE9dGhpcy50YWJDb250YWluZXImJih0aGlzLnRhYkNvbnRhaW5lci5vbnNlbGVjdHN0YXJ0PW0pKTshdGhpcy5lZGl0b3IuY2hyb21lbGVzc3x8dGhpcy5lZGl0b3IuZWRpdGFibGU/CihjPWZ1bmN0aW9uKGEpe2lmKG51bGwhPWEpe3ZhciBiPW14RXZlbnQuZ2V0U291cmNlKGEpO2lmKCJBIj09Yi5ub2RlTmFtZSlmb3IoO251bGwhPWI7KXtpZigiZ2VIaW50Ij09Yi5jbGFzc05hbWUpcmV0dXJuITA7Yj1iLnBhcmVudE5vZGV9fXJldHVybiBtKGEpfSxteENsaWVudC5JU19JRSYmKCJ1bmRlZmluZWQiPT09dHlwZW9mIGRvY3VtZW50LmRvY3VtZW50TW9kZXx8OT5kb2N1bWVudC5kb2N1bWVudE1vZGUpP214RXZlbnQuYWRkTGlzdGVuZXIodGhpcy5kaWFncmFtQ29udGFpbmVyLCJjb250ZXh0bWVudSIsYyk6dGhpcy5kaWFncmFtQ29udGFpbmVyLm9uY29udGV4dG1lbnU9Yyk6ZC5wYW5uaW5nSGFuZGxlci51c2VQb3B1cFRyaWdnZXI9ITE7ZC5pbml0KHRoaXMuZGlhZ3JhbUNvbnRhaW5lcik7bXhDbGllbnQuSVNfU1ZHJiZudWxsIT1kLnZpZXcuZ2V0RHJhd1BhbmUoKSYmKGM9ZC52aWV3LmdldERyYXdQYW5lKCkub3duZXJTVkdFbGVtZW50LG51bGwhPWMmJihjLnN0eWxlLnBvc2l0aW9uPQoiYWJzb2x1dGUiKSk7dGhpcy5ob3Zlckljb25zPXRoaXMuY3JlYXRlSG92ZXJJY29ucygpO2lmKG51bGwhPWQuZ3JhcGhIYW5kbGVyKXt2YXIgaz1kLmdyYXBoSGFuZGxlci5zdGFydDtkLmdyYXBoSGFuZGxlci5zdGFydD1mdW5jdGlvbigpe251bGwhPUEuaG92ZXJJY29ucyYmQS5ob3Zlckljb25zLnJlc2V0KCk7ay5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fW14RXZlbnQuYWRkTGlzdGVuZXIodGhpcy5kaWFncmFtQ29udGFpbmVyLCJtb3VzZW1vdmUiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3ZhciBiPW14VXRpbHMuZ2V0T2Zmc2V0KHRoaXMuZGlhZ3JhbUNvbnRhaW5lcik7MDxteEV2ZW50LmdldENsaWVudFgoYSktYi54LXRoaXMuZGlhZ3JhbUNvbnRhaW5lci5jbGllbnRXaWR0aHx8MDxteEV2ZW50LmdldENsaWVudFkoYSktYi55LXRoaXMuZGlhZ3JhbUNvbnRhaW5lci5jbGllbnRIZWlnaHQ/dGhpcy5kaWFncmFtQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgidGl0bGUiLApteFJlc291cmNlcy5nZXQoInBhblRvb2x0aXAiKSk6dGhpcy5kaWFncmFtQ29udGFpbmVyLnJlbW92ZUF0dHJpYnV0ZSgidGl0bGUiKX0pKTt2YXIgcT0hMSxiPXRoaXMuaG92ZXJJY29ucy5pc1Jlc2V0RXZlbnQ7dGhpcy5ob3Zlckljb25zLmlzUmVzZXRFdmVudD1mdW5jdGlvbihhLGQpe3JldHVybiBxfHxiLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dGhpcy5rZXlkb3duSGFuZGxlcj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXszMiE9YS53aGljaHx8ZC5pc0VkaXRpbmcoKT9teEV2ZW50LmlzQ29uc3VtZWQoYSl8fDI3IT1hLmtleUNvZGV8fHRoaXMuaGlkZURpYWxvZyhudWxsLCEwKToocT0hMCx0aGlzLmhvdmVySWNvbnMucmVzZXQoKSxkLmNvbnRhaW5lci5zdHlsZS5jdXJzb3I9Im1vdmUiLGQuaXNFZGl0aW5nKCl8fG14RXZlbnQuZ2V0U291cmNlKGEpIT1kLmNvbnRhaW5lcnx8bXhFdmVudC5jb25zdW1lKGEpKX0pO214RXZlbnQuYWRkTGlzdGVuZXIoZG9jdW1lbnQsCiJrZXlkb3duIix0aGlzLmtleWRvd25IYW5kbGVyKTt0aGlzLmtleXVwSGFuZGxlcj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtkLmNvbnRhaW5lci5zdHlsZS5jdXJzb3I9IiI7cT0hMX0pO214RXZlbnQuYWRkTGlzdGVuZXIoZG9jdW1lbnQsImtleXVwIix0aGlzLmtleXVwSGFuZGxlcik7dmFyIGU9ZC5wYW5uaW5nSGFuZGxlci5pc0ZvcmNlUGFubmluZ0V2ZW50O2QucGFubmluZ0hhbmRsZXIuaXNGb3JjZVBhbm5pbmdFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHF8fG14RXZlbnQuaXNNb3VzZUV2ZW50KGEuZ2V0RXZlbnQoKSkmJih0aGlzLnVzZVBvcHVwVHJpZ2dlcnx8IW14RXZlbnQuaXNQb3B1cFRyaWdnZXIoYS5nZXRFdmVudCgpKSkmJighbXhFdmVudC5pc0NvbnRyb2xEb3duKGEuZ2V0RXZlbnQoKSkmJm14RXZlbnQuaXNSaWdodE1vdXNlQnV0dG9uKGEuZ2V0RXZlbnQoKSl8fG14RXZlbnQuaXNNaWRkbGVNb3VzZUJ1dHRvbihhLmdldEV2ZW50KCkpKX07CnZhciBnPWQuY2VsbEVkaXRvci5pc1N0b3BFZGl0aW5nRXZlbnQ7ZC5jZWxsRWRpdG9yLmlzU3RvcEVkaXRpbmdFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gZy5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fDEzPT1hLmtleUNvZGUmJighbXhDbGllbnQuSVNfU0YmJm14RXZlbnQuaXNDb250cm9sRG93bihhKXx8bXhDbGllbnQuSVNfTUFDJiZteEV2ZW50LmlzTWV0YURvd24oYSl8fG14Q2xpZW50LklTX1NGJiZteEV2ZW50LmlzU2hpZnREb3duKGEpKX07dmFyIHA9ZC5pc1pvb21XaGVlbEV2ZW50O2QuaXNab29tV2hlZWxFdmVudD1mdW5jdGlvbigpe3JldHVybiBxfHxwLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dmFyIGw9ITEsbj1udWxsLHY9bnVsbCx0PW51bGwseD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2lmKG51bGwhPXRoaXMudG9vbGJhciYmbCE9ZC5jZWxsRWRpdG9yLmlzQ29udGVudEVkaXRpbmcoKSl7Zm9yKHZhciBhPXRoaXMudG9vbGJhci5jb250YWluZXIuZmlyc3RDaGlsZCwKYj1bXTtudWxsIT1hOyl7dmFyIGU9YS5uZXh0U2libGluZzswPm14VXRpbHMuaW5kZXhPZih0aGlzLnRvb2xiYXIuc3RhdGljRWxlbWVudHMsYSkmJihhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSksYi5wdXNoKGEpKTthPWV9YT10aGlzLnRvb2xiYXIuZm9udE1lbnU7ZT10aGlzLnRvb2xiYXIuc2l6ZU1lbnU7aWYobnVsbD09dCl0aGlzLnRvb2xiYXIuY3JlYXRlVGV4dFRvb2xiYXIoKTtlbHNle2Zvcih2YXIgYz0wO2M8dC5sZW5ndGg7YysrKXRoaXMudG9vbGJhci5jb250YWluZXIuYXBwZW5kQ2hpbGQodFtjXSk7dGhpcy50b29sYmFyLmZvbnRNZW51PW47dGhpcy50b29sYmFyLnNpemVNZW51PXZ9bD1kLmNlbGxFZGl0b3IuaXNDb250ZW50RWRpdGluZygpO249YTt2PWU7dD1ifX0pLEE9dGhpcyxEPWQuY2VsbEVkaXRvci5zdGFydEVkaXRpbmc7ZC5jZWxsRWRpdG9yLnN0YXJ0RWRpdGluZz1mdW5jdGlvbigpe0QuYXBwbHkodGhpcyxhcmd1bWVudHMpO3goKTtpZihkLmNlbGxFZGl0b3IuaXNDb250ZW50RWRpdGluZygpKXt2YXIgYT0KITEsYj1mdW5jdGlvbigpe2F8fChhPSEwLHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zm9yKHZhciBiPWQuZ2V0U2VsZWN0ZWRFbGVtZW50KCk7bnVsbCE9YiYmYi5ub2RlVHlwZSE9bXhDb25zdGFudHMuTk9ERVRZUEVfRUxFTUVOVDspYj1iLnBhcmVudE5vZGU7aWYobnVsbCE9YiYmKGI9bXhVdGlscy5nZXRDdXJyZW50U3R5bGUoYiksbnVsbCE9YiYmbnVsbCE9QS50b29sYmFyKSl7dmFyIGU9Yi5mb250RmFtaWx5OyInIj09ZS5jaGFyQXQoMCkmJihlPWUuc3Vic3RyaW5nKDEpKTsiJyI9PWUuY2hhckF0KGUubGVuZ3RoLTEpJiYoZT1lLnN1YnN0cmluZygwLGUubGVuZ3RoLTEpKTtBLnRvb2xiYXIuc2V0Rm9udE5hbWUoZSk7QS50b29sYmFyLnNldEZvbnRTaXplKHBhcnNlSW50KGIuZm9udFNpemUpKX1hPSExfSwwKSl9O214RXZlbnQuYWRkTGlzdGVuZXIoZC5jZWxsRWRpdG9yLnRleHRhcmVhLCJpbnB1dCIsYik7bXhFdmVudC5hZGRMaXN0ZW5lcihkLmNlbGxFZGl0b3IudGV4dGFyZWEsCiJ0b3VjaGVuZCIsYik7bXhFdmVudC5hZGRMaXN0ZW5lcihkLmNlbGxFZGl0b3IudGV4dGFyZWEsIm1vdXNldXAiLGIpO214RXZlbnQuYWRkTGlzdGVuZXIoZC5jZWxsRWRpdG9yLnRleHRhcmVhLCJrZXl1cCIsYik7YigpfX07dmFyIEI9ZC5jZWxsRWRpdG9yLnN0b3BFZGl0aW5nO2QuY2VsbEVkaXRvci5zdG9wRWRpdGluZz1mdW5jdGlvbihhLGIpe3RyeXtCLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx4KCl9Y2F0Y2goeSl7QS5oYW5kbGVFcnJvcih5KX19O2QuY29udGFpbmVyLnNldEF0dHJpYnV0ZSgidGFiaW5kZXgiLCIwIik7ZC5jb250YWluZXIuc3R5bGUuY3Vyc29yPSJkZWZhdWx0IjtpZih3aW5kb3cuc2VsZj09PXdpbmRvdy50b3AmJm51bGwhPWQuY29udGFpbmVyLnBhcmVudE5vZGUpdHJ5e2QuY29udGFpbmVyLmZvY3VzKCl9Y2F0Y2godSl7fXZhciBDPWQuZmlyZU1vdXNlRXZlbnQ7ZC5maXJlTW91c2VFdmVudD1mdW5jdGlvbihhLGIsZSl7YT09bXhFdmVudC5NT1VTRV9ET1dOJiYKdGhpcy5jb250YWluZXIuZm9jdXMoKTtDLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07ZC5wb3B1cE1lbnVIYW5kbGVyLmF1dG9FeHBhbmQ9ITA7bnVsbCE9dGhpcy5tZW51cyYmKGQucG9wdXBNZW51SGFuZGxlci5mYWN0b3J5TWV0aG9kPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYixlKXt0aGlzLm1lbnVzLmNyZWF0ZVBvcHVwTWVudShhLGIsZSl9KSk7bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKGRvY3VtZW50LG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe2QucG9wdXBNZW51SGFuZGxlci5oaWRlTWVudSgpfSkpO3RoaXMua2V5SGFuZGxlcj10aGlzLmNyZWF0ZUtleUhhbmRsZXIoYSk7dGhpcy5nZXRLZXlIYW5kbGVyPWZ1bmN0aW9uKCl7cmV0dXJuIGtleUhhbmRsZXJ9O3ZhciB6PSJyb3VuZGVkIHNoYWRvdyBnbGFzcyBkYXNoZWQgZGFzaFBhdHRlcm4gY29taWMgbGFiZWxCYWNrZ3JvdW5kQ29sb3IiLnNwbGl0KCIgIiksRT0ic2hhcGUgZWRnZVN0eWxlIGN1cnZlZCByb3VuZGVkIGVsYm93IGNvbWljIGp1bXBTdHlsZSBqdW1wU2l6ZSIuc3BsaXQoIiAiKTsKdGhpcy5zZXREZWZhdWx0U3R5bGU9ZnVuY3Rpb24oYSl7dHJ5e3ZhciBiPWQudmlldy5nZXRTdGF0ZShhKTtpZihudWxsIT1iKXt2YXIgZT1hLmNsb25lKCk7ZS5zdHlsZT0iIjt2YXIgYz1kLmdldENlbGxTdHlsZShlKTthPVtdO3ZhciBlPVtdLGc7Zm9yKGcgaW4gYi5zdHlsZSljW2ddIT1iLnN0eWxlW2ddJiYoYS5wdXNoKGIuc3R5bGVbZ10pLGUucHVzaChnKSk7Zm9yKHZhciBmPWQuZ2V0TW9kZWwoKS5nZXRTdHlsZShiLmNlbGwpLHA9bnVsbCE9Zj9mLnNwbGl0KCI7Iik6W10sZj0wO2Y8cC5sZW5ndGg7ZisrKXt2YXIgbD1wW2ZdLHU9bC5pbmRleE9mKCI9Iik7aWYoMDw9dSl7Zz1sLnN1YnN0cmluZygwLHUpO3ZhciBuPWwuc3Vic3RyaW5nKHUrMSk7bnVsbCE9Y1tnXSYmIm5vbmUiPT1uJiYoYS5wdXNoKG4pLGUucHVzaChnKSl9fWQuZ2V0TW9kZWwoKS5pc0VkZ2UoYi5jZWxsKT9kLmN1cnJlbnRFZGdlU3R5bGU9e306ZC5jdXJyZW50VmVydGV4U3R5bGU9e307dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoInN0eWxlQ2hhbmdlZCIsCiJrZXlzIixlLCJ2YWx1ZXMiLGEsImNlbGxzIixbYi5jZWxsXSkpfX1jYXRjaChaKXt0aGlzLmhhbmRsZUVycm9yKFopfX07dGhpcy5jbGVhckRlZmF1bHRTdHlsZT1mdW5jdGlvbigpe2QuY3VycmVudEVkZ2VTdHlsZT1teFV0aWxzLmNsb25lKGQuZGVmYXVsdEVkZ2VTdHlsZSk7ZC5jdXJyZW50VmVydGV4U3R5bGU9bXhVdGlscy5jbG9uZShkLmRlZmF1bHRWZXJ0ZXhTdHlsZSk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoInN0eWxlQ2hhbmdlZCIsImtleXMiLFtdLCJ2YWx1ZXMiLFtdLCJjZWxscyIsW10pKX07dmFyIEc9WyJmb250RmFtaWx5IiwiZm9udFNpemUiLCJmb250Q29sb3IiXSxGPSJlZGdlU3R5bGUgc3RhcnRBcnJvdyBzdGFydEZpbGwgc3RhcnRTaXplIGVuZEFycm93IGVuZEZpbGwgZW5kU2l6ZSIuc3BsaXQoIiAiKSxJPVsic3RhcnRBcnJvdyBzdGFydEZpbGwgc3RhcnRTaXplIHNvdXJjZVBlcmltZXRlclNwYWNpbmcgZW5kQXJyb3cgZW5kRmlsbCBlbmRTaXplIHRhcmdldFBlcmltZXRlclNwYWNpbmciLnNwbGl0KCIgIiksClsic3Ryb2tlQ29sb3IiLCJzdHJva2VXaWR0aCJdLFsiZmlsbENvbG9yIiwiZ3JhZGllbnRDb2xvciJdLEcsWyJvcGFjaXR5Il0sWyJhbGlnbiJdLFsiaHRtbCJdXTtmb3IoYT0wO2E8SS5sZW5ndGg7YSsrKWZvcihjPTA7YzxJW2FdLmxlbmd0aDtjKyspei5wdXNoKElbYV1bY10pO2ZvcihhPTA7YTxFLmxlbmd0aDthKyspMD5teFV0aWxzLmluZGV4T2YoeixFW2FdKSYmei5wdXNoKEVbYV0pO3ZhciBKPWZ1bmN0aW9uKGEsYil7dmFyIGU9ZC5nZXRNb2RlbCgpO2UuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBnPWFbY10sZjtpZihiKWY9WyJmb250U2l6ZSIsImZvbnRGYW1pbHkiLCJmb250Q29sb3IiXTtlbHNle3ZhciBwPWUuZ2V0U3R5bGUoZyksbD1udWxsIT1wP3Auc3BsaXQoIjsiKTpbXTtmPXouc2xpY2UoKTtmb3IodmFyIHU9MDt1PGwubGVuZ3RoO3UrKyl7dmFyIG49bFt1XSx0PW4uaW5kZXhPZigiPSIpO2lmKDA8PXQpe3ZhciBLPQpuLnN1YnN0cmluZygwLHQpLGs9bXhVdGlscy5pbmRleE9mKGYsSyk7MDw9ayYmZi5zcGxpY2UoaywxKTtmb3IodmFyIHY9MDt2PEkubGVuZ3RoO3YrKyl7dmFyIHg9SVt2XTtpZigwPD1teFV0aWxzLmluZGV4T2YoeCxLKSlmb3IodmFyIG09MDttPHgubGVuZ3RoO20rKyl7dmFyIEE9bXhVdGlscy5pbmRleE9mKGYseFttXSk7MDw9QSYmZi5zcGxpY2UoQSwxKX19fX19Zm9yKHZhciBxPWUuaXNFZGdlKGcpLEQ9cT9kLmN1cnJlbnRFZGdlU3R5bGU6ZC5jdXJyZW50VmVydGV4U3R5bGUsQj1lLmdldFN0eWxlKGcpLHU9MDt1PGYubGVuZ3RoO3UrKyl7dmFyIEs9Zlt1XSxDPURbS107bnVsbD09Q3x8InNoYXBlIj09SyYmIXF8fHEmJiEoMD5teFV0aWxzLmluZGV4T2YoRSxLKSl8fChCPW14VXRpbHMuc2V0U3R5bGUoQixLLEMpKX1lLnNldFN0eWxlKGcsQil9fWZpbmFsbHl7ZS5lbmRVcGRhdGUoKX19O2QuYWRkTGlzdGVuZXIoImNlbGxzSW5zZXJ0ZWQiLGZ1bmN0aW9uKGEsYil7SihiLmdldFByb3BlcnR5KCJjZWxscyIpKX0pOwpkLmFkZExpc3RlbmVyKCJ0ZXh0SW5zZXJ0ZWQiLGZ1bmN0aW9uKGEsYil7SihiLmdldFByb3BlcnR5KCJjZWxscyIpLCEwKX0pO2QuY29ubmVjdGlvbkhhbmRsZXIuYWRkTGlzdGVuZXIobXhFdmVudC5DT05ORUNULGZ1bmN0aW9uKGEsYil7dmFyIGU9W2IuZ2V0UHJvcGVydHkoImNlbGwiKV07Yi5nZXRQcm9wZXJ0eSgidGVybWluYWxJbnNlcnRlZCIpJiZlLnB1c2goYi5nZXRQcm9wZXJ0eSgidGVybWluYWwiKSk7SihlKX0pO3RoaXMuYWRkTGlzdGVuZXIoInN0eWxlQ2hhbmdlZCIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxiKXt2YXIgZT1iLmdldFByb3BlcnR5KCJjZWxscyIpLGM9ITEsZz0hMTtpZigwPGUubGVuZ3RoKWZvcih2YXIgZj0wO2Y8ZS5sZW5ndGgmJihjPWQuZ2V0TW9kZWwoKS5pc1ZlcnRleChlW2ZdKXx8YywhKGc9ZC5nZXRNb2RlbCgpLmlzRWRnZShlW2ZdKXx8Zyl8fCFjKTtmKyspO2Vsc2UgZz1jPSEwO2Zvcih2YXIgZT1iLmdldFByb3BlcnR5KCJrZXlzIiksCnA9Yi5nZXRQcm9wZXJ0eSgidmFsdWVzIiksZj0wO2Y8ZS5sZW5ndGg7ZisrKXt2YXIgbD0wPD1teFV0aWxzLmluZGV4T2YoRyxlW2ZdKTtpZigic3Ryb2tlQ29sb3IiIT1lW2ZdfHxudWxsIT1wW2ZdJiYibm9uZSIhPXBbZl0paWYoMDw9bXhVdGlscy5pbmRleE9mKEUsZVtmXSkpZ3x8MDw9bXhVdGlscy5pbmRleE9mKEYsZVtmXSk/bnVsbD09cFtmXT9kZWxldGUgZC5jdXJyZW50RWRnZVN0eWxlW2VbZl1dOmQuY3VycmVudEVkZ2VTdHlsZVtlW2ZdXT1wW2ZdOmMmJjA8PW14VXRpbHMuaW5kZXhPZih6LGVbZl0pJiYobnVsbD09cFtmXT9kZWxldGUgZC5jdXJyZW50VmVydGV4U3R5bGVbZVtmXV06ZC5jdXJyZW50VmVydGV4U3R5bGVbZVtmXV09cFtmXSk7ZWxzZSBpZigwPD1teFV0aWxzLmluZGV4T2YoeixlW2ZdKSl7aWYoY3x8bCludWxsPT1wW2ZdP2RlbGV0ZSBkLmN1cnJlbnRWZXJ0ZXhTdHlsZVtlW2ZdXTpkLmN1cnJlbnRWZXJ0ZXhTdHlsZVtlW2ZdXT1wW2ZdO2lmKGd8fGx8fAowPD1teFV0aWxzLmluZGV4T2YoRixlW2ZdKSludWxsPT1wW2ZdP2RlbGV0ZSBkLmN1cnJlbnRFZGdlU3R5bGVbZVtmXV06ZC5jdXJyZW50RWRnZVN0eWxlW2VbZl1dPXBbZl19fW51bGwhPXRoaXMudG9vbGJhciYmKHRoaXMudG9vbGJhci5zZXRGb250TmFtZShkLmN1cnJlbnRWZXJ0ZXhTdHlsZS5mb250RmFtaWx5fHxNZW51cy5wcm90b3R5cGUuZGVmYXVsdEZvbnQpLHRoaXMudG9vbGJhci5zZXRGb250U2l6ZShkLmN1cnJlbnRWZXJ0ZXhTdHlsZS5mb250U2l6ZXx8TWVudXMucHJvdG90eXBlLmRlZmF1bHRGb250U2l6ZSksbnVsbCE9dGhpcy50b29sYmFyLmVkZ2VTdHlsZU1lbnUmJih0aGlzLnRvb2xiYXIuZWRnZVN0eWxlTWVudS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZGl2IilbMF0uY2xhc3NOYW1lPSJvcnRob2dvbmFsRWRnZVN0eWxlIj09ZC5jdXJyZW50RWRnZVN0eWxlLmVkZ2VTdHlsZSYmIjEiPT1kLmN1cnJlbnRFZGdlU3R5bGUuY3VydmVkPyJnZVNwcml0ZSBnZVNwcml0ZS1jdXJ2ZWQiOgoic3RyYWlnaHQiPT1kLmN1cnJlbnRFZGdlU3R5bGUuZWRnZVN0eWxlfHwibm9uZSI9PWQuY3VycmVudEVkZ2VTdHlsZS5lZGdlU3R5bGV8fG51bGw9PWQuY3VycmVudEVkZ2VTdHlsZS5lZGdlU3R5bGU/ImdlU3ByaXRlIGdlU3ByaXRlLXN0cmFpZ2h0IjoiZW50aXR5UmVsYXRpb25FZGdlU3R5bGUiPT1kLmN1cnJlbnRFZGdlU3R5bGUuZWRnZVN0eWxlPyJnZVNwcml0ZSBnZVNwcml0ZS1lbnRpdHkiOiJlbGJvd0VkZ2VTdHlsZSI9PWQuY3VycmVudEVkZ2VTdHlsZS5lZGdlU3R5bGU/ImdlU3ByaXRlIGdlU3ByaXRlLSIrKCJ2ZXJ0aWNhbCI9PWQuY3VycmVudEVkZ2VTdHlsZS5lbGJvdz8idmVydGljYWxlbGJvdyI6Imhvcml6b250YWxlbGJvdyIpOiJpc29tZXRyaWNFZGdlU3R5bGUiPT1kLmN1cnJlbnRFZGdlU3R5bGUuZWRnZVN0eWxlPyJnZVNwcml0ZSBnZVNwcml0ZS0iKygidmVydGljYWwiPT1kLmN1cnJlbnRFZGdlU3R5bGUuZWxib3c/InZlcnRpY2FsaXNvbWV0cmljIjoiaG9yaXpvbnRhbGlzb21ldHJpYyIpOgoiZ2VTcHJpdGUgZ2VTcHJpdGUtb3J0aG9nb25hbCIpLG51bGwhPXRoaXMudG9vbGJhci5lZGdlU2hhcGVNZW51JiYodGhpcy50b29sYmFyLmVkZ2VTaGFwZU1lbnUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpWzBdLmNsYXNzTmFtZT0ibGluayI9PWQuY3VycmVudEVkZ2VTdHlsZS5zaGFwZT8iZ2VTcHJpdGUgZ2VTcHJpdGUtbGlua2VkZ2UiOiJmbGV4QXJyb3ciPT1kLmN1cnJlbnRFZGdlU3R5bGUuc2hhcGU/ImdlU3ByaXRlIGdlU3ByaXRlLWFycm93IjoiYXJyb3ciPT1kLmN1cnJlbnRFZGdlU3R5bGUuc2hhcGU/ImdlU3ByaXRlIGdlU3ByaXRlLXNpbXBsZWFycm93IjoiZ2VTcHJpdGUgZ2VTcHJpdGUtY29ubmVjdGlvbiIpLG51bGwhPXRoaXMudG9vbGJhci5saW5lU3RhcnRNZW51JiYodGhpcy50b29sYmFyLmxpbmVTdGFydE1lbnUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpWzBdLmNsYXNzTmFtZT10aGlzLmdldENzc0NsYXNzRm9yTWFya2VyKCJzdGFydCIsZC5jdXJyZW50RWRnZVN0eWxlLnNoYXBlLApkLmN1cnJlbnRFZGdlU3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU1RBUlRBUlJPV10sbXhVdGlscy5nZXRWYWx1ZShkLmN1cnJlbnRFZGdlU3R5bGUsInN0YXJ0RmlsbCIsIjEiKSkpLG51bGwhPXRoaXMudG9vbGJhci5saW5lRW5kTWVudSYmKHRoaXMudG9vbGJhci5saW5lRW5kTWVudS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZGl2IilbMF0uY2xhc3NOYW1lPXRoaXMuZ2V0Q3NzQ2xhc3NGb3JNYXJrZXIoImVuZCIsZC5jdXJyZW50RWRnZVN0eWxlLnNoYXBlLGQuY3VycmVudEVkZ2VTdHlsZVtteENvbnN0YW50cy5TVFlMRV9FTkRBUlJPV10sbXhVdGlscy5nZXRWYWx1ZShkLmN1cnJlbnRFZGdlU3R5bGUsImVuZEZpbGwiLCIxIikpKSl9KSk7bnVsbCE9dGhpcy50b29sYmFyJiYoYT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3ZhciBhPWQuY3VycmVudFZlcnRleFN0eWxlLmZvbnRGYW1pbHl8fCJIZWx2ZXRpY2EiLGI9U3RyaW5nKGQuY3VycmVudFZlcnRleFN0eWxlLmZvbnRTaXplfHwKIjEyIiksZT1kLmdldFZpZXcoKS5nZXRTdGF0ZShkLmdldFNlbGVjdGlvbkNlbGwoKSk7bnVsbCE9ZSYmKGE9ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9GT05URkFNSUxZXXx8YSxiPWUuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRk9OVFNJWkVdfHxiLDEwPGEubGVuZ3RoJiYoYT1hLnN1YnN0cmluZygwLDgpKyIuLi4iKSk7dGhpcy50b29sYmFyLnNldEZvbnROYW1lKGEpO3RoaXMudG9vbGJhci5zZXRGb250U2l6ZShiKX0pLGQuZ2V0U2VsZWN0aW9uTW9kZWwoKS5hZGRMaXN0ZW5lcihteEV2ZW50LkNIQU5HRSxhKSxkLmdldE1vZGVsKCkuYWRkTGlzdGVuZXIobXhFdmVudC5DSEFOR0UsYSkpO2QuYWRkTGlzdGVuZXIobXhFdmVudC5DRUxMU19BRERFRCxmdW5jdGlvbihhLGIpe3ZhciBlPWIuZ2V0UHJvcGVydHkoImNlbGxzIiksYz1iLmdldFByb3BlcnR5KCJwYXJlbnQiKTtkLmdldE1vZGVsKCkuaXNMYXllcihjKSYmIWQuaXNDZWxsVmlzaWJsZShjKSYmbnVsbCE9ZSYmMDxlLmxlbmd0aCYmCmQuZ2V0TW9kZWwoKS5zZXRWaXNpYmxlKGMsITApfSk7dGhpcy5nZXN0dXJlSGFuZGxlcj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtudWxsIT10aGlzLmN1cnJlbnRNZW51JiZteEV2ZW50LmdldFNvdXJjZShhKSE9dGhpcy5jdXJyZW50TWVudS5kaXYmJnRoaXMuaGlkZUN1cnJlbnRNZW51KCl9KTtteEV2ZW50LmFkZEdlc3R1cmVMaXN0ZW5lcnMoZG9jdW1lbnQsdGhpcy5nZXN0dXJlSGFuZGxlcik7dGhpcy5yZXNpemVIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7d2luZG93LnNldFRpbWVvdXQobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtudWxsIT10aGlzLmVkaXRvci5ncmFwaCYmdGhpcy5yZWZyZXNoKCl9KSwwKX0pO214RXZlbnQuYWRkTGlzdGVuZXIod2luZG93LCJyZXNpemUiLHRoaXMucmVzaXplSGFuZGxlcik7dGhpcy5vcmllbnRhdGlvbkNoYW5nZUhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2goKX0pOwpteEV2ZW50LmFkZExpc3RlbmVyKHdpbmRvdywib3JpZW50YXRpb25jaGFuZ2UiLHRoaXMub3JpZW50YXRpb25DaGFuZ2VIYW5kbGVyKTtteENsaWVudC5JU19JT1MmJiF3aW5kb3cubmF2aWdhdG9yLnN0YW5kYWxvbmUmJih0aGlzLnNjcm9sbEhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt3aW5kb3cuc2Nyb2xsVG8oMCwwKX0pLG14RXZlbnQuYWRkTGlzdGVuZXIod2luZG93LCJzY3JvbGwiLHRoaXMuc2Nyb2xsSGFuZGxlcikpO3RoaXMuZWRpdG9yLmFkZExpc3RlbmVyKCJyZXNldEdyYXBoVmlldyIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnJlc2V0U2Nyb2xsYmFycygpfSkpO3RoaXMuYWRkTGlzdGVuZXIoImdyaWRFbmFibGVkQ2hhbmdlZCIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtkLnZpZXcudmFsaWRhdGVCYWNrZ3JvdW5kKCl9KSk7dGhpcy5hZGRMaXN0ZW5lcigiYmFja2dyb3VuZENvbG9yQ2hhbmdlZCIsbXhVdGlscy5iaW5kKHRoaXMsCmZ1bmN0aW9uKCl7ZC52aWV3LnZhbGlkYXRlQmFja2dyb3VuZCgpfSkpO2QuYWRkTGlzdGVuZXIoImdyaWRTaXplQ2hhbmdlZCIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtkLmlzR3JpZEVuYWJsZWQoKSYmZC52aWV3LnZhbGlkYXRlQmFja2dyb3VuZCgpfSkpO3RoaXMuZWRpdG9yLnJlc2V0R3JhcGgoKX10aGlzLmluaXQoKTtkLnN0YW5kYWxvbmV8fHRoaXMub3BlbigpfTtteFV0aWxzLmV4dGVuZChFZGl0b3JVaSxteEV2ZW50U291cmNlKTtFZGl0b3JVaS5jb21wYWN0VWk9ITA7RWRpdG9yVWkucHJvdG90eXBlLnNwbGl0U2l6ZT1teENsaWVudC5JU19UT1VDSHx8bXhDbGllbnQuSVNfUE9JTlRFUj8xMjo4O0VkaXRvclVpLnByb3RvdHlwZS5tZW51YmFySGVpZ2h0PTMwO0VkaXRvclVpLnByb3RvdHlwZS5mb3JtYXRFbmFibGVkPSEwO0VkaXRvclVpLnByb3RvdHlwZS5mb3JtYXRXaWR0aD0yNDA7RWRpdG9yVWkucHJvdG90eXBlLnRvb2xiYXJIZWlnaHQ9Mzg7CkVkaXRvclVpLnByb3RvdHlwZS5mb290ZXJIZWlnaHQ9Mjg7RWRpdG9yVWkucHJvdG90eXBlLnNpZGViYXJGb290ZXJIZWlnaHQ9MzQ7RWRpdG9yVWkucHJvdG90eXBlLmhzcGxpdFBvc2l0aW9uPTY0MD49c2NyZWVuLndpZHRoPzExODoibGFyZ2UiIT11cmxQYXJhbXNbInNpZGViYXItZW50cmllcyJdPzIxMjoyNDA7RWRpdG9yVWkucHJvdG90eXBlLmFsbG93QW5pbWF0aW9uPSEwO0VkaXRvclVpLnByb3RvdHlwZS5saWdodGJveE1heEZpdFNjYWxlPTI7RWRpdG9yVWkucHJvdG90eXBlLmxpZ2h0Ym94VmVydGljYWxEaXZpZGVyPTQ7RWRpdG9yVWkucHJvdG90eXBlLmhzcGxpdENsaWNrRW5hYmxlZD0hMTsKRWRpdG9yVWkucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVkaXRvci5ncmFwaDtpZighYS5zdGFuZGFsb25lKXtteEV2ZW50LmFkZExpc3RlbmVyKGEuY29udGFpbmVyLCJzY3JvbGwiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7YS50b29sdGlwSGFuZGxlci5oaWRlKCk7bnVsbCE9YS5jb25uZWN0aW9uSGFuZGxlciYmbnVsbCE9YS5jb25uZWN0aW9uSGFuZGxlci5jb25zdHJhaW50SGFuZGxlciYmYS5jb25uZWN0aW9uSGFuZGxlci5jb25zdHJhaW50SGFuZGxlci5yZXNldCgpfSkpO2EuYWRkTGlzdGVuZXIobXhFdmVudC5FU0NBUEUsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXthLnRvb2x0aXBIYW5kbGVyLmhpZGUoKTt2YXIgZD1hLmdldFJ1YmJlcmJhbmQoKTtudWxsIT1kJiZkLmNhbmNlbCgpfSkpO214RXZlbnQuYWRkTGlzdGVuZXIoYS5jb250YWluZXIsImtleWRvd24iLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMub25LZXlEb3duKGEpfSkpOwpteEV2ZW50LmFkZExpc3RlbmVyKGEuY29udGFpbmVyLCJrZXlwcmVzcyIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5vbktleVByZXNzKGEpfSkpO3RoaXMuYWRkVW5kb0xpc3RlbmVyKCk7dGhpcy5hZGRCZWZvcmVVbmxvYWRMaXN0ZW5lcigpO2EuZ2V0U2VsZWN0aW9uTW9kZWwoKS5hZGRMaXN0ZW5lcihteEV2ZW50LkNIQU5HRSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMudXBkYXRlQWN0aW9uU3RhdGVzKCl9KSk7YS5nZXRNb2RlbCgpLmFkZExpc3RlbmVyKG14RXZlbnQuQ0hBTkdFLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy51cGRhdGVBY3Rpb25TdGF0ZXMoKX0pKTt2YXIgYz1hLnNldERlZmF1bHRQYXJlbnQsZj10aGlzO3RoaXMuZWRpdG9yLmdyYXBoLnNldERlZmF1bHRQYXJlbnQ9ZnVuY3Rpb24oKXtjLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtmLnVwZGF0ZUFjdGlvblN0YXRlcygpfTthLmVkaXRMaW5rPWYuYWN0aW9ucy5nZXQoImVkaXRMaW5rIikuZnVuY3Q7CnRoaXMudXBkYXRlQWN0aW9uU3RhdGVzKCk7dGhpcy5pbml0Q2xpcGJvYXJkKCk7dGhpcy5pbml0Q2FudmFzKCk7bnVsbCE9dGhpcy5mb3JtYXQmJnRoaXMuZm9ybWF0LmluaXQoKX19O0VkaXRvclVpLnByb3RvdHlwZS5vbktleURvd249ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5lZGl0b3IuZ3JhcGg7OSE9YS53aGljaHx8IWMuaXNFbmFibGVkKCl8fG14RXZlbnQuaXNBbHREb3duKGEpfHxjLmlzRWRpdGluZygpJiZteEV2ZW50LmlzU2hpZnREb3duKGEpfHwoYy5pc0VkaXRpbmcoKT9jLnN0b3BFZGl0aW5nKCExKTpjLnNlbGVjdENlbGwoIW14RXZlbnQuaXNTaGlmdERvd24oYSkpLG14RXZlbnQuY29uc3VtZShhKSl9OwpFZGl0b3JVaS5wcm90b3R5cGUub25LZXlQcmVzcz1mdW5jdGlvbihhKXt2YXIgYz10aGlzLmVkaXRvci5ncmFwaDshdGhpcy5pc0ltbWVkaWF0ZUVkaXRpbmdFdmVudChhKXx8Yy5pc0VkaXRpbmcoKXx8Yy5pc1NlbGVjdGlvbkVtcHR5KCl8fDA9PT1hLndoaWNofHwyNz09PWEud2hpY2h8fG14RXZlbnQuaXNBbHREb3duKGEpfHxteEV2ZW50LmlzQ29udHJvbERvd24oYSl8fG14RXZlbnQuaXNNZXRhRG93bihhKXx8KGMuZXNjYXBlKCksYy5zdGFydEVkaXRpbmcoKSxteENsaWVudC5JU19GRiYmKGM9Yy5jZWxsRWRpdG9yLG51bGwhPWMudGV4dGFyZWEmJihjLnRleHRhcmVhLmlubmVySFRNTD1TdHJpbmcuZnJvbUNoYXJDb2RlKGEud2hpY2gpLGE9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSxhLnNlbGVjdE5vZGVDb250ZW50cyhjLnRleHRhcmVhKSxhLmNvbGxhcHNlKCExKSxjPXdpbmRvdy5nZXRTZWxlY3Rpb24oKSxjLnJlbW92ZUFsbFJhbmdlcygpLGMuYWRkUmFuZ2UoYSkpKSl9OwpFZGl0b3JVaS5wcm90b3R5cGUuaXNJbW1lZGlhdGVFZGl0aW5nRXZlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuITB9OwpFZGl0b3JVaS5wcm90b3R5cGUuZ2V0Q3NzQ2xhc3NGb3JNYXJrZXI9ZnVuY3Rpb24oYSxjLGYsZCl7cmV0dXJuImZsZXhBcnJvdyI9PWM/bnVsbCE9ZiYmZiE9bXhDb25zdGFudHMuTk9ORT8iZ2VTcHJpdGUgZ2VTcHJpdGUtIithKyJibG9ja3RyYW5zIjoiZ2VTcHJpdGUgZ2VTcHJpdGUtbm9hcnJvdyI6ImJveCI9PWZ8fCJoYWxmQ2lyY2xlIj09Zj8iZ2VTcHJpdGUgZ2VTdmdTcHJpdGUgZ2VTcHJpdGUtIitmKygiZW5kIj09YT8iIGdlRmxpcFNwcml0ZSI6IiIpOmY9PW14Q29uc3RhbnRzLkFSUk9XX0NMQVNTSUM/IjEiPT1kPyJnZVNwcml0ZSBnZVNwcml0ZS0iK2ErImNsYXNzaWMiOiJnZVNwcml0ZSBnZVNwcml0ZS0iK2ErImNsYXNzaWN0cmFucyI6Zj09bXhDb25zdGFudHMuQVJST1dfQ0xBU1NJQ19USElOPyIxIj09ZD8iZ2VTcHJpdGUgZ2VTcHJpdGUtIithKyJjbGFzc2ljdGhpbiI6ImdlU3ByaXRlIGdlU3ByaXRlLSIrYSsiY2xhc3NpY3RoaW50cmFucyI6Zj09bXhDb25zdGFudHMuQVJST1dfT1BFTj8KImdlU3ByaXRlIGdlU3ByaXRlLSIrYSsib3BlbiI6Zj09bXhDb25zdGFudHMuQVJST1dfT1BFTl9USElOPyJnZVNwcml0ZSBnZVNwcml0ZS0iK2ErIm9wZW50aGluIjpmPT1teENvbnN0YW50cy5BUlJPV19CTE9DSz8iMSI9PWQ/ImdlU3ByaXRlIGdlU3ByaXRlLSIrYSsiYmxvY2siOiJnZVNwcml0ZSBnZVNwcml0ZS0iK2ErImJsb2NrdHJhbnMiOmY9PW14Q29uc3RhbnRzLkFSUk9XX0JMT0NLX1RISU4/IjEiPT1kPyJnZVNwcml0ZSBnZVNwcml0ZS0iK2ErImJsb2NrdGhpbiI6ImdlU3ByaXRlIGdlU3ByaXRlLSIrYSsiYmxvY2t0aGludHJhbnMiOmY9PW14Q29uc3RhbnRzLkFSUk9XX09WQUw/IjEiPT1kPyJnZVNwcml0ZSBnZVNwcml0ZS0iK2ErIm92YWwiOiJnZVNwcml0ZSBnZVNwcml0ZS0iK2ErIm92YWx0cmFucyI6Zj09bXhDb25zdGFudHMuQVJST1dfRElBTU9ORD8iMSI9PWQ/ImdlU3ByaXRlIGdlU3ByaXRlLSIrYSsiZGlhbW9uZCI6ImdlU3ByaXRlIGdlU3ByaXRlLSIrYSsiZGlhbW9uZHRyYW5zIjoKZj09bXhDb25zdGFudHMuQVJST1dfRElBTU9ORF9USElOPyIxIj09ZD8iZ2VTcHJpdGUgZ2VTcHJpdGUtIithKyJ0aGluZGlhbW9uZCI6ImdlU3ByaXRlIGdlU3ByaXRlLSIrYSsidGhpbmRpYW1vbmR0cmFucyI6Im9wZW5Bc3luYyI9PWY/ImdlU3ByaXRlIGdlU3ByaXRlLSIrYSsib3BlbmFzeW5jIjoiZGFzaCI9PWY/ImdlU3ByaXRlIGdlU3ByaXRlLSIrYSsiZGFzaCI6ImNyb3NzIj09Zj8iZ2VTcHJpdGUgZ2VTcHJpdGUtIithKyJjcm9zcyI6ImFzeW5jIj09Zj8iMSI9PWQ/ImdlU3ByaXRlIGdlU3ByaXRlLSIrYSsiYXN5bmMiOiJnZVNwcml0ZSBnZVNwcml0ZS0iK2ErImFzeW5jdHJhbnMiOiJjaXJjbGUiPT1mfHwiY2lyY2xlUGx1cyI9PWY/IjEiPT1kfHwiY2lyY2xlIj09Zj8iZ2VTcHJpdGUgZ2VTcHJpdGUtIithKyJjaXJjbGUiOiJnZVNwcml0ZSBnZVNwcml0ZS0iK2ErImNpcmNsZXBsdXMiOiJFUm9uZSI9PWY/ImdlU3ByaXRlIGdlU3ByaXRlLSIrYSsiZXJvbmUiOiJFUm1hbmRPbmUiPT0KZj8iZ2VTcHJpdGUgZ2VTcHJpdGUtIithKyJlcm9uZXRvb25lIjoiRVJtYW55Ij09Zj8iZ2VTcHJpdGUgZ2VTcHJpdGUtIithKyJlcm1hbnkiOiJFUm9uZVRvTWFueSI9PWY/ImdlU3ByaXRlIGdlU3ByaXRlLSIrYSsiZXJvbmV0b21hbnkiOiJFUnplcm9Ub09uZSI9PWY/ImdlU3ByaXRlIGdlU3ByaXRlLSIrYSsiZXJvbmVvcHQiOiJFUnplcm9Ub01hbnkiPT1mPyJnZVNwcml0ZSBnZVNwcml0ZS0iK2ErImVybWFueW9wdCI6ImdlU3ByaXRlIGdlU3ByaXRlLW5vYXJyb3cifTtFZGl0b3JVaS5wcm90b3R5cGUuY3JlYXRlTWVudXM9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH07CkVkaXRvclVpLnByb3RvdHlwZS51cGRhdGVQYXN0ZUFjdGlvblN0YXRlcz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZWRpdG9yLmdyYXBoLGM9dGhpcy5hY3Rpb25zLmdldCgicGFzdGUiKSxmPXRoaXMuYWN0aW9ucy5nZXQoInBhc3RlSGVyZSIpO2Muc2V0RW5hYmxlZCh0aGlzLmVkaXRvci5ncmFwaC5jZWxsRWRpdG9yLmlzQ29udGVudEVkaXRpbmcoKXx8IW14Q2xpcGJvYXJkLmlzRW1wdHkoKSYmYS5pc0VuYWJsZWQoKSYmIWEuaXNDZWxsTG9ja2VkKGEuZ2V0RGVmYXVsdFBhcmVudCgpKSk7Zi5zZXRFbmFibGVkKGMuaXNFbmFibGVkKCkpfTsKRWRpdG9yVWkucHJvdG90eXBlLmluaXRDbGlwYm9hcmQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGM9bXhDbGlwYm9hcmQuY3V0O214Q2xpcGJvYXJkLmN1dD1mdW5jdGlvbihkKXtkLmNlbGxFZGl0b3IuaXNDb250ZW50RWRpdGluZygpP2RvY3VtZW50LmV4ZWNDb21tYW5kKCJjdXQiLCExLG51bGwpOmMuYXBwbHkodGhpcyxhcmd1bWVudHMpO2EudXBkYXRlUGFzdGVBY3Rpb25TdGF0ZXMoKX07bXhDbGlwYm9hcmQuY29weT1mdW5jdGlvbihkKXt2YXIgYz1udWxsO2lmKGQuY2VsbEVkaXRvci5pc0NvbnRlbnRFZGl0aW5nKCkpZG9jdW1lbnQuZXhlY0NvbW1hbmQoImNvcHkiLCExLG51bGwpO2Vsc2V7Zm9yKHZhciBjPWN8fGQuZ2V0U2VsZWN0aW9uQ2VsbHMoKSxjPWQuZ2V0RXhwb3J0YWJsZUNlbGxzKGQubW9kZWwuZ2V0VG9wbW9zdENlbGxzKGMpKSxiPXt9LGU9ZC5jcmVhdGVDZWxsTG9va3VwKGMpLGc9ZC5jbG9uZUNlbGxzKGMsbnVsbCxiKSxmPW5ldyBteEdyYXBoTW9kZWwsbD1mLmdldENoaWxkQXQoZi5nZXRSb290KCksCjApLG49MDtuPGcubGVuZ3RoO24rKyl7Zi5hZGQobCxnW25dKTt2YXIgdj1kLnZpZXcuZ2V0U3RhdGUoY1tuXSk7aWYobnVsbCE9dil7dmFyIHQ9ZC5nZXRDZWxsR2VvbWV0cnkoZ1tuXSk7bnVsbCE9dCYmdC5yZWxhdGl2ZSYmIWYuaXNFZGdlKGNbbl0pJiZudWxsPT1lW214T2JqZWN0SWRlbnRpdHkuZ2V0KGYuZ2V0UGFyZW50KGNbbl0pKV0mJih0Lm9mZnNldD1udWxsLHQucmVsYXRpdmU9ITEsdC54PXYueC92LnZpZXcuc2NhbGUtdi52aWV3LnRyYW5zbGF0ZS54LHQueT12Lnkvdi52aWV3LnNjYWxlLXYudmlldy50cmFuc2xhdGUueSl9fWQudXBkYXRlQ3VzdG9tTGlua3MoZC5jcmVhdGVDZWxsTWFwcGluZyhiLGUpLGcpO214Q2xpcGJvYXJkLmluc2VydENvdW50PTE7bXhDbGlwYm9hcmQuc2V0Q2VsbHMoZyl9YS51cGRhdGVQYXN0ZUFjdGlvblN0YXRlcygpO3JldHVybiBjfTt2YXIgZj1teENsaXBib2FyZC5wYXN0ZTtteENsaXBib2FyZC5wYXN0ZT1mdW5jdGlvbihkKXt2YXIgYz0KbnVsbDtkLmNlbGxFZGl0b3IuaXNDb250ZW50RWRpdGluZygpP2RvY3VtZW50LmV4ZWNDb21tYW5kKCJwYXN0ZSIsITEsbnVsbCk6Yz1mLmFwcGx5KHRoaXMsYXJndW1lbnRzKTthLnVwZGF0ZVBhc3RlQWN0aW9uU3RhdGVzKCk7cmV0dXJuIGN9O3ZhciBkPXRoaXMuZWRpdG9yLmdyYXBoLmNlbGxFZGl0b3Iuc3RhcnRFZGl0aW5nO3RoaXMuZWRpdG9yLmdyYXBoLmNlbGxFZGl0b3Iuc3RhcnRFZGl0aW5nPWZ1bmN0aW9uKCl7ZC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YS51cGRhdGVQYXN0ZUFjdGlvblN0YXRlcygpfTt2YXIgbT10aGlzLmVkaXRvci5ncmFwaC5jZWxsRWRpdG9yLnN0b3BFZGl0aW5nO3RoaXMuZWRpdG9yLmdyYXBoLmNlbGxFZGl0b3Iuc3RvcEVkaXRpbmc9ZnVuY3Rpb24oZCxjKXttLmFwcGx5KHRoaXMsYXJndW1lbnRzKTthLnVwZGF0ZVBhc3RlQWN0aW9uU3RhdGVzKCl9O3RoaXMudXBkYXRlUGFzdGVBY3Rpb25TdGF0ZXMoKX07CkVkaXRvclVpLnByb3RvdHlwZS5sYXp5Wm9vbURlbGF5PTIwO0VkaXRvclVpLnByb3RvdHlwZS53aGVlbFpvb21EZWxheT00MDA7RWRpdG9yVWkucHJvdG90eXBlLmJ1dHRvblpvb21EZWxheT02MDA7CkVkaXRvclVpLnByb3RvdHlwZS5pbml0Q2FudmFzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lZGl0b3IuZ3JhcGg7YS50aW1lckF1dG9TY3JvbGw9ITA7YS5nZXRQYWdlUGFkZGluZz1mdW5jdGlvbigpe3JldHVybiBuZXcgbXhQb2ludChNYXRoLm1heCgwLE1hdGgucm91bmQoKGEuY29udGFpbmVyLm9mZnNldFdpZHRoLTM0KS9hLnZpZXcuc2NhbGUpKSxNYXRoLm1heCgwLE1hdGgucm91bmQoKGEuY29udGFpbmVyLm9mZnNldEhlaWdodC0zNCkvYS52aWV3LnNjYWxlKSkpfTthLnZpZXcuZ2V0QmFja2dyb3VuZFBhZ2VCb3VuZHM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdyYXBoLmdldFBhZ2VMYXlvdXQoKSxiPXRoaXMuZ3JhcGguZ2V0UGFnZVNpemUoKTtyZXR1cm4gbmV3IG14UmVjdGFuZ2xlKHRoaXMuc2NhbGUqKHRoaXMudHJhbnNsYXRlLngrYS54KmIud2lkdGgpLHRoaXMuc2NhbGUqKHRoaXMudHJhbnNsYXRlLnkrYS55KmIuaGVpZ2h0KSx0aGlzLnNjYWxlKmEud2lkdGgqYi53aWR0aCwKdGhpcy5zY2FsZSphLmhlaWdodCpiLmhlaWdodCl9O2EuZ2V0UHJlZmVycmVkUGFnZVNpemU9ZnVuY3Rpb24oYSxiLGUpe2E9dGhpcy5nZXRQYWdlTGF5b3V0KCk7Yj10aGlzLmdldFBhZ2VTaXplKCk7cmV0dXJuIG5ldyBteFJlY3RhbmdsZSgwLDAsYS53aWR0aCpiLndpZHRoLGEuaGVpZ2h0KmIuaGVpZ2h0KX07dmFyIGM9bnVsbCxmPXRoaXM7aWYodGhpcy5lZGl0b3IuaXNDaHJvbWVsZXNzVmlldygpKXt0aGlzLmNocm9tZWxlc3NSZXNpemU9Yz1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiLGUsZCxjKXtpZihudWxsIT1hLmNvbnRhaW5lciYmIWEuaXNWaWV3ZXIoKSl7ZD1udWxsIT1kP2Q6MDtjPW51bGwhPWM/YzowO3ZhciBnPWEucGFnZVZpc2libGU/YS52aWV3LmdldEJhY2tncm91bmRQYWdlQm91bmRzKCk6YS5nZXRHcmFwaEJvdW5kcygpLGY9bXhVdGlscy5oYXNTY3JvbGxiYXJzKGEuY29udGFpbmVyKSxwPWEudmlldy50cmFuc2xhdGUsbD1hLnZpZXcuc2NhbGUsbj1teFJlY3RhbmdsZS5mcm9tUmVjdGFuZ2xlKGcpOwpuLng9bi54L2wtcC54O24ueT1uLnkvbC1wLnk7bi53aWR0aC89bDtuLmhlaWdodC89bDt2YXIgcD1hLmNvbnRhaW5lci5zY3JvbGxUb3AsdT1hLmNvbnRhaW5lci5zY3JvbGxMZWZ0LHk9bXhDbGllbnQuSVNfUVVJUktTfHw4PD1kb2N1bWVudC5kb2N1bWVudE1vZGU/MjA6MTQ7aWYoOD09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHw5PT1kb2N1bWVudC5kb2N1bWVudE1vZGUpeSs9Mzt2YXIgdD1hLmNvbnRhaW5lci5vZmZzZXRXaWR0aC15LHk9YS5jb250YWluZXIub2Zmc2V0SGVpZ2h0LXk7Yj1iP01hdGgubWF4KC4zLE1hdGgubWluKGV8fDEsdC9uLndpZHRoKSk6bDtlPSh0LWIqbi53aWR0aCkvMi9iO3ZhciBLPTA9PXRoaXMubGlnaHRib3hWZXJ0aWNhbERpdmlkZXI/MDooeS1iKm4uaGVpZ2h0KS90aGlzLmxpZ2h0Ym94VmVydGljYWxEaXZpZGVyL2I7ZiYmKGU9TWF0aC5tYXgoZSwwKSxLPU1hdGgubWF4KEssMCkpO2lmKGZ8fGcud2lkdGg8dHx8Zy5oZWlnaHQ8eSlhLnZpZXcuc2NhbGVBbmRUcmFuc2xhdGUoYiwKTWF0aC5mbG9vcihlLW4ueCksTWF0aC5mbG9vcihLLW4ueSkpLGEuY29udGFpbmVyLnNjcm9sbFRvcD1wKmIvbCxhLmNvbnRhaW5lci5zY3JvbGxMZWZ0PXUqYi9sO2Vsc2UgaWYoMCE9ZHx8MCE9YylnPWEudmlldy50cmFuc2xhdGUsYS52aWV3LnNldFRyYW5zbGF0ZShNYXRoLmZsb29yKGcueCtkL2wpLE1hdGguZmxvb3IoZy55K2MvbCkpfX0pO3RoaXMuY2hyb21lbGVzc1dpbmRvd1Jlc2l6ZT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuY2hyb21lbGVzc1Jlc2l6ZSghMSl9KTt2YXIgZD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuY2hyb21lbGVzc1dpbmRvd1Jlc2l6ZSghMSl9KTtteEV2ZW50LmFkZExpc3RlbmVyKHdpbmRvdywicmVzaXplIixkKTt0aGlzLmRlc3Ryb3lGdW5jdGlvbnMucHVzaChmdW5jdGlvbigpe214RXZlbnQucmVtb3ZlTGlzdGVuZXIod2luZG93LCJyZXNpemUiLGQpfSk7dGhpcy5lZGl0b3IuYWRkTGlzdGVuZXIoInJlc2V0R3JhcGhWaWV3IiwKbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmNocm9tZWxlc3NSZXNpemUoITApfSkpO3RoaXMuYWN0aW9ucy5nZXQoInpvb21JbiIpLmZ1bmN0PW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe2Euem9vbUluKCk7dGhpcy5jaHJvbWVsZXNzUmVzaXplKCExKX0pO3RoaXMuYWN0aW9ucy5nZXQoInpvb21PdXQiKS5mdW5jdD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXthLnpvb21PdXQoKTt0aGlzLmNocm9tZWxlc3NSZXNpemUoITEpfSk7aWYoIjAiIT11cmxQYXJhbXMudG9vbGJhcil7dmFyIG09SlNPTi5wYXJzZShkZWNvZGVVUklDb21wb25lbnQodXJsUGFyYW1zWyJ0b29sYmFyLWNvbmZpZyJdfHwie30iKSk7dGhpcy5jaHJvbWVsZXNzVG9vbGJhcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTt0aGlzLmNocm9tZWxlc3NUb29sYmFyLnN0eWxlLnBvc2l0aW9uPSJmaXhlZCI7dGhpcy5jaHJvbWVsZXNzVG9vbGJhci5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIjsKdGhpcy5jaHJvbWVsZXNzVG9vbGJhci5zdHlsZS5ib3hTaXppbmc9ImJvcmRlci1ib3giO3RoaXMuY2hyb21lbGVzc1Rvb2xiYXIuc3R5bGUud2hpdGVTcGFjZT0ibm93cmFwIjt0aGlzLmNocm9tZWxlc3NUb29sYmFyLnN0eWxlLmJhY2tncm91bmRDb2xvcj0iIzAwMDAwMCI7dGhpcy5jaHJvbWVsZXNzVG9vbGJhci5zdHlsZS5wYWRkaW5nPSIxMHB4IDEwcHggOHB4IDEwcHgiO3RoaXMuY2hyb21lbGVzc1Rvb2xiYXIuc3R5bGUubGVmdD1hLmlzVmlld2VyKCk/IjAiOiI1MCUiO214Q2xpZW50LklTX1ZNTHx8KG14VXRpbHMuc2V0UHJlZml4ZWRTdHlsZSh0aGlzLmNocm9tZWxlc3NUb29sYmFyLnN0eWxlLCJib3JkZXJSYWRpdXMiLCIyMHB4IiksbXhVdGlscy5zZXRQcmVmaXhlZFN0eWxlKHRoaXMuY2hyb21lbGVzc1Rvb2xiYXIuc3R5bGUsInRyYW5zaXRpb24iLCJvcGFjaXR5IDYwMG1zIGVhc2UtaW4tb3V0IikpO3ZhciBrPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dmFyIGI9Cm14VXRpbHMuZ2V0Q3VycmVudFN0eWxlKGEuY29udGFpbmVyKTthLmlzVmlld2VyKCk/dGhpcy5jaHJvbWVsZXNzVG9vbGJhci5zdHlsZS50b3A9IjAiOnRoaXMuY2hyb21lbGVzc1Rvb2xiYXIuc3R5bGUuYm90dG9tPShudWxsIT1iP3BhcnNlSW50KGJbIm1hcmdpbi1ib3R0b20iXXx8MCk6MCkrKG51bGwhPXRoaXMudGFiQ29udGFpbmVyPzIwK3BhcnNlSW50KHRoaXMudGFiQ29udGFpbmVyLnN0eWxlLmhlaWdodCk6MjApKyJweCJ9KTt0aGlzLmVkaXRvci5hZGRMaXN0ZW5lcigicmVzZXRHcmFwaFZpZXciLGspO2soKTt2YXIgcT0wLGs9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxiLGUpe3ErKzt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7ZC5zdHlsZS5wYWRkaW5nTGVmdD0iOHB4IjtkLnN0eWxlLnBhZGRpbmdSaWdodD0iOHB4IjtkLnN0eWxlLmN1cnNvcj0icG9pbnRlciI7bXhFdmVudC5hZGRMaXN0ZW5lcihkLCJjbGljayIsYSk7bnVsbCE9ZSYmZC5zZXRBdHRyaWJ1dGUoInRpdGxlIiwKZSk7YT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTthLnNldEF0dHJpYnV0ZSgiYm9yZGVyIiwiMCIpO2Euc2V0QXR0cmlidXRlKCJzcmMiLGIpO2QuYXBwZW5kQ2hpbGQoYSk7dGhpcy5jaHJvbWVsZXNzVG9vbGJhci5hcHBlbmRDaGlsZChkKTtyZXR1cm4gZH0pO251bGwhPW0uYmFja0J0biYmayhteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt3aW5kb3cubG9jYXRpb24uaHJlZj1tLmJhY2tCdG4udXJsO214RXZlbnQuY29uc3VtZShhKX0pLEVkaXRvci5iYWNrTGFyZ2VJbWFnZSxteFJlc291cmNlcy5nZXQoImJhY2siLG51bGwsIkJhY2siKSk7aWYodGhpcy5pc1BhZ2VzRW5hYmxlZCgpKXt2YXIgYj1rKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuYWN0aW9ucy5nZXQoInByZXZpb3VzUGFnZSIpLmZ1bmN0KCk7bXhFdmVudC5jb25zdW1lKGEpfSksRWRpdG9yLnByZXZpb3VzTGFyZ2VJbWFnZSxteFJlc291cmNlcy5nZXQoInByZXZpb3VzUGFnZSIpKSwKZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtlLnN0eWxlLmRpc3BsYXk9ImlubGluZS1ibG9jayI7ZS5zdHlsZS52ZXJ0aWNhbEFsaWduPSJ0b3AiO2Uuc3R5bGUuZm9udEZhbWlseT0iSGVsdmV0aWNhLEFyaWFsIjtlLnN0eWxlLm1hcmdpblRvcD0iOHB4IjtlLnN0eWxlLmZvbnRTaXplPSIxNHB4IjtlLnN0eWxlLmNvbG9yPSIjZmZmZmZmIjt0aGlzLmNocm9tZWxlc3NUb29sYmFyLmFwcGVuZENoaWxkKGUpO3ZhciBnPWsobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5hY3Rpb25zLmdldCgibmV4dFBhZ2UiKS5mdW5jdCgpO214RXZlbnQuY29uc3VtZShhKX0pLEVkaXRvci5uZXh0TGFyZ2VJbWFnZSxteFJlc291cmNlcy5nZXQoIm5leHRQYWdlIikpLHA9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtudWxsIT10aGlzLnBhZ2VzJiYxPHRoaXMucGFnZXMubGVuZ3RoJiZudWxsIT10aGlzLmN1cnJlbnRQYWdlJiYoZS5pbm5lckhUTUw9IiIsbXhVdGlscy53cml0ZShlLApteFV0aWxzLmluZGV4T2YodGhpcy5wYWdlcyx0aGlzLmN1cnJlbnRQYWdlKSsxKyIgLyAiK3RoaXMucGFnZXMubGVuZ3RoKSl9KTtiLnN0eWxlLnBhZGRpbmdMZWZ0PSIwcHgiO2Iuc3R5bGUucGFkZGluZ1JpZ2h0PSI0cHgiO2cuc3R5bGUucGFkZGluZ0xlZnQ9IjRweCI7Zy5zdHlsZS5wYWRkaW5nUmlnaHQ9IjBweCI7dmFyIGw9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtudWxsIT10aGlzLnBhZ2VzJiYxPHRoaXMucGFnZXMubGVuZ3RoJiZudWxsIT10aGlzLmN1cnJlbnRQYWdlPyhnLnN0eWxlLmRpc3BsYXk9IiIsYi5zdHlsZS5kaXNwbGF5PSIiLGUuc3R5bGUuZGlzcGxheT0iaW5saW5lLWJsb2NrIik6KGcuc3R5bGUuZGlzcGxheT0ibm9uZSIsYi5zdHlsZS5kaXNwbGF5PSJub25lIixlLnN0eWxlLmRpc3BsYXk9Im5vbmUiKTtwKCl9KTt0aGlzLmVkaXRvci5hZGRMaXN0ZW5lcigicmVzZXRHcmFwaFZpZXciLGwpO3RoaXMuZWRpdG9yLmFkZExpc3RlbmVyKCJwYWdlU2VsZWN0ZWQiLApwKX1rKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuYWN0aW9ucy5nZXQoInpvb21PdXQiKS5mdW5jdCgpO214RXZlbnQuY29uc3VtZShhKX0pLEVkaXRvci56b29tT3V0TGFyZ2VJbWFnZSxteFJlc291cmNlcy5nZXQoInpvb21PdXQiKSsiIChBbHQrTW91c2V3aGVlbCkiKTtrKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuYWN0aW9ucy5nZXQoInpvb21JbiIpLmZ1bmN0KCk7bXhFdmVudC5jb25zdW1lKGEpfSksRWRpdG9yLnpvb21JbkxhcmdlSW1hZ2UsbXhSZXNvdXJjZXMuZ2V0KCJ6b29tSW4iKSsiIChBbHQrTW91c2V3aGVlbCkiKTtrKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe2EuaXNMaWdodGJveFZpZXcoKT8oMT09YS52aWV3LnNjYWxlP3RoaXMubGlnaHRib3hGaXQoKTphLnpvb21UbygxKSx0aGlzLmNocm9tZWxlc3NSZXNpemUoITEpKTp0aGlzLmNocm9tZWxlc3NSZXNpemUoITApO214RXZlbnQuY29uc3VtZShiKX0pLEVkaXRvci5hY3R1YWxTaXplTGFyZ2VJbWFnZSwKbXhSZXNvdXJjZXMuZ2V0KCJmaXQiKSk7dmFyIG49bnVsbCx2PW51bGwsdD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtudWxsIT1uJiYod2luZG93LmNsZWFyVGltZW91dChuKSxmYWRlVGhlYWQ9bnVsbCk7bnVsbCE9diYmKHdpbmRvdy5jbGVhclRpbWVvdXQodiksZmFkZVRoZWFkMj1udWxsKTtuPXdpbmRvdy5zZXRUaW1lb3V0KG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7bXhVdGlscy5zZXRPcGFjaXR5KHRoaXMuY2hyb21lbGVzc1Rvb2xiYXIsMCk7bj1udWxsO3Y9d2luZG93LnNldFRpbWVvdXQobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmNocm9tZWxlc3NUb29sYmFyLnN0eWxlLmRpc3BsYXk9Im5vbmUiO3Y9bnVsbH0pLDYwMCl9KSxhfHwyMDApfSkseD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtudWxsIT1uJiYod2luZG93LmNsZWFyVGltZW91dChuKSxmYWRlVGhlYWQ9bnVsbCk7bnVsbCE9diYmKHdpbmRvdy5jbGVhclRpbWVvdXQodiksCmZhZGVUaGVhZDI9bnVsbCk7dGhpcy5jaHJvbWVsZXNzVG9vbGJhci5zdHlsZS5kaXNwbGF5PSIiO214VXRpbHMuc2V0T3BhY2l0eSh0aGlzLmNocm9tZWxlc3NUb29sYmFyLGF8fDMwKX0pO2lmKCIxIj09dXJsUGFyYW1zLmxheWVycyl7dGhpcy5sYXllcnNEaWFsb2c9bnVsbDt2YXIgQT1rKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe2lmKG51bGwhPXRoaXMubGF5ZXJzRGlhbG9nKXRoaXMubGF5ZXJzRGlhbG9nLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5sYXllcnNEaWFsb2cpLHRoaXMubGF5ZXJzRGlhbG9nPW51bGw7ZWxzZXt0aGlzLmxheWVyc0RpYWxvZz1hLmNyZWF0ZUxheWVyc0RpYWxvZygpO214RXZlbnQuYWRkTGlzdGVuZXIodGhpcy5sYXllcnNEaWFsb2csIm1vdXNlbGVhdmUiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5sYXllcnNEaWFsb2cucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmxheWVyc0RpYWxvZyk7dGhpcy5sYXllcnNEaWFsb2c9Cm51bGx9KSk7dmFyIGU9QS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtteFV0aWxzLnNldFByZWZpeGVkU3R5bGUodGhpcy5sYXllcnNEaWFsb2cuc3R5bGUsImJvcmRlclJhZGl1cyIsIjVweCIpO3RoaXMubGF5ZXJzRGlhbG9nLnN0eWxlLnBvc2l0aW9uPSJmaXhlZCI7dGhpcy5sYXllcnNEaWFsb2cuc3R5bGUuZm9udEZhbWlseT0iSGVsdmV0aWNhLEFyaWFsIjt0aGlzLmxheWVyc0RpYWxvZy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9IiMwMDAwMDAiO3RoaXMubGF5ZXJzRGlhbG9nLnN0eWxlLndpZHRoPSIxNjBweCI7dGhpcy5sYXllcnNEaWFsb2cuc3R5bGUucGFkZGluZz0iNHB4IDJweCA0cHggMnB4Ijt0aGlzLmxheWVyc0RpYWxvZy5zdHlsZS5jb2xvcj0iI2ZmZmZmZiI7bXhVdGlscy5zZXRPcGFjaXR5KHRoaXMubGF5ZXJzRGlhbG9nLDcwKTt0aGlzLmxheWVyc0RpYWxvZy5zdHlsZS5sZWZ0PWUubGVmdCsicHgiO3RoaXMubGF5ZXJzRGlhbG9nLnN0eWxlLmJvdHRvbT1wYXJzZUludCh0aGlzLmNocm9tZWxlc3NUb29sYmFyLnN0eWxlLmJvdHRvbSkrCnRoaXMuY2hyb21lbGVzc1Rvb2xiYXIub2Zmc2V0SGVpZ2h0KzQrInB4IjtlPW14VXRpbHMuZ2V0Q3VycmVudFN0eWxlKHRoaXMuZWRpdG9yLmdyYXBoLmNvbnRhaW5lcik7dGhpcy5sYXllcnNEaWFsb2cuc3R5bGUuekluZGV4PWUuekluZGV4O2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5sYXllcnNEaWFsb2cpfW14RXZlbnQuY29uc3VtZShiKX0pLEVkaXRvci5sYXllcnNMYXJnZUltYWdlLG14UmVzb3VyY2VzLmdldCgibGF5ZXJzIikpLEQ9YS5nZXRNb2RlbCgpO0QuYWRkTGlzdGVuZXIobXhFdmVudC5DSEFOR0UsZnVuY3Rpb24oKXtBLnN0eWxlLmRpc3BsYXk9MTxELmdldENoaWxkQ291bnQoRC5yb290KT8iIjoibm9uZSJ9KX10aGlzLmFkZENocm9tZWxlc3NUb29sYmFySXRlbXMoayk7bnVsbD09dGhpcy5lZGl0b3IuZWRpdEJ1dHRvbkxpbmsmJm51bGw9PXRoaXMuZWRpdG9yLmVkaXRCdXR0b25GdW5jfHxrKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe251bGwhPQp0aGlzLmVkaXRvci5lZGl0QnV0dG9uRnVuYz90aGlzLmVkaXRvci5lZGl0QnV0dG9uRnVuYygpOiJfYmxhbmsiPT10aGlzLmVkaXRvci5lZGl0QnV0dG9uTGluaz90aGlzLmVkaXRvci5lZGl0QXNOZXcodGhpcy5nZXRFZGl0QmxhbmtYbWwoKSk6YS5vcGVuTGluayh0aGlzLmVkaXRvci5lZGl0QnV0dG9uTGluaywiZWRpdFdpbmRvdyIpO214RXZlbnQuY29uc3VtZShiKX0pLEVkaXRvci5lZGl0TGFyZ2VJbWFnZSxteFJlc291cmNlcy5nZXQoImVkaXQiKSk7aWYobnVsbCE9dGhpcy5saWdodGJveFRvb2xiYXJBY3Rpb25zKWZvcihsPTA7bDx0aGlzLmxpZ2h0Ym94VG9vbGJhckFjdGlvbnMubGVuZ3RoO2wrKyl7dmFyIEI9dGhpcy5saWdodGJveFRvb2xiYXJBY3Rpb25zW2xdO2soQi5mbixCLmljb24sQi50b29sdGlwKX1udWxsIT1tLnJlZnJlc2hCdG4mJmsobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7bS5yZWZyZXNoQnRuLnVybD93aW5kb3cubG9jYXRpb24uaHJlZj1tLnJlZnJlc2hCdG4udXJsOgp3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7bXhFdmVudC5jb25zdW1lKGEpfSksRWRpdG9yLnJlZnJlc2hMYXJnZUltYWdlLG14UmVzb3VyY2VzLmdldCgicmVmcmVzaCIsbnVsbCwiUmVmcmVzaCIpKTtudWxsIT1tLmZ1bGxzY3JlZW5CdG4mJndpbmRvdy5zZWxmIT09d2luZG93LnRvcCYmayhteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXttLmZ1bGxzY3JlZW5CdG4udXJsP2Eub3BlbkxpbmsobS5mdWxsc2NyZWVuQnRuLnVybCk6YS5vcGVuTGluayh3aW5kb3cubG9jYXRpb24uaHJlZik7bXhFdmVudC5jb25zdW1lKGIpfSksRWRpdG9yLmZ1bGxzY3JlZW5MYXJnZUltYWdlLG14UmVzb3VyY2VzLmdldCgib3BlbkluTmV3V2luZG93IixudWxsLCJPcGVuIGluIE5ldyBXaW5kb3ciKSk7KG0uY2xvc2VCdG4mJndpbmRvdy5zZWxmPT09d2luZG93LnRvcHx8YS5saWdodGJveCYmKCIxIj09dXJsUGFyYW1zLmNsb3NlfHx0aGlzLmNvbnRhaW5lciE9ZG9jdW1lbnQuYm9keSkpJiZrKG14VXRpbHMuYmluZCh0aGlzLApmdW5jdGlvbihhKXsiMSI9PXVybFBhcmFtcy5jbG9zZXx8bS5jbG9zZUJ0bj93aW5kb3cuY2xvc2UoKToodGhpcy5kZXN0cm95KCksbXhFdmVudC5jb25zdW1lKGEpKX0pLEVkaXRvci5jbG9zZUxhcmdlSW1hZ2UsbXhSZXNvdXJjZXMuZ2V0KCJjbG9zZSIpKyIgKEVzY2FwZSkiKTt0aGlzLmNocm9tZWxlc3NUb29sYmFyLnN0eWxlLmRpc3BsYXk9Im5vbmUiO2EuaXNWaWV3ZXIoKXx8bXhVdGlscy5zZXRQcmVmaXhlZFN0eWxlKHRoaXMuY2hyb21lbGVzc1Rvb2xiYXIuc3R5bGUsInRyYW5zZm9ybSIsInRyYW5zbGF0ZSgtNTAlLDApIik7YS5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5jaHJvbWVsZXNzVG9vbGJhcik7bXhFdmVudC5hZGRMaXN0ZW5lcihhLmNvbnRhaW5lcixteENsaWVudC5JU19QT0lOVEVSPyJwb2ludGVybW92ZSI6Im1vdXNlbW92ZSIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7bXhFdmVudC5pc1RvdWNoRXZlbnQoYSl8fChteEV2ZW50LmlzU2hpZnREb3duKGEpfHwKeCgzMCksdCgpKX0pKTtteEV2ZW50LmFkZExpc3RlbmVyKHRoaXMuY2hyb21lbGVzc1Rvb2xiYXIsbXhDbGllbnQuSVNfUE9JTlRFUj8icG9pbnRlcm1vdmUiOiJtb3VzZW1vdmUiLGZ1bmN0aW9uKGEpe214RXZlbnQuY29uc3VtZShhKX0pO214RXZlbnQuYWRkTGlzdGVuZXIodGhpcy5jaHJvbWVsZXNzVG9vbGJhciwibW91c2VlbnRlciIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7bXhFdmVudC5pc1NoaWZ0RG93bihhKT90KCk6eCgxMDApfSkpO214RXZlbnQuYWRkTGlzdGVuZXIodGhpcy5jaHJvbWVsZXNzVG9vbGJhciwibW91c2Vtb3ZlIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtteEV2ZW50LmlzU2hpZnREb3duKGEpP3QoKTp4KDEwMCk7bXhFdmVudC5jb25zdW1lKGEpfSkpO214RXZlbnQuYWRkTGlzdGVuZXIodGhpcy5jaHJvbWVsZXNzVG9vbGJhciwibW91c2VsZWF2ZSIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7bXhFdmVudC5pc1RvdWNoRXZlbnQoYSl8fAp4KDMwKX0pKTt2YXIgQz1hLmdldFRvbGVyYW5jZSgpO2EuYWRkTW91c2VMaXN0ZW5lcih7c3RhcnRYOjAsc3RhcnRZOjAsc2Nyb2xsTGVmdDowLHNjcm9sbFRvcDowLG1vdXNlRG93bjpmdW5jdGlvbihiLGUpe3RoaXMuc3RhcnRYPWUuZ2V0R3JhcGhYKCk7dGhpcy5zdGFydFk9ZS5nZXRHcmFwaFkoKTt0aGlzLnNjcm9sbExlZnQ9YS5jb250YWluZXIuc2Nyb2xsTGVmdDt0aGlzLnNjcm9sbFRvcD1hLmNvbnRhaW5lci5zY3JvbGxUb3B9LG1vdXNlTW92ZTpmdW5jdGlvbihhLGIpe30sbW91c2VVcDpmdW5jdGlvbihiLGUpe214RXZlbnQuaXNUb3VjaEV2ZW50KGUuZ2V0RXZlbnQoKSkmJk1hdGguYWJzKHRoaXMuc2Nyb2xsTGVmdC1hLmNvbnRhaW5lci5zY3JvbGxMZWZ0KTxDJiZNYXRoLmFicyh0aGlzLnNjcm9sbFRvcC1hLmNvbnRhaW5lci5zY3JvbGxUb3ApPEMmJk1hdGguYWJzKHRoaXMuc3RhcnRYLWUuZ2V0R3JhcGhYKCkpPEMmJk1hdGguYWJzKHRoaXMuc3RhcnRZLWUuZ2V0R3JhcGhZKCkpPApDJiYoMDxwYXJzZUZsb2F0KGYuY2hyb21lbGVzc1Rvb2xiYXIuc3R5bGUub3BhY2l0eXx8MCk/dCgpOngoMzApKX19KX10aGlzLmVkaXRvci5lZGl0YWJsZXx8dGhpcy5hZGRDaHJvbWVsZXNzQ2xpY2tIYW5kbGVyKCl9ZWxzZSBpZih0aGlzLmVkaXRvci5leHRlbmRDYW52YXMpe3ZhciB6PWEudmlldy52YWxpZGF0ZTthLnZpZXcudmFsaWRhdGU9ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLmdyYXBoLmNvbnRhaW5lciYmbXhVdGlscy5oYXNTY3JvbGxiYXJzKHRoaXMuZ3JhcGguY29udGFpbmVyKSl7dmFyIGE9dGhpcy5ncmFwaC5nZXRQYWdlUGFkZGluZygpLGI9dGhpcy5ncmFwaC5nZXRQYWdlU2l6ZSgpO3RoaXMudHJhbnNsYXRlLng9YS54LSh0aGlzLngwfHwwKSpiLndpZHRoO3RoaXMudHJhbnNsYXRlLnk9YS55LSh0aGlzLnkwfHwwKSpiLmhlaWdodH16LmFwcGx5KHRoaXMsYXJndW1lbnRzKX07aWYoIWEuaXNWaWV3ZXIoKSl7dmFyIEU9YS5zaXplRGlkQ2hhbmdlO2Euc2l6ZURpZENoYW5nZT0KZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLmNvbnRhaW5lciYmbXhVdGlscy5oYXNTY3JvbGxiYXJzKHRoaXMuY29udGFpbmVyKSl7dmFyIGI9dGhpcy5nZXRQYWdlTGF5b3V0KCksZT10aGlzLmdldFBhZ2VQYWRkaW5nKCksZD10aGlzLmdldFBhZ2VTaXplKCksYz1NYXRoLmNlaWwoMiplLngrYi53aWR0aCpkLndpZHRoKSxnPU1hdGguY2VpbCgyKmUueStiLmhlaWdodCpkLmhlaWdodCksZj1hLm1pbmltdW1HcmFwaFNpemU7aWYobnVsbD09Znx8Zi53aWR0aCE9Y3x8Zi5oZWlnaHQhPWcpYS5taW5pbXVtR3JhcGhTaXplPW5ldyBteFJlY3RhbmdsZSgwLDAsYyxnKTtjPWUueC1iLngqZC53aWR0aDtlPWUueS1iLnkqZC5oZWlnaHQ7dGhpcy5hdXRvVHJhbnNsYXRlfHx0aGlzLnZpZXcudHJhbnNsYXRlLng9PWMmJnRoaXMudmlldy50cmFuc2xhdGUueT09ZT9FLmFwcGx5KHRoaXMsYXJndW1lbnRzKToodGhpcy5hdXRvVHJhbnNsYXRlPSEwLHRoaXMudmlldy54MD1iLngsdGhpcy52aWV3LnkwPQpiLnksYj1hLnZpZXcudHJhbnNsYXRlLngsZD1hLnZpZXcudHJhbnNsYXRlLnksYS52aWV3LnNldFRyYW5zbGF0ZShjLGUpLGEuY29udGFpbmVyLnNjcm9sbExlZnQrPU1hdGgucm91bmQoKGMtYikqYS52aWV3LnNjYWxlKSxhLmNvbnRhaW5lci5zY3JvbGxUb3ArPU1hdGgucm91bmQoKGUtZCkqYS52aWV3LnNjYWxlKSx0aGlzLmF1dG9UcmFuc2xhdGU9ITEpfWVsc2UgdGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5TSVpFLCJib3VuZHMiLHRoaXMuZ2V0R3JhcGhCb3VuZHMoKSkpfX19dmFyIEc9YS52aWV3LmdldEJhY2tncm91bmRQYW5lKCksRj1hLnZpZXcuZ2V0RHJhd1BhbmUoKTthLmN1bXVsYXRpdmVab29tRmFjdG9yPTE7dmFyIEk9bnVsbCxKPW51bGwsdT1udWxsLEs9bnVsbCx5PWZ1bmN0aW9uKGIpe251bGwhPUkmJndpbmRvdy5jbGVhclRpbWVvdXQoSSk7d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXthLmlzTW91c2VEb3dufHwoST13aW5kb3cuc2V0VGltZW91dChteFV0aWxzLmJpbmQodGhpcywKZnVuY3Rpb24oKXthLmlzRmFzdFpvb21FbmFibGVkKCkmJihudWxsIT1hLnZpZXcuYmFja2dyb3VuZFBhZ2VTaGFwZSYmbnVsbCE9YS52aWV3LmJhY2tncm91bmRQYWdlU2hhcGUubm9kZSYmKG14VXRpbHMuc2V0UHJlZml4ZWRTdHlsZShhLnZpZXcuYmFja2dyb3VuZFBhZ2VTaGFwZS5ub2RlLnN0eWxlLCJ0cmFuc2Zvcm0tb3JpZ2luIixudWxsKSxteFV0aWxzLnNldFByZWZpeGVkU3R5bGUoYS52aWV3LmJhY2tncm91bmRQYWdlU2hhcGUubm9kZS5zdHlsZSwidHJhbnNmb3JtIixudWxsKSksRi5zdHlsZS50cmFuc2Zvcm1PcmlnaW49IiIsRy5zdHlsZS50cmFuc2Zvcm1PcmlnaW49IiIsbXhDbGllbnQuSVNfU0Y/KEYuc3R5bGUudHJhbnNmb3JtPSJzY2FsZSgxKSIsRy5zdHlsZS50cmFuc2Zvcm09InNjYWxlKDEpIix3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe0Yuc3R5bGUudHJhbnNmb3JtPSIiO0cuc3R5bGUudHJhbnNmb3JtPSIifSwwKSk6KEYuc3R5bGUudHJhbnNmb3JtPQoiIixHLnN0eWxlLnRyYW5zZm9ybT0iIiksYS52aWV3LmdldERlY29yYXRvclBhbmUoKS5zdHlsZS5vcGFjaXR5PSIiLGEudmlldy5nZXRPdmVybGF5UGFuZSgpLnN0eWxlLm9wYWNpdHk9IiIpO3ZhciBiPW5ldyBteFBvaW50KGEuY29udGFpbmVyLnNjcm9sbExlZnQsYS5jb250YWluZXIuc2Nyb2xsVG9wKSxlPW14VXRpbHMuZ2V0T2Zmc2V0KGEuY29udGFpbmVyKSxkPWEudmlldy5zY2FsZSxnPTAsbD0wO251bGwhPUomJihnPWEuY29udGFpbmVyLm9mZnNldFdpZHRoLzItSi54K2UueCxsPWEuY29udGFpbmVyLm9mZnNldEhlaWdodC8yLUoueStlLnkpO2Euem9vbShhLmN1bXVsYXRpdmVab29tRmFjdG9yKTthLnZpZXcuc2NhbGUhPWQmJihudWxsIT11JiYoZys9Yi54LXUueCxsKz1iLnktdS55KSxudWxsIT1jJiZmLmNocm9tZWxlc3NSZXNpemUoITEsbnVsbCxnKihhLmN1bXVsYXRpdmVab29tRmFjdG9yLTEpLGwqKGEuY3VtdWxhdGl2ZVpvb21GYWN0b3ItMSkpLCFteFV0aWxzLmhhc1Njcm9sbGJhcnMoYS5jb250YWluZXIpfHwKMD09ZyYmMD09bHx8KGEuY29udGFpbmVyLnNjcm9sbExlZnQtPWcqKGEuY3VtdWxhdGl2ZVpvb21GYWN0b3ItMSksYS5jb250YWluZXIuc2Nyb2xsVG9wLT1sKihhLmN1bXVsYXRpdmVab29tRmFjdG9yLTEpKSk7bnVsbCE9SyYmRi5zZXRBdHRyaWJ1dGUoImZpbHRlciIsSyk7YS5jdW11bGF0aXZlWm9vbUZhY3Rvcj0xO0s9Sj11PUk9bnVsbH0pLG51bGwhPWI/YjphLmlzRmFzdFpvb21FbmFibGVkKCk/Zi53aGVlbFpvb21EZWxheTpmLmxhenlab29tRGVsYXkpKX0sMCl9O2EubGF6eVpvb209ZnVuY3Rpb24oYixlLGQpeyhlPWV8fCFhLnNjcm9sbGJhcnMpJiYoSj1uZXcgbXhQb2ludChhLmNvbnRhaW5lci5vZmZzZXRMZWZ0K2EuY29udGFpbmVyLmNsaWVudFdpZHRoLzIsYS5jb250YWluZXIub2Zmc2V0VG9wK2EuY29udGFpbmVyLmNsaWVudEhlaWdodC8yKSk7Yj8uMTU+PXRoaXMudmlldy5zY2FsZSp0aGlzLmN1bXVsYXRpdmVab29tRmFjdG9yP3RoaXMuY3VtdWxhdGl2ZVpvb21GYWN0b3IqPQoodGhpcy52aWV3LnNjYWxlKy4wNSkvdGhpcy52aWV3LnNjYWxlOih0aGlzLmN1bXVsYXRpdmVab29tRmFjdG9yKj10aGlzLnpvb21GYWN0b3IsdGhpcy5jdW11bGF0aXZlWm9vbUZhY3Rvcj1NYXRoLnJvdW5kKHRoaXMudmlldy5zY2FsZSp0aGlzLmN1bXVsYXRpdmVab29tRmFjdG9yKjIwKS8yMC90aGlzLnZpZXcuc2NhbGUpOi4xNT49dGhpcy52aWV3LnNjYWxlKnRoaXMuY3VtdWxhdGl2ZVpvb21GYWN0b3I/dGhpcy5jdW11bGF0aXZlWm9vbUZhY3Rvcio9KHRoaXMudmlldy5zY2FsZS0uMDUpL3RoaXMudmlldy5zY2FsZToodGhpcy5jdW11bGF0aXZlWm9vbUZhY3Rvci89dGhpcy56b29tRmFjdG9yLHRoaXMuY3VtdWxhdGl2ZVpvb21GYWN0b3I9TWF0aC5yb3VuZCh0aGlzLnZpZXcuc2NhbGUqdGhpcy5jdW11bGF0aXZlWm9vbUZhY3RvcioyMCkvMjAvdGhpcy52aWV3LnNjYWxlKTt0aGlzLmN1bXVsYXRpdmVab29tRmFjdG9yPU1hdGgubWF4KC4wNSxNYXRoLm1pbih0aGlzLnZpZXcuc2NhbGUqCnRoaXMuY3VtdWxhdGl2ZVpvb21GYWN0b3IsMTYwKSkvdGhpcy52aWV3LnNjYWxlO2lmKGEuaXNGYXN0Wm9vbUVuYWJsZWQoKSl7bnVsbD09SyYmIiIhPUYuZ2V0QXR0cmlidXRlKCJmaWx0ZXIiKSYmKEs9Ri5nZXRBdHRyaWJ1dGUoImZpbHRlciIpLEYucmVtb3ZlQXR0cmlidXRlKCJmaWx0ZXIiKSk7dT1uZXcgbXhQb2ludChhLmNvbnRhaW5lci5zY3JvbGxMZWZ0LGEuY29udGFpbmVyLnNjcm9sbFRvcCk7Yj1lP2EuY29udGFpbmVyLnNjcm9sbExlZnQrYS5jb250YWluZXIuY2xpZW50V2lkdGgvMjpKLngrYS5jb250YWluZXIuc2Nyb2xsTGVmdC1hLmNvbnRhaW5lci5vZmZzZXRMZWZ0O3ZhciBjPWU/YS5jb250YWluZXIuc2Nyb2xsVG9wK2EuY29udGFpbmVyLmNsaWVudEhlaWdodC8yOkoueSthLmNvbnRhaW5lci5zY3JvbGxUb3AtYS5jb250YWluZXIub2Zmc2V0VG9wO0Yuc3R5bGUudHJhbnNmb3JtT3JpZ2luPWIrInB4ICIrYysicHgiO0Yuc3R5bGUudHJhbnNmb3JtPSJzY2FsZSgiKwp0aGlzLmN1bXVsYXRpdmVab29tRmFjdG9yKyIpIjtHLnN0eWxlLnRyYW5zZm9ybU9yaWdpbj1iKyJweCAiK2MrInB4IjtHLnN0eWxlLnRyYW5zZm9ybT0ic2NhbGUoIit0aGlzLmN1bXVsYXRpdmVab29tRmFjdG9yKyIpIjtudWxsIT1hLnZpZXcuYmFja2dyb3VuZFBhZ2VTaGFwZSYmbnVsbCE9YS52aWV3LmJhY2tncm91bmRQYWdlU2hhcGUubm9kZSYmKGI9YS52aWV3LmJhY2tncm91bmRQYWdlU2hhcGUubm9kZSxteFV0aWxzLnNldFByZWZpeGVkU3R5bGUoYi5zdHlsZSwidHJhbnNmb3JtLW9yaWdpbiIsKGU/YS5jb250YWluZXIuY2xpZW50V2lkdGgvMithLmNvbnRhaW5lci5zY3JvbGxMZWZ0LWIub2Zmc2V0TGVmdCsicHgiOkoueCthLmNvbnRhaW5lci5zY3JvbGxMZWZ0LWIub2Zmc2V0TGVmdC1hLmNvbnRhaW5lci5vZmZzZXRMZWZ0KyJweCIpKyIgIisoZT9hLmNvbnRhaW5lci5jbGllbnRIZWlnaHQvMithLmNvbnRhaW5lci5zY3JvbGxUb3AtYi5vZmZzZXRUb3ArInB4IjpKLnkrCmEuY29udGFpbmVyLnNjcm9sbFRvcC1iLm9mZnNldFRvcC1hLmNvbnRhaW5lci5vZmZzZXRUb3ArInB4IikpLG14VXRpbHMuc2V0UHJlZml4ZWRTdHlsZShiLnN0eWxlLCJ0cmFuc2Zvcm0iLCJzY2FsZSgiK3RoaXMuY3VtdWxhdGl2ZVpvb21GYWN0b3IrIikiKSk7YS52aWV3LmdldERlY29yYXRvclBhbmUoKS5zdHlsZS5vcGFjaXR5PSIwIjthLnZpZXcuZ2V0T3ZlcmxheVBhbmUoKS5zdHlsZS5vcGFjaXR5PSIwIjtudWxsIT1mLmhvdmVySWNvbnMmJmYuaG92ZXJJY29ucy5yZXNldCgpfXkoZCl9O214RXZlbnQuYWRkR2VzdHVyZUxpc3RlbmVycyhhLmNvbnRhaW5lcixmdW5jdGlvbihhKXtudWxsIT1JJiZ3aW5kb3cuY2xlYXJUaW1lb3V0KEkpfSxudWxsLGZ1bmN0aW9uKGIpezEhPWEuY3VtdWxhdGl2ZVpvb21GYWN0b3ImJnkoMCl9KTtteEV2ZW50LmFkZExpc3RlbmVyKGEuY29udGFpbmVyLCJzY3JvbGwiLGZ1bmN0aW9uKCl7SSYmIWEuaXNNb3VzZURvd24mJjEhPWEuY3VtdWxhdGl2ZVpvb21GYWN0b3ImJgp5KDApfSk7bXhFdmVudC5hZGRNb3VzZVdoZWVsTGlzdGVuZXIobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYixlLGQpe2lmKG51bGw9PXRoaXMuZGlhbG9nc3x8MD09dGhpcy5kaWFsb2dzLmxlbmd0aClpZighYS5zY3JvbGxiYXJzJiZhLmlzU2Nyb2xsV2hlZWxFdmVudChiKSl7ZD1hLnZpZXcuZ2V0VHJhbnNsYXRlKCk7dmFyIGM9NDAvYS52aWV3LnNjYWxlO214RXZlbnQuaXNTaGlmdERvd24oYik/YS52aWV3LnNldFRyYW5zbGF0ZShkLngrKGU/LWM6YyksZC55KTphLnZpZXcuc2V0VHJhbnNsYXRlKGQueCxkLnkrKGU/YzotYykpfWVsc2UgaWYoZHx8YS5pc1pvb21XaGVlbEV2ZW50KGIpKWZvcihkPW14RXZlbnQuZ2V0U291cmNlKGIpO251bGwhPWQ7KXtpZihkPT1hLmNvbnRhaW5lcilyZXR1cm4gYS50b29sdGlwSGFuZGxlci5oaWRlVG9vbHRpcCgpLEo9bmV3IG14UG9pbnQobXhFdmVudC5nZXRDbGllbnRYKGIpLG14RXZlbnQuZ2V0Q2xpZW50WShiKSksYS5sYXp5Wm9vbShlKSwKbXhFdmVudC5jb25zdW1lKGIpLCExO2Q9ZC5wYXJlbnROb2RlfX0pLGEuY29udGFpbmVyKTthLnBhbm5pbmdIYW5kbGVyLnpvb21HcmFwaD1mdW5jdGlvbihiKXthLmN1bXVsYXRpdmVab29tRmFjdG9yPWIuc2NhbGU7YS5sYXp5Wm9vbSgwPGIuc2NhbGUsITApO214RXZlbnQuY29uc3VtZShiKX19O0VkaXRvclVpLnByb3RvdHlwZS5hZGRDaHJvbWVsZXNzVG9vbGJhckl0ZW1zPWZ1bmN0aW9uKGEpe2EobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5hY3Rpb25zLmdldCgicHJpbnQiKS5mdW5jdCgpO214RXZlbnQuY29uc3VtZShhKX0pLEVkaXRvci5wcmludExhcmdlSW1hZ2UsbXhSZXNvdXJjZXMuZ2V0KCJwcmludCIpKX07RWRpdG9yVWkucHJvdG90eXBlLmlzUGFnZXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRpdG9yLmVkaXRhYmxlfHwiMSIhPXVybFBhcmFtc1siaGlkZS1wYWdlcyJdfTsKRWRpdG9yVWkucHJvdG90eXBlLmNyZWF0ZVRlbXBvcmFyeUdyYXBoPWZ1bmN0aW9uKGEpe2E9bmV3IEdyYXBoKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLG51bGwsbnVsbCxhKTthLnJlc2V0Vmlld09uUm9vdENoYW5nZT0hMTthLnNldENvbm5lY3RhYmxlKCExKTthLmdyaWRFbmFibGVkPSExO2EuYXV0b1Njcm9sbD0hMTthLnNldFRvb2x0aXBzKCExKTthLnNldEVuYWJsZWQoITEpO2EuY29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiI7YS5jb250YWluZXIuc3R5bGUucG9zaXRpb249ImFic29sdXRlIjthLmNvbnRhaW5lci5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIjthLmNvbnRhaW5lci5zdHlsZS5oZWlnaHQ9IjFweCI7YS5jb250YWluZXIuc3R5bGUud2lkdGg9IjFweCI7cmV0dXJuIGF9OwpFZGl0b3JVaS5wcm90b3R5cGUuYWRkQ2hyb21lbGVzc0NsaWNrSGFuZGxlcj1mdW5jdGlvbigpe3ZhciBhPXVybFBhcmFtcy5oaWdobGlnaHQ7bnVsbCE9YSYmMDxhLmxlbmd0aCYmKGE9IiMiK2EpO3RoaXMuZWRpdG9yLmdyYXBoLmFkZENsaWNrSGFuZGxlcihhKX07RWRpdG9yVWkucHJvdG90eXBlLnRvZ2dsZUZvcm1hdFBhbmVsPWZ1bmN0aW9uKGEpe2E9bnVsbCE9YT9hOjA9PXRoaXMuZm9ybWF0V2lkdGg7bnVsbCE9dGhpcy5mb3JtYXQmJih0aGlzLmZvcm1hdFdpZHRoPWE/MjQwOjAsdGhpcy5mb3JtYXRDb250YWluZXIuc3R5bGUuZGlzcGxheT1hPyIiOiJub25lIix0aGlzLnJlZnJlc2goKSx0aGlzLmZvcm1hdC5yZWZyZXNoKCksdGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoImZvcm1hdFdpZHRoQ2hhbmdlZCIpKSl9OwpFZGl0b3JVaS5wcm90b3R5cGUubGlnaHRib3hGaXQ9ZnVuY3Rpb24oYSl7aWYodGhpcy5pc0RpYWdyYW1FbXB0eSgpKXRoaXMuZWRpdG9yLmdyYXBoLnZpZXcuc2V0U2NhbGUoMSk7ZWxzZXt2YXIgYz11cmxQYXJhbXMuYm9yZGVyLGY9NjA7bnVsbCE9YyYmKGY9cGFyc2VJbnQoYykpO3RoaXMuZWRpdG9yLmdyYXBoLm1heEZpdFNjYWxlPXRoaXMubGlnaHRib3hNYXhGaXRTY2FsZTt0aGlzLmVkaXRvci5ncmFwaC5maXQoZixudWxsLG51bGwsbnVsbCxudWxsLG51bGwsYSk7dGhpcy5lZGl0b3IuZ3JhcGgubWF4Rml0U2NhbGU9bnVsbH19O0VkaXRvclVpLnByb3RvdHlwZS5pc0RpYWdyYW1FbXB0eT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZWRpdG9yLmdyYXBoLmdldE1vZGVsKCk7cmV0dXJuIDE9PWEuZ2V0Q2hpbGRDb3VudChhLnJvb3QpJiYwPT1hLmdldENoaWxkQ291bnQoYS5nZXRDaGlsZEF0KGEucm9vdCwwKSl9OwpFZGl0b3JVaS5wcm90b3R5cGUuaXNTZWxlY3Rpb25BbGxvd2VkPWZ1bmN0aW9uKGEpe3JldHVybiJTRUxFQ1QiPT1teEV2ZW50LmdldFNvdXJjZShhKS5ub2RlTmFtZXx8IklOUFVUIj09bXhFdmVudC5nZXRTb3VyY2UoYSkubm9kZU5hbWUmJm14VXRpbHMuaXNBbmNlc3Rvck5vZGUodGhpcy5mb3JtYXRDb250YWluZXIsbXhFdmVudC5nZXRTb3VyY2UoYSkpfTtFZGl0b3JVaS5wcm90b3R5cGUuYWRkQmVmb3JlVW5sb2FkTGlzdGVuZXI9ZnVuY3Rpb24oKXt3aW5kb3cub25iZWZvcmV1bmxvYWQ9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtpZighdGhpcy5lZGl0b3IuaXNDaHJvbWVsZXNzVmlldygpKXJldHVybiB0aGlzLm9uQmVmb3JlVW5sb2FkKCl9KX07RWRpdG9yVWkucHJvdG90eXBlLm9uQmVmb3JlVW5sb2FkPWZ1bmN0aW9uKCl7aWYodGhpcy5lZGl0b3IubW9kaWZpZWQpcmV0dXJuIG14UmVzb3VyY2VzLmdldCgiYWxsQ2hhbmdlc0xvc3QiKX07CkVkaXRvclVpLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKCl7dHJ5e251bGwhPXdpbmRvdy5vcGVuZXImJm51bGwhPXdpbmRvdy5vcGVuZXIub3BlbkZpbGUmJndpbmRvdy5vcGVuZXIub3BlbkZpbGUuc2V0Q29uc3VtZXIobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxjKXt0cnl7dmFyIGY9bXhVdGlscy5wYXJzZVhtbChhKTt0aGlzLmVkaXRvci5zZXRHcmFwaFhtbChmLmRvY3VtZW50RWxlbWVudCk7dGhpcy5lZGl0b3Iuc2V0TW9kaWZpZWQoITEpO3RoaXMuZWRpdG9yLnVuZG9NYW5hZ2VyLmNsZWFyKCk7bnVsbCE9YyYmKHRoaXMuZWRpdG9yLnNldEZpbGVuYW1lKGMpLHRoaXMudXBkYXRlRG9jdW1lbnRUaXRsZSgpKX1jYXRjaChkKXtteFV0aWxzLmFsZXJ0KG14UmVzb3VyY2VzLmdldCgiaW52YWxpZE9yTWlzc2luZ0ZpbGUiKSsiOiAiK2QubWVzc2FnZSl9fSkpfWNhdGNoKGEpe310aGlzLmVkaXRvci5ncmFwaC52aWV3LnZhbGlkYXRlKCk7dGhpcy5lZGl0b3IuZ3JhcGguc2l6ZURpZENoYW5nZSgpOwp0aGlzLmVkaXRvci5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoInJlc2V0R3JhcGhWaWV3IikpfTtFZGl0b3JVaS5wcm90b3R5cGUuc2V0Q3VycmVudE1lbnU9ZnVuY3Rpb24oYSxjKXt0aGlzLmN1cnJlbnRNZW51RWx0PWM7dGhpcy5jdXJyZW50TWVudT1hfTtFZGl0b3JVaS5wcm90b3R5cGUucmVzZXRDdXJyZW50TWVudT1mdW5jdGlvbigpe3RoaXMuY3VycmVudE1lbnU9dGhpcy5jdXJyZW50TWVudUVsdD1udWxsfTtFZGl0b3JVaS5wcm90b3R5cGUuaGlkZUN1cnJlbnRNZW51PWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5jdXJyZW50TWVudSYmKHRoaXMuY3VycmVudE1lbnUuaGlkZU1lbnUoKSx0aGlzLnJlc2V0Q3VycmVudE1lbnUoKSl9OwpFZGl0b3JVaS5wcm90b3R5cGUudXBkYXRlRG9jdW1lbnRUaXRsZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZWRpdG9yLmdldE9yQ3JlYXRlRmlsZW5hbWUoKTtudWxsIT10aGlzLmVkaXRvci5hcHBOYW1lJiYoYSs9IiAtICIrdGhpcy5lZGl0b3IuYXBwTmFtZSk7ZG9jdW1lbnQudGl0bGU9YX07RWRpdG9yVWkucHJvdG90eXBlLmNyZWF0ZUhvdmVySWNvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEhvdmVySWNvbnModGhpcy5lZGl0b3IuZ3JhcGgpfTtFZGl0b3JVaS5wcm90b3R5cGUucmVkbz1mdW5jdGlvbigpe3RyeXt0aGlzLmVkaXRvci5ncmFwaC5pc0VkaXRpbmcoKT9kb2N1bWVudC5leGVjQ29tbWFuZCgicmVkbyIsITEsbnVsbCk6dGhpcy5lZGl0b3IudW5kb01hbmFnZXIucmVkbygpfWNhdGNoKGEpe319OwpFZGl0b3JVaS5wcm90b3R5cGUudW5kbz1mdW5jdGlvbigpe3RyeXt2YXIgYT10aGlzLmVkaXRvci5ncmFwaDtpZihhLmlzRWRpdGluZygpKXt2YXIgYz1hLmNlbGxFZGl0b3IudGV4dGFyZWEuaW5uZXJIVE1MO2RvY3VtZW50LmV4ZWNDb21tYW5kKCJ1bmRvIiwhMSxudWxsKTtjPT1hLmNlbGxFZGl0b3IudGV4dGFyZWEuaW5uZXJIVE1MJiYoYS5zdG9wRWRpdGluZyghMCksdGhpcy5lZGl0b3IudW5kb01hbmFnZXIudW5kbygpKX1lbHNlIHRoaXMuZWRpdG9yLnVuZG9NYW5hZ2VyLnVuZG8oKX1jYXRjaChmKXt9fTtFZGl0b3JVaS5wcm90b3R5cGUuY2FuUmVkbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVkaXRvci5ncmFwaC5pc0VkaXRpbmcoKXx8dGhpcy5lZGl0b3IudW5kb01hbmFnZXIuY2FuUmVkbygpfTtFZGl0b3JVaS5wcm90b3R5cGUuY2FuVW5kbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVkaXRvci5ncmFwaC5pc0VkaXRpbmcoKXx8dGhpcy5lZGl0b3IudW5kb01hbmFnZXIuY2FuVW5kbygpfTsKRWRpdG9yVWkucHJvdG90eXBlLmdldEVkaXRCbGFua1htbD1mdW5jdGlvbigpe3JldHVybiBteFV0aWxzLmdldFhtbCh0aGlzLmVkaXRvci5nZXRHcmFwaFhtbCgpKX07RWRpdG9yVWkucHJvdG90eXBlLmdldFVybD1mdW5jdGlvbihhKXthPW51bGwhPWE/YTp3aW5kb3cubG9jYXRpb24ucGF0aG5hbWU7dmFyIGM9MDxhLmluZGV4T2YoIj8iKT8xOjAsZjtmb3IoZiBpbiB1cmxQYXJhbXMpYT0wPT1jP2ErIj8iOmErIiYiLGErPWYrIj0iK3VybFBhcmFtc1tmXSxjKys7cmV0dXJuIGF9OwpFZGl0b3JVaS5wcm90b3R5cGUuc2V0U2Nyb2xsYmFycz1mdW5jdGlvbihhKXt2YXIgYz10aGlzLmVkaXRvci5ncmFwaCxmPWMuY29udGFpbmVyLnN0eWxlLm92ZXJmbG93O2Muc2Nyb2xsYmFycz1hO3RoaXMuZWRpdG9yLnVwZGF0ZUdyYXBoQ29tcG9uZW50cygpO2YhPWMuY29udGFpbmVyLnN0eWxlLm92ZXJmbG93JiYoYy5jb250YWluZXIuc2Nyb2xsVG9wPTAsYy5jb250YWluZXIuc2Nyb2xsTGVmdD0wLGMudmlldy5zY2FsZUFuZFRyYW5zbGF0ZSgxLDAsMCksdGhpcy5yZXNldFNjcm9sbGJhcnMoKSk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoInNjcm9sbGJhcnNDaGFuZ2VkIikpfTtFZGl0b3JVaS5wcm90b3R5cGUuaGFzU2Nyb2xsYmFycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVkaXRvci5ncmFwaC5zY3JvbGxiYXJzfTsKRWRpdG9yVWkucHJvdG90eXBlLnJlc2V0U2Nyb2xsYmFycz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZWRpdG9yLmdyYXBoO2lmKCF0aGlzLmVkaXRvci5leHRlbmRDYW52YXMpYS5jb250YWluZXIuc2Nyb2xsVG9wPTAsYS5jb250YWluZXIuc2Nyb2xsTGVmdD0wLG14VXRpbHMuaGFzU2Nyb2xsYmFycyhhLmNvbnRhaW5lcil8fGEudmlldy5zZXRUcmFuc2xhdGUoMCwwKTtlbHNlIGlmKCF0aGlzLmVkaXRvci5pc0Nocm9tZWxlc3NWaWV3KCkpaWYobXhVdGlscy5oYXNTY3JvbGxiYXJzKGEuY29udGFpbmVyKSlpZihhLnBhZ2VWaXNpYmxlKXt2YXIgYz1hLmdldFBhZ2VQYWRkaW5nKCk7YS5jb250YWluZXIuc2Nyb2xsVG9wPU1hdGguZmxvb3IoYy55LXRoaXMuZWRpdG9yLmluaXRpYWxUb3BTcGFjaW5nKS0xO2EuY29udGFpbmVyLnNjcm9sbExlZnQ9TWF0aC5mbG9vcihNYXRoLm1pbihjLngsKGEuY29udGFpbmVyLnNjcm9sbFdpZHRoLWEuY29udGFpbmVyLmNsaWVudFdpZHRoKS8yKSktCjE7Yz1hLmdldEdyYXBoQm91bmRzKCk7MDxjLndpZHRoJiYwPGMuaGVpZ2h0JiYoYy54PmEuY29udGFpbmVyLnNjcm9sbExlZnQrLjkqYS5jb250YWluZXIuY2xpZW50V2lkdGgmJihhLmNvbnRhaW5lci5zY3JvbGxMZWZ0PU1hdGgubWluKGMueCtjLndpZHRoLWEuY29udGFpbmVyLmNsaWVudFdpZHRoLGMueC0xMCkpLGMueT5hLmNvbnRhaW5lci5zY3JvbGxUb3ArLjkqYS5jb250YWluZXIuY2xpZW50SGVpZ2h0JiYoYS5jb250YWluZXIuc2Nyb2xsVG9wPU1hdGgubWluKGMueStjLmhlaWdodC1hLmNvbnRhaW5lci5jbGllbnRIZWlnaHQsYy55LTEwKSkpfWVsc2V7dmFyIGM9YS5nZXRHcmFwaEJvdW5kcygpLGY9TWF0aC5tYXgoYy53aWR0aCxhLnNjcm9sbFRpbGVTaXplLndpZHRoKmEudmlldy5zY2FsZSk7YS5jb250YWluZXIuc2Nyb2xsVG9wPU1hdGguZmxvb3IoTWF0aC5tYXgoMCxjLnktTWF0aC5tYXgoMjAsKGEuY29udGFpbmVyLmNsaWVudEhlaWdodC1NYXRoLm1heChjLmhlaWdodCwKYS5zY3JvbGxUaWxlU2l6ZS5oZWlnaHQqYS52aWV3LnNjYWxlKSkvNCkpKTthLmNvbnRhaW5lci5zY3JvbGxMZWZ0PU1hdGguZmxvb3IoTWF0aC5tYXgoMCxjLngtTWF0aC5tYXgoMCwoYS5jb250YWluZXIuY2xpZW50V2lkdGgtZikvMikpKX1lbHNle3ZhciBjPW14UmVjdGFuZ2xlLmZyb21SZWN0YW5nbGUoYS5wYWdlVmlzaWJsZT9hLnZpZXcuZ2V0QmFja2dyb3VuZFBhZ2VCb3VuZHMoKTphLmdldEdyYXBoQm91bmRzKCkpLGY9YS52aWV3LnRyYW5zbGF0ZSxkPWEudmlldy5zY2FsZTtjLng9Yy54L2QtZi54O2MueT1jLnkvZC1mLnk7Yy53aWR0aC89ZDtjLmhlaWdodC89ZDthLnZpZXcuc2V0VHJhbnNsYXRlKE1hdGguZmxvb3IoTWF0aC5tYXgoMCwoYS5jb250YWluZXIuY2xpZW50V2lkdGgtYy53aWR0aCkvMiktYy54KzIpLE1hdGguZmxvb3IoKGEucGFnZVZpc2libGU/MDpNYXRoLm1heCgwLChhLmNvbnRhaW5lci5jbGllbnRIZWlnaHQtYy5oZWlnaHQpLzQpKS1jLnkrMSkpfX07CkVkaXRvclVpLnByb3RvdHlwZS5zZXRQYWdlVmlzaWJsZT1mdW5jdGlvbihhKXt2YXIgYz10aGlzLmVkaXRvci5ncmFwaCxmPW14VXRpbHMuaGFzU2Nyb2xsYmFycyhjLmNvbnRhaW5lciksZD0wLG09MDtmJiYoZD1jLnZpZXcudHJhbnNsYXRlLngqYy52aWV3LnNjYWxlLWMuY29udGFpbmVyLnNjcm9sbExlZnQsbT1jLnZpZXcudHJhbnNsYXRlLnkqYy52aWV3LnNjYWxlLWMuY29udGFpbmVyLnNjcm9sbFRvcCk7Yy5wYWdlVmlzaWJsZT1hO2MucGFnZUJyZWFrc1Zpc2libGU9YTtjLnByZWZlclBhZ2VTaXplPWE7Yy52aWV3LnZhbGlkYXRlQmFja2dyb3VuZCgpO2YmJihhPWMuZ2V0U2VsZWN0aW9uQ2VsbHMoKSxjLmNsZWFyU2VsZWN0aW9uKCksYy5zZXRTZWxlY3Rpb25DZWxscyhhKSk7Yy5zaXplRGlkQ2hhbmdlKCk7ZiYmKGMuY29udGFpbmVyLnNjcm9sbExlZnQ9Yy52aWV3LnRyYW5zbGF0ZS54KmMudmlldy5zY2FsZS1kLGMuY29udGFpbmVyLnNjcm9sbFRvcD1jLnZpZXcudHJhbnNsYXRlLnkqCmMudmlldy5zY2FsZS1tKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgicGFnZVZpZXdDaGFuZ2VkIikpfTtmdW5jdGlvbiBDaGFuZ2VQYWdlU2V0dXAoYSxjLGYsZCxtKXt0aGlzLnVpPWE7dGhpcy5wcmV2aW91c0NvbG9yPXRoaXMuY29sb3I9Yzt0aGlzLnByZXZpb3VzSW1hZ2U9dGhpcy5pbWFnZT1mO3RoaXMucHJldmlvdXNGb3JtYXQ9dGhpcy5mb3JtYXQ9ZDt0aGlzLnByZXZpb3VzUGFnZVNjYWxlPXRoaXMucGFnZVNjYWxlPW07dGhpcy5pZ25vcmVJbWFnZT10aGlzLmlnbm9yZUNvbG9yPSExfQpDaGFuZ2VQYWdlU2V0dXAucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnVpLmVkaXRvci5ncmFwaDtpZighdGhpcy5pZ25vcmVDb2xvcil7dGhpcy5jb2xvcj10aGlzLnByZXZpb3VzQ29sb3I7dmFyIGM9YS5iYWNrZ3JvdW5kO3RoaXMudWkuc2V0QmFja2dyb3VuZENvbG9yKHRoaXMucHJldmlvdXNDb2xvcik7dGhpcy5wcmV2aW91c0NvbG9yPWN9dGhpcy5pZ25vcmVJbWFnZXx8KHRoaXMuaW1hZ2U9dGhpcy5wcmV2aW91c0ltYWdlLGM9YS5iYWNrZ3JvdW5kSW1hZ2UsdGhpcy51aS5zZXRCYWNrZ3JvdW5kSW1hZ2UodGhpcy5wcmV2aW91c0ltYWdlKSx0aGlzLnByZXZpb3VzSW1hZ2U9Yyk7bnVsbCE9dGhpcy5wcmV2aW91c0Zvcm1hdCYmKHRoaXMuZm9ybWF0PXRoaXMucHJldmlvdXNGb3JtYXQsYz1hLnBhZ2VGb3JtYXQsdGhpcy5wcmV2aW91c0Zvcm1hdC53aWR0aCE9Yy53aWR0aHx8dGhpcy5wcmV2aW91c0Zvcm1hdC5oZWlnaHQhPWMuaGVpZ2h0KSYmKHRoaXMudWkuc2V0UGFnZUZvcm1hdCh0aGlzLnByZXZpb3VzRm9ybWF0KSwKdGhpcy5wcmV2aW91c0Zvcm1hdD1jKTtudWxsIT10aGlzLmZvbGRpbmdFbmFibGVkJiZ0aGlzLmZvbGRpbmdFbmFibGVkIT10aGlzLnVpLmVkaXRvci5ncmFwaC5mb2xkaW5nRW5hYmxlZCYmKHRoaXMudWkuc2V0Rm9sZGluZ0VuYWJsZWQodGhpcy5mb2xkaW5nRW5hYmxlZCksdGhpcy5mb2xkaW5nRW5hYmxlZD0hdGhpcy5mb2xkaW5nRW5hYmxlZCk7bnVsbCE9dGhpcy5wcmV2aW91c1BhZ2VTY2FsZSYmKGE9dGhpcy51aS5lZGl0b3IuZ3JhcGgucGFnZVNjYWxlLHRoaXMucHJldmlvdXNQYWdlU2NhbGUhPWEmJih0aGlzLnVpLnNldFBhZ2VTY2FsZSh0aGlzLnByZXZpb3VzUGFnZVNjYWxlKSx0aGlzLnByZXZpb3VzUGFnZVNjYWxlPWEpKX07CihmdW5jdGlvbigpe3ZhciBhPW5ldyBteE9iamVjdENvZGVjKG5ldyBDaGFuZ2VQYWdlU2V0dXAsWyJ1aSIsInByZXZpb3VzQ29sb3IiLCJwcmV2aW91c0ltYWdlIiwicHJldmlvdXNGb3JtYXQiLCJwcmV2aW91c1BhZ2VTY2FsZSJdKTthLmFmdGVyRGVjb2RlPWZ1bmN0aW9uKGEsZixkKXtkLnByZXZpb3VzQ29sb3I9ZC5jb2xvcjtkLnByZXZpb3VzSW1hZ2U9ZC5pbWFnZTtkLnByZXZpb3VzRm9ybWF0PWQuZm9ybWF0O2QucHJldmlvdXNQYWdlU2NhbGU9ZC5wYWdlU2NhbGU7bnVsbCE9ZC5mb2xkaW5nRW5hYmxlZCYmKGQuZm9sZGluZ0VuYWJsZWQ9IWQuZm9sZGluZ0VuYWJsZWQpO3JldHVybiBkfTtteENvZGVjUmVnaXN0cnkucmVnaXN0ZXIoYSl9KSgpO0VkaXRvclVpLnByb3RvdHlwZS5zZXRCYWNrZ3JvdW5kQ29sb3I9ZnVuY3Rpb24oYSl7dGhpcy5lZGl0b3IuZ3JhcGguYmFja2dyb3VuZD1hO3RoaXMuZWRpdG9yLmdyYXBoLnZpZXcudmFsaWRhdGVCYWNrZ3JvdW5kKCk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoImJhY2tncm91bmRDb2xvckNoYW5nZWQiKSl9OwpFZGl0b3JVaS5wcm90b3R5cGUuc2V0Rm9sZGluZ0VuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5lZGl0b3IuZ3JhcGguZm9sZGluZ0VuYWJsZWQ9YTt0aGlzLmVkaXRvci5ncmFwaC52aWV3LnJldmFsaWRhdGUoKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgiZm9sZGluZ0VuYWJsZWRDaGFuZ2VkIikpfTtFZGl0b3JVaS5wcm90b3R5cGUuc2V0UGFnZUZvcm1hdD1mdW5jdGlvbihhKXt0aGlzLmVkaXRvci5ncmFwaC5wYWdlRm9ybWF0PWE7dGhpcy5lZGl0b3IuZ3JhcGgucGFnZVZpc2libGU/KHRoaXMuZWRpdG9yLmdyYXBoLnZpZXcudmFsaWRhdGVCYWNrZ3JvdW5kKCksdGhpcy5lZGl0b3IuZ3JhcGguc2l6ZURpZENoYW5nZSgpKTp0aGlzLmFjdGlvbnMuZ2V0KCJwYWdlVmlldyIpLmZ1bmN0KCk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoInBhZ2VGb3JtYXRDaGFuZ2VkIikpfTsKRWRpdG9yVWkucHJvdG90eXBlLnNldFBhZ2VTY2FsZT1mdW5jdGlvbihhKXt0aGlzLmVkaXRvci5ncmFwaC5wYWdlU2NhbGU9YTt0aGlzLmVkaXRvci5ncmFwaC5wYWdlVmlzaWJsZT8odGhpcy5lZGl0b3IuZ3JhcGgudmlldy52YWxpZGF0ZUJhY2tncm91bmQoKSx0aGlzLmVkaXRvci5ncmFwaC5zaXplRGlkQ2hhbmdlKCkpOnRoaXMuYWN0aW9ucy5nZXQoInBhZ2VWaWV3IikuZnVuY3QoKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgicGFnZVNjYWxlQ2hhbmdlZCIpKX07RWRpdG9yVWkucHJvdG90eXBlLnNldEdyaWRDb2xvcj1mdW5jdGlvbihhKXt0aGlzLmVkaXRvci5ncmFwaC52aWV3LmdyaWRDb2xvcj1hO3RoaXMuZWRpdG9yLmdyYXBoLnZpZXcudmFsaWRhdGVCYWNrZ3JvdW5kKCk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoImdyaWRDb2xvckNoYW5nZWQiKSl9OwpFZGl0b3JVaS5wcm90b3R5cGUuYWRkVW5kb0xpc3RlbmVyPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5hY3Rpb25zLmdldCgidW5kbyIpLGM9dGhpcy5hY3Rpb25zLmdldCgicmVkbyIpLGY9dGhpcy5lZGl0b3IudW5kb01hbmFnZXIsZD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2Euc2V0RW5hYmxlZCh0aGlzLmNhblVuZG8oKSk7Yy5zZXRFbmFibGVkKHRoaXMuY2FuUmVkbygpKX0pO2YuYWRkTGlzdGVuZXIobXhFdmVudC5BREQsZCk7Zi5hZGRMaXN0ZW5lcihteEV2ZW50LlVORE8sZCk7Zi5hZGRMaXN0ZW5lcihteEV2ZW50LlJFRE8sZCk7Zi5hZGRMaXN0ZW5lcihteEV2ZW50LkNMRUFSLGQpO3ZhciBtPXRoaXMuZWRpdG9yLmdyYXBoLmNlbGxFZGl0b3Iuc3RhcnRFZGl0aW5nO3RoaXMuZWRpdG9yLmdyYXBoLmNlbGxFZGl0b3Iuc3RhcnRFZGl0aW5nPWZ1bmN0aW9uKCl7bS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZCgpfTt2YXIgaz10aGlzLmVkaXRvci5ncmFwaC5jZWxsRWRpdG9yLnN0b3BFZGl0aW5nOwp0aGlzLmVkaXRvci5ncmFwaC5jZWxsRWRpdG9yLnN0b3BFZGl0aW5nPWZ1bmN0aW9uKGEsYil7ay5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZCgpfTtkKCl9OwpFZGl0b3JVaS5wcm90b3R5cGUudXBkYXRlQWN0aW9uU3RhdGVzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lZGl0b3IuZ3JhcGgsYz0hYS5pc1NlbGVjdGlvbkVtcHR5KCksZj0hMSxkPSExLG09YS5nZXRTZWxlY3Rpb25DZWxscygpO2lmKG51bGwhPW0pZm9yKHZhciBrPTA7azxtLmxlbmd0aDtrKyspe3ZhciBxPW1ba107YS5nZXRNb2RlbCgpLmlzRWRnZShxKSYmKGQ9ITApO2EuZ2V0TW9kZWwoKS5pc1ZlcnRleChxKSYmKGY9ITApO2lmKGQmJmYpYnJlYWt9bT0iY3V0IGNvcHkgYm9sZCBpdGFsaWMgdW5kZXJsaW5lIGRlbGV0ZSBkdXBsaWNhdGUgZWRpdFN0eWxlIGVkaXRUb29sdGlwIGVkaXRMaW5rIGJhY2tncm91bmRDb2xvciBib3JkZXJDb2xvciBlZGl0IHRvRnJvbnQgdG9CYWNrIGxvY2tVbmxvY2sgc29saWQgZGFzaGVkIHBhc3RlU2l6ZSBkb3R0ZWQgZmlsbENvbG9yIGdyYWRpZW50Q29sb3Igc2hhZG93IGZvbnRDb2xvciBmb3JtYXR0ZWRUZXh0IHJvdW5kZWQgdG9nZ2xlUm91bmRlZCBzaGFycCBzdHJva2VDb2xvciIuc3BsaXQoIiAiKTtmb3Ioaz0KMDtrPG0ubGVuZ3RoO2srKyl0aGlzLmFjdGlvbnMuZ2V0KG1ba10pLnNldEVuYWJsZWQoYyk7dGhpcy5hY3Rpb25zLmdldCgic2V0QXNEZWZhdWx0U3R5bGUiKS5zZXRFbmFibGVkKDE9PWEuZ2V0U2VsZWN0aW9uQ291bnQoKSk7dGhpcy5hY3Rpb25zLmdldCgiY2xlYXJXYXlwb2ludHMiKS5zZXRFbmFibGVkKCFhLmlzU2VsZWN0aW9uRW1wdHkoKSk7dGhpcy5hY3Rpb25zLmdldCgiY29weVNpemUiKS5zZXRFbmFibGVkKDE9PWEuZ2V0U2VsZWN0aW9uQ291bnQoKSk7dGhpcy5hY3Rpb25zLmdldCgidHVybiIpLnNldEVuYWJsZWQoIWEuaXNTZWxlY3Rpb25FbXB0eSgpKTt0aGlzLmFjdGlvbnMuZ2V0KCJjdXJ2ZWQiKS5zZXRFbmFibGVkKGQpO3RoaXMuYWN0aW9ucy5nZXQoInJvdGF0aW9uIikuc2V0RW5hYmxlZChmKTt0aGlzLmFjdGlvbnMuZ2V0KCJ3b3JkV3JhcCIpLnNldEVuYWJsZWQoZik7dGhpcy5hY3Rpb25zLmdldCgiYXV0b3NpemUiKS5zZXRFbmFibGVkKGYpO2Q9ZiYmMT09CmEuZ2V0U2VsZWN0aW9uQ291bnQoKTt0aGlzLmFjdGlvbnMuZ2V0KCJncm91cCIpLnNldEVuYWJsZWQoMTxhLmdldFNlbGVjdGlvbkNvdW50KCl8fGQmJiFhLmlzQ29udGFpbmVyKGEuZ2V0U2VsZWN0aW9uQ2VsbCgpKSk7dGhpcy5hY3Rpb25zLmdldCgidW5ncm91cCIpLnNldEVuYWJsZWQoMT09YS5nZXRTZWxlY3Rpb25Db3VudCgpJiYoMDxhLmdldE1vZGVsKCkuZ2V0Q2hpbGRDb3VudChhLmdldFNlbGVjdGlvbkNlbGwoKSl8fGQmJmEuaXNDb250YWluZXIoYS5nZXRTZWxlY3Rpb25DZWxsKCkpKSk7dGhpcy5hY3Rpb25zLmdldCgicmVtb3ZlRnJvbUdyb3VwIikuc2V0RW5hYmxlZChkJiZhLmdldE1vZGVsKCkuaXNWZXJ0ZXgoYS5nZXRNb2RlbCgpLmdldFBhcmVudChhLmdldFNlbGVjdGlvbkNlbGwoKSkpKTthLnZpZXcuZ2V0U3RhdGUoYS5nZXRTZWxlY3Rpb25DZWxsKCkpO3RoaXMubWVudXMuZ2V0KCJuYXZpZ2F0aW9uIikuc2V0RW5hYmxlZChjfHxudWxsIT1hLnZpZXcuY3VycmVudFJvb3QpOwp0aGlzLmFjdGlvbnMuZ2V0KCJjb2xsYXBzaWJsZSIpLnNldEVuYWJsZWQoZiYmKGEuaXNDb250YWluZXIoYS5nZXRTZWxlY3Rpb25DZWxsKCkpfHwwPGEubW9kZWwuZ2V0Q2hpbGRDb3VudChhLmdldFNlbGVjdGlvbkNlbGwoKSkpKTt0aGlzLmFjdGlvbnMuZ2V0KCJob21lIikuc2V0RW5hYmxlZChudWxsIT1hLnZpZXcuY3VycmVudFJvb3QpO3RoaXMuYWN0aW9ucy5nZXQoImV4aXRHcm91cCIpLnNldEVuYWJsZWQobnVsbCE9YS52aWV3LmN1cnJlbnRSb290KTt0aGlzLmFjdGlvbnMuZ2V0KCJlbnRlckdyb3VwIikuc2V0RW5hYmxlZCgxPT1hLmdldFNlbGVjdGlvbkNvdW50KCkmJmEuaXNWYWxpZFJvb3QoYS5nZXRTZWxlY3Rpb25DZWxsKCkpKTtjPTE9PWEuZ2V0U2VsZWN0aW9uQ291bnQoKSYmYS5pc0NlbGxGb2xkYWJsZShhLmdldFNlbGVjdGlvbkNlbGwoKSk7dGhpcy5hY3Rpb25zLmdldCgiZXhwYW5kIikuc2V0RW5hYmxlZChjKTt0aGlzLmFjdGlvbnMuZ2V0KCJjb2xsYXBzZSIpLnNldEVuYWJsZWQoYyk7CnRoaXMuYWN0aW9ucy5nZXQoImVkaXRMaW5rIikuc2V0RW5hYmxlZCgxPT1hLmdldFNlbGVjdGlvbkNvdW50KCkpO3RoaXMuYWN0aW9ucy5nZXQoIm9wZW5MaW5rIikuc2V0RW5hYmxlZCgxPT1hLmdldFNlbGVjdGlvbkNvdW50KCkmJm51bGwhPWEuZ2V0TGlua0ZvckNlbGwoYS5nZXRTZWxlY3Rpb25DZWxsKCkpKTt0aGlzLmFjdGlvbnMuZ2V0KCJndWlkZXMiKS5zZXRFbmFibGVkKGEuaXNFbmFibGVkKCkpO3RoaXMuYWN0aW9ucy5nZXQoImdyaWQiKS5zZXRFbmFibGVkKCF0aGlzLmVkaXRvci5jaHJvbWVsZXNzfHx0aGlzLmVkaXRvci5lZGl0YWJsZSk7Yz1hLmlzRW5hYmxlZCgpJiYhYS5pc0NlbGxMb2NrZWQoYS5nZXREZWZhdWx0UGFyZW50KCkpO3RoaXMubWVudXMuZ2V0KCJsYXlvdXQiKS5zZXRFbmFibGVkKGMpO3RoaXMubWVudXMuZ2V0KCJpbnNlcnQiKS5zZXRFbmFibGVkKGMpO3RoaXMubWVudXMuZ2V0KCJkaXJlY3Rpb24iKS5zZXRFbmFibGVkKGMmJmYpO3RoaXMubWVudXMuZ2V0KCJhbGlnbiIpLnNldEVuYWJsZWQoYyYmCmYmJjE8YS5nZXRTZWxlY3Rpb25Db3VudCgpKTt0aGlzLm1lbnVzLmdldCgiZGlzdHJpYnV0ZSIpLnNldEVuYWJsZWQoYyYmZiYmMTxhLmdldFNlbGVjdGlvbkNvdW50KCkpO3RoaXMuYWN0aW9ucy5nZXQoInNlbGVjdFZlcnRpY2VzIikuc2V0RW5hYmxlZChjKTt0aGlzLmFjdGlvbnMuZ2V0KCJzZWxlY3RFZGdlcyIpLnNldEVuYWJsZWQoYyk7dGhpcy5hY3Rpb25zLmdldCgic2VsZWN0QWxsIikuc2V0RW5hYmxlZChjKTt0aGlzLmFjdGlvbnMuZ2V0KCJzZWxlY3ROb25lIikuc2V0RW5hYmxlZChjKTt0aGlzLnVwZGF0ZVBhc3RlQWN0aW9uU3RhdGVzKCl9O0VkaXRvclVpLnByb3RvdHlwZS56ZXJvT2Zmc2V0PW5ldyBteFBvaW50KDAsMCk7RWRpdG9yVWkucHJvdG90eXBlLmdldERpYWdyYW1Db250YWluZXJPZmZzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy56ZXJvT2Zmc2V0fTsKRWRpdG9yVWkucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oYSl7YT1udWxsIT1hP2E6ITA7dmFyIGM9bXhDbGllbnQuSVNfSUUmJihudWxsPT1kb2N1bWVudC5kb2N1bWVudE1vZGV8fDU9PWRvY3VtZW50LmRvY3VtZW50TW9kZSksZj10aGlzLmNvbnRhaW5lci5jbGllbnRXaWR0aCxkPXRoaXMuY29udGFpbmVyLmNsaWVudEhlaWdodDt0aGlzLmNvbnRhaW5lcj09ZG9jdW1lbnQuYm9keSYmKGY9ZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLGQ9Yz9kb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDpkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KTt2YXIgbT0wO214Q2xpZW50LklTX0lPUyYmIXdpbmRvdy5uYXZpZ2F0b3Iuc3RhbmRhbG9uZSYmd2luZG93LmlubmVySGVpZ2h0IT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0JiYKKG09ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodC13aW5kb3cuaW5uZXJIZWlnaHQsd2luZG93LnNjcm9sbFRvKDAsMCkpO3ZhciBrPU1hdGgubWF4KDAsTWF0aC5taW4odGhpcy5oc3BsaXRQb3NpdGlvbixmLXRoaXMuc3BsaXRTaXplLTIwKSkscT0wO251bGwhPXRoaXMubWVudWJhciYmKHRoaXMubWVudWJhckNvbnRhaW5lci5zdHlsZS5oZWlnaHQ9dGhpcy5tZW51YmFySGVpZ2h0KyJweCIscSs9dGhpcy5tZW51YmFySGVpZ2h0KTtudWxsIT10aGlzLnRvb2xiYXImJih0aGlzLnRvb2xiYXJDb250YWluZXIuc3R5bGUudG9wPXRoaXMubWVudWJhckhlaWdodCsicHgiLHRoaXMudG9vbGJhckNvbnRhaW5lci5zdHlsZS5oZWlnaHQ9dGhpcy50b29sYmFySGVpZ2h0KyJweCIscSs9dGhpcy50b29sYmFySGVpZ2h0KTswPHEmJiFteENsaWVudC5JU19RVUlSS1MmJihxKz0xKTt2YXIgYj0wO2lmKG51bGwhPXRoaXMuc2lkZWJhckZvb3RlckNvbnRhaW5lcil7dmFyIGU9CnRoaXMuZm9vdGVySGVpZ2h0K20sYj1NYXRoLm1heCgwLE1hdGgubWluKGQtcS1lLHRoaXMuc2lkZWJhckZvb3RlckhlaWdodCkpO3RoaXMuc2lkZWJhckZvb3RlckNvbnRhaW5lci5zdHlsZS53aWR0aD1rKyJweCI7dGhpcy5zaWRlYmFyRm9vdGVyQ29udGFpbmVyLnN0eWxlLmhlaWdodD1iKyJweCI7dGhpcy5zaWRlYmFyRm9vdGVyQ29udGFpbmVyLnN0eWxlLmJvdHRvbT1lKyJweCJ9ZT1udWxsIT10aGlzLmZvcm1hdD90aGlzLmZvcm1hdFdpZHRoOjA7dGhpcy5zaWRlYmFyQ29udGFpbmVyLnN0eWxlLnRvcD1xKyJweCI7dGhpcy5zaWRlYmFyQ29udGFpbmVyLnN0eWxlLndpZHRoPWsrInB4Ijt0aGlzLmZvcm1hdENvbnRhaW5lci5zdHlsZS50b3A9cSsicHgiO3RoaXMuZm9ybWF0Q29udGFpbmVyLnN0eWxlLndpZHRoPWUrInB4Ijt0aGlzLmZvcm1hdENvbnRhaW5lci5zdHlsZS5kaXNwbGF5PW51bGwhPXRoaXMuZm9ybWF0PyIiOiJub25lIjt2YXIgZz10aGlzLmdldERpYWdyYW1Db250YWluZXJPZmZzZXQoKSwKcD1udWxsIT10aGlzLmhzcGxpdC5wYXJlbnROb2RlP2srdGhpcy5zcGxpdFNpemU6MDt0aGlzLmRpYWdyYW1Db250YWluZXIuc3R5bGUubGVmdD1wK2cueCsicHgiO3RoaXMuZGlhZ3JhbUNvbnRhaW5lci5zdHlsZS50b3A9cStnLnkrInB4Ijt0aGlzLmZvb3RlckNvbnRhaW5lci5zdHlsZS5oZWlnaHQ9dGhpcy5mb290ZXJIZWlnaHQrInB4Ijt0aGlzLmhzcGxpdC5zdHlsZS50b3A9dGhpcy5zaWRlYmFyQ29udGFpbmVyLnN0eWxlLnRvcDt0aGlzLmhzcGxpdC5zdHlsZS5ib3R0b209dGhpcy5mb290ZXJIZWlnaHQrbSsicHgiO3RoaXMuaHNwbGl0LnN0eWxlLmxlZnQ9aysicHgiO3RoaXMuZm9vdGVyQ29udGFpbmVyLnN0eWxlLmRpc3BsYXk9MD09dGhpcy5mb290ZXJIZWlnaHQ/Im5vbmUiOiIiO251bGwhPXRoaXMudGFiQ29udGFpbmVyJiYodGhpcy50YWJDb250YWluZXIuc3R5bGUubGVmdD1wKyJweCIpO2M/KHRoaXMubWVudWJhckNvbnRhaW5lci5zdHlsZS53aWR0aD1mKyJweCIsCnRoaXMudG9vbGJhckNvbnRhaW5lci5zdHlsZS53aWR0aD10aGlzLm1lbnViYXJDb250YWluZXIuc3R5bGUud2lkdGgsYz1NYXRoLm1heCgwLGQtdGhpcy5mb290ZXJIZWlnaHQtdGhpcy5tZW51YmFySGVpZ2h0LXRoaXMudG9vbGJhckhlaWdodCksdGhpcy5zaWRlYmFyQ29udGFpbmVyLnN0eWxlLmhlaWdodD1jLWIrInB4Iix0aGlzLmZvcm1hdENvbnRhaW5lci5zdHlsZS5oZWlnaHQ9YysicHgiLHRoaXMuZGlhZ3JhbUNvbnRhaW5lci5zdHlsZS53aWR0aD1udWxsIT10aGlzLmhzcGxpdC5wYXJlbnROb2RlP01hdGgubWF4KDAsZi1rLXRoaXMuc3BsaXRTaXplLWUpKyJweCI6ZisicHgiLHRoaXMuZm9vdGVyQ29udGFpbmVyLnN0eWxlLndpZHRoPXRoaXMubWVudWJhckNvbnRhaW5lci5zdHlsZS53aWR0aCxiPU1hdGgubWF4KDAsZC10aGlzLmZvb3RlckhlaWdodC10aGlzLm1lbnViYXJIZWlnaHQtdGhpcy50b29sYmFySGVpZ2h0KSxudWxsIT10aGlzLnRhYkNvbnRhaW5lciYmKHRoaXMudGFiQ29udGFpbmVyLnN0eWxlLndpZHRoPQp0aGlzLmRpYWdyYW1Db250YWluZXIuc3R5bGUud2lkdGgsdGhpcy50YWJDb250YWluZXIuc3R5bGUuYm90dG9tPXRoaXMuZm9vdGVySGVpZ2h0K20rInB4IixiLT10aGlzLnRhYkNvbnRhaW5lci5jbGllbnRIZWlnaHQpLHRoaXMuZGlhZ3JhbUNvbnRhaW5lci5zdHlsZS5oZWlnaHQ9YisicHgiLHRoaXMuaHNwbGl0LnN0eWxlLmhlaWdodD1iKyJweCIpOigwPHRoaXMuZm9vdGVySGVpZ2h0JiYodGhpcy5mb290ZXJDb250YWluZXIuc3R5bGUuYm90dG9tPW0rInB4IiksdGhpcy5kaWFncmFtQ29udGFpbmVyLnN0eWxlLnJpZ2h0PWUrInB4IixmPTAsbnVsbCE9dGhpcy50YWJDb250YWluZXImJih0aGlzLnRhYkNvbnRhaW5lci5zdHlsZS5ib3R0b209dGhpcy5mb290ZXJIZWlnaHQrbSsicHgiLHRoaXMudGFiQ29udGFpbmVyLnN0eWxlLnJpZ2h0PXRoaXMuZGlhZ3JhbUNvbnRhaW5lci5zdHlsZS5yaWdodCxmPXRoaXMudGFiQ29udGFpbmVyLmNsaWVudEhlaWdodCksdGhpcy5zaWRlYmFyQ29udGFpbmVyLnN0eWxlLmJvdHRvbT0KdGhpcy5mb290ZXJIZWlnaHQrYittKyJweCIsdGhpcy5mb3JtYXRDb250YWluZXIuc3R5bGUuYm90dG9tPXRoaXMuZm9vdGVySGVpZ2h0K20rInB4Iix0aGlzLmRpYWdyYW1Db250YWluZXIuc3R5bGUuYm90dG9tPXRoaXMuZm9vdGVySGVpZ2h0K20rZisicHgiKTthJiZ0aGlzLmVkaXRvci5ncmFwaC5zaXplRGlkQ2hhbmdlKCl9O0VkaXRvclVpLnByb3RvdHlwZS5jcmVhdGVUYWJDb250YWluZXI9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH07CkVkaXRvclVpLnByb3RvdHlwZS5jcmVhdGVEaXZzPWZ1bmN0aW9uKCl7dGhpcy5tZW51YmFyQ29udGFpbmVyPXRoaXMuY3JlYXRlRGl2KCJnZU1lbnViYXJDb250YWluZXIiKTt0aGlzLnRvb2xiYXJDb250YWluZXI9dGhpcy5jcmVhdGVEaXYoImdlVG9vbGJhckNvbnRhaW5lciIpO3RoaXMuc2lkZWJhckNvbnRhaW5lcj10aGlzLmNyZWF0ZURpdigiZ2VTaWRlYmFyQ29udGFpbmVyIik7dGhpcy5mb3JtYXRDb250YWluZXI9dGhpcy5jcmVhdGVEaXYoImdlU2lkZWJhckNvbnRhaW5lciBnZUZvcm1hdENvbnRhaW5lciIpO3RoaXMuZGlhZ3JhbUNvbnRhaW5lcj10aGlzLmNyZWF0ZURpdigiZ2VEaWFncmFtQ29udGFpbmVyIik7dGhpcy5mb290ZXJDb250YWluZXI9dGhpcy5jcmVhdGVEaXYoImdlRm9vdGVyQ29udGFpbmVyIik7dGhpcy5oc3BsaXQ9dGhpcy5jcmVhdGVEaXYoImdlSHNwbGl0Iik7dGhpcy5oc3BsaXQuc2V0QXR0cmlidXRlKCJ0aXRsZSIsbXhSZXNvdXJjZXMuZ2V0KCJjb2xsYXBzZUV4cGFuZCIpKTsKdGhpcy5tZW51YmFyQ29udGFpbmVyLnN0eWxlLnRvcD0iMHB4Ijt0aGlzLm1lbnViYXJDb250YWluZXIuc3R5bGUubGVmdD0iMHB4Ijt0aGlzLm1lbnViYXJDb250YWluZXIuc3R5bGUucmlnaHQ9IjBweCI7dGhpcy50b29sYmFyQ29udGFpbmVyLnN0eWxlLmxlZnQ9IjBweCI7dGhpcy50b29sYmFyQ29udGFpbmVyLnN0eWxlLnJpZ2h0PSIwcHgiO3RoaXMuc2lkZWJhckNvbnRhaW5lci5zdHlsZS5sZWZ0PSIwcHgiO3RoaXMuZm9ybWF0Q29udGFpbmVyLnN0eWxlLnJpZ2h0PSIwcHgiO3RoaXMuZm9ybWF0Q29udGFpbmVyLnN0eWxlLnpJbmRleD0iMSI7dGhpcy5kaWFncmFtQ29udGFpbmVyLnN0eWxlLnJpZ2h0PShudWxsIT10aGlzLmZvcm1hdD90aGlzLmZvcm1hdFdpZHRoOjApKyJweCI7dGhpcy5mb290ZXJDb250YWluZXIuc3R5bGUubGVmdD0iMHB4Ijt0aGlzLmZvb3RlckNvbnRhaW5lci5zdHlsZS5yaWdodD0iMHB4Ijt0aGlzLmZvb3RlckNvbnRhaW5lci5zdHlsZS5ib3R0b209CiIwcHgiO3RoaXMuZm9vdGVyQ29udGFpbmVyLnN0eWxlLnpJbmRleD1teFBvcHVwTWVudS5wcm90b3R5cGUuekluZGV4LTI7dGhpcy5oc3BsaXQuc3R5bGUud2lkdGg9dGhpcy5zcGxpdFNpemUrInB4IjtpZih0aGlzLnNpZGViYXJGb290ZXJDb250YWluZXI9dGhpcy5jcmVhdGVTaWRlYmFyRm9vdGVyQ29udGFpbmVyKCkpdGhpcy5zaWRlYmFyRm9vdGVyQ29udGFpbmVyLnN0eWxlLmxlZnQ9IjBweCI7dGhpcy5lZGl0b3IuY2hyb21lbGVzcz90aGlzLmRpYWdyYW1Db250YWluZXIuc3R5bGUuYm9yZGVyPSJub25lIjp0aGlzLnRhYkNvbnRhaW5lcj10aGlzLmNyZWF0ZVRhYkNvbnRhaW5lcigpfTtFZGl0b3JVaS5wcm90b3R5cGUuY3JlYXRlU2lkZWJhckZvb3RlckNvbnRhaW5lcj1mdW5jdGlvbigpe3JldHVybiBudWxsfTsKRWRpdG9yVWkucHJvdG90eXBlLmNyZWF0ZVVpPWZ1bmN0aW9uKCl7dGhpcy5tZW51YmFyPXRoaXMuZWRpdG9yLmNocm9tZWxlc3M/bnVsbDp0aGlzLm1lbnVzLmNyZWF0ZU1lbnViYXIodGhpcy5jcmVhdGVEaXYoImdlTWVudWJhciIpKTtudWxsIT10aGlzLm1lbnViYXImJnRoaXMubWVudWJhckNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLm1lbnViYXIuY29udGFpbmVyKTtudWxsIT10aGlzLm1lbnViYXImJih0aGlzLnN0YXR1c0NvbnRhaW5lcj10aGlzLmNyZWF0ZVN0YXR1c0NvbnRhaW5lcigpLHRoaXMuZWRpdG9yLmFkZExpc3RlbmVyKCJzdGF0dXNDaGFuZ2VkIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuc2V0U3RhdHVzVGV4dCh0aGlzLmVkaXRvci5nZXRTdGF0dXMoKSl9KSksdGhpcy5zZXRTdGF0dXNUZXh0KHRoaXMuZWRpdG9yLmdldFN0YXR1cygpKSx0aGlzLm1lbnViYXIuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuc3RhdHVzQ29udGFpbmVyKSx0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLm1lbnViYXJDb250YWluZXIpKTsKdGhpcy5zaWRlYmFyPXRoaXMuZWRpdG9yLmNocm9tZWxlc3M/bnVsbDp0aGlzLmNyZWF0ZVNpZGViYXIodGhpcy5zaWRlYmFyQ29udGFpbmVyKTtudWxsIT10aGlzLnNpZGViYXImJnRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuc2lkZWJhckNvbnRhaW5lcik7dGhpcy5mb3JtYXQ9dGhpcy5lZGl0b3IuY2hyb21lbGVzc3x8IXRoaXMuZm9ybWF0RW5hYmxlZD9udWxsOnRoaXMuY3JlYXRlRm9ybWF0KHRoaXMuZm9ybWF0Q29udGFpbmVyKTtudWxsIT10aGlzLmZvcm1hdCYmdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5mb3JtYXRDb250YWluZXIpO3ZhciBhPXRoaXMuZWRpdG9yLmNocm9tZWxlc3M/bnVsbDp0aGlzLmNyZWF0ZUZvb3RlcigpO251bGwhPWEmJih0aGlzLmZvb3RlckNvbnRhaW5lci5hcHBlbmRDaGlsZChhKSx0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmZvb3RlckNvbnRhaW5lcikpO251bGwhPXRoaXMuc2lkZWJhciYmdGhpcy5zaWRlYmFyRm9vdGVyQ29udGFpbmVyJiYKdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5zaWRlYmFyRm9vdGVyQ29udGFpbmVyKTt0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmRpYWdyYW1Db250YWluZXIpO251bGwhPXRoaXMuY29udGFpbmVyJiZudWxsIT10aGlzLnRhYkNvbnRhaW5lciYmdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy50YWJDb250YWluZXIpO3RoaXMudG9vbGJhcj10aGlzLmVkaXRvci5jaHJvbWVsZXNzP251bGw6dGhpcy5jcmVhdGVUb29sYmFyKHRoaXMuY3JlYXRlRGl2KCJnZVRvb2xiYXIiKSk7bnVsbCE9dGhpcy50b29sYmFyJiYodGhpcy50b29sYmFyQ29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMudG9vbGJhci5jb250YWluZXIpLHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMudG9vbGJhckNvbnRhaW5lcikpO251bGwhPXRoaXMuc2lkZWJhciYmKHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuaHNwbGl0KSx0aGlzLmFkZFNwbGl0SGFuZGxlcih0aGlzLmhzcGxpdCwKITAsMCxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmhzcGxpdFBvc2l0aW9uPWE7dGhpcy5yZWZyZXNoKCl9KSkpfTtFZGl0b3JVaS5wcm90b3R5cGUuY3JlYXRlU3RhdHVzQ29udGFpbmVyPWZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO2EuY2xhc3NOYW1lPSJnZUl0ZW0gZ2VTdGF0dXMiOzQyMD5zY3JlZW4ud2lkdGgmJihhLnN0eWxlLm1heFdpZHRoPU1hdGgubWF4KDIwLHNjcmVlbi53aWR0aC0zMjApKyJweCIsYS5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIik7cmV0dXJuIGF9O0VkaXRvclVpLnByb3RvdHlwZS5zZXRTdGF0dXNUZXh0PWZ1bmN0aW9uKGEpe3RoaXMuc3RhdHVzQ29udGFpbmVyLmlubmVySFRNTD1hfTtFZGl0b3JVaS5wcm90b3R5cGUuY3JlYXRlVG9vbGJhcj1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IFRvb2xiYXIodGhpcyxhKX07CkVkaXRvclVpLnByb3RvdHlwZS5jcmVhdGVTaWRlYmFyPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgU2lkZWJhcih0aGlzLGEpfTtFZGl0b3JVaS5wcm90b3R5cGUuY3JlYXRlRm9ybWF0PWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgRm9ybWF0KHRoaXMsYSl9O0VkaXRvclVpLnByb3RvdHlwZS5jcmVhdGVGb290ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jcmVhdGVEaXYoImdlRm9vdGVyIil9O0VkaXRvclVpLnByb3RvdHlwZS5jcmVhdGVEaXY9ZnVuY3Rpb24oYSl7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Yy5jbGFzc05hbWU9YTtyZXR1cm4gY307CkVkaXRvclVpLnByb3RvdHlwZS5hZGRTcGxpdEhhbmRsZXI9ZnVuY3Rpb24oYSxjLGYsZCl7ZnVuY3Rpb24gbShhKXtpZihudWxsIT1xKXt2YXIgbD1uZXcgbXhQb2ludChteEV2ZW50LmdldENsaWVudFgoYSksbXhFdmVudC5nZXRDbGllbnRZKGEpKTtkKE1hdGgubWF4KDAsYisoYz9sLngtcS54OnEueS1sLnkpLWYpKTtteEV2ZW50LmNvbnN1bWUoYSk7YiE9cCgpJiYoZT0hMCxnPW51bGwpfX1mdW5jdGlvbiBrKGEpe20oYSk7cT1iPW51bGx9dmFyIHE9bnVsbCxiPW51bGwsZT0hMCxnPW51bGw7bXhDbGllbnQuSVNfUE9JTlRFUiYmKGEuc3R5bGUudG91Y2hBY3Rpb249Im5vbmUiKTt2YXIgcD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3ZhciBiPXBhcnNlSW50KGM/YS5zdHlsZS5sZWZ0OmEuc3R5bGUuYm90dG9tKTtjfHwoYj1iK2YtdGhpcy5mb290ZXJIZWlnaHQpO3JldHVybiBifSk7bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKGEsZnVuY3Rpb24oYSl7cT1uZXcgbXhQb2ludChteEV2ZW50LmdldENsaWVudFgoYSksCm14RXZlbnQuZ2V0Q2xpZW50WShhKSk7Yj1wKCk7ZT0hMTtteEV2ZW50LmNvbnN1bWUoYSl9KTtteEV2ZW50LmFkZExpc3RlbmVyKGEsImNsaWNrIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtpZighZSYmdGhpcy5oc3BsaXRDbGlja0VuYWJsZWQpe3ZhciBiPW51bGwhPWc/Zy1mOjA7Zz1wKCk7ZChiKTtteEV2ZW50LmNvbnN1bWUoYSl9fSkpO214RXZlbnQuYWRkR2VzdHVyZUxpc3RlbmVycyhkb2N1bWVudCxudWxsLG0sayk7dGhpcy5kZXN0cm95RnVuY3Rpb25zLnB1c2goZnVuY3Rpb24oKXtteEV2ZW50LnJlbW92ZUdlc3R1cmVMaXN0ZW5lcnMoZG9jdW1lbnQsbnVsbCxtLGspfSl9OwpFZGl0b3JVaS5wcm90b3R5cGUuaGFuZGxlRXJyb3I9ZnVuY3Rpb24oYSxjLGYsZCxtKXthPW51bGwhPWEmJm51bGwhPWEuZXJyb3I/YS5lcnJvcjphO2lmKG51bGwhPWF8fG51bGwhPWMpe209bXhVdGlscy5odG1sRW50aXRpZXMobXhSZXNvdXJjZXMuZ2V0KCJ1bmtub3duRXJyb3IiKSk7dmFyIGs9bXhSZXNvdXJjZXMuZ2V0KCJvayIpO2M9bnVsbCE9Yz9jOm14UmVzb3VyY2VzLmdldCgiZXJyb3IiKTtudWxsIT1hJiZudWxsIT1hLm1lc3NhZ2UmJihtPW14VXRpbHMuaHRtbEVudGl0aWVzKGEubWVzc2FnZSkpO3RoaXMuc2hvd0Vycm9yKGMsbSxrLGYsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLGQ/ZjpudWxsKX1lbHNlIG51bGwhPWYmJmYoKX07CkVkaXRvclVpLnByb3RvdHlwZS5zaG93RXJyb3I9ZnVuY3Rpb24oYSxjLGYsZCxtLGsscSxiLGUsZyxwLGwsbil7YT1uZXcgRXJyb3JEaWFsb2codGhpcyxhLGMsZnx8bXhSZXNvdXJjZXMuZ2V0KCJvayIpLGQsbSxrLHEsbCxiLGUpO2M9TWF0aC5jZWlsKG51bGwhPWM/Yy5sZW5ndGgvNTA6MSk7dGhpcy5zaG93RGlhbG9nKGEuY29udGFpbmVyLGd8fDM0MCxwfHwxMDArMjAqYywhMCwhMSxuKTthLmluaXQoKX07RWRpdG9yVWkucHJvdG90eXBlLnNob3dEaWFsb2c9ZnVuY3Rpb24oYSxjLGYsZCxtLGsscSxiLGUsZyl7dGhpcy5lZGl0b3IuZ3JhcGgudG9vbHRpcEhhbmRsZXIuaGlkZVRvb2x0aXAoKTtudWxsPT10aGlzLmRpYWxvZ3MmJih0aGlzLmRpYWxvZ3M9W10pO3RoaXMuZGlhbG9nPW5ldyBEaWFsb2codGhpcyxhLGMsZixkLG0sayxxLGIsZSxnKTt0aGlzLmRpYWxvZ3MucHVzaCh0aGlzLmRpYWxvZyl9OwpFZGl0b3JVaS5wcm90b3R5cGUuaGlkZURpYWxvZz1mdW5jdGlvbihhLGMpe2lmKG51bGwhPXRoaXMuZGlhbG9ncyYmMDx0aGlzLmRpYWxvZ3MubGVuZ3RoKXt2YXIgZj10aGlzLmRpYWxvZ3MucG9wKCk7MD09Zi5jbG9zZShhLGMpP3RoaXMuZGlhbG9ncy5wdXNoKGYpOih0aGlzLmRpYWxvZz0wPHRoaXMuZGlhbG9ncy5sZW5ndGg/dGhpcy5kaWFsb2dzW3RoaXMuZGlhbG9ncy5sZW5ndGgtMV06bnVsbCx0aGlzLmVkaXRvci5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoImhpZGVEaWFsb2ciKSksbnVsbD09dGhpcy5kaWFsb2cmJiJoaWRkZW4iIT10aGlzLmVkaXRvci5ncmFwaC5jb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSYmd2luZG93LnNldFRpbWVvdXQobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmVkaXRvci5ncmFwaC5pc0VkaXRpbmcoKSYmbnVsbCE9dGhpcy5lZGl0b3IuZ3JhcGguY2VsbEVkaXRvci50ZXh0YXJlYT90aGlzLmVkaXRvci5ncmFwaC5jZWxsRWRpdG9yLnRleHRhcmVhLmZvY3VzKCk6CihteFV0aWxzLmNsZWFyU2VsZWN0aW9uKCksdGhpcy5lZGl0b3IuZ3JhcGguY29udGFpbmVyLmZvY3VzKCkpfSksMCkpfX07RWRpdG9yVWkucHJvdG90eXBlLmN0cmxFbnRlcj1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZWRpdG9yLmdyYXBoO2lmKGEuaXNFbmFibGVkKCkpdHJ5e2Zvcih2YXIgYz1hLmdldFNlbGVjdGlvbkNlbGxzKCksZj1uZXcgbXhEaWN0aW9uYXJ5LGQ9W10sbT0wO208Yy5sZW5ndGg7bSsrKXt2YXIgaz1hLmlzVGFibGVDZWxsKGNbbV0pP2EubW9kZWwuZ2V0UGFyZW50KGNbbV0pOmNbbV07bnVsbD09a3x8Zi5nZXQoayl8fChmLnB1dChrLCEwKSxkLnB1c2goaykpfWEuc2V0U2VsZWN0aW9uQ2VsbHMoYS5kdXBsaWNhdGVDZWxscyhkLCExKSl9Y2F0Y2gocSl7dGhpcy5oYW5kbGVFcnJvcihxKX19OwpFZGl0b3JVaS5wcm90b3R5cGUucGlja0NvbG9yPWZ1bmN0aW9uKGEsYyl7dmFyIGY9dGhpcy5lZGl0b3IuZ3JhcGgsZD1mLmNlbGxFZGl0b3Iuc2F2ZVNlbGVjdGlvbigpLG09MjI2KzE3KihNYXRoLmNlaWwoQ29sb3JEaWFsb2cucHJvdG90eXBlLnByZXNldENvbG9ycy5sZW5ndGgvMTIpK01hdGguY2VpbChDb2xvckRpYWxvZy5wcm90b3R5cGUuZGVmYXVsdENvbG9ycy5sZW5ndGgvMTIpKSxrPW5ldyBDb2xvckRpYWxvZyh0aGlzLGF8fCJub25lIixmdW5jdGlvbihhKXtmLmNlbGxFZGl0b3IucmVzdG9yZVNlbGVjdGlvbihkKTtjKGEpfSxmdW5jdGlvbigpe2YuY2VsbEVkaXRvci5yZXN0b3JlU2VsZWN0aW9uKGQpfSk7dGhpcy5zaG93RGlhbG9nKGsuY29udGFpbmVyLDIzMCxtLCEwLCExKTtrLmluaXQoKX07CkVkaXRvclVpLnByb3RvdHlwZS5vcGVuRmlsZT1mdW5jdGlvbigpe3dpbmRvdy5vcGVuRmlsZT1uZXcgT3BlbkZpbGUobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5oaWRlRGlhbG9nKGEpfSkpO3RoaXMuc2hvd0RpYWxvZygobmV3IE9wZW5EaWFsb2codGhpcykpLmNvbnRhaW5lcixFZGl0b3IudXNlTG9jYWxTdG9yYWdlPzY0MDozMjAsRWRpdG9yLnVzZUxvY2FsU3RvcmFnZT80ODA6MjIwLCEwLCEwLGZ1bmN0aW9uKCl7d2luZG93Lm9wZW5GaWxlPW51bGx9KX07CkVkaXRvclVpLnByb3RvdHlwZS5leHRyYWN0R3JhcGhNb2RlbEZyb21IdG1sPWZ1bmN0aW9uKGEpe3ZhciBjPW51bGw7dHJ5e3ZhciBmPWEuaW5kZXhPZigiJmx0O214R3JhcGhNb2RlbCAiKTtpZigwPD1mKXt2YXIgZD1hLmxhc3RJbmRleE9mKCImbHQ7L214R3JhcGhNb2RlbCZndDsiKTtkPmYmJihjPWEuc3Vic3RyaW5nKGYsZCsyMSkucmVwbGFjZSgvJmd0Oy9nLCI+IikucmVwbGFjZSgvJmx0Oy9nLCI8IikucmVwbGFjZSgvXFwmcXVvdDsvZywnIicpLnJlcGxhY2UoL1xuL2csIiIpKX19Y2F0Y2gobSl7fXJldHVybiBjfTsKRWRpdG9yVWkucHJvdG90eXBlLmV4dHJhY3RHcmFwaE1vZGVsRnJvbUV2ZW50PWZ1bmN0aW9uKGEpe3ZhciBjPW51bGwsZj1udWxsO251bGwhPWEmJihhPW51bGwhPWEuZGF0YVRyYW5zZmVyP2EuZGF0YVRyYW5zZmVyOmEuY2xpcGJvYXJkRGF0YSxudWxsIT1hJiYoMTA9PWRvY3VtZW50LmRvY3VtZW50TW9kZXx8MTE9PWRvY3VtZW50LmRvY3VtZW50TW9kZT9mPWEuZ2V0RGF0YSgiVGV4dCIpOihmPTA8PW14VXRpbHMuaW5kZXhPZihhLnR5cGVzLCJ0ZXh0L2h0bWwiKT9hLmdldERhdGEoInRleHQvaHRtbCIpOm51bGwsbXhVdGlscy5pbmRleE9mKGEudHlwZXMsbnVsbD09Znx8MD09Zi5sZW5ndGgpJiYoZj1hLmdldERhdGEoInRleHQvcGxhaW4iKSkpLG51bGwhPWYmJihmPUdyYXBoLnphcEdyZW1saW5zKG14VXRpbHMudHJpbShmKSksYT10aGlzLmV4dHJhY3RHcmFwaE1vZGVsRnJvbUh0bWwoZiksbnVsbCE9YSYmKGY9YSkpKSk7bnVsbCE9ZiYmdGhpcy5pc0NvbXBhdGlibGVTdHJpbmcoZikmJgooYz1mKTtyZXR1cm4gY307RWRpdG9yVWkucHJvdG90eXBlLmlzQ29tcGF0aWJsZVN0cmluZz1mdW5jdGlvbihhKXtyZXR1cm4hMX07RWRpdG9yVWkucHJvdG90eXBlLnNhdmVGaWxlPWZ1bmN0aW9uKGEpe2F8fG51bGw9PXRoaXMuZWRpdG9yLmZpbGVuYW1lPyhhPW5ldyBGaWxlbmFtZURpYWxvZyh0aGlzLHRoaXMuZWRpdG9yLmdldE9yQ3JlYXRlRmlsZW5hbWUoKSxteFJlc291cmNlcy5nZXQoInNhdmUiKSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLnNhdmUoYSl9KSxudWxsLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe2lmKG51bGwhPWEmJjA8YS5sZW5ndGgpcmV0dXJuITA7bXhVdGlscy5jb25maXJtKG14UmVzb3VyY2VzLmdldCgiaW52YWxpZE5hbWUiKSk7cmV0dXJuITF9KSksdGhpcy5zaG93RGlhbG9nKGEuY29udGFpbmVyLDMwMCwxMDAsITAsITApLGEuaW5pdCgpKTp0aGlzLnNhdmUodGhpcy5lZGl0b3IuZ2V0T3JDcmVhdGVGaWxlbmFtZSgpKX07CkVkaXRvclVpLnByb3RvdHlwZS5zYXZlPWZ1bmN0aW9uKGEpe2lmKG51bGwhPWEpe3RoaXMuZWRpdG9yLmdyYXBoLmlzRWRpdGluZygpJiZ0aGlzLmVkaXRvci5ncmFwaC5zdG9wRWRpdGluZygpO3ZhciBjPW14VXRpbHMuZ2V0WG1sKHRoaXMuZWRpdG9yLmdldEdyYXBoWG1sKCkpO3RyeXtpZihFZGl0b3IudXNlTG9jYWxTdG9yYWdlKXtpZihudWxsIT1sb2NhbFN0b3JhZ2UuZ2V0SXRlbShhKSYmIW14VXRpbHMuY29uZmlybShteFJlc291cmNlcy5nZXQoInJlcGxhY2VJdCIsW2FdKSkpcmV0dXJuO2xvY2FsU3RvcmFnZS5zZXRJdGVtKGEsYyk7dGhpcy5lZGl0b3Iuc2V0U3RhdHVzKG14VXRpbHMuaHRtbEVudGl0aWVzKG14UmVzb3VyY2VzLmdldCgic2F2ZWQiKSkrIiAiK25ldyBEYXRlKX1lbHNlIGlmKGMubGVuZ3RoPE1BWF9SRVFVRVNUX1NJWkUpKG5ldyBteFhtbFJlcXVlc3QoU0FWRV9VUkwsImZpbGVuYW1lPSIrZW5jb2RlVVJJQ29tcG9uZW50KGEpKyImeG1sPSIrZW5jb2RlVVJJQ29tcG9uZW50KGMpKSkuc2ltdWxhdGUoZG9jdW1lbnQsCiJfYmxhbmsiKTtlbHNle214VXRpbHMuYWxlcnQobXhSZXNvdXJjZXMuZ2V0KCJkcmF3aW5nVG9vTGFyZ2UiKSk7bXhVdGlscy5wb3B1cChjKTtyZXR1cm59dGhpcy5lZGl0b3Iuc2V0TW9kaWZpZWQoITEpO3RoaXMuZWRpdG9yLnNldEZpbGVuYW1lKGEpO3RoaXMudXBkYXRlRG9jdW1lbnRUaXRsZSgpfWNhdGNoKGYpe3RoaXMuZWRpdG9yLnNldFN0YXR1cyhteFV0aWxzLmh0bWxFbnRpdGllcyhteFJlc291cmNlcy5nZXQoImVycm9yU2F2aW5nRmlsZSIpKSl9fX07CkVkaXRvclVpLnByb3RvdHlwZS5leGVjdXRlTGF5b3V0PWZ1bmN0aW9uKGEsYyxmKXt2YXIgZD10aGlzLmVkaXRvci5ncmFwaDtpZihkLmlzRW5hYmxlZCgpKXtkLmdldE1vZGVsKCkuYmVnaW5VcGRhdGUoKTt0cnl7YSgpfWNhdGNoKG0pe3Rocm93IG07fWZpbmFsbHl7dGhpcy5hbGxvd0FuaW1hdGlvbiYmYyYmKG51bGw9PW5hdmlnYXRvci51c2VyQWdlbnR8fDA+bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJDYW1pbm8iKSk/KGE9bmV3IG14TW9ycGhpbmcoZCksYS5hZGRMaXN0ZW5lcihteEV2ZW50LkRPTkUsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtkLmdldE1vZGVsKCkuZW5kVXBkYXRlKCk7bnVsbCE9ZiYmZigpfSkpLGEuc3RhcnRBbmltYXRpb24oKSk6KGQuZ2V0TW9kZWwoKS5lbmRVcGRhdGUoKSxudWxsIT1mJiZmKCkpfX19OwpFZGl0b3JVaS5wcm90b3R5cGUuc2hvd0ltYWdlRGlhbG9nPWZ1bmN0aW9uKGEsYyxmLGQpe2Q9dGhpcy5lZGl0b3IuZ3JhcGguY2VsbEVkaXRvcjt2YXIgbT1kLnNhdmVTZWxlY3Rpb24oKSxrPW14VXRpbHMucHJvbXB0KGEsYyk7ZC5yZXN0b3JlU2VsZWN0aW9uKG0pO2lmKG51bGwhPWsmJjA8ay5sZW5ndGgpe3ZhciBxPW5ldyBJbWFnZTtxLm9ubG9hZD1mdW5jdGlvbigpe2YoayxxLndpZHRoLHEuaGVpZ2h0KX07cS5vbmVycm9yPWZ1bmN0aW9uKCl7ZihudWxsKTtteFV0aWxzLmFsZXJ0KG14UmVzb3VyY2VzLmdldCgiZmlsZU5vdEZvdW5kIikpfTtxLnNyYz1rfWVsc2UgZihudWxsKX07RWRpdG9yVWkucHJvdG90eXBlLnNob3dMaW5rRGlhbG9nPWZ1bmN0aW9uKGEsYyxmKXthPW5ldyBMaW5rRGlhbG9nKHRoaXMsYSxjLGYpO3RoaXMuc2hvd0RpYWxvZyhhLmNvbnRhaW5lciw0MjAsOTAsITAsITApO2EuaW5pdCgpfTsKRWRpdG9yVWkucHJvdG90eXBlLnNob3dEYXRhRGlhbG9nPWZ1bmN0aW9uKGEpe251bGwhPWEmJihhPW5ldyBFZGl0RGF0YURpYWxvZyh0aGlzLGEpLHRoaXMuc2hvd0RpYWxvZyhhLmNvbnRhaW5lciw0ODAsNDIwLCEwLCExLG51bGwsITEpLGEuaW5pdCgpKX07CkVkaXRvclVpLnByb3RvdHlwZS5zaG93QmFja2dyb3VuZEltYWdlRGlhbG9nPWZ1bmN0aW9uKGEsYyl7YT1udWxsIT1hP2E6bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7YT1uZXcgQ2hhbmdlUGFnZVNldHVwKHRoaXMsbnVsbCxhKTthLmlnbm9yZUNvbG9yPSEwO3RoaXMuZWRpdG9yLmdyYXBoLm1vZGVsLmV4ZWN1dGUoYSl9KTt2YXIgZj1teFV0aWxzLnByb21wdChteFJlc291cmNlcy5nZXQoImJhY2tncm91bmRJbWFnZSIpLG51bGwhPWM/Yy5zcmM6IiIpO251bGwhPWYmJjA8Zi5sZW5ndGg/KGM9bmV3IEltYWdlLGMub25sb2FkPWZ1bmN0aW9uKCl7YShuZXcgbXhJbWFnZShmLGMud2lkdGgsYy5oZWlnaHQpLCExKX0sYy5vbmVycm9yPWZ1bmN0aW9uKCl7YShudWxsLCEwKTtteFV0aWxzLmFsZXJ0KG14UmVzb3VyY2VzLmdldCgiZmlsZU5vdEZvdW5kIikpfSxjLnNyYz1mKTphKG51bGwpfTsKRWRpdG9yVWkucHJvdG90eXBlLnNldEJhY2tncm91bmRJbWFnZT1mdW5jdGlvbihhKXt0aGlzLmVkaXRvci5ncmFwaC5zZXRCYWNrZ3JvdW5kSW1hZ2UoYSk7dGhpcy5lZGl0b3IuZ3JhcGgudmlldy52YWxpZGF0ZUJhY2tncm91bmRJbWFnZSgpO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJiYWNrZ3JvdW5kSW1hZ2VDaGFuZ2VkIikpfTtFZGl0b3JVaS5wcm90b3R5cGUuY29uZmlybT1mdW5jdGlvbihhLGMsZil7bXhVdGlscy5jb25maXJtKGEpP251bGwhPWMmJmMoKTpudWxsIT1mJiZmKCl9OwpFZGl0b3JVaS5wcm90b3R5cGUuY3JlYXRlT3V0bGluZT1mdW5jdGlvbihhKXt2YXIgYz1uZXcgbXhPdXRsaW5lKHRoaXMuZWRpdG9yLmdyYXBoKTtjLmJvcmRlcj0yMDtteEV2ZW50LmFkZExpc3RlbmVyKHdpbmRvdywicmVzaXplIixmdW5jdGlvbigpe2MudXBkYXRlKCl9KTt0aGlzLmFkZExpc3RlbmVyKCJwYWdlRm9ybWF0Q2hhbmdlZCIsZnVuY3Rpb24oKXtjLnVwZGF0ZSgpfSk7cmV0dXJuIGN9O0VkaXRvclVpLnByb3RvdHlwZS5hbHRTaGlmdEFjdGlvbnM9ezY3OiJjbGVhcldheXBvaW50cyIsNjU6ImNvbm5lY3Rpb25BcnJvd3MiLDc2OiJlZGl0TGluayIsODA6ImNvbm5lY3Rpb25Qb2ludHMiLDg0OiJlZGl0VG9vbHRpcCIsODY6InBhc3RlU2l6ZSIsODg6ImNvcHlTaXplIn07CkVkaXRvclVpLnByb3RvdHlwZS5jcmVhdGVLZXlIYW5kbGVyPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGMoYSxlLGMpe3EucHVzaChmdW5jdGlvbigpe2lmKCFkLmlzU2VsZWN0aW9uRW1wdHkoKSYmZC5pc0VuYWJsZWQoKSlpZihlPW51bGwhPWU/ZToxLGMpe2QuZ2V0TW9kZWwoKS5iZWdpblVwZGF0ZSgpO3RyeXtmb3IodmFyIGI9ZC5nZXRTZWxlY3Rpb25DZWxscygpLGc9MDtnPGIubGVuZ3RoO2crKylpZihkLmdldE1vZGVsKCkuaXNWZXJ0ZXgoYltnXSkmJmQuaXNDZWxsUmVzaXphYmxlKGJbZ10pKXt2YXIgZj1kLmdldENlbGxHZW9tZXRyeShiW2ddKTtudWxsIT1mJiYoZj1mLmNsb25lKCksMzc9PWE/Zi53aWR0aD1NYXRoLm1heCgwLGYud2lkdGgtZSk6Mzg9PWE/Zi5oZWlnaHQ9TWF0aC5tYXgoMCxmLmhlaWdodC1lKTozOT09YT9mLndpZHRoKz1lOjQwPT1hJiYoZi5oZWlnaHQrPWUpLGQuZ2V0TW9kZWwoKS5zZXRHZW9tZXRyeShiW2ddLGYpKX19ZmluYWxseXtkLmdldE1vZGVsKCkuZW5kVXBkYXRlKCl9fWVsc2V7dmFyIHA9CmQuZ2V0U2VsZWN0aW9uQ2VsbCgpLGY9ZC5tb2RlbC5nZXRQYXJlbnQocCksYj1udWxsOzE9PWQuZ2V0U2VsZWN0aW9uQ291bnQoKSYmZC5tb2RlbC5pc1ZlcnRleChwKSYmbnVsbCE9ZC5sYXlvdXRNYW5hZ2VyJiYhZC5pc0NlbGxMb2NrZWQocCkmJihiPWQubGF5b3V0TWFuYWdlci5nZXRMYXlvdXQoZikpO2lmKG51bGwhPWImJmIuY29uc3RydWN0b3I9PW14U3RhY2tMYXlvdXQpYj1mLmdldEluZGV4KHApLDM3PT1hfHwzOD09YT9kLm1vZGVsLmFkZChmLHAsTWF0aC5tYXgoMCxiLTEpKTozOSE9YSYmNDAhPWF8fGQubW9kZWwuYWRkKGYscCxNYXRoLm1pbihkLm1vZGVsLmdldENoaWxkQ291bnQoZiksYisxKSk7ZWxzZXtiPWQuZ2V0TW92YWJsZUNlbGxzKGQuZ2V0U2VsZWN0aW9uQ2VsbHMoKSk7cD1bXTtmb3IoZz0wO2c8Yi5sZW5ndGg7ZysrKWY9ZC5nZXRDdXJyZW50Q2VsbFN0eWxlKGJbZ10pLCIxIj09bXhVdGlscy5nZXRWYWx1ZShmLCJwYXJ0IiwiMCIpPyhmPWQubW9kZWwuZ2V0UGFyZW50KGJbZ10pLApkLm1vZGVsLmlzVmVydGV4KGYpJiYwPm14VXRpbHMuaW5kZXhPZihiLGYpJiZwLnB1c2goZikpOnAucHVzaChiW2ddKTswPHAubGVuZ3RoJiYoYj1mPTAsMzc9PWE/Zj0tZTozOD09YT9iPS1lOjM5PT1hP2Y9ZTo0MD09YSYmKGI9ZSksZC5tb3ZlQ2VsbHMocCxmLGIpKX19fSk7bnVsbCE9YiYmd2luZG93LmNsZWFyVGltZW91dChiKTtiPXdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aWYoMDxxLmxlbmd0aCl7ZC5nZXRNb2RlbCgpLmJlZ2luVXBkYXRlKCk7dHJ5e2Zvcih2YXIgYT0wO2E8cS5sZW5ndGg7YSsrKXFbYV0oKTtxPVtdfWZpbmFsbHl7ZC5nZXRNb2RlbCgpLmVuZFVwZGF0ZSgpfX19LDIwMCl9dmFyIGY9dGhpcyxkPXRoaXMuZWRpdG9yLmdyYXBoLG09bmV3IG14S2V5SGFuZGxlcihkKSxrPW0uaXNFdmVudElnbm9yZWQ7bS5pc0V2ZW50SWdub3JlZD1mdW5jdGlvbihhKXtyZXR1cm4hKG14RXZlbnQuaXNTaGlmdERvd24oYSkmJjk9PWEua2V5Q29kZSkmJighdGhpcy5pc0NvbnRyb2xEb3duKGEpfHwKbXhFdmVudC5pc1NoaWZ0RG93bihhKXx8OTAhPWEua2V5Q29kZSYmODkhPWEua2V5Q29kZSYmMTg4IT1hLmtleUNvZGUmJjE5MCE9YS5rZXlDb2RlJiY4NSE9YS5rZXlDb2RlKSYmKDY2IT1hLmtleUNvZGUmJjczIT1hLmtleUNvZGV8fCF0aGlzLmlzQ29udHJvbERvd24oYSl8fHRoaXMuZ3JhcGguY2VsbEVkaXRvci5pc0NvbnRlbnRFZGl0aW5nKCkmJiFteENsaWVudC5JU19GRiYmIW14Q2xpZW50LklTX1NGKSYmay5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O20uaXNFbmFibGVkRm9yRXZlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIW14RXZlbnQuaXNDb25zdW1lZChhKSYmdGhpcy5pc0dyYXBoRXZlbnQoYSkmJnRoaXMuaXNFbmFibGVkKCkmJihudWxsPT1mLmRpYWxvZ3N8fDA9PWYuZGlhbG9ncy5sZW5ndGgpfTttLmlzQ29udHJvbERvd249ZnVuY3Rpb24oYSl7cmV0dXJuIG14RXZlbnQuaXNDb250cm9sRG93bihhKXx8bXhDbGllbnQuSVNfTUFDJiZhLm1ldGFLZXl9O3ZhciBxPVtdLGI9Cm51bGwsZT17Mzc6bXhDb25zdGFudHMuRElSRUNUSU9OX1dFU1QsMzg6bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRILDM5Om14Q29uc3RhbnRzLkRJUkVDVElPTl9FQVNULDQwOm14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSH0sZz1tLmdldEZ1bmN0aW9uO214S2V5SGFuZGxlci5wcm90b3R5cGUuZ2V0RnVuY3Rpb249ZnVuY3Rpb24oYSl7aWYoZC5pc0VuYWJsZWQoKSl7aWYobXhFdmVudC5pc1NoaWZ0RG93bihhKSYmbXhFdmVudC5pc0FsdERvd24oYSkpe3ZhciBiPWYuYWN0aW9ucy5nZXQoZi5hbHRTaGlmdEFjdGlvbnNbYS5rZXlDb2RlXSk7aWYobnVsbCE9YilyZXR1cm4gYi5mdW5jdH1pZig5PT1hLmtleUNvZGUmJm14RXZlbnQuaXNBbHREb3duKGEpKXJldHVybiBkLmNlbGxFZGl0b3IuaXNDb250ZW50RWRpdGluZygpP2Z1bmN0aW9uKCl7ZG9jdW1lbnQuZXhlY0NvbW1hbmQoIm91dGRlbnQiLCExLG51bGwpfTpteEV2ZW50LmlzU2hpZnREb3duKGEpP2Z1bmN0aW9uKCl7ZC5zZWxlY3RQYXJlbnRDZWxsKCl9OgpmdW5jdGlvbigpe2Quc2VsZWN0Q2hpbGRDZWxsKCl9O2lmKG51bGwhPWVbYS5rZXlDb2RlXSYmIWQuaXNTZWxlY3Rpb25FbXB0eSgpKWlmKCF0aGlzLmlzQ29udHJvbERvd24oYSkmJm14RXZlbnQuaXNTaGlmdERvd24oYSkmJm14RXZlbnQuaXNBbHREb3duKGEpKXtpZihkLm1vZGVsLmlzVmVydGV4KGQuZ2V0U2VsZWN0aW9uQ2VsbCgpKSlyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYj1kLmNvbm5lY3RWZXJ0ZXgoZC5nZXRTZWxlY3Rpb25DZWxsKCksZVthLmtleUNvZGVdLGQuZGVmYXVsdEVkZ2VMZW5ndGgsYSwhMCk7bnVsbCE9YiYmMDxiLmxlbmd0aCYmKDE9PWIubGVuZ3RoJiZkLm1vZGVsLmlzRWRnZShiWzBdKT9kLnNldFNlbGVjdGlvbkNlbGwoZC5tb2RlbC5nZXRUZXJtaW5hbChiWzBdLCExKSk6ZC5zZXRTZWxlY3Rpb25DZWxsKGJbYi5sZW5ndGgtMV0pLGQuc2Nyb2xsQ2VsbFRvVmlzaWJsZShkLmdldFNlbGVjdGlvbkNlbGwoKSksbnVsbCE9Zi5ob3Zlckljb25zJiZmLmhvdmVySWNvbnMudXBkYXRlKGQudmlldy5nZXRTdGF0ZShkLmdldFNlbGVjdGlvbkNlbGwoKSkpKX19ZWxzZSByZXR1cm4gdGhpcy5pc0NvbnRyb2xEb3duKGEpPwpmdW5jdGlvbigpe2MoYS5rZXlDb2RlLG14RXZlbnQuaXNTaGlmdERvd24oYSk/ZC5ncmlkU2l6ZTpudWxsLCEwKX06ZnVuY3Rpb24oKXtjKGEua2V5Q29kZSxteEV2ZW50LmlzU2hpZnREb3duKGEpP2QuZ3JpZFNpemU6bnVsbCl9fXJldHVybiBnLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07bS5iaW5kQWN0aW9uPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYixlLGQpe3ZhciBjPXRoaXMuYWN0aW9ucy5nZXQoZSk7bnVsbCE9YyYmKGU9ZnVuY3Rpb24oKXtjLmlzRW5hYmxlZCgpJiZjLmZ1bmN0KCl9LGI/ZD9tLmJpbmRDb250cm9sU2hpZnRLZXkoYSxlKTptLmJpbmRDb250cm9sS2V5KGEsZSk6ZD9tLmJpbmRTaGlmdEtleShhLGUpOm0uYmluZEtleShhLGUpKX0pO3ZhciBwPXRoaXMsbD1tLmVzY2FwZTttLmVzY2FwZT1mdW5jdGlvbihhKXtsLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07bS5lbnRlcj1mdW5jdGlvbigpe307bS5iaW5kQ29udHJvbFNoaWZ0S2V5KDM2LGZ1bmN0aW9uKCl7ZC5leGl0R3JvdXAoKX0pOwptLmJpbmRDb250cm9sU2hpZnRLZXkoMzUsZnVuY3Rpb24oKXtkLmVudGVyR3JvdXAoKX0pO20uYmluZFNoaWZ0S2V5KDM2LGZ1bmN0aW9uKCl7ZC5ob21lKCl9KTttLmJpbmRLZXkoMzUsZnVuY3Rpb24oKXtkLnJlZnJlc2goKX0pO20uYmluZEFjdGlvbigxMDcsITAsInpvb21JbiIpO20uYmluZEFjdGlvbigxMDksITAsInpvb21PdXQiKTttLmJpbmRBY3Rpb24oODAsITAsInByaW50Iik7bS5iaW5kQWN0aW9uKDc5LCEwLCJvdXRsaW5lIiwhMCk7aWYoIXRoaXMuZWRpdG9yLmNocm9tZWxlc3N8fHRoaXMuZWRpdG9yLmVkaXRhYmxlKW0uYmluZENvbnRyb2xLZXkoMzYsZnVuY3Rpb24oKXtkLmlzRW5hYmxlZCgpJiZkLmZvbGRDZWxscyghMCl9KSxtLmJpbmRDb250cm9sS2V5KDM1LGZ1bmN0aW9uKCl7ZC5pc0VuYWJsZWQoKSYmZC5mb2xkQ2VsbHMoITEpfSksbS5iaW5kQ29udHJvbEtleSgxMyxmdW5jdGlvbigpe3AuY3RybEVudGVyKCl9KSxtLmJpbmRBY3Rpb24oOCwhMSwiZGVsZXRlIiksCm0uYmluZEFjdGlvbig4LCEwLCJkZWxldGVBbGwiKSxtLmJpbmRBY3Rpb24oNDYsITEsImRlbGV0ZSIpLG0uYmluZEFjdGlvbig0NiwhMCwiZGVsZXRlQWxsIiksbS5iaW5kQWN0aW9uKDM2LCExLCJyZXNldFZpZXciKSxtLmJpbmRBY3Rpb24oNzIsITAsImZpdFdpbmRvdyIsITApLG0uYmluZEFjdGlvbig3NCwhMCwiZml0UGFnZSIpLG0uYmluZEFjdGlvbig3NCwhMCwiZml0VHdvUGFnZXMiLCEwKSxtLmJpbmRBY3Rpb24oNDgsITAsImN1c3RvbVpvb20iKSxtLmJpbmRBY3Rpb24oODIsITAsInR1cm4iKSxtLmJpbmRBY3Rpb24oODIsITAsImNsZWFyRGVmYXVsdFN0eWxlIiwhMCksbS5iaW5kQWN0aW9uKDgzLCEwLCJzYXZlIiksbS5iaW5kQWN0aW9uKDgzLCEwLCJzYXZlQXMiLCEwKSxtLmJpbmRBY3Rpb24oNjUsITAsInNlbGVjdEFsbCIpLG0uYmluZEFjdGlvbig2NSwhMCwic2VsZWN0Tm9uZSIsITApLG0uYmluZEFjdGlvbig3MywhMCwic2VsZWN0VmVydGljZXMiLCEwKSxtLmJpbmRBY3Rpb24oNjksCiEwLCJzZWxlY3RFZGdlcyIsITApLG0uYmluZEFjdGlvbig2OSwhMCwiZWRpdFN0eWxlIiksbS5iaW5kQWN0aW9uKDY2LCEwLCJib2xkIiksbS5iaW5kQWN0aW9uKDY2LCEwLCJ0b0JhY2siLCEwKSxtLmJpbmRBY3Rpb24oNzAsITAsInRvRnJvbnQiLCEwKSxtLmJpbmRBY3Rpb24oNjgsITAsImR1cGxpY2F0ZSIpLG0uYmluZEFjdGlvbig2OCwhMCwic2V0QXNEZWZhdWx0U3R5bGUiLCEwKSxtLmJpbmRBY3Rpb24oOTAsITAsInVuZG8iKSxtLmJpbmRBY3Rpb24oODksITAsImF1dG9zaXplIiwhMCksbS5iaW5kQWN0aW9uKDg4LCEwLCJjdXQiKSxtLmJpbmRBY3Rpb24oNjcsITAsImNvcHkiKSxtLmJpbmRBY3Rpb24oODYsITAsInBhc3RlIiksbS5iaW5kQWN0aW9uKDcxLCEwLCJncm91cCIpLG0uYmluZEFjdGlvbig3NywhMCwiZWRpdERhdGEiKSxtLmJpbmRBY3Rpb24oNzEsITAsImdyaWQiLCEwKSxtLmJpbmRBY3Rpb24oNzMsITAsIml0YWxpYyIpLG0uYmluZEFjdGlvbig3NiwhMCwibG9ja1VubG9jayIpLAptLmJpbmRBY3Rpb24oNzYsITAsImxheWVycyIsITApLG0uYmluZEFjdGlvbig4MCwhMCwiZm9ybWF0UGFuZWwiLCEwKSxtLmJpbmRBY3Rpb24oODUsITAsInVuZGVybGluZSIpLG0uYmluZEFjdGlvbig4NSwhMCwidW5ncm91cCIsITApLG0uYmluZEFjdGlvbigxOTAsITAsInN1cGVyc2NyaXB0IiksbS5iaW5kQWN0aW9uKDE4OCwhMCwic3Vic2NyaXB0IiksbS5iaW5kQWN0aW9uKDksITEsImluZGVudCIsITApLG0uYmluZEtleSgxMyxmdW5jdGlvbigpe2QuaXNFbmFibGVkKCkmJmQuc3RhcnRFZGl0aW5nQXRDZWxsKCl9KSxtLmJpbmRLZXkoMTEzLGZ1bmN0aW9uKCl7ZC5pc0VuYWJsZWQoKSYmZC5zdGFydEVkaXRpbmdBdENlbGwoKX0pO214Q2xpZW50LklTX1dJTj9tLmJpbmRBY3Rpb24oODksITAsInJlZG8iKTptLmJpbmRBY3Rpb24oOTAsITAsInJlZG8iLCEwKTtyZXR1cm4gbX07CkVkaXRvclVpLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5lZGl0b3ImJih0aGlzLmVkaXRvci5kZXN0cm95KCksdGhpcy5lZGl0b3I9bnVsbCk7bnVsbCE9dGhpcy5tZW51YmFyJiYodGhpcy5tZW51YmFyLmRlc3Ryb3koKSx0aGlzLm1lbnViYXI9bnVsbCk7bnVsbCE9dGhpcy50b29sYmFyJiYodGhpcy50b29sYmFyLmRlc3Ryb3koKSx0aGlzLnRvb2xiYXI9bnVsbCk7bnVsbCE9dGhpcy5zaWRlYmFyJiYodGhpcy5zaWRlYmFyLmRlc3Ryb3koKSx0aGlzLnNpZGViYXI9bnVsbCk7bnVsbCE9dGhpcy5rZXlIYW5kbGVyJiYodGhpcy5rZXlIYW5kbGVyLmRlc3Ryb3koKSx0aGlzLmtleUhhbmRsZXI9bnVsbCk7bnVsbCE9dGhpcy5rZXlkb3duSGFuZGxlciYmKG14RXZlbnQucmVtb3ZlTGlzdGVuZXIoZG9jdW1lbnQsImtleWRvd24iLHRoaXMua2V5ZG93bkhhbmRsZXIpLHRoaXMua2V5ZG93bkhhbmRsZXI9bnVsbCk7bnVsbCE9dGhpcy5rZXl1cEhhbmRsZXImJgoobXhFdmVudC5yZW1vdmVMaXN0ZW5lcihkb2N1bWVudCwia2V5dXAiLHRoaXMua2V5dXBIYW5kbGVyKSx0aGlzLmtleXVwSGFuZGxlcj1udWxsKTtudWxsIT10aGlzLnJlc2l6ZUhhbmRsZXImJihteEV2ZW50LnJlbW92ZUxpc3RlbmVyKHdpbmRvdywicmVzaXplIix0aGlzLnJlc2l6ZUhhbmRsZXIpLHRoaXMucmVzaXplSGFuZGxlcj1udWxsKTtudWxsIT10aGlzLmdlc3R1cmVIYW5kbGVyJiYobXhFdmVudC5yZW1vdmVHZXN0dXJlTGlzdGVuZXJzKGRvY3VtZW50LHRoaXMuZ2VzdHVyZUhhbmRsZXIpLHRoaXMuZ2VzdHVyZUhhbmRsZXI9bnVsbCk7bnVsbCE9dGhpcy5vcmllbnRhdGlvbkNoYW5nZUhhbmRsZXImJihteEV2ZW50LnJlbW92ZUxpc3RlbmVyKHdpbmRvdywib3JpZW50YXRpb25jaGFuZ2UiLHRoaXMub3JpZW50YXRpb25DaGFuZ2VIYW5kbGVyKSx0aGlzLm9yaWVudGF0aW9uQ2hhbmdlSGFuZGxlcj1udWxsKTtudWxsIT10aGlzLnNjcm9sbEhhbmRsZXImJihteEV2ZW50LnJlbW92ZUxpc3RlbmVyKHdpbmRvdywKInNjcm9sbCIsdGhpcy5zY3JvbGxIYW5kbGVyKSx0aGlzLnNjcm9sbEhhbmRsZXI9bnVsbCk7aWYobnVsbCE9dGhpcy5kZXN0cm95RnVuY3Rpb25zKXtmb3IodmFyIGE9MDthPHRoaXMuZGVzdHJveUZ1bmN0aW9ucy5sZW5ndGg7YSsrKXRoaXMuZGVzdHJveUZ1bmN0aW9uc1thXSgpO3RoaXMuZGVzdHJveUZ1bmN0aW9ucz1udWxsfWZvcih2YXIgYz1bdGhpcy5tZW51YmFyQ29udGFpbmVyLHRoaXMudG9vbGJhckNvbnRhaW5lcix0aGlzLnNpZGViYXJDb250YWluZXIsdGhpcy5mb3JtYXRDb250YWluZXIsdGhpcy5kaWFncmFtQ29udGFpbmVyLHRoaXMuZm9vdGVyQ29udGFpbmVyLHRoaXMuY2hyb21lbGVzc1Rvb2xiYXIsdGhpcy5oc3BsaXQsdGhpcy5zaWRlYmFyRm9vdGVyQ29udGFpbmVyLHRoaXMubGF5ZXJzRGlhbG9nXSxhPTA7YTxjLmxlbmd0aDthKyspbnVsbCE9Y1thXSYmbnVsbCE9Y1thXS5wYXJlbnROb2RlJiZjW2FdLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY1thXSl9OyJ1bmRlZmluZWQiIT09dHlwZW9mIGh0bWw0JiYoaHRtbDQuQVRUUklCU1siYTo6dGFyZ2V0Il09MCxodG1sNC5BVFRSSUJTWyJzb3VyY2U6OnNyYyJdPTAsaHRtbDQuQVRUUklCU1sidmlkZW86OnNyYyJdPTApOyhmdW5jdGlvbigpe3ZhciBhPVtbIm5ic3AiLCIxNjAiXSxbInNoeSIsIjE3MyJdXSxjPW14VXRpbHMucGFyc2VYbWw7bXhVdGlscy5wYXJzZVhtbD1mdW5jdGlvbihmKXtmb3IodmFyIGQ9MDtkPGEubGVuZ3RoO2QrKylmPWYucmVwbGFjZShuZXcgUmVnRXhwKCImIithW2RdWzBdKyI7IiwiZyIpLCImIyIrYVtkXVsxXSsiOyIpO3JldHVybiBjKGYpfX0pKCk7CkRhdGUucHJvdG90eXBlLnRvSVNPU3RyaW5nfHxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7YT1TdHJpbmcoYSk7MT09PWEubGVuZ3RoJiYoYT0iMCIrYSk7cmV0dXJuIGF9RGF0ZS5wcm90b3R5cGUudG9JU09TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRVVENGdWxsWWVhcigpKyItIithKHRoaXMuZ2V0VVRDTW9udGgoKSsxKSsiLSIrYSh0aGlzLmdldFVUQ0RhdGUoKSkrIlQiK2EodGhpcy5nZXRVVENIb3VycygpKSsiOiIrYSh0aGlzLmdldFVUQ01pbnV0ZXMoKSkrIjoiK2EodGhpcy5nZXRVVENTZWNvbmRzKCkpKyIuIitTdHJpbmcoKHRoaXMuZ2V0VVRDTWlsbGlzZWNvbmRzKCkvMUUzKS50b0ZpeGVkKDMpKS5zbGljZSgyLDUpKyJaIn19KCk7RGF0ZS5ub3d8fChEYXRlLm5vdz1mdW5jdGlvbigpe3JldHVybihuZXcgRGF0ZSkuZ2V0VGltZSgpfSk7bXhDb25zdGFudHMuUE9JTlRTPTE7bXhDb25zdGFudHMuTUlMTElNRVRFUlM9MjtteENvbnN0YW50cy5JTkNIRVM9MzsKbXhDb25zdGFudHMuUElYRUxTX1BFUl9NTT0zLjkzNztteENvbnN0YW50cy5QSVhFTFNfUEVSX0lOQ0g9MTAwO214Q29uc3RhbnRzLlNIQURPV19PUEFDSVRZPS4yNTtteENvbnN0YW50cy5TSEFET1dDT0xPUj0iIzAwMDAwMCI7bXhDb25zdGFudHMuVk1MX1NIQURPV0NPTE9SPSIjZDBkMGQwIjtteEdyYXBoLnByb3RvdHlwZS5wYWdlQnJlYWtDb2xvcj0iI2MwYzBjMCI7bXhHcmFwaC5wcm90b3R5cGUucGFnZVNjYWxlPTE7KGZ1bmN0aW9uKCl7dHJ5e2lmKG51bGwhPW5hdmlnYXRvciYmbnVsbCE9bmF2aWdhdG9yLmxhbmd1YWdlKXt2YXIgYT1uYXZpZ2F0b3IubGFuZ3VhZ2UudG9Mb3dlckNhc2UoKTtteEdyYXBoLnByb3RvdHlwZS5wYWdlRm9ybWF0PSJlbi11cyI9PT1hfHwiZW4tY2EiPT09YXx8ImVzLW14Ij09PWE/bXhDb25zdGFudHMuUEFHRV9GT1JNQVRfTEVUVEVSX1BPUlRSQUlUOm14Q29uc3RhbnRzLlBBR0VfRk9STUFUX0E0X1BPUlRSQUlUfX1jYXRjaChjKXt9fSkoKTsKbXhUZXh0LnByb3RvdHlwZS5iYXNlU3BhY2luZ1RvcD01O214VGV4dC5wcm90b3R5cGUuYmFzZVNwYWNpbmdCb3R0b209MTtteEdyYXBoTW9kZWwucHJvdG90eXBlLmlnbm9yZVJlbGF0aXZlRWRnZVBhcmVudD0hMTtteEdyYXBoVmlldy5wcm90b3R5cGUuZ3JpZEltYWdlPW14Q2xpZW50LklTX1NWRz8iZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQ2dBS0FKRUFBQUFBQVAvLy84ek16UC8vL3lINUJBRUFBQU1BTEFBQUFBQUtBQW9BQUFJSjFJNnB5KzBQbzJ3RkFEcz0iOklNQUdFX1BBVEgrIi9ncmlkLmdpZiI7bXhHcmFwaFZpZXcucHJvdG90eXBlLmdyaWRTdGVwcz00O214R3JhcGhWaWV3LnByb3RvdHlwZS5taW5HcmlkU2l6ZT00O214R3JhcGhWaWV3LnByb3RvdHlwZS5kZWZhdWx0R3JpZENvbG9yPSIjZDBkMGQwIjtteEdyYXBoVmlldy5wcm90b3R5cGUuZ3JpZENvbG9yPW14R3JhcGhWaWV3LnByb3RvdHlwZS5kZWZhdWx0R3JpZENvbG9yOwpteEdyYXBoVmlldy5wcm90b3R5cGUudW5pdD1teENvbnN0YW50cy5QT0lOVFM7bXhHcmFwaFZpZXcucHJvdG90eXBlLnNldFVuaXQ9ZnVuY3Rpb24oYSl7dGhpcy51bml0IT1hJiYodGhpcy51bml0PWEsdGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoInVuaXRDaGFuZ2VkIiwidW5pdCIsYSkpKX07bXhTdmdDYW52YXMyRC5wcm90b3R5cGUuZm9BbHRUZXh0PSJbTm90IHN1cHBvcnRlZCBieSB2aWV3ZXJdIjtteFNoYXBlLnByb3RvdHlwZS5nZXRDb25zdHJhaW50cz1mdW5jdGlvbihhLGMsZil7cmV0dXJuIG51bGx9OwpHcmFwaD1mdW5jdGlvbihhLGMsZixkLG0sayl7bXhHcmFwaC5jYWxsKHRoaXMsYSxjLGYsZCk7dGhpcy50aGVtZXM9bXx8dGhpcy5kZWZhdWx0VGhlbWVzO3RoaXMuY3VycmVudEVkZ2VTdHlsZT1teFV0aWxzLmNsb25lKHRoaXMuZGVmYXVsdEVkZ2VTdHlsZSk7dGhpcy5jdXJyZW50VmVydGV4U3R5bGU9bXhVdGlscy5jbG9uZSh0aGlzLmRlZmF1bHRWZXJ0ZXhTdHlsZSk7dGhpcy5zdGFuZGFsb25lPW51bGwhPWs/azohMTthPXRoaXMuYmFzZVVybDtjPWEuaW5kZXhPZigiLy8iKTt0aGlzLmRvbWFpblBhdGhVcmw9dGhpcy5kb21haW5Vcmw9IiI7MDxjJiYoYz1hLmluZGV4T2YoIi8iLGMrMiksMDxjJiYodGhpcy5kb21haW5Vcmw9YS5zdWJzdHJpbmcoMCxjKSksYz1hLmxhc3RJbmRleE9mKCIvIiksMDxjJiYodGhpcy5kb21haW5QYXRoVXJsPWEuc3Vic3RyaW5nKDAsYysxKSkpO3RoaXMuaXNIdG1sTGFiZWw9ZnVuY3Rpb24oYSl7YT10aGlzLmdldEN1cnJlbnRDZWxsU3R5bGUoYSk7CnJldHVybiBudWxsIT1hPyIxIj09YS5odG1sfHwid3JhcCI9PWFbbXhDb25zdGFudHMuU1RZTEVfV0hJVEVfU1BBQ0VdOiExfTtpZih0aGlzLmVkZ2VNb2RlKXt2YXIgcT1udWxsLGI9bnVsbCxlPW51bGwsZz1udWxsLHA9ITE7dGhpcy5hZGRMaXN0ZW5lcihteEV2ZW50LkZJUkVfTU9VU0VfRVZFTlQsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxkKXtpZigibW91c2VEb3duIj09ZC5nZXRQcm9wZXJ0eSgiZXZlbnROYW1lIikmJnRoaXMuaXNFbmFibGVkKCkpe3ZhciBjPWQuZ2V0UHJvcGVydHkoImV2ZW50IiksZj1jLmdldFN0YXRlKCk7aWYoIW14RXZlbnQuaXNBbHREb3duKGMuZ2V0RXZlbnQoKSkmJm51bGwhPWYpaWYodGhpcy5tb2RlbC5pc0VkZ2UoZi5jZWxsKSlpZihxPW5ldyBteFBvaW50KGMuZ2V0R3JhcGhYKCksYy5nZXRHcmFwaFkoKSkscD10aGlzLmlzQ2VsbFNlbGVjdGVkKGYuY2VsbCksZT1mLGI9YyxudWxsIT1mLnRleHQmJm51bGwhPWYudGV4dC5ib3VuZGluZ0JveCYmCm14VXRpbHMuY29udGFpbnMoZi50ZXh0LmJvdW5kaW5nQm94LGMuZ2V0R3JhcGhYKCksYy5nZXRHcmFwaFkoKSkpZz1teEV2ZW50LkxBQkVMX0hBTkRMRTtlbHNle3ZhciBsPXRoaXMuc2VsZWN0aW9uQ2VsbHNIYW5kbGVyLmdldEhhbmRsZXIoZi5jZWxsKTtudWxsIT1sJiZudWxsIT1sLmJlbmRzJiYwPGwuYmVuZHMubGVuZ3RoJiYoZz1sLmdldEhhbmRsZUZvckV2ZW50KGMpKX1lbHNlIGlmKCF0aGlzLnBhbm5pbmdIYW5kbGVyLmlzQWN0aXZlKCkmJihsPXRoaXMuc2VsZWN0aW9uQ2VsbHNIYW5kbGVyLmdldEhhbmRsZXIoZi5jZWxsKSxudWxsPT1sfHxudWxsPT1sLmdldEhhbmRsZUZvckV2ZW50KGMpKSl7dmFyIHU9bmV3IG14UmVjdGFuZ2xlKGMuZ2V0R3JhcGhYKCksYy5nZXRHcmFwaFkoKSk7dS5ncm93KG14RXZlbnQuaXNUb3VjaEV2ZW50KGMuZ2V0RXZlbnQoKSk/bXhTaGFwZS5wcm90b3R5cGUuc3ZnU3Ryb2tlVG9sZXJhbmNlLTE6bXhTaGFwZS5wcm90b3R5cGUuc3ZnU3Ryb2tlVG9sZXJhbmNlLwoyKTtpZih0aGlzLmlzVGFibGVDZWxsKGYuY2VsbCkpe3ZhciBuPXRoaXMubW9kZWwuZ2V0UGFyZW50KGYuY2VsbCksbD10aGlzLm1vZGVsLmdldFBhcmVudChuKTtpZihteFV0aWxzLmludGVyc2VjdHModSxuZXcgbXhSZWN0YW5nbGUoZi54LGYueS0xLGYud2lkdGgsMSkpJiZ0aGlzLm1vZGVsLmdldENoaWxkQXQobCwwKSE9bnx8bXhVdGlscy5pbnRlcnNlY3RzKHUsbmV3IG14UmVjdGFuZ2xlKGYueCxmLnkrZi5oZWlnaHQtMSxmLndpZHRoLDEpKXx8bXhVdGlscy5pbnRlcnNlY3RzKHUsbmV3IG14UmVjdGFuZ2xlKGYueC0xLGYueSwxLGYuaGVpZ2h0KSkmJnRoaXMubW9kZWwuZ2V0Q2hpbGRBdChuLDApIT1mLmNlbGx8fG14VXRpbHMuaW50ZXJzZWN0cyh1LG5ldyBteFJlY3RhbmdsZShmLngrZi53aWR0aC0xLGYueSwxLGYuaGVpZ2h0KSkpaWYobj10aGlzLnNlbGVjdGlvbkNlbGxzSGFuZGxlci5pc0hhbmRsZWQobCksdGhpcy5zZWxlY3RDZWxsRm9yRXZlbnQobCxjLmdldEV2ZW50KCkpLApsPXRoaXMuc2VsZWN0aW9uQ2VsbHNIYW5kbGVyLmdldEhhbmRsZXIobCksbnVsbCE9bCl7dmFyIHk9bC5nZXRIYW5kbGVGb3JFdmVudChjKTtudWxsIT15JiYobC5zdGFydChjLmdldEdyYXBoWCgpLGMuZ2V0R3JhcGhZKCkseSksbC5ibG9ja0RlbGF5ZWRTZWxlY3Rpb249IW4sYy5jb25zdW1lKCkpfX1mb3IoOyFjLmlzQ29uc3VtZWQoKSYmbnVsbCE9ZiYmKHRoaXMuaXNUYWJsZUNlbGwoZi5jZWxsKXx8dGhpcy5pc1RhYmxlUm93KGYuY2VsbCl8fHRoaXMuaXNUYWJsZShmLmNlbGwpKTspdGhpcy5pc1N3aW1sYW5lKGYuY2VsbCkmJihsPXRoaXMuZ2V0QWN0dWFsU3RhcnRTaXplKGYuY2VsbCksbj10aGlzLnZpZXcuc2NhbGUsKDA8bC54fHwwPGwud2lkdGgpJiZteFV0aWxzLmludGVyc2VjdHModSxuZXcgbXhSZWN0YW5nbGUoZi54KyhsLngtbC53aWR0aC0xKSpuKygwPT1sLng/Zi53aWR0aDowKSxmLnksMSxmLmhlaWdodCkpfHwoMDxsLnl8fDA8bC5oZWlnaHQpJiZteFV0aWxzLmludGVyc2VjdHModSwKbmV3IG14UmVjdGFuZ2xlKGYueCxmLnkrKGwueS1sLmhlaWdodC0xKSpuKygwPT1sLnk/Zi5oZWlnaHQ6MCksZi53aWR0aCwxKSkpJiYodGhpcy5zZWxlY3RDZWxsRm9yRXZlbnQoZi5jZWxsLGMuZ2V0RXZlbnQoKSksbD10aGlzLnNlbGVjdGlvbkNlbGxzSGFuZGxlci5nZXRIYW5kbGVyKGYuY2VsbCksbnVsbCE9bCYmKHk9bXhFdmVudC5DVVNUT01fSEFORExFLWwuY3VzdG9tSGFuZGxlcy5sZW5ndGgrMSxsLnN0YXJ0KGMuZ2V0R3JhcGhYKCksYy5nZXRHcmFwaFkoKSx5KSxjLmNvbnN1bWUoKSkpLGY9dGhpcy52aWV3LmdldFN0YXRlKHRoaXMubW9kZWwuZ2V0UGFyZW50KGYuY2VsbCkpfX19KSk7dGhpcy5hZGRNb3VzZUxpc3RlbmVyKHttb3VzZURvd246ZnVuY3Rpb24oYSxiKXt9LG1vdXNlTW92ZTpteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGQpe3ZhciBjPXRoaXMuc2VsZWN0aW9uQ2VsbHNIYW5kbGVyLmhhbmRsZXJzLm1hcCxmO2ZvcihmIGluIGMpaWYobnVsbCE9Y1tmXS5pbmRleClyZXR1cm47CmlmKHRoaXMuaXNFbmFibGVkKCkmJiF0aGlzLnBhbm5pbmdIYW5kbGVyLmlzQWN0aXZlKCkmJiFteEV2ZW50LmlzQWx0RG93bihkLmdldEV2ZW50KCkpKWlmKGY9dGhpcy50b2xlcmFuY2UsbnVsbCE9cSYmbnVsbCE9ZSYmbnVsbCE9Yil7aWYoYz1lLE1hdGguYWJzKHEueC1kLmdldEdyYXBoWCgpKT5mfHxNYXRoLmFicyhxLnktZC5nZXRHcmFwaFkoKSk+Zil7dGhpcy5pc0NlbGxTZWxlY3RlZChjLmNlbGwpfHx0aGlzLnNlbGVjdENlbGxGb3JFdmVudChjLmNlbGwsZC5nZXRFdmVudCgpKTt2YXIgbD10aGlzLnNlbGVjdGlvbkNlbGxzSGFuZGxlci5nZXRIYW5kbGVyKGMuY2VsbCk7aWYobnVsbCE9bCYmbnVsbCE9bC5iZW5kcyYmMDxsLmJlbmRzLmxlbmd0aCl7Zj1sLmdldEhhbmRsZUZvckV2ZW50KGIpO3ZhciB1PXRoaXMudmlldy5nZXRFZGdlU3R5bGUoYyksbj11PT1teEVkZ2VTdHlsZS5FbnRpdHlSZWxhdGlvbjtwfHxnIT1teEV2ZW50LkxBQkVMX0hBTkRMRXx8KGY9Zyk7aWYobiYmCjAhPWYmJmYhPWwuYmVuZHMubGVuZ3RoLTEmJmYhPW14RXZlbnQuTEFCRUxfSEFORExFKSFufHxudWxsPT1jLnZpc2libGVTb3VyY2VTdGF0ZSYmbnVsbD09Yy52aXNpYmxlVGFyZ2V0U3RhdGV8fCh0aGlzLmdyYXBoSGFuZGxlci5yZXNldCgpLGQuY29uc3VtZSgpKTtlbHNlIGlmKGY9PW14RXZlbnQuTEFCRUxfSEFORExFfHwwPT1mfHxudWxsIT1jLnZpc2libGVTb3VyY2VTdGF0ZXx8Zj09bC5iZW5kcy5sZW5ndGgtMXx8bnVsbCE9Yy52aXNpYmxlVGFyZ2V0U3RhdGUpbnx8Zj09bXhFdmVudC5MQUJFTF9IQU5ETEV8fChuPWMuYWJzb2x1dGVQb2ludHMsbnVsbCE9biYmKG51bGw9PXUmJm51bGw9PWZ8fHU9PW14RWRnZVN0eWxlLk9ydGhDb25uZWN0b3IpJiYoZj1nLG51bGw9PWYmJihmPW5ldyBteFJlY3RhbmdsZShxLngscS55KSxmLmdyb3cobXhFZGdlSGFuZGxlci5wcm90b3R5cGUuaGFuZGxlSW1hZ2Uud2lkdGgvMiksbXhVdGlscy5jb250YWlucyhmLG5bMF0ueCxuWzBdLnkpPwpmPTA6bXhVdGlscy5jb250YWlucyhmLG5bbi5sZW5ndGgtMV0ueCxuW24ubGVuZ3RoLTFdLnkpP2Y9bC5iZW5kcy5sZW5ndGgtMTpudWxsIT11JiYoMj09bi5sZW5ndGh8fDM9PW4ubGVuZ3RoJiYoMD09TWF0aC5yb3VuZChuWzBdLngtblsxXS54KSYmMD09TWF0aC5yb3VuZChuWzFdLngtblsyXS54KXx8MD09TWF0aC5yb3VuZChuWzBdLnktblsxXS55KSYmMD09TWF0aC5yb3VuZChuWzFdLnktblsyXS55KSkpP2Y9MjooZj1teFV0aWxzLmZpbmROZWFyZXN0U2VnbWVudChjLHEueCxxLnkpLGY9bnVsbD09dT9teEV2ZW50LlZJUlRVQUxfSEFORExFLWY6ZisxKSkpLG51bGw9PWYmJihmPW14RXZlbnQuVklSVFVBTF9IQU5ETEUpKSxsLnN0YXJ0KGQuZ2V0R3JhcGhYKCksZC5nZXRHcmFwaFgoKSxmKSxnPXE9Yj1lPW51bGwscD0hMSxkLmNvbnN1bWUoKSx0aGlzLmdyYXBoSGFuZGxlci5yZXNldCgpfX19ZWxzZSBpZihjPWQuZ2V0U3RhdGUoKSxudWxsIT1jKXtsPW51bGw7aWYodGhpcy5tb2RlbC5pc0VkZ2UoYy5jZWxsKSl7aWYoZj0KbmV3IG14UmVjdGFuZ2xlKGQuZ2V0R3JhcGhYKCksZC5nZXRHcmFwaFkoKSksZi5ncm93KG14RWRnZUhhbmRsZXIucHJvdG90eXBlLmhhbmRsZUltYWdlLndpZHRoLzIpLG49Yy5hYnNvbHV0ZVBvaW50cyxudWxsIT1uKWlmKG51bGwhPWMudGV4dCYmbnVsbCE9Yy50ZXh0LmJvdW5kaW5nQm94JiZteFV0aWxzLmNvbnRhaW5zKGMudGV4dC5ib3VuZGluZ0JveCxkLmdldEdyYXBoWCgpLGQuZ2V0R3JhcGhZKCkpKWw9Im1vdmUiO2Vsc2UgaWYobXhVdGlscy5jb250YWlucyhmLG5bMF0ueCxuWzBdLnkpfHxteFV0aWxzLmNvbnRhaW5zKGYsbltuLmxlbmd0aC0xXS54LG5bbi5sZW5ndGgtMV0ueSkpbD0icG9pbnRlciI7ZWxzZSBpZihudWxsIT1jLnZpc2libGVTb3VyY2VTdGF0ZXx8bnVsbCE9Yy52aXNpYmxlVGFyZ2V0U3RhdGUpZj10aGlzLnZpZXcuZ2V0RWRnZVN0eWxlKGMpLGw9ImNyb3NzaGFpciIsZiE9bXhFZGdlU3R5bGUuRW50aXR5UmVsYXRpb24mJnRoaXMuaXNPcnRob2dvbmFsKGMpJiYKKGY9bXhVdGlscy5maW5kTmVhcmVzdFNlZ21lbnQoYyxkLmdldEdyYXBoWCgpLGQuZ2V0R3JhcGhZKCkpLGY8bi5sZW5ndGgtMSYmMDw9ZiYmKGw9MD09TWF0aC5yb3VuZChuW2ZdLngtbltmKzFdLngpPyJjb2wtcmVzaXplIjoicm93LXJlc2l6ZSIpKX1lbHNle2Y9bmV3IG14UmVjdGFuZ2xlKGQuZ2V0R3JhcGhYKCksZC5nZXRHcmFwaFkoKSk7Zi5ncm93KG14U2hhcGUucHJvdG90eXBlLnN2Z1N0cm9rZVRvbGVyYW5jZS8yKTtpZih0aGlzLmlzVGFibGVDZWxsKGMuY2VsbCkpaWYobj10aGlzLm1vZGVsLmdldFBhcmVudChjLmNlbGwpLHU9dGhpcy5tb2RlbC5nZXRQYXJlbnQobiksbXhVdGlscy5pbnRlcnNlY3RzKGYsbmV3IG14UmVjdGFuZ2xlKGMueC0xLGMueSwxLGMuaGVpZ2h0KSkmJnRoaXMubW9kZWwuZ2V0Q2hpbGRBdChuLDApIT1jLmNlbGx8fG14VXRpbHMuaW50ZXJzZWN0cyhmLG5ldyBteFJlY3RhbmdsZShjLngrYy53aWR0aC0xLGMueSwxLGMuaGVpZ2h0KSkpbD0iY29sLXJlc2l6ZSI7CmVsc2UgaWYobXhVdGlscy5pbnRlcnNlY3RzKGYsbmV3IG14UmVjdGFuZ2xlKGMueCxjLnktMSxjLndpZHRoLDEpKSYmdGhpcy5tb2RlbC5nZXRDaGlsZEF0KHUsMCkhPW58fG14VXRpbHMuaW50ZXJzZWN0cyhmLG5ldyBteFJlY3RhbmdsZShjLngsYy55K2MuaGVpZ2h0LTEsYy53aWR0aCwxKSkpbD0icm93LXJlc2l6ZSI7Zm9yKG49YztudWxsPT1sJiZudWxsIT1uJiYodGhpcy5pc1RhYmxlQ2VsbChuLmNlbGwpfHx0aGlzLmlzVGFibGVSb3cobi5jZWxsKXx8dGhpcy5pc1RhYmxlKG4uY2VsbCkpOyl7aWYodGhpcy5pc1N3aW1sYW5lKG4uY2VsbCkpe3ZhciB1PXRoaXMuZ2V0QWN0dWFsU3RhcnRTaXplKG4uY2VsbCkseT10aGlzLnZpZXcuc2NhbGU7KDA8dS54fHwwPHUud2lkdGgpJiZteFV0aWxzLmludGVyc2VjdHMoZixuZXcgbXhSZWN0YW5nbGUobi54Kyh1LngtdS53aWR0aC0xKSp5KygwPT11Lng/bi53aWR0aCp5OjApLG4ueSwxLG4uaGVpZ2h0KSk/bD0iY29sLXJlc2l6ZSI6KDA8CnUueXx8MDx1LmhlaWdodCkmJm14VXRpbHMuaW50ZXJzZWN0cyhmLG5ldyBteFJlY3RhbmdsZShuLngsbi55Kyh1LnktdS5oZWlnaHQtMSkqeSsoMD09dS55P24uaGVpZ2h0OjApLG4ud2lkdGgsMSkpJiYobD0icm93LXJlc2l6ZSIpfW49dGhpcy52aWV3LmdldFN0YXRlKHRoaXMubW9kZWwuZ2V0UGFyZW50KG4uY2VsbCkpfX1udWxsIT1sJiZjLnNldEN1cnNvcihsKX19KSxtb3VzZVVwOm14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsZCl7Zz1xPWI9ZT1udWxsfSl9KX10aGlzLmNlbGxSZW5kZXJlci5nZXRMYWJlbFZhbHVlPWZ1bmN0aW9uKGEpe3ZhciBiPW14Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5nZXRMYWJlbFZhbHVlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTthLnZpZXcuZ3JhcGguaXNIdG1sTGFiZWwoYS5jZWxsKSYmKGI9MSE9YS5zdHlsZS5odG1sP214VXRpbHMuaHRtbEVudGl0aWVzKGIsITEpOmEudmlldy5ncmFwaC5zYW5pdGl6ZUh0bWwoYikpO3JldHVybiBifTtpZigidW5kZWZpbmVkIiE9PQp0eXBlb2YgbXhWZXJ0ZXhIYW5kbGVyKXt0aGlzLnNldENvbm5lY3RhYmxlKCEwKTt0aGlzLnNldERyb3BFbmFibGVkKCEwKTt0aGlzLnNldFBhbm5pbmcoITApO3RoaXMuc2V0VG9vbHRpcHMoITApO3RoaXMuc2V0QWxsb3dMb29wcyghMCk7dGhpcy5hbGxvd0F1dG9QYW5uaW5nPSEwO3RoaXMuY29uc3RyYWluQ2hpbGRyZW49dGhpcy5yZXNldEVkZ2VzT25Db25uZWN0PSExO3RoaXMuY29uc3RyYWluUmVsYXRpdmVDaGlsZHJlbj0hMDt0aGlzLmdyYXBoSGFuZGxlci5zY3JvbGxPbk1vdmU9ITE7dGhpcy5ncmFwaEhhbmRsZXIuc2NhbGVHcmlkPSEwO3RoaXMuY29ubmVjdGlvbkhhbmRsZXIuc2V0Q3JlYXRlVGFyZ2V0KCExKTt0aGlzLmNvbm5lY3Rpb25IYW5kbGVyLmluc2VydEJlZm9yZVNvdXJjZT0hMDt0aGlzLmNvbm5lY3Rpb25IYW5kbGVyLmlzVmFsaWRTb3VyY2U9ZnVuY3Rpb24oYSxiKXtyZXR1cm4hMX07dGhpcy5hbHRlcm5hdGVFZGdlU3R5bGU9InZlcnRpY2FsIjtudWxsPT0KZCYmdGhpcy5sb2FkU3R5bGVzaGVldCgpO3ZhciBsPXRoaXMuZ3JhcGhIYW5kbGVyLmdldEd1aWRlU3RhdGVzO3RoaXMuZ3JhcGhIYW5kbGVyLmdldEd1aWRlU3RhdGVzPWZ1bmN0aW9uKCl7dmFyIGE9bC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYodGhpcy5ncmFwaC5wYWdlVmlzaWJsZSl7Zm9yKHZhciBiPVtdLGU9dGhpcy5ncmFwaC5wYWdlRm9ybWF0LGQ9dGhpcy5ncmFwaC5wYWdlU2NhbGUsYz1lLndpZHRoKmQsZT1lLmhlaWdodCpkLGQ9dGhpcy5ncmFwaC52aWV3LnRyYW5zbGF0ZSxmPXRoaXMuZ3JhcGgudmlldy5zY2FsZSxnPXRoaXMuZ3JhcGguZ2V0UGFnZUxheW91dCgpLHA9MDtwPGcud2lkdGg7cCsrKWIucHVzaChuZXcgbXhSZWN0YW5nbGUoKChnLngrcCkqYytkLngpKmYsKGcueSplK2QueSkqZixjKmYsZSpmKSk7Zm9yKHA9MTtwPGcuaGVpZ2h0O3ArKyliLnB1c2gobmV3IG14UmVjdGFuZ2xlKChnLngqYytkLngpKmYsKChnLnkrcCkqZStkLnkpKmYsYypmLGUqZikpOwphPWIuY29uY2F0KGEpfXJldHVybiBhfTtteERyYWdTb3VyY2UucHJvdG90eXBlLmRyYWdFbGVtZW50WkluZGV4PW14UG9wdXBNZW51LnByb3RvdHlwZS56SW5kZXg7bXhHdWlkZS5wcm90b3R5cGUuZ2V0R3VpZGVDb2xvcj1mdW5jdGlvbihhLGIpe3JldHVybiBudWxsPT1hLmNlbGw/IiNmZmE1MDAiOm14Q29uc3RhbnRzLkdVSURFX0NPTE9SfTt0aGlzLmdyYXBoSGFuZGxlci5jcmVhdGVQcmV2aWV3U2hhcGU9ZnVuY3Rpb24oYSl7dGhpcy5wcmV2aWV3Q29sb3I9IiMwMDAwMDAiPT10aGlzLmdyYXBoLmJhY2tncm91bmQ/IiNmZmZmZmYiOm14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5wcmV2aWV3Q29sb3I7cmV0dXJuIG14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVQcmV2aWV3U2hhcGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt2YXIgbj10aGlzLmdyYXBoSGFuZGxlci5nZXRDZWxsczt0aGlzLmdyYXBoSGFuZGxlci5nZXRDZWxscz1mdW5jdGlvbihhKXtmb3IodmFyIGI9bi5hcHBseSh0aGlzLAphcmd1bWVudHMpLGU9bmV3IG14RGljdGlvbmFyeSxkPVtdLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGY9dGhpcy5ncmFwaC5pc1RhYmxlUm93KGEpJiZ0aGlzLmdyYXBoLmlzVGFibGVSb3coYltjXSkmJnRoaXMuZ3JhcGguaXNDZWxsU2VsZWN0ZWQoYltjXSk/YltjXTp0aGlzLmdyYXBoLmdldENvbXBvc2l0ZVBhcmVudChiW2NdKTtudWxsPT1mfHxlLmdldChmKXx8KGUucHV0KGYsITApLGQucHVzaChmKSl9cmV0dXJuIGR9O3ZhciB2PXRoaXMuZ3JhcGhIYW5kbGVyLnN0YXJ0O3RoaXMuZ3JhcGhIYW5kbGVyLnN0YXJ0PWZ1bmN0aW9uKGEsYixlLGQpe3RoaXMuZ3JhcGguaXNUYWJsZUNlbGwoYSkmJihhPXRoaXMuZ3JhcGgubW9kZWwuZ2V0UGFyZW50KGEpKTt0aGlzLmdyYXBoLmlzVGFibGVSb3coYSkmJnRoaXMuZ3JhcGguaXNDZWxsU2VsZWN0ZWQoYSl8fChhPXRoaXMuZ3JhcGguZ2V0Q29tcG9zaXRlUGFyZW50KGEpKTt2LmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dGhpcy5jb25uZWN0aW9uSGFuZGxlci5jcmVhdGVUYXJnZXRWZXJ0ZXg9CmZ1bmN0aW9uKGEsYil7Yj10aGlzLmdyYXBoLmdldENvbXBvc2l0ZVBhcmVudChiKTtyZXR1cm4gbXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuY3JlYXRlVGFyZ2V0VmVydGV4LmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dmFyIHQ9bmV3IG14UnViYmVyYmFuZCh0aGlzKTt0aGlzLmdldFJ1YmJlcmJhbmQ9ZnVuY3Rpb24oKXtyZXR1cm4gdH07dmFyIHg9KG5ldyBEYXRlKS5nZXRUaW1lKCksQT0wLEQ9dGhpcy5jb25uZWN0aW9uSGFuZGxlci5tb3VzZU1vdmU7dGhpcy5jb25uZWN0aW9uSGFuZGxlci5tb3VzZU1vdmU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmN1cnJlbnRTdGF0ZTtELmFwcGx5KHRoaXMsYXJndW1lbnRzKTthIT10aGlzLmN1cnJlbnRTdGF0ZT8oeD0obmV3IERhdGUpLmdldFRpbWUoKSxBPTApOkE9KG5ldyBEYXRlKS5nZXRUaW1lKCkteH07dmFyIEI9dGhpcy5jb25uZWN0aW9uSGFuZGxlci5pc091dGxpbmVDb25uZWN0RXZlbnQ7dGhpcy5jb25uZWN0aW9uSGFuZGxlci5pc091dGxpbmVDb25uZWN0RXZlbnQ9CmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT10aGlzLmN1cnJlbnRTdGF0ZSYmYS5nZXRTdGF0ZSgpPT10aGlzLmN1cnJlbnRTdGF0ZSYmMkUzPEF8fChudWxsPT10aGlzLmN1cnJlbnRTdGF0ZXx8IjAiIT1teFV0aWxzLmdldFZhbHVlKHRoaXMuY3VycmVudFN0YXRlLnN0eWxlLCJvdXRsaW5lQ29ubmVjdCIsIjEiKSkmJkIuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt2YXIgQz10aGlzLmlzVG9nZ2xlRXZlbnQ7dGhpcy5pc1RvZ2dsZUV2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiBDLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8IW14Q2xpZW50LklTX0NIUk9NRU9TJiZteEV2ZW50LmlzU2hpZnREb3duKGEpfTt2YXIgej10LmlzRm9yY2VSdWJiZXJiYW5kRXZlbnQ7dC5pc0ZvcmNlUnViYmVyYmFuZEV2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiB6LmFwcGx5KHRoaXMsYXJndW1lbnRzKSYmIW14RXZlbnQuaXNTaGlmdERvd24oYS5nZXRFdmVudCgpKSYmIW14RXZlbnQuaXNDb250cm9sRG93bihhLmdldEV2ZW50KCkpfHwKbXhDbGllbnQuSVNfQ0hST01FT1MmJm14RXZlbnQuaXNTaGlmdERvd24oYS5nZXRFdmVudCgpKXx8bXhVdGlscy5oYXNTY3JvbGxiYXJzKHRoaXMuZ3JhcGguY29udGFpbmVyKSYmbXhDbGllbnQuSVNfRkYmJm14Q2xpZW50LklTX1dJTiYmbnVsbD09YS5nZXRTdGF0ZSgpJiZteEV2ZW50LmlzVG91Y2hFdmVudChhLmdldEV2ZW50KCkpfTt2YXIgRT1udWxsO3RoaXMucGFubmluZ0hhbmRsZXIuYWRkTGlzdGVuZXIobXhFdmVudC5QQU5fU1RBUlQsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmlzRW5hYmxlZCgpJiYoRT10aGlzLmNvbnRhaW5lci5zdHlsZS5jdXJzb3IsdGhpcy5jb250YWluZXIuc3R5bGUuY3Vyc29yPSJtb3ZlIil9KSk7dGhpcy5wYW5uaW5nSGFuZGxlci5hZGRMaXN0ZW5lcihteEV2ZW50LlBBTl9FTkQsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmlzRW5hYmxlZCgpJiYodGhpcy5jb250YWluZXIuc3R5bGUuY3Vyc29yPUUpfSkpO3RoaXMucG9wdXBNZW51SGFuZGxlci5hdXRvRXhwYW5kPQohMDt0aGlzLnBvcHVwTWVudUhhbmRsZXIuaXNTZWxlY3RPblBvcHVwPWZ1bmN0aW9uKGEpe3JldHVybiBteEV2ZW50LmlzTW91c2VFdmVudChhLmdldEV2ZW50KCkpfTt2YXIgRz10aGlzLmNsaWNrO3RoaXMuY2xpY2s9ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbD09YS5zdGF0ZSYmbnVsbCE9YS5zb3VyY2VTdGF0ZSYmdGhpcy5pc0NlbGxMb2NrZWQoYS5zb3VyY2VTdGF0ZS5jZWxsKTtpZih0aGlzLmlzRW5hYmxlZCgpJiYhYnx8YS5pc0NvbnN1bWVkKCkpcmV0dXJuIEcuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBlPWI/YS5zb3VyY2VTdGF0ZS5jZWxsOmEuZ2V0Q2VsbCgpO251bGwhPWUmJihlPXRoaXMuZ2V0Q2xpY2thYmxlTGlua0ZvckNlbGwoZSksbnVsbCE9ZSYmKHRoaXMuaXNDdXN0b21MaW5rKGUpP3RoaXMuY3VzdG9tTGlua0NsaWNrZWQoZSk6dGhpcy5vcGVuTGluayhlKSkpO3RoaXMuaXNFbmFibGVkKCkmJmImJnRoaXMuY2xlYXJTZWxlY3Rpb24oKX07dGhpcy50b29sdGlwSGFuZGxlci5nZXRTdGF0ZUZvckV2ZW50PQpmdW5jdGlvbihhKXtyZXR1cm4gYS5zb3VyY2VTdGF0ZX07dGhpcy5nZXRDdXJzb3JGb3JNb3VzZUV2ZW50PWZ1bmN0aW9uKGEpe3ZhciBiPW51bGw9PWEuc3RhdGUmJm51bGwhPWEuc291cmNlU3RhdGUmJnRoaXMuaXNDZWxsTG9ja2VkKGEuc291cmNlU3RhdGUuY2VsbCk7cmV0dXJuIHRoaXMuZ2V0Q3Vyc29yRm9yQ2VsbChiP2Euc291cmNlU3RhdGUuY2VsbDphLmdldENlbGwoKSl9O3ZhciBGPXRoaXMuZ2V0Q3Vyc29yRm9yQ2VsbDt0aGlzLmdldEN1cnNvckZvckNlbGw9ZnVuY3Rpb24oYSl7aWYoIXRoaXMuaXNFbmFibGVkKCl8fHRoaXMuaXNDZWxsTG9ja2VkKGEpKXtpZihudWxsIT10aGlzLmdldENsaWNrYWJsZUxpbmtGb3JDZWxsKGEpKXJldHVybiJwb2ludGVyIjtpZih0aGlzLmlzQ2VsbExvY2tlZChhKSlyZXR1cm4iZGVmYXVsdCJ9cmV0dXJuIEYuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt0aGlzLnNlbGVjdFJlZ2lvbj1mdW5jdGlvbihhLGIpe3ZhciBlPXRoaXMuZ2V0QWxsQ2VsbHMoYS54LAphLnksYS53aWR0aCxhLmhlaWdodCk7dGhpcy5zZWxlY3RDZWxsc0ZvckV2ZW50KGUsYik7cmV0dXJuIGV9O3RoaXMuZ2V0QWxsQ2VsbHM9ZnVuY3Rpb24oYSxiLGUsZCxjLGYpe2Y9bnVsbCE9Zj9mOltdO2lmKDA8ZXx8MDxkKXt2YXIgZz10aGlzLmdldE1vZGVsKCksbD1hK2UscD1iK2Q7bnVsbD09YyYmKGM9dGhpcy5nZXRDdXJyZW50Um9vdCgpLG51bGw9PWMmJihjPWcuZ2V0Um9vdCgpKSk7aWYobnVsbCE9Yylmb3IodmFyIHU9Zy5nZXRDaGlsZENvdW50KGMpLG49MDtuPHU7bisrKXt2YXIgeT1nLmdldENoaWxkQXQoYyxuKSx0PXRoaXMudmlldy5nZXRTdGF0ZSh5KTtpZihudWxsIT10JiZ0aGlzLmlzQ2VsbFZpc2libGUoeSkmJiIxIiE9bXhVdGlscy5nZXRWYWx1ZSh0LnN0eWxlLCJsb2NrZWQiLCIwIikpe3ZhciBrPW14VXRpbHMuZ2V0VmFsdWUodC5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9ST1RBVElPTil8fDA7MCE9ayYmKHQ9bXhVdGlscy5nZXRCb3VuZGluZ0JveCh0LGspKTsKKGcuaXNFZGdlKHkpfHxnLmlzVmVydGV4KHkpKSYmdC54Pj1hJiZ0LnkrdC5oZWlnaHQ8PXAmJnQueT49YiYmdC54K3Qud2lkdGg8PWwmJmYucHVzaCh5KTt0aGlzLmdldEFsbENlbGxzKGEsYixlLGQseSxmKX19fXJldHVybiBmfTt2YXIgST10aGlzLmdyYXBoSGFuZGxlci5zaG91bGRSZW1vdmVDZWxsc0Zyb21QYXJlbnQ7dGhpcy5ncmFwaEhhbmRsZXIuc2hvdWxkUmVtb3ZlQ2VsbHNGcm9tUGFyZW50PWZ1bmN0aW9uKGEsYixlKXtyZXR1cm4gdGhpcy5ncmFwaC5pc0NlbGxTZWxlY3RlZChhKT8hMTpJLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dGhpcy5pc0NlbGxMb2NrZWQ9ZnVuY3Rpb24oYSl7Zm9yKGE9dGhpcy52aWV3LmdldFN0YXRlKGEpO251bGwhPWE7KXtpZigiMSI9PW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSwibG9ja2VkIiwiMCIpKXJldHVybiEwO2E9dGhpcy52aWV3LmdldFN0YXRlKHRoaXMubW9kZWwuZ2V0UGFyZW50KGEuY2VsbCkpfXJldHVybiExfTt2YXIgSj1udWxsOwp0aGlzLmFkZExpc3RlbmVyKG14RXZlbnQuRklSRV9NT1VTRV9FVkVOVCxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGIpe2lmKCJtb3VzZURvd24iPT1iLmdldFByb3BlcnR5KCJldmVudE5hbWUiKSl7dmFyIGU9Yi5nZXRQcm9wZXJ0eSgiZXZlbnQiKS5nZXRTdGF0ZSgpO0o9bnVsbD09ZXx8dGhpcy5pc1NlbGVjdGlvbkVtcHR5KCl8fHRoaXMuaXNDZWxsU2VsZWN0ZWQoZS5jZWxsKT9udWxsOnRoaXMuZ2V0U2VsZWN0aW9uQ2VsbHMoKX19KSk7dGhpcy5hZGRMaXN0ZW5lcihteEV2ZW50LlRBUF9BTkRfSE9MRCxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGIpe2lmKCFteEV2ZW50LmlzTXVsdGlUb3VjaEV2ZW50KGIpKXt2YXIgZT1iLmdldFByb3BlcnR5KCJldmVudCIpLGQ9Yi5nZXRQcm9wZXJ0eSgiY2VsbCIpO251bGw9PWQ/KGU9bXhVdGlscy5jb252ZXJ0UG9pbnQodGhpcy5jb250YWluZXIsbXhFdmVudC5nZXRDbGllbnRYKGUpLG14RXZlbnQuZ2V0Q2xpZW50WShlKSksCnQuc3RhcnQoZS54LGUueSkpOm51bGwhPUo/dGhpcy5hZGRTZWxlY3Rpb25DZWxscyhKKToxPHRoaXMuZ2V0U2VsZWN0aW9uQ291bnQoKSYmdGhpcy5pc0NlbGxTZWxlY3RlZChkKSYmdGhpcy5yZW1vdmVTZWxlY3Rpb25DZWxsKGQpO0o9bnVsbDtiLmNvbnN1bWUoKX19KSk7dGhpcy5jb25uZWN0aW9uSGFuZGxlci5zZWxlY3RDZWxscz1mdW5jdGlvbihhLGIpe3RoaXMuZ3JhcGguc2V0U2VsZWN0aW9uQ2VsbChifHxhKX07dGhpcy5jb25uZWN0aW9uSGFuZGxlci5jb25zdHJhaW50SGFuZGxlci5pc1N0YXRlSWdub3JlZD1mdW5jdGlvbihhLGIpe3ZhciBlPWEudmlldy5ncmFwaDtyZXR1cm4gYiYmKGUuaXNDZWxsU2VsZWN0ZWQoYS5jZWxsKXx8ZS5pc1RhYmxlUm93KGEuY2VsbCkmJmUuc2VsZWN0aW9uQ2VsbHNIYW5kbGVyLmlzSGFuZGxlZChlLm1vZGVsLmdldFBhcmVudChhLmNlbGwpKSl9O3RoaXMuc2VsZWN0aW9uTW9kZWwuYWRkTGlzdGVuZXIobXhFdmVudC5DSEFOR0UsbXhVdGlscy5iaW5kKHRoaXMsCmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jb25uZWN0aW9uSGFuZGxlci5jb25zdHJhaW50SGFuZGxlcjtudWxsIT1hLmN1cnJlbnRGb2N1cyYmYS5pc1N0YXRlSWdub3JlZChhLmN1cnJlbnRGb2N1cywhMCkmJihhLmN1cnJlbnRGb2N1cz1udWxsLGEuY29uc3RyYWludHM9bnVsbCxhLmRlc3Ryb3lJY29ucygpKTthLmRlc3Ryb3lGb2N1c0hpZ2hsaWdodCgpfSkpO0dyYXBoLnRvdWNoU3R5bGUmJnRoaXMuaW5pdFRvdWNoKCk7dmFyIHU9dGhpcy51cGRhdGVNb3VzZUV2ZW50O3RoaXMudXBkYXRlTW91c2VFdmVudD1mdW5jdGlvbihhKXthPXUuYXBwbHkodGhpcyxhcmd1bWVudHMpO251bGwhPWEuc3RhdGUmJnRoaXMuaXNDZWxsTG9ja2VkKGEuZ2V0Q2VsbCgpKSYmKGEuc3RhdGU9bnVsbCk7cmV0dXJuIGF9fXRoaXMuY3VycmVudFRyYW5zbGF0ZT1uZXcgbXhQb2ludCgwLDApfTsKR3JhcGgudG91Y2hTdHlsZT1teENsaWVudC5JU19UT1VDSHx8bXhDbGllbnQuSVNfRkYmJm14Q2xpZW50LklTX1dJTnx8MDxuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHN8fDA8bmF2aWdhdG9yLm1zTWF4VG91Y2hQb2ludHN8fG51bGw9PXdpbmRvdy51cmxQYXJhbXN8fCIxIj09dXJsUGFyYW1zLnRvdWNoO0dyYXBoLmZpbGVTdXBwb3J0PW51bGwhPXdpbmRvdy5GaWxlJiZudWxsIT13aW5kb3cuRmlsZVJlYWRlciYmbnVsbCE9d2luZG93LkZpbGVMaXN0JiYobnVsbD09d2luZG93LnVybFBhcmFtc3x8IjAiIT11cmxQYXJhbXMuZmlsZXN1cHBvcnQpO0dyYXBoLmxpbmVKdW1wc0VuYWJsZWQ9ITA7R3JhcGguZGVmYXVsdEp1bXBTaXplPTY7R3JhcGgubWluVGFibGVDb2x1bW5XaWR0aD0yMDtHcmFwaC5taW5UYWJsZVJvd0hlaWdodD0yMDtHcmFwaC5mb3JlaWduT2JqZWN0V2FybmluZ1RleHQ9IlZpZXdlciBkb2VzIG5vdCBzdXBwb3J0IGZ1bGwgU1ZHIDEuMSI7CkdyYXBoLmZvcmVpZ25PYmplY3RXYXJuaW5nTGluaz0iaHR0cHM6Ly9kZXNrLmRyYXcuaW8vc3VwcG9ydC9zb2x1dGlvbnMvYXJ0aWNsZXMvMTYwMDAwNDI0ODciOwpHcmFwaC5jcmVhdGVTdmdJbWFnZT1mdW5jdGlvbihhLGMsZixkLG0pe2Y9dW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KCc8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgd2lkdGg9IicrYSsncHgiIGhlaWdodD0iJytjKydweCIgJysobnVsbCE9ZCYmbnVsbCE9bT8ndmlld0JveD0iMCAwICcrZCsiICIrbSsnIiAnOiIiKSsndmVyc2lvbj0iMS4xIj4nK2YrIjwvc3ZnPiIpKTtyZXR1cm4gbmV3IG14SW1hZ2UoImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsIisod2luZG93LmJ0b2E/YnRvYShmKTpCYXNlNjQuZW5jb2RlKGYsITApKSxhLGMpfTsKR3JhcGguemFwR3JlbWxpbnM9ZnVuY3Rpb24oYSl7Zm9yKHZhciBjPVtdLGY9MDtmPGEubGVuZ3RoO2YrKyl7dmFyIGQ9YS5jaGFyQ29kZUF0KGYpOygzMjw9ZHx8OT09ZHx8MTA9PWR8fDEzPT1kKSYmNjU1MzUhPWQmJjY1NTM0IT1kJiZjLnB1c2goYS5jaGFyQXQoZikpfXJldHVybiBjLmpvaW4oIiIpfTtHcmFwaC5zdHJpbmdUb0J5dGVzPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYz1BcnJheShhLmxlbmd0aCksZj0wO2Y8YS5sZW5ndGg7ZisrKWNbZl09YS5jaGFyQ29kZUF0KGYpO3JldHVybiBjfTtHcmFwaC5ieXRlc1RvU3RyaW5nPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYz1BcnJheShhLmxlbmd0aCksZj0wO2Y8YS5sZW5ndGg7ZisrKWNbZl09U3RyaW5nLmZyb21DaGFyQ29kZShhW2ZdKTtyZXR1cm4gYy5qb2luKCIiKX07R3JhcGguY29tcHJlc3NOb2RlPWZ1bmN0aW9uKGEsYyl7dmFyIGY9bXhVdGlscy5nZXRYbWwoYSk7cmV0dXJuIEdyYXBoLmNvbXByZXNzKGM/ZjpHcmFwaC56YXBHcmVtbGlucyhmKSl9OwpHcmFwaC5jb21wcmVzcz1mdW5jdGlvbihhLGMpe2lmKG51bGw9PWF8fDA9PWEubGVuZ3RofHwidW5kZWZpbmVkIj09PXR5cGVvZiBwYWtvKXJldHVybiBhO3ZhciBmPWM/cGFrby5kZWZsYXRlKGVuY29kZVVSSUNvbXBvbmVudChhKSx7dG86InN0cmluZyJ9KTpwYWtvLmRlZmxhdGVSYXcoZW5jb2RlVVJJQ29tcG9uZW50KGEpLHt0bzoic3RyaW5nIn0pO3JldHVybiB3aW5kb3cuYnRvYT9idG9hKGYpOkJhc2U2NC5lbmNvZGUoZiwhMCl9O0dyYXBoLmRlY29tcHJlc3M9ZnVuY3Rpb24oYSxjLGYpe2lmKG51bGw9PWF8fDA9PWEubGVuZ3RofHwidW5kZWZpbmVkIj09PXR5cGVvZiBwYWtvKXJldHVybiBhO2E9d2luZG93LmF0b2I/YXRvYihhKTpCYXNlNjQuZGVjb2RlKGEsITApO2M9ZGVjb2RlVVJJQ29tcG9uZW50KGM/cGFrby5pbmZsYXRlKGEse3RvOiJzdHJpbmcifSk6cGFrby5pbmZsYXRlUmF3KGEse3RvOiJzdHJpbmcifSkpO3JldHVybiBmP2M6R3JhcGguemFwR3JlbWxpbnMoYyl9OwpHcmFwaC5yZW1vdmVQYXN0ZUZvcm1hdHRpbmc9ZnVuY3Rpb24oYSl7Zm9yKDtudWxsIT1hOyludWxsIT1hLmZpcnN0Q2hpbGQmJkdyYXBoLnJlbW92ZVBhc3RlRm9ybWF0dGluZyhhLmZpcnN0Q2hpbGQpLGEubm9kZVR5cGU9PW14Q29uc3RhbnRzLk5PREVUWVBFX0VMRU1FTlQmJm51bGwhPWEuc3R5bGUmJihhLnN0eWxlLndoaXRlU3BhY2U9IiIsIiMwMDAwMDAiPT1hLnN0eWxlLmNvbG9yJiYoYS5zdHlsZS5jb2xvcj0iIikpLGE9YS5uZXh0U2libGluZ307R3JhcGguc2FuaXRpemVIdG1sPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIGh0bWxfc2FuaXRpemUoYSxmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YSYmImphdmFzY3JpcHQ6IiE9PWEudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpLnN1YnN0cmluZygwLDExKT9hOm51bGx9LGZ1bmN0aW9uKGEpe3JldHVybiBhfSl9O0dyYXBoLmlzTGluaz1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YSYmR3JhcGgubGlua1BhdHRlcm4udGVzdChhKX07CkdyYXBoLmxpbmtQYXR0ZXJuPS9eKGh0dHBzPzpcL1wvKT8oKChbYS16XGRdKFthLXpcZC1dKlthLXpcZF0pKilcLikrW2Etel17Mix9fCgoXGR7MSwzfVwuKXszfVxkezEsM30pKShcOlxkKyk/KFwvWy1hLXpcZCVfLn4rXSopKihcP1s7JmEtelxkJV8ufis9LV0qKT8oXCNbLWEtelxkX10qKT8kL2k7bXhVdGlscy5leHRlbmQoR3JhcGgsbXhHcmFwaCk7R3JhcGgucHJvdG90eXBlLm1pbkZpdFNjYWxlPW51bGw7R3JhcGgucHJvdG90eXBlLm1heEZpdFNjYWxlPW51bGw7R3JhcGgucHJvdG90eXBlLmxpbmtQb2xpY3k9ImZyYW1lIj09dXJsUGFyYW1zLnRhcmdldD8iYmxhbmsiOnVybFBhcmFtcy50YXJnZXR8fCJhdXRvIjtHcmFwaC5wcm90b3R5cGUubGlua1RhcmdldD0iZnJhbWUiPT11cmxQYXJhbXMudGFyZ2V0PyJfc2VsZiI6Il9ibGFuayI7R3JhcGgucHJvdG90eXBlLmxpbmtSZWxhdGlvbj0ibm9mb2xsb3cgbm9vcGVuZXIgbm9yZWZlcnJlciI7CkdyYXBoLnByb3RvdHlwZS5kZWZhdWx0U2Nyb2xsYmFycz0hbXhDbGllbnQuSVNfSU9TO0dyYXBoLnByb3RvdHlwZS5kZWZhdWx0UGFnZVZpc2libGU9ITA7R3JhcGgucHJvdG90eXBlLmxpZ2h0Ym94PSExO0dyYXBoLnByb3RvdHlwZS5kZWZhdWx0UGFnZUJhY2tncm91bmRDb2xvcj0iI2ZmZmZmZiI7R3JhcGgucHJvdG90eXBlLmRlZmF1bHRQYWdlQm9yZGVyQ29sb3I9IiNmZmZmZmYiO0dyYXBoLnByb3RvdHlwZS5zY3JvbGxUaWxlU2l6ZT1uZXcgbXhSZWN0YW5nbGUoMCwwLDQwMCw0MDApO0dyYXBoLnByb3RvdHlwZS50cmFuc3BhcmVudEJhY2tncm91bmQ9ITA7R3JhcGgucHJvdG90eXBlLnNlbGVjdFBhcmVudEFmdGVyRGVsZXRlPSExO0dyYXBoLnByb3RvdHlwZS5kZWZhdWx0RWRnZUxlbmd0aD04MDtHcmFwaC5wcm90b3R5cGUuZWRnZU1vZGU9ITE7R3JhcGgucHJvdG90eXBlLmNvbm5lY3Rpb25BcnJvd3NFbmFibGVkPSEwOwpHcmFwaC5wcm90b3R5cGUucGxhY2Vob2xkZXJQYXR0ZXJuPVJlZ0V4cCgiJShkYXRley4qfXxbXiVee159XSspJSIsImciKTtHcmFwaC5wcm90b3R5cGUuYWJzb2x1dGVVcmxQYXR0ZXJuPS9eKD86W2Etel0rOik/XC9cLy9pO0dyYXBoLnByb3RvdHlwZS5kZWZhdWx0VGhlbWVOYW1lPSJkZWZhdWx0IjtHcmFwaC5wcm90b3R5cGUuZGVmYXVsdFRoZW1lcz17fTtHcmFwaC5wcm90b3R5cGUuYmFzZVVybD1udWxsIT11cmxQYXJhbXMuYmFzZT9kZWNvZGVVUklDb21wb25lbnQodXJsUGFyYW1zLmJhc2UpOih3aW5kb3chPXdpbmRvdy50b3A/ZG9jdW1lbnQucmVmZXJyZXI6ZG9jdW1lbnQubG9jYXRpb24udG9TdHJpbmcoKSkuc3BsaXQoIiMiKVswXTtHcmFwaC5wcm90b3R5cGUuZWRpdEFmdGVySW5zZXJ0PSExO0dyYXBoLnByb3RvdHlwZS5idWlsdEluUHJvcGVydGllcz1bImxhYmVsIiwidG9vbHRpcCIsInBsYWNlaG9sZGVycyIsInBsYWNlaG9sZGVyIl07CkdyYXBoLnByb3RvdHlwZS5zdGFuZGFsb25lPSExOwpHcmFwaC5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihhKXtteEdyYXBoLnByb3RvdHlwZS5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmNlbGxSZW5kZXJlci5pbml0aWFsaXplTGFiZWw9ZnVuY3Rpb24oYSxmKXtteENlbGxSZW5kZXJlci5wcm90b3R5cGUuaW5pdGlhbGl6ZUxhYmVsLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgZD1hLnZpZXcuZ3JhcGgudG9sZXJhbmNlLGM9ITAsaz1udWxsLHE9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7Yz0hMDtrPW5ldyBteFBvaW50KG14RXZlbnQuZ2V0Q2xpZW50WChhKSxteEV2ZW50LmdldENsaWVudFkoYSkpfSksYj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtjPWMmJm51bGwhPWsmJk1hdGguYWJzKGsueC1teEV2ZW50LmdldENsaWVudFgoYSkpPGQmJk1hdGguYWJzKGsueS1teEV2ZW50LmdldENsaWVudFkoYSkpPGR9KSxlPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe2lmKGMpZm9yKHZhciBlPW14RXZlbnQuZ2V0U291cmNlKGIpO251bGwhPQplJiZlIT1mLm5vZGU7KXtpZigiYSI9PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7YS52aWV3LmdyYXBoLmxhYmVsTGlua0NsaWNrZWQoYSxlLGIpO2JyZWFrfWU9ZS5wYXJlbnROb2RlfX0pO214RXZlbnQuYWRkR2VzdHVyZUxpc3RlbmVycyhmLm5vZGUscSxiLGUpO214RXZlbnQuYWRkTGlzdGVuZXIoZi5ub2RlLCJjbGljayIsZnVuY3Rpb24oYSl7bXhFdmVudC5jb25zdW1lKGEpfSl9O3RoaXMuaW5pdExheW91dE1hbmFnZXIoKX07CihmdW5jdGlvbigpe0dyYXBoLnByb3RvdHlwZS51c2VDc3NUcmFuc2Zvcm1zPSExO0dyYXBoLnByb3RvdHlwZS5jdXJyZW50U2NhbGU9MTtHcmFwaC5wcm90b3R5cGUuY3VycmVudFRyYW5zbGF0ZT1uZXcgbXhQb2ludCgwLDApO0dyYXBoLnByb3RvdHlwZS5nZXRTdGFydEVkaXRpbmdDZWxsPWZ1bmN0aW9uKGEsYyl7dmFyIGQ9dGhpcy5nZXRDZWxsU3R5bGUoYSksZD1wYXJzZUludChteFV0aWxzLmdldFZhbHVlKGQsbXhDb25zdGFudHMuU1RZTEVfU1RBUlRTSVpFLDApKTt0aGlzLmlzVGFibGUoYSkmJighdGhpcy5pc1N3aW1sYW5lKGEpfHwwPT1kKSYmIiI9PXRoaXMuZ2V0TGFiZWwoYSkmJjA8dGhpcy5tb2RlbC5nZXRDaGlsZENvdW50KGEpJiYoYT10aGlzLm1vZGVsLmdldENoaWxkQXQoYSwwKSxkPXRoaXMuZ2V0Q2VsbFN0eWxlKGEpLGQ9cGFyc2VJbnQobXhVdGlscy5nZXRWYWx1ZShkLG14Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRSwwKSkpO2lmKHRoaXMuaXNUYWJsZVJvdyhhKSYmCighdGhpcy5pc1N3aW1sYW5lKGEpfHwwPT1kKSYmIiI9PXRoaXMuZ2V0TGFiZWwoYSkmJjA8dGhpcy5tb2RlbC5nZXRDaGlsZENvdW50KGEpKWZvcihkPTA7ZDx0aGlzLm1vZGVsLmdldENoaWxkQ291bnQoYSk7ZCsrKXt2YXIgZj10aGlzLm1vZGVsLmdldENoaWxkQXQoYSxkKTtpZih0aGlzLmlzQ2VsbEVkaXRhYmxlKGYpKXthPWY7YnJlYWt9fXJldHVybiBhfTtHcmFwaC5wcm90b3R5cGUuaXNGYXN0Wm9vbUVuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4ibm9jc3MiIT11cmxQYXJhbXMuem9vbSYmIW14Q2xpZW50Lk5PX0ZPJiYhbXhDbGllbnQuSVNfRURHRSYmIXRoaXMudXNlQ3NzVHJhbnNmb3JtcyYmdGhpcy5pc0Nzc1RyYW5zZm9ybXNTdXBwb3J0ZWQoKX07R3JhcGgucHJvdG90eXBlLmlzQ3NzVHJhbnNmb3Jtc1N1cHBvcnRlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRpYWxlY3Q9PW14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHJiYhbXhDbGllbnQuTk9fRk8mJighdGhpcy5saWdodGJveHx8CiFteENsaWVudC5JU19TRil9O0dyYXBoLnByb3RvdHlwZS5nZXRDZWxsQXQ9ZnVuY3Rpb24oYSxjLGYscSxiLGUpe3RoaXMudXNlQ3NzVHJhbnNmb3JtcyYmKGE9YS90aGlzLmN1cnJlbnRTY2FsZS10aGlzLmN1cnJlbnRUcmFuc2xhdGUueCxjPWMvdGhpcy5jdXJyZW50U2NhbGUtdGhpcy5jdXJyZW50VHJhbnNsYXRlLnkpO3JldHVybiB0aGlzLmdldFNjYWxlZENlbGxBdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O0dyYXBoLnByb3RvdHlwZS5nZXRTY2FsZWRDZWxsQXQ9ZnVuY3Rpb24oYSxjLGYscSxiLGUpe3E9bnVsbCE9cT9xOiEwO2I9bnVsbCE9Yj9iOiEwO251bGw9PWYmJihmPXRoaXMuZ2V0Q3VycmVudFJvb3QoKSxudWxsPT1mJiYoZj10aGlzLmdldE1vZGVsKCkuZ2V0Um9vdCgpKSk7aWYobnVsbCE9Zilmb3IodmFyIGQ9dGhpcy5tb2RlbC5nZXRDaGlsZENvdW50KGYpLTE7MDw9ZDtkLS0pe3ZhciBwPXRoaXMubW9kZWwuZ2V0Q2hpbGRBdChmLGQpLGw9dGhpcy5nZXRTY2FsZWRDZWxsQXQoYSwKYyxwLHEsYixlKTtpZihudWxsIT1sKXJldHVybiBsO2lmKHRoaXMuaXNDZWxsVmlzaWJsZShwKSYmKGImJnRoaXMubW9kZWwuaXNFZGdlKHApfHxxJiZ0aGlzLm1vZGVsLmlzVmVydGV4KHApKSYmKGw9dGhpcy52aWV3LmdldFN0YXRlKHApLG51bGwhPWwmJihudWxsPT1lfHwhZShsLGEsYykpJiZ0aGlzLmludGVyc2VjdHMobCxhLGMpKSlyZXR1cm4gcH1yZXR1cm4gbnVsbH07R3JhcGgucHJvdG90eXBlLmlzUmVjdXJzaXZlVmVydGV4UmVzaXplPWZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmlzU3dpbWxhbmUoYS5jZWxsKSYmMDx0aGlzLm1vZGVsLmdldENoaWxkQ291bnQoYS5jZWxsKSYmIXRoaXMuaXNDZWxsQ29sbGFwc2VkKGEuY2VsbCkmJiIxIj09bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLCJyZWN1cnNpdmVSZXNpemUiLCIxIikmJm51bGw9PW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSwiY2hpbGRMYXlvdXQiLG51bGwpfTtHcmFwaC5wcm90b3R5cGUuaXNQYXJ0PWZ1bmN0aW9uKGEpe3JldHVybiIxIj09Cm14VXRpbHMuZ2V0VmFsdWUodGhpcy5nZXRDdXJyZW50Q2VsbFN0eWxlKGEpLCJwYXJ0IiwiMCIpfHx0aGlzLmlzVGFibGVDZWxsKGEpfHx0aGlzLmlzVGFibGVSb3coYSl9O0dyYXBoLnByb3RvdHlwZS5nZXRDb21wb3NpdGVQYXJlbnQ9ZnVuY3Rpb24oYSl7Zm9yKDt0aGlzLmlzUGFydChhKTspe3ZhciBjPXRoaXMubW9kZWwuZ2V0UGFyZW50KGEpO2lmKCF0aGlzLm1vZGVsLmlzVmVydGV4KGMpKWJyZWFrO2E9Y31yZXR1cm4gYX07bXhDZWxsSGlnaGxpZ2h0LnByb3RvdHlwZS5nZXRTdHJva2VXaWR0aD1mdW5jdGlvbihhKXthPXRoaXMuc3Ryb2tlV2lkdGg7dGhpcy5ncmFwaC51c2VDc3NUcmFuc2Zvcm1zJiYoYS89dGhpcy5ncmFwaC5jdXJyZW50U2NhbGUpO3JldHVybiBhfTtteEdyYXBoVmlldy5wcm90b3R5cGUuZ2V0R3JhcGhCb3VuZHM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdyYXBoQm91bmRzO2lmKHRoaXMuZ3JhcGgudXNlQ3NzVHJhbnNmb3Jtcyl2YXIgYz10aGlzLmdyYXBoLmN1cnJlbnRUcmFuc2xhdGUsCmY9dGhpcy5ncmFwaC5jdXJyZW50U2NhbGUsYT1uZXcgbXhSZWN0YW5nbGUoKGEueCtjLngpKmYsKGEueStjLnkpKmYsYS53aWR0aCpmLGEuaGVpZ2h0KmYpO3JldHVybiBhfTtteEdyYXBoVmlldy5wcm90b3R5cGUudmlld1N0YXRlQ2hhbmdlZD1mdW5jdGlvbigpe3RoaXMuZ3JhcGgudXNlQ3NzVHJhbnNmb3Jtcz90aGlzLnZhbGlkYXRlKCk6dGhpcy5yZXZhbGlkYXRlKCk7dGhpcy5ncmFwaC5zaXplRGlkQ2hhbmdlKCl9O3ZhciBhPW14R3JhcGhWaWV3LnByb3RvdHlwZS52YWxpZGF0ZTtteEdyYXBoVmlldy5wcm90b3R5cGUudmFsaWRhdGU9ZnVuY3Rpb24oYyl7dGhpcy5ncmFwaC51c2VDc3NUcmFuc2Zvcm1zJiYodGhpcy5ncmFwaC5jdXJyZW50U2NhbGU9dGhpcy5zY2FsZSx0aGlzLmdyYXBoLmN1cnJlbnRUcmFuc2xhdGUueD10aGlzLnRyYW5zbGF0ZS54LHRoaXMuZ3JhcGguY3VycmVudFRyYW5zbGF0ZS55PXRoaXMudHJhbnNsYXRlLnksdGhpcy5zY2FsZT0xLHRoaXMudHJhbnNsYXRlLng9CjAsdGhpcy50cmFuc2xhdGUueT0wKTthLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmdyYXBoLnVzZUNzc1RyYW5zZm9ybXMmJih0aGlzLmdyYXBoLnVwZGF0ZUNzc1RyYW5zZm9ybSgpLHRoaXMuc2NhbGU9dGhpcy5ncmFwaC5jdXJyZW50U2NhbGUsdGhpcy50cmFuc2xhdGUueD10aGlzLmdyYXBoLmN1cnJlbnRUcmFuc2xhdGUueCx0aGlzLnRyYW5zbGF0ZS55PXRoaXMuZ3JhcGguY3VycmVudFRyYW5zbGF0ZS55KX07R3JhcGgucHJvdG90eXBlLnVwZGF0ZUNzc1RyYW5zZm9ybT1mdW5jdGlvbigpe3ZhciBhPXRoaXMudmlldy5nZXREcmF3UGFuZSgpO2lmKG51bGwhPWEpaWYoYT1hLnBhcmVudE5vZGUsdGhpcy51c2VDc3NUcmFuc2Zvcm1zKXt2YXIgYz1hLmdldEF0dHJpYnV0ZSgidHJhbnNmb3JtIik7YS5zZXRBdHRyaWJ1dGUoInRyYW5zZm9ybU9yaWdpbiIsIjAgMCIpO3ZhciBmPU1hdGgucm91bmQoMTAwKnRoaXMuY3VycmVudFNjYWxlKS8xMDA7YS5zZXRBdHRyaWJ1dGUoInRyYW5zZm9ybSIsCiJzY2FsZSgiK2YrIiwiK2YrIil0cmFuc2xhdGUoIitNYXRoLnJvdW5kKDEwMCp0aGlzLmN1cnJlbnRUcmFuc2xhdGUueCkvMTAwKyIsIitNYXRoLnJvdW5kKDEwMCp0aGlzLmN1cnJlbnRUcmFuc2xhdGUueSkvMTAwKyIpIik7aWYoYyE9YS5nZXRBdHRyaWJ1dGUoInRyYW5zZm9ybSIpKXRyeXtpZihteENsaWVudC5JU19FREdFKXt2YXIgcT1hLnN0eWxlLmRpc3BsYXk7YS5zdHlsZS5kaXNwbGF5PSJub25lIjthLmdldEJCb3goKTthLnN0eWxlLmRpc3BsYXk9cX19Y2F0Y2goYil7fX1lbHNlIGEucmVtb3ZlQXR0cmlidXRlKCJ0cmFuc2Zvcm1PcmlnaW4iKSxhLnJlbW92ZUF0dHJpYnV0ZSgidHJhbnNmb3JtIil9O3ZhciBjPW14R3JhcGhWaWV3LnByb3RvdHlwZS52YWxpZGF0ZUJhY2tncm91bmRQYWdlO214R3JhcGhWaWV3LnByb3RvdHlwZS52YWxpZGF0ZUJhY2tncm91bmRQYWdlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5ncmFwaC51c2VDc3NUcmFuc2Zvcm1zLGY9dGhpcy5zY2FsZSwKaz10aGlzLnRyYW5zbGF0ZTthJiYodGhpcy5zY2FsZT10aGlzLmdyYXBoLmN1cnJlbnRTY2FsZSx0aGlzLnRyYW5zbGF0ZT10aGlzLmdyYXBoLmN1cnJlbnRUcmFuc2xhdGUpO2MuYXBwbHkodGhpcyxhcmd1bWVudHMpO2EmJih0aGlzLnNjYWxlPWYsdGhpcy50cmFuc2xhdGU9ayl9O3ZhciBmPW14R3JhcGgucHJvdG90eXBlLnVwZGF0ZVBhZ2VCcmVha3M7bXhHcmFwaC5wcm90b3R5cGUudXBkYXRlUGFnZUJyZWFrcz1mdW5jdGlvbihhLGMsayl7dmFyIGQ9dGhpcy51c2VDc3NUcmFuc2Zvcm1zLGI9dGhpcy52aWV3LnNjYWxlLGU9dGhpcy52aWV3LnRyYW5zbGF0ZTtkJiYodGhpcy52aWV3LnNjYWxlPTEsdGhpcy52aWV3LnRyYW5zbGF0ZT1uZXcgbXhQb2ludCgwLDApLHRoaXMudXNlQ3NzVHJhbnNmb3Jtcz0hMSk7Zi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZCYmKHRoaXMudmlldy5zY2FsZT1iLHRoaXMudmlldy50cmFuc2xhdGU9ZSx0aGlzLnVzZUNzc1RyYW5zZm9ybXM9ITApfX0pKCk7CkdyYXBoLnByb3RvdHlwZS5pc0xpZ2h0Ym94Vmlldz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxpZ2h0Ym94fTtHcmFwaC5wcm90b3R5cGUuaXNWaWV3ZXI9ZnVuY3Rpb24oKXtyZXR1cm4hMX07R3JhcGgucHJvdG90eXBlLmxhYmVsTGlua0NsaWNrZWQ9ZnVuY3Rpb24oYSxjLGYpe2M9Yy5nZXRBdHRyaWJ1dGUoImhyZWYiKTtpZihudWxsIT1jJiYhdGhpcy5pc0N1c3RvbUxpbmsoYykmJihteEV2ZW50LmlzTGVmdE1vdXNlQnV0dG9uKGYpJiYhbXhFdmVudC5pc1BvcHVwVHJpZ2dlcihmKXx8bXhFdmVudC5pc1RvdWNoRXZlbnQoZikpKXtpZighdGhpcy5pc0VuYWJsZWQoKXx8dGhpcy5pc0NlbGxMb2NrZWQoYS5jZWxsKSlhPXRoaXMuaXNCbGFua0xpbmsoYyk/dGhpcy5saW5rVGFyZ2V0OiJfdG9wIix0aGlzLm9wZW5MaW5rKHRoaXMuZ2V0QWJzb2x1dGVVcmwoYyksYSk7bXhFdmVudC5jb25zdW1lKGYpfX07CkdyYXBoLnByb3RvdHlwZS5vcGVuTGluaz1mdW5jdGlvbihhLGMsZil7dmFyIGQ9d2luZG93O3RyeXtpZigiX3NlbGYiPT1jJiZ3aW5kb3chPXdpbmRvdy50b3Apd2luZG93LmxvY2F0aW9uLmhyZWY9YTtlbHNlIGlmKGEuc3Vic3RyaW5nKDAsdGhpcy5iYXNlVXJsLmxlbmd0aCk9PXRoaXMuYmFzZVVybCYmIiMiPT1hLmNoYXJBdCh0aGlzLmJhc2VVcmwubGVuZ3RoKSYmIl90b3AiPT1jJiZ3aW5kb3c9PXdpbmRvdy50b3Ape3ZhciBtPWEuc3BsaXQoIiMiKVsxXTt3aW5kb3cubG9jYXRpb24uaGFzaD09IiMiK20mJih3aW5kb3cubG9jYXRpb24uaGFzaD0iIik7d2luZG93LmxvY2F0aW9uLmhhc2g9bX1lbHNlIGQ9d2luZG93Lm9wZW4oYSxudWxsIT1jP2M6Il9ibGFuayIpLG51bGw9PWR8fGZ8fChkLm9wZW5lcj1udWxsKX1jYXRjaChrKXt9cmV0dXJuIGR9OwpHcmFwaC5wcm90b3R5cGUuZ2V0TGlua1RpdGxlPWZ1bmN0aW9uKGEpe3JldHVybiBhLnN1YnN0cmluZyhhLmxhc3RJbmRleE9mKCIvIikrMSl9O0dyYXBoLnByb3RvdHlwZS5pc0N1c3RvbUxpbms9ZnVuY3Rpb24oYSl7cmV0dXJuImRhdGE6Ij09YS5zdWJzdHJpbmcoMCw1KX07R3JhcGgucHJvdG90eXBlLmN1c3RvbUxpbmtDbGlja2VkPWZ1bmN0aW9uKGEpe3JldHVybiExfTtHcmFwaC5wcm90b3R5cGUuaXNFeHRlcm5hbFByb3RvY29sPWZ1bmN0aW9uKGEpe3JldHVybiJtYWlsdG86Ij09PWEuc3Vic3RyaW5nKDAsNyl9O0dyYXBoLnByb3RvdHlwZS5pc0JsYW5rTGluaz1mdW5jdGlvbihhKXtyZXR1cm4hdGhpcy5pc0V4dGVybmFsUHJvdG9jb2woYSkmJigiYmxhbmsiPT09dGhpcy5saW5rUG9saWN5fHwic2VsZiIhPT10aGlzLmxpbmtQb2xpY3kmJiF0aGlzLmlzUmVsYXRpdmVVcmwoYSkmJmEuc3Vic3RyaW5nKDAsdGhpcy5kb21haW5VcmwubGVuZ3RoKSE9PXRoaXMuZG9tYWluVXJsKX07CkdyYXBoLnByb3RvdHlwZS5pc1JlbGF0aXZlVXJsPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiYhdGhpcy5hYnNvbHV0ZVVybFBhdHRlcm4udGVzdChhKSYmImRhdGE6IiE9PWEuc3Vic3RyaW5nKDAsNSkmJiF0aGlzLmlzRXh0ZXJuYWxQcm90b2NvbChhKX07R3JhcGgucHJvdG90eXBlLmdldEFic29sdXRlVXJsPWZ1bmN0aW9uKGEpe251bGwhPWEmJnRoaXMuaXNSZWxhdGl2ZVVybChhKSYmKGE9IiMiPT1hLmNoYXJBdCgwKT90aGlzLmJhc2VVcmwrYToiLyI9PWEuY2hhckF0KDApP3RoaXMuZG9tYWluVXJsK2E6dGhpcy5kb21haW5QYXRoVXJsK2EpO3JldHVybiBhfTsKR3JhcGgucHJvdG90eXBlLmluaXRMYXlvdXRNYW5hZ2VyPWZ1bmN0aW9uKCl7dGhpcy5sYXlvdXRNYW5hZ2VyPW5ldyBteExheW91dE1hbmFnZXIodGhpcyk7dGhpcy5sYXlvdXRNYW5hZ2VyLmhhc0xheW91dD1mdW5jdGlvbihhLGMpe3JldHVybiBudWxsIT10aGlzLmdyYXBoLmdldENlbGxTdHlsZShhKS5jaGlsZExheW91dH07dGhpcy5sYXlvdXRNYW5hZ2VyLmdldExheW91dD1mdW5jdGlvbihhLGMpe3ZhciBmPXRoaXMuZ3JhcGgubW9kZWwuZ2V0UGFyZW50KGEpO2lmKGMhPW14RXZlbnQuQkVHSU5fVVBEQVRFfHx0aGlzLmhhc0xheW91dChmLGMpKXtmPXRoaXMuZ3JhcGguZ2V0Q2VsbFN0eWxlKGEpO2lmKCJzdGFja0xheW91dCI9PWYuY2hpbGRMYXlvdXQpe3ZhciBkPW5ldyBteFN0YWNrTGF5b3V0KHRoaXMuZ3JhcGgsITApO2QucmVzaXplUGFyZW50TWF4PSIxIj09bXhVdGlscy5nZXRWYWx1ZShmLCJyZXNpemVQYXJlbnRNYXgiLCIxIik7ZC5ob3Jpem9udGFsPSIxIj09bXhVdGlscy5nZXRWYWx1ZShmLAoiaG9yaXpvbnRhbFN0YWNrIiwiMSIpO2QucmVzaXplUGFyZW50PSIxIj09bXhVdGlscy5nZXRWYWx1ZShmLCJyZXNpemVQYXJlbnQiLCIxIik7ZC5yZXNpemVMYXN0PSIxIj09bXhVdGlscy5nZXRWYWx1ZShmLCJyZXNpemVMYXN0IiwiMCIpO2Quc3BhY2luZz1mLnN0YWNrU3BhY2luZ3x8ZC5zcGFjaW5nO2QuYm9yZGVyPWYuc3RhY2tCb3JkZXJ8fGQuYm9yZGVyO2QubWFyZ2luTGVmdD1mLm1hcmdpbkxlZnR8fDA7ZC5tYXJnaW5SaWdodD1mLm1hcmdpblJpZ2h0fHwwO2QubWFyZ2luVG9wPWYubWFyZ2luVG9wfHwwO2QubWFyZ2luQm90dG9tPWYubWFyZ2luQm90dG9tfHwwO2QuZmlsbD0hMDtyZXR1cm4gZH1pZigidHJlZUxheW91dCI9PWYuY2hpbGRMYXlvdXQpcmV0dXJuIGQ9bmV3IG14Q29tcGFjdFRyZWVMYXlvdXQodGhpcy5ncmFwaCksZC5ob3Jpem9udGFsPSIxIj09bXhVdGlscy5nZXRWYWx1ZShmLCJob3Jpem9udGFsVHJlZSIsIjEiKSxkLnJlc2l6ZVBhcmVudD0iMSI9PW14VXRpbHMuZ2V0VmFsdWUoZiwKInJlc2l6ZVBhcmVudCIsIjEiKSxkLmdyb3VwUGFkZGluZz1teFV0aWxzLmdldFZhbHVlKGYsInBhcmVudFBhZGRpbmciLDIwKSxkLmxldmVsRGlzdGFuY2U9bXhVdGlscy5nZXRWYWx1ZShmLCJ0cmVlTGV2ZWxEaXN0YW5jZSIsMzApLGQubWFpbnRhaW5QYXJlbnRMb2NhdGlvbj0hMCxkLmVkZ2VSb3V0aW5nPSExLGQucmVzZXRFZGdlcz0hMSxkO2lmKCJmbG93TGF5b3V0Ij09Zi5jaGlsZExheW91dClyZXR1cm4gZD1uZXcgbXhIaWVyYXJjaGljYWxMYXlvdXQodGhpcy5ncmFwaCxteFV0aWxzLmdldFZhbHVlKGYsImZsb3dPcmllbnRhdGlvbiIsbXhDb25zdGFudHMuRElSRUNUSU9OX0VBU1QpKSxkLnJlc2l6ZVBhcmVudD0iMSI9PW14VXRpbHMuZ2V0VmFsdWUoZiwicmVzaXplUGFyZW50IiwiMSIpLGQucGFyZW50Qm9yZGVyPW14VXRpbHMuZ2V0VmFsdWUoZiwicGFyZW50UGFkZGluZyIsMjApLGQubWFpbnRhaW5QYXJlbnRMb2NhdGlvbj0hMCxkLmludHJhQ2VsbFNwYWNpbmc9bXhVdGlscy5nZXRWYWx1ZShmLAoiaW50cmFDZWxsU3BhY2luZyIsbXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLmludHJhQ2VsbFNwYWNpbmcpLGQuaW50ZXJSYW5rQ2VsbFNwYWNpbmc9bXhVdGlscy5nZXRWYWx1ZShmLCJpbnRlclJhbmtDZWxsU3BhY2luZyIsbXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLmludGVyUmFua0NlbGxTcGFjaW5nKSxkLmludGVySGllcmFyY2h5U3BhY2luZz1teFV0aWxzLmdldFZhbHVlKGYsImludGVySGllcmFyY2h5U3BhY2luZyIsbXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLmludGVySGllcmFyY2h5U3BhY2luZyksZC5wYXJhbGxlbEVkZ2VTcGFjaW5nPW14VXRpbHMuZ2V0VmFsdWUoZiwicGFyYWxsZWxFZGdlU3BhY2luZyIsbXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLnBhcmFsbGVsRWRnZVNwYWNpbmcpLGQ7aWYoImNpcmNsZUxheW91dCI9PWYuY2hpbGRMYXlvdXQpcmV0dXJuIG5ldyBteENpcmNsZUxheW91dCh0aGlzLmdyYXBoKTtpZigib3JnYW5pY0xheW91dCI9PQpmLmNoaWxkTGF5b3V0KXJldHVybiBuZXcgbXhGYXN0T3JnYW5pY0xheW91dCh0aGlzLmdyYXBoKTtpZigidGFibGVMYXlvdXQiPT1mLmNoaWxkTGF5b3V0KXJldHVybiBuZXcgVGFibGVMYXlvdXQodGhpcy5ncmFwaCl9cmV0dXJuIG51bGx9fTtHcmFwaC5wcm90b3R5cGUuZ2V0UGFnZVNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYWdlVmlzaWJsZT9uZXcgbXhSZWN0YW5nbGUoMCwwLHRoaXMucGFnZUZvcm1hdC53aWR0aCp0aGlzLnBhZ2VTY2FsZSx0aGlzLnBhZ2VGb3JtYXQuaGVpZ2h0KnRoaXMucGFnZVNjYWxlKTp0aGlzLnNjcm9sbFRpbGVTaXplfTsKR3JhcGgucHJvdG90eXBlLmdldFBhZ2VMYXlvdXQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFBhZ2VTaXplKCksYz10aGlzLmdldEdyYXBoQm91bmRzKCk7aWYoMD09Yy53aWR0aHx8MD09Yy5oZWlnaHQpcmV0dXJuIG5ldyBteFJlY3RhbmdsZSgwLDAsMSwxKTt2YXIgZj1NYXRoLmZsb29yKE1hdGguY2VpbChjLngvdGhpcy52aWV3LnNjYWxlLXRoaXMudmlldy50cmFuc2xhdGUueCkvYS53aWR0aCksZD1NYXRoLmZsb29yKE1hdGguY2VpbChjLnkvdGhpcy52aWV3LnNjYWxlLXRoaXMudmlldy50cmFuc2xhdGUueSkvYS5oZWlnaHQpO3JldHVybiBuZXcgbXhSZWN0YW5nbGUoZixkLE1hdGguY2VpbCgoTWF0aC5mbG9vcigoYy54K2Mud2lkdGgpL3RoaXMudmlldy5zY2FsZSktdGhpcy52aWV3LnRyYW5zbGF0ZS54KS9hLndpZHRoKS1mLE1hdGguY2VpbCgoTWF0aC5mbG9vcigoYy55K2MuaGVpZ2h0KS90aGlzLnZpZXcuc2NhbGUpLXRoaXMudmlldy50cmFuc2xhdGUueSkvYS5oZWlnaHQpLQpkKX07R3JhcGgucHJvdG90eXBlLnNhbml0aXplSHRtbD1mdW5jdGlvbihhLGMpe3JldHVybiBHcmFwaC5zYW5pdGl6ZUh0bWwoYSxjKX07R3JhcGgucHJvdG90eXBlLnVwZGF0ZVBsYWNlaG9sZGVycz1mdW5jdGlvbigpe3ZhciBhPSExLGM7Zm9yKGMgaW4gdGhpcy5tb2RlbC5jZWxscyl7dmFyIGY9dGhpcy5tb2RlbC5jZWxsc1tjXTt0aGlzLmlzUmVwbGFjZVBsYWNlaG9sZGVycyhmKSYmKHRoaXMudmlldy5pbnZhbGlkYXRlKGYsITEsITEpLGE9ITApfWEmJnRoaXMudmlldy52YWxpZGF0ZSgpfTtHcmFwaC5wcm90b3R5cGUuaXNSZXBsYWNlUGxhY2Vob2xkZXJzPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hLnZhbHVlJiYib2JqZWN0Ij09dHlwZW9mIGEudmFsdWUmJiIxIj09YS52YWx1ZS5nZXRBdHRyaWJ1dGUoInBsYWNlaG9sZGVycyIpfTsKR3JhcGgucHJvdG90eXBlLmlzWm9vbVdoZWVsRXZlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG14RXZlbnQuaXNBbHREb3duKGEpfHxteEV2ZW50LmlzTWV0YURvd24oYSkmJm14Q2xpZW50LklTX01BQ3x8bXhFdmVudC5pc0NvbnRyb2xEb3duKGEpfTtHcmFwaC5wcm90b3R5cGUuaXNTY3JvbGxXaGVlbEV2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmlzWm9vbVdoZWVsRXZlbnQoYSl9O0dyYXBoLnByb3RvdHlwZS5pc1RyYW5zcGFyZW50Q2xpY2tFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gbXhFdmVudC5pc0FsdERvd24oYSl8fG14Q2xpZW50LklTX0NIUk9NRU9TJiZteEV2ZW50LmlzU2hpZnREb3duKGEpfTtHcmFwaC5wcm90b3R5cGUuaXNJZ25vcmVUZXJtaW5hbEV2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiBteEV2ZW50LmlzU2hpZnREb3duKGEpJiZteEV2ZW50LmlzQ29udHJvbERvd24oYSl9OwpHcmFwaC5wcm90b3R5cGUuaXNTcGxpdFRhcmdldD1mdW5jdGlvbihhLGMsZil7cmV0dXJuIXRoaXMubW9kZWwuaXNFZGdlKGNbMF0pJiYhbXhFdmVudC5pc0FsdERvd24oZikmJiFteEV2ZW50LmlzU2hpZnREb3duKGYpJiZteEdyYXBoLnByb3RvdHlwZS5pc1NwbGl0VGFyZ2V0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX07R3JhcGgucHJvdG90eXBlLmdldExhYmVsPWZ1bmN0aW9uKGEpe3ZhciBjPW14R3JhcGgucHJvdG90eXBlLmdldExhYmVsLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtudWxsIT1jJiZ0aGlzLmlzUmVwbGFjZVBsYWNlaG9sZGVycyhhKSYmbnVsbD09YS5nZXRBdHRyaWJ1dGUoInBsYWNlaG9sZGVyIikmJihjPXRoaXMucmVwbGFjZVBsYWNlaG9sZGVycyhhLGMpKTtyZXR1cm4gY307CkdyYXBoLnByb3RvdHlwZS5pc0xhYmVsTW92YWJsZT1mdW5jdGlvbihhKXt2YXIgYz10aGlzLmdldEN1cnJlbnRDZWxsU3R5bGUoYSk7cmV0dXJuIXRoaXMuaXNDZWxsTG9ja2VkKGEpJiYodGhpcy5tb2RlbC5pc0VkZ2UoYSkmJnRoaXMuZWRnZUxhYmVsc01vdmFibGV8fHRoaXMubW9kZWwuaXNWZXJ0ZXgoYSkmJih0aGlzLnZlcnRleExhYmVsc01vdmFibGV8fCIxIj09bXhVdGlscy5nZXRWYWx1ZShjLCJsYWJlbE1vdmFibGUiLCIwIikpKX07R3JhcGgucHJvdG90eXBlLnNldEdyaWRTaXplPWZ1bmN0aW9uKGEpe3RoaXMuZ3JpZFNpemU9YTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgiZ3JpZFNpemVDaGFuZ2VkIikpfTsKR3JhcGgucHJvdG90eXBlLmdldENsaWNrYWJsZUxpbmtGb3JDZWxsPWZ1bmN0aW9uKGEpe2Rve3ZhciBjPXRoaXMuZ2V0TGlua0ZvckNlbGwoYSk7aWYobnVsbCE9YylyZXR1cm4gYzthPXRoaXMubW9kZWwuZ2V0UGFyZW50KGEpfXdoaWxlKG51bGwhPWEpO3JldHVybiBudWxsfTtHcmFwaC5wcm90b3R5cGUuZ2V0R2xvYmFsVmFyaWFibGU9ZnVuY3Rpb24oYSl7dmFyIGM9bnVsbDsiZGF0ZSI9PWE/Yz0obmV3IERhdGUpLnRvTG9jYWxlRGF0ZVN0cmluZygpOiJ0aW1lIj09YT9jPShuZXcgRGF0ZSkudG9Mb2NhbGVUaW1lU3RyaW5nKCk6InRpbWVzdGFtcCI9PWE/Yz0obmV3IERhdGUpLnRvTG9jYWxlU3RyaW5nKCk6ImRhdGV7Ij09YS5zdWJzdHJpbmcoMCw1KSYmKGE9YS5zdWJzdHJpbmcoNSxhLmxlbmd0aC0xKSxjPXRoaXMuZm9ybWF0RGF0ZShuZXcgRGF0ZSxhKSk7cmV0dXJuIGN9OwpHcmFwaC5wcm90b3R5cGUuZm9ybWF0RGF0ZT1mdW5jdGlvbihhLGMsZil7bnVsbD09dGhpcy5kYXRlRm9ybWF0Q2FjaGUmJih0aGlzLmRhdGVGb3JtYXRDYWNoZT17aTE4bjp7ZGF5TmFtZXM6IlN1biBNb24gVHVlIFdlZCBUaHUgRnJpIFNhdCBTdW5kYXkgTW9uZGF5IFR1ZXNkYXkgV2VkbmVzZGF5IFRodXJzZGF5IEZyaWRheSBTYXR1cmRheSIuc3BsaXQoIiAiKSxtb250aE5hbWVzOiJKYW4gRmViIE1hciBBcHIgTWF5IEp1biBKdWwgQXVnIFNlcCBPY3QgTm92IERlYyBKYW51YXJ5IEZlYnJ1YXJ5IE1hcmNoIEFwcmlsIE1heSBKdW5lIEp1bHkgQXVndXN0IFNlcHRlbWJlciBPY3RvYmVyIE5vdmVtYmVyIERlY2VtYmVyIi5zcGxpdCgiICIpfSxtYXNrczp7ImRlZmF1bHQiOiJkZGQgbW1tIGRkIHl5eXkgSEg6TU06c3MiLHNob3J0RGF0ZToibS9kL3l5IixtZWRpdW1EYXRlOiJtbW0gZCwgeXl5eSIsbG9uZ0RhdGU6Im1tbW0gZCwgeXl5eSIsZnVsbERhdGU6ImRkZGQsIG1tbW0gZCwgeXl5eSIsCnNob3J0VGltZToiaDpNTSBUVCIsbWVkaXVtVGltZToiaDpNTTpzcyBUVCIsbG9uZ1RpbWU6Img6TU06c3MgVFQgWiIsaXNvRGF0ZToieXl5eS1tbS1kZCIsaXNvVGltZToiSEg6TU06c3MiLGlzb0RhdGVUaW1lOiJ5eXl5LW1tLWRkJ1QnSEg6TU06c3MiLGlzb1V0Y0RhdGVUaW1lOiJVVEM6eXl5eS1tbS1kZCdUJ0hIOk1NOnNzJ1onIn19KTt2YXIgZD10aGlzLmRhdGVGb3JtYXRDYWNoZSxtPS9cYig/OltQTUNFQV1bU0RQXVR8KD86UGFjaWZpY3xNb3VudGFpbnxDZW50cmFsfEVhc3Rlcm58QXRsYW50aWMpICg/OlN0YW5kYXJkfERheWxpZ2h0fFByZXZhaWxpbmcpIFRpbWV8KD86R01UfFVUQykoPzpbLStdXGR7NH0pPylcYi9nLGs9L1teLStcZEEtWl0vZyxxPWZ1bmN0aW9uKGEsYil7YT1TdHJpbmcoYSk7Zm9yKGI9Ynx8MjthLmxlbmd0aDxiOylhPSIwIithO3JldHVybiBhfTsxIT1hcmd1bWVudHMubGVuZ3RofHwiW29iamVjdCBTdHJpbmddIiE9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpfHwKL1xkLy50ZXN0KGEpfHwoYz1hLGE9dm9pZCAwKTthPWE/bmV3IERhdGUoYSk6bmV3IERhdGU7aWYoaXNOYU4oYSkpdGhyb3cgU3ludGF4RXJyb3IoImludmFsaWQgZGF0ZSIpO2M9U3RyaW5nKGQubWFza3NbY118fGN8fGQubWFza3NbImRlZmF1bHQiXSk7IlVUQzoiPT1jLnNsaWNlKDAsNCkmJihjPWMuc2xpY2UoNCksZj0hMCk7dmFyIGI9Zj8iZ2V0VVRDIjoiZ2V0IixlPWFbYisiRGF0ZSJdKCksZz1hW2IrIkRheSJdKCkscD1hW2IrIk1vbnRoIl0oKSxsPWFbYisiRnVsbFllYXIiXSgpLG49YVtiKyJIb3VycyJdKCksdj1hW2IrIk1pbnV0ZXMiXSgpLHQ9YVtiKyJTZWNvbmRzIl0oKSxiPWFbYisiTWlsbGlzZWNvbmRzIl0oKSx4PWY/MDphLmdldFRpbWV6b25lT2Zmc2V0KCksQT17ZDplLGRkOnEoZSksZGRkOmQuaTE4bi5kYXlOYW1lc1tnXSxkZGRkOmQuaTE4bi5kYXlOYW1lc1tnKzddLG06cCsxLG1tOnEocCsxKSxtbW06ZC5pMThuLm1vbnRoTmFtZXNbcF0sbW1tbTpkLmkxOG4ubW9udGhOYW1lc1twKwoxMl0seXk6U3RyaW5nKGwpLnNsaWNlKDIpLHl5eXk6bCxoOm4lMTJ8fDEyLGhoOnEobiUxMnx8MTIpLEg6bixISDpxKG4pLE06dixNTTpxKHYpLHM6dCxzczpxKHQpLGw6cShiLDMpLEw6cSg5OTxiP01hdGgucm91bmQoYi8xMCk6YiksdDoxMj5uPyJhIjoicCIsdHQ6MTI+bj8iYW0iOiJwbSIsVDoxMj5uPyJBIjoiUCIsVFQ6MTI+bj8iQU0iOiJQTSIsWjpmPyJVVEMiOihTdHJpbmcoYSkubWF0Y2gobSl8fFsiIl0pLnBvcCgpLnJlcGxhY2UoaywiIiksbzooMDx4PyItIjoiKyIpK3EoMTAwKk1hdGguZmxvb3IoTWF0aC5hYnMoeCkvNjApK01hdGguYWJzKHgpJTYwLDQpLFM6WyJ0aCIsInN0IiwibmQiLCJyZCJdWzM8ZSUxMD8wOigxMCE9ZSUxMDAtZSUxMCkqZSUxMF19O3JldHVybiBjLnJlcGxhY2UoL2R7MSw0fXxtezEsNH18eXkoPzp5eSk/fChbSGhNc1R0XSlcMT98W0xsb1NaXXwiW14iXSoifCdbXiddKicvZyxmdW5jdGlvbihhKXtyZXR1cm4gYSBpbiBBP0FbYV06YS5zbGljZSgxLAphLmxlbmd0aC0xKX0pfTsKR3JhcGgucHJvdG90eXBlLmNyZWF0ZUxheWVyc0RpYWxvZz1mdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Euc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtmb3IodmFyIGM9dGhpcy5nZXRNb2RlbCgpLGY9Yy5nZXRDaGlsZENvdW50KGMucm9vdCksZD0wO2Q8ZjtkKyspbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oZCl7dmFyIGY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Zi5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIjtmLnN0eWxlLnRleHRPdmVyZmxvdz0iZWxsaXBzaXMiO2Yuc3R5bGUucGFkZGluZz0iMnB4IjtmLnN0eWxlLndoaXRlU3BhY2U9Im5vd3JhcCI7dmFyIG09ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTttLnN0eWxlLmRpc3BsYXk9ImlubGluZS1ibG9jayI7bS5zZXRBdHRyaWJ1dGUoInR5cGUiLCJjaGVja2JveCIpO2MuaXNWaXNpYmxlKGQpJiYobS5zZXRBdHRyaWJ1dGUoImNoZWNrZWQiLCJjaGVja2VkIiksCm0uZGVmYXVsdENoZWNrZWQ9ITApO2YuYXBwZW5kQ2hpbGQobSk7dmFyIGI9dGhpcy5jb252ZXJ0VmFsdWVUb1N0cmluZyhkKXx8bXhSZXNvdXJjZXMuZ2V0KCJiYWNrZ3JvdW5kIil8fCJCYWNrZ3JvdW5kIjtmLnNldEF0dHJpYnV0ZSgidGl0bGUiLGIpO214VXRpbHMud3JpdGUoZixiKTthLmFwcGVuZENoaWxkKGYpO214RXZlbnQuYWRkTGlzdGVuZXIobSwiY2xpY2siLGZ1bmN0aW9uKCl7bnVsbCE9bS5nZXRBdHRyaWJ1dGUoImNoZWNrZWQiKT9tLnJlbW92ZUF0dHJpYnV0ZSgiY2hlY2tlZCIpOm0uc2V0QXR0cmlidXRlKCJjaGVja2VkIiwiY2hlY2tlZCIpO2Muc2V0VmlzaWJsZShkLG0uY2hlY2tlZCl9KX0pKGMuZ2V0Q2hpbGRBdChjLnJvb3QsZCkpO3JldHVybiBhfTsKR3JhcGgucHJvdG90eXBlLnJlcGxhY2VQbGFjZWhvbGRlcnM9ZnVuY3Rpb24oYSxjKXt2YXIgZj1bXTtpZihudWxsIT1jKXtmb3IodmFyIGQ9MDttYXRjaD10aGlzLnBsYWNlaG9sZGVyUGF0dGVybi5leGVjKGMpOyl7dmFyIG09bWF0Y2hbMF07aWYoMjxtLmxlbmd0aCYmIiVsYWJlbCUiIT1tJiYiJXRvb2x0aXAlIiE9bSl7dmFyIGs9bnVsbDtpZihtYXRjaC5pbmRleD5kJiYiJSI9PWMuY2hhckF0KG1hdGNoLmluZGV4LTEpKWs9bS5zdWJzdHJpbmcoMSk7ZWxzZXt2YXIgcT1tLnN1YnN0cmluZygxLG0ubGVuZ3RoLTEpO2lmKCJpZCI9PXEpaz1hLmlkO2Vsc2UgaWYoMD5xLmluZGV4T2YoInsiKSlmb3IodmFyIGI9YTtudWxsPT1rJiZudWxsIT1iOyludWxsIT1iLnZhbHVlJiYib2JqZWN0Ij09dHlwZW9mIGIudmFsdWUmJihrPWIuaGFzQXR0cmlidXRlKHEpP251bGwhPWIuZ2V0QXR0cmlidXRlKHEpP2IuZ2V0QXR0cmlidXRlKHEpOiIiOm51bGwpLGI9dGhpcy5tb2RlbC5nZXRQYXJlbnQoYik7Cm51bGw9PWsmJihrPXRoaXMuZ2V0R2xvYmFsVmFyaWFibGUocSkpfWYucHVzaChjLnN1YnN0cmluZyhkLG1hdGNoLmluZGV4KSsobnVsbCE9az9rOm0pKTtkPW1hdGNoLmluZGV4K20ubGVuZ3RofX1mLnB1c2goYy5zdWJzdHJpbmcoZCkpfXJldHVybiBmLmpvaW4oIiIpfTtHcmFwaC5wcm90b3R5cGUucmVzdG9yZVNlbGVjdGlvbj1mdW5jdGlvbihhKXtpZihudWxsIT1hJiYwPGEubGVuZ3RoKXtmb3IodmFyIGM9W10sZj0wO2Y8YS5sZW5ndGg7ZisrKXt2YXIgZD10aGlzLm1vZGVsLmdldENlbGwoYVtmXS5pZCk7bnVsbCE9ZCYmYy5wdXNoKGQpfXRoaXMuc2V0U2VsZWN0aW9uQ2VsbHMoYyl9ZWxzZSB0aGlzLmNsZWFyU2VsZWN0aW9uKCl9OwpHcmFwaC5wcm90b3R5cGUuc2VsZWN0Q2VsbHNGb3JDb25uZWN0VmVydGV4PWZ1bmN0aW9uKGEsYyxmKXsyPT1hLmxlbmd0aCYmdGhpcy5tb2RlbC5pc1ZlcnRleChhWzFdKT8odGhpcy5zZXRTZWxlY3Rpb25DZWxsKGFbMV0pLHRoaXMuc2Nyb2xsQ2VsbFRvVmlzaWJsZShhWzFdKSxudWxsIT1mJiYobXhFdmVudC5pc1RvdWNoRXZlbnQoYyk/Zi51cGRhdGUoZi5nZXRTdGF0ZSh0aGlzLnZpZXcuZ2V0U3RhdGUoYVsxXSkpKTpmLnJlc2V0KCkpKTp0aGlzLnNldFNlbGVjdGlvbkNlbGxzKGEpfTsKR3JhcGgucHJvdG90eXBlLmNvbm5lY3RWZXJ0ZXg9ZnVuY3Rpb24oYSxjLGYsZCxtLGspe2lmKGEuZ2VvbWV0cnkucmVsYXRpdmUmJnRoaXMubW9kZWwuaXNFZGdlKGEucGFyZW50KSlyZXR1cm5bXTtrPWs/azohMTt2YXIgcT10aGlzLmdldENvbXBvc2l0ZVBhcmVudChhKSxiPWEuZ2VvbWV0cnkucmVsYXRpdmUmJm51bGwhPWEucGFyZW50Lmdlb21ldHJ5P25ldyBteFBvaW50KGEucGFyZW50Lmdlb21ldHJ5LndpZHRoKmEuZ2VvbWV0cnkueCxhLnBhcmVudC5nZW9tZXRyeS5oZWlnaHQqYS5nZW9tZXRyeS55KTpuZXcgbXhQb2ludChxLmdlb21ldHJ5LngscS5nZW9tZXRyeS55KTtjPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEg/KGIueCs9cS5nZW9tZXRyeS53aWR0aC8yLGIueS09Zik6Yz09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIPyhiLngrPXEuZ2VvbWV0cnkud2lkdGgvMixiLnkrPXEuZ2VvbWV0cnkuaGVpZ2h0K2YpOihiLng9Yz09bXhDb25zdGFudHMuRElSRUNUSU9OX1dFU1Q/CmIueC1mOmIueCsocS5nZW9tZXRyeS53aWR0aCtmKSxiLnkrPXEuZ2VvbWV0cnkuaGVpZ2h0LzIpO2Y9dGhpcy52aWV3LmdldFN0YXRlKHRoaXMubW9kZWwuZ2V0UGFyZW50KGEpKTt2YXIgcT10aGlzLnZpZXcuc2NhbGUsZT10aGlzLnZpZXcudHJhbnNsYXRlLGc9ZS54KnEsZT1lLnkqcTtudWxsIT1mJiZ0aGlzLm1vZGVsLmlzVmVydGV4KGYuY2VsbCkmJihnPWYueCxlPWYueSk7dGhpcy5tb2RlbC5pc1ZlcnRleChhLnBhcmVudCkmJmEuZ2VvbWV0cnkucmVsYXRpdmUmJihiLngrPWEucGFyZW50Lmdlb21ldHJ5LngsYi55Kz1hLnBhcmVudC5nZW9tZXRyeS55KTtrPWt8fG14RXZlbnQuaXNDb250cm9sRG93bihkKSYmIW0/bnVsbDp0aGlzLmdldENlbGxBdChnK2IueCpxLGUrYi55KnEpO3RoaXMubW9kZWwuaXNBbmNlc3RvcihrLGEpJiYoaz1udWxsKTtmb3IoZj1rO251bGwhPWY7KXtpZih0aGlzLmlzQ2VsbExvY2tlZChmKSl7az1udWxsO2JyZWFrfWY9dGhpcy5tb2RlbC5nZXRQYXJlbnQoZil9bnVsbCE9CmsmJihmPXRoaXMudmlldy5nZXRTdGF0ZShhKSxxPXRoaXMudmlldy5nZXRTdGF0ZShrKSxudWxsIT1mJiZudWxsIT1xJiZteFV0aWxzLmludGVyc2VjdHMoZixxKSYmKGs9bnVsbCkpO2lmKG09IW14RXZlbnQuaXNTaGlmdERvd24oZCl8fG0pYz09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIP2IueS09YS5nZW9tZXRyeS5oZWlnaHQvMjpjPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEg/Yi55Kz1hLmdlb21ldHJ5LmhlaWdodC8yOmIueD1jPT1teENvbnN0YW50cy5ESVJFQ1RJT05fV0VTVD9iLngtYS5nZW9tZXRyeS53aWR0aC8yOmIueCthLmdlb21ldHJ5LndpZHRoLzI7bnVsbD09a3x8dGhpcy5pc0NlbGxDb25uZWN0YWJsZShrKXx8dGhpcy5pc1N3aW1sYW5lKGspfHwoZj10aGlzLmdldE1vZGVsKCkuZ2V0UGFyZW50KGspLHRoaXMuZ2V0TW9kZWwoKS5pc1ZlcnRleChmKSYmdGhpcy5pc0NlbGxDb25uZWN0YWJsZShmKSYmKGs9ZikpO2lmKGs9PWF8fHRoaXMubW9kZWwuaXNFZGdlKGspfHwKIXRoaXMuaXNDZWxsQ29ubmVjdGFibGUoaykmJiF0aGlzLmlzU3dpbWxhbmUoaykpaz1udWxsO2Y9W107dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXt2YXIgcD1udWxsIT1rJiZ0aGlzLmlzU3dpbWxhbmUoaykscT1wP251bGw6aztpZihudWxsPT1xJiZtKXtmb3IodmFyIGc9YSxsPXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KGEpO251bGwhPWwmJmwucmVsYXRpdmU7KWc9dGhpcy5nZXRNb2RlbCgpLmdldFBhcmVudChnKSxsPXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KGcpO2c9dGhpcy5nZXRDb21wb3NpdGVQYXJlbnQoZyk7cT10aGlzLmR1cGxpY2F0ZUNlbGxzKFtnXSwhMSlbMF07bD10aGlzLmdldENlbGxHZW9tZXRyeShxKTtudWxsIT1sJiYobC54PWIueC1sLndpZHRoLzIsbC55PWIueS1sLmhlaWdodC8yKTtwJiYodGhpcy5hZGRDZWxscyhbcV0sayxudWxsLG51bGwsbnVsbCwhMCksaz1udWxsKX1wPW51bGw7bnVsbCE9dGhpcy5sYXlvdXRNYW5hZ2VyJiYocD10aGlzLmxheW91dE1hbmFnZXIuZ2V0TGF5b3V0KHRoaXMubW9kZWwuZ2V0UGFyZW50KGEpKSk7CnZhciBuPW14RXZlbnQuaXNDb250cm9sRG93bihkKSYmbXx8bnVsbD09ayYmbnVsbCE9cCYmcC5jb25zdHJ1Y3Rvcj09bXhTdGFja0xheW91dD9udWxsOnRoaXMuaW5zZXJ0RWRnZSh0aGlzLm1vZGVsLmdldFBhcmVudChhKSxudWxsLCIiLGEscSx0aGlzLmNyZWF0ZUN1cnJlbnRFZGdlU3R5bGUoKSk7aWYobnVsbCE9biYmdGhpcy5jb25uZWN0aW9uSGFuZGxlci5pbnNlcnRCZWZvcmVTb3VyY2Upe3ZhciB2PW51bGw7Zm9yKGQ9YTtudWxsIT1kLnBhcmVudCYmbnVsbCE9ZC5nZW9tZXRyeSYmZC5nZW9tZXRyeS5yZWxhdGl2ZSYmZC5wYXJlbnQhPW4ucGFyZW50OylkPXRoaXMubW9kZWwuZ2V0UGFyZW50KGQpO251bGwhPWQmJm51bGwhPWQucGFyZW50JiZkLnBhcmVudD09bi5wYXJlbnQmJih2PWQucGFyZW50LmdldEluZGV4KGQpLHRoaXMubW9kZWwuYWRkKGQucGFyZW50LG4sdikpfW51bGw9PWsmJm51bGwhPXEmJm51bGwhPXAmJm51bGwhPWEucGFyZW50JiZwLmNvbnN0cnVjdG9yPT0KbXhTdGFja0xheW91dCYmYz09bXhDb25zdGFudHMuRElSRUNUSU9OX1dFU1QmJih2PWEucGFyZW50LmdldEluZGV4KGEpLHRoaXMubW9kZWwuYWRkKGEucGFyZW50LHEsdikpO251bGwhPW4mJmYucHVzaChuKTtudWxsPT1rJiZudWxsIT1xJiZmLnB1c2gocSk7bnVsbD09cSYmbnVsbCE9biYmbi5nZW9tZXRyeS5zZXRUZXJtaW5hbFBvaW50KGIsITEpO251bGwhPW4mJnRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJjZWxsc0luc2VydGVkIiwiY2VsbHMiLFtuXSkpfWZpbmFsbHl7dGhpcy5tb2RlbC5lbmRVcGRhdGUoKX1yZXR1cm4gZn07CkdyYXBoLnByb3RvdHlwZS5nZXRJbmRleGFibGVUZXh0PWZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksYz1bXSxmLGQ7Zm9yKGQgaW4gdGhpcy5tb2RlbC5jZWxscylpZihmPXRoaXMubW9kZWwuY2VsbHNbZF0sdGhpcy5tb2RlbC5pc1ZlcnRleChmKXx8dGhpcy5tb2RlbC5pc0VkZ2UoZikpdGhpcy5pc0h0bWxMYWJlbChmKT8oYS5pbm5lckhUTUw9dGhpcy5zYW5pdGl6ZUh0bWwodGhpcy5nZXRMYWJlbChmKSksZj1teFV0aWxzLmV4dHJhY3RUZXh0V2l0aFdoaXRlc3BhY2UoW2FdKSk6Zj10aGlzLmdldExhYmVsKGYpLGY9bXhVdGlscy50cmltKGYucmVwbGFjZSgvW1x4MDAtXHgxRlx4N0YtXHg5Rl18XHMrL2csIiAiKSksMDxmLmxlbmd0aCYmYy5wdXNoKGYpO3JldHVybiBjLmpvaW4oIiAiKX07CkdyYXBoLnByb3RvdHlwZS5jb252ZXJ0VmFsdWVUb1N0cmluZz1mdW5jdGlvbihhKXt2YXIgYz10aGlzLm1vZGVsLmdldFZhbHVlKGEpO2lmKG51bGwhPWMmJiJvYmplY3QiPT10eXBlb2YgYyl7aWYodGhpcy5pc1JlcGxhY2VQbGFjZWhvbGRlcnMoYSkmJm51bGwhPWEuZ2V0QXR0cmlidXRlKCJwbGFjZWhvbGRlciIpKXtmb3IodmFyIGM9YS5nZXRBdHRyaWJ1dGUoInBsYWNlaG9sZGVyIiksZj1hLGQ9bnVsbDtudWxsPT1kJiZudWxsIT1mOyludWxsIT1mLnZhbHVlJiYib2JqZWN0Ij09dHlwZW9mIGYudmFsdWUmJihkPWYuaGFzQXR0cmlidXRlKGMpP251bGwhPWYuZ2V0QXR0cmlidXRlKGMpP2YuZ2V0QXR0cmlidXRlKGMpOiIiOm51bGwpLGY9dGhpcy5tb2RlbC5nZXRQYXJlbnQoZik7cmV0dXJuIGR8fCIifXJldHVybiBjLmdldEF0dHJpYnV0ZSgibGFiZWwiKXx8IiJ9cmV0dXJuIG14R3JhcGgucHJvdG90eXBlLmNvbnZlcnRWYWx1ZVRvU3RyaW5nLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07CkdyYXBoLnByb3RvdHlwZS5nZXRMaW5rc0ZvclN0YXRlPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiZudWxsIT1hLnRleHQmJm51bGwhPWEudGV4dC5ub2RlP2EudGV4dC5ub2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJhIik6bnVsbH07R3JhcGgucHJvdG90eXBlLmdldExpbmtGb3JDZWxsPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hLnZhbHVlJiYib2JqZWN0Ij09dHlwZW9mIGEudmFsdWU/KGE9YS52YWx1ZS5nZXRBdHRyaWJ1dGUoImxpbmsiKSxudWxsIT1hJiYiamF2YXNjcmlwdDoiPT09YS50b0xvd2VyQ2FzZSgpLnN1YnN0cmluZygwLDExKSYmKGE9YS5zdWJzdHJpbmcoMTEpKSxhKTpudWxsfTsKR3JhcGgucHJvdG90eXBlLmdldENlbGxTdHlsZT1mdW5jdGlvbihhKXt2YXIgYz1teEdyYXBoLnByb3RvdHlwZS5nZXRDZWxsU3R5bGUuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKG51bGwhPWEmJm51bGwhPXRoaXMubGF5b3V0TWFuYWdlcil7dmFyIGY9dGhpcy5tb2RlbC5nZXRQYXJlbnQoYSk7dGhpcy5tb2RlbC5pc1ZlcnRleChmKSYmdGhpcy5pc0NlbGxDb2xsYXBzZWQoYSkmJihmPXRoaXMubGF5b3V0TWFuYWdlci5nZXRMYXlvdXQoZiksbnVsbCE9ZiYmZi5jb25zdHJ1Y3Rvcj09bXhTdGFja0xheW91dCYmKGNbbXhDb25zdGFudHMuU1RZTEVfSE9SSVpPTlRBTF09IWYuaG9yaXpvbnRhbCkpfXJldHVybiBjfTsKR3JhcGgucHJvdG90eXBlLnVwZGF0ZUFsdGVybmF0ZUJvdW5kcz1mdW5jdGlvbihhLGMsZil7aWYobnVsbCE9YSYmbnVsbCE9YyYmbnVsbCE9dGhpcy5sYXlvdXRNYW5hZ2VyJiZudWxsIT1jLmFsdGVybmF0ZUJvdW5kcyl7dmFyIGQ9dGhpcy5sYXlvdXRNYW5hZ2VyLmdldExheW91dCh0aGlzLm1vZGVsLmdldFBhcmVudChhKSk7bnVsbCE9ZCYmZC5jb25zdHJ1Y3Rvcj09bXhTdGFja0xheW91dCYmKGQuaG9yaXpvbnRhbD9jLmFsdGVybmF0ZUJvdW5kcy5oZWlnaHQ9MDpjLmFsdGVybmF0ZUJvdW5kcy53aWR0aD0wKX1teEdyYXBoLnByb3RvdHlwZS51cGRhdGVBbHRlcm5hdGVCb3VuZHMuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtHcmFwaC5wcm90b3R5cGUuaXNNb3ZlQ2VsbHNFdmVudD1mdW5jdGlvbihhLGMpe3JldHVybiBteEV2ZW50LmlzU2hpZnREb3duKGEpfHwiMSI9PW14VXRpbHMuZ2V0VmFsdWUoYy5zdHlsZSwibW92ZUNlbGxzIiwiMCIpfTsKR3JhcGgucHJvdG90eXBlLmZvbGRDZWxscz1mdW5jdGlvbihhLGMsZixkLG0pe2M9bnVsbCE9Yz9jOiExO251bGw9PWYmJihmPXRoaXMuZ2V0Rm9sZGFibGVDZWxscyh0aGlzLmdldFNlbGVjdGlvbkNlbGxzKCksYSkpO2lmKG51bGwhPWYpe3RoaXMubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7aWYobXhHcmFwaC5wcm90b3R5cGUuZm9sZENlbGxzLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxudWxsIT10aGlzLmxheW91dE1hbmFnZXIpZm9yKHZhciBrPTA7azxmLmxlbmd0aDtrKyspe3ZhciBxPXRoaXMudmlldy5nZXRTdGF0ZShmW2tdKSxiPXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KGZba10pO2lmKG51bGwhPXEmJm51bGwhPWIpe3ZhciBlPU1hdGgucm91bmQoYi53aWR0aC1xLndpZHRoL3RoaXMudmlldy5zY2FsZSksZz1NYXRoLnJvdW5kKGIuaGVpZ2h0LXEuaGVpZ2h0L3RoaXMudmlldy5zY2FsZSk7aWYoMCE9Z3x8MCE9ZSl7dmFyIHA9dGhpcy5tb2RlbC5nZXRQYXJlbnQoZltrXSksbD10aGlzLmxheW91dE1hbmFnZXIuZ2V0TGF5b3V0KHApOwpudWxsPT1sP251bGwhPW0mJnRoaXMuaXNNb3ZlQ2VsbHNFdmVudChtLHEpJiZ0aGlzLm1vdmVTaWJsaW5ncyhxLHAsZSxnKTpudWxsIT1tJiZteEV2ZW50LmlzQWx0RG93bihtKXx8bC5jb25zdHJ1Y3RvciE9bXhTdGFja0xheW91dHx8bC5yZXNpemVMYXN0fHx0aGlzLnJlc2l6ZVBhcmVudFN0YWNrcyhwLGwsZSxnKX19fX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9dGhpcy5pc0VuYWJsZWQoKSYmdGhpcy5zZXRTZWxlY3Rpb25DZWxscyhmKX19OwpHcmFwaC5wcm90b3R5cGUubW92ZVNpYmxpbmdzPWZ1bmN0aW9uKGEsYyxmLGQpe3RoaXMubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7dmFyIG09dGhpcy5nZXRDZWxsc0JleW9uZChhLngsYS55LGMsITAsITApO2ZvcihjPTA7YzxtLmxlbmd0aDtjKyspaWYobVtjXSE9YS5jZWxsKXt2YXIgaz10aGlzLnZpZXcuZ2V0U3RhdGUobVtjXSkscT10aGlzLmdldENlbGxHZW9tZXRyeShtW2NdKTtudWxsIT1rJiZudWxsIT1xJiYocT1xLmNsb25lKCkscS50cmFuc2xhdGUoTWF0aC5yb3VuZChmKk1hdGgubWF4KDAsTWF0aC5taW4oMSwoay54LWEueCkvYS53aWR0aCkpKSxNYXRoLnJvdW5kKGQqTWF0aC5tYXgoMCxNYXRoLm1pbigxLChrLnktYS55KS9hLmhlaWdodCkpKSksdGhpcy5tb2RlbC5zZXRHZW9tZXRyeShtW2NdLHEpKX19ZmluYWxseXt0aGlzLm1vZGVsLmVuZFVwZGF0ZSgpfX07CkdyYXBoLnByb3RvdHlwZS5yZXNpemVQYXJlbnRTdGFja3M9ZnVuY3Rpb24oYSxjLGYsZCl7aWYobnVsbCE9dGhpcy5sYXlvdXRNYW5hZ2VyJiZudWxsIT1jJiZjLmNvbnN0cnVjdG9yPT1teFN0YWNrTGF5b3V0JiYhYy5yZXNpemVMYXN0KXt0aGlzLm1vZGVsLmJlZ2luVXBkYXRlKCk7dHJ5e2Zvcih2YXIgbT1jLmhvcml6b250YWw7bnVsbCE9YSYmbnVsbCE9YyYmYy5jb25zdHJ1Y3Rvcj09bXhTdGFja0xheW91dCYmYy5ob3Jpem9udGFsPT1tJiYhYy5yZXNpemVMYXN0Oyl7dmFyIGs9dGhpcy5nZXRDZWxsR2VvbWV0cnkoYSkscT10aGlzLnZpZXcuZ2V0U3RhdGUoYSk7bnVsbCE9cSYmbnVsbCE9ayYmKGs9ay5jbG9uZSgpLGMuaG9yaXpvbnRhbD9rLndpZHRoKz1mK01hdGgubWluKDAscS53aWR0aC90aGlzLnZpZXcuc2NhbGUtay53aWR0aCk6ay5oZWlnaHQrPWQrTWF0aC5taW4oMCxxLmhlaWdodC90aGlzLnZpZXcuc2NhbGUtay5oZWlnaHQpLHRoaXMubW9kZWwuc2V0R2VvbWV0cnkoYSwKaykpO2E9dGhpcy5tb2RlbC5nZXRQYXJlbnQoYSk7Yz10aGlzLmxheW91dE1hbmFnZXIuZ2V0TGF5b3V0KGEpfX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9fX07R3JhcGgucHJvdG90eXBlLmlzQ29udGFpbmVyPWZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMuZ2V0Q3VycmVudENlbGxTdHlsZShhKTtyZXR1cm4gdGhpcy5pc1N3aW1sYW5lKGEpPyIwIiE9Yy5jb250YWluZXI6IjEiPT1jLmNvbnRhaW5lcn07R3JhcGgucHJvdG90eXBlLmlzQ2VsbENvbm5lY3RhYmxlPWZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMuZ2V0Q3VycmVudENlbGxTdHlsZShhKTtyZXR1cm4gbnVsbCE9Yy5jb25uZWN0YWJsZT8iMCIhPWMuY29ubmVjdGFibGU6bXhHcmFwaC5wcm90b3R5cGUuaXNDZWxsQ29ubmVjdGFibGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTsKR3JhcGgucHJvdG90eXBlLmlzTGFiZWxNb3ZhYmxlPWZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMuZ2V0Q3VycmVudENlbGxTdHlsZShhKTtyZXR1cm4gbnVsbCE9Yy5tb3ZhYmxlTGFiZWw/IjAiIT1jLm1vdmFibGVMYWJlbDpteEdyYXBoLnByb3RvdHlwZS5pc0xhYmVsTW92YWJsZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O0dyYXBoLnByb3RvdHlwZS5zZWxlY3RBbGw9ZnVuY3Rpb24oYSl7YT1hfHx0aGlzLmdldERlZmF1bHRQYXJlbnQoKTt0aGlzLmlzQ2VsbExvY2tlZChhKXx8bXhHcmFwaC5wcm90b3R5cGUuc2VsZWN0QWxsLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07R3JhcGgucHJvdG90eXBlLnNlbGVjdENlbGxzPWZ1bmN0aW9uKGEsYyxmKXtmPWZ8fHRoaXMuZ2V0RGVmYXVsdFBhcmVudCgpO3RoaXMuaXNDZWxsTG9ja2VkKGYpfHxteEdyYXBoLnByb3RvdHlwZS5zZWxlY3RDZWxscy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9OwpHcmFwaC5wcm90b3R5cGUuZ2V0U3dpbWxhbmVBdD1mdW5jdGlvbihhLGMsZil7dmFyIGQ9bXhHcmFwaC5wcm90b3R5cGUuZ2V0U3dpbWxhbmVBdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5pc0NlbGxMb2NrZWQoZCkmJihkPW51bGwpO3JldHVybiBkfTtHcmFwaC5wcm90b3R5cGUuaXNDZWxsRm9sZGFibGU9ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5nZXRDdXJyZW50Q2VsbFN0eWxlKGEpO3JldHVybiB0aGlzLmZvbGRpbmdFbmFibGVkJiYoIjEiPT1jLnRyZWVGb2xkaW5nfHwhdGhpcy5pc0NlbGxMb2NrZWQoYSkmJih0aGlzLmlzQ29udGFpbmVyKGEpJiYiMCIhPWMuY29sbGFwc2libGV8fCF0aGlzLmlzQ29udGFpbmVyKGEpJiYiMSI9PWMuY29sbGFwc2libGUpKX07R3JhcGgucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5pc0VkaXRpbmcoKSYmdGhpcy5zdG9wRWRpdGluZyghMCk7dGhpcy5lc2NhcGUoKTt0aGlzLmlzU2VsZWN0aW9uRW1wdHkoKXx8dGhpcy5jbGVhclNlbGVjdGlvbigpfTsKR3JhcGgucHJvdG90eXBlLnpvb209ZnVuY3Rpb24oYSxjKXthPU1hdGgubWF4KC4wMSxNYXRoLm1pbih0aGlzLnZpZXcuc2NhbGUqYSwxNjApKS90aGlzLnZpZXcuc2NhbGU7bXhHcmFwaC5wcm90b3R5cGUuem9vbS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O0dyYXBoLnByb3RvdHlwZS56b29tSW49ZnVuY3Rpb24oKXsuMTU+dGhpcy52aWV3LnNjYWxlP3RoaXMuem9vbSgodGhpcy52aWV3LnNjYWxlKy4wMSkvdGhpcy52aWV3LnNjYWxlKTp0aGlzLnpvb20oTWF0aC5yb3VuZCh0aGlzLnZpZXcuc2NhbGUqdGhpcy56b29tRmFjdG9yKjIwKS8yMC90aGlzLnZpZXcuc2NhbGUpfTtHcmFwaC5wcm90b3R5cGUuem9vbU91dD1mdW5jdGlvbigpey4xNT49dGhpcy52aWV3LnNjYWxlP3RoaXMuem9vbSgodGhpcy52aWV3LnNjYWxlLS4wMSkvdGhpcy52aWV3LnNjYWxlKTp0aGlzLnpvb20oTWF0aC5yb3VuZCgxL3RoaXMuem9vbUZhY3Rvcip0aGlzLnZpZXcuc2NhbGUqMjApLzIwL3RoaXMudmlldy5zY2FsZSl9OwpHcmFwaC5wcm90b3R5cGUuZml0V2luZG93PWZ1bmN0aW9uKGEsYyl7Yz1udWxsIT1jP2M6MTA7dmFyIGY9dGhpcy5jb250YWluZXIuY2xpZW50V2lkdGgtYyxkPXRoaXMuY29udGFpbmVyLmNsaWVudEhlaWdodC1jLG09TWF0aC5mbG9vcigyMCpNYXRoLm1pbihmL2Eud2lkdGgsZC9hLmhlaWdodCkpLzIwO3RoaXMuem9vbVRvKG0pO2lmKG14VXRpbHMuaGFzU2Nyb2xsYmFycyh0aGlzLmNvbnRhaW5lcikpe3ZhciBrPXRoaXMudmlldy50cmFuc2xhdGU7dGhpcy5jb250YWluZXIuc2Nyb2xsVG9wPShhLnkray55KSptLU1hdGgubWF4KChkLWEuaGVpZ2h0Km0pLzIrYy8yLDApO3RoaXMuY29udGFpbmVyLnNjcm9sbExlZnQ9KGEueCtrLngpKm0tTWF0aC5tYXgoKGYtYS53aWR0aCptKS8yK2MvMiwwKX19OwpHcmFwaC5wcm90b3R5cGUuZ2V0VG9vbHRpcEZvckNlbGw9ZnVuY3Rpb24oYSl7dmFyIGM9IiI7aWYobXhVdGlscy5pc05vZGUoYS52YWx1ZSkpe3ZhciBmPWEudmFsdWUuZ2V0QXR0cmlidXRlKCJ0b29sdGlwIik7aWYobnVsbCE9ZiludWxsIT1mJiZ0aGlzLmlzUmVwbGFjZVBsYWNlaG9sZGVycyhhKSYmKGY9dGhpcy5yZXBsYWNlUGxhY2Vob2xkZXJzKGEsZikpLGM9dGhpcy5zYW5pdGl6ZUh0bWwoZik7ZWxzZXtmPXRoaXMuYnVpbHRJblByb3BlcnRpZXM7YT1hLnZhbHVlLmF0dHJpYnV0ZXM7dmFyIGQ9W107dGhpcy5pc0VuYWJsZWQoKSYmZi5wdXNoKCJsaW5rIik7Zm9yKHZhciBtPTA7bTxhLmxlbmd0aDttKyspMD5teFV0aWxzLmluZGV4T2YoZixhW21dLm5vZGVOYW1lKSYmMDxhW21dLm5vZGVWYWx1ZS5sZW5ndGgmJmQucHVzaCh7bmFtZTphW21dLm5vZGVOYW1lLHZhbHVlOmFbbV0ubm9kZVZhbHVlfSk7ZC5zb3J0KGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGEubmFtZTxjLm5hbWU/Ci0xOmEubmFtZT5jLm5hbWU/MTowfSk7Zm9yKG09MDttPGQubGVuZ3RoO20rKykibGluayI9PWRbbV0ubmFtZSYmdGhpcy5pc0N1c3RvbUxpbmsoZFttXS52YWx1ZSl8fChjKz0oImxpbmsiIT1kW21dLm5hbWU/IjxiPiIrZFttXS5uYW1lKyI6PC9iPiAiOiIiKStteFV0aWxzLmh0bWxFbnRpdGllcyhkW21dLnZhbHVlKSsiXG4iKTswPGMubGVuZ3RoJiYoYz1jLnN1YnN0cmluZygwLGMubGVuZ3RoLTEpLG14Q2xpZW50LklTX1NWRyYmKGM9JzxkaXYgc3R5bGU9Im1heC13aWR0aDozNjBweDsiPicrYysiPC9kaXY+IikpfX1yZXR1cm4gY307R3JhcGgucHJvdG90eXBlLnN0cmluZ1RvQnl0ZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIEdyYXBoLnN0cmluZ1RvQnl0ZXMoYSl9O0dyYXBoLnByb3RvdHlwZS5ieXRlc1RvU3RyaW5nPWZ1bmN0aW9uKGEpe3JldHVybiBHcmFwaC5ieXRlc1RvU3RyaW5nKGEpfTtHcmFwaC5wcm90b3R5cGUuY29tcHJlc3NOb2RlPWZ1bmN0aW9uKGEpe3JldHVybiBHcmFwaC5jb21wcmVzc05vZGUoYSl9OwpHcmFwaC5wcm90b3R5cGUuY29tcHJlc3M9ZnVuY3Rpb24oYSxjKXtyZXR1cm4gR3JhcGguY29tcHJlc3MoYSxjKX07R3JhcGgucHJvdG90eXBlLmRlY29tcHJlc3M9ZnVuY3Rpb24oYSxjKXtyZXR1cm4gR3JhcGguZGVjb21wcmVzcyhhLGMpfTtHcmFwaC5wcm90b3R5cGUuemFwR3JlbWxpbnM9ZnVuY3Rpb24oYSl7cmV0dXJuIEdyYXBoLnphcEdyZW1saW5zKGEpfTtIb3Zlckljb25zPWZ1bmN0aW9uKGEpe3RoaXMuZ3JhcGg9YTt0aGlzLmluaXQoKX07SG92ZXJJY29ucy5wcm90b3R5cGUuYXJyb3dTcGFjaW5nPTI7SG92ZXJJY29ucy5wcm90b3R5cGUudXBkYXRlRGVsYXk9NTAwO0hvdmVySWNvbnMucHJvdG90eXBlLmFjdGl2YXRpb25EZWxheT0xNDA7SG92ZXJJY29ucy5wcm90b3R5cGUuY3VycmVudFN0YXRlPW51bGw7SG92ZXJJY29ucy5wcm90b3R5cGUuYWN0aXZlQXJyb3c9bnVsbDtIb3Zlckljb25zLnByb3RvdHlwZS5pbmFjdGl2ZU9wYWNpdHk9MTU7CkhvdmVySWNvbnMucHJvdG90eXBlLmNzc0N1cnNvcj0iY29weSI7SG92ZXJJY29ucy5wcm90b3R5cGUuY2hlY2tDb2xsaXNpb25zPSEwO0hvdmVySWNvbnMucHJvdG90eXBlLmFycm93RmlsbD0iIzI5YjZmMiI7SG92ZXJJY29ucy5wcm90b3R5cGUudHJpYW5nbGVVcD1teENsaWVudC5JU19TVkc/R3JhcGguY3JlYXRlU3ZnSW1hZ2UoMTgsMjgsJzxwYXRoIGQ9Im0gNiAyNiBMIDEyIDI2IEwgMTIgMTIgTCAxOCAxMiBMIDkgMSBMIDEgMTIgTCA2IDEyIHoiIHN0cm9rZT0iI2ZmZiIgZmlsbD0iJytIb3Zlckljb25zLnByb3RvdHlwZS5hcnJvd0ZpbGwrJyIvPicpOm5ldyBteEltYWdlKElNQUdFX1BBVEgrIi90cmlhbmdsZS11cC5wbmciLDI2LDE0KTsKSG92ZXJJY29ucy5wcm90b3R5cGUudHJpYW5nbGVSaWdodD1teENsaWVudC5JU19TVkc/R3JhcGguY3JlYXRlU3ZnSW1hZ2UoMjYsMTgsJzxwYXRoIGQ9Im0gMSA2IEwgMTQgNiBMIDE0IDEgTCAyNiA5IEwgMTQgMTggTCAxNCAxMiBMIDEgMTIgeiIgc3Ryb2tlPSIjZmZmIiBmaWxsPSInK0hvdmVySWNvbnMucHJvdG90eXBlLmFycm93RmlsbCsnIi8+Jyk6bmV3IG14SW1hZ2UoSU1BR0VfUEFUSCsiL3RyaWFuZ2xlLXJpZ2h0LnBuZyIsMTQsMjYpO0hvdmVySWNvbnMucHJvdG90eXBlLnRyaWFuZ2xlRG93bj1teENsaWVudC5JU19TVkc/R3JhcGguY3JlYXRlU3ZnSW1hZ2UoMTgsMjYsJzxwYXRoIGQ9Im0gNiAxIEwgNiAxNCBMIDEgMTQgTCA5IDI2IEwgMTggMTQgTCAxMiAxNCBMIDEyIDEgeiIgc3Ryb2tlPSIjZmZmIiBmaWxsPSInK0hvdmVySWNvbnMucHJvdG90eXBlLmFycm93RmlsbCsnIi8+Jyk6bmV3IG14SW1hZ2UoSU1BR0VfUEFUSCsiL3RyaWFuZ2xlLWRvd24ucG5nIiwyNiwxNCk7CkhvdmVySWNvbnMucHJvdG90eXBlLnRyaWFuZ2xlTGVmdD1teENsaWVudC5JU19TVkc/R3JhcGguY3JlYXRlU3ZnSW1hZ2UoMjgsMTgsJzxwYXRoIGQ9Im0gMSA5IEwgMTIgMSBMIDEyIDYgTCAyNiA2IEwgMjYgMTIgTCAxMiAxMiBMIDEyIDE4IHoiIHN0cm9rZT0iI2ZmZiIgZmlsbD0iJytIb3Zlckljb25zLnByb3RvdHlwZS5hcnJvd0ZpbGwrJyIvPicpOm5ldyBteEltYWdlKElNQUdFX1BBVEgrIi90cmlhbmdsZS1sZWZ0LnBuZyIsMTQsMjYpO0hvdmVySWNvbnMucHJvdG90eXBlLnJvdW5kRHJvcD1teENsaWVudC5JU19TVkc/R3JhcGguY3JlYXRlU3ZnSW1hZ2UoMjYsMjYsJzxjaXJjbGUgY3g9IjEzIiBjeT0iMTMiIHI9IjEyIiBzdHJva2U9IiNmZmYiIGZpbGw9IicrSG92ZXJJY29ucy5wcm90b3R5cGUuYXJyb3dGaWxsKyciLz4nKTpuZXcgbXhJbWFnZShJTUFHRV9QQVRIKyIvcm91bmQtZHJvcC5wbmciLDI2LDI2KTsKSG92ZXJJY29ucy5wcm90b3R5cGUucmVmcmVzaFRhcmdldD1uZXcgbXhJbWFnZShteENsaWVudC5JU19TVkc/ImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIWnBaWGRDYjNnOUlqQWdNQ0F5TkNBeU5DSWdkMmxrZEdnOUlqTTJjSGdpSUdobGFXZG9kRDBpTXpad2VDSStQR1ZzYkdsd2MyVWdabWxzYkQwaUl6STVZalptTWlJZ1kzZzlJakV5SWlCamVUMGlNVElpSUhKNFBTSXhNaUlnY25rOUlqRXlJaTgrUEhCaGRHZ2dkSEpoYm5ObWIzSnRQU0p6WTJGc1pTZ3dMamdwSUhSeVlXNXpiR0YwWlNneUxqUXNJREl1TkNraUlITjBjbTlyWlQwaUkyWm1aaUlnWm1sc2JEMGlJMlptWmlJZ1pEMGlUVEV5SURaMk0ydzBMVFF0TkMwMGRqTmpMVFF1TkRJZ01DMDRJRE11TlRndE9DQTRJREFnTVM0MU55NDBOaUF6TGpBeklERXVNalFnTkM0eU5rdzJMamNnTVRRdU9HTXRMalExTFM0NE15MHVOeTB4TGpjNUxTNDNMVEl1T0NBd0xUTXVNekVnTWk0Mk9TMDJJRFl0Tm5wdE5pNDNOaUF4TGpjMFRERTNMak1nT1M0eVl5NDBOQzQ0TkM0M0lERXVOemt1TnlBeUxqZ2dNQ0F6TGpNeExUSXVOamtnTmkwMklEWjJMVE5zTFRRZ05DQTBJRFIyTFROak5DNDBNaUF3SURndE15NDFPQ0E0TFRnZ01DMHhMalUzTFM0ME5pMHpMakF6TFRFdU1qUXROQzR5Tm5vaUx6NDhjR0YwYUNCa1BTSk5NQ0F3YURJMGRqSTBTREI2SWlCbWFXeHNQU0p1YjI1bElpOCtQQzl6ZG1jK0NnPT0iOgpJTUFHRV9QQVRIKyIvcmVmcmVzaC5wbmciLDM4LDM4KTtIb3Zlckljb25zLnByb3RvdHlwZS50b2xlcmFuY2U9bXhDbGllbnQuSVNfVE9VQ0g/NjowOwpIb3Zlckljb25zLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dGhpcy5hcnJvd1VwPXRoaXMuY3JlYXRlQXJyb3codGhpcy50cmlhbmdsZVVwLG14UmVzb3VyY2VzLmdldCgicGx1c1Rvb2x0aXAiKSk7dGhpcy5hcnJvd1JpZ2h0PXRoaXMuY3JlYXRlQXJyb3codGhpcy50cmlhbmdsZVJpZ2h0LG14UmVzb3VyY2VzLmdldCgicGx1c1Rvb2x0aXAiKSk7dGhpcy5hcnJvd0Rvd249dGhpcy5jcmVhdGVBcnJvdyh0aGlzLnRyaWFuZ2xlRG93bixteFJlc291cmNlcy5nZXQoInBsdXNUb29sdGlwIikpO3RoaXMuYXJyb3dMZWZ0PXRoaXMuY3JlYXRlQXJyb3codGhpcy50cmlhbmdsZUxlZnQsbXhSZXNvdXJjZXMuZ2V0KCJwbHVzVG9vbHRpcCIpKTt0aGlzLmVsdHM9W3RoaXMuYXJyb3dVcCx0aGlzLmFycm93UmlnaHQsdGhpcy5hcnJvd0Rvd24sdGhpcy5hcnJvd0xlZnRdO3RoaXMucmVzZXRIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5yZXNldCgpfSk7dGhpcy5yZXBhaW50SGFuZGxlcj0KbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnJlcGFpbnQoKX0pO3RoaXMuZ3JhcGguc2VsZWN0aW9uTW9kZWwuYWRkTGlzdGVuZXIobXhFdmVudC5DSEFOR0UsdGhpcy5yZXNldEhhbmRsZXIpO3RoaXMuZ3JhcGgubW9kZWwuYWRkTGlzdGVuZXIobXhFdmVudC5DSEFOR0UsdGhpcy5yZXBhaW50SGFuZGxlcik7dGhpcy5ncmFwaC52aWV3LmFkZExpc3RlbmVyKG14RXZlbnQuU0NBTEVfQU5EX1RSQU5TTEFURSx0aGlzLnJlcGFpbnRIYW5kbGVyKTt0aGlzLmdyYXBoLnZpZXcuYWRkTGlzdGVuZXIobXhFdmVudC5UUkFOU0xBVEUsdGhpcy5yZXBhaW50SGFuZGxlcik7dGhpcy5ncmFwaC52aWV3LmFkZExpc3RlbmVyKG14RXZlbnQuU0NBTEUsdGhpcy5yZXBhaW50SGFuZGxlcik7dGhpcy5ncmFwaC52aWV3LmFkZExpc3RlbmVyKG14RXZlbnQuRE9XTix0aGlzLnJlcGFpbnRIYW5kbGVyKTt0aGlzLmdyYXBoLnZpZXcuYWRkTGlzdGVuZXIobXhFdmVudC5VUCx0aGlzLnJlcGFpbnRIYW5kbGVyKTsKdGhpcy5ncmFwaC5hZGRMaXN0ZW5lcihteEV2ZW50LlJPT1QsdGhpcy5yZXBhaW50SGFuZGxlcik7dGhpcy5ncmFwaC5hZGRMaXN0ZW5lcihteEV2ZW50LkVTQ0FQRSx0aGlzLnJlc2V0SGFuZGxlcik7bXhFdmVudC5hZGRMaXN0ZW5lcih0aGlzLmdyYXBoLmNvbnRhaW5lciwic2Nyb2xsIix0aGlzLnJlc2V0SGFuZGxlcik7dGhpcy5ncmFwaC5hZGRMaXN0ZW5lcihteEV2ZW50LkVTQ0FQRSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMubW91c2VEb3duUG9pbnQ9bnVsbH0pKTtteEV2ZW50LmFkZExpc3RlbmVyKHRoaXMuZ3JhcGguY29udGFpbmVyLCJtb3VzZWxlYXZlIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtudWxsIT1hLnJlbGF0ZWRUYXJnZXQmJm14RXZlbnQuZ2V0U291cmNlKGEpPT10aGlzLmdyYXBoLmNvbnRhaW5lciYmdGhpcy5zZXREaXNwbGF5KCJub25lIil9KSk7dGhpcy5ncmFwaC5hZGRMaXN0ZW5lcihteEV2ZW50LlNUQVJUX0VESVRJTkcsCm14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMucmVzZXQoKX0pKTt2YXIgYT10aGlzLmdyYXBoLmNsaWNrO3RoaXMuZ3JhcGguY2xpY2s9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYyl7YS5hcHBseSh0aGlzLmdyYXBoLGFyZ3VtZW50cyk7bnVsbD09dGhpcy5jdXJyZW50U3RhdGV8fHRoaXMuZ3JhcGguaXNDZWxsU2VsZWN0ZWQodGhpcy5jdXJyZW50U3RhdGUuY2VsbCl8fCFteEV2ZW50LmlzVG91Y2hFdmVudChjLmdldEV2ZW50KCkpfHx0aGlzLmdyYXBoLm1vZGVsLmlzVmVydGV4KGMuZ2V0Q2VsbCgpKXx8dGhpcy5yZXNldCgpfSk7dmFyIGM9ITE7dGhpcy5ncmFwaC5hZGRNb3VzZUxpc3RlbmVyKHttb3VzZURvd246bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxkKXtjPSExO3ZhciBmPWQuZ2V0RXZlbnQoKTtpZih0aGlzLmlzUmVzZXRFdmVudChmKSl0aGlzLnJlc2V0KCk7ZWxzZSBpZighdGhpcy5pc0FjdGl2ZSgpKXt2YXIgaz10aGlzLmdldFN0YXRlKGQuZ2V0U3RhdGUoKSk7Cm51bGw9PWsmJm14RXZlbnQuaXNUb3VjaEV2ZW50KGYpfHx0aGlzLnVwZGF0ZShrKX10aGlzLnNldERpc3BsYXkoIm5vbmUiKX0pLG1vdXNlTW92ZTpteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGQpe3ZhciBmPWQuZ2V0RXZlbnQoKTt0aGlzLmlzUmVzZXRFdmVudChmKT90aGlzLnJlc2V0KCk6dGhpcy5ncmFwaC5pc01vdXNlRG93bnx8bXhFdmVudC5pc1RvdWNoRXZlbnQoZil8fHRoaXMudXBkYXRlKHRoaXMuZ2V0U3RhdGUoZC5nZXRTdGF0ZSgpKSxkLmdldEdyYXBoWCgpLGQuZ2V0R3JhcGhZKCkpO251bGwhPXRoaXMuZ3JhcGguY29ubmVjdGlvbkhhbmRsZXImJm51bGwhPXRoaXMuZ3JhcGguY29ubmVjdGlvbkhhbmRsZXIuc2hhcGUmJihjPSEwKX0pLG1vdXNlVXA6bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxkKXt2YXIgZj1kLmdldEV2ZW50KCk7bXhVdGlscy5jb252ZXJ0UG9pbnQodGhpcy5ncmFwaC5jb250YWluZXIsbXhFdmVudC5nZXRDbGllbnRYKGYpLG14RXZlbnQuZ2V0Q2xpZW50WShmKSk7CnRoaXMuaXNSZXNldEV2ZW50KGYpP3RoaXMucmVzZXQoKTp0aGlzLmlzQWN0aXZlKCkmJiFjJiZudWxsIT10aGlzLm1vdXNlRG93blBvaW50P3RoaXMuY2xpY2sodGhpcy5jdXJyZW50U3RhdGUsdGhpcy5nZXREaXJlY3Rpb24oKSxkKTp0aGlzLmlzQWN0aXZlKCk/MT09dGhpcy5ncmFwaC5nZXRTZWxlY3Rpb25Db3VudCgpJiZ0aGlzLmdyYXBoLm1vZGVsLmlzRWRnZSh0aGlzLmdyYXBoLmdldFNlbGVjdGlvbkNlbGwoKSk/dGhpcy5yZXNldCgpOnRoaXMudXBkYXRlKHRoaXMuZ2V0U3RhdGUodGhpcy5ncmFwaC52aWV3LmdldFN0YXRlKHRoaXMuZ3JhcGguZ2V0Q2VsbEF0KGQuZ2V0R3JhcGhYKCksZC5nZXRHcmFwaFkoKSkpKSk6bXhFdmVudC5pc1RvdWNoRXZlbnQoZil8fG51bGwhPXRoaXMuYmJveCYmbXhVdGlscy5jb250YWlucyh0aGlzLmJib3gsZC5nZXRHcmFwaFgoKSxkLmdldEdyYXBoWSgpKT8odGhpcy5zZXREaXNwbGF5KCIiKSx0aGlzLnJlcGFpbnQoKSk6bXhFdmVudC5pc1RvdWNoRXZlbnQoZil8fAp0aGlzLnJlc2V0KCk7Yz0hMTt0aGlzLnJlc2V0QWN0aXZlQXJyb3coKX0pfSl9O0hvdmVySWNvbnMucHJvdG90eXBlLmlzUmVzZXRFdmVudD1mdW5jdGlvbihhLGMpe3JldHVybiBteEV2ZW50LmlzQWx0RG93bihhKXx8bnVsbD09dGhpcy5hY3RpdmVBcnJvdyYmbXhFdmVudC5pc1NoaWZ0RG93bihhKXx8bXhFdmVudC5pc01ldGFEb3duKGEpfHxteEV2ZW50LmlzUG9wdXBUcmlnZ2VyKGEpJiYhbXhFdmVudC5pc0NvbnRyb2xEb3duKGEpfTsKSG92ZXJJY29ucy5wcm90b3R5cGUuY3JlYXRlQXJyb3c9ZnVuY3Rpb24oYSxjKXt2YXIgZj1udWxsO214Q2xpZW50LklTX0lFJiYhbXhDbGllbnQuSVNfU1ZHPyhteENsaWVudC5JU19JRTYmJiJDU1MxQ29tcGF0IiE9ZG9jdW1lbnQuY29tcGF0TW9kZT8oZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KG14Q2xpZW50LlZNTF9QUkVGSVgrIjppbWFnZSIpLGYuc2V0QXR0cmlidXRlKCJzcmMiLGEuc3JjKSxmLnN0eWxlLmJvcmRlclN0eWxlPSJub25lIik6KGY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksZi5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9InVybCgiK2Euc3JjKyIpIixmLnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbj0iY2VudGVyIixmLnN0eWxlLmJhY2tncm91bmRSZXBlYXQ9Im5vLXJlcGVhdCIpLGYuc3R5bGUud2lkdGg9YS53aWR0aCs0KyJweCIsZi5zdHlsZS5oZWlnaHQ9YS5oZWlnaHQrNCsicHgiLGYuc3R5bGUuZGlzcGxheT1teENsaWVudC5JU19RVUlSS1M/ImlubGluZSI6CiJpbmxpbmUtYmxvY2siKTooZj1teFV0aWxzLmNyZWF0ZUltYWdlKGEuc3JjKSxmLnN0eWxlLndpZHRoPWEud2lkdGgrInB4IixmLnN0eWxlLmhlaWdodD1hLmhlaWdodCsicHgiLGYuc3R5bGUucGFkZGluZz10aGlzLnRvbGVyYW5jZSsicHgiKTtudWxsIT1jJiZmLnNldEF0dHJpYnV0ZSgidGl0bGUiLGMpO2Yuc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtmLnN0eWxlLmN1cnNvcj10aGlzLmNzc0N1cnNvcjtteEV2ZW50LmFkZEdlc3R1cmVMaXN0ZW5lcnMoZixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtudWxsPT10aGlzLmN1cnJlbnRTdGF0ZXx8dGhpcy5pc1Jlc2V0RXZlbnQoYSl8fCh0aGlzLm1vdXNlRG93blBvaW50PW14VXRpbHMuY29udmVydFBvaW50KHRoaXMuZ3JhcGguY29udGFpbmVyLG14RXZlbnQuZ2V0Q2xpZW50WChhKSxteEV2ZW50LmdldENsaWVudFkoYSkpLHRoaXMuZHJhZyhhLHRoaXMubW91c2VEb3duUG9pbnQueCx0aGlzLm1vdXNlRG93blBvaW50LnkpLAp0aGlzLmFjdGl2ZUFycm93PWYsdGhpcy5zZXREaXNwbGF5KCJub25lIiksbXhFdmVudC5jb25zdW1lKGEpKX0pKTtteEV2ZW50LnJlZGlyZWN0TW91c2VFdmVudHMoZix0aGlzLmdyYXBoLHRoaXMuY3VycmVudFN0YXRlKTtteEV2ZW50LmFkZExpc3RlbmVyKGYsIm1vdXNlZW50ZXIiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe214RXZlbnQuaXNNb3VzZUV2ZW50KGEpJiYobnVsbCE9dGhpcy5hY3RpdmVBcnJvdyYmdGhpcy5hY3RpdmVBcnJvdyE9ZiYmbXhVdGlscy5zZXRPcGFjaXR5KHRoaXMuYWN0aXZlQXJyb3csdGhpcy5pbmFjdGl2ZU9wYWNpdHkpLHRoaXMuZ3JhcGguY29ubmVjdGlvbkhhbmRsZXIuY29uc3RyYWludEhhbmRsZXIucmVzZXQoKSxteFV0aWxzLnNldE9wYWNpdHkoZiwxMDApLHRoaXMuYWN0aXZlQXJyb3c9Zil9KSk7bXhFdmVudC5hZGRMaXN0ZW5lcihmLCJtb3VzZWxlYXZlIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmdyYXBoLmlzTW91c2VEb3dufHwKdGhpcy5yZXNldEFjdGl2ZUFycm93KCl9KSk7cmV0dXJuIGZ9O0hvdmVySWNvbnMucHJvdG90eXBlLnJlc2V0QWN0aXZlQXJyb3c9ZnVuY3Rpb24oKXtudWxsIT10aGlzLmFjdGl2ZUFycm93JiYobXhVdGlscy5zZXRPcGFjaXR5KHRoaXMuYWN0aXZlQXJyb3csdGhpcy5pbmFjdGl2ZU9wYWNpdHkpLHRoaXMuYWN0aXZlQXJyb3c9bnVsbCl9O0hvdmVySWNvbnMucHJvdG90eXBlLmdldERpcmVjdGlvbj1mdW5jdGlvbigpe3ZhciBhPW14Q29uc3RhbnRzLkRJUkVDVElPTl9FQVNUO3RoaXMuYWN0aXZlQXJyb3c9PXRoaXMuYXJyb3dVcD9hPW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSDp0aGlzLmFjdGl2ZUFycm93PT10aGlzLmFycm93RG93bj9hPW14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSDp0aGlzLmFjdGl2ZUFycm93PT10aGlzLmFycm93TGVmdCYmKGE9bXhDb25zdGFudHMuRElSRUNUSU9OX1dFU1QpO3JldHVybiBhfTsKSG92ZXJJY29ucy5wcm90b3R5cGUudmlzaXROb2Rlcz1mdW5jdGlvbihhKXtmb3IodmFyIGM9MDtjPHRoaXMuZWx0cy5sZW5ndGg7YysrKW51bGwhPXRoaXMuZWx0c1tjXSYmYSh0aGlzLmVsdHNbY10pfTtIb3Zlckljb25zLnByb3RvdHlwZS5yZW1vdmVOb2Rlcz1mdW5jdGlvbigpe3RoaXMudmlzaXROb2RlcyhmdW5jdGlvbihhKXtudWxsIT1hLnBhcmVudE5vZGUmJmEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKX0pfTtIb3Zlckljb25zLnByb3RvdHlwZS5zZXREaXNwbGF5PWZ1bmN0aW9uKGEpe3RoaXMudmlzaXROb2RlcyhmdW5jdGlvbihjKXtjLnN0eWxlLmRpc3BsYXk9YX0pfTtIb3Zlckljb25zLnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbigpe3JldHVybiBudWxsIT10aGlzLmFjdGl2ZUFycm93JiZudWxsIT10aGlzLmN1cnJlbnRTdGF0ZX07CkhvdmVySWNvbnMucHJvdG90eXBlLmRyYWc9ZnVuY3Rpb24oYSxjLGYpe3RoaXMuZ3JhcGgucG9wdXBNZW51SGFuZGxlci5oaWRlTWVudSgpO3RoaXMuZ3JhcGguc3RvcEVkaXRpbmcoITEpO251bGwhPXRoaXMuY3VycmVudFN0YXRlJiYodGhpcy5ncmFwaC5jb25uZWN0aW9uSGFuZGxlci5zdGFydCh0aGlzLmN1cnJlbnRTdGF0ZSxjLGYpLHRoaXMuZ3JhcGguaXNNb3VzZVRyaWdnZXI9bXhFdmVudC5pc01vdXNlRXZlbnQoYSksdGhpcy5ncmFwaC5pc01vdXNlRG93bj0hMCxjPXRoaXMuZ3JhcGguc2VsZWN0aW9uQ2VsbHNIYW5kbGVyLmdldEhhbmRsZXIodGhpcy5jdXJyZW50U3RhdGUuY2VsbCksbnVsbCE9YyYmYy5zZXRIYW5kbGVzVmlzaWJsZSghMSksYz10aGlzLmdyYXBoLmNvbm5lY3Rpb25IYW5kbGVyLmVkZ2VTdGF0ZSxudWxsIT1hJiZteEV2ZW50LmlzU2hpZnREb3duKGEpJiZteEV2ZW50LmlzQ29udHJvbERvd24oYSkmJm51bGwhPWMmJiJvcnRob2dvbmFsRWRnZVN0eWxlIj09PQpteFV0aWxzLmdldFZhbHVlKGMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRURHRSxudWxsKSYmKGE9dGhpcy5nZXREaXJlY3Rpb24oKSxjLmNlbGwuc3R5bGU9bXhVdGlscy5zZXRTdHlsZShjLmNlbGwuc3R5bGUsInNvdXJjZVBvcnRDb25zdHJhaW50IixhKSxjLnN0eWxlLnNvdXJjZVBvcnRDb25zdHJhaW50PWEpKX07SG92ZXJJY29ucy5wcm90b3R5cGUuZ2V0U3RhdGVBdD1mdW5jdGlvbihhLGMsZil7cmV0dXJuIHRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZSh0aGlzLmdyYXBoLmdldENlbGxBdChjLGYpKX07CkhvdmVySWNvbnMucHJvdG90eXBlLmNsaWNrPWZ1bmN0aW9uKGEsYyxmKXt2YXIgZD1mLmdldEV2ZW50KCksbT1mLmdldEdyYXBoWCgpLGs9Zi5nZXRHcmFwaFkoKSxtPXRoaXMuZ2V0U3RhdGVBdChhLG0sayk7bnVsbD09bXx8IXRoaXMuZ3JhcGgubW9kZWwuaXNFZGdlKG0uY2VsbCl8fG14RXZlbnQuaXNDb250cm9sRG93bihkKXx8bS5nZXRWaXNpYmxlVGVybWluYWxTdGF0ZSghMCkhPWEmJm0uZ2V0VmlzaWJsZVRlcm1pbmFsU3RhdGUoITEpIT1hP251bGwhPWEmJnRoaXMuZ3JhcGguc2VsZWN0Q2VsbHNGb3JDb25uZWN0VmVydGV4KHRoaXMuZ3JhcGguY29ubmVjdFZlcnRleChhLmNlbGwsYyx0aGlzLmdyYXBoLmRlZmF1bHRFZGdlTGVuZ3RoLGQpLGQsdGhpcyk6KHRoaXMuZ3JhcGguc2V0U2VsZWN0aW9uQ2VsbChtLmNlbGwpLHRoaXMucmVzZXQoKSk7Zi5jb25zdW1lKCl9OwpIb3Zlckljb25zLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbihhKXtudWxsIT1hJiYhYXx8bnVsbD09dGhpcy51cGRhdGVUaHJlYWR8fHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy51cGRhdGVUaHJlYWQpO3RoaXMuYWN0aXZlQXJyb3c9dGhpcy5jdXJyZW50U3RhdGU9dGhpcy5tb3VzZURvd25Qb2ludD1udWxsO3RoaXMucmVtb3ZlTm9kZXMoKTt0aGlzLmJib3g9bnVsbH07CkhvdmVySWNvbnMucHJvdG90eXBlLnJlcGFpbnQ9ZnVuY3Rpb24oKXt0aGlzLmJib3g9bnVsbDtpZihudWxsIT10aGlzLmN1cnJlbnRTdGF0ZSl7dGhpcy5jdXJyZW50U3RhdGU9dGhpcy5nZXRTdGF0ZSh0aGlzLmN1cnJlbnRTdGF0ZSk7aWYobnVsbCE9dGhpcy5jdXJyZW50U3RhdGUmJnRoaXMuZ3JhcGgubW9kZWwuaXNWZXJ0ZXgodGhpcy5jdXJyZW50U3RhdGUuY2VsbCkmJnRoaXMuZ3JhcGguaXNDZWxsQ29ubmVjdGFibGUodGhpcy5jdXJyZW50U3RhdGUuY2VsbCkpe3ZhciBhPW14UmVjdGFuZ2xlLmZyb21SZWN0YW5nbGUodGhpcy5jdXJyZW50U3RhdGUpO251bGwhPXRoaXMuY3VycmVudFN0YXRlLnNoYXBlJiZudWxsIT10aGlzLmN1cnJlbnRTdGF0ZS5zaGFwZS5ib3VuZGluZ0JveCYmKGE9bXhSZWN0YW5nbGUuZnJvbVJlY3RhbmdsZSh0aGlzLmN1cnJlbnRTdGF0ZS5zaGFwZS5ib3VuZGluZ0JveCkpO2EuZ3Jvdyh0aGlzLmdyYXBoLnRvbGVyYW5jZSk7YS5ncm93KHRoaXMuYXJyb3dTcGFjaW5nKTsKdmFyIGM9dGhpcy5ncmFwaC5zZWxlY3Rpb25DZWxsc0hhbmRsZXIuZ2V0SGFuZGxlcih0aGlzLmN1cnJlbnRTdGF0ZS5jZWxsKTt0aGlzLmdyYXBoLmlzVGFibGVSb3codGhpcy5jdXJyZW50U3RhdGUuY2VsbCkmJihjPXRoaXMuZ3JhcGguc2VsZWN0aW9uQ2VsbHNIYW5kbGVyLmdldEhhbmRsZXIodGhpcy5ncmFwaC5tb2RlbC5nZXRQYXJlbnQodGhpcy5jdXJyZW50U3RhdGUuY2VsbCkpKTt2YXIgZj1udWxsO251bGwhPWMmJihhLngtPWMuaG9yaXpvbnRhbE9mZnNldC8yLGEueS09Yy52ZXJ0aWNhbE9mZnNldC8yLGEud2lkdGgrPWMuaG9yaXpvbnRhbE9mZnNldCxhLmhlaWdodCs9Yy52ZXJ0aWNhbE9mZnNldCxudWxsIT1jLnJvdGF0aW9uU2hhcGUmJm51bGwhPWMucm90YXRpb25TaGFwZS5ub2RlJiYiaGlkZGVuIiE9Yy5yb3RhdGlvblNoYXBlLm5vZGUuc3R5bGUudmlzaWJpbGl0eSYmIm5vbmUiIT1jLnJvdGF0aW9uU2hhcGUubm9kZS5zdHlsZS5kaXNwbGF5JiZudWxsIT1jLnJvdGF0aW9uU2hhcGUuYm91bmRpbmdCb3gmJgooZj1jLnJvdGF0aW9uU2hhcGUuYm91bmRpbmdCb3gpKTtjPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsZSxjKXtpZihudWxsIT1mKXt2YXIgYj1uZXcgbXhSZWN0YW5nbGUoZSxjLGEuY2xpZW50V2lkdGgsYS5jbGllbnRIZWlnaHQpO214VXRpbHMuaW50ZXJzZWN0cyhiLGYpJiYoYT09dGhpcy5hcnJvd1VwP2MtPWIueStiLmhlaWdodC1mLnk6YT09dGhpcy5hcnJvd1JpZ2h0P2UrPWYueCtmLndpZHRoLWIueDphPT10aGlzLmFycm93RG93bj9jKz1mLnkrZi5oZWlnaHQtYi55OmE9PXRoaXMuYXJyb3dMZWZ0JiYoZS09Yi54K2Iud2lkdGgtZi54KSl9YS5zdHlsZS5sZWZ0PWUrInB4IjthLnN0eWxlLnRvcD1jKyJweCI7bXhVdGlscy5zZXRPcGFjaXR5KGEsdGhpcy5pbmFjdGl2ZU9wYWNpdHkpfSk7Yyh0aGlzLmFycm93VXAsTWF0aC5yb3VuZCh0aGlzLmN1cnJlbnRTdGF0ZS5nZXRDZW50ZXJYKCktdGhpcy50cmlhbmdsZVVwLndpZHRoLzItdGhpcy50b2xlcmFuY2UpLE1hdGgucm91bmQoYS55LQp0aGlzLnRyaWFuZ2xlVXAuaGVpZ2h0LXRoaXMudG9sZXJhbmNlKSk7Yyh0aGlzLmFycm93UmlnaHQsTWF0aC5yb3VuZChhLngrYS53aWR0aC10aGlzLnRvbGVyYW5jZSksTWF0aC5yb3VuZCh0aGlzLmN1cnJlbnRTdGF0ZS5nZXRDZW50ZXJZKCktdGhpcy50cmlhbmdsZVJpZ2h0LmhlaWdodC8yLXRoaXMudG9sZXJhbmNlKSk7Yyh0aGlzLmFycm93RG93bixwYXJzZUludCh0aGlzLmFycm93VXAuc3R5bGUubGVmdCksTWF0aC5yb3VuZChhLnkrYS5oZWlnaHQtdGhpcy50b2xlcmFuY2UpKTtjKHRoaXMuYXJyb3dMZWZ0LE1hdGgucm91bmQoYS54LXRoaXMudHJpYW5nbGVMZWZ0LndpZHRoLXRoaXMudG9sZXJhbmNlKSxwYXJzZUludCh0aGlzLmFycm93UmlnaHQuc3R5bGUudG9wKSk7aWYodGhpcy5jaGVja0NvbGxpc2lvbnMpe3ZhciBjPXRoaXMuZ3JhcGguZ2V0Q2VsbEF0KGEueCthLndpZHRoK3RoaXMudHJpYW5nbGVSaWdodC53aWR0aC8yLHRoaXMuY3VycmVudFN0YXRlLmdldENlbnRlclkoKSksCmQ9dGhpcy5ncmFwaC5nZXRDZWxsQXQoYS54LXRoaXMudHJpYW5nbGVMZWZ0LndpZHRoLzIsdGhpcy5jdXJyZW50U3RhdGUuZ2V0Q2VudGVyWSgpKSxtPXRoaXMuZ3JhcGguZ2V0Q2VsbEF0KHRoaXMuY3VycmVudFN0YXRlLmdldENlbnRlclgoKSxhLnktdGhpcy50cmlhbmdsZVVwLmhlaWdodC8yKSxhPXRoaXMuZ3JhcGguZ2V0Q2VsbEF0KHRoaXMuY3VycmVudFN0YXRlLmdldENlbnRlclgoKSxhLnkrYS5oZWlnaHQrdGhpcy50cmlhbmdsZURvd24uaGVpZ2h0LzIpO251bGwhPWMmJmM9PWQmJmQ9PW0mJm09PWEmJihhPW09ZD1jPW51bGwpO3ZhciBrPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KHRoaXMuY3VycmVudFN0YXRlLmNlbGwpLHE9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxlKXt2YXIgYj10aGlzLmdyYXBoLm1vZGVsLmlzVmVydGV4KGEpJiZ0aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeShhKTtudWxsPT1hfHx0aGlzLmdyYXBoLm1vZGVsLmlzQW5jZXN0b3IoYSwKdGhpcy5jdXJyZW50U3RhdGUuY2VsbCl8fHRoaXMuZ3JhcGguaXNTd2ltbGFuZShhKXx8IShudWxsPT1ifHxudWxsPT1rfHxiLmhlaWdodDwzKmsuaGVpZ2h0JiZiLndpZHRoPDMqay53aWR0aCk/ZS5zdHlsZS52aXNpYmlsaXR5PSJ2aXNpYmxlIjplLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiJ9KTtxKGMsdGhpcy5hcnJvd1JpZ2h0KTtxKGQsdGhpcy5hcnJvd0xlZnQpO3EobSx0aGlzLmFycm93VXApO3EoYSx0aGlzLmFycm93RG93bil9ZWxzZSB0aGlzLmFycm93TGVmdC5zdHlsZS52aXNpYmlsaXR5PSJ2aXNpYmxlIix0aGlzLmFycm93UmlnaHQuc3R5bGUudmlzaWJpbGl0eT0idmlzaWJsZSIsdGhpcy5hcnJvd1VwLnN0eWxlLnZpc2liaWxpdHk9InZpc2libGUiLHRoaXMuYXJyb3dEb3duLnN0eWxlLnZpc2liaWxpdHk9InZpc2libGUiO3RoaXMuZ3JhcGgudG9vbHRpcEhhbmRsZXIuaXNFbmFibGVkKCk/KHRoaXMuYXJyb3dMZWZ0LnNldEF0dHJpYnV0ZSgidGl0bGUiLG14UmVzb3VyY2VzLmdldCgicGx1c1Rvb2x0aXAiKSksCnRoaXMuYXJyb3dSaWdodC5zZXRBdHRyaWJ1dGUoInRpdGxlIixteFJlc291cmNlcy5nZXQoInBsdXNUb29sdGlwIikpLHRoaXMuYXJyb3dVcC5zZXRBdHRyaWJ1dGUoInRpdGxlIixteFJlc291cmNlcy5nZXQoInBsdXNUb29sdGlwIikpLHRoaXMuYXJyb3dEb3duLnNldEF0dHJpYnV0ZSgidGl0bGUiLG14UmVzb3VyY2VzLmdldCgicGx1c1Rvb2x0aXAiKSkpOih0aGlzLmFycm93TGVmdC5yZW1vdmVBdHRyaWJ1dGUoInRpdGxlIiksdGhpcy5hcnJvd1JpZ2h0LnJlbW92ZUF0dHJpYnV0ZSgidGl0bGUiKSx0aGlzLmFycm93VXAucmVtb3ZlQXR0cmlidXRlKCJ0aXRsZSIpLHRoaXMuYXJyb3dEb3duLnJlbW92ZUF0dHJpYnV0ZSgidGl0bGUiKSl9ZWxzZSB0aGlzLnJlc2V0KCk7bnVsbCE9dGhpcy5jdXJyZW50U3RhdGUmJih0aGlzLmJib3g9dGhpcy5jb21wdXRlQm91bmRpbmdCb3goKSxudWxsIT10aGlzLmJib3gmJnRoaXMuYmJveC5ncm93KDEwKSl9fTsKSG92ZXJJY29ucy5wcm90b3R5cGUuY29tcHV0ZUJvdW5kaW5nQm94PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5ncmFwaC5tb2RlbC5pc0VkZ2UodGhpcy5jdXJyZW50U3RhdGUuY2VsbCk/bnVsbDpteFJlY3RhbmdsZS5mcm9tUmVjdGFuZ2xlKHRoaXMuY3VycmVudFN0YXRlKTt0aGlzLnZpc2l0Tm9kZXMoZnVuY3Rpb24oYyl7bnVsbCE9Yy5wYXJlbnROb2RlJiYoYz1uZXcgbXhSZWN0YW5nbGUoYy5vZmZzZXRMZWZ0LGMub2Zmc2V0VG9wLGMub2Zmc2V0V2lkdGgsYy5vZmZzZXRIZWlnaHQpLG51bGw9PWE/YT1jOmEuYWRkKGMpKX0pO3JldHVybiBhfTsKSG92ZXJJY29ucy5wcm90b3R5cGUuZ2V0U3RhdGU9ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSlpZihhPWEuY2VsbCx0aGlzLmdyYXBoLmdldE1vZGVsKCkuY29udGFpbnMoYSkpe2lmKHRoaXMuZ3JhcGguZ2V0TW9kZWwoKS5pc1ZlcnRleChhKSYmIXRoaXMuZ3JhcGguaXNDZWxsQ29ubmVjdGFibGUoYSkpe3ZhciBjPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKS5nZXRQYXJlbnQoYSk7dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmlzVmVydGV4KGMpJiZ0aGlzLmdyYXBoLmlzQ2VsbENvbm5lY3RhYmxlKGMpJiYoYT1jKX1pZih0aGlzLmdyYXBoLmlzQ2VsbExvY2tlZChhKXx8dGhpcy5ncmFwaC5tb2RlbC5pc0VkZ2UoYSkpYT1udWxsO2E9dGhpcy5ncmFwaC52aWV3LmdldFN0YXRlKGEpO251bGwhPWEmJm51bGw9PWEuc3R5bGUmJihhPW51bGwpfWVsc2UgYT1udWxsO3JldHVybiBhfTsKSG92ZXJJY29ucy5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEsYyxmKXtpZighdGhpcy5ncmFwaC5jb25uZWN0aW9uQXJyb3dzRW5hYmxlZHx8bnVsbCE9YSYmIjAiPT1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsImFsbG93QXJyb3dzIiwiMSIpKXRoaXMucmVzZXQoKTtlbHNle251bGwhPWEmJm51bGwhPWEuY2VsbC5nZW9tZXRyeSYmYS5jZWxsLmdlb21ldHJ5LnJlbGF0aXZlJiZ0aGlzLmdyYXBoLm1vZGVsLmlzRWRnZShhLmNlbGwucGFyZW50KSYmKGE9bnVsbCk7dmFyIGQ9bnVsbDt0aGlzLnByZXYhPWF8fHRoaXMuaXNBY3RpdmUoKT8odGhpcy5zdGFydFRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCksdGhpcy5wcmV2PWEsZD0wLG51bGwhPXRoaXMudXBkYXRlVGhyZWFkJiZ3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMudXBkYXRlVGhyZWFkKSxudWxsIT1hJiYodGhpcy51cGRhdGVUaHJlYWQ9d2luZG93LnNldFRpbWVvdXQobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmlzQWN0aXZlKCl8fAp0aGlzLmdyYXBoLmlzTW91c2VEb3dufHx0aGlzLmdyYXBoLnBhbm5pbmdIYW5kbGVyLmlzQWN0aXZlKCl8fCh0aGlzLnByZXY9YSx0aGlzLnVwZGF0ZShhLGMsZikpfSksdGhpcy51cGRhdGVEZWxheSsxMCkpKTpudWxsIT10aGlzLnN0YXJ0VGltZSYmKGQ9KG5ldyBEYXRlKS5nZXRUaW1lKCktdGhpcy5zdGFydFRpbWUpO3RoaXMuc2V0RGlzcGxheSgiIik7bnVsbCE9dGhpcy5jdXJyZW50U3RhdGUmJnRoaXMuY3VycmVudFN0YXRlIT1hJiZkPHRoaXMuYWN0aXZhdGlvbkRlbGF5JiZudWxsIT10aGlzLmJib3gmJiFteFV0aWxzLmNvbnRhaW5zKHRoaXMuYmJveCxjLGYpP3RoaXMucmVzZXQoITEpOihudWxsIT10aGlzLmN1cnJlbnRTdGF0ZXx8ZD50aGlzLmFjdGl2YXRpb25EZWxheSkmJnRoaXMuY3VycmVudFN0YXRlIT1hJiYoZD50aGlzLnVwZGF0ZURlbGF5JiZudWxsIT1hfHxudWxsPT10aGlzLmJib3h8fG51bGw9PWN8fG51bGw9PWZ8fCFteFV0aWxzLmNvbnRhaW5zKHRoaXMuYmJveCwKYyxmKSkmJihudWxsIT1hJiZ0aGlzLmdyYXBoLmlzRW5hYmxlZCgpPyh0aGlzLnJlbW92ZU5vZGVzKCksdGhpcy5zZXRDdXJyZW50U3RhdGUoYSksdGhpcy5yZXBhaW50KCksdGhpcy5ncmFwaC5jb25uZWN0aW9uSGFuZGxlci5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50Rm9jdXMhPWEmJnRoaXMuZ3JhcGguY29ubmVjdGlvbkhhbmRsZXIuY29uc3RyYWludEhhbmRsZXIucmVzZXQoKSk6dGhpcy5yZXNldCgpKX19OwpIb3Zlckljb25zLnByb3RvdHlwZS5zZXRDdXJyZW50U3RhdGU9ZnVuY3Rpb24oYSl7ImVhc3R3ZXN0IiE9YS5zdHlsZS5wb3J0Q29uc3RyYWludCYmKHRoaXMuZ3JhcGguY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuYXJyb3dVcCksdGhpcy5ncmFwaC5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5hcnJvd0Rvd24pKTt0aGlzLmdyYXBoLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmFycm93UmlnaHQpO3RoaXMuZ3JhcGguY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuYXJyb3dMZWZ0KTt0aGlzLmN1cnJlbnRTdGF0ZT1hfTtHcmFwaC5wcm90b3R5cGUuY3JlYXRlUGFyZW50PWZ1bmN0aW9uKGEsYyxmLGQsbSl7YT10aGlzLmNsb25lQ2VsbChhKTtmb3IodmFyIGs9MDtrPGY7aysrKXt2YXIgcT10aGlzLmNsb25lQ2VsbChjKSxiPXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KHEpO251bGwhPWImJihiLngrPWsqZCxiLnkrPWsqbSk7YS5pbnNlcnQocSl9cmV0dXJuIGF9OwpHcmFwaC5wcm90b3R5cGUuY3JlYXRlVGFibGU9ZnVuY3Rpb24oYSxjLGYsZCxtLGsscSxiLGUpe2Y9bnVsbCE9Zj9mOjYwO2Q9bnVsbCE9ZD9kOjQwO2s9bnVsbCE9az9rOjMwO2I9bnVsbCE9Yj9iOiJzaGFwZT1wYXJ0aWFsUmVjdGFuZ2xlO2h0bWw9MTt3aGl0ZVNwYWNlPXdyYXA7Y29sbGFwc2libGU9MDtkcm9wVGFyZ2V0PTA7cG9pbnRlckV2ZW50cz0wO2ZpbGxDb2xvcj1ub25lO3RvcD0wO2xlZnQ9MDtib3R0b209MDtyaWdodD0wO3BvaW50cz1bWzAsMC41XSxbMSwwLjVdXTtwb3J0Q29uc3RyYWludD1lYXN0d2VzdDsiO2U9bnVsbCE9ZT9lOiJzaGFwZT1wYXJ0aWFsUmVjdGFuZ2xlO2h0bWw9MTt3aGl0ZVNwYWNlPXdyYXA7Y29ubmVjdGFibGU9MDtvdmVyZmxvdz1oaWRkZW47ZmlsbENvbG9yPW5vbmU7dG9wPTA7bGVmdD0wO2JvdHRvbT0wO3JpZ2h0PTA7IjtyZXR1cm4gdGhpcy5jcmVhdGVQYXJlbnQodGhpcy5jcmVhdGVWZXJ0ZXgobnVsbCxudWxsLG51bGwhPW0/bToiIiwKMCwwLGMqZixhKmQrKG51bGwhPW0/azowKSxudWxsIT1xP3E6InNoYXBlPXRhYmxlO2h0bWw9MTt3aGl0ZVNwYWNlPXdyYXA7c3RhcnRTaXplPSIrKG51bGwhPW0/azoiMCIpKyI7Y29udGFpbmVyPTE7Y29sbGFwc2libGU9MDtjaGlsZExheW91dD10YWJsZUxheW91dDsiKSx0aGlzLmNyZWF0ZVBhcmVudCh0aGlzLmNyZWF0ZVZlcnRleChudWxsLG51bGwsIiIsMCwwLGMqZixkLGIpLHRoaXMuY3JlYXRlVmVydGV4KG51bGwsbnVsbCwiIiwwLDAsZixkLGUpLGMsZiwwKSxhLDAsZCl9OwpHcmFwaC5wcm90b3R5cGUuc2V0VGFibGVWYWx1ZXM9ZnVuY3Rpb24oYSxjLGYpe2Zvcih2YXIgZD10aGlzLm1vZGVsLmdldENoaWxkQ2VsbHMoYSwhMCksbT0wO208ZC5sZW5ndGg7bSsrKWlmKG51bGwhPWYmJihkW21dLnZhbHVlPWZbbV0pLG51bGwhPWMpZm9yKHZhciBrPXRoaXMubW9kZWwuZ2V0Q2hpbGRDZWxscyhkW21dLCEwKSxxPTA7cTxrLmxlbmd0aDtxKyspbnVsbCE9Y1ttXVtxXSYmKGtbcV0udmFsdWU9Y1ttXVtxXSk7cmV0dXJuIGF9OwpHcmFwaC5wcm90b3R5cGUuY3JlYXRlQ3Jvc3NGdW5jdGlvbmFsU3dpbWxhbmU9ZnVuY3Rpb24oYSxjLGYsZCxtLGsscSxiLGUpe2Y9bnVsbCE9Zj9mOjEyMDtkPW51bGwhPWQ/ZDoxMjA7bT1udWxsIT1tP206NDA7cT1udWxsIT1xP3E6InN3aW1sYW5lO2hvcml6b250YWw9MDtwb2ludHM9W1swLDAuNV0sWzEsMC41XV07cG9ydENvbnN0cmFpbnQ9ZWFzdHdlc3Q7c3RhcnRTaXplPSIrbSsiO2h0bWw9MTt3aGl0ZVNwYWNlPXdyYXA7Y29sbGFwc2libGU9MDtyZWN1cnNpdmVSZXNpemU9MDtleHBhbmQ9MDtwb2ludGVyRXZlbnRzPTA7IjtiPW51bGwhPWI/Yjoic3dpbWxhbmU7Y29ubmVjdGFibGU9MDtzdGFydFNpemU9NDA7aHRtbD0xO3doaXRlU3BhY2U9d3JhcDtjb2xsYXBzaWJsZT0wO3JlY3Vyc2l2ZVJlc2l6ZT0wO2V4cGFuZD0wO3BvaW50ZXJFdmVudHM9MDsiO2U9bnVsbCE9ZT9lOiJzd2ltbGFuZTtjb25uZWN0YWJsZT0wO3N0YXJ0U2l6ZT0wO2h0bWw9MTt3aGl0ZVNwYWNlPXdyYXA7Y29sbGFwc2libGU9MDtyZWN1cnNpdmVSZXNpemU9MDtleHBhbmQ9MDtwb2ludGVyRXZlbnRzPTA7IjsKbT10aGlzLmNyZWF0ZVZlcnRleChudWxsLG51bGwsIiIsMCwwLGMqZixhKmQsbnVsbCE9az9rOiJzaGFwZT10YWJsZTtjaGlsZExheW91dD10YWJsZUxheW91dDtyb3dMaW5lcz0wO2NvbHVtbkxpbmVzPTA7c3RhcnRTaXplPSIrbSsiO2h0bWw9MTt3aGl0ZVNwYWNlPXdyYXA7Y29sbGFwc2libGU9MDtyZWN1cnNpdmVSZXNpemU9MDtleHBhbmQ9MDtwb2ludGVyRXZlbnRzPTA7Iik7az1teFV0aWxzLmdldFZhbHVlKHRoaXMuZ2V0Q2VsbFN0eWxlKG0pLG14Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRSxteENvbnN0YW50cy5ERUZBVUxUX1NUQVJUU0laRSk7bS5nZW9tZXRyeS53aWR0aCs9azttLmdlb21ldHJ5LmhlaWdodCs9aztxPXRoaXMuY3JlYXRlVmVydGV4KG51bGwsbnVsbCwiIiwwLGssYypmK2ssZCxxKTttLmluc2VydCh0aGlzLmNyZWF0ZVBhcmVudChxLHRoaXMuY3JlYXRlVmVydGV4KG51bGwsbnVsbCwiIixrLDAsZixkLGIpLGMsZiwwKSk7cmV0dXJuIDE8YT8ocS5nZW9tZXRyeS55PQpkK2ssdGhpcy5jcmVhdGVQYXJlbnQobSx0aGlzLmNyZWF0ZVBhcmVudChxLHRoaXMuY3JlYXRlVmVydGV4KG51bGwsbnVsbCwiIixrLDAsZixkLGUpLGMsZiwwKSxhLTEsMCxkKSk6bX07R3JhcGgucHJvdG90eXBlLmlzVGFibGVDZWxsPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1vZGVsLmlzVmVydGV4KGEpJiZ0aGlzLmlzVGFibGVSb3codGhpcy5tb2RlbC5nZXRQYXJlbnQoYSkpfTtHcmFwaC5wcm90b3R5cGUuaXNUYWJsZVJvdz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5tb2RlbC5pc1ZlcnRleChhKSYmdGhpcy5pc1RhYmxlKHRoaXMubW9kZWwuZ2V0UGFyZW50KGEpKX07R3JhcGgucHJvdG90eXBlLmlzVGFibGU9ZnVuY3Rpb24oYSl7YT10aGlzLmdldENlbGxTdHlsZShhKTtyZXR1cm4gbnVsbCE9YSYmInRhYmxlTGF5b3V0Ij09YS5jaGlsZExheW91dH07CkdyYXBoLnByb3RvdHlwZS5zZXRUYWJsZVJvd0hlaWdodD1mdW5jdGlvbihhLGMsZil7Zj1udWxsIT1mP2Y6ITA7dmFyIGQ9dGhpcy5nZXRNb2RlbCgpO2QuYmVnaW5VcGRhdGUoKTt0cnl7dmFyIG09dGhpcy5nZXRDZWxsR2VvbWV0cnkoYSk7aWYobnVsbCE9bSl7bT1tLmNsb25lKCk7bS5oZWlnaHQrPWM7ZC5zZXRHZW9tZXRyeShhLG0pO3ZhciBrPWQuZ2V0UGFyZW50KGEpLHE9ZC5nZXRDaGlsZENlbGxzKGssITApO2lmKCFmKXt2YXIgYj1teFV0aWxzLmluZGV4T2YocSxhKTtpZihiPHEubGVuZ3RoLTEpe3ZhciBlPXFbYisxXSxnPXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KGUpO251bGwhPWcmJihnPWcuY2xvbmUoKSxnLnkrPWMsZy5oZWlnaHQtPWMsZC5zZXRHZW9tZXRyeShlLGcpKX19dmFyIHA9dGhpcy5nZXRDZWxsR2VvbWV0cnkoayk7bnVsbCE9cCYmKGZ8fChmPWE9PXFbcS5sZW5ndGgtMV0pLGYmJihwPXAuY2xvbmUoKSxwLmhlaWdodCs9YyxkLnNldEdlb21ldHJ5KGsscCkpKTsKbnVsbCE9dGhpcy5sYXlvdXRNYW5hZ2VyJiZ0aGlzLmxheW91dE1hbmFnZXIuZXhlY3V0ZUxheW91dChrLCEwKX19ZmluYWxseXtkLmVuZFVwZGF0ZSgpfX07CkdyYXBoLnByb3RvdHlwZS5zZXRUYWJsZUNvbHVtbldpZHRoPWZ1bmN0aW9uKGEsYyxmKXtmPW51bGwhPWY/ZjohMTt2YXIgZD10aGlzLmdldE1vZGVsKCksbT1kLmdldFBhcmVudChhKSxrPWQuZ2V0UGFyZW50KG0pLHE9ZC5nZXRDaGlsZENlbGxzKG0sITApO2E9bXhVdGlscy5pbmRleE9mKHEsYSk7dmFyIGI9YT09cS5sZW5ndGgtMTtkLmJlZ2luVXBkYXRlKCk7dHJ5e2Zvcih2YXIgZT1kLmdldENoaWxkQ2VsbHMoaywhMCksZz0wO2c8ZS5sZW5ndGg7ZysrKXt2YXIgbT1lW2ddLHE9ZC5nZXRDaGlsZENlbGxzKG0sITApLHA9cVthXSxsPXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KHApO251bGwhPWwmJihsPWwuY2xvbmUoKSxsLndpZHRoKz1jLGQuc2V0R2VvbWV0cnkocCxsKSk7YTxxLmxlbmd0aC0xJiYocD1xW2ErMV0sbD10aGlzLmdldENlbGxHZW9tZXRyeShwKSxudWxsIT1sJiYobD1sLmNsb25lKCksbC54Kz1jLGZ8fChsLndpZHRoLT1jKSxkLnNldEdlb21ldHJ5KHAsbCkpKX1pZihifHwKZil7dmFyIG49dGhpcy5nZXRDZWxsR2VvbWV0cnkoayk7bnVsbCE9biYmKG49bi5jbG9uZSgpLG4ud2lkdGgrPWMsZC5zZXRHZW9tZXRyeShrLG4pKX1udWxsIT10aGlzLmxheW91dE1hbmFnZXImJnRoaXMubGF5b3V0TWFuYWdlci5leGVjdXRlTGF5b3V0KGssITApfWZpbmFsbHl7ZC5lbmRVcGRhdGUoKX19O2Z1bmN0aW9uIFRhYmxlTGF5b3V0KGEpe214R3JhcGhMYXlvdXQuY2FsbCh0aGlzLGEpfVRhYmxlTGF5b3V0LnByb3RvdHlwZT1uZXcgbXhTdGFja0xheW91dDtUYWJsZUxheW91dC5wcm90b3R5cGUuY29uc3RydWN0b3I9VGFibGVMYXlvdXQ7VGFibGVMYXlvdXQucHJvdG90eXBlLmlzSG9yaXpvbnRhbD1mdW5jdGlvbigpe3JldHVybiExfTsKVGFibGVMYXlvdXQucHJvdG90eXBlLmdldFNpemU9ZnVuY3Rpb24oYSxjKXtmb3IodmFyIGY9MCxkPTA7ZDxhLmxlbmd0aDtkKyspaWYoIXRoaXMuaXNWZXJ0ZXhJZ25vcmVkKGFbZF0pKXt2YXIgbT10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeShhW2RdKTtudWxsIT1tJiYoZis9Yz9tLndpZHRoOm0uaGVpZ2h0KX1yZXR1cm4gZn07VGFibGVMYXlvdXQucHJvdG90eXBlLmdldFJvd0xheW91dD1mdW5jdGlvbihhLGMpe2Zvcih2YXIgZj10aGlzLmdyYXBoLm1vZGVsLmdldENoaWxkQ2VsbHMoYSwhMCksZD10aGlzLmdyYXBoLmdldEFjdHVhbFN0YXJ0U2l6ZShhLCEwKSxtPXRoaXMuZ2V0U2l6ZShmLCEwKSxrPWMtZC54LWQud2lkdGgscT1bXSxkPWQueCxiPTA7YjxmLmxlbmd0aDtiKyspe3ZhciBlPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGZbYl0pO251bGwhPWUmJihkKz1lLndpZHRoKmsvbSxxLnB1c2goTWF0aC5yb3VuZChkKSkpfXJldHVybiBxfTsKVGFibGVMYXlvdXQucHJvdG90eXBlLmxheW91dFJvdz1mdW5jdGlvbihhLGMsZixkKXt2YXIgbT10aGlzLmdyYXBoLmdldE1vZGVsKCksaz1tLmdldENoaWxkQ2VsbHMoYSwhMCk7YT10aGlzLmdyYXBoLmdldEFjdHVhbFN0YXJ0U2l6ZShhLCEwKTt2YXIgcT1hLngsYj0wO251bGwhPWMmJihjPWMuc2xpY2UoKSxjLnNwbGljZSgwLDAsYS54KSk7Zm9yKHZhciBlPTA7ZTxrLmxlbmd0aDtlKyspe3ZhciBnPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGtbZV0pO251bGwhPWcmJihnPWcuY2xvbmUoKSxnLnk9YS55LGcuaGVpZ2h0PWYtYS55LWEuaGVpZ2h0LG51bGwhPWM/KGcueD1jW2VdLGcud2lkdGg9Y1tlKzFdLWcueCxlPT1rLmxlbmd0aC0xJiZlPGMubGVuZ3RoLTImJihnLndpZHRoPWQtZy54LWEueC1hLndpZHRoKSk6KGcueD1xLHErPWcud2lkdGgsZT09ay5sZW5ndGgtMT9nLndpZHRoPWQtYS54LWEud2lkdGgtYjpiKz1nLndpZHRoKSxtLnNldEdlb21ldHJ5KGtbZV0sZykpfXJldHVybiBifTsKVGFibGVMYXlvdXQucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSl7dmFyIGM9dGhpcy5ncmFwaC5nZXRBY3R1YWxTdGFydFNpemUoYSwhMCksZj10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeShhKSxkPXRoaXMuZ3JhcGguZ2V0Q2VsbFN0eWxlKGEpLG09IjEiPT1teFV0aWxzLmdldFZhbHVlKGQsInJlc2l6ZUxhc3RSb3ciLCIwIiksaz0iMSI9PW14VXRpbHMuZ2V0VmFsdWUoZCwicmVzaXplTGFzdCIsIjAiKSxkPSIxIj09bXhVdGlscy5nZXRWYWx1ZShkLCJmaXhlZFJvd3MiLCIwIikscT10aGlzLmdyYXBoLmdldE1vZGVsKCksYj0wO3EuYmVnaW5VcGRhdGUoKTt0cnl7dmFyIGU9Zi5oZWlnaHQtYy55LWMuaGVpZ2h0LGc9Zi53aWR0aC1jLngtYy53aWR0aCxwPXEuZ2V0Q2hpbGRDZWxscyhhLCEwKSxsPXRoaXMuZ2V0U2l6ZShwLCExKTtpZigwPGUmJjA8ZyYmMDxwLmxlbmd0aCYmMDxsKXtpZihtKXt2YXIgbj10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeShwW3AubGVuZ3RoLQoxXSk7bnVsbCE9biYmKG49bi5jbG9uZSgpLG4uaGVpZ2h0PWUtbCtuLmhlaWdodCxxLnNldEdlb21ldHJ5KHBbcC5sZW5ndGgtMV0sbikpfWZvcih2YXIgdj1rP251bGw6dGhpcy5nZXRSb3dMYXlvdXQocFswXSxnKSx0PWMueSx4PTA7eDxwLmxlbmd0aDt4Kyspbj10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeShwW3hdKSxudWxsIT1uJiYobj1uLmNsb25lKCksbi54PWMueCxuLndpZHRoPWcsbi55PU1hdGgucm91bmQodCksdD1tfHxkP3Qrbi5oZWlnaHQ6dCtuLmhlaWdodC9sKmUsbi5oZWlnaHQ9TWF0aC5yb3VuZCh0KS1uLnkscS5zZXRHZW9tZXRyeShwW3hdLG4pKSxiPU1hdGgubWF4KGIsdGhpcy5sYXlvdXRSb3cocFt4XSx2LG4uaGVpZ2h0LGcpKTtkJiZlPGwmJihmPWYuY2xvbmUoKSxmLmhlaWdodD10K2MuaGVpZ2h0LHEuc2V0R2VvbWV0cnkoYSxmKSk7ayYmZzxiK0dyYXBoLm1pblRhYmxlQ29sdW1uV2lkdGgmJihmPWYuY2xvbmUoKSxmLndpZHRoPWIrYy53aWR0aCtjLngrCkdyYXBoLm1pblRhYmxlQ29sdW1uV2lkdGgscS5zZXRHZW9tZXRyeShhLGYpKX19ZmluYWxseXtxLmVuZFVwZGF0ZSgpfX19OwooZnVuY3Rpb24oKXt2YXIgYT1teEdyYXBoVmlldy5wcm90b3R5cGUucmVzZXRWYWxpZGF0aW9uU3RhdGU7bXhHcmFwaFZpZXcucHJvdG90eXBlLnJlc2V0VmFsaWRhdGlvblN0YXRlPWZ1bmN0aW9uKCl7YS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy52YWxpZEVkZ2VzPVtdfTt2YXIgYz1teEdyYXBoVmlldy5wcm90b3R5cGUudmFsaWRhdGVDZWxsU3RhdGU7bXhHcmFwaFZpZXcucHJvdG90eXBlLnZhbGlkYXRlQ2VsbFN0YXRlPWZ1bmN0aW9uKGEsYil7Yj1udWxsIT1iP2I6ITA7dmFyIGU9dGhpcy5nZXRTdGF0ZShhKTtudWxsIT1lJiZiJiZ0aGlzLmdyYXBoLm1vZGVsLmlzRWRnZShlLmNlbGwpJiZudWxsIT1lLnN0eWxlJiYxIT1lLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0NVUlZFRF0mJiFlLmludmFsaWQmJnRoaXMudXBkYXRlTGluZUp1bXBzKGUpJiZ0aGlzLmdyYXBoLmNlbGxSZW5kZXJlci5yZWRyYXcoZSwhMSx0aGlzLmlzUmVuZGVyaW5nKCkpO2U9Yy5hcHBseSh0aGlzLAphcmd1bWVudHMpO251bGwhPWUmJmImJnRoaXMuZ3JhcGgubW9kZWwuaXNFZGdlKGUuY2VsbCkmJm51bGwhPWUuc3R5bGUmJjEhPWUuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfQ1VSVkVEXSYmdGhpcy52YWxpZEVkZ2VzLnB1c2goZSk7cmV0dXJuIGV9O3ZhciBmPW14Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5pc1NoYXBlSW52YWxpZDtteENlbGxSZW5kZXJlci5wcm90b3R5cGUuaXNTaGFwZUludmFsaWQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZi5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fG51bGwhPWEucm91dGVkUG9pbnRzJiZudWxsIT1iLnJvdXRlZFBvaW50cyYmIW14VXRpbHMuZXF1YWxQb2ludHMoYi5yb3V0ZWRQb2ludHMsYS5yb3V0ZWRQb2ludHMpfTt2YXIgZD1teEdyYXBoVmlldy5wcm90b3R5cGUudXBkYXRlQ2VsbFN0YXRlO214R3JhcGhWaWV3LnByb3RvdHlwZS51cGRhdGVDZWxsU3RhdGU9ZnVuY3Rpb24oYSl7ZC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5ncmFwaC5tb2RlbC5pc0VkZ2UoYS5jZWxsKSYmCjEhPWEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfQ1VSVkVEXSYmdGhpcy51cGRhdGVMaW5lSnVtcHMoYSl9O214R3JhcGhWaWV3LnByb3RvdHlwZS51cGRhdGVMaW5lSnVtcHM9ZnVuY3Rpb24oYSl7dmFyIGI9YS5hYnNvbHV0ZVBvaW50cztpZihHcmFwaC5saW5lSnVtcHNFbmFibGVkKXt2YXIgZT1udWxsIT1hLnJvdXRlZFBvaW50cyxjPW51bGw7aWYobnVsbCE9YiYmbnVsbCE9dGhpcy52YWxpZEVkZ2VzJiYibm9uZSIhPT1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsImp1bXBTdHlsZSIsIm5vbmUiKSl7Zm9yKHZhciBkPWZ1bmN0aW9uKGIsZSxkKXt2YXIgZj1uZXcgbXhQb2ludChlLGQpO2YudHlwZT1iO2MucHVzaChmKTtmPW51bGwhPWEucm91dGVkUG9pbnRzP2Eucm91dGVkUG9pbnRzW2MubGVuZ3RoLTFdOm51bGw7cmV0dXJuIG51bGw9PWZ8fGYudHlwZSE9Ynx8Zi54IT1lfHxmLnkhPWR9LGY9LjUqdGhpcy5zY2FsZSxlPSExLGM9W10sdD0wO3Q8Yi5sZW5ndGgtMTt0Kyspe2Zvcih2YXIgeD0KYlt0KzFdLG09Ylt0XSxrPVtdLHE9Ylt0KzJdO3Q8Yi5sZW5ndGgtMiYmbXhVdGlscy5wdFNlZ0Rpc3RTcShtLngsbS55LHEueCxxLnkseC54LHgueSk8MSp0aGlzLnNjYWxlKnRoaXMuc2NhbGU7KXg9cSx0KysscT1iW3QrMl07Zm9yKHZhciBlPWQoMCxtLngsbS55KXx8ZSxDPTA7Qzx0aGlzLnZhbGlkRWRnZXMubGVuZ3RoO0MrKyl7dmFyIHo9dGhpcy52YWxpZEVkZ2VzW0NdLEU9ei5hYnNvbHV0ZVBvaW50cztpZihudWxsIT1FJiZteFV0aWxzLmludGVyc2VjdHMoYSx6KSYmIjEiIT16LnN0eWxlLm5vSnVtcClmb3Ioej0wO3o8RS5sZW5ndGgtMTt6Kyspe2Zvcih2YXIgRz1FW3orMV0sRj1FW3pdLHE9RVt6KzJdO3o8RS5sZW5ndGgtMiYmbXhVdGlscy5wdFNlZ0Rpc3RTcShGLngsRi55LHEueCxxLnksRy54LEcueSk8MSp0aGlzLnNjYWxlKnRoaXMuc2NhbGU7KUc9cSx6KysscT1FW3orMl07cT1teFV0aWxzLmludGVyc2VjdGlvbihtLngsbS55LHgueCx4LnksRi54LEYueSxHLngsCkcueSk7aWYobnVsbCE9cSYmKE1hdGguYWJzKHEueC1tLngpPmZ8fE1hdGguYWJzKHEueS1tLnkpPmYpJiYoTWF0aC5hYnMocS54LXgueCk+Znx8TWF0aC5hYnMocS55LXgueSk+ZikmJihNYXRoLmFicyhxLngtRi54KT5mfHxNYXRoLmFicyhxLnktRi55KT5mKSYmKE1hdGguYWJzKHEueC1HLngpPmZ8fE1hdGguYWJzKHEueS1HLnkpPmYpKXtHPXEueC1tLng7Rj1xLnktbS55O3E9e2Rpc3RTcTpHKkcrRipGLHg6cS54LHk6cS55fTtmb3IoRz0wO0c8ay5sZW5ndGg7RysrKWlmKGtbR10uZGlzdFNxPnEuZGlzdFNxKXtrLnNwbGljZShHLDAscSk7cT1udWxsO2JyZWFrfW51bGw9PXF8fDAhPWsubGVuZ3RoJiZrW2subGVuZ3RoLTFdLng9PT1xLngmJmtbay5sZW5ndGgtMV0ueT09PXEueXx8ay5wdXNoKHEpfX19Zm9yKHo9MDt6PGsubGVuZ3RoO3orKyllPWQoMSxrW3pdLngsa1t6XS55KXx8ZX1xPWJbYi5sZW5ndGgtMV07ZT1kKDAscS54LHEueSl8fGV9YS5yb3V0ZWRQb2ludHM9YztyZXR1cm4gZX1yZXR1cm4hMX07CnZhciBtPW14Q29ubmVjdG9yLnByb3RvdHlwZS5wYWludExpbmU7bXhDb25uZWN0b3IucHJvdG90eXBlLnBhaW50TGluZT1mdW5jdGlvbihhLGIsYyl7dGhpcy5yb3V0ZWRQb2ludHM9bnVsbCE9dGhpcy5zdGF0ZT90aGlzLnN0YXRlLnJvdXRlZFBvaW50czpudWxsO2lmKHRoaXMub3V0bGluZXx8bnVsbD09dGhpcy5zdGF0ZXx8bnVsbD09dGhpcy5zdHlsZXx8bnVsbD09dGhpcy5zdGF0ZS5yb3V0ZWRQb2ludHN8fDA9PXRoaXMuc3RhdGUucm91dGVkUG9pbnRzLmxlbmd0aCltLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtlbHNle3ZhciBlPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9BUkNTSVpFLG14Q29uc3RhbnRzLkxJTkVfQVJDU0laRSkvMixkPShwYXJzZUludChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImp1bXBTaXplIixHcmFwaC5kZWZhdWx0SnVtcFNpemUpKS0yKS8yK3RoaXMuc3Ryb2tld2lkdGgsZj1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsCiJqdW1wU3R5bGUiLCJub25lIiksZz0hMCxwPW51bGwsaz1udWxsLHE9W10sQj1udWxsO2EuYmVnaW4oKTtmb3IodmFyIEM9MDtDPHRoaXMuc3RhdGUucm91dGVkUG9pbnRzLmxlbmd0aDtDKyspe3ZhciB6PXRoaXMuc3RhdGUucm91dGVkUG9pbnRzW0NdLEU9bmV3IG14UG9pbnQoei54L3RoaXMuc2NhbGUsei55L3RoaXMuc2NhbGUpOzA9PUM/RT1iWzBdOkM9PXRoaXMuc3RhdGUucm91dGVkUG9pbnRzLmxlbmd0aC0xJiYoRT1iW2IubGVuZ3RoLTFdKTt2YXIgRz0hMTtpZihudWxsIT1wJiYxPT16LnR5cGUpe3ZhciBGPXRoaXMuc3RhdGUucm91dGVkUG9pbnRzW0MrMV0sej1GLngvdGhpcy5zY2FsZS1FLngsRj1GLnkvdGhpcy5zY2FsZS1FLnksej16KnorRipGO251bGw9PUImJihCPW5ldyBteFBvaW50KEUueC1wLngsRS55LXAueSksaz1NYXRoLnNxcnQoQi54KkIueCtCLnkqQi55KSwwPGs/KEIueD1CLngqZC9rLEIueT1CLnkqZC9rKTpCPW51bGwpO3o+ZCpkJiYwPGsmJih6PXAueC0KRS54LEY9cC55LUUueSx6PXoqeitGKkYsej5kKmQmJihHPW5ldyBteFBvaW50KEUueC1CLngsRS55LUIueSksej1uZXcgbXhQb2ludChFLngrQi54LEUueStCLnkpLHEucHVzaChHKSx0aGlzLmFkZFBvaW50cyhhLHEsYyxlLCExLG51bGwsZykscT0wPk1hdGgucm91bmQoQi54KXx8MD09TWF0aC5yb3VuZChCLngpJiYwPj1NYXRoLnJvdW5kKEIueSk/MTotMSxnPSExLCJzaGFycCI9PWY/KGEubGluZVRvKEcueC1CLnkqcSxHLnkrQi54KnEpLGEubGluZVRvKHoueC1CLnkqcSx6LnkrQi54KnEpLGEubGluZVRvKHoueCx6LnkpKToiYXJjIj09Zj8ocSo9MS4zLGEuY3VydmVUbyhHLngtQi55KnEsRy55K0IueCpxLHoueC1CLnkqcSx6LnkrQi54KnEsei54LHoueSkpOihhLm1vdmVUbyh6Lngsei55KSxnPSEwKSxxPVt6XSxHPSEwKSl9ZWxzZSBCPW51bGw7R3x8KHEucHVzaChFKSxwPUUpfXRoaXMuYWRkUG9pbnRzKGEscSxjLGUsITEsbnVsbCxnKTthLnN0cm9rZSgpfX07dmFyIGs9bXhHcmFwaFZpZXcucHJvdG90eXBlLnVwZGF0ZUZsb2F0aW5nVGVybWluYWxQb2ludDsKbXhHcmFwaFZpZXcucHJvdG90eXBlLnVwZGF0ZUZsb2F0aW5nVGVybWluYWxQb2ludD1mdW5jdGlvbihhLGIsYyxkKXtpZihudWxsPT1ifHxudWxsPT1hfHwiMSIhPWIuc3R5bGUuc25hcFRvUG9pbnQmJiIxIiE9YS5zdHlsZS5zbmFwVG9Qb2ludClrLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtlbHNle2I9dGhpcy5nZXRUZXJtaW5hbFBvcnQoYSxiLGQpO3ZhciBlPXRoaXMuZ2V0TmV4dFBvaW50KGEsYyxkKSxmPXRoaXMuZ3JhcGguaXNPcnRob2dvbmFsKGEpLGc9bXhVdGlscy50b1JhZGlhbnMoTnVtYmVyKGIuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT05dfHwiMCIpKSxsPW5ldyBteFBvaW50KGIuZ2V0Q2VudGVyWCgpLGIuZ2V0Q2VudGVyWSgpKTtpZigwIT1nKXZhciBwPU1hdGguY29zKC1nKSxtPU1hdGguc2luKC1nKSxlPW14VXRpbHMuZ2V0Um90YXRlZFBvaW50KGUscCxtLGwpO3A9cGFyc2VGbG9hdChhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1BFUklNRVRFUl9TUEFDSU5HXXx8CjApO3ArPXBhcnNlRmxvYXQoYS5zdHlsZVtkP214Q29uc3RhbnRzLlNUWUxFX1NPVVJDRV9QRVJJTUVURVJfU1BBQ0lORzpteENvbnN0YW50cy5TVFlMRV9UQVJHRVRfUEVSSU1FVEVSX1NQQUNJTkddfHwwKTtlPXRoaXMuZ2V0UGVyaW1ldGVyUG9pbnQoYixlLDA9PWcmJmYscCk7MCE9ZyYmKHA9TWF0aC5jb3MoZyksbT1NYXRoLnNpbihnKSxlPW14VXRpbHMuZ2V0Um90YXRlZFBvaW50KGUscCxtLGwpKTthLnNldEFic29sdXRlVGVybWluYWxQb2ludCh0aGlzLnNuYXBUb0FuY2hvclBvaW50KGEsYixjLGQsZSksZCl9fTtteEdyYXBoVmlldy5wcm90b3R5cGUuc25hcFRvQW5jaG9yUG9pbnQ9ZnVuY3Rpb24oYSxiLGMsZCxmKXtpZihudWxsIT1iJiZudWxsIT1hKXthPXRoaXMuZ3JhcGguZ2V0QWxsQ29ubmVjdGlvbkNvbnN0cmFpbnRzKGIpO2Q9Yz1udWxsO2lmKG51bGwhPWEpZm9yKHZhciBlPTA7ZTxhLmxlbmd0aDtlKyspe3ZhciBnPXRoaXMuZ3JhcGguZ2V0Q29ubmVjdGlvblBvaW50KGIsCmFbZV0pO2lmKG51bGwhPWcpe3ZhciBsPShnLngtZi54KSooZy54LWYueCkrKGcueS1mLnkpKihnLnktZi55KTtpZihudWxsPT1kfHxsPGQpYz1nLGQ9bH19bnVsbCE9YyYmKGY9Yyl9cmV0dXJuIGZ9O3ZhciBxPW14U3RlbmNpbC5wcm90b3R5cGUuZXZhbHVhdGVUZXh0QXR0cmlidXRlO214U3RlbmNpbC5wcm90b3R5cGUuZXZhbHVhdGVUZXh0QXR0cmlidXRlPWZ1bmN0aW9uKGEsYixjKXt2YXIgZT1xLmFwcGx5KHRoaXMsYXJndW1lbnRzKTsiMSI9PWEuZ2V0QXR0cmlidXRlKCJwbGFjZWhvbGRlcnMiKSYmbnVsbCE9Yy5zdGF0ZSYmKGU9Yy5zdGF0ZS52aWV3LmdyYXBoLnJlcGxhY2VQbGFjZWhvbGRlcnMoYy5zdGF0ZS5jZWxsLGUpKTtyZXR1cm4gZX07dmFyIGI9bXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZVNoYXBlO214Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVTaGFwZT1mdW5jdGlvbihhKXtpZihudWxsIT1hLnN0eWxlJiYidW5kZWZpbmVkIiE9PXR5cGVvZiBwYWtvKXt2YXIgZT0KbXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1NIQVBFLG51bGwpO2lmKG51bGwhPWUmJiJzdHJpbmciPT09dHlwZW9mIGUmJiJzdGVuY2lsKCI9PWUuc3Vic3RyaW5nKDAsOCkpdHJ5e3ZhciBjPWUuc3Vic3RyaW5nKDgsZS5sZW5ndGgtMSksZD1teFV0aWxzLnBhcnNlWG1sKEdyYXBoLmRlY29tcHJlc3MoYykpO3JldHVybiBuZXcgbXhTaGFwZShuZXcgbXhTdGVuY2lsKGQuZG9jdW1lbnRFbGVtZW50KSl9Y2F0Y2gobil7bnVsbCE9d2luZG93LmNvbnNvbGUmJmNvbnNvbGUubG9nKCJFcnJvciBpbiBzaGFwZTogIituKX19cmV0dXJuIGIuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pKCk7bXhTdGVuY2lsUmVnaXN0cnkubGlicmFyaWVzPXt9O214U3RlbmNpbFJlZ2lzdHJ5LmR5bmFtaWNMb2FkaW5nPSEwO214U3RlbmNpbFJlZ2lzdHJ5LmFsbG93RXZhbD0hMDtteFN0ZW5jaWxSZWdpc3RyeS5wYWNrYWdlcz1bXTsKbXhTdGVuY2lsUmVnaXN0cnkuZ2V0U3RlbmNpbD1mdW5jdGlvbihhKXt2YXIgYz1teFN0ZW5jaWxSZWdpc3RyeS5zdGVuY2lsc1thXTtpZihudWxsPT1jJiZudWxsPT1teENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzW2FdJiZteFN0ZW5jaWxSZWdpc3RyeS5keW5hbWljTG9hZGluZyl7dmFyIGY9bXhTdGVuY2lsUmVnaXN0cnkuZ2V0QmFzZW5hbWVGb3JTdGVuY2lsKGEpO2lmKG51bGwhPWYpe2M9bXhTdGVuY2lsUmVnaXN0cnkubGlicmFyaWVzW2ZdO2lmKG51bGwhPWMpe2lmKG51bGw9PW14U3RlbmNpbFJlZ2lzdHJ5LnBhY2thZ2VzW2ZdKXtmb3IodmFyIGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIG09Y1tkXTtpZigiLnhtbCI9PW0udG9Mb3dlckNhc2UoKS5zdWJzdHJpbmcobS5sZW5ndGgtNCxtLmxlbmd0aCkpbXhTdGVuY2lsUmVnaXN0cnkubG9hZFN0ZW5jaWxTZXQobSxudWxsKTtlbHNlIGlmKCIuanMiPT1tLnRvTG93ZXJDYXNlKCkuc3Vic3RyaW5nKG0ubGVuZ3RoLTMsbS5sZW5ndGgpKXRyeXtpZihteFN0ZW5jaWxSZWdpc3RyeS5hbGxvd0V2YWwpe3ZhciBrPQpteFV0aWxzLmxvYWQobSk7bnVsbCE9ayYmMjAwPD1rLmdldFN0YXR1cygpJiYyOTk+PWsuZ2V0U3RhdHVzKCkmJmV2YWwuY2FsbCh3aW5kb3csay5nZXRUZXh0KCkpfX1jYXRjaChxKXtudWxsIT13aW5kb3cuY29uc29sZSYmY29uc29sZS5sb2coImVycm9yIGluIGdldFN0ZW5jaWw6IixtLHEpfX1teFN0ZW5jaWxSZWdpc3RyeS5wYWNrYWdlc1tmXT0xfX1lbHNlIGY9Zi5yZXBsYWNlKCJfLV8iLCJfIiksbXhTdGVuY2lsUmVnaXN0cnkubG9hZFN0ZW5jaWxTZXQoU1RFTkNJTF9QQVRIKyIvIitmKyIueG1sIixudWxsKTtjPW14U3RlbmNpbFJlZ2lzdHJ5LnN0ZW5jaWxzW2FdfX1yZXR1cm4gY307Cm14U3RlbmNpbFJlZ2lzdHJ5LmdldEJhc2VuYW1lRm9yU3RlbmNpbD1mdW5jdGlvbihhKXt2YXIgYz1udWxsO2lmKG51bGwhPWEmJiJzdHJpbmciPT09dHlwZW9mIGEmJihhPWEuc3BsaXQoIi4iKSwwPGEubGVuZ3RoJiYibXhncmFwaCI9PWFbMF0pKWZvcih2YXIgYz1hWzFdLGY9MjtmPGEubGVuZ3RoLTE7ZisrKWMrPSIvIithW2ZdO3JldHVybiBjfTsKbXhTdGVuY2lsUmVnaXN0cnkubG9hZFN0ZW5jaWxTZXQ9ZnVuY3Rpb24oYSxjLGYsZCl7dmFyIG09bXhTdGVuY2lsUmVnaXN0cnkucGFja2FnZXNbYV07aWYobnVsbCE9ZiYmZnx8bnVsbD09bSl7dmFyIGs9ITE7aWYobnVsbD09bSl0cnl7aWYoZCl7bXhTdGVuY2lsUmVnaXN0cnkubG9hZFN0ZW5jaWwoYSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihkKXtudWxsIT1kJiZudWxsIT1kLmRvY3VtZW50RWxlbWVudCYmKG14U3RlbmNpbFJlZ2lzdHJ5LnBhY2thZ2VzW2FdPWQsaz0hMCxteFN0ZW5jaWxSZWdpc3RyeS5wYXJzZVN0ZW5jaWxTZXQoZC5kb2N1bWVudEVsZW1lbnQsYyxrKSl9KSk7cmV0dXJufW09bXhTdGVuY2lsUmVnaXN0cnkubG9hZFN0ZW5jaWwoYSk7bXhTdGVuY2lsUmVnaXN0cnkucGFja2FnZXNbYV09bTtrPSEwfWNhdGNoKHEpe251bGwhPXdpbmRvdy5jb25zb2xlJiZjb25zb2xlLmxvZygiZXJyb3IgaW4gbG9hZFN0ZW5jaWxTZXQ6IixhLHEpfW51bGwhPW0mJm51bGwhPQptLmRvY3VtZW50RWxlbWVudCYmbXhTdGVuY2lsUmVnaXN0cnkucGFyc2VTdGVuY2lsU2V0KG0uZG9jdW1lbnRFbGVtZW50LGMsayl9fTtteFN0ZW5jaWxSZWdpc3RyeS5sb2FkU3RlbmNpbD1mdW5jdGlvbihhLGMpe2lmKG51bGwhPWMpbXhVdGlscy5nZXQoYSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtjKDIwMDw9YS5nZXRTdGF0dXMoKSYmMjk5Pj1hLmdldFN0YXR1cygpP2EuZ2V0WG1sKCk6bnVsbCl9KSk7ZWxzZSByZXR1cm4gbXhVdGlscy5sb2FkKGEpLmdldFhtbCgpfTtteFN0ZW5jaWxSZWdpc3RyeS5wYXJzZVN0ZW5jaWxTZXRzPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKW14U3RlbmNpbFJlZ2lzdHJ5LnBhcnNlU3RlbmNpbFNldChteFV0aWxzLnBhcnNlWG1sKGFbY10pLmRvY3VtZW50RWxlbWVudCl9OwpteFN0ZW5jaWxSZWdpc3RyeS5wYXJzZVN0ZW5jaWxTZXQ9ZnVuY3Rpb24oYSxjLGYpe2lmKCJzdGVuY2lscyI9PWEubm9kZU5hbWUpZm9yKHZhciBkPWEuZmlyc3RDaGlsZDtudWxsIT1kOykic2hhcGVzIj09ZC5ub2RlTmFtZSYmbXhTdGVuY2lsUmVnaXN0cnkucGFyc2VTdGVuY2lsU2V0KGQsYyxmKSxkPWQubmV4dFNpYmxpbmc7ZWxzZXtmPW51bGwhPWY/ZjohMDt2YXIgZD1hLmZpcnN0Q2hpbGQsbT0iIjthPWEuZ2V0QXR0cmlidXRlKCJuYW1lIik7Zm9yKG51bGwhPWEmJihtPWErIi4iKTtudWxsIT1kOyl7aWYoZC5ub2RlVHlwZT09bXhDb25zdGFudHMuTk9ERVRZUEVfRUxFTUVOVCYmKGE9ZC5nZXRBdHRyaWJ1dGUoIm5hbWUiKSxudWxsIT1hKSl7dmFyIG09bS50b0xvd2VyQ2FzZSgpLGs9YS5yZXBsYWNlKC8gL2csIl8iKTtmJiZteFN0ZW5jaWxSZWdpc3RyeS5hZGRTdGVuY2lsKG0ray50b0xvd2VyQ2FzZSgpLG5ldyBteFN0ZW5jaWwoZCkpO2lmKG51bGwhPWMpe3ZhciBxPWQuZ2V0QXR0cmlidXRlKCJ3IiksCmI9ZC5nZXRBdHRyaWJ1dGUoImgiKSxxPW51bGw9PXE/ODA6cGFyc2VJbnQocSwxMCksYj1udWxsPT1iPzgwOnBhcnNlSW50KGIsMTApO2MobSxrLGEscSxiKX19ZD1kLm5leHRTaWJsaW5nfX19OwoidW5kZWZpbmVkIiE9dHlwZW9mIG14VmVydGV4SGFuZGxlciYmZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7YS5jbGFzc05hbWU9ImdlSGludCI7YS5zdHlsZS53aGl0ZVNwYWNlPSJub3dyYXAiO2Euc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtyZXR1cm4gYX1mdW5jdGlvbiBjKGEsYil7c3dpdGNoKGIpe2Nhc2UgbXhDb25zdGFudHMuUE9JTlRTOnJldHVybiBhO2Nhc2UgbXhDb25zdGFudHMuTUlMTElNRVRFUlM6cmV0dXJuKGEvbXhDb25zdGFudHMuUElYRUxTX1BFUl9NTSkudG9GaXhlZCgxKTtjYXNlIG14Q29uc3RhbnRzLklOQ0hFUzpyZXR1cm4oYS9teENvbnN0YW50cy5QSVhFTFNfUEVSX0lOQ0gpLnRvRml4ZWQoMil9fW14Q29uc3RhbnRzLkhBTkRMRV9GSUxMQ09MT1I9IiMyOWI2ZjIiO214Q29uc3RhbnRzLkhBTkRMRV9TVFJPS0VDT0xPUj0iIzAwODhjZiI7bXhDb25zdGFudHMuVkVSVEVYX1NFTEVDVElPTl9DT0xPUj0KIiMwMGE4ZmYiO214Q29uc3RhbnRzLk9VVExJTkVfQ09MT1I9IiMwMGE4ZmYiO214Q29uc3RhbnRzLk9VVExJTkVfSEFORExFX0ZJTExDT0xPUj0iIzk5Y2NmZiI7bXhDb25zdGFudHMuT1VUTElORV9IQU5ETEVfU1RST0tFQ09MT1I9IiMwMGE4ZmYiO214Q29uc3RhbnRzLkNPTk5FQ1RfSEFORExFX0ZJTExDT0xPUj0iI2NlZTdmZiI7bXhDb25zdGFudHMuRURHRV9TRUxFQ1RJT05fQ09MT1I9IiMwMGE4ZmYiO214Q29uc3RhbnRzLkRFRkFVTFRfVkFMSURfQ09MT1I9IiMwMGE4ZmYiO214Q29uc3RhbnRzLkxBQkVMX0hBTkRMRV9GSUxMQ09MT1I9IiNjZWU3ZmYiO214Q29uc3RhbnRzLkdVSURFX0NPTE9SPSIjMDA4OGNmIjtteENvbnN0YW50cy5ISUdITElHSFRfT1BBQ0lUWT0zMDtteENvbnN0YW50cy5ISUdITElHSFRfU0laRT01O214RWRnZUhhbmRsZXIucHJvdG90eXBlLnNuYXBUb1Rlcm1pbmFscz0hMDtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuZ3VpZGVzRW5hYmxlZD0hMDtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUucmVtb3ZlRW1wdHlQYXJlbnRzPQohMDtteFJ1YmJlcmJhbmQucHJvdG90eXBlLmZhZGVPdXQ9ITA7bXhHdWlkZS5wcm90b3R5cGUuaXNFbmFibGVkRm9yRXZlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIW14RXZlbnQuaXNBbHREb3duKGEpfTt2YXIgZj1teENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5pc0NyZWF0ZVRhcmdldDtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5pc0NyZWF0ZVRhcmdldD1mdW5jdGlvbihhKXtyZXR1cm4gbXhFdmVudC5pc0NvbnRyb2xEb3duKGEpfHxmLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07bXhDb25zdHJhaW50SGFuZGxlci5wcm90b3R5cGUuY3JlYXRlSGlnaGxpZ2h0U2hhcGU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgbXhFbGxpcHNlKG51bGwsdGhpcy5oaWdobGlnaHRDb2xvcix0aGlzLmhpZ2hsaWdodENvbG9yLDApO2Eub3BhY2l0eT1teENvbnN0YW50cy5ISUdITElHSFRfT1BBQ0lUWTtyZXR1cm4gYX07bXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUubGl2ZVByZXZpZXc9CiEwO214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmN1cnNvcj0iY3Jvc3NoYWlyIjtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVFZGdlU3RhdGU9ZnVuY3Rpb24oYSl7YT10aGlzLmdyYXBoLmNyZWF0ZUN1cnJlbnRFZGdlU3R5bGUoKTthPXRoaXMuZ3JhcGguY3JlYXRlRWRnZShudWxsLG51bGwsbnVsbCxudWxsLG51bGwsYSk7YT1uZXcgbXhDZWxsU3RhdGUodGhpcy5ncmFwaC52aWV3LGEsdGhpcy5ncmFwaC5nZXRDZWxsU3R5bGUoYSkpO2Zvcih2YXIgYiBpbiB0aGlzLmdyYXBoLmN1cnJlbnRFZGdlU3R5bGUpYS5zdHlsZVtiXT10aGlzLmdyYXBoLmN1cnJlbnRFZGdlU3R5bGVbYl07cmV0dXJuIGF9O3ZhciBkPW14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZVNoYXBlO214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZVNoYXBlPWZ1bmN0aW9uKCl7dmFyIGE9ZC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YS5pc0Rhc2hlZD0iMSI9PQp0aGlzLmdyYXBoLmN1cnJlbnRFZGdlU3R5bGVbbXhDb25zdGFudHMuU1RZTEVfREFTSEVEXTtyZXR1cm4gYX07bXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUudXBkYXRlUHJldmlldz1mdW5jdGlvbihhKXt9O3ZhciBtPW14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZU1hcmtlcjtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVNYXJrZXI9ZnVuY3Rpb24oKXt2YXIgYT1tLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxiPWEuZ2V0Q2VsbDthLmdldENlbGw9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dmFyIGU9Yi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5lcnJvcj1udWxsO3JldHVybiBlfSk7cmV0dXJuIGF9O0dyYXBoLnByb3RvdHlwZS5kZWZhdWx0VmVydGV4U3R5bGU9e307R3JhcGgucHJvdG90eXBlLmRlZmF1bHRFZGdlU3R5bGU9e2VkZ2VTdHlsZToib3J0aG9nb25hbEVkZ2VTdHlsZSIscm91bmRlZDoiMCIsamV0dHlTaXplOiJhdXRvIiwKb3J0aG9nb25hbExvb3A6IjEifTtHcmFwaC5wcm90b3R5cGUuY3JlYXRlQ3VycmVudEVkZ2VTdHlsZT1mdW5jdGlvbigpe3ZhciBhPSJlZGdlU3R5bGU9IisodGhpcy5jdXJyZW50RWRnZVN0eWxlLmVkZ2VTdHlsZXx8Im5vbmUiKSsiOyI7bnVsbCE9dGhpcy5jdXJyZW50RWRnZVN0eWxlLnNoYXBlJiYoYSs9InNoYXBlPSIrdGhpcy5jdXJyZW50RWRnZVN0eWxlLnNoYXBlKyI7Iik7bnVsbCE9dGhpcy5jdXJyZW50RWRnZVN0eWxlLmN1cnZlZCYmKGErPSJjdXJ2ZWQ9Iit0aGlzLmN1cnJlbnRFZGdlU3R5bGUuY3VydmVkKyI7Iik7bnVsbCE9dGhpcy5jdXJyZW50RWRnZVN0eWxlLnJvdW5kZWQmJihhKz0icm91bmRlZD0iK3RoaXMuY3VycmVudEVkZ2VTdHlsZS5yb3VuZGVkKyI7Iik7bnVsbCE9dGhpcy5jdXJyZW50RWRnZVN0eWxlLmNvbWljJiYoYSs9ImNvbWljPSIrdGhpcy5jdXJyZW50RWRnZVN0eWxlLmNvbWljKyI7Iik7bnVsbCE9dGhpcy5jdXJyZW50RWRnZVN0eWxlLmp1bXBTdHlsZSYmCihhKz0ianVtcFN0eWxlPSIrdGhpcy5jdXJyZW50RWRnZVN0eWxlLmp1bXBTdHlsZSsiOyIpO251bGwhPXRoaXMuY3VycmVudEVkZ2VTdHlsZS5qdW1wU2l6ZSYmKGErPSJqdW1wU2l6ZT0iK3RoaXMuY3VycmVudEVkZ2VTdHlsZS5qdW1wU2l6ZSsiOyIpO251bGwhPXRoaXMuY3VycmVudEVkZ2VTdHlsZS5vcnRob2dvbmFsTG9vcD9hKz0ib3J0aG9nb25hbExvb3A9Iit0aGlzLmN1cnJlbnRFZGdlU3R5bGUub3J0aG9nb25hbExvb3ArIjsiOm51bGwhPUdyYXBoLnByb3RvdHlwZS5kZWZhdWx0RWRnZVN0eWxlLm9ydGhvZ29uYWxMb29wJiYoYSs9Im9ydGhvZ29uYWxMb29wPSIrR3JhcGgucHJvdG90eXBlLmRlZmF1bHRFZGdlU3R5bGUub3J0aG9nb25hbExvb3ArIjsiKTtudWxsIT10aGlzLmN1cnJlbnRFZGdlU3R5bGUuamV0dHlTaXplP2ErPSJqZXR0eVNpemU9Iit0aGlzLmN1cnJlbnRFZGdlU3R5bGUuamV0dHlTaXplKyI7IjpudWxsIT1HcmFwaC5wcm90b3R5cGUuZGVmYXVsdEVkZ2VTdHlsZS5qZXR0eVNpemUmJgooYSs9ImpldHR5U2l6ZT0iK0dyYXBoLnByb3RvdHlwZS5kZWZhdWx0RWRnZVN0eWxlLmpldHR5U2l6ZSsiOyIpOyJlbGJvd0VkZ2VTdHlsZSI9PXRoaXMuY3VycmVudEVkZ2VTdHlsZS5lZGdlU3R5bGUmJm51bGwhPXRoaXMuY3VycmVudEVkZ2VTdHlsZS5lbGJvdyYmKGErPSJlbGJvdz0iK3RoaXMuY3VycmVudEVkZ2VTdHlsZS5lbGJvdysiOyIpO3JldHVybiBhPW51bGwhPXRoaXMuY3VycmVudEVkZ2VTdHlsZS5odG1sP2ErKCJodG1sPSIrdGhpcy5jdXJyZW50RWRnZVN0eWxlLmh0bWwrIjsiKTphKyJodG1sPTE7In07R3JhcGgucHJvdG90eXBlLnVwZGF0ZUNlbGxTdHlsZXM9ZnVuY3Rpb24oYSxiLGUpe3RoaXMubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKHZhciBjPTA7YzxlLmxlbmd0aDtjKyspaWYodGhpcy5tb2RlbC5pc1ZlcnRleChlW2NdKXx8dGhpcy5tb2RlbC5pc0VkZ2UoZVtjXSkpdGhpcy5zZXRDZWxsU3R5bGVzKGEsbnVsbCxbZVtjXV0pLHRoaXMuZ2V0Q2VsbFN0eWxlKGVbY10pW2FdIT0KYiYmdGhpcy5zZXRDZWxsU3R5bGVzKGEsYixbZVtjXV0pfWZpbmFsbHl7dGhpcy5tb2RlbC5lbmRVcGRhdGUoKX19O0dyYXBoLnByb3RvdHlwZS5nZXRQYWdlUGFkZGluZz1mdW5jdGlvbigpe3JldHVybiBuZXcgbXhQb2ludCgwLDApfTtHcmFwaC5wcm90b3R5cGUubG9hZFN0eWxlc2hlZXQ9ZnVuY3Rpb24oKXt2YXIgYT1udWxsIT10aGlzLnRoZW1lcz90aGlzLnRoZW1lc1t0aGlzLmRlZmF1bHRUaGVtZU5hbWVdOm14U3R5bGVSZWdpc3RyeS5keW5hbWljTG9hZGluZz9teFV0aWxzLmxvYWQoU1RZTEVfUEFUSCsiL2RlZmF1bHQueG1sIikuZ2V0RG9jdW1lbnRFbGVtZW50KCk6bnVsbDtudWxsIT1hJiYobmV3IG14Q29kZWMoYS5vd25lckRvY3VtZW50KSkuZGVjb2RlKGEsdGhpcy5nZXRTdHlsZXNoZWV0KCkpfTtHcmFwaC5wcm90b3R5cGUuY3JlYXRlQ2VsbExvb2t1cD1mdW5jdGlvbihhLGIpe2I9bnVsbCE9Yj9iOnt9O2Zvcih2YXIgZT0wO2U8YS5sZW5ndGg7ZSsrKXt2YXIgYz1hW2VdOwpiW214T2JqZWN0SWRlbnRpdHkuZ2V0KGMpXT1jLmdldElkKCk7Zm9yKHZhciBkPXRoaXMubW9kZWwuZ2V0Q2hpbGRDb3VudChjKSxmPTA7ZjxkO2YrKyl0aGlzLmNyZWF0ZUNlbGxMb29rdXAoW3RoaXMubW9kZWwuZ2V0Q2hpbGRBdChjLGYpXSxiKX1yZXR1cm4gYn07R3JhcGgucHJvdG90eXBlLmNyZWF0ZUNlbGxNYXBwaW5nPWZ1bmN0aW9uKGEsYixlKXtlPW51bGwhPWU/ZTp7fTtmb3IodmFyIGMgaW4gYSl7dmFyIGQ9YltjXTtudWxsPT1lW2RdJiYoZVtkXT1hW2NdLmdldElkKCl8fCIiKX1yZXR1cm4gZX07R3JhcGgucHJvdG90eXBlLmltcG9ydEdyYXBoTW9kZWw9ZnVuY3Rpb24oYSxiLGUsYyl7Yj1udWxsIT1iP2I6MDtlPW51bGwhPWU/ZTowO3ZhciBkPW5ldyBteENvZGVjKGEub3duZXJEb2N1bWVudCksZj1uZXcgbXhHcmFwaE1vZGVsO2QuZGVjb2RlKGEsZik7YT1bXTt2YXIgZD17fSxnPXt9LGw9Zi5nZXRDaGlsZHJlbih0aGlzLmNsb25lQ2VsbChmLnJvb3QsdGhpcy5pc0Nsb25lSW52YWxpZEVkZ2VzKCksCmQpKTtpZihudWxsIT1sKXt2YXIgdT10aGlzLmNyZWF0ZUNlbGxMb29rdXAoW2Yucm9vdF0pLGw9bC5zbGljZSgpO3RoaXMubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7aWYoMSE9bC5sZW5ndGh8fHRoaXMuaXNDZWxsTG9ja2VkKHRoaXMuZ2V0RGVmYXVsdFBhcmVudCgpKSlmb3IoZj0wO2Y8bC5sZW5ndGg7ZisrKXt2YXIgcD10aGlzLm1vZGVsLmdldENoaWxkcmVuKHRoaXMubW92ZUNlbGxzKFtsW2ZdXSxiLGUsITEsdGhpcy5tb2RlbC5nZXRSb290KCkpWzBdKTtudWxsIT1wJiYoYT1hLmNvbmNhdChwKSl9ZWxzZSBhPXRoaXMubW92ZUNlbGxzKGYuZ2V0Q2hpbGRyZW4obFswXSksYixlLCExLHRoaXMuZ2V0RGVmYXVsdFBhcmVudCgpKSxnW2YuZ2V0Q2hpbGRBdChmLnJvb3QsMCkuZ2V0SWQoKV09dGhpcy5nZXREZWZhdWx0UGFyZW50KCkuZ2V0SWQoKTtpZihudWxsIT1hJiYodGhpcy5jcmVhdGVDZWxsTWFwcGluZyhkLHUsZyksdGhpcy51cGRhdGVDdXN0b21MaW5rcyhnLGEpLGMpKXt0aGlzLmlzR3JpZEVuYWJsZWQoKSYmCihiPXRoaXMuc25hcChiKSxlPXRoaXMuc25hcChlKSk7dmFyIG49dGhpcy5nZXRCb3VuZGluZ0JveEZyb21HZW9tZXRyeShhLCEwKTtudWxsIT1uJiZ0aGlzLm1vdmVDZWxscyhhLGItbi54LGUtbi55KX19ZmluYWxseXt0aGlzLm1vZGVsLmVuZFVwZGF0ZSgpfX1yZXR1cm4gYX07R3JhcGgucHJvdG90eXBlLmVuY29kZUNlbGxzPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj17fSxlPXRoaXMuY2xvbmVDZWxscyhhLG51bGwsYiksYz1uZXcgbXhEaWN0aW9uYXJ5LGQ9MDtkPGEubGVuZ3RoO2QrKyljLnB1dChhW2RdLCEwKTtmb3IodmFyIGY9bmV3IG14Q29kZWMsZz1uZXcgbXhHcmFwaE1vZGVsLGw9Zy5nZXRDaGlsZEF0KGcuZ2V0Um9vdCgpLDApLGQ9MDtkPGUubGVuZ3RoO2QrKyl7Zy5hZGQobCxlW2RdKTt2YXIgdT10aGlzLnZpZXcuZ2V0U3RhdGUoYVtkXSk7aWYobnVsbCE9dSl7dmFyIHA9dGhpcy5nZXRDZWxsR2VvbWV0cnkoZVtkXSk7bnVsbCE9cCYmcC5yZWxhdGl2ZSYmIXRoaXMubW9kZWwuaXNFZGdlKGFbZF0pJiYKbnVsbD09Yy5nZXQodGhpcy5tb2RlbC5nZXRQYXJlbnQoYVtkXSkpJiYocC5vZmZzZXQ9bnVsbCxwLnJlbGF0aXZlPSExLHAueD11LngvdS52aWV3LnNjYWxlLXUudmlldy50cmFuc2xhdGUueCxwLnk9dS55L3Uudmlldy5zY2FsZS11LnZpZXcudHJhbnNsYXRlLnkpfX10aGlzLnVwZGF0ZUN1c3RvbUxpbmtzKHRoaXMuY3JlYXRlQ2VsbE1hcHBpbmcoYix0aGlzLmNyZWF0ZUNlbGxMb29rdXAoYSkpLGUpO3JldHVybiBmLmVuY29kZShnKX07R3JhcGgucHJvdG90eXBlLmlzU3dpbWxhbmU9ZnVuY3Rpb24oYSxiKXtpZihudWxsIT1hJiZ0aGlzLm1vZGVsLmdldFBhcmVudChhKSE9dGhpcy5tb2RlbC5nZXRSb290KCkmJiF0aGlzLm1vZGVsLmlzRWRnZShhKSl7dmFyIGU9dGhpcy5nZXRDdXJyZW50Q2VsbFN0eWxlKGEsYilbbXhDb25zdGFudHMuU1RZTEVfU0hBUEVdO3JldHVybiBlPT1teENvbnN0YW50cy5TSEFQRV9TV0lNTEFORXx8InRhYmxlIj09ZX1yZXR1cm4hMX07dmFyIGs9R3JhcGgucHJvdG90eXBlLmlzRXh0ZW5kUGFyZW50OwpHcmFwaC5wcm90b3R5cGUuaXNFeHRlbmRQYXJlbnQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5tb2RlbC5nZXRQYXJlbnQoYSk7aWYobnVsbCE9Yil7dmFyIGU9dGhpcy5nZXRDdXJyZW50Q2VsbFN0eWxlKGIpO2lmKG51bGwhPWUuZXhwYW5kKXJldHVybiIwIiE9ZS5leHBhbmR9cmV0dXJuIGsuYXBwbHkodGhpcyxhcmd1bWVudHMpJiYobnVsbD09Ynx8IXRoaXMuaXNUYWJsZShiKSl9O3ZhciBxPUdyYXBoLnByb3RvdHlwZS5zcGxpdEVkZ2U7R3JhcGgucHJvdG90eXBlLnNwbGl0RWRnZT1mdW5jdGlvbihhLGIsZSxjLGQsZixnLGwpe251bGw9PWwmJihsPXRoaXMubW9kZWwuZ2V0UGFyZW50KGEpLHRoaXMuaXNUYWJsZShsKXx8dGhpcy5pc1RhYmxlUm93KGwpKSYmKGw9dGhpcy5nZXRDZWxsQXQoZixnLG51bGwsITAsITEpKTtxLmFwcGx5KHRoaXMsW2EsYixlLGMsZCxmLGcsbF0pfTt2YXIgYj1HcmFwaC5wcm90b3R5cGUuc2VsZWN0Q2VsbDtHcmFwaC5wcm90b3R5cGUuc2VsZWN0Q2VsbD0KZnVuY3Rpb24oYSxlLGMpe2lmKGV8fGMpYi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZWxzZXt2YXIgZD10aGlzLmdldFNlbGVjdGlvbkNlbGwoKSxmPW51bGwsZz1bXSxsPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe2lmKG51bGwhPXRoaXMudmlldy5nZXRTdGF0ZShiKSYmKHRoaXMubW9kZWwuaXNWZXJ0ZXgoYil8fHRoaXMubW9kZWwuaXNFZGdlKGIpKSlpZihnLnB1c2goYiksYj09ZClmPWcubGVuZ3RoLTE7ZWxzZSBpZihhJiZudWxsPT1kJiYwPGcubGVuZ3RofHxudWxsIT1mJiZhJiZnLmxlbmd0aD5mfHwhYSYmMDxmKXJldHVybjtmb3IodmFyIGU9MDtlPHRoaXMubW9kZWwuZ2V0Q2hpbGRDb3VudChiKTtlKyspbCh0aGlzLm1vZGVsLmdldENoaWxkQXQoYixlKSl9KTtsKHRoaXMubW9kZWwucm9vdCk7MDxnLmxlbmd0aCYmKGY9bnVsbCE9Zj9teFV0aWxzLm1vZChmKyhhPzE6LTEpLGcubGVuZ3RoKTowLHRoaXMuc2V0U2VsZWN0aW9uQ2VsbChnW2ZdKSl9fTt2YXIgZT1HcmFwaC5wcm90b3R5cGUubW92ZUNlbGxzOwpHcmFwaC5wcm90b3R5cGUubW92ZUNlbGxzPWZ1bmN0aW9uKGEsYixjLGQsZixnLGwpe2w9bnVsbCE9bD9sOnt9O2Zvcih2YXIgdT0wO3U8YS5sZW5ndGg7dSsrKWlmKG51bGwhPWYmJnRoaXMuaXNUYWJsZVJvdyhhW3VdKSl7dmFyIHA9dGhpcy5tb2RlbC5nZXRQYXJlbnQoYVt1XSksbj10aGlzLmdldENlbGxHZW9tZXRyeShhW3VdKTtpZihudWxsIT1wJiZudWxsIT1uJiZ0aGlzLmlzVGFibGUocCkmJnRoaXMuaXNUYWJsZShmKSYmKGR8fHAhPWYpKXtpZighZCl7dmFyIHk9dGhpcy5nZXRDZWxsR2VvbWV0cnkocCk7bnVsbCE9eSYmKHk9eS5jbG9uZSgpLHkuaGVpZ2h0LT1uLmhlaWdodCx0aGlzLm1vZGVsLnNldEdlb21ldHJ5KHAseSkpfXk9dGhpcy5nZXRDZWxsR2VvbWV0cnkoZik7bnVsbCE9eSYmKHk9eS5jbG9uZSgpLHkuaGVpZ2h0Kz1uLmhlaWdodCx0aGlzLm1vZGVsLnNldEdlb21ldHJ5KGYseSkpO249dGhpcy5tb2RlbC5nZXRDaGlsZENlbGxzKGYsITApO2lmKDA8bi5sZW5ndGgpaWYocD0KdGhpcy5tb2RlbC5nZXRDaGlsZENlbGxzKGFbdV0sITApLG49dGhpcy5tb2RlbC5nZXRDaGlsZENlbGxzKG5bMF0sITApLmxlbmd0aC1wLmxlbmd0aCwwPG4pZm9yKHk9MDt5PG47eSsrKXt2YXIgdD10aGlzLmNsb25lQ2VsbChwW3AubGVuZ3RoLTFdKTtudWxsIT10JiYodC52YWx1ZT0iIix0aGlzLm1vZGVsLmFkZChhW3VdLHQpKX1lbHNlIGlmKDA+bilmb3IoeT0wO3k+bjt5LS0pdGhpcy5tb2RlbC5yZW1vdmUocFtwLmxlbmd0aC1uLTFdKX19dT1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtkJiZ0aGlzLnVwZGF0ZUN1c3RvbUxpbmtzKHRoaXMuY3JlYXRlQ2VsbE1hcHBpbmcobCx0aGlzLmNyZWF0ZUNlbGxMb29rdXAoYSkpLHUpO3JldHVybiB1fTt2YXIgZz1HcmFwaC5wcm90b3R5cGUucmVtb3ZlQ2VsbHM7R3JhcGgucHJvdG90eXBlLnJlbW92ZUNlbGxzPWZ1bmN0aW9uKGEsYil7dmFyIGU9W107dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKylpZih0aGlzLmlzVGFibGVDZWxsKGFbY10pKXt2YXIgZD0KdGhpcy5tb2RlbC5nZXRQYXJlbnQoYVtjXSksZj10aGlzLm1vZGVsLmdldFBhcmVudChkKTsxPT10aGlzLm1vZGVsLmdldENoaWxkQ291bnQoZCkmJjE9PXRoaXMubW9kZWwuZ2V0Q2hpbGRDb3VudChmKT8wPm14VXRpbHMuaW5kZXhPZihhLGYpJiYwPm14VXRpbHMuaW5kZXhPZihlLGYpJiZlLnB1c2goZik6dGhpcy5sYWJlbENoYW5nZWQoYVtjXSwiIil9ZWxzZXtpZih0aGlzLmlzVGFibGVSb3coYVtjXSkmJihmPXRoaXMubW9kZWwuZ2V0UGFyZW50KGFbY10pLDA+bXhVdGlscy5pbmRleE9mKGEsZikmJjA+bXhVdGlscy5pbmRleE9mKGUsZikpKXtmb3IodmFyIGw9dGhpcy5tb2RlbC5nZXRDaGlsZENlbGxzKGYsITApLHU9MCxwPTA7cDxsLmxlbmd0aDtwKyspMDw9bXhVdGlscy5pbmRleE9mKGEsbFtwXSkmJnUrKzt1PT1sLmxlbmd0aCYmZS5wdXNoKGYpfWUucHVzaChhW2NdKX1lPWcuYXBwbHkodGhpcyxbZSxiXSl9ZmluYWxseXt0aGlzLm1vZGVsLmVuZFVwZGF0ZSgpfXJldHVybiBlfTsKR3JhcGgucHJvdG90eXBlLnVwZGF0ZUN1c3RvbUxpbmtzPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBlPTA7ZTxiLmxlbmd0aDtlKyspbnVsbCE9YltlXSYmdGhpcy51cGRhdGVDdXN0b21MaW5rc0ZvckNlbGwoYSxiW2VdKX07R3JhcGgucHJvdG90eXBlLnVwZGF0ZUN1c3RvbUxpbmtzRm9yQ2VsbD1mdW5jdGlvbihhLGIpe307R3JhcGgucHJvdG90eXBlLmdldEFsbENvbm5lY3Rpb25Db25zdHJhaW50cz1mdW5jdGlvbihhLGIpe2lmKG51bGwhPWEpe3ZhciBlPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSwicG9pbnRzIixudWxsKTtpZihudWxsIT1lKXt2YXIgYz1bXTt0cnl7Zm9yKHZhciBkPUpTT04ucGFyc2UoZSksZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1kW2VdO2MucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludChmWzBdLGZbMV0pLDI8Zi5sZW5ndGg/IjAiIT1mWzJdOiEwLG51bGwsMzxmLmxlbmd0aD9mWzNdOjAsNDxmLmxlbmd0aD9mWzRdOjApKX19Y2F0Y2goemEpe31yZXR1cm4gY31pZihudWxsIT0KYS5zaGFwZSYmbnVsbCE9YS5zaGFwZS5ib3VuZHMpe2Y9YS5zaGFwZS5kaXJlY3Rpb247ZD1hLnNoYXBlLmJvdW5kcztlPWEuc2hhcGUuc2NhbGU7Yz1kLndpZHRoL2U7ZD1kLmhlaWdodC9lO2lmKGY9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSHx8Zj09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIKWY9YyxjPWQsZD1mO2U9YS5zaGFwZS5nZXRDb25zdHJhaW50cyhhLnN0eWxlLGMsZCk7aWYobnVsbCE9ZSlyZXR1cm4gZTtpZihudWxsIT1hLnNoYXBlLnN0ZW5jaWwmJm51bGwhPWEuc2hhcGUuc3RlbmNpbC5jb25zdHJhaW50cylyZXR1cm4gYS5zaGFwZS5zdGVuY2lsLmNvbnN0cmFpbnRzO2lmKG51bGwhPWEuc2hhcGUuY29uc3RyYWludHMpcmV0dXJuIGEuc2hhcGUuY29uc3RyYWludHN9fXJldHVybiBudWxsfTtHcmFwaC5wcm90b3R5cGUuZmxpcEVkZ2U9ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSl7dmFyIGI9dGhpcy5nZXRDdXJyZW50Q2VsbFN0eWxlKGEpLGI9bXhVdGlscy5nZXRWYWx1ZShiLApteENvbnN0YW50cy5TVFlMRV9FTEJPVyxteENvbnN0YW50cy5FTEJPV19IT1JJWk9OVEFMKT09bXhDb25zdGFudHMuRUxCT1dfSE9SSVpPTlRBTD9teENvbnN0YW50cy5FTEJPV19WRVJUSUNBTDpteENvbnN0YW50cy5FTEJPV19IT1JJWk9OVEFMO3RoaXMuc2V0Q2VsbFN0eWxlcyhteENvbnN0YW50cy5TVFlMRV9FTEJPVyxiLFthXSl9fTtHcmFwaC5wcm90b3R5cGUuaXNWYWxpZFJvb3Q9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMubW9kZWwuZ2V0Q2hpbGRDb3VudChhKSxlPTAsYz0wO2M8YjtjKyspe3ZhciBkPXRoaXMubW9kZWwuZ2V0Q2hpbGRBdChhLGMpO3RoaXMubW9kZWwuaXNWZXJ0ZXgoZCkmJihkPXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KGQpLG51bGw9PWR8fGQucmVsYXRpdmV8fGUrKyl9cmV0dXJuIDA8ZXx8dGhpcy5pc0NvbnRhaW5lcihhKX07R3JhcGgucHJvdG90eXBlLmlzVmFsaWREcm9wVGFyZ2V0PWZ1bmN0aW9uKGEsYixlKXtmb3IodmFyIGM9dGhpcy5nZXRDdXJyZW50Q2VsbFN0eWxlKGEpLApkPSEwLGY9MDtmPGIubGVuZ3RoJiZkO2YrKylkPWQmJnRoaXMuaXNUYWJsZVJvdyhiW2ZdKTtyZXR1cm4oIjEiIT1teFV0aWxzLmdldFZhbHVlKGMsInBhcnQiLCIwIil8fHRoaXMuaXNDb250YWluZXIoYSkpJiYiMCIhPW14VXRpbHMuZ2V0VmFsdWUoYywiZHJvcFRhcmdldCIsIjEiKSYmKG14R3JhcGgucHJvdG90eXBlLmlzVmFsaWREcm9wVGFyZ2V0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcy5pc0NvbnRhaW5lcihhKSkmJiF0aGlzLmlzVGFibGVSb3coYSkmJighdGhpcy5pc1RhYmxlKGEpfHxkKX07R3JhcGgucHJvdG90eXBlLmNyZWF0ZUdyb3VwQ2VsbD1mdW5jdGlvbigpe3ZhciBhPW14R3JhcGgucHJvdG90eXBlLmNyZWF0ZUdyb3VwQ2VsbC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YS5zZXRTdHlsZSgiZ3JvdXAiKTtyZXR1cm4gYX07R3JhcGgucHJvdG90eXBlLmlzRXh0ZW5kUGFyZW50c09uQWRkPWZ1bmN0aW9uKGEpe3ZhciBiPW14R3JhcGgucHJvdG90eXBlLmlzRXh0ZW5kUGFyZW50c09uQWRkLmFwcGx5KHRoaXMsCmFyZ3VtZW50cyk7aWYoYiYmbnVsbCE9YSYmbnVsbCE9dGhpcy5sYXlvdXRNYW5hZ2VyKXt2YXIgZT10aGlzLm1vZGVsLmdldFBhcmVudChhKTtudWxsIT1lJiYoZT10aGlzLmxheW91dE1hbmFnZXIuZ2V0TGF5b3V0KGUpLG51bGwhPWUmJmUuY29uc3RydWN0b3I9PW14U3RhY2tMYXlvdXQmJihiPSExKSl9cmV0dXJuIGJ9O0dyYXBoLnByb3RvdHlwZS5nZXRQcmVmZXJyZWRTaXplRm9yQ2VsbD1mdW5jdGlvbihhKXt2YXIgYj1teEdyYXBoLnByb3RvdHlwZS5nZXRQcmVmZXJyZWRTaXplRm9yQ2VsbC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bnVsbCE9YiYmKGIud2lkdGgrPTEwLGIuaGVpZ2h0Kz00LHRoaXMuZ3JpZEVuYWJsZWQmJihiLndpZHRoPXRoaXMuc25hcChiLndpZHRoKSxiLmhlaWdodD10aGlzLnNuYXAoYi5oZWlnaHQpKSk7cmV0dXJuIGJ9O0dyYXBoLnByb3RvdHlwZS50dXJuU2hhcGVzPWZ1bmN0aW9uKGEsYil7dmFyIGU9dGhpcy5nZXRNb2RlbCgpLGM9W107ZS5iZWdpblVwZGF0ZSgpOwp0cnl7Zm9yKHZhciBkPTA7ZDxhLmxlbmd0aDtkKyspe3ZhciBmPWFbZF07aWYoZS5pc0VkZ2UoZikpe3ZhciBnPWUuZ2V0VGVybWluYWwoZiwhMCksbD1lLmdldFRlcm1pbmFsKGYsITEpO2Uuc2V0VGVybWluYWwoZixsLCEwKTtlLnNldFRlcm1pbmFsKGYsZywhMSk7dmFyIHU9ZS5nZXRHZW9tZXRyeShmKTtpZihudWxsIT11KXt1PXUuY2xvbmUoKTtudWxsIT11LnBvaW50cyYmdS5wb2ludHMucmV2ZXJzZSgpO3ZhciBwPXUuZ2V0VGVybWluYWxQb2ludCghMCksbj11LmdldFRlcm1pbmFsUG9pbnQoITEpO3Uuc2V0VGVybWluYWxQb2ludChwLCExKTt1LnNldFRlcm1pbmFsUG9pbnQobiwhMCk7ZS5zZXRHZW9tZXRyeShmLHUpO3ZhciB5PXRoaXMudmlldy5nZXRTdGF0ZShmKSx0PXRoaXMudmlldy5nZXRTdGF0ZShnKSxtPXRoaXMudmlldy5nZXRTdGF0ZShsKTtpZihudWxsIT15KXt2YXIgVj1udWxsIT10P3RoaXMuZ2V0Q29ubmVjdGlvbkNvbnN0cmFpbnQoeSx0LCEwKTpudWxsLGs9Cm51bGwhPW0/dGhpcy5nZXRDb25uZWN0aW9uQ29uc3RyYWludCh5LG0sITEpOm51bGw7dGhpcy5zZXRDb25uZWN0aW9uQ29uc3RyYWludChmLGcsITAsayk7dGhpcy5zZXRDb25uZWN0aW9uQ29uc3RyYWludChmLGwsITEsVil9Yy5wdXNoKGYpfX1lbHNlIGlmKGUuaXNWZXJ0ZXgoZikmJih1PXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KGYpLG51bGwhPXUpKXtpZighdGhpcy5pc1RhYmxlKGYpJiYhdGhpcy5pc1RhYmxlUm93KGYpJiYhdGhpcy5pc1RhYmxlQ2VsbChmKSl7dT11LmNsb25lKCk7dS54Kz11LndpZHRoLzItdS5oZWlnaHQvMjt1LnkrPXUuaGVpZ2h0LzItdS53aWR0aC8yO3ZhciB2PXUud2lkdGg7dS53aWR0aD11LmhlaWdodDt1LmhlaWdodD12O2Uuc2V0R2VvbWV0cnkoZix1KX12YXIgeD10aGlzLnZpZXcuZ2V0U3RhdGUoZik7aWYobnVsbCE9eCl7dmFyIEs9W214Q29uc3RhbnRzLkRJUkVDVElPTl9FQVNULG14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSCxteENvbnN0YW50cy5ESVJFQ1RJT05fV0VTVCwKbXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIXSxBPW14VXRpbHMuZ2V0VmFsdWUoeC5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9ESVJFQ1RJT04sbXhDb25zdGFudHMuRElSRUNUSU9OX0VBU1QpO3RoaXMuc2V0Q2VsbFN0eWxlcyhteENvbnN0YW50cy5TVFlMRV9ESVJFQ1RJT04sS1tteFV0aWxzLm1vZChteFV0aWxzLmluZGV4T2YoSyxBKSsoYj8tMToxKSxLLmxlbmd0aCldLFtmXSl9Yy5wdXNoKGYpfX19ZmluYWxseXtlLmVuZFVwZGF0ZSgpfXJldHVybiBjfTtHcmFwaC5wcm90b3R5cGUuc3RlbmNpbEhhc1BsYWNlaG9sZGVycz1mdW5jdGlvbihhKXtpZihudWxsIT1hJiZudWxsIT1hLmZnTm9kZSlmb3IoYT1hLmZnTm9kZS5maXJzdENoaWxkO251bGwhPWE7KXtpZigidGV4dCI9PWEubm9kZU5hbWUmJiIxIj09YS5nZXRBdHRyaWJ1dGUoInBsYWNlaG9sZGVycyIpKXJldHVybiEwO2E9YS5uZXh0U2libGluZ31yZXR1cm4hMX07dmFyIHA9R3JhcGgucHJvdG90eXBlLnByb2Nlc3NDaGFuZ2U7CkdyYXBoLnByb3RvdHlwZS5wcm9jZXNzQ2hhbmdlPWZ1bmN0aW9uKGEpe2lmKGEgaW5zdGFuY2VvZiBteEdlb21ldHJ5Q2hhbmdlJiYodGhpcy5pc1RhYmxlQ2VsbChhLmNlbGwpfHx0aGlzLmlzVGFibGVSb3coYS5jZWxsKSkmJihudWxsPT1hLnByZXZpb3VzJiZudWxsIT1hLmdlb21ldHJ5fHxudWxsIT1hLnByZXZpb3VzJiYhYS5wcmV2aW91cy5lcXVhbHMoYS5nZW9tZXRyeSkpKXt2YXIgYj1hLmNlbGw7dGhpcy5pc1RhYmxlQ2VsbChiKSYmKGI9dGhpcy5tb2RlbC5nZXRQYXJlbnQoYikpO3RoaXMuaXNUYWJsZVJvdyhiKSYmKGI9dGhpcy5tb2RlbC5nZXRQYXJlbnQoYikpO3ZhciBlPXRoaXMudmlldy5nZXRTdGF0ZShiKTtudWxsIT1lJiZudWxsIT1lLnNoYXBlJiYodGhpcy52aWV3LmludmFsaWRhdGUoYiksZS5zaGFwZS5ib3VuZHM9bnVsbCl9cC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YSBpbnN0YW5jZW9mIG14VmFsdWVDaGFuZ2UmJm51bGwhPWEuY2VsbCYmbnVsbCE9YS5jZWxsLnZhbHVlJiYKIm9iamVjdCI9PXR5cGVvZiBhLmNlbGwudmFsdWUmJnRoaXMuaW52YWxpZGF0ZURlc2NlbmRhbnRzV2l0aFBsYWNlaG9sZGVycyhhLmNlbGwpfTtHcmFwaC5wcm90b3R5cGUuaW52YWxpZGF0ZURlc2NlbmRhbnRzV2l0aFBsYWNlaG9sZGVycz1mdW5jdGlvbihhKXthPXRoaXMubW9kZWwuZ2V0RGVzY2VuZGFudHMoYSk7aWYoMDxhLmxlbmd0aClmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKyl7dmFyIGU9dGhpcy52aWV3LmdldFN0YXRlKGFbYl0pO251bGwhPWUmJm51bGwhPWUuc2hhcGUmJm51bGwhPWUuc2hhcGUuc3RlbmNpbCYmdGhpcy5zdGVuY2lsSGFzUGxhY2Vob2xkZXJzKGUuc2hhcGUuc3RlbmNpbCk/dGhpcy5yZW1vdmVTdGF0ZUZvckNlbGwoYVtiXSk6dGhpcy5pc1JlcGxhY2VQbGFjZWhvbGRlcnMoYVtiXSkmJnRoaXMudmlldy5pbnZhbGlkYXRlKGFbYl0sITEsITEpfX07R3JhcGgucHJvdG90eXBlLnJlcGxhY2VFbGVtZW50PWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBlPWEub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KG51bGwhPQpiP2I6InNwYW4iKSxjPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGEuYXR0cmlidXRlcyk7YXR0cj1jLnBvcCgpOyllLnNldEF0dHJpYnV0ZShhdHRyLm5vZGVOYW1lLGF0dHIubm9kZVZhbHVlKTtlLmlubmVySFRNTD1hLmlubmVySFRNTDthLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGUsYSl9O0dyYXBoLnByb3RvdHlwZS5wcm9jZXNzRWxlbWVudHM9ZnVuY3Rpb24oYSxiKXtpZihudWxsIT1hKWZvcih2YXIgZT1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIiksYz0wO2M8ZS5sZW5ndGg7YysrKWIoZVtjXSl9O0dyYXBoLnByb3RvdHlwZS51cGRhdGVMYWJlbEVsZW1lbnRzPWZ1bmN0aW9uKGEsYixlKXthPW51bGwhPWE/YTp0aGlzLmdldFNlbGVjdGlvbkNlbGxzKCk7Zm9yKHZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGQ9MDtkPGEubGVuZ3RoO2QrKylpZih0aGlzLmlzSHRtbExhYmVsKGFbZF0pKXt2YXIgZj10aGlzLmNvbnZlcnRWYWx1ZVRvU3RyaW5nKGFbZF0pOwppZihudWxsIT1mJiYwPGYubGVuZ3RoKXtjLmlubmVySFRNTD1mO2Zvcih2YXIgZz1jLmdldEVsZW1lbnRzQnlUYWdOYW1lKG51bGwhPWU/ZToiKiIpLGw9MDtsPGcubGVuZ3RoO2wrKyliKGdbbF0pO2MuaW5uZXJIVE1MIT1mJiZ0aGlzLmNlbGxMYWJlbENoYW5nZWQoYVtkXSxjLmlubmVySFRNTCl9fX07R3JhcGgucHJvdG90eXBlLmNlbGxMYWJlbENoYW5nZWQ9ZnVuY3Rpb24oYSxiLGUpe2I9R3JhcGguemFwR3JlbWxpbnMoYik7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXtpZihudWxsIT1hLnZhbHVlJiYib2JqZWN0Ij09dHlwZW9mIGEudmFsdWUpe2lmKHRoaXMuaXNSZXBsYWNlUGxhY2Vob2xkZXJzKGEpJiZudWxsIT1hLmdldEF0dHJpYnV0ZSgicGxhY2Vob2xkZXIiKSlmb3IodmFyIGM9YS5nZXRBdHRyaWJ1dGUoInBsYWNlaG9sZGVyIiksZD1hO251bGwhPWQ7KXtpZihkPT10aGlzLm1vZGVsLmdldFJvb3QoKXx8bnVsbCE9ZC52YWx1ZSYmIm9iamVjdCI9PXR5cGVvZiBkLnZhbHVlJiYKZC5oYXNBdHRyaWJ1dGUoYykpe3RoaXMuc2V0QXR0cmlidXRlRm9yQ2VsbChkLGMsYik7YnJlYWt9ZD10aGlzLm1vZGVsLmdldFBhcmVudChkKX12YXIgZj1hLnZhbHVlLmNsb25lTm9kZSghMCk7Zi5zZXRBdHRyaWJ1dGUoImxhYmVsIixiKTtiPWZ9bXhHcmFwaC5wcm90b3R5cGUuY2VsbExhYmVsQ2hhbmdlZC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZmluYWxseXt0aGlzLm1vZGVsLmVuZFVwZGF0ZSgpfX07R3JhcGgucHJvdG90eXBlLmNlbGxzUmVtb3ZlZD1mdW5jdGlvbihhKXtpZihudWxsIT1hKXtmb3IodmFyIGI9bmV3IG14RGljdGlvbmFyeSxlPTA7ZTxhLmxlbmd0aDtlKyspYi5wdXQoYVtlXSwhMCk7Zm9yKHZhciBjPVtdLGU9MDtlPGEubGVuZ3RoO2UrKyl7dmFyIGQ9dGhpcy5tb2RlbC5nZXRQYXJlbnQoYVtlXSk7bnVsbD09ZHx8Yi5nZXQoZCl8fChiLnB1dChkLCEwKSxjLnB1c2goZCkpfWZvcihlPTA7ZTxjLmxlbmd0aDtlKyspaWYoZD10aGlzLnZpZXcuZ2V0U3RhdGUoY1tlXSksCm51bGwhPWQmJih0aGlzLm1vZGVsLmlzRWRnZShkLmNlbGwpfHx0aGlzLm1vZGVsLmlzVmVydGV4KGQuY2VsbCkpJiZ0aGlzLmlzQ2VsbERlbGV0YWJsZShkLmNlbGwpJiZ0aGlzLmlzVHJhbnNwYXJlbnRTdGF0ZShkKSl7Zm9yKHZhciBmPSEwLGc9MDtnPHRoaXMubW9kZWwuZ2V0Q2hpbGRDb3VudChkLmNlbGwpJiZmO2crKyliLmdldCh0aGlzLm1vZGVsLmdldENoaWxkQXQoZC5jZWxsLGcpKXx8KGY9ITEpO2YmJmEucHVzaChkLmNlbGwpfX1teEdyYXBoLnByb3RvdHlwZS5jZWxsc1JlbW92ZWQuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtHcmFwaC5wcm90b3R5cGUucmVtb3ZlQ2VsbHNBZnRlclVuZ3JvdXA9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGU9MDtlPGEubGVuZ3RoO2UrKyl0aGlzLmlzQ2VsbERlbGV0YWJsZShhW2VdKSYmdGhpcy5pc1RyYW5zcGFyZW50U3RhdGUodGhpcy52aWV3LmdldFN0YXRlKGFbZV0pKSYmYi5wdXNoKGFbZV0pO2E9YjtteEdyYXBoLnByb3RvdHlwZS5yZW1vdmVDZWxsc0FmdGVyVW5ncm91cC5hcHBseSh0aGlzLAphcmd1bWVudHMpfTtHcmFwaC5wcm90b3R5cGUuc2V0TGlua0ZvckNlbGw9ZnVuY3Rpb24oYSxiKXt0aGlzLnNldEF0dHJpYnV0ZUZvckNlbGwoYSwibGluayIsYil9O0dyYXBoLnByb3RvdHlwZS5zZXRUb29sdGlwRm9yQ2VsbD1mdW5jdGlvbihhLGIpe3RoaXMuc2V0QXR0cmlidXRlRm9yQ2VsbChhLCJ0b29sdGlwIixiKX07R3JhcGgucHJvdG90eXBlLmdldEF0dHJpYnV0ZUZvckNlbGw9ZnVuY3Rpb24oYSxiLGUpe2E9bnVsbCE9YS52YWx1ZSYmIm9iamVjdCI9PT10eXBlb2YgYS52YWx1ZT9hLnZhbHVlLmdldEF0dHJpYnV0ZShiKTpudWxsO3JldHVybiBudWxsIT1hP2E6ZX07R3JhcGgucHJvdG90eXBlLnNldEF0dHJpYnV0ZUZvckNlbGw9ZnVuY3Rpb24oYSxiLGUpe3ZhciBjO251bGwhPWEudmFsdWUmJiJvYmplY3QiPT10eXBlb2YgYS52YWx1ZT9jPWEudmFsdWUuY2xvbmVOb2RlKCEwKTooYz1teFV0aWxzLmNyZWF0ZVhtbERvY3VtZW50KCkuY3JlYXRlRWxlbWVudCgiVXNlck9iamVjdCIpLApjLnNldEF0dHJpYnV0ZSgibGFiZWwiLGEudmFsdWV8fCIiKSk7bnVsbCE9ZT9jLnNldEF0dHJpYnV0ZShiLGUpOmMucmVtb3ZlQXR0cmlidXRlKGIpO3RoaXMubW9kZWwuc2V0VmFsdWUoYSxjKX07dmFyIGw9R3JhcGgucHJvdG90eXBlLmdldERyb3BUYXJnZXQ7R3JhcGgucHJvdG90eXBlLmdldERyb3BUYXJnZXQ9ZnVuY3Rpb24oYSxiLGUsYyl7dGhpcy5nZXRNb2RlbCgpO2lmKG14RXZlbnQuaXNBbHREb3duKGIpKXJldHVybiBudWxsO2Zvcih2YXIgZD0wO2Q8YS5sZW5ndGg7ZCsrKWlmKHRoaXMubW9kZWwuaXNFZGdlKHRoaXMubW9kZWwuZ2V0UGFyZW50KGFbZF0pKSlyZXR1cm4gbnVsbDtmb3IodmFyIGY9bC5hcHBseSh0aGlzLGFyZ3VtZW50cyksZz0hMCxkPTA7ZDxhLmxlbmd0aCYmZztkKyspZz1nJiZ0aGlzLmlzVGFibGVSb3coYVtkXSk7ZyYmKHRoaXMuaXNUYWJsZUNlbGwoZikmJihmPXRoaXMubW9kZWwuZ2V0UGFyZW50KGYpKSx0aGlzLmlzVGFibGVSb3coZikmJihmPXRoaXMubW9kZWwuZ2V0UGFyZW50KGYpKSwKdGhpcy5pc1RhYmxlKGYpfHwoZj1udWxsKSk7cmV0dXJuIGZ9O0dyYXBoLnByb3RvdHlwZS5jbGljaz1mdW5jdGlvbihhKXtteEdyYXBoLnByb3RvdHlwZS5jbGljay5jYWxsKHRoaXMsYSk7dGhpcy5maXJzdENsaWNrU3RhdGU9YS5nZXRTdGF0ZSgpO3RoaXMuZmlyc3RDbGlja1NvdXJjZT1hLmdldFNvdXJjZSgpfTtHcmFwaC5wcm90b3R5cGUuZGJsQ2xpY2s9ZnVuY3Rpb24oYSxiKXtpZih0aGlzLmlzRW5hYmxlZCgpKXt2YXIgZT1teFV0aWxzLmNvbnZlcnRQb2ludCh0aGlzLmNvbnRhaW5lcixteEV2ZW50LmdldENsaWVudFgoYSksbXhFdmVudC5nZXRDbGllbnRZKGEpKTtpZihudWxsIT1hJiYhdGhpcy5tb2RlbC5pc1ZlcnRleChiKSl7dmFyIGM9dGhpcy5tb2RlbC5pc0VkZ2UoYik/dGhpcy52aWV3LmdldFN0YXRlKGIpOm51bGwsZD1teEV2ZW50LmdldFNvdXJjZShhKTt0aGlzLmZpcnN0Q2xpY2tTdGF0ZSE9Y3x8dGhpcy5maXJzdENsaWNrU291cmNlIT1kfHxudWxsIT1jJiZudWxsIT0KYy50ZXh0JiZudWxsIT1jLnRleHQubm9kZSYmbnVsbCE9Yy50ZXh0LmJvdW5kaW5nQm94JiYobXhVdGlscy5jb250YWlucyhjLnRleHQuYm91bmRpbmdCb3gsZS54LGUueSl8fG14VXRpbHMuaXNBbmNlc3Rvck5vZGUoYy50ZXh0Lm5vZGUsbXhFdmVudC5nZXRTb3VyY2UoYSkpKXx8KG51bGwhPWN8fHRoaXMuaXNDZWxsTG9ja2VkKHRoaXMuZ2V0RGVmYXVsdFBhcmVudCgpKSkmJihudWxsPT1jfHx0aGlzLmlzQ2VsbExvY2tlZChjLmNlbGwpKXx8IShudWxsIT1jfHxteENsaWVudC5JU19WTUwmJmQ9PXRoaXMudmlldy5nZXRDYW52YXMoKXx8bXhDbGllbnQuSVNfU1ZHJiZkPT10aGlzLnZpZXcuZ2V0Q2FudmFzKCkub3duZXJTVkdFbGVtZW50KXx8KG51bGw9PWMmJihjPXRoaXMudmlldy5nZXRTdGF0ZSh0aGlzLmdldENlbGxBdChlLngsZS55KSkpLGI9dGhpcy5hZGRUZXh0KGUueCxlLnksYykpfW14R3JhcGgucHJvdG90eXBlLmRibENsaWNrLmNhbGwodGhpcyxhLGIpfX07R3JhcGgucHJvdG90eXBlLmdldEluc2VydFBvaW50PQpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0R3JpZFNpemUoKSxiPXRoaXMuY29udGFpbmVyLnNjcm9sbExlZnQvdGhpcy52aWV3LnNjYWxlLXRoaXMudmlldy50cmFuc2xhdGUueCxlPXRoaXMuY29udGFpbmVyLnNjcm9sbFRvcC90aGlzLnZpZXcuc2NhbGUtdGhpcy52aWV3LnRyYW5zbGF0ZS55O2lmKHRoaXMucGFnZVZpc2libGUpdmFyIGM9dGhpcy5nZXRQYWdlTGF5b3V0KCksZD10aGlzLmdldFBhZ2VTaXplKCksYj1NYXRoLm1heChiLGMueCpkLndpZHRoKSxlPU1hdGgubWF4KGUsYy55KmQuaGVpZ2h0KTtyZXR1cm4gbmV3IG14UG9pbnQodGhpcy5zbmFwKGIrYSksdGhpcy5zbmFwKGUrYSkpfTtHcmFwaC5wcm90b3R5cGUuZ2V0RnJlZUluc2VydFBvaW50PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy52aWV3LGI9dGhpcy5nZXRHcmFwaEJvdW5kcygpLGU9dGhpcy5nZXRJbnNlcnRQb2ludCgpLGM9dGhpcy5zbmFwKE1hdGgucm91bmQoTWF0aC5tYXgoZS54LGIueC9hLnNjYWxlLWEudHJhbnNsYXRlLngrCigwPT1iLndpZHRoPzIqdGhpcy5ncmlkU2l6ZTowKSkpKSxhPXRoaXMuc25hcChNYXRoLnJvdW5kKE1hdGgubWF4KGUueSwoYi55K2IuaGVpZ2h0KS9hLnNjYWxlLWEudHJhbnNsYXRlLnkrMip0aGlzLmdyaWRTaXplKSkpO3JldHVybiBuZXcgbXhQb2ludChjLGEpfTtHcmFwaC5wcm90b3R5cGUuZ2V0Q2VudGVySW5zZXJ0UG9pbnQ9ZnVuY3Rpb24oYSl7YT1udWxsIT1hP2E6bmV3IG14UmVjdGFuZ2xlO3JldHVybiBteFV0aWxzLmhhc1Njcm9sbGJhcnModGhpcy5jb250YWluZXIpP25ldyBteFBvaW50KHRoaXMuc25hcChNYXRoLnJvdW5kKCh0aGlzLmNvbnRhaW5lci5zY3JvbGxMZWZ0K3RoaXMuY29udGFpbmVyLmNsaWVudFdpZHRoLzIpL3RoaXMudmlldy5zY2FsZS10aGlzLnZpZXcudHJhbnNsYXRlLngtYS53aWR0aC8yKSksdGhpcy5zbmFwKE1hdGgucm91bmQoKHRoaXMuY29udGFpbmVyLnNjcm9sbFRvcCt0aGlzLmNvbnRhaW5lci5jbGllbnRIZWlnaHQvMikvdGhpcy52aWV3LnNjYWxlLQp0aGlzLnZpZXcudHJhbnNsYXRlLnktYS5oZWlnaHQvMikpKTpuZXcgbXhQb2ludCh0aGlzLnNuYXAoTWF0aC5yb3VuZCh0aGlzLmNvbnRhaW5lci5jbGllbnRXaWR0aC8yL3RoaXMudmlldy5zY2FsZS10aGlzLnZpZXcudHJhbnNsYXRlLngtYS53aWR0aC8yKSksdGhpcy5zbmFwKE1hdGgucm91bmQodGhpcy5jb250YWluZXIuY2xpZW50SGVpZ2h0LzIvdGhpcy52aWV3LnNjYWxlLXRoaXMudmlldy50cmFuc2xhdGUueS1hLmhlaWdodC8yKSkpfTtHcmFwaC5wcm90b3R5cGUuaXNNb3VzZUluc2VydFBvaW50PWZ1bmN0aW9uKCl7cmV0dXJuITF9O0dyYXBoLnByb3RvdHlwZS5hZGRUZXh0PWZ1bmN0aW9uKGEsYixlKXt2YXIgYz1uZXcgbXhDZWxsO2MudmFsdWU9IlRleHQiO2MuZ2VvbWV0cnk9bmV3IG14R2VvbWV0cnkoMCwwLDAsMCk7Yy52ZXJ0ZXg9ITA7aWYobnVsbCE9ZSYmdGhpcy5tb2RlbC5pc0VkZ2UoZS5jZWxsKSl7Yy5zdHlsZT0iZWRnZUxhYmVsO2h0bWw9MTthbGlnbj1jZW50ZXI7dmVydGljYWxBbGlnbj1taWRkbGU7cmVzaXphYmxlPTA7cG9pbnRzPVtdOyI7CmMuZ2VvbWV0cnkucmVsYXRpdmU9ITA7Yy5jb25uZWN0YWJsZT0hMTt2YXIgZD10aGlzLnZpZXcuZ2V0UmVsYXRpdmVQb2ludChlLGEsYik7Yy5nZW9tZXRyeS54PU1hdGgucm91bmQoMUU0KmQueCkvMUU0O2MuZ2VvbWV0cnkueT1NYXRoLnJvdW5kKGQueSk7Yy5nZW9tZXRyeS5vZmZzZXQ9bmV3IG14UG9pbnQoMCwwKTt2YXIgZD10aGlzLnZpZXcuZ2V0UG9pbnQoZSxjLmdlb21ldHJ5KSxmPXRoaXMudmlldy5zY2FsZTtjLmdlb21ldHJ5Lm9mZnNldD1uZXcgbXhQb2ludChNYXRoLnJvdW5kKChhLWQueCkvZiksTWF0aC5yb3VuZCgoYi1kLnkpL2YpKX1lbHNlIGQ9dGhpcy52aWV3LnRyYW5zbGF0ZSxjLnN0eWxlPSJ0ZXh0O2h0bWw9MTthbGlnbj1jZW50ZXI7dmVydGljYWxBbGlnbj1taWRkbGU7cmVzaXphYmxlPTA7cG9pbnRzPVtdOyIsYy5nZW9tZXRyeS53aWR0aD00MCxjLmdlb21ldHJ5LmhlaWdodD0yMCxjLmdlb21ldHJ5Lng9TWF0aC5yb3VuZChhL3RoaXMudmlldy5zY2FsZSktCmQueC0obnVsbCE9ZT9lLm9yaWdpbi54OjApLGMuZ2VvbWV0cnkueT1NYXRoLnJvdW5kKGIvdGhpcy52aWV3LnNjYWxlKS1kLnktKG51bGwhPWU/ZS5vcmlnaW4ueTowKSxjLnN0eWxlKz0iYXV0b3NpemU9MTsiO3RoaXMuZ2V0TW9kZWwoKS5iZWdpblVwZGF0ZSgpO3RyeXt0aGlzLmFkZENlbGxzKFtjXSxudWxsIT1lP2UuY2VsbDpudWxsKSx0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgidGV4dEluc2VydGVkIiwiY2VsbHMiLFtjXSkpLHRoaXMuYXV0b1NpemVDZWxsKGMpfWZpbmFsbHl7dGhpcy5nZXRNb2RlbCgpLmVuZFVwZGF0ZSgpfXJldHVybiBjfTtHcmFwaC5wcm90b3R5cGUuYWRkQ2xpY2tIYW5kbGVyPWZ1bmN0aW9uKGEsYixlKXt2YXIgYz1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3ZhciBhPXRoaXMuY29udGFpbmVyLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJhIik7aWYobnVsbCE9YSlmb3IodmFyIGU9MDtlPGEubGVuZ3RoO2UrKyl7dmFyIGM9dGhpcy5nZXRBYnNvbHV0ZVVybChhW2VdLmdldEF0dHJpYnV0ZSgiaHJlZiIpKTsKbnVsbCE9YyYmKGFbZV0uc2V0QXR0cmlidXRlKCJyZWwiLHRoaXMubGlua1JlbGF0aW9uKSxhW2VdLnNldEF0dHJpYnV0ZSgiaHJlZiIsYyksbnVsbCE9YiYmbXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKGFbZV0sbnVsbCxudWxsLGIpKX19KTt0aGlzLm1vZGVsLmFkZExpc3RlbmVyKG14RXZlbnQuQ0hBTkdFLGMpO2MoKTt2YXIgZD10aGlzLmNvbnRhaW5lci5zdHlsZS5jdXJzb3IsZj10aGlzLmdldFRvbGVyYW5jZSgpLGc9dGhpcyxsPXtjdXJyZW50U3RhdGU6bnVsbCxjdXJyZW50TGluazpudWxsLGhpZ2hsaWdodDpudWxsIT1hJiYiIiE9YSYmYSE9bXhDb25zdGFudHMuTk9ORT9uZXcgbXhDZWxsSGlnaGxpZ2h0KGcsYSw0KTpudWxsLHN0YXJ0WDowLHN0YXJ0WTowLHNjcm9sbExlZnQ6MCxzY3JvbGxUb3A6MCx1cGRhdGVDdXJyZW50U3RhdGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5zb3VyY2VTdGF0ZTtpZihudWxsPT1ifHxudWxsPT1nLmdldExpbmtGb3JDZWxsKGIuY2VsbCkpYT0KZy5nZXRDZWxsQXQoYS5nZXRHcmFwaFgoKSxhLmdldEdyYXBoWSgpLG51bGwsbnVsbCxudWxsLGZ1bmN0aW9uKGEsYixlKXtyZXR1cm4gbnVsbD09Zy5nZXRMaW5rRm9yQ2VsbChhLmNlbGwpfSksYj1nLnZpZXcuZ2V0U3RhdGUoYSk7YiE9dGhpcy5jdXJyZW50U3RhdGUmJihudWxsIT10aGlzLmN1cnJlbnRTdGF0ZSYmdGhpcy5jbGVhcigpLHRoaXMuY3VycmVudFN0YXRlPWIsbnVsbCE9dGhpcy5jdXJyZW50U3RhdGUmJnRoaXMuYWN0aXZhdGUodGhpcy5jdXJyZW50U3RhdGUpKX0sbW91c2VEb3duOmZ1bmN0aW9uKGEsYil7dGhpcy5zdGFydFg9Yi5nZXRHcmFwaFgoKTt0aGlzLnN0YXJ0WT1iLmdldEdyYXBoWSgpO3RoaXMuc2Nyb2xsTGVmdD1nLmNvbnRhaW5lci5zY3JvbGxMZWZ0O3RoaXMuc2Nyb2xsVG9wPWcuY29udGFpbmVyLnNjcm9sbFRvcDtudWxsPT10aGlzLmN1cnJlbnRMaW5rJiYiYXV0byI9PWcuY29udGFpbmVyLnN0eWxlLm92ZXJmbG93JiYoZy5jb250YWluZXIuc3R5bGUuY3Vyc29yPQoibW92ZSIpO3RoaXMudXBkYXRlQ3VycmVudFN0YXRlKGIpfSxtb3VzZU1vdmU6ZnVuY3Rpb24oYSxiKXtpZihnLmlzTW91c2VEb3duKXtpZihudWxsIT10aGlzLmN1cnJlbnRMaW5rKXt2YXIgZT1NYXRoLmFicyh0aGlzLnN0YXJ0WC1iLmdldEdyYXBoWCgpKSxjPU1hdGguYWJzKHRoaXMuc3RhcnRZLWIuZ2V0R3JhcGhZKCkpOyhlPmZ8fGM+ZikmJnRoaXMuY2xlYXIoKX19ZWxzZXtmb3IoZT1iLmdldFNvdXJjZSgpO251bGwhPWUmJiJhIiE9ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOyllPWUucGFyZW50Tm9kZTtudWxsIT1lP3RoaXMuY2xlYXIoKToobnVsbCE9Zy50b29sdGlwSGFuZGxlciYmbnVsbCE9dGhpcy5jdXJyZW50TGluayYmbnVsbCE9dGhpcy5jdXJyZW50U3RhdGUmJmcudG9vbHRpcEhhbmRsZXIucmVzZXQoYiwhMCx0aGlzLmN1cnJlbnRTdGF0ZSksKG51bGw9PXRoaXMuY3VycmVudFN0YXRlfHxiLmdldFN0YXRlKCkhPXRoaXMuY3VycmVudFN0YXRlJiZudWxsIT1iLnNvdXJjZVN0YXRlfHwKIWcuaW50ZXJzZWN0cyh0aGlzLmN1cnJlbnRTdGF0ZSxiLmdldEdyYXBoWCgpLGIuZ2V0R3JhcGhZKCkpKSYmdGhpcy51cGRhdGVDdXJyZW50U3RhdGUoYikpfX0sbW91c2VVcDpmdW5jdGlvbihhLGMpe2Zvcih2YXIgZD1jLmdldFNvdXJjZSgpLGw9Yy5nZXRFdmVudCgpO251bGwhPWQmJiJhIiE9ZC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOylkPWQucGFyZW50Tm9kZTtudWxsPT1kJiZNYXRoLmFicyh0aGlzLnNjcm9sbExlZnQtZy5jb250YWluZXIuc2Nyb2xsTGVmdCk8ZiYmTWF0aC5hYnModGhpcy5zY3JvbGxUb3AtZy5jb250YWluZXIuc2Nyb2xsVG9wKTxmJiYobnVsbD09Yy5zb3VyY2VTdGF0ZXx8IWMuaXNTb3VyY2UoYy5zb3VyY2VTdGF0ZS5jb250cm9sKSkmJigobXhFdmVudC5pc0xlZnRNb3VzZUJ1dHRvbihsKXx8bXhFdmVudC5pc01pZGRsZU1vdXNlQnV0dG9uKGwpKSYmIW14RXZlbnQuaXNQb3B1cFRyaWdnZXIobCl8fG14RXZlbnQuaXNUb3VjaEV2ZW50KGwpKSYmKG51bGwhPQp0aGlzLmN1cnJlbnRMaW5rPyhkPWcuaXNCbGFua0xpbmsodGhpcy5jdXJyZW50TGluayksImRhdGE6IiE9PXRoaXMuY3VycmVudExpbmsuc3Vic3RyaW5nKDAsNSkmJmR8fG51bGw9PWJ8fGIobCx0aGlzLmN1cnJlbnRMaW5rKSxteEV2ZW50LmlzQ29uc3VtZWQobCl8fChsPW14RXZlbnQuaXNNaWRkbGVNb3VzZUJ1dHRvbihsKT8iX2JsYW5rIjpkP2cubGlua1RhcmdldDoiX3RvcCIsZy5vcGVuTGluayh0aGlzLmN1cnJlbnRMaW5rLGwpLGMuY29uc3VtZSgpKSk6bnVsbCE9ZSYmIWMuaXNDb25zdW1lZCgpJiZNYXRoLmFicyh0aGlzLnNjcm9sbExlZnQtZy5jb250YWluZXIuc2Nyb2xsTGVmdCk8ZiYmTWF0aC5hYnModGhpcy5zY3JvbGxUb3AtZy5jb250YWluZXIuc2Nyb2xsVG9wKTxmJiZNYXRoLmFicyh0aGlzLnN0YXJ0WC1jLmdldEdyYXBoWCgpKTxmJiZNYXRoLmFicyh0aGlzLnN0YXJ0WS1jLmdldEdyYXBoWSgpKTxmJiZlKGMuZ2V0RXZlbnQoKSkpO3RoaXMuY2xlYXIoKX0sYWN0aXZhdGU6ZnVuY3Rpb24oYSl7dGhpcy5jdXJyZW50TGluaz0KZy5nZXRBYnNvbHV0ZVVybChnLmdldExpbmtGb3JDZWxsKGEuY2VsbCkpO251bGwhPXRoaXMuY3VycmVudExpbmsmJihnLmNvbnRhaW5lci5zdHlsZS5jdXJzb3I9InBvaW50ZXIiLG51bGwhPXRoaXMuaGlnaGxpZ2h0JiZ0aGlzLmhpZ2hsaWdodC5oaWdobGlnaHQoYSkpfSxjbGVhcjpmdW5jdGlvbigpe251bGwhPWcuY29udGFpbmVyJiYoZy5jb250YWluZXIuc3R5bGUuY3Vyc29yPWQpO3RoaXMuY3VycmVudExpbms9dGhpcy5jdXJyZW50U3RhdGU9bnVsbDtudWxsIT10aGlzLmhpZ2hsaWdodCYmdGhpcy5oaWdobGlnaHQuaGlkZSgpO251bGwhPWcudG9vbHRpcEhhbmRsZXImJmcudG9vbHRpcEhhbmRsZXIuaGlkZSgpfX07Zy5jbGljaz1mdW5jdGlvbihhKXt9O2cuYWRkTW91c2VMaXN0ZW5lcihsKTtteEV2ZW50LmFkZExpc3RlbmVyKGRvY3VtZW50LCJtb3VzZWxlYXZlIixmdW5jdGlvbihhKXtsLmNsZWFyKCl9KX07R3JhcGgucHJvdG90eXBlLmR1cGxpY2F0ZUNlbGxzPWZ1bmN0aW9uKGEsCmIpe2E9bnVsbCE9YT9hOnRoaXMuZ2V0U2VsZWN0aW9uQ2VsbHMoKTtiPW51bGwhPWI/YjohMDtmb3IodmFyIGU9MDtlPGEubGVuZ3RoO2UrKyl0aGlzLmlzVGFibGVDZWxsKGFbZV0pJiYoYVtlXT10aGlzLm1vZGVsLmdldFBhcmVudChhW2VdKSk7YT10aGlzLm1vZGVsLmdldFRvcG1vc3RDZWxscyhhKTt2YXIgYz10aGlzLmdldE1vZGVsKCksZD10aGlzLmdyaWRTaXplLGY9W107Yy5iZWdpblVwZGF0ZSgpO3RyeXtmb3IodmFyIGc9dGhpcy5jbG9uZUNlbGxzKGEsITEsbnVsbCwhMCksZT0wO2U8YS5sZW5ndGg7ZSsrKXt2YXIgbD1jLmdldFBhcmVudChhW2VdKSx1PXRoaXMubW92ZUNlbGxzKFtnW2VdXSxkLGQsITEpWzBdO2YucHVzaCh1KTtpZihiKWMuYWRkKGwsZ1tlXSk7ZWxzZXt2YXIgcD1sLmdldEluZGV4KGFbZV0pO2MuYWRkKGwsZ1tlXSxwKzEpfWlmKHRoaXMuaXNUYWJsZShsKSl7dmFyIG49dGhpcy5nZXRDZWxsR2VvbWV0cnkoZ1tlXSkseT10aGlzLmdldENlbGxHZW9tZXRyeShsKTsKbnVsbCE9biYmbnVsbCE9eSYmKHk9eS5jbG9uZSgpLHkuaGVpZ2h0Kz1uLmhlaWdodCxjLnNldEdlb21ldHJ5KGwseSkpfX19ZmluYWxseXtjLmVuZFVwZGF0ZSgpfXJldHVybiBmfTtHcmFwaC5wcm90b3R5cGUuaW5zZXJ0SW1hZ2U9ZnVuY3Rpb24oYSxiLGUpe2lmKG51bGwhPWEmJm51bGwhPXRoaXMuY2VsbEVkaXRvci50ZXh0YXJlYSl7Zm9yKHZhciBjPXRoaXMuY2VsbEVkaXRvci50ZXh0YXJlYS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW1nIiksZD1bXSxmPTA7ZjxjLmxlbmd0aDtmKyspZC5wdXNoKGNbZl0pO2RvY3VtZW50LmV4ZWNDb21tYW5kKCJpbnNlcnRpbWFnZSIsITEsYSk7YT10aGlzLmNlbGxFZGl0b3IudGV4dGFyZWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImltZyIpO2lmKGEubGVuZ3RoPT1kLmxlbmd0aCsxKWZvcihmPWEubGVuZ3RoLTE7MDw9ZjtmLS0paWYoMD09Znx8YVtmXSE9ZFtmLTFdKXthW2ZdLnNldEF0dHJpYnV0ZSgid2lkdGgiLGIpO2FbZl0uc2V0QXR0cmlidXRlKCJoZWlnaHQiLAplKTticmVha319fTtHcmFwaC5wcm90b3R5cGUuaW5zZXJ0TGluaz1mdW5jdGlvbihhKXtpZihudWxsIT10aGlzLmNlbGxFZGl0b3IudGV4dGFyZWEpaWYoMD09YS5sZW5ndGgpZG9jdW1lbnQuZXhlY0NvbW1hbmQoInVubGluayIsITEpO2Vsc2UgaWYobXhDbGllbnQuSVNfRkYpe2Zvcih2YXIgYj10aGlzLmNlbGxFZGl0b3IudGV4dGFyZWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImEiKSxlPVtdLGM9MDtjPGIubGVuZ3RoO2MrKyllLnB1c2goYltjXSk7ZG9jdW1lbnQuZXhlY0NvbW1hbmQoImNyZWF0ZWxpbmsiLCExLG14VXRpbHMudHJpbShhKSk7Yj10aGlzLmNlbGxFZGl0b3IudGV4dGFyZWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImEiKTtpZihiLmxlbmd0aD09ZS5sZW5ndGgrMSlmb3IoYz1iLmxlbmd0aC0xOzA8PWM7Yy0tKWlmKGJbY10hPWVbYy0xXSl7Zm9yKGI9YltjXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYSIpOzA8Yi5sZW5ndGg7KXtmb3IoZT1iWzBdLnBhcmVudE5vZGU7bnVsbCE9CmJbMF0uZmlyc3RDaGlsZDspZS5pbnNlcnRCZWZvcmUoYlswXS5maXJzdENoaWxkLGJbMF0pO2UucmVtb3ZlQ2hpbGQoYlswXSl9YnJlYWt9fWVsc2UgZG9jdW1lbnQuZXhlY0NvbW1hbmQoImNyZWF0ZWxpbmsiLCExLG14VXRpbHMudHJpbShhKSl9O0dyYXBoLnByb3RvdHlwZS5pc0NlbGxSZXNpemFibGU9ZnVuY3Rpb24oYSl7dmFyIGI9bXhHcmFwaC5wcm90b3R5cGUuaXNDZWxsUmVzaXphYmxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxlPXRoaXMuZ2V0Q3VycmVudENlbGxTdHlsZShhKTtyZXR1cm4hdGhpcy5pc1RhYmxlQ2VsbChhKSYmIXRoaXMuaXNUYWJsZVJvdyhhKSYmKGJ8fCIwIiE9bXhVdGlscy5nZXRWYWx1ZShlLG14Q29uc3RhbnRzLlNUWUxFX1JFU0laQUJMRSwiMSIpJiYid3JhcCI9PWVbbXhDb25zdGFudHMuU1RZTEVfV0hJVEVfU1BBQ0VdKX07R3JhcGgucHJvdG90eXBlLmRpc3RyaWJ1dGVDZWxscz1mdW5jdGlvbihhLGIpe251bGw9PWImJihiPXRoaXMuZ2V0U2VsZWN0aW9uQ2VsbHMoKSk7CmlmKG51bGwhPWImJjE8Yi5sZW5ndGgpe2Zvcih2YXIgZT1bXSxjPW51bGwsZD1udWxsLGY9MDtmPGIubGVuZ3RoO2YrKylpZih0aGlzLmdldE1vZGVsKCkuaXNWZXJ0ZXgoYltmXSkpe3ZhciBnPXRoaXMudmlldy5nZXRTdGF0ZShiW2ZdKTtpZihudWxsIT1nKXt2YXIgbD1hP2cuZ2V0Q2VudGVyWCgpOmcuZ2V0Q2VudGVyWSgpLGM9bnVsbCE9Yz9NYXRoLm1heChjLGwpOmwsZD1udWxsIT1kP01hdGgubWluKGQsbCk6bDtlLnB1c2goZyl9fWlmKDI8ZS5sZW5ndGgpe2Uuc29ydChmdW5jdGlvbihiLGUpe3JldHVybiBhP2IueC1lLng6Yi55LWUueX0pO2c9dGhpcy52aWV3LnRyYW5zbGF0ZTtsPXRoaXMudmlldy5zY2FsZTtkPWQvbC0oYT9nLng6Zy55KTtjPWMvbC0oYT9nLng6Zy55KTt0aGlzLmdldE1vZGVsKCkuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKHZhciB1PShjLWQpLyhlLmxlbmd0aC0xKSxjPWQsZj0xO2Y8ZS5sZW5ndGgtMTtmKyspe3ZhciBwPXRoaXMudmlldy5nZXRTdGF0ZSh0aGlzLm1vZGVsLmdldFBhcmVudChlW2ZdLmNlbGwpKSwKbj10aGlzLmdldENlbGxHZW9tZXRyeShlW2ZdLmNlbGwpLGM9Yyt1O251bGwhPW4mJm51bGwhPXAmJihuPW4uY2xvbmUoKSxhP24ueD1NYXRoLnJvdW5kKGMtbi53aWR0aC8yKS1wLm9yaWdpbi54Om4ueT1NYXRoLnJvdW5kKGMtbi5oZWlnaHQvMiktcC5vcmlnaW4ueSx0aGlzLmdldE1vZGVsKCkuc2V0R2VvbWV0cnkoZVtmXS5jZWxsLG4pKX19ZmluYWxseXt0aGlzLmdldE1vZGVsKCkuZW5kVXBkYXRlKCl9fX1yZXR1cm4gYn07R3JhcGgucHJvdG90eXBlLmlzQ2xvbmVFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gbXhDbGllbnQuSVNfTUFDJiZteEV2ZW50LmlzTWV0YURvd24oYSl8fG14RXZlbnQuaXNDb250cm9sRG93bihhKX07R3JhcGgucHJvdG90eXBlLmNyZWF0ZVN2Z0ltYWdlRXhwb3J0PWZ1bmN0aW9uKCl7dmFyIGE9bmV3IG14SW1hZ2VFeHBvcnQ7YS5nZXRMaW5rRm9yQ2VsbFN0YXRlPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZ2V0TGlua0ZvckNlbGwoYS5jZWxsKX0pOwpyZXR1cm4gYX07R3JhcGgucHJvdG90eXBlLmdldFN2Zz1mdW5jdGlvbihhLGIsZSxjLGQsZixnLGwsdSxwKXt2YXIgbj10aGlzLnVzZUNzc1RyYW5zZm9ybXM7biYmKHRoaXMudXNlQ3NzVHJhbnNmb3Jtcz0hMSx0aGlzLnZpZXcucmV2YWxpZGF0ZSgpLHRoaXMuc2l6ZURpZENoYW5nZSgpKTt0cnl7Yj1udWxsIT1iP2I6MTtlPW51bGwhPWU/ZTowO2Q9bnVsbCE9ZD9kOiEwO2Y9bnVsbCE9Zj9mOiEwO2c9bnVsbCE9Zz9nOiEwO3ZhciB5PWZ8fGM/dGhpcy5nZXRHcmFwaEJvdW5kcygpOnRoaXMuZ2V0Qm91bmRpbmdCb3godGhpcy5nZXRTZWxlY3Rpb25DZWxscygpKTtpZihudWxsPT15KXRocm93IEVycm9yKG14UmVzb3VyY2VzLmdldCgiZHJhd2luZ0VtcHR5IikpO3ZhciB0PXRoaXMudmlldy5zY2FsZSxtPW14VXRpbHMuY3JlYXRlWG1sRG9jdW1lbnQoKSxrPW51bGwhPW0uY3JlYXRlRWxlbWVudE5TP20uY3JlYXRlRWxlbWVudE5TKG14Q29uc3RhbnRzLk5TX1NWRywic3ZnIik6bS5jcmVhdGVFbGVtZW50KCJzdmciKTsKbnVsbCE9YSYmKG51bGwhPWsuc3R5bGU/ay5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9YTprLnNldEF0dHJpYnV0ZSgic3R5bGUiLCJiYWNrZ3JvdW5kLWNvbG9yOiIrYSkpO251bGw9PW0uY3JlYXRlRWxlbWVudE5TPyhrLnNldEF0dHJpYnV0ZSgieG1sbnMiLG14Q29uc3RhbnRzLk5TX1NWRyksay5zZXRBdHRyaWJ1dGUoInhtbG5zOnhsaW5rIixteENvbnN0YW50cy5OU19YTElOSykpOmsuc2V0QXR0cmlidXRlTlMoImh0dHA6Ly93d3cudzMub3JnLzIwMDAveG1sbnMvIiwieG1sbnM6eGxpbmsiLG14Q29uc3RhbnRzLk5TX1hMSU5LKTthPWIvdDt2YXIgdj1NYXRoLm1heCgxLE1hdGguY2VpbCh5LndpZHRoKmEpKzIqZSkrKHA/NTowKSx4PU1hdGgubWF4KDEsTWF0aC5jZWlsKHkuaGVpZ2h0KmEpKzIqZSkrKHA/NTowKTtrLnNldEF0dHJpYnV0ZSgidmVyc2lvbiIsIjEuMSIpO2suc2V0QXR0cmlidXRlKCJ3aWR0aCIsdisicHgiKTtrLnNldEF0dHJpYnV0ZSgiaGVpZ2h0Iix4KyJweCIpOwprLnNldEF0dHJpYnV0ZSgidmlld0JveCIsKGQ/Ii0wLjUgLTAuNSI6IjAgMCIpKyIgIit2KyIgIit4KTttLmFwcGVuZENoaWxkKGspO3ZhciBLPW51bGwhPW0uY3JlYXRlRWxlbWVudE5TP20uY3JlYXRlRWxlbWVudE5TKG14Q29uc3RhbnRzLk5TX1NWRywiZyIpOm0uY3JlYXRlRWxlbWVudCgiZyIpO2suYXBwZW5kQ2hpbGQoSyk7dmFyIEE9dGhpcy5jcmVhdGVTdmdDYW52YXMoSyk7QS5mb09mZnNldD1kPy0uNTowO0EudGV4dE9mZnNldD1kPy0uNTowO0EuaW1hZ2VPZmZzZXQ9ZD8tLjU6MDtBLnRyYW5zbGF0ZShNYXRoLmZsb29yKChlL2IteS54KS90KSxNYXRoLmZsb29yKChlL2IteS55KS90KSk7dmFyIE49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksTz1BLmdldEFsdGVybmF0ZVRleHQ7QS5nZXRBbHRlcm5hdGVUZXh0PWZ1bmN0aW9uKGEsYixlLGMsZCxmLGcsbCx1LHAsYmEsbix5KXtpZihudWxsIT1mJiYwPHRoaXMuc3RhdGUuZm9udFNpemUpdHJ5e214VXRpbHMuaXNOb2RlKGYpPwpmPWYuaW5uZXJUZXh0OihOLmlubmVySFRNTD1mLGY9bXhVdGlscy5leHRyYWN0VGV4dFdpdGhXaGl0ZXNwYWNlKE4uY2hpbGROb2RlcykpO2Zvcih2YXIgTWE9TWF0aC5jZWlsKDIqYy90aGlzLnN0YXRlLmZvbnRTaXplKSx0PVtdLGs9MCxtPTA7KDA9PU1hfHxrPE1hKSYmbTxmLmxlbmd0aDspe3ZhciB2PWYuY2hhckNvZGVBdChtKTtpZigxMD09dnx8MTM9PXYpe2lmKDA8aylicmVha31lbHNlIHQucHVzaChmLmNoYXJBdChtKSksMjU1PnYmJmsrKzttKyt9dC5sZW5ndGg8Zi5sZW5ndGgmJjE8Zi5sZW5ndGgtdC5sZW5ndGgmJihmPW14VXRpbHMudHJpbSh0LmpvaW4oIiIpKSsiLi4uIik7cmV0dXJuIGZ9Y2F0Y2goVWEpe3JldHVybiBPLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1lbHNlIHJldHVybiBPLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dmFyIHE9dGhpcy5iYWNrZ3JvdW5kSW1hZ2U7aWYobnVsbCE9cSl7Yj10L2I7dmFyIEg9dGhpcy52aWV3LnRyYW5zbGF0ZSxWPW5ldyBteFJlY3RhbmdsZShILngqCmIsSC55KmIscS53aWR0aCpiLHEuaGVpZ2h0KmIpO214VXRpbHMuaW50ZXJzZWN0cyh5LFYpJiZBLmltYWdlKEgueCxILnkscS53aWR0aCxxLmhlaWdodCxxLnNyYywhMCl9QS5zY2FsZShhKTtBLnRleHRFbmFibGVkPWc7bD1udWxsIT1sP2w6dGhpcy5jcmVhdGVTdmdJbWFnZUV4cG9ydCgpO3ZhciB6PWwuZHJhd0NlbGxTdGF0ZSxEPWwuZ2V0TGlua0ZvckNlbGxTdGF0ZTtsLmdldExpbmtGb3JDZWxsU3RhdGU9ZnVuY3Rpb24oYSxiKXt2YXIgZT1ELmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gbnVsbD09ZXx8YS52aWV3LmdyYXBoLmlzQ3VzdG9tTGluayhlKT9udWxsOmV9O2wuZHJhd0NlbGxTdGF0ZT1mdW5jdGlvbihhLGIpe2Zvcih2YXIgZT1hLnZpZXcuZ3JhcGgsYz1lLmlzQ2VsbFNlbGVjdGVkKGEuY2VsbCksZD1lLm1vZGVsLmdldFBhcmVudChhLmNlbGwpOyFmJiYhYyYmbnVsbCE9ZDspYz1lLmlzQ2VsbFNlbGVjdGVkKGQpLGQ9ZS5tb2RlbC5nZXRQYXJlbnQoZCk7KGZ8fApjKSYmei5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2wuZHJhd1N0YXRlKHRoaXMuZ2V0VmlldygpLmdldFN0YXRlKHRoaXMubW9kZWwucm9vdCksQSk7dGhpcy51cGRhdGVTdmdMaW5rcyhrLHUsITApO3RoaXMuYWRkRm9yZWlnbk9iamVjdFdhcm5pbmcoQSxrKTtyZXR1cm4ga31maW5hbGx5e24mJih0aGlzLnVzZUNzc1RyYW5zZm9ybXM9ITAsdGhpcy52aWV3LnJldmFsaWRhdGUoKSx0aGlzLnNpemVEaWRDaGFuZ2UoKSl9fTtHcmFwaC5wcm90b3R5cGUuYWRkRm9yZWlnbk9iamVjdFdhcm5pbmc9ZnVuY3Rpb24oYSxiKXtpZigwPGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImZvcmVpZ25PYmplY3QiKS5sZW5ndGgpe3ZhciBlPWEuY3JlYXRlRWxlbWVudCgic3dpdGNoIiksYz1hLmNyZWF0ZUVsZW1lbnQoImciKTtjLnNldEF0dHJpYnV0ZSgicmVxdWlyZWRGZWF0dXJlcyIsImh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSIpO3ZhciBkPWEuY3JlYXRlRWxlbWVudCgiYSIpOwpkLnNldEF0dHJpYnV0ZSgidHJhbnNmb3JtIiwidHJhbnNsYXRlKDAsLTUpIik7bnVsbD09ZC5zZXRBdHRyaWJ1dGVOU3x8Yi5vd25lckRvY3VtZW50IT1kb2N1bWVudCYmbnVsbD09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlPyhkLnNldEF0dHJpYnV0ZSgieGxpbms6aHJlZiIsR3JhcGguZm9yZWlnbk9iamVjdFdhcm5pbmdMaW5rKSxkLnNldEF0dHJpYnV0ZSgidGFyZ2V0IiwiX2JsYW5rIikpOihkLnNldEF0dHJpYnV0ZU5TKG14Q29uc3RhbnRzLk5TX1hMSU5LLCJ4bGluazpocmVmIixHcmFwaC5mb3JlaWduT2JqZWN0V2FybmluZ0xpbmspLGQuc2V0QXR0cmlidXRlTlMobXhDb25zdGFudHMuTlNfWExJTkssInRhcmdldCIsIl9ibGFuayIpKTt2YXIgZj1hLmNyZWF0ZUVsZW1lbnQoInRleHQiKTtmLnNldEF0dHJpYnV0ZSgidGV4dC1hbmNob3IiLCJtaWRkbGUiKTtmLnNldEF0dHJpYnV0ZSgiZm9udC1zaXplIiwiMTBweCIpO2Yuc2V0QXR0cmlidXRlKCJ4IiwiNTAlIik7Zi5zZXRBdHRyaWJ1dGUoInkiLAoiMTAwJSIpO214VXRpbHMud3JpdGUoZixHcmFwaC5mb3JlaWduT2JqZWN0V2FybmluZ1RleHQpO2UuYXBwZW5kQ2hpbGQoYyk7ZC5hcHBlbmRDaGlsZChmKTtlLmFwcGVuZENoaWxkKGQpO2IuYXBwZW5kQ2hpbGQoZSl9fTtHcmFwaC5wcm90b3R5cGUudXBkYXRlU3ZnTGlua3M9ZnVuY3Rpb24oYSxiLGUpe2E9YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYSIpO2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZD1hW2NdLmdldEF0dHJpYnV0ZSgiaHJlZiIpO251bGw9PWQmJihkPWFbY10uZ2V0QXR0cmlidXRlKCJ4bGluazpocmVmIikpO251bGwhPWQmJihudWxsIT1iJiYvXmh0dHBzPzpcL1wvLy50ZXN0KGQpP2FbY10uc2V0QXR0cmlidXRlKCJ0YXJnZXQiLGIpOmUmJnRoaXMuaXNDdXN0b21MaW5rKGQpJiZhW2NdLnNldEF0dHJpYnV0ZSgiaHJlZiIsImphdmFzY3JpcHQ6dm9pZCgwKTsiKSl9fTtHcmFwaC5wcm90b3R5cGUuY3JlYXRlU3ZnQ2FudmFzPWZ1bmN0aW9uKGEpe2E9Cm5ldyBteFN2Z0NhbnZhczJEKGEpO2EucG9pbnRlckV2ZW50cz0hMDtyZXR1cm4gYX07R3JhcGgucHJvdG90eXBlLmdldFNlbGVjdGVkRWxlbWVudD1mdW5jdGlvbigpe3ZhciBhPW51bGw7aWYod2luZG93LmdldFNlbGVjdGlvbil7dmFyIGI9d2luZG93LmdldFNlbGVjdGlvbigpO2IuZ2V0UmFuZ2VBdCYmYi5yYW5nZUNvdW50JiYoYT1iLmdldFJhbmdlQXQoMCkuY29tbW9uQW5jZXN0b3JDb250YWluZXIpfWVsc2UgZG9jdW1lbnQuc2VsZWN0aW9uJiYoYT1kb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKS5wYXJlbnRFbGVtZW50KCkpO3JldHVybiBhfTtHcmFwaC5wcm90b3R5cGUuZ2V0UGFyZW50QnlOYW1lPWZ1bmN0aW9uKGEsYixlKXtmb3IoO251bGwhPWEmJmEubm9kZU5hbWUhPWI7KXtpZihhPT1lKXJldHVybiBudWxsO2E9YS5wYXJlbnROb2RlfXJldHVybiBhfTtHcmFwaC5wcm90b3R5cGUuZ2V0UGFyZW50QnlOYW1lcz1mdW5jdGlvbihhLGIsZSl7Zm9yKDtudWxsIT0KYSYmISgwPD1teFV0aWxzLmluZGV4T2YoYixhLm5vZGVOYW1lKSk7KXtpZihhPT1lKXJldHVybiBudWxsO2E9YS5wYXJlbnROb2RlfXJldHVybiBhfTtHcmFwaC5wcm90b3R5cGUuc2VsZWN0Tm9kZT1mdW5jdGlvbihhKXt2YXIgYj1udWxsO2lmKHdpbmRvdy5nZXRTZWxlY3Rpb24pe2lmKGI9d2luZG93LmdldFNlbGVjdGlvbigpLGIuZ2V0UmFuZ2VBdCYmYi5yYW5nZUNvdW50KXt2YXIgZT1kb2N1bWVudC5jcmVhdGVSYW5nZSgpO2Uuc2VsZWN0Tm9kZShhKTtiLnJlbW92ZUFsbFJhbmdlcygpO2IuYWRkUmFuZ2UoZSl9fWVsc2UoYj1kb2N1bWVudC5zZWxlY3Rpb24pJiYiQ29udHJvbCIhPWIudHlwZSYmKGE9Yi5jcmVhdGVSYW5nZSgpLGEuY29sbGFwc2UoITApLGU9Yi5jcmVhdGVSYW5nZSgpLGUuc2V0RW5kUG9pbnQoIlN0YXJ0VG9TdGFydCIsYSksZS5zZWxlY3QoKSl9O0dyYXBoLnByb3RvdHlwZS5kZWxldGVDZWxscz1mdW5jdGlvbihhLGIpe3ZhciBlPW51bGw7aWYobnVsbCE9CmEmJjA8YS5sZW5ndGgpe3RoaXMubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBkPXRoaXMubW9kZWwuZ2V0UGFyZW50KGFbY10pO2lmKHRoaXMuaXNUYWJsZShkKSl7dmFyIGY9dGhpcy5nZXRDZWxsR2VvbWV0cnkoYVtjXSksZz10aGlzLmdldENlbGxHZW9tZXRyeShkKTtudWxsIT1mJiZudWxsIT1nJiYoZz1nLmNsb25lKCksZy5oZWlnaHQtPWYuaGVpZ2h0LHRoaXMubW9kZWwuc2V0R2VvbWV0cnkoZCxnKSl9fXZhciBsPXRoaXMuc2VsZWN0UGFyZW50QWZ0ZXJEZWxldGU/dGhpcy5tb2RlbC5nZXRQYXJlbnRzKGEpOm51bGw7dGhpcy5yZW1vdmVDZWxscyhhLGIpfWZpbmFsbHl7dGhpcy5tb2RlbC5lbmRVcGRhdGUoKX1pZihudWxsIT1sKWZvcihlPVtdLGM9MDtjPGwubGVuZ3RoO2MrKyl0aGlzLm1vZGVsLmNvbnRhaW5zKGxbY10pJiYodGhpcy5tb2RlbC5pc1ZlcnRleChsW2NdKXx8dGhpcy5tb2RlbC5pc0VkZ2UobFtjXSkpJiYKZS5wdXNoKGxbY10pfXJldHVybiBlfTtHcmFwaC5wcm90b3R5cGUuaW5zZXJ0VGFibGVDb2x1bW49ZnVuY3Rpb24oYSxiKXt2YXIgZT10aGlzLmdldE1vZGVsKCk7ZS5iZWdpblVwZGF0ZSgpO3RyeXt2YXIgYz1hLGQ9MDtpZih0aGlzLmlzVGFibGVDZWxsKGEpKXZhciBmPWUuZ2V0UGFyZW50KGEpLGM9ZS5nZXRQYXJlbnQoZiksZD1teFV0aWxzLmluZGV4T2YoZS5nZXRDaGlsZENlbGxzKGYsITApLGEpO2Vsc2UgdGhpcy5pc1RhYmxlUm93KGEpP2M9ZS5nZXRQYXJlbnQoYSk6YT1lLmdldENoaWxkQ2VsbHMoYywhMClbMF0sYnx8KGQ9ZS5nZXRDaGlsZENlbGxzKGEsITApLmxlbmd0aC0xKTtmb3IodmFyIGc9ZS5nZXRDaGlsZENlbGxzKGMsITApLGw9R3JhcGgubWluVGFibGVDb2x1bW5XaWR0aCxmPTA7ZjxnLmxlbmd0aDtmKyspe3ZhciB1PWUuZ2V0Q2hpbGRDZWxscyhnW2ZdLCEwKVtkXSxwPWUuY2xvbmVDZWxsKHUsITEpLG49dGhpcy5nZXRDZWxsR2VvbWV0cnkocCk7cC52YWx1ZT0KbnVsbDtpZihudWxsIT1uKXt2YXIgbD1uLndpZHRoLHk9dGhpcy5nZXRDZWxsR2VvbWV0cnkoZ1tmXSk7bnVsbCE9eSYmKG4uaGVpZ2h0PXkuaGVpZ2h0KX1lLmFkZChnW2ZdLHAsZCsoYj8wOjEpKX12YXIgdD10aGlzLmdldENlbGxHZW9tZXRyeShjKTtudWxsIT10JiYodD10LmNsb25lKCksdC53aWR0aCs9bCxlLnNldEdlb21ldHJ5KGMsdCkpfWZpbmFsbHl7ZS5lbmRVcGRhdGUoKX19O0dyYXBoLnByb3RvdHlwZS5pbnNlcnRUYWJsZVJvdz1mdW5jdGlvbihhLGIpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoKTtlLmJlZ2luVXBkYXRlKCk7dHJ5e3ZhciBjPWEsZD1hO2lmKHRoaXMuaXNUYWJsZUNlbGwoYSkpZD1lLmdldFBhcmVudChhKSxjPWUuZ2V0UGFyZW50KGQpO2Vsc2UgaWYodGhpcy5pc1RhYmxlUm93KGEpKWM9ZS5nZXRQYXJlbnQoYSk7ZWxzZSB2YXIgZj1lLmdldENoaWxkQ2VsbHMoYywhMCksZD1mW2I/MDpmLmxlbmd0aC0xXTt2YXIgZz1lLmdldENoaWxkQ2VsbHMoZCwhMCksCmw9Yy5nZXRJbmRleChkKSxkPWUuY2xvbmVDZWxsKGQsITEpO2QudmFsdWU9bnVsbDt2YXIgdT10aGlzLmdldENlbGxHZW9tZXRyeShkKTtpZihudWxsIT11KXtmb3IoZj0wO2Y8Zy5sZW5ndGg7ZisrKXthPWUuY2xvbmVDZWxsKGdbZl0sITEpO2QuaW5zZXJ0KGEpO2EudmFsdWU9bnVsbDt2YXIgcD10aGlzLmdldENlbGxHZW9tZXRyeShhKTtudWxsIT1wJiYocC5oZWlnaHQ9dS5oZWlnaHQpfWUuYWRkKGMsZCxsKyhiPzA6MSkpO3ZhciBuPXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KGMpO251bGwhPW4mJihuPW4uY2xvbmUoKSxuLmhlaWdodCs9dS5oZWlnaHQsZS5zZXRHZW9tZXRyeShjLG4pKX19ZmluYWxseXtlLmVuZFVwZGF0ZSgpfX07R3JhcGgucHJvdG90eXBlLmRlbGV0ZVRhYmxlQ29sdW1uPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0TW9kZWwoKTtiLmJlZ2luVXBkYXRlKCk7dHJ5e3ZhciBlPWEsYz1hO3RoaXMuaXNUYWJsZUNlbGwoYSkmJihjPWIuZ2V0UGFyZW50KGEpKTt0aGlzLmlzVGFibGVSb3coYykmJgooZT1iLmdldFBhcmVudChjKSk7dmFyIGQ9Yi5nZXRDaGlsZENlbGxzKGUsITApO2lmKDA9PWQubGVuZ3RoKWIucmVtb3ZlKGUpO2Vsc2V7dGhpcy5pc1RhYmxlUm93KGMpfHwoYz1kWzBdKTt2YXIgZj1iLmdldENoaWxkQ2VsbHMoYywhMCk7aWYoMT49Zi5sZW5ndGgpYi5yZW1vdmUoZSk7ZWxzZXt2YXIgZz1mLmxlbmd0aC0xO3RoaXMuaXNUYWJsZUNlbGwoYSkmJihnPW14VXRpbHMuaW5kZXhPZihmLGEpKTtmb3IoYz1hPTA7YzxkLmxlbmd0aDtjKyspe3ZhciBsPWIuZ2V0Q2hpbGRDZWxscyhkW2NdLCEwKVtnXTtiLnJlbW92ZShsKTt2YXIgdT10aGlzLmdldENlbGxHZW9tZXRyeShsKTtudWxsIT11JiYoYT1NYXRoLm1heChhLHUud2lkdGgpKX12YXIgcD10aGlzLmdldENlbGxHZW9tZXRyeShlKTtudWxsIT1wJiYocD1wLmNsb25lKCkscC53aWR0aC09YSxiLnNldEdlb21ldHJ5KGUscCkpfX19ZmluYWxseXtiLmVuZFVwZGF0ZSgpfX07R3JhcGgucHJvdG90eXBlLmRlbGV0ZVRhYmxlUm93PQpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldE1vZGVsKCk7Yi5iZWdpblVwZGF0ZSgpO3RyeXt2YXIgZT1hLGM9YTt0aGlzLmlzVGFibGVDZWxsKGEpJiYoYT1jPWIuZ2V0UGFyZW50KGEpKTt0aGlzLmlzVGFibGVSb3coYSkmJihlPWIuZ2V0UGFyZW50KGMpKTt2YXIgZD1iLmdldENoaWxkQ2VsbHMoZSwhMCk7aWYoMT49ZC5sZW5ndGgpYi5yZW1vdmUoZSk7ZWxzZXt0aGlzLmlzVGFibGVSb3coYyl8fChjPWRbZC5sZW5ndGgtMV0pO2IucmVtb3ZlKGMpO2E9MDt2YXIgZj10aGlzLmdldENlbGxHZW9tZXRyeShjKTtudWxsIT1mJiYoYT1mLmhlaWdodCk7dmFyIGc9dGhpcy5nZXRDZWxsR2VvbWV0cnkoZSk7bnVsbCE9ZyYmKGc9Zy5jbG9uZSgpLGcuaGVpZ2h0LT1hLGIuc2V0R2VvbWV0cnkoZSxnKSl9fWZpbmFsbHl7Yi5lbmRVcGRhdGUoKX19O0dyYXBoLnByb3RvdHlwZS5pbnNlcnRSb3c9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGU9YS50Qm9kaWVzWzBdLGM9ZS5yb3dzWzBdLmNlbGxzLApkPTAsZj0wO2Y8Yy5sZW5ndGg7ZisrKXZhciBnPWNbZl0uZ2V0QXR0cmlidXRlKCJjb2xzcGFuIiksZD1kKyhudWxsIT1nP3BhcnNlSW50KGcpOjEpO2U9ZS5pbnNlcnRSb3coYik7Zm9yKGY9MDtmPGQ7ZisrKW14VXRpbHMuYnIoZS5pbnNlcnRDZWxsKC0xKSk7cmV0dXJuIGUuY2VsbHNbMF19O0dyYXBoLnByb3RvdHlwZS5kZWxldGVSb3c9ZnVuY3Rpb24oYSxiKXthLnRCb2RpZXNbMF0uZGVsZXRlUm93KGIpfTtHcmFwaC5wcm90b3R5cGUuaW5zZXJ0Q29sdW1uPWZ1bmN0aW9uKGEsYil7dmFyIGU9YS50SGVhZDtpZihudWxsIT1lKWZvcih2YXIgYz0wO2M8ZS5yb3dzLmxlbmd0aDtjKyspe3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRoIik7ZS5yb3dzW2NdLmFwcGVuZENoaWxkKGQpO214VXRpbHMuYnIoZCl9ZT1hLnRCb2RpZXNbMF07Zm9yKGM9MDtjPGUucm93cy5sZW5ndGg7YysrKWQ9ZS5yb3dzW2NdLmluc2VydENlbGwoYiksbXhVdGlscy5icihkKTtyZXR1cm4gZS5yb3dzWzBdLmNlbGxzWzA8PQpiP2I6ZS5yb3dzWzBdLmNlbGxzLmxlbmd0aC0xXX07R3JhcGgucHJvdG90eXBlLmRlbGV0ZUNvbHVtbj1mdW5jdGlvbihhLGIpe2lmKDA8PWIpZm9yKHZhciBlPWEudEJvZGllc1swXS5yb3dzLGM9MDtjPGUubGVuZ3RoO2MrKyllW2NdLmNlbGxzLmxlbmd0aD5iJiZlW2NdLmRlbGV0ZUNlbGwoYil9O0dyYXBoLnByb3RvdHlwZS5wYXN0ZUh0bWxBdENhcmV0PWZ1bmN0aW9uKGEpe3ZhciBiO2lmKHdpbmRvdy5nZXRTZWxlY3Rpb24pe2lmKGI9d2luZG93LmdldFNlbGVjdGlvbigpLGIuZ2V0UmFuZ2VBdCYmYi5yYW5nZUNvdW50KXtiPWIuZ2V0UmFuZ2VBdCgwKTtiLmRlbGV0ZUNvbnRlbnRzKCk7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7ZS5pbm5lckhUTUw9YTthPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtmb3IodmFyIGM7Yz1lLmZpcnN0Q2hpbGQ7KWxhc3ROb2RlPWEuYXBwZW5kQ2hpbGQoYyk7Yi5pbnNlcnROb2RlKGEpfX1lbHNlKGI9ZG9jdW1lbnQuc2VsZWN0aW9uKSYmCiJDb250cm9sIiE9Yi50eXBlJiZiLmNyZWF0ZVJhbmdlKCkucGFzdGVIVE1MKGEpfTtHcmFwaC5wcm90b3R5cGUuY3JlYXRlTGlua0ZvckhpbnQ9ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBlKGEsYil7YS5sZW5ndGg+YiYmKGE9YS5zdWJzdHJpbmcoMCxNYXRoLnJvdW5kKGIvMikpKyIuLi4iK2Euc3Vic3RyaW5nKGEubGVuZ3RoLU1hdGgucm91bmQoYi80KSkpO3JldHVybiBhfWE9bnVsbCE9YT9hOiJqYXZhc2NyaXB0OnZvaWQoMCk7IjtpZihudWxsPT1ifHwwPT1iLmxlbmd0aCliPXRoaXMuaXNDdXN0b21MaW5rKGEpP3RoaXMuZ2V0TGlua1RpdGxlKGEpOmE7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO2Muc2V0QXR0cmlidXRlKCJyZWwiLHRoaXMubGlua1JlbGF0aW9uKTtjLnNldEF0dHJpYnV0ZSgiaHJlZiIsdGhpcy5nZXRBYnNvbHV0ZVVybChhKSk7Yy5zZXRBdHRyaWJ1dGUoInRpdGxlIixlKHRoaXMuaXNDdXN0b21MaW5rKGEpP3RoaXMuZ2V0TGlua1RpdGxlKGEpOgphLDgwKSk7bnVsbCE9dGhpcy5saW5rVGFyZ2V0JiZjLnNldEF0dHJpYnV0ZSgidGFyZ2V0Iix0aGlzLmxpbmtUYXJnZXQpO214VXRpbHMud3JpdGUoYyxlKGIsNDApKTt0aGlzLmlzQ3VzdG9tTGluayhhKSYmbXhFdmVudC5hZGRMaXN0ZW5lcihjLCJjbGljayIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7dGhpcy5jdXN0b21MaW5rQ2xpY2tlZChhKTtteEV2ZW50LmNvbnN1bWUoYil9KSk7cmV0dXJuIGN9O0dyYXBoLnByb3RvdHlwZS5pbml0VG91Y2g9ZnVuY3Rpb24oKXt0aGlzLmNvbm5lY3Rpb25IYW5kbGVyLm1hcmtlci5pc0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5ncmFwaC5jb25uZWN0aW9uSGFuZGxlci5maXJzdH07dGhpcy5hZGRMaXN0ZW5lcihteEV2ZW50LlNUQVJUX0VESVRJTkcsZnVuY3Rpb24oYSxiKXt0aGlzLnBvcHVwTWVudUhhbmRsZXIuaGlkZU1lbnUoKX0pO3ZhciBhPXRoaXMudXBkYXRlTW91c2VFdmVudDt0aGlzLnVwZGF0ZU1vdXNlRXZlbnQ9CmZ1bmN0aW9uKGIpe2I9YS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYobXhFdmVudC5pc1RvdWNoRXZlbnQoYi5nZXRFdmVudCgpKSYmbnVsbD09Yi5nZXRTdGF0ZSgpKXt2YXIgZT10aGlzLmdldENlbGxBdChiLmdyYXBoWCxiLmdyYXBoWSk7bnVsbCE9ZSYmdGhpcy5pc1N3aW1sYW5lKGUpJiZ0aGlzLmhpdHNTd2ltbGFuZUNvbnRlbnQoZSxiLmdyYXBoWCxiLmdyYXBoWSl8fChiLnN0YXRlPXRoaXMudmlldy5nZXRTdGF0ZShlKSxudWxsIT1iLnN0YXRlJiZudWxsIT1iLnN0YXRlLnNoYXBlJiYodGhpcy5jb250YWluZXIuc3R5bGUuY3Vyc29yPWIuc3RhdGUuc2hhcGUubm9kZS5zdHlsZS5jdXJzb3IpKX1udWxsPT1iLmdldFN0YXRlKCkmJnRoaXMuaXNFbmFibGVkKCkmJih0aGlzLmNvbnRhaW5lci5zdHlsZS5jdXJzb3I9ImRlZmF1bHQiKTtyZXR1cm4gYn07dmFyIGI9ITEsZT0hMSxjPSExLGQ9dGhpcy5maXJlTW91c2VFdmVudDt0aGlzLmZpcmVNb3VzZUV2ZW50PWZ1bmN0aW9uKGEsCmYsZyl7YT09bXhFdmVudC5NT1VTRV9ET1dOJiYoZj10aGlzLnVwZGF0ZU1vdXNlRXZlbnQoZiksYj10aGlzLmlzQ2VsbFNlbGVjdGVkKGYuZ2V0Q2VsbCgpKSxlPXRoaXMuaXNTZWxlY3Rpb25FbXB0eSgpLGM9dGhpcy5wb3B1cE1lbnVIYW5kbGVyLmlzTWVudVNob3dpbmcoKSk7ZC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3RoaXMucG9wdXBNZW51SGFuZGxlci5tb3VzZVVwPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsZCl7dGhpcy5wb3B1cE1lbnVIYW5kbGVyLnBvcHVwVHJpZ2dlcj0hdGhpcy5pc0VkaXRpbmcoKSYmdGhpcy5pc0VuYWJsZWQoKSYmKG51bGw9PWQuZ2V0U3RhdGUoKXx8IWQuaXNTb3VyY2UoZC5nZXRTdGF0ZSgpLmNvbnRyb2wpKSYmKHRoaXMucG9wdXBNZW51SGFuZGxlci5wb3B1cFRyaWdnZXJ8fCFjJiYhbXhFdmVudC5pc01vdXNlRXZlbnQoZC5nZXRFdmVudCgpKSYmKGUmJm51bGw9PWQuZ2V0Q2VsbCgpJiZ0aGlzLmlzU2VsZWN0aW9uRW1wdHkoKXx8YiYmCnRoaXMuaXNDZWxsU2VsZWN0ZWQoZC5nZXRDZWxsKCkpKSk7bXhQb3B1cE1lbnVIYW5kbGVyLnByb3RvdHlwZS5tb3VzZVVwLmFwcGx5KHRoaXMucG9wdXBNZW51SGFuZGxlcixhcmd1bWVudHMpfSl9O214Q2VsbEVkaXRvci5wcm90b3R5cGUuaXNDb250ZW50RWRpdGluZz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZSh0aGlzLmVkaXRpbmdDZWxsKTtyZXR1cm4gbnVsbCE9YSYmMT09YS5zdHlsZS5odG1sfTtteENlbGxFZGl0b3IucHJvdG90eXBlLmlzVGFibGVTZWxlY3RlZD1mdW5jdGlvbigpe3JldHVybiBudWxsIT10aGlzLmdyYXBoLmdldFBhcmVudEJ5TmFtZSh0aGlzLmdyYXBoLmdldFNlbGVjdGVkRWxlbWVudCgpLCJUQUJMRSIsdGhpcy50ZXh0YXJlYSl9O214Q2VsbEVkaXRvci5wcm90b3R5cGUuYWxpZ25UZXh0PWZ1bmN0aW9uKGEsYil7dmFyIGU9bnVsbCE9YiYmbXhFdmVudC5pc1NoaWZ0RG93bihiKTtpZihlfHxudWxsIT13aW5kb3cuZ2V0U2VsZWN0aW9uJiYKbnVsbCE9d2luZG93LmdldFNlbGVjdGlvbigpLmNvbnRhaW5zTm9kZSl7dmFyIGM9ITA7dGhpcy5ncmFwaC5wcm9jZXNzRWxlbWVudHModGhpcy50ZXh0YXJlYSxmdW5jdGlvbihhKXtlfHx3aW5kb3cuZ2V0U2VsZWN0aW9uKCkuY29udGFpbnNOb2RlKGEsITApPyhhLnJlbW92ZUF0dHJpYnV0ZSgiYWxpZ24iKSxhLnN0eWxlLnRleHRBbGlnbj1udWxsKTpjPSExfSk7YyYmdGhpcy5ncmFwaC5jZWxsRWRpdG9yLnNldEFsaWduKGEpfWRvY3VtZW50LmV4ZWNDb21tYW5kKCJqdXN0aWZ5IithLnRvTG93ZXJDYXNlKCksITEsbnVsbCl9O214Q2VsbEVkaXRvci5wcm90b3R5cGUuc2F2ZVNlbGVjdGlvbj1mdW5jdGlvbigpe2lmKHdpbmRvdy5nZXRTZWxlY3Rpb24pe3ZhciBhPXdpbmRvdy5nZXRTZWxlY3Rpb24oKTtpZihhLmdldFJhbmdlQXQmJmEucmFuZ2VDb3VudCl7Zm9yKHZhciBiPVtdLGU9MCxjPWEucmFuZ2VDb3VudDtlPGM7KytlKWIucHVzaChhLmdldFJhbmdlQXQoZSkpO3JldHVybiBifX1lbHNlIGlmKGRvY3VtZW50LnNlbGVjdGlvbiYmCmRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSlyZXR1cm4gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCk7cmV0dXJuIG51bGx9O214Q2VsbEVkaXRvci5wcm90b3R5cGUucmVzdG9yZVNlbGVjdGlvbj1mdW5jdGlvbihhKXt0cnl7aWYoYSlpZih3aW5kb3cuZ2V0U2VsZWN0aW9uKXtzZWw9d2luZG93LmdldFNlbGVjdGlvbigpO3NlbC5yZW1vdmVBbGxSYW5nZXMoKTtmb3IodmFyIGI9MCxlPWEubGVuZ3RoO2I8ZTsrK2Ipc2VsLmFkZFJhbmdlKGFbYl0pfWVsc2UgZG9jdW1lbnQuc2VsZWN0aW9uJiZhLnNlbGVjdCYmYS5zZWxlY3QoKX1jYXRjaChoYSl7fX07dmFyIG49bXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLmluaXRpYWxpemVMYWJlbDtteENlbGxSZW5kZXJlci5wcm90b3R5cGUuaW5pdGlhbGl6ZUxhYmVsPWZ1bmN0aW9uKGEpe251bGwhPWEudGV4dCYmKGEudGV4dC5yZXBsYWNlTGluZWZlZWRzPSIwIiE9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLCJubDJCciIsCiIxIikpO24uYXBwbHkodGhpcyxhcmd1bWVudHMpfTt2YXIgdj1teENvbnN0cmFpbnRIYW5kbGVyLnByb3RvdHlwZS51cGRhdGU7bXhDb25zdHJhaW50SGFuZGxlci5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEsYil7dGhpcy5pc0tlZXBGb2N1c0V2ZW50KGEpfHwhbXhFdmVudC5pc0FsdERvd24oYS5nZXRFdmVudCgpKT92LmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLnJlc2V0KCl9O214R3VpZGUucHJvdG90eXBlLmNyZWF0ZUd1aWRlU2hhcGU9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBteFBvbHlsaW5lKFtdLG14Q29uc3RhbnRzLkdVSURFX0NPTE9SLG14Q29uc3RhbnRzLkdVSURFX1NUUk9LRVdJRFRIKX07bXhDZWxsRWRpdG9yLnByb3RvdHlwZS5lc2NhcGVDYW5jZWxzRWRpdGluZz0hMTt2YXIgdD1teENlbGxFZGl0b3IucHJvdG90eXBlLnN0YXJ0RWRpdGluZztteENlbGxFZGl0b3IucHJvdG90eXBlLnN0YXJ0RWRpdGluZz1mdW5jdGlvbihhLGIpe2E9dGhpcy5ncmFwaC5nZXRTdGFydEVkaXRpbmdDZWxsKGEsCmIpO3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBlPXRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZShhKTt0aGlzLnRleHRhcmVhLmNsYXNzTmFtZT1udWxsIT1lJiYxPT1lLnN0eWxlLmh0bWw/Im14Q2VsbEVkaXRvciBnZUNvbnRlbnRFZGl0YWJsZSI6Im14Q2VsbEVkaXRvciBteFBsYWluVGV4dEVkaXRvciI7dGhpcy5jb2RlVmlld01vZGU9ITE7dGhpcy5zd2l0Y2hTZWxlY3Rpb25TdGF0ZT1udWxsO3RoaXMuZ3JhcGguc2V0U2VsZWN0aW9uQ2VsbChhKTt2YXIgZT10aGlzLmdyYXBoLmdldE1vZGVsKCkuZ2V0UGFyZW50KGEpLGM9dGhpcy5ncmFwaC5nZXRDZWxsR2VvbWV0cnkoYSk7dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmlzRWRnZShlKSYmbnVsbCE9YyYmYy5yZWxhdGl2ZXx8dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmlzRWRnZShhKT9teENsaWVudC5JU19RVUlSS1M/dGhpcy50ZXh0YXJlYS5zdHlsZS5ib3JkZXI9ImdyYXkgZG90dGVkIDFweCI6dGhpcy50ZXh0YXJlYS5zdHlsZS5vdXRsaW5lPQpteENsaWVudC5JU19JRXx8bXhDbGllbnQuSVNfSUUxMXx8bXhDbGllbnQuSVNfRkYmJm14Q2xpZW50LklTX1dJTj8iZ3JheSBkb3R0ZWQgMXB4IjoiIjpteENsaWVudC5JU19RVUlSS1MmJih0aGlzLnRleHRhcmVhLnN0eWxlLm91dGxpbmU9Im5vbmUiLHRoaXMudGV4dGFyZWEuc3R5bGUuYm9yZGVyPSIiKX07dmFyIHg9bXhDZWxsRWRpdG9yLnByb3RvdHlwZS5pbnN0YWxsTGlzdGVuZXJzO214Q2VsbEVkaXRvci5wcm90b3R5cGUuaW5zdGFsbExpc3RlbmVycz1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsZSl7ZS5vcmlnaW5hbE5vZGU9YTthPWEuZmlyc3RDaGlsZDtmb3IodmFyIGM9ZS5maXJzdENoaWxkO251bGwhPWEmJm51bGwhPWM7KWIoYSxjKSxhPWEubmV4dFNpYmxpbmcsYz1jLm5leHRTaWJsaW5nO3JldHVybiBlfWZ1bmN0aW9uIGUoYSxiKXtpZihudWxsIT1hKWlmKGIub3JpZ2luYWxOb2RlIT1hKWMoYSk7ZWxzZSBmb3IoYT1hLmZpcnN0Q2hpbGQsYj1iLmZpcnN0Q2hpbGQ7bnVsbCE9CmE7KXt2YXIgZD1hLm5leHRTaWJsaW5nO251bGw9PWI/YyhhKTooZShhLGIpLGI9Yi5uZXh0U2libGluZyk7YT1kfX1mdW5jdGlvbiBjKGEpe2Zvcih2YXIgYj1hLmZpcnN0Q2hpbGQ7bnVsbCE9Yjspe3ZhciBlPWIubmV4dFNpYmxpbmc7YyhiKTtiPWV9MT09YS5ub2RlVHlwZSYmKCJCUiI9PT1hLm5vZGVOYW1lfHxudWxsIT1hLmZpcnN0Q2hpbGQpfHwzPT1hLm5vZGVUeXBlJiYwIT1teFV0aWxzLnRyaW0obXhVdGlscy5nZXRUZXh0Q29udGVudChhKSkubGVuZ3RoPygzPT1hLm5vZGVUeXBlJiZteFV0aWxzLnNldFRleHRDb250ZW50KGEsbXhVdGlscy5nZXRUZXh0Q29udGVudChhKS5yZXBsYWNlKC9cbnxcci9nLCIiKSksMT09YS5ub2RlVHlwZSYmKGEucmVtb3ZlQXR0cmlidXRlKCJzdHlsZSIpLGEucmVtb3ZlQXR0cmlidXRlKCJjbGFzcyIpLGEucmVtb3ZlQXR0cmlidXRlKCJ3aWR0aCIpLGEucmVtb3ZlQXR0cmlidXRlKCJjZWxscGFkZGluZyIpLGEucmVtb3ZlQXR0cmlidXRlKCJjZWxsc3BhY2luZyIpLAphLnJlbW92ZUF0dHJpYnV0ZSgiYm9yZGVyIikpKTphLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSl9eC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bXhDbGllbnQuSVNfUVVJUktTfHw3PT09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHw4PT09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHxteEV2ZW50LmFkZExpc3RlbmVyKHRoaXMudGV4dGFyZWEsInBhc3RlIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt2YXIgYz1iKHRoaXMudGV4dGFyZWEsdGhpcy50ZXh0YXJlYS5jbG9uZU5vZGUoITApKTt3aW5kb3cuc2V0VGltZW91dChteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe251bGwhPXRoaXMudGV4dGFyZWEmJigwPD10aGlzLnRleHRhcmVhLmlubmVySFRNTC5pbmRleE9mKCI8bzpPZmZpY2VEb2N1bWVudFNldHRpbmdzPiIpfHwwPD10aGlzLnRleHRhcmVhLmlubmVySFRNTC5pbmRleE9mKCJceDNjIS0tW2lmICFtc29dPiIpP2UodGhpcy50ZXh0YXJlYSxjKTpHcmFwaC5yZW1vdmVQYXN0ZUZvcm1hdHRpbmcodGhpcy50ZXh0YXJlYSkpfSksCjApfSkpfTtteENlbGxFZGl0b3IucHJvdG90eXBlLnRvZ2dsZVZpZXdNb2RlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5ncmFwaC52aWV3LmdldFN0YXRlKHRoaXMuZWRpdGluZ0NlbGwpO2lmKG51bGwhPWEpe3ZhciBiPW51bGwhPWEmJiIwIiE9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLCJubDJCciIsIjEiKSxlPXRoaXMuc2F2ZVNlbGVjdGlvbigpO2lmKHRoaXMuY29kZVZpZXdNb2RlKXt1PW14VXRpbHMuZXh0cmFjdFRleHRXaXRoV2hpdGVzcGFjZSh0aGlzLnRleHRhcmVhLmNoaWxkTm9kZXMpOzA8dS5sZW5ndGgmJiJcbiI9PXUuY2hhckF0KHUubGVuZ3RoLTEpJiYodT11LnN1YnN0cmluZygwLHUubGVuZ3RoLTEpKTt1PXRoaXMuZ3JhcGguc2FuaXRpemVIdG1sKGI/dS5yZXBsYWNlKC9cbi9nLCI8YnIvPiIpOnUsITApO3RoaXMudGV4dGFyZWEuY2xhc3NOYW1lPSJteENlbGxFZGl0b3IgZ2VDb250ZW50RWRpdGFibGUiO3ZhciBjPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9GT05UU0laRSwKbXhDb25zdGFudHMuREVGQVVMVF9GT05UU0laRSksYj1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRk9OVEZBTUlMWSxteENvbnN0YW50cy5ERUZBVUxUX0ZPTlRGQU1JTFkpLGQ9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FMSUdOLG14Q29uc3RhbnRzLkFMSUdOX0xFRlQpLGY9KG14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9GT05UU1RZTEUsMCkmbXhDb25zdGFudHMuRk9OVF9CT0xEKT09bXhDb25zdGFudHMuRk9OVF9CT0xELGc9KG14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9GT05UU1RZTEUsMCkmbXhDb25zdGFudHMuRk9OVF9JVEFMSUMpPT1teENvbnN0YW50cy5GT05UX0lUQUxJQyxsPVtdOyhteFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRk9OVFNUWUxFLDApJm14Q29uc3RhbnRzLkZPTlRfVU5ERVJMSU5FKT09bXhDb25zdGFudHMuRk9OVF9VTkRFUkxJTkUmJgpsLnB1c2goInVuZGVybGluZSIpOyhteFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRk9OVFNUWUxFLDApJm14Q29uc3RhbnRzLkZPTlRfU1RSSUtFVEhST1VHSCk9PW14Q29uc3RhbnRzLkZPTlRfU1RSSUtFVEhST1VHSCYmbC5wdXNoKCJsaW5lLXRocm91Z2giKTt0aGlzLnRleHRhcmVhLnN0eWxlLmxpbmVIZWlnaHQ9bXhDb25zdGFudHMuQUJTT0xVVEVfTElORV9IRUlHSFQ/TWF0aC5yb3VuZChjKm14Q29uc3RhbnRzLkxJTkVfSEVJR0hUKSsicHgiOm14Q29uc3RhbnRzLkxJTkVfSEVJR0hUO3RoaXMudGV4dGFyZWEuc3R5bGUuZm9udFNpemU9TWF0aC5yb3VuZChjKSsicHgiO3RoaXMudGV4dGFyZWEuc3R5bGUudGV4dERlY29yYXRpb249bC5qb2luKCIgIik7dGhpcy50ZXh0YXJlYS5zdHlsZS5mb250V2VpZ2h0PWY/ImJvbGQiOiJub3JtYWwiO3RoaXMudGV4dGFyZWEuc3R5bGUuZm9udFN0eWxlPWc/Iml0YWxpYyI6IiI7dGhpcy50ZXh0YXJlYS5zdHlsZS5mb250RmFtaWx5PQpiO3RoaXMudGV4dGFyZWEuc3R5bGUudGV4dEFsaWduPWQ7dGhpcy50ZXh0YXJlYS5zdHlsZS5wYWRkaW5nPSIwcHgiO3RoaXMudGV4dGFyZWEuaW5uZXJIVE1MIT11JiYodGhpcy50ZXh0YXJlYS5pbm5lckhUTUw9dSwwPT10aGlzLnRleHRhcmVhLmlubmVySFRNTC5sZW5ndGgmJih0aGlzLnRleHRhcmVhLmlubmVySFRNTD10aGlzLmdldEVtcHR5TGFiZWxUZXh0KCksdGhpcy5jbGVhck9uQ2hhbmdlPTA8dGhpcy50ZXh0YXJlYS5pbm5lckhUTUwubGVuZ3RoKSk7dGhpcy5jb2RlVmlld01vZGU9ITF9ZWxzZXt0aGlzLmNsZWFyT25DaGFuZ2UmJnRoaXMudGV4dGFyZWEuaW5uZXJIVE1MPT10aGlzLmdldEVtcHR5TGFiZWxUZXh0KCkmJih0aGlzLmNsZWFyT25DaGFuZ2U9ITEsdGhpcy50ZXh0YXJlYS5pbm5lckhUTUw9IiIpO3ZhciB1PW14VXRpbHMuaHRtbEVudGl0aWVzKHRoaXMudGV4dGFyZWEuaW5uZXJIVE1MKTtteENsaWVudC5JU19RVUlSS1N8fDg9PWRvY3VtZW50LmRvY3VtZW50TW9kZXx8Cih1PW14VXRpbHMucmVwbGFjZVRyYWlsaW5nTmV3bGluZXModSwiPGRpdj48YnI+PC9kaXY+IikpO3U9dGhpcy5ncmFwaC5zYW5pdGl6ZUh0bWwoYj91LnJlcGxhY2UoL1xuL2csIiIpLnJlcGxhY2UoLyZsdDticlxzKi4/Jmd0Oy9nLCI8YnI+Iik6dSwhMCk7dGhpcy50ZXh0YXJlYS5jbGFzc05hbWU9Im14Q2VsbEVkaXRvciBteFBsYWluVGV4dEVkaXRvciI7dmFyIGM9bXhDb25zdGFudHMuREVGQVVMVF9GT05UU0laRTt0aGlzLnRleHRhcmVhLnN0eWxlLmxpbmVIZWlnaHQ9bXhDb25zdGFudHMuQUJTT0xVVEVfTElORV9IRUlHSFQ/TWF0aC5yb3VuZChjKm14Q29uc3RhbnRzLkxJTkVfSEVJR0hUKSsicHgiOm14Q29uc3RhbnRzLkxJTkVfSEVJR0hUO3RoaXMudGV4dGFyZWEuc3R5bGUuZm9udFNpemU9TWF0aC5yb3VuZChjKSsicHgiO3RoaXMudGV4dGFyZWEuc3R5bGUudGV4dERlY29yYXRpb249IiI7dGhpcy50ZXh0YXJlYS5zdHlsZS5mb250V2VpZ2h0PSJub3JtYWwiO3RoaXMudGV4dGFyZWEuc3R5bGUuZm9udFN0eWxlPQoiIjt0aGlzLnRleHRhcmVhLnN0eWxlLmZvbnRGYW1pbHk9bXhDb25zdGFudHMuREVGQVVMVF9GT05URkFNSUxZO3RoaXMudGV4dGFyZWEuc3R5bGUudGV4dEFsaWduPSJsZWZ0Ijt0aGlzLnRleHRhcmVhLnN0eWxlLnBhZGRpbmc9IjJweCI7dGhpcy50ZXh0YXJlYS5pbm5lckhUTUwhPXUmJih0aGlzLnRleHRhcmVhLmlubmVySFRNTD11KTt0aGlzLmNvZGVWaWV3TW9kZT0hMH10aGlzLnRleHRhcmVhLmZvY3VzKCk7bnVsbCE9dGhpcy5zd2l0Y2hTZWxlY3Rpb25TdGF0ZSYmdGhpcy5yZXN0b3JlU2VsZWN0aW9uKHRoaXMuc3dpdGNoU2VsZWN0aW9uU3RhdGUpO3RoaXMuc3dpdGNoU2VsZWN0aW9uU3RhdGU9ZTt0aGlzLnJlc2l6ZSgpfX07dmFyIEE9bXhDZWxsRWRpdG9yLnByb3RvdHlwZS5yZXNpemU7bXhDZWxsRWRpdG9yLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oYSxiKXtpZihudWxsIT10aGlzLnRleHRhcmVhKWlmKGE9dGhpcy5ncmFwaC5nZXRWaWV3KCkuZ2V0U3RhdGUodGhpcy5lZGl0aW5nQ2VsbCksCnRoaXMuY29kZVZpZXdNb2RlJiZudWxsIT1hKXt2YXIgZT1hLnZpZXcuc2NhbGU7dGhpcy5ib3VuZHM9bXhSZWN0YW5nbGUuZnJvbVJlY3RhbmdsZShhKTtpZigwPT10aGlzLmJvdW5kcy53aWR0aCYmMD09dGhpcy5ib3VuZHMuaGVpZ2h0KXt0aGlzLmJvdW5kcy53aWR0aD0xNjAqZTt0aGlzLmJvdW5kcy5oZWlnaHQ9NjAqZTt2YXIgYz1udWxsIT1hLnRleHQ/YS50ZXh0Lm1hcmdpbjpudWxsO251bGw9PWMmJihjPW14VXRpbHMuZ2V0QWxpZ25tZW50QXNQb2ludChteFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQUxJR04sbXhDb25zdGFudHMuQUxJR05fQ0VOVEVSKSxteFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfVkVSVElDQUxfQUxJR04sbXhDb25zdGFudHMuQUxJR05fTUlERExFKSkpO3RoaXMuYm91bmRzLngrPWMueCp0aGlzLmJvdW5kcy53aWR0aDt0aGlzLmJvdW5kcy55Kz1jLnkqdGhpcy5ib3VuZHMuaGVpZ2h0fXRoaXMudGV4dGFyZWEuc3R5bGUud2lkdGg9Ck1hdGgucm91bmQoKHRoaXMuYm91bmRzLndpZHRoLTQpL2UpKyJweCI7dGhpcy50ZXh0YXJlYS5zdHlsZS5oZWlnaHQ9TWF0aC5yb3VuZCgodGhpcy5ib3VuZHMuaGVpZ2h0LTQpL2UpKyJweCI7dGhpcy50ZXh0YXJlYS5zdHlsZS5vdmVyZmxvdz0iYXV0byI7dGhpcy50ZXh0YXJlYS5jbGllbnRIZWlnaHQ8dGhpcy50ZXh0YXJlYS5vZmZzZXRIZWlnaHQmJih0aGlzLnRleHRhcmVhLnN0eWxlLmhlaWdodD1NYXRoLnJvdW5kKHRoaXMuYm91bmRzLmhlaWdodC9lKSsodGhpcy50ZXh0YXJlYS5vZmZzZXRIZWlnaHQtdGhpcy50ZXh0YXJlYS5jbGllbnRIZWlnaHQpKyJweCIsdGhpcy5ib3VuZHMuaGVpZ2h0PXBhcnNlSW50KHRoaXMudGV4dGFyZWEuc3R5bGUuaGVpZ2h0KSplKTt0aGlzLnRleHRhcmVhLmNsaWVudFdpZHRoPHRoaXMudGV4dGFyZWEub2Zmc2V0V2lkdGgmJih0aGlzLnRleHRhcmVhLnN0eWxlLndpZHRoPU1hdGgucm91bmQodGhpcy5ib3VuZHMud2lkdGgvZSkrKHRoaXMudGV4dGFyZWEub2Zmc2V0V2lkdGgtCnRoaXMudGV4dGFyZWEuY2xpZW50V2lkdGgpKyJweCIsdGhpcy5ib3VuZHMud2lkdGg9cGFyc2VJbnQodGhpcy50ZXh0YXJlYS5zdHlsZS53aWR0aCkqZSk7dGhpcy50ZXh0YXJlYS5zdHlsZS5sZWZ0PU1hdGgucm91bmQodGhpcy5ib3VuZHMueCkrInB4Ijt0aGlzLnRleHRhcmVhLnN0eWxlLnRvcD1NYXRoLnJvdW5kKHRoaXMuYm91bmRzLnkpKyJweCI7bXhDbGllbnQuSVNfVk1MP3RoaXMudGV4dGFyZWEuc3R5bGUuem9vbT1lOm14VXRpbHMuc2V0UHJlZml4ZWRTdHlsZSh0aGlzLnRleHRhcmVhLnN0eWxlLCJ0cmFuc2Zvcm0iLCJzY2FsZSgiK2UrIiwiK2UrIikiKX1lbHNlIHRoaXMudGV4dGFyZWEuc3R5bGUuaGVpZ2h0PSIiLHRoaXMudGV4dGFyZWEuc3R5bGUub3ZlcmZsb3c9IiIsQS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O214Q2VsbEVkaXRvckdldEluaXRpYWxWYWx1ZT1teENlbGxFZGl0b3IucHJvdG90eXBlLmdldEluaXRpYWxWYWx1ZTtteENlbGxFZGl0b3IucHJvdG90eXBlLmdldEluaXRpYWxWYWx1ZT0KZnVuY3Rpb24oYSxiKXtpZigiMCI9PW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSwiaHRtbCIsIjAiKSlyZXR1cm4gbXhDZWxsRWRpdG9yR2V0SW5pdGlhbFZhbHVlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgZT10aGlzLmdyYXBoLmdldEVkaXRpbmdWYWx1ZShhLmNlbGwsYik7IjEiPT1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsIm5sMkJyIiwiMSIpJiYoZT1lLnJlcGxhY2UoL1xuL2csIjxici8+IikpO3JldHVybiBlPXRoaXMuZ3JhcGguc2FuaXRpemVIdG1sKGUsITApfTtteENlbGxFZGl0b3JHZXRDdXJyZW50VmFsdWU9bXhDZWxsRWRpdG9yLnByb3RvdHlwZS5nZXRDdXJyZW50VmFsdWU7bXhDZWxsRWRpdG9yLnByb3RvdHlwZS5nZXRDdXJyZW50VmFsdWU9ZnVuY3Rpb24oYSl7aWYoIjAiPT1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsImh0bWwiLCIwIikpcmV0dXJuIG14Q2VsbEVkaXRvckdldEN1cnJlbnRWYWx1ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGI9dGhpcy5ncmFwaC5zYW5pdGl6ZUh0bWwodGhpcy50ZXh0YXJlYS5pbm5lckhUTUwsCiEwKTtyZXR1cm4gYj0iMSI9PW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSwibmwyQnIiLCIxIik/Yi5yZXBsYWNlKC9cclxuL2csIjxici8+IikucmVwbGFjZSgvXG4vZywiPGJyLz4iKTpiLnJlcGxhY2UoL1xyXG4vZywiIikucmVwbGFjZSgvXG4vZywiIil9O3ZhciBEPW14Q2VsbEVkaXRvci5wcm90b3R5cGUuc3RvcEVkaXRpbmc7bXhDZWxsRWRpdG9yLnByb3RvdHlwZS5zdG9wRWRpdGluZz1mdW5jdGlvbihhKXt0aGlzLmNvZGVWaWV3TW9kZSYmdGhpcy50b2dnbGVWaWV3TW9kZSgpO0QuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuZm9jdXNDb250YWluZXIoKX07bXhDZWxsRWRpdG9yLnByb3RvdHlwZS5mb2N1c0NvbnRhaW5lcj1mdW5jdGlvbigpe3RyeXt0aGlzLmdyYXBoLmNvbnRhaW5lci5mb2N1cygpfWNhdGNoKFYpe319O3ZhciBCPW14Q2VsbEVkaXRvci5wcm90b3R5cGUuYXBwbHlWYWx1ZTtteENlbGxFZGl0b3IucHJvdG90eXBlLmFwcGx5VmFsdWU9ZnVuY3Rpb24oYSwKYil7dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmJlZ2luVXBkYXRlKCk7dHJ5e0IuYXBwbHkodGhpcyxhcmd1bWVudHMpLCIiPT1iJiZ0aGlzLmdyYXBoLmlzQ2VsbERlbGV0YWJsZShhLmNlbGwpJiYwPT10aGlzLmdyYXBoLm1vZGVsLmdldENoaWxkQ291bnQoYS5jZWxsKSYmdGhpcy5ncmFwaC5pc1RyYW5zcGFyZW50U3RhdGUoYSkmJnRoaXMuZ3JhcGgucmVtb3ZlQ2VsbHMoW2EuY2VsbF0sITEpfWZpbmFsbHl7dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmVuZFVwZGF0ZSgpfX07bXhDZWxsRWRpdG9yLnByb3RvdHlwZS5nZXRCYWNrZ3JvdW5kQ29sb3I9ZnVuY3Rpb24oYSl7dmFyIGI9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0xBQkVMX0JBQ0tHUk9VTkRDT0xPUixudWxsKTtudWxsIT1iJiZiIT1teENvbnN0YW50cy5OT05FfHwhKG51bGwhPWEuY2VsbC5nZW9tZXRyeSYmMDxhLmNlbGwuZ2VvbWV0cnkud2lkdGgpfHwwPT1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsCm14Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OLDApJiYwIT1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfSE9SSVpPTlRBTCwxKXx8KGI9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0ZJTExDT0xPUixudWxsKSk7Yj09bXhDb25zdGFudHMuTk9ORSYmKGI9bnVsbCk7cmV0dXJuIGJ9O214Q2VsbEVkaXRvci5wcm90b3R5cGUuZ2V0TWluaW11bVNpemU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5ncmFwaC5nZXRWaWV3KCkuc2NhbGU7cmV0dXJuIG5ldyBteFJlY3RhbmdsZSgwLDAsbnVsbD09YS50ZXh0PzMwOmEudGV4dC5zaXplKmIrMjAsMzApfTtteEdyYXBoSGFuZGxlcklzVmFsaWREcm9wVGFyZ2V0PW14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5pc1ZhbGlkRHJvcFRhcmdldDtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuaXNWYWxpZERyb3BUYXJnZXQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbXhHcmFwaEhhbmRsZXJJc1ZhbGlkRHJvcFRhcmdldC5hcHBseSh0aGlzLAphcmd1bWVudHMpJiYhbXhFdmVudC5pc0FsdERvd24oYi5nZXRFdmVudCl9O214R3JhcGhWaWV3LnByb3RvdHlwZS5mb3JtYXRVbml0VGV4dD1mdW5jdGlvbihhKXtyZXR1cm4gYT9jKGEsdGhpcy51bml0KTphfTtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUudXBkYXRlSGludD1mdW5jdGlvbihiKXtpZihudWxsIT10aGlzLnBCb3VuZHMmJihudWxsIT10aGlzLnNoYXBlfHx0aGlzLmxpdmVQcmV2aWV3QWN0aXZlKSl7bnVsbD09dGhpcy5oaW50JiYodGhpcy5oaW50PWEoKSx0aGlzLmdyYXBoLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmhpbnQpKTt2YXIgZT10aGlzLmdyYXBoLnZpZXcudHJhbnNsYXRlLGQ9dGhpcy5ncmFwaC52aWV3LnNjYWxlO2I9dGhpcy5yb3VuZExlbmd0aCgodGhpcy5ib3VuZHMueCt0aGlzLmN1cnJlbnREeCkvZC1lLngpO2U9dGhpcy5yb3VuZExlbmd0aCgodGhpcy5ib3VuZHMueSt0aGlzLmN1cnJlbnREeSkvZC1lLnkpO2Q9dGhpcy5ncmFwaC52aWV3LnVuaXQ7CnRoaXMuaGludC5pbm5lckhUTUw9YyhiLGQpKyIsICIrYyhlLGQpO3RoaXMuaGludC5zdHlsZS5sZWZ0PXRoaXMucEJvdW5kcy54K3RoaXMuY3VycmVudER4K01hdGgucm91bmQoKHRoaXMucEJvdW5kcy53aWR0aC10aGlzLmhpbnQuY2xpZW50V2lkdGgpLzIpKyJweCI7dGhpcy5oaW50LnN0eWxlLnRvcD10aGlzLnBCb3VuZHMueSt0aGlzLmN1cnJlbnREeSt0aGlzLnBCb3VuZHMuaGVpZ2h0K0VkaXRvci5oaW50T2Zmc2V0KyJweCJ9fTtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUucmVtb3ZlSGludD1mdW5jdGlvbigpe251bGwhPXRoaXMuaGludCYmKHRoaXMuaGludC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuaGludCksdGhpcy5oaW50PW51bGwpfTt2YXIgQz1teFN0YWNrTGF5b3V0LnByb3RvdHlwZS5yZXNpemVDZWxsO214U3RhY2tMYXlvdXQucHJvdG90eXBlLnJlc2l6ZUNlbGw9ZnVuY3Rpb24oYSxiKXtDLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgZT10aGlzLmdyYXBoLmdldENlbGxTdHlsZShhKTsKaWYobnVsbD09ZS5jaGlsZExheW91dCl7dmFyIGM9dGhpcy5ncmFwaC5tb2RlbC5nZXRQYXJlbnQoYSksZD1udWxsIT1jP3RoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGMpOm51bGw7bnVsbCE9ZCYmKGU9dGhpcy5ncmFwaC5nZXRDZWxsU3R5bGUoYyksInN0YWNrTGF5b3V0Ij09ZS5jaGlsZExheW91dCYmKGU9IjEiPT1teFV0aWxzLmdldFZhbHVlKGUsImhvcml6b250YWxTdGFjayIsIjEiKSxkPWQuY2xvbmUoKSxlP2QuaGVpZ2h0PWIuaGVpZ2h0OmQud2lkdGg9Yi53aWR0aCx0aGlzLmdyYXBoLm1vZGVsLnNldEdlb21ldHJ5KGMsZCkpKX19O3ZhciB6PW14U2VsZWN0aW9uQ2VsbHNIYW5kbGVyLnByb3RvdHlwZS5nZXRIYW5kbGVkU2VsZWN0aW9uQ2VsbHM7bXhTZWxlY3Rpb25DZWxsc0hhbmRsZXIucHJvdG90eXBlLmdldEhhbmRsZWRTZWxlY3Rpb25DZWxscz1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7ZS5nZXQoYSl8fChlLnB1dChhLCEwKSxkLnB1c2goYSkpfWZvcih2YXIgYj0Kei5hcHBseSh0aGlzLGFyZ3VtZW50cyksZT1uZXcgbXhEaWN0aW9uYXJ5LGM9dGhpcy5ncmFwaC5tb2RlbCxkPVtdLGY9MDtmPGIubGVuZ3RoO2YrKyl7dmFyIGc9YltmXTt0aGlzLmdyYXBoLmlzVGFibGVDZWxsKGcpP2EoYy5nZXRQYXJlbnQoYy5nZXRQYXJlbnQoZykpKTp0aGlzLmdyYXBoLmlzVGFibGVSb3coZykmJmEoYy5nZXRQYXJlbnQoZykpO2EoZyl9cmV0dXJuIGR9O3ZhciBFPW14VmVydGV4SGFuZGxlci5wcm90b3R5cGUuY3JlYXRlUGFyZW50SGlnaGxpZ2h0U2hhcGU7bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVQYXJlbnRIaWdobGlnaHRTaGFwZT1mdW5jdGlvbihhKXt2YXIgYj1FLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtiLnN0cm9rZT0iI0MwQzBDMCI7Yi5zdHJva2V3aWR0aD0xO3JldHVybiBifTt2YXIgRz1teEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVQYXJlbnRIaWdobGlnaHRTaGFwZTtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVQYXJlbnRIaWdobGlnaHRTaGFwZT0KZnVuY3Rpb24oYSl7dmFyIGI9Ry5hcHBseSh0aGlzLGFyZ3VtZW50cyk7Yi5zdHJva2U9IiNDMEMwQzAiO2Iuc3Ryb2tld2lkdGg9MTtyZXR1cm4gYn07bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5yb3RhdGlvbkhhbmRsZVZTcGFjaW5nPS0xMjtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmdldFJvdGF0aW9uSGFuZGxlUG9zaXRpb249ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEhhbmRsZVBhZGRpbmcoKTtyZXR1cm4gbmV3IG14UG9pbnQodGhpcy5ib3VuZHMueCt0aGlzLmJvdW5kcy53aWR0aC10aGlzLnJvdGF0aW9uSGFuZGxlVlNwYWNpbmcrYS54LzIsdGhpcy5ib3VuZHMueSt0aGlzLnJvdGF0aW9uSGFuZGxlVlNwYWNpbmctYS55LzIpfTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmlzUmVjdXJzaXZlUmVzaXplPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZ3JhcGguaXNSZWN1cnNpdmVWZXJ0ZXhSZXNpemUoYSkmJiFteEV2ZW50LmlzQ29udHJvbERvd24oYi5nZXRFdmVudCgpKX07Cm14VmVydGV4SGFuZGxlci5wcm90b3R5cGUuaXNDZW50ZXJlZEV2ZW50PWZ1bmN0aW9uKGEsYil7cmV0dXJuISghdGhpcy5ncmFwaC5pc1N3aW1sYW5lKGEuY2VsbCkmJjA8dGhpcy5ncmFwaC5tb2RlbC5nZXRDaGlsZENvdW50KGEuY2VsbCkmJiF0aGlzLmdyYXBoLmlzQ2VsbENvbGxhcHNlZChhLmNlbGwpJiYiMSI9PW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSwicmVjdXJzaXZlUmVzaXplIiwiMSIpJiZudWxsPT1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsImNoaWxkTGF5b3V0IixudWxsKSkmJm14RXZlbnQuaXNDb250cm9sRG93bihiLmdldEV2ZW50KCkpfHxteEV2ZW50LmlzTWV0YURvd24oYi5nZXRFdmVudCgpKX07dmFyIEY9bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5pc1JvdGF0aW9uSGFuZGxlVmlzaWJsZTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmlzUm90YXRpb25IYW5kbGVWaXNpYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIEYuYXBwbHkodGhpcyxhcmd1bWVudHMpJiYKIXRoaXMuZ3JhcGguaXNUYWJsZUNlbGwodGhpcy5zdGF0ZS5jZWxsKSYmIXRoaXMuZ3JhcGguaXNUYWJsZVJvdyh0aGlzLnN0YXRlLmNlbGwpJiYhdGhpcy5ncmFwaC5pc1RhYmxlKHRoaXMuc3RhdGUuY2VsbCl9O214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuZ2V0U2l6ZXJCb3VuZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ncmFwaC5pc1RhYmxlQ2VsbCh0aGlzLnN0YXRlLmNlbGwpP3RoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZSh0aGlzLmdyYXBoLm1vZGVsLmdldFBhcmVudCh0aGlzLmdyYXBoLm1vZGVsLmdldFBhcmVudCh0aGlzLnN0YXRlLmNlbGwpKSk6dGhpcy5ib3VuZHN9O3ZhciBJPW14VmVydGV4SGFuZGxlci5wcm90b3R5cGUuaXNQYXJlbnRIaWdobGlnaHRWaXNpYmxlO214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuaXNQYXJlbnRIaWdobGlnaHRWaXNpYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIEkuYXBwbHkodGhpcyxhcmd1bWVudHMpJiYhdGhpcy5ncmFwaC5pc1RhYmxlQ2VsbCh0aGlzLnN0YXRlLmNlbGwpJiYKIXRoaXMuZ3JhcGguaXNUYWJsZVJvdyh0aGlzLnN0YXRlLmNlbGwpfTt2YXIgSj1teFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmlzQ3VzdG9tSGFuZGxlVmlzaWJsZTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmlzQ3VzdG9tSGFuZGxlVmlzaWJsZT1mdW5jdGlvbihhKXtyZXR1cm4gYS50YWJsZUhhbmRsZXx8Si5hcHBseSh0aGlzLGFyZ3VtZW50cykmJighdGhpcy5ncmFwaC5pc1RhYmxlKHRoaXMuc3RhdGUuY2VsbCl8fHRoaXMuZ3JhcGguaXNDZWxsU2VsZWN0ZWQodGhpcy5zdGF0ZS5jZWxsKSl9O214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uQm9yZGVySW5zZXQ9ZnVuY3Rpb24oKXt2YXIgYT0wO3RoaXMuZ3JhcGguaXNUYWJsZVJvdyh0aGlzLnN0YXRlLmNlbGwpP2E9MTp0aGlzLmdyYXBoLmlzVGFibGVDZWxsKHRoaXMuc3RhdGUuY2VsbCkmJihhPTIpO3JldHVybiBhfTt2YXIgdT1teFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmdldFNlbGVjdGlvbkJvcmRlckJvdW5kczsKbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5nZXRTZWxlY3Rpb25Cb3JkZXJCb3VuZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdS5hcHBseSh0aGlzLGFyZ3VtZW50cykuZ3JvdygtdGhpcy5nZXRTZWxlY3Rpb25Cb3JkZXJJbnNldCgpKX07dmFyIEs9bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVDdXN0b21IYW5kbGVzO214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuY3JlYXRlQ3VzdG9tSGFuZGxlcz1mdW5jdGlvbigpe3ZhciBhPUsuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKHRoaXMuZ3JhcGguaXNUYWJsZSh0aGlzLnN0YXRlLmNlbGwpKXt2YXIgYj10aGlzLmdyYXBoLGU9Yi5tb2RlbCxjPXRoaXMuc3RhdGUsZD10aGlzLnNlbGVjdGlvbkJvcmRlcixmPXRoaXM7bnVsbD09YSYmKGE9W10pO3ZhciBnPWIudmlldy5nZXRDZWxsU3RhdGVzKGUuZ2V0Q2hpbGRDZWxscyh0aGlzLnN0YXRlLmNlbGwsITApKTtpZigwPGcubGVuZ3RoKXtmb3IodmFyIGw9Yi52aWV3LmdldENlbGxTdGF0ZXMoZS5nZXRDaGlsZENlbGxzKGdbMF0uY2VsbCwKITApKSxlPTA7ZTxsLmxlbmd0aDtlKyspbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oZSl7dmFyIGc9bFtlXSx1PWU8bC5sZW5ndGgtMT9sW2UrMV06bnVsbCxwPW5ldyBteExpbmUobmV3IG14UmVjdGFuZ2xlLG14Q29uc3RhbnRzLk5PTkUsMSwhMCk7cC5pc0Rhc2hlZD1kLmlzRGFzaGVkO3A9bmV3IG14SGFuZGxlKGcsImNvbC1yZXNpemUiLG51bGwscCk7cC50YWJsZUhhbmRsZT0hMDt2YXIgbj0wO3Auc2hhcGUubm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShwLnNoYXBlLm5vZGUscC5zaGFwZS5ub2RlLnBhcmVudE5vZGUuZmlyc3RDaGlsZCk7cC5yZWRyYXc9ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLnNoYXBlJiZudWxsIT10aGlzLnN0YXRlLnNoYXBlKXt2YXIgYT1iLmdldEFjdHVhbFN0YXJ0U2l6ZShjLmNlbGwpO3RoaXMuc2hhcGUuc3Ryb2tlPTA9PW4/bXhDb25zdGFudHMuTk9ORTpkLnN0cm9rZTt0aGlzLnNoYXBlLmJvdW5kcy54PXRoaXMuc3RhdGUueCt0aGlzLnN0YXRlLndpZHRoKwpuKnRoaXMuZ3JhcGgudmlldy5zY2FsZTt0aGlzLnNoYXBlLmJvdW5kcy53aWR0aD0xO3RoaXMuc2hhcGUuYm91bmRzLnk9Yy55KyhlPT1sLmxlbmd0aC0xPzA6YS55KnRoaXMuZ3JhcGgudmlldy5zY2FsZSk7dGhpcy5zaGFwZS5ib3VuZHMuaGVpZ2h0PWMuaGVpZ2h0LShlPT1sLmxlbmd0aC0xPzA6KGEuaGVpZ2h0K2EueSkqdGhpcy5ncmFwaC52aWV3LnNjYWxlKTt0aGlzLnNoYXBlLnJlZHJhdygpfX07dmFyIHk9ITE7cC5zZXRQb3NpdGlvbj1mdW5jdGlvbihhLGUsYyl7bj1NYXRoLm1heChHcmFwaC5taW5UYWJsZUNvbHVtbldpZHRoLWEud2lkdGgsZS54LWEueC1hLndpZHRoKTt5PW14RXZlbnQuaXNTaGlmdERvd24oYy5nZXRFdmVudCgpKTtudWxsPT11fHx5fHwobj1NYXRoLm1pbigodS54K3Uud2lkdGgtZy54LWcud2lkdGgpL2Iudmlldy5zY2FsZS1HcmFwaC5taW5UYWJsZUNvbHVtbldpZHRoLG4pKX07cC5leGVjdXRlPWZ1bmN0aW9uKGEpe2lmKDAhPW4pYi5zZXRUYWJsZUNvbHVtbldpZHRoKHRoaXMuc3RhdGUuY2VsbCwKbix5KTtlbHNlIGlmKCFmLmJsb2NrRGVsYXllZFNlbGVjdGlvbil7dmFyIGU9Yi5nZXRDZWxsQXQoYS5nZXRHcmFwaFgoKSxhLmdldEdyYXBoWSgpKXx8Yy5jZWxsO2Iuc2VsZWN0Q2VsbEZvckV2ZW50KGUsYS5nZXRFdmVudCgpKX1uPTB9O3AucmVzZXQ9ZnVuY3Rpb24oKXtuPTB9O2EucHVzaChwKX0pKGUpO2ZvcihlPTA7ZTxnLmxlbmd0aDtlKyspbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oZSl7ZT1nW2VdO3ZhciBsPW5ldyBteExpbmUobmV3IG14UmVjdGFuZ2xlLG14Q29uc3RhbnRzLk5PTkUsMSk7bC5pc0Rhc2hlZD1kLmlzRGFzaGVkO2U9bmV3IG14SGFuZGxlKGUsInJvdy1yZXNpemUiLG51bGwsbCk7ZS50YWJsZUhhbmRsZT0hMDt2YXIgdT0wO2Uuc2hhcGUubm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlLnNoYXBlLm5vZGUsZS5zaGFwZS5ub2RlLnBhcmVudE5vZGUuZmlyc3RDaGlsZCk7ZS5yZWRyYXc9ZnVuY3Rpb24oKXtudWxsIT10aGlzLnNoYXBlJiZudWxsIT0KdGhpcy5zdGF0ZS5zaGFwZSYmKHRoaXMuc2hhcGUuc3Ryb2tlPTA9PXU/bXhDb25zdGFudHMuTk9ORTpkLnN0cm9rZSx0aGlzLnNoYXBlLmJvdW5kcy54PXRoaXMuc3RhdGUueCx0aGlzLnNoYXBlLmJvdW5kcy53aWR0aD10aGlzLnN0YXRlLndpZHRoLHRoaXMuc2hhcGUuYm91bmRzLnk9dGhpcy5zdGF0ZS55K3RoaXMuc3RhdGUuaGVpZ2h0K3UqdGhpcy5ncmFwaC52aWV3LnNjYWxlLHRoaXMuc2hhcGUuYm91bmRzLmhlaWdodD0xLHRoaXMuc2hhcGUucmVkcmF3KCkpfTtlLnNldFBvc2l0aW9uPWZ1bmN0aW9uKGEsYixlKXt1PU1hdGgubWF4KEdyYXBoLm1pblRhYmxlUm93SGVpZ2h0LWEuaGVpZ2h0LGIueS1hLnktYS5oZWlnaHQpfTtlLmV4ZWN1dGU9ZnVuY3Rpb24oYSl7aWYoMCE9dSliLnNldFRhYmxlUm93SGVpZ2h0KHRoaXMuc3RhdGUuY2VsbCx1LCFteEV2ZW50LmlzU2hpZnREb3duKGEuZ2V0RXZlbnQoKSkpO2Vsc2UgaWYoIWYuYmxvY2tEZWxheWVkU2VsZWN0aW9uKXt2YXIgZT0KYi5nZXRDZWxsQXQoYS5nZXRHcmFwaFgoKSxhLmdldEdyYXBoWSgpKXx8Yy5jZWxsO2Iuc2VsZWN0Q2VsbEZvckV2ZW50KGUsYS5nZXRFdmVudCgpKX11PTB9O2UucmVzZXQ9ZnVuY3Rpb24oKXt1PTB9O2EucHVzaChlKX0pKGUpfX1yZXR1cm4gbnVsbCE9YT9hLnJldmVyc2UoKTpudWxsfTt2YXIgeT1teFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnNldEhhbmRsZXNWaXNpYmxlO214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuc2V0SGFuZGxlc1Zpc2libGU9ZnVuY3Rpb24oYSl7eS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYobnVsbCE9dGhpcy5tb3ZlSGFuZGxlcylmb3IodmFyIGI9MDtiPHRoaXMubW92ZUhhbmRsZXMubGVuZ3RoO2IrKyl0aGlzLm1vdmVIYW5kbGVzW2JdLnN0eWxlLnZpc2liaWxpdHk9YT8iIjoiaGlkZGVuIjtpZihudWxsIT10aGlzLmNvcm5lckhhbmRsZXMpZm9yKGI9MDtiPHRoaXMuY29ybmVySGFuZGxlcy5sZW5ndGg7YisrKXRoaXMuY29ybmVySGFuZGxlc1tiXS5ub2RlLnN0eWxlLnZpc2liaWxpdHk9CmE/IiI6ImhpZGRlbiJ9O214VmVydGV4SGFuZGxlci5wcm90b3R5cGUucmVmcmVzaE1vdmVIYW5kbGVzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5ncmFwaC5tb2RlbDtpZihudWxsIT10aGlzLm1vdmVIYW5kbGVzKXtmb3IodmFyIGI9MDtiPHRoaXMubW92ZUhhbmRsZXMubGVuZ3RoO2IrKyl0aGlzLm1vdmVIYW5kbGVzW2JdLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5tb3ZlSGFuZGxlc1tiXSk7dGhpcy5tb3ZlSGFuZGxlcz1udWxsfXRoaXMubW92ZUhhbmRsZXM9W107Zm9yKGI9MDtiPGEuZ2V0Q2hpbGRDb3VudCh0aGlzLnN0YXRlLmNlbGwpO2IrKylteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXtpZihudWxsIT1iJiZhLmlzVmVydGV4KGIuY2VsbCkpe3ZhciBlPW14VXRpbHMuY3JlYXRlSW1hZ2UoRWRpdG9yLnJvd01vdmVJbWFnZSk7ZS5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiO2Uuc3R5bGUuY3Vyc29yPSJwb2ludGVyIjtlLnN0eWxlLndpZHRoPSI3cHgiO2Uuc3R5bGUuaGVpZ2h0PQoiNHB4IjtlLnN0eWxlLnBhZGRpbmc9IjRweCAycHggNHB4IDJweCI7ZS5yb3dTdGF0ZT1iO214RXZlbnQuYWRkR2VzdHVyZUxpc3RlbmVycyhlLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuZ3JhcGgucG9wdXBNZW51SGFuZGxlci5oaWRlTWVudSgpO3RoaXMuZ3JhcGguc3RvcEVkaXRpbmcoITEpO3RoaXMuZ3JhcGguc2VsZWN0Q2VsbEZvckV2ZW50KGIuY2VsbCxhKTtteEV2ZW50LmlzUG9wdXBUcmlnZ2VyKGEpfHwodGhpcy5ncmFwaC5ncmFwaEhhbmRsZXIuc3RhcnQodGhpcy5zdGF0ZS5jZWxsLG14RXZlbnQuZ2V0Q2xpZW50WChhKSxteEV2ZW50LmdldENsaWVudFkoYSksdGhpcy5ncmFwaC5nZXRTZWxlY3Rpb25DZWxscygpKSx0aGlzLmdyYXBoLmdyYXBoSGFuZGxlci5jZWxsV2FzQ2xpY2tlZD0hMCx0aGlzLmdyYXBoLmlzTW91c2VUcmlnZ2VyPW14RXZlbnQuaXNNb3VzZUV2ZW50KGEpLHRoaXMuZ3JhcGguaXNNb3VzZURvd249ITApO214RXZlbnQuY29uc3VtZShhKX0pLApudWxsLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe214RXZlbnQuaXNQb3B1cFRyaWdnZXIoYSkmJih0aGlzLmdyYXBoLnBvcHVwTWVudUhhbmRsZXIucG9wdXAobXhFdmVudC5nZXRDbGllbnRYKGEpLG14RXZlbnQuZ2V0Q2xpZW50WShhKSxiLmNlbGwsYSksbXhFdmVudC5jb25zdW1lKGEpKX0pKTt0aGlzLm1vdmVIYW5kbGVzLnB1c2goZSk7dGhpcy5ncmFwaC5jb250YWluZXIuYXBwZW5kQ2hpbGQoZSl9fSkodGhpcy5ncmFwaC52aWV3LmdldFN0YXRlKGEuZ2V0Q2hpbGRBdCh0aGlzLnN0YXRlLmNlbGwsYikpKX07bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5yZWZyZXNoPWZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy5jdXN0b21IYW5kbGVzKXtmb3IodmFyIGE9MDthPHRoaXMuY3VzdG9tSGFuZGxlcy5sZW5ndGg7YSsrKXRoaXMuY3VzdG9tSGFuZGxlc1thXS5kZXN0cm95KCk7dGhpcy5jdXN0b21IYW5kbGVzPXRoaXMuY3JlYXRlQ3VzdG9tSGFuZGxlcygpfXRoaXMuZ3JhcGguaXNUYWJsZSh0aGlzLnN0YXRlLmNlbGwpJiYKdGhpcy5yZWZyZXNoTW92ZUhhbmRsZXMoKX07dmFyIE49bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5nZXRIYW5kbGVQYWRkaW5nO214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuZ2V0SGFuZGxlUGFkZGluZz1mdW5jdGlvbigpe3ZhciBhPW5ldyBteFBvaW50KDAsMCksYj10aGlzLnRvbGVyYW5jZSxlPXRoaXMuc3RhdGUuc3R5bGUuc2hhcGU7bnVsbD09bXhDZWxsUmVuZGVyZXIuZGVmYXVsdFNoYXBlc1tlXSYmbXhTdGVuY2lsUmVnaXN0cnkuZ2V0U3RlbmNpbChlKTtlPXRoaXMuZ3JhcGguaXNUYWJsZSh0aGlzLnN0YXRlLmNlbGwpfHx0aGlzLmdyYXBoLmNlbGxFZGl0b3IuZ2V0RWRpdGluZ0NlbGwoKT09dGhpcy5zdGF0ZS5jZWxsO2lmKCFlJiZudWxsIT10aGlzLmN1c3RvbUhhbmRsZXMpZm9yKHZhciBjPTA7Yzx0aGlzLmN1c3RvbUhhbmRsZXMubGVuZ3RoO2MrKylpZihudWxsIT10aGlzLmN1c3RvbUhhbmRsZXNbY10uc2hhcGUmJm51bGwhPXRoaXMuY3VzdG9tSGFuZGxlc1tjXS5zaGFwZS5ib3VuZHMpe3ZhciBkPQp0aGlzLmN1c3RvbUhhbmRsZXNbY10uc2hhcGUuYm91bmRzLGY9ZC5nZXRDZW50ZXJYKCksZz1kLmdldENlbnRlclkoKTtpZihNYXRoLmFicyh0aGlzLnN0YXRlLngtZik8ZC53aWR0aC8yfHxNYXRoLmFicyh0aGlzLnN0YXRlLnktZyk8ZC5oZWlnaHQvMnx8TWF0aC5hYnModGhpcy5zdGF0ZS54K3RoaXMuc3RhdGUud2lkdGgtZik8ZC53aWR0aC8yfHxNYXRoLmFicyh0aGlzLnN0YXRlLnkrdGhpcy5zdGF0ZS5oZWlnaHQtZyk8ZC5oZWlnaHQvMil7ZT0hMDticmVha319ZSYmbnVsbCE9dGhpcy5zaXplcnMmJjA8dGhpcy5zaXplcnMubGVuZ3RoJiZudWxsIT10aGlzLnNpemVyc1swXT8oYi89Mix0aGlzLmdyYXBoLmlzVGFibGUodGhpcy5zdGF0ZS5jZWxsKSYmKGIrPTcpLGEueD10aGlzLnNpemVyc1swXS5ib3VuZHMud2lkdGgrYixhLnk9dGhpcy5zaXplcnNbMF0uYm91bmRzLmhlaWdodCtiKTphPU4uYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBhfTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnVwZGF0ZUhpbnQ9CmZ1bmN0aW9uKGIpe2lmKHRoaXMuaW5kZXghPW14RXZlbnQuTEFCRUxfSEFORExFKXtudWxsPT10aGlzLmhpbnQmJih0aGlzLmhpbnQ9YSgpLHRoaXMuc3RhdGUudmlldy5ncmFwaC5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5oaW50KSk7aWYodGhpcy5pbmRleD09bXhFdmVudC5ST1RBVElPTl9IQU5ETEUpdGhpcy5oaW50LmlubmVySFRNTD10aGlzLmN1cnJlbnRBbHBoYSsiJmRlZzsiO2Vsc2V7Yj10aGlzLnN0YXRlLnZpZXcuc2NhbGU7dmFyIGU9dGhpcy5zdGF0ZS52aWV3LnVuaXQ7dGhpcy5oaW50LmlubmVySFRNTD1jKHRoaXMucm91bmRMZW5ndGgodGhpcy5ib3VuZHMud2lkdGgvYiksZSkrIiB4ICIrYyh0aGlzLnJvdW5kTGVuZ3RoKHRoaXMuYm91bmRzLmhlaWdodC9iKSxlKX1iPW14VXRpbHMuZ2V0Qm91bmRpbmdCb3godGhpcy5ib3VuZHMsbnVsbCE9dGhpcy5jdXJyZW50QWxwaGE/dGhpcy5jdXJyZW50QWxwaGE6dGhpcy5zdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9ST1RBVElPTl18fAoiMCIpO251bGw9PWImJihiPXRoaXMuYm91bmRzKTt0aGlzLmhpbnQuc3R5bGUubGVmdD1iLngrTWF0aC5yb3VuZCgoYi53aWR0aC10aGlzLmhpbnQuY2xpZW50V2lkdGgpLzIpKyJweCI7dGhpcy5oaW50LnN0eWxlLnRvcD1iLnkrYi5oZWlnaHQrRWRpdG9yLmhpbnRPZmZzZXQrInB4IjtudWxsIT10aGlzLmxpbmtIaW50JiYodGhpcy5saW5rSGludC5zdHlsZS5kaXNwbGF5PSJub25lIil9fTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnJlbW92ZUhpbnQ9ZnVuY3Rpb24oKXtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUucmVtb3ZlSGludC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bnVsbCE9dGhpcy5saW5rSGludCYmKHRoaXMubGlua0hpbnQuc3R5bGUuZGlzcGxheT0iIil9O3ZhciBPPW14RWRnZUhhbmRsZXIucHJvdG90eXBlLm1vdXNlTW92ZTtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5tb3VzZU1vdmU9ZnVuY3Rpb24oYSxiKXtPLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtudWxsIT0KdGhpcy5ncmFwaC5ncmFwaEhhbmRsZXImJm51bGwhPXRoaXMuZ3JhcGguZ3JhcGhIYW5kbGVyLmZpcnN0JiZudWxsIT10aGlzLmxpbmtIaW50JiYibm9uZSIhPXRoaXMubGlua0hpbnQuc3R5bGUuZGlzcGxheSYmKHRoaXMubGlua0hpbnQuc3R5bGUuZGlzcGxheT0ibm9uZSIpfTt2YXIgSD1teEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5tb3VzZVVwO214RWRnZUhhbmRsZXIucHJvdG90eXBlLm1vdXNlVXA9ZnVuY3Rpb24oYSxiKXtILmFwcGx5KHRoaXMsYXJndW1lbnRzKTtudWxsIT10aGlzLmxpbmtIaW50JiYibm9uZSI9PXRoaXMubGlua0hpbnQuc3R5bGUuZGlzcGxheSYmKHRoaXMubGlua0hpbnQuc3R5bGUuZGlzcGxheT0iIil9O214RWRnZUhhbmRsZXIucHJvdG90eXBlLnVwZGF0ZUhpbnQ9ZnVuY3Rpb24oYixlKXtudWxsPT10aGlzLmhpbnQmJih0aGlzLmhpbnQ9YSgpLHRoaXMuc3RhdGUudmlldy5ncmFwaC5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5oaW50KSk7dmFyIGQ9CnRoaXMuZ3JhcGgudmlldy50cmFuc2xhdGUsZj10aGlzLmdyYXBoLnZpZXcuc2NhbGUsZz10aGlzLnJvdW5kTGVuZ3RoKGUueC9mLWQueCksZD10aGlzLnJvdW5kTGVuZ3RoKGUueS9mLWQueSksZj10aGlzLmdyYXBoLnZpZXcudW5pdDt0aGlzLmhpbnQuaW5uZXJIVE1MPWMoZyxmKSsiLCAiK2MoZCxmKTt0aGlzLmhpbnQuc3R5bGUudmlzaWJpbGl0eT0idmlzaWJsZSI7aWYodGhpcy5pc1NvdXJjZXx8dGhpcy5pc1RhcmdldCludWxsIT10aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRDb25zdHJhaW50JiZudWxsIT10aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRGb2N1cz8oZz10aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRDb25zdHJhaW50LnBvaW50LHRoaXMuaGludC5pbm5lckhUTUw9IlsiK01hdGgucm91bmQoMTAwKmcueCkrIiUsICIrTWF0aC5yb3VuZCgxMDAqZy55KSsiJV0iKTp0aGlzLm1hcmtlci5oYXNWYWxpZFN0YXRlKCkmJih0aGlzLmhpbnQuc3R5bGUudmlzaWJpbGl0eT0KImhpZGRlbiIpO3RoaXMuaGludC5zdHlsZS5sZWZ0PU1hdGgucm91bmQoYi5nZXRHcmFwaFgoKS10aGlzLmhpbnQuY2xpZW50V2lkdGgvMikrInB4Ijt0aGlzLmhpbnQuc3R5bGUudG9wPU1hdGgubWF4KGIuZ2V0R3JhcGhZKCksZS55KStFZGl0b3IuaGludE9mZnNldCsicHgiO251bGwhPXRoaXMubGlua0hpbnQmJih0aGlzLmxpbmtIaW50LnN0eWxlLmRpc3BsYXk9Im5vbmUiKX07bXhFZGdlSGFuZGxlci5wcm90b3R5cGUucmVtb3ZlSGludD1teFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnJlbW92ZUhpbnQ7SG92ZXJJY29ucy5wcm90b3R5cGUubWFpbkhhbmRsZT1teENsaWVudC5JU19TVkc/R3JhcGguY3JlYXRlU3ZnSW1hZ2UoMTgsMTgsJzxjaXJjbGUgY3g9IjkiIGN5PSI5IiByPSI1IiBzdHJva2U9IiNmZmYiIGZpbGw9IicrSG92ZXJJY29ucy5wcm90b3R5cGUuYXJyb3dGaWxsKyciIHN0cm9rZS13aWR0aD0iMSIvPicpOm5ldyBteEltYWdlKElNQUdFX1BBVEgrIi9oYW5kbGUtbWFpbi5wbmciLAoxNywxNyk7SG92ZXJJY29ucy5wcm90b3R5cGUuc2Vjb25kYXJ5SGFuZGxlPW14Q2xpZW50LklTX1NWRz9HcmFwaC5jcmVhdGVTdmdJbWFnZSgxNiwxNiwnPHBhdGggZD0ibSA4IDMgTCAxMyA4IEwgOCAxMyBMIDMgOCB6IiBzdHJva2U9IiNmZmYiIGZpbGw9IiNmY2EwMDAiLz4nKTpuZXcgbXhJbWFnZShJTUFHRV9QQVRIKyIvaGFuZGxlLXNlY29uZGFyeS5wbmciLDE3LDE3KTtIb3Zlckljb25zLnByb3RvdHlwZS5maXhlZEhhbmRsZT1teENsaWVudC5JU19TVkc/R3JhcGguY3JlYXRlU3ZnSW1hZ2UoMTgsMTgsJzxjaXJjbGUgY3g9IjkiIGN5PSI5IiByPSI1IiBzdHJva2U9IiNmZmYiIGZpbGw9IicrSG92ZXJJY29ucy5wcm90b3R5cGUuYXJyb3dGaWxsKyciIHN0cm9rZS13aWR0aD0iMSIvPjxwYXRoIGQ9Im0gNyA3IEwgMTEgMTEgTSA3IDExIEwgMTEgNyIgc3Ryb2tlPSIjZmZmIi8+Jyk6bmV3IG14SW1hZ2UoSU1BR0VfUEFUSCsiL2hhbmRsZS1maXhlZC5wbmciLDE3LDE3KTtIb3Zlckljb25zLnByb3RvdHlwZS50ZXJtaW5hbEhhbmRsZT0KbXhDbGllbnQuSVNfU1ZHP0dyYXBoLmNyZWF0ZVN2Z0ltYWdlKDE4LDE4LCc8Y2lyY2xlIGN4PSI5IiBjeT0iOSIgcj0iNSIgc3Ryb2tlPSIjZmZmIiBmaWxsPSInK0hvdmVySWNvbnMucHJvdG90eXBlLmFycm93RmlsbCsnIiBzdHJva2Utd2lkdGg9IjEiLz48Y2lyY2xlIGN4PSI5IiBjeT0iOSIgcj0iMiIgc3Ryb2tlPSIjZmZmIiBmaWxsPSJ0cmFuc3BhcmVudCIvPicpOm5ldyBteEltYWdlKElNQUdFX1BBVEgrIi9oYW5kbGUtdGVybWluYWwucG5nIiwxNywxNyk7SG92ZXJJY29ucy5wcm90b3R5cGUucm90YXRpb25IYW5kbGU9bXhDbGllbnQuSVNfU1ZHP0dyYXBoLmNyZWF0ZVN2Z0ltYWdlKDE2LDE2LCc8cGF0aCBzdHJva2U9IicrSG92ZXJJY29ucy5wcm90b3R5cGUuYXJyb3dGaWxsKyciIGZpbGw9IicrSG92ZXJJY29ucy5wcm90b3R5cGUuYXJyb3dGaWxsKyciIGQ9Ik0xNS41NSA1LjU1TDExIDF2My4wN0M3LjA2IDQuNTYgNCA3LjkyIDQgMTJzMy4wNSA3LjQ0IDcgNy45M3YtMi4wMmMtMi44NC0uNDgtNS0yLjk0LTUtNS45MXMyLjE2LTUuNDMgNS01LjkxVjEwbDQuNTUtNC40NXpNMTkuOTMgMTFjLS4xNy0xLjM5LS43Mi0yLjczLTEuNjItMy44OWwtMS40MiAxLjQyYy41NC43NS44OCAxLjYgMS4wMiAyLjQ3aDIuMDJ6TTEzIDE3Ljl2Mi4wMmMxLjM5LS4xNyAyLjc0LS43MSAzLjktMS42MWwtMS40NC0xLjQ0Yy0uNzUuNTQtMS41OS44OS0yLjQ2IDEuMDN6bTMuODktMi40MmwxLjQyIDEuNDFjLjktMS4xNiAxLjQ1LTIuNSAxLjYyLTMuODloLTIuMDJjLS4xNC44Ny0uNDggMS43Mi0xLjAyIDIuNDh6Ii8+JywKMjQsMjQpOm5ldyBteEltYWdlKElNQUdFX1BBVEgrIi9oYW5kbGUtcm90YXRlLnBuZyIsMTYsMTYpO214Q2xpZW50LklTX1NWRyYmKG14Q29uc3RyYWludEhhbmRsZXIucHJvdG90eXBlLnBvaW50SW1hZ2U9R3JhcGguY3JlYXRlU3ZnSW1hZ2UoNSw1LCc8cGF0aCBkPSJtIDAgMCBMIDUgNSBNIDAgNSBMIDUgMCIgc3Ryb2tlPSInK0hvdmVySWNvbnMucHJvdG90eXBlLmFycm93RmlsbCsnIi8+JykpO214VmVydGV4SGFuZGxlci5UQUJMRV9IQU5ETEVfQ09MT1I9IiNmY2EwMDAiO214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuaGFuZGxlSW1hZ2U9SG92ZXJJY29ucy5wcm90b3R5cGUubWFpbkhhbmRsZTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnNlY29uZGFyeUhhbmRsZUltYWdlPUhvdmVySWNvbnMucHJvdG90eXBlLnNlY29uZGFyeUhhbmRsZTtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5oYW5kbGVJbWFnZT1Ib3Zlckljb25zLnByb3RvdHlwZS5tYWluSGFuZGxlO214RWRnZUhhbmRsZXIucHJvdG90eXBlLnRlcm1pbmFsSGFuZGxlSW1hZ2U9CkhvdmVySWNvbnMucHJvdG90eXBlLnRlcm1pbmFsSGFuZGxlO214RWRnZUhhbmRsZXIucHJvdG90eXBlLmZpeGVkSGFuZGxlSW1hZ2U9SG92ZXJJY29ucy5wcm90b3R5cGUuZml4ZWRIYW5kbGU7bXhFZGdlSGFuZGxlci5wcm90b3R5cGUubGFiZWxIYW5kbGVJbWFnZT1Ib3Zlckljb25zLnByb3RvdHlwZS5zZWNvbmRhcnlIYW5kbGU7bXhPdXRsaW5lLnByb3RvdHlwZS5zaXplckltYWdlPUhvdmVySWNvbnMucHJvdG90eXBlLm1haW5IYW5kbGU7bnVsbCE9d2luZG93LlNpZGViYXImJihTaWRlYmFyLnByb3RvdHlwZS50cmlhbmdsZVVwPUhvdmVySWNvbnMucHJvdG90eXBlLnRyaWFuZ2xlVXAsU2lkZWJhci5wcm90b3R5cGUudHJpYW5nbGVSaWdodD1Ib3Zlckljb25zLnByb3RvdHlwZS50cmlhbmdsZVJpZ2h0LFNpZGViYXIucHJvdG90eXBlLnRyaWFuZ2xlRG93bj1Ib3Zlckljb25zLnByb3RvdHlwZS50cmlhbmdsZURvd24sU2lkZWJhci5wcm90b3R5cGUudHJpYW5nbGVMZWZ0PUhvdmVySWNvbnMucHJvdG90eXBlLnRyaWFuZ2xlTGVmdCwKU2lkZWJhci5wcm90b3R5cGUucmVmcmVzaFRhcmdldD1Ib3Zlckljb25zLnByb3RvdHlwZS5yZWZyZXNoVGFyZ2V0LFNpZGViYXIucHJvdG90eXBlLnJvdW5kRHJvcD1Ib3Zlckljb25zLnByb3RvdHlwZS5yb3VuZERyb3ApO214Q2xpZW50LklTX1NWR3x8KChuZXcgSW1hZ2UpLnNyYz1Ib3Zlckljb25zLnByb3RvdHlwZS5tYWluSGFuZGxlLnNyYywobmV3IEltYWdlKS5zcmM9SG92ZXJJY29ucy5wcm90b3R5cGUuZml4ZWRIYW5kbGUuc3JjLChuZXcgSW1hZ2UpLnNyYz1Ib3Zlckljb25zLnByb3RvdHlwZS50ZXJtaW5hbEhhbmRsZS5zcmMsKG5ldyBJbWFnZSkuc3JjPUhvdmVySWNvbnMucHJvdG90eXBlLnNlY29uZGFyeUhhbmRsZS5zcmMsKG5ldyBJbWFnZSkuc3JjPUhvdmVySWNvbnMucHJvdG90eXBlLnJvdGF0aW9uSGFuZGxlLnNyYywobmV3IEltYWdlKS5zcmM9SG92ZXJJY29ucy5wcm90b3R5cGUudHJpYW5nbGVVcC5zcmMsKG5ldyBJbWFnZSkuc3JjPUhvdmVySWNvbnMucHJvdG90eXBlLnRyaWFuZ2xlUmlnaHQuc3JjLAoobmV3IEltYWdlKS5zcmM9SG92ZXJJY29ucy5wcm90b3R5cGUudHJpYW5nbGVEb3duLnNyYywobmV3IEltYWdlKS5zcmM9SG92ZXJJY29ucy5wcm90b3R5cGUudHJpYW5nbGVMZWZ0LnNyYywobmV3IEltYWdlKS5zcmM9SG92ZXJJY29ucy5wcm90b3R5cGUucmVmcmVzaFRhcmdldC5zcmMsKG5ldyBJbWFnZSkuc3JjPUhvdmVySWNvbnMucHJvdG90eXBlLnJvdW5kRHJvcC5zcmMpO214VmVydGV4SGFuZGxlci5wcm90b3R5cGUucm90YXRpb25FbmFibGVkPSEwO214VmVydGV4SGFuZGxlci5wcm90b3R5cGUubWFuYWdlU2l6ZXJzPSEwO214VmVydGV4SGFuZGxlci5wcm90b3R5cGUubGl2ZVByZXZpZXc9ITA7bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLm1heExpdmVQcmV2aWV3PTE2O214UnViYmVyYmFuZC5wcm90b3R5cGUuZGVmYXVsdE9wYWNpdHk9MzA7bXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUub3V0bGluZUNvbm5lY3Q9ITA7bXhDZWxsSGlnaGxpZ2h0LnByb3RvdHlwZS5rZWVwT25Ub3A9CiEwO214VmVydGV4SGFuZGxlci5wcm90b3R5cGUucGFyZW50SGlnaGxpZ2h0RW5hYmxlZD0hMDtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5wYXJlbnRIaWdobGlnaHRFbmFibGVkPSEwO214RWRnZUhhbmRsZXIucHJvdG90eXBlLmRibENsaWNrUmVtb3ZlRW5hYmxlZD0hMDtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5zdHJhaWdodFJlbW92ZUVuYWJsZWQ9ITA7bXhFZGdlSGFuZGxlci5wcm90b3R5cGUudmlydHVhbEJlbmRzRW5hYmxlZD0hMDtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5tZXJnZVJlbW92ZUVuYWJsZWQ9ITA7bXhFZGdlSGFuZGxlci5wcm90b3R5cGUubWFuYWdlTGFiZWxIYW5kbGU9ITA7bXhFZGdlSGFuZGxlci5wcm90b3R5cGUub3V0bGluZUNvbm5lY3Q9ITA7bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuaXNBZGRWaXJ0dWFsQmVuZEV2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiFteEV2ZW50LmlzU2hpZnREb3duKGEuZ2V0RXZlbnQoKSl9O214RWRnZUhhbmRsZXIucHJvdG90eXBlLmlzQ3VzdG9tSGFuZGxlRXZlbnQ9CmZ1bmN0aW9uKGEpe3JldHVybiFteEV2ZW50LmlzU2hpZnREb3duKGEuZ2V0RXZlbnQoKSl9O2lmKEdyYXBoLnRvdWNoU3R5bGUpe2lmKG14Q2xpZW50LklTX1RPVUNIfHwwPG5hdmlnYXRvci5tYXhUb3VjaFBvaW50c3x8MDxuYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50cylteFNoYXBlLnByb3RvdHlwZS5zdmdTdHJva2VUb2xlcmFuY2U9MTgsbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS50b2xlcmFuY2U9MTIsbXhFZGdlSGFuZGxlci5wcm90b3R5cGUudG9sZXJhbmNlPTEyLEdyYXBoLnByb3RvdHlwZS50b2xlcmFuY2U9MTIsbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5yb3RhdGlvbkhhbmRsZVZTcGFjaW5nPS0xNixteENvbnN0cmFpbnRIYW5kbGVyLnByb3RvdHlwZS5nZXRUb2xlcmFuY2U9ZnVuY3Rpb24oYSl7cmV0dXJuIG14RXZlbnQuaXNNb3VzZUV2ZW50KGEuZ2V0RXZlbnQoKSk/NDp0aGlzLmdyYXBoLmdldFRvbGVyYW5jZSgpfTtteFBhbm5pbmdIYW5kbGVyLnByb3RvdHlwZS5pc1Bhbm5pbmdUcmlnZ2VyPQpmdW5jdGlvbihhKXt2YXIgYj1hLmdldEV2ZW50KCk7cmV0dXJuIG51bGw9PWEuZ2V0U3RhdGUoKSYmIW14RXZlbnQuaXNNb3VzZUV2ZW50KGIpfHxteEV2ZW50LmlzUG9wdXBUcmlnZ2VyKGIpJiYobnVsbD09YS5nZXRTdGF0ZSgpfHxteEV2ZW50LmlzQ29udHJvbERvd24oYil8fG14RXZlbnQuaXNTaGlmdERvd24oYikpfTt2YXIgUj1teEdyYXBoSGFuZGxlci5wcm90b3R5cGUubW91c2VEb3duO214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5tb3VzZURvd249ZnVuY3Rpb24oYSxiKXtSLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtteEV2ZW50LmlzVG91Y2hFdmVudChiLmdldEV2ZW50KCkpJiZ0aGlzLmdyYXBoLmlzQ2VsbFNlbGVjdGVkKGIuZ2V0Q2VsbCgpKSYmMTx0aGlzLmdyYXBoLmdldFNlbGVjdGlvbkNvdW50KCkmJih0aGlzLmRlbGF5ZWRTZWxlY3Rpb249ITEpfX1lbHNlIG14UGFubmluZ0hhbmRsZXIucHJvdG90eXBlLmlzUGFubmluZ1RyaWdnZXI9ZnVuY3Rpb24oYSl7dmFyIGI9CmEuZ2V0RXZlbnQoKTtyZXR1cm4gbXhFdmVudC5pc0xlZnRNb3VzZUJ1dHRvbihiKSYmKHRoaXMudXNlTGVmdEJ1dHRvbkZvclBhbm5pbmcmJm51bGw9PWEuZ2V0U3RhdGUoKXx8bXhFdmVudC5pc0NvbnRyb2xEb3duKGIpJiYhbXhFdmVudC5pc1NoaWZ0RG93bihiKSl8fHRoaXMudXNlUG9wdXBUcmlnZ2VyJiZteEV2ZW50LmlzUG9wdXBUcmlnZ2VyKGIpfTtteFJ1YmJlcmJhbmQucHJvdG90eXBlLmlzU3BhY2VFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5ncmFwaC5pc0VuYWJsZWQoKSYmIXRoaXMuZ3JhcGguaXNDZWxsTG9ja2VkKHRoaXMuZ3JhcGguZ2V0RGVmYXVsdFBhcmVudCgpKSYmbXhFdmVudC5pc0NvbnRyb2xEb3duKGEuZ2V0RXZlbnQoKSkmJm14RXZlbnQuaXNTaGlmdERvd24oYS5nZXRFdmVudCgpKX07bXhSdWJiZXJiYW5kLnByb3RvdHlwZS5jYW5jZWxsZWQ9ITE7bXhSdWJiZXJiYW5kLnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oKXt0aGlzLmlzQWN0aXZlKCkmJgoodGhpcy5jYW5jZWxsZWQ9ITAsdGhpcy5yZXNldCgpKX07bXhSdWJiZXJiYW5kLnByb3RvdHlwZS5tb3VzZVVwPWZ1bmN0aW9uKGEsYil7aWYodGhpcy5jYW5jZWxsZWQpdGhpcy5jYW5jZWxsZWQ9ITEsYi5jb25zdW1lKCk7ZWxzZXt2YXIgZT1udWxsIT10aGlzLmRpdiYmIm5vbmUiIT10aGlzLmRpdi5zdHlsZS5kaXNwbGF5LGM9bnVsbCxkPW51bGwsZj1udWxsLGc9bnVsbDtudWxsIT10aGlzLmZpcnN0JiZudWxsIT10aGlzLmN1cnJlbnRYJiZudWxsIT10aGlzLmN1cnJlbnRZJiYoYz10aGlzLmZpcnN0LngsZD10aGlzLmZpcnN0LnksZj0odGhpcy5jdXJyZW50WC1jKS90aGlzLmdyYXBoLnZpZXcuc2NhbGUsZz0odGhpcy5jdXJyZW50WS1kKS90aGlzLmdyYXBoLnZpZXcuc2NhbGUsbXhFdmVudC5pc0FsdERvd24oYi5nZXRFdmVudCgpKXx8KGY9dGhpcy5ncmFwaC5zbmFwKGYpLGc9dGhpcy5ncmFwaC5zbmFwKGcpLHRoaXMuZ3JhcGguaXNHcmlkRW5hYmxlZCgpfHwoTWF0aC5hYnMoZik8CnRoaXMuZ3JhcGgudG9sZXJhbmNlJiYoZj0wKSxNYXRoLmFicyhnKTx0aGlzLmdyYXBoLnRvbGVyYW5jZSYmKGc9MCkpKSk7dGhpcy5yZXNldCgpO2lmKGUpe2lmKG14RXZlbnQuaXNBbHREb3duKGIuZ2V0RXZlbnQoKSkmJnRoaXMuZ3JhcGguaXNUb2dnbGVFdmVudChiLmdldEV2ZW50KCkpKXt2YXIgZj1uZXcgbXhSZWN0YW5nbGUodGhpcy54LHRoaXMueSx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSxsPXRoaXMuZ3JhcGguZ2V0Q2VsbHMoZi54LGYueSxmLndpZHRoLGYuaGVpZ2h0KTt0aGlzLmdyYXBoLnJlbW92ZVNlbGVjdGlvbkNlbGxzKGwpfWVsc2UgaWYodGhpcy5pc1NwYWNlRXZlbnQoYikpe3RoaXMuZ3JhcGgubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKGw9dGhpcy5ncmFwaC5nZXRDZWxsc0JleW9uZChjLGQsdGhpcy5ncmFwaC5nZXREZWZhdWx0UGFyZW50KCksITAsITApLGU9MDtlPGwubGVuZ3RoO2UrKylpZih0aGlzLmdyYXBoLmlzQ2VsbE1vdmFibGUobFtlXSkpe3ZhciB1PQp0aGlzLmdyYXBoLnZpZXcuZ2V0U3RhdGUobFtlXSkscD10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeShsW2VdKTtudWxsIT11JiZudWxsIT1wJiYocD1wLmNsb25lKCkscC50cmFuc2xhdGUoZixnKSx0aGlzLmdyYXBoLm1vZGVsLnNldEdlb21ldHJ5KGxbZV0scCkpfX1maW5hbGx5e3RoaXMuZ3JhcGgubW9kZWwuZW5kVXBkYXRlKCl9fWVsc2UgZj1uZXcgbXhSZWN0YW5nbGUodGhpcy54LHRoaXMueSx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSx0aGlzLmdyYXBoLnNlbGVjdFJlZ2lvbihmLGIuZ2V0RXZlbnQoKSk7Yi5jb25zdW1lKCl9fX07bXhSdWJiZXJiYW5kLnByb3RvdHlwZS5tb3VzZU1vdmU9ZnVuY3Rpb24oYSxiKXtpZighYi5pc0NvbnN1bWVkKCkmJm51bGwhPXRoaXMuZmlyc3Qpe3ZhciBlPW14VXRpbHMuZ2V0U2Nyb2xsT3JpZ2luKHRoaXMuZ3JhcGguY29udGFpbmVyKSxjPW14VXRpbHMuZ2V0T2Zmc2V0KHRoaXMuZ3JhcGguY29udGFpbmVyKTtlLngtPWMueDtlLnktPWMueTsKdmFyIGM9Yi5nZXRYKCkrZS54LGU9Yi5nZXRZKCkrZS55LGQ9dGhpcy5maXJzdC54LWMsZj10aGlzLmZpcnN0LnktZSxnPXRoaXMuZ3JhcGgudG9sZXJhbmNlO2lmKG51bGwhPXRoaXMuZGl2fHxNYXRoLmFicyhkKT5nfHxNYXRoLmFicyhmKT5nKW51bGw9PXRoaXMuZGl2JiYodGhpcy5kaXY9dGhpcy5jcmVhdGVTaGFwZSgpKSxteFV0aWxzLmNsZWFyU2VsZWN0aW9uKCksdGhpcy51cGRhdGUoYyxlKSx0aGlzLmlzU3BhY2VFdmVudChiKT8oYz10aGlzLngrdGhpcy53aWR0aCxlPXRoaXMueSt0aGlzLmhlaWdodCxkPXRoaXMuZ3JhcGgudmlldy5zY2FsZSxteEV2ZW50LmlzQWx0RG93bihiLmdldEV2ZW50KCkpfHwodGhpcy53aWR0aD10aGlzLmdyYXBoLnNuYXAodGhpcy53aWR0aC9kKSpkLHRoaXMuaGVpZ2h0PXRoaXMuZ3JhcGguc25hcCh0aGlzLmhlaWdodC9kKSpkLHRoaXMuZ3JhcGguaXNHcmlkRW5hYmxlZCgpfHwodGhpcy53aWR0aDx0aGlzLmdyYXBoLnRvbGVyYW5jZSYmKHRoaXMud2lkdGg9CjApLHRoaXMuaGVpZ2h0PHRoaXMuZ3JhcGgudG9sZXJhbmNlJiYodGhpcy5oZWlnaHQ9MCkpLHRoaXMueDx0aGlzLmZpcnN0LngmJih0aGlzLng9Yy10aGlzLndpZHRoKSx0aGlzLnk8dGhpcy5maXJzdC55JiYodGhpcy55PWUtdGhpcy5oZWlnaHQpKSx0aGlzLmRpdi5zdHlsZS5ib3JkZXJTdHlsZT0iZGFzaGVkIix0aGlzLmRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9IndoaXRlIix0aGlzLmRpdi5zdHlsZS5sZWZ0PXRoaXMueCsicHgiLHRoaXMuZGl2LnN0eWxlLnRvcD10aGlzLnkrInB4Iix0aGlzLmRpdi5zdHlsZS53aWR0aD1NYXRoLm1heCgwLHRoaXMud2lkdGgpKyJweCIsdGhpcy5kaXYuc3R5bGUuaGVpZ2h0PXRoaXMuZ3JhcGguY29udGFpbmVyLmNsaWVudEhlaWdodCsicHgiLHRoaXMuZGl2LnN0eWxlLmJvcmRlcldpZHRoPTA+PXRoaXMud2lkdGg/IjBweCAxcHggMHB4IDBweCI6IjBweCAxcHggMHB4IDFweCIsbnVsbD09dGhpcy5zZWNvbmREaXYmJih0aGlzLnNlY29uZERpdj0KdGhpcy5kaXYuY2xvbmVOb2RlKCEwKSx0aGlzLmRpdi5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHRoaXMuc2Vjb25kRGl2KSksdGhpcy5zZWNvbmREaXYuc3R5bGUubGVmdD10aGlzLngrInB4Iix0aGlzLnNlY29uZERpdi5zdHlsZS50b3A9dGhpcy55KyJweCIsdGhpcy5zZWNvbmREaXYuc3R5bGUud2lkdGg9dGhpcy5ncmFwaC5jb250YWluZXIuY2xpZW50V2lkdGgrInB4Iix0aGlzLnNlY29uZERpdi5zdHlsZS5oZWlnaHQ9TWF0aC5tYXgoMCx0aGlzLmhlaWdodCkrInB4Iix0aGlzLnNlY29uZERpdi5zdHlsZS5ib3JkZXJXaWR0aD0wPj10aGlzLmhlaWdodD8iMXB4IDBweCAwcHggMHB4IjoiMXB4IDBweCAxcHggMHB4Iik6KHRoaXMuZGl2LnN0eWxlLmJhY2tncm91bmRDb2xvcj0iIix0aGlzLmRpdi5zdHlsZS5ib3JkZXJXaWR0aD0iIix0aGlzLmRpdi5zdHlsZS5ib3JkZXJTdHlsZT0iIixudWxsIT10aGlzLnNlY29uZERpdiYmKHRoaXMuc2Vjb25kRGl2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5zZWNvbmREaXYpLAp0aGlzLnNlY29uZERpdj1udWxsKSksYi5jb25zdW1lKCl9fTt2YXIgZWE9bXhSdWJiZXJiYW5kLnByb3RvdHlwZS5yZXNldDtteFJ1YmJlcmJhbmQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5zZWNvbmREaXYmJih0aGlzLnNlY29uZERpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuc2Vjb25kRGl2KSx0aGlzLnNlY29uZERpdj1udWxsKTtlYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3ZhciBmYT0obmV3IERhdGUpLmdldFRpbWUoKSxZPTAsWj1teEVkZ2VIYW5kbGVyLnByb3RvdHlwZS51cGRhdGVQcmV2aWV3U3RhdGU7bXhFZGdlSGFuZGxlci5wcm90b3R5cGUudXBkYXRlUHJldmlld1N0YXRlPWZ1bmN0aW9uKGEsYixlLGMpe1ouYXBwbHkodGhpcyxhcmd1bWVudHMpO2UhPXRoaXMuY3VycmVudFRlcm1pbmFsU3RhdGU/KGZhPShuZXcgRGF0ZSkuZ2V0VGltZSgpLFk9MCk6WT0obmV3IERhdGUpLmdldFRpbWUoKS1mYTt0aGlzLmN1cnJlbnRUZXJtaW5hbFN0YXRlPQplfTt2YXIgWD1teEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5pc091dGxpbmVDb25uZWN0RXZlbnQ7bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuaXNPdXRsaW5lQ29ubmVjdEV2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT10aGlzLmN1cnJlbnRUZXJtaW5hbFN0YXRlJiZhLmdldFN0YXRlKCk9PXRoaXMuY3VycmVudFRlcm1pbmFsU3RhdGUmJjJFMzxZfHwobnVsbD09dGhpcy5jdXJyZW50VGVybWluYWxTdGF0ZXx8IjAiIT1teFV0aWxzLmdldFZhbHVlKHRoaXMuY3VycmVudFRlcm1pbmFsU3RhdGUuc3R5bGUsIm91dGxpbmVDb25uZWN0IiwiMSIpKSYmWC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O214RWRnZUhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZUhhbmRsZVNoYXBlPWZ1bmN0aW9uKGEsYil7dmFyIGU9bnVsbCE9YSYmMD09YSxjPXRoaXMuc3RhdGUuZ2V0VmlzaWJsZVRlcm1pbmFsU3RhdGUoZSksZD1udWxsIT1hJiYoMD09YXx8YT49dGhpcy5zdGF0ZS5hYnNvbHV0ZVBvaW50cy5sZW5ndGgtCjF8fHRoaXMuY29uc3RydWN0b3I9PW14RWxib3dFZGdlSGFuZGxlciYmMj09YSk/dGhpcy5ncmFwaC5nZXRDb25uZWN0aW9uQ29uc3RyYWludCh0aGlzLnN0YXRlLGMsZSk6bnVsbCxlPW51bGwhPShudWxsIT1kP3RoaXMuZ3JhcGguZ2V0Q29ubmVjdGlvblBvaW50KHRoaXMuc3RhdGUuZ2V0VmlzaWJsZVRlcm1pbmFsU3RhdGUoZSksZCk6bnVsbCk/dGhpcy5maXhlZEhhbmRsZUltYWdlOm51bGwhPWQmJm51bGwhPWM/dGhpcy50ZXJtaW5hbEhhbmRsZUltYWdlOnRoaXMuaGFuZGxlSW1hZ2U7aWYobnVsbCE9ZSlyZXR1cm4gZT1uZXcgbXhJbWFnZVNoYXBlKG5ldyBteFJlY3RhbmdsZSgwLDAsZS53aWR0aCxlLmhlaWdodCksZS5zcmMpLGUucHJlc2VydmVJbWFnZUFzcGVjdD0hMSxlO2U9bXhDb25zdGFudHMuSEFORExFX1NJWkU7dGhpcy5wcmVmZXJIdG1sJiYtLWU7cmV0dXJuIG5ldyBteFJlY3RhbmdsZVNoYXBlKG5ldyBteFJlY3RhbmdsZSgwLDAsZSxlKSxteENvbnN0YW50cy5IQU5ETEVfRklMTENPTE9SLApteENvbnN0YW50cy5IQU5ETEVfU1RST0tFQ09MT1IpfTt2YXIgYWE9bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVTaXplclNoYXBlO214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuY3JlYXRlU2l6ZXJTaGFwZT1mdW5jdGlvbihhLGIsZSl7dGhpcy5oYW5kbGVJbWFnZT1iPT1teEV2ZW50LlJPVEFUSU9OX0hBTkRMRT9Ib3Zlckljb25zLnByb3RvdHlwZS5yb3RhdGlvbkhhbmRsZTpiPT1teEV2ZW50LkxBQkVMX0hBTkRMRT90aGlzLnNlY29uZGFyeUhhbmRsZUltYWdlOnRoaXMuaGFuZGxlSW1hZ2U7cmV0dXJuIGFhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dmFyIGdhPW14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5nZXRCb3VuZGluZ0JveDtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuZ2V0Qm91bmRpbmdCb3g9ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSYmMT09YS5sZW5ndGgpe3ZhciBiPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKSxlPWIuZ2V0UGFyZW50KGFbMF0pLGM9dGhpcy5ncmFwaC5nZXRDZWxsR2VvbWV0cnkoYVswXSk7CmlmKGIuaXNFZGdlKGUpJiZudWxsIT1jJiZjLnJlbGF0aXZlJiYoYj10aGlzLmdyYXBoLnZpZXcuZ2V0U3RhdGUoYVswXSksbnVsbCE9YiYmMj5iLndpZHRoJiYyPmIuaGVpZ2h0JiZudWxsIT1iLnRleHQmJm51bGwhPWIudGV4dC5ib3VuZGluZ0JveCkpcmV0dXJuIG14UmVjdGFuZ2xlLmZyb21SZWN0YW5nbGUoYi50ZXh0LmJvdW5kaW5nQm94KX1yZXR1cm4gZ2EuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt2YXIgZGE9bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLmdldEd1aWRlU3RhdGVzO214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5nZXRHdWlkZVN0YXRlcz1mdW5jdGlvbigpe2Zvcih2YXIgYT1kYS5hcHBseSh0aGlzLGFyZ3VtZW50cyksYj1bXSxlPTA7ZTxhLmxlbmd0aDtlKyspIjEiIT1teFV0aWxzLmdldFZhbHVlKGFbZV0uc3R5bGUsInBhcnQiLCIwIikmJmIucHVzaChhW2VdKTtyZXR1cm4gYn07dmFyIFQ9bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5nZXRTZWxlY3Rpb25Cb3VuZHM7Cm14VmVydGV4SGFuZGxlci5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uQm91bmRzPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKSxlPWIuZ2V0UGFyZW50KGEuY2VsbCksYz10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeShhLmNlbGwpO3JldHVybiBiLmlzRWRnZShlKSYmbnVsbCE9YyYmYy5yZWxhdGl2ZSYmMj5hLndpZHRoJiYyPmEuaGVpZ2h0JiZudWxsIT1hLnRleHQmJm51bGwhPWEudGV4dC5ib3VuZGluZ0JveD8oYj1hLnRleHQudW5yb3RhdGVkQm91bmRpbmdCb3h8fGEudGV4dC5ib3VuZGluZ0JveCxuZXcgbXhSZWN0YW5nbGUoTWF0aC5yb3VuZChiLngpLE1hdGgucm91bmQoYi55KSxNYXRoLnJvdW5kKGIud2lkdGgpLE1hdGgucm91bmQoYi5oZWlnaHQpKSk6VC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3ZhciBjYT1teFZlcnRleEhhbmRsZXIucHJvdG90eXBlLm1vdXNlRG93bjtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLm1vdXNlRG93bj1mdW5jdGlvbihhLApiKXt2YXIgZT10aGlzLmdyYXBoLmdldE1vZGVsKCksYz1lLmdldFBhcmVudCh0aGlzLnN0YXRlLmNlbGwpLGQ9dGhpcy5ncmFwaC5nZXRDZWxsR2VvbWV0cnkodGhpcy5zdGF0ZS5jZWxsKTsodGhpcy5nZXRIYW5kbGVGb3JFdmVudChiKT09bXhFdmVudC5ST1RBVElPTl9IQU5ETEV8fCFlLmlzRWRnZShjKXx8bnVsbD09ZHx8IWQucmVsYXRpdmV8fG51bGw9PXRoaXMuc3RhdGV8fDI8PXRoaXMuc3RhdGUud2lkdGh8fDI8PXRoaXMuc3RhdGUuaGVpZ2h0KSYmY2EuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnJvdGF0ZUNsaWNrPWZ1bmN0aW9uKCl7dmFyIGE9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1NUUk9LRUNPTE9SLG14Q29uc3RhbnRzLk5PTkUpLGI9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0ZJTExDT0xPUixteENvbnN0YW50cy5OT05FKTsKdGhpcy5zdGF0ZS52aWV3LmdyYXBoLm1vZGVsLmlzVmVydGV4KHRoaXMuc3RhdGUuY2VsbCkmJmE9PW14Q29uc3RhbnRzLk5PTkUmJmI9PW14Q29uc3RhbnRzLk5PTkU/KGE9bXhVdGlscy5tb2QobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OLDApKzkwLDM2MCksdGhpcy5zdGF0ZS52aWV3LmdyYXBoLnNldENlbGxTdHlsZXMobXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT04sYSxbdGhpcy5zdGF0ZS5jZWxsXSkpOnRoaXMuc3RhdGUudmlldy5ncmFwaC50dXJuU2hhcGVzKFt0aGlzLnN0YXRlLmNlbGxdKX07dmFyIFE9bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5tb3VzZU1vdmU7bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5tb3VzZU1vdmU9ZnVuY3Rpb24oYSxiKXtRLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtudWxsIT10aGlzLmdyYXBoLmdyYXBoSGFuZGxlci5maXJzdCYmKG51bGwhPXRoaXMucm90YXRpb25TaGFwZSYmCm51bGwhPXRoaXMucm90YXRpb25TaGFwZS5ub2RlJiYodGhpcy5yb3RhdGlvblNoYXBlLm5vZGUuc3R5bGUuZGlzcGxheT0ibm9uZSIpLG51bGwhPXRoaXMubGlua0hpbnQmJiJub25lIiE9dGhpcy5saW5rSGludC5zdHlsZS5kaXNwbGF5JiYodGhpcy5saW5rSGludC5zdHlsZS5kaXNwbGF5PSJub25lIikpfTt2YXIgTD1teFZlcnRleEhhbmRsZXIucHJvdG90eXBlLm1vdXNlVXA7bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5tb3VzZVVwPWZ1bmN0aW9uKGEsYil7TC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bnVsbCE9dGhpcy5yb3RhdGlvblNoYXBlJiZudWxsIT10aGlzLnJvdGF0aW9uU2hhcGUubm9kZSYmKHRoaXMucm90YXRpb25TaGFwZS5ub2RlLnN0eWxlLmRpc3BsYXk9MT09dGhpcy5ncmFwaC5nZXRTZWxlY3Rpb25Db3VudCgpPyIiOiJub25lIik7bnVsbCE9dGhpcy5saW5rSGludCYmIm5vbmUiPT10aGlzLmxpbmtIaW50LnN0eWxlLmRpc3BsYXkmJih0aGlzLmxpbmtIaW50LnN0eWxlLmRpc3BsYXk9CiIiKTt0aGlzLmJsb2NrRGVsYXllZFNlbGVjdGlvbj1udWxsfTt2YXIgamE9bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5pbml0O214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe2phLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgYT0hMTtudWxsIT10aGlzLnJvdGF0aW9uU2hhcGUmJnRoaXMucm90YXRpb25TaGFwZS5ub2RlLnNldEF0dHJpYnV0ZSgidGl0bGUiLG14UmVzb3VyY2VzLmdldCgicm90YXRlVG9vbHRpcCIpKTtpZih0aGlzLmdyYXBoLmlzVGFibGUodGhpcy5zdGF0ZS5jZWxsKSl0aGlzLnJlZnJlc2hNb3ZlSGFuZGxlcygpO2Vsc2UgaWYoMT09dGhpcy5ncmFwaC5nZXRTZWxlY3Rpb25Db3VudCgpJiYodGhpcy5ncmFwaC5pc1RhYmxlQ2VsbCh0aGlzLnN0YXRlLmNlbGwpfHx0aGlzLmdyYXBoLmlzVGFibGVSb3codGhpcy5zdGF0ZS5jZWxsKSkpe3RoaXMuY29ybmVySGFuZGxlcz1bXTtmb3IodmFyIGI9MDs0PmI7YisrKXt2YXIgZT1uZXcgbXhSZWN0YW5nbGVTaGFwZShuZXcgbXhSZWN0YW5nbGUoMCwKMCw2LDYpLCIjZmZmZmZmIixteENvbnN0YW50cy5IQU5ETEVfU1RST0tFQ09MT1IpO2UuZGlhbGVjdD10aGlzLmdyYXBoLmRpYWxlY3QhPW14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHP214Q29uc3RhbnRzLkRJQUxFQ1RfVk1MOm14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHO2UuaW5pdCh0aGlzLmdyYXBoLnZpZXcuZ2V0T3ZlcmxheVBhbmUoKSk7dGhpcy5jb3JuZXJIYW5kbGVzLnB1c2goZSl9fXZhciBjPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5zcGVjaWFsSGFuZGxlJiYodGhpcy5zcGVjaWFsSGFuZGxlLm5vZGUuc3R5bGUuZGlzcGxheT10aGlzLmdyYXBoLmlzRW5hYmxlZCgpJiZ0aGlzLmdyYXBoLmdldFNlbGVjdGlvbkNvdW50KCk8dGhpcy5ncmFwaC5ncmFwaEhhbmRsZXIubWF4Q2VsbHM/IiI6Im5vbmUiKTt0aGlzLnJlZHJhd0hhbmRsZXMoKX0pO3RoaXMuY2hhbmdlSGFuZGxlcj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGIpe3RoaXMudXBkYXRlTGlua0hpbnQodGhpcy5ncmFwaC5nZXRMaW5rRm9yQ2VsbCh0aGlzLnN0YXRlLmNlbGwpLAp0aGlzLmdyYXBoLmdldExpbmtzRm9yU3RhdGUodGhpcy5zdGF0ZSkpO2MoKX0pO3RoaXMuZ3JhcGguZ2V0U2VsZWN0aW9uTW9kZWwoKS5hZGRMaXN0ZW5lcihteEV2ZW50LkNIQU5HRSx0aGlzLmNoYW5nZUhhbmRsZXIpO3RoaXMuZ3JhcGguZ2V0TW9kZWwoKS5hZGRMaXN0ZW5lcihteEV2ZW50LkNIQU5HRSx0aGlzLmNoYW5nZUhhbmRsZXIpO3RoaXMuZWRpdGluZ0hhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxiKXt0aGlzLnJlZHJhd0hhbmRsZXMoKX0pO3RoaXMuZ3JhcGguYWRkTGlzdGVuZXIobXhFdmVudC5FRElUSU5HX1NUT1BQRUQsdGhpcy5lZGl0aW5nSGFuZGxlcik7Yj10aGlzLmdyYXBoLmdldExpbmtGb3JDZWxsKHRoaXMuc3RhdGUuY2VsbCk7ZT10aGlzLmdyYXBoLmdldExpbmtzRm9yU3RhdGUodGhpcy5zdGF0ZSk7dGhpcy51cGRhdGVMaW5rSGludChiLGUpO2lmKG51bGwhPWJ8fG51bGwhPWUmJjA8ZS5sZW5ndGgpYT0hMDthJiZ0aGlzLnJlZHJhd0hhbmRsZXMoKX07Cm14VmVydGV4SGFuZGxlci5wcm90b3R5cGUudXBkYXRlTGlua0hpbnQ9ZnVuY3Rpb24oYixlKXt0cnl7aWYobnVsbD09YiYmKG51bGw9PWV8fDA9PWUubGVuZ3RoKXx8MTx0aGlzLmdyYXBoLmdldFNlbGVjdGlvbkNvdW50KCkpbnVsbCE9dGhpcy5saW5rSGludCYmKHRoaXMubGlua0hpbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmxpbmtIaW50KSx0aGlzLmxpbmtIaW50PW51bGwpO2Vsc2UgaWYobnVsbCE9Ynx8bnVsbCE9ZSYmMDxlLmxlbmd0aCl7bnVsbD09dGhpcy5saW5rSGludCYmKHRoaXMubGlua0hpbnQ9YSgpLHRoaXMubGlua0hpbnQuc3R5bGUucGFkZGluZz0iNnB4IDhweCA2cHggOHB4Iix0aGlzLmxpbmtIaW50LnN0eWxlLm9wYWNpdHk9IjEiLHRoaXMubGlua0hpbnQuc3R5bGUuZmlsdGVyPSIiLHRoaXMuZ3JhcGguY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMubGlua0hpbnQpKTt0aGlzLmxpbmtIaW50LmlubmVySFRNTD0iIjtpZihudWxsIT1iJiYodGhpcy5saW5rSGludC5hcHBlbmRDaGlsZCh0aGlzLmdyYXBoLmNyZWF0ZUxpbmtGb3JIaW50KGIpKSwKdGhpcy5ncmFwaC5pc0VuYWJsZWQoKSYmImZ1bmN0aW9uIj09PXR5cGVvZiB0aGlzLmdyYXBoLmVkaXRMaW5rKSl7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7Yy5zZXRBdHRyaWJ1dGUoInNyYyIsRWRpdG9yLmVkaXRJbWFnZSk7Yy5zZXRBdHRyaWJ1dGUoInRpdGxlIixteFJlc291cmNlcy5nZXQoImVkaXRMaW5rIikpO2Muc2V0QXR0cmlidXRlKCJ3aWR0aCIsIjExIik7Yy5zZXRBdHRyaWJ1dGUoImhlaWdodCIsIjExIik7Yy5zdHlsZS5tYXJnaW5MZWZ0PSIxMHB4IjtjLnN0eWxlLm1hcmdpbkJvdHRvbT0iLTFweCI7Yy5zdHlsZS5jdXJzb3I9InBvaW50ZXIiO3RoaXMubGlua0hpbnQuYXBwZW5kQ2hpbGQoYyk7bXhFdmVudC5hZGRMaXN0ZW5lcihjLCJjbGljayIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5ncmFwaC5zZXRTZWxlY3Rpb25DZWxsKHRoaXMuc3RhdGUuY2VsbCk7dGhpcy5ncmFwaC5lZGl0TGluaygpO214RXZlbnQuY29uc3VtZShhKX0pKTsKdmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7ZC5zZXRBdHRyaWJ1dGUoInNyYyIsRGlhbG9nLnByb3RvdHlwZS5jbGVhckltYWdlKTtkLnNldEF0dHJpYnV0ZSgidGl0bGUiLG14UmVzb3VyY2VzLmdldCgicmVtb3ZlSXQiLFtteFJlc291cmNlcy5nZXQoImxpbmsiKV0pKTtkLnNldEF0dHJpYnV0ZSgid2lkdGgiLCIxMyIpO2Quc2V0QXR0cmlidXRlKCJoZWlnaHQiLCIxMCIpO2Quc3R5bGUubWFyZ2luTGVmdD0iNHB4IjtkLnN0eWxlLm1hcmdpbkJvdHRvbT0iLTFweCI7ZC5zdHlsZS5jdXJzb3I9InBvaW50ZXIiO3RoaXMubGlua0hpbnQuYXBwZW5kQ2hpbGQoZCk7bXhFdmVudC5hZGRMaXN0ZW5lcihkLCJjbGljayIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5ncmFwaC5zZXRMaW5rRm9yQ2VsbCh0aGlzLnN0YXRlLmNlbGwsbnVsbCk7bXhFdmVudC5jb25zdW1lKGEpfSkpfWlmKG51bGwhPWUpZm9yKGM9MDtjPGUubGVuZ3RoO2MrKyl7dmFyIGY9CmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Yuc3R5bGUubWFyZ2luVG9wPW51bGwhPWJ8fDA8Yz8iNnB4IjoiMHB4IjtmLmFwcGVuZENoaWxkKHRoaXMuZ3JhcGguY3JlYXRlTGlua0ZvckhpbnQoZVtjXS5nZXRBdHRyaWJ1dGUoImhyZWYiKSxteFV0aWxzLmdldFRleHRDb250ZW50KGVbY10pKSk7dGhpcy5saW5rSGludC5hcHBlbmRDaGlsZChmKX19fWNhdGNoKG5hKXt9fTtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS51cGRhdGVMaW5rSGludD1teFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnVwZGF0ZUxpbmtIaW50O3ZhciBQPW14RWRnZUhhbmRsZXIucHJvdG90eXBlLmluaXQ7bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe1AuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuY29uc3RyYWludEhhbmRsZXIuaXNFbmFibGVkPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGUudmlldy5ncmFwaC5jb25uZWN0aW9uSGFuZGxlci5pc0VuYWJsZWQoKX0pOwp2YXIgYT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe251bGwhPXRoaXMubGlua0hpbnQmJih0aGlzLmxpbmtIaW50LnN0eWxlLmRpc3BsYXk9MT09dGhpcy5ncmFwaC5nZXRTZWxlY3Rpb25Db3VudCgpPyIiOiJub25lIik7bnVsbCE9dGhpcy5sYWJlbFNoYXBlJiYodGhpcy5sYWJlbFNoYXBlLm5vZGUuc3R5bGUuZGlzcGxheT10aGlzLmdyYXBoLmlzRW5hYmxlZCgpJiZ0aGlzLmdyYXBoLmdldFNlbGVjdGlvbkNvdW50KCk8dGhpcy5ncmFwaC5ncmFwaEhhbmRsZXIubWF4Q2VsbHM/IiI6Im5vbmUiKX0pO3RoaXMuY2hhbmdlSGFuZGxlcj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiLGUpe3RoaXMudXBkYXRlTGlua0hpbnQodGhpcy5ncmFwaC5nZXRMaW5rRm9yQ2VsbCh0aGlzLnN0YXRlLmNlbGwpLHRoaXMuZ3JhcGguZ2V0TGlua3NGb3JTdGF0ZSh0aGlzLnN0YXRlKSk7YSgpO3RoaXMucmVkcmF3SGFuZGxlcygpfSk7dGhpcy5ncmFwaC5nZXRTZWxlY3Rpb25Nb2RlbCgpLmFkZExpc3RlbmVyKG14RXZlbnQuQ0hBTkdFLAp0aGlzLmNoYW5nZUhhbmRsZXIpO3RoaXMuZ3JhcGguZ2V0TW9kZWwoKS5hZGRMaXN0ZW5lcihteEV2ZW50LkNIQU5HRSx0aGlzLmNoYW5nZUhhbmRsZXIpO3ZhciBiPXRoaXMuZ3JhcGguZ2V0TGlua0ZvckNlbGwodGhpcy5zdGF0ZS5jZWxsKSxlPXRoaXMuZ3JhcGguZ2V0TGlua3NGb3JTdGF0ZSh0aGlzLnN0YXRlKTtpZihudWxsIT1ifHxudWxsIT1lJiYwPGUubGVuZ3RoKXRoaXMudXBkYXRlTGlua0hpbnQoYixlKSx0aGlzLnJlZHJhd0hhbmRsZXMoKX07dmFyIFM9bXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuaW5pdDtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7Uy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5jb25zdHJhaW50SGFuZGxlci5pc0VuYWJsZWQ9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ncmFwaC5jb25uZWN0aW9uSGFuZGxlci5pc0VuYWJsZWQoKX0pfTt2YXIgaWE9bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5yZWRyYXdIYW5kbGVzOwpteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnJlZHJhd0hhbmRsZXM9ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLm1vdmVIYW5kbGVzKWZvcih2YXIgYT0wO2E8dGhpcy5tb3ZlSGFuZGxlcy5sZW5ndGg7YSsrKXRoaXMubW92ZUhhbmRsZXNbYV0uc3R5bGUubGVmdD10aGlzLm1vdmVIYW5kbGVzW2FdLnJvd1N0YXRlLngrdGhpcy5tb3ZlSGFuZGxlc1thXS5yb3dTdGF0ZS53aWR0aC01KyJweCIsdGhpcy5tb3ZlSGFuZGxlc1thXS5zdHlsZS50b3A9dGhpcy5tb3ZlSGFuZGxlc1thXS5yb3dTdGF0ZS55K3RoaXMubW92ZUhhbmRsZXNbYV0ucm93U3RhdGUuaGVpZ2h0LzItNisicHgiO2lmKG51bGwhPXRoaXMuY29ybmVySGFuZGxlcyl7dmFyIGE9dGhpcy5nZXRTZWxlY3Rpb25Cb3JkZXJJbnNldCgpLGI9dGhpcy5jb3JuZXJIYW5kbGVzLGU9YlswXS5ib3VuZHMuaGVpZ2h0LzI7YlswXS5ib3VuZHMueD10aGlzLnN0YXRlLngtYlswXS5ib3VuZHMud2lkdGgvMithO2JbMF0uYm91bmRzLnk9CnRoaXMuc3RhdGUueS1lK2E7YlswXS5yZWRyYXcoKTtiWzFdLmJvdW5kcy54PWJbMF0uYm91bmRzLngrdGhpcy5zdGF0ZS53aWR0aC0yKmE7YlsxXS5ib3VuZHMueT1iWzBdLmJvdW5kcy55O2JbMV0ucmVkcmF3KCk7YlsyXS5ib3VuZHMueD1iWzBdLmJvdW5kcy54O2JbMl0uYm91bmRzLnk9dGhpcy5zdGF0ZS55K3RoaXMuc3RhdGUuaGVpZ2h0LTIqYTtiWzJdLnJlZHJhdygpO2JbM10uYm91bmRzLng9YlsxXS5ib3VuZHMueDtiWzNdLmJvdW5kcy55PWJbMl0uYm91bmRzLnk7YlszXS5yZWRyYXcoKTtmb3IoYT0wO2E8dGhpcy5jb3JuZXJIYW5kbGVzLmxlbmd0aDthKyspdGhpcy5jb3JuZXJIYW5kbGVzW2FdLm5vZGUuc3R5bGUuZGlzcGxheT0xPT10aGlzLmdyYXBoLmdldFNlbGVjdGlvbkNvdW50KCk/IiI6Im5vbmUifW51bGwhPXRoaXMucm90YXRpb25TaGFwZSYmbnVsbCE9dGhpcy5yb3RhdGlvblNoYXBlLm5vZGUmJih0aGlzLnJvdGF0aW9uU2hhcGUubm9kZS5zdHlsZS5kaXNwbGF5PQpudWxsIT10aGlzLm1vdmVIYW5kbGVzfHwxIT10aGlzLmdyYXBoLmdldFNlbGVjdGlvbkNvdW50KCl8fG51bGwhPXRoaXMuaW5kZXgmJnRoaXMuaW5kZXghPW14RXZlbnQuUk9UQVRJT05fSEFORExFPyJub25lIjoiIik7aWEuYXBwbHkodGhpcyk7bnVsbCE9dGhpcy5zdGF0ZSYmbnVsbCE9dGhpcy5saW5rSGludCYmKGE9bmV3IG14UG9pbnQodGhpcy5zdGF0ZS5nZXRDZW50ZXJYKCksdGhpcy5zdGF0ZS5nZXRDZW50ZXJZKCkpLGI9bmV3IG14UmVjdGFuZ2xlKHRoaXMuc3RhdGUueCx0aGlzLnN0YXRlLnktMjIsdGhpcy5zdGF0ZS53aWR0aCsyNCx0aGlzLnN0YXRlLmhlaWdodCsyMiksZT1teFV0aWxzLmdldEJvdW5kaW5nQm94KGIsdGhpcy5zdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9ST1RBVElPTl18fCIwIixhKSxhPW51bGwhPWU/bXhVdGlscy5nZXRCb3VuZGluZ0JveCh0aGlzLnN0YXRlLHRoaXMuc3RhdGUuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT05dfHwKIjAiKTp0aGlzLnN0YXRlLGI9bnVsbCE9dGhpcy5zdGF0ZS50ZXh0P3RoaXMuc3RhdGUudGV4dC5ib3VuZGluZ0JveDpudWxsLG51bGw9PWUmJihlPXRoaXMuc3RhdGUpLGU9ZS55K2UuaGVpZ2h0LG51bGwhPWImJihlPU1hdGgubWF4KGUsYi55K2IuaGVpZ2h0KSksdGhpcy5saW5rSGludC5zdHlsZS5sZWZ0PU1hdGgubWF4KDAsTWF0aC5yb3VuZChhLngrKGEud2lkdGgtdGhpcy5saW5rSGludC5jbGllbnRXaWR0aCkvMikpKyJweCIsdGhpcy5saW5rSGludC5zdHlsZS50b3A9TWF0aC5yb3VuZChlK3RoaXMudmVydGljYWxPZmZzZXQvMitFZGl0b3IuaGludE9mZnNldCkrInB4Iil9O3ZhciByYT1teFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmRlc3Ryb3k7bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7cmEuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKG51bGwhPXRoaXMubW92ZUhhbmRsZXMpe2Zvcih2YXIgYT0wO2E8dGhpcy5tb3ZlSGFuZGxlcy5sZW5ndGg7YSsrKW51bGwhPQp0aGlzLm1vdmVIYW5kbGVzW2FdJiZudWxsIT10aGlzLm1vdmVIYW5kbGVzW2FdLnBhcmVudE5vZGUmJnRoaXMubW92ZUhhbmRsZXNbYV0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLm1vdmVIYW5kbGVzW2FdKTt0aGlzLm1vdmVIYW5kbGVzPW51bGx9aWYobnVsbCE9dGhpcy5jb3JuZXJIYW5kbGVzKXtmb3IoYT0wO2E8dGhpcy5jb3JuZXJIYW5kbGVzLmxlbmd0aDthKyspbnVsbCE9dGhpcy5jb3JuZXJIYW5kbGVzW2FdJiZudWxsIT10aGlzLmNvcm5lckhhbmRsZXNbYV0ubm9kZSYmbnVsbCE9dGhpcy5jb3JuZXJIYW5kbGVzW2FdLm5vZGUucGFyZW50Tm9kZSYmdGhpcy5jb3JuZXJIYW5kbGVzW2FdLm5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmNvcm5lckhhbmRsZXNbYV0ubm9kZSk7dGhpcy5jb3JuZXJIYW5kbGVzPW51bGx9bnVsbCE9dGhpcy5saW5rSGludCYmKG51bGwhPXRoaXMubGlua0hpbnQucGFyZW50Tm9kZSYmdGhpcy5saW5rSGludC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMubGlua0hpbnQpLAp0aGlzLmxpbmtIaW50PW51bGwpO251bGwhPXRoaXMuY2hhbmdlSGFuZGxlciYmKHRoaXMuZ3JhcGguZ2V0U2VsZWN0aW9uTW9kZWwoKS5yZW1vdmVMaXN0ZW5lcih0aGlzLmNoYW5nZUhhbmRsZXIpLHRoaXMuZ3JhcGguZ2V0TW9kZWwoKS5yZW1vdmVMaXN0ZW5lcih0aGlzLmNoYW5nZUhhbmRsZXIpLHRoaXMuY2hhbmdlSGFuZGxlcj1udWxsKTtudWxsIT10aGlzLmVkaXRpbmdIYW5kbGVyJiYodGhpcy5ncmFwaC5yZW1vdmVMaXN0ZW5lcih0aGlzLmVkaXRpbmdIYW5kbGVyKSx0aGlzLmVkaXRpbmdIYW5kbGVyPW51bGwpfTt2YXIgTT1teEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5yZWRyYXdIYW5kbGVzO214RWRnZUhhbmRsZXIucHJvdG90eXBlLnJlZHJhd0hhbmRsZXM9ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLm1hcmtlciYmKE0uYXBwbHkodGhpcyksbnVsbCE9dGhpcy5zdGF0ZSYmbnVsbCE9dGhpcy5saW5rSGludCkpe3ZhciBhPXRoaXMuc3RhdGU7bnVsbCE9dGhpcy5zdGF0ZS50ZXh0JiYKbnVsbCE9dGhpcy5zdGF0ZS50ZXh0LmJvdW5kcyYmKGE9bmV3IG14UmVjdGFuZ2xlKGEueCxhLnksYS53aWR0aCxhLmhlaWdodCksYS5hZGQodGhpcy5zdGF0ZS50ZXh0LmJvdW5kcykpO3RoaXMubGlua0hpbnQuc3R5bGUubGVmdD1NYXRoLm1heCgwLE1hdGgucm91bmQoYS54KyhhLndpZHRoLXRoaXMubGlua0hpbnQuY2xpZW50V2lkdGgpLzIpKSsicHgiO3RoaXMubGlua0hpbnQuc3R5bGUudG9wPU1hdGgucm91bmQoYS55K2EuaGVpZ2h0K0VkaXRvci5oaW50T2Zmc2V0KSsicHgifX07dmFyIG1hPW14RWRnZUhhbmRsZXIucHJvdG90eXBlLnJlc2V0O214RWRnZUhhbmRsZXIucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7bWEuYXBwbHkodGhpcyxhcmd1bWVudHMpO251bGwhPXRoaXMubGlua0hpbnQmJih0aGlzLmxpbmtIaW50LnN0eWxlLnZpc2liaWxpdHk9IiIpfTt2YXIgVz1teEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5kZXN0cm95O214RWRnZUhhbmRsZXIucHJvdG90eXBlLmRlc3Ryb3k9CmZ1bmN0aW9uKCl7Vy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bnVsbCE9dGhpcy5saW5rSGludCYmKHRoaXMubGlua0hpbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmxpbmtIaW50KSx0aGlzLmxpbmtIaW50PW51bGwpO251bGwhPXRoaXMuY2hhbmdlSGFuZGxlciYmKHRoaXMuZ3JhcGguZ2V0TW9kZWwoKS5yZW1vdmVMaXN0ZW5lcih0aGlzLmNoYW5nZUhhbmRsZXIpLHRoaXMuZ3JhcGguZ2V0U2VsZWN0aW9uTW9kZWwoKS5yZW1vdmVMaXN0ZW5lcih0aGlzLmNoYW5nZUhhbmRsZXIpLHRoaXMuY2hhbmdlSGFuZGxlcj1udWxsKX19KCk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe214U3dpbWxhbmUuY2FsbCh0aGlzKX1mdW5jdGlvbiBjKCl7bXhDeWxpbmRlci5jYWxsKHRoaXMpfWZ1bmN0aW9uIGYoKXtteEFjdG9yLmNhbGwodGhpcyl9ZnVuY3Rpb24gZCgpe214Q3lsaW5kZXIuY2FsbCh0aGlzKX1mdW5jdGlvbiBtKCl7bXhDeWxpbmRlci5jYWxsKHRoaXMpfWZ1bmN0aW9uIGsoKXtteEN5bGluZGVyLmNhbGwodGhpcyl9ZnVuY3Rpb24gcSgpe214QWN0b3IuY2FsbCh0aGlzKX1mdW5jdGlvbiBiKCl7bXhDeWxpbmRlci5jYWxsKHRoaXMpfWZ1bmN0aW9uIGUoKXtteEFjdG9yLmNhbGwodGhpcyl9ZnVuY3Rpb24gZygpe214QWN0b3IuY2FsbCh0aGlzKX1mdW5jdGlvbiBwKCl7bXhBY3Rvci5jYWxsKHRoaXMpfWZ1bmN0aW9uIGwoKXtteEFjdG9yLmNhbGwodGhpcyl9ZnVuY3Rpb24gbigpe214QWN0b3IuY2FsbCh0aGlzKX1mdW5jdGlvbiB2KCl7bXhBY3Rvci5jYWxsKHRoaXMpfWZ1bmN0aW9uIHQoKXtteEFjdG9yLmNhbGwodGhpcyl9CmZ1bmN0aW9uIHgoYSxiKXt0aGlzLmNhbnZhcz1hO3RoaXMuY2FudmFzLnNldExpbmVKb2luKCJyb3VuZCIpO3RoaXMuY2FudmFzLnNldExpbmVDYXAoInJvdW5kIik7dGhpcy5kZWZhdWx0VmFyaWF0aW9uPWI7dGhpcy5vcmlnaW5hbExpbmVUbz10aGlzLmNhbnZhcy5saW5lVG87dGhpcy5jYW52YXMubGluZVRvPW14VXRpbHMuYmluZCh0aGlzLHgucHJvdG90eXBlLmxpbmVUbyk7dGhpcy5vcmlnaW5hbE1vdmVUbz10aGlzLmNhbnZhcy5tb3ZlVG87dGhpcy5jYW52YXMubW92ZVRvPW14VXRpbHMuYmluZCh0aGlzLHgucHJvdG90eXBlLm1vdmVUbyk7dGhpcy5vcmlnaW5hbENsb3NlPXRoaXMuY2FudmFzLmNsb3NlO3RoaXMuY2FudmFzLmNsb3NlPW14VXRpbHMuYmluZCh0aGlzLHgucHJvdG90eXBlLmNsb3NlKTt0aGlzLm9yaWdpbmFsUXVhZFRvPXRoaXMuY2FudmFzLnF1YWRUbzt0aGlzLmNhbnZhcy5xdWFkVG89bXhVdGlscy5iaW5kKHRoaXMseC5wcm90b3R5cGUucXVhZFRvKTt0aGlzLm9yaWdpbmFsQ3VydmVUbz0KdGhpcy5jYW52YXMuY3VydmVUbzt0aGlzLmNhbnZhcy5jdXJ2ZVRvPW14VXRpbHMuYmluZCh0aGlzLHgucHJvdG90eXBlLmN1cnZlVG8pO3RoaXMub3JpZ2luYWxBcmNUbz10aGlzLmNhbnZhcy5hcmNUbzt0aGlzLmNhbnZhcy5hcmNUbz1teFV0aWxzLmJpbmQodGhpcyx4LnByb3RvdHlwZS5hcmNUbyl9ZnVuY3Rpb24gQSgpe214UmVjdGFuZ2xlU2hhcGUuY2FsbCh0aGlzKX1mdW5jdGlvbiBEKCl7bXhSZWN0YW5nbGVTaGFwZS5jYWxsKHRoaXMpfWZ1bmN0aW9uIEIoKXtteEFjdG9yLmNhbGwodGhpcyl9ZnVuY3Rpb24gQygpe214QWN0b3IuY2FsbCh0aGlzKX1mdW5jdGlvbiB6KCl7bXhBY3Rvci5jYWxsKHRoaXMpfWZ1bmN0aW9uIEUoKXtteFJlY3RhbmdsZVNoYXBlLmNhbGwodGhpcyl9ZnVuY3Rpb24gRygpe214UmVjdGFuZ2xlU2hhcGUuY2FsbCh0aGlzKX1mdW5jdGlvbiBGKCl7bXhDeWxpbmRlci5jYWxsKHRoaXMpfWZ1bmN0aW9uIEkoKXtteFNoYXBlLmNhbGwodGhpcyl9ZnVuY3Rpb24gSigpe214U2hhcGUuY2FsbCh0aGlzKX0KZnVuY3Rpb24gdSgpe214RWxsaXBzZS5jYWxsKHRoaXMpfWZ1bmN0aW9uIEsoKXtteFNoYXBlLmNhbGwodGhpcyl9ZnVuY3Rpb24geSgpe214U2hhcGUuY2FsbCh0aGlzKX1mdW5jdGlvbiBOKCl7bXhSZWN0YW5nbGVTaGFwZS5jYWxsKHRoaXMpfWZ1bmN0aW9uIE8oKXtteFNoYXBlLmNhbGwodGhpcyl9ZnVuY3Rpb24gSCgpe214U2hhcGUuY2FsbCh0aGlzKX1mdW5jdGlvbiBSKCl7bXhTaGFwZS5jYWxsKHRoaXMpfWZ1bmN0aW9uIGVhKCl7bXhTaGFwZS5jYWxsKHRoaXMpfWZ1bmN0aW9uIGZhKCl7bXhTaGFwZS5jYWxsKHRoaXMpfWZ1bmN0aW9uIFkoKXtteEN5bGluZGVyLmNhbGwodGhpcyl9ZnVuY3Rpb24gWigpe214Q3lsaW5kZXIuY2FsbCh0aGlzKX1mdW5jdGlvbiBYKCl7bXhSZWN0YW5nbGVTaGFwZS5jYWxsKHRoaXMpfWZ1bmN0aW9uIGFhKCl7bXhEb3VibGVFbGxpcHNlLmNhbGwodGhpcyl9ZnVuY3Rpb24gZ2EoKXtteERvdWJsZUVsbGlwc2UuY2FsbCh0aGlzKX1mdW5jdGlvbiBkYSgpe214QXJyb3dDb25uZWN0b3IuY2FsbCh0aGlzKTsKdGhpcy5zcGFjaW5nPTB9ZnVuY3Rpb24gVCgpe214QXJyb3dDb25uZWN0b3IuY2FsbCh0aGlzKTt0aGlzLnNwYWNpbmc9MH1mdW5jdGlvbiBjYSgpe214QWN0b3IuY2FsbCh0aGlzKX1mdW5jdGlvbiBRKCl7bXhSZWN0YW5nbGVTaGFwZS5jYWxsKHRoaXMpfWZ1bmN0aW9uIEwoKXtteEFjdG9yLmNhbGwodGhpcyl9ZnVuY3Rpb24gamEoKXtteEFjdG9yLmNhbGwodGhpcyl9ZnVuY3Rpb24gUCgpe214QWN0b3IuY2FsbCh0aGlzKX1mdW5jdGlvbiBTKCl7bXhBY3Rvci5jYWxsKHRoaXMpfWZ1bmN0aW9uIGlhKCl7bXhBY3Rvci5jYWxsKHRoaXMpfWZ1bmN0aW9uIHJhKCl7bXhBY3Rvci5jYWxsKHRoaXMpfWZ1bmN0aW9uIE0oKXtteEFjdG9yLmNhbGwodGhpcyl9ZnVuY3Rpb24gbWEoKXtteEFjdG9yLmNhbGwodGhpcyl9ZnVuY3Rpb24gVygpe214QWN0b3IuY2FsbCh0aGlzKX1mdW5jdGlvbiBWKCl7bXhBY3Rvci5jYWxsKHRoaXMpfWZ1bmN0aW9uIHBhKCl7bXhFbGxpcHNlLmNhbGwodGhpcyl9CmZ1bmN0aW9uIHNhKCl7bXhFbGxpcHNlLmNhbGwodGhpcyl9ZnVuY3Rpb24gaGEoKXtteEVsbGlwc2UuY2FsbCh0aGlzKX1mdW5jdGlvbiBxYSgpe214UmhvbWJ1cy5jYWxsKHRoaXMpfWZ1bmN0aW9uIG5hKCl7bXhFbGxpcHNlLmNhbGwodGhpcyl9ZnVuY3Rpb24gemEoKXtteEVsbGlwc2UuY2FsbCh0aGlzKX1mdW5jdGlvbiBCYSgpe214RWxsaXBzZS5jYWxsKHRoaXMpfWZ1bmN0aW9uIG9hKCl7bXhFbGxpcHNlLmNhbGwodGhpcyl9ZnVuY3Rpb24gd2EoKXtteEFjdG9yLmNhbGwodGhpcyl9ZnVuY3Rpb24geGEoKXtteEFjdG9yLmNhbGwodGhpcyl9ZnVuY3Rpb24ga2EoKXtteEFjdG9yLmNhbGwodGhpcyl9ZnVuY3Rpb24gdGEoKXtteENvbm5lY3Rvci5jYWxsKHRoaXMpfWZ1bmN0aW9uIEFhKGEsYixlLGMsZCxmLGcsbCx1LHApe2crPXU7dmFyIGJhPWMuY2xvbmUoKTtjLngtPWQqKDIqZyt1KTtjLnktPWYqKDIqZyt1KTtkKj1nK3U7Zio9Zyt1O3JldHVybiBmdW5jdGlvbigpe2EuZWxsaXBzZShiYS54LQpkLWcsYmEueS1mLWcsMipnLDIqZyk7cD9hLmZpbGxBbmRTdHJva2UoKTphLnN0cm9rZSgpfX1teFV0aWxzLmV4dGVuZChhLG14U3dpbWxhbmUpO2EucHJvdG90eXBlLmdldExhYmVsQm91bmRzPWZ1bmN0aW9uKGEpe3JldHVybiAwPT10aGlzLmdldFRpdGxlU2l6ZSgpP214U2hhcGUucHJvdG90eXBlLmdldExhYmVsQm91bmRzLmFwcGx5KHRoaXMsYXJndW1lbnRzKTpteFN3aW1sYW5lLnByb3RvdHlwZS5nZXRMYWJlbEJvdW5kcy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2EucHJvdG90eXBlLnBhaW50VmVydGV4U2hhcGU9ZnVuY3Rpb24oYSxiLGUsYyxkKXswPT10aGlzLmdldFRpdGxlU2l6ZSgpP214UmVjdGFuZ2xlU2hhcGUucHJvdG90eXBlLnBhaW50QmFja2dyb3VuZC5hcHBseSh0aGlzLGFyZ3VtZW50cyk6KG14U3dpbWxhbmUucHJvdG90eXBlLnBhaW50VmVydGV4U2hhcGUuYXBwbHkodGhpcyxhcmd1bWVudHMpLGEudHJhbnNsYXRlKC1iLC1lKSk7dGhpcy5wYWludEZvcmVncm91bmQoYSwKYixlLGMsZCl9O2EucHJvdG90eXBlLnBhaW50Rm9yZWdyb3VuZD1mdW5jdGlvbihhLGIsZSxjLGQpe2lmKG51bGwhPXRoaXMuc3RhdGUpe3ZhciBmPXRoaXMuZmxpcEgsZz10aGlzLmZsaXBWO2lmKHRoaXMuZGlyZWN0aW9uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEh8fHRoaXMuZGlyZWN0aW9uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEgpdmFyIGJhPWYsZj1nLGc9YmE7YS5yb3RhdGUoLXRoaXMuZ2V0U2hhcGVSb3RhdGlvbigpLGYsZyxiK2MvMixlK2QvMik7cz10aGlzLnNjYWxlO2I9dGhpcy5ib3VuZHMueC9zO2U9dGhpcy5ib3VuZHMueS9zO2M9dGhpcy5ib3VuZHMud2lkdGgvcztkPXRoaXMuYm91bmRzLmhlaWdodC9zO3RoaXMucGFpbnRUYWJsZUZvcmVncm91bmQoYSxiLGUsYyxkKX19O2EucHJvdG90eXBlLnBhaW50VGFibGVGb3JlZ3JvdW5kPWZ1bmN0aW9uKGEsYixlLGMsZCl7dmFyIGY9dGhpcy5zdGF0ZS52aWV3LmdyYXBoLGc9Zi5nZXRBY3R1YWxTdGFydFNpemUodGhpcy5zdGF0ZS5jZWxsKSwKYmE9Zi5tb2RlbC5nZXRDaGlsZENlbGxzKHRoaXMuc3RhdGUuY2VsbCwhMCk7aWYoMDxiYS5sZW5ndGgpe3ZhciBsPSIwIiE9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLCJyb3dMaW5lcyIsIjEiKSx1PSIwIiE9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLCJjb2x1bW5MaW5lcyIsIjEiKTtpZihsKWZvcihsPTE7bDxiYS5sZW5ndGg7bCsrKXt2YXIgcD1mLmdldENlbGxHZW9tZXRyeShiYVtsXSk7bnVsbCE9cCYmKGEuYmVnaW4oKSxhLm1vdmVUbyhiK2cueCxlK3AueSksYS5saW5lVG8oYitjLWcud2lkdGgsZStwLnkpLGEuZW5kKCksYS5zdHJva2UoKSl9aWYodSlmb3IoYz1mLm1vZGVsLmdldENoaWxkQ2VsbHMoYmFbMF0sITApLGw9MTtsPGMubGVuZ3RoO2wrKylwPWYuZ2V0Q2VsbEdlb21ldHJ5KGNbbF0pLG51bGwhPXAmJihhLmJlZ2luKCksYS5tb3ZlVG8oYitwLngrZy54LGUrZy55KSxhLmxpbmVUbyhiK3AueCtnLngsZStkLWcuaGVpZ2h0KSxhLmVuZCgpLAphLnN0cm9rZSgpKX19O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoInRhYmxlIixhKTtteFV0aWxzLmV4dGVuZChjLG14Q3lsaW5kZXIpO2MucHJvdG90eXBlLnNpemU9MjA7Yy5wcm90b3R5cGUuZGFya09wYWNpdHk9MDtjLnByb3RvdHlwZS5kYXJrT3BhY2l0eTI9MDtjLnByb3RvdHlwZS5wYWludFZlcnRleFNoYXBlPWZ1bmN0aW9uKGEsYixlLGMsZCl7dmFyIGY9TWF0aC5tYXgoMCxNYXRoLm1pbihjLE1hdGgubWluKGQscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInNpemUiLHRoaXMuc2l6ZSkpKSkpLGc9TWF0aC5tYXgoLTEsTWF0aC5taW4oMSxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwiZGFya09wYWNpdHkiLHRoaXMuZGFya09wYWNpdHkpKSkpLGJhPU1hdGgubWF4KC0xLE1hdGgubWluKDEscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImRhcmtPcGFjaXR5MiIsdGhpcy5kYXJrT3BhY2l0eTIpKSkpOwphLnRyYW5zbGF0ZShiLGUpO2EuYmVnaW4oKTthLm1vdmVUbygwLDApO2EubGluZVRvKGMtZiwwKTthLmxpbmVUbyhjLGYpO2EubGluZVRvKGMsZCk7YS5saW5lVG8oZixkKTthLmxpbmVUbygwLGQtZik7YS5saW5lVG8oMCwwKTthLmNsb3NlKCk7YS5lbmQoKTthLmZpbGxBbmRTdHJva2UoKTt0aGlzLm91dGxpbmV8fChhLnNldFNoYWRvdyghMSksMCE9ZyYmKGEuc2V0RmlsbEFscGhhKE1hdGguYWJzKGcpKSxhLnNldEZpbGxDb2xvcigwPmc/IiNGRkZGRkYiOiIjMDAwMDAwIiksYS5iZWdpbigpLGEubW92ZVRvKDAsMCksYS5saW5lVG8oYy1mLDApLGEubGluZVRvKGMsZiksYS5saW5lVG8oZixmKSxhLmNsb3NlKCksYS5maWxsKCkpLDAhPWJhJiYoYS5zZXRGaWxsQWxwaGEoTWF0aC5hYnMoYmEpKSxhLnNldEZpbGxDb2xvcigwPmJhPyIjRkZGRkZGIjoiIzAwMDAwMCIpLGEuYmVnaW4oKSxhLm1vdmVUbygwLDApLGEubGluZVRvKGYsZiksYS5saW5lVG8oZixkKSxhLmxpbmVUbygwLGQtCmYpLGEuY2xvc2UoKSxhLmZpbGwoKSksYS5iZWdpbigpLGEubW92ZVRvKGYsZCksYS5saW5lVG8oZixmKSxhLmxpbmVUbygwLDApLGEubW92ZVRvKGYsZiksYS5saW5lVG8oYyxmKSxhLmVuZCgpLGEuc3Ryb2tlKCkpfTtjLnByb3RvdHlwZS5nZXRMYWJlbE1hcmdpbnM9ZnVuY3Rpb24oYSl7cmV0dXJuIG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwiYm91bmRlZExibCIsITEpPyhhPXBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJzaXplIix0aGlzLnNpemUpKSp0aGlzLnNjYWxlLG5ldyBteFJlY3RhbmdsZShhLGEsMCwwKSk6bnVsbH07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgiY3ViZSIsYyk7dmFyIHVhPU1hdGgudGFuKG14VXRpbHMudG9SYWRpYW5zKDMwKSksbGE9KC41LXVhKS8yO214VXRpbHMuZXh0ZW5kKGYsbXhBY3Rvcik7Zi5wcm90b3R5cGUuc2l6ZT0yMDtmLnByb3RvdHlwZS5yZWRyYXdQYXRoPWZ1bmN0aW9uKGEsYixlLGMsZCl7Yj0KTWF0aC5taW4oYyxkL3VhKTthLnRyYW5zbGF0ZSgoYy1iKS8yLChkLWIpLzIrYi80KTthLm1vdmVUbygwLC4yNSpiKTthLmxpbmVUbyguNSpiLGIqbGEpO2EubGluZVRvKGIsLjI1KmIpO2EubGluZVRvKC41KmIsKC41LWxhKSpiKTthLmxpbmVUbygwLC4yNSpiKTthLmNsb3NlKCk7YS5lbmQoKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgiaXNvUmVjdGFuZ2xlIixmKTtteFV0aWxzLmV4dGVuZChkLG14Q3lsaW5kZXIpO2QucHJvdG90eXBlLnNpemU9MjA7ZC5wcm90b3R5cGUucmVkcmF3UGF0aD1mdW5jdGlvbihhLGIsZSxjLGQsZil7Yj1NYXRoLm1pbihjLGQvKC41K3VhKSk7Zj8oYS5tb3ZlVG8oMCwuMjUqYiksYS5saW5lVG8oLjUqYiwoLjUtbGEpKmIpLGEubGluZVRvKGIsLjI1KmIpLGEubW92ZVRvKC41KmIsKC41LWxhKSpiKSxhLmxpbmVUbyguNSpiLCgxLWxhKSpiKSk6KGEudHJhbnNsYXRlKChjLWIpLzIsKGQtYikvMiksYS5tb3ZlVG8oMCwuMjUqYiksYS5saW5lVG8oLjUqCmIsYipsYSksYS5saW5lVG8oYiwuMjUqYiksYS5saW5lVG8oYiwuNzUqYiksYS5saW5lVG8oLjUqYiwoMS1sYSkqYiksYS5saW5lVG8oMCwuNzUqYiksYS5jbG9zZSgpKTthLmVuZCgpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJpc29DdWJlIixkKTtteFV0aWxzLmV4dGVuZChtLG14Q3lsaW5kZXIpO20ucHJvdG90eXBlLnJlZHJhd1BhdGg9ZnVuY3Rpb24oYSxiLGUsYyxkLGYpe2I9TWF0aC5taW4oZC8yLE1hdGgucm91bmQoZC84KSt0aGlzLnN0cm9rZXdpZHRoLTEpO2lmKGYmJm51bGwhPXRoaXMuZmlsbHx8IWYmJm51bGw9PXRoaXMuZmlsbClhLm1vdmVUbygwLGIpLGEuY3VydmVUbygwLDIqYixjLDIqYixjLGIpLGZ8fChhLnN0cm9rZSgpLGEuYmVnaW4oKSksYS50cmFuc2xhdGUoMCxiLzIpLGEubW92ZVRvKDAsYiksYS5jdXJ2ZVRvKDAsMipiLGMsMipiLGMsYiksZnx8KGEuc3Ryb2tlKCksYS5iZWdpbigpKSxhLnRyYW5zbGF0ZSgwLGIvMiksYS5tb3ZlVG8oMCxiKSwKYS5jdXJ2ZVRvKDAsMipiLGMsMipiLGMsYiksZnx8KGEuc3Ryb2tlKCksYS5iZWdpbigpKSxhLnRyYW5zbGF0ZSgwLC1iKTtmfHwoYS5tb3ZlVG8oMCxiKSxhLmN1cnZlVG8oMCwtYi8zLGMsLWIvMyxjLGIpLGEubGluZVRvKGMsZC1iKSxhLmN1cnZlVG8oYyxkK2IvMywwLGQrYi8zLDAsZC1iKSxhLmNsb3NlKCkpfTttLnByb3RvdHlwZS5nZXRMYWJlbE1hcmdpbnM9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBteFJlY3RhbmdsZSgwLDIuNSpNYXRoLm1pbihhLmhlaWdodC8yLE1hdGgucm91bmQoYS5oZWlnaHQvOCkrdGhpcy5zdHJva2V3aWR0aC0xKSwwLDApfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJkYXRhc3RvcmUiLG0pO214VXRpbHMuZXh0ZW5kKGssbXhDeWxpbmRlcik7ay5wcm90b3R5cGUuc2l6ZT0zMDtrLnByb3RvdHlwZS5kYXJrT3BhY2l0eT0wO2sucHJvdG90eXBlLnBhaW50VmVydGV4U2hhcGU9ZnVuY3Rpb24oYSxiLGUsYyxkKXt2YXIgZj1NYXRoLm1heCgwLApNYXRoLm1pbihjLE1hdGgubWluKGQscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInNpemUiLHRoaXMuc2l6ZSkpKSkpLGc9TWF0aC5tYXgoLTEsTWF0aC5taW4oMSxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwiZGFya09wYWNpdHkiLHRoaXMuZGFya09wYWNpdHkpKSkpO2EudHJhbnNsYXRlKGIsZSk7YS5iZWdpbigpO2EubW92ZVRvKDAsMCk7YS5saW5lVG8oYy1mLDApO2EubGluZVRvKGMsZik7YS5saW5lVG8oYyxkKTthLmxpbmVUbygwLGQpO2EubGluZVRvKDAsMCk7YS5jbG9zZSgpO2EuZW5kKCk7YS5maWxsQW5kU3Ryb2tlKCk7dGhpcy5vdXRsaW5lfHwoYS5zZXRTaGFkb3coITEpLDAhPWcmJihhLnNldEZpbGxBbHBoYShNYXRoLmFicyhnKSksYS5zZXRGaWxsQ29sb3IoMD5nPyIjRkZGRkZGIjoiIzAwMDAwMCIpLGEuYmVnaW4oKSxhLm1vdmVUbyhjLWYsMCksYS5saW5lVG8oYy1mLGYpLGEubGluZVRvKGMsZiksYS5jbG9zZSgpLAphLmZpbGwoKSksYS5iZWdpbigpLGEubW92ZVRvKGMtZiwwKSxhLmxpbmVUbyhjLWYsZiksYS5saW5lVG8oYyxmKSxhLmVuZCgpLGEuc3Ryb2tlKCkpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJub3RlIixrKTtteFV0aWxzLmV4dGVuZChxLG14QWN0b3IpO3EucHJvdG90eXBlLnJlZHJhd1BhdGg9ZnVuY3Rpb24oYSxiLGUsYyxkKXthLm1vdmVUbygwLDApO2EucXVhZFRvKGMvMiwuNSpkLGMsMCk7YS5xdWFkVG8oLjUqYyxkLzIsYyxkKTthLnF1YWRUbyhjLzIsLjUqZCwwLGQpO2EucXVhZFRvKC41KmMsZC8yLDAsMCk7YS5lbmQoKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgic3dpdGNoIixxKTtteFV0aWxzLmV4dGVuZChiLG14Q3lsaW5kZXIpO2IucHJvdG90eXBlLnRhYldpZHRoPTYwO2IucHJvdG90eXBlLnRhYkhlaWdodD0yMDtiLnByb3RvdHlwZS50YWJQb3NpdGlvbj0icmlnaHQiO2IucHJvdG90eXBlLnJlZHJhd1BhdGg9ZnVuY3Rpb24oYSxiLGUsYywKZCxmKXtiPU1hdGgubWF4KDAsTWF0aC5taW4oYyxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwidGFiV2lkdGgiLHRoaXMudGFiV2lkdGgpKSkpO2U9TWF0aC5tYXgoMCxNYXRoLm1pbihkLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJ0YWJIZWlnaHQiLHRoaXMudGFiSGVpZ2h0KSkpKTt2YXIgZz1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInRhYlBvc2l0aW9uIix0aGlzLnRhYlBvc2l0aW9uKTtmPyJsZWZ0Ij09Zz8oYS5tb3ZlVG8oMCxlKSxhLmxpbmVUbyhiLGUpKTooYS5tb3ZlVG8oYy1iLGUpLGEubGluZVRvKGMsZSkpOigibGVmdCI9PWc/KGEubW92ZVRvKDAsMCksYS5saW5lVG8oYiwwKSxhLmxpbmVUbyhiLGUpLGEubGluZVRvKGMsZSkpOihhLm1vdmVUbygwLGUpLGEubGluZVRvKGMtYixlKSxhLmxpbmVUbyhjLWIsMCksYS5saW5lVG8oYywwKSksYS5saW5lVG8oYyxkKSxhLmxpbmVUbygwLGQpLGEubGluZVRvKDAsCmUpLGEuY2xvc2UoKSk7YS5lbmQoKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgiZm9sZGVyIixiKTtteFV0aWxzLmV4dGVuZChlLG14QWN0b3IpO2UucHJvdG90eXBlLnNpemU9MzA7ZS5wcm90b3R5cGUuaXNSb3VuZGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4hMH07ZS5wcm90b3R5cGUucmVkcmF3UGF0aD1mdW5jdGlvbihhLGIsZSxjLGQpe2I9TWF0aC5tYXgoMCxNYXRoLm1pbihjLE1hdGgubWluKGQscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInNpemUiLHRoaXMuc2l6ZSkpKSkpO2U9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FSQ1NJWkUsbXhDb25zdGFudHMuTElORV9BUkNTSVpFKS8yO3RoaXMuYWRkUG9pbnRzKGEsW25ldyBteFBvaW50KGIsMCksbmV3IG14UG9pbnQoYywwKSxuZXcgbXhQb2ludChjLGQpLG5ldyBteFBvaW50KDAsZCksbmV3IG14UG9pbnQoMCxiKV0sdGhpcy5pc1JvdW5kZWQsZSwhMCk7CmEuZW5kKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoImNhcmQiLGUpO214VXRpbHMuZXh0ZW5kKGcsbXhBY3Rvcik7Zy5wcm90b3R5cGUuc2l6ZT0uNDtnLnByb3RvdHlwZS5yZWRyYXdQYXRoPWZ1bmN0aW9uKGEsYixlLGMsZCl7Yj1kKk1hdGgubWF4KDAsTWF0aC5taW4oMSxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwic2l6ZSIsdGhpcy5zaXplKSkpKTthLm1vdmVUbygwLGIvMik7YS5xdWFkVG8oYy80LDEuNCpiLGMvMixiLzIpO2EucXVhZFRvKDMqYy80LGIqKDEtMS40KSxjLGIvMik7YS5saW5lVG8oYyxkLWIvMik7YS5xdWFkVG8oMypjLzQsZC0xLjQqYixjLzIsZC1iLzIpO2EucXVhZFRvKGMvNCxkLWIqKDEtMS40KSwwLGQtYi8yKTthLmxpbmVUbygwLGIvMik7YS5jbG9zZSgpO2EuZW5kKCl9O2cucHJvdG90eXBlLmdldExhYmVsQm91bmRzPWZ1bmN0aW9uKGEpe2lmKG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwiYm91bmRlZExibCIsCiExKSl7dmFyIGI9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJzaXplIix0aGlzLnNpemUpLGU9YS53aWR0aCxjPWEuaGVpZ2h0O2lmKG51bGw9PXRoaXMuZGlyZWN0aW9ufHx0aGlzLmRpcmVjdGlvbj09bXhDb25zdGFudHMuRElSRUNUSU9OX0VBU1R8fHRoaXMuZGlyZWN0aW9uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fV0VTVClyZXR1cm4gYio9YyxuZXcgbXhSZWN0YW5nbGUoYS54LGEueStiLGUsYy0yKmIpO2IqPWU7cmV0dXJuIG5ldyBteFJlY3RhbmdsZShhLngrYixhLnksZS0yKmIsYyl9cmV0dXJuIGF9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoInRhcGUiLGcpO214VXRpbHMuZXh0ZW5kKHAsbXhBY3Rvcik7cC5wcm90b3R5cGUuc2l6ZT0uMztwLnByb3RvdHlwZS5nZXRMYWJlbE1hcmdpbnM9ZnVuY3Rpb24oYSl7cmV0dXJuIG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwiYm91bmRlZExibCIsITEpP25ldyBteFJlY3RhbmdsZSgwLDAsMCxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwKInNpemUiLHRoaXMuc2l6ZSkpKmEuaGVpZ2h0KTpudWxsfTtwLnByb3RvdHlwZS5yZWRyYXdQYXRoPWZ1bmN0aW9uKGEsYixlLGMsZCl7Yj1kKk1hdGgubWF4KDAsTWF0aC5taW4oMSxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwic2l6ZSIsdGhpcy5zaXplKSkpKTthLm1vdmVUbygwLDApO2EubGluZVRvKGMsMCk7YS5saW5lVG8oYyxkLWIvMik7YS5xdWFkVG8oMypjLzQsZC0xLjQqYixjLzIsZC1iLzIpO2EucXVhZFRvKGMvNCxkLWIqKDEtMS40KSwwLGQtYi8yKTthLmxpbmVUbygwLGIvMik7YS5jbG9zZSgpO2EuZW5kKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoImRvY3VtZW50IixwKTt2YXIgSWE9bXhDeWxpbmRlci5wcm90b3R5cGUuZ2V0Q3lsaW5kZXJTaXplO214Q3lsaW5kZXIucHJvdG90eXBlLmdldEN5bGluZGVyU2l6ZT1mdW5jdGlvbihhLGIsZSxjKXt2YXIgZD1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInNpemUiKTtyZXR1cm4gbnVsbCE9CmQ/YypNYXRoLm1heCgwLE1hdGgubWluKDEsZCkpOklhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07bXhDeWxpbmRlci5wcm90b3R5cGUuZ2V0TGFiZWxNYXJnaW5zPWZ1bmN0aW9uKGEpe2lmKG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwiYm91bmRlZExibCIsITEpKXt2YXIgYj0yKm14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwic2l6ZSIsLjE1KTtyZXR1cm4gbmV3IG14UmVjdGFuZ2xlKDAsTWF0aC5taW4odGhpcy5tYXhIZWlnaHQqdGhpcy5zY2FsZSxhLmhlaWdodCpiKSwwLDApfXJldHVybiBudWxsfTtteFV0aWxzLmV4dGVuZChsLG14QWN0b3IpO2wucHJvdG90eXBlLnNpemU9LjI7bC5wcm90b3R5cGUuaXNSb3VuZGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4hMH07bC5wcm90b3R5cGUucmVkcmF3UGF0aD1mdW5jdGlvbihhLGIsZSxjLGQpe2I9YypNYXRoLm1heCgwLE1hdGgubWluKDEscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInNpemUiLHRoaXMuc2l6ZSkpKSk7CmU9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FSQ1NJWkUsbXhDb25zdGFudHMuTElORV9BUkNTSVpFKS8yO3RoaXMuYWRkUG9pbnRzKGEsW25ldyBteFBvaW50KDAsZCksbmV3IG14UG9pbnQoYiwwKSxuZXcgbXhQb2ludChjLDApLG5ldyBteFBvaW50KGMtYixkKV0sdGhpcy5pc1JvdW5kZWQsZSwhMCk7YS5lbmQoKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgicGFyYWxsZWxvZ3JhbSIsbCk7bXhVdGlscy5leHRlbmQobixteEFjdG9yKTtuLnByb3RvdHlwZS5zaXplPS4yO24ucHJvdG90eXBlLmlzUm91bmRhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuITB9O24ucHJvdG90eXBlLnJlZHJhd1BhdGg9ZnVuY3Rpb24oYSxiLGUsYyxkKXtiPWMqTWF0aC5tYXgoMCxNYXRoLm1pbiguNSxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwic2l6ZSIsdGhpcy5zaXplKSkpKTtlPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwKbXhDb25zdGFudHMuU1RZTEVfQVJDU0laRSxteENvbnN0YW50cy5MSU5FX0FSQ1NJWkUpLzI7dGhpcy5hZGRQb2ludHMoYSxbbmV3IG14UG9pbnQoMCxkKSxuZXcgbXhQb2ludChiLDApLG5ldyBteFBvaW50KGMtYiwwKSxuZXcgbXhQb2ludChjLGQpXSx0aGlzLmlzUm91bmRlZCxlLCEwKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgidHJhcGV6b2lkIixuKTtteFV0aWxzLmV4dGVuZCh2LG14QWN0b3IpO3YucHJvdG90eXBlLnNpemU9LjU7di5wcm90b3R5cGUucmVkcmF3UGF0aD1mdW5jdGlvbihhLGIsZSxjLGQpe2Euc2V0RmlsbENvbG9yKG51bGwpO2I9YypNYXRoLm1heCgwLE1hdGgubWluKDEscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInNpemUiLHRoaXMuc2l6ZSkpKSk7ZT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQVJDU0laRSxteENvbnN0YW50cy5MSU5FX0FSQ1NJWkUpLzI7dGhpcy5hZGRQb2ludHMoYSwKW25ldyBteFBvaW50KGMsMCksbmV3IG14UG9pbnQoYiwwKSxuZXcgbXhQb2ludChiLGQvMiksbmV3IG14UG9pbnQoMCxkLzIpLG5ldyBteFBvaW50KGIsZC8yKSxuZXcgbXhQb2ludChiLGQpLG5ldyBteFBvaW50KGMsZCldLHRoaXMuaXNSb3VuZGVkLGUsITEpO2EuZW5kKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoImN1cmx5QnJhY2tldCIsdik7bXhVdGlscy5leHRlbmQodCxteEFjdG9yKTt0LnByb3RvdHlwZS5yZWRyYXdQYXRoPWZ1bmN0aW9uKGEsYixlLGMsZCl7YS5zZXRTdHJva2VXaWR0aCgxKTthLnNldEZpbGxDb2xvcih0aGlzLnN0cm9rZSk7Yj1jLzU7YS5yZWN0KDAsMCxiLGQpO2EuZmlsbEFuZFN0cm9rZSgpO2EucmVjdCgyKmIsMCxiLGQpO2EuZmlsbEFuZFN0cm9rZSgpO2EucmVjdCg0KmIsMCxiLGQpO2EuZmlsbEFuZFN0cm9rZSgpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJwYXJhbGxlbE1hcmtlciIsdCk7eC5wcm90b3R5cGUubW92ZVRvPQpmdW5jdGlvbihhLGIpe3RoaXMub3JpZ2luYWxNb3ZlVG8uYXBwbHkodGhpcy5jYW52YXMsYXJndW1lbnRzKTt0aGlzLmxhc3RYPWE7dGhpcy5sYXN0WT1iO3RoaXMuZmlyc3RYPWE7dGhpcy5maXJzdFk9Yn07eC5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXtudWxsIT10aGlzLmZpcnN0WCYmbnVsbCE9dGhpcy5maXJzdFkmJih0aGlzLmxpbmVUbyh0aGlzLmZpcnN0WCx0aGlzLmZpcnN0WSksdGhpcy5vcmlnaW5hbENsb3NlLmFwcGx5KHRoaXMuY2FudmFzLGFyZ3VtZW50cykpO3RoaXMub3JpZ2luYWxDbG9zZS5hcHBseSh0aGlzLmNhbnZhcyxhcmd1bWVudHMpfTt4LnByb3RvdHlwZS5xdWFkVG89ZnVuY3Rpb24oYSxiLGUsYyl7dGhpcy5vcmlnaW5hbFF1YWRUby5hcHBseSh0aGlzLmNhbnZhcyxhcmd1bWVudHMpO3RoaXMubGFzdFg9ZTt0aGlzLmxhc3RZPWN9O3gucHJvdG90eXBlLmN1cnZlVG89ZnVuY3Rpb24oYSxiLGUsYyxkLGYpe3RoaXMub3JpZ2luYWxDdXJ2ZVRvLmFwcGx5KHRoaXMuY2FudmFzLAphcmd1bWVudHMpO3RoaXMubGFzdFg9ZDt0aGlzLmxhc3RZPWZ9O3gucHJvdG90eXBlLmFyY1RvPWZ1bmN0aW9uKGEsYixlLGMsZCxmLGcpe3RoaXMub3JpZ2luYWxBcmNUby5hcHBseSh0aGlzLmNhbnZhcyxhcmd1bWVudHMpO3RoaXMubGFzdFg9Zjt0aGlzLmxhc3RZPWd9O3gucHJvdG90eXBlLmxpbmVUbz1mdW5jdGlvbihhLGIpe2lmKG51bGwhPXRoaXMubGFzdFgmJm51bGwhPXRoaXMubGFzdFkpe3ZhciBlPWZ1bmN0aW9uKGEpe3JldHVybiJudW1iZXIiPT09dHlwZW9mIGE/YT8wPmE/LTE6MTphPT09YT8wOk5hTjpOYU59LGM9TWF0aC5hYnMoYS10aGlzLmxhc3RYKSxkPU1hdGguYWJzKGItdGhpcy5sYXN0WSksZj1NYXRoLnNxcnQoYypjK2QqZCk7aWYoMj5mKXt0aGlzLm9yaWdpbmFsTGluZVRvLmFwcGx5KHRoaXMuY2FudmFzLGFyZ3VtZW50cyk7dGhpcy5sYXN0WD1hO3RoaXMubGFzdFk9YjtyZXR1cm59dmFyIGc9TWF0aC5yb3VuZChmLzEwKSxsPXRoaXMuZGVmYXVsdFZhcmlhdGlvbjsKNT5nJiYoZz01LGwvPTMpO2Zvcih2YXIgYmE9ZShhLXRoaXMubGFzdFgpKmMvZyxlPWUoYi10aGlzLmxhc3RZKSpkL2csYz1jL2YsZD1kL2YsZj0wO2Y8ZztmKyspe3ZhciB1PShNYXRoLnJhbmRvbSgpLS41KSpsO3RoaXMub3JpZ2luYWxMaW5lVG8uY2FsbCh0aGlzLmNhbnZhcyxiYSpmK3RoaXMubGFzdFgtdSpkLGUqZit0aGlzLmxhc3RZLXUqYyl9dGhpcy5vcmlnaW5hbExpbmVUby5jYWxsKHRoaXMuY2FudmFzLGEsYil9ZWxzZSB0aGlzLm9yaWdpbmFsTGluZVRvLmFwcGx5KHRoaXMuY2FudmFzLGFyZ3VtZW50cyk7dGhpcy5sYXN0WD1hO3RoaXMubGFzdFk9Yn07eC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuY2FudmFzLmxpbmVUbz10aGlzLm9yaWdpbmFsTGluZVRvO3RoaXMuY2FudmFzLm1vdmVUbz10aGlzLm9yaWdpbmFsTW92ZVRvO3RoaXMuY2FudmFzLmNsb3NlPXRoaXMub3JpZ2luYWxDbG9zZTt0aGlzLmNhbnZhcy5xdWFkVG89dGhpcy5vcmlnaW5hbFF1YWRUbzsKdGhpcy5jYW52YXMuY3VydmVUbz10aGlzLm9yaWdpbmFsQ3VydmVUbzt0aGlzLmNhbnZhcy5hcmNUbz10aGlzLm9yaWdpbmFsQXJjVG99O3ZhciBKYT1teFNoYXBlLnByb3RvdHlwZS5wYWludDtteFNoYXBlLnByb3RvdHlwZS5kZWZhdWx0SmlnZ2xlPTEuNTtteFNoYXBlLnByb3RvdHlwZS5wYWludD1mdW5jdGlvbihhKXthLmhhbmRKaWdnbGU9dGhpcy5jcmVhdGVIYW5kSmlnZ2xlKGEpO0phLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtudWxsIT1hLmhhbmRKaWdnbGUmJihhLmhhbmRKaWdnbGUuZGVzdHJveSgpLGRlbGV0ZSBhLmhhbmRKaWdnbGUpfTtteFNoYXBlLnByb3RvdHlwZS5jcmVhdGVDb21pY0NhbnZhcz1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IHgoYSxteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImppZ2dsZSIsdGhpcy5kZWZhdWx0SmlnZ2xlKSl9O214U2hhcGUucHJvdG90eXBlLmNyZWF0ZUhhbmRKaWdnbGU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMub3V0bGluZXx8Cm51bGwhPWEuaGFuZEhpZ2dsZXx8bnVsbD09dGhpcy5zdHlsZXx8IjAiPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImNvbWljIiwiMCIpP251bGw6dGhpcy5jcmVhdGVDb21pY0NhbnZhcyhhKX07bXhSaG9tYnVzLnByb3RvdHlwZS5kZWZhdWx0SmlnZ2xlPTI7dmFyIFBhPW14UmVjdGFuZ2xlU2hhcGUucHJvdG90eXBlLmlzSHRtbEFsbG93ZWQ7bXhSZWN0YW5nbGVTaGFwZS5wcm90b3R5cGUuaXNIdG1sQWxsb3dlZD1mdW5jdGlvbigpe3JldHVybiF0aGlzLm91dGxpbmUmJihudWxsPT10aGlzLnN0eWxlfHwiMCI9PW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwiY29taWMiLCIwIikmJiIwIj09bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJza2V0Y2giLCIxIj09dXJsUGFyYW1zLnJvdWdoPyIxIjoiMCIpKSYmUGEuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt2YXIgUWE9bXhSZWN0YW5nbGVTaGFwZS5wcm90b3R5cGUucGFpbnRCYWNrZ3JvdW5kO214UmVjdGFuZ2xlU2hhcGUucHJvdG90eXBlLnBhaW50QmFja2dyb3VuZD0KZnVuY3Rpb24oYSxiLGUsYyxkKXtpZihudWxsPT1hLmhhbmRKaWdnbGUpUWEuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Vsc2V7dmFyIGY9ITA7bnVsbCE9dGhpcy5zdHlsZSYmKGY9IjEiPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfUE9JTlRFUl9FVkVOVFMsIjEiKSk7aWYoZnx8bnVsbCE9dGhpcy5maWxsJiZ0aGlzLmZpbGwhPW14Q29uc3RhbnRzLk5PTkV8fG51bGwhPXRoaXMuc3Ryb2tlJiZ0aGlzLnN0cm9rZSE9bXhDb25zdGFudHMuTk9ORSlmfHxudWxsIT10aGlzLmZpbGwmJnRoaXMuZmlsbCE9bXhDb25zdGFudHMuTk9ORXx8KGEucG9pbnRlckV2ZW50cz0hMSksYS5iZWdpbigpLHRoaXMuaXNSb3VuZGVkPygiMSI9PW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9BQlNPTFVURV9BUkNTSVpFLDApP2Y9TWF0aC5taW4oYy8yLE1hdGgubWluKGQvMixteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQVJDU0laRSwKbXhDb25zdGFudHMuTElORV9BUkNTSVpFKS8yKSk6KGY9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FSQ1NJWkUsMTAwKm14Q29uc3RhbnRzLlJFQ1RBTkdMRV9ST1VORElOR19GQUNUT1IpLzEwMCxmPU1hdGgubWluKGMqZixkKmYpKSxhLm1vdmVUbyhiK2YsZSksYS5saW5lVG8oYitjLWYsZSksYS5xdWFkVG8oYitjLGUsYitjLGUrZiksYS5saW5lVG8oYitjLGUrZC1mKSxhLnF1YWRUbyhiK2MsZStkLGIrYy1mLGUrZCksYS5saW5lVG8oYitmLGUrZCksYS5xdWFkVG8oYixlK2QsYixlK2QtZiksYS5saW5lVG8oYixlK2YpLGEucXVhZFRvKGIsZSxiK2YsZSkpOihhLm1vdmVUbyhiLGUpLGEubGluZVRvKGIrYyxlKSxhLmxpbmVUbyhiK2MsZStkKSxhLmxpbmVUbyhiLGUrZCksYS5saW5lVG8oYixlKSksYS5jbG9zZSgpLGEuZW5kKCksYS5maWxsQW5kU3Ryb2tlKCl9fTt2YXIgUmE9bXhSZWN0YW5nbGVTaGFwZS5wcm90b3R5cGUucGFpbnRGb3JlZ3JvdW5kOwpteFJlY3RhbmdsZVNoYXBlLnByb3RvdHlwZS5wYWludEZvcmVncm91bmQ9ZnVuY3Rpb24oYSxiLGUsYyxkKXtudWxsPT1hLmhhbmRKaWdnbGUmJlJhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07bXhVdGlscy5leHRlbmQoQSxteFJlY3RhbmdsZVNoYXBlKTtBLnByb3RvdHlwZS5zaXplPS4xO0EucHJvdG90eXBlLmlzSHRtbEFsbG93ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX07QS5wcm90b3R5cGUuZ2V0TGFiZWxCb3VuZHM9ZnVuY3Rpb24oYSl7aWYobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0hPUklaT05UQUwsITApPT0obnVsbD09dGhpcy5kaXJlY3Rpb258fHRoaXMuZGlyZWN0aW9uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fRUFTVHx8dGhpcy5kaXJlY3Rpb249PW14Q29uc3RhbnRzLkRJUkVDVElPTl9XRVNUKSl7dmFyIGI9YS53aWR0aCxlPWEuaGVpZ2h0O2E9bmV3IG14UmVjdGFuZ2xlKGEueCxhLnksYixlKTt2YXIgYz1iKk1hdGgubWF4KDAsCk1hdGgubWluKDEscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInNpemUiLHRoaXMuc2l6ZSkpKSk7aWYodGhpcy5pc1JvdW5kZWQpdmFyIGQ9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FSQ1NJWkUsMTAwKm14Q29uc3RhbnRzLlJFQ1RBTkdMRV9ST1VORElOR19GQUNUT1IpLzEwMCxjPU1hdGgubWF4KGMsTWF0aC5taW4oYipkLGUqZCkpO2EueCs9TWF0aC5yb3VuZChjKTthLndpZHRoLT1NYXRoLnJvdW5kKDIqYyl9cmV0dXJuIGF9O0EucHJvdG90eXBlLnBhaW50Rm9yZWdyb3VuZD1mdW5jdGlvbihhLGIsZSxjLGQpe3ZhciBmPWMqTWF0aC5tYXgoMCxNYXRoLm1pbigxLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJzaXplIix0aGlzLnNpemUpKSkpO2lmKHRoaXMuaXNSb3VuZGVkKXZhciBnPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9BUkNTSVpFLDEwMCoKbXhDb25zdGFudHMuUkVDVEFOR0xFX1JPVU5ESU5HX0ZBQ1RPUikvMTAwLGY9TWF0aC5tYXgoZixNYXRoLm1pbihjKmcsZCpnKSk7Zj1NYXRoLnJvdW5kKGYpO2EuYmVnaW4oKTthLm1vdmVUbyhiK2YsZSk7YS5saW5lVG8oYitmLGUrZCk7YS5tb3ZlVG8oYitjLWYsZSk7YS5saW5lVG8oYitjLWYsZStkKTthLmVuZCgpO2Euc3Ryb2tlKCk7bXhSZWN0YW5nbGVTaGFwZS5wcm90b3R5cGUucGFpbnRGb3JlZ3JvdW5kLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgicHJvY2VzcyIsQSk7bXhVdGlscy5leHRlbmQoRCxteFJlY3RhbmdsZVNoYXBlKTtELnByb3RvdHlwZS5wYWludEJhY2tncm91bmQ9ZnVuY3Rpb24oYSxiLGUsYyxkKXthLnNldEZpbGxDb2xvcihteENvbnN0YW50cy5OT05FKTthLnJlY3QoYixlLGMsZCk7YS5maWxsKCl9O0QucHJvdG90eXBlLnBhaW50Rm9yZWdyb3VuZD1mdW5jdGlvbihhLGIsZSxjLGQpe307bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgidHJhbnNwYXJlbnQiLApEKTtteFV0aWxzLmV4dGVuZChCLG14SGV4YWdvbik7Qi5wcm90b3R5cGUuc2l6ZT0zMDtCLnByb3RvdHlwZS5wb3NpdGlvbj0uNTtCLnByb3RvdHlwZS5wb3NpdGlvbjI9LjU7Qi5wcm90b3R5cGUuYmFzZT0yMDtCLnByb3RvdHlwZS5nZXRMYWJlbE1hcmdpbnM9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG14UmVjdGFuZ2xlKDAsMCwwLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJzaXplIix0aGlzLnNpemUpKSp0aGlzLnNjYWxlKX07Qi5wcm90b3R5cGUuaXNSb3VuZGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4hMH07Qi5wcm90b3R5cGUucmVkcmF3UGF0aD1mdW5jdGlvbihhLGIsZSxjLGQpe2I9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FSQ1NJWkUsbXhDb25zdGFudHMuTElORV9BUkNTSVpFKS8yO2U9TWF0aC5tYXgoMCxNYXRoLm1pbihkLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJzaXplIiwKdGhpcy5zaXplKSkpKTt2YXIgZj1jKk1hdGgubWF4KDAsTWF0aC5taW4oMSxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwicG9zaXRpb24iLHRoaXMucG9zaXRpb24pKSkpLGc9YypNYXRoLm1heCgwLE1hdGgubWluKDEscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInBvc2l0aW9uMiIsdGhpcy5wb3NpdGlvbjIpKSkpLGw9TWF0aC5tYXgoMCxNYXRoLm1pbihjLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJiYXNlIix0aGlzLmJhc2UpKSkpO3RoaXMuYWRkUG9pbnRzKGEsW25ldyBteFBvaW50KDAsMCksbmV3IG14UG9pbnQoYywwKSxuZXcgbXhQb2ludChjLGQtZSksbmV3IG14UG9pbnQoTWF0aC5taW4oYyxmK2wpLGQtZSksbmV3IG14UG9pbnQoZyxkKSxuZXcgbXhQb2ludChNYXRoLm1heCgwLGYpLGQtZSksbmV3IG14UG9pbnQoMCxkLWUpXSx0aGlzLmlzUm91bmRlZCxiLCEwLFs0XSl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoImNhbGxvdXQiLApCKTtteFV0aWxzLmV4dGVuZChDLG14QWN0b3IpO0MucHJvdG90eXBlLnNpemU9LjI7Qy5wcm90b3R5cGUuZml4ZWRTaXplPTIwO0MucHJvdG90eXBlLmlzUm91bmRhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuITB9O0MucHJvdG90eXBlLnJlZHJhd1BhdGg9ZnVuY3Rpb24oYSxiLGUsYyxkKXtiPSIwIiE9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJmaXhlZFNpemUiLCIwIik/TWF0aC5tYXgoMCxNYXRoLm1pbihjLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJzaXplIix0aGlzLmZpeGVkU2l6ZSkpKSk6YypNYXRoLm1heCgwLE1hdGgubWluKDEscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInNpemUiLHRoaXMuc2l6ZSkpKSk7ZT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQVJDU0laRSxteENvbnN0YW50cy5MSU5FX0FSQ1NJWkUpLzI7dGhpcy5hZGRQb2ludHMoYSxbbmV3IG14UG9pbnQoMCwKMCksbmV3IG14UG9pbnQoYy1iLDApLG5ldyBteFBvaW50KGMsZC8yKSxuZXcgbXhQb2ludChjLWIsZCksbmV3IG14UG9pbnQoMCxkKSxuZXcgbXhQb2ludChiLGQvMildLHRoaXMuaXNSb3VuZGVkLGUsITApO2EuZW5kKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoInN0ZXAiLEMpO214VXRpbHMuZXh0ZW5kKHosbXhIZXhhZ29uKTt6LnByb3RvdHlwZS5zaXplPS4yNTt6LnByb3RvdHlwZS5pc1JvdW5kYWJsZT1mdW5jdGlvbigpe3JldHVybiEwfTt6LnByb3RvdHlwZS5yZWRyYXdQYXRoPWZ1bmN0aW9uKGEsYixlLGMsZCl7Yj1jKk1hdGgubWF4KDAsTWF0aC5taW4oMSxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwic2l6ZSIsdGhpcy5zaXplKSkpKTtlPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9BUkNTSVpFLG14Q29uc3RhbnRzLkxJTkVfQVJDU0laRSkvMjt0aGlzLmFkZFBvaW50cyhhLFtuZXcgbXhQb2ludChiLAowKSxuZXcgbXhQb2ludChjLWIsMCksbmV3IG14UG9pbnQoYywuNSpkKSxuZXcgbXhQb2ludChjLWIsZCksbmV3IG14UG9pbnQoYixkKSxuZXcgbXhQb2ludCgwLC41KmQpXSx0aGlzLmlzUm91bmRlZCxlLCEwKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgiaGV4YWdvbiIseik7bXhVdGlscy5leHRlbmQoRSxteFJlY3RhbmdsZVNoYXBlKTtFLnByb3RvdHlwZS5pc0h0bWxBbGxvd2VkPWZ1bmN0aW9uKCl7cmV0dXJuITF9O0UucHJvdG90eXBlLnBhaW50Rm9yZWdyb3VuZD1mdW5jdGlvbihhLGIsZSxjLGQpe3ZhciBmPU1hdGgubWluKGMvNSxkLzUpKzE7YS5iZWdpbigpO2EubW92ZVRvKGIrYy8yLGUrZik7YS5saW5lVG8oYitjLzIsZStkLWYpO2EubW92ZVRvKGIrZixlK2QvMik7YS5saW5lVG8oYitjLWYsZStkLzIpO2EuZW5kKCk7YS5zdHJva2UoKTtteFJlY3RhbmdsZVNoYXBlLnByb3RvdHlwZS5wYWludEZvcmVncm91bmQuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJwbHVzIiwKRSk7dmFyIE5hPW14UmhvbWJ1cy5wcm90b3R5cGUucGFpbnRWZXJ0ZXhTaGFwZTtteFJob21idXMucHJvdG90eXBlLmdldExhYmVsQm91bmRzPWZ1bmN0aW9uKGEpe2lmKDE9PXRoaXMuc3R5bGVbImRvdWJsZSJdKXt2YXIgYj0oMipNYXRoLm1heCgyLHRoaXMuc3Ryb2tld2lkdGgrMSkrcGFyc2VGbG9hdCh0aGlzLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX01BUkdJTl18fDApKSp0aGlzLnNjYWxlO3JldHVybiBuZXcgbXhSZWN0YW5nbGUoYS54K2IsYS55K2IsYS53aWR0aC0yKmIsYS5oZWlnaHQtMipiKX1yZXR1cm4gYX07bXhSaG9tYnVzLnByb3RvdHlwZS5wYWludFZlcnRleFNoYXBlPWZ1bmN0aW9uKGEsYixlLGMsZCl7TmEuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKCF0aGlzLm91dGxpbmUmJjE9PXRoaXMuc3R5bGVbImRvdWJsZSJdKXt2YXIgZj0yKk1hdGgubWF4KDIsdGhpcy5zdHJva2V3aWR0aCsxKStwYXJzZUZsb2F0KHRoaXMuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfTUFSR0lOXXx8CjApO2IrPWY7ZSs9ZjtjLT0yKmY7ZC09MipmOzA8YyYmMDxkJiYoYS5zZXRTaGFkb3coITEpLE5hLmFwcGx5KHRoaXMsW2EsYixlLGMsZF0pKX19O214VXRpbHMuZXh0ZW5kKEcsbXhSZWN0YW5nbGVTaGFwZSk7Ry5wcm90b3R5cGUuaXNIdG1sQWxsb3dlZD1mdW5jdGlvbigpe3JldHVybiExfTtHLnByb3RvdHlwZS5nZXRMYWJlbEJvdW5kcz1mdW5jdGlvbihhKXtpZigxPT10aGlzLnN0eWxlWyJkb3VibGUiXSl7dmFyIGI9KE1hdGgubWF4KDIsdGhpcy5zdHJva2V3aWR0aCsxKStwYXJzZUZsb2F0KHRoaXMuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfTUFSR0lOXXx8MCkpKnRoaXMuc2NhbGU7cmV0dXJuIG5ldyBteFJlY3RhbmdsZShhLngrYixhLnkrYixhLndpZHRoLTIqYixhLmhlaWdodC0yKmIpfXJldHVybiBhfTtHLnByb3RvdHlwZS5wYWludEZvcmVncm91bmQ9ZnVuY3Rpb24oYSxiLGUsYyxkKXtpZihudWxsIT10aGlzLnN0eWxlKXtpZighdGhpcy5vdXRsaW5lJiYxPT10aGlzLnN0eWxlWyJkb3VibGUiXSl7dmFyIGY9Ck1hdGgubWF4KDIsdGhpcy5zdHJva2V3aWR0aCsxKStwYXJzZUZsb2F0KHRoaXMuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfTUFSR0lOXXx8MCk7Yis9ZjtlKz1mO2MtPTIqZjtkLT0yKmY7MDxjJiYwPGQmJm14UmVjdGFuZ2xlU2hhcGUucHJvdG90eXBlLnBhaW50QmFja2dyb3VuZC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9YS5zZXREYXNoZWQoITEpO3ZhciBmPTAsZztkb3tnPW14Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXNbdGhpcy5zdHlsZVsic3ltYm9sIitmXV07aWYobnVsbCE9Zyl7dmFyIGw9dGhpcy5zdHlsZVsic3ltYm9sIitmKyJBbGlnbiJdLHU9dGhpcy5zdHlsZVsic3ltYm9sIitmKyJWZXJ0aWNhbEFsaWduIl0sYmE9dGhpcy5zdHlsZVsic3ltYm9sIitmKyJXaWR0aCJdLHA9dGhpcy5zdHlsZVsic3ltYm9sIitmKyJIZWlnaHQiXSxuPXRoaXMuc3R5bGVbInN5bWJvbCIrZisiU3BhY2luZyJdfHwwLHk9dGhpcy5zdHlsZVsic3ltYm9sIitmKyJWU3BhY2luZyJdfHxuLAp0PXRoaXMuc3R5bGVbInN5bWJvbCIrZisiQXJjU3BhY2luZyJdO251bGwhPXQmJih0Kj10aGlzLmdldEFyY1NpemUoYyt0aGlzLnN0cm9rZXdpZHRoLGQrdGhpcy5zdHJva2V3aWR0aCksbis9dCx5Kz10KTt2YXIgdD1iLGs9ZSx0PWw9PW14Q29uc3RhbnRzLkFMSUdOX0NFTlRFUj90KyhjLWJhKS8yOmw9PW14Q29uc3RhbnRzLkFMSUdOX1JJR0hUP3QrKGMtYmEtbik6dCtuLGs9dT09bXhDb25zdGFudHMuQUxJR05fTUlERExFP2srKGQtcCkvMjp1PT1teENvbnN0YW50cy5BTElHTl9CT1RUT00/aysoZC1wLXkpOmsreTthLnNhdmUoKTtsPW5ldyBnO2wuc3R5bGU9dGhpcy5zdHlsZTtnLnByb3RvdHlwZS5wYWludFZlcnRleFNoYXBlLmNhbGwobCxhLHQsayxiYSxwKTthLnJlc3RvcmUoKX1mKyt9d2hpbGUobnVsbCE9Zyl9bXhSZWN0YW5nbGVTaGFwZS5wcm90b3R5cGUucGFpbnRGb3JlZ3JvdW5kLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgiZXh0IiwKRyk7bXhVdGlscy5leHRlbmQoRixteEN5bGluZGVyKTtGLnByb3RvdHlwZS5yZWRyYXdQYXRoPWZ1bmN0aW9uKGEsYixlLGMsZCxmKXtmPyhhLm1vdmVUbygwLDApLGEubGluZVRvKGMvMixkLzIpLGEubGluZVRvKGMsMCksYS5lbmQoKSk6KGEubW92ZVRvKDAsMCksYS5saW5lVG8oYywwKSxhLmxpbmVUbyhjLGQpLGEubGluZVRvKDAsZCksYS5jbG9zZSgpKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgibWVzc2FnZSIsRik7bXhVdGlscy5leHRlbmQoSSxteFNoYXBlKTtJLnByb3RvdHlwZS5wYWludEJhY2tncm91bmQ9ZnVuY3Rpb24oYSxiLGUsYyxkKXthLnRyYW5zbGF0ZShiLGUpO2EuZWxsaXBzZShjLzQsMCxjLzIsZC80KTthLmZpbGxBbmRTdHJva2UoKTthLmJlZ2luKCk7YS5tb3ZlVG8oYy8yLGQvNCk7YS5saW5lVG8oYy8yLDIqZC8zKTthLm1vdmVUbyhjLzIsZC8zKTthLmxpbmVUbygwLGQvMyk7YS5tb3ZlVG8oYy8yLGQvMyk7YS5saW5lVG8oYyxkLzMpO2EubW92ZVRvKGMvCjIsMipkLzMpO2EubGluZVRvKDAsZCk7YS5tb3ZlVG8oYy8yLDIqZC8zKTthLmxpbmVUbyhjLGQpO2EuZW5kKCk7YS5zdHJva2UoKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgidW1sQWN0b3IiLEkpO214VXRpbHMuZXh0ZW5kKEosbXhTaGFwZSk7Si5wcm90b3R5cGUuZ2V0TGFiZWxNYXJnaW5zPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgbXhSZWN0YW5nbGUoYS53aWR0aC82LDAsMCwwKX07Si5wcm90b3R5cGUucGFpbnRCYWNrZ3JvdW5kPWZ1bmN0aW9uKGEsYixlLGMsZCl7YS50cmFuc2xhdGUoYixlKTthLmJlZ2luKCk7YS5tb3ZlVG8oMCxkLzQpO2EubGluZVRvKDAsMypkLzQpO2EuZW5kKCk7YS5zdHJva2UoKTthLmJlZ2luKCk7YS5tb3ZlVG8oMCxkLzIpO2EubGluZVRvKGMvNixkLzIpO2EuZW5kKCk7YS5zdHJva2UoKTthLmVsbGlwc2UoYy82LDAsNSpjLzYsZCk7YS5maWxsQW5kU3Ryb2tlKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoInVtbEJvdW5kYXJ5IiwKSik7bXhVdGlscy5leHRlbmQodSxteEVsbGlwc2UpO3UucHJvdG90eXBlLnBhaW50VmVydGV4U2hhcGU9ZnVuY3Rpb24oYSxiLGUsYyxkKXtteEVsbGlwc2UucHJvdG90eXBlLnBhaW50VmVydGV4U2hhcGUuYXBwbHkodGhpcyxhcmd1bWVudHMpO2EuYmVnaW4oKTthLm1vdmVUbyhiK2MvOCxlK2QpO2EubGluZVRvKGIrNypjLzgsZStkKTthLmVuZCgpO2Euc3Ryb2tlKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoInVtbEVudGl0eSIsdSk7bXhVdGlscy5leHRlbmQoSyxteFNoYXBlKTtLLnByb3RvdHlwZS5wYWludFZlcnRleFNoYXBlPWZ1bmN0aW9uKGEsYixlLGMsZCl7YS50cmFuc2xhdGUoYixlKTthLmJlZ2luKCk7YS5tb3ZlVG8oYywwKTthLmxpbmVUbygwLGQpO2EubW92ZVRvKDAsMCk7YS5saW5lVG8oYyxkKTthLmVuZCgpO2Euc3Ryb2tlKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoInVtbERlc3Ryb3kiLEspO214VXRpbHMuZXh0ZW5kKHksbXhTaGFwZSk7CnkucHJvdG90eXBlLmdldExhYmVsQm91bmRzPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgbXhSZWN0YW5nbGUoYS54LGEueSthLmhlaWdodC84LGEud2lkdGgsNyphLmhlaWdodC84KX07eS5wcm90b3R5cGUucGFpbnRCYWNrZ3JvdW5kPWZ1bmN0aW9uKGEsYixlLGMsZCl7YS50cmFuc2xhdGUoYixlKTthLmJlZ2luKCk7YS5tb3ZlVG8oMypjLzgsZC84KjEuMSk7YS5saW5lVG8oNSpjLzgsMCk7YS5lbmQoKTthLnN0cm9rZSgpO2EuZWxsaXBzZSgwLGQvOCxjLDcqZC84KTthLmZpbGxBbmRTdHJva2UoKX07eS5wcm90b3R5cGUucGFpbnRGb3JlZ3JvdW5kPWZ1bmN0aW9uKGEsYixlLGMsZCl7YS5iZWdpbigpO2EubW92ZVRvKDMqYy84LGQvOCoxLjEpO2EubGluZVRvKDUqYy84LGQvNCk7YS5lbmQoKTthLnN0cm9rZSgpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJ1bWxDb250cm9sIix5KTtteFV0aWxzLmV4dGVuZChOLG14UmVjdGFuZ2xlU2hhcGUpO04ucHJvdG90eXBlLnNpemU9CjQwO04ucHJvdG90eXBlLmlzSHRtbEFsbG93ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX07Ti5wcm90b3R5cGUuZ2V0TGFiZWxCb3VuZHM9ZnVuY3Rpb24oYSl7dmFyIGI9TWF0aC5tYXgoMCxNYXRoLm1pbihhLmhlaWdodCxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwic2l6ZSIsdGhpcy5zaXplKSkqdGhpcy5zY2FsZSkpO3JldHVybiBuZXcgbXhSZWN0YW5nbGUoYS54LGEueSxhLndpZHRoLGIpfTtOLnByb3RvdHlwZS5wYWludEJhY2tncm91bmQ9ZnVuY3Rpb24oYSxiLGUsYyxkKXt2YXIgZj1NYXRoLm1heCgwLE1hdGgubWluKGQscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInNpemUiLHRoaXMuc2l6ZSkpKSksZz1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInBhcnRpY2lwYW50Iik7bnVsbD09Z3x8bnVsbD09dGhpcy5zdGF0ZT9teFJlY3RhbmdsZVNoYXBlLnByb3RvdHlwZS5wYWludEJhY2tncm91bmQuY2FsbCh0aGlzLGEsYiwKZSxjLGYpOihnPXRoaXMuc3RhdGUudmlldy5ncmFwaC5jZWxsUmVuZGVyZXIuZ2V0U2hhcGUoZyksbnVsbCE9ZyYmZyE9TiYmKGc9bmV3IGcsZy5hcHBseSh0aGlzLnN0YXRlKSxhLnNhdmUoKSxnLnBhaW50VmVydGV4U2hhcGUoYSxiLGUsYyxmKSxhLnJlc3RvcmUoKSkpO2Y8ZCYmKGEuc2V0RGFzaGVkKCEwKSxhLmJlZ2luKCksYS5tb3ZlVG8oYitjLzIsZStmKSxhLmxpbmVUbyhiK2MvMixlK2QpLGEuZW5kKCksYS5zdHJva2UoKSl9O04ucHJvdG90eXBlLnBhaW50Rm9yZWdyb3VuZD1mdW5jdGlvbihhLGIsZSxjLGQpe3ZhciBmPU1hdGgubWF4KDAsTWF0aC5taW4oZCxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwic2l6ZSIsdGhpcy5zaXplKSkpKTtteFJlY3RhbmdsZVNoYXBlLnByb3RvdHlwZS5wYWludEZvcmVncm91bmQuY2FsbCh0aGlzLGEsYixlLGMsTWF0aC5taW4oZCxmKSl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoInVtbExpZmVsaW5lIiwKTik7bXhVdGlscy5leHRlbmQoTyxteFNoYXBlKTtPLnByb3RvdHlwZS53aWR0aD02MDtPLnByb3RvdHlwZS5oZWlnaHQ9MzA7Ty5wcm90b3R5cGUuY29ybmVyPTEwO08ucHJvdG90eXBlLmdldExhYmVsTWFyZ2lucz1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IG14UmVjdGFuZ2xlKDAsMCxhLndpZHRoLXBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJ3aWR0aCIsdGhpcy53aWR0aCkqdGhpcy5zY2FsZSksYS5oZWlnaHQtcGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImhlaWdodCIsdGhpcy5oZWlnaHQpKnRoaXMuc2NhbGUpKX07Ty5wcm90b3R5cGUucGFpbnRCYWNrZ3JvdW5kPWZ1bmN0aW9uKGEsYixlLGMsZCl7dmFyIGY9dGhpcy5jb3JuZXIsZz1NYXRoLm1pbihjLE1hdGgubWF4KGYscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsIndpZHRoIix0aGlzLndpZHRoKSkpKSxsPU1hdGgubWluKGQsTWF0aC5tYXgoMS41KgpmLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJoZWlnaHQiLHRoaXMuaGVpZ2h0KSkpKSx1PW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9TV0lNTEFORV9GSUxMQ09MT1IsbXhDb25zdGFudHMuTk9ORSk7dSE9bXhDb25zdGFudHMuTk9ORSYmKGEuc2V0RmlsbENvbG9yKHUpLGEucmVjdChiLGUsYyxkKSxhLmZpbGwoKSk7bnVsbCE9dGhpcy5maWxsJiZ0aGlzLmZpbGwhPW14Q29uc3RhbnRzLk5PTkUmJnRoaXMuZ3JhZGllbnQmJnRoaXMuZ3JhZGllbnQhPW14Q29uc3RhbnRzLk5PTkU/KHRoaXMuZ2V0R3JhZGllbnRCb3VuZHMoYSxiLGUsYyxkKSxhLnNldEdyYWRpZW50KHRoaXMuZmlsbCx0aGlzLmdyYWRpZW50LGIsZSxjLGQsdGhpcy5ncmFkaWVudERpcmVjdGlvbikpOmEuc2V0RmlsbENvbG9yKHRoaXMuZmlsbCk7YS5iZWdpbigpO2EubW92ZVRvKGIsZSk7YS5saW5lVG8oYitnLGUpO2EubGluZVRvKGIrZyxlK01hdGgubWF4KDAsCmwtMS41KmYpKTthLmxpbmVUbyhiK01hdGgubWF4KDAsZy1mKSxlK2wpO2EubGluZVRvKGIsZStsKTthLmNsb3NlKCk7YS5maWxsQW5kU3Ryb2tlKCk7YS5iZWdpbigpO2EubW92ZVRvKGIrZyxlKTthLmxpbmVUbyhiK2MsZSk7YS5saW5lVG8oYitjLGUrZCk7YS5saW5lVG8oYixlK2QpO2EubGluZVRvKGIsZStsKTthLnN0cm9rZSgpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJ1bWxGcmFtZSIsTyk7bXhQZXJpbWV0ZXIuTGlmZWxpbmVQZXJpbWV0ZXI9ZnVuY3Rpb24oYSxiLGUsYyl7Yz1OLnByb3RvdHlwZS5zaXplO251bGwhPWImJihjPW14VXRpbHMuZ2V0VmFsdWUoYi5zdHlsZSwic2l6ZSIsYykqYi52aWV3LnNjYWxlKTtiPXBhcnNlRmxvYXQoYi5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9TVFJPS0VXSURUSF18fDEpKmIudmlldy5zY2FsZS8yLTE7ZS54PGEuZ2V0Q2VudGVyWCgpJiYoYj0tMSooYisxKSk7cmV0dXJuIG5ldyBteFBvaW50KGEuZ2V0Q2VudGVyWCgpKwpiLE1hdGgubWluKGEueSthLmhlaWdodCxNYXRoLm1heChhLnkrYyxlLnkpKSl9O214U3R5bGVSZWdpc3RyeS5wdXRWYWx1ZSgibGlmZWxpbmVQZXJpbWV0ZXIiLG14UGVyaW1ldGVyLkxpZmVsaW5lUGVyaW1ldGVyKTtteFBlcmltZXRlci5PcnRob2dvbmFsUGVyaW1ldGVyPWZ1bmN0aW9uKGEsYixlLGMpe2M9ITA7cmV0dXJuIG14UGVyaW1ldGVyLlJlY3RhbmdsZVBlcmltZXRlci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O214U3R5bGVSZWdpc3RyeS5wdXRWYWx1ZSgib3J0aG9nb25hbFBlcmltZXRlciIsbXhQZXJpbWV0ZXIuT3J0aG9nb25hbFBlcmltZXRlcik7bXhQZXJpbWV0ZXIuQmFja2JvbmVQZXJpbWV0ZXI9ZnVuY3Rpb24oYSxiLGUsYyl7Yz1wYXJzZUZsb2F0KGIuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU1RST0tFV0lEVEhdfHwxKSpiLnZpZXcuc2NhbGUvMi0xO251bGwhPWIuc3R5bGUuYmFja2JvbmVTaXplJiYoYys9cGFyc2VGbG9hdChiLnN0eWxlLmJhY2tib25lU2l6ZSkqCmIudmlldy5zY2FsZS8yLTEpO2lmKCJzb3V0aCI9PWIuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRElSRUNUSU9OXXx8Im5vcnRoIj09Yi5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9ESVJFQ1RJT05dKXJldHVybiBlLng8YS5nZXRDZW50ZXJYKCkmJihjPS0xKihjKzEpKSxuZXcgbXhQb2ludChhLmdldENlbnRlclgoKStjLE1hdGgubWluKGEueSthLmhlaWdodCxNYXRoLm1heChhLnksZS55KSkpO2UueTxhLmdldENlbnRlclkoKSYmKGM9LTEqKGMrMSkpO3JldHVybiBuZXcgbXhQb2ludChNYXRoLm1pbihhLngrYS53aWR0aCxNYXRoLm1heChhLngsZS54KSksYS5nZXRDZW50ZXJZKCkrYyl9O214U3R5bGVSZWdpc3RyeS5wdXRWYWx1ZSgiYmFja2JvbmVQZXJpbWV0ZXIiLG14UGVyaW1ldGVyLkJhY2tib25lUGVyaW1ldGVyKTtteFBlcmltZXRlci5DYWxsb3V0UGVyaW1ldGVyPWZ1bmN0aW9uKGEsYixlLGMpe3JldHVybiBteFBlcmltZXRlci5SZWN0YW5nbGVQZXJpbWV0ZXIobXhVdGlscy5nZXREaXJlY3RlZEJvdW5kcyhhLApuZXcgbXhSZWN0YW5nbGUoMCwwLDAsTWF0aC5tYXgoMCxNYXRoLm1pbihhLmhlaWdodCxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUoYi5zdHlsZSwic2l6ZSIsQi5wcm90b3R5cGUuc2l6ZSkpKmIudmlldy5zY2FsZSkpKSxiLnN0eWxlKSxiLGUsYyl9O214U3R5bGVSZWdpc3RyeS5wdXRWYWx1ZSgiY2FsbG91dFBlcmltZXRlciIsbXhQZXJpbWV0ZXIuQ2FsbG91dFBlcmltZXRlcik7bXhQZXJpbWV0ZXIuUGFyYWxsZWxvZ3JhbVBlcmltZXRlcj1mdW5jdGlvbihhLGIsZSxjKXt2YXIgZD1sLnByb3RvdHlwZS5zaXplO251bGwhPWImJihkPW14VXRpbHMuZ2V0VmFsdWUoYi5zdHlsZSwic2l6ZSIsZCkpO3ZhciBmPWEueCxnPWEueSx1PWEud2lkdGgscD1hLmhlaWdodDtiPW51bGwhPWI/bXhVdGlscy5nZXRWYWx1ZShiLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0RJUkVDVElPTixteENvbnN0YW50cy5ESVJFQ1RJT05fRUFTVCk6bXhDb25zdGFudHMuRElSRUNUSU9OX0VBU1Q7Yj09Cm14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSHx8Yj09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIPyhkPXAqTWF0aC5tYXgoMCxNYXRoLm1pbigxLGQpKSxnPVtuZXcgbXhQb2ludChmLGcpLG5ldyBteFBvaW50KGYrdSxnK2QpLG5ldyBteFBvaW50KGYrdSxnK3ApLG5ldyBteFBvaW50KGYsZytwLWQpLG5ldyBteFBvaW50KGYsZyldKTooZD11Kk1hdGgubWF4KDAsTWF0aC5taW4oMSxkKSksZz1bbmV3IG14UG9pbnQoZitkLGcpLG5ldyBteFBvaW50KGYrdSxnKSxuZXcgbXhQb2ludChmK3UtZCxnK3ApLG5ldyBteFBvaW50KGYsZytwKSxuZXcgbXhQb2ludChmK2QsZyldKTtwPWEuZ2V0Q2VudGVyWCgpO2E9YS5nZXRDZW50ZXJZKCk7YT1uZXcgbXhQb2ludChwLGEpO2MmJihlLng8Znx8ZS54PmYrdT9hLnk9ZS55OmEueD1lLngpO3JldHVybiBteFV0aWxzLmdldFBlcmltZXRlclBvaW50KGcsYSxlKX07bXhTdHlsZVJlZ2lzdHJ5LnB1dFZhbHVlKCJwYXJhbGxlbG9ncmFtUGVyaW1ldGVyIiwKbXhQZXJpbWV0ZXIuUGFyYWxsZWxvZ3JhbVBlcmltZXRlcik7bXhQZXJpbWV0ZXIuVHJhcGV6b2lkUGVyaW1ldGVyPWZ1bmN0aW9uKGEsYixlLGMpe3ZhciBkPW4ucHJvdG90eXBlLnNpemU7bnVsbCE9YiYmKGQ9bXhVdGlscy5nZXRWYWx1ZShiLnN0eWxlLCJzaXplIixkKSk7dmFyIGY9YS54LGc9YS55LGw9YS53aWR0aCx1PWEuaGVpZ2h0O2I9bnVsbCE9Yj9teFV0aWxzLmdldFZhbHVlKGIuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRElSRUNUSU9OLG14Q29uc3RhbnRzLkRJUkVDVElPTl9FQVNUKTpteENvbnN0YW50cy5ESVJFQ1RJT05fRUFTVDtiPT1teENvbnN0YW50cy5ESVJFQ1RJT05fRUFTVD8oZD1sKk1hdGgubWF4KDAsTWF0aC5taW4oMSxkKSksZz1bbmV3IG14UG9pbnQoZitkLGcpLG5ldyBteFBvaW50KGYrbC1kLGcpLG5ldyBteFBvaW50KGYrbCxnK3UpLG5ldyBteFBvaW50KGYsZyt1KSxuZXcgbXhQb2ludChmK2QsZyldKTpiPT1teENvbnN0YW50cy5ESVJFQ1RJT05fV0VTVD8KKGQ9bCpNYXRoLm1heCgwLE1hdGgubWluKDEsZCkpLGc9W25ldyBteFBvaW50KGYsZyksbmV3IG14UG9pbnQoZitsLGcpLG5ldyBteFBvaW50KGYrbC1kLGcrdSksbmV3IG14UG9pbnQoZitkLGcrdSksbmV3IG14UG9pbnQoZixnKV0pOmI9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSD8oZD11Kk1hdGgubWF4KDAsTWF0aC5taW4oMSxkKSksZz1bbmV3IG14UG9pbnQoZixnK2QpLG5ldyBteFBvaW50KGYrbCxnKSxuZXcgbXhQb2ludChmK2wsZyt1KSxuZXcgbXhQb2ludChmLGcrdS1kKSxuZXcgbXhQb2ludChmLGcrZCldKTooZD11Kk1hdGgubWF4KDAsTWF0aC5taW4oMSxkKSksZz1bbmV3IG14UG9pbnQoZixnKSxuZXcgbXhQb2ludChmK2wsZytkKSxuZXcgbXhQb2ludChmK2wsZyt1LWQpLG5ldyBteFBvaW50KGYsZyt1KSxuZXcgbXhQb2ludChmLGcpXSk7dT1hLmdldENlbnRlclgoKTthPWEuZ2V0Q2VudGVyWSgpO2E9bmV3IG14UG9pbnQodSxhKTtjJiYoZS54PGZ8fGUueD5mKwpsP2EueT1lLnk6YS54PWUueCk7cmV0dXJuIG14VXRpbHMuZ2V0UGVyaW1ldGVyUG9pbnQoZyxhLGUpfTtteFN0eWxlUmVnaXN0cnkucHV0VmFsdWUoInRyYXBlem9pZFBlcmltZXRlciIsbXhQZXJpbWV0ZXIuVHJhcGV6b2lkUGVyaW1ldGVyKTtteFBlcmltZXRlci5TdGVwUGVyaW1ldGVyPWZ1bmN0aW9uKGEsYixlLGMpe3ZhciBkPSIwIiE9bXhVdGlscy5nZXRWYWx1ZShiLnN0eWxlLCJmaXhlZFNpemUiLCIwIiksZj1kP0MucHJvdG90eXBlLmZpeGVkU2l6ZTpDLnByb3RvdHlwZS5zaXplO251bGwhPWImJihmPW14VXRpbHMuZ2V0VmFsdWUoYi5zdHlsZSwic2l6ZSIsZikpO2QmJihmKj1iLnZpZXcuc2NhbGUpO3ZhciBnPWEueCxsPWEueSx1PWEud2lkdGgscD1hLmhlaWdodCxuPWEuZ2V0Q2VudGVyWCgpO2E9YS5nZXRDZW50ZXJZKCk7Yj1udWxsIT1iP214VXRpbHMuZ2V0VmFsdWUoYi5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9ESVJFQ1RJT04sbXhDb25zdGFudHMuRElSRUNUSU9OX0VBU1QpOgpteENvbnN0YW50cy5ESVJFQ1RJT05fRUFTVDtiPT1teENvbnN0YW50cy5ESVJFQ1RJT05fRUFTVD8oZD1kP01hdGgubWF4KDAsTWF0aC5taW4odSxmKSk6dSpNYXRoLm1heCgwLE1hdGgubWluKDEsZikpLGw9W25ldyBteFBvaW50KGcsbCksbmV3IG14UG9pbnQoZyt1LWQsbCksbmV3IG14UG9pbnQoZyt1LGEpLG5ldyBteFBvaW50KGcrdS1kLGwrcCksbmV3IG14UG9pbnQoZyxsK3ApLG5ldyBteFBvaW50KGcrZCxhKSxuZXcgbXhQb2ludChnLGwpXSk6Yj09bXhDb25zdGFudHMuRElSRUNUSU9OX1dFU1Q/KGQ9ZD9NYXRoLm1heCgwLE1hdGgubWluKHUsZikpOnUqTWF0aC5tYXgoMCxNYXRoLm1pbigxLGYpKSxsPVtuZXcgbXhQb2ludChnK2QsbCksbmV3IG14UG9pbnQoZyt1LGwpLG5ldyBteFBvaW50KGcrdS1kLGEpLG5ldyBteFBvaW50KGcrdSxsK3ApLG5ldyBteFBvaW50KGcrZCxsK3ApLG5ldyBteFBvaW50KGcsYSksbmV3IG14UG9pbnQoZytkLGwpXSk6Yj09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIPwooZD1kP01hdGgubWF4KDAsTWF0aC5taW4ocCxmKSk6cCpNYXRoLm1heCgwLE1hdGgubWluKDEsZikpLGw9W25ldyBteFBvaW50KGcsbCtkKSxuZXcgbXhQb2ludChuLGwpLG5ldyBteFBvaW50KGcrdSxsK2QpLG5ldyBteFBvaW50KGcrdSxsK3ApLG5ldyBteFBvaW50KG4sbCtwLWQpLG5ldyBteFBvaW50KGcsbCtwKSxuZXcgbXhQb2ludChnLGwrZCldKTooZD1kP01hdGgubWF4KDAsTWF0aC5taW4ocCxmKSk6cCpNYXRoLm1heCgwLE1hdGgubWluKDEsZikpLGw9W25ldyBteFBvaW50KGcsbCksbmV3IG14UG9pbnQobixsK2QpLG5ldyBteFBvaW50KGcrdSxsKSxuZXcgbXhQb2ludChnK3UsbCtwLWQpLG5ldyBteFBvaW50KG4sbCtwKSxuZXcgbXhQb2ludChnLGwrcC1kKSxuZXcgbXhQb2ludChnLGwpXSk7bj1uZXcgbXhQb2ludChuLGEpO2MmJihlLng8Z3x8ZS54PmcrdT9uLnk9ZS55Om4ueD1lLngpO3JldHVybiBteFV0aWxzLmdldFBlcmltZXRlclBvaW50KGwsbixlKX07bXhTdHlsZVJlZ2lzdHJ5LnB1dFZhbHVlKCJzdGVwUGVyaW1ldGVyIiwKbXhQZXJpbWV0ZXIuU3RlcFBlcmltZXRlcik7bXhQZXJpbWV0ZXIuSGV4YWdvblBlcmltZXRlcjI9ZnVuY3Rpb24oYSxiLGUsYyl7dmFyIGQ9ei5wcm90b3R5cGUuc2l6ZTtudWxsIT1iJiYoZD1teFV0aWxzLmdldFZhbHVlKGIuc3R5bGUsInNpemUiLGQpKTt2YXIgZj1hLngsZz1hLnksbD1hLndpZHRoLHU9YS5oZWlnaHQscD1hLmdldENlbnRlclgoKTthPWEuZ2V0Q2VudGVyWSgpO2I9bnVsbCE9Yj9teFV0aWxzLmdldFZhbHVlKGIuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRElSRUNUSU9OLG14Q29uc3RhbnRzLkRJUkVDVElPTl9FQVNUKTpteENvbnN0YW50cy5ESVJFQ1RJT05fRUFTVDtiPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEh8fGI9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSD8oZD11Kk1hdGgubWF4KDAsTWF0aC5taW4oMSxkKSksZz1bbmV3IG14UG9pbnQocCxnKSxuZXcgbXhQb2ludChmK2wsZytkKSxuZXcgbXhQb2ludChmK2wsZyt1LWQpLG5ldyBteFBvaW50KHAsCmcrdSksbmV3IG14UG9pbnQoZixnK3UtZCksbmV3IG14UG9pbnQoZixnK2QpLG5ldyBteFBvaW50KHAsZyldKTooZD1sKk1hdGgubWF4KDAsTWF0aC5taW4oMSxkKSksZz1bbmV3IG14UG9pbnQoZitkLGcpLG5ldyBteFBvaW50KGYrbC1kLGcpLG5ldyBteFBvaW50KGYrbCxhKSxuZXcgbXhQb2ludChmK2wtZCxnK3UpLG5ldyBteFBvaW50KGYrZCxnK3UpLG5ldyBteFBvaW50KGYsYSksbmV3IG14UG9pbnQoZitkLGcpXSk7cD1uZXcgbXhQb2ludChwLGEpO2MmJihlLng8Znx8ZS54PmYrbD9wLnk9ZS55OnAueD1lLngpO3JldHVybiBteFV0aWxzLmdldFBlcmltZXRlclBvaW50KGcscCxlKX07bXhTdHlsZVJlZ2lzdHJ5LnB1dFZhbHVlKCJoZXhhZ29uUGVyaW1ldGVyMiIsbXhQZXJpbWV0ZXIuSGV4YWdvblBlcmltZXRlcjIpO214VXRpbHMuZXh0ZW5kKEgsbXhTaGFwZSk7SC5wcm90b3R5cGUuc2l6ZT0xMDtILnByb3RvdHlwZS5wYWludEJhY2tncm91bmQ9ZnVuY3Rpb24oYSxiLGUsYywKZCl7dmFyIGY9cGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInNpemUiLHRoaXMuc2l6ZSkpO2EudHJhbnNsYXRlKGIsZSk7YS5lbGxpcHNlKChjLWYpLzIsMCxmLGYpO2EuZmlsbEFuZFN0cm9rZSgpO2EuYmVnaW4oKTthLm1vdmVUbyhjLzIsZik7YS5saW5lVG8oYy8yLGQpO2EuZW5kKCk7YS5zdHJva2UoKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgibG9sbGlwb3AiLEgpO214VXRpbHMuZXh0ZW5kKFIsbXhTaGFwZSk7Ui5wcm90b3R5cGUuc2l6ZT0xMDtSLnByb3RvdHlwZS5pbnNldD0yO1IucHJvdG90eXBlLnBhaW50QmFja2dyb3VuZD1mdW5jdGlvbihhLGIsZSxjLGQpe3ZhciBmPXBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJzaXplIix0aGlzLnNpemUpKSxnPXBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJpbnNldCIsdGhpcy5pbnNldCkpK3RoaXMuc3Ryb2tld2lkdGg7YS50cmFuc2xhdGUoYiwKZSk7YS5iZWdpbigpO2EubW92ZVRvKGMvMixmK2cpO2EubGluZVRvKGMvMixkKTthLmVuZCgpO2Euc3Ryb2tlKCk7YS5iZWdpbigpO2EubW92ZVRvKChjLWYpLzItZyxmLzIpO2EucXVhZFRvKChjLWYpLzItZyxmK2csYy8yLGYrZyk7YS5xdWFkVG8oKGMrZikvMitnLGYrZywoYytmKS8yK2csZi8yKTthLmVuZCgpO2Euc3Ryb2tlKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoInJlcXVpcmVzIixSKTtteFV0aWxzLmV4dGVuZChlYSxteFNoYXBlKTtlYS5wcm90b3R5cGUucGFpbnRCYWNrZ3JvdW5kPWZ1bmN0aW9uKGEsYixlLGMsZCl7YS50cmFuc2xhdGUoYixlKTthLmJlZ2luKCk7YS5tb3ZlVG8oMCwwKTthLnF1YWRUbyhjLDAsYyxkLzIpO2EucXVhZFRvKGMsZCwwLGQpO2EuZW5kKCk7YS5zdHJva2UoKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgicmVxdWlyZWRJbnRlcmZhY2UiLGVhKTtteFV0aWxzLmV4dGVuZChmYSxteFNoYXBlKTtmYS5wcm90b3R5cGUuaW5zZXQ9CjI7ZmEucHJvdG90eXBlLnBhaW50QmFja2dyb3VuZD1mdW5jdGlvbihhLGIsZSxjLGQpe3ZhciBmPXBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJpbnNldCIsdGhpcy5pbnNldCkpK3RoaXMuc3Ryb2tld2lkdGg7YS50cmFuc2xhdGUoYixlKTthLmVsbGlwc2UoMCxmLGMtMipmLGQtMipmKTthLmZpbGxBbmRTdHJva2UoKTthLmJlZ2luKCk7YS5tb3ZlVG8oYy8yLDApO2EucXVhZFRvKGMsMCxjLGQvMik7YS5xdWFkVG8oYyxkLGMvMixkKTthLmVuZCgpO2Euc3Ryb2tlKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoInByb3ZpZGVkUmVxdWlyZWRJbnRlcmZhY2UiLGZhKTtteFV0aWxzLmV4dGVuZChZLG14Q3lsaW5kZXIpO1kucHJvdG90eXBlLmpldHR5V2lkdGg9MjA7WS5wcm90b3R5cGUuamV0dHlIZWlnaHQ9MTA7WS5wcm90b3R5cGUucmVkcmF3UGF0aD1mdW5jdGlvbihhLGIsZSxjLGQsZil7dmFyIGc9cGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsCiJqZXR0eVdpZHRoIix0aGlzLmpldHR5V2lkdGgpKTtiPXBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJqZXR0eUhlaWdodCIsdGhpcy5qZXR0eUhlaWdodCkpO2U9Zy8yO3ZhciBnPWUrZy8yLGw9TWF0aC5taW4oYixkLWIpLHU9TWF0aC5taW4obCsyKmIsZC1iKTtmPyhhLm1vdmVUbyhlLGwpLGEubGluZVRvKGcsbCksYS5saW5lVG8oZyxsK2IpLGEubGluZVRvKGUsbCtiKSxhLm1vdmVUbyhlLHUpLGEubGluZVRvKGcsdSksYS5saW5lVG8oZyx1K2IpLGEubGluZVRvKGUsdStiKSk6KGEubW92ZVRvKGUsMCksYS5saW5lVG8oYywwKSxhLmxpbmVUbyhjLGQpLGEubGluZVRvKGUsZCksYS5saW5lVG8oZSx1K2IpLGEubGluZVRvKDAsdStiKSxhLmxpbmVUbygwLHUpLGEubGluZVRvKGUsdSksYS5saW5lVG8oZSxsK2IpLGEubGluZVRvKDAsbCtiKSxhLmxpbmVUbygwLGwpLGEubGluZVRvKGUsbCksYS5jbG9zZSgpKTthLmVuZCgpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJtb2R1bGUiLApZKTtteFV0aWxzLmV4dGVuZChaLG14Q3lsaW5kZXIpO1oucHJvdG90eXBlLmpldHR5V2lkdGg9MzI7Wi5wcm90b3R5cGUuamV0dHlIZWlnaHQ9MTI7Wi5wcm90b3R5cGUucmVkcmF3UGF0aD1mdW5jdGlvbihhLGIsZSxjLGQsZil7dmFyIGc9cGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImpldHR5V2lkdGgiLHRoaXMuamV0dHlXaWR0aCkpO2I9cGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImpldHR5SGVpZ2h0Iix0aGlzLmpldHR5SGVpZ2h0KSk7ZT1nLzI7dmFyIGc9ZStnLzIsbD0uMypkLWIvMix1PS43KmQtYi8yO2Y/KGEubW92ZVRvKGUsbCksYS5saW5lVG8oZyxsKSxhLmxpbmVUbyhnLGwrYiksYS5saW5lVG8oZSxsK2IpLGEubW92ZVRvKGUsdSksYS5saW5lVG8oZyx1KSxhLmxpbmVUbyhnLHUrYiksYS5saW5lVG8oZSx1K2IpKTooYS5tb3ZlVG8oZSwwKSxhLmxpbmVUbyhjLDApLGEubGluZVRvKGMsZCksYS5saW5lVG8oZSxkKSwKYS5saW5lVG8oZSx1K2IpLGEubGluZVRvKDAsdStiKSxhLmxpbmVUbygwLHUpLGEubGluZVRvKGUsdSksYS5saW5lVG8oZSxsK2IpLGEubGluZVRvKDAsbCtiKSxhLmxpbmVUbygwLGwpLGEubGluZVRvKGUsbCksYS5jbG9zZSgpKTthLmVuZCgpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJjb21wb25lbnQiLFopO214VXRpbHMuZXh0ZW5kKFgsbXhSZWN0YW5nbGVTaGFwZSk7WC5wcm90b3R5cGUucGFpbnRGb3JlZ3JvdW5kPWZ1bmN0aW9uKGEsYixlLGMsZCl7dmFyIGY9Yy8yLGc9ZC8yLGw9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FSQ1NJWkUsbXhDb25zdGFudHMuTElORV9BUkNTSVpFKS8yO2EuYmVnaW4oKTt0aGlzLmFkZFBvaW50cyhhLFtuZXcgbXhQb2ludChiK2YsZSksbmV3IG14UG9pbnQoYitjLGUrZyksbmV3IG14UG9pbnQoYitmLGUrZCksbmV3IG14UG9pbnQoYixlK2cpXSx0aGlzLmlzUm91bmRlZCxsLCEwKTthLnN0cm9rZSgpOwpteFJlY3RhbmdsZVNoYXBlLnByb3RvdHlwZS5wYWludEZvcmVncm91bmQuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJhc3NvY2lhdGl2ZUVudGl0eSIsWCk7bXhVdGlscy5leHRlbmQoYWEsbXhEb3VibGVFbGxpcHNlKTthYS5wcm90b3R5cGUub3V0ZXJTdHJva2U9ITA7YWEucHJvdG90eXBlLnBhaW50VmVydGV4U2hhcGU9ZnVuY3Rpb24oYSxiLGUsYyxkKXt2YXIgZj1NYXRoLm1pbig0LE1hdGgubWluKGMvNSxkLzUpKTswPGMmJjA8ZCYmKGEuZWxsaXBzZShiK2YsZStmLGMtMipmLGQtMipmKSxhLmZpbGxBbmRTdHJva2UoKSk7YS5zZXRTaGFkb3coITEpO3RoaXMub3V0ZXJTdHJva2UmJihhLmVsbGlwc2UoYixlLGMsZCksYS5zdHJva2UoKSl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoImVuZFN0YXRlIixhYSk7bXhVdGlscy5leHRlbmQoZ2EsYWEpO2dhLnByb3RvdHlwZS5vdXRlclN0cm9rZT0hMTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJzdGFydFN0YXRlIiwKZ2EpO214VXRpbHMuZXh0ZW5kKGRhLG14QXJyb3dDb25uZWN0b3IpO2RhLnByb3RvdHlwZS5kZWZhdWx0V2lkdGg9NDtkYS5wcm90b3R5cGUuaXNPcGVuRW5kZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMH07ZGEucHJvdG90eXBlLmdldEVkZ2VXaWR0aD1mdW5jdGlvbigpe3JldHVybiBteFV0aWxzLmdldE51bWJlcih0aGlzLnN0eWxlLCJ3aWR0aCIsdGhpcy5kZWZhdWx0V2lkdGgpK01hdGgubWF4KDAsdGhpcy5zdHJva2V3aWR0aC0xKX07ZGEucHJvdG90eXBlLmlzQXJyb3dSb3VuZGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNSb3VuZGVkfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJsaW5rIixkYSk7bXhVdGlscy5leHRlbmQoVCxteEFycm93Q29ubmVjdG9yKTtULnByb3RvdHlwZS5kZWZhdWx0V2lkdGg9MTA7VC5wcm90b3R5cGUuZGVmYXVsdEFycm93V2lkdGg9MjA7VC5wcm90b3R5cGUuZ2V0U3RhcnRBcnJvd1dpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RWRnZVdpZHRoKCkrCm14VXRpbHMuZ2V0TnVtYmVyKHRoaXMuc3R5bGUsInN0YXJ0V2lkdGgiLHRoaXMuZGVmYXVsdEFycm93V2lkdGgpfTtULnByb3RvdHlwZS5nZXRFbmRBcnJvd1dpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RWRnZVdpZHRoKCkrbXhVdGlscy5nZXROdW1iZXIodGhpcy5zdHlsZSwiZW5kV2lkdGgiLHRoaXMuZGVmYXVsdEFycm93V2lkdGgpfTtULnByb3RvdHlwZS5nZXRFZGdlV2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gbXhVdGlscy5nZXROdW1iZXIodGhpcy5zdHlsZSwid2lkdGgiLHRoaXMuZGVmYXVsdFdpZHRoKStNYXRoLm1heCgwLHRoaXMuc3Ryb2tld2lkdGgtMSl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoImZsZXhBcnJvdyIsVCk7bXhVdGlscy5leHRlbmQoY2EsbXhBY3Rvcik7Y2EucHJvdG90eXBlLnNpemU9MzA7Y2EucHJvdG90eXBlLmlzUm91bmRhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuITB9O2NhLnByb3RvdHlwZS5yZWRyYXdQYXRoPWZ1bmN0aW9uKGEsCmIsZSxjLGQpe2I9TWF0aC5taW4oZCxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwic2l6ZSIsdGhpcy5zaXplKSkpO2U9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FSQ1NJWkUsbXhDb25zdGFudHMuTElORV9BUkNTSVpFKS8yO3RoaXMuYWRkUG9pbnRzKGEsW25ldyBteFBvaW50KDAsZCksbmV3IG14UG9pbnQoMCxiKSxuZXcgbXhQb2ludChjLDApLG5ldyBteFBvaW50KGMsZCldLHRoaXMuaXNSb3VuZGVkLGUsITApO2EuZW5kKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoIm1hbnVhbElucHV0IixjYSk7bXhVdGlscy5leHRlbmQoUSxteFJlY3RhbmdsZVNoYXBlKTtRLnByb3RvdHlwZS5keD0yMDtRLnByb3RvdHlwZS5keT0yMDtRLnByb3RvdHlwZS5pc0h0bWxBbGxvd2VkPWZ1bmN0aW9uKCl7cmV0dXJuITF9O1EucHJvdG90eXBlLnBhaW50Rm9yZWdyb3VuZD1mdW5jdGlvbihhLGIsZSxjLGQpe214UmVjdGFuZ2xlU2hhcGUucHJvdG90eXBlLnBhaW50Rm9yZWdyb3VuZC5hcHBseSh0aGlzLAphcmd1bWVudHMpO3ZhciBmPTA7aWYodGhpcy5pc1JvdW5kZWQpdmFyIGc9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FSQ1NJWkUsMTAwKm14Q29uc3RhbnRzLlJFQ1RBTkdMRV9ST1VORElOR19GQUNUT1IpLzEwMCxmPU1hdGgubWF4KGYsTWF0aC5taW4oYypnLGQqZykpO2c9TWF0aC5tYXgoZixNYXRoLm1pbihjLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJkeCIsdGhpcy5keCkpKSk7Zj1NYXRoLm1heChmLE1hdGgubWluKGQscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImR5Iix0aGlzLmR5KSkpKTthLmJlZ2luKCk7YS5tb3ZlVG8oYixlK2YpO2EubGluZVRvKGIrYyxlK2YpO2EuZW5kKCk7YS5zdHJva2UoKTthLmJlZ2luKCk7YS5tb3ZlVG8oYitnLGUpO2EubGluZVRvKGIrZyxlK2QpO2EuZW5kKCk7YS5zdHJva2UoKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgiaW50ZXJuYWxTdG9yYWdlIiwKUSk7bXhVdGlscy5leHRlbmQoTCxteEFjdG9yKTtMLnByb3RvdHlwZS5keD0yMDtMLnByb3RvdHlwZS5keT0yMDtMLnByb3RvdHlwZS5yZWRyYXdQYXRoPWZ1bmN0aW9uKGEsYixlLGMsZCl7Yj1NYXRoLm1heCgwLE1hdGgubWluKGMscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImR4Iix0aGlzLmR4KSkpKTtlPU1hdGgubWF4KDAsTWF0aC5taW4oZCxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwiZHkiLHRoaXMuZHkpKSkpO3BhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJzaXplIix0aGlzLnNpemUpKTt2YXIgZj1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQVJDU0laRSxteENvbnN0YW50cy5MSU5FX0FSQ1NJWkUpLzI7dGhpcy5hZGRQb2ludHMoYSxbbmV3IG14UG9pbnQoMCwwKSxuZXcgbXhQb2ludChjLDApLG5ldyBteFBvaW50KGMsZSksbmV3IG14UG9pbnQoYixlKSxuZXcgbXhQb2ludChiLApkKSxuZXcgbXhQb2ludCgwLGQpXSx0aGlzLmlzUm91bmRlZCxmLCEwKTthLmVuZCgpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJjb3JuZXIiLEwpO214VXRpbHMuZXh0ZW5kKGphLG14QWN0b3IpO2phLnByb3RvdHlwZS5yZWRyYXdQYXRoPWZ1bmN0aW9uKGEsYixlLGMsZCl7YS5tb3ZlVG8oMCwwKTthLmxpbmVUbygwLGQpO2EuZW5kKCk7YS5tb3ZlVG8oYywwKTthLmxpbmVUbyhjLGQpO2EuZW5kKCk7YS5tb3ZlVG8oMCxkLzIpO2EubGluZVRvKGMsZC8yKTthLmVuZCgpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJjcm9zc2JhciIsamEpO214VXRpbHMuZXh0ZW5kKFAsbXhBY3Rvcik7UC5wcm90b3R5cGUuZHg9MjA7UC5wcm90b3R5cGUuZHk9MjA7UC5wcm90b3R5cGUucmVkcmF3UGF0aD1mdW5jdGlvbihhLGIsZSxjLGQpe2I9TWF0aC5tYXgoMCxNYXRoLm1pbihjLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJkeCIsdGhpcy5keCkpKSk7CmU9TWF0aC5tYXgoMCxNYXRoLm1pbihkLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJkeSIsdGhpcy5keSkpKSk7cGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInNpemUiLHRoaXMuc2l6ZSkpO3ZhciBmPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9BUkNTSVpFLG14Q29uc3RhbnRzLkxJTkVfQVJDU0laRSkvMjt0aGlzLmFkZFBvaW50cyhhLFtuZXcgbXhQb2ludCgwLDApLG5ldyBteFBvaW50KGMsMCksbmV3IG14UG9pbnQoYyxlKSxuZXcgbXhQb2ludCgoYytiKS8yLGUpLG5ldyBteFBvaW50KChjK2IpLzIsZCksbmV3IG14UG9pbnQoKGMtYikvMixkKSxuZXcgbXhQb2ludCgoYy1iKS8yLGUpLG5ldyBteFBvaW50KDAsZSldLHRoaXMuaXNSb3VuZGVkLGYsITApO2EuZW5kKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoInRlZSIsUCk7bXhVdGlscy5leHRlbmQoUyxteEFjdG9yKTtTLnByb3RvdHlwZS5hcnJvd1dpZHRoPQouMztTLnByb3RvdHlwZS5hcnJvd1NpemU9LjI7Uy5wcm90b3R5cGUucmVkcmF3UGF0aD1mdW5jdGlvbihhLGIsZSxjLGQpe3ZhciBmPWQqTWF0aC5tYXgoMCxNYXRoLm1pbigxLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJhcnJvd1dpZHRoIix0aGlzLmFycm93V2lkdGgpKSkpO2I9YypNYXRoLm1heCgwLE1hdGgubWluKDEscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImFycm93U2l6ZSIsdGhpcy5hcnJvd1NpemUpKSkpO2U9KGQtZikvMjt2YXIgZj1lK2YsZz1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQVJDU0laRSxteENvbnN0YW50cy5MSU5FX0FSQ1NJWkUpLzI7dGhpcy5hZGRQb2ludHMoYSxbbmV3IG14UG9pbnQoMCxlKSxuZXcgbXhQb2ludChjLWIsZSksbmV3IG14UG9pbnQoYy1iLDApLG5ldyBteFBvaW50KGMsZC8yKSxuZXcgbXhQb2ludChjLWIsZCksbmV3IG14UG9pbnQoYy1iLGYpLApuZXcgbXhQb2ludCgwLGYpXSx0aGlzLmlzUm91bmRlZCxnLCEwKTthLmVuZCgpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJzaW5nbGVBcnJvdyIsUyk7bXhVdGlscy5leHRlbmQoaWEsbXhBY3Rvcik7aWEucHJvdG90eXBlLnJlZHJhd1BhdGg9ZnVuY3Rpb24oYSxiLGUsYyxkKXt2YXIgZj1kKk1hdGgubWF4KDAsTWF0aC5taW4oMSxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwiYXJyb3dXaWR0aCIsUy5wcm90b3R5cGUuYXJyb3dXaWR0aCkpKSk7Yj1jKk1hdGgubWF4KDAsTWF0aC5taW4oMSxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwiYXJyb3dTaXplIixTLnByb3RvdHlwZS5hcnJvd1NpemUpKSkpO2U9KGQtZikvMjt2YXIgZj1lK2YsZz1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQVJDU0laRSxteENvbnN0YW50cy5MSU5FX0FSQ1NJWkUpLzI7dGhpcy5hZGRQb2ludHMoYSxbbmV3IG14UG9pbnQoMCwKZC8yKSxuZXcgbXhQb2ludChiLDApLG5ldyBteFBvaW50KGIsZSksbmV3IG14UG9pbnQoYy1iLGUpLG5ldyBteFBvaW50KGMtYiwwKSxuZXcgbXhQb2ludChjLGQvMiksbmV3IG14UG9pbnQoYy1iLGQpLG5ldyBteFBvaW50KGMtYixmKSxuZXcgbXhQb2ludChiLGYpLG5ldyBteFBvaW50KGIsZCldLHRoaXMuaXNSb3VuZGVkLGcsITApO2EuZW5kKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoImRvdWJsZUFycm93IixpYSk7bXhVdGlscy5leHRlbmQocmEsbXhBY3Rvcik7cmEucHJvdG90eXBlLnNpemU9LjE7cmEucHJvdG90eXBlLnJlZHJhd1BhdGg9ZnVuY3Rpb24oYSxiLGUsYyxkKXtiPWMqTWF0aC5tYXgoMCxNYXRoLm1pbigxLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJzaXplIix0aGlzLnNpemUpKSkpO2EubW92ZVRvKGIsMCk7YS5saW5lVG8oYywwKTthLnF1YWRUbyhjLTIqYixkLzIsYyxkKTthLmxpbmVUbyhiLGQpO2EucXVhZFRvKGItCjIqYixkLzIsYiwwKTthLmNsb3NlKCk7YS5lbmQoKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgiZGF0YVN0b3JhZ2UiLHJhKTtteFV0aWxzLmV4dGVuZChNLG14QWN0b3IpO00ucHJvdG90eXBlLnJlZHJhd1BhdGg9ZnVuY3Rpb24oYSxiLGUsYyxkKXthLm1vdmVUbygwLDApO2EucXVhZFRvKGMsMCxjLGQvMik7YS5xdWFkVG8oYyxkLDAsZCk7YS5jbG9zZSgpO2EuZW5kKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoIm9yIixNKTtteFV0aWxzLmV4dGVuZChtYSxteEFjdG9yKTttYS5wcm90b3R5cGUucmVkcmF3UGF0aD1mdW5jdGlvbihhLGIsZSxjLGQpe2EubW92ZVRvKDAsMCk7YS5xdWFkVG8oYywwLGMsZC8yKTthLnF1YWRUbyhjLGQsMCxkKTthLnF1YWRUbyhjLzIsZC8yLDAsMCk7YS5jbG9zZSgpO2EuZW5kKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoInhvciIsbWEpO214VXRpbHMuZXh0ZW5kKFcsbXhBY3Rvcik7Vy5wcm90b3R5cGUuc2l6ZT0KMjA7Vy5wcm90b3R5cGUuaXNSb3VuZGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4hMH07Vy5wcm90b3R5cGUucmVkcmF3UGF0aD1mdW5jdGlvbihhLGIsZSxjLGQpe2I9TWF0aC5taW4oYy8yLE1hdGgubWluKGQscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInNpemUiLHRoaXMuc2l6ZSkpKSk7ZT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQVJDU0laRSxteENvbnN0YW50cy5MSU5FX0FSQ1NJWkUpLzI7dGhpcy5hZGRQb2ludHMoYSxbbmV3IG14UG9pbnQoYiwwKSxuZXcgbXhQb2ludChjLWIsMCksbmV3IG14UG9pbnQoYywuOCpiKSxuZXcgbXhQb2ludChjLGQpLG5ldyBteFBvaW50KDAsZCksbmV3IG14UG9pbnQoMCwuOCpiKV0sdGhpcy5pc1JvdW5kZWQsZSwhMCk7YS5lbmQoKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgibG9vcExpbWl0IixXKTtteFV0aWxzLmV4dGVuZChWLG14QWN0b3IpO1YucHJvdG90eXBlLnNpemU9Ci4zNzU7Vi5wcm90b3R5cGUuaXNSb3VuZGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4hMH07Vi5wcm90b3R5cGUucmVkcmF3UGF0aD1mdW5jdGlvbihhLGIsZSxjLGQpe2I9ZCpNYXRoLm1heCgwLE1hdGgubWluKDEscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInNpemUiLHRoaXMuc2l6ZSkpKSk7ZT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQVJDU0laRSxteENvbnN0YW50cy5MSU5FX0FSQ1NJWkUpLzI7dGhpcy5hZGRQb2ludHMoYSxbbmV3IG14UG9pbnQoMCwwKSxuZXcgbXhQb2ludChjLDApLG5ldyBteFBvaW50KGMsZC1iKSxuZXcgbXhQb2ludChjLzIsZCksbmV3IG14UG9pbnQoMCxkLWIpXSx0aGlzLmlzUm91bmRlZCxlLCEwKTthLmVuZCgpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJvZmZQYWdlQ29ubmVjdG9yIixWKTtteFV0aWxzLmV4dGVuZChwYSxteEVsbGlwc2UpO3BhLnByb3RvdHlwZS5wYWludFZlcnRleFNoYXBlPQpmdW5jdGlvbihhLGIsZSxjLGQpe214RWxsaXBzZS5wcm90b3R5cGUucGFpbnRWZXJ0ZXhTaGFwZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YS5iZWdpbigpO2EubW92ZVRvKGIrYy8yLGUrZCk7YS5saW5lVG8oYitjLGUrZCk7YS5lbmQoKTthLnN0cm9rZSgpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJ0YXBlRGF0YSIscGEpO214VXRpbHMuZXh0ZW5kKHNhLG14RWxsaXBzZSk7c2EucHJvdG90eXBlLnBhaW50VmVydGV4U2hhcGU9ZnVuY3Rpb24oYSxiLGUsYyxkKXtteEVsbGlwc2UucHJvdG90eXBlLnBhaW50VmVydGV4U2hhcGUuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Euc2V0U2hhZG93KCExKTthLmJlZ2luKCk7YS5tb3ZlVG8oYixlK2QvMik7YS5saW5lVG8oYitjLGUrZC8yKTthLmVuZCgpO2Euc3Ryb2tlKCk7YS5iZWdpbigpO2EubW92ZVRvKGIrYy8yLGUpO2EubGluZVRvKGIrYy8yLGUrZCk7YS5lbmQoKTthLnN0cm9rZSgpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJvckVsbGlwc2UiLApzYSk7bXhVdGlscy5leHRlbmQoaGEsbXhFbGxpcHNlKTtoYS5wcm90b3R5cGUucGFpbnRWZXJ0ZXhTaGFwZT1mdW5jdGlvbihhLGIsZSxjLGQpe214RWxsaXBzZS5wcm90b3R5cGUucGFpbnRWZXJ0ZXhTaGFwZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YS5zZXRTaGFkb3coITEpO2EuYmVnaW4oKTthLm1vdmVUbyhiKy4xNDUqYyxlKy4xNDUqZCk7YS5saW5lVG8oYisuODU1KmMsZSsuODU1KmQpO2EuZW5kKCk7YS5zdHJva2UoKTthLmJlZ2luKCk7YS5tb3ZlVG8oYisuODU1KmMsZSsuMTQ1KmQpO2EubGluZVRvKGIrLjE0NSpjLGUrLjg1NSpkKTthLmVuZCgpO2Euc3Ryb2tlKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoInN1bUVsbGlwc2UiLGhhKTtteFV0aWxzLmV4dGVuZChxYSxteFJob21idXMpO3FhLnByb3RvdHlwZS5wYWludFZlcnRleFNoYXBlPWZ1bmN0aW9uKGEsYixlLGMsZCl7bXhSaG9tYnVzLnByb3RvdHlwZS5wYWludFZlcnRleFNoYXBlLmFwcGx5KHRoaXMsCmFyZ3VtZW50cyk7YS5zZXRTaGFkb3coITEpO2EuYmVnaW4oKTthLm1vdmVUbyhiLGUrZC8yKTthLmxpbmVUbyhiK2MsZStkLzIpO2EuZW5kKCk7YS5zdHJva2UoKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgic29ydFNoYXBlIixxYSk7bXhVdGlscy5leHRlbmQobmEsbXhFbGxpcHNlKTtuYS5wcm90b3R5cGUucGFpbnRWZXJ0ZXhTaGFwZT1mdW5jdGlvbihhLGIsZSxjLGQpe2EuYmVnaW4oKTthLm1vdmVUbyhiLGUpO2EubGluZVRvKGIrYyxlKTthLmxpbmVUbyhiK2MvMixlK2QvMik7YS5jbG9zZSgpO2EuZmlsbEFuZFN0cm9rZSgpO2EuYmVnaW4oKTthLm1vdmVUbyhiLGUrZCk7YS5saW5lVG8oYitjLGUrZCk7YS5saW5lVG8oYitjLzIsZStkLzIpO2EuY2xvc2UoKTthLmZpbGxBbmRTdHJva2UoKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgiY29sbGF0ZSIsbmEpO214VXRpbHMuZXh0ZW5kKHphLG14RWxsaXBzZSk7emEucHJvdG90eXBlLnBhaW50VmVydGV4U2hhcGU9CmZ1bmN0aW9uKGEsYixlLGMsZCl7dmFyIGY9ZStkLTU7YS5iZWdpbigpO2EubW92ZVRvKGIsZSk7YS5saW5lVG8oYixlK2QpO2EubW92ZVRvKGIsZik7YS5saW5lVG8oYisxMCxmLTUpO2EubW92ZVRvKGIsZik7YS5saW5lVG8oYisxMCxmKzUpO2EubW92ZVRvKGIsZik7YS5saW5lVG8oYitjLGYpO2EubW92ZVRvKGIrYyxlKTthLmxpbmVUbyhiK2MsZStkKTthLm1vdmVUbyhiK2MsZik7YS5saW5lVG8oYitjLTEwLGYtNSk7YS5tb3ZlVG8oYitjLGYpO2EubGluZVRvKGIrYy0xMCxmKzUpO2EuZW5kKCk7YS5zdHJva2UoKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgiZGltZW5zaW9uIix6YSk7bXhVdGlscy5leHRlbmQoQmEsbXhFbGxpcHNlKTtCYS5wcm90b3R5cGUucGFpbnRWZXJ0ZXhTaGFwZT1mdW5jdGlvbihhLGIsZSxjLGQpe3RoaXMub3V0bGluZXx8YS5zZXRTdHJva2VDb2xvcihudWxsKTtteFJlY3RhbmdsZVNoYXBlLnByb3RvdHlwZS5wYWludEJhY2tncm91bmQuYXBwbHkodGhpcywKYXJndW1lbnRzKTtudWxsIT10aGlzLnN0eWxlJiYoYS5zZXRTdHJva2VDb2xvcih0aGlzLnN0cm9rZSksYS5yZWN0KGIsZSxjLGQpLGEuZmlsbCgpLGEuYmVnaW4oKSxhLm1vdmVUbyhiLGUpLCIxIj09bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJ0b3AiLCIxIik/YS5saW5lVG8oYitjLGUpOmEubW92ZVRvKGIrYyxlKSwiMSI9PW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwicmlnaHQiLCIxIik/YS5saW5lVG8oYitjLGUrZCk6YS5tb3ZlVG8oYitjLGUrZCksIjEiPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImJvdHRvbSIsIjEiKT9hLmxpbmVUbyhiLGUrZCk6YS5tb3ZlVG8oYixlK2QpLCIxIj09bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJsZWZ0IiwiMSIpJiZhLmxpbmVUbyhiLGUpLGEuZW5kKCksYS5zdHJva2UoKSl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoInBhcnRpYWxSZWN0YW5nbGUiLEJhKTtteFV0aWxzLmV4dGVuZChvYSxteEVsbGlwc2UpOwpvYS5wcm90b3R5cGUucGFpbnRWZXJ0ZXhTaGFwZT1mdW5jdGlvbihhLGIsZSxjLGQpe214RWxsaXBzZS5wcm90b3R5cGUucGFpbnRWZXJ0ZXhTaGFwZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YS5zZXRTaGFkb3coITEpO2EuYmVnaW4oKTsidmVydGljYWwiPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImxpbmUiKT8oYS5tb3ZlVG8oYitjLzIsZSksYS5saW5lVG8oYitjLzIsZStkKSk6KGEubW92ZVRvKGIsZStkLzIpLGEubGluZVRvKGIrYyxlK2QvMikpO2EuZW5kKCk7YS5zdHJva2UoKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgibGluZUVsbGlwc2UiLG9hKTtteFV0aWxzLmV4dGVuZCh3YSxteEFjdG9yKTt3YS5wcm90b3R5cGUucmVkcmF3UGF0aD1mdW5jdGlvbihhLGIsZSxjLGQpe2I9TWF0aC5taW4oYyxkLzIpO2EubW92ZVRvKDAsMCk7YS5saW5lVG8oYy1iLDApO2EucXVhZFRvKGMsMCxjLGQvMik7YS5xdWFkVG8oYyxkLGMtYixkKTthLmxpbmVUbygwLGQpOwphLmNsb3NlKCk7YS5lbmQoKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgiZGVsYXkiLHdhKTtteFV0aWxzLmV4dGVuZCh4YSxteEFjdG9yKTt4YS5wcm90b3R5cGUuc2l6ZT0uMjt4YS5wcm90b3R5cGUucmVkcmF3UGF0aD1mdW5jdGlvbihhLGIsZSxjLGQpe2I9TWF0aC5taW4oZCxjKTt2YXIgZj1NYXRoLm1heCgwLE1hdGgubWluKGIsYipwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwic2l6ZSIsdGhpcy5zaXplKSkpKTtiPShkLWYpLzI7ZT1iK2Y7dmFyIGc9KGMtZikvMixmPWcrZjthLm1vdmVUbygwLGIpO2EubGluZVRvKGcsYik7YS5saW5lVG8oZywwKTthLmxpbmVUbyhmLDApO2EubGluZVRvKGYsYik7YS5saW5lVG8oYyxiKTthLmxpbmVUbyhjLGUpO2EubGluZVRvKGYsZSk7YS5saW5lVG8oZixkKTthLmxpbmVUbyhnLGQpO2EubGluZVRvKGcsZSk7YS5saW5lVG8oMCxlKTthLmNsb3NlKCk7YS5lbmQoKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgiY3Jvc3MiLAp4YSk7bXhVdGlscy5leHRlbmQoa2EsbXhBY3Rvcik7a2EucHJvdG90eXBlLnNpemU9LjI1O2thLnByb3RvdHlwZS5yZWRyYXdQYXRoPWZ1bmN0aW9uKGEsYixlLGMsZCl7Yj1NYXRoLm1pbihjLGQvMik7ZT1NYXRoLm1pbihjLWIsTWF0aC5tYXgoMCxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwic2l6ZSIsdGhpcy5zaXplKSkpKmMpO2EubW92ZVRvKDAsZC8yKTthLmxpbmVUbyhlLDApO2EubGluZVRvKGMtYiwwKTthLnF1YWRUbyhjLDAsYyxkLzIpO2EucXVhZFRvKGMsZCxjLWIsZCk7YS5saW5lVG8oZSxkKTthLmNsb3NlKCk7YS5lbmQoKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgiZGlzcGxheSIsa2EpO214VXRpbHMuZXh0ZW5kKHRhLG14Q29ubmVjdG9yKTt0YS5wcm90b3R5cGUub3JpZ1BhaW50RWRnZVNoYXBlPXRhLnByb3RvdHlwZS5wYWludEVkZ2VTaGFwZTt0YS5wcm90b3R5cGUucGFpbnRFZGdlU2hhcGU9ZnVuY3Rpb24oYSxiLGUpe2Zvcih2YXIgYz0KW10sZD0wO2Q8Yi5sZW5ndGg7ZCsrKWMucHVzaChteFV0aWxzLmNsb25lKGJbZF0pKTt2YXIgZD1hLnN0YXRlLmRhc2hlZCxmPWEuc3RhdGUuZml4RGFzaDt0YS5wcm90b3R5cGUub3JpZ1BhaW50RWRnZVNoYXBlLmFwcGx5KHRoaXMsW2EsYyxlXSk7Mzw9YS5zdGF0ZS5zdHJva2VXaWR0aCYmKGM9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJmaWxsQ29sb3IiLG51bGwpLG51bGwhPWMmJihhLnNldFN0cm9rZUNvbG9yKGMpLGEuc2V0U3Ryb2tlV2lkdGgoYS5zdGF0ZS5zdHJva2VXaWR0aC0yKSxhLnNldERhc2hlZChkLGYpLHRhLnByb3RvdHlwZS5vcmlnUGFpbnRFZGdlU2hhcGUuYXBwbHkodGhpcyxbYSxiLGVdKSkpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJmaWxsZWRFZGdlIix0YSk7InVuZGVmaW5lZCIhPT10eXBlb2YgU3R5bGVGb3JtYXRQYW5lbCYmZnVuY3Rpb24oKXt2YXIgYT1TdHlsZUZvcm1hdFBhbmVsLnByb3RvdHlwZS5nZXRDdXN0b21Db2xvcnM7ClN0eWxlRm9ybWF0UGFuZWwucHJvdG90eXBlLmdldEN1c3RvbUNvbG9ycz1mdW5jdGlvbigpe3ZhciBiPXRoaXMuZm9ybWF0LmdldFNlbGVjdGlvblN0YXRlKCksZT1hLmFwcGx5KHRoaXMsYXJndW1lbnRzKTsidW1sRnJhbWUiPT1iLnN0eWxlLnNoYXBlJiZlLnB1c2goe3RpdGxlOm14UmVzb3VyY2VzLmdldCgibGFuZUNvbG9yIiksa2V5OiJzd2ltbGFuZUZpbGxDb2xvciIsZGVmYXVsdFZhbHVlOiIjZmZmZmZmIn0pO3JldHVybiBlfX0oKTtteE1hcmtlci5hZGRNYXJrZXIoImRhc2giLGZ1bmN0aW9uKGEsYixlLGMsZCxmLGcsbCx1LHApe3ZhciBuPWQqKGcrdSsxKSx5PWYqKGcrdSsxKTtyZXR1cm4gZnVuY3Rpb24oKXthLmJlZ2luKCk7YS5tb3ZlVG8oYy54LW4vMi15LzIsYy55LXkvMituLzIpO2EubGluZVRvKGMueCt5LzItMypuLzIsYy55LTMqeS8yLW4vMik7YS5zdHJva2UoKX19KTtteE1hcmtlci5hZGRNYXJrZXIoImJveCIsZnVuY3Rpb24oYSxiLGUsYyxkLGYsZyxsLHUscCl7dmFyIG49CmQqKGcrdSsxKSx5PWYqKGcrdSsxKSx0PWMueCtuLzIsaz1jLnkreS8yO2MueC09bjtjLnktPXk7cmV0dXJuIGZ1bmN0aW9uKCl7YS5iZWdpbigpO2EubW92ZVRvKHQtbi8yLXkvMixrLXkvMituLzIpO2EubGluZVRvKHQtbi8yK3kvMixrLXkvMi1uLzIpO2EubGluZVRvKHQreS8yLTMqbi8yLGstMyp5LzItbi8yKTthLmxpbmVUbyh0LXkvMi0zKm4vMixrLTMqeS8yK24vMik7YS5jbG9zZSgpO3A/YS5maWxsQW5kU3Ryb2tlKCk6YS5zdHJva2UoKX19KTtteE1hcmtlci5hZGRNYXJrZXIoImNyb3NzIixmdW5jdGlvbihhLGIsZSxjLGQsZixnLGwsdSxwKXt2YXIgbj1kKihnK3UrMSkseT1mKihnK3UrMSk7cmV0dXJuIGZ1bmN0aW9uKCl7YS5iZWdpbigpO2EubW92ZVRvKGMueC1uLzIteS8yLGMueS15LzIrbi8yKTthLmxpbmVUbyhjLngreS8yLTMqbi8yLGMueS0zKnkvMi1uLzIpO2EubW92ZVRvKGMueC1uLzIreS8yLGMueS15LzItbi8yKTthLmxpbmVUbyhjLngteS8yLTMqbi8yLGMueS0KMyp5LzIrbi8yKTthLnN0cm9rZSgpfX0pO214TWFya2VyLmFkZE1hcmtlcigiY2lyY2xlIixBYSk7bXhNYXJrZXIuYWRkTWFya2VyKCJjaXJjbGVQbHVzIixmdW5jdGlvbihhLGIsZSxjLGQsZixnLGwsdSxwKXt2YXIgbj1jLmNsb25lKCkseT1BYS5hcHBseSh0aGlzLGFyZ3VtZW50cyksdD1kKihnKzIqdSksaz1mKihnKzIqdSk7cmV0dXJuIGZ1bmN0aW9uKCl7eS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YS5iZWdpbigpO2EubW92ZVRvKG4ueC1kKnUsbi55LWYqdSk7YS5saW5lVG8obi54LTIqdCtkKnUsbi55LTIqaytmKnUpO2EubW92ZVRvKG4ueC10LWsrZip1LG4ueS1rK3QtZCp1KTthLmxpbmVUbyhuLngray10LWYqdSxuLnktay10K2QqdSk7YS5zdHJva2UoKX19KTtteE1hcmtlci5hZGRNYXJrZXIoImhhbGZDaXJjbGUiLGZ1bmN0aW9uKGEsYixlLGMsZCxmLGcsbCx1LHApe3ZhciBuPWQqKGcrdSsxKSx5PWYqKGcrdSsxKSx0PWMuY2xvbmUoKTtjLngtPW47Yy55LT15O3JldHVybiBmdW5jdGlvbigpe2EuYmVnaW4oKTsKYS5tb3ZlVG8odC54LXksdC55K24pO2EucXVhZFRvKGMueC15LGMueStuLGMueCxjLnkpO2EucXVhZFRvKGMueCt5LGMueS1uLHQueCt5LHQueS1uKTthLnN0cm9rZSgpfX0pO214TWFya2VyLmFkZE1hcmtlcigiYXN5bmMiLGZ1bmN0aW9uKGEsYixlLGMsZCxmLGcsbCx1LHApe2I9ZCp1KjEuMTE4O2U9Zip1KjEuMTE4O2QqPWcrdTtmKj1nK3U7dmFyIG49Yy5jbG9uZSgpO24ueC09YjtuLnktPWU7Yy54Kz0xKi1kLWI7Yy55Kz0xKi1mLWU7cmV0dXJuIGZ1bmN0aW9uKCl7YS5iZWdpbigpO2EubW92ZVRvKG4ueCxuLnkpO2w/YS5saW5lVG8obi54LWQtZi8yLG4ueS1mK2QvMik6YS5saW5lVG8obi54K2YvMi1kLG4ueS1mLWQvMik7YS5saW5lVG8obi54LWQsbi55LWYpO2EuY2xvc2UoKTtwP2EuZmlsbEFuZFN0cm9rZSgpOmEuc3Ryb2tlKCl9fSk7bXhNYXJrZXIuYWRkTWFya2VyKCJvcGVuQXN5bmMiLGZ1bmN0aW9uKGEpe2E9bnVsbCE9YT9hOjI7cmV0dXJuIGZ1bmN0aW9uKGIsZSxjLApkLGYsZyxsLHUscCxuKXtmKj1sK3A7Zyo9bCtwO3ZhciB5PWQuY2xvbmUoKTtyZXR1cm4gZnVuY3Rpb24oKXtiLmJlZ2luKCk7Yi5tb3ZlVG8oeS54LHkueSk7dT9iLmxpbmVUbyh5LngtZi1nL2EseS55LWcrZi9hKTpiLmxpbmVUbyh5LngrZy9hLWYseS55LWctZi9hKTtiLnN0cm9rZSgpfX19KDIpKTtpZigidW5kZWZpbmVkIiE9PXR5cGVvZiBteFZlcnRleEhhbmRsZXIpe3ZhciBPYT1mdW5jdGlvbihhLGIsZSl7cmV0dXJuIERhKGEsWyJ3aWR0aCJdLGIsZnVuY3Rpb24oYixjLGQsZixnKXtnPWEuc2hhcGUuZ2V0RWRnZVdpZHRoKCkqYS52aWV3LnNjYWxlK2U7cmV0dXJuIG5ldyBteFBvaW50KGYueCtjKmIvNCtkKmcvMixmLnkrZCpiLzQtYypnLzIpfSxmdW5jdGlvbihiLGMsZCxmLGcsbCl7Yj1NYXRoLnNxcnQobXhVdGlscy5wdFNlZ0Rpc3RTcShmLngsZi55LGcueCxnLnksbC54LGwueSkpO2Euc3R5bGUud2lkdGg9TWF0aC5yb3VuZCgyKmIpL2Eudmlldy5zY2FsZS1lfSl9LERhPQpmdW5jdGlvbihhLGIsZSxjLGQpe3JldHVybiBVKGEsYixmdW5jdGlvbihiKXt2YXIgZD1hLmFic29sdXRlUG9pbnRzLGY9ZC5sZW5ndGgtMTtiPWEudmlldy50cmFuc2xhdGU7dmFyIGc9YS52aWV3LnNjYWxlLGw9ZT9kWzBdOmRbZl0sZD1lP2RbMV06ZFtmLTFdLGY9ZC54LWwueCx1PWQueS1sLnkscD1NYXRoLnNxcnQoZipmK3UqdSksbD1jLmNhbGwodGhpcyxwLGYvcCx1L3AsbCxkKTtyZXR1cm4gbmV3IG14UG9pbnQobC54L2ctYi54LGwueS9nLWIueSl9LGZ1bmN0aW9uKGIsYyxmKXt2YXIgZz1hLmFic29sdXRlUG9pbnRzLGw9Zy5sZW5ndGgtMTtiPWEudmlldy50cmFuc2xhdGU7dmFyIHU9YS52aWV3LnNjYWxlLHA9ZT9nWzBdOmdbbF0sZz1lP2dbMV06Z1tsLTFdLGw9Zy54LXAueCxuPWcueS1wLnkseT1NYXRoLnNxcnQobCpsK24qbik7Yy54PShjLngrYi54KSp1O2MueT0oYy55K2IueSkqdTtkLmNhbGwodGhpcyx5LGwveSxuL3kscCxnLGMsZil9KX0seWE9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybltVKGIsClsiYXJyb3dXaWR0aCIsImFycm93U2l6ZSJdLGZ1bmN0aW9uKGIpe3ZhciBlPU1hdGgubWF4KDAsTWF0aC5taW4oMSxteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsImFycm93V2lkdGgiLFMucHJvdG90eXBlLmFycm93V2lkdGgpKSksYz1NYXRoLm1heCgwLE1hdGgubWluKGEsbXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLCJhcnJvd1NpemUiLFMucHJvdG90eXBlLmFycm93U2l6ZSkpKTtyZXR1cm4gbmV3IG14UG9pbnQoYi54KygxLWMpKmIud2lkdGgsYi55KygxLWUpKmIuaGVpZ2h0LzIpfSxmdW5jdGlvbihiLGUpe3RoaXMuc3RhdGUuc3R5bGUuYXJyb3dXaWR0aD1NYXRoLm1heCgwLE1hdGgubWluKDEsTWF0aC5hYnMoYi55K2IuaGVpZ2h0LzItZS55KS9iLmhlaWdodCoyKSk7dGhpcy5zdGF0ZS5zdHlsZS5hcnJvd1NpemU9TWF0aC5tYXgoMCxNYXRoLm1pbihhLChiLngrYi53aWR0aC1lLngpL2Iud2lkdGgpKX0pXX19LEthPWZ1bmN0aW9uKGEsYixlKXtyZXR1cm4gZnVuY3Rpb24oYyl7dmFyIGQ9CltVKGMsWyJzaXplIl0sZnVuY3Rpb24oZSl7dmFyIGM9TWF0aC5tYXgoMCxNYXRoLm1pbihlLndpZHRoLE1hdGgubWluKGUuaGVpZ2h0LHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLCJzaXplIixiKSkpKSkqYTtyZXR1cm4gbmV3IG14UG9pbnQoZS54K2MsZS55K2MpfSxmdW5jdGlvbihiLGUpe3RoaXMuc3RhdGUuc3R5bGUuc2l6ZT1NYXRoLnJvdW5kKE1hdGgubWF4KDAsTWF0aC5taW4oTWF0aC5taW4oYi53aWR0aCxlLngtYi54KSxNYXRoLm1pbihiLmhlaWdodCxlLnktYi55KSkpL2EpfSwhMSldO2UmJm14VXRpbHMuZ2V0VmFsdWUoYy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9ST1VOREVELCExKSYmZC5wdXNoKHZhKGMpKTtyZXR1cm4gZH19LEVhPWZ1bmN0aW9uKGEsYixlLGMsZCl7ZT1udWxsIT1lP2U6MTtyZXR1cm4gZnVuY3Rpb24oZil7dmFyIGc9W1UoZixbInNpemUiXSxmdW5jdGlvbihiKXt2YXIgZT1udWxsIT1kPyIwIiE9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLAoiZml4ZWRTaXplIiwiMCIpOm51bGwsYz1wYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSwic2l6ZSIsZT9kOmEpKTtyZXR1cm4gbmV3IG14UG9pbnQoYi54K01hdGgubWF4KDAsTWF0aC5taW4oYi53aWR0aCxjKihlPzE6Yi53aWR0aCkpKSxiLmdldENlbnRlclkoKSl9LGZ1bmN0aW9uKGEsYixjKXthPW51bGwhPWQmJiIwIiE9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLCJmaXhlZFNpemUiLCIwIik/Yi54LWEueDpNYXRoLm1heCgwLE1hdGgubWluKGUsKGIueC1hLngpL2Eud2lkdGgpKTt0aGlzLnN0YXRlLnN0eWxlLnNpemU9YX0sITEsYyldO2ImJm14VXRpbHMuZ2V0VmFsdWUoZi5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9ST1VOREVELCExKSYmZy5wdXNoKHZhKGYpKTtyZXR1cm4gZ319LExhPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgZT1bVShiLFsic2l6ZSJdLGZ1bmN0aW9uKGIpe3ZhciBlPU1hdGgubWF4KDAsCk1hdGgubWluKGEscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsInNpemUiLG4ucHJvdG90eXBlLnNpemUpKSkpO3JldHVybiBuZXcgbXhQb2ludChiLngrZSpiLndpZHRoKi43NSxiLnkrYi5oZWlnaHQvNCl9LGZ1bmN0aW9uKGIsZSl7dGhpcy5zdGF0ZS5zdHlsZS5zaXplPU1hdGgubWF4KDAsTWF0aC5taW4oYSwoZS54LWIueCkvKC43NSpiLndpZHRoKSkpfSwhMSwhMCldO214VXRpbHMuZ2V0VmFsdWUoYi5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9ST1VOREVELCExKSYmZS5wdXNoKHZhKGIpKTtyZXR1cm4gZX19LENhPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEpe3ZhciBiPVtdO214VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9ST1VOREVELCExKSYmYi5wdXNoKHZhKGEpKTtyZXR1cm4gYn19LHZhPWZ1bmN0aW9uKGEsYil7cmV0dXJuIFUoYSxbbXhDb25zdGFudHMuU1RZTEVfQVJDU0laRV0sZnVuY3Rpb24oZSl7dmFyIGM9Cm51bGwhPWI/YjplLmhlaWdodC84O2lmKCIxIj09bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FCU09MVVRFX0FSQ1NJWkUsMCkpe3ZhciBkPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9BUkNTSVpFLG14Q29uc3RhbnRzLkxJTkVfQVJDU0laRSkvMjtyZXR1cm4gbmV3IG14UG9pbnQoZS54K2Uud2lkdGgtTWF0aC5taW4oZS53aWR0aC8yLGQpLGUueStjKX1kPU1hdGgubWF4KDAscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQVJDU0laRSwxMDAqbXhDb25zdGFudHMuUkVDVEFOR0xFX1JPVU5ESU5HX0ZBQ1RPUikpKS8xMDA7cmV0dXJuIG5ldyBteFBvaW50KGUueCtlLndpZHRoLU1hdGgubWluKE1hdGgubWF4KGUud2lkdGgvMixlLmhlaWdodC8yKSxNYXRoLm1pbihlLndpZHRoLGUuaGVpZ2h0KSpkKSxlLnkrYyl9LGZ1bmN0aW9uKGIsZSxjKXsiMSI9PW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSwKbXhDb25zdGFudHMuU1RZTEVfQUJTT0xVVEVfQVJDU0laRSwwKT90aGlzLnN0YXRlLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0FSQ1NJWkVdPU1hdGgucm91bmQoTWF0aC5tYXgoMCxNYXRoLm1pbihiLndpZHRoLDIqKGIueCtiLndpZHRoLWUueCkpKSk6dGhpcy5zdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9BUkNTSVpFXT1NYXRoLnJvdW5kKE1hdGgubWluKDUwLE1hdGgubWF4KDAsMTAwKihiLndpZHRoLWUueCtiLngpL01hdGgubWluKGIud2lkdGgsYi5oZWlnaHQpKSkpfSl9LFU9ZnVuY3Rpb24oYSxiLGUsYyxkLGYsZyl7dmFyIGw9bmV3IG14SGFuZGxlKGEsbnVsbCxteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnNlY29uZGFyeUhhbmRsZUltYWdlKTtsLmV4ZWN1dGU9ZnVuY3Rpb24oYSl7Zm9yKHZhciBlPTA7ZTxiLmxlbmd0aDtlKyspdGhpcy5jb3B5U3R5bGUoYltlXSk7ZyYmZyhhKX07bC5nZXRQb3NpdGlvbj1lO2wuc2V0UG9zaXRpb249YztsLmlnbm9yZUdyaWQ9Cm51bGwhPWQ/ZDohMDtpZihmKXt2YXIgdT1sLnBvc2l0aW9uQ2hhbmdlZDtsLnBvc2l0aW9uQ2hhbmdlZD1mdW5jdGlvbigpe3UuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Eudmlldy5pbnZhbGlkYXRlKHRoaXMuc3RhdGUuY2VsbCk7YS52aWV3LnZhbGlkYXRlKCl9fXJldHVybiBsfSxGYT17bGluazpmdW5jdGlvbihhKXtyZXR1cm5bT2EoYSwhMCwxMCksT2EoYSwhMSwxMCldfSxmbGV4QXJyb3c6ZnVuY3Rpb24oYSl7dmFyIGI9YS52aWV3LmdyYXBoLmdyaWRTaXplL2Eudmlldy5zY2FsZSxlPVtdO214VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9TVEFSVEFSUk9XLG14Q29uc3RhbnRzLk5PTkUpIT1teENvbnN0YW50cy5OT05FJiYoZS5wdXNoKERhKGEsWyJ3aWR0aCIsbXhDb25zdGFudHMuU1RZTEVfU1RBUlRTSVpFLG14Q29uc3RhbnRzLlNUWUxFX0VORFNJWkVdLCEwLGZ1bmN0aW9uKGIsZSxjLGQsZil7Yj0oYS5zaGFwZS5nZXRFZGdlV2lkdGgoKS1hLnNoYXBlLnN0cm9rZXdpZHRoKSoKYS52aWV3LnNjYWxlO2Y9MypteFV0aWxzLmdldE51bWJlcihhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRSxteENvbnN0YW50cy5BUlJPV19TSVpFLzUpKmEudmlldy5zY2FsZTtyZXR1cm4gbmV3IG14UG9pbnQoZC54K2UqKGYrYS5zaGFwZS5zdHJva2V3aWR0aCphLnZpZXcuc2NhbGUpK2MqYi8yLGQueStjKihmK2Euc2hhcGUuc3Ryb2tld2lkdGgqYS52aWV3LnNjYWxlKS1lKmIvMil9LGZ1bmN0aW9uKGUsYyxkLGYsZyxsLHUpe2U9TWF0aC5zcXJ0KG14VXRpbHMucHRTZWdEaXN0U3EoZi54LGYueSxnLngsZy55LGwueCxsLnkpKTtjPW14VXRpbHMucHRMaW5lRGlzdChmLngsZi55LGYueCtkLGYueS1jLGwueCxsLnkpO2Euc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU1RBUlRTSVpFXT1NYXRoLnJvdW5kKDEwMCooYy1hLnNoYXBlLnN0cm9rZXdpZHRoKS8zKS8xMDAvYS52aWV3LnNjYWxlO2Euc3R5bGUud2lkdGg9TWF0aC5yb3VuZCgyKmUpL2Eudmlldy5zY2FsZTtteEV2ZW50LmlzQ29udHJvbERvd24odS5nZXRFdmVudCgpKSYmCihhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0VORFNJWkVdPWEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU1RBUlRTSVpFXSk7bXhFdmVudC5pc0FsdERvd24odS5nZXRFdmVudCgpKXx8TWF0aC5hYnMocGFyc2VGbG9hdChhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRV0pLXBhcnNlRmxvYXQoYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9FTkRTSVpFXSkpPGIvNiYmKGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU1RBUlRTSVpFXT1hLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0VORFNJWkVdKX0pKSxlLnB1c2goRGEoYSxbInN0YXJ0V2lkdGgiLCJlbmRXaWR0aCIsbXhDb25zdGFudHMuU1RZTEVfU1RBUlRTSVpFLG14Q29uc3RhbnRzLlNUWUxFX0VORFNJWkVdLCEwLGZ1bmN0aW9uKGIsZSxjLGQsZil7Yj0oYS5zaGFwZS5nZXRTdGFydEFycm93V2lkdGgoKS1hLnNoYXBlLnN0cm9rZXdpZHRoKSphLnZpZXcuc2NhbGU7Zj0zKm14VXRpbHMuZ2V0TnVtYmVyKGEuc3R5bGUsCm14Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRSxteENvbnN0YW50cy5BUlJPV19TSVpFLzUpKmEudmlldy5zY2FsZTtyZXR1cm4gbmV3IG14UG9pbnQoZC54K2UqKGYrYS5zaGFwZS5zdHJva2V3aWR0aCphLnZpZXcuc2NhbGUpK2MqYi8yLGQueStjKihmK2Euc2hhcGUuc3Ryb2tld2lkdGgqYS52aWV3LnNjYWxlKS1lKmIvMil9LGZ1bmN0aW9uKGUsYyxkLGYsZyxsLHUpe2U9TWF0aC5zcXJ0KG14VXRpbHMucHRTZWdEaXN0U3EoZi54LGYueSxnLngsZy55LGwueCxsLnkpKTtjPW14VXRpbHMucHRMaW5lRGlzdChmLngsZi55LGYueCtkLGYueS1jLGwueCxsLnkpO2Euc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU1RBUlRTSVpFXT1NYXRoLnJvdW5kKDEwMCooYy1hLnNoYXBlLnN0cm9rZXdpZHRoKS8zKS8xMDAvYS52aWV3LnNjYWxlO2Euc3R5bGUuc3RhcnRXaWR0aD1NYXRoLm1heCgwLE1hdGgucm91bmQoMiplKS1hLnNoYXBlLmdldEVkZ2VXaWR0aCgpKS9hLnZpZXcuc2NhbGU7bXhFdmVudC5pc0NvbnRyb2xEb3duKHUuZ2V0RXZlbnQoKSkmJgooYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9FTkRTSVpFXT1hLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRV0sYS5zdHlsZS5lbmRXaWR0aD1hLnN0eWxlLnN0YXJ0V2lkdGgpO214RXZlbnQuaXNBbHREb3duKHUuZ2V0RXZlbnQoKSl8fChNYXRoLmFicyhwYXJzZUZsb2F0KGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU1RBUlRTSVpFXSktcGFyc2VGbG9hdChhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0VORFNJWkVdKSk8Yi82JiYoYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9TVEFSVFNJWkVdPWEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRU5EU0laRV0pLE1hdGguYWJzKHBhcnNlRmxvYXQoYS5zdHlsZS5zdGFydFdpZHRoKS1wYXJzZUZsb2F0KGEuc3R5bGUuZW5kV2lkdGgpKTxiJiYoYS5zdHlsZS5zdGFydFdpZHRoPWEuc3R5bGUuZW5kV2lkdGgpKX0pKSk7bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0VOREFSUk9XLG14Q29uc3RhbnRzLk5PTkUpIT0KbXhDb25zdGFudHMuTk9ORSYmKGUucHVzaChEYShhLFsid2lkdGgiLG14Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRSxteENvbnN0YW50cy5TVFlMRV9FTkRTSVpFXSwhMSxmdW5jdGlvbihiLGUsYyxkLGYpe2I9KGEuc2hhcGUuZ2V0RWRnZVdpZHRoKCktYS5zaGFwZS5zdHJva2V3aWR0aCkqYS52aWV3LnNjYWxlO2Y9MypteFV0aWxzLmdldE51bWJlcihhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0VORFNJWkUsbXhDb25zdGFudHMuQVJST1dfU0laRS81KSphLnZpZXcuc2NhbGU7cmV0dXJuIG5ldyBteFBvaW50KGQueCtlKihmK2Euc2hhcGUuc3Ryb2tld2lkdGgqYS52aWV3LnNjYWxlKS1jKmIvMixkLnkrYyooZithLnNoYXBlLnN0cm9rZXdpZHRoKmEudmlldy5zY2FsZSkrZSpiLzIpfSxmdW5jdGlvbihlLGMsZCxmLGcsbCx1KXtlPU1hdGguc3FydChteFV0aWxzLnB0U2VnRGlzdFNxKGYueCxmLnksZy54LGcueSxsLngsbC55KSk7Yz1teFV0aWxzLnB0TGluZURpc3QoZi54LGYueSwKZi54K2QsZi55LWMsbC54LGwueSk7YS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9FTkRTSVpFXT1NYXRoLnJvdW5kKDEwMCooYy1hLnNoYXBlLnN0cm9rZXdpZHRoKS8zKS8xMDAvYS52aWV3LnNjYWxlO2Euc3R5bGUud2lkdGg9TWF0aC5yb3VuZCgyKmUpL2Eudmlldy5zY2FsZTtteEV2ZW50LmlzQ29udHJvbERvd24odS5nZXRFdmVudCgpKSYmKGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU1RBUlRTSVpFXT1hLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0VORFNJWkVdKTtteEV2ZW50LmlzQWx0RG93bih1LmdldEV2ZW50KCkpfHxNYXRoLmFicyhwYXJzZUZsb2F0KGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRU5EU0laRV0pLXBhcnNlRmxvYXQoYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9TVEFSVFNJWkVdKSk8Yi82JiYoYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9FTkRTSVpFXT1hLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRV0pfSkpLGUucHVzaChEYShhLApbInN0YXJ0V2lkdGgiLCJlbmRXaWR0aCIsbXhDb25zdGFudHMuU1RZTEVfU1RBUlRTSVpFLG14Q29uc3RhbnRzLlNUWUxFX0VORFNJWkVdLCExLGZ1bmN0aW9uKGIsZSxjLGQsZil7Yj0oYS5zaGFwZS5nZXRFbmRBcnJvd1dpZHRoKCktYS5zaGFwZS5zdHJva2V3aWR0aCkqYS52aWV3LnNjYWxlO2Y9MypteFV0aWxzLmdldE51bWJlcihhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0VORFNJWkUsbXhDb25zdGFudHMuQVJST1dfU0laRS81KSphLnZpZXcuc2NhbGU7cmV0dXJuIG5ldyBteFBvaW50KGQueCtlKihmK2Euc2hhcGUuc3Ryb2tld2lkdGgqYS52aWV3LnNjYWxlKS1jKmIvMixkLnkrYyooZithLnNoYXBlLnN0cm9rZXdpZHRoKmEudmlldy5zY2FsZSkrZSpiLzIpfSxmdW5jdGlvbihlLGMsZCxmLGcsbCx1KXtlPU1hdGguc3FydChteFV0aWxzLnB0U2VnRGlzdFNxKGYueCxmLnksZy54LGcueSxsLngsbC55KSk7Yz1teFV0aWxzLnB0TGluZURpc3QoZi54LGYueSxmLngrZCxmLnktCmMsbC54LGwueSk7YS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9FTkRTSVpFXT1NYXRoLnJvdW5kKDEwMCooYy1hLnNoYXBlLnN0cm9rZXdpZHRoKS8zKS8xMDAvYS52aWV3LnNjYWxlO2Euc3R5bGUuZW5kV2lkdGg9TWF0aC5tYXgoMCxNYXRoLnJvdW5kKDIqZSktYS5zaGFwZS5nZXRFZGdlV2lkdGgoKSkvYS52aWV3LnNjYWxlO214RXZlbnQuaXNDb250cm9sRG93bih1LmdldEV2ZW50KCkpJiYoYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9TVEFSVFNJWkVdPWEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRU5EU0laRV0sYS5zdHlsZS5zdGFydFdpZHRoPWEuc3R5bGUuZW5kV2lkdGgpO214RXZlbnQuaXNBbHREb3duKHUuZ2V0RXZlbnQoKSl8fChNYXRoLmFicyhwYXJzZUZsb2F0KGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRU5EU0laRV0pLXBhcnNlRmxvYXQoYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9TVEFSVFNJWkVdKSk8Yi82JiYoYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9FTkRTSVpFXT0KYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9TVEFSVFNJWkVdKSxNYXRoLmFicyhwYXJzZUZsb2F0KGEuc3R5bGUuZW5kV2lkdGgpLXBhcnNlRmxvYXQoYS5zdHlsZS5zdGFydFdpZHRoKSk8YiYmKGEuc3R5bGUuZW5kV2lkdGg9YS5zdHlsZS5zdGFydFdpZHRoKSl9KSkpO3JldHVybiBlfSxzd2ltbGFuZTpmdW5jdGlvbihhKXt2YXIgYj1bXTtpZihteFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfUk9VTkRFRCkpe3ZhciBlPXBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRSxteENvbnN0YW50cy5ERUZBVUxUX1NUQVJUU0laRSkpO2IucHVzaCh2YShhLGUvMikpfWIucHVzaChVKGEsW214Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRV0sZnVuY3Rpb24oYil7dmFyIGU9cGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfU1RBUlRTSVpFLG14Q29uc3RhbnRzLkRFRkFVTFRfU1RBUlRTSVpFKSk7CnJldHVybiAxPT1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfSE9SSVpPTlRBTCwxKT9uZXcgbXhQb2ludChiLmdldENlbnRlclgoKSxiLnkrTWF0aC5tYXgoMCxNYXRoLm1pbihiLmhlaWdodCxlKSkpOm5ldyBteFBvaW50KGIueCtNYXRoLm1heCgwLE1hdGgubWluKGIud2lkdGgsZSkpLGIuZ2V0Q2VudGVyWSgpKX0sZnVuY3Rpb24oYixlKXthLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRV09MT09bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0hPUklaT05UQUwsMSk/TWF0aC5yb3VuZChNYXRoLm1heCgwLE1hdGgubWluKGIuaGVpZ2h0LGUueS1iLnkpKSk6TWF0aC5yb3VuZChNYXRoLm1heCgwLE1hdGgubWluKGIud2lkdGgsZS54LWIueCkpKX0sITEsbnVsbCxmdW5jdGlvbihiKXtpZihteEV2ZW50LmlzQ29udHJvbERvd24oYi5nZXRFdmVudCgpKSYmKGI9YS52aWV3LmdyYXBoLGIuaXNUYWJsZVJvdyhhLmNlbGwpfHwKYi5pc1RhYmxlQ2VsbChhLmNlbGwpKSl7Zm9yKHZhciBlPWIuZ2V0U3dpbWxhbmVEaXJlY3Rpb24oYS5zdHlsZSksYz1iLm1vZGVsLmdldFBhcmVudChhLmNlbGwpLGM9Yi5tb2RlbC5nZXRDaGlsZENlbGxzKGMsITApLGQ9W10sZj0wO2Y8Yy5sZW5ndGg7ZisrKWNbZl0hPWEuY2VsbCYmYi5pc1N3aW1sYW5lKGNbZl0pJiZiLmdldFN3aW1sYW5lRGlyZWN0aW9uKGIuZ2V0Q3VycmVudENlbGxTdHlsZShjW2ZdKSk9PWUmJmQucHVzaChjW2ZdKTtiLnNldENlbGxTdHlsZXMobXhDb25zdGFudHMuU1RZTEVfU1RBUlRTSVpFLGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU1RBUlRTSVpFXSxkKX19KSk7cmV0dXJuIGJ9LGxhYmVsOkNhKCksZXh0OkNhKCkscmVjdGFuZ2xlOkNhKCksdHJpYW5nbGU6Q2EoKSxyaG9tYnVzOkNhKCksdW1sTGlmZWxpbmU6ZnVuY3Rpb24oYSl7cmV0dXJuW1UoYSxbInNpemUiXSxmdW5jdGlvbihhKXt2YXIgYj1NYXRoLm1heCgwLE1hdGgubWluKGEuaGVpZ2h0LApwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSwic2l6ZSIsTi5wcm90b3R5cGUuc2l6ZSkpKSk7cmV0dXJuIG5ldyBteFBvaW50KGEuZ2V0Q2VudGVyWCgpLGEueStiKX0sZnVuY3Rpb24oYSxiKXt0aGlzLnN0YXRlLnN0eWxlLnNpemU9TWF0aC5yb3VuZChNYXRoLm1heCgwLE1hdGgubWluKGEuaGVpZ2h0LGIueS1hLnkpKSl9LCExKV19LHVtbEZyYW1lOmZ1bmN0aW9uKGEpe3JldHVybltVKGEsWyJ3aWR0aCIsImhlaWdodCJdLGZ1bmN0aW9uKGEpe3ZhciBiPU1hdGgubWF4KE8ucHJvdG90eXBlLmNvcm5lcixNYXRoLm1pbihhLndpZHRoLG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSwid2lkdGgiLE8ucHJvdG90eXBlLndpZHRoKSkpLGU9TWF0aC5tYXgoMS41Kk8ucHJvdG90eXBlLmNvcm5lcixNYXRoLm1pbihhLmhlaWdodCxteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsImhlaWdodCIsTy5wcm90b3R5cGUuaGVpZ2h0KSkpOwpyZXR1cm4gbmV3IG14UG9pbnQoYS54K2IsYS55K2UpfSxmdW5jdGlvbihhLGIpe3RoaXMuc3RhdGUuc3R5bGUud2lkdGg9TWF0aC5yb3VuZChNYXRoLm1heChPLnByb3RvdHlwZS5jb3JuZXIsTWF0aC5taW4oYS53aWR0aCxiLngtYS54KSkpO3RoaXMuc3RhdGUuc3R5bGUuaGVpZ2h0PU1hdGgucm91bmQoTWF0aC5tYXgoMS41Kk8ucHJvdG90eXBlLmNvcm5lcixNYXRoLm1pbihhLmhlaWdodCxiLnktYS55KSkpfSwhMSldfSxwcm9jZXNzOmZ1bmN0aW9uKGEpe3ZhciBiPVtVKGEsWyJzaXplIl0sZnVuY3Rpb24oYSl7dmFyIGI9TWF0aC5tYXgoMCxNYXRoLm1pbiguNSxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSwic2l6ZSIsQS5wcm90b3R5cGUuc2l6ZSkpKSk7cmV0dXJuIG5ldyBteFBvaW50KGEueCthLndpZHRoKmIsYS55K2EuaGVpZ2h0LzQpfSxmdW5jdGlvbihhLGIpe3RoaXMuc3RhdGUuc3R5bGUuc2l6ZT1NYXRoLm1heCgwLE1hdGgubWluKC41LAooYi54LWEueCkvYS53aWR0aCkpfSwhMSldO214VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9ST1VOREVELCExKSYmYi5wdXNoKHZhKGEpKTtyZXR1cm4gYn0sY3Jvc3M6ZnVuY3Rpb24oYSl7cmV0dXJuW1UoYSxbInNpemUiXSxmdW5jdGlvbihhKXt2YXIgYj1NYXRoLm1pbihhLndpZHRoLGEuaGVpZ2h0KSxiPU1hdGgubWF4KDAsTWF0aC5taW4oMSxteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsInNpemUiLHhhLnByb3RvdHlwZS5zaXplKSkpKmIvMjtyZXR1cm4gbmV3IG14UG9pbnQoYS5nZXRDZW50ZXJYKCktYixhLmdldENlbnRlclkoKS1iKX0sZnVuY3Rpb24oYSxiKXt2YXIgZT1NYXRoLm1pbihhLndpZHRoLGEuaGVpZ2h0KTt0aGlzLnN0YXRlLnN0eWxlLnNpemU9TWF0aC5tYXgoMCxNYXRoLm1pbigxLE1hdGgubWluKE1hdGgubWF4KDAsYS5nZXRDZW50ZXJZKCktYi55KS9lKjIsTWF0aC5tYXgoMCxhLmdldENlbnRlclgoKS1iLngpL2UqCjIpKSl9KV19LG5vdGU6ZnVuY3Rpb24oYSl7cmV0dXJuW1UoYSxbInNpemUiXSxmdW5jdGlvbihhKXt2YXIgYj1NYXRoLm1heCgwLE1hdGgubWluKGEud2lkdGgsTWF0aC5taW4oYS5oZWlnaHQscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsInNpemUiLGsucHJvdG90eXBlLnNpemUpKSkpKTtyZXR1cm4gbmV3IG14UG9pbnQoYS54K2Eud2lkdGgtYixhLnkrYil9LGZ1bmN0aW9uKGEsYil7dGhpcy5zdGF0ZS5zdHlsZS5zaXplPU1hdGgucm91bmQoTWF0aC5tYXgoMCxNYXRoLm1pbihNYXRoLm1pbihhLndpZHRoLGEueCthLndpZHRoLWIueCksTWF0aC5taW4oYS5oZWlnaHQsYi55LWEueSkpKSl9KV19LG1hbnVhbElucHV0OmZ1bmN0aW9uKGEpe3ZhciBiPVtVKGEsWyJzaXplIl0sZnVuY3Rpb24oYSl7dmFyIGI9TWF0aC5tYXgoMCxNYXRoLm1pbihhLmhlaWdodCxteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsInNpemUiLGNhLnByb3RvdHlwZS5zaXplKSkpOwpyZXR1cm4gbmV3IG14UG9pbnQoYS54K2Eud2lkdGgvNCxhLnkrMypiLzQpfSxmdW5jdGlvbihhLGIpe3RoaXMuc3RhdGUuc3R5bGUuc2l6ZT1NYXRoLnJvdW5kKE1hdGgubWF4KDAsTWF0aC5taW4oYS5oZWlnaHQsNCooYi55LWEueSkvMykpKX0sITEpXTtteFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfUk9VTkRFRCwhMSkmJmIucHVzaCh2YShhKSk7cmV0dXJuIGJ9LGRhdGFTdG9yYWdlOmZ1bmN0aW9uKGEpe3JldHVybltVKGEsWyJzaXplIl0sZnVuY3Rpb24oYSl7dmFyIGI9TWF0aC5tYXgoMCxNYXRoLm1pbigxLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLCJzaXplIixyYS5wcm90b3R5cGUuc2l6ZSkpKSk7cmV0dXJuIG5ldyBteFBvaW50KGEueCsoMS1iKSphLndpZHRoLGEuZ2V0Q2VudGVyWSgpKX0sZnVuY3Rpb24oYSxiKXt0aGlzLnN0YXRlLnN0eWxlLnNpemU9TWF0aC5tYXgoMCxNYXRoLm1pbigxLChhLngrYS53aWR0aC0KYi54KS9hLndpZHRoKSl9LCExKV19LGNhbGxvdXQ6ZnVuY3Rpb24oYSl7dmFyIGI9W1UoYSxbInNpemUiLCJwb3NpdGlvbiJdLGZ1bmN0aW9uKGEpe3ZhciBiPU1hdGgubWF4KDAsTWF0aC5taW4oYS5oZWlnaHQsbXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLCJzaXplIixCLnByb3RvdHlwZS5zaXplKSkpLGU9TWF0aC5tYXgoMCxNYXRoLm1pbigxLG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSwicG9zaXRpb24iLEIucHJvdG90eXBlLnBvc2l0aW9uKSkpO214VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSwiYmFzZSIsQi5wcm90b3R5cGUuYmFzZSk7cmV0dXJuIG5ldyBteFBvaW50KGEueCtlKmEud2lkdGgsYS55K2EuaGVpZ2h0LWIpfSxmdW5jdGlvbihhLGIpe214VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSwiYmFzZSIsQi5wcm90b3R5cGUuYmFzZSk7dGhpcy5zdGF0ZS5zdHlsZS5zaXplPU1hdGgucm91bmQoTWF0aC5tYXgoMCxNYXRoLm1pbihhLmhlaWdodCwKYS55K2EuaGVpZ2h0LWIueSkpKTt0aGlzLnN0YXRlLnN0eWxlLnBvc2l0aW9uPU1hdGgucm91bmQoMTAwKk1hdGgubWF4KDAsTWF0aC5taW4oMSwoYi54LWEueCkvYS53aWR0aCkpKS8xMDB9LCExKSxVKGEsWyJwb3NpdGlvbjIiXSxmdW5jdGlvbihhKXt2YXIgYj1NYXRoLm1heCgwLE1hdGgubWluKDEsbXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLCJwb3NpdGlvbjIiLEIucHJvdG90eXBlLnBvc2l0aW9uMikpKTtyZXR1cm4gbmV3IG14UG9pbnQoYS54K2IqYS53aWR0aCxhLnkrYS5oZWlnaHQpfSxmdW5jdGlvbihhLGIpe3RoaXMuc3RhdGUuc3R5bGUucG9zaXRpb24yPU1hdGgucm91bmQoMTAwKk1hdGgubWF4KDAsTWF0aC5taW4oMSwoYi54LWEueCkvYS53aWR0aCkpKS8xMDB9LCExKSxVKGEsWyJiYXNlIl0sZnVuY3Rpb24oYSl7dmFyIGI9TWF0aC5tYXgoMCxNYXRoLm1pbihhLmhlaWdodCxteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsInNpemUiLEIucHJvdG90eXBlLnNpemUpKSksCmU9TWF0aC5tYXgoMCxNYXRoLm1pbigxLG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSwicG9zaXRpb24iLEIucHJvdG90eXBlLnBvc2l0aW9uKSkpLGM9TWF0aC5tYXgoMCxNYXRoLm1pbihhLndpZHRoLG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSwiYmFzZSIsQi5wcm90b3R5cGUuYmFzZSkpKTtyZXR1cm4gbmV3IG14UG9pbnQoYS54K01hdGgubWluKGEud2lkdGgsZSphLndpZHRoK2MpLGEueSthLmhlaWdodC1iKX0sZnVuY3Rpb24oYSxiKXt2YXIgZT1NYXRoLm1heCgwLE1hdGgubWluKDEsbXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLCJwb3NpdGlvbiIsQi5wcm90b3R5cGUucG9zaXRpb24pKSk7dGhpcy5zdGF0ZS5zdHlsZS5iYXNlPU1hdGgucm91bmQoTWF0aC5tYXgoMCxNYXRoLm1pbihhLndpZHRoLGIueC1hLngtZSphLndpZHRoKSkpfSwhMSldO214VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9ST1VOREVELAohMSkmJmIucHVzaCh2YShhKSk7cmV0dXJuIGJ9LGludGVybmFsU3RvcmFnZTpmdW5jdGlvbihhKXt2YXIgYj1bVShhLFsiZHgiLCJkeSJdLGZ1bmN0aW9uKGEpe3ZhciBiPU1hdGgubWF4KDAsTWF0aC5taW4oYS53aWR0aCxteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsImR4IixRLnByb3RvdHlwZS5keCkpKSxlPU1hdGgubWF4KDAsTWF0aC5taW4oYS5oZWlnaHQsbXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLCJkeSIsUS5wcm90b3R5cGUuZHkpKSk7cmV0dXJuIG5ldyBteFBvaW50KGEueCtiLGEueStlKX0sZnVuY3Rpb24oYSxiKXt0aGlzLnN0YXRlLnN0eWxlLmR4PU1hdGgucm91bmQoTWF0aC5tYXgoMCxNYXRoLm1pbihhLndpZHRoLGIueC1hLngpKSk7dGhpcy5zdGF0ZS5zdHlsZS5keT1NYXRoLnJvdW5kKE1hdGgubWF4KDAsTWF0aC5taW4oYS5oZWlnaHQsYi55LWEueSkpKX0sITEpXTtteFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfUk9VTkRFRCwKITEpJiZiLnB1c2godmEoYSkpO3JldHVybiBifSxtb2R1bGU6ZnVuY3Rpb24oYSl7cmV0dXJuW1UoYSxbImpldHR5V2lkdGgiLCJqZXR0eUhlaWdodCJdLGZ1bmN0aW9uKGEpe3ZhciBiPU1hdGgubWF4KDAsTWF0aC5taW4oYS53aWR0aCxteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsImpldHR5V2lkdGgiLFkucHJvdG90eXBlLmpldHR5V2lkdGgpKSksZT1NYXRoLm1heCgwLE1hdGgubWluKGEuaGVpZ2h0LG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSwiamV0dHlIZWlnaHQiLFkucHJvdG90eXBlLmpldHR5SGVpZ2h0KSkpO3JldHVybiBuZXcgbXhQb2ludChhLngrYi8yLGEueSsyKmUpfSxmdW5jdGlvbihhLGIpe3RoaXMuc3RhdGUuc3R5bGUuamV0dHlXaWR0aD1NYXRoLnJvdW5kKDIqTWF0aC5tYXgoMCxNYXRoLm1pbihhLndpZHRoLGIueC1hLngpKSk7dGhpcy5zdGF0ZS5zdHlsZS5qZXR0eUhlaWdodD1NYXRoLnJvdW5kKE1hdGgubWF4KDAsTWF0aC5taW4oYS5oZWlnaHQsCmIueS1hLnkpKS8yKX0pXX0sY29ybmVyOmZ1bmN0aW9uKGEpe3JldHVybltVKGEsWyJkeCIsImR5Il0sZnVuY3Rpb24oYSl7dmFyIGI9TWF0aC5tYXgoMCxNYXRoLm1pbihhLndpZHRoLG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSwiZHgiLEwucHJvdG90eXBlLmR4KSkpLGU9TWF0aC5tYXgoMCxNYXRoLm1pbihhLmhlaWdodCxteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsImR5IixMLnByb3RvdHlwZS5keSkpKTtyZXR1cm4gbmV3IG14UG9pbnQoYS54K2IsYS55K2UpfSxmdW5jdGlvbihhLGIpe3RoaXMuc3RhdGUuc3R5bGUuZHg9TWF0aC5yb3VuZChNYXRoLm1heCgwLE1hdGgubWluKGEud2lkdGgsYi54LWEueCkpKTt0aGlzLnN0YXRlLnN0eWxlLmR5PU1hdGgucm91bmQoTWF0aC5tYXgoMCxNYXRoLm1pbihhLmhlaWdodCxiLnktYS55KSkpfSwhMSldfSx0ZWU6ZnVuY3Rpb24oYSl7cmV0dXJuW1UoYSxbImR4IiwiZHkiXSxmdW5jdGlvbihhKXt2YXIgYj0KTWF0aC5tYXgoMCxNYXRoLm1pbihhLndpZHRoLG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSwiZHgiLFAucHJvdG90eXBlLmR4KSkpLGU9TWF0aC5tYXgoMCxNYXRoLm1pbihhLmhlaWdodCxteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsImR5IixQLnByb3RvdHlwZS5keSkpKTtyZXR1cm4gbmV3IG14UG9pbnQoYS54KyhhLndpZHRoK2IpLzIsYS55K2UpfSxmdW5jdGlvbihhLGIpe3RoaXMuc3RhdGUuc3R5bGUuZHg9TWF0aC5yb3VuZChNYXRoLm1heCgwLDIqTWF0aC5taW4oYS53aWR0aC8yLGIueC1hLngtYS53aWR0aC8yKSkpO3RoaXMuc3RhdGUuc3R5bGUuZHk9TWF0aC5yb3VuZChNYXRoLm1heCgwLE1hdGgubWluKGEuaGVpZ2h0LGIueS1hLnkpKSl9LCExKV19LHNpbmdsZUFycm93OnlhKDEpLGRvdWJsZUFycm93OnlhKC41KSxmb2xkZXI6ZnVuY3Rpb24oYSl7cmV0dXJuW1UoYSxbInRhYldpZHRoIiwidGFiSGVpZ2h0Il0sZnVuY3Rpb24oYSl7dmFyIGU9Ck1hdGgubWF4KDAsTWF0aC5taW4oYS53aWR0aCxteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsInRhYldpZHRoIixiLnByb3RvdHlwZS50YWJXaWR0aCkpKSxjPU1hdGgubWF4KDAsTWF0aC5taW4oYS5oZWlnaHQsbXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLCJ0YWJIZWlnaHQiLGIucHJvdG90eXBlLnRhYkhlaWdodCkpKTtteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsInRhYlBvc2l0aW9uIixiLnByb3RvdHlwZS50YWJQb3NpdGlvbik9PW14Q29uc3RhbnRzLkFMSUdOX1JJR0hUJiYoZT1hLndpZHRoLWUpO3JldHVybiBuZXcgbXhQb2ludChhLngrZSxhLnkrYyl9LGZ1bmN0aW9uKGEsZSl7dmFyIGM9TWF0aC5tYXgoMCxNYXRoLm1pbihhLndpZHRoLGUueC1hLngpKTtteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsInRhYlBvc2l0aW9uIixiLnByb3RvdHlwZS50YWJQb3NpdGlvbik9PW14Q29uc3RhbnRzLkFMSUdOX1JJR0hUJiYKKGM9YS53aWR0aC1jKTt0aGlzLnN0YXRlLnN0eWxlLnRhYldpZHRoPU1hdGgucm91bmQoYyk7dGhpcy5zdGF0ZS5zdHlsZS50YWJIZWlnaHQ9TWF0aC5yb3VuZChNYXRoLm1heCgwLE1hdGgubWluKGEuaGVpZ2h0LGUueS1hLnkpKSl9LCExKV19LGRvY3VtZW50OmZ1bmN0aW9uKGEpe3JldHVybltVKGEsWyJzaXplIl0sZnVuY3Rpb24oYSl7dmFyIGI9TWF0aC5tYXgoMCxNYXRoLm1pbigxLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLCJzaXplIixwLnByb3RvdHlwZS5zaXplKSkpKTtyZXR1cm4gbmV3IG14UG9pbnQoYS54KzMqYS53aWR0aC80LGEueSsoMS1iKSphLmhlaWdodCl9LGZ1bmN0aW9uKGEsYil7dGhpcy5zdGF0ZS5zdHlsZS5zaXplPU1hdGgubWF4KDAsTWF0aC5taW4oMSwoYS55K2EuaGVpZ2h0LWIueSkvYS5oZWlnaHQpKX0sITEpXX0sdGFwZTpmdW5jdGlvbihhKXtyZXR1cm5bVShhLFsic2l6ZSJdLGZ1bmN0aW9uKGEpe3ZhciBiPU1hdGgubWF4KDAsCk1hdGgubWluKDEscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsInNpemUiLGcucHJvdG90eXBlLnNpemUpKSkpO3JldHVybiBuZXcgbXhQb2ludChhLmdldENlbnRlclgoKSxhLnkrYiphLmhlaWdodC8yKX0sZnVuY3Rpb24oYSxiKXt0aGlzLnN0YXRlLnN0eWxlLnNpemU9TWF0aC5tYXgoMCxNYXRoLm1pbigxLChiLnktYS55KS9hLmhlaWdodCoyKSl9LCExKV19LG9mZlBhZ2VDb25uZWN0b3I6ZnVuY3Rpb24oYSl7cmV0dXJuW1UoYSxbInNpemUiXSxmdW5jdGlvbihhKXt2YXIgYj1NYXRoLm1heCgwLE1hdGgubWluKDEscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsInNpemUiLFYucHJvdG90eXBlLnNpemUpKSkpO3JldHVybiBuZXcgbXhQb2ludChhLmdldENlbnRlclgoKSxhLnkrKDEtYikqYS5oZWlnaHQpfSxmdW5jdGlvbihhLGIpe3RoaXMuc3RhdGUuc3R5bGUuc2l6ZT1NYXRoLm1heCgwLE1hdGgubWluKDEsKGEueSsKYS5oZWlnaHQtYi55KS9hLmhlaWdodCkpfSwhMSldfSxzdGVwOkVhKEMucHJvdG90eXBlLnNpemUsITAsbnVsbCwhMCxDLnByb3RvdHlwZS5maXhlZFNpemUpLGhleGFnb246RWEoei5wcm90b3R5cGUuc2l6ZSwhMCwuNSwhMCksY3VybHlCcmFja2V0OkVhKHYucHJvdG90eXBlLnNpemUsITEpLGRpc3BsYXk6RWEoa2EucHJvdG90eXBlLnNpemUsITEpLGN1YmU6S2EoMSxjLnByb3RvdHlwZS5zaXplLCExKSxjYXJkOkthKC41LGUucHJvdG90eXBlLnNpemUsITApLGxvb3BMaW1pdDpLYSguNSxXLnByb3RvdHlwZS5zaXplLCEwKSx0cmFwZXpvaWQ6TGEoLjUpLHBhcmFsbGVsb2dyYW06TGEoMSl9O0dyYXBoLmNyZWF0ZUhhbmRsZT1VO0dyYXBoLmhhbmRsZUZhY3Rvcnk9RmE7dmFyIFNhPW14VmVydGV4SGFuZGxlci5wcm90b3R5cGUuY3JlYXRlQ3VzdG9tSGFuZGxlcztteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZUN1c3RvbUhhbmRsZXM9ZnVuY3Rpb24oKXt2YXIgYT1TYS5hcHBseSh0aGlzLAphcmd1bWVudHMpO2lmKHRoaXMuZ3JhcGguaXNDZWxsUm90YXRhYmxlKHRoaXMuc3RhdGUuY2VsbCkpe3ZhciBiPXRoaXMuc3RhdGUuc3R5bGUuc2hhcGU7bnVsbD09bXhDZWxsUmVuZGVyZXIuZGVmYXVsdFNoYXBlc1tiXSYmbnVsbD09bXhTdGVuY2lsUmVnaXN0cnkuZ2V0U3RlbmNpbChiKT9iPW14Q29uc3RhbnRzLlNIQVBFX1JFQ1RBTkdMRTp0aGlzLnN0YXRlLnZpZXcuZ3JhcGguaXNTd2ltbGFuZSh0aGlzLnN0YXRlLmNlbGwpJiYoYj1teENvbnN0YW50cy5TSEFQRV9TV0lNTEFORSk7Yj1GYVtiXTtudWxsPT1iJiZudWxsIT10aGlzLnN0YXRlLnNoYXBlJiZ0aGlzLnN0YXRlLnNoYXBlLmlzUm91bmRhYmxlKCkmJihiPUZhW214Q29uc3RhbnRzLlNIQVBFX1JFQ1RBTkdMRV0pO251bGwhPWImJihiPWIodGhpcy5zdGF0ZSksbnVsbCE9YiYmKGE9bnVsbD09YT9iOmEuY29uY2F0KGIpKSl9cmV0dXJuIGF9O214RWRnZUhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZUN1c3RvbUhhbmRsZXM9CmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zdGF0ZS5zdHlsZS5zaGFwZTtudWxsPT1teENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzW2FdJiZudWxsPT1teFN0ZW5jaWxSZWdpc3RyeS5nZXRTdGVuY2lsKGEpJiYoYT1teENvbnN0YW50cy5TSEFQRV9DT05ORUNUT1IpO2E9RmFbYV07cmV0dXJuIG51bGwhPWE/YSh0aGlzLnN0YXRlKTpudWxsfX1lbHNlIEdyYXBoLmNyZWF0ZUhhbmRsZT1mdW5jdGlvbigpe30sR3JhcGguaGFuZGxlRmFjdG9yeT17fTt2YXIgR2E9bmV3IG14UG9pbnQoMSwwKSxIYT1uZXcgbXhQb2ludCgxLDApLHlhPW14VXRpbHMudG9SYWRpYW5zKC0zMCksR2E9bXhVdGlscy5nZXRSb3RhdGVkUG9pbnQoR2EsTWF0aC5jb3MoeWEpLE1hdGguc2luKHlhKSkseWE9bXhVdGlscy50b1JhZGlhbnMoLTE1MCksSGE9bXhVdGlscy5nZXRSb3RhdGVkUG9pbnQoSGEsTWF0aC5jb3MoeWEpLE1hdGguc2luKHlhKSk7bXhFZGdlU3R5bGUuSXNvbWV0cmljQ29ubmVjdG9yPWZ1bmN0aW9uKGEsCmIsZSxjLGQpe3ZhciBmPWEudmlldztjPW51bGwhPWMmJjA8Yy5sZW5ndGg/Y1swXTpudWxsO3ZhciBnPWEuYWJzb2x1dGVQb2ludHMsbD1nWzBdLGc9Z1tnLmxlbmd0aC0xXTtudWxsIT1jJiYoYz1mLnRyYW5zZm9ybUNvbnRyb2xQb2ludChhLGMpKTtudWxsPT1sJiZudWxsIT1iJiYobD1uZXcgbXhQb2ludChiLmdldENlbnRlclgoKSxiLmdldENlbnRlclkoKSkpO251bGw9PWcmJm51bGwhPWUmJihnPW5ldyBteFBvaW50KGUuZ2V0Q2VudGVyWCgpLGUuZ2V0Q2VudGVyWSgpKSk7dmFyIHU9R2EueCxwPUdhLnksbj1IYS54LHk9SGEueSx0PSJob3Jpem9udGFsIj09bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLCJlbGJvdyIsImhvcml6b250YWwiKTtpZihudWxsIT1nJiZudWxsIT1sKXthPWZ1bmN0aW9uKGEsYixlKXthLT1rLng7dmFyIGM9Yi1rLnk7Yj0oeSphLW4qYykvKHUqeS1wKm4pO2E9KHAqYS11KmMpLyhwKm4tdSp5KTt0PyhlJiYoaz1uZXcgbXhQb2ludChrLngrdSpiLGsueSsKcCpiKSxkLnB1c2goaykpLGs9bmV3IG14UG9pbnQoay54K24qYSxrLnkreSphKSk6KGUmJihrPW5ldyBteFBvaW50KGsueCtuKmEsay55K3kqYSksZC5wdXNoKGspKSxrPW5ldyBteFBvaW50KGsueCt1KmIsay55K3AqYikpO2QucHVzaChrKX07dmFyIGs9bDtudWxsPT1jJiYoYz1uZXcgbXhQb2ludChsLngrKGcueC1sLngpLzIsbC55KyhnLnktbC55KS8yKSk7YShjLngsYy55LCEwKTthKGcueCxnLnksITEpfX07bXhTdHlsZVJlZ2lzdHJ5LnB1dFZhbHVlKCJpc29tZXRyaWNFZGdlU3R5bGUiLG14RWRnZVN0eWxlLklzb21ldHJpY0Nvbm5lY3Rvcik7dmFyIFRhPUdyYXBoLnByb3RvdHlwZS5jcmVhdGVFZGdlSGFuZGxlcjtHcmFwaC5wcm90b3R5cGUuY3JlYXRlRWRnZUhhbmRsZXI9ZnVuY3Rpb24oYSxiKXtpZihiPT1teEVkZ2VTdHlsZS5Jc29tZXRyaWNDb25uZWN0b3Ipe3ZhciBlPW5ldyBteEVsYm93RWRnZUhhbmRsZXIoYSk7ZS5zbmFwVG9UZXJtaW5hbHM9ITE7cmV0dXJuIGV9cmV0dXJuIFRhLmFwcGx5KHRoaXMsCmFyZ3VtZW50cyl9O2YucHJvdG90eXBlLmNvbnN0cmFpbnRzPVtdO2QucHJvdG90eXBlLmdldENvbnN0cmFpbnRzPWZ1bmN0aW9uKGEsYixlKXthPVtdO3ZhciBjPU1hdGgudGFuKG14VXRpbHMudG9SYWRpYW5zKDMwKSksZD0oLjUtYykvMixjPU1hdGgubWluKGIsZS8oLjUrYykpO2I9KGItYykvMjtlPShlLWMpLzI7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxiLGUrLjI1KmMpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGIrLjUqYyxlK2MqZCkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsYitjLGUrLjI1KmMpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGIrYyxlKy43NSpjKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsCjApLCExLG51bGwsYisuNSpjLGUrKDEtZCkqYykpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsYixlKy43NSpjKSk7cmV0dXJuIGF9O0IucHJvdG90eXBlLmdldENvbnN0cmFpbnRzPWZ1bmN0aW9uKGEsYixlKXthPVtdO214VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9BUkNTSVpFLG14Q29uc3RhbnRzLkxJTkVfQVJDU0laRSk7dmFyIGM9TWF0aC5tYXgoMCxNYXRoLm1pbihlLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJzaXplIix0aGlzLnNpemUpKSkpO3BhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJwb3NpdGlvbiIsdGhpcy5wb3NpdGlvbikpO3ZhciBkPWIqTWF0aC5tYXgoMCxNYXRoLm1pbigxLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJwb3NpdGlvbjIiLHRoaXMucG9zaXRpb24yKSkpKTtwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwKImJhc2UiLHRoaXMuYmFzZSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC4yNSwwKSwhMSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNSwwKSwhMSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNzUsMCksITEpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwwKSwhMSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsYiwuNSooZS1jKSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsYixlLWMpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLApkLGUpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLDAsZS1jKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwwLC41KihlLWMpKSk7Yj49MipjJiZhLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjUsMCksITEpKTtyZXR1cm4gYX07bXhSZWN0YW5nbGVTaGFwZS5wcm90b3R5cGUuY29uc3RyYWludHM9W25ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC4yNSwwKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjUsMCksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC43NSwwKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwwKSwKITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjI1KSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwuNSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjc1KSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuMjUpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLC41KSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuNzUpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDEpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguMjUsMSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC41LDEpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNzUsMSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsCjEpLCEwKV07bXhFbGxpcHNlLnByb3RvdHlwZS5jb25zdHJhaW50cz1bbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwwKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwxKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwxKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjUsMCksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC41LDEpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLC41KSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuNSkpXTtteExhYmVsLnByb3RvdHlwZS5jb25zdHJhaW50cz1teFJlY3RhbmdsZVNoYXBlLnByb3RvdHlwZS5jb25zdHJhaW50cztteEltYWdlU2hhcGUucHJvdG90eXBlLmNvbnN0cmFpbnRzPQpteFJlY3RhbmdsZVNoYXBlLnByb3RvdHlwZS5jb25zdHJhaW50cztteFN3aW1sYW5lLnByb3RvdHlwZS5jb25zdHJhaW50cz1teFJlY3RhbmdsZVNoYXBlLnByb3RvdHlwZS5jb25zdHJhaW50cztFLnByb3RvdHlwZS5jb25zdHJhaW50cz1teFJlY3RhbmdsZVNoYXBlLnByb3RvdHlwZS5jb25zdHJhaW50cztrLnByb3RvdHlwZS5nZXRDb25zdHJhaW50cz1mdW5jdGlvbihhLGIsZSl7YT1bXTt2YXIgYz1NYXRoLm1heCgwLE1hdGgubWluKGIsTWF0aC5taW4oZSxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwic2l6ZSIsdGhpcy5zaXplKSkpKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLC41KihiLWMpLDApKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwKITEsbnVsbCxiLWMsMCkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsYi0uNSpjLC41KmMpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGIsYykpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsYiwuNSooZStjKSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLDEpLCExKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC41LDEpLCExKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMSksITEpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwuNSksITEpKTtiPj0yKmMmJmEucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNSwKMCksITEpKTtyZXR1cm4gYX07ZS5wcm90b3R5cGUuZ2V0Q29uc3RyYWludHM9ZnVuY3Rpb24oYSxiLGUpe2E9W107dmFyIGM9TWF0aC5tYXgoMCxNYXRoLm1pbihiLE1hdGgubWluKGUscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInNpemUiLHRoaXMuc2l6ZSkpKSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLDApLCExKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwuNSooYitjKSwwKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxjLDApKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLC41KmMsLjUqYykpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsMCxjKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsCjApLCExLG51bGwsMCwuNSooZStjKSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDEpLCExKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC41LDEpLCExKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsMSksITEpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuNSksITEpKTtiPj0yKmMmJmEucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNSwwKSwhMSkpO3JldHVybiBhfTtjLnByb3RvdHlwZS5nZXRDb25zdHJhaW50cz1mdW5jdGlvbihhLGIsZSl7YT1bXTt2YXIgYz1NYXRoLm1heCgwLE1hdGgubWluKGIsTWF0aC5taW4oZSxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwic2l6ZSIsdGhpcy5zaXplKSkpKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsCjApLCExKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwuNSooYi1jKSwwKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxiLWMsMCkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsYi0uNSpjLC41KmMpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGIsYykpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsYiwuNSooZStjKSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLDEpLCExKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwuNSooYitjKSxlKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsCjApLCExLG51bGwsYyxlKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwuNSpjLGUtLjUqYykpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsMCxlLWMpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLDAsLjUqKGUtYykpKTtyZXR1cm4gYX07Yi5wcm90b3R5cGUuZ2V0Q29uc3RyYWludHM9ZnVuY3Rpb24oYSxiLGUpe2E9W107dmFyIGM9TWF0aC5tYXgoMCxNYXRoLm1pbihiLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJ0YWJXaWR0aCIsdGhpcy50YWJXaWR0aCkpKSksZD1NYXRoLm1heCgwLE1hdGgubWluKGUscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInRhYkhlaWdodCIsdGhpcy50YWJIZWlnaHQpKSkpOyJsZWZ0Ij09bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLAoidGFiUG9zaXRpb24iLHRoaXMudGFiUG9zaXRpb24pPyhhLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSkpLGEucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsLjUqYywwKSksYS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxjLDApKSxhLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGMsZCkpLGEucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsLjUqKGIrYyksZCkpKTooYS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsMCksITEpKSxhLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGItLjUqYywwKSksYS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsCjApLCExLG51bGwsYi1jLDApKSxhLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGItYyxkKSksYS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwuNSooYi1jKSxkKSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsYixkKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxiLC4yNSooZS1kKStkKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxiLC41KihlLWQpK2QpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGIsLjc1KihlLWQpK2QpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSwKbnVsbCxiLGUpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLDAsZCkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsMCwuMjUqKGUtZCkrZCkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsMCwuNSooZS1kKStkKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwwLC43NSooZS1kKStkKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwwLGUpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjI1LDEpLCExKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC41LDEpLCExKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC43NSwKMSksITEpKTtyZXR1cm4gYX07US5wcm90b3R5cGUuY29uc3RyYWludHM9bXhSZWN0YW5nbGVTaGFwZS5wcm90b3R5cGUuY29uc3RyYWludHM7cmEucHJvdG90eXBlLmNvbnN0cmFpbnRzPW14UmVjdGFuZ2xlU2hhcGUucHJvdG90eXBlLmNvbnN0cmFpbnRzO3BhLnByb3RvdHlwZS5jb25zdHJhaW50cz1teEVsbGlwc2UucHJvdG90eXBlLmNvbnN0cmFpbnRzO3NhLnByb3RvdHlwZS5jb25zdHJhaW50cz1teEVsbGlwc2UucHJvdG90eXBlLmNvbnN0cmFpbnRzO2hhLnByb3RvdHlwZS5jb25zdHJhaW50cz1teEVsbGlwc2UucHJvdG90eXBlLmNvbnN0cmFpbnRzO29hLnByb3RvdHlwZS5jb25zdHJhaW50cz1teEVsbGlwc2UucHJvdG90eXBlLmNvbnN0cmFpbnRzO2NhLnByb3RvdHlwZS5jb25zdHJhaW50cz1teFJlY3RhbmdsZVNoYXBlLnByb3RvdHlwZS5jb25zdHJhaW50czt3YS5wcm90b3R5cGUuY29uc3RyYWludHM9bXhSZWN0YW5nbGVTaGFwZS5wcm90b3R5cGUuY29uc3RyYWludHM7CmthLnByb3RvdHlwZS5nZXRDb25zdHJhaW50cz1mdW5jdGlvbihhLGIsZSl7YT1bXTt2YXIgYz1NYXRoLm1pbihiLGUvMiksZD1NYXRoLm1pbihiLWMsTWF0aC5tYXgoMCxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwic2l6ZSIsdGhpcy5zaXplKSkpKmIpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLC41KSwhMSxudWxsKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxkLDApKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLC41KihkK2ItYyksMCkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsYi1jLDApKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuNSksITEsbnVsbCkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLAowKSwhMSxudWxsLGItYyxlKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwuNSooZCtiLWMpLGUpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGQsZSkpO3JldHVybiBhfTtZLnByb3RvdHlwZS5nZXRDb25zdHJhaW50cz1mdW5jdGlvbihhLGIsZSl7Yj1wYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUoYSwiamV0dHlXaWR0aCIsWS5wcm90b3R5cGUuamV0dHlXaWR0aCkpLzI7YT1wYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUoYSwiamV0dHlIZWlnaHQiLFkucHJvdG90eXBlLmpldHR5SGVpZ2h0KSk7dmFyIGM9W25ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxiKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguMjUsMCksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC41LAowKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjc1LDApLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLDApLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLC4yNSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsLjUpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLC43NSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMSksITEsbnVsbCxiKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguMjUsMSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC41LDEpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNzUsMSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsMSksCiEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsMCxNYXRoLm1pbihlLS41KmEsMS41KmEpKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsMCxNYXRoLm1pbihlLS41KmEsMy41KmEpKV07ZT41KmEmJmMucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLC43NSksITEsbnVsbCxiKSk7ZT44KmEmJmMucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLC41KSwhMSxudWxsLGIpKTtlPjE1KmEmJmMucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLC4yNSksITEsbnVsbCxiKSk7cmV0dXJuIGN9O1cucHJvdG90eXBlLmNvbnN0cmFpbnRzPW14UmVjdGFuZ2xlU2hhcGUucHJvdG90eXBlLmNvbnN0cmFpbnRzO1YucHJvdG90eXBlLmNvbnN0cmFpbnRzPW14UmVjdGFuZ2xlU2hhcGUucHJvdG90eXBlLmNvbnN0cmFpbnRzOwpteEN5bGluZGVyLnByb3RvdHlwZS5jb25zdHJhaW50cz1bbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjE1LC4wNSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC41LDApLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguODUsLjA1KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwuMyksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjUpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLC43KSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuMyksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsLjUpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLC43KSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjE1LAouOTUpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNSwxKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjg1LC45NSksITEpXTtJLnByb3RvdHlwZS5jb25zdHJhaW50cz1bbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjI1LC4xKSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjUsMCksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC43NSwuMSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMS8zKSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwxKSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwxLzMpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLDEpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNSwKLjUpLCExKV07Wi5wcm90b3R5cGUuY29uc3RyYWludHM9W25ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC4yNSwwKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjUsMCksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC43NSwwKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwuMyksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjcpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLC4yNSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsLjUpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLC43NSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC4yNSwxKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjUsCjEpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNzUsMSksITApXTtteEFjdG9yLnByb3RvdHlwZS5jb25zdHJhaW50cz1bbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjUsMCksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC4yNSwuMiksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC4xLC41KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwuNzUpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNzUsLjI1KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjksLjUpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLC43NSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC4yNSwxKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjUsCjEpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNzUsMSksITApXTtxLnByb3RvdHlwZS5jb25zdHJhaW50cz1bbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjUsLjI1KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwwKSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjI1LC41KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjc1LC41KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwxKSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjUsLjc1KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwxKSwhMSldO2cucHJvdG90eXBlLmNvbnN0cmFpbnRzPQpbbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwuMzUpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLC41KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwuNjUpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLC4zNSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsLjUpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLC42NSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC4yNSwxKSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjc1LDApLCExKV07Qy5wcm90b3R5cGUuY29uc3RyYWludHM9W25ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC4yNSwwKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjUsCjApLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNzUsMCksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC4yNSwxKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjUsMSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC43NSwxKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwuMjUpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLC41KSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwuNzUpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLC4yNSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsLjUpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLC43NSksITApXTsKbXhMaW5lLnByb3RvdHlwZS5jb25zdHJhaW50cz1bbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwuNSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC4yNSwuNSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC43NSwuNSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsLjUpLCExKV07SC5wcm90b3R5cGUuY29uc3RyYWludHM9W25ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC41LDApLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNSwxKSwhMSldO214RG91YmxlRWxsaXBzZS5wcm90b3R5cGUuY29uc3RyYWludHM9bXhFbGxpcHNlLnByb3RvdHlwZS5jb25zdHJhaW50cztteFJob21idXMucHJvdG90eXBlLmNvbnN0cmFpbnRzPW14RWxsaXBzZS5wcm90b3R5cGUuY29uc3RyYWludHM7bXhUcmlhbmdsZS5wcm90b3R5cGUuY29uc3RyYWludHM9CltuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLC4yNSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjUpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLC43NSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC41LDApLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNSwxKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuNSksITApXTtteEhleGFnb24ucHJvdG90eXBlLmNvbnN0cmFpbnRzPVtuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguMzc1LDApLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNSwwKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjYyNSwwKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwKLjI1KSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwuNSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjc1KSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuMjUpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLC41KSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuNzUpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguMzc1LDEpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNSwxKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjYyNSwxKSwhMCldO214Q2xvdWQucHJvdG90eXBlLmNvbnN0cmFpbnRzPVtuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguMjUsLjI1KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjQsCi4xKSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjE2LC41NSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC4wNywuNCksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC4zMSwuOCksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC4xMywuNzcpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguOCwuOCksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC41NSwuOTUpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguODc1LC41KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjk2LC43KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjYyNSwuMiksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC44OCwKLjI1KSwhMSldO2wucHJvdG90eXBlLmNvbnN0cmFpbnRzPW14UmVjdGFuZ2xlU2hhcGUucHJvdG90eXBlLmNvbnN0cmFpbnRzO24ucHJvdG90eXBlLmNvbnN0cmFpbnRzPW14UmVjdGFuZ2xlU2hhcGUucHJvdG90eXBlLmNvbnN0cmFpbnRzO3AucHJvdG90eXBlLmNvbnN0cmFpbnRzPVtuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguMjUsMCksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC41LDApLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNzUsMCksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjI1KSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwuNSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjc1KSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuMjUpLAohMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuNSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsLjc1KSwhMCldO214QXJyb3cucHJvdG90eXBlLmNvbnN0cmFpbnRzPW51bGw7UC5wcm90b3R5cGUuZ2V0Q29uc3RyYWludHM9ZnVuY3Rpb24oYSxiLGUpe2E9W107dmFyIGM9TWF0aC5tYXgoMCxNYXRoLm1pbihiLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJkeCIsdGhpcy5keCkpKSksZD1NYXRoLm1heCgwLE1hdGgubWluKGUscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImR5Iix0aGlzLmR5KSkpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNSwwKSwhMSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLAowKSwhMSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsYiwuNSpkKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxiLGQpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLC43NSpiKy4yNSpjLGQpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLC41KihiK2MpLGQpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLC41KihiK2MpLC41KihlK2QpKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwuNSooYitjKSxlKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC41LDEpLCExKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsCjApLCExLG51bGwsLjUqKGItYyksZSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsLjUqKGItYyksLjUqKGUrZCkpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLC41KihiLWMpLGQpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLC4yNSpiLS4yNSpjLGQpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLDAsZCkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsMCwuNSpkKSk7cmV0dXJuIGF9O0wucHJvdG90eXBlLmdldENvbnN0cmFpbnRzPWZ1bmN0aW9uKGEsYixlKXthPVtdO3ZhciBjPU1hdGgubWF4KDAsTWF0aC5taW4oYixwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwKImR4Iix0aGlzLmR4KSkpKSxkPU1hdGgubWF4KDAsTWF0aC5taW4oZSxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwiZHkiLHRoaXMuZHkpKSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC41LDApLCExKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsMCksITEpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGIsLjUqZCkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsYixkKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwuNSooYitjKSxkKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsCjApLCExLG51bGwsYyxkKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxjLC41KihlK2QpKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxjLGUpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLC41KmMsZSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLC41KSwhMSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDEpLCExKSk7cmV0dXJuIGF9O2phLnByb3RvdHlwZS5jb25zdHJhaW50cz1bbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwuNSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsCjEpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguMjUsLjUpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNSwuNSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC43NSwuNSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsMCksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsLjUpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLDEpLCExKV07Uy5wcm90b3R5cGUuZ2V0Q29uc3RyYWludHM9ZnVuY3Rpb24oYSxiLGUpe2E9W107dmFyIGM9ZSpNYXRoLm1heCgwLE1hdGgubWluKDEscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImFycm93V2lkdGgiLHRoaXMuYXJyb3dXaWR0aCkpKSksZD1iKk1hdGgubWF4KDAsTWF0aC5taW4oMSxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwKImFycm93U2l6ZSIsdGhpcy5hcnJvd1NpemUpKSkpLGM9KGUtYykvMjthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwuNSksITEpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLDAsYykpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsLjUqKGItZCksYykpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsYi1kLDApKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuNSksITEpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGItZCxlKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwuNSooYi1kKSxlLWMpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwKMCksITEsbnVsbCwwLGUtYykpO3JldHVybiBhfTtpYS5wcm90b3R5cGUuZ2V0Q29uc3RyYWludHM9ZnVuY3Rpb24oYSxiLGUpe2E9W107dmFyIGM9ZSpNYXRoLm1heCgwLE1hdGgubWluKDEscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImFycm93V2lkdGgiLFMucHJvdG90eXBlLmFycm93V2lkdGgpKSkpLGQ9YipNYXRoLm1heCgwLE1hdGgubWluKDEscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImFycm93U2l6ZSIsUy5wcm90b3R5cGUuYXJyb3dTaXplKSkpKSxjPShlLWMpLzI7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjUpLCExKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxkLDApKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLC41KmIsYykpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLAowKSwhMSxudWxsLGItZCwwKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsLjUpLCExKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxiLWQsZSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsLjUqYixlLWMpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGQsZSkpO3JldHVybiBhfTt4YS5wcm90b3R5cGUuZ2V0Q29uc3RyYWludHM9ZnVuY3Rpb24oYSxiLGUpe2E9W107dmFyIGM9TWF0aC5taW4oZSxiKSxkPU1hdGgubWF4KDAsTWF0aC5taW4oYyxjKnBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJzaXplIix0aGlzLnNpemUpKSkpLGM9KGUtZCkvMixmPWMrZCxnPShiLWQpLzIsZD1nK2Q7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsCjApLCExLG51bGwsZywuNSpjKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxnLDApKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjUsMCksITEpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGQsMCkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsZCwuNSpjKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxkLGMpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGcsZS0uNSpjKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxnLGUpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjUsCjEpLCExKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxkLGUpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGQsZS0uNSpjKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxkLGYpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLC41KihiK2QpLGMpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGIsYykpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLC41KSwhMSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsYixmKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsCjApLCExLG51bGwsLjUqKGIrZCksZikpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsZyxmKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwuNSpnLGMpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLDAsYykpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLC41KSwhMSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsMCxmKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwuNSpnLGYpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGcsYykpO3JldHVybiBhfTtOLnByb3RvdHlwZS5jb25zdHJhaW50cz0KbnVsbDtNLnByb3RvdHlwZS5jb25zdHJhaW50cz1bbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwuMjUpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLC41KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwuNzUpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLC41KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjcsLjEpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNywuOSksITEpXTttYS5wcm90b3R5cGUuY29uc3RyYWludHM9W25ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC4xNzUsLjI1KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjI1LC41KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjE3NSwKLjc1KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuNSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC43LC4xKSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjcsLjkpLCExKV07ZWEucHJvdG90eXBlLmNvbnN0cmFpbnRzPVtuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLC41KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuNSksITEpXTtmYS5wcm90b3R5cGUuY29uc3RyYWludHM9W25ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjUpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLC41KSwhMSldfSkoKTtmdW5jdGlvbiBBY3Rpb25zKGEpe3RoaXMuZWRpdG9yVWk9YTt0aGlzLmFjdGlvbnM9e307dGhpcy5pbml0KCl9CkFjdGlvbnMucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe2QuZXNjYXBlKCk7YT1kLmRlbGV0ZUNlbGxzKGQuZ2V0RGVsZXRhYmxlQ2VsbHMoZC5nZXRTZWxlY3Rpb25DZWxscygpKSxhKTtudWxsIT1hJiZkLnNldFNlbGVjdGlvbkNlbGxzKGEpfXZhciBjPXRoaXMuZWRpdG9yVWksZj1jLmVkaXRvcixkPWYuZ3JhcGgsbT1mdW5jdGlvbigpe3JldHVybiBBY3Rpb24ucHJvdG90eXBlLmlzRW5hYmxlZC5hcHBseSh0aGlzLGFyZ3VtZW50cykmJmQuaXNFbmFibGVkKCl9O3RoaXMuYWRkQWN0aW9uKCJuZXcuLi4iLGZ1bmN0aW9uKCl7ZC5vcGVuTGluayhjLmdldFVybCgpKX0pO3RoaXMuYWRkQWN0aW9uKCJvcGVuLi4uIixmdW5jdGlvbigpe3dpbmRvdy5vcGVuTmV3PSEwO3dpbmRvdy5vcGVuS2V5PSJvcGVuIjtjLm9wZW5GaWxlKCl9KTt0aGlzLmFkZEFjdGlvbigiaW1wb3J0Li4uIixmdW5jdGlvbigpe3dpbmRvdy5vcGVuTmV3PSExO3dpbmRvdy5vcGVuS2V5PQoiaW1wb3J0Ijt3aW5kb3cub3BlbkZpbGU9bmV3IE9wZW5GaWxlKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7Yy5oaWRlRGlhbG9nKCl9KSk7d2luZG93Lm9wZW5GaWxlLnNldENvbnN1bWVyKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsZSl7dHJ5e3ZhciBiPW14VXRpbHMucGFyc2VYbWwoYSk7Zi5ncmFwaC5zZXRTZWxlY3Rpb25DZWxscyhmLmdyYXBoLmltcG9ydEdyYXBoTW9kZWwoYi5kb2N1bWVudEVsZW1lbnQpKX1jYXRjaChwKXtteFV0aWxzLmFsZXJ0KG14UmVzb3VyY2VzLmdldCgiaW52YWxpZE9yTWlzc2luZ0ZpbGUiKSsiOiAiK3AubWVzc2FnZSl9fSkpO2Muc2hvd0RpYWxvZygobmV3IE9wZW5EaWFsb2codGhpcykpLmNvbnRhaW5lciwzMjAsMjIwLCEwLCEwLGZ1bmN0aW9uKCl7d2luZG93Lm9wZW5GaWxlPW51bGx9KX0pLmlzRW5hYmxlZD1tO3RoaXMuYWRkQWN0aW9uKCJzYXZlIixmdW5jdGlvbigpe2Muc2F2ZUZpbGUoITEpfSxudWxsLG51bGwsRWRpdG9yLmN0cmxLZXkrCiIrUyIpLmlzRW5hYmxlZD1tO3RoaXMuYWRkQWN0aW9uKCJzYXZlQXMuLi4iLGZ1bmN0aW9uKCl7Yy5zYXZlRmlsZSghMCl9LG51bGwsbnVsbCxFZGl0b3IuY3RybEtleSsiK1NoaWZ0K1MiKS5pc0VuYWJsZWQ9bTt0aGlzLmFkZEFjdGlvbigiZXhwb3J0Li4uIixmdW5jdGlvbigpe2Muc2hvd0RpYWxvZygobmV3IEV4cG9ydERpYWxvZyhjKSkuY29udGFpbmVyLDMwMCwyOTYsITAsITApfSk7dGhpcy5hZGRBY3Rpb24oImVkaXREaWFncmFtLi4uIixmdW5jdGlvbigpe3ZhciBhPW5ldyBFZGl0RGlhZ3JhbURpYWxvZyhjKTtjLnNob3dEaWFsb2coYS5jb250YWluZXIsNjIwLDQyMCwhMCwhMSk7YS5pbml0KCl9KTt0aGlzLmFkZEFjdGlvbigicGFnZVNldHVwLi4uIixmdW5jdGlvbigpe2Muc2hvd0RpYWxvZygobmV3IFBhZ2VTZXR1cERpYWxvZyhjKSkuY29udGFpbmVyLDMyMCwyMjAsITAsITApfSkuaXNFbmFibGVkPW07dGhpcy5hZGRBY3Rpb24oInByaW50Li4uIixmdW5jdGlvbigpe2Muc2hvd0RpYWxvZygobmV3IFByaW50RGlhbG9nKGMpKS5jb250YWluZXIsCjMwMCwxODAsITAsITApfSxudWxsLCJzcHJpdGUtcHJpbnQiLEVkaXRvci5jdHJsS2V5KyIrUCIpO3RoaXMuYWRkQWN0aW9uKCJwcmV2aWV3IixmdW5jdGlvbigpe214VXRpbHMuc2hvdyhkLG51bGwsMTAsMTApfSk7dGhpcy5hZGRBY3Rpb24oInVuZG8iLGZ1bmN0aW9uKCl7Yy51bmRvKCl9LG51bGwsInNwcml0ZS11bmRvIixFZGl0b3IuY3RybEtleSsiK1oiKTt0aGlzLmFkZEFjdGlvbigicmVkbyIsZnVuY3Rpb24oKXtjLnJlZG8oKX0sbnVsbCwic3ByaXRlLXJlZG8iLG14Q2xpZW50LklTX1dJTj9FZGl0b3IuY3RybEtleSsiK1kiOkVkaXRvci5jdHJsS2V5KyIrU2hpZnQrWiIpO3RoaXMuYWRkQWN0aW9uKCJjdXQiLGZ1bmN0aW9uKCl7bXhDbGlwYm9hcmQuY3V0KGQpfSxudWxsLCJzcHJpdGUtY3V0IixFZGl0b3IuY3RybEtleSsiK1giKTt0aGlzLmFkZEFjdGlvbigiY29weSIsZnVuY3Rpb24oKXt0cnl7bXhDbGlwYm9hcmQuY29weShkKX1jYXRjaChiKXtjLmhhbmRsZUVycm9yKGIpfX0sCm51bGwsInNwcml0ZS1jb3B5IixFZGl0b3IuY3RybEtleSsiK0MiKTt0aGlzLmFkZEFjdGlvbigicGFzdGUiLGZ1bmN0aW9uKCl7ZC5pc0VuYWJsZWQoKSYmIWQuaXNDZWxsTG9ja2VkKGQuZ2V0RGVmYXVsdFBhcmVudCgpKSYmbXhDbGlwYm9hcmQucGFzdGUoZCl9LCExLCJzcHJpdGUtcGFzdGUiLEVkaXRvci5jdHJsS2V5KyIrViIpO3RoaXMuYWRkQWN0aW9uKCJwYXN0ZUhlcmUiLGZ1bmN0aW9uKGEpe2lmKGQuaXNFbmFibGVkKCkmJiFkLmlzQ2VsbExvY2tlZChkLmdldERlZmF1bHRQYXJlbnQoKSkpe2QuZ2V0TW9kZWwoKS5iZWdpblVwZGF0ZSgpO3RyeXt2YXIgYj1teENsaXBib2FyZC5wYXN0ZShkKTtpZihudWxsIT1iKXthPSEwO2Zvcih2YXIgYz0wO2M8Yi5sZW5ndGgmJmE7YysrKWE9YSYmZC5tb2RlbC5pc0VkZ2UoYltjXSk7dmFyIGY9ZC52aWV3LnRyYW5zbGF0ZSxsPWQudmlldy5zY2FsZSxuPWYueCxrPWYueSxmPW51bGw7aWYoMT09Yi5sZW5ndGgmJmEpe3ZhciB0PWQuZ2V0Q2VsbEdlb21ldHJ5KGJbMF0pOwpudWxsIT10JiYoZj10LmdldFRlcm1pbmFsUG9pbnQoITApKX1mPW51bGwhPWY/ZjpkLmdldEJvdW5kaW5nQm94RnJvbUdlb21ldHJ5KGIsYSk7aWYobnVsbCE9Zil7dmFyIG09TWF0aC5yb3VuZChkLnNuYXAoZC5wb3B1cE1lbnVIYW5kbGVyLnRyaWdnZXJYL2wtbikpLEE9TWF0aC5yb3VuZChkLnNuYXAoZC5wb3B1cE1lbnVIYW5kbGVyLnRyaWdnZXJZL2wtaykpO2QuY2VsbHNNb3ZlZChiLG0tZi54LEEtZi55KX19fWZpbmFsbHl7ZC5nZXRNb2RlbCgpLmVuZFVwZGF0ZSgpfX19KTt0aGlzLmFkZEFjdGlvbigiY29weVNpemUiLGZ1bmN0aW9uKGEpe2E9ZC5nZXRTZWxlY3Rpb25DZWxsKCk7ZC5pc0VuYWJsZWQoKSYmbnVsbCE9YSYmZC5nZXRNb2RlbCgpLmlzVmVydGV4KGEpJiYoYT1kLmdldENlbGxHZW9tZXRyeShhKSxudWxsIT1hJiYoYy5jb3BpZWRTaXplPW5ldyBteFJlY3RhbmdsZShhLngsYS55LGEud2lkdGgsYS5oZWlnaHQpKSl9LG51bGwsbnVsbCwiQWx0K1NoaWZ0K1giKTsKdGhpcy5hZGRBY3Rpb24oInBhc3RlU2l6ZSIsZnVuY3Rpb24oYSl7aWYoZC5pc0VuYWJsZWQoKSYmIWQuaXNTZWxlY3Rpb25FbXB0eSgpJiZudWxsIT1jLmNvcGllZFNpemUpe2QuZ2V0TW9kZWwoKS5iZWdpblVwZGF0ZSgpO3RyeXt2YXIgYj1kLmdldFNlbGVjdGlvbkNlbGxzKCk7Zm9yKGE9MDthPGIubGVuZ3RoO2ErKylpZihkLmdldE1vZGVsKCkuaXNWZXJ0ZXgoYlthXSkpe3ZhciBmPWQuZ2V0Q2VsbEdlb21ldHJ5KGJbYV0pO251bGwhPWYmJihmPWYuY2xvbmUoKSxmLndpZHRoPWMuY29waWVkU2l6ZS53aWR0aCxmLmhlaWdodD1jLmNvcGllZFNpemUuaGVpZ2h0LGQuZ2V0TW9kZWwoKS5zZXRHZW9tZXRyeShiW2FdLGYpKX19ZmluYWxseXtkLmdldE1vZGVsKCkuZW5kVXBkYXRlKCl9fX0sbnVsbCxudWxsLCJBbHQrU2hpZnQrViIpO3RoaXMuYWRkQWN0aW9uKCJkZWxldGUiLGZ1bmN0aW9uKGIpe2EobnVsbCE9YiYmbXhFdmVudC5pc1NoaWZ0RG93bihiKSl9LG51bGwsbnVsbCwiRGVsZXRlIik7CnRoaXMuYWRkQWN0aW9uKCJkZWxldGVBbGwiLGZ1bmN0aW9uKCl7YSghMCl9LG51bGwsbnVsbCxFZGl0b3IuY3RybEtleSsiK0RlbGV0ZSIpO3RoaXMuYWRkQWN0aW9uKCJkdXBsaWNhdGUiLGZ1bmN0aW9uKCl7dHJ5e2Quc2V0U2VsZWN0aW9uQ2VsbHMoZC5kdXBsaWNhdGVDZWxscygpKSxkLnNjcm9sbENlbGxUb1Zpc2libGUoZC5nZXRTZWxlY3Rpb25DZWxsKCkpfWNhdGNoKGIpe2MuaGFuZGxlRXJyb3IoYil9fSxudWxsLG51bGwsRWRpdG9yLmN0cmxLZXkrIitEIik7dGhpcy5wdXQoInR1cm4iLG5ldyBBY3Rpb24obXhSZXNvdXJjZXMuZ2V0KCJ0dXJuIikrIiAvICIrbXhSZXNvdXJjZXMuZ2V0KCJyZXZlcnNlIiksZnVuY3Rpb24oYSl7ZC50dXJuU2hhcGVzKGQuZ2V0U2VsZWN0aW9uQ2VsbHMoKSxudWxsIT1hP214RXZlbnQuaXNTaGlmdERvd24oYSk6ITEpfSxudWxsLG51bGwsRWRpdG9yLmN0cmxLZXkrIitSIikpO3RoaXMuYWRkQWN0aW9uKCJzZWxlY3RWZXJ0aWNlcyIsZnVuY3Rpb24oKXtkLnNlbGVjdFZlcnRpY2VzKG51bGwsCiEwKX0sbnVsbCxudWxsLEVkaXRvci5jdHJsS2V5KyIrU2hpZnQrSSIpO3RoaXMuYWRkQWN0aW9uKCJzZWxlY3RFZGdlcyIsZnVuY3Rpb24oKXtkLnNlbGVjdEVkZ2VzKCl9LG51bGwsbnVsbCxFZGl0b3IuY3RybEtleSsiK1NoaWZ0K0UiKTt0aGlzLmFkZEFjdGlvbigic2VsZWN0QWxsIixmdW5jdGlvbigpe2Quc2VsZWN0QWxsKG51bGwsITApfSxudWxsLG51bGwsRWRpdG9yLmN0cmxLZXkrIitBIik7dGhpcy5hZGRBY3Rpb24oInNlbGVjdE5vbmUiLGZ1bmN0aW9uKCl7ZC5jbGVhclNlbGVjdGlvbigpfSxudWxsLG51bGwsRWRpdG9yLmN0cmxLZXkrIitTaGlmdCtBIik7dGhpcy5hZGRBY3Rpb24oImxvY2tVbmxvY2siLGZ1bmN0aW9uKCl7aWYoIWQuaXNTZWxlY3Rpb25FbXB0eSgpKXtkLmdldE1vZGVsKCkuYmVnaW5VcGRhdGUoKTt0cnl7dmFyIGE9ZC5pc0NlbGxNb3ZhYmxlKGQuZ2V0U2VsZWN0aW9uQ2VsbCgpKT8xOjA7ZC50b2dnbGVDZWxsU3R5bGVzKG14Q29uc3RhbnRzLlNUWUxFX01PVkFCTEUsCmEpO2QudG9nZ2xlQ2VsbFN0eWxlcyhteENvbnN0YW50cy5TVFlMRV9SRVNJWkFCTEUsYSk7ZC50b2dnbGVDZWxsU3R5bGVzKG14Q29uc3RhbnRzLlNUWUxFX1JPVEFUQUJMRSxhKTtkLnRvZ2dsZUNlbGxTdHlsZXMobXhDb25zdGFudHMuU1RZTEVfREVMRVRBQkxFLGEpO2QudG9nZ2xlQ2VsbFN0eWxlcyhteENvbnN0YW50cy5TVFlMRV9FRElUQUJMRSxhKTtkLnRvZ2dsZUNlbGxTdHlsZXMoImNvbm5lY3RhYmxlIixhKX1maW5hbGx5e2QuZ2V0TW9kZWwoKS5lbmRVcGRhdGUoKX19fSxudWxsLG51bGwsRWRpdG9yLmN0cmxLZXkrIitMIik7dGhpcy5hZGRBY3Rpb24oImhvbWUiLGZ1bmN0aW9uKCl7ZC5ob21lKCl9LG51bGwsbnVsbCwiU2hpZnQrSG9tZSIpO3RoaXMuYWRkQWN0aW9uKCJleGl0R3JvdXAiLGZ1bmN0aW9uKCl7ZC5leGl0R3JvdXAoKX0sbnVsbCxudWxsLEVkaXRvci5jdHJsS2V5KyIrU2hpZnQrSG9tZSIpO3RoaXMuYWRkQWN0aW9uKCJlbnRlckdyb3VwIixmdW5jdGlvbigpe2QuZW50ZXJHcm91cCgpfSwKbnVsbCxudWxsLEVkaXRvci5jdHJsS2V5KyIrU2hpZnQrRW5kIik7dGhpcy5hZGRBY3Rpb24oImNvbGxhcHNlIixmdW5jdGlvbigpe2QuZm9sZENlbGxzKCEwKX0sbnVsbCxudWxsLEVkaXRvci5jdHJsS2V5KyIrSG9tZSIpO3RoaXMuYWRkQWN0aW9uKCJleHBhbmQiLGZ1bmN0aW9uKCl7ZC5mb2xkQ2VsbHMoITEpfSxudWxsLG51bGwsRWRpdG9yLmN0cmxLZXkrIitFbmQiKTt0aGlzLmFkZEFjdGlvbigidG9Gcm9udCIsZnVuY3Rpb24oKXtkLm9yZGVyQ2VsbHMoITEpfSxudWxsLG51bGwsRWRpdG9yLmN0cmxLZXkrIitTaGlmdCtGIik7dGhpcy5hZGRBY3Rpb24oInRvQmFjayIsZnVuY3Rpb24oKXtkLm9yZGVyQ2VsbHMoITApfSxudWxsLG51bGwsRWRpdG9yLmN0cmxLZXkrIitTaGlmdCtCIik7dGhpcy5hZGRBY3Rpb24oImdyb3VwIixmdW5jdGlvbigpezE9PWQuZ2V0U2VsZWN0aW9uQ291bnQoKT9kLnNldENlbGxTdHlsZXMoImNvbnRhaW5lciIsIjEiKTpkLnNldFNlbGVjdGlvbkNlbGwoZC5ncm91cENlbGxzKG51bGwsCjApKX0sbnVsbCxudWxsLEVkaXRvci5jdHJsS2V5KyIrRyIpO3RoaXMuYWRkQWN0aW9uKCJ1bmdyb3VwIixmdW5jdGlvbigpezE9PWQuZ2V0U2VsZWN0aW9uQ291bnQoKSYmMD09ZC5nZXRNb2RlbCgpLmdldENoaWxkQ291bnQoZC5nZXRTZWxlY3Rpb25DZWxsKCkpP2Quc2V0Q2VsbFN0eWxlcygiY29udGFpbmVyIiwiMCIpOmQuc2V0U2VsZWN0aW9uQ2VsbHMoZC51bmdyb3VwQ2VsbHMoKSl9LG51bGwsbnVsbCxFZGl0b3IuY3RybEtleSsiK1NoaWZ0K1UiKTt0aGlzLmFkZEFjdGlvbigicmVtb3ZlRnJvbUdyb3VwIixmdW5jdGlvbigpe2QucmVtb3ZlQ2VsbHNGcm9tUGFyZW50KCl9KTt0aGlzLmFkZEFjdGlvbigiZWRpdCIsZnVuY3Rpb24oKXtkLmlzRW5hYmxlZCgpJiZkLnN0YXJ0RWRpdGluZ0F0Q2VsbCgpfSxudWxsLG51bGwsIkYyL0VudGVyIik7dGhpcy5hZGRBY3Rpb24oImVkaXREYXRhLi4uIixmdW5jdGlvbigpe3ZhciBhPWQuZ2V0U2VsZWN0aW9uQ2VsbCgpfHxkLmdldE1vZGVsKCkuZ2V0Um9vdCgpOwpjLnNob3dEYXRhRGlhbG9nKGEpfSxudWxsLG51bGwsRWRpdG9yLmN0cmxLZXkrIitNIik7dGhpcy5hZGRBY3Rpb24oImVkaXRUb29sdGlwLi4uIixmdW5jdGlvbigpe3ZhciBhPWMuZWRpdG9yLmdyYXBoO2lmKGEuaXNFbmFibGVkKCkmJiFhLmlzU2VsZWN0aW9uRW1wdHkoKSl7dmFyIGU9YS5nZXRTZWxlY3Rpb25DZWxsKCksZD0iIjtpZihteFV0aWxzLmlzTm9kZShlLnZhbHVlKSl7dmFyIGY9ZS52YWx1ZS5nZXRBdHRyaWJ1dGUoInRvb2x0aXAiKTtudWxsIT1mJiYoZD1mKX1kPW5ldyBUZXh0YXJlYURpYWxvZyhjLG14UmVzb3VyY2VzLmdldCgiZWRpdFRvb2x0aXAiKSsiOiIsZCxmdW5jdGlvbihiKXthLnNldFRvb2x0aXBGb3JDZWxsKGUsYil9KTtjLnNob3dEaWFsb2coZC5jb250YWluZXIsMzIwLDIwMCwhMCwhMCk7ZC5pbml0KCl9fSxudWxsLG51bGwsIkFsdCtTaGlmdCtUIik7dGhpcy5hZGRBY3Rpb24oIm9wZW5MaW5rIixmdW5jdGlvbigpe3ZhciBhPWQuZ2V0TGlua0ZvckNlbGwoZC5nZXRTZWxlY3Rpb25DZWxsKCkpOwpudWxsIT1hJiZkLm9wZW5MaW5rKGEpfSk7dGhpcy5hZGRBY3Rpb24oImVkaXRMaW5rLi4uIixmdW5jdGlvbigpe3ZhciBhPWMuZWRpdG9yLmdyYXBoO2lmKGEuaXNFbmFibGVkKCkmJiFhLmlzU2VsZWN0aW9uRW1wdHkoKSl7dmFyIGU9YS5nZXRTZWxlY3Rpb25DZWxsKCksZD1hLmdldExpbmtGb3JDZWxsKGUpfHwiIjtjLnNob3dMaW5rRGlhbG9nKGQsbXhSZXNvdXJjZXMuZ2V0KCJhcHBseSIpLGZ1bmN0aW9uKGIpe2I9bXhVdGlscy50cmltKGIpO2Euc2V0TGlua0ZvckNlbGwoZSwwPGIubGVuZ3RoP2I6bnVsbCl9KX19LG51bGwsbnVsbCwiQWx0K1NoaWZ0K0wiKTt0aGlzLnB1dCgiaW5zZXJ0SW1hZ2UiLG5ldyBBY3Rpb24obXhSZXNvdXJjZXMuZ2V0KCJpbWFnZSIpKyIuLi4iLGZ1bmN0aW9uKCl7ZC5pc0VuYWJsZWQoKSYmIWQuaXNDZWxsTG9ja2VkKGQuZ2V0RGVmYXVsdFBhcmVudCgpKSYmKGQuY2xlYXJTZWxlY3Rpb24oKSxjLmFjdGlvbnMuZ2V0KCJpbWFnZSIpLmZ1bmN0KCkpfSkpLmlzRW5hYmxlZD0KbTt0aGlzLnB1dCgiaW5zZXJ0TGluayIsbmV3IEFjdGlvbihteFJlc291cmNlcy5nZXQoImxpbmsiKSsiLi4uIixmdW5jdGlvbigpe2QuaXNFbmFibGVkKCkmJiFkLmlzQ2VsbExvY2tlZChkLmdldERlZmF1bHRQYXJlbnQoKSkmJmMuc2hvd0xpbmtEaWFsb2coIiIsbXhSZXNvdXJjZXMuZ2V0KCJpbnNlcnQiKSxmdW5jdGlvbihhLGUpe2E9bXhVdGlscy50cmltKGEpO2lmKDA8YS5sZW5ndGgpe3ZhciBiPW51bGwsYz1kLmdldExpbmtUaXRsZShhKTtudWxsIT1lJiYwPGUubGVuZ3RoJiYoYj1lWzBdLmljb25VcmwsYz1lWzBdLm5hbWV8fGVbMF0udHlwZSxjPWMuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYy5zdWJzdHJpbmcoMSksMzA8Yy5sZW5ndGgmJihjPWMuc3Vic3RyaW5nKDAsMzApKyIuLi4iKSk7dmFyIGY9ZC5nZXRGcmVlSW5zZXJ0UG9pbnQoKSxiPW5ldyBteENlbGwoYyxuZXcgbXhHZW9tZXRyeShmLngsZi55LDEwMCw0MCksImZvbnRDb2xvcj0jMDAwMEVFO2ZvbnRTdHlsZT00O3JvdW5kZWQ9MTtvdmVyZmxvdz1oaWRkZW47IisKKG51bGwhPWI/InNoYXBlPWxhYmVsO2ltYWdlV2lkdGg9MTY7aW1hZ2VIZWlnaHQ9MTY7c3BhY2luZ0xlZnQ9MjY7YWxpZ249bGVmdDtpbWFnZT0iK2I6InNwYWNpbmc9MTA7IikpO2IudmVydGV4PSEwO2Quc2V0TGlua0ZvckNlbGwoYixhKTtkLmNlbGxTaXplVXBkYXRlZChiLCEwKTtkLmdldE1vZGVsKCkuYmVnaW5VcGRhdGUoKTt0cnl7Yj1kLmFkZENlbGwoYiksZC5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoImNlbGxzSW5zZXJ0ZWQiLCJjZWxscyIsW2JdKSl9ZmluYWxseXtkLmdldE1vZGVsKCkuZW5kVXBkYXRlKCl9ZC5zZXRTZWxlY3Rpb25DZWxsKGIpO2Quc2Nyb2xsQ2VsbFRvVmlzaWJsZShkLmdldFNlbGVjdGlvbkNlbGwoKSl9fSl9KSkuaXNFbmFibGVkPW07dGhpcy5hZGRBY3Rpb24oImxpbmsuLi4iLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dmFyIGE9Yy5lZGl0b3IuZ3JhcGg7aWYoYS5pc0VuYWJsZWQoKSlpZihhLmNlbGxFZGl0b3IuaXNDb250ZW50RWRpdGluZygpKXt2YXIgZT0KYS5nZXRTZWxlY3RlZEVsZW1lbnQoKSxkPWEuZ2V0UGFyZW50QnlOYW1lKGUsIkEiLGEuY2VsbEVkaXRvci50ZXh0YXJlYSksZj0iIjtpZihudWxsPT1kJiZudWxsIT1lJiZudWxsIT1lLmdldEVsZW1lbnRzQnlUYWdOYW1lKWZvcih2YXIgbD1lLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJhIiksbj0wO248bC5sZW5ndGgmJm51bGw9PWQ7bisrKWxbbl0udGV4dENvbnRlbnQ9PWUudGV4dENvbnRlbnQmJihkPWxbbl0pO251bGwhPWQmJiJBIj09ZC5ub2RlTmFtZSYmKGY9ZC5nZXRBdHRyaWJ1dGUoImhyZWYiKXx8IiIsYS5zZWxlY3ROb2RlKGQpKTt2YXIgaz1hLmNlbGxFZGl0b3Iuc2F2ZVNlbGVjdGlvbigpO2Muc2hvd0xpbmtEaWFsb2coZixteFJlc291cmNlcy5nZXQoImFwcGx5IiksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7YS5jZWxsRWRpdG9yLnJlc3RvcmVTZWxlY3Rpb24oayk7bnVsbCE9YiYmYS5pbnNlcnRMaW5rKGIpfSkpfWVsc2UgYS5pc1NlbGVjdGlvbkVtcHR5KCk/CnRoaXMuZ2V0KCJpbnNlcnRMaW5rIikuZnVuY3QoKTp0aGlzLmdldCgiZWRpdExpbmsiKS5mdW5jdCgpfSkpLmlzRW5hYmxlZD1tO3RoaXMuYWRkQWN0aW9uKCJhdXRvc2l6ZSIsZnVuY3Rpb24oKXt2YXIgYT1kLmdldFNlbGVjdGlvbkNlbGxzKCk7aWYobnVsbCE9YSl7ZC5nZXRNb2RlbCgpLmJlZ2luVXBkYXRlKCk7dHJ5e2Zvcih2YXIgZT0wO2U8YS5sZW5ndGg7ZSsrKXt2YXIgYz1hW2VdO2lmKGQuZ2V0TW9kZWwoKS5nZXRDaGlsZENvdW50KGMpKWQudXBkYXRlR3JvdXBCb3VuZHMoW2NdLDIwKTtlbHNle3ZhciBmPWQudmlldy5nZXRTdGF0ZShjKSxsPWQuZ2V0Q2VsbEdlb21ldHJ5KGMpO2QuZ2V0TW9kZWwoKS5pc1ZlcnRleChjKSYmbnVsbCE9ZiYmbnVsbCE9Zi50ZXh0JiZudWxsIT1sJiZkLmlzV3JhcHBpbmcoYyk/KGw9bC5jbG9uZSgpLGwuaGVpZ2h0PWYudGV4dC5ib3VuZGluZ0JveC5oZWlnaHQvZC52aWV3LnNjYWxlLGQuZ2V0TW9kZWwoKS5zZXRHZW9tZXRyeShjLGwpKToKZC51cGRhdGVDZWxsU2l6ZShjKX19fWZpbmFsbHl7ZC5nZXRNb2RlbCgpLmVuZFVwZGF0ZSgpfX19LG51bGwsbnVsbCxFZGl0b3IuY3RybEtleSsiK1NoaWZ0K1kiKTt0aGlzLmFkZEFjdGlvbigiZm9ybWF0dGVkVGV4dCIsZnVuY3Rpb24oKXt2YXIgYT1kLmdldFZpZXcoKS5nZXRTdGF0ZShkLmdldFNlbGVjdGlvbkNlbGwoKSk7aWYobnVsbCE9YSl7ZC5zdG9wRWRpdGluZygpO2E9IjEiPT1hLnN0eWxlLmh0bWw/bnVsbDoiMSI7ZC5nZXRNb2RlbCgpLmJlZ2luVXBkYXRlKCk7dHJ5e2Zvcih2YXIgZT1kLmdldFNlbGVjdGlvbkNlbGxzKCksZj0wO2Y8ZS5sZW5ndGg7ZisrKWlmKHN0YXRlPWQuZ2V0VmlldygpLmdldFN0YXRlKGVbZl0pLG51bGwhPXN0YXRlKXt2YXIgcD1teFV0aWxzLmdldFZhbHVlKHN0YXRlLnN0eWxlLCJodG1sIiwiMCIpO2lmKCIxIj09cCYmbnVsbD09YSl7dmFyIGw9ZC5jb252ZXJ0VmFsdWVUb1N0cmluZyhzdGF0ZS5jZWxsKTsiMCIhPW14VXRpbHMuZ2V0VmFsdWUoc3RhdGUuc3R5bGUsCiJubDJCciIsIjEiKSYmKGw9bC5yZXBsYWNlKC9cbi9nLCIiKS5yZXBsYWNlKC88YnJccyouPz4vZywiXG4iKSk7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7bi5pbm5lckhUTUw9ZC5zYW5pdGl6ZUh0bWwobCk7bD1teFV0aWxzLmV4dHJhY3RUZXh0V2l0aFdoaXRlc3BhY2Uobi5jaGlsZE5vZGVzKTtkLmNlbGxMYWJlbENoYW5nZWQoc3RhdGUuY2VsbCxsKTtkLnNldENlbGxTdHlsZXMoImh0bWwiLGEsW2VbZl1dKX1lbHNlIjAiPT1wJiYiMSI9PWEmJihsPW14VXRpbHMuaHRtbEVudGl0aWVzKGQuY29udmVydFZhbHVlVG9TdHJpbmcoc3RhdGUuY2VsbCksITEpLCIwIiE9bXhVdGlscy5nZXRWYWx1ZShzdGF0ZS5zdHlsZSwibmwyQnIiLCIxIikmJihsPWwucmVwbGFjZSgvXG4vZywiPGJyLz4iKSksZC5jZWxsTGFiZWxDaGFuZ2VkKHN0YXRlLmNlbGwsZC5zYW5pdGl6ZUh0bWwobCkpLGQuc2V0Q2VsbFN0eWxlcygiaHRtbCIsYSxbZVtmXV0pKX1jLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgic3R5bGVDaGFuZ2VkIiwKImtleXMiLFsiaHRtbCJdLCJ2YWx1ZXMiLFtudWxsIT1hP2E6IjAiXSwiY2VsbHMiLGUpKX1maW5hbGx5e2QuZ2V0TW9kZWwoKS5lbmRVcGRhdGUoKX19fSk7dGhpcy5hZGRBY3Rpb24oIndvcmRXcmFwIixmdW5jdGlvbigpe3ZhciBhPWQuZ2V0VmlldygpLmdldFN0YXRlKGQuZ2V0U2VsZWN0aW9uQ2VsbCgpKSxlPSJ3cmFwIjtkLnN0b3BFZGl0aW5nKCk7bnVsbCE9YSYmIndyYXAiPT1hLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1dISVRFX1NQQUNFXSYmKGU9bnVsbCk7ZC5zZXRDZWxsU3R5bGVzKG14Q29uc3RhbnRzLlNUWUxFX1dISVRFX1NQQUNFLGUpfSk7dGhpcy5hZGRBY3Rpb24oInJvdGF0aW9uIixmdW5jdGlvbigpe3ZhciBhPSIwIixlPWQuZ2V0VmlldygpLmdldFN0YXRlKGQuZ2V0U2VsZWN0aW9uQ2VsbCgpKTtudWxsIT1lJiYoYT1lLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OXXx8YSk7YT1uZXcgRmlsZW5hbWVEaWFsb2coYyxhLG14UmVzb3VyY2VzLmdldCgiYXBwbHkiKSwKZnVuY3Rpb24oYSl7bnVsbCE9YSYmMDxhLmxlbmd0aCYmZC5zZXRDZWxsU3R5bGVzKG14Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OLGEpfSxteFJlc291cmNlcy5nZXQoImVudGVyVmFsdWUiKSsiICgiK214UmVzb3VyY2VzLmdldCgicm90YXRpb24iKSsiIDAtMzYwKSIpO2Muc2hvd0RpYWxvZyhhLmNvbnRhaW5lciwzNzUsODAsITAsITApO2EuaW5pdCgpfSk7dGhpcy5hZGRBY3Rpb24oInJlc2V0VmlldyIsZnVuY3Rpb24oKXtkLnpvb21UbygxKTtjLnJlc2V0U2Nyb2xsYmFycygpfSxudWxsLG51bGwsIkhvbWUiKTt0aGlzLmFkZEFjdGlvbigiem9vbUluIixmdW5jdGlvbihhKXtkLmlzRmFzdFpvb21FbmFibGVkKCk/ZC5sYXp5Wm9vbSghMCwhMCxjLmJ1dHRvblpvb21EZWxheSk6ZC56b29tSW4oKX0sbnVsbCxudWxsLEVkaXRvci5jdHJsS2V5KyIgKyAoTnVtcGFkKSAvIEFsdCtNb3VzZXdoZWVsIik7dGhpcy5hZGRBY3Rpb24oInpvb21PdXQiLGZ1bmN0aW9uKGEpe2QuaXNGYXN0Wm9vbUVuYWJsZWQoKT8KZC5sYXp5Wm9vbSghMSwhMCxjLmJ1dHRvblpvb21EZWxheSk6ZC56b29tT3V0KCl9LG51bGwsbnVsbCxFZGl0b3IuY3RybEtleSsiIC0gKE51bXBhZCkgLyBBbHQrTW91c2V3aGVlbCIpO3RoaXMuYWRkQWN0aW9uKCJmaXRXaW5kb3ciLGZ1bmN0aW9uKCl7dmFyIGE9ZC5pc1NlbGVjdGlvbkVtcHR5KCk/ZC5nZXRHcmFwaEJvdW5kcygpOmQuZ2V0Qm91bmRpbmdCb3goZC5nZXRTZWxlY3Rpb25DZWxscygpKSxlPWQudmlldy50cmFuc2xhdGUsYz1kLnZpZXcuc2NhbGU7YS53aWR0aC89YzthLmhlaWdodC89YzthLng9YS54L2MtZS54O2EueT1hLnkvYy1lLnk7ZC5maXRXaW5kb3coYSl9LG51bGwsbnVsbCxFZGl0b3IuY3RybEtleSsiK1NoaWZ0K0giKTt0aGlzLmFkZEFjdGlvbigiZml0UGFnZSIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtkLnBhZ2VWaXNpYmxlfHx0aGlzLmdldCgicGFnZVZpZXciKS5mdW5jdCgpO3ZhciBhPWQucGFnZUZvcm1hdCxlPWQucGFnZVNjYWxlO2Quem9vbVRvKE1hdGguZmxvb3IoMjAqCk1hdGgubWluKChkLmNvbnRhaW5lci5jbGllbnRXaWR0aC0xMCkvYS53aWR0aC9lLChkLmNvbnRhaW5lci5jbGllbnRIZWlnaHQtMTApL2EuaGVpZ2h0L2UpKS8yMCk7bXhVdGlscy5oYXNTY3JvbGxiYXJzKGQuY29udGFpbmVyKSYmKGE9ZC5nZXRQYWdlUGFkZGluZygpLGQuY29udGFpbmVyLnNjcm9sbFRvcD1hLnkqZC52aWV3LnNjYWxlLTEsZC5jb250YWluZXIuc2Nyb2xsTGVmdD1NYXRoLm1pbihhLngqZC52aWV3LnNjYWxlLChkLmNvbnRhaW5lci5zY3JvbGxXaWR0aC1kLmNvbnRhaW5lci5jbGllbnRXaWR0aCkvMiktMSl9KSxudWxsLG51bGwsRWRpdG9yLmN0cmxLZXkrIitKIik7dGhpcy5hZGRBY3Rpb24oImZpdFR3b1BhZ2VzIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2QucGFnZVZpc2libGV8fHRoaXMuZ2V0KCJwYWdlVmlldyIpLmZ1bmN0KCk7dmFyIGE9ZC5wYWdlRm9ybWF0LGU9ZC5wYWdlU2NhbGU7ZC56b29tVG8oTWF0aC5mbG9vcigyMCpNYXRoLm1pbigoZC5jb250YWluZXIuY2xpZW50V2lkdGgtCjEwKS8oMiphLndpZHRoKS9lLChkLmNvbnRhaW5lci5jbGllbnRIZWlnaHQtMTApL2EuaGVpZ2h0L2UpKS8yMCk7bXhVdGlscy5oYXNTY3JvbGxiYXJzKGQuY29udGFpbmVyKSYmKGE9ZC5nZXRQYWdlUGFkZGluZygpLGQuY29udGFpbmVyLnNjcm9sbFRvcD1NYXRoLm1pbihhLnksKGQuY29udGFpbmVyLnNjcm9sbEhlaWdodC1kLmNvbnRhaW5lci5jbGllbnRIZWlnaHQpLzIpLGQuY29udGFpbmVyLnNjcm9sbExlZnQ9TWF0aC5taW4oYS54LChkLmNvbnRhaW5lci5zY3JvbGxXaWR0aC1kLmNvbnRhaW5lci5jbGllbnRXaWR0aCkvMikpfSksbnVsbCxudWxsLEVkaXRvci5jdHJsS2V5KyIrU2hpZnQrSiIpO3RoaXMuYWRkQWN0aW9uKCJmaXRQYWdlV2lkdGgiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7ZC5wYWdlVmlzaWJsZXx8dGhpcy5nZXQoInBhZ2VWaWV3IikuZnVuY3QoKTtkLnpvb21UbyhNYXRoLmZsb29yKDIwKihkLmNvbnRhaW5lci5jbGllbnRXaWR0aC0xMCkvZC5wYWdlRm9ybWF0LndpZHRoLwpkLnBhZ2VTY2FsZSkvMjApO2lmKG14VXRpbHMuaGFzU2Nyb2xsYmFycyhkLmNvbnRhaW5lcikpe3ZhciBhPWQuZ2V0UGFnZVBhZGRpbmcoKTtkLmNvbnRhaW5lci5zY3JvbGxMZWZ0PU1hdGgubWluKGEueCpkLnZpZXcuc2NhbGUsKGQuY29udGFpbmVyLnNjcm9sbFdpZHRoLWQuY29udGFpbmVyLmNsaWVudFdpZHRoKS8yKX19KSk7dGhpcy5wdXQoImN1c3RvbVpvb20iLG5ldyBBY3Rpb24obXhSZXNvdXJjZXMuZ2V0KCJjdXN0b20iKSsiLi4uIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3ZhciBhPW5ldyBGaWxlbmFtZURpYWxvZyh0aGlzLmVkaXRvclVpLHBhcnNlSW50KDEwMCpkLmdldFZpZXcoKS5nZXRTY2FsZSgpKSxteFJlc291cmNlcy5nZXQoImFwcGx5IiksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7YT1wYXJzZUludChhKTshaXNOYU4oYSkmJjA8YSYmZC56b29tVG8oYS8xMDApfSksbXhSZXNvdXJjZXMuZ2V0KCJ6b29tIikrIiAoJSkiKTt0aGlzLmVkaXRvclVpLnNob3dEaWFsb2coYS5jb250YWluZXIsCjMwMCw4MCwhMCwhMCk7YS5pbml0KCl9KSxudWxsLG51bGwsRWRpdG9yLmN0cmxLZXkrIiswIikpO3RoaXMuYWRkQWN0aW9uKCJwYWdlU2NhbGUuLi4iLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dmFyIGE9bmV3IEZpbGVuYW1lRGlhbG9nKHRoaXMuZWRpdG9yVWkscGFyc2VJbnQoMTAwKmQucGFnZVNjYWxlKSxteFJlc291cmNlcy5nZXQoImFwcGx5IiksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7YT1wYXJzZUludChhKTshaXNOYU4oYSkmJjA8YSYmKGE9bmV3IENoYW5nZVBhZ2VTZXR1cChjLG51bGwsbnVsbCxudWxsLGEvMTAwKSxhLmlnbm9yZUNvbG9yPSEwLGEuaWdub3JlSW1hZ2U9ITAsZC5tb2RlbC5leGVjdXRlKGEpKX0pLG14UmVzb3VyY2VzLmdldCgicGFnZVNjYWxlIikrIiAoJSkiKTt0aGlzLmVkaXRvclVpLnNob3dEaWFsb2coYS5jb250YWluZXIsMzAwLDgwLCEwLCEwKTthLmluaXQoKX0pKTt2YXIgaz1udWxsLGs9dGhpcy5hZGRBY3Rpb24oImdyaWQiLApmdW5jdGlvbigpe2Quc2V0R3JpZEVuYWJsZWQoIWQuaXNHcmlkRW5hYmxlZCgpKTtjLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgiZ3JpZEVuYWJsZWRDaGFuZ2VkIikpfSxudWxsLG51bGwsRWRpdG9yLmN0cmxLZXkrIitTaGlmdCtHIik7ay5zZXRUb2dnbGVBY3Rpb24oITApO2suc2V0U2VsZWN0ZWRDYWxsYmFjayhmdW5jdGlvbigpe3JldHVybiBkLmlzR3JpZEVuYWJsZWQoKX0pO2suc2V0RW5hYmxlZCghMSk7az10aGlzLmFkZEFjdGlvbigiZ3VpZGVzIixmdW5jdGlvbigpe2QuZ3JhcGhIYW5kbGVyLmd1aWRlc0VuYWJsZWQ9IWQuZ3JhcGhIYW5kbGVyLmd1aWRlc0VuYWJsZWQ7Yy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoImd1aWRlc0VuYWJsZWRDaGFuZ2VkIikpfSk7ay5zZXRUb2dnbGVBY3Rpb24oITApO2suc2V0U2VsZWN0ZWRDYWxsYmFjayhmdW5jdGlvbigpe3JldHVybiBkLmdyYXBoSGFuZGxlci5ndWlkZXNFbmFibGVkfSk7ay5zZXRFbmFibGVkKCExKTsKaz10aGlzLmFkZEFjdGlvbigidG9vbHRpcHMiLGZ1bmN0aW9uKCl7ZC50b29sdGlwSGFuZGxlci5zZXRFbmFibGVkKCFkLnRvb2x0aXBIYW5kbGVyLmlzRW5hYmxlZCgpKX0pO2suc2V0VG9nZ2xlQWN0aW9uKCEwKTtrLnNldFNlbGVjdGVkQ2FsbGJhY2soZnVuY3Rpb24oKXtyZXR1cm4gZC50b29sdGlwSGFuZGxlci5pc0VuYWJsZWQoKX0pO2s9dGhpcy5hZGRBY3Rpb24oImNvbGxhcHNlRXhwYW5kIixmdW5jdGlvbigpe3ZhciBhPW5ldyBDaGFuZ2VQYWdlU2V0dXAoYyk7YS5pZ25vcmVDb2xvcj0hMDthLmlnbm9yZUltYWdlPSEwO2EuZm9sZGluZ0VuYWJsZWQ9IWQuZm9sZGluZ0VuYWJsZWQ7ZC5tb2RlbC5leGVjdXRlKGEpfSk7ay5zZXRUb2dnbGVBY3Rpb24oITApO2suc2V0U2VsZWN0ZWRDYWxsYmFjayhmdW5jdGlvbigpe3JldHVybiBkLmZvbGRpbmdFbmFibGVkfSk7ay5pc0VuYWJsZWQ9bTtrPXRoaXMuYWRkQWN0aW9uKCJzY3JvbGxiYXJzIixmdW5jdGlvbigpe2Muc2V0U2Nyb2xsYmFycyghYy5oYXNTY3JvbGxiYXJzKCkpfSk7Cmsuc2V0VG9nZ2xlQWN0aW9uKCEwKTtrLnNldFNlbGVjdGVkQ2FsbGJhY2soZnVuY3Rpb24oKXtyZXR1cm4gZC5zY3JvbGxiYXJzfSk7az10aGlzLmFkZEFjdGlvbigicGFnZVZpZXciLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7Yy5zZXRQYWdlVmlzaWJsZSghZC5wYWdlVmlzaWJsZSl9KSk7ay5zZXRUb2dnbGVBY3Rpb24oITApO2suc2V0U2VsZWN0ZWRDYWxsYmFjayhmdW5jdGlvbigpe3JldHVybiBkLnBhZ2VWaXNpYmxlfSk7az10aGlzLmFkZEFjdGlvbigiY29ubmVjdGlvbkFycm93cyIsZnVuY3Rpb24oKXtkLmNvbm5lY3Rpb25BcnJvd3NFbmFibGVkPSFkLmNvbm5lY3Rpb25BcnJvd3NFbmFibGVkO2MuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJjb25uZWN0aW9uQXJyb3dzQ2hhbmdlZCIpKX0sbnVsbCxudWxsLCJBbHQrU2hpZnQrQSIpO2suc2V0VG9nZ2xlQWN0aW9uKCEwKTtrLnNldFNlbGVjdGVkQ2FsbGJhY2soZnVuY3Rpb24oKXtyZXR1cm4gZC5jb25uZWN0aW9uQXJyb3dzRW5hYmxlZH0pOwprPXRoaXMuYWRkQWN0aW9uKCJjb25uZWN0aW9uUG9pbnRzIixmdW5jdGlvbigpe2Quc2V0Q29ubmVjdGFibGUoIWQuY29ubmVjdGlvbkhhbmRsZXIuaXNFbmFibGVkKCkpO2MuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJjb25uZWN0aW9uUG9pbnRzQ2hhbmdlZCIpKX0sbnVsbCxudWxsLCJBbHQrU2hpZnQrUCIpO2suc2V0VG9nZ2xlQWN0aW9uKCEwKTtrLnNldFNlbGVjdGVkQ2FsbGJhY2soZnVuY3Rpb24oKXtyZXR1cm4gZC5jb25uZWN0aW9uSGFuZGxlci5pc0VuYWJsZWQoKX0pO2s9dGhpcy5hZGRBY3Rpb24oImNvcHlDb25uZWN0IixmdW5jdGlvbigpe2QuY29ubmVjdGlvbkhhbmRsZXIuc2V0Q3JlYXRlVGFyZ2V0KCFkLmNvbm5lY3Rpb25IYW5kbGVyLmlzQ3JlYXRlVGFyZ2V0KCkpO2MuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJjb3B5Q29ubmVjdENoYW5nZWQiKSl9KTtrLnNldFRvZ2dsZUFjdGlvbighMCk7ay5zZXRTZWxlY3RlZENhbGxiYWNrKGZ1bmN0aW9uKCl7cmV0dXJuIGQuY29ubmVjdGlvbkhhbmRsZXIuaXNDcmVhdGVUYXJnZXQoKX0pOwprLmlzRW5hYmxlZD1tO2s9dGhpcy5hZGRBY3Rpb24oImF1dG9zYXZlIixmdW5jdGlvbigpe2MuZWRpdG9yLnNldEF1dG9zYXZlKCFjLmVkaXRvci5hdXRvc2F2ZSl9KTtrLnNldFRvZ2dsZUFjdGlvbighMCk7ay5zZXRTZWxlY3RlZENhbGxiYWNrKGZ1bmN0aW9uKCl7cmV0dXJuIGMuZWRpdG9yLmF1dG9zYXZlfSk7ay5pc0VuYWJsZWQ9bTtrLnZpc2libGU9ITE7dGhpcy5hZGRBY3Rpb24oImhlbHAiLGZ1bmN0aW9uKCl7dmFyIGE9IiI7bXhSZXNvdXJjZXMuaXNMYW5ndWFnZVN1cHBvcnRlZChteENsaWVudC5sYW5ndWFnZSkmJihhPSJfIitteENsaWVudC5sYW5ndWFnZSk7ZC5vcGVuTGluayhSRVNPVVJDRVNfUEFUSCsiL2hlbHAiK2ErIi5odG1sIil9KTt2YXIgcT0hMTt0aGlzLnB1dCgiYWJvdXQiLG5ldyBBY3Rpb24obXhSZXNvdXJjZXMuZ2V0KCJhYm91dCIpKyIgR3JhcGggRWRpdG9yLi4uIixmdW5jdGlvbigpe3F8fChjLnNob3dEaWFsb2coKG5ldyBBYm91dERpYWxvZyhjKSkuY29udGFpbmVyLAozMjAsMjgwLCEwLCEwLGZ1bmN0aW9uKCl7cT0hMX0pLHE9ITApfSkpO2s9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxlLGMsZil7cmV0dXJuIHRoaXMuYWRkQWN0aW9uKGEsZnVuY3Rpb24oKXtpZihudWxsIT1jJiZkLmNlbGxFZGl0b3IuaXNDb250ZW50RWRpdGluZygpKWMoKTtlbHNle2Quc3RvcEVkaXRpbmcoITEpO2QuZ2V0TW9kZWwoKS5iZWdpblVwZGF0ZSgpO3RyeXt2YXIgYT1kLmdldFNlbGVjdGlvbkNlbGxzKCk7ZC50b2dnbGVDZWxsU3R5bGVGbGFncyhteENvbnN0YW50cy5TVFlMRV9GT05UU1RZTEUsZSxhKTsoZSZteENvbnN0YW50cy5GT05UX0JPTEQpPT1teENvbnN0YW50cy5GT05UX0JPTEQ/ZC51cGRhdGVMYWJlbEVsZW1lbnRzKGQuZ2V0U2VsZWN0aW9uQ2VsbHMoKSxmdW5jdGlvbihhKXthLnN0eWxlLmZvbnRXZWlnaHQ9bnVsbDsiQiI9PWEubm9kZU5hbWUmJmQucmVwbGFjZUVsZW1lbnQoYSl9KTooZSZteENvbnN0YW50cy5GT05UX0lUQUxJQyk9PW14Q29uc3RhbnRzLkZPTlRfSVRBTElDPwpkLnVwZGF0ZUxhYmVsRWxlbWVudHMoZC5nZXRTZWxlY3Rpb25DZWxscygpLGZ1bmN0aW9uKGEpe2Euc3R5bGUuZm9udFN0eWxlPW51bGw7IkkiPT1hLm5vZGVOYW1lJiZkLnJlcGxhY2VFbGVtZW50KGEpfSk6KGUmbXhDb25zdGFudHMuRk9OVF9VTkRFUkxJTkUpPT1teENvbnN0YW50cy5GT05UX1VOREVSTElORSYmZC51cGRhdGVMYWJlbEVsZW1lbnRzKGQuZ2V0U2VsZWN0aW9uQ2VsbHMoKSxmdW5jdGlvbihhKXthLnN0eWxlLnRleHREZWNvcmF0aW9uPW51bGw7IlUiPT1hLm5vZGVOYW1lJiZkLnJlcGxhY2VFbGVtZW50KGEpfSk7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspMD09ZC5tb2RlbC5nZXRDaGlsZENvdW50KGFbYl0pJiZkLmF1dG9TaXplQ2VsbChhW2JdLCExKX1maW5hbGx5e2QuZ2V0TW9kZWwoKS5lbmRVcGRhdGUoKX19fSxudWxsLG51bGwsZil9KTtrKCJib2xkIixteENvbnN0YW50cy5GT05UX0JPTEQsZnVuY3Rpb24oKXtkb2N1bWVudC5leGVjQ29tbWFuZCgiYm9sZCIsCiExLG51bGwpfSxFZGl0b3IuY3RybEtleSsiK0IiKTtrKCJpdGFsaWMiLG14Q29uc3RhbnRzLkZPTlRfSVRBTElDLGZ1bmN0aW9uKCl7ZG9jdW1lbnQuZXhlY0NvbW1hbmQoIml0YWxpYyIsITEsbnVsbCl9LEVkaXRvci5jdHJsS2V5KyIrSSIpO2soInVuZGVybGluZSIsbXhDb25zdGFudHMuRk9OVF9VTkRFUkxJTkUsZnVuY3Rpb24oKXtkb2N1bWVudC5leGVjQ29tbWFuZCgidW5kZXJsaW5lIiwhMSxudWxsKX0sRWRpdG9yLmN0cmxLZXkrIitVIik7dGhpcy5hZGRBY3Rpb24oImZvbnRDb2xvci4uLiIsZnVuY3Rpb24oKXtjLm1lbnVzLnBpY2tDb2xvcihteENvbnN0YW50cy5TVFlMRV9GT05UQ09MT1IsImZvcmVjb2xvciIsIjAwMDAwMCIpfSk7dGhpcy5hZGRBY3Rpb24oInN0cm9rZUNvbG9yLi4uIixmdW5jdGlvbigpe2MubWVudXMucGlja0NvbG9yKG14Q29uc3RhbnRzLlNUWUxFX1NUUk9LRUNPTE9SKX0pO3RoaXMuYWRkQWN0aW9uKCJmaWxsQ29sb3IuLi4iLGZ1bmN0aW9uKCl7Yy5tZW51cy5waWNrQ29sb3IobXhDb25zdGFudHMuU1RZTEVfRklMTENPTE9SKX0pOwp0aGlzLmFkZEFjdGlvbigiZ3JhZGllbnRDb2xvci4uLiIsZnVuY3Rpb24oKXtjLm1lbnVzLnBpY2tDb2xvcihteENvbnN0YW50cy5TVFlMRV9HUkFESUVOVENPTE9SKX0pO3RoaXMuYWRkQWN0aW9uKCJiYWNrZ3JvdW5kQ29sb3IuLi4iLGZ1bmN0aW9uKCl7Yy5tZW51cy5waWNrQ29sb3IobXhDb25zdGFudHMuU1RZTEVfTEFCRUxfQkFDS0dST1VORENPTE9SLCJiYWNrY29sb3IiKX0pO3RoaXMuYWRkQWN0aW9uKCJib3JkZXJDb2xvci4uLiIsZnVuY3Rpb24oKXtjLm1lbnVzLnBpY2tDb2xvcihteENvbnN0YW50cy5TVFlMRV9MQUJFTF9CT1JERVJDT0xPUil9KTt0aGlzLmFkZEFjdGlvbigidmVydGljYWwiLGZ1bmN0aW9uKCl7Yy5tZW51cy50b2dnbGVTdHlsZShteENvbnN0YW50cy5TVFlMRV9IT1JJWk9OVEFMLCEwKX0pO3RoaXMuYWRkQWN0aW9uKCJzaGFkb3ciLGZ1bmN0aW9uKCl7Yy5tZW51cy50b2dnbGVTdHlsZShteENvbnN0YW50cy5TVFlMRV9TSEFET1cpfSk7dGhpcy5hZGRBY3Rpb24oInNvbGlkIiwKZnVuY3Rpb24oKXtkLmdldE1vZGVsKCkuYmVnaW5VcGRhdGUoKTt0cnl7ZC5zZXRDZWxsU3R5bGVzKG14Q29uc3RhbnRzLlNUWUxFX0RBU0hFRCxudWxsKSxkLnNldENlbGxTdHlsZXMobXhDb25zdGFudHMuU1RZTEVfREFTSF9QQVRURVJOLG51bGwpLGMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJzdHlsZUNoYW5nZWQiLCJrZXlzIixbbXhDb25zdGFudHMuU1RZTEVfREFTSEVELG14Q29uc3RhbnRzLlNUWUxFX0RBU0hfUEFUVEVSTl0sInZhbHVlcyIsW251bGwsbnVsbF0sImNlbGxzIixkLmdldFNlbGVjdGlvbkNlbGxzKCkpKX1maW5hbGx5e2QuZ2V0TW9kZWwoKS5lbmRVcGRhdGUoKX19KTt0aGlzLmFkZEFjdGlvbigiZGFzaGVkIixmdW5jdGlvbigpe2QuZ2V0TW9kZWwoKS5iZWdpblVwZGF0ZSgpO3RyeXtkLnNldENlbGxTdHlsZXMobXhDb25zdGFudHMuU1RZTEVfREFTSEVELCIxIiksZC5zZXRDZWxsU3R5bGVzKG14Q29uc3RhbnRzLlNUWUxFX0RBU0hfUEFUVEVSTixudWxsKSwKYy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoInN0eWxlQ2hhbmdlZCIsImtleXMiLFtteENvbnN0YW50cy5TVFlMRV9EQVNIRUQsbXhDb25zdGFudHMuU1RZTEVfREFTSF9QQVRURVJOXSwidmFsdWVzIixbIjEiLG51bGxdLCJjZWxscyIsZC5nZXRTZWxlY3Rpb25DZWxscygpKSl9ZmluYWxseXtkLmdldE1vZGVsKCkuZW5kVXBkYXRlKCl9fSk7dGhpcy5hZGRBY3Rpb24oImRvdHRlZCIsZnVuY3Rpb24oKXtkLmdldE1vZGVsKCkuYmVnaW5VcGRhdGUoKTt0cnl7ZC5zZXRDZWxsU3R5bGVzKG14Q29uc3RhbnRzLlNUWUxFX0RBU0hFRCwiMSIpLGQuc2V0Q2VsbFN0eWxlcyhteENvbnN0YW50cy5TVFlMRV9EQVNIX1BBVFRFUk4sIjEgNCIpLGMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJzdHlsZUNoYW5nZWQiLCJrZXlzIixbbXhDb25zdGFudHMuU1RZTEVfREFTSEVELG14Q29uc3RhbnRzLlNUWUxFX0RBU0hfUEFUVEVSTl0sInZhbHVlcyIsWyIxIiwiMSA0Il0sImNlbGxzIiwKZC5nZXRTZWxlY3Rpb25DZWxscygpKSl9ZmluYWxseXtkLmdldE1vZGVsKCkuZW5kVXBkYXRlKCl9fSk7dGhpcy5hZGRBY3Rpb24oInNoYXJwIixmdW5jdGlvbigpe2QuZ2V0TW9kZWwoKS5iZWdpblVwZGF0ZSgpO3RyeXtkLnNldENlbGxTdHlsZXMobXhDb25zdGFudHMuU1RZTEVfUk9VTkRFRCwiMCIpLGQuc2V0Q2VsbFN0eWxlcyhteENvbnN0YW50cy5TVFlMRV9DVVJWRUQsIjAiKSxjLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgic3R5bGVDaGFuZ2VkIiwia2V5cyIsW214Q29uc3RhbnRzLlNUWUxFX1JPVU5ERUQsbXhDb25zdGFudHMuU1RZTEVfQ1VSVkVEXSwidmFsdWVzIixbIjAiLCIwIl0sImNlbGxzIixkLmdldFNlbGVjdGlvbkNlbGxzKCkpKX1maW5hbGx5e2QuZ2V0TW9kZWwoKS5lbmRVcGRhdGUoKX19KTt0aGlzLmFkZEFjdGlvbigicm91bmRlZCIsZnVuY3Rpb24oKXtkLmdldE1vZGVsKCkuYmVnaW5VcGRhdGUoKTt0cnl7ZC5zZXRDZWxsU3R5bGVzKG14Q29uc3RhbnRzLlNUWUxFX1JPVU5ERUQsCiIxIiksZC5zZXRDZWxsU3R5bGVzKG14Q29uc3RhbnRzLlNUWUxFX0NVUlZFRCwiMCIpLGMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJzdHlsZUNoYW5nZWQiLCJrZXlzIixbbXhDb25zdGFudHMuU1RZTEVfUk9VTkRFRCxteENvbnN0YW50cy5TVFlMRV9DVVJWRURdLCJ2YWx1ZXMiLFsiMSIsIjAiXSwiY2VsbHMiLGQuZ2V0U2VsZWN0aW9uQ2VsbHMoKSkpfWZpbmFsbHl7ZC5nZXRNb2RlbCgpLmVuZFVwZGF0ZSgpfX0pO3RoaXMuYWRkQWN0aW9uKCJ0b2dnbGVSb3VuZGVkIixmdW5jdGlvbigpe2lmKCFkLmlzU2VsZWN0aW9uRW1wdHkoKSYmZC5pc0VuYWJsZWQoKSl7ZC5nZXRNb2RlbCgpLmJlZ2luVXBkYXRlKCk7dHJ5e3ZhciBhPWQuZ2V0U2VsZWN0aW9uQ2VsbHMoKSxlPWQuZ2V0Q3VycmVudENlbGxTdHlsZShhWzBdKSxmPSIxIj09bXhVdGlscy5nZXRWYWx1ZShlLG14Q29uc3RhbnRzLlNUWUxFX1JPVU5ERUQsIjAiKT8iMCI6IjEiO2Quc2V0Q2VsbFN0eWxlcyhteENvbnN0YW50cy5TVFlMRV9ST1VOREVELApmKTtkLnNldENlbGxTdHlsZXMobXhDb25zdGFudHMuU1RZTEVfQ1VSVkVELG51bGwpO2MuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJzdHlsZUNoYW5nZWQiLCJrZXlzIixbbXhDb25zdGFudHMuU1RZTEVfUk9VTkRFRCxteENvbnN0YW50cy5TVFlMRV9DVVJWRURdLCJ2YWx1ZXMiLFtmLCIwIl0sImNlbGxzIixkLmdldFNlbGVjdGlvbkNlbGxzKCkpKX1maW5hbGx5e2QuZ2V0TW9kZWwoKS5lbmRVcGRhdGUoKX19fSk7dGhpcy5hZGRBY3Rpb24oImN1cnZlZCIsZnVuY3Rpb24oKXtkLmdldE1vZGVsKCkuYmVnaW5VcGRhdGUoKTt0cnl7ZC5zZXRDZWxsU3R5bGVzKG14Q29uc3RhbnRzLlNUWUxFX1JPVU5ERUQsIjAiKSxkLnNldENlbGxTdHlsZXMobXhDb25zdGFudHMuU1RZTEVfQ1VSVkVELCIxIiksYy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoInN0eWxlQ2hhbmdlZCIsImtleXMiLFtteENvbnN0YW50cy5TVFlMRV9ST1VOREVELG14Q29uc3RhbnRzLlNUWUxFX0NVUlZFRF0sCiJ2YWx1ZXMiLFsiMCIsIjEiXSwiY2VsbHMiLGQuZ2V0U2VsZWN0aW9uQ2VsbHMoKSkpfWZpbmFsbHl7ZC5nZXRNb2RlbCgpLmVuZFVwZGF0ZSgpfX0pO3RoaXMuYWRkQWN0aW9uKCJjb2xsYXBzaWJsZSIsZnVuY3Rpb24oKXt2YXIgYT1kLnZpZXcuZ2V0U3RhdGUoZC5nZXRTZWxlY3Rpb25DZWxsKCkpLGU9IjEiO251bGwhPWEmJm51bGwhPWQuZ2V0Rm9sZGluZ0ltYWdlKGEpJiYoZT0iMCIpO2Quc2V0Q2VsbFN0eWxlcygiY29sbGFwc2libGUiLGUpO2MuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJzdHlsZUNoYW5nZWQiLCJrZXlzIixbImNvbGxhcHNpYmxlIl0sInZhbHVlcyIsW2VdLCJjZWxscyIsZC5nZXRTZWxlY3Rpb25DZWxscygpKSl9KTt0aGlzLmFkZEFjdGlvbigiZWRpdFN0eWxlLi4uIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3ZhciBhPWQuZ2V0U2VsZWN0aW9uQ2VsbHMoKTtpZihudWxsIT1hJiYwPGEubGVuZ3RoKXt2YXIgZT1kLmdldE1vZGVsKCksZT0KbmV3IFRleHRhcmVhRGlhbG9nKHRoaXMuZWRpdG9yVWksbXhSZXNvdXJjZXMuZ2V0KCJlZGl0U3R5bGUiKSsiOiIsZS5nZXRTdHlsZShhWzBdKXx8IiIsZnVuY3Rpb24oYil7bnVsbCE9YiYmZC5zZXRDZWxsU3R5bGUobXhVdGlscy50cmltKGIpLGEpfSxudWxsLG51bGwsNDAwLDIyMCk7dGhpcy5lZGl0b3JVaS5zaG93RGlhbG9nKGUuY29udGFpbmVyLDQyMCwzMDAsITAsITApO2UuaW5pdCgpfX0pLG51bGwsbnVsbCxFZGl0b3IuY3RybEtleSsiK0UiKTt0aGlzLmFkZEFjdGlvbigic2V0QXNEZWZhdWx0U3R5bGUiLGZ1bmN0aW9uKCl7ZC5pc0VuYWJsZWQoKSYmIWQuaXNTZWxlY3Rpb25FbXB0eSgpJiZjLnNldERlZmF1bHRTdHlsZShkLmdldFNlbGVjdGlvbkNlbGwoKSl9LG51bGwsbnVsbCxFZGl0b3IuY3RybEtleSsiK1NoaWZ0K0QiKTt0aGlzLmFkZEFjdGlvbigiY2xlYXJEZWZhdWx0U3R5bGUiLGZ1bmN0aW9uKCl7ZC5pc0VuYWJsZWQoKSYmYy5jbGVhckRlZmF1bHRTdHlsZSgpfSwKbnVsbCxudWxsLEVkaXRvci5jdHJsS2V5KyIrU2hpZnQrUiIpO3RoaXMuYWRkQWN0aW9uKCJhZGRXYXlwb2ludCIsZnVuY3Rpb24oKXt2YXIgYT1kLmdldFNlbGVjdGlvbkNlbGwoKTtpZihudWxsIT1hJiZkLmdldE1vZGVsKCkuaXNFZGdlKGEpKXt2YXIgZT1mLmdyYXBoLnNlbGVjdGlvbkNlbGxzSGFuZGxlci5nZXRIYW5kbGVyKGEpO2lmKGUgaW5zdGFuY2VvZiBteEVkZ2VIYW5kbGVyKXtmb3IodmFyIGM9ZC52aWV3LnRyYW5zbGF0ZSxwPWQudmlldy5zY2FsZSxsPWMueCxjPWMueSxhPWQuZ2V0TW9kZWwoKS5nZXRQYXJlbnQoYSksbj1kLmdldENlbGxHZW9tZXRyeShhKTtkLmdldE1vZGVsKCkuaXNWZXJ0ZXgoYSkmJm51bGwhPW47KWwrPW4ueCxjKz1uLnksYT1kLmdldE1vZGVsKCkuZ2V0UGFyZW50KGEpLG49ZC5nZXRDZWxsR2VvbWV0cnkoYSk7bD1NYXRoLnJvdW5kKGQuc25hcChkLnBvcHVwTWVudUhhbmRsZXIudHJpZ2dlclgvcC1sKSk7cD1NYXRoLnJvdW5kKGQuc25hcChkLnBvcHVwTWVudUhhbmRsZXIudHJpZ2dlclkvCnAtYykpO2UuYWRkUG9pbnRBdChlLnN0YXRlLGwscCl9fX0pO3RoaXMuYWRkQWN0aW9uKCJyZW1vdmVXYXlwb2ludCIsZnVuY3Rpb24oKXt2YXIgYT1jLmFjdGlvbnMuZ2V0KCJyZW1vdmVXYXlwb2ludCIpO251bGwhPWEuaGFuZGxlciYmYS5oYW5kbGVyLnJlbW92ZVBvaW50KGEuaGFuZGxlci5zdGF0ZSxhLmluZGV4KX0pO3RoaXMuYWRkQWN0aW9uKCJjbGVhcldheXBvaW50cyIsZnVuY3Rpb24oKXt2YXIgYT1kLmdldFNlbGVjdGlvbkNlbGxzKCk7aWYobnVsbCE9YSl7YT1kLmFkZEFsbEVkZ2VzKGEpO2QuZ2V0TW9kZWwoKS5iZWdpblVwZGF0ZSgpO3RyeXtmb3IodmFyIGU9MDtlPGEubGVuZ3RoO2UrKyl7dmFyIGM9YVtlXTtpZihkLmdldE1vZGVsKCkuaXNFZGdlKGMpKXt2YXIgZj1kLmdldENlbGxHZW9tZXRyeShjKTtudWxsIT1mJiYoZj1mLmNsb25lKCksZi5wb2ludHM9bnVsbCxkLmdldE1vZGVsKCkuc2V0R2VvbWV0cnkoYyxmKSl9fX1maW5hbGx5e2QuZ2V0TW9kZWwoKS5lbmRVcGRhdGUoKX19fSwKbnVsbCxudWxsLCJBbHQrU2hpZnQrQyIpO2s9dGhpcy5hZGRBY3Rpb24oInN1YnNjcmlwdCIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtkLmNlbGxFZGl0b3IuaXNDb250ZW50RWRpdGluZygpJiZkb2N1bWVudC5leGVjQ29tbWFuZCgic3Vic2NyaXB0IiwhMSxudWxsKX0pLG51bGwsbnVsbCxFZGl0b3IuY3RybEtleSsiKywiKTtrPXRoaXMuYWRkQWN0aW9uKCJzdXBlcnNjcmlwdCIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtkLmNlbGxFZGl0b3IuaXNDb250ZW50RWRpdGluZygpJiZkb2N1bWVudC5leGVjQ29tbWFuZCgic3VwZXJzY3JpcHQiLCExLG51bGwpfSksbnVsbCxudWxsLEVkaXRvci5jdHJsS2V5KyIrLiIpO2s9dGhpcy5hZGRBY3Rpb24oImluZGVudCIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtkLmNlbGxFZGl0b3IuaXNDb250ZW50RWRpdGluZygpJiZkb2N1bWVudC5leGVjQ29tbWFuZCgiaW5kZW50IiwhMSxudWxsKX0pLG51bGwsbnVsbCwiU2hpZnQrVGFiIik7CnRoaXMuYWRkQWN0aW9uKCJpbWFnZS4uLiIsZnVuY3Rpb24oKXtpZihkLmlzRW5hYmxlZCgpJiYhZC5pc0NlbGxMb2NrZWQoZC5nZXREZWZhdWx0UGFyZW50KCkpKXt2YXIgYT1teFJlc291cmNlcy5nZXQoImltYWdlIikrIiAoIitteFJlc291cmNlcy5nZXQoInVybCIpKyIpOiIsZT1kLmdldFZpZXcoKS5nZXRTdGF0ZShkLmdldFNlbGVjdGlvbkNlbGwoKSksZj0iIjtudWxsIT1lJiYoZj1lLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0lNQUdFXXx8Zik7dmFyIHA9ZC5jZWxsRWRpdG9yLnNhdmVTZWxlY3Rpb24oKTtjLnNob3dJbWFnZURpYWxvZyhhLGYsZnVuY3Rpb24oYSxiLGUpe2lmKGQuY2VsbEVkaXRvci5pc0NvbnRlbnRFZGl0aW5nKCkpZC5jZWxsRWRpdG9yLnJlc3RvcmVTZWxlY3Rpb24ocCksZC5pbnNlcnRJbWFnZShhLGIsZSk7ZWxzZXt2YXIgYz1kLmdldFNlbGVjdGlvbkNlbGxzKCk7aWYobnVsbCE9YSYmKDA8YS5sZW5ndGh8fDA8Yy5sZW5ndGgpKXt2YXIgZj1udWxsOwpkLmdldE1vZGVsKCkuYmVnaW5VcGRhdGUoKTt0cnl7aWYoMD09Yy5sZW5ndGgpe3ZhciBnPWQuZ2V0RnJlZUluc2VydFBvaW50KCksZj1jPVtkLmluc2VydFZlcnRleChkLmdldERlZmF1bHRQYXJlbnQoKSxudWxsLCIiLGcueCxnLnksYixlLCJzaGFwZT1pbWFnZTtpbWFnZUFzcGVjdD0wO2FzcGVjdD1maXhlZDt2ZXJ0aWNhbExhYmVsUG9zaXRpb249Ym90dG9tO3ZlcnRpY2FsQWxpZ249dG9wOyIpXTtkLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgiY2VsbHNJbnNlcnRlZCIsImNlbGxzIixmKSl9ZC5zZXRDZWxsU3R5bGVzKG14Q29uc3RhbnRzLlNUWUxFX0lNQUdFLDA8YS5sZW5ndGg/YTpudWxsLGMpO3ZhciBsPWQuZ2V0Q3VycmVudENlbGxTdHlsZShjWzBdKTsiaW1hZ2UiIT1sW214Q29uc3RhbnRzLlNUWUxFX1NIQVBFXSYmImxhYmVsIiE9bFtteENvbnN0YW50cy5TVFlMRV9TSEFQRV0/ZC5zZXRDZWxsU3R5bGVzKG14Q29uc3RhbnRzLlNUWUxFX1NIQVBFLCJpbWFnZSIsCmMpOjA9PWEubGVuZ3RoJiZkLnNldENlbGxTdHlsZXMobXhDb25zdGFudHMuU1RZTEVfU0hBUEUsbnVsbCxjKTtpZigxPT1kLmdldFNlbGVjdGlvbkNvdW50KCkmJm51bGwhPWImJm51bGwhPWUpe3ZhciBuPWNbMF0saz1kLmdldE1vZGVsKCkuZ2V0R2VvbWV0cnkobik7bnVsbCE9ayYmKGs9ay5jbG9uZSgpLGsud2lkdGg9YixrLmhlaWdodD1lLGQuZ2V0TW9kZWwoKS5zZXRHZW9tZXRyeShuLGspKX19ZmluYWxseXtkLmdldE1vZGVsKCkuZW5kVXBkYXRlKCl9bnVsbCE9ZiYmKGQuc2V0U2VsZWN0aW9uQ2VsbHMoZiksZC5zY3JvbGxDZWxsVG9WaXNpYmxlKGZbMF0pKX19fSxkLmNlbGxFZGl0b3IuaXNDb250ZW50RWRpdGluZygpLCFkLmNlbGxFZGl0b3IuaXNDb250ZW50RWRpdGluZygpKX19KS5pc0VuYWJsZWQ9bTtrPXRoaXMuYWRkQWN0aW9uKCJsYXllcnMiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7bnVsbD09dGhpcy5sYXllcnNXaW5kb3c/KHRoaXMubGF5ZXJzV2luZG93PQpuZXcgTGF5ZXJzV2luZG93KGMsZG9jdW1lbnQuYm9keS5vZmZzZXRXaWR0aC0yODAsMTIwLDIyMCwxOTYpLHRoaXMubGF5ZXJzV2luZG93LndpbmRvdy5hZGRMaXN0ZW5lcigic2hvdyIsZnVuY3Rpb24oKXtjLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgibGF5ZXJzIikpfSksdGhpcy5sYXllcnNXaW5kb3cud2luZG93LmFkZExpc3RlbmVyKCJoaWRlIixmdW5jdGlvbigpe2MuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJsYXllcnMiKSl9KSx0aGlzLmxheWVyc1dpbmRvdy53aW5kb3cuc2V0VmlzaWJsZSghMCksYy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoImxheWVycyIpKSx0aGlzLmxheWVyc1dpbmRvdy5pbml0KCkpOnRoaXMubGF5ZXJzV2luZG93LndpbmRvdy5zZXRWaXNpYmxlKCF0aGlzLmxheWVyc1dpbmRvdy53aW5kb3cuaXNWaXNpYmxlKCkpfSksbnVsbCxudWxsLEVkaXRvci5jdHJsS2V5KyIrU2hpZnQrTCIpO2suc2V0VG9nZ2xlQWN0aW9uKCEwKTsKay5zZXRTZWxlY3RlZENhbGxiYWNrKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMubGF5ZXJzV2luZG93JiZ0aGlzLmxheWVyc1dpbmRvdy53aW5kb3cuaXNWaXNpYmxlKCl9KSk7az10aGlzLmFkZEFjdGlvbigiZm9ybWF0UGFuZWwiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7Yy50b2dnbGVGb3JtYXRQYW5lbCgpfSksbnVsbCxudWxsLEVkaXRvci5jdHJsS2V5KyIrU2hpZnQrUCIpO2suc2V0VG9nZ2xlQWN0aW9uKCEwKTtrLnNldFNlbGVjdGVkQ2FsbGJhY2sobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gMDxjLmZvcm1hdFdpZHRofSkpO2s9dGhpcy5hZGRBY3Rpb24oIm91dGxpbmUiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7bnVsbD09dGhpcy5vdXRsaW5lV2luZG93Pyh0aGlzLm91dGxpbmVXaW5kb3c9bmV3IE91dGxpbmVXaW5kb3coYyxkb2N1bWVudC5ib2R5Lm9mZnNldFdpZHRoLTI2MCwxMDAsMTgwLAoxODApLHRoaXMub3V0bGluZVdpbmRvdy53aW5kb3cuYWRkTGlzdGVuZXIoInNob3ciLGZ1bmN0aW9uKCl7Yy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoIm91dGxpbmUiKSl9KSx0aGlzLm91dGxpbmVXaW5kb3cud2luZG93LmFkZExpc3RlbmVyKCJoaWRlIixmdW5jdGlvbigpe2MuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJvdXRsaW5lIikpfSksdGhpcy5vdXRsaW5lV2luZG93LndpbmRvdy5zZXRWaXNpYmxlKCEwKSxjLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgib3V0bGluZSIpKSk6dGhpcy5vdXRsaW5lV2luZG93LndpbmRvdy5zZXRWaXNpYmxlKCF0aGlzLm91dGxpbmVXaW5kb3cud2luZG93LmlzVmlzaWJsZSgpKX0pLG51bGwsbnVsbCxFZGl0b3IuY3RybEtleSsiK1NoaWZ0K08iKTtrLnNldFRvZ2dsZUFjdGlvbighMCk7ay5zZXRTZWxlY3RlZENhbGxiYWNrKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMub3V0bGluZVdpbmRvdyYmCnRoaXMub3V0bGluZVdpbmRvdy53aW5kb3cuaXNWaXNpYmxlKCl9KSl9O0FjdGlvbnMucHJvdG90eXBlLmFkZEFjdGlvbj1mdW5jdGlvbihhLGMsZixkLG0pe3ZhciBrOyIuLi4iPT1hLnN1YnN0cmluZyhhLmxlbmd0aC0zKT8oYT1hLnN1YnN0cmluZygwLGEubGVuZ3RoLTMpLGs9bXhSZXNvdXJjZXMuZ2V0KGEpKyIuLi4iKTprPW14UmVzb3VyY2VzLmdldChhKTtyZXR1cm4gdGhpcy5wdXQoYSxuZXcgQWN0aW9uKGssYyxmLGQsbSkpfTtBY3Rpb25zLnByb3RvdHlwZS5wdXQ9ZnVuY3Rpb24oYSxjKXtyZXR1cm4gdGhpcy5hY3Rpb25zW2FdPWN9O0FjdGlvbnMucHJvdG90eXBlLmdldD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hY3Rpb25zW2FdfTsKZnVuY3Rpb24gQWN0aW9uKGEsYyxmLGQsbSl7bXhFdmVudFNvdXJjZS5jYWxsKHRoaXMpO3RoaXMubGFiZWw9YTt0aGlzLmZ1bmN0PXRoaXMuY3JlYXRlRnVuY3Rpb24oYyk7dGhpcy5lbmFibGVkPW51bGwhPWY/ZjohMDt0aGlzLmljb25DbHM9ZDt0aGlzLnNob3J0Y3V0PW07dGhpcy52aXNpYmxlPSEwfW14VXRpbHMuZXh0ZW5kKEFjdGlvbixteEV2ZW50U291cmNlKTtBY3Rpb24ucHJvdG90eXBlLmNyZWF0ZUZ1bmN0aW9uPWZ1bmN0aW9uKGEpe3JldHVybiBhfTtBY3Rpb24ucHJvdG90eXBlLnNldEVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5lbmFibGVkIT1hJiYodGhpcy5lbmFibGVkPWEsdGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoInN0YXRlQ2hhbmdlZCIpKSl9O0FjdGlvbi5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5hYmxlZH07CkFjdGlvbi5wcm90b3R5cGUuc2V0VG9nZ2xlQWN0aW9uPWZ1bmN0aW9uKGEpe3RoaXMudG9nZ2xlQWN0aW9uPWF9O0FjdGlvbi5wcm90b3R5cGUuc2V0U2VsZWN0ZWRDYWxsYmFjaz1mdW5jdGlvbihhKXt0aGlzLnNlbGVjdGVkQ2FsbGJhY2s9YX07QWN0aW9uLnByb3RvdHlwZS5pc1NlbGVjdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0ZWRDYWxsYmFjaygpfTtEcmF3aW9GaWxlPWZ1bmN0aW9uKGEsYyl7bXhFdmVudFNvdXJjZS5jYWxsKHRoaXMpO3RoaXMudWk9YTt0aGlzLnNoYWRvd0RhdGE9dGhpcy5kYXRhPWN8fCIiO3RoaXMuc2hhZG93UGFnZXM9bnVsbDt0aGlzLmNyZWF0ZWQ9KG5ldyBEYXRlKS5nZXRUaW1lKCk7dGhpcy5zdGF0cz17b3BlbmVkOjAsbWVyZ2VkOjAsZmlsZU1lcmdlZDowLGZpbGVSZWxvYWRlZDowLGNvbmZsaWN0czowLHRpbWVvdXRzOjAsc2F2ZWQ6MCxjbG9zZWQ6MCxkZXN0cm95ZWQ6MCxqb2luZWQ6MCxjaGVja3N1bUVycm9yczowLGJ5dGVzU2VudDowLGJ5dGVzUmVjZWl2ZWQ6MCxtc2dTZW50OjAsbXNnUmVjZWl2ZWQ6MCxjYWNoZUhpdHM6MCxjYWNoZU1pc3M6MCxjYWNoZUZhaWw6MH19O0RyYXdpb0ZpbGUuU1lOQz11cmxQYXJhbXMuc3luY3x8ImF1dG8iO0RyYXdpb0ZpbGUuTEFTVF9XUklURV9XSU5TPSEwO214VXRpbHMuZXh0ZW5kKERyYXdpb0ZpbGUsbXhFdmVudFNvdXJjZSk7CkRyYXdpb0ZpbGUucHJvdG90eXBlLmFsbENoYW5nZXNTYXZlZEtleT0iYWxsQ2hhbmdlc1NhdmVkIjtEcmF3aW9GaWxlLnByb3RvdHlwZS5hdXRvc2F2ZURlbGF5PTE1MDA7RHJhd2lvRmlsZS5wcm90b3R5cGUubWF4QXV0b3NhdmVEZWxheT0zRTQ7RHJhd2lvRmlsZS5wcm90b3R5cGUuYXV0b3NhdmVUaHJlYWQ9bnVsbDtEcmF3aW9GaWxlLnByb3RvdHlwZS5sYXN0QXV0b3NhdmU9bnVsbDtEcmF3aW9GaWxlLnByb3RvdHlwZS5sYXN0U2F2ZWQ9bnVsbDtEcmF3aW9GaWxlLnByb3RvdHlwZS5sYXN0Q2hhbmdlZD1udWxsO0RyYXdpb0ZpbGUucHJvdG90eXBlLm9wZW5lZD1udWxsO0RyYXdpb0ZpbGUucHJvdG90eXBlLm1vZGlmaWVkPSExO0RyYXdpb0ZpbGUucHJvdG90eXBlLnNoYWRvd01vZGlmaWVkPSExO0RyYXdpb0ZpbGUucHJvdG90eXBlLmRhdGE9bnVsbDtEcmF3aW9GaWxlLnByb3RvdHlwZS5zaGFkb3dEYXRhPW51bGw7RHJhd2lvRmlsZS5wcm90b3R5cGUuc2hhZG93UGFnZXM9bnVsbDsKRHJhd2lvRmlsZS5wcm90b3R5cGUuY2hhbmdlTGlzdGVuZXJFbmFibGVkPSEwO0RyYXdpb0ZpbGUucHJvdG90eXBlLmxhc3RBdXRvc2F2ZVJldmlzaW9uPW51bGw7RHJhd2lvRmlsZS5wcm90b3R5cGUubWF4QXV0b3NhdmVSZXZpc2lvbkRlbGF5PTNFNTtEcmF3aW9GaWxlLnByb3RvdHlwZS5pbkNvbmZsaWN0U3RhdGU9ITE7RHJhd2lvRmlsZS5wcm90b3R5cGUuaW52YWxpZENoZWNrc3VtPSExO0RyYXdpb0ZpbGUucHJvdG90eXBlLmVycm9yUmVwb3J0c0VuYWJsZWQ9ITE7RHJhd2lvRmlsZS5wcm90b3R5cGUucmVwb3J0RW5hYmxlZD0hMDtEcmF3aW9GaWxlLnByb3RvdHlwZS5hZ2VTdGFydD1udWxsO0RyYXdpb0ZpbGUucHJvdG90eXBlLmdldFNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5kYXRhP3RoaXMuZGF0YS5sZW5ndGg6MH07CkRyYXdpb0ZpbGUucHJvdG90eXBlLnN5bmNocm9uaXplRmlsZT1mdW5jdGlvbihhLGMpe3RoaXMuc2F2aW5nRmlsZT9udWxsIT1jJiZjKHttZXNzYWdlOm14UmVzb3VyY2VzLmdldCgiYnVzeSIpfSk6bnVsbCE9dGhpcy5zeW5jP3RoaXMuc3luYy5maWxlQ2hhbmdlZChhLGMpOnRoaXMudXBkYXRlRmlsZShhLGMpfTsKRHJhd2lvRmlsZS5wcm90b3R5cGUudXBkYXRlRmlsZT1mdW5jdGlvbihhLGMsZixkKXtudWxsIT1mJiZmKCl8fCh0aGlzLnVpLmdldEN1cnJlbnRGaWxlKCkhPXRoaXN8fHRoaXMuaW52YWxpZENoZWNrc3VtP251bGwhPWMmJmMoKTp0aGlzLmdldExhdGVzdFZlcnNpb24obXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24obSl7dHJ5e251bGwhPWYmJmYoKXx8KHRoaXMudWkuZ2V0Q3VycmVudEZpbGUoKSE9dGhpc3x8dGhpcy5pbnZhbGlkQ2hlY2tzdW0/bnVsbCE9YyYmYygpOm51bGwhPW0/dGhpcy5tZXJnZUZpbGUobSxhLGMsZCk6dGhpcy5yZWxvYWRGaWxlKGEsYykpfWNhdGNoKGspe251bGwhPWMmJmMoayl9fSksYykpfTsKRHJhd2lvRmlsZS5wcm90b3R5cGUubWVyZ2VGaWxlPWZ1bmN0aW9uKGEsYyxmLGQpe3ZhciBtPSEwO3RyeXt0aGlzLnN0YXRzLmZpbGVNZXJnZWQrKzt2YXIgaz1udWxsIT10aGlzLnNoYWRvd1BhZ2VzP3RoaXMuc2hhZG93UGFnZXM6dGhpcy51aS5nZXRQYWdlc0Zvck5vZGUobXhVdGlscy5wYXJzZVhtbCh0aGlzLnNoYWRvd0RhdGEpLmRvY3VtZW50RWxlbWVudCkscT10aGlzLnVpLmdldFBhZ2VzRm9yTm9kZShteFV0aWxzLnBhcnNlWG1sKGEuZGF0YSkuZG9jdW1lbnRFbGVtZW50KTtpZihudWxsIT1xJiYwPHEubGVuZ3RoKXt0aGlzLnNoYWRvd1BhZ2VzPXE7dGhpcy5iYWNrdXBQYXRjaD10aGlzLmlzTW9kaWZpZWQoKT90aGlzLnVpLmRpZmZQYWdlcyhrLHRoaXMudWkucGFnZXMpOm51bGw7dmFyIGI9W3RoaXMudWkuZGlmZlBhZ2VzKG51bGwhPWQ/ZDprLHRoaXMuc2hhZG93UGFnZXMpXTtpZighdGhpcy5pZ25vcmVQYXRjaGVzKGIpKXt2YXIgZT10aGlzLnVpLnBhdGNoUGFnZXMoaywKYlswXSk7ZD17fTt2YXIgZz10aGlzLnVpLmdldEhhc2hWYWx1ZUZvclBhZ2VzKGUsZCksaz17fSxwPXRoaXMudWkuZ2V0SGFzaFZhbHVlRm9yUGFnZXModGhpcy5zaGFkb3dQYWdlcyxrKTsiMSI9PXVybFBhcmFtcy50ZXN0JiZFZGl0b3JVaS5kZWJ1ZygiRmlsZS5tZXJnZUZpbGUiLFt0aGlzXSwiYmFja3VwIix0aGlzLmJhY2t1cFBhdGNoLCJwYXRjaGVzIixiLCJjaGVja3N1bSIscD09ZyxnKTtpZihudWxsIT1nJiZnIT1wKXt2YXIgbD10aGlzLmNvbXByZXNzUmVwb3J0RGF0YSh0aGlzLmdldEFub255bWl6ZWRYbWxGb3JQYWdlcyhxKSksbj10aGlzLmNvbXByZXNzUmVwb3J0RGF0YSh0aGlzLmdldEFub255bWl6ZWRYbWxGb3JQYWdlcyhlKSksdj10aGlzLnVpLmhhc2hWYWx1ZShhLmdldEN1cnJlbnRFdGFnKCkpLHQ9dGhpcy51aS5oYXNoVmFsdWUodGhpcy5nZXRDdXJyZW50RXRhZygpKTt0aGlzLmNoZWNrc3VtRXJyb3IoZixiLCJTaGFkb3cgRGV0YWlsczogIitKU09OLnN0cmluZ2lmeShkKSsKIlxuQ2hlY2tzdW06ICIrZysiXG5DdXJyZW50OiAiK3ArIlxuQ3VycmVudCBEZXRhaWxzOiAiK0pTT04uc3RyaW5naWZ5KGspKyJcbkZyb206ICIrdisiXG5UbzogIit0KyJcblxuRmlsZSBEYXRhOlxuIitsKyJcblBhdGNoZWQgU2hhZG93OlxuIituLG51bGwsIm1lcmdlRmlsZSIpO3JldHVybn10aGlzLnBhdGNoKGIsRHJhd2lvRmlsZS5MQVNUX1dSSVRFX1dJTlM/dGhpcy5iYWNrdXBQYXRjaDpudWxsKX19ZWxzZSB0aHJvdyBtPSExLEVycm9yKG14UmVzb3VyY2VzLmdldCgibm90QURpYWdyYW1GaWxlIikpO3RoaXMuaW5Db25mbGljdFN0YXRlPXRoaXMuaW52YWxpZENoZWNrc3VtPSExO3RoaXMuc2V0RGVzY3JpcHRvcihhLmdldERlc2NyaXB0b3IoKSk7dGhpcy5kZXNjcmlwdG9yQ2hhbmdlZCgpO3RoaXMuYmFja3VwUGF0Y2g9bnVsbDtudWxsIT1jJiZjKCl9Y2F0Y2goRCl7dGhpcy5pbnZhbGlkQ2hlY2tzdW09dGhpcy5pbkNvbmZsaWN0U3RhdGU9ITA7dGhpcy5kZXNjcmlwdG9yQ2hhbmdlZCgpOwpudWxsIT1mJiZmKEQpO3RyeXtpZihtKWlmKHRoaXMuZXJyb3JSZXBvcnRzRW5hYmxlZCl0aGlzLnNlbmRFcnJvclJlcG9ydCgiRXJyb3IgaW4gbWVyZ2VGaWxlIixudWxsLEQpO2Vsc2V7dmFyIHg9dGhpcy5nZXRDdXJyZW50VXNlcigpLEE9bnVsbCE9eD94LmlkOiJ1bmtub3duIjtFZGl0b3JVaS5sb2dFcnJvcigiRXJyb3IgaW4gbWVyZ2VGaWxlIixudWxsLHRoaXMuZ2V0TW9kZSgpKyIuIit0aGlzLmdldElkKCksQSxEKX19Y2F0Y2goQil7fX19OwpEcmF3aW9GaWxlLnByb3RvdHlwZS5nZXRBbm9ueW1pemVkWG1sRm9yUGFnZXM9ZnVuY3Rpb24oYSl7dmFyIGM9bmV3IG14Q29kZWMobXhVdGlscy5jcmVhdGVYbWxEb2N1bWVudCgpKSxmPWMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibXhmaWxlIik7aWYobnVsbCE9YSlmb3IodmFyIGQ9MDtkPGEubGVuZ3RoO2QrKyl7dmFyIG09Yy5lbmNvZGUobmV3IG14R3JhcGhNb2RlbChhW2RdLnJvb3QpKTsiMSIhPXVybFBhcmFtcy5kZXYmJihtPXRoaXMudWkuYW5vbnltaXplTm9kZShtLCEwKSk7bS5zZXRBdHRyaWJ1dGUoImlkIixhW2RdLmdldElkKCkpO2FbZF0udmlld1N0YXRlJiZ0aGlzLnVpLmVkaXRvci5ncmFwaC5zYXZlVmlld1N0YXRlKGFbZF0udmlld1N0YXRlLG0sITApO2YuYXBwZW5kQ2hpbGQobSl9cmV0dXJuIG14VXRpbHMuZ2V0UHJldHR5WG1sKGYpfTsKRHJhd2lvRmlsZS5wcm90b3R5cGUuY29tcHJlc3NSZXBvcnREYXRhPWZ1bmN0aW9uKGEsYyxmKXtjPW51bGwhPWM/YzoxRTQ7bnVsbCE9ZiYmbnVsbCE9YSYmYS5sZW5ndGg+Zj9hPWEuc3Vic3RyaW5nKDAsZikrIlsuLi5dIjpudWxsIT1hJiZhLmxlbmd0aD5jJiYoYT1HcmFwaC5jb21wcmVzcyhhKSsiXG4iKTtyZXR1cm4gYX07CkRyYXdpb0ZpbGUucHJvdG90eXBlLmNoZWNrc3VtRXJyb3I9ZnVuY3Rpb24oYSxjLGYsZCxtKXt0aGlzLnN0YXRzLmNoZWNrc3VtRXJyb3JzKys7dGhpcy5pbnZhbGlkQ2hlY2tzdW09dGhpcy5pbkNvbmZsaWN0U3RhdGU9ITA7dGhpcy5kZXNjcmlwdG9yQ2hhbmdlZCgpO251bGwhPXRoaXMuc3luYyYmdGhpcy5zeW5jLnVwZGF0ZU9ubGluZVN0YXRlKCk7bnVsbCE9YSYmYSgpO3RyeXtpZih0aGlzLmVycm9yUmVwb3J0c0VuYWJsZWQpe2lmKG51bGwhPWMpZm9yKGE9MDthPGMubGVuZ3RoO2ErKyl0aGlzLnVpLmFub255bWl6ZVBhdGNoKGNbYV0pO3ZhciBrPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY29tcHJlc3NSZXBvcnREYXRhKEpTT04uc3RyaW5naWZ5KGMsbnVsbCwyKSk7YT1udWxsIT1hP3RoaXMuY29tcHJlc3NSZXBvcnREYXRhKHRoaXMuZ2V0QW5vbnltaXplZFhtbEZvclBhZ2VzKHRoaXMudWkuZ2V0UGFnZXNGb3JOb2RlKG14VXRpbHMucGFyc2VYbWwoYS5kYXRhKS5kb2N1bWVudEVsZW1lbnQpKSwKMjVFMyk6Im4vYSI7dGhpcy5zZW5kRXJyb3JSZXBvcnQoIkNoZWNrc3VtIEVycm9yIGluICIrbSsiICIrdGhpcy5nZXRIYXNoKCksKG51bGwhPWY/ZjoiIikrIlxuXG5QYXRjaGVzOlxuIitiKyhudWxsIT1hPyJcblxuUmVtb3RlOlxuIithOiIiKSxudWxsLDdFNCl9KTtudWxsPT1kP2sobnVsbCk6dGhpcy5nZXRMYXRlc3RWZXJzaW9uKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe251bGwhPWEmJmEuZ2V0Q3VycmVudEV0YWcoKT09ZD9rKGEpOmsobnVsbCl9KSxmdW5jdGlvbigpe30pfWVsc2V7dmFyIHE9dGhpcy5nZXRDdXJyZW50VXNlcigpLGI9bnVsbCE9cT9xLmlkOiJ1bmtub3duIjtFZGl0b3JVaS5sb2dFcnJvcigiQ2hlY2tzdW0gRXJyb3IgaW4gIittKyIgIit0aGlzLmdldElkKCksbnVsbCx0aGlzLmdldE1vZGUoKSsiLiIrdGhpcy5nZXRJZCgpLCJ1c2VyXyIrYisobnVsbCE9dGhpcy5zeW5jPyItY2xpZW50XyIrdGhpcy5zeW5jLmNsaWVudElkOiItbm9zeW5jIikpOwp0cnl7RWRpdG9yVWkubG9nRXZlbnQoe2NhdGVnb3J5OiJDSEVDS1NVTS1FUlJPUi1TWU5DLUZJTEUtIit0aGlzLmdldEhhc2goKSxhY3Rpb246bSxsYWJlbDoidXNlcl8iK2IrKG51bGwhPXRoaXMuc3luYz8iLWNsaWVudF8iK3RoaXMuc3luYy5jbGllbnRJZDoiLW5vc3luYyIpfSl9Y2F0Y2goZSl7fX19Y2F0Y2goZSl7fX07CkRyYXdpb0ZpbGUucHJvdG90eXBlLnNlbmRFcnJvclJlcG9ydD1mdW5jdGlvbihhLGMsZixkKXt0cnl7dmFyIG09dGhpcy5jb21wcmVzc1JlcG9ydERhdGEodGhpcy5nZXRBbm9ueW1pemVkWG1sRm9yUGFnZXModGhpcy5zaGFkb3dQYWdlcyksMjVFMyksaz10aGlzLmNvbXByZXNzUmVwb3J0RGF0YSh0aGlzLmdldEFub255bWl6ZWRYbWxGb3JQYWdlcyh0aGlzLnVpLnBhZ2VzKSwyNUUzKSxxPXRoaXMuZ2V0Q3VycmVudFVzZXIoKSxiPW51bGwhPXE/dGhpcy51aS5oYXNoVmFsdWUocS5pZCk6InVua25vd24iLGU9bnVsbCE9dGhpcy5zeW5jPyItY2xpZW50XyIrdGhpcy5zeW5jLmNsaWVudElkOiItbm9zeW5jIixnPXRoaXMuZ2V0VGl0bGUoKSxwPWcubGFzdEluZGV4T2YoIi4iKSxxPSJ4bWwiOzA8cCYmKHE9Zy5zdWJzdHJpbmcocCkpO3ZhciBsPW51bGwhPWY/Zi5zdGFjazpFcnJvcigpLnN0YWNrO0VkaXRvclVpLnNlbmRSZXBvcnQoYSsiICIrKG5ldyBEYXRlKS50b0lTT1N0cmluZygpKwoiOlxuXG5BcHBWZXJzaW9uPSIrbmF2aWdhdG9yLmFwcFZlcnNpb24rIlxuRmlsZT0iK3RoaXMudWkuaGFzaFZhbHVlKHRoaXMuZ2V0SWQoKSkrIiAoIit0aGlzLmdldE1vZGUoKSsiKSIrKHRoaXMuaXNNb2RpZmllZCgpPyIgbW9kaWZpZWQiOiIiKSsiXG5TaXplL1R5cGU9Iit0aGlzLmdldFNpemUoKSsiICgiK3ErIilcblVzZXI9IitiK2UrIlxuUHJlZml4PSIrdGhpcy51aS5lZGl0b3IuZ3JhcGgubW9kZWwucHJlZml4KyJcblN5bmM9IitEcmF3aW9GaWxlLlNZTkMrKG51bGwhPXRoaXMuc3luYz8odGhpcy5zeW5jLmVuYWJsZWQ/IiBlbmFibGVkIjoiIikrKHRoaXMuc3luYy5pc0Nvbm5lY3RlZCgpPyIgY29ubmVjdGVkIjoiIik6IiIpKyJcblBsdWdpbnM9IisobnVsbCE9bXhTZXR0aW5ncy5zZXR0aW5ncz9teFNldHRpbmdzLmdldFBsdWdpbnMoKToibnVsbCIpKyJcblxuU3RhdHM6XG4iK0pTT04uc3RyaW5naWZ5KHRoaXMuc3RhdHMsbnVsbCwyKSsobnVsbCE9Yz8iXG5cbiIrYzoKIiIpKyhudWxsIT1mPyJcblxuRXJyb3I6ICIrZi5tZXNzYWdlOiIiKSsiXG5cblN0YWNrOlxuIitsKyJcblxuU2hhZG93OlxuIittKyJcblxuRGF0YTpcbiIrayxkKX1jYXRjaChuKXt9fTsKRHJhd2lvRmlsZS5wcm90b3R5cGUucmVsb2FkRmlsZT1mdW5jdGlvbihhLGMpe3RyeXt0aGlzLnVpLnNwaW5uZXIuc3RvcCgpO3ZhciBmPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5zdGF0cy5maWxlUmVsb2FkZWQrKzt0aGlzLnJlcG9ydEVuYWJsZWQ9ITE7dmFyIGM9dGhpcy51aS5lZGl0b3IuZ3JhcGguZ2V0Vmlld1N0YXRlKCksZj10aGlzLnVpLmVkaXRvci5ncmFwaC5nZXRTZWxlY3Rpb25DZWxscygpLGs9dGhpcy51aS5jdXJyZW50UGFnZTt0aGlzLnVpLmxvYWRGaWxlKHRoaXMuZ2V0SGFzaCgpLCEwLG51bGwsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtpZihudWxsPT10aGlzLnVpLmZpbGVMb2FkZWRFcnJvcil7dGhpcy51aS5yZXN0b3JlVmlld1N0YXRlKGssYyxmKTtudWxsIT10aGlzLmJhY2t1cFBhdGNoJiZ0aGlzLnBhdGNoKFt0aGlzLmJhY2t1cFBhdGNoXSk7dmFyIGQ9dGhpcy51aS5nZXRDdXJyZW50RmlsZSgpO251bGwhPWQmJihkLnN0YXRzPQp0aGlzLnN0YXRzKTtudWxsIT1hJiZhKCl9fSksITApfSk7dGhpcy5pc01vZGlmaWVkKCkmJm51bGw9PXRoaXMuYmFja3VwUGF0Y2g/dGhpcy51aS5jb25maXJtKG14UmVzb3VyY2VzLmdldCgiYWxsQ2hhbmdlc0xvc3QiKSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuaGFuZGxlRmlsZVN1Y2Nlc3MoIm1hbnVhbCI9PURyYXdpb0ZpbGUuU1lOQyl9KSxmLG14UmVzb3VyY2VzLmdldCgiY2FuY2VsIiksbXhSZXNvdXJjZXMuZ2V0KCJkaXNjYXJkQ2hhbmdlcyIpKTpmKCl9Y2F0Y2goZCl7bnVsbCE9YyYmYyhkKX19O0RyYXdpb0ZpbGUucHJvdG90eXBlLmNvcHlGaWxlPWZ1bmN0aW9uKGEsYyl7dGhpcy51aS5lZGl0b3IuZWRpdEFzTmV3KHRoaXMudWkuZ2V0RmlsZURhdGEoITApLHRoaXMudWkuZ2V0Q29weUZpbGVuYW1lKHRoaXMpKX07CkRyYXdpb0ZpbGUucHJvdG90eXBlLmlnbm9yZVBhdGNoZXM9ZnVuY3Rpb24oYSl7Zm9yKHZhciBjPSEwLGY9MDtmPGEubGVuZ3RoJiZjO2YrKyljPWMmJjA9PU9iamVjdC5rZXlzKGFbZl0pLmxlbmd0aDtyZXR1cm4gY307CkRyYXdpb0ZpbGUucHJvdG90eXBlLnBhdGNoPWZ1bmN0aW9uKGEsYyl7dmFyIGY9dGhpcy51aS5lZGl0b3IudW5kb01hbmFnZXIsZD1mLmhpc3Rvcnkuc2xpY2UoKSxtPWYuaW5kZXhPZk5leHRBZGQsaz10aGlzLnVpLmVkaXRvci5ncmFwaDtrLmNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iO3ZhciBxPXRoaXMuY2hhbmdlTGlzdGVuZXJFbmFibGVkO3RoaXMuY2hhbmdlTGlzdGVuZXJFbmFibGVkPSExO3ZhciBiPWsuZm9sZGluZ0VuYWJsZWQsZT1rLm1hdGhFbmFibGVkLGc9ay5jZWxsUmVuZGVyZXIucmVkcmF3O2suY2VsbFJlbmRlcmVyLnJlZHJhdz1mdW5jdGlvbihhKXthLnZpZXcuZ3JhcGguaXNFZGl0aW5nKGEuY2VsbCkmJihhLnZpZXcuZ3JhcGguc2Nyb2xsQ2VsbFRvVmlzaWJsZShhLmNlbGwpLGEudmlldy5ncmFwaC5jZWxsRWRpdG9yLnJlc2l6ZSgpKTtnLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07ay5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXtmb3IodmFyIHA9CjA7cDxhLmxlbmd0aDtwKyspdGhpcy51aS5wYWdlcz10aGlzLnVpLnBhdGNoUGFnZXModGhpcy51aS5wYWdlcyxhW3BdLCEwLGMsdGhpcy5pc01vZGlmaWVkKCkpOzA9PXRoaXMudWkucGFnZXMubGVuZ3RoJiZ0aGlzLnVpLnBhZ2VzLnB1c2godGhpcy51aS5jcmVhdGVQYWdlKCkpOzA+bXhVdGlscy5pbmRleE9mKHRoaXMudWkucGFnZXMsdGhpcy51aS5jdXJyZW50UGFnZSkmJnRoaXMudWkuc2VsZWN0UGFnZSh0aGlzLnVpLnBhZ2VzWzBdLCEwKX1maW5hbGx5e2suY29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHk9IiI7ay5tb2RlbC5lbmRVcGRhdGUoKTtrLmNlbGxSZW5kZXJlci5yZWRyYXc9Zzt0aGlzLmNoYW5nZUxpc3RlbmVyRW5hYmxlZD1xO2YuaGlzdG9yeT1kO2YuaW5kZXhPZk5leHRBZGQ9bTtmLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkNMRUFSKSk7aWYobnVsbD09dGhpcy51aS5jdXJyZW50UGFnZXx8dGhpcy51aS5jdXJyZW50UGFnZS5uZWVkc1VwZGF0ZSllIT0Kay5tYXRoRW5hYmxlZD8odGhpcy51aS5lZGl0b3IudXBkYXRlR3JhcGhDb21wb25lbnRzKCksay5yZWZyZXNoKCkpOihiIT1rLmZvbGRpbmdFbmFibGVkP2sudmlldy5yZXZhbGlkYXRlKCk6ay52aWV3LnZhbGlkYXRlKCksay5zaXplRGlkQ2hhbmdlKCkpO3RoaXMudWkudXBkYXRlVGFiQ29udGFpbmVyKCl9fTsKRHJhd2lvRmlsZS5wcm90b3R5cGUuc2F2ZT1mdW5jdGlvbihhLGMsZixkLG0sayl7dHJ5e2lmKHRoaXMuaXNFZGl0YWJsZSgpKWlmKCFtJiZ0aGlzLmludmFsaWRDaGVja3N1bSlpZihudWxsIT1mKWYoe21lc3NhZ2U6bXhSZXNvdXJjZXMuZ2V0KCJjaGVja3N1bSIpfSk7ZWxzZSB0aHJvdyBFcnJvcihteFJlc291cmNlcy5nZXQoImNoZWNrc3VtIikpO2Vsc2UgdGhpcy51cGRhdGVGaWxlRGF0YSgpLHRoaXMuY2xlYXJBdXRvc2F2ZSgpLG51bGwhPWMmJmMoKTtlbHNlIGlmKG51bGwhPWYpZih7bWVzc2FnZTpteFJlc291cmNlcy5nZXQoInJlYWRPbmx5Iil9KTtlbHNlIHRocm93IEVycm9yKG14UmVzb3VyY2VzLmdldCgicmVhZE9ubHkiKSk7fWNhdGNoKHEpe2lmKG51bGwhPWYpZihxKTtlbHNlIHRocm93IHE7fX07CkRyYXdpb0ZpbGUucHJvdG90eXBlLnVwZGF0ZUZpbGVEYXRhPWZ1bmN0aW9uKGEpe3RoaXMuc2V0RGF0YSh0aGlzLnVpLmdldEZpbGVEYXRhKG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCx0aGlzLG51bGwhPWE/IWE6IXRoaXMuaXNDb21wcmVzc2VkKCkpKX07RHJhd2lvRmlsZS5wcm90b3R5cGUuaXNDb21wcmVzc2VkU3RvcmFnZT1mdW5jdGlvbigpe3JldHVybiEwfTtEcmF3aW9GaWxlLnByb3RvdHlwZS5pc0NvbXByZXNzZWQ9ZnVuY3Rpb24oKXt2YXIgYT1udWxsIT10aGlzLnVpLmZpbGVOb2RlP3RoaXMudWkuZmlsZU5vZGUuZ2V0QXR0cmlidXRlKCJjb21wcmVzc2VkIik6bnVsbDtyZXR1cm4gbnVsbCE9YT8iZmFsc2UiIT1hOnRoaXMuaXNDb21wcmVzc2VkU3RvcmFnZSgpJiZFZGl0b3IuY29tcHJlc3NYbWx9OwpEcmF3aW9GaWxlLnByb3RvdHlwZS5kZWNvbXByZXNzPWZ1bmN0aW9uKCl7dGhpcy51cGRhdGVGaWxlRGF0YSghMSk7bnVsbCE9dGhpcy51aS5maWxlTm9kZSYmdGhpcy51aS5maWxlTm9kZS5zZXRBdHRyaWJ1dGUoImNvbXByZXNzZWQiLCJmYWxzZSIpO3RoaXMuZmlsZUNoYW5nZWQoKX07RHJhd2lvRmlsZS5wcm90b3R5cGUuY29tcHJlc3M9ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZUZpbGVEYXRhKCEwKTtudWxsIT10aGlzLnVpLmZpbGVOb2RlJiZ0aGlzLnVpLmZpbGVOb2RlLnNldEF0dHJpYnV0ZSgiY29tcHJlc3NlZCIsInRydWUiKTt0aGlzLmZpbGVDaGFuZ2VkKCl9O0RyYXdpb0ZpbGUucHJvdG90eXBlLnNhdmVBcz1mdW5jdGlvbihhLGMsZil7fTtEcmF3aW9GaWxlLnByb3RvdHlwZS5zYXZlRmlsZT1mdW5jdGlvbihhLGMsZixkKXt9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmdldFB1YmxpY1VybD1mdW5jdGlvbihhKXthKG51bGwpfTsKRHJhd2lvRmlsZS5wcm90b3R5cGUuaXNSZXN0cmljdGVkPWZ1bmN0aW9uKCl7cmV0dXJuITF9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmlzTW9kaWZpZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb2RpZmllZH07RHJhd2lvRmlsZS5wcm90b3R5cGUuZ2V0U2hhZG93TW9kaWZpZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaGFkb3dNb2RpZmllZH07RHJhd2lvRmlsZS5wcm90b3R5cGUuc2V0U2hhZG93TW9kaWZpZWQ9ZnVuY3Rpb24oYSl7dGhpcy5zaGFkb3dNb2RpZmllZD1hfTtEcmF3aW9GaWxlLnByb3RvdHlwZS5zZXRNb2RpZmllZD1mdW5jdGlvbihhKXt0aGlzLnNoYWRvd01vZGlmaWVkPXRoaXMubW9kaWZpZWQ9YX07RHJhd2lvRmlsZS5wcm90b3R5cGUuaXNBdXRvc2F2ZU9wdGlvbmFsPWZ1bmN0aW9uKCl7cmV0dXJuITF9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmlzQXV0b3NhdmU9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5pbkNvbmZsaWN0U3RhdGUmJnRoaXMudWkuZWRpdG9yLmF1dG9zYXZlfTsKRHJhd2lvRmlsZS5wcm90b3R5cGUuaXNSZW5hbWFibGU9ZnVuY3Rpb24oKXtyZXR1cm4hMX07RHJhd2lvRmlsZS5wcm90b3R5cGUucmVuYW1lPWZ1bmN0aW9uKGEsYyxmKXt9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmlzTW92YWJsZT1mdW5jdGlvbigpe3JldHVybiExfTtEcmF3aW9GaWxlLnByb3RvdHlwZS5pc1RyYXNoZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX07RHJhd2lvRmlsZS5wcm90b3R5cGUubW92ZT1mdW5jdGlvbihhLGMsZil7fTtEcmF3aW9GaWxlLnByb3RvdHlwZS5nZXRIYXNoPWZ1bmN0aW9uKCl7cmV0dXJuIiJ9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmdldElkPWZ1bmN0aW9uKCl7cmV0dXJuIiJ9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmlzRWRpdGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy51aS5lZGl0b3IuaXNDaHJvbWVsZXNzVmlldygpfHx0aGlzLnVpLmVkaXRvci5lZGl0YWJsZX07RHJhd2lvRmlsZS5wcm90b3R5cGUuZ2V0VWk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51aX07CkRyYXdpb0ZpbGUucHJvdG90eXBlLmdldFRpdGxlPWZ1bmN0aW9uKCl7cmV0dXJuIiJ9O0RyYXdpb0ZpbGUucHJvdG90eXBlLnNldERhdGE9ZnVuY3Rpb24oYSl7dGhpcy5kYXRhPWF9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmdldERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhfTsKRHJhd2lvRmlsZS5wcm90b3R5cGUub3Blbj1mdW5jdGlvbigpe3RoaXMuc3RhdHMub3BlbmVkKys7dmFyIGE9dGhpcy5nZXREYXRhKCk7aWYobnVsbCE9YSl7dmFyIGM9ZnVuY3Rpb24oYSl7Zm9yKHZhciBjPTA7bnVsbCE9YSYmYzxhLmxlbmd0aDtjKyspe3ZhciBmPWFbY107bnVsbCE9Zi5pZCYmMD09Zi5pZC5pbmRleE9mKCJleHRGb250XyIpJiZmLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZil9fTtjKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoImhlYWQgPiBzdHlsZVtpZF0iKSk7Yyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJoZWFkID4gbGlua1tpZF0iKSk7dGhpcy51aS5zZXRGaWxlRGF0YShhKTt0aGlzLmlzTW9kaWZpZWQoKXx8KHRoaXMuc2hhZG93RGF0YT1teFV0aWxzLmdldFhtbCh0aGlzLnVpLmdldFhtbEZpbGVEYXRhKCkpLHRoaXMuc2hhZG93UGFnZXM9bnVsbCl9dGhpcy5pbnN0YWxsTGlzdGVuZXJzKCk7dGhpcy5pc1N5bmNTdXBwb3J0ZWQoKSYmdGhpcy5zdGFydFN5bmMoKX07CkRyYXdpb0ZpbGUucHJvdG90eXBlLmlzU3luY1N1cHBvcnRlZD1mdW5jdGlvbigpe3JldHVybiExfTtEcmF3aW9GaWxlLnByb3RvdHlwZS5pc1JldmlzaW9uSGlzdG9yeVN1cHBvcnRlZD1mdW5jdGlvbigpe3JldHVybiExfTtEcmF3aW9GaWxlLnByb3RvdHlwZS5nZXRSZXZpc2lvbnM9ZnVuY3Rpb24oYSxjKXthKG51bGwpfTtEcmF3aW9GaWxlLnByb3RvdHlwZS5sb2FkRGVzY3JpcHRvcj1mdW5jdGlvbihhLGMpe2EobnVsbCl9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmxvYWRQYXRjaERlc2NyaXB0b3I9ZnVuY3Rpb24oYSxjKXt0aGlzLmxvYWREZXNjcmlwdG9yKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGMpe2EoYyl9KSxjKX07RHJhd2lvRmlsZS5wcm90b3R5cGUucGF0Y2hEZXNjcmlwdG9yPWZ1bmN0aW9uKGEsYyl7dGhpcy5zZXREZXNjcmlwdG9yRXRhZyhhLHRoaXMuZ2V0RGVzY3JpcHRvckV0YWcoYykpfTsKRHJhd2lvRmlsZS5wcm90b3R5cGUuc3RhcnRTeW5jPWZ1bmN0aW9uKCl7ImF1dG8iIT1EcmF3aW9GaWxlLlNZTkN8fCIxIj09dXJsUGFyYW1zLnN0ZWFsdGh8fCIxIiE9dXJsUGFyYW1zLnJ0JiZ0aGlzLnVpLmVkaXRvci5jaHJvbWVsZXNzJiYhdGhpcy51aS5lZGl0b3IuZWRpdGFibGV8fChudWxsPT10aGlzLnN5bmMmJih0aGlzLnN5bmM9bmV3IERyYXdpb0ZpbGVTeW5jKHRoaXMpKSx0aGlzLnN5bmMuc3RhcnQoKSl9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmlzQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4hMX07RHJhd2lvRmlsZS5wcm90b3R5cGUuZ2V0Q2hhbm5lbElkPWZ1bmN0aW9uKCl7cmV0dXJuIEdyYXBoLmNvbXByZXNzKHRoaXMuZ2V0SGFzaCgpKS5yZXBsYWNlKC9bXC8gK10vZywiXyIpfTtEcmF3aW9GaWxlLnByb3RvdHlwZS5nZXRDaGFubmVsS2V5PWZ1bmN0aW9uKGEpe3JldHVybiBudWxsfTtEcmF3aW9GaWxlLnByb3RvdHlwZS5nZXRDdXJyZW50VXNlcj1mdW5jdGlvbigpe3JldHVybiBudWxsfTsKRHJhd2lvRmlsZS5wcm90b3R5cGUuZ2V0TGF0ZXN0VmVyc2lvbj1mdW5jdGlvbihhLGMpe2EobnVsbCl9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmdldExhc3RNb2RpZmllZERhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERhdGV9O0RyYXdpb0ZpbGUucHJvdG90eXBlLnNldEN1cnJlbnRSZXZpc2lvbklkPWZ1bmN0aW9uKGEpe3RoaXMuc2V0RGVzY3JpcHRvclJldmlzaW9uSWQodGhpcy5nZXREZXNjcmlwdG9yKCksYSl9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmdldEN1cnJlbnRSZXZpc2lvbklkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RGVzY3JpcHRvclJldmlzaW9uSWQodGhpcy5nZXREZXNjcmlwdG9yKCkpfTtEcmF3aW9GaWxlLnByb3RvdHlwZS5zZXRDdXJyZW50RXRhZz1mdW5jdGlvbihhKXt0aGlzLnNldERlc2NyaXB0b3JFdGFnKHRoaXMuZ2V0RGVzY3JpcHRvcigpLGEpfTtEcmF3aW9GaWxlLnByb3RvdHlwZS5nZXRDdXJyZW50RXRhZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldERlc2NyaXB0b3JFdGFnKHRoaXMuZ2V0RGVzY3JpcHRvcigpKX07CkRyYXdpb0ZpbGUucHJvdG90eXBlLmdldERlc2NyaXB0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH07RHJhd2lvRmlsZS5wcm90b3R5cGUuc2V0RGVzY3JpcHRvcj1mdW5jdGlvbigpe307RHJhd2lvRmlsZS5wcm90b3R5cGUuc2V0RGVzY3JpcHRvclJldmlzaW9uSWQ9ZnVuY3Rpb24oYSxjKXt0aGlzLnNldERlc2NyaXB0b3JFdGFnKGEsYyl9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmdldERlc2NyaXB0b3JSZXZpc2lvbklkPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdldERlc2NyaXB0b3JFdGFnKGEpfTtEcmF3aW9GaWxlLnByb3RvdHlwZS5zZXREZXNjcmlwdG9yRXRhZz1mdW5jdGlvbihhLGMpe307RHJhd2lvRmlsZS5wcm90b3R5cGUuZ2V0RGVzY3JpcHRvckV0YWc9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGx9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmdldERlc2NyaXB0b3JTZWNyZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGx9OwpEcmF3aW9GaWxlLnByb3RvdHlwZS5pbnN0YWxsTGlzdGVuZXJzPWZ1bmN0aW9uKCl7bnVsbD09dGhpcy5jaGFuZ2VMaXN0ZW5lciYmKHRoaXMuY2hhbmdlTGlzdGVuZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxjKXt2YXIgZj1udWxsIT1jP2MuZ2V0UHJvcGVydHkoImVkaXQiKTpudWxsOyF0aGlzLmNoYW5nZUxpc3RlbmVyRW5hYmxlZHx8IXRoaXMuaXNFZGl0YWJsZSgpfHxudWxsIT1mJiZmLmlnbm9yZUVkaXR8fHRoaXMuZmlsZUNoYW5nZWQoKX0pLHRoaXMudWkuZWRpdG9yLmdyYXBoLm1vZGVsLmFkZExpc3RlbmVyKG14RXZlbnQuQ0hBTkdFLHRoaXMuY2hhbmdlTGlzdGVuZXIpLHRoaXMudWkuZWRpdG9yLmdyYXBoLmFkZExpc3RlbmVyKCJncmlkU2l6ZUNoYW5nZWQiLHRoaXMuY2hhbmdlTGlzdGVuZXIpLHRoaXMudWkuZWRpdG9yLmdyYXBoLmFkZExpc3RlbmVyKCJzaGFkb3dWaXNpYmxlQ2hhbmdlZCIsdGhpcy5jaGFuZ2VMaXN0ZW5lciksdGhpcy51aS5hZGRMaXN0ZW5lcigicGFnZUZvcm1hdENoYW5nZWQiLAp0aGlzLmNoYW5nZUxpc3RlbmVyKSx0aGlzLnVpLmFkZExpc3RlbmVyKCJwYWdlU2NhbGVDaGFuZ2VkIix0aGlzLmNoYW5nZUxpc3RlbmVyKSx0aGlzLnVpLmFkZExpc3RlbmVyKCJiYWNrZ3JvdW5kQ29sb3JDaGFuZ2VkIix0aGlzLmNoYW5nZUxpc3RlbmVyKSx0aGlzLnVpLmFkZExpc3RlbmVyKCJiYWNrZ3JvdW5kSW1hZ2VDaGFuZ2VkIix0aGlzLmNoYW5nZUxpc3RlbmVyKSx0aGlzLnVpLmFkZExpc3RlbmVyKCJmb2xkaW5nRW5hYmxlZENoYW5nZWQiLHRoaXMuY2hhbmdlTGlzdGVuZXIpLHRoaXMudWkuYWRkTGlzdGVuZXIoIm1hdGhFbmFibGVkQ2hhbmdlZCIsdGhpcy5jaGFuZ2VMaXN0ZW5lciksdGhpcy51aS5hZGRMaXN0ZW5lcigiZ3JpZEVuYWJsZWRDaGFuZ2VkIix0aGlzLmNoYW5nZUxpc3RlbmVyKSx0aGlzLnVpLmFkZExpc3RlbmVyKCJndWlkZXNFbmFibGVkQ2hhbmdlZCIsdGhpcy5jaGFuZ2VMaXN0ZW5lciksdGhpcy51aS5hZGRMaXN0ZW5lcigicGFnZVZpZXdDaGFuZ2VkIiwKdGhpcy5jaGFuZ2VMaXN0ZW5lciksdGhpcy51aS5hZGRMaXN0ZW5lcigiY29ubmVjdGlvblBvaW50c0NoYW5nZWQiLHRoaXMuY2hhbmdlTGlzdGVuZXIpLHRoaXMudWkuYWRkTGlzdGVuZXIoImNvbm5lY3Rpb25BcnJvd3NDaGFuZ2VkIix0aGlzLmNoYW5nZUxpc3RlbmVyKSl9OwpEcmF3aW9GaWxlLnByb3RvdHlwZS5hZGRBbGxTYXZlZFN0YXR1cz1mdW5jdGlvbihhKXtudWxsIT10aGlzLnVpLnN0YXR1c0NvbnRhaW5lciYmdGhpcy51aS5nZXRDdXJyZW50RmlsZSgpPT10aGlzJiYoYT1udWxsIT1hP2E6bXhVdGlscy5odG1sRW50aXRpZXMobXhSZXNvdXJjZXMuZ2V0KHRoaXMuYWxsQ2hhbmdlc1NhdmVkS2V5KSksdGhpcy51aS5lZGl0b3Iuc2V0U3RhdHVzKCc8ZGl2IHRpdGxlPSInK2ErJyI+JythKyI8L2Rpdj4iKSxhPXRoaXMudWkuc3RhdHVzQ29udGFpbmVyLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkaXYiKSwwPGEubGVuZ3RoJiZ0aGlzLmlzUmV2aXNpb25IaXN0b3J5U3VwcG9ydGVkKCkmJihhWzBdLnN0eWxlLmN1cnNvcj0icG9pbnRlciIsYVswXS5zdHlsZS50ZXh0RGVjb3JhdGlvbj0idW5kZXJsaW5lIixteEV2ZW50LmFkZExpc3RlbmVyKGFbMF0sImNsaWNrIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMudWkuYWN0aW9ucy5nZXQoInJldmlzaW9uSGlzdG9yeSIpLmZ1bmN0KCl9KSkpKX07CkRyYXdpb0ZpbGUucHJvdG90eXBlLnNhdmVEcmFmdD1mdW5jdGlvbigpe3RyeXtudWxsPT10aGlzLmRyYWZ0SWQmJih0aGlzLmRyYWZ0SWQ9RWRpdG9yLmd1aWQoKSk7dmFyIGE9e3R5cGU6ImRyYWZ0IixjcmVhdGVkOnRoaXMuY3JlYXRlZCxtb2RpZmllZDoobmV3IERhdGUpLmdldFRpbWUoKSxkYXRhOnRoaXMudWkuZ2V0RmlsZURhdGEoKSx0aXRsZTp0aGlzLmdldFRpdGxlKCksYWxpdmVDaGVjazp0aGlzLnVpLmRyYWZ0QWxpdmVDaGVja307dGhpcy51aS5zZXREYXRhYmFzZUl0ZW0oIi5kcmFmdF8iK3RoaXMuZHJhZnRJZCxKU09OLnN0cmluZ2lmeShhKSk7RWRpdG9yVWkuZGVidWcoImRyYWZ0IHNhdmVkIix0aGlzLmRyYWZ0SWQsYSl9Y2F0Y2goYyl7Y29uc29sZS5lcnJvcihjKSx0aGlzLnJlbW92ZURyYWZ0KCl9fTsKRHJhd2lvRmlsZS5wcm90b3R5cGUucmVtb3ZlRHJhZnQ9ZnVuY3Rpb24oKXt0cnl7bnVsbCE9dGhpcy5kcmFmdElkJiYodGhpcy51aS5yZW1vdmVEYXRhYmFzZUl0ZW0oIi5kcmFmdF8iK3RoaXMuZHJhZnRJZCksRWRpdG9yVWkuZGVidWcoImRyYWZ0IGRlbGV0ZWQiLCIuZHJhZnRfIit0aGlzLmRyYWZ0SWQpKX1jYXRjaChhKXt9fTsKRHJhd2lvRmlsZS5wcm90b3R5cGUuYWRkVW5zYXZlZFN0YXR1cz1mdW5jdGlvbihhKXtpZighdGhpcy5pbkNvbmZsaWN0U3RhdGUmJm51bGwhPXRoaXMudWkuc3RhdHVzQ29udGFpbmVyJiZ0aGlzLnVpLmdldEN1cnJlbnRGaWxlKCk9PXRoaXMpaWYoYSBpbnN0YW5jZW9mIEVycm9yJiZudWxsIT1hLm1lc3NhZ2UmJiIiIT1hLm1lc3NhZ2Upe3ZhciBjPW14VXRpbHMuaHRtbEVudGl0aWVzKG14UmVzb3VyY2VzLmdldCgidW5zYXZlZENoYW5nZXMiKSk7dGhpcy51aS5lZGl0b3Iuc2V0U3RhdHVzKCc8ZGl2IHRpdGxlPSInK2MrJyIgY2xhc3M9ImdlU3RhdHVzQWxlcnQiIHN0eWxlPSJvdmVyZmxvdzpoaWRkZW47Ij4nK2MrIiAoIitteFV0aWxzLmh0bWxFbnRpdGllcyhhLm1lc3NhZ2UpKyIpPC9kaXY+Iil9ZWxzZXtjPXRoaXMuZ2V0RXJyb3JNZXNzYWdlKGEpO2lmKG51bGw9PWMmJm51bGwhPXRoaXMubGFzdFNhdmVkKXt2YXIgZj10aGlzLnVpLnRpbWVTaW5jZShuZXcgRGF0ZSh0aGlzLmxhc3RTYXZlZCkpOwpudWxsIT1mJiYoYz1teFJlc291cmNlcy5nZXQoImxhc3RTYXZlZCIsW2ZdKSl9bnVsbCE9YyYmNjA8Yy5sZW5ndGgmJihjPWMuc3Vic3RyaW5nKDAsNjApKyIuLi4iKTtjPW14VXRpbHMuaHRtbEVudGl0aWVzKG14UmVzb3VyY2VzLmdldCgidW5zYXZlZENoYW5nZXNDbGlja0hlcmVUb1NhdmUiKSkrKG51bGwhPWMmJiIiIT1jPyIgKCIrbXhVdGlscy5odG1sRW50aXRpZXMoYykrIikiOiIiKTt0aGlzLnVpLmVkaXRvci5zZXRTdGF0dXMoJzxkaXYgdGl0bGU9IicrYysnIiBjbGFzcz0iZ2VTdGF0dXNBbGVydCIgc3R5bGU9ImN1cnNvcjpwb2ludGVyO292ZXJmbG93OmhpZGRlbjsiPicrYysiPC9kaXY+Iik7Yz10aGlzLnVpLnN0YXR1c0NvbnRhaW5lci5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZGl2Iik7bnVsbCE9YyYmMDxjLmxlbmd0aD9teEV2ZW50LmFkZExpc3RlbmVyKGNbMF0sImNsaWNrIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMudWkuYWN0aW9ucy5nZXQobnVsbCE9CnRoaXMudWkubW9kZSYmdGhpcy5pc0VkaXRhYmxlKCk/InNhdmUiOiJzYXZlQXMiKS5mdW5jdCgpfSkpOihjPW14VXRpbHMuaHRtbEVudGl0aWVzKG14UmVzb3VyY2VzLmdldCgidW5zYXZlZENoYW5nZXMiKSksdGhpcy51aS5lZGl0b3Iuc2V0U3RhdHVzKCc8ZGl2IHRpdGxlPSInK2MrJyIgY2xhc3M9ImdlU3RhdHVzQWxlcnQiIHN0eWxlPSJvdmVyZmxvdzpoaWRkZW47Ij4nK2MrIiAoIitteFV0aWxzLmh0bWxFbnRpdGllcyhhLm1lc3NhZ2UpKyIpPC9kaXY+IikpO0VkaXRvclVpLmVuYWJsZURyYWZ0cyYmbnVsbD09dGhpcy5nZXRNb2RlKCkmJihudWxsIT10aGlzLnNhdmVEcmFmdFRocmVhZCYmd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnNhdmVEcmFmdFRocmVhZCksdGhpcy5zYXZlRHJhZnRUaHJlYWQ9d2luZG93LnNldFRpbWVvdXQobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnNhdmVEcmFmdCgpfSksMCkpfX07CkRyYXdpb0ZpbGUucHJvdG90eXBlLmFkZENvbmZsaWN0U3RhdHVzPWZ1bmN0aW9uKGEsYyl7dGhpcy5pbnZhbGlkQ2hlY2tzdW0mJm51bGw9PWMmJihjPW14UmVzb3VyY2VzLmdldCgiY2hlY2tzdW0iKSk7dGhpcy5zZXRDb25mbGljdFN0YXR1cyhteFV0aWxzLmh0bWxFbnRpdGllcyhteFJlc291cmNlcy5nZXQoImZpbGVDaGFuZ2VkU3luYyIpKSsobnVsbCE9YyYmIiIhPWM/IiAoIitteFV0aWxzLmh0bWxFbnRpdGllcyhjKSsiKSI6IiIpKTt0aGlzLnVpLnNwaW5uZXIuc3RvcCgpO3RoaXMuY2xlYXJBdXRvc2F2ZSgpO3ZhciBmPW51bGwhPXRoaXMudWkuc3RhdHVzQ29udGFpbmVyP3RoaXMudWkuc3RhdHVzQ29udGFpbmVyLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkaXYiKTpudWxsO251bGwhPWYmJjA8Zi5sZW5ndGg/bXhFdmVudC5hZGRMaXN0ZW5lcihmWzBdLCJjbGljayIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYyl7IklNRyIhPW14RXZlbnQuZ2V0U291cmNlKGMpLm5vZGVOYW1lJiYKYSgpfSkpOnRoaXMudWkuYWxlcnQobXhVdGlscy5odG1sRW50aXRpZXMobXhSZXNvdXJjZXMuZ2V0KCJmaWxlQ2hhbmdlZFN5bmMiKSksYSl9O0RyYXdpb0ZpbGUucHJvdG90eXBlLnNldENvbmZsaWN0U3RhdHVzPWZ1bmN0aW9uKGEpe3RoaXMudWkuZWRpdG9yLnNldFN0YXR1cygnPGRpdiB0aXRsZT0iJythKyciIGNsYXNzPSJnZVN0YXR1c0FsZXJ0IGdlQmxpbmsiIHN0eWxlPSJjdXJzb3I6cG9pbnRlcjtvdmVyZmxvdzpoaWRkZW47Ij4nK2ErJyA8YSBocmVmPSJodHRwczovL2Rlc2suZHJhdy5pby9zdXBwb3J0L3NvbHV0aW9ucy9hcnRpY2xlcy8xNjAwMDA4Nzk0NyIgdGFyZ2V0PSJfYmxhbmsiPjxpbWcgYm9yZGVyPSIwIiBzdHlsZT0ibWFyZ2luLWxlZnQ6MnB4O2N1cnNvcjpoZWxwO29wYWNpdHk6MC41O3dpZHRoOjE2cHg7aGVpZ2h0OjE2cHg7IiB2YWxpZ249ImJvdHRvbSIgc3JjPSInK0VkaXRvci5oZWxwSW1hZ2UrJyIgc3R5bGU9IiIvPjwvYT48L2Rpdj4nKX07CkRyYXdpb0ZpbGUucHJvdG90eXBlLnNob3dSZWZyZXNoRGlhbG9nPWZ1bmN0aW9uKGEsYyxmKXtudWxsPT1mJiYoZj1teFJlc291cmNlcy5nZXQoImNoZWNrc3VtIikpO3RoaXMudWkuZWRpdG9yLmlzQ2hyb21lbGVzc1ZpZXcoKSYmIXRoaXMudWkuZWRpdG9yLmVkaXRhYmxlP3RoaXMudWkuYWxlcnQobXhSZXNvdXJjZXMuZ2V0KCJmaWxlQ2hhbmdlZFN5bmMiKSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMucmVsb2FkRmlsZShhLGMpfSkpOih0aGlzLmFkZENvbmZsaWN0U3RhdHVzKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5zaG93UmVmcmVzaERpYWxvZyhhLGMpfSksZiksdGhpcy51aS5zaG93RXJyb3IobXhSZXNvdXJjZXMuZ2V0KCJlcnJvciIpKyIgKCIrZisiKSIsbXhSZXNvdXJjZXMuZ2V0KCJmaWxlQ2hhbmdlZFN5bmNEaWFsb2ciKSxteFJlc291cmNlcy5nZXQoIm1ha2VDb3B5IiksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmNvcHlGaWxlKGEsCmMpfSksbnVsbCxteFJlc291cmNlcy5nZXQoInN5bmNocm9uaXplIiksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnJlbG9hZEZpbGUoYSxjKX0pLG14UmVzb3VyY2VzLmdldCgiY2FuY2VsIiksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnVpLmhpZGVEaWFsb2coKX0pLDM2MCwxNTApKX07CkRyYXdpb0ZpbGUucHJvdG90eXBlLnNob3dDb3B5RGlhbG9nPWZ1bmN0aW9uKGEsYyxmKXt0aGlzLmludmFsaWRDaGVja3N1bT10aGlzLmluQ29uZmxpY3RTdGF0ZT0hMTt0aGlzLmFkZFVuc2F2ZWRTdGF0dXMoKTt0aGlzLnVpLnNob3dFcnJvcihteFJlc291cmNlcy5nZXQoImV4dGVybmFsQ2hhbmdlcyIpLG14UmVzb3VyY2VzLmdldCgiZmlsZUNoYW5nZWRPdmVyd3JpdGVEaWFsb2ciKSxteFJlc291cmNlcy5nZXQoIm1ha2VDb3B5IiksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmNvcHlGaWxlKGEsYyl9KSxudWxsLG14UmVzb3VyY2VzLmdldCgib3ZlcndyaXRlIiksZixteFJlc291cmNlcy5nZXQoImNhbmNlbCIpLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy51aS5oaWRlRGlhbG9nKCl9KSwzNjAsMTUwKX07CkRyYXdpb0ZpbGUucHJvdG90eXBlLnNob3dDb25mbGljdERpYWxvZz1mdW5jdGlvbihhLGMpe3RoaXMudWkuc2hvd0Vycm9yKG14UmVzb3VyY2VzLmdldCgiZXh0ZXJuYWxDaGFuZ2VzIiksbXhSZXNvdXJjZXMuZ2V0KCJmaWxlQ2hhbmdlZFN5bmNEaWFsb2ciKSxteFJlc291cmNlcy5nZXQoIm92ZXJ3cml0ZSIpLGEsbnVsbCxteFJlc291cmNlcy5nZXQoInN5bmNocm9uaXplIiksYyxteFJlc291cmNlcy5nZXQoImNhbmNlbCIpLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy51aS5oaWRlRGlhbG9nKCk7dGhpcy5oYW5kbGVGaWxlRXJyb3IobnVsbCwhMSl9KSwzNDAsMTUwKX07CkRyYXdpb0ZpbGUucHJvdG90eXBlLnJlZGlyZWN0VG9OZXdBcHA9ZnVuY3Rpb24oYSxjKXt0aGlzLnVpLnNwaW5uZXIuc3RvcCgpO2lmKCF0aGlzLnJlZGlyZWN0RGlhbG9nU2hvd2luZyl7dGhpcy5yZWRpcmVjdERpYWxvZ1Nob3dpbmc9ITA7dmFyIGY9d2luZG93LmxvY2F0aW9uLnByb3RvY29sKyIvLyIrd2luZG93LmxvY2F0aW9uLmhvc3QrIi8iK3RoaXMudWkuZ2V0U2VhcmNoKCJjcmVhdGUgdGl0bGUgbW9kZSB1cmwgZHJpdmUgc3BsYXNoIHN0YXRlIi5zcGxpdCgiICIpKSsiIyIrdGhpcy5nZXRIYXNoKCksZD1teFJlc291cmNlcy5nZXQoInJlZGlyZWN0VG9OZXdBcHAiKTtudWxsIT1jJiYoZCs9IiAoIitjKyIpIik7dmFyIG09bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt2YXIgYz1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMucmVkaXJlY3REaWFsb2dTaG93aW5nPSExO3dpbmRvdy5sb2NhdGlvbi5ocmVmPT1mP3dpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKToKd2luZG93LmxvY2F0aW9uLmhyZWY9Zn0pO251bGw9PWEmJnRoaXMuaXNNb2RpZmllZCgpP3RoaXMudWkuY29uZmlybShteFJlc291cmNlcy5nZXQoImFsbENoYW5nZXNMb3N0IiksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnJlZGlyZWN0RGlhbG9nU2hvd2luZz0hMX0pLGMsbXhSZXNvdXJjZXMuZ2V0KCJjYW5jZWwiKSxteFJlc291cmNlcy5nZXQoImRpc2NhcmRDaGFuZ2VzIikpOmMoKX0pO251bGwhPWE/dGhpcy5pc01vZGlmaWVkKCk/dGhpcy51aS5jb25maXJtKGQsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnJlZGlyZWN0RGlhbG9nU2hvd2luZz0hMTthKCl9KSxtLG14UmVzb3VyY2VzLmdldCgiY2FuY2VsIiksbXhSZXNvdXJjZXMuZ2V0KCJkaXNjYXJkQ2hhbmdlcyIpKTp0aGlzLnVpLmNvbmZpcm0oZCxtLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5yZWRpcmVjdERpYWxvZ1Nob3dpbmc9ITE7YSgpfSkpOnRoaXMudWkuYWxlcnQobXhSZXNvdXJjZXMuZ2V0KCJyZWRpcmVjdFRvTmV3QXBwIiksCm0pfX07RHJhd2lvRmlsZS5wcm90b3R5cGUuaGFuZGxlRmlsZVN1Y2Nlc3M9ZnVuY3Rpb24oYSl7dGhpcy51aS5zcGlubmVyLnN0b3AoKTt0aGlzLnVpLmdldEN1cnJlbnRGaWxlKCk9PXRoaXMmJih0aGlzLmlzTW9kaWZpZWQoKT90aGlzLmZpbGVDaGFuZ2VkKCk6YT8odGhpcy5pc1RyYXNoZWQoKT90aGlzLmFkZEFsbFNhdmVkU3RhdHVzKG14VXRpbHMuaHRtbEVudGl0aWVzKG14UmVzb3VyY2VzLmdldCh0aGlzLmFsbENoYW5nZXNTYXZlZEtleSkpKyIgKCIrbXhVdGlscy5odG1sRW50aXRpZXMobXhSZXNvdXJjZXMuZ2V0KCJmaWxlTW92ZWRUb1RyYXNoIikpKyIpIik6dGhpcy5hZGRBbGxTYXZlZFN0YXR1cygpLG51bGwhPXRoaXMuc3luYyYmKHRoaXMuc3luYy5yZXNldFVwZGF0ZVN0YXR1c1RocmVhZCgpLHRoaXMuc3luYy5yZW1vdGVGaWxlQ2hhbmdlZCYmKHRoaXMuc3luYy5yZW1vdGVGaWxlQ2hhbmdlZD0hMSx0aGlzLnN5bmMuZmlsZUNoYW5nZWROb3RpZnkoKSkpKTp0aGlzLnVpLmVkaXRvci5zZXRTdGF0dXMoIiIpKX07CkRyYXdpb0ZpbGUucHJvdG90eXBlLmhhbmRsZUZpbGVFcnJvcj1mdW5jdGlvbihhLGMpe3RoaXMudWkuc3Bpbm5lci5zdG9wKCk7aWYodGhpcy51aS5nZXRDdXJyZW50RmlsZSgpPT10aGlzKWlmKHRoaXMuaW5Db25mbGljdFN0YXRlKXRoaXMuaGFuZGxlQ29uZmxpY3RFcnJvcihhLGMpO2Vsc2UgaWYodGhpcy5pc01vZGlmaWVkKCkmJnRoaXMuYWRkVW5zYXZlZFN0YXR1cyhhKSxjKXRoaXMudWkuaGFuZGxlRXJyb3IoYSxudWxsIT1hP214UmVzb3VyY2VzLmdldCgiZXJyb3JTYXZpbmdGaWxlIik6bnVsbCk7ZWxzZSBpZighdGhpcy5pc01vZGlmaWVkKCkpe3ZhciBmPXRoaXMuZ2V0RXJyb3JNZXNzYWdlKGEpO251bGwhPWYmJjYwPGYubGVuZ3RoJiYoZj1mLnN1YnN0cmluZygwLDYwKSsiLi4uIik7dGhpcy51aS5lZGl0b3Iuc2V0U3RhdHVzKCc8ZGl2IGNsYXNzPSJnZVN0YXR1c0FsZXJ0IiBzdHlsZT0iY3Vyc29yOnBvaW50ZXI7b3ZlcmZsb3c6aGlkZGVuOyI+JytteFV0aWxzLmh0bWxFbnRpdGllcyhteFJlc291cmNlcy5nZXQoImVycm9yIikpKwoobnVsbCE9Zj8iICgiK214VXRpbHMuaHRtbEVudGl0aWVzKGYpKyIpIjoiIikrIjwvZGl2PiIpfX07CkRyYXdpb0ZpbGUucHJvdG90eXBlLmhhbmRsZUNvbmZsaWN0RXJyb3I9ZnVuY3Rpb24oYSxjKXt2YXIgZj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuaGFuZGxlRmlsZVN1Y2Nlc3MoITApfSksZD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmhhbmRsZUZpbGVFcnJvcihhLCEwKX0pLG09bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnVpLnNwaW5uZXIuc3Bpbihkb2N1bWVudC5ib2R5LG14UmVzb3VyY2VzLmdldCgic2F2aW5nIikpJiYodGhpcy51aS5lZGl0b3Iuc2V0U3RhdHVzKCIiKSx0aGlzLnNhdmUoITAsZixkLG51bGwsITAsdGhpcy5jb25zdHJ1Y3RvciE9R2l0SHViRmlsZSYmdGhpcy5jb25zdHJ1Y3RvciE9R2l0TGFiRmlsZXx8bnVsbD09YT9udWxsOmEuY29tbWl0TWVzc2FnZSkpfSksaz1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMudWkuc3Bpbm5lci5zcGluKGRvY3VtZW50LmJvZHksbXhSZXNvdXJjZXMuZ2V0KCJ1cGRhdGluZ0RvY3VtZW50IikpJiYKdGhpcy5zeW5jaHJvbml6ZUZpbGUobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnVpLnNwaW5uZXIuc3RvcCgpO3RoaXMudWkuc3Bpbm5lci5zcGluKGRvY3VtZW50LmJvZHksbXhSZXNvdXJjZXMuZ2V0KCJzYXZpbmciKSkmJnRoaXMuc2F2ZSghMCxmLGQsbnVsbCxudWxsLHRoaXMuY29uc3RydWN0b3IhPUdpdEh1YkZpbGUmJnRoaXMuY29uc3RydWN0b3IhPUdpdExhYkZpbGV8fG51bGw9PWE/bnVsbDphLmNvbW1pdE1lc3NhZ2UpfSksZCl9KTsibm9uZSI9PURyYXdpb0ZpbGUuU1lOQz90aGlzLnNob3dDb3B5RGlhbG9nKGYsZCxtKTp0aGlzLmludmFsaWRDaGVja3N1bT90aGlzLnNob3dSZWZyZXNoRGlhbG9nKGYsZCx0aGlzLmdldEVycm9yTWVzc2FnZShhKSk6Yz90aGlzLnNob3dDb25mbGljdERpYWxvZyhtLGspOnRoaXMuYWRkQ29uZmxpY3RTdGF0dXMobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnVpLmVkaXRvci5zZXRTdGF0dXMobXhVdGlscy5odG1sRW50aXRpZXMobXhSZXNvdXJjZXMuZ2V0KCJ1cGRhdGluZ0RvY3VtZW50IikpKTsKdGhpcy5zeW5jaHJvbml6ZUZpbGUoZixkKX0pLHRoaXMuZ2V0RXJyb3JNZXNzYWdlKGEpKX07RHJhd2lvRmlsZS5wcm90b3R5cGUuZ2V0RXJyb3JNZXNzYWdlPWZ1bmN0aW9uKGEpe3ZhciBjPW51bGwhPWE/bnVsbCE9YS5lcnJvcj9hLmVycm9yLm1lc3NhZ2U6YS5tZXNzYWdlOm51bGw7bnVsbD09YyYmbnVsbCE9YSYmYS5jb2RlPT1BcHAuRVJST1JfVElNRU9VVCYmKGM9bXhSZXNvdXJjZXMuZ2V0KCJ0aW1lb3V0IikpO3JldHVybiBjfTtEcmF3aW9GaWxlLnByb3RvdHlwZS5pc092ZXJkdWU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5hZ2VTdGFydCYmRGF0ZS5ub3coKS10aGlzLmFnZVN0YXJ0LmdldFRpbWUoKT49dGhpcy51aS53YXJuSW50ZXJ2YWx9OwpEcmF3aW9GaWxlLnByb3RvdHlwZS5maWxlQ2hhbmdlZD1mdW5jdGlvbigpe3RoaXMubGFzdENoYW5nZWQ9bmV3IERhdGU7dGhpcy5zZXRNb2RpZmllZCghMCk7dGhpcy5pc0F1dG9zYXZlKCk/KHRoaXMuYWRkQWxsU2F2ZWRTdGF0dXMobXhVdGlscy5odG1sRW50aXRpZXMobXhSZXNvdXJjZXMuZ2V0KCJzYXZpbmciKSkrIi4uLiIpLHRoaXMudWkuc2NoZWR1bGVTYW5pdHlDaGVjaygpLG51bGw9PXRoaXMuYWdlU3RhcnQmJih0aGlzLmFnZVN0YXJ0PW5ldyBEYXRlKSx0aGlzLmF1dG9zYXZlKHRoaXMuYXV0b3NhdmVEZWxheSx0aGlzLm1heEF1dG9zYXZlRGVsYXksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy51aS5zdG9wU2FuaXR5Q2hlY2soKTtudWxsPT10aGlzLmF1dG9zYXZlVGhyZWFkPyh0aGlzLmhhbmRsZUZpbGVTdWNjZXNzKCEwKSx0aGlzLmFnZVN0YXJ0PW51bGwpOnRoaXMuaXNNb2RpZmllZCgpJiYodGhpcy51aS5zY2hlZHVsZVNhbml0eUNoZWNrKCksdGhpcy5hZ2VTdGFydD0KdGhpcy5sYXN0Q2hhbmdlZCl9KSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmhhbmRsZUZpbGVFcnJvcihhKX0pKSk6KHRoaXMuYWdlU3RhcnQ9bnVsbCx0aGlzLmlzQXV0b3NhdmVPcHRpb25hbCgpJiZ0aGlzLnVpLmVkaXRvci5hdXRvc2F2ZXx8dGhpcy5pbkNvbmZsaWN0U3RhdGV8fHRoaXMuYWRkVW5zYXZlZFN0YXR1cygpKX07RHJhd2lvRmlsZS5wcm90b3R5cGUuY3JlYXRlU2VjcmV0PWZ1bmN0aW9uKGEsYyl7dmFyIGY9RWRpdG9yLmd1aWQoMzIpO251bGwhPXRoaXMuc3luYz90aGlzLnN5bmMuY3JlYXRlVG9rZW4oZixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihjKXthKGYsYyl9KSxjKTphKGYpfTsKRHJhd2lvRmlsZS5wcm90b3R5cGUuZmlsZVNhdmVkPWZ1bmN0aW9uKGEsYyxmLGQsbSl7dGhpcy5sYXN0U2F2ZWQ9bmV3IERhdGU7dGhpcy5hZ2VTdGFydD1udWxsO3RyeXt0aGlzLnN0YXRzLnNhdmVkKyssdGhpcy5pbnZhbGlkQ2hlY2tzdW09dGhpcy5pbkNvbmZsaWN0U3RhdGU9ITEsbnVsbD09dGhpcy5zeW5jPyh0aGlzLnNoYWRvd0RhdGE9YSx0aGlzLnNoYWRvd1BhZ2VzPW51bGwsbnVsbCE9ZiYmZigpKTp0aGlzLnN5bmMuZmlsZVNhdmVkKHRoaXMudWkuZ2V0UGFnZXNGb3JOb2RlKG14VXRpbHMucGFyc2VYbWwoYSkuZG9jdW1lbnRFbGVtZW50KSxjLGYsZCxtKX1jYXRjaChiKXt0aGlzLmludmFsaWRDaGVja3N1bT10aGlzLmluQ29uZmxpY3RTdGF0ZT0hMDt0aGlzLmRlc2NyaXB0b3JDaGFuZ2VkKCk7bnVsbCE9ZCYmZChiKTt0cnl7aWYodGhpcy5lcnJvclJlcG9ydHNFbmFibGVkKXRoaXMuc2VuZEVycm9yUmVwb3J0KCJFcnJvciBpbiBmaWxlU2F2ZWQiLG51bGwsYik7ZWxzZXt2YXIgaz0KdGhpcy5nZXRDdXJyZW50VXNlcigpLHE9bnVsbCE9az9rLmlkOiJ1bmtub3duIjtFZGl0b3JVaS5sb2dFcnJvcigiRXJyb3IgaW4gZmlsZVNhdmVkIixudWxsLHRoaXMuZ2V0TW9kZSgpKyIuIit0aGlzLmdldElkKCkscSxiKX19Y2F0Y2goZSl7fX19OwpEcmF3aW9GaWxlLnByb3RvdHlwZS5hdXRvc2F2ZT1mdW5jdGlvbihhLGMsZixkKXtudWxsPT10aGlzLmxhc3RBdXRvc2F2ZSYmKHRoaXMubGFzdEF1dG9zYXZlPURhdGUubm93KCkpO2E9RGF0ZS5ub3coKS10aGlzLmxhc3RBdXRvc2F2ZTxjP2E6MDt0aGlzLmNsZWFyQXV0b3NhdmUoKTt2YXIgbT13aW5kb3cuc2V0VGltZW91dChteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMubGFzdEF1dG9zYXZlPW51bGw7dGhpcy5hdXRvc2F2ZVRocmVhZD09bSYmKHRoaXMuYXV0b3NhdmVUaHJlYWQ9bnVsbCk7aWYodGhpcy5pc01vZGlmaWVkKCkmJnRoaXMuaXNBdXRvc2F2ZU5vdygpKXt2YXIgYT10aGlzLmlzQXV0b3NhdmVSZXZpc2lvbigpO2EmJih0aGlzLmxhc3RBdXRvc2F2ZVJldmlzaW9uPShuZXcgRGF0ZSkuZ2V0VGltZSgpKTt0aGlzLnNhdmUoYSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmF1dG9zYXZlQ29tcGxldGVkKCk7bnVsbCE9ZiYmZihhKX0pLG14VXRpbHMuYmluZCh0aGlzLApmdW5jdGlvbihhKXtudWxsIT1kJiZkKGEpfSkpfWVsc2UgdGhpcy5pc01vZGlmaWVkKCl8fHRoaXMudWkuZWRpdG9yLnNldFN0YXR1cygiIiksbnVsbCE9ZiYmZihudWxsKX0pLGEpO3RoaXMuYXV0b3NhdmVUaHJlYWQ9bX07RHJhd2lvRmlsZS5wcm90b3R5cGUuaXNBdXRvc2F2ZU5vdz1mdW5jdGlvbigpe3JldHVybiEwfTtEcmF3aW9GaWxlLnByb3RvdHlwZS5hdXRvc2F2ZUNvbXBsZXRlZD1mdW5jdGlvbigpe307RHJhd2lvRmlsZS5wcm90b3R5cGUuY2xlYXJBdXRvc2F2ZT1mdW5jdGlvbigpe251bGwhPXRoaXMuYXV0b3NhdmVUaHJlYWQmJih3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuYXV0b3NhdmVUaHJlYWQpLHRoaXMuYXV0b3NhdmVUaHJlYWQ9bnVsbCl9OwpEcmF3aW9GaWxlLnByb3RvdHlwZS5pc0F1dG9zYXZlUmV2aXNpb249ZnVuY3Rpb24oKXt2YXIgYT0obmV3IERhdGUpLmdldFRpbWUoKTtyZXR1cm4gbnVsbD09dGhpcy5sYXN0QXV0b3NhdmVSZXZpc2lvbnx8YS10aGlzLmxhc3RBdXRvc2F2ZVJldmlzaW9uPnRoaXMubWF4QXV0b3NhdmVSZXZpc2lvbkRlbGF5fTtEcmF3aW9GaWxlLnByb3RvdHlwZS5kZXNjcmlwdG9yQ2hhbmdlZD1mdW5jdGlvbigpe3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJkZXNjcmlwdG9yQ2hhbmdlZCIpKX07RHJhd2lvRmlsZS5wcm90b3R5cGUuY29udGVudENoYW5nZWQ9ZnVuY3Rpb24oKXt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgiY29udGVudENoYW5nZWQiKSl9OwpEcmF3aW9GaWxlLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbihhKXt0aGlzLnVwZGF0ZUZpbGVEYXRhKCk7dGhpcy5zdGF0cy5jbG9zZWQrKzt0aGlzLmlzQXV0b3NhdmUoKSYmdGhpcy5pc01vZGlmaWVkKCkmJnRoaXMuc2F2ZSh0aGlzLmlzQXV0b3NhdmVSZXZpc2lvbigpLG51bGwsbnVsbCxhKTt0aGlzLmRlc3Ryb3koKX07RHJhd2lvRmlsZS5wcm90b3R5cGUuaGFzU2FtZUV4dGVuc2lvbj1mdW5jdGlvbihhLGMpe2lmKG51bGwhPWEmJm51bGwhPWMpe3ZhciBmPWEubGFzdEluZGV4T2YoIi4iKSxkPTA8Zj9hLnN1YnN0cmluZyhmKToiIixmPWMubGFzdEluZGV4T2YoIi4iKTtyZXR1cm4gZD09PSgwPGY/Yy5zdWJzdHJpbmcoZik6IiIpfXJldHVybiBhPT1jfTsKRHJhd2lvRmlsZS5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXJzPWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5jaGFuZ2VMaXN0ZW5lciYmKHRoaXMudWkuZWRpdG9yLmdyYXBoLm1vZGVsLnJlbW92ZUxpc3RlbmVyKHRoaXMuY2hhbmdlTGlzdGVuZXIpLHRoaXMudWkuZWRpdG9yLmdyYXBoLnJlbW92ZUxpc3RlbmVyKHRoaXMuY2hhbmdlTGlzdGVuZXIpLHRoaXMudWkucmVtb3ZlTGlzdGVuZXIodGhpcy5jaGFuZ2VMaXN0ZW5lciksdGhpcy5jaGFuZ2VMaXN0ZW5lcj1udWxsKX07RHJhd2lvRmlsZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuc3RhdHMuZGVzdHJveWVkKys7dGhpcy5jbGVhckF1dG9zYXZlKCk7dGhpcy5yZW1vdmVMaXN0ZW5lcnMoKTtudWxsIT10aGlzLnN5bmMmJih0aGlzLnN5bmMuZGVzdHJveSgpLHRoaXMuc3luYz1udWxsKX07RHJhd2lvRmlsZS5wcm90b3R5cGUuY29tbWVudHNTdXBwb3J0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX07CkRyYXdpb0ZpbGUucHJvdG90eXBlLmNvbW1lbnRzUmVmcmVzaE5lZWRlZD1mdW5jdGlvbigpe3JldHVybiEwfTtEcmF3aW9GaWxlLnByb3RvdHlwZS5jb21tZW50c1NhdmVOZWVkZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX07RHJhd2lvRmlsZS5wcm90b3R5cGUuZ2V0Q29tbWVudHM9ZnVuY3Rpb24oYSxjKXthKFtdKX07RHJhd2lvRmlsZS5wcm90b3R5cGUuYWRkQ29tbWVudD1mdW5jdGlvbihhLGMsZil7YyhEYXRlLm5vdygpKX07RHJhd2lvRmlsZS5wcm90b3R5cGUuY2FuUmVwbHlUb1JlcGxpZXM9ZnVuY3Rpb24oKXtyZXR1cm4hMH07RHJhd2lvRmlsZS5wcm90b3R5cGUuY2FuQ29tbWVudD1mdW5jdGlvbigpe3JldHVybiEwfTtEcmF3aW9GaWxlLnByb3RvdHlwZS5uZXdDb21tZW50PWZ1bmN0aW9uKGEsYyl7cmV0dXJuIG5ldyBEcmF3aW9Db21tZW50KHRoaXMsbnVsbCxhLERhdGUubm93KCksRGF0ZS5ub3coKSwhMSxjKX07TG9jYWxGaWxlPWZ1bmN0aW9uKGEsYyxmLGQpe0RyYXdpb0ZpbGUuY2FsbCh0aGlzLGEsYyk7dGhpcy50aXRsZT1mO3RoaXMubW9kZT1kP251bGw6QXBwLk1PREVfREVWSUNFfTtteFV0aWxzLmV4dGVuZChMb2NhbEZpbGUsRHJhd2lvRmlsZSk7TG9jYWxGaWxlLnByb3RvdHlwZS5pc0F1dG9zYXZlPWZ1bmN0aW9uKCl7cmV0dXJuITF9O0xvY2FsRmlsZS5wcm90b3R5cGUuZ2V0TW9kZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1vZGV9O0xvY2FsRmlsZS5wcm90b3R5cGUuZ2V0VGl0bGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aXRsZX07TG9jYWxGaWxlLnByb3RvdHlwZS5pc1JlbmFtYWJsZT1mdW5jdGlvbigpe3JldHVybiEwfTtMb2NhbEZpbGUucHJvdG90eXBlLnNhdmU9ZnVuY3Rpb24oYSxjLGYpe3RoaXMuc2F2ZUFzKHRoaXMudGl0bGUsYyxmKX07TG9jYWxGaWxlLnByb3RvdHlwZS5zYXZlQXM9ZnVuY3Rpb24oYSxjLGYpe3RoaXMuc2F2ZUZpbGUoYSwhMSxjLGYpfTsKTG9jYWxGaWxlLnByb3RvdHlwZS5zYXZlRmlsZT1mdW5jdGlvbihhLGMsZixkKXt0aGlzLnRpdGxlPWE7dGhpcy51cGRhdGVGaWxlRGF0YSgpO2M9dGhpcy5nZXREYXRhKCk7dmFyIG09dGhpcy51aS51c2VDYW52YXNGb3JFeHBvcnQmJi8oXC5wbmcpJC9pLnRlc3QodGhpcy5nZXRUaXRsZSgpKSxrPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGMpe2lmKHRoaXMudWkuaXNPZmZsaW5lQXBwKCl8fHRoaXMudWkuaXNMb2NhbEZpbGVTYXZlKCkpdGhpcy51aS5kb1NhdmVMb2NhbEZpbGUoYyxhLG0/ImltYWdlL3BuZyI6InRleHQveG1sIixtKTtlbHNlIGlmKGMubGVuZ3RoPE1BWF9SRVFVRVNUX1NJWkUpe3ZhciBiPWEubGFzdEluZGV4T2YoIi4iKSxiPTA8Yj9hLnN1YnN0cmluZyhiKzEpOiJ4bWwiOyhuZXcgbXhYbWxSZXF1ZXN0KFNBVkVfVVJMLCJmb3JtYXQ9IitiKyImeG1sPSIrZW5jb2RlVVJJQ29tcG9uZW50KGMpKyImZmlsZW5hbWU9IitlbmNvZGVVUklDb21wb25lbnQoYSkrCihtPyImYmluYXJ5PTEiOiIiKSkpLnNpbXVsYXRlKGRvY3VtZW50LCJfYmxhbmsiKX1lbHNlIHRoaXMudWkuaGFuZGxlRXJyb3Ioe21lc3NhZ2U6bXhSZXNvdXJjZXMuZ2V0KCJkcmF3aW5nVG9vTGFyZ2UiKX0sbXhSZXNvdXJjZXMuZ2V0KCJlcnJvciIpLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7bXhVdGlscy5wb3B1cChjKX0pKTt0aGlzLnNldE1vZGlmaWVkKCExKTt0aGlzLmNvbnRlbnRDaGFuZ2VkKCk7bnVsbCE9ZiYmZigpfSk7bT8oYz10aGlzLnVpLmdldFBuZ0ZpbGVQcm9wZXJ0aWVzKHRoaXMudWkuZmlsZU5vZGUpLHRoaXMudWkuZ2V0RW1iZWRkZWRQbmcobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7ayhhKX0pLGQsdGhpcy51aS5nZXRDdXJyZW50RmlsZSgpIT10aGlzP3RoaXMuZ2V0RGF0YSgpOm51bGwsYy5zY2FsZSxjLmJvcmRlcikpOmsoYyl9OwpMb2NhbEZpbGUucHJvdG90eXBlLnJlbmFtZT1mdW5jdGlvbihhLGMsZil7dGhpcy50aXRsZT1hO3RoaXMuZGVzY3JpcHRvckNoYW5nZWQoKTtudWxsIT1jJiZjKCl9O0xvY2FsRmlsZS5wcm90b3R5cGUub3Blbj1mdW5jdGlvbigpe3RoaXMudWkuc2V0RmlsZURhdGEodGhpcy5nZXREYXRhKCkpO3RoaXMuaW5zdGFsbExpc3RlbmVycygpfTsoZnVuY3Rpb24oKXsidW5kZWZpbmVkIiE9PXR5cGVvZiBodG1sNCYmKGh0bWw0LkFUVFJJQlNbInNwYW46OmRhdGEtbHVjaWQtY29udGVudCJdPTAsaHRtbDQuQVRUUklCU1sic3Bhbjo6ZGF0YS1sdWNpZC10eXBlIl09MCk7RWRpdG9yLnByb3RvdHlwZS5hcHBOYW1lPSJkaWFncmFtcy5uZXQiO0VkaXRvci5wcm90b3R5cGUuZGlhZ3JhbUZpbGVUeXBlcz1be2Rlc2NyaXB0aW9uOiJkaWFncmFtWG1sRGVzYyIsZXh0ZW5zaW9uOiJkcmF3aW8ifSx7ZGVzY3JpcHRpb246ImRpYWdyYW1QbmdEZXNjIixleHRlbnNpb246InBuZyJ9LHtkZXNjcmlwdGlvbjoiZGlhZ3JhbVN2Z0Rlc2MiLGV4dGVuc2lvbjoic3ZnIn0se2Rlc2NyaXB0aW9uOiJkaWFncmFtSHRtbERlc2MiLGV4dGVuc2lvbjoiaHRtbCJ9LHtkZXNjcmlwdGlvbjoiZGlhZ3JhbVhtbERlc2MiLGV4dGVuc2lvbjoieG1sIn1dO0VkaXRvci5wcm90b3R5cGUubGlicmFyeUZpbGVUeXBlcz1be2Rlc2NyaXB0aW9uOiJMaWJyYXJ5ICguZHJhd2lvbGliLCAueG1sKSIsCmV4dGVuc2lvbnM6WyJkcmF3aW9saWIiLCJ4bWwiXX1dO0VkaXRvci5wcm90b3R5cGUuZmlsZUV4dGVuc2lvbnM9W3tleHQ6Imh0bWwiLHRpdGxlOiJmaWxldHlwZUh0bWwifSx7ZXh0OiJwbmciLHRpdGxlOiJmaWxldHlwZVBuZyJ9LHtleHQ6InN2ZyIsdGl0bGU6ImZpbGV0eXBlU3ZnIn1dO0VkaXRvci5jbG9zZUltYWdlPW14Q2xpZW50LklTX1NWRz8iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCa0FBQUFaQ0FNQUFBRHpOM1ZSQUFBQXBWQk1WRVVBQUFELy8vL2s1T1QvLy84QUFBQjFkWFhNek16OS9mMzkvZjM3Ky92NStmbisvdjcvLy85aVltSmFXbHFGaFlXbnA2ZWpvNk9IaDRmLy8vLy8vLy8vLy8vLy8vLzcrL3Y1K2ZueDhmSC8vLzhBQUFELy8vOGJHeHY3Ky92NStma29LQ2doSVNGRFEwTVlHQmpoNGVIWTJOamIyOXRRVUZCdmIyOUhSMGMvUHo4Mk5qWXJLeXUvdjc4U0VoTHU3dTdzN096VjFkVlZWVlU3T3pzVkZSWEF2NzhRRUJCenFlaE1BQUFBRzNSU1RsTUFBLzdwL3Z6NXhabHJUaVBML3Y3OCsvdjcrT1hkMlRZUURzOEw3MFpiQUFBQktVbEVRVlFvejNWUzEzTENNQkJVWEhDaGQ4aXVrRHNsUUNoSi92L1RjaGFHNGNYUytPU2IxYzd0clU3VjYwT3BkUnoyWnROWkw0elhObGNOOEJFdFNHNitOeElYa2VSUG9CdVExY2p2WjMxL1ZKRkIxMElTbGk2ZGlZZkg4aVlPM1dVTkNjTmxCMGdUclhPdGt4VG8wTzFhS0tpQkJNaGh2Mk1OQlFLb2lBNXd4bFpvMEpEekQzQVlLYldhY3lqM2ZzMDF3eGV5MHB5RVArUjhwV0tXWG9xdElaMEREZzVwYmtpOWtyRUtPYTZMVkRRc2RvWEVzaTQ2WnFoNjlLRno3QjF1N0hiMnlEVjhmaXJYREtCbFo0VUZpc3dLR1JoWFRTOTMvRUNLN3l4bkozK1MzeS9UaHBPK2NmU0QwMTducWExOGFhc2FiVTAvdDdkK3RrMC8xb01FSjFOYUQ2N2l3ZEY2OE9hYkZTTG4rZUhiMCt2ankrdWs4YnI5ZmRyZnRIME8ybWVuZmQ3K0FRZllNL2xOam9ESEFBQUFBRWxGVGtTdVFtQ0MiOgpJTUFHRV9QQVRIKyIvZGVsZXRlLnBuZyI7RWRpdG9yLnBsdXNJbWFnZT1teENsaWVudC5JU19TVkc/ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQW9BQUFBS0NBWUFBQUNOTXMrOUFBQUFHWFJGV0hSVGIyWjBkMkZ5WlFCQlpHOWlaU0JKYldGblpWSmxZV1I1Y2NsbFBBQUFBeUpwVkZoMFdFMU1PbU52YlM1aFpHOWlaUzU0YlhBQUFBQUFBRHcvZUhCaFkydGxkQ0JpWldkcGJqMGk3N3UvSWlCcFpEMGlWelZOTUUxd1EyVm9hVWg2Y21WVGVrNVVZM3ByWXpsa0lqOCtJRHg0T25odGNHMWxkR0VnZUcxc2JuTTZlRDBpWVdSdlltVTZibk02YldWMFlTOGlJSGc2ZUcxd2RHczlJa0ZrYjJKbElGaE5VQ0JEYjNKbElEVXVNQzFqTURZd0lEWXhMakV6TkRjM055d2dNakF4TUM4d01pOHhNaTB4Tnpvek1qb3dNQ0FnSUNBZ0lDQWdJajRnUEhKa1pqcFNSRVlnZUcxc2JuTTZjbVJtUFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eE9UazVMekF5THpJeUxYSmtaaTF6ZVc1MFlYZ3Ribk1qSWo0Z1BISmtaanBFWlhOamNtbHdkR2x2YmlCeVpHWTZZV0p2ZFhROUlpSWdlRzFzYm5NNmVHMXdQU0pvZEhSd09pOHZibk11WVdSdlltVXVZMjl0TDNoaGNDOHhMakF2SWlCNGJXeHVjenA0YlhCTlRUMGlhSFIwY0RvdkwyNXpMbUZrYjJKbExtTnZiUzk0WVhBdk1TNHdMMjF0THlJZ2VHMXNibk02YzNSU1pXWTlJbWgwZEhBNkx5OXVjeTVoWkc5aVpTNWpiMjB2ZUdGd0x6RXVNQzl6Vkhsd1pTOVNaWE52ZFhKalpWSmxaaU1pSUhodGNEcERjbVZoZEc5eVZHOXZiRDBpUVdSdlltVWdVR2h2ZEc5emFHOXdJRU5UTlNCTllXTnBiblJ2YzJnaUlIaHRjRTFOT2tsdWMzUmhibU5sU1VROUluaHRjQzVwYVdRNk1EZENNVGRFTmpWQ09FTTRNVEZGTkRsQ1JqVkJORGRDT0RVNU5qTkJOVU1pSUhodGNFMU5Pa1J2WTNWdFpXNTBTVVE5SW5odGNDNWthV1E2TURkQ01UZEVOalpDT0VNNE1URkZORGxDUmpWQk5EZENPRFU1TmpOQk5VTWlQaUE4ZUcxd1RVMDZSR1Z5YVhabFpFWnliMjBnYzNSU1pXWTZhVzV6ZEdGdVkyVkpSRDBpZUcxd0xtbHBaRG93TjBJeE4wUTJNMEk0UXpneE1VVTBPVUpHTlVFME4wSTROVGsyTTBFMVF5SWdjM1JTWldZNlpHOWpkVzFsYm5SSlJEMGllRzF3TG1ScFpEb3dOMEl4TjBRMk5FSTRRemd4TVVVME9VSkdOVUUwTjBJNE5UazJNMEUxUXlJdlBpQThMM0prWmpwRVpYTmpjbWx3ZEdsdmJqNGdQQzl5WkdZNlVrUkdQaUE4TDNnNmVHMXdiV1YwWVQ0Z1BEOTRjR0ZqYTJWMElHVnVaRDBpY2lJL1B0anJqbWdBQUFBdFNVUkJWSGphWXZ6Ly96OERNaWd2THdjTGRIWjJNaUtMTXpFUUNhaXZrTEdzck93L2RVMGNBcjRHQ0RBQVJRc1FiVEZydjEwQUFBQUFTVVZPUks1Q1lJST0iOgpJTUFHRV9QQVRIKyIvcGx1cy5wbmciO0VkaXRvci5zcGluSW1hZ2U9bXhDbGllbnQuSVNfU1ZHPyJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhEQUFNQVBVeEFFVnJpVnA3bG1DQW1tR0JtMk9DbkdtSG4zT1BwbmVTcVlLYnI0T2NzSVNjc0kya3RvNmt0NDZsdDVLbnVabXR2cHF1dnB1dnY1Nnl3YUN6d3FLMXhLdTd5YXk5eXErL3pMSEF6YmZGMGJqRzBiekoxTHpLMU1ETjE4alQyOG5UM00zWDN0SGE0ZFRjNDlYZDVOamY1ZG5nNXQzazZkL2w2dURtNnVydThlN3g4L0R6OWZUMjkvYjQrUGo1K2ZqNSt2cjYrdi8vL3dBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQ0g1QkFrS0FERUFJZjhMVGtWVVUwTkJVRVV5TGpBREFRQUFBQ3dBQUFBQURBQU1BQUFHUjhDWWNFZ3NPZ1lBSWF4NENDUXVRbGRyQ0JFc2lLOFZTMmhvRkdPcmxKREErY1pRd2tMbnF5b0pGWkt2aVNTMElDckUwZWMwakRBd0lpVWVHeUJGR2hNUEZCa2habzFCQUNINUJBa0tBQzRBTEFBQUFBQU1BQXdBaFZCMGtGUjNrMVY0azJDQW1tV0VuVzZMbzNLT3BYZVNxSDJYcklPY3NJU2RzSW1odElxaHRKQ211SkdudVp1d3Y1Mnd3Sit5d1oreXdxbTZ5TEhCemJMQ3pyWEV6N2ZGMExuSDByckkwcjdMMWIvTTFzWFIyY2ZUMjhyVjNjelczcy9aNE5mZTVOdmk2T0RtNnVMbjYrTG43T0xvN09YcTdlZnM3K3p3OHUveTlQRHk5UFgzK1ByNysvLy8vd0FBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBWkRRSmR3U0N4R0RBSUFvVkZrRkJ3WVN5SXdHRTRPa0NKeElkRzZXa0pFeDhzU0tqN2VsZkJCMGE1U1FnMUVRMFNWVk1QS2hETTZpVUlrUlI0WkZ4c2dKbDZKUVFBaCtRUUpDZ0F4QUN3QUFBQUFEQUFNQUlWR2E0bGNmWmRqZ3B4a2c1MW5ocDV1aTZOM2txaDVsS3FGbmJHSG43S0lvTE9RcDdpUnA3bVNxTG1UcWJxYXJyNmJyNytmc3NHaXRjT2l0Y1N1dnN1dXY4dXd3TXl6dzg2MXhOQzV4OUs2eDlLL3pOYkR6dGpFME5uRzBkckoxTnpRMmVEUzIrTFQyK0xWM2VQWjRPYmE0ZWJiNHVmYzQram02Kzd0OFBMdDhQUHQ4ZlB4OC9YeDlQWDA5dmYxOS9qMytQbi8vLzhBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUdROENZY0Vnc1VoUUZnZ0ZTakNRbW5FMWpjQmhxR0JYaUl1QVFTaTdGR0VJZ2ZJekNGb0NYRkNaaVBPMGhLQk1pd2w3RVQ2ZVVZcWxXTGtVbklTSW1LQzF4YlVFQUlma0VDUW9BTWdBc0FBQUFBQXdBREFDRlRuS1BUM0tQVkhhVFlvS2NiNHlqY1k2bGVaU3BmNW10Z1p1dmg1K3lpcUcwaTZLMWpxVzNrYWU1bnJIQm5yTEJuN0xDb0xQQ29iVERxYnJJcXJ2SXM4TE90TVBQdGNQUHRjVFB1TWJSdWNmU3ZjclV2c3ZWd016V3hkSGF5ZFRjeXRYZHpOYmV6ZGZmMGRyaDJPRGwyK0xuM2VUcDRPYnE0dWpzNU9udDV1dnU2TzN3NnU3dzZ1N3g3L0wwOXZqNSt2cjcrdnY3Ly8vL0FBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFCa2RBbVhCSUxISWNpY09DVXF4RUxLS1B4S0FZZ2lZZDRvTUFFV284UlZtaklNU2N3aG1CY0pNS1h3TENFQ21NR0FoUEkxUVJ3QmlhU2l4Q01ERmhMU29yTGk4d1lZeENRUUFoK1FRSkNnQXhBQ3dBQUFBQURBQU1BSVZaZXBWZ2dKcGhnWnRuaHA1dmpLTjJrYWgza3FtQm1xK0tvYlNMb3JXTnBMYVJwN21XcTd5YnI3K2dzOEtpdGNTa3RzV251TWFudWNleHdNMnl3YzYzeHRHNnlOTzl5dFMreXRXL3pOYkR6OWpIMHR2TDFkM04xOTdTMitMVTNPUFUzZVBWM2VUWDMrWGE0ZWZiNHVmZDVPbmw2dTdyN3ZIczcvTHQ4UEx3OC9YeTlQYnk5ZmIwOWZmMitQbjMrUG42K3ZyLy8vOEFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBR1NNQ1ljRWdzZWl3U1IrUlM3R0E0SkZHRjhSaVdOaUVpSlRFUmdrakZHQVFoL0tUQ0dvSndwQXBuQmtJVEtyd29DRlduRmxFaGFBeFhMQzlDQndBR1JTNHdRZ0VMWVkxQ1FRQWgrUVFKQ2dBekFDd0FBQUFBREFBTUFJVk1jSTVTZFpGaGdadHRpNkp3amFSNGs2bUFtYTZDbTYrS29iU0xvcldMbzdXTm83YVBwcmVkc01DZXNjR2l0TU9pdGNTbXVNYXF1OGl4d2MyendzNjN4ZEM0eHRHNXg5Szl5dFhBemRmQ3p0akYwTm5GMGRySzFkM00xdDdQMk4vUDJlRFQyK0xYMytYZTVPbmg1K3ZpNSt2ajZPems2ZTNuN08vbzdPL3E3dkhzNy9MdDhQUHU4ZlB4OC9YMytQbjYrdnY3Ky92OC9Qei8vLzhBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFHUmNDWmNFZ3Nta0liVE9aVExJbEdxWk5uY2htMlNDZ2lKNklScWxqRm1RVWlYSVZub0lUUWRlNGNoQzlZK0xFUXhtVEZSa0ZTTkZBcURBTUlSUW9DQUFFRURtZUxRUUFoK1FRSkNnQXdBQ3dBQUFBQURBQU1BSVZYZVpSZWZwbGZmNWxoZ1p0cGg1OXlqcVYya2FlQW1xNkZuYkdGbnJHTG9yV05wTGFRcDdtUnFMbVlyYjJlc3NHZ3M4S2x0OGFwdXNpdHZjcXV2OHUyeE5DN3lOTzh5ZFM4eXRUQXpkZkJ6ZGZNMXQ3TjE5N1EyZURVM09QWDMrWFo0T2JaNGViYzQramY1ZXJnNWVyZzV1dnA3ZkR1OGZQdjh2VHo5ZmIwOXZmMTkvajMrUG40K2ZuNSt2cjYrL3YvLy84QUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBR1JVQ1ljRWdzcGt3akVLaFVWSjFRc0JOcDB4bTJWaXhpU09NUnZseEZHQWNUSm9vazVlRUhJaFFjd3BXSWtBRlFFQ2tOeTlBUVdGd3lFQWtQUlE0RkF3UUlFMmxsUVFBaCtRUUpDZ0F2QUN3QUFBQUFEQUFNQUlWTmNZNVNkWkZpZ3B0cGg2QnZqS04wa0tkOGxxdUFtcStFbmJHR243S0huN09OcExhT3BiZWFycitjc01DZHNjQ2VzY0dodE1PbnVNYXV2c3V6d3M2MHc4NjJ4ZEM5eXRXL3k5YS96TmJDenRqRzBkckgwdHZLMU4zTTF0N04xOS9VM2VQYjR1ZmY1dXJqNk96azZlM2w2dTdtNnU3bzdQRHE3dkR0OFBQdjh2VHc4dlR3OC9YMTl2ZjYrdnYvLy84QUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUdROENYY0Vnc3ZseXRWVXBsSkxKSXBTRURVRVNGVEVMQndTZ0NDUUVWNDJrakRGaU1vNHVRc0RCMk1rTEhvRUhVVEQ3RFJBSEM4VkFpWjBRU0NnWUlEeGhOaVVFQU93PT0iOgpJTUFHRV9QQVRIKyIvc3Bpbi5naWYiO0VkaXRvci5nbG9iZUltYWdlPSJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSXlOQ0lnYUdWcFoyaDBQU0l5TkNJZ2RtbGxkMEp2ZUQwaU1DQXdJREkwSURJMElqNDhjR0YwYUNCa1BTSk5NVEV1T1RrZ01rTTJMalEzSURJZ01pQTJMalE0SURJZ01USnpOQzQwTnlBeE1DQTVMams1SURFd1F6RTNMalV5SURJeUlESXlJREUzTGpVeUlESXlJREV5VXpFM0xqVXlJRElnTVRFdU9Ua2dNbnB0Tmk0NU15QTJhQzB5TGprMVl5MHVNekl0TVM0eU5TMHVOemd0TWk0ME5TMHhMak00TFRNdU5UWWdNUzQ0TkM0Mk15QXpMak0zSURFdU9URWdOQzR6TXlBekxqVTJlazB4TWlBMExqQTBZeTQ0TXlBeExqSWdNUzQwT0NBeUxqVXpJREV1T1RFZ015NDVObWd0TXk0NE1tTXVORE10TVM0ME15QXhMakE0TFRJdU56WWdNUzQ1TVMwekxqazJlazAwTGpJMklERTBRelF1TVNBeE15NHpOaUEwSURFeUxqWTVJRFFnTVRKekxqRXRNUzR6Tmk0eU5pMHlhRE11TXpoakxTNHdPQzQyTmkwdU1UUWdNUzR6TWkwdU1UUWdNaUF3SUM0Mk9DNHdOaUF4TGpNMExqRTBJREpJTkM0eU5ucHRMamd5SURKb01pNDVOV011TXpJZ01TNHlOUzQzT0NBeUxqUTFJREV1TXpnZ015NDFOaTB4TGpnMExTNDJNeTB6TGpNM0xURXVPUzAwTGpNekxUTXVOVFo2YlRJdU9UVXRPRWcxTGpBNFl5NDVOaTB4TGpZMklESXVORGt0TWk0NU15QTBMak16TFRNdU5UWkRPQzQ0TVNBMUxqVTFJRGd1TXpVZ05pNDNOU0E0TGpBeklEaDZUVEV5SURFNUxqazJZeTB1T0RNdE1TNHlMVEV1TkRndE1pNDFNeTB4TGpreExUTXVPVFpvTXk0NE1tTXRMalF6SURFdU5ETXRNUzR3T0NBeUxqYzJMVEV1T1RFZ015NDVObnBOTVRRdU16UWdNVFJJT1M0Mk5tTXRMakE1TFM0Mk5pMHVNVFl0TVM0ek1pMHVNVFl0TWlBd0xTNDJPQzR3TnkweExqTTFMakUyTFRKb05DNDJPR011TURrdU5qVXVNVFlnTVM0ek1pNHhOaUF5SURBZ0xqWTRMUzR3TnlBeExqTTBMUzR4TmlBeWVtMHVNalVnTlM0MU5tTXVOaTB4TGpFeElERXVNRFl0TWk0ek1TQXhMak00TFRNdU5UWm9NaTQ1TldNdExqazJJREV1TmpVdE1pNDBPU0F5TGprekxUUXVNek1nTXk0MU5ucE5NVFl1TXpZZ01UUmpMakE0TFM0Mk5pNHhOQzB4TGpNeUxqRTBMVElnTUMwdU5qZ3RMakEyTFRFdU16UXRMakUwTFRKb015NHpPR011TVRZdU5qUXVNallnTVM0ek1TNHlOaUF5Y3kwdU1TQXhMak0yTFM0eU5pQXlhQzB6TGpNNGVpSXZQand2YzNablBnPT0iOwpFZGl0b3IuY29tbWVudEltYWdlPSJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSXlOQ0lnYUdWcFoyaDBQU0l5TkNJZ2RtbGxkMEp2ZUQwaU1DQXdJREkwSURJMElqNDhjR0YwYUNCa1BTSk5NakV1T1RrZ05HTXdMVEV1TVMwdU9Ea3RNaTB4TGprNUxUSklOR010TVM0eElEQXRNaUF1T1MweUlESjJNVEpqTUNBeExqRXVPU0F5SURJZ01tZ3hOR3cwSURRdExqQXhMVEU0ZWsweE9DQXhORWcyZGkweWFERXlkako2YlRBdE0wZzJWamxvTVRKMk1ucHRNQzB6U0RaV05tZ3hNbll5ZWlJdlBqeHdZWFJvSUdROUlrMHdJREJvTWpSMk1qUklNSG9pSUdacGJHdzlJbTV2Ym1VaUx6NDhMM04yWno0PSI7RWRpdG9yLmNvbW1lbnRJbWFnZUludmVydGVkPSJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNBQUFBQWdDQVlBQUFCemVucjBBQUFCTEVsRVFWUllSKzJXdnk0RlFSakZmNGRJTkFxOVhxdFNhVlJxWEFyUElORW9kVXFsaHhDNS9wVTZuWWRRU0hRZVFUUkhOdG1WdVh1WHJJeHYxazFzTjV2TU9iODVjNzVreE1DZkJ2Wm5Dc0QyRXJBR3pBZkF2VXQ2VEhVbkFHd2ZBV2ZBUW9CNUkza2g2YUJaZkFMWVhnR2VnODBiMzFWSlQ5VWlCUmdCNDhDVHA5TGJrdTdhQVB2QVpTR0FIVW0zc3dFZ0tXdFViYnNqMWY0SkRBNEFiR2IyNGlFcmdVenpyN2J2U3JycFZjS2dLNWdoZ0tBTzlFL2d2d05CSlJ4SnV1NDFCVUVkK0JGQVJBMytKc0FXY0I5eDNBN056Z1NxdCtBTHNGd0FZaHFnTXJXOVViOEoxNEc1UUpCdWdBaEQyeWZBYVV0N1Q5TFZ4QmhHbURlYXRvL3JaSnRmWlFIcTYwMGh5Z1BVRUlmQU9UQU1RQUx4V3JRRDdYN1pYcFQwVnF5RTN4VTg2OG45RzVQekFTUHZwaUhhdkJBVUFBQUFBRWxGVGtTdVFtQ0MiOwpFZGl0b3IudXNlckltYWdlPSJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSXlOQ0lnYUdWcFoyaDBQU0l5TkNJZ2RtbGxkMEp2ZUQwaU1DQXdJREkwSURJMElqNDhjR0YwYUNCa1BTSk5NVElnTVRKak1pNHlNU0F3SURRdE1TNDNPU0EwTFRSekxURXVOemt0TkMwMExUUXROQ0F4TGpjNUxUUWdOQ0F4TGpjNUlEUWdOQ0EwZW0wd0lESmpMVEl1TmpjZ01DMDRJREV1TXpRdE9DQTBkakpvTVRaMkxUSmpNQzB5TGpZMkxUVXVNek10TkMwNExUUjZJaTgrUEM5emRtYysiO0VkaXRvci5zaGFyZUltYWdlPSJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSXlOQ0lnYUdWcFoyaDBQU0l5TkNJZ2RtbGxkMEp2ZUQwaU1DQXdJREkwSURJMElqNDhjR0YwYUNCa1BTSk5NVGdnTVRZdU1EaGpMUzQzTmlBd0xURXVORFF1TXkweExqazJMamMzVERndU9URWdNVEl1TjJNdU1EVXRMakl6TGpBNUxTNDBOaTR3T1MwdU4zTXRMakEwTFM0ME55MHVNRGt0TGpkc055NHdOUzAwTGpFeFl5NDFOQzQxSURFdU1qVXVPREVnTWk0d05DNDRNU0F4TGpZMklEQWdNeTB4TGpNMElETXRNM010TVM0ek5DMHpMVE10TXkweklERXVNelF0TXlBell6QWdMakkwTGpBMExqUTNMakE1TGpkTU9DNHdOQ0E1TGpneFF6Y3VOU0E1TGpNeElEWXVOemtnT1NBMklEbGpMVEV1TmpZZ01DMHpJREV1TXpRdE15QXpjekV1TXpRZ015QXpJRE5qTGpjNUlEQWdNUzQxTFM0ek1TQXlMakEwTFM0NE1XdzNMakV5SURRdU1UWmpMUzR3TlM0eU1TMHVNRGd1TkRNdExqQTRMalkxSURBZ01TNDJNU0F4TGpNeElESXVPVElnTWk0NU1pQXlMamt5SURFdU5qRWdNQ0F5TGpreUxURXVNekVnTWk0NU1pMHlMamt5Y3kweExqTXhMVEl1T1RJdE1pNDVNaTB5TGpreWVpSXZQand2YzNablBnPT0iOwpFZGl0b3Iuc3luY0ltYWdlPSJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSXlOQ0lnYUdWcFoyaDBQU0l5TkNJZ2RtbGxkMEp2ZUQwaU1DQXdJREkwSURJMElqNDhjR0YwYUNCa1BTSk5NVElnTkZZeFREZ2dOV3cwSURSV05tTXpMak14SURBZ05pQXlMalk1SURZZ05pQXdJREV1TURFdExqSTFJREV1T1RjdExqY2dNaTQ0YkRFdU5EWWdNUzQwTmtNeE9TNDFOQ0F4TlM0d015QXlNQ0F4TXk0MU55QXlNQ0F4TW1Nd0xUUXVOREl0TXk0MU9DMDRMVGd0T0hwdE1DQXhOR010TXk0ek1TQXdMVFl0TWk0Mk9TMDJMVFlnTUMweExqQXhMakkxTFRFdU9UY3VOeTB5TGpoTU5TNHlOQ0EzTGpjMFF6UXVORFlnT0M0NU55QTBJREV3TGpReklEUWdNVEpqTUNBMExqUXlJRE11TlRnZ09DQTRJRGgyTTJ3MExUUXROQzAwZGpONklpOCtQQzl6ZG1jKyI7RWRpdG9yLnN5bmNEaXNhYmxlZEltYWdlPQoiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l5TkNJZ2FHVnBaMmgwUFNJeU5DSWdkbWxsZDBKdmVEMGlNQ0F3SURJMElESTBJajQ4Y0dGMGFDQmtQU0pOTVRBZ05pNHpOVlkwTGpJMll5MHVPQzR5TVMweExqVTFMalUwTFRJdU1qTXVPVFpzTVM0ME5pQXhMalEyWXk0eU5TMHVNVEl1TlMwdU1qUXVOemN0TGpNemVtMHROeTR4TkMwdU9UUnNNaTR6TmlBeUxqTTJRelF1TkRVZ09DNDVPU0EwSURFd0xqUTBJRFFnTVRKak1DQXlMakl4TGpreElEUXVNaUF5TGpNMklEVXVOalJNTkNBeU1HZzJkaTAyYkMweUxqSTBJREl1TWpSRE5pNDJPQ0F4TlM0eE5TQTJJREV6TGpZMklEWWdNVEpqTUMweElDNHlOUzB4TGprMExqWTRMVEl1Tnpkc09DNHdPQ0E0TGpBNFl5MHVNalV1TVRNdExqVXVNalV0TGpjM0xqTTBkakl1TURsakxqZ3RMakl4SURFdU5UVXRMalUwSURJdU1qTXRMamsyYkRJdU16WWdNaTR6TmlBeExqSTNMVEV1TWpkTU5DNHhOQ0EwTGpFMElESXVPRFlnTlM0ME1YcE5NakFnTkdndE5uWTJiREl1TWpRdE1pNHlORU14Tnk0ek1pQTRMamcxSURFNElERXdMak0wSURFNElERXlZekFnTVMwdU1qVWdNUzQ1TkMwdU5qZ2dNaTQzTjJ3eExqUTJJREV1TkRaRE1Ua3VOVFVnTVRVdU1ERWdNakFnTVRNdU5UWWdNakFnTVRKak1DMHlMakl4TFM0NU1TMDBMakl0TWk0ek5pMDFMalkwVERJd0lEUjZJaTgrUEM5emRtYysiOwpFZGl0b3Iuc3luY1Byb2JsZW1JbWFnZT0iZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l5TkNJZ2FHVnBaMmgwUFNJeU5DSWdkbWxsZDBKdmVEMGlNQ0F3SURJMElESTBJajQ4Y0dGMGFDQmtQU0pOTXlBeE1tTXdJREl1TWpFdU9URWdOQzR5SURJdU16WWdOUzQyTkV3eklESXdhRFoyTFRac0xUSXVNalFnTWk0eU5FTTFMalk0SURFMUxqRTFJRFVnTVRNdU5qWWdOU0F4TW1Nd0xUSXVOakVnTVM0Mk55MDBMamd6SURRdE5TNDJOVlkwTGpJMlF6VXVOVFVnTlM0eE5TQXpJRGd1TWpjZ015QXhNbnB0T0NBMWFESjJMVEpvTFRKMk1ucE5NakVnTkdndE5uWTJiREl1TWpRdE1pNHlORU14T0M0ek1pQTRMamcxSURFNUlERXdMak0wSURFNUlERXlZekFnTWk0Mk1TMHhMalkzSURRdU9ETXROQ0ExTGpZMWRqSXVNRGxqTXk0ME5TMHVPRGtnTmkwMExqQXhJRFl0Tnk0M05DQXdMVEl1TWpFdExqa3hMVFF1TWkweUxqTTJMVFV1TmpSTU1qRWdOSHB0TFRFd0lEbG9NbFkzYUMweWRqWjZJaTgrUEM5emRtYysiOwpFZGl0b3IudHdlZXRJbWFnZT1JTUFHRV9QQVRIKyIvdHdlZXQucG5nIjtFZGl0b3IuZmFjZWJvb2tJbWFnZT1JTUFHRV9QQVRIKyIvZmFjZWJvb2sucG5nIjtFZGl0b3IuYmxhbmtJbWFnZT0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBRUFBQUFCQ0FZQUFBQWZGY1NKQUFBQUNrbEVRVlI0bkdNQUFRQUFCUUFCRFFvdHRBQUFBQUJKUlU1RXJrSmdnZz09IjtFZGl0b3IuaGlSZXNJbWFnZT1teENsaWVudC5JU19TVkc/ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRkFBQUFBK0NBTUFBQUNMTVd5MUFBQUFoMUJNVkVVQUFBQk1URXhFUkVSQlFVRkJRVUZGUlVWQVFFQkNRa0pBUUVBNk9qcERRME5LU2twQlFVRkJRVUZFUkVSRVJFUkJRVUZDUWtKQ1FrSkNRa0pKU1VsQlFVRkNRa0pEUTBORFEwTkNRa0pEUTBOQlFVRkJRVUZDUWtKQlFVRkNRa0pDUWtKRFEwTkNRa0pIUjBkQlFVRkNRa0pDUWtKQVFFQkNRa0pEUTBOQVFFQkVSRVJDUWtJazFoUzJBQUFBS25SU1RsTUFBamo5NkJMN1BnUUZSd2Z1M1RZYXpLdVZqUlhsMVYxRFBDbjF1TEdqbldOVklneTloVTQwZUdxUGtNMzhBQUFDRzBsRVFWUll3KzJYNjNLYk1CQ0Z6d1pibGdHRGNlTjc0bXVhdHBMZS8vbTZNSFYzZ0hHRkF2MlJqTTk0TUFieHpkblZzUWJCREt3SDhBSDhNREF5YWZ6anFZZXlPRzA0WEU3UlM4bklSRFhnNkJsVCtyQTBubXRBUGgrTlFSRHhJQVNJTUc0NHJBTXJHdW5CZ0h3eTN1VWxkeGdnSVN0R0twMmYrRFFjMk80aDRlUXNYM08ySUZCL29FYnNqT0tiU3RuakFFQSt6SjB5bFpUYmd2b0RuOHhOeW42RGJqNUtkNEdzTnBBQmE2ZHVRUGZTZEVqODhUZ01BaEt1Q1dqQWtnbUZYUExuc0QwcFdkM09GR2RyTXVnUUlJL2VPTVBFaUdPenFQTUllV3JjU29NQ2c3MVcxcFhCUHZDUCtnUy9PZFhxUTN1VzIzKzkzWEdXTGwvT2FCYjgwNWJOY0JQb0VJY1ZKc25IemN4cFpIODZ1NUtaOWdEYnk1ZFFDY25LcWRia2U0SXRJNFR6ZDdJVzloWlF0NEVPNkdHOWI5c1l1dUs5V3duOFRJcjJ4S2JGMiszTmhyK3F4Q2hKL0FJNnBJZkN1NHo0Wm93cDRaVU5paHo3OXZld3pjdG5IRHdUdlFPL2hDZEZCenJVR0RPUG4yWS9GOFlLVDRvT0FUTHZsaE96bnptQlNkRkJKV3RjNTh5N3IrVVZGT0NRY3p5M3dwTjZwZWdEcUh0c0NQVEd2SDlKdVRPMER5ZzhpY2xkWVBrK1JCNmc4QW9majRtMkVLQnZ0VG1VUEQ5eERkMXBQY1NSZVYyVTVpRC9pazJ5cm5ndHZ2cUJmUHpPdktpRFRLVHNDZG9IWko3cExMZmZnVHdsSjV2SmR0SlYyL2ppQVlhTHZMR2hNQUVETzVRY0RnMk0vak93LzhabitLM1p3SnZIVDdaZmZnQy9OdkEzemN5YlRlSWZFNEVBQUFBQVNVVk9SSzVDWUlJPSI6CklNQUdFX1BBVEgrIi9pbWctaGktcmVzLnBuZyI7RWRpdG9yLmxvUmVzSW1hZ2U9bXhDbGllbnQuSVNfU1ZHPyJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUZBQUFBQStDQU1BQUFDTE1XeTFBQUFBUzFCTVZFVkFRRUFBQUFBMU5UVkJRVUZEUTBORFEwTkZSVVZFUkVSQlFVRkJRVUZCUVVGQVFFQkJRVUZCUVVGQ1FrSkNRa0pDUWtKQlFVRkNRa0pEUTBORFEwTkNRa0pDUWtKQ1FrSkdSa2I1L1hxVEFBQUFHWFJTVGxQK0FBV09EbEFTQ3Nlc1grTGMyTHlXZTNwd2ExdENQam9oalNKZm9BQUFBSTFKUkVGVVdNUHQxTWtLaFRBTVJ1RzBhbnZuZVhyL0o3MW5VeXBLY2RxSS9OOHloTE1LTVpFMUNhaG5DbERRek1QQjQ0RUQzRWdlQ3ViZ0RXbldRTUhwd1R0S3dUZStVSEQ0c0o5NHdiVUVISEZHaElMbFlEZVNuc1FlYWJlQ2dzUEJnQjBNT1paOW9HQTVHSkZpSlNmVVVMQWZqTGpBUnJoQ3dYN3doMllDRHdWYndaa1VCS3FGRkpSTit3T2N3U2dSMnNSRWNnQUFBQUJKUlU1RXJrSmdnZz09IjoKSU1BR0VfUEFUSCsiL2ltZy1sby1yZXMucG5nIjtFZGl0b3IuY2FtZXJhTGFyZ2VJbWFnZT0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFnQ0FZQUFBQnplbnIwQUFBQUFYTlNSMElBcnM0YzZRQUFBQWx3U0ZsekFBQUxFd0FBQ3hNQkFKcWNHQUFBQVZscFZGaDBXRTFNT21OdmJTNWhaRzlpWlM1NGJYQUFBQUFBQUR4NE9uaHRjRzFsZEdFZ2VHMXNibk02ZUQwaVlXUnZZbVU2Ym5NNmJXVjBZUzhpSUhnNmVHMXdkR3M5SWxoTlVDQkRiM0psSURVdU5DNHdJajRLSUNBZ1BISmtaanBTUkVZZ2VHMXNibk02Y21SbVBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHhPVGs1THpBeUx6SXlMWEprWmkxemVXNTBZWGd0Ym5NaklqNEtJQ0FnSUNBZ1BISmtaanBFWlhOamNtbHdkR2x2YmlCeVpHWTZZV0p2ZFhROUlpSUtJQ0FnSUNBZ0lDQWdJQ0FnZUcxc2JuTTZkR2xtWmowaWFIUjBjRG92TDI1ekxtRmtiMkpsTG1OdmJTOTBhV1ptTHpFdU1DOGlQZ29nSUNBZ0lDQWdJQ0E4ZEdsbVpqcFBjbWxsYm5SaGRHbHZiajR4UEM5MGFXWm1Pazl5YVdWdWRHRjBhVzl1UGdvZ0lDQWdJQ0E4TDNKa1pqcEVaWE5qY21sd2RHbHZiajRLSUNBZ1BDOXlaR1k2VWtSR1BnbzhMM2c2ZUcxd2JXVjBZVDRLVE1JbldRQUFBL0JKUkVGVVdBbkZsMHVJaldFWXg4ODVidVBTdUd3bVNZd3R3c1kxaWtLU05ZTmNsbVFuYWRnclpTUGxzbkJMU2xhR0JkTllLWTBWZGk0TDR6WXpJcXhHeG1YRy8vZCs3Ly8wK3VZN25XTWlULzIvNTNtZiszdjd2bk5LcGY5TTVVYnJEdzhQajRtK3d6bWVUMUZCVVM2WGYrWU5veDZyZU1PTnVraWpNWFVUTTNObUk3NVB5WGNKUHdSV2c1a1M3eHlzRExObWZFVXhweDJyY2VORTUwSWxZanlSa2xjTGYwcHJZK3g0QlRxZm14M1pVSFFhTzlJU0duZ1lxMzhWLzFFSCtFQ1BhK1FhSzF1MWtWQlFpckRNQ2hpUzNDVGVJa3dXdmdodHdoS0JwWjhnMUNPMkI5OUZ5blZVL0tvd1NSZ1EzbWxyQnNWWjFhd21RbFMwU0diZlhnbGZCUGJkUkdNbTVPOFJYZzJQODM1cERDdnpXamdoVEhFVGNMcFpMSHdTOGtUQ3RCRUsxU044M0VnYW04WXh5VlpxYytEbzVxa3dTK2dUOWdyTndrVUJHNmNic0cvZ3MzQlR1Qy8wQ2hDeHE0UXR3Z3pCTWR3VVpCUHlONEZ0Zmk0c1lQWkhrdGJPU1JsSXV1dFJQNWpZajB1ZVpwODh4eVljUy96Wm9pTHlRVDFJQS9jVGo3ZVNsd25yaEkrSm5rUWJDd28yU3gvMk03Vkp0MTd3ZGhWdGd4dnJwb0ZuQXVTQWJKUTk3YmlaQWxLeEJmRDl3Z09oVitCZ0lSL0FadEo0a3dENVBHU2o3T21tZWtqV0V5MG9BUUhBUzMrS3BCcHpYcVlLM1VJdG9wSHBTUk1ubzJOK2NtN2dEWW5mUkNjcjNRQnFyaU1ITEpEa2V5aEZmaUc1YVZiSys4cmh0UDlNNlFjSUVKSFg1RnA5Tk1BeVFsWWl1K09PSk5sT0RDSVh5a2EvUDIzYm5jVGRpQzdPeWRDMSt2MUJzYis1cjg0REs4UzNSZG1mNWNSVUZXM2JYdFdVU3QxUmRrNkc0U3lKVjJvMVlJZCt2TlV4cit4NXlDSmlhcEZ0Y3hRekxqcnhib0djTXh2Rkp3RU9Lbkx3aklia3gvc2RTbWVTYVVZKytTd1RBeFYrNERKVDdSVndrYms0NmdOQ3NpZklJdHV5MGU5UEYzM0NiNGhvbWhONVlSeXpMNXE1VjJWTmt2OThrcWdvR1RvM1lGOUNuTU01WTVySXRGZnZCU2k5SnVsVlhPZ0krVndJbnRrdCtTYVo2d2VRZmNvdkpmN3pwVGZsODZQL3dBRjdGejE4TmVLd212QVdDYVgwWi91TUhRcjQyWnh2Ui9SeGN3NXhNKzlKL0NKcTh3MmdkdURobURnc28vUXJCSDQ3ZEVYUTFJcWN6eUhwSU9mSVJ0blR0VjdTd08xb0tYS2tVM2ZiVG9GR1NESHRNV2NhSDFXQnVWWW5EYlJGaTk5aXFTTXlTZHp4WGNrcmF6VWgyM0tCVllHSWNmTkJrVHhjYTBlNEFUSjBLdWtHWVZCZ3IvTW5saFBPdFFxL2tzVWZDYnpoK0VGQ2p0bkNVb0hmamhBL09zaVR2MkhjRXZKTUVMcDBWYWtaRGxpVG1yaVRkUGl2eFU0Vm1FaHRQckdWK0tKaE83Wkt0MGRvRlpoMWZnWlNCV0lXMkFHRUh3ZzNCVVdPbkt0SCtzdXFkdzA3dFlNZmdsQ3JXUEQ1bXc5cVZZdW5pYVhrVDBPdFdhU3VvNUxKVFkxUkJmK3JvRjlYNSt5LzVxVStEQUFBQUFCSlJVNUVya0pnZ2c9PSI7CkVkaXRvci5zdmdCcm9rZW5JbWFnZT1HcmFwaC5jcmVhdGVTdmdJbWFnZSgxMCwxMCwnPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEwIiBoZWlnaHQ9IjEwIiBzdHJva2U9IiMwMDAiIGZpbGw9InRyYW5zcGFyZW50Ii8+PHBhdGggZD0ibSAwIDAgTCAxMCAxMCBMIDAgMTAgTCAxMCAwIiBzdHJva2U9IiMwMDAiIGZpbGw9InRyYW5zcGFyZW50Ii8+Jyk7RWRpdG9yLmRlZmF1bHRDdXN0b21MaWJyYXJpZXM9W107RWRpdG9yLmVuYWJsZUN1c3RvbUxpYnJhcmllcz0hMDtFZGl0b3IuZW5hYmxlQ3VzdG9tUHJvcGVydGllcz0hMDtFZGl0b3IuY29tcHJlc3NYbWw9ITA7RWRpdG9yLmdsb2JhbFZhcnM9bnVsbDtFZGl0b3Iuc2hhZG93T3B0aW9uRW5hYmxlZD0hbXhDbGllbnQuSVNfU0Y7RWRpdG9yLmNvbmZpZz1udWxsO0VkaXRvci5jb25maWdWZXJzaW9uPW51bGw7RWRpdG9yLmNvbW1vblByb3BlcnRpZXM9W3tuYW1lOiJqaWdnbGUiLGRpc3BOYW1lOiJKaWdnbGUiLHR5cGU6ImZsb2F0IiwKbWluOjAsZGVmVmFsOjEsaXNWaXNpYmxlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIjEiPT1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsImNvbWljIiwiMCIpfHwiMSI9PW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSwic2tldGNoIiwiMSI9PXVybFBhcmFtcy5yb3VnaD8iMSI6IjAiKX19LHtuYW1lOiJmaWxsV2VpZ2h0IixkaXNwTmFtZToiRmlsbCBXZWlnaHQiLHR5cGU6ImludCIsZGVmVmFsOi0xLGlzVmlzaWJsZTpmdW5jdGlvbihhLGIpe3JldHVybiIxIj09bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLCJza2V0Y2giLCIxIj09dXJsUGFyYW1zLnJvdWdoPyIxIjoiMCIpfX0se25hbWU6ImhhY2h1cmVHYXAiLGRpc3BOYW1lOiJIYWNodXJlIEdhcCIsdHlwZToiaW50IixkZWZWYWw6LTEsaXNWaXNpYmxlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIjEiPT1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsInNrZXRjaCIsIjEiPT11cmxQYXJhbXMucm91Z2g/IjEiOiIwIil9fSx7bmFtZToiaGFjaHVyZUFuZ2xlIiwKZGlzcE5hbWU6IkhhY2h1cmUgQW5nbGUiLHR5cGU6ImludCIsZGVmVmFsOi00MSxpc1Zpc2libGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4iMSI9PW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSwic2tldGNoIiwiMSI9PXVybFBhcmFtcy5yb3VnaD8iMSI6IjAiKX19LHtuYW1lOiJjdXJ2ZUZpdHRpbmciLGRpc3BOYW1lOiJDdXJ2ZSBGaXR0aW5nIix0eXBlOiJmbG9hdCIsZGVmVmFsOi45NSxpc1Zpc2libGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4iMSI9PW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSwic2tldGNoIiwiMSI9PXVybFBhcmFtcy5yb3VnaD8iMSI6IjAiKX19LHtuYW1lOiJzaW1wbGlmaWNhdGlvbiIsZGlzcE5hbWU6IlNpbXBsaWZpY2F0aW9uIix0eXBlOiJmbG9hdCIsZGVmVmFsOjAsbWluOjAsbWF4OjEsaXNWaXNpYmxlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIjEiPT1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsInNrZXRjaCIsIjEiPT11cmxQYXJhbXMucm91Z2g/IjEiOiIwIil9fSwKe25hbWU6ImRpc2FibGVNdWx0aVN0cm9rZSIsZGlzcE5hbWU6IkRpc2FibGUgTXVsdGkgU3Ryb2tlIix0eXBlOiJib29sIixkZWZWYWw6ITEsaXNWaXNpYmxlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIjEiPT1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsInNrZXRjaCIsIjEiPT11cmxQYXJhbXMucm91Z2g/IjEiOiIwIil9fSx7bmFtZToiZGlzYWJsZU11bHRpU3Ryb2tlRmlsbCIsZGlzcE5hbWU6IkRpc2FibGUgTXVsdGkgU3Ryb2tlIEZpbGwiLHR5cGU6ImJvb2wiLGRlZlZhbDohMSxpc1Zpc2libGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4iMSI9PW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSwic2tldGNoIiwiMSI9PXVybFBhcmFtcy5yb3VnaD8iMSI6IjAiKX19LHtuYW1lOiJkYXNoT2Zmc2V0IixkaXNwTmFtZToiRGFzaCBPZmZzZXQiLHR5cGU6ImludCIsZGVmVmFsOi0xLGlzVmlzaWJsZTpmdW5jdGlvbihhLGIpe3JldHVybiIxIj09bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLCJza2V0Y2giLAoiMSI9PXVybFBhcmFtcy5yb3VnaD8iMSI6IjAiKX19LHtuYW1lOiJkYXNoR2FwIixkaXNwTmFtZToiRGFzaCBHYXAiLHR5cGU6ImludCIsZGVmVmFsOi0xLGlzVmlzaWJsZTpmdW5jdGlvbihhLGIpe3JldHVybiIxIj09bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLCJza2V0Y2giLCIxIj09dXJsUGFyYW1zLnJvdWdoPyIxIjoiMCIpfX0se25hbWU6InppZ3phZ09mZnNldCIsZGlzcE5hbWU6IlppZ1phZyBPZmZzZXQiLHR5cGU6ImludCIsZGVmVmFsOi0xLGlzVmlzaWJsZTpmdW5jdGlvbihhLGIpe3JldHVybiIxIj09bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLCJza2V0Y2giLCIxIj09dXJsUGFyYW1zLnJvdWdoPyIxIjoiMCIpfX0se25hbWU6ImppZ2dsZSIsZGlzcE5hbWU6IkppZ2dsZSIsdHlwZToiZmxvYXQiLG1pbjowLGRlZlZhbDoxLGlzVmlzaWJsZTpmdW5jdGlvbihhLGIpe3JldHVybiIxIj09bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLCJjb21pYyIsIjAiKXx8IjEiPT1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsCiJza2V0Y2giLCIxIj09dXJsUGFyYW1zLnJvdWdoPyIxIjoiMCIpfX0se25hbWU6InNrZXRjaFN0eWxlIixkaXNwTmFtZToiU2tldGNoIFN0eWxlIix0eXBlOiJlbnVtIixkZWZWYWw6InJvdWdoIixlbnVtTGlzdDpbe3ZhbDoicm91Z2giLGRpc3BOYW1lOiJSb3VnaCJ9LHt2YWw6ImNvbWljIixkaXNwTmFtZToiQ29taWMifV0saXNWaXNpYmxlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIjEiPT1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsInNrZXRjaCIsIjEiPT11cmxQYXJhbXMucm91Z2g/IjEiOiIwIil9fSx7bmFtZToiY29taWMiLGRpc3BOYW1lOiJDb21pYyIsdHlwZToiYm9vbCIsZGVmVmFsOiExfV07RWRpdG9yLmNvbW1vbkVkZ2VQcm9wZXJ0aWVzPVt7dHlwZToic2VwYXJhdG9yIn0se25hbWU6ImFyY1NpemUiLGRpc3BOYW1lOiJBcmMgU2l6ZSIsdHlwZToiZmxvYXQiLG1pbjowLGRlZlZhbDpteENvbnN0YW50cy5MSU5FX0FSQ1NJWkV9LHtuYW1lOiJzb3VyY2VQb3J0Q29uc3RyYWludCIsCmRpc3BOYW1lOiJTb3VyY2UgQ29uc3RyYWludCIsdHlwZToiZW51bSIsZGVmVmFsOiJub25lIixlbnVtTGlzdDpbe3ZhbDoibm9uZSIsZGlzcE5hbWU6Ik5vbmUifSx7dmFsOiJub3J0aCIsZGlzcE5hbWU6Ik5vcnRoIn0se3ZhbDoiZWFzdCIsZGlzcE5hbWU6IkVhc3QifSx7dmFsOiJzb3V0aCIsZGlzcE5hbWU6IlNvdXRoIn0se3ZhbDoid2VzdCIsZGlzcE5hbWU6Ildlc3QifV19LHtuYW1lOiJ0YXJnZXRQb3J0Q29uc3RyYWludCIsZGlzcE5hbWU6IlRhcmdldCBDb25zdHJhaW50Iix0eXBlOiJlbnVtIixkZWZWYWw6Im5vbmUiLGVudW1MaXN0Olt7dmFsOiJub25lIixkaXNwTmFtZToiTm9uZSJ9LHt2YWw6Im5vcnRoIixkaXNwTmFtZToiTm9ydGgifSx7dmFsOiJlYXN0IixkaXNwTmFtZToiRWFzdCJ9LHt2YWw6InNvdXRoIixkaXNwTmFtZToiU291dGgifSx7dmFsOiJ3ZXN0IixkaXNwTmFtZToiV2VzdCJ9XX0se25hbWU6ImpldHR5U2l6ZSIsZGlzcE5hbWU6IkpldHR5IFNpemUiLAp0eXBlOiJpbnQiLG1pbjowLGRlZlZhbDoiYXV0byIsYWxsb3dBdXRvOiEwLGlzVmlzaWJsZTpmdW5jdGlvbihhKXtyZXR1cm4ib3J0aG9nb25hbEVkZ2VTdHlsZSI9PW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9FREdFLG51bGwpfX0se25hbWU6ImZpbGxPcGFjaXR5IixkaXNwTmFtZToiRmlsbCBPcGFjaXR5Iix0eXBlOiJpbnQiLG1pbjowLG1heDoxMDAsZGVmVmFsOjEwMH0se25hbWU6InN0cm9rZU9wYWNpdHkiLGRpc3BOYW1lOiJTdHJva2UgT3BhY2l0eSIsdHlwZToiaW50IixtaW46MCxtYXg6MTAwLGRlZlZhbDoxMDB9LHtuYW1lOiJzdGFydEZpbGwiLGRpc3BOYW1lOiJTdGFydCBGaWxsIix0eXBlOiJib29sIixkZWZWYWw6ITB9LHtuYW1lOiJlbmRGaWxsIixkaXNwTmFtZToiRW5kIEZpbGwiLHR5cGU6ImJvb2wiLGRlZlZhbDohMH0se25hbWU6InBlcmltZXRlclNwYWNpbmciLGRpc3BOYW1lOiJUZXJtaW5hbCBTcGFjaW5nIix0eXBlOiJmbG9hdCIsCmRlZlZhbDowfSx7bmFtZToiYW5jaG9yUG9pbnREaXJlY3Rpb24iLGRpc3BOYW1lOiJBbmNob3IgRGlyZWN0aW9uIix0eXBlOiJib29sIixkZWZWYWw6ITB9LHtuYW1lOiJzbmFwVG9Qb2ludCIsZGlzcE5hbWU6IlNuYXAgdG8gUG9pbnQiLHR5cGU6ImJvb2wiLGRlZlZhbDohMX0se25hbWU6ImZpeERhc2giLGRpc3BOYW1lOiJGaXhlZCBEYXNoIix0eXBlOiJib29sIixkZWZWYWw6ITF9LHtuYW1lOiJlZGl0YWJsZSIsZGlzcE5hbWU6IkVkaXRhYmxlIix0eXBlOiJib29sIixkZWZWYWw6ITB9LHtuYW1lOiJiYWNrZ3JvdW5kT3V0bGluZSIsZGlzcE5hbWU6IkJhY2tncm91bmQgT3V0bGluZSIsdHlwZToiYm9vbCIsZGVmVmFsOiExfSx7bmFtZToiYmVuZGFibGUiLGRpc3BOYW1lOiJCZW5kYWJsZSIsdHlwZToiYm9vbCIsZGVmVmFsOiEwfSx7bmFtZToibW92YWJsZSIsZGlzcE5hbWU6Ik1vdmFibGUiLHR5cGU6ImJvb2wiLGRlZlZhbDohMH0se25hbWU6ImNsb25lYWJsZSIsZGlzcE5hbWU6IkNsb25lYWJsZSIsCnR5cGU6ImJvb2wiLGRlZlZhbDohMH0se25hbWU6ImRlbGV0YWJsZSIsZGlzcE5hbWU6IkRlbGV0YWJsZSIsdHlwZToiYm9vbCIsZGVmVmFsOiEwfSx7bmFtZToib3J0aG9nb25hbExvb3AiLGRpc3BOYW1lOiJMb29wIFJvdXRpbmciLHR5cGU6ImJvb2wiLGRlZlZhbDohMX0se25hbWU6Im5vSnVtcCIsZGlzcE5hbWU6Ik5vIEp1bXBzIix0eXBlOiJib29sIixkZWZWYWw6ITF9XS5jb25jYXQoRWRpdG9yLmNvbW1vblByb3BlcnRpZXMpO0VkaXRvci5jb21tb25WZXJ0ZXhQcm9wZXJ0aWVzPVt7dHlwZToic2VwYXJhdG9yIn0se25hbWU6InJlc2l6ZUxhc3RSb3ciLGRpc3BOYW1lOiJSZXNpemUgTGFzdCBSb3ciLHR5cGU6ImJvb2wiLGdldERlZmF1bHRWYWx1ZTpmdW5jdGlvbihhLGIpe3ZhciBlPWIuZWRpdG9yVWkuZWRpdG9yLmdyYXBoLmdldENlbGxTdHlsZSgxPT1hLnZlcnRpY2VzLmxlbmd0aCYmMD09YS5lZGdlcy5sZW5ndGg/YS52ZXJ0aWNlc1swXTpudWxsKTtyZXR1cm4iMSI9PQpteFV0aWxzLmdldFZhbHVlKGUsInJlc2l6ZUxhc3RSb3ciLCIwIil9LGlzVmlzaWJsZTpmdW5jdGlvbihhLGIpe3ZhciBlPWIuZWRpdG9yVWkuZWRpdG9yLmdyYXBoO3JldHVybiAxPT1hLnZlcnRpY2VzLmxlbmd0aCYmMD09YS5lZGdlcy5sZW5ndGgmJmUuaXNUYWJsZShhLnZlcnRpY2VzWzBdKX19LHtuYW1lOiJyZXNpemVMYXN0IixkaXNwTmFtZToiUmVzaXplIExhc3QgQ29sdW1uIix0eXBlOiJib29sIixnZXREZWZhdWx0VmFsdWU6ZnVuY3Rpb24oYSxiKXt2YXIgZT1iLmVkaXRvclVpLmVkaXRvci5ncmFwaC5nZXRDZWxsU3R5bGUoMT09YS52ZXJ0aWNlcy5sZW5ndGgmJjA9PWEuZWRnZXMubGVuZ3RoP2EudmVydGljZXNbMF06bnVsbCk7cmV0dXJuIjEiPT1teFV0aWxzLmdldFZhbHVlKGUsInJlc2l6ZUxhc3QiLCIwIil9LGlzVmlzaWJsZTpmdW5jdGlvbihhLGIpe3ZhciBlPWIuZWRpdG9yVWkuZWRpdG9yLmdyYXBoO3JldHVybiAxPT1hLnZlcnRpY2VzLmxlbmd0aCYmMD09YS5lZGdlcy5sZW5ndGgmJgplLmlzVGFibGUoYS52ZXJ0aWNlc1swXSl9fSx7bmFtZToiZmlsbE9wYWNpdHkiLGRpc3BOYW1lOiJGaWxsIE9wYWNpdHkiLHR5cGU6ImludCIsbWluOjAsbWF4OjEwMCxkZWZWYWw6MTAwfSx7bmFtZToic3Ryb2tlT3BhY2l0eSIsZGlzcE5hbWU6IlN0cm9rZSBPcGFjaXR5Iix0eXBlOiJpbnQiLG1pbjowLG1heDoxMDAsZGVmVmFsOjEwMH0se25hbWU6Im92ZXJmbG93IixkaXNwTmFtZToiVGV4dCBPdmVyZmxvdyIsZGVmVmFsOiJ2aXNpYmxlIix0eXBlOiJlbnVtIixlbnVtTGlzdDpbe3ZhbDoidmlzaWJsZSIsZGlzcE5hbWU6IlZpc2libGUifSx7dmFsOiJoaWRkZW4iLGRpc3BOYW1lOiJIaWRkZW4ifSx7dmFsOiJmaWxsIixkaXNwTmFtZToiRmlsbCJ9LHt2YWw6IndpZHRoIixkaXNwTmFtZToiV2lkdGgifV19LHtuYW1lOiJub0xhYmVsIixkaXNwTmFtZToiSGlkZSBMYWJlbCIsdHlwZToiYm9vbCIsZGVmVmFsOiExfSx7bmFtZToibGFiZWxQYWRkaW5nIixkaXNwTmFtZToiTGFiZWwgUGFkZGluZyIsCnR5cGU6ImZsb2F0IixkZWZWYWw6MH0se25hbWU6ImRpcmVjdGlvbiIsZGlzcE5hbWU6IkRpcmVjdGlvbiIsdHlwZToiZW51bSIsZGVmVmFsOiJlYXN0IixlbnVtTGlzdDpbe3ZhbDoibm9ydGgiLGRpc3BOYW1lOiJOb3J0aCJ9LHt2YWw6ImVhc3QiLGRpc3BOYW1lOiJFYXN0In0se3ZhbDoic291dGgiLGRpc3BOYW1lOiJTb3V0aCJ9LHt2YWw6Indlc3QiLGRpc3BOYW1lOiJXZXN0In1dfSx7bmFtZToicG9ydENvbnN0cmFpbnQiLGRpc3BOYW1lOiJDb25zdHJhaW50Iix0eXBlOiJlbnVtIixkZWZWYWw6Im5vbmUiLGVudW1MaXN0Olt7dmFsOiJub25lIixkaXNwTmFtZToiTm9uZSJ9LHt2YWw6Im5vcnRoIixkaXNwTmFtZToiTm9ydGgifSx7dmFsOiJlYXN0IixkaXNwTmFtZToiRWFzdCJ9LHt2YWw6InNvdXRoIixkaXNwTmFtZToiU291dGgifSx7dmFsOiJ3ZXN0IixkaXNwTmFtZToiV2VzdCJ9XX0se25hbWU6InBvcnRDb25zdHJhaW50Um90YXRpb24iLGRpc3BOYW1lOiJSb3RhdGUgQ29uc3RyYWludCIsCnR5cGU6ImJvb2wiLGRlZlZhbDohMX0se25hbWU6ImNvbm5lY3RhYmxlIixkaXNwTmFtZToiQ29ubmVjdGFibGUiLHR5cGU6ImJvb2wiLGdldERlZmF1bHRWYWx1ZTpmdW5jdGlvbihhLGIpe3JldHVybiBiLmVkaXRvclVpLmVkaXRvci5ncmFwaC5pc0NlbGxDb25uZWN0YWJsZSgxPT1hLnZlcnRpY2VzLmxlbmd0aCYmMD09YS5lZGdlcy5sZW5ndGg/YS52ZXJ0aWNlc1swXTpudWxsKX0saXNWaXNpYmxlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIDE9PWEudmVydGljZXMubGVuZ3RoJiYwPT1hLmVkZ2VzLmxlbmd0aH19LHtuYW1lOiJhbGxvd0Fycm93cyIsZGlzcE5hbWU6IkFsbG93IEFycm93cyIsdHlwZToiYm9vbCIsZGVmVmFsOiEwfSx7bmFtZToic25hcFRvUG9pbnQiLGRpc3BOYW1lOiJTbmFwIHRvIFBvaW50Iix0eXBlOiJib29sIixkZWZWYWw6ITF9LHtuYW1lOiJwZXJpbWV0ZXIiLGRpc3BOYW1lOiJQZXJpbWV0ZXIiLGRlZlZhbDoibm9uZSIsdHlwZToiZW51bSIsZW51bUxpc3Q6W3t2YWw6Im5vbmUiLApkaXNwTmFtZToiTm9uZSJ9LHt2YWw6InJlY3RhbmdsZVBlcmltZXRlciIsZGlzcE5hbWU6IlJlY3RhbmdsZSJ9LHt2YWw6ImVsbGlwc2VQZXJpbWV0ZXIiLGRpc3BOYW1lOiJFbGxpcHNlIn0se3ZhbDoicmhvbWJ1c1BlcmltZXRlciIsZGlzcE5hbWU6IlJob21idXMifSx7dmFsOiJ0cmlhbmdsZVBlcmltZXRlciIsZGlzcE5hbWU6IlRyaWFuZ2xlIn0se3ZhbDoiaGV4YWdvblBlcmltZXRlcjIiLGRpc3BOYW1lOiJIZXhhZ29uIn0se3ZhbDoibGlmZWxpbmVQZXJpbWV0ZXIiLGRpc3BOYW1lOiJMaWZlbGluZSJ9LHt2YWw6Im9ydGhvZ29uYWxQZXJpbWV0ZXIiLGRpc3BOYW1lOiJPcnRob2dvbmFsIn0se3ZhbDoiYmFja2JvbmVQZXJpbWV0ZXIiLGRpc3BOYW1lOiJCYWNrYm9uZSJ9LHt2YWw6ImNhbGxvdXRQZXJpbWV0ZXIiLGRpc3BOYW1lOiJDYWxsb3V0In0se3ZhbDoicGFyYWxsZWxvZ3JhbVBlcmltZXRlciIsZGlzcE5hbWU6IlBhcmFsbGVsb2dyYW0ifSx7dmFsOiJ0cmFwZXpvaWRQZXJpbWV0ZXIiLApkaXNwTmFtZToiVHJhcGV6b2lkIn0se3ZhbDoic3RlcFBlcmltZXRlciIsZGlzcE5hbWU6IlN0ZXAifV19LHtuYW1lOiJmaXhEYXNoIixkaXNwTmFtZToiRml4ZWQgRGFzaCIsdHlwZToiYm9vbCIsZGVmVmFsOiExfSx7bmFtZToiYXV0b3NpemUiLGRpc3BOYW1lOiJBdXRvc2l6ZSIsdHlwZToiYm9vbCIsZGVmVmFsOiExfSx7bmFtZToiY29udGFpbmVyIixkaXNwTmFtZToiQ29udGFpbmVyIix0eXBlOiJib29sIixkZWZWYWw6ITEsaXNWaXNpYmxlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIDE9PWEudmVydGljZXMubGVuZ3RoJiYwPT1hLmVkZ2VzLmxlbmd0aH19LHtuYW1lOiJkcm9wVGFyZ2V0IixkaXNwTmFtZToiRHJvcCBUYXJnZXQiLHR5cGU6ImJvb2wiLGdldERlZmF1bHRWYWx1ZTpmdW5jdGlvbihhLGIpe3ZhciBlPTE9PWEudmVydGljZXMubGVuZ3RoJiYwPT1hLmVkZ2VzLmxlbmd0aD9hLnZlcnRpY2VzWzBdOm51bGwsYz1iLmVkaXRvclVpLmVkaXRvci5ncmFwaDtyZXR1cm4gbnVsbCE9CmUmJihjLmlzU3dpbWxhbmUoZSl8fDA8Yy5tb2RlbC5nZXRDaGlsZENvdW50KGUpKX0saXNWaXNpYmxlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIDE9PWEudmVydGljZXMubGVuZ3RoJiYwPT1hLmVkZ2VzLmxlbmd0aH19LHtuYW1lOiJjb2xsYXBzaWJsZSIsZGlzcE5hbWU6IkNvbGxhcHNpYmxlIix0eXBlOiJib29sIixnZXREZWZhdWx0VmFsdWU6ZnVuY3Rpb24oYSxiKXt2YXIgZT0xPT1hLnZlcnRpY2VzLmxlbmd0aCYmMD09YS5lZGdlcy5sZW5ndGg/YS52ZXJ0aWNlc1swXTpudWxsLGM9Yi5lZGl0b3JVaS5lZGl0b3IuZ3JhcGg7cmV0dXJuIG51bGwhPWUmJihjLmlzQ29udGFpbmVyKGUpJiYiMCIhPWEuc3R5bGUuY29sbGFwc2libGV8fCFjLmlzQ29udGFpbmVyKGUpJiYiMSI9PWEuc3R5bGUuY29sbGFwc2libGUpfSxpc1Zpc2libGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gMT09YS52ZXJ0aWNlcy5sZW5ndGgmJjA9PWEuZWRnZXMubGVuZ3RofX0se25hbWU6InJlY3Vyc2l2ZVJlc2l6ZSIsCmRpc3BOYW1lOiJSZXNpemUgQ2hpbGRyZW4iLHR5cGU6ImJvb2wiLGRlZlZhbDohMCxpc1Zpc2libGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gMT09YS52ZXJ0aWNlcy5sZW5ndGgmJjA9PWEuZWRnZXMubGVuZ3RoJiYhYi5lZGl0b3JVaS5lZGl0b3IuZ3JhcGguaXNTd2ltbGFuZShhLnZlcnRpY2VzWzBdKSYmbnVsbD09bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLCJjaGlsZExheW91dCIsbnVsbCl9fSx7bmFtZToiZXhwYW5kIixkaXNwTmFtZToiRXhwYW5kIix0eXBlOiJib29sIixkZWZWYWw6ITB9LHtuYW1lOiJwYXJ0IixkaXNwTmFtZToiUGFydCIsdHlwZToiYm9vbCIsZGVmVmFsOiExLGlzVmlzaWJsZTpmdW5jdGlvbihhLGIpe3ZhciBlPWIuZWRpdG9yVWkuZWRpdG9yLmdyYXBoLm1vZGVsO3JldHVybiAwPGEudmVydGljZXMubGVuZ3RoP2UuaXNWZXJ0ZXgoZS5nZXRQYXJlbnQoYS52ZXJ0aWNlc1swXSkpOiExfX0se25hbWU6ImVkaXRhYmxlIixkaXNwTmFtZToiRWRpdGFibGUiLAp0eXBlOiJib29sIixkZWZWYWw6ITB9LHtuYW1lOiJiYWNrZ3JvdW5kT3V0bGluZSIsZGlzcE5hbWU6IkJhY2tncm91bmQgT3V0bGluZSIsdHlwZToiYm9vbCIsZGVmVmFsOiExfSx7bmFtZToibW92YWJsZSIsZGlzcE5hbWU6Ik1vdmFibGUiLHR5cGU6ImJvb2wiLGRlZlZhbDohMH0se25hbWU6Im1vdmFibGVMYWJlbCIsZGlzcE5hbWU6Ik1vdmFibGUgTGFiZWwiLHR5cGU6ImJvb2wiLGRlZlZhbDohMSxpc1Zpc2libGU6ZnVuY3Rpb24oYSxiKXt2YXIgZT0wPGEudmVydGljZXMubGVuZ3RoP2IuZWRpdG9yVWkuZWRpdG9yLmdyYXBoLmdldENlbGxHZW9tZXRyeShhLnZlcnRpY2VzWzBdKTpudWxsO3JldHVybiBudWxsIT1lJiYhZS5yZWxhdGl2ZX19LHtuYW1lOiJyZXNpemFibGUiLGRpc3BOYW1lOiJSZXNpemFibGUiLHR5cGU6ImJvb2wiLGRlZlZhbDohMH0se25hbWU6InJlc2l6ZVdpZHRoIixkaXNwTmFtZToiUmVzaXplIFdpZHRoIix0eXBlOiJib29sIixkZWZWYWw6ITF9LHtuYW1lOiJyZXNpemVIZWlnaHQiLApkaXNwTmFtZToiUmVzaXplIEhlaWdodCIsdHlwZToiYm9vbCIsZGVmVmFsOiExfSx7bmFtZToicm90YXRhYmxlIixkaXNwTmFtZToiUm90YXRhYmxlIix0eXBlOiJib29sIixkZWZWYWw6ITB9LHtuYW1lOiJjbG9uZWFibGUiLGRpc3BOYW1lOiJDbG9uZWFibGUiLHR5cGU6ImJvb2wiLGRlZlZhbDohMH0se25hbWU6ImRlbGV0YWJsZSIsZGlzcE5hbWU6IkRlbGV0YWJsZSIsdHlwZToiYm9vbCIsZGVmVmFsOiEwfSx7bmFtZToidHJlZUZvbGRpbmciLGRpc3BOYW1lOiJUcmVlIEZvbGRpbmciLHR5cGU6ImJvb2wiLGRlZlZhbDohMX0se25hbWU6InRyZWVNb3ZpbmciLGRpc3BOYW1lOiJUcmVlIE1vdmluZyIsdHlwZToiYm9vbCIsZGVmVmFsOiExfSx7bmFtZToicG9pbnRlckV2ZW50cyIsZGlzcE5hbWU6IlBvaW50ZXIgRXZlbnRzIix0eXBlOiJib29sIixkZWZWYWw6ITAsaXNWaXNpYmxlOmZ1bmN0aW9uKGEsYil7dmFyIGU9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0ZJTExDT0xPUiwKbnVsbCk7cmV0dXJuIGIuZWRpdG9yVWkuZWRpdG9yLmdyYXBoLmlzU3dpbWxhbmUoYS52ZXJ0aWNlc1swXSl8fG51bGw9PWV8fGU9PW14Q29uc3RhbnRzLk5PTkV9fSx7bmFtZToibW92ZUNlbGxzIixkaXNwTmFtZToiTW92ZSBDZWxscyBvbiBGb2xkIix0eXBlOiJib29sIixkZWZWYWw6ITEsaXNWaXNpYmxlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIDA8YS52ZXJ0aWNlcy5sZW5ndGgmJmIuZWRpdG9yVWkuZWRpdG9yLmdyYXBoLmlzQ29udGFpbmVyKGEudmVydGljZXNbMF0pfX1dLmNvbmNhdChFZGl0b3IuY29tbW9uUHJvcGVydGllcyk7RWRpdG9yLmRlZmF1bHRDc3ZWYWx1ZT0nIyNcbiMjIEV4YW1wbGUgQ1NWIGltcG9ydC4gVXNlICMjIGZvciBjb21tZW50cyBhbmQgIyBmb3IgY29uZmlndXJhdGlvbi4gUGFzdGUgQ1NWIGJlbG93LlxuIyMgVGhlIGZvbGxvd2luZyBuYW1lcyBhcmUgcmVzZXJ2ZWQgYW5kIHNob3VsZCBub3QgYmUgdXNlZCAob3IgaWdub3JlZCk6XG4jIyBpZCwgdG9vbHRpcCwgcGxhY2Vob2xkZXIocyksIGxpbmsgYW5kIGxhYmVsIChzZWUgYmVsb3cpXG4jI1xuI1xuIyMgTm9kZSBsYWJlbCB3aXRoIHBsYWNlaG9sZGVycyBhbmQgSFRNTC5cbiMjIERlZmF1bHQgaXMgXCclbmFtZV9vZl9maXJzdF9jb2x1bW4lXCcuXG4jXG4jIGxhYmVsOiAlbmFtZSU8YnI+PGkgc3R5bGU9ImNvbG9yOmdyYXk7Ij4lcG9zaXRpb24lPC9pPjxicj48YSBocmVmPSJtYWlsdG86JWVtYWlsJSI+RW1haWw8L2E+XG4jXG4jIyBOb2RlIHN0eWxlIChwbGFjZWhvbGRlcnMgYXJlIHJlcGxhY2VkIG9uY2UpLlxuIyMgRGVmYXVsdCBpcyB0aGUgY3VycmVudCBzdHlsZSBmb3Igbm9kZXMuXG4jXG4jIHN0eWxlOiBsYWJlbDtpbWFnZT0laW1hZ2UlO3doaXRlU3BhY2U9d3JhcDtodG1sPTE7cm91bmRlZD0xO2ZpbGxDb2xvcj0lZmlsbCU7c3Ryb2tlQ29sb3I9JXN0cm9rZSU7XG4jXG4jIyBQYXJlbnQgc3R5bGUgZm9yIG5vZGVzIHdpdGggY2hpbGQgbm9kZXMgKHBsYWNlaG9sZGVycyBhcmUgcmVwbGFjZWQgb25jZSkuXG4jXG4jIHBhcmVudHN0eWxlOiBzd2ltbGFuZTt3aGl0ZVNwYWNlPXdyYXA7aHRtbD0xO2NoaWxkTGF5b3V0PXN0YWNrTGF5b3V0O2hvcml6b250YWw9MTtob3Jpem9udGFsU3RhY2s9MDtyZXNpemVQYXJlbnQ9MTtyZXNpemVMYXN0PTA7Y29sbGFwc2libGU9MTtcbiNcbiMjIE9wdGlvbmFsIGNvbHVtbiBuYW1lIHRoYXQgY29udGFpbnMgYSByZWZlcmVuY2UgdG8gYSBuYW1lZCBzdHlsZSBpbiBzdHlsZXMuXG4jIyBEZWZhdWx0IGlzIHRoZSBjdXJyZW50IHN0eWxlIGZvciBub2Rlcy5cbiNcbiMgc3R5bGVuYW1lOiAtXG4jXG4jIyBKU09OIGZvciBuYW1lZCBzdHlsZXMgb2YgdGhlIGZvcm0geyJuYW1lIjogInN0eWxlIiwgIm5hbWUiOiAic3R5bGUifSB3aGVyZSBzdHlsZSBpcyBhIGNlbGwgc3R5bGUgd2l0aFxuIyMgcGxhY2Vob2xkZXJzIHRoYXQgYXJlIHJlcGxhY2VkIG9uY2UuXG4jXG4jIHN0eWxlczogLVxuI1xuIyMgT3B0aW9uYWwgY29sdW1uIG5hbWUgdGhhdCBjb250YWlucyBhIHJlZmVyZW5jZSB0byBhIG5hbWVkIGxhYmVsIGluIGxhYmVscy5cbiMjIERlZmF1bHQgaXMgdGhlIGN1cnJlbnQgbGFiZWwuXG4jXG4jIGxhYmVsbmFtZTogLVxuI1xuIyMgSlNPTiBmb3IgbmFtZWQgbGFiZWxzIG9mIHRoZSBmb3JtIHsibmFtZSI6ICJsYWJlbCIsICJuYW1lIjogImxhYmVsIn0gd2hlcmUgbGFiZWwgaXMgYSBjZWxsIGxhYmVsIHdpdGhcbiMjIHBsYWNlaG9sZGVycy5cbiNcbiMgbGFiZWxzOiAtXG4jXG4jIyBVc2VzIHRoZSBnaXZlbiBjb2x1bW4gbmFtZSBhcyB0aGUgaWRlbnRpdHkgZm9yIGNlbGxzICh1cGRhdGVzIGV4aXN0aW5nIGNlbGxzKS5cbiMjIERlZmF1bHQgaXMgbm8gaWRlbnRpdHkgKGVtcHR5IHZhbHVlIG9yIC0pLlxuI1xuIyBpZGVudGl0eTogLVxuI1xuIyMgVXNlcyB0aGUgZ2l2ZW4gY29sdW1uIG5hbWUgYXMgdGhlIHBhcmVudCByZWZlcmVuY2UgZm9yIGNlbGxzLiBEZWZhdWx0IGlzIG5vIHBhcmVudCAoZW1wdHkgb3IgLSkuXG4jIyBUaGUgaWRlbnRpdHkgYWJvdmUgaXMgdXNlZCBmb3IgcmVzb2x2aW5nIHRoZSByZWZlcmVuY2Ugc28gaXQgbXVzdCBiZSBzcGVjaWZpZWQuXG4jXG4jIHBhcmVudDogLVxuI1xuIyMgQWRkcyBhIHByZWZpeCB0byB0aGUgaWRlbnRpdHkgb2YgY2VsbHMgdG8gbWFrZSBzdXJlIHRoZXkgZG8gbm90IGNvbGxpZGUgd2l0aCBleGlzdGluZyBjZWxscyAod2hvc2VcbiMjIElEcyBhcmUgbnVtYmVycyBmcm9tIDAuLm4sIHNvbWV0aW1lcyB3aXRoIGEgR1VJRCBwcmVmaXggaW4gdGhlIGNvbnRleHQgb2YgcmVhbHRpbWUgY29sbGFib3JhdGlvbikuXG4jIyBEZWZhdWx0IGlzIGNzdmltcG9ydC0uXG4jXG4jIG5hbWVzcGFjZTogY3N2aW1wb3J0LVxuI1xuIyMgQ29ubmVjdGlvbnMgYmV0d2VlbiByb3dzICgiZnJvbSI6IHNvdXJjZSBjb2x1bSwgInRvIjogdGFyZ2V0IGNvbHVtbikuXG4jIyBMYWJlbCwgc3R5bGUgYW5kIGludmVydCBhcmUgb3B0aW9uYWwuIERlZmF1bHRzIGFyZSBcJ1wnLCBjdXJyZW50IHN0eWxlIGFuZCBmYWxzZS5cbiMjIElmIHBsYWNlaG9sZGVycyBhcmUgdXNlZCBpbiB0aGUgc3R5bGUsIHRoZXkgYXJlIHJlcGxhY2VkIHdpdGggZGF0YSBmcm9tIHRoZSBzb3VyY2UuXG4jIyBBbiBvcHRpb25hbCBwbGFjZWhvbGRlcnMgY2FuIGJlIHNldCB0byB0YXJnZXQgdG8gdXNlIGRhdGEgZnJvbSB0aGUgdGFyZ2V0IGluc3RlYWQuXG4jIyBJbiBhZGRpdGlvbiB0byBsYWJlbCwgYW4gb3B0aW9uYWwgZnJvbWxhYmVsIGFuZCB0b2xhYmVsIGNhbiBiZSB1c2VkIHRvIG5hbWUgdGhlIGNvbHVtblxuIyMgdGhhdCBjb250YWlucyB0aGUgdGV4dCBmb3IgdGhlIGxhYmVsIGluIHRoZSBlZGdlcyBzb3VyY2Ugb3IgdGFyZ2V0IChpbnZlcnQgaWdub3JlZCkuXG4jIyBUaGUgbGFiZWwgaXMgY29uY2F0ZW5hdGVkIGluIHRoZSBmb3JtIGZyb21sYWJlbCArIGxhYmVsICsgdG9sYWJlbCBpZiBhbGwgYXJlIGRlZmluZWQuXG4jIyBBZGRpdGlvbmFsIGxhYmVscyBjYW4gYmUgYWRkZWQgYnkgdXNpbmcgYW4gb3B0aW9uYWwgbGFiZWxzIGFycmF5IHdpdGggZW50cmllcyBvZiB0aGVcbiMjIGZvcm0geyJsYWJlbCI6IHN0cmluZywgIngiOiBudW1iZXIsICJ5IjogbnVtYmVyLCAiZHgiOiBudW1iZXIsICJkeSI6IG51bWJlcn0gd2hlcmVcbiMjIHggaXMgZnJvbSAtMSB0byAxIGFsb25nIHRoZSBlZGdlLCB5IGlzIG9ydGhvZ29uYWwsIGFuZCBkeC9keSBhcmUgb2Zmc2V0cyBpbiBwaXhlbHMuXG4jIyBUaGUgdGFyZ2V0IGNvbHVtbiBtYXkgY29udGFpbiBhIGNvbW1hLXNlcGFyYXRlZCBsaXN0IG9mIHZhbHVlcy5cbiMjIE11bHRpcGxlIGNvbm5lY3QgZW50cmllcyBhcmUgYWxsb3dlZC5cbiNcbiMgY29ubmVjdDogeyJmcm9tIjogIm1hbmFnZXIiLCAidG8iOiAibmFtZSIsICJpbnZlcnQiOiB0cnVlLCAibGFiZWwiOiAibWFuYWdlcyIsIFxcXG4jICAgICAgICAgICJzdHlsZSI6ICJjdXJ2ZWQ9MTtlbmRBcnJvdz1ibG9ja1RoaW47ZW5kRmlsbD0xO2ZvbnRTaXplPTExOyJ9XG4jIGNvbm5lY3Q6IHsiZnJvbSI6ICJyZWZzIiwgInRvIjogImlkIiwgInN0eWxlIjogImN1cnZlZD0xO2ZvbnRTaXplPTExOyJ9XG4jXG4jIyBOb2RlIHgtY29vcmRpbmF0ZS4gUG9zc2libGUgdmFsdWUgaXMgYSBjb2x1bW4gbmFtZS4gRGVmYXVsdCBpcyBlbXB0eS4gTGF5b3V0cyB3aWxsXG4jIyBvdmVycmlkZSB0aGlzIHZhbHVlLlxuI1xuIyBsZWZ0OiBcbiNcbiMjIE5vZGUgeS1jb29yZGluYXRlLiBQb3NzaWJsZSB2YWx1ZSBpcyBhIGNvbHVtbiBuYW1lLiBEZWZhdWx0IGlzIGVtcHR5LiBMYXlvdXRzIHdpbGxcbiMjIG92ZXJyaWRlIHRoaXMgdmFsdWUuXG4jXG4jIHRvcDogXG4jXG4jIyBOb2RlIHdpZHRoLiBQb3NzaWJsZSB2YWx1ZSBpcyBhIG51bWJlciAoaW4gcHgpLCBhdXRvIG9yIGFuIEAgc2lnbiBmb2xsb3dlZCBieSBhIGNvbHVtblxuIyMgbmFtZSB0aGF0IGNvbnRhaW5zIHRoZSB2YWx1ZSBmb3IgdGhlIHdpZHRoLiBEZWZhdWx0IGlzIGF1dG8uXG4jXG4jIHdpZHRoOiBhdXRvXG4jXG4jIyBOb2RlIGhlaWdodC4gUG9zc2libGUgdmFsdWUgaXMgYSBudW1iZXIgKGluIHB4KSwgYXV0byBvciBhbiBAIHNpZ24gZm9sbG93ZWQgYnkgYSBjb2x1bW5cbiMjIG5hbWUgdGhhdCBjb250YWlucyB0aGUgdmFsdWUgZm9yIHRoZSBoZWlnaHQuIERlZmF1bHQgaXMgYXV0by5cbiNcbiMgaGVpZ2h0OiBhdXRvXG4jXG4jIyBQYWRkaW5nIGZvciBhdXRvc2l6ZS4gRGVmYXVsdCBpcyAwLlxuI1xuIyBwYWRkaW5nOiAtMTJcbiNcbiMjIENvbW1hLXNlcGFyYXRlZCBsaXN0IG9mIGlnbm9yZWQgY29sdW1ucyBmb3IgbWV0YWRhdGEuIChUaGVzZSBjYW4gYmVcbiMjIHVzZWQgZm9yIGNvbm5lY3Rpb25zIGFuZCBzdHlsZXMgYnV0IHdpbGwgbm90IGJlIGFkZGVkIGFzIG1ldGFkYXRhLilcbiNcbiMgaWdub3JlOiBpZCxpbWFnZSxmaWxsLHN0cm9rZSxyZWZzLG1hbmFnZXJcbiNcbiMjIENvbHVtbiB0byBiZSByZW5hbWVkIHRvIGxpbmsgYXR0cmlidXRlICh1c2VkIGFzIGxpbmspLlxuI1xuIyBsaW5rOiB1cmxcbiNcbiMjIFNwYWNpbmcgYmV0d2VlbiBub2Rlcy4gRGVmYXVsdCBpcyA0MC5cbiNcbiMgbm9kZXNwYWNpbmc6IDQwXG4jXG4jIyBTcGFjaW5nIGJldHdlZW4gbGV2ZWxzIG9mIGhpZXJhcmNoaWNhbCBsYXlvdXRzLiBEZWZhdWx0IGlzIDEwMC5cbiNcbiMgbGV2ZWxzcGFjaW5nOiAxMDBcbiNcbiMjIFNwYWNpbmcgYmV0d2VlbiBwYXJhbGxlbCBlZGdlcy4gRGVmYXVsdCBpcyA0MC4gVXNlIDAgdG8gZGlzYWJsZS5cbiNcbiMgZWRnZXNwYWNpbmc6IDQwXG4jXG4jIyBOYW1lIG9yIEpTT04gb2YgbGF5b3V0LiBQb3NzaWJsZSB2YWx1ZXMgYXJlIGF1dG8sIG5vbmUsIHZlcnRpY2FsdHJlZSwgaG9yaXpvbnRhbHRyZWUsXG4jIyB2ZXJ0aWNhbGZsb3csIGhvcml6b250YWxmbG93LCBvcmdhbmljLCBjaXJjbGUgb3IgYSBKU09OIHN0cmluZyBhcyB1c2VkIGluIExheW91dCwgQXBwbHkuXG4jIyBEZWZhdWx0IGlzIGF1dG8uXG4jXG4jIGxheW91dDogYXV0b1xuI1xuIyMgLS0tLSBDU1YgYmVsb3cgdGhpcyBsaW5lLiBGaXJzdCBsaW5lIGFyZSBjb2x1bW4gbmFtZXMuIC0tLS1cbm5hbWUscG9zaXRpb24saWQsbG9jYXRpb24sbWFuYWdlcixlbWFpbCxmaWxsLHN0cm9rZSxyZWZzLHVybCxpbWFnZVxuRXZhbiBNaWxsZXIsQ0ZPLGVtaSxPZmZpY2UgMSwsbWVAZXhhbXBsZS5jb20sI2RhZThmYywjNmM4ZWJmLCxodHRwczovL3d3dy5kcmF3LmlvLGh0dHBzOi8vY2RuMy5pY29uZmluZGVyLmNvbS9kYXRhL2ljb25zL3VzZXItYXZhdGFycy0xLzUxMi91c2Vycy05LTItMTI4LnBuZ1xuRWR3YXJkIE1vcnJpc29uLEJyYW5kIE1hbmFnZXIsZW1vLE9mZmljZSAyLEV2YW4gTWlsbGVyLG1lQGV4YW1wbGUuY29tLCNkNWU4ZDQsIzgyYjM2NiwsaHR0cHM6Ly93d3cuZHJhdy5pbyxodHRwczovL2NkbjMuaWNvbmZpbmRlci5jb20vZGF0YS9pY29ucy91c2VyLWF2YXRhcnMtMS81MTIvdXNlcnMtMTAtMy0xMjgucG5nXG5Sb24gRG9ub3ZhbixTeXN0ZW0gQWRtaW4scmRvLE9mZmljZSAzLEV2YW4gTWlsbGVyLG1lQGV4YW1wbGUuY29tLCNkNWU4ZDQsIzgyYjM2NiwiZW1vLHR2YSIsaHR0cHM6Ly93d3cuZHJhdy5pbyxodHRwczovL2NkbjMuaWNvbmZpbmRlci5jb20vZGF0YS9pY29ucy91c2VyLWF2YXRhcnMtMS81MTIvdXNlcnMtMi0xMjgucG5nXG5UZXNzYSBWYWxldCxIUiBEaXJlY3Rvcix0dmEsT2ZmaWNlIDQsRXZhbiBNaWxsZXIsbWVAZXhhbXBsZS5jb20sI2Q1ZThkNCwjODJiMzY2LCxodHRwczovL3d3dy5kcmF3LmlvLGh0dHBzOi8vY2RuMy5pY29uZmluZGVyLmNvbS9kYXRhL2ljb25zL3VzZXItYXZhdGFycy0xLzUxMi91c2Vycy0zLTEyOC5wbmdcbic7CkVkaXRvci5jcmVhdGVSb3VnaENhbnZhcz1mdW5jdGlvbihhKXt2YXIgYj1yb3VnaC5jYW52YXMoe2dldENvbnRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gYX19KTtiLmRyYXc9ZnVuY3Rpb24oYil7dmFyIGU9Yi5zZXRzfHxbXTtiPWIub3B0aW9uc3x8dGhpcy5nZXREZWZhdWx0T3B0aW9ucygpO2Zvcih2YXIgYz0wO2M8ZS5sZW5ndGg7YysrKXt2YXIgZD1lW2NdO3N3aXRjaChkLnR5cGUpe2Nhc2UgInBhdGgiOm51bGwhPWIuc3Ryb2tlJiZ0aGlzLl9kcmF3VG9Db250ZXh0KGEsZCxiKTticmVhaztjYXNlICJmaWxsUGF0aCI6dGhpcy5fZHJhd1RvQ29udGV4dChhLGQsYik7YnJlYWs7Y2FzZSAiZmlsbFNrZXRjaCI6dGhpcy5maWxsU2tldGNoKGEsZCxiKX19fTtiLmZpbGxTa2V0Y2g9ZnVuY3Rpb24oYixlLGMpe3ZhciBkPWEuc3RhdGUuc3Ryb2tlQ29sb3IsZj1hLnN0YXRlLnN0cm9rZVdpZHRoLGc9YS5zdGF0ZS5zdHJva2VBbHBoYSxsPWEuc3RhdGUuZGFzaGVkLHU9Yy5maWxsV2VpZ2h0OwowPnUmJih1PWMuc3Ryb2tlV2lkdGgvMik7YS5zZXRTdHJva2VBbHBoYShhLnN0YXRlLmZpbGxBbHBoYSk7YS5zZXRTdHJva2VDb2xvcihjLmZpbGx8fCIiKTthLnNldFN0cm9rZVdpZHRoKHUpO2Euc2V0RGFzaGVkKCExKTt0aGlzLl9kcmF3VG9Db250ZXh0KGIsZSxjKTthLnNldERhc2hlZChsKTthLnNldFN0cm9rZVdpZHRoKGYpO2Euc2V0U3Ryb2tlQ29sb3IoZCk7YS5zZXRTdHJva2VBbHBoYShnKX07Yi5fZHJhd1RvQ29udGV4dD1mdW5jdGlvbihhLGIsZSl7YS5iZWdpbigpO2Zvcih2YXIgYz0wO2M8Yi5vcHMubGVuZ3RoO2MrKyl7dmFyIGQ9Yi5vcHNbY10sZj1kLmRhdGE7c3dpdGNoKGQub3Ape2Nhc2UgIm1vdmUiOmEubW92ZVRvKGZbMF0sZlsxXSk7YnJlYWs7Y2FzZSAiYmN1cnZlVG8iOmEuY3VydmVUbyhmWzBdLGZbMV0sZlsyXSxmWzNdLGZbNF0sZls1XSk7YnJlYWs7Y2FzZSAibGluZVRvIjphLmxpbmVUbyhmWzBdLGZbMV0pfX1hLmVuZCgpOyJmaWxsUGF0aCI9PT1iLnR5cGUmJgplLmZpbGxlZD9hLmZpbGwoKTphLnN0cm9rZSgpfTtyZXR1cm4gYn07KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiLGUsYyl7dGhpcy5jYW52YXM9Yjt0aGlzLnJjPWU7dGhpcy5zaGFwZT1jO3RoaXMuY2FudmFzLnNldExpbmVKb2luKCJyb3VuZCIpO3RoaXMuY2FudmFzLnNldExpbmVDYXAoInJvdW5kIik7dGhpcy5vcmlnaW5hbEJlZ2luPXRoaXMuY2FudmFzLmJlZ2luO3RoaXMuY2FudmFzLmJlZ2luPW14VXRpbHMuYmluZCh0aGlzLGEucHJvdG90eXBlLmJlZ2luKTt0aGlzLm9yaWdpbmFsRW5kPXRoaXMuY2FudmFzLmVuZDt0aGlzLmNhbnZhcy5lbmQ9bXhVdGlscy5iaW5kKHRoaXMsYS5wcm90b3R5cGUuZW5kKTt0aGlzLm9yaWdpbmFsUmVjdD10aGlzLmNhbnZhcy5yZWN0O3RoaXMuY2FudmFzLnJlY3Q9bXhVdGlscy5iaW5kKHRoaXMsYS5wcm90b3R5cGUucmVjdCk7dGhpcy5vcmlnaW5hbFJyb3VuZHJlY3Q9dGhpcy5jYW52YXMucm91bmRyZWN0O3RoaXMuY2FudmFzLnJvdW5kcmVjdD0KbXhVdGlscy5iaW5kKHRoaXMsYS5wcm90b3R5cGUucm91bmRyZWN0KTt0aGlzLm9yaWdpbmFsRWxsaXBzZT10aGlzLmNhbnZhcy5lbGxpcHNlO3RoaXMuY2FudmFzLmVsbGlwc2U9bXhVdGlscy5iaW5kKHRoaXMsYS5wcm90b3R5cGUuZWxsaXBzZSk7dGhpcy5vcmlnaW5hbExpbmVUbz10aGlzLmNhbnZhcy5saW5lVG87dGhpcy5jYW52YXMubGluZVRvPW14VXRpbHMuYmluZCh0aGlzLGEucHJvdG90eXBlLmxpbmVUbyk7dGhpcy5vcmlnaW5hbE1vdmVUbz10aGlzLmNhbnZhcy5tb3ZlVG87dGhpcy5jYW52YXMubW92ZVRvPW14VXRpbHMuYmluZCh0aGlzLGEucHJvdG90eXBlLm1vdmVUbyk7dGhpcy5vcmlnaW5hbFF1YWRUbz10aGlzLmNhbnZhcy5xdWFkVG87dGhpcy5jYW52YXMucXVhZFRvPW14VXRpbHMuYmluZCh0aGlzLGEucHJvdG90eXBlLnF1YWRUbyk7dGhpcy5vcmlnaW5hbEN1cnZlVG89dGhpcy5jYW52YXMuY3VydmVUbzt0aGlzLmNhbnZhcy5jdXJ2ZVRvPW14VXRpbHMuYmluZCh0aGlzLAphLnByb3RvdHlwZS5jdXJ2ZVRvKTt0aGlzLm9yaWdpbmFsQXJjVG89dGhpcy5jYW52YXMuYXJjVG87dGhpcy5jYW52YXMuYXJjVG89bXhVdGlscy5iaW5kKHRoaXMsYS5wcm90b3R5cGUuYXJjVG8pO3RoaXMub3JpZ2luYWxDbG9zZT10aGlzLmNhbnZhcy5jbG9zZTt0aGlzLmNhbnZhcy5jbG9zZT1teFV0aWxzLmJpbmQodGhpcyxhLnByb3RvdHlwZS5jbG9zZSk7dGhpcy5vcmlnaW5hbEZpbGw9dGhpcy5jYW52YXMuZmlsbDt0aGlzLmNhbnZhcy5maWxsPW14VXRpbHMuYmluZCh0aGlzLGEucHJvdG90eXBlLmZpbGwpO3RoaXMub3JpZ2luYWxTdHJva2U9dGhpcy5jYW52YXMuc3Ryb2tlO3RoaXMuY2FudmFzLnN0cm9rZT1teFV0aWxzLmJpbmQodGhpcyxhLnByb3RvdHlwZS5zdHJva2UpO3RoaXMub3JpZ2luYWxGaWxsQW5kU3Ryb2tlPXRoaXMuY2FudmFzLmZpbGxBbmRTdHJva2U7dGhpcy5jYW52YXMuZmlsbEFuZFN0cm9rZT1teFV0aWxzLmJpbmQodGhpcyxhLnByb3RvdHlwZS5maWxsQW5kU3Ryb2tlKTsKdGhpcy5wYXRoPVtdO3RoaXMucGFzc1Rocm91Z2g9ITF9YS5wcm90b3R5cGUubW92ZU9wPSJNIjthLnByb3RvdHlwZS5saW5lT3A9IkwiO2EucHJvdG90eXBlLnF1YWRPcD0iUSI7YS5wcm90b3R5cGUuY3VydmVPcD0iQyI7YS5wcm90b3R5cGUuY2xvc2VPcD0iWiI7YS5wcm90b3R5cGUuZ2V0U3R5bGU9ZnVuY3Rpb24oYSxiKXt2YXIgZT0xO2lmKG51bGwhPXRoaXMuc2hhcGUuc3RhdGUpe3ZhciBjPXRoaXMuc2hhcGUuc3RhdGUuY2VsbC5pZDtpZihudWxsIT1jKWZvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKWU9KGU8PDUpLWUrYy5jaGFyQ29kZUF0KGQpPDwwfWU9e3N0cm9rZVdpZHRoOnRoaXMuY2FudmFzLnN0YXRlLnN0cm9rZVdpZHRoLHNlZWQ6ZX07Yz10aGlzLnJjLmdldERlZmF1bHRPcHRpb25zKCk7YT9lLnN0cm9rZT0ibm9uZSI9PT10aGlzLmNhbnZhcy5zdGF0ZS5zdHJva2VDb2xvcj8idHJhbnNwYXJlbnQiOnRoaXMuY2FudmFzLnN0YXRlLnN0cm9rZUNvbG9yOmRlbGV0ZSBlLnN0cm9rZTsKZD1udWxsOyhlLmZpbGxlZD1iKT8oZS5maWxsPSJub25lIj09PXRoaXMuY2FudmFzLnN0YXRlLmZpbGxDb2xvcj8iIjp0aGlzLmNhbnZhcy5zdGF0ZS5maWxsQ29sb3IsZD0ibm9uZSI9PT10aGlzLmNhbnZhcy5zdGF0ZS5ncmFkaWVudENvbG9yP251bGw6dGhpcy5jYW52YXMuc3RhdGUuZ3JhZGllbnRDb2xvcik6IiI9PWUuZmlsbDtlLmJvd2luZz1teFV0aWxzLmdldFZhbHVlKHRoaXMuc2hhcGUuc3R5bGUsImJvd2luZyIsYy5ib3dpbmcpO2UuaGFjaHVyZUFuZ2xlPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zaGFwZS5zdHlsZSwiaGFjaHVyZUFuZ2xlIixjLmhhY2h1cmVBbmdsZSk7ZS5jdXJ2ZUZpdHRpbmc9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnNoYXBlLnN0eWxlLCJjdXJ2ZUZpdHRpbmciLGMuY3VydmVGaXR0aW5nKTtlLnJvdWdobmVzcz1teFV0aWxzLmdldFZhbHVlKHRoaXMuc2hhcGUuc3R5bGUsImppZ2dsZSIsYy5yb3VnaG5lc3MpO2Uuc2ltcGxpZmljYXRpb249bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnNoYXBlLnN0eWxlLAoic2ltcGxpZmljYXRpb24iLGMuc2ltcGxpZmljYXRpb24pO2UuZGlzYWJsZU11bHRpU3Ryb2tlPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zaGFwZS5zdHlsZSwiZGlzYWJsZU11bHRpU3Ryb2tlIixjLmRpc2FibGVNdWx0aVN0cm9rZSk7ZS5kaXNhYmxlTXVsdGlTdHJva2VGaWxsPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zaGFwZS5zdHlsZSwiZGlzYWJsZU11bHRpU3Ryb2tlRmlsbCIsYy5kaXNhYmxlTXVsdGlTdHJva2VGaWxsKTt2YXIgZj1teFV0aWxzLmdldFZhbHVlKHRoaXMuc2hhcGUuc3R5bGUsImhhY2h1cmVHYXAiLC0xKTtlLmhhY2h1cmVHYXA9ImF1dG8iPT1mPy0xOmY7ZS5kYXNoR2FwPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zaGFwZS5zdHlsZSwiZGFzaEdhcCIsZik7ZS5kYXNoT2Zmc2V0PW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zaGFwZS5zdHlsZSwiZGFzaE9mZnNldCIsZik7ZS56aWd6YWdPZmZzZXQ9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnNoYXBlLnN0eWxlLCJ6aWd6YWdPZmZzZXQiLApmKTtmPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zaGFwZS5zdHlsZSwiZmlsbFdlaWdodCIsLTEpO2UuZmlsbFdlaWdodD0iYXV0byI9PWY/LTE6ZjtmPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zaGFwZS5zdHlsZSwiZmlsbFN0eWxlIiwiYXV0byIpOyJhdXRvIj09ZiYmKGY9bnVsbCE9dGhpcy5zaGFwZS5zdGF0ZT90aGlzLnNoYXBlLnN0YXRlLnZpZXcuZ3JhcGguZGVmYXVsdFBhZ2VCYWNrZ3JvdW5kQ29sb3I6IiNmZmZmZmYiLGY9bnVsbD09ZS5maWxsfHxlLmZpbGwudG9Mb3dlckNhc2UoKSE9ZiYmbnVsbD09ZD9jLmZpbGxTdHlsZToic29saWQiKTtlLmZpbGxTdHlsZT1mO3JldHVybiBlfTthLnByb3RvdHlwZS5iZWdpbj1mdW5jdGlvbigpe3RoaXMucGFzc1Rocm91Z2g/dGhpcy5vcmlnaW5hbEJlZ2luLmFwcGx5KHRoaXMuY2FudmFzLGFyZ3VtZW50cyk6dGhpcy5wYXRoPVtdfTthLnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24oKXt0aGlzLnBhc3NUaHJvdWdoJiZ0aGlzLm9yaWdpbmFsRW5kLmFwcGx5KHRoaXMuY2FudmFzLAphcmd1bWVudHMpfTthLnByb3RvdHlwZS5hZGRPcD1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMucGF0aCYmKHRoaXMucGF0aC5wdXNoKGFyZ3VtZW50c1swXSksMjxhcmd1bWVudHMubGVuZ3RoKSlmb3IodmFyIGE9MjthPGFyZ3VtZW50cy5sZW5ndGg7YSs9Mil0aGlzLmxhc3RYPWFyZ3VtZW50c1thLTFdLHRoaXMubGFzdFk9YXJndW1lbnRzW2FdLHRoaXMucGF0aC5wdXNoKHRoaXMuY2FudmFzLmZvcm1hdCh0aGlzLmxhc3RYKSksdGhpcy5wYXRoLnB1c2godGhpcy5jYW52YXMuZm9ybWF0KHRoaXMubGFzdFkpKX07YS5wcm90b3R5cGUubGluZVRvPWZ1bmN0aW9uKGEsYil7dGhpcy5wYXNzVGhyb3VnaD90aGlzLm9yaWdpbmFsTGluZVRvLmFwcGx5KHRoaXMuY2FudmFzLGFyZ3VtZW50cyk6KHRoaXMuYWRkT3AodGhpcy5saW5lT3AsYSxiKSx0aGlzLmxhc3RYPWEsdGhpcy5sYXN0WT1iKX07YS5wcm90b3R5cGUubW92ZVRvPWZ1bmN0aW9uKGEsYil7dGhpcy5wYXNzVGhyb3VnaD90aGlzLm9yaWdpbmFsTW92ZVRvLmFwcGx5KHRoaXMuY2FudmFzLAphcmd1bWVudHMpOih0aGlzLmFkZE9wKHRoaXMubW92ZU9wLGEsYiksdGhpcy5sYXN0WD1hLHRoaXMubGFzdFk9Yix0aGlzLmZpcnN0WD1hLHRoaXMuZmlyc3RZPWIpfTthLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3RoaXMucGFzc1Rocm91Z2g/dGhpcy5vcmlnaW5hbENsb3NlLmFwcGx5KHRoaXMuY2FudmFzLGFyZ3VtZW50cyk6dGhpcy5hZGRPcCh0aGlzLmNsb3NlT3ApfTthLnByb3RvdHlwZS5xdWFkVG89ZnVuY3Rpb24oYSxiLGUsYyl7dGhpcy5wYXNzVGhyb3VnaD90aGlzLm9yaWdpbmFsUXVhZFRvLmFwcGx5KHRoaXMuY2FudmFzLGFyZ3VtZW50cyk6KHRoaXMuYWRkT3AodGhpcy5xdWFkT3AsYSxiLGUsYyksdGhpcy5sYXN0WD1lLHRoaXMubGFzdFk9Yyl9O2EucHJvdG90eXBlLmN1cnZlVG89ZnVuY3Rpb24oYSxiLGUsYyxkLGYpe3RoaXMucGFzc1Rocm91Z2g/dGhpcy5vcmlnaW5hbEN1cnZlVG8uYXBwbHkodGhpcy5jYW52YXMsYXJndW1lbnRzKToodGhpcy5hZGRPcCh0aGlzLmN1cnZlT3AsCmEsYixlLGMsZCxmKSx0aGlzLmxhc3RYPWQsdGhpcy5sYXN0WT1mKX07YS5wcm90b3R5cGUuYXJjVG89ZnVuY3Rpb24oYSxiLGUsYyxkLGYsZyl7aWYodGhpcy5wYXNzVGhyb3VnaCl0aGlzLm9yaWdpbmFsQXJjVG8uYXBwbHkodGhpcy5jYW52YXMsYXJndW1lbnRzKTtlbHNle3ZhciBsPW14VXRpbHMuYXJjVG9DdXJ2ZXModGhpcy5sYXN0WCx0aGlzLmxhc3RZLGEsYixlLGMsZCxmLGcpO2lmKG51bGwhPWwpZm9yKHZhciBuPTA7bjxsLmxlbmd0aDtuKz02KXRoaXMuY3VydmVUbyhsW25dLGxbbisxXSxsW24rMl0sbFtuKzNdLGxbbis0XSxsW24rNV0pO3RoaXMubGFzdFg9Zjt0aGlzLmxhc3RZPWd9fTthLnByb3RvdHlwZS5yZWN0PWZ1bmN0aW9uKGEsYixlLGMpe3RoaXMucGFzc1Rocm91Z2g/dGhpcy5vcmlnaW5hbFJlY3QuYXBwbHkodGhpcy5jYW52YXMsYXJndW1lbnRzKToodGhpcy5wYXRoPVtdLHRoaXMubmV4dFNoYXBlPXRoaXMucmMuZ2VuZXJhdG9yLnJlY3RhbmdsZShhLGIsZSwKYyx0aGlzLmdldFN0eWxlKCEwLCEwKSkpfTthLnByb3RvdHlwZS5lbGxpcHNlPWZ1bmN0aW9uKGEsYixlLGMpe3RoaXMucGFzc1Rocm91Z2g/dGhpcy5vcmlnaW5hbEVsbGlwc2UuYXBwbHkodGhpcy5jYW52YXMsYXJndW1lbnRzKToodGhpcy5wYXRoPVtdLHRoaXMubmV4dFNoYXBlPXRoaXMucmMuZ2VuZXJhdG9yLmVsbGlwc2UoYStlLzIsYitjLzIsZSxjLHRoaXMuZ2V0U3R5bGUoITAsITApKSl9O2EucHJvdG90eXBlLnJvdW5kcmVjdD1mdW5jdGlvbihhLGIsZSxjLGQsZil7dGhpcy5wYXNzVGhyb3VnaD90aGlzLm9yaWdpbmFsUm91bmRyZWN0LmFwcGx5KHRoaXMuY2FudmFzLGFyZ3VtZW50cyk6KHRoaXMuYmVnaW4oKSx0aGlzLm1vdmVUbyhhK2QsYiksdGhpcy5saW5lVG8oYStlLWQsYiksdGhpcy5xdWFkVG8oYStlLGIsYStlLGIrZiksdGhpcy5saW5lVG8oYStlLGIrYy1mKSx0aGlzLnF1YWRUbyhhK2UsYitjLGErZS1kLGIrYyksdGhpcy5saW5lVG8oYStkLGIrYyksdGhpcy5xdWFkVG8oYSwKYitjLGEsYitjLWYpLHRoaXMubGluZVRvKGEsYitmKSx0aGlzLnF1YWRUbyhhLGIsYStkLGIpKX07YS5wcm90b3R5cGUuZHJhd1BhdGg9ZnVuY3Rpb24oYSl7aWYoMDx0aGlzLnBhdGgubGVuZ3RoKXt0aGlzLnBhc3NUaHJvdWdoPSEwO3RyeXt0aGlzLnJjLnBhdGgodGhpcy5wYXRoLmpvaW4oIiAiKSxhKX1jYXRjaChPKXt9dGhpcy5wYXNzVGhyb3VnaD0hMX1lbHNlIGlmKG51bGwhPXRoaXMubmV4dFNoYXBlKXtmb3IodmFyIGIgaW4gYSl0aGlzLm5leHRTaGFwZS5vcHRpb25zW2JdPWFbYl07bnVsbD09YS5zdHJva2UmJmRlbGV0ZSB0aGlzLm5leHRTaGFwZS5vcHRpb25zLnN0cm9rZTthLmZpbGxlZHx8ZGVsZXRlIHRoaXMubmV4dFNoYXBlLm9wdGlvbnMuZmlsbDt0aGlzLnBhc3NUaHJvdWdoPSEwO3RoaXMucmMuZHJhdyh0aGlzLm5leHRTaGFwZSk7dGhpcy5wYXNzVGhyb3VnaD0hMX19O2EucHJvdG90eXBlLnN0cm9rZT1mdW5jdGlvbigpe3RoaXMucGFzc1Rocm91Z2g/dGhpcy5vcmlnaW5hbFN0cm9rZS5hcHBseSh0aGlzLmNhbnZhcywKYXJndW1lbnRzKTp0aGlzLmRyYXdQYXRoKHRoaXMuZ2V0U3R5bGUoITAsITEpKX07YS5wcm90b3R5cGUuZmlsbD1mdW5jdGlvbigpe3RoaXMucGFzc1Rocm91Z2g/dGhpcy5vcmlnaW5hbEZpbGwuYXBwbHkodGhpcy5jYW52YXMsYXJndW1lbnRzKTp0aGlzLmRyYXdQYXRoKHRoaXMuZ2V0U3R5bGUoITEsITApKX07YS5wcm90b3R5cGUuZmlsbEFuZFN0cm9rZT1mdW5jdGlvbigpe3RoaXMucGFzc1Rocm91Z2g/dGhpcy5vcmlnaW5hbEZpbGxBbmRTdHJva2UuYXBwbHkodGhpcy5jYW52YXMsYXJndW1lbnRzKTp0aGlzLmRyYXdQYXRoKHRoaXMuZ2V0U3R5bGUoITAsITApKX07YS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuY2FudmFzLmxpbmVUbz10aGlzLm9yaWdpbmFsTGluZVRvO3RoaXMuY2FudmFzLm1vdmVUbz10aGlzLm9yaWdpbmFsTW92ZVRvO3RoaXMuY2FudmFzLmNsb3NlPXRoaXMub3JpZ2luYWxDbG9zZTt0aGlzLmNhbnZhcy5xdWFkVG89dGhpcy5vcmlnaW5hbFF1YWRUbzsKdGhpcy5jYW52YXMuY3VydmVUbz10aGlzLm9yaWdpbmFsQ3VydmVUbzt0aGlzLmNhbnZhcy5hcmNUbz10aGlzLm9yaWdpbmFsQXJjVG87dGhpcy5jYW52YXMuY2xvc2U9dGhpcy5vcmlnaW5hbENsb3NlO3RoaXMuY2FudmFzLmZpbGw9dGhpcy5vcmlnaW5hbEZpbGw7dGhpcy5jYW52YXMuc3Ryb2tlPXRoaXMub3JpZ2luYWxTdHJva2U7dGhpcy5jYW52YXMuZmlsbEFuZFN0cm9rZT10aGlzLm9yaWdpbmFsRmlsbEFuZFN0cm9rZTt0aGlzLmNhbnZhcy5iZWdpbj10aGlzLm9yaWdpbmFsQmVnaW47dGhpcy5jYW52YXMuZW5kPXRoaXMub3JpZ2luYWxFbmQ7dGhpcy5jYW52YXMucmVjdD10aGlzLm9yaWdpbmFsUmVjdDt0aGlzLmNhbnZhcy5lbGxpcHNlPXRoaXMub3JpZ2luYWxFbGxpcHNlO3RoaXMuY2FudmFzLnJvdW5kcmVjdD10aGlzLm9yaWdpbmFsUnJvdW5kcmVjdH07bXhTaGFwZS5wcm90b3R5cGUuY3JlYXRlUm91Z2hDYW52YXM9ZnVuY3Rpb24oYil7cmV0dXJuIG5ldyBhKGIsRWRpdG9yLmNyZWF0ZVJvdWdoQ2FudmFzKGIpLAp0aGlzKX07dmFyIGI9bXhTaGFwZS5wcm90b3R5cGUuY3JlYXRlSGFuZEppZ2dsZTtteFNoYXBlLnByb3RvdHlwZS5jcmVhdGVIYW5kSmlnZ2xlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm91dGxpbmV8fG51bGwhPWEuaGFuZEhpZ2dsZXx8bnVsbD09dGhpcy5zdHlsZXx8IjAiPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInNrZXRjaCIsIjEiPT11cmxQYXJhbXMucm91Z2g/IjEiOiIwIik/Yi5hcHBseSh0aGlzLGFyZ3VtZW50cyk6ImNvbWljIj09bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJza2V0Y2hTdHlsZSIsInJvdWdoIik/dGhpcy5jcmVhdGVDb21pY0NhbnZhcyhhKTp0aGlzLmNyZWF0ZVJvdWdoQ2FudmFzKGEpfX0pKCk7RWRpdG9yLmZhc3RDb21wcmVzcz1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YXx8MD09YS5sZW5ndGh8fCJ1bmRlZmluZWQiPT09dHlwZW9mIHBha28/YTpwYWtvLmRlZmxhdGVSYXcoYSx7dG86InN0cmluZyJ9KX07RWRpdG9yLmZhc3REZWNvbXByZXNzPQpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YXx8MD09YS5sZW5ndGh8fCJ1bmRlZmluZWQiPT09dHlwZW9mIHBha28/YTpwYWtvLmluZmxhdGVSYXcoYSx7dG86InN0cmluZyJ9KX07RWRpdG9yLmV4dHJhY3RHcmFwaE1vZGVsPWZ1bmN0aW9uKGEsYixlKXtpZihudWxsIT1hJiYidW5kZWZpbmVkIiE9PXR5cGVvZiBwYWtvKXt2YXIgYz1hLm93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpLGQ9W107aWYobnVsbCE9YyYmMDxjLmxlbmd0aClmb3IodmFyIGY9MDtmPGMubGVuZ3RoO2YrKylpZigibXhncmFwaCI9PWNbZl0uZ2V0QXR0cmlidXRlKCJjbGFzcyIpKXtkLnB1c2goY1tmXSk7YnJlYWt9MDxkLmxlbmd0aCYmKGM9ZFswXS5nZXRBdHRyaWJ1dGUoImRhdGEtbXhncmFwaCIpLG51bGwhPWM/KGQ9SlNPTi5wYXJzZShjKSxudWxsIT1kJiZudWxsIT1kLnhtbCYmKGE9bXhVdGlscy5wYXJzZVhtbChkLnhtbCksYT1hLmRvY3VtZW50RWxlbWVudCkpOihkPWRbMF0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpLAowPGQubGVuZ3RoJiYoYz1teFV0aWxzLmdldFRleHRDb250ZW50KGRbMF0pLGM9R3JhcGguZGVjb21wcmVzcyhjLG51bGwsZSksMDxjLmxlbmd0aCYmKGE9bXhVdGlscy5wYXJzZVhtbChjKSxhPWEuZG9jdW1lbnRFbGVtZW50KSkpKX1pZihudWxsIT1hJiYic3ZnIj09YS5ub2RlTmFtZSlpZihjPWEuZ2V0QXR0cmlidXRlKCJjb250ZW50IiksbnVsbCE9YyYmIjwiIT1jLmNoYXJBdCgwKSYmIiUiIT1jLmNoYXJBdCgwKSYmKGM9dW5lc2NhcGUod2luZG93LmF0b2I/YXRvYihjKTpCYXNlNjQuZGVjb2RlKGNvbnQsYykpKSxudWxsIT1jJiYiJSI9PWMuY2hhckF0KDApJiYoYz1kZWNvZGVVUklDb21wb25lbnQoYykpLG51bGwhPWMmJjA8Yy5sZW5ndGgpYT1teFV0aWxzLnBhcnNlWG1sKGMpLmRvY3VtZW50RWxlbWVudDtlbHNlIHRocm93e21lc3NhZ2U6bXhSZXNvdXJjZXMuZ2V0KCJub3RBRGlhZ3JhbUZpbGUiKX07bnVsbD09YXx8Ynx8KGQ9bnVsbCwiZGlhZ3JhbSI9PWEubm9kZU5hbWU/CmQ9YToibXhmaWxlIj09YS5ub2RlTmFtZSYmKGM9YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZGlhZ3JhbSIpLDA8Yy5sZW5ndGgmJihkPWNbTWF0aC5tYXgoMCxNYXRoLm1pbihjLmxlbmd0aC0xLHVybFBhcmFtcy5wYWdlfHwwKSldKSksbnVsbCE9ZCYmKGE9RWRpdG9yLnBhcnNlRGlhZ3JhbU5vZGUoZCxlKSkpO251bGw9PWF8fCJteEdyYXBoTW9kZWwiPT1hLm5vZGVOYW1lfHxiJiYibXhmaWxlIj09YS5ub2RlTmFtZXx8KGE9bnVsbCk7cmV0dXJuIGF9O0VkaXRvci5wYXJzZURpYWdyYW1Ob2RlPWZ1bmN0aW9uKGEsYil7dmFyIGU9bXhVdGlscy50cmltKG14VXRpbHMuZ2V0VGV4dENvbnRlbnQoYSkpLGM9bnVsbDswPGUubGVuZ3RoPyhlPUdyYXBoLmRlY29tcHJlc3MoZSxudWxsLGIpLG51bGwhPWUmJjA8ZS5sZW5ndGgmJihjPW14VXRpbHMucGFyc2VYbWwoZSkuZG9jdW1lbnRFbGVtZW50KSk6KGU9bXhVdGlscy5nZXRDaGlsZE5vZGVzKGEpLDA8ZS5sZW5ndGgmJihjPW14VXRpbHMuY3JlYXRlWG1sRG9jdW1lbnQoKSwKYy5hcHBlbmRDaGlsZChjLmltcG9ydE5vZGUoZVswXSwhMCkpLGM9Yy5kb2N1bWVudEVsZW1lbnQpKTtyZXR1cm4gY307RWRpdG9yLmdldERpYWdyYW1Ob2RlWG1sPWZ1bmN0aW9uKGEpe3ZhciBiPW14VXRpbHMuZ2V0VGV4dENvbnRlbnQoYSksZT1udWxsOzA8Yi5sZW5ndGg/ZT1HcmFwaC5kZWNvbXByZXNzKGIpOm51bGwhPWEuZmlyc3RDaGlsZCYmKGU9bXhVdGlscy5nZXRYbWwoYS5maXJzdENoaWxkKSk7cmV0dXJuIGV9O0VkaXRvci5leHRyYWN0R3JhcGhNb2RlbEZyb21QZGY9ZnVuY3Rpb24oYSl7YT1hLnN1YnN0cmluZyhhLmluZGV4T2YoIiwiKSsxKTthPXdpbmRvdy5hdG9iJiYhbXhDbGllbnQuSVNfU0Y/YXRvYihhKTpCYXNlNjQuZGVjb2RlKGEsITApO2Zvcih2YXIgYj1udWxsLGU9IiIsYz0wLGQ9MCxmPVtdLGc9bnVsbDtkPGEubGVuZ3RoOyl7dmFyIGw9YS5jaGFyQ29kZUF0KGQpLGQ9ZCsxOzEwIT1sJiYoZSs9U3RyaW5nLmZyb21DaGFyQ29kZShsKSk7bD09Ii9TdWJqZWN0ICglM0NteGZpbGUiLmNoYXJDb2RlQXQoYyk/CmMrKzpjPTA7aWYoMTk9PWMpe3ZhciBuPWEuaW5kZXhPZigiJTNDJTJGbXhmaWxlJTNFKSIsZCkrMTUsZD1kLTk7aWYobj5kKXtiPWEuc3Vic3RyaW5nKGQsbik7YnJlYWt9fTEwPT1sJiYoImVuZG9iaiI9PWU/Zz1udWxsOiJvYmoiPT1lLnN1YnN0cmluZyhlLmxlbmd0aC0zLGUubGVuZ3RoKXx8InhyZWYiPT1lfHwidHJhaWxlciI9PWU/KGc9W10sZltlLnNwbGl0KCIgIilbMF1dPWcpOm51bGwhPWcmJmcucHVzaChlKSxlPSIiKX1udWxsPT1iJiYoYj1FZGl0b3IuZXh0cmFjdEdyYXBoTW9kZWxGcm9tWHJlZihmKSk7bnVsbCE9YiYmKGI9ZGVjb2RlVVJJQ29tcG9uZW50KGIucmVwbGFjZSgvXFxcKC9nLCIoIikucmVwbGFjZSgvXFxcKS9nLCIpIikpKTtyZXR1cm4gYn07RWRpdG9yLmV4dHJhY3RHcmFwaE1vZGVsRnJvbVhyZWY9ZnVuY3Rpb24oYSl7dmFyIGI9YS50cmFpbGVyLGU9bnVsbDtudWxsIT1iJiYoYj0vLiogXC9JbmZvIChcZCspIChcZCspIFIvZy5leGVjKGIuam9pbigiXG4iKSksCm51bGwhPWImJjA8Yi5sZW5ndGgmJihiPWFbYlsxXV0sbnVsbCE9YiYmKGI9Ly4qIFwvU3ViamVjdCAoXGQrKSAoXGQrKSBSL2cuZXhlYyhiLmpvaW4oIlxuIikpLG51bGwhPWImJjA8Yi5sZW5ndGgmJihhPWFbYlsxXV0sbnVsbCE9YSYmKGE9YS5qb2luKCJcbiIpLGU9YS5zdWJzdHJpbmcoMSxhLmxlbmd0aC0xKSkpKSkpO3JldHVybiBlfTtFZGl0b3IuZXh0cmFjdEdyYXBoTW9kZWxGcm9tUG5nPWZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7dHJ5e3ZhciBlPWEuc3Vic3RyaW5nKGEuaW5kZXhPZigiLCIpKzEpLGM9d2luZG93LmF0b2ImJiFteENsaWVudC5JU19TRj9hdG9iKGUpOkJhc2U2NC5kZWNvZGUoZSwhMCk7RWRpdG9yVWkucGFyc2VQbmcoYyxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGUsZCl7YT1jLnN1YnN0cmluZyhhKzgsYSs4K2QpOyJ6VFh0Ij09ZT8oZD1hLmluZGV4T2YoU3RyaW5nLmZyb21DaGFyQ29kZSgwKSksIm14R3JhcGhNb2RlbCI9PWEuc3Vic3RyaW5nKDAsCmQpJiYoYT1wYWtvLmluZmxhdGVSYXcoYS5zdWJzdHJpbmcoZCsyKSx7dG86InN0cmluZyJ9KS5yZXBsYWNlKC9cKy9nLCIgIiksbnVsbCE9YSYmMDxhLmxlbmd0aCYmKGI9YSkpKToidEVYdCI9PWUmJihhPWEuc3BsaXQoU3RyaW5nLmZyb21DaGFyQ29kZSgwKSksMTxhLmxlbmd0aCYmKCJteEdyYXBoTW9kZWwiPT1hWzBdfHwibXhmaWxlIj09YVswXSkmJihiPWFbMV0pKTtpZihudWxsIT1ifHwiSURBVCI9PWUpcmV0dXJuITB9KSl9Y2F0Y2goTyl7fW51bGwhPWImJiIlIj09Yi5jaGFyQXQoMCkmJihiPWRlY29kZVVSSUNvbXBvbmVudChiKSk7bnVsbCE9YiYmIiUiPT1iLmNoYXJBdCgwKSYmKGI9ZGVjb2RlVVJJQ29tcG9uZW50KGIpKTtyZXR1cm4gYn07RWRpdG9yLmV4dHJhY3RQYXJzZXJFcnJvcj1mdW5jdGlvbihhLGIpe3ZhciBlPW51bGwsYz1udWxsIT1hP2EuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInBhcnNlcmVycm9yIik6bnVsbDtudWxsIT1jJiYwPGMubGVuZ3RoJiYoZT1ifHwKbXhSZXNvdXJjZXMuZ2V0KCJpbnZhbGlkQ2hhcnMiKSxjPWNbMF0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpLDA8Yy5sZW5ndGgmJihlPW14VXRpbHMuZ2V0VGV4dENvbnRlbnQoY1swXSkpKTtyZXR1cm4gbnVsbCE9ZT9teFV0aWxzLnRyaW0oZSk6ZX07RWRpdG9yLmFkZFJldHJ5VG9FcnJvcj1mdW5jdGlvbihhLGIpe2lmKG51bGwhPWEpe3ZhciBlPW51bGwhPWEuZXJyb3I/YS5lcnJvcjphO251bGw9PWUucmV0cnkmJihlLnJldHJ5PWIpfX07RWRpdG9yLmNvbmZpZ3VyZT1mdW5jdGlvbihhLGIpe2lmKG51bGwhPWEpe0VkaXRvci5jb25maWc9YTtFZGl0b3IuY29uZmlnVmVyc2lvbj1hLnZlcnNpb247TWVudXMucHJvdG90eXBlLmRlZmF1bHRGb250cz1hLmRlZmF1bHRGb250c3x8TWVudXMucHJvdG90eXBlLmRlZmF1bHRGb250cztDb2xvckRpYWxvZy5wcm90b3R5cGUucHJlc2V0Q29sb3JzPWEucHJlc2V0Q29sb3JzfHxDb2xvckRpYWxvZy5wcm90b3R5cGUucHJlc2V0Q29sb3JzOwpDb2xvckRpYWxvZy5wcm90b3R5cGUuZGVmYXVsdENvbG9ycz1hLmRlZmF1bHRDb2xvcnN8fENvbG9yRGlhbG9nLnByb3RvdHlwZS5kZWZhdWx0Q29sb3JzO1N0eWxlRm9ybWF0UGFuZWwucHJvdG90eXBlLmRlZmF1bHRDb2xvclNjaGVtZXM9YS5kZWZhdWx0Q29sb3JTY2hlbWVzfHxTdHlsZUZvcm1hdFBhbmVsLnByb3RvdHlwZS5kZWZhdWx0Q29sb3JTY2hlbWVzO0dyYXBoLnByb3RvdHlwZS5kZWZhdWx0RWRnZUxlbmd0aD1hLmRlZmF1bHRFZGdlTGVuZ3RofHxHcmFwaC5wcm90b3R5cGUuZGVmYXVsdEVkZ2VMZW5ndGg7RHJhd2lvRmlsZS5wcm90b3R5cGUuYXV0b3NhdmVEZWxheT1hLmF1dG9zYXZlRGVsYXl8fERyYXdpb0ZpbGUucHJvdG90eXBlLmF1dG9zYXZlRGVsYXk7bnVsbCE9YS50ZW1wbGF0ZUZpbGUmJihFZGl0b3JVaS50ZW1wbGF0ZUZpbGU9YS50ZW1wbGF0ZUZpbGUpO251bGwhPWEuZ2xvYmFsVmFycyYmKEVkaXRvci5nbG9iYWxWYXJzPWEuZ2xvYmFsVmFycyk7bnVsbCE9CmEuY29tcHJlc3NYbWwmJihFZGl0b3IuY29tcHJlc3NYbWw9YS5jb21wcmVzc1htbCk7YS5jdXN0b21Gb250cyYmKE1lbnVzLnByb3RvdHlwZS5kZWZhdWx0Rm9udHM9YS5jdXN0b21Gb250cy5jb25jYXQoTWVudXMucHJvdG90eXBlLmRlZmF1bHRGb250cykpO2EuY3VzdG9tUHJlc2V0Q29sb3JzJiYoQ29sb3JEaWFsb2cucHJvdG90eXBlLnByZXNldENvbG9ycz1hLmN1c3RvbVByZXNldENvbG9ycy5jb25jYXQoQ29sb3JEaWFsb2cucHJvdG90eXBlLnByZXNldENvbG9ycykpO251bGwhPWEuY3VzdG9tQ29sb3JTY2hlbWVzJiYoU3R5bGVGb3JtYXRQYW5lbC5wcm90b3R5cGUuZGVmYXVsdENvbG9yU2NoZW1lcz1hLmN1c3RvbUNvbG9yU2NoZW1lcy5jb25jYXQoU3R5bGVGb3JtYXRQYW5lbC5wcm90b3R5cGUuZGVmYXVsdENvbG9yU2NoZW1lcykpO2lmKG51bGwhPWEuY3NzKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO2Uuc2V0QXR0cmlidXRlKCJ0eXBlIiwidGV4dC9jc3MiKTsKZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShhLmNzcykpO3ZhciBjPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKVswXTtjLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsYyl9bnVsbCE9YS5saWJyYXJpZXMmJihTaWRlYmFyLnByb3RvdHlwZS5jdXN0b21FbnRyaWVzPWEubGlicmFyaWVzKTtudWxsIT1hLmVuYWJsZWRMaWJyYXJpZXMmJihTaWRlYmFyLnByb3RvdHlwZS5lbmFibGVkTGlicmFyaWVzPWEuZW5hYmxlZExpYnJhcmllcyk7bnVsbCE9YS5kZWZhdWx0TGlicmFyaWVzJiYoU2lkZWJhci5wcm90b3R5cGUuZGVmYXVsdEVudHJpZXM9YS5kZWZhdWx0TGlicmFyaWVzKTtudWxsIT1hLmRlZmF1bHRDdXN0b21MaWJyYXJpZXMmJihFZGl0b3IuZGVmYXVsdEN1c3RvbUxpYnJhcmllcz1hLmRlZmF1bHRDdXN0b21MaWJyYXJpZXMpO251bGwhPWEuZW5hYmxlQ3VzdG9tTGlicmFyaWVzJiYoRWRpdG9yLmVuYWJsZUN1c3RvbUxpYnJhcmllcz0KYS5lbmFibGVDdXN0b21MaWJyYXJpZXMpO251bGwhPWEuZGVmYXVsdFZlcnRleFN0eWxlJiYoR3JhcGgucHJvdG90eXBlLmRlZmF1bHRWZXJ0ZXhTdHlsZT1hLmRlZmF1bHRWZXJ0ZXhTdHlsZSk7bnVsbCE9YS5kZWZhdWx0RWRnZVN0eWxlJiYoR3JhcGgucHJvdG90eXBlLmRlZmF1bHRFZGdlU3R5bGU9YS5kZWZhdWx0RWRnZVN0eWxlKTthLmVtcHR5RGlhZ3JhbVhtbCYmKEVkaXRvclVpLnByb3RvdHlwZS5lbXB0eURpYWdyYW1YbWw9YS5lbXB0eURpYWdyYW1YbWwpO2EudGh1bWJXaWR0aCYmKFNpZGViYXIucHJvdG90eXBlLnRodW1iV2lkdGg9YS50aHVtYldpZHRoKTthLnRodW1iSGVpZ2h0JiYoU2lkZWJhci5wcm90b3R5cGUudGh1bWJIZWlnaHQ9YS50aHVtYkhlaWdodCk7YS5lbXB0eUxpYnJhcnlYbWwmJihFZGl0b3JVaS5wcm90b3R5cGUuZW1wdHlMaWJyYXJ5WG1sPWEuZW1wdHlMaWJyYXJ5WG1sKTthLnNpZGViYXJXaWR0aCYmKEVkaXRvclVpLnByb3RvdHlwZS5oc3BsaXRQb3NpdGlvbj0KYS5zaWRlYmFyV2lkdGgpO2EuZm9udENzcyYmRWRpdG9yLmNvbmZpZ3VyZUZvbnRDc3MoYS5mb250Q3NzKTtudWxsIT1hLmF1dG9zYXZlRGVsYXkmJihlPXBhcnNlSW50KGEuYXV0b3NhdmVEZWxheSksIWlzTmFOKGUpJiYwPGU/RHJhd2lvRmlsZS5wcm90b3R5cGUuYXV0b3NhdmVEZWxheT1lOkVkaXRvclVpLmRlYnVnKCJJbnZhbGlkIGF1dG9zYXZlRGVsYXk6ICIrYS5hdXRvc2F2ZURlbGF5KSk7aWYobnVsbCE9YS5wbHVnaW5zJiYhYilmb3IoQXBwLmluaXRQbHVnaW5DYWxsYmFjaygpLGU9MDtlPGEucGx1Z2lucy5sZW5ndGg7ZSsrKW14c2NyaXB0KGEucGx1Z2luc1tlXSl9fTtFZGl0b3IuY29uZmlndXJlRm9udENzcz1mdW5jdGlvbihhKXtpZihudWxsIT1hKXtFZGl0b3IucHJvdG90eXBlLmZvbnRDc3M9YTt2YXIgYj1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2NyaXB0IilbMF07aWYobnVsbCE9YiYmbnVsbCE9Yi5wYXJlbnROb2RlKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpOwplLnNldEF0dHJpYnV0ZSgidHlwZSIsInRleHQvY3NzIik7ZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShhKSk7Yi5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlLGIpO2E9YS5zcGxpdCgidXJsKCIpO2ZvcihlPTE7ZTxhLmxlbmd0aDtlKyspe3ZhciBjPWFbZV0uaW5kZXhPZigiKSIpLGM9RWRpdG9yLnRyaW1Dc3NVcmwoYVtlXS5zdWJzdHJpbmcoMCxjKSksZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsaW5rIik7ZC5zZXRBdHRyaWJ1dGUoInJlbCIsInByZWxvYWQiKTtkLnNldEF0dHJpYnV0ZSgiaHJlZiIsYyk7ZC5zZXRBdHRyaWJ1dGUoImFzIiwiZm9udCIpO2Quc2V0QXR0cmlidXRlKCJjcm9zc29yaWdpbiIsIiIpO2IucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZCxiKX19fX07RWRpdG9yLnRyaW1Dc3NVcmw9ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShSZWdFeHAoIl5bXFxzXCInXSsiLCJnIiksIiIpLnJlcGxhY2UoUmVnRXhwKCJbXFxzXCInXSskIiwKImciKSwiIil9O0VkaXRvci5HT09HTEVfRk9OVFM9Imh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzP2ZhbWlseT0iO0VkaXRvci5HVUlEX0FMUEhBQkVUPSIwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWi1fIjtFZGl0b3IuR1VJRF9MRU5HVEg9MjA7RWRpdG9yLmd1aWQ9ZnVuY3Rpb24oYSl7YT1udWxsIT1hP2E6RWRpdG9yLkdVSURfTEVOR1RIO2Zvcih2YXIgYj1bXSxlPTA7ZTxhO2UrKyliLnB1c2goRWRpdG9yLkdVSURfQUxQSEFCRVQuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpFZGl0b3IuR1VJRF9BTFBIQUJFVC5sZW5ndGgpKSk7cmV0dXJuIGIuam9pbigiIil9O0VkaXRvci5wcm90b3R5cGUudGltZW91dD0yNUUzO0VkaXRvci5wcm90b3R5cGUudXNlRm9yZWlnbk9iamVjdEZvck1hdGg9IW14Q2xpZW50LklTX1NGO0VkaXRvci5wcm90b3R5cGUuZWRpdEJ1dHRvbkxpbms9bnVsbCE9dXJsUGFyYW1zLmVkaXQ/CmRlY29kZVVSSUNvbXBvbmVudCh1cmxQYXJhbXMuZWRpdCk6bnVsbDtFZGl0b3IucHJvdG90eXBlLmNyb3NzT3JpZ2luSW1hZ2VzPSFteENsaWVudC5JU19JRTt2YXIgYT1FZGl0b3IucHJvdG90eXBlLnNldEdyYXBoWG1sO0VkaXRvci5wcm90b3R5cGUuc2V0R3JhcGhYbWw9ZnVuY3Rpb24oYil7Yj1udWxsIT1iJiYibXhsaWJyYXJ5IiE9Yi5ub2RlTmFtZT90aGlzLmV4dHJhY3RHcmFwaE1vZGVsKGIpOm51bGw7aWYobnVsbCE9Yil7dmFyIGU9Yi5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKTtpZihudWxsIT1lJiYwPGUubGVuZ3RoKXt2YXIgZT1lWzBdLGM9ZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZGl2Iik7bnVsbCE9YyYmMDxjLmxlbmd0aCYmKGU9Y1swXSk7dGhyb3d7bWVzc2FnZTpteFV0aWxzLmdldFRleHRDb250ZW50KGUpfTt9aWYoIm14R3JhcGhNb2RlbCI9PWIubm9kZU5hbWUpe2U9Yi5nZXRBdHRyaWJ1dGUoInN0eWxlIil8fCJkZWZhdWx0LXN0eWxlMiI7CmlmKCIxIj09dXJsUGFyYW1zLmVtYmVkfHxudWxsIT1lJiYiIiE9ZSllIT10aGlzLmdyYXBoLmN1cnJlbnRTdHlsZSYmKGM9bnVsbCE9dGhpcy5ncmFwaC50aGVtZXM/dGhpcy5ncmFwaC50aGVtZXNbZV06bXhVdGlscy5sb2FkKFNUWUxFX1BBVEgrIi8iK2UrIi54bWwiKS5nZXREb2N1bWVudEVsZW1lbnQoKSxudWxsIT1jJiYoZD1uZXcgbXhDb2RlYyhjLm93bmVyRG9jdW1lbnQpLGQuZGVjb2RlKGMsdGhpcy5ncmFwaC5nZXRTdHlsZXNoZWV0KCkpKSk7ZWxzZSBpZihjPW51bGwhPXRoaXMuZ3JhcGgudGhlbWVzP3RoaXMuZ3JhcGgudGhlbWVzWyJkZWZhdWx0LW9sZCJdOm14VXRpbHMubG9hZChTVFlMRV9QQVRIKyIvZGVmYXVsdC1vbGQueG1sIikuZ2V0RG9jdW1lbnRFbGVtZW50KCksbnVsbCE9Yyl7dmFyIGQ9bmV3IG14Q29kZWMoYy5vd25lckRvY3VtZW50KTtkLmRlY29kZShjLHRoaXMuZ3JhcGguZ2V0U3R5bGVzaGVldCgpKX10aGlzLmdyYXBoLmN1cnJlbnRTdHlsZT1lO3RoaXMuZ3JhcGgubWF0aEVuYWJsZWQ9CiIxIj09dXJsUGFyYW1zLm1hdGh8fCIxIj09Yi5nZXRBdHRyaWJ1dGUoIm1hdGgiKTtlPWIuZ2V0QXR0cmlidXRlKCJiYWNrZ3JvdW5kSW1hZ2UiKTtudWxsIT1lPyhlPUpTT04ucGFyc2UoZSksdGhpcy5ncmFwaC5zZXRCYWNrZ3JvdW5kSW1hZ2UobmV3IG14SW1hZ2UoZS5zcmMsZS53aWR0aCxlLmhlaWdodCkpKTp0aGlzLmdyYXBoLnNldEJhY2tncm91bmRJbWFnZShudWxsKTtteENsaWVudC5OT19GTz10aGlzLmdyYXBoLm1hdGhFbmFibGVkJiYhdGhpcy51c2VGb3JlaWduT2JqZWN0Rm9yTWF0aD8hMDp0aGlzLm9yaWdpbmFsTm9Gb3JlaWduT2JqZWN0O3RoaXMuZ3JhcGgudXNlQ3NzVHJhbnNmb3Jtcz0hbXhDbGllbnQuTk9fRk8mJnRoaXMuaXNDaHJvbWVsZXNzVmlldygpJiZ0aGlzLmdyYXBoLmlzQ3NzVHJhbnNmb3Jtc1N1cHBvcnRlZCgpO3RoaXMuZ3JhcGgudXBkYXRlQ3NzVHJhbnNmb3JtKCk7dGhpcy5ncmFwaC5zZXRTaGFkb3dWaXNpYmxlKCIxIj09Yi5nZXRBdHRyaWJ1dGUoInNoYWRvdyIpLAohMSk7aWYoZT1iLmdldEF0dHJpYnV0ZSgiZXh0Rm9udHMiKSl0cnl7Zm9yKGU9ZS5zcGxpdCgifCIpLm1hcChmdW5jdGlvbihhKXthPWEuc3BsaXQoIl4iKTtyZXR1cm57bmFtZTphWzBdLHVybDphWzFdfX0pLGM9MDtjPGUubGVuZ3RoO2MrKyl0aGlzLmdyYXBoLmFkZEV4dEZvbnQoZVtjXS5uYW1lLGVbY10udXJsKX1jYXRjaChPKXtjb25zb2xlLmxvZygiRXh0Rm9udHMgZm9ybWF0IGVycm9yOiAiK08ubWVzc2FnZSl9fWEuYXBwbHkodGhpcyxhcmd1bWVudHMpfWVsc2UgdGhyb3d7bWVzc2FnZTpteFJlc291cmNlcy5nZXQoIm5vdEFEaWFncmFtRmlsZSIpfHwiSW52YWxpZCBkYXRhIix0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1lc3NhZ2V9fTt9O3ZhciBjPUVkaXRvci5wcm90b3R5cGUuZ2V0R3JhcGhYbWw7RWRpdG9yLnByb3RvdHlwZS5nZXRHcmFwaFhtbD1mdW5jdGlvbihhKXthPW51bGwhPWE/YTohMDt2YXIgYj1jLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtudWxsIT0KdGhpcy5ncmFwaC5jdXJyZW50U3R5bGUmJiJkZWZhdWx0LXN0eWxlMiIhPXRoaXMuZ3JhcGguY3VycmVudFN0eWxlJiZiLnNldEF0dHJpYnV0ZSgic3R5bGUiLHRoaXMuZ3JhcGguY3VycmVudFN0eWxlKTtudWxsIT10aGlzLmdyYXBoLmJhY2tncm91bmRJbWFnZSYmYi5zZXRBdHRyaWJ1dGUoImJhY2tncm91bmRJbWFnZSIsSlNPTi5zdHJpbmdpZnkodGhpcy5ncmFwaC5iYWNrZ3JvdW5kSW1hZ2UpKTtiLnNldEF0dHJpYnV0ZSgibWF0aCIsdGhpcy5ncmFwaC5tYXRoRW5hYmxlZD8iMSI6IjAiKTtiLnNldEF0dHJpYnV0ZSgic2hhZG93Iix0aGlzLmdyYXBoLnNoYWRvd1Zpc2libGU/IjEiOiIwIik7aWYobnVsbCE9dGhpcy5ncmFwaC5leHRGb250cyYmMDx0aGlzLmdyYXBoLmV4dEZvbnRzLmxlbmd0aCl7dmFyIGU9dGhpcy5ncmFwaC5leHRGb250cy5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEubmFtZSsiXiIrYS51cmx9KTtiLnNldEF0dHJpYnV0ZSgiZXh0Rm9udHMiLGUuam9pbigifCIpKX1yZXR1cm4gYn07CkVkaXRvci5wcm90b3R5cGUuaXNEYXRhU3ZnPWZ1bmN0aW9uKGEpe3RyeXt2YXIgYj1teFV0aWxzLnBhcnNlWG1sKGEpLmRvY3VtZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoImNvbnRlbnQiKTtpZihudWxsIT1iJiYobnVsbCE9YiYmIjwiIT1iLmNoYXJBdCgwKSYmIiUiIT1iLmNoYXJBdCgwKSYmKGI9dW5lc2NhcGUod2luZG93LmF0b2I/YXRvYihiKTpCYXNlNjQuZGVjb2RlKGNvbnQsYikpKSxudWxsIT1iJiYiJSI9PWIuY2hhckF0KDApJiYoYj1kZWNvZGVVUklDb21wb25lbnQoYikpLG51bGwhPWImJjA8Yi5sZW5ndGgpKXt2YXIgZT1teFV0aWxzLnBhcnNlWG1sKGIpLmRvY3VtZW50RWxlbWVudDtyZXR1cm4ibXhmaWxlIj09ZS5ub2RlTmFtZXx8Im14R3JhcGhNb2RlbCI9PWUubm9kZU5hbWV9fWNhdGNoKE4pe31yZXR1cm4hMX07RWRpdG9yLnByb3RvdHlwZS5leHRyYWN0R3JhcGhNb2RlbD1mdW5jdGlvbihhLGIsZSl7cmV0dXJuIEVkaXRvci5leHRyYWN0R3JhcGhNb2RlbC5hcHBseSh0aGlzLAphcmd1bWVudHMpfTt2YXIgZj1FZGl0b3IucHJvdG90eXBlLnJlc2V0R3JhcGg7RWRpdG9yLnByb3RvdHlwZS5yZXNldEdyYXBoPWZ1bmN0aW9uKCl7dGhpcy5ncmFwaC5tYXRoRW5hYmxlZD0iMSI9PXVybFBhcmFtcy5tYXRoO3RoaXMuZ3JhcGgudmlldy54MD1udWxsO3RoaXMuZ3JhcGgudmlldy55MD1udWxsO214Q2xpZW50Lk5PX0ZPPXRoaXMuZ3JhcGgubWF0aEVuYWJsZWQmJiF0aGlzLnVzZUZvcmVpZ25PYmplY3RGb3JNYXRoPyEwOnRoaXMub3JpZ2luYWxOb0ZvcmVpZ25PYmplY3Q7dGhpcy5ncmFwaC51c2VDc3NUcmFuc2Zvcm1zPSFteENsaWVudC5OT19GTyYmdGhpcy5pc0Nocm9tZWxlc3NWaWV3KCkmJnRoaXMuZ3JhcGguaXNDc3NUcmFuc2Zvcm1zU3VwcG9ydGVkKCk7dGhpcy5ncmFwaC51cGRhdGVDc3NUcmFuc2Zvcm0oKTtmLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dmFyIGQ9RWRpdG9yLnByb3RvdHlwZS51cGRhdGVHcmFwaENvbXBvbmVudHM7RWRpdG9yLnByb3RvdHlwZS51cGRhdGVHcmFwaENvbXBvbmVudHM9CmZ1bmN0aW9uKCl7ZC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bXhDbGllbnQuTk9fRk89dGhpcy5ncmFwaC5tYXRoRW5hYmxlZCYmIXRoaXMudXNlRm9yZWlnbk9iamVjdEZvck1hdGgmJm51bGwhPUVkaXRvci5NYXRoSmF4UmVuZGVyPyEwOnRoaXMub3JpZ2luYWxOb0ZvcmVpZ25PYmplY3Q7dGhpcy5ncmFwaC51c2VDc3NUcmFuc2Zvcm1zPSFteENsaWVudC5OT19GTyYmdGhpcy5pc0Nocm9tZWxlc3NWaWV3KCkmJnRoaXMuZ3JhcGguaXNDc3NUcmFuc2Zvcm1zU3VwcG9ydGVkKCk7dGhpcy5ncmFwaC51cGRhdGVDc3NUcmFuc2Zvcm0oKX07RWRpdG9yLmluaXRNYXRoPWZ1bmN0aW9uKGEsYil7YT1udWxsIT1hP2E6RFJBV19NQVRIX1VSTCsiL01hdGhKYXguanMiO0VkaXRvci5tYXRoSmF4UXVldWU9W107RWRpdG9yLmRvTWF0aEpheFJlbmRlcj1mdW5jdGlvbihhKXt3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpeyJoaWRkZW4iIT1hLnN0eWxlLnZpc2liaWxpdHkmJk1hdGhKYXguSHViLlF1ZXVlKFsiVHlwZXNldCIsCk1hdGhKYXguSHViLGFdKX0sMCl9O3ZhciBlPW51bGwhPXVybFBhcmFtc1sibWF0aC1mb250Il0/ZGVjb2RlVVJJQ29tcG9uZW50KHVybFBhcmFtc1sibWF0aC1mb250Il0pOiJUZVgiO2I9bnVsbCE9Yj9iOntqYXg6WyJpbnB1dC9UZVgiLCJpbnB1dC9NYXRoTUwiLCJpbnB1dC9Bc2NpaU1hdGgiXS5jb25jYXQoWyJodG1sIj09dXJsUGFyYW1zWyJtYXRoLW91dHB1dCJdPyJvdXRwdXQvSFRNTC1DU1MiOiJvdXRwdXQvU1ZHIl0pLGV4dGVuc2lvbnM6WyJ0ZXgyamF4LmpzIiwibW1sMmpheC5qcyIsImFzY2lpbWF0aDJqYXguanMiXSxUZVg6e2V4dGVuc2lvbnM6WyJBTVNtYXRoLmpzIiwiQU1Tc3ltYm9scy5qcyIsIm5vRXJyb3JzLmpzIiwibm9VbmRlZmluZWQuanMiXX0sIkhUTUwtQ1NTIjp7YXZhaWxhYmxlRm9udHM6W2VdLGltYWdlRm9udDpudWxsfSxTVkc6e2ZvbnQ6ZSx1c2VGb250Q2FjaGU6ITF9LHRleDJqYXg6e2lnbm9yZUNsYXNzOiJteENlbGxFZGl0b3IifSxhc2NpaW1hdGgyamF4OntpZ25vcmVDbGFzczoibXhDZWxsRWRpdG9yIn19Owp3aW5kb3cuTWF0aEpheD17c2tpcFN0YXJ0dXBUeXBlc2V0OiEwLHNob3dNYXRoTWVudTohMSxtZXNzYWdlU3R5bGU6Im5vbmUiLEF1dGhvckluaXQ6ZnVuY3Rpb24oKXtNYXRoSmF4Lkh1Yi5Db25maWcoYik7TWF0aEpheC5IdWIuUmVnaXN0ZXIuU3RhcnR1cEhvb2soIkJlZ2luIixmdW5jdGlvbigpe2Zvcih2YXIgYT0wO2E8RWRpdG9yLm1hdGhKYXhRdWV1ZS5sZW5ndGg7YSsrKUVkaXRvci5kb01hdGhKYXhSZW5kZXIoRWRpdG9yLm1hdGhKYXhRdWV1ZVthXSl9KX19O0VkaXRvci5NYXRoSmF4UmVuZGVyPWZ1bmN0aW9uKGEpeyJ1bmRlZmluZWQiIT09dHlwZW9mIE1hdGhKYXgmJiJ1bmRlZmluZWQiIT09dHlwZW9mIE1hdGhKYXguSHViP0VkaXRvci5kb01hdGhKYXhSZW5kZXIoYSk6RWRpdG9yLm1hdGhKYXhRdWV1ZS5wdXNoKGEpfTtFZGl0b3IuTWF0aEpheENsZWFyPWZ1bmN0aW9uKCl7RWRpdG9yLm1hdGhKYXhRdWV1ZT1bXX07dmFyIGM9RWRpdG9yLnByb3RvdHlwZS5pbml0O0VkaXRvci5wcm90b3R5cGUuaW5pdD0KZnVuY3Rpb24oKXtjLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmdyYXBoLmFkZExpc3RlbmVyKG14RXZlbnQuU0laRSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGIpe251bGwhPXRoaXMuZ3JhcGguY29udGFpbmVyJiZ0aGlzLmdyYXBoLm1hdGhFbmFibGVkJiYhdGhpcy5ncmFwaC5ibG9ja01hdGhSZW5kZXImJkVkaXRvci5NYXRoSmF4UmVuZGVyKHRoaXMuZ3JhcGguY29udGFpbmVyKX0pKX07ZT1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2NyaXB0Iik7aWYobnVsbCE9ZSYmMDxlLmxlbmd0aCl7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7ZC50eXBlPSJ0ZXh0L2phdmFzY3JpcHQiO2Quc3JjPWE7ZVswXS5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGQpfX07RWRpdG9yLnByb3RvdHlwZS5jc3ZUb0FycmF5PWZ1bmN0aW9uKGEpe2lmKCEvXlxzKig/OidbXidcXF0qKD86XFxbXFNcc11bXidcXF0qKSonfCJbXiJcXF0qKD86XFxbXFNcc11bXiJcXF0qKSoifFteLCciXHNcXF0qKD86XHMrW14sJyJcc1xcXSspKilccyooPzosXHMqKD86J1teJ1xcXSooPzpcXFtcU1xzXVteJ1xcXSopKid8IlteIlxcXSooPzpcXFtcU1xzXVteIlxcXSopKiJ8W14sJyJcc1xcXSooPzpccytbXiwnIlxzXFxdKykqKVxzKikqJC8udGVzdChhKSlyZXR1cm4gbnVsbDsKdmFyIGI9W107YS5yZXBsYWNlKC8oPyFccyokKVxzKig/OicoW14nXFxdKig/OlxcW1xTXHNdW14nXFxdKikqKSd8IihbXiJcXF0qKD86XFxbXFNcc11bXiJcXF0qKSopInwoW14sJyJcc1xcXSooPzpccytbXiwnIlxzXFxdKykqKSlccyooPzosfCQpL2csZnVuY3Rpb24oYSxlLGMsZCl7dm9pZCAwIT09ZT9iLnB1c2goZS5yZXBsYWNlKC9cXCcvZywiJyIpKTp2b2lkIDAhPT1jP2IucHVzaChjLnJlcGxhY2UoL1xcIi9nLCciJykpOnZvaWQgMCE9PWQmJmIucHVzaChkKTtyZXR1cm4iIn0pOy8sXHMqJC8udGVzdChhKSYmYi5wdXNoKCIiKTtyZXR1cm4gYn07RWRpdG9yLnByb3RvdHlwZS5pc0NvcnNFbmFibGVkRm9yVXJsPWZ1bmN0aW9uKGEpe2lmKG14Q2xpZW50LklTX0NIUk9NRUFQUHx8RWRpdG9yVWkuaXNFbGVjdHJvbkFwcClyZXR1cm4hMDtudWxsIT11cmxQYXJhbXMuY29ycyYmbnVsbD09dGhpcy5jb3JzUmVnRXhwJiYodGhpcy5jb3JzUmVnRXhwPW5ldyBSZWdFeHAoZGVjb2RlVVJJQ29tcG9uZW50KHVybFBhcmFtcy5jb3JzKSkpOwpyZXR1cm4gbnVsbCE9dGhpcy5jb3JzUmVnRXhwJiZ0aGlzLmNvcnNSZWdFeHAudGVzdChhKXx8Imh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS8iPT09YS5zdWJzdHJpbmcoMCwzNCl9O0VkaXRvci5wcm90b3R5cGUuY3JlYXRlSW1hZ2VVcmxDb252ZXJ0ZXI9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgbXhVcmxDb252ZXJ0ZXI7YS51cGRhdGVCYXNlVXJsKCk7dmFyIGI9YS5jb252ZXJ0LGU9dGhpczthLmNvbnZlcnQ9ZnVuY3Rpb24oYyl7aWYobnVsbCE9Yyl7dmFyIGQ9Imh0dHA6Ly8iPT1jLnN1YnN0cmluZygwLDcpfHwiaHR0cHM6Ly8iPT1jLnN1YnN0cmluZygwLDgpO2QmJiFuYXZpZ2F0b3Iub25MaW5lP2M9RWRpdG9yLnN2Z0Jyb2tlbkltYWdlLnNyYzohZHx8Yy5zdWJzdHJpbmcoMCxhLmJhc2VVcmwubGVuZ3RoKT09YS5iYXNlVXJsfHxlLmNyb3NzT3JpZ2luSW1hZ2VzJiZlLmlzQ29yc0VuYWJsZWRGb3JVcmwoYyk/ImNocm9tZS1leHRlbnNpb246Ly8iPT1jLnN1YnN0cmluZygwLAoxOSl8fG14Q2xpZW50LklTX0NIUk9NRUFQUHx8KGM9Yi5hcHBseSh0aGlzLGFyZ3VtZW50cykpOmM9UFJPWFlfVVJMKyI/dXJsPSIrZW5jb2RlVVJJQ29tcG9uZW50KGMpfXJldHVybiBjfTtyZXR1cm4gYX07RWRpdG9yLmNyZWF0ZVN2Z0RhdGFVcmk9ZnVuY3Rpb24oYSl7cmV0dXJuImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsIitidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChhKSkpfTtFZGl0b3IucHJvdG90eXBlLmNvbnZlcnRJbWFnZVRvRGF0YVVyaT1mdW5jdGlvbihhLGIpe3RyeXt2YXIgZT0hMCxjPXdpbmRvdy5zZXRUaW1lb3V0KG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7ZT0hMTtiKEVkaXRvci5zdmdCcm9rZW5JbWFnZS5zcmMpfSksdGhpcy50aW1lb3V0KTtpZigvKFwuc3ZnKSQvaS50ZXN0KGEpKW14VXRpbHMuZ2V0KGEsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7d2luZG93LmNsZWFyVGltZW91dChjKTtlJiZiKEVkaXRvci5jcmVhdGVTdmdEYXRhVXJpKGEuZ2V0VGV4dCgpKSl9KSwKZnVuY3Rpb24oKXt3aW5kb3cuY2xlYXJUaW1lb3V0KGMpO2UmJmIoRWRpdG9yLnN2Z0Jyb2tlbkltYWdlLnNyYyl9KTtlbHNle3ZhciBkPW5ldyBJbWFnZTt0aGlzLmNyb3NzT3JpZ2luSW1hZ2VzJiYoZC5jcm9zc09yaWdpbj0iYW5vbnltb3VzIik7ZC5vbmxvYWQ9ZnVuY3Rpb24oKXt3aW5kb3cuY2xlYXJUaW1lb3V0KGMpO2lmKGUpdHJ5e3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpLGY9YS5nZXRDb250ZXh0KCIyZCIpO2EuaGVpZ2h0PWQuaGVpZ2h0O2Eud2lkdGg9ZC53aWR0aDtmLmRyYXdJbWFnZShkLDAsMCk7YihhLnRvRGF0YVVSTCgpKX1jYXRjaChlYSl7YihFZGl0b3Iuc3ZnQnJva2VuSW1hZ2Uuc3JjKX19O2Qub25lcnJvcj1mdW5jdGlvbigpe3dpbmRvdy5jbGVhclRpbWVvdXQoYyk7ZSYmYihFZGl0b3Iuc3ZnQnJva2VuSW1hZ2Uuc3JjKX07ZC5zcmM9YX19Y2F0Y2goSCl7YihFZGl0b3Iuc3ZnQnJva2VuSW1hZ2Uuc3JjKX19O0VkaXRvci5wcm90b3R5cGUuY29udmVydEltYWdlcz0KZnVuY3Rpb24oYSxiLGUsYyl7bnVsbD09YyYmKGM9dGhpcy5jcmVhdGVJbWFnZVVybENvbnZlcnRlcigpKTt2YXIgZD0wLGY9ZXx8e307ZT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihlLGcpe2Zvcih2YXIgbD1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpLG49MDtuPGwubGVuZ3RoO24rKylteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihlKXt0cnl7aWYobnVsbCE9ZSl7dmFyIGw9Yy5jb252ZXJ0KGUuZ2V0QXR0cmlidXRlKGcpKTtpZihudWxsIT1sJiYiZGF0YToiIT1sLnN1YnN0cmluZygwLDUpKXt2YXIgbj1mW2xdO251bGw9PW4/KGQrKyx0aGlzLmNvbnZlcnRJbWFnZVRvRGF0YVVyaShsLGZ1bmN0aW9uKGMpe251bGwhPWMmJihmW2xdPWMsZS5zZXRBdHRyaWJ1dGUoZyxjKSk7ZC0tOzA9PWQmJmIoYSl9KSk6ZS5zZXRBdHRyaWJ1dGUoZyxuKX1lbHNlIG51bGwhPWwmJmUuc2V0QXR0cmlidXRlKGcsbCl9fWNhdGNoKGdhKXt9fSkobFtuXSl9KTtlKCJpbWFnZSIsInhsaW5rOmhyZWYiKTsKZSgiaW1nIiwic3JjIik7MD09ZCYmYihhKX07RWRpdG9yLmJhc2U2NEVuY29kZT1mdW5jdGlvbihhKXtmb3IodmFyIGI9IiIsZT0wLGM9YS5sZW5ndGgsZCxmLGc7ZTxjOyl7ZD1hLmNoYXJDb2RlQXQoZSsrKSYyNTU7aWYoZT09Yyl7Yis9IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8iLmNoYXJBdChkPj4yKTtiKz0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyIuY2hhckF0KChkJjMpPDw0KTtiKz0iPT0iO2JyZWFrfWY9YS5jaGFyQ29kZUF0KGUrKyk7aWYoZT09Yyl7Yis9IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8iLmNoYXJBdChkPj4yKTtiKz0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyIuY2hhckF0KChkJgozKTw8NHwoZiYyNDApPj40KTtiKz0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyIuY2hhckF0KChmJjE1KTw8Mik7Yis9Ij0iO2JyZWFrfWc9YS5jaGFyQ29kZUF0KGUrKyk7Yis9IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8iLmNoYXJBdChkPj4yKTtiKz0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyIuY2hhckF0KChkJjMpPDw0fChmJjI0MCk+PjQpO2IrPSJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvIi5jaGFyQXQoKGYmMTUpPDwyfChnJjE5Mik+PjYpO2IrPSJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvIi5jaGFyQXQoZyY2Myl9cmV0dXJuIGJ9OwpFZGl0b3IucHJvdG90eXBlLmxvYWRVcmw9ZnVuY3Rpb24oYSxiLGUsYyxkLGYsZyxsKXt0cnl7dmFyIG49IWcmJihjfHwvKFwucG5nKSgkfFw/KS9pLnRlc3QoYSl8fC8oXC5qcGU/ZykoJHxcPykvaS50ZXN0KGEpfHwvKFwuZ2lmKSgkfFw/KS9pLnRlc3QoYSl8fC8oXC5wZGYpKCR8XD8pL2kudGVzdChhKSk7ZD1udWxsIT1kP2Q6ITA7dmFyIHA9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtteFV0aWxzLmdldChhLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe2lmKDIwMDw9YS5nZXRTdGF0dXMoKSYmMjk5Pj1hLmdldFN0YXR1cygpKXtpZihudWxsIT1iKXt2YXIgYz1hLmdldFRleHQoKTtpZihuKXtpZigoOT09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHwxMD09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSYmInVuZGVmaW5lZCIhPT10eXBlb2Ygd2luZG93Lm14VXRpbHNCaW5hcnlUb0FycmF5KXthPW14VXRpbHNCaW5hcnlUb0FycmF5KGEucmVxdWVzdC5yZXNwb25zZUJvZHkpLnRvQXJyYXkoKTsKZm9yKHZhciBjPUFycmF5KGEubGVuZ3RoKSxkPTA7ZDxhLmxlbmd0aDtkKyspY1tkXT1TdHJpbmcuZnJvbUNoYXJDb2RlKGFbZF0pO2M9Yy5qb2luKCIiKX1mPW51bGwhPWY/ZjoiZGF0YTppbWFnZS9wbmc7YmFzZTY0LCI7Yz1mK0VkaXRvci5iYXNlNjRFbmNvZGUoYyl9YihjKX19ZWxzZSBudWxsIT1lJiYoMD09YS5nZXRTdGF0dXMoKT9lKHttZXNzYWdlOm14UmVzb3VyY2VzLmdldCgiYWNjZXNzRGVuaWVkIil9LGEpOmUoe21lc3NhZ2U6bXhSZXNvdXJjZXMuZ2V0KCJlcnJvciIpKyIgIithLmdldFN0YXR1cygpfSxhKSl9KSxmdW5jdGlvbihhKXtudWxsIT1lJiZlKHttZXNzYWdlOm14UmVzb3VyY2VzLmdldCgiZXJyb3IiKSsiICIrYS5nZXRTdGF0dXMoKX0pfSxuLHRoaXMudGltZW91dCxmdW5jdGlvbigpe2QmJm51bGwhPWUmJmUoe2NvZGU6QXBwLkVSUk9SX1RJTUVPVVQscmV0cnk6cH0pfSxsKX0pO3AoKX1jYXRjaChaKXtudWxsIT1lJiZlKFopfX07RWRpdG9yLnByb3RvdHlwZS5hYnNvbHV0ZUNzc0ZvbnRzPQpmdW5jdGlvbihhKXt2YXIgYj1udWxsO2lmKG51bGwhPWEpe3ZhciBlPWEuc3BsaXQoInVybCgiKTtpZigwPGUubGVuZ3RoKXtiPVtlWzBdXTthPXdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTt2YXIgYz1udWxsIT1hP2EubGFzdEluZGV4T2YoIi8iKTotMTswPD1jJiYoYT1hLnN1YnN0cmluZygwLGMrMSkpO3ZhciBjPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJiYXNlIiksZD1udWxsO251bGwhPWMmJjA8Yy5sZW5ndGgmJihkPWNbMF0uZ2V0QXR0cmlidXRlKCJocmVmIikpO2Zvcih2YXIgZj0xO2Y8ZS5sZW5ndGg7ZisrKWlmKGM9ZVtmXS5pbmRleE9mKCIpIiksMDxjKXt2YXIgZz1FZGl0b3IudHJpbUNzc1VybChlW2ZdLnN1YnN0cmluZygwLGMpKTt0aGlzLmdyYXBoLmlzUmVsYXRpdmVVcmwoZykmJihnPW51bGwhPWQ/ZCtnOndpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCsiLy8iK3dpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSsoIi8iPT1nLmNoYXJBdCgwKT8iIjphKStnKTsKYi5wdXNoKCd1cmwoIicrZysnIicrZVtmXS5zdWJzdHJpbmcoYykpfWVsc2UgYi5wdXNoKGVbZl0pfWVsc2UgYj1bYV19cmV0dXJuIG51bGwhPWI/Yi5qb2luKCIiKTpudWxsfTtFZGl0b3IucHJvdG90eXBlLmVtYmVkQ3NzRm9udHM9ZnVuY3Rpb24oYSxiKXt2YXIgZT1hLnNwbGl0KCJ1cmwoIiksYz0wO251bGw9PXRoaXMuY2FjaGVkRm9udHMmJih0aGlzLmNhY2hlZEZvbnRzPXt9KTt2YXIgZD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2lmKDA9PWMpe2Zvcih2YXIgYT1bZVswXV0sZD0xO2Q8ZS5sZW5ndGg7ZCsrKXt2YXIgZj1lW2RdLmluZGV4T2YoIikiKTthLnB1c2goJ3VybCgiJyk7YS5wdXNoKHRoaXMuY2FjaGVkRm9udHNbRWRpdG9yLnRyaW1Dc3NVcmwoZVtkXS5zdWJzdHJpbmcoMCxmKSldKTthLnB1c2goJyInK2VbZF0uc3Vic3RyaW5nKGYpKX1iKGEuam9pbigiIikpfX0pO2lmKDA8ZS5sZW5ndGgpe2Zvcih2YXIgZj0xO2Y8ZS5sZW5ndGg7ZisrKXt2YXIgZz1lW2ZdLmluZGV4T2YoIikiKSwKbD1udWxsLG49ZVtmXS5pbmRleE9mKCJmb3JtYXQoIixnKTswPG4mJihsPUVkaXRvci50cmltQ3NzVXJsKGVbZl0uc3Vic3RyaW5nKG4rNyxlW2ZdLmluZGV4T2YoIikiLG4pKSkpO214VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe2lmKG51bGw9PXRoaXMuY2FjaGVkRm9udHNbYV0pe3RoaXMuY2FjaGVkRm9udHNbYV09YTtjKys7dmFyIGI9ImFwcGxpY2F0aW9uL3gtZm9udC10dGYiO2lmKCJzdmciPT1sfHwvKFwuc3ZnKSgkfFw/KS9pLnRlc3QoYSkpYj0iaW1hZ2Uvc3ZnK3htbCI7ZWxzZSBpZigib3RmIj09bHx8ImVtYmVkZGVkLW9wZW50eXBlIj09bHx8LyhcLm90ZikoJHxcPykvaS50ZXN0KGEpKWI9ImFwcGxpY2F0aW9uL3gtZm9udC1vcGVudHlwZSI7ZWxzZSBpZigid29mZiI9PWx8fC8oXC53b2ZmKSgkfFw/KS9pLnRlc3QoYSkpYj0iYXBwbGljYXRpb24vZm9udC13b2ZmIjtlbHNlIGlmKCJ3b2ZmMiI9PWx8fC8oXC53b2ZmMikoJHxcPykvaS50ZXN0KGEpKWI9ImFwcGxpY2F0aW9uL2ZvbnQtd29mZjIiOwplbHNlIGlmKCJlb3QiPT1sfHwvKFwuZW90KSgkfFw/KS9pLnRlc3QoYSkpYj0iYXBwbGljYXRpb24vdm5kLm1zLWZvbnRvYmplY3QiO2Vsc2UgaWYoInNmbnQiPT1sfHwvKFwuc2ZudCkoJHxcPykvaS50ZXN0KGEpKWI9ImFwcGxpY2F0aW9uL2ZvbnQtc2ZudCI7dmFyIGU9YTsvXmh0dHBzPzpcL1wvLy50ZXN0KGUpJiYhdGhpcy5pc0NvcnNFbmFibGVkRm9yVXJsKGUpJiYoZT1QUk9YWV9VUkwrIj91cmw9IitlbmNvZGVVUklDb21wb25lbnQoYSkpO3RoaXMubG9hZFVybChlLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe3RoaXMuY2FjaGVkRm9udHNbYV09YjtjLS07ZCgpfSksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7Yy0tO2QoKX0pLCEwLG51bGwsImRhdGE6IitiKyI7Y2hhcnNldD11dGYtODtiYXNlNjQsIil9fSkoRWRpdG9yLnRyaW1Dc3NVcmwoZVtmXS5zdWJzdHJpbmcoMCxnKSksbCl9ZCgpfWVsc2UgYihhKX07RWRpdG9yLnByb3RvdHlwZS5sb2FkRm9udHM9CmZ1bmN0aW9uKGEpe251bGwhPXRoaXMuZm9udENzcyYmbnVsbD09dGhpcy5yZXNvbHZlZEZvbnRDc3M/dGhpcy5lbWJlZENzc0ZvbnRzKHRoaXMuZm9udENzcyxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXt0aGlzLnJlc29sdmVkRm9udENzcz1iO2EoKX0pKTphKCl9O0VkaXRvci5wcm90b3R5cGUuZW1iZWRFeHRGb250cz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdyYXBoLmV4dEZvbnRzO2lmKG51bGwhPWImJjA8Yi5sZW5ndGgpe3ZhciBlPSIiLGM9MDtudWxsPT10aGlzLmNhY2hlZEdvb2dsZUZvbnRzJiYodGhpcy5jYWNoZWRHb29nbGVGb250cz17fSk7Zm9yKHZhciBkPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7MD09YyYmdGhpcy5lbWJlZENzc0ZvbnRzKGUsYSl9KSxmPTA7ZjxiLmxlbmd0aDtmKyspbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxiKXswPT1iLmluZGV4T2YoRWRpdG9yLkdPT0dMRV9GT05UUyk/bnVsbD09dGhpcy5jYWNoZWRHb29nbGVGb250c1tiXT8KKGMrKyx0aGlzLmxvYWRVcmwoYixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmNhY2hlZEdvb2dsZUZvbnRzW2JdPWE7ZSs9YTtjLS07ZCgpfSksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7Yy0tO2UrPSJAaW1wb3J0IHVybCgiK2IrIik7IjtkKCl9KSkpOmUrPXRoaXMuY2FjaGVkR29vZ2xlRm9udHNbYl06ZSs9J0Bmb250LWZhY2Uge2ZvbnQtZmFtaWx5OiAiJythKyciO3NyYzogdXJsKCInK2IrJyIpO30nfSkoYltmXS5uYW1lLGJbZl0udXJsKTtkKCl9ZWxzZSBhKCl9O0VkaXRvci5wcm90b3R5cGUuYWRkTWF0aENzcz1mdW5jdGlvbihhKXthPWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRlZnMiKTtpZihudWxsIT1hJiYwPGEubGVuZ3RoKWZvcih2YXIgYj1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgic3R5bGUiKSxlPTA7ZTxiLmxlbmd0aDtlKyspMDxteFV0aWxzLmdldFRleHRDb250ZW50KGJbZV0pLmluZGV4T2YoIk1hdGhKYXgiKSYmYVswXS5hcHBlbmRDaGlsZChiW2VdLmNsb25lTm9kZSghMCkpfTsKRWRpdG9yLnByb3RvdHlwZS5hZGRGb250Q3NzPWZ1bmN0aW9uKGEsYil7Yj1udWxsIT1iP2I6dGhpcy5hYnNvbHV0ZUNzc0ZvbnRzKHRoaXMuZm9udENzcyk7aWYobnVsbCE9Yil7dmFyIGU9YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZGVmcyIpLGM9YS5vd25lckRvY3VtZW50OzA9PWUubGVuZ3RoPyhlPW51bGwhPWMuY3JlYXRlRWxlbWVudE5TP2MuY3JlYXRlRWxlbWVudE5TKG14Q29uc3RhbnRzLk5TX1NWRywiZGVmcyIpOmMuY3JlYXRlRWxlbWVudCgiZGVmcyIpLG51bGwhPWEuZmlyc3RDaGlsZD9hLmluc2VydEJlZm9yZShlLGEuZmlyc3RDaGlsZCk6YS5hcHBlbmRDaGlsZChlKSk6ZT1lWzBdO2M9bnVsbCE9Yy5jcmVhdGVFbGVtZW50TlM/Yy5jcmVhdGVFbGVtZW50TlMobXhDb25zdGFudHMuTlNfU1ZHLCJzdHlsZSIpOmMuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtjLnNldEF0dHJpYnV0ZSgidHlwZSIsInRleHQvY3NzIik7bXhVdGlscy5zZXRUZXh0Q29udGVudChjLGIpO2UuYXBwZW5kQ2hpbGQoYyl9fTsKRWRpdG9yLnByb3RvdHlwZS5pc0V4cG9ydFRvQ2FudmFzPWZ1bmN0aW9uKCl7cmV0dXJuIG14Q2xpZW50LklTX0NIUk9NRUFQUHx8dGhpcy51c2VDYW52YXNGb3JFeHBvcnR9O0VkaXRvci5wcm90b3R5cGUuZXhwb3J0VG9DYW52YXM9ZnVuY3Rpb24oYSxiLGUsYyxkLGYsZyxsLG4scCx0LGssbSx2LHgsQSl7dHJ5e2Y9bnVsbCE9Zj9mOiEwO2c9bnVsbCE9Zz9nOiEwO2s9bnVsbCE9az9rOnRoaXMuZ3JhcGg7bT1udWxsIT1tP206MDt2YXIgdT1uP251bGw6ay5iYWNrZ3JvdW5kO3U9PW14Q29uc3RhbnRzLk5PTkUmJih1PW51bGwpO251bGw9PXUmJih1PWMpO251bGw9PXUmJjA9PW4mJih1PUE/dGhpcy5ncmFwaC5kZWZhdWx0UGFnZUJhY2tncm91bmRDb2xvcjoiI2ZmZmZmZiIpO3RoaXMuY29udmVydEltYWdlcyhrLmdldFN2ZyhudWxsLG51bGwsbnVsbCx2LG51bGwsZyxudWxsLG51bGwsbnVsbCxwLG51bGwsQSksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oZSl7dHJ5e3ZhciBjPQpuZXcgSW1hZ2U7Yy5vbmxvYWQ9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0cnl7dmFyIGc9ZnVuY3Rpb24oKXtteENsaWVudC5JU19TRj93aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe3YuZHJhd0ltYWdlKGMsbS9sLG0vbCk7YShuKX0sMCk6KHYuZHJhd0ltYWdlKGMsbS9sLG0vbCksYShuKSl9LG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikscD1wYXJzZUludChlLmdldEF0dHJpYnV0ZSgid2lkdGgiKSksdD1wYXJzZUludChlLmdldEF0dHJpYnV0ZSgiaGVpZ2h0IikpO2w9bnVsbCE9bD9sOjE7bnVsbCE9YiYmKGw9Zj9NYXRoLm1pbigxLE1hdGgubWluKDMqYi8oNCp0KSxiL3ApKTpiL3ApO3A9TWF0aC5jZWlsKGwqcCkrMiptO3Q9TWF0aC5jZWlsKGwqdCkrMiptO24uc2V0QXR0cmlidXRlKCJ3aWR0aCIscCk7bi5zZXRBdHRyaWJ1dGUoImhlaWdodCIsdCk7dmFyIHY9bi5nZXRDb250ZXh0KCIyZCIpO251bGwhPXUmJih2LmJlZ2luUGF0aCgpLHYucmVjdCgwLAowLHAsdCksdi5maWxsU3R5bGU9dSx2LmZpbGwoKSk7di5zY2FsZShsLGwpO2lmKHgpe3ZhciB5PWsudmlldyxBPXkuc2NhbGU7eS5zY2FsZT0xO3ZhciBxPWJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHkuY3JlYXRlU3ZnR3JpZCh5LmdyaWRDb2xvcikpKSk7eS5zY2FsZT1BO3ZhciBxPSJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LCIrcSx6PWsuZ3JpZFNpemUqeS5ncmlkU3RlcHMqbCxEPWsuZ2V0R3JhcGhCb3VuZHMoKSxCPXkudHJhbnNsYXRlLngqQSxLPXkudHJhbnNsYXRlLnkqQSxDPUIrKEQueC1CKS9BLEg9SysoRC55LUspL0EsRT1uZXcgSW1hZ2U7RS5vbmxvYWQ9ZnVuY3Rpb24oKXt0cnl7Zm9yKHZhciBhPS1NYXRoLnJvdW5kKHotbXhVdGlscy5tb2QoKEItQykqbCx6KSksYj0tTWF0aC5yb3VuZCh6LW14VXRpbHMubW9kKChLLUgpKmwseikpO2E8cDthKz16KWZvcih2YXIgZT1iO2U8dDtlKz16KXYuZHJhd0ltYWdlKEUsYS9sLGUvbCk7ZygpfWNhdGNoKGthKXtudWxsIT0KZCYmZChrYSl9fTtFLm9uZXJyb3I9ZnVuY3Rpb24oYSl7bnVsbCE9ZCYmZChhKX07RS5zcmM9cX1lbHNlIGcoKX1jYXRjaChvYSl7bnVsbCE9ZCYmZChvYSl9fSk7Yy5vbmVycm9yPWZ1bmN0aW9uKGEpe251bGwhPWQmJmQoYSl9O3AmJnRoaXMuZ3JhcGguYWRkU3ZnU2hhZG93KGUpO3RoaXMuZ3JhcGgubWF0aEVuYWJsZWQmJnRoaXMuYWRkTWF0aENzcyhlKTt2YXIgZz1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RyeXtudWxsIT10aGlzLnJlc29sdmVkRm9udENzcyYmdGhpcy5hZGRGb250Q3NzKGUsdGhpcy5yZXNvbHZlZEZvbnRDc3MpLGMuc3JjPUVkaXRvci5jcmVhdGVTdmdEYXRhVXJpKG14VXRpbHMuZ2V0WG1sKGUpKX1jYXRjaChQKXtudWxsIT1kJiZkKFApfX0pO3RoaXMuZW1iZWRFeHRGb250cyhteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0cnl7bnVsbCE9YSYmdGhpcy5hZGRGb250Q3NzKGUsYSksdGhpcy5sb2FkRm9udHMoZyl9Y2F0Y2goUyl7bnVsbCE9CmQmJmQoUyl9fSkpfWNhdGNoKFApe251bGwhPWQmJmQoUCl9fSksZSx0KX1jYXRjaChRKXtudWxsIT1kJiZkKFEpfX07RWRpdG9yLmNyY1RhYmxlPVtdO2Zvcih2YXIgbT0wOzI1Nj5tO20rKylmb3IodmFyIGs9bSxxPTA7OD5xO3ErKylrPTE9PShrJjEpPzM5ODgyOTIzODReaz4+PjE6az4+PjEsRWRpdG9yLmNyY1RhYmxlW21dPWs7RWRpdG9yLnVwZGF0ZUNSQz1mdW5jdGlvbihhLGIsZSxjKXtmb3IodmFyIGQ9MDtkPGM7ZCsrKWE9RWRpdG9yLmNyY1RhYmxlWyhhXmIuY2hhckNvZGVBdChlK2QpKSYyNTVdXmE+Pj44O3JldHVybiBhfTtFZGl0b3IuY3JjMzI9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPS0xLGU9MDtlPGEubGVuZ3RoO2UrKyliPWI+Pj44XkVkaXRvci5jcmNUYWJsZVsoYl5hLmNoYXJDb2RlQXQoZSkpJjI1NV07cmV0dXJuKGJeLTEpPj4+MH07RWRpdG9yLndyaXRlR3JhcGhNb2RlbFRvUG5nPWZ1bmN0aW9uKGEsYixlLGMsZCl7ZnVuY3Rpb24gZihhLGIpe3ZhciBlPW47bis9CmI7cmV0dXJuIGEuc3Vic3RyaW5nKGUsbil9ZnVuY3Rpb24gZyhhKXthPWYoYSw0KTtyZXR1cm4gYS5jaGFyQ29kZUF0KDMpKyhhLmNoYXJDb2RlQXQoMik8PDgpKyhhLmNoYXJDb2RlQXQoMSk8PDE2KSsoYS5jaGFyQ29kZUF0KDApPDwyNCl9ZnVuY3Rpb24gbChhKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShhPj4yNCYyNTUsYT4+MTYmMjU1LGE+PjgmMjU1LGEmMjU1KX1hPWEuc3Vic3RyaW5nKGEuaW5kZXhPZigiLCIpKzEpO2E9d2luZG93LmF0b2I/YXRvYihhKTpCYXNlNjQuZGVjb2RlKGEsITApO3ZhciBuPTA7aWYoZihhLDgpIT1TdHJpbmcuZnJvbUNoYXJDb2RlKDEzNykrIlBORyIrU3RyaW5nLmZyb21DaGFyQ29kZSgxMywxMCwyNiwxMCkpbnVsbCE9ZCYmZCgpO2Vsc2UgaWYoZihhLDQpLCJJSERSIiE9ZihhLDQpKW51bGwhPWQmJmQoKTtlbHNle2YoYSwxNyk7ZD1hLnN1YnN0cmluZygwLG4pO2Rve3ZhciBwPWcoYSk7aWYoIklEQVQiPT1mKGEsNCkpe2Q9YS5zdWJzdHJpbmcoMCwKbi04KTsicEhZcyI9PWImJiJkcGkiPT1lPyhlPU1hdGgucm91bmQoYy8uMDI1NCksZT1sKGUpK2woZSkrU3RyaW5nLmZyb21DaGFyQ29kZSgxKSk6ZT1lK1N0cmluZy5mcm9tQ2hhckNvZGUoMCkrKCJ6VFh0Ij09Yj9TdHJpbmcuZnJvbUNoYXJDb2RlKDApOiIiKStjO2M9NDI5NDk2NzI5NTtjPUVkaXRvci51cGRhdGVDUkMoYyxiLDAsNCk7Yz1FZGl0b3IudXBkYXRlQ1JDKGMsZSwwLGUubGVuZ3RoKTtkKz1sKGUubGVuZ3RoKStiK2UrbChjXjQyOTQ5NjcyOTUpO2QrPWEuc3Vic3RyaW5nKG4tOCxhLmxlbmd0aCk7YnJlYWt9ZCs9YS5zdWJzdHJpbmcobi04LG4tNCtwKTtmKGEscCk7ZihhLDQpfXdoaWxlKHApO3JldHVybiJkYXRhOmltYWdlL3BuZztiYXNlNjQsIisod2luZG93LmJ0b2E/YnRvYShkKTpCYXNlNjQuZW5jb2RlKGQsITApKX19O2lmKHdpbmRvdy5Db2xvckRpYWxvZyl7RmlsZW5hbWVEaWFsb2cuZmlsZW5hbWVIZWxwTGluaz0iaHR0cHM6Ly9kZXNrLmRyYXcuaW8vc3VwcG9ydC9zb2x1dGlvbnMvYXJ0aWNsZXMvMTYwMDAwOTE0MjYiOwp2YXIgYj1Db2xvckRpYWxvZy5hZGRSZWNlbnRDb2xvcjtDb2xvckRpYWxvZy5hZGRSZWNlbnRDb2xvcj1mdW5jdGlvbihhLGUpe2IuYXBwbHkodGhpcyxhcmd1bWVudHMpO214U2V0dGluZ3Muc2V0UmVjZW50Q29sb3JzKENvbG9yRGlhbG9nLnJlY2VudENvbG9ycyk7bXhTZXR0aW5ncy5zYXZlKCl9O3ZhciBlPUNvbG9yRGlhbG9nLnJlc2V0UmVjZW50Q29sb3JzO0NvbG9yRGlhbG9nLnJlc2V0UmVjZW50Q29sb3JzPWZ1bmN0aW9uKCl7ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bXhTZXR0aW5ncy5zZXRSZWNlbnRDb2xvcnMoQ29sb3JEaWFsb2cucmVjZW50Q29sb3JzKTtteFNldHRpbmdzLnNhdmUoKX19d2luZG93LkVkaXREYXRhRGlhbG9nJiYoRWRpdERhdGFEaWFsb2cuZ2V0RGlzcGxheUlkRm9yQ2VsbD1mdW5jdGlvbihhLGIpe3ZhciBlPW51bGw7bnVsbCE9YS5lZGl0b3IuZ3JhcGguZ2V0TW9kZWwoKS5nZXRQYXJlbnQoYik/ZT1iLmdldElkKCk6bnVsbCE9YS5jdXJyZW50UGFnZSYmCihlPWEuY3VycmVudFBhZ2UuZ2V0SWQoKSk7cmV0dXJuIGV9KTtpZihudWxsIT13aW5kb3cuU3R5bGVGb3JtYXRQYW5lbCl7dmFyIGc9Rm9ybWF0LnByb3RvdHlwZS5pbml0O0Zvcm1hdC5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe2cuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuZWRpdG9yVWkuZWRpdG9yLmFkZExpc3RlbmVyKCJmaWxlTG9hZGVkIix0aGlzLnVwZGF0ZSl9O3ZhciBwPUZvcm1hdC5wcm90b3R5cGUucmVmcmVzaDtGb3JtYXQucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oKXtudWxsIT10aGlzLmVkaXRvclVpLmdldEN1cnJlbnRGaWxlKCl8fCIxIj09dXJsUGFyYW1zLmVtYmVkfHx0aGlzLmVkaXRvclVpLmVkaXRvci5jaHJvbWVsZXNzP3AuYXBwbHkodGhpcyxhcmd1bWVudHMpOnRoaXMuY2xlYXIoKX07RGlhZ3JhbUZvcm1hdFBhbmVsLnByb3RvdHlwZS5pc1NoYWRvd09wdGlvblZpc2libGU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVkaXRvclVpLmdldEN1cnJlbnRGaWxlKCk7CnJldHVybiIxIj09dXJsUGFyYW1zLmVtYmVkfHxudWxsIT1hJiZhLmlzRWRpdGFibGUoKX07RGlhZ3JhbUZvcm1hdFBhbmVsLnByb3RvdHlwZS5pc01hdGhPcHRpb25WaXNpYmxlPWZ1bmN0aW9uKGEpe3JldHVybiExfTt2YXIgbD1EaWFncmFtRm9ybWF0UGFuZWwucHJvdG90eXBlLmFkZFZpZXc7RGlhZ3JhbUZvcm1hdFBhbmVsLnByb3RvdHlwZS5hZGRWaWV3PWZ1bmN0aW9uKGEpe2E9bC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5lZGl0b3JVaS5nZXRDdXJyZW50RmlsZSgpO2lmKG14Q2xpZW50LklTX1NWRyYmdGhpcy5pc1NoYWRvd09wdGlvblZpc2libGUoKSl7dmFyIGI9dGhpcy5lZGl0b3JVaSxlPWIuZWRpdG9yLmdyYXBoLGM9dGhpcy5jcmVhdGVPcHRpb24obXhSZXNvdXJjZXMuZ2V0KCJzaGFkb3ciKSxmdW5jdGlvbigpe3JldHVybiBlLnNoYWRvd1Zpc2libGV9LGZ1bmN0aW9uKGEpe3ZhciBjPW5ldyBDaGFuZ2VQYWdlU2V0dXAoYik7Yy5pZ25vcmVDb2xvcj0hMDtjLmlnbm9yZUltYWdlPQohMDtjLnNoYWRvd1Zpc2libGU9YTtlLm1vZGVsLmV4ZWN1dGUoYyl9LHtpbnN0YWxsOmZ1bmN0aW9uKGEpe3RoaXMubGlzdGVuZXI9ZnVuY3Rpb24oKXthKGUuc2hhZG93VmlzaWJsZSl9O2IuYWRkTGlzdGVuZXIoInNoYWRvd1Zpc2libGVDaGFuZ2VkIix0aGlzLmxpc3RlbmVyKX0sZGVzdHJveTpmdW5jdGlvbigpe2IucmVtb3ZlTGlzdGVuZXIodGhpcy5saXN0ZW5lcil9fSk7RWRpdG9yLnNoYWRvd09wdGlvbkVuYWJsZWR8fChjLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbnB1dCIpWzBdLnNldEF0dHJpYnV0ZSgiZGlzYWJsZWQiLCJkaXNhYmxlZCIpLG14VXRpbHMuc2V0T3BhY2l0eShjLDYwKSk7YS5hcHBlbmRDaGlsZChjKX1yZXR1cm4gYX07dmFyIG49RGlhZ3JhbUZvcm1hdFBhbmVsLnByb3RvdHlwZS5hZGRPcHRpb25zO0RpYWdyYW1Gb3JtYXRQYW5lbC5wcm90b3R5cGUuYWRkT3B0aW9ucz1mdW5jdGlvbihhKXthPW4uYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBiPXRoaXMuZWRpdG9yVWksCmU9Yi5lZGl0b3IuZ3JhcGg7aWYoZS5pc0VuYWJsZWQoKSl7dmFyIGM9Yi5nZXRDdXJyZW50RmlsZSgpO2lmKG51bGwhPWMmJmMuaXNBdXRvc2F2ZU9wdGlvbmFsKCkpe3ZhciBkPXRoaXMuY3JlYXRlT3B0aW9uKG14UmVzb3VyY2VzLmdldCgiYXV0b3NhdmUiKSxmdW5jdGlvbigpe3JldHVybiBiLmVkaXRvci5hdXRvc2F2ZX0sZnVuY3Rpb24oYSl7Yi5lZGl0b3Iuc2V0QXV0b3NhdmUoYSk7Yi5lZGl0b3IuYXV0b3NhdmUmJmMuaXNNb2RpZmllZCgpJiZjLmZpbGVDaGFuZ2VkKCl9LHtpbnN0YWxsOmZ1bmN0aW9uKGEpe3RoaXMubGlzdGVuZXI9ZnVuY3Rpb24oKXthKGIuZWRpdG9yLmF1dG9zYXZlKX07Yi5lZGl0b3IuYWRkTGlzdGVuZXIoImF1dG9zYXZlQ2hhbmdlZCIsdGhpcy5saXN0ZW5lcil9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtiLmVkaXRvci5yZW1vdmVMaXN0ZW5lcih0aGlzLmxpc3RlbmVyKX19KTthLmFwcGVuZENoaWxkKGQpfX1pZih0aGlzLmlzTWF0aE9wdGlvblZpc2libGUoKSYmCmUuaXNFbmFibGVkKCkmJiJ1bmRlZmluZWQiIT09dHlwZW9mIE1hdGhKYXgpe2Q9dGhpcy5jcmVhdGVPcHRpb24obXhSZXNvdXJjZXMuZ2V0KCJtYXRoZW1hdGljYWxUeXBlc2V0dGluZyIpLGZ1bmN0aW9uKCl7cmV0dXJuIGUubWF0aEVuYWJsZWR9LGZ1bmN0aW9uKGEpe2IuYWN0aW9ucy5nZXQoIm1hdGhlbWF0aWNhbFR5cGVzZXR0aW5nIikuZnVuY3QoKX0se2luc3RhbGw6ZnVuY3Rpb24oYSl7dGhpcy5saXN0ZW5lcj1mdW5jdGlvbigpe2EoZS5tYXRoRW5hYmxlZCl9O2IuYWRkTGlzdGVuZXIoIm1hdGhFbmFibGVkQ2hhbmdlZCIsdGhpcy5saXN0ZW5lcil9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtiLnJlbW92ZUxpc3RlbmVyKHRoaXMubGlzdGVuZXIpfX0pO2Quc3R5bGUucGFkZGluZ1RvcD0iNXB4IjthLmFwcGVuZENoaWxkKGQpO3ZhciBmPWIubWVudXMuY3JlYXRlSGVscExpbmsoImh0dHBzOi8vZGVzay5kcmF3LmlvL3N1cHBvcnQvc29sdXRpb25zL2FydGljbGVzLzE2MDAwMDMyODc1Iik7CmYuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIjtmLnN0eWxlLm1hcmdpbkxlZnQ9IjZweCI7Zi5zdHlsZS50b3A9IjJweCI7ZC5hcHBlbmRDaGlsZChmKX1yZXR1cm4gYX07bXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLmRlZmF1bHRWZXJ0ZXhTaGFwZS5wcm90b3R5cGUuY3VzdG9tUHJvcGVydGllcz1be25hbWU6ImFyY1NpemUiLGRpc3BOYW1lOiJBcmMgU2l6ZSIsdHlwZToiZmxvYXQiLG1pbjowLGRlZlZhbDpteENvbnN0YW50cy5MSU5FX0FSQ1NJWkV9LHtuYW1lOiJhYnNvbHV0ZUFyY1NpemUiLGRpc3BOYW1lOiJBYnMuIEFyYyBTaXplIix0eXBlOiJib29sIixkZWZWYWw6ITF9XTtteENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzLmxpbmsucHJvdG90eXBlLmN1c3RvbVByb3BlcnRpZXM9W3tuYW1lOiJ3aWR0aCIsZGlzcE5hbWU6IldpZHRoIix0eXBlOiJmbG9hdCIsbWluOjAsZGVmVmFsOjR9XTtteENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzLmZsZXhBcnJvdy5wcm90b3R5cGUuY3VzdG9tUHJvcGVydGllcz0KW3tuYW1lOiJ3aWR0aCIsZGlzcE5hbWU6IldpZHRoIix0eXBlOiJmbG9hdCIsbWluOjAsZGVmVmFsOjEwfSx7bmFtZToic3RhcnRXaWR0aCIsZGlzcE5hbWU6IlN0YXJ0IFdpZHRoIix0eXBlOiJmbG9hdCIsbWluOjAsZGVmVmFsOjIwfSx7bmFtZToiZW5kV2lkdGgiLGRpc3BOYW1lOiJFbmQgV2lkdGgiLHR5cGU6ImZsb2F0IixtaW46MCxkZWZWYWw6MjB9XTtteENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzLnByb2Nlc3MucHJvdG90eXBlLmN1c3RvbVByb3BlcnRpZXM9W3tuYW1lOiJzaXplIixkaXNwTmFtZToiSW5kZW50Iix0eXBlOiJmbG9hdCIsbWluOjAsbWF4Oi41LGRlZlZhbDouMX1dO214Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXMucmhvbWJ1cy5wcm90b3R5cGUuY3VzdG9tUHJvcGVydGllcz1be25hbWU6ImFyY1NpemUiLGRpc3BOYW1lOiJBcmMgU2l6ZSIsdHlwZToiZmxvYXQiLG1pbjowLG1heDo1MCxkZWZWYWw6bXhDb25zdGFudHMuTElORV9BUkNTSVpFfSx7bmFtZToiZG91YmxlIiwKZGlzcE5hbWU6IkRvdWJsZSIsdHlwZToiYm9vbCIsZGVmVmFsOiExfV07bXhDZWxsUmVuZGVyZXIuZGVmYXVsdFNoYXBlcy5wYXJ0aWFsUmVjdGFuZ2xlLnByb3RvdHlwZS5jdXN0b21Qcm9wZXJ0aWVzPVt7bmFtZToidG9wIixkaXNwTmFtZToiVG9wIExpbmUiLHR5cGU6ImJvb2wiLGRlZlZhbDohMH0se25hbWU6ImJvdHRvbSIsZGlzcE5hbWU6IkJvdHRvbSBMaW5lIix0eXBlOiJib29sIixkZWZWYWw6ITB9LHtuYW1lOiJsZWZ0IixkaXNwTmFtZToiTGVmdCBMaW5lIix0eXBlOiJib29sIixkZWZWYWw6ITB9LHtuYW1lOiJyaWdodCIsZGlzcE5hbWU6IlJpZ2h0IExpbmUiLHR5cGU6ImJvb2wiLGRlZlZhbDohMH1dO214Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXMucGFyYWxsZWxvZ3JhbS5wcm90b3R5cGUuY3VzdG9tUHJvcGVydGllcz1be25hbWU6ImFyY1NpemUiLGRpc3BOYW1lOiJBcmMgU2l6ZSIsdHlwZToiZmxvYXQiLG1pbjowLGRlZlZhbDpteENvbnN0YW50cy5MSU5FX0FSQ1NJWkV9LAp7bmFtZToic2l6ZSIsZGlzcE5hbWU6IlNsb3BlIEFuZ2xlIix0eXBlOiJmbG9hdCIsbWluOjAsbWF4OjEsZGVmVmFsOi4yfV07bXhDZWxsUmVuZGVyZXIuZGVmYXVsdFNoYXBlcy5oZXhhZ29uLnByb3RvdHlwZS5jdXN0b21Qcm9wZXJ0aWVzPVt7bmFtZToiYXJjU2l6ZSIsZGlzcE5hbWU6IkFyYyBTaXplIix0eXBlOiJmbG9hdCIsbWluOjAsZGVmVmFsOm14Q29uc3RhbnRzLkxJTkVfQVJDU0laRX0se25hbWU6InNpemUiLGRpc3BOYW1lOiJTbG9wZSBBbmdsZSIsdHlwZToiZmxvYXQiLG1pbjowLG1heDoxLGRlZlZhbDouMjV9XTtteENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzLnRyaWFuZ2xlLnByb3RvdHlwZS5jdXN0b21Qcm9wZXJ0aWVzPVt7bmFtZToiYXJjU2l6ZSIsZGlzcE5hbWU6IkFyYyBTaXplIix0eXBlOiJmbG9hdCIsbWluOjAsZGVmVmFsOm14Q29uc3RhbnRzLkxJTkVfQVJDU0laRX1dO214Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXMuZG9jdW1lbnQucHJvdG90eXBlLmN1c3RvbVByb3BlcnRpZXM9Clt7bmFtZToic2l6ZSIsZGlzcE5hbWU6IlNpemUiLHR5cGU6ImZsb2F0IixkZWZWYWw6LjMsbWluOjAsbWF4OjF9XTtteENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzLmludGVybmFsU3RvcmFnZS5wcm90b3R5cGUuY3VzdG9tUHJvcGVydGllcz1be25hbWU6ImFyY1NpemUiLGRpc3BOYW1lOiJBcmMgU2l6ZSIsdHlwZToiZmxvYXQiLG1pbjowLGRlZlZhbDpteENvbnN0YW50cy5MSU5FX0FSQ1NJWkV9LHtuYW1lOiJkeCIsZGlzcE5hbWU6IkxlZnQgTGluZSIsdHlwZToiZmxvYXQiLG1pbjowLGRlZlZhbDoyMH0se25hbWU6ImR5IixkaXNwTmFtZToiVG9wIExpbmUiLHR5cGU6ImZsb2F0IixtaW46MCxkZWZWYWw6MjB9XTtteENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzLmN1YmUucHJvdG90eXBlLmN1c3RvbVByb3BlcnRpZXM9W3tuYW1lOiJzaXplIixkaXNwTmFtZToiU2l6ZSIsdHlwZToiZmxvYXQiLG1pbjowLGRlZlZhbDoyMH0se25hbWU6ImRhcmtPcGFjaXR5IixkaXNwTmFtZToiRGFyayBPcGFjaXR5IiwKdHlwZToiZmxvYXQiLG1pbjotMSxtYXg6MSxkZWZWYWw6MH0se25hbWU6ImRhcmtPcGFjaXR5MiIsZGlzcE5hbWU6IkRhcmsgT3BhY2l0eSAyIix0eXBlOiJmbG9hdCIsbWluOi0xLG1heDoxLGRlZlZhbDowfV07bXhDZWxsUmVuZGVyZXIuZGVmYXVsdFNoYXBlcy5zdGVwLnByb3RvdHlwZS5jdXN0b21Qcm9wZXJ0aWVzPVt7bmFtZToic2l6ZSIsZGlzcE5hbWU6Ik5vdGNoIFNpemUiLHR5cGU6ImZsb2F0IixtaW46MCxkZWZWYWw6MjB9LHtuYW1lOiJmaXhlZFNpemUiLGRpc3BOYW1lOiJGaXhlZCBTaXplIix0eXBlOiJib29sIixkZWZWYWw6ITB9XTtteENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzLnRyYXBlem9pZC5wcm90b3R5cGUuY3VzdG9tUHJvcGVydGllcz1be25hbWU6ImFyY1NpemUiLGRpc3BOYW1lOiJBcmMgU2l6ZSIsdHlwZToiZmxvYXQiLG1pbjowLGRlZlZhbDpteENvbnN0YW50cy5MSU5FX0FSQ1NJWkV9LHtuYW1lOiJzaXplIixkaXNwTmFtZToiU2xvcGUgQW5nbGUiLAp0eXBlOiJmbG9hdCIsbWluOjAsbWF4OjEsZGVmVmFsOi4yfV07bXhDZWxsUmVuZGVyZXIuZGVmYXVsdFNoYXBlcy50YXBlLnByb3RvdHlwZS5jdXN0b21Qcm9wZXJ0aWVzPVt7bmFtZToic2l6ZSIsZGlzcE5hbWU6IlNpemUiLHR5cGU6ImZsb2F0IixtaW46MCxtYXg6MSxkZWZWYWw6LjR9XTtteENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzLm5vdGUucHJvdG90eXBlLmN1c3RvbVByb3BlcnRpZXM9W3tuYW1lOiJzaXplIixkaXNwTmFtZToiRm9sZCBTaXplIix0eXBlOiJmbG9hdCIsbWluOjAsZGVmVmFsOjMwfSx7bmFtZToiZGFya09wYWNpdHkiLGRpc3BOYW1lOiJEYXJrIE9wYWNpdHkiLHR5cGU6ImZsb2F0IixtaW46LTEsbWF4OjEsZGVmVmFsOjB9XTtteENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzLmNhcmQucHJvdG90eXBlLmN1c3RvbVByb3BlcnRpZXM9W3tuYW1lOiJhcmNTaXplIixkaXNwTmFtZToiQXJjIFNpemUiLHR5cGU6ImZsb2F0IixtaW46MCxkZWZWYWw6bXhDb25zdGFudHMuTElORV9BUkNTSVpFfSwKe25hbWU6InNpemUiLGRpc3BOYW1lOiJDdXRvZmYgU2l6ZSIsdHlwZToiZmxvYXQiLG1pbjowLGRlZlZhbDozMH1dO214Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXMuY2FsbG91dC5wcm90b3R5cGUuY3VzdG9tUHJvcGVydGllcz1be25hbWU6ImFyY1NpemUiLGRpc3BOYW1lOiJBcmMgU2l6ZSIsdHlwZToiZmxvYXQiLG1pbjowLGRlZlZhbDpteENvbnN0YW50cy5MSU5FX0FSQ1NJWkV9LHtuYW1lOiJiYXNlIixkaXNwTmFtZToiQ2FsbG91dCBXaWR0aCIsdHlwZToiZmxvYXQiLG1pbjowLGRlZlZhbDoyMH0se25hbWU6InNpemUiLGRpc3BOYW1lOiJDYWxsb3V0IExlbmd0aCIsdHlwZToiZmxvYXQiLG1pbjowLGRlZlZhbDozMH0se25hbWU6InBvc2l0aW9uIixkaXNwTmFtZToiQ2FsbG91dCBQb3NpdGlvbiIsdHlwZToiZmxvYXQiLG1pbjowLG1heDoxLGRlZlZhbDouNX0se25hbWU6InBvc2l0aW9uMiIsZGlzcE5hbWU6IkNhbGxvdXQgVGlwIFBvc2l0aW9uIix0eXBlOiJmbG9hdCIsCm1pbjowLG1heDoxLGRlZlZhbDouNX1dO214Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXMuZm9sZGVyLnByb3RvdHlwZS5jdXN0b21Qcm9wZXJ0aWVzPVt7bmFtZToidGFiV2lkdGgiLGRpc3BOYW1lOiJUYWIgV2lkdGgiLHR5cGU6ImZsb2F0In0se25hbWU6InRhYkhlaWdodCIsZGlzcE5hbWU6IlRhYiBIZWlnaHQiLHR5cGU6ImZsb2F0In0se25hbWU6InRhYlBvc2l0aW9uIixkaXNwTmFtZToiVGFwIFBvc2l0aW9uIix0eXBlOiJlbnVtIixlbnVtTGlzdDpbe3ZhbDoibGVmdCIsZGlzcE5hbWU6IkxlZnQifSx7dmFsOiJyaWdodCIsZGlzcE5hbWU6IlJpZ2h0In1dfV07bXhDZWxsUmVuZGVyZXIuZGVmYXVsdFNoYXBlcy5zd2ltbGFuZS5wcm90b3R5cGUuY3VzdG9tUHJvcGVydGllcz1be25hbWU6ImFyY1NpemUiLGRpc3BOYW1lOiJBcmMgU2l6ZSIsdHlwZToiZmxvYXQiLG1pbjowLGRlZlZhbDoxNX0se25hbWU6InN0YXJ0U2l6ZSIsZGlzcE5hbWU6IkhlYWRlciBTaXplIix0eXBlOiJmbG9hdCJ9LAp7bmFtZToiaG9yaXpvbnRhbCIsZGlzcE5hbWU6Ikhvcml6b250YWwiLHR5cGU6ImJvb2wiLGRlZlZhbDohMH0se25hbWU6InNlcGFyYXRvckNvbG9yIixkaXNwTmFtZToiU2VwYXJhdG9yIENvbG9yIix0eXBlOiJjb2xvciIsZGVmVmFsOm51bGx9XTtteENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzLnRhYmxlLnByb3RvdHlwZS5jdXN0b21Qcm9wZXJ0aWVzPVt7bmFtZToicm93TGluZXMiLGRpc3BOYW1lOiJSb3cgTGluZXMiLHR5cGU6ImJvb2wiLGRlZlZhbDohMH0se25hbWU6ImNvbHVtbkxpbmVzIixkaXNwTmFtZToiQ29sdW1uIExpbmVzIix0eXBlOiJib29sIixkZWZWYWw6ITB9LHtuYW1lOiJmaXhlZFJvd3MiLGRpc3BOYW1lOiJGaXhlZCBSb3dzIix0eXBlOiJib29sIixkZWZWYWw6ITF9LHtuYW1lOiJyZXNpemVMYXN0IixkaXNwTmFtZToiUmVzaXplIExhc3QgQ29sdW1uIix0eXBlOiJib29sIixkZWZWYWw6ITF9LHtuYW1lOiJyZXNpemVMYXN0Um93IixkaXNwTmFtZToiUmVzaXplIExhc3QgUm93IiwKdHlwZToiYm9vbCIsZGVmVmFsOiExfV0uY29uY2F0KG14Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXMuc3dpbWxhbmUucHJvdG90eXBlLmN1c3RvbVByb3BlcnRpZXMpO214Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXMuZG91YmxlRWxsaXBzZS5wcm90b3R5cGUuY3VzdG9tUHJvcGVydGllcz1be25hbWU6Im1hcmdpbiIsZGlzcE5hbWU6IkluZGVudCIsdHlwZToiZmxvYXQiLG1pbjowLGRlZlZhbDo0fV07bXhDZWxsUmVuZGVyZXIuZGVmYXVsdFNoYXBlcy5leHQucHJvdG90eXBlLmN1c3RvbVByb3BlcnRpZXM9W3tuYW1lOiJhcmNTaXplIixkaXNwTmFtZToiQXJjIFNpemUiLHR5cGU6ImZsb2F0IixtaW46MCxkZWZWYWw6MTV9LHtuYW1lOiJkb3VibGUiLGRpc3BOYW1lOiJEb3VibGUiLHR5cGU6ImJvb2wiLGRlZlZhbDohMX0se25hbWU6Im1hcmdpbiIsZGlzcE5hbWU6IkluZGVudCIsdHlwZToiZmxvYXQiLG1pbjowLGRlZlZhbDowfV07bXhDZWxsUmVuZGVyZXIuZGVmYXVsdFNoYXBlcy5jdXJseUJyYWNrZXQucHJvdG90eXBlLmN1c3RvbVByb3BlcnRpZXM9Clt7bmFtZToicm91bmRlZCIsZGlzcE5hbWU6IlJvdW5kZWQiLHR5cGU6ImJvb2wiLGRlZlZhbDohMH0se25hbWU6InNpemUiLGRpc3BOYW1lOiJTaXplIix0eXBlOiJmbG9hdCIsbWluOjAsbWF4OjEsZGVmVmFsOi41fV07bXhDZWxsUmVuZGVyZXIuZGVmYXVsdFNoYXBlcy5pbWFnZS5wcm90b3R5cGUuY3VzdG9tUHJvcGVydGllcz1be25hbWU6ImltYWdlQXNwZWN0IixkaXNwTmFtZToiRml4ZWQgSW1hZ2UgQXNwZWN0Iix0eXBlOiJib29sIixkZWZWYWw6ITB9XTtteENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzLmxhYmVsLnByb3RvdHlwZS5jdXN0b21Qcm9wZXJ0aWVzPVt7bmFtZToiaW1hZ2VBc3BlY3QiLGRpc3BOYW1lOiJGaXhlZCBJbWFnZSBBc3BlY3QiLHR5cGU6ImJvb2wiLGRlZlZhbDohMH0se25hbWU6ImltYWdlQWxpZ24iLGRpc3BOYW1lOiJJbWFnZSBBbGlnbiIsdHlwZToiZW51bSIsZW51bUxpc3Q6W3t2YWw6ImxlZnQiLGRpc3BOYW1lOiJMZWZ0In0se3ZhbDoiY2VudGVyIiwKZGlzcE5hbWU6IkNlbnRlciJ9LHt2YWw6InJpZ2h0IixkaXNwTmFtZToiUmlnaHQifV0sZGVmVmFsOiJsZWZ0In0se25hbWU6ImltYWdlVmVydGljYWxBbGlnbiIsZGlzcE5hbWU6IkltYWdlIFZlcnRpY2FsIEFsaWduIix0eXBlOiJlbnVtIixlbnVtTGlzdDpbe3ZhbDoidG9wIixkaXNwTmFtZToiVG9wIn0se3ZhbDoibWlkZGxlIixkaXNwTmFtZToiTWlkZGxlIn0se3ZhbDoiYm90dG9tIixkaXNwTmFtZToiQm90dG9tIn1dLGRlZlZhbDoibWlkZGxlIn0se25hbWU6ImltYWdlV2lkdGgiLGRpc3BOYW1lOiJJbWFnZSBXaWR0aCIsdHlwZToiZmxvYXQiLG1pbjowLGRlZlZhbDoyNH0se25hbWU6ImltYWdlSGVpZ2h0IixkaXNwTmFtZToiSW1hZ2UgSGVpZ2h0Iix0eXBlOiJmbG9hdCIsbWluOjAsZGVmVmFsOjI0fSx7bmFtZToiYXJjU2l6ZSIsZGlzcE5hbWU6IkFyYyBTaXplIix0eXBlOiJmbG9hdCIsbWluOjAsZGVmVmFsOjEyfSx7bmFtZToiYWJzb2x1dGVBcmNTaXplIixkaXNwTmFtZToiQWJzLiBBcmMgU2l6ZSIsCnR5cGU6ImJvb2wiLGRlZlZhbDohMX1dO214Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXMuZGF0YVN0b3JhZ2UucHJvdG90eXBlLmN1c3RvbVByb3BlcnRpZXM9W3tuYW1lOiJzaXplIixkaXNwTmFtZToiU2l6ZSIsdHlwZToiZmxvYXQiLG1pbjowLG1heDoxLGRlZlZhbDouMX1dO214Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXMubWFudWFsSW5wdXQucHJvdG90eXBlLmN1c3RvbVByb3BlcnRpZXM9W3tuYW1lOiJzaXplIixkaXNwTmFtZToiU2l6ZSIsdHlwZToiZmxvYXQiLG1pbjowLGRlZlZhbDozMH0se25hbWU6ImFyY1NpemUiLGRpc3BOYW1lOiJBcmMgU2l6ZSIsdHlwZToiZmxvYXQiLG1pbjowLGRlZlZhbDoyMH1dO214Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXMubG9vcExpbWl0LnByb3RvdHlwZS5jdXN0b21Qcm9wZXJ0aWVzPVt7bmFtZToic2l6ZSIsZGlzcE5hbWU6IlNpemUiLHR5cGU6ImZsb2F0IixtaW46MCxkZWZWYWw6MjB9LHtuYW1lOiJhcmNTaXplIixkaXNwTmFtZToiQXJjIFNpemUiLAp0eXBlOiJmbG9hdCIsbWluOjAsZGVmVmFsOjIwfV07bXhDZWxsUmVuZGVyZXIuZGVmYXVsdFNoYXBlcy5vZmZQYWdlQ29ubmVjdG9yLnByb3RvdHlwZS5jdXN0b21Qcm9wZXJ0aWVzPVt7bmFtZToic2l6ZSIsZGlzcE5hbWU6IlNpemUiLHR5cGU6ImZsb2F0IixtaW46MCxkZWZWYWw6Mzh9LHtuYW1lOiJhcmNTaXplIixkaXNwTmFtZToiQXJjIFNpemUiLHR5cGU6ImZsb2F0IixtaW46MCxkZWZWYWw6MjB9XTtteENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzLmRpc3BsYXkucHJvdG90eXBlLmN1c3RvbVByb3BlcnRpZXM9W3tuYW1lOiJzaXplIixkaXNwTmFtZToiU2l6ZSIsdHlwZToiZmxvYXQiLG1pbjowLG1heDoxLGRlZlZhbDouMjV9XTtteENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzLnNpbmdsZUFycm93LnByb3RvdHlwZS5jdXN0b21Qcm9wZXJ0aWVzPVt7bmFtZToiYXJyb3dXaWR0aCIsZGlzcE5hbWU6IkFycm93IFdpZHRoIix0eXBlOiJmbG9hdCIsbWluOjAsbWF4OjEsZGVmVmFsOi4zfSwKe25hbWU6ImFycm93U2l6ZSIsZGlzcE5hbWU6IkFycm93aGVhZCBMZW5ndGgiLHR5cGU6ImZsb2F0IixtaW46MCxtYXg6MSxkZWZWYWw6LjJ9XTtteENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzLmRvdWJsZUFycm93LnByb3RvdHlwZS5jdXN0b21Qcm9wZXJ0aWVzPVt7bmFtZToiYXJyb3dXaWR0aCIsZGlzcE5hbWU6IkFycm93IFdpZHRoIix0eXBlOiJmbG9hdCIsbWluOjAsbWF4OjEsZGVmVmFsOi4zfSx7bmFtZToiYXJyb3dTaXplIixkaXNwTmFtZToiQXJyb3doZWFkIExlbmd0aCIsdHlwZToiZmxvYXQiLG1pbjowLG1heDoxLGRlZlZhbDouMn1dO214Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXMuY3Jvc3MucHJvdG90eXBlLmN1c3RvbVByb3BlcnRpZXM9W3tuYW1lOiJzaXplIixkaXNwTmFtZToiU2l6ZSIsdHlwZToiZmxvYXQiLG1pbjowLG1heDoxLGRlZlZhbDouMn1dO214Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXMuY29ybmVyLnByb3RvdHlwZS5jdXN0b21Qcm9wZXJ0aWVzPQpbe25hbWU6ImR4IixkaXNwTmFtZToiV2lkdGgxIix0eXBlOiJmbG9hdCIsbWluOjAsZGVmVmFsOjIwfSx7bmFtZToiZHkiLGRpc3BOYW1lOiJXaWR0aDIiLHR5cGU6ImZsb2F0IixtaW46MCxkZWZWYWw6MjB9XTtteENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzLnRlZS5wcm90b3R5cGUuY3VzdG9tUHJvcGVydGllcz1be25hbWU6ImR4IixkaXNwTmFtZToiV2lkdGgxIix0eXBlOiJmbG9hdCIsbWluOjAsZGVmVmFsOjIwfSx7bmFtZToiZHkiLGRpc3BOYW1lOiJXaWR0aDIiLHR5cGU6ImZsb2F0IixtaW46MCxkZWZWYWw6MjB9XTtteENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzLnVtbExpZmVsaW5lLnByb3RvdHlwZS5jdXN0b21Qcm9wZXJ0aWVzPVt7bmFtZToicGFydGljaXBhbnQiLGRpc3BOYW1lOiJQYXJ0aWNpcGFudCIsdHlwZToiZW51bSIsZGVmVmFsOiJub25lIixlbnVtTGlzdDpbe3ZhbDoibm9uZSIsZGlzcE5hbWU6IkRlZmF1bHQifSx7dmFsOiJ1bWxBY3RvciIsZGlzcE5hbWU6IkFjdG9yIn0sCnt2YWw6InVtbEJvdW5kYXJ5IixkaXNwTmFtZToiQm91bmRhcnkifSx7dmFsOiJ1bWxFbnRpdHkiLGRpc3BOYW1lOiJFbnRpdHkifSx7dmFsOiJ1bWxDb250cm9sIixkaXNwTmFtZToiQ29udHJvbCJ9XX0se25hbWU6InNpemUiLGRpc3BOYW1lOiJIZWlnaHQiLHR5cGU6ImZsb2F0IixkZWZWYWw6NDAsbWluOjB9XTtteENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzLnVtbEZyYW1lLnByb3RvdHlwZS5jdXN0b21Qcm9wZXJ0aWVzPVt7bmFtZToid2lkdGgiLGRpc3BOYW1lOiJUaXRsZSBXaWR0aCIsdHlwZToiZmxvYXQiLGRlZlZhbDo2MCxtaW46MH0se25hbWU6ImhlaWdodCIsZGlzcE5hbWU6IlRpdGxlIEhlaWdodCIsdHlwZToiZmxvYXQiLGRlZlZhbDozMCxtaW46MH1dO1N0eWxlRm9ybWF0UGFuZWwucHJvdG90eXBlLmRlZmF1bHRDb2xvclNjaGVtZXM9W1t7ZmlsbDoiIixzdHJva2U6IiJ9LHtmaWxsOiIjZjVmNWY1IixzdHJva2U6IiM2NjY2NjYiLGZvbnQ6IiMzMzMzMzMifSx7ZmlsbDoiI2RhZThmYyIsCnN0cm9rZToiIzZjOGViZiJ9LHtmaWxsOiIjZDVlOGQ0IixzdHJva2U6IiM4MmIzNjYifSx7ZmlsbDoiI2ZmZTZjYyIsc3Ryb2tlOiIjZDc5YjAwIn0se2ZpbGw6IiNmZmYyY2MiLHN0cm9rZToiI2Q2YjY1NiJ9LHtmaWxsOiIjZjhjZWNjIixzdHJva2U6IiNiODU0NTAifSx7ZmlsbDoiI2UxZDVlNyIsc3Ryb2tlOiIjOTY3M2E2In1dLFt7ZmlsbDoiIixzdHJva2U6IiJ9LHtmaWxsOiIjNjBhOTE3IixzdHJva2U6IiMyRDc2MDAiLGZvbnQ6IiNmZmZmZmYifSx7ZmlsbDoiIzAwOGEwMCIsc3Ryb2tlOiIjMDA1NzAwIixmb250OiIjZmZmZmZmIn0se2ZpbGw6IiMxYmExZTIiLHN0cm9rZToiIzAwNkVBRiIsZm9udDoiI2ZmZmZmZiJ9LHtmaWxsOiIjMDA1MGVmIixzdHJva2U6IiMwMDFEQkMiLGZvbnQ6IiNmZmZmZmYifSx7ZmlsbDoiIzZhMDBmZiIsc3Ryb2tlOiIjMzcwMENDIixmb250OiIjZmZmZmZmIn0se2ZpbGw6IiNkODAwNzMiLHN0cm9rZToiI0E1MDA0MCIsZm9udDoiI2ZmZmZmZiJ9LAp7ZmlsbDoiI2EyMDAyNSIsc3Ryb2tlOiIjNkYwMDAwIixmb250OiIjZmZmZmZmIn1dLFt7ZmlsbDoiI2U1MTQwMCIsc3Ryb2tlOiIjQjIwMDAwIixmb250OiIjZmZmZmZmIn0se2ZpbGw6IiNmYTY4MDAiLHN0cm9rZToiI0M3MzUwMCIsZm9udDoiI2ZmZmZmZiJ9LHtmaWxsOiIjZjBhMzBhIixzdHJva2U6IiNCRDcwMDAiLGZvbnQ6IiNmZmZmZmYifSx7ZmlsbDoiI2UzYzgwMCIsc3Ryb2tlOiIjQjA5NTAwIixmb250OiIjZmZmZmZmIn0se2ZpbGw6IiM2ZDg3NjQiLHN0cm9rZToiIzNBNTQzMSIsZm9udDoiI2ZmZmZmZiJ9LHtmaWxsOiIjNjQ3Njg3IixzdHJva2U6IiMzMTQzNTQiLGZvbnQ6IiNmZmZmZmYifSx7ZmlsbDoiIzc2NjA4YSIsc3Ryb2tlOiIjNDMyRDU3Iixmb250OiIjZmZmZmZmIn0se2ZpbGw6IiNhMDUyMmQiLHN0cm9rZToiIzZEMUYwMCIsZm9udDoiI2ZmZmZmZiJ9XSxbe2ZpbGw6IiIsc3Ryb2tlOiIifSx7ZmlsbDpteENvbnN0YW50cy5OT05FLHN0cm9rZToiIn0se2ZpbGw6IiNmYWQ3YWMiLApzdHJva2U6IiNiNDY1MDQifSx7ZmlsbDoiI2ZhZDlkNSIsc3Ryb2tlOiIjYWU0MTMyIn0se2ZpbGw6IiNiMGUzZTYiLHN0cm9rZToiIzBlODA4OCJ9LHtmaWxsOiIjYjFkZGYwIixzdHJva2U6IiMxMDczOWUifSx7ZmlsbDoiI2QwY2VlMiIsc3Ryb2tlOiIjNTY1MTdlIn0se2ZpbGw6IiNiYWM4ZDMiLHN0cm9rZToiIzIzNDQ1ZCJ9XSxbe2ZpbGw6IiIsc3Ryb2tlOiIifSx7ZmlsbDoiI2Y1ZjVmNSIsc3Ryb2tlOiIjNjY2NjY2IixncmFkaWVudDoiI2IzYjNiMyJ9LHtmaWxsOiIjZGFlOGZjIixzdHJva2U6IiM2YzhlYmYiLGdyYWRpZW50OiIjN2VhNmUwIn0se2ZpbGw6IiNkNWU4ZDQiLHN0cm9rZToiIzgyYjM2NiIsZ3JhZGllbnQ6IiM5N2QwNzcifSx7ZmlsbDoiI2ZmY2QyOCIsc3Ryb2tlOiIjZDc5YjAwIixncmFkaWVudDoiI2ZmYTUwMCJ9LHtmaWxsOiIjZmZmMmNjIixzdHJva2U6IiNkNmI2NTYiLGdyYWRpZW50OiIjZmZkOTY2In0se2ZpbGw6IiNmOGNlY2MiLHN0cm9rZToiI2I4NTQ1MCIsCmdyYWRpZW50OiIjZWE2YjY2In0se2ZpbGw6IiNlNmQwZGUiLHN0cm9rZToiIzk5NjE4NSIsZ3JhZGllbnQ6IiNkNTczOWQifV0sW3tmaWxsOiIiLHN0cm9rZToiIn0se2ZpbGw6IiNlZWVlZWUiLHN0cm9rZToiIzM2MzkzZCJ9LHtmaWxsOiIjZjlmN2VkIixzdHJva2U6IiMzNjM5M2QifSx7ZmlsbDoiI2ZmY2M5OSIsc3Ryb2tlOiIjMzYzOTNkIn0se2ZpbGw6IiNjY2U1ZmYiLHN0cm9rZToiIzM2MzkzZCJ9LHtmaWxsOiIjZmZmZjg4IixzdHJva2U6IiMzNjM5M2QifSx7ZmlsbDoiI2NkZWI4YiIsc3Ryb2tlOiIjMzYzOTNkIn0se2ZpbGw6IiNmZmNjY2MiLHN0cm9rZToiIzM2MzkzZCJ9XV07U3R5bGVGb3JtYXRQYW5lbC5wcm90b3R5cGUuY3VzdG9tQ29sb3JTY2hlbWVzPW51bGw7U3R5bGVGb3JtYXRQYW5lbC5wcm90b3R5cGUuZmluZENvbW1vblByb3BlcnRpZXM9ZnVuY3Rpb24oYSxiLGUpe2lmKG51bGwhPWIpe3ZhciBjPWZ1bmN0aW9uKGEpe2lmKG51bGwhPWEpaWYoZSlmb3IodmFyIGM9CjA7YzxhLmxlbmd0aDtjKyspYlthW2NdLm5hbWVdPWFbY107ZWxzZSBmb3IodmFyIGQgaW4gYil7Zm9yKHZhciBmPSExLGM9MDtjPGEubGVuZ3RoO2MrKylpZihhW2NdLm5hbWU9PWQmJmFbY10udHlwZT09YltkXS50eXBlKXtmPSEwO2JyZWFrfWZ8fGRlbGV0ZSBiW2RdfX0sZD10aGlzLmVkaXRvclVpLmVkaXRvci5ncmFwaC52aWV3LmdldFN0YXRlKGEpO251bGwhPWQmJm51bGwhPWQuc2hhcGUmJihkLnNoYXBlLmNvbW1vbkN1c3RvbVByb3BBZGRlZHx8KGQuc2hhcGUuY29tbW9uQ3VzdG9tUHJvcEFkZGVkPSEwLGQuc2hhcGUuY3VzdG9tUHJvcGVydGllcz1kLnNoYXBlLmN1c3RvbVByb3BlcnRpZXN8fFtdLGQuY2VsbC52ZXJ0ZXg/QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoZC5zaGFwZS5jdXN0b21Qcm9wZXJ0aWVzLEVkaXRvci5jb21tb25WZXJ0ZXhQcm9wZXJ0aWVzKTpBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShkLnNoYXBlLmN1c3RvbVByb3BlcnRpZXMsRWRpdG9yLmNvbW1vbkVkZ2VQcm9wZXJ0aWVzKSksCmMoZC5zaGFwZS5jdXN0b21Qcm9wZXJ0aWVzKSk7YT1hLmdldEF0dHJpYnV0ZSgiY3VzdG9tUHJvcGVydGllcyIpO2lmKG51bGwhPWEpdHJ5e2MoSlNPTi5wYXJzZShhKSl9Y2F0Y2goSCl7fX19O3ZhciB2PVN0eWxlRm9ybWF0UGFuZWwucHJvdG90eXBlLmluaXQ7U3R5bGVGb3JtYXRQYW5lbC5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZm9ybWF0LmNyZWF0ZVNlbGVjdGlvblN0YXRlKCk7ImltYWdlIj09YS5zdHlsZS5zaGFwZXx8YS5jb250YWluc0xhYmVsfHx0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmFkZFN0eWxlcyh0aGlzLmNyZWF0ZVBhbmVsKCkpKTt2LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZihFZGl0b3IuZW5hYmxlQ3VzdG9tUHJvcGVydGllcyl7Zm9yKHZhciBiPXt9LGU9YS52ZXJ0aWNlcyxjPWEuZWRnZXMsZD0wO2Q8ZS5sZW5ndGg7ZCsrKXRoaXMuZmluZENvbW1vblByb3BlcnRpZXMoZVtkXSxiLDA9PWQpO2ZvcihkPTA7ZDxjLmxlbmd0aDtkKyspdGhpcy5maW5kQ29tbW9uUHJvcGVydGllcyhjW2RdLApiLDA9PWUubGVuZ3RoJiYwPT1kKTtudWxsIT1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyYmMDxPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhiKS5sZW5ndGgmJnRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuYWRkUHJvcGVydGllcyh0aGlzLmNyZWF0ZVBhbmVsKCksYixhKSl9fTt2YXIgdD1TdHlsZUZvcm1hdFBhbmVsLnByb3RvdHlwZS5hZGRTdHlsZU9wcztTdHlsZUZvcm1hdFBhbmVsLnByb3RvdHlwZS5hZGRTdHlsZU9wcz1mdW5jdGlvbihhKXt2YXIgYj1teFV0aWxzLmJ1dHRvbihteFJlc291cmNlcy5nZXQoImNvcHlTdHlsZSIpLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuZWRpdG9yVWkuYWN0aW9ucy5nZXQoImNvcHlTdHlsZSIpLmZ1bmN0KCl9KSk7Yi5zZXRBdHRyaWJ1dGUoInRpdGxlIixteFJlc291cmNlcy5nZXQoImNvcHlTdHlsZSIpKyIgKCIrdGhpcy5lZGl0b3JVaS5hY3Rpb25zLmdldCgiY29weVN0eWxlIikuc2hvcnRjdXQrIikiKTsKYi5zdHlsZS5tYXJnaW5Cb3R0b209IjJweCI7Yi5zdHlsZS53aWR0aD0iMTAwcHgiO2Iuc3R5bGUubWFyZ2luUmlnaHQ9IjJweCI7YS5hcHBlbmRDaGlsZChiKTtiPW14VXRpbHMuYnV0dG9uKG14UmVzb3VyY2VzLmdldCgicGFzdGVTdHlsZSIpLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuZWRpdG9yVWkuYWN0aW9ucy5nZXQoInBhc3RlU3R5bGUiKS5mdW5jdCgpfSkpO2Iuc2V0QXR0cmlidXRlKCJ0aXRsZSIsbXhSZXNvdXJjZXMuZ2V0KCJwYXN0ZVN0eWxlIikrIiAoIit0aGlzLmVkaXRvclVpLmFjdGlvbnMuZ2V0KCJwYXN0ZVN0eWxlIikuc2hvcnRjdXQrIikiKTtiLnN0eWxlLm1hcmdpbkJvdHRvbT0iMnB4IjtiLnN0eWxlLndpZHRoPSIxMDBweCI7YS5hcHBlbmRDaGlsZChiKTtteFV0aWxzLmJyKGEpO3JldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX07RWRpdG9yVWkucHJvdG90eXBlLnByb3BlcnRpZXNDb2xsYXBzZWQ9ITA7U3R5bGVGb3JtYXRQYW5lbC5wcm90b3R5cGUuYWRkUHJvcGVydGllcz0KZnVuY3Rpb24oYSxiLGUpe2Z1bmN0aW9uIGMoYSxiLGUsYyl7ay5nZXRNb2RlbCgpLmJlZ2luVXBkYXRlKCk7dHJ5e3ZhciBkPVtdLGY9W107aWYobnVsbCE9ZS5pbmRleCl7Zm9yKHZhciBnPVtdLGw9ZS5wYXJlbnRSb3cubmV4dFNpYmxpbmc7bCYmbC5nZXRBdHRyaWJ1dGUoImRhdGEtcE5hbWUiKT09YTspZy5wdXNoKGwuZ2V0QXR0cmlidXRlKCJkYXRhLXBWYWx1ZSIpKSxsPWwubmV4dFNpYmxpbmc7ZS5pbmRleDxnLmxlbmd0aD9udWxsIT1jP2cuc3BsaWNlKGMsMSk6Z1tlLmluZGV4XT1iOmcucHVzaChiKTtudWxsIT1lLnNpemUmJmcubGVuZ3RoPmUuc2l6ZSYmKGc9Zy5zbGljZSgwLGUuc2l6ZSkpO2I9Zy5qb2luKCIsIik7bnVsbCE9ZS5jb3VudFByb3BlcnR5JiYoay5zZXRDZWxsU3R5bGVzKGUuY291bnRQcm9wZXJ0eSxnLmxlbmd0aCxrLmdldFNlbGVjdGlvbkNlbGxzKCkpLGQucHVzaChlLmNvdW50UHJvcGVydHkpLGYucHVzaChnLmxlbmd0aCkpfWsuc2V0Q2VsbFN0eWxlcyhhLApiLGsuZ2V0U2VsZWN0aW9uQ2VsbHMoKSk7ZC5wdXNoKGEpO2YucHVzaChiKTtpZihudWxsIT1lLmRlcGVuZGVudFByb3BzKWZvcihhPTA7YTxlLmRlcGVuZGVudFByb3BzLmxlbmd0aDthKyspe3ZhciBuPWUuZGVwZW5kZW50UHJvcHNEZWZWYWxbYV0scD1lLmRlcGVuZGVudFByb3BzVmFsc1thXTtpZihwLmxlbmd0aD5iKXA9cC5zbGljZSgwLGIpO2Vsc2UgZm9yKHZhciB1PXAubGVuZ3RoO3U8Yjt1KyspcC5wdXNoKG4pO3A9cC5qb2luKCIsIik7ay5zZXRDZWxsU3R5bGVzKGUuZGVwZW5kZW50UHJvcHNbYV0scCxrLmdldFNlbGVjdGlvbkNlbGxzKCkpO2QucHVzaChlLmRlcGVuZGVudFByb3BzW2FdKTtmLnB1c2gocCl9aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUub25DaGFuZ2UpZS5vbkNoYW5nZShrLGIpO3QuZWRpdG9yVWkuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJzdHlsZUNoYW5nZWQiLCJrZXlzIixkLCJ2YWx1ZXMiLGYsImNlbGxzIixrLmdldFNlbGVjdGlvbkNlbGxzKCkpKX1maW5hbGx5e2suZ2V0TW9kZWwoKS5lbmRVcGRhdGUoKX19CmZ1bmN0aW9uIGQoYixlLGMpe3ZhciBkPW14VXRpbHMuZ2V0T2Zmc2V0KGEsITApLGY9bXhVdGlscy5nZXRPZmZzZXQoYiwhMCk7ZS5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiO2Uuc3R5bGUubGVmdD1mLngtZC54KyJweCI7ZS5zdHlsZS50b3A9Zi55LWQueSsicHgiO2Uuc3R5bGUud2lkdGg9Yi5vZmZzZXRXaWR0aCsicHgiO2Uuc3R5bGUuaGVpZ2h0PWIub2Zmc2V0SGVpZ2h0LShjPzQ6MCkrInB4IjtlLnN0eWxlLnpJbmRleD01fWZ1bmN0aW9uIGYoYSxiLGUpe3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Quc3R5bGUud2lkdGg9IjMycHgiO2Quc3R5bGUuaGVpZ2h0PSI0cHgiO2Quc3R5bGUubWFyZ2luPSIycHgiO2Quc3R5bGUuYm9yZGVyPSIxcHggc29saWQgYmxhY2siO2Quc3R5bGUuYmFja2dyb3VuZD1iJiYibm9uZSIhPWI/YjoidXJsKCciK0RpYWxvZy5wcm90b3R5cGUubm9Db2xvckltYWdlKyInKSI7YnRuPW14VXRpbHMuYnV0dG9uKCIiLG14VXRpbHMuYmluZCh0LApmdW5jdGlvbihmKXt0aGlzLmVkaXRvclVpLnBpY2tDb2xvcihiLGZ1bmN0aW9uKGIpe2Quc3R5bGUuYmFja2dyb3VuZD0ibm9uZSI9PWI/InVybCgnIitEaWFsb2cucHJvdG90eXBlLm5vQ29sb3JJbWFnZSsiJykiOmI7YyhhLGIsZSl9KTtteEV2ZW50LmNvbnN1bWUoZil9KSk7YnRuLnN0eWxlLmhlaWdodD0iMTJweCI7YnRuLnN0eWxlLndpZHRoPSI0MHB4IjtidG4uY2xhc3NOYW1lPSJnZUNvbG9yQnRuIjtidG4uYXBwZW5kQ2hpbGQoZCk7cmV0dXJuIGJ0bn1mdW5jdGlvbiBnKGEsYixlLGQsZixnLGwpe251bGwhPWImJihiPWIuc3BsaXQoIiwiKSx1LnB1c2goe25hbWU6YSx2YWx1ZXM6Yix0eXBlOmUsZGVmVmFsOmQsY291bnRQcm9wZXJ0eTpmLHBhcmVudFJvdzpnLGlzRGVsZXRhYmxlOiEwLGZsaXBCa2c6bH0pKTtidG49bXhVdGlscy5idXR0b24oIisiLG14VXRpbHMuYmluZCh0LGZ1bmN0aW9uKGIpe2Zvcih2YXIgbj1nLHQ9MDtudWxsIT1uLm5leHRTaWJsaW5nOylpZihuLm5leHRTaWJsaW5nLmdldEF0dHJpYnV0ZSgiZGF0YS1wTmFtZSIpPT0KYSluPW4ubmV4dFNpYmxpbmcsdCsrO2Vsc2UgYnJlYWs7dmFyIGs9e3R5cGU6ZSxwYXJlbnRSb3c6ZyxpbmRleDp0LGlzRGVsZXRhYmxlOiEwLGRlZlZhbDpkLGNvdW50UHJvcGVydHk6Zn0sdD1wKGEsIiIsaywwPT10JTIsbCk7YyhhLGQsayk7bi5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0LG4ubmV4dFNpYmxpbmcpO214RXZlbnQuY29uc3VtZShiKX0pKTtidG4uc3R5bGUuaGVpZ2h0PSIxNnB4IjtidG4uc3R5bGUud2lkdGg9IjI1cHgiO2J0bi5jbGFzc05hbWU9ImdlQ29sb3JCdG4iO3JldHVybiBidG59ZnVuY3Rpb24gbChhLGIsZSxjLGQsZixnKXtpZigwPGQpe3ZhciBsPUFycmF5KGQpO2I9bnVsbCE9Yj9iLnNwbGl0KCIsIik6W107Zm9yKHZhciBuPTA7bjxkO24rKylsW25dPW51bGwhPWJbbl0/YltuXTpudWxsIT1jP2M6IiI7dS5wdXNoKHtuYW1lOmEsdmFsdWVzOmwsdHlwZTplLGRlZlZhbDpjLHBhcmVudFJvdzpmLGZsaXBCa2c6ZyxzaXplOmR9KX1yZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iil9CmZ1bmN0aW9uIG4oYSxiLGUpe3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7ZC50eXBlPSJjaGVja2JveCI7ZC5jaGVja2VkPSIxIj09YjtteEV2ZW50LmFkZExpc3RlbmVyKGQsImNoYW5nZSIsZnVuY3Rpb24oKXtjKGEsZC5jaGVja2VkPyIxIjoiMCIsZSl9KTtyZXR1cm4gZH1mdW5jdGlvbiBwKGIsZSxwLGssdSl7dmFyIG09cC5kaXNwTmFtZSx2PXAudHlwZSx4PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyIik7eC5jbGFzc05hbWU9ImdlUHJvcFJvdyIrKHU/IkRhcmsiOiIiKSsoaz8iQWx0IjoiIikrIiBnZVByb3BOb25IZWFkZXJSb3ciO3guc2V0QXR0cmlidXRlKCJkYXRhLXBOYW1lIixiKTt4LnNldEF0dHJpYnV0ZSgiZGF0YS1wVmFsdWUiLGUpO2s9ITE7bnVsbCE9cC5pbmRleCYmKHguc2V0QXR0cmlidXRlKCJkYXRhLWluZGV4IixwLmluZGV4KSxtPShudWxsIT1tP206IiIpKyJbIitwLmluZGV4KyJdIixrPSEwKTt2YXIgeT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpOwp5LmNsYXNzTmFtZT0iZ2VQcm9wUm93Q2VsbCI7eS5pbm5lckhUTUw9bXhVdGlscy5odG1sRW50aXRpZXMobXhSZXNvdXJjZXMuZ2V0KG0sbnVsbCxtKSk7ayYmKHkuc3R5bGUudGV4dEFsaWduPSJyaWdodCIpO3guYXBwZW5kQ2hpbGQoeSk7eT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpO3kuY2xhc3NOYW1lPSJnZVByb3BSb3dDZWxsIjtpZigiY29sb3IiPT12KXkuYXBwZW5kQ2hpbGQoZihiLGUscCkpO2Vsc2UgaWYoImJvb2wiPT12fHwiYm9vbGVhbiI9PXYpeS5hcHBlbmRDaGlsZChuKGIsZSxwKSk7ZWxzZSBpZigiZW51bSI9PXYpe3ZhciBBPXAuZW51bUxpc3Q7Zm9yKHU9MDt1PEEubGVuZ3RoO3UrKylpZihtPUFbdV0sbS52YWw9PWUpe3kuaW5uZXJIVE1MPW14VXRpbHMuaHRtbEVudGl0aWVzKG14UmVzb3VyY2VzLmdldChtLmRpc3BOYW1lLG51bGwsbS5kaXNwTmFtZSkpO2JyZWFrfW14RXZlbnQuYWRkTGlzdGVuZXIoeSwiY2xpY2siLG14VXRpbHMuYmluZCh0LGZ1bmN0aW9uKCl7dmFyIGY9CmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpO2QoeSxmKTtmb3IodmFyIGc9MDtnPEEubGVuZ3RoO2crKyl7dmFyIGw9QVtnXSxuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpO24udmFsdWU9bXhVdGlscy5odG1sRW50aXRpZXMobC52YWwpO24uaW5uZXJIVE1MPW14VXRpbHMuaHRtbEVudGl0aWVzKG14UmVzb3VyY2VzLmdldChsLmRpc3BOYW1lLG51bGwsbC5kaXNwTmFtZSkpO2YuYXBwZW5kQ2hpbGQobil9Zi52YWx1ZT1lO2EuYXBwZW5kQ2hpbGQoZik7bXhFdmVudC5hZGRMaXN0ZW5lcihmLCJjaGFuZ2UiLGZ1bmN0aW9uKCl7dmFyIGE9bXhVdGlscy5odG1sRW50aXRpZXMoZi52YWx1ZSk7YyhiLGEscCl9KTtmLmZvY3VzKCk7bXhFdmVudC5hZGRMaXN0ZW5lcihmLCJibHVyIixmdW5jdGlvbigpe2EucmVtb3ZlQ2hpbGQoZil9KX0pKX1lbHNlImR5bmFtaWNBcnIiPT12P3kuYXBwZW5kQ2hpbGQoZyhiLGUscC5zdWJUeXBlLHAuc3ViRGVmVmFsLHAuY291bnRQcm9wZXJ0eSwKeCx1KSk6InN0YXRpY0FyciI9PXY/eS5hcHBlbmRDaGlsZChsKGIsZSxwLnN1YlR5cGUscC5zdWJEZWZWYWwscC5zaXplLHgsdSkpOih5LmlubmVySFRNTD1lLG14RXZlbnQuYWRkTGlzdGVuZXIoeSwiY2xpY2siLG14VXRpbHMuYmluZCh0LGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZigpe3ZhciBhPWcudmFsdWUsYT0wPT1hLmxlbmd0aCYmInN0cmluZyIhPXY/MDphO3AuYWxsb3dBdXRvJiYobnVsbCE9YS50cmltJiYiYXV0byI9PWEudHJpbSgpLnRvTG93ZXJDYXNlKCk/KGE9ImF1dG8iLHY9InN0cmluZyIpOihhPXBhcnNlRmxvYXQoYSksYT1pc05hTihhKT8wOmEpKTtudWxsIT1wLm1pbiYmYTxwLm1pbj9hPXAubWluOm51bGwhPXAubWF4JiZhPnAubWF4JiYoYT1wLm1heCk7YT1teFV0aWxzLmh0bWxFbnRpdGllcygoImludCI9PXY/cGFyc2VJbnQoYSk6YSkrIiIpO2MoYixhLHApfXZhciBnPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7ZCh5LGcsITApO2cudmFsdWU9ZTtnLmNsYXNzTmFtZT0KImdlUHJvcEVkaXRvciI7ImludCIhPXYmJiJmbG9hdCIhPXZ8fHAuYWxsb3dBdXRvfHwoZy50eXBlPSJudW1iZXIiLGcuc3RlcD0iaW50Ij09dj8iMSI6ImFueSIsbnVsbCE9cC5taW4mJihnLm1pbj1wYXJzZUZsb2F0KHAubWluKSksbnVsbCE9cC5tYXgmJihnLm1heD1wYXJzZUZsb2F0KHAubWF4KSkpO2EuYXBwZW5kQ2hpbGQoZyk7bXhFdmVudC5hZGRMaXN0ZW5lcihnLCJrZXlwcmVzcyIsZnVuY3Rpb24oYSl7MTM9PWEua2V5Q29kZSYmZigpfSk7Zy5mb2N1cygpO214RXZlbnQuYWRkTGlzdGVuZXIoZywiYmx1ciIsZnVuY3Rpb24oKXtmKCl9KX0pKSk7cC5pc0RlbGV0YWJsZSYmKHU9bXhVdGlscy5idXR0b24oIi0iLG14VXRpbHMuYmluZCh0LGZ1bmN0aW9uKGEpe2MoYiwiIixwLHAuaW5kZXgpO214RXZlbnQuY29uc3VtZShhKX0pKSx1LnN0eWxlLmhlaWdodD0iMTZweCIsdS5zdHlsZS53aWR0aD0iMjVweCIsdS5zdHlsZVsiZmxvYXQiXT0icmlnaHQiLHUuY2xhc3NOYW1lPSJnZUNvbG9yQnRuIiwKeS5hcHBlbmRDaGlsZCh1KSk7eC5hcHBlbmRDaGlsZCh5KTtyZXR1cm4geH12YXIgdD10aGlzLGs9dGhpcy5lZGl0b3JVaS5lZGl0b3IuZ3JhcGgsdT1bXTthLnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSI7YS5zdHlsZS5wYWRkaW5nPSIwIjt2YXIgbT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0YWJsZSIpO20uY2xhc3NOYW1lPSJnZVByb3BlcnRpZXMiO20uc3R5bGUud2hpdGVTcGFjZT0ibm93cmFwIjttLnN0eWxlLndpZHRoPSIxMDAlIjt2YXIgdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ciIpO3YuY2xhc3NOYW1lPSJnZVByb3BIZWFkZXIiO3ZhciB4PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRoIik7eC5jbGFzc05hbWU9ImdlUHJvcEhlYWRlckNlbGwiO3ZhciB5PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpO3kuc3JjPVNpZGViYXIucHJvdG90eXBlLmV4cGFuZGVkSW1hZ2U7eC5hcHBlbmRDaGlsZCh5KTtteFV0aWxzLndyaXRlKHgsbXhSZXNvdXJjZXMuZ2V0KCJwcm9wZXJ0eSIpKTsKdi5zdHlsZS5jdXJzb3I9InBvaW50ZXIiO3ZhciBBPWZ1bmN0aW9uKCl7dmFyIGI9bS5xdWVyeVNlbGVjdG9yQWxsKCIuZ2VQcm9wTm9uSGVhZGVyUm93IiksZTtpZih0LmVkaXRvclVpLnByb3BlcnRpZXNDb2xsYXBzZWQpe3kuc3JjPVNpZGViYXIucHJvdG90eXBlLmNvbGxhcHNlZEltYWdlO2U9Im5vbmUiO2Zvcih2YXIgYz1hLmNoaWxkTm9kZXMubGVuZ3RoLTE7MDw9YztjLS0pdHJ5e3ZhciBkPWEuY2hpbGROb2Rlc1tjXSxmPWQubm9kZU5hbWUudG9VcHBlckNhc2UoKTsiSU5QVVQiIT1mJiYiU0VMRUNUIiE9Znx8YS5yZW1vdmVDaGlsZChkKX1jYXRjaChxYSl7fX1lbHNlIHkuc3JjPVNpZGViYXIucHJvdG90eXBlLmV4cGFuZGVkSW1hZ2UsZT0iIjtmb3IoYz0wO2M8Yi5sZW5ndGg7YysrKWJbY10uc3R5bGUuZGlzcGxheT1lfTtteEV2ZW50LmFkZExpc3RlbmVyKHYsImNsaWNrIixmdW5jdGlvbigpe3QuZWRpdG9yVWkucHJvcGVydGllc0NvbGxhcHNlZD0hdC5lZGl0b3JVaS5wcm9wZXJ0aWVzQ29sbGFwc2VkOwpBKCl9KTt2LmFwcGVuZENoaWxkKHgpO3g9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGgiKTt4LmNsYXNzTmFtZT0iZ2VQcm9wSGVhZGVyQ2VsbCI7eC5pbm5lckhUTUw9bXhSZXNvdXJjZXMuZ2V0KCJ2YWx1ZSIpO3YuYXBwZW5kQ2hpbGQoeCk7bS5hcHBlbmRDaGlsZCh2KTt2YXIgcT0hMSx6PSExLEQ7Zm9yKEQgaW4gYilpZih2PWJbRF0sImZ1bmN0aW9uIiE9dHlwZW9mIHYuaXNWaXNpYmxlfHx2LmlzVmlzaWJsZShlLHRoaXMpKXt2YXIgQj1udWxsIT1lLnN0eWxlW0RdP214VXRpbHMuaHRtbEVudGl0aWVzKGUuc3R5bGVbRF0rIiIpOm51bGwhPXYuZ2V0RGVmYXVsdFZhbHVlP3YuZ2V0RGVmYXVsdFZhbHVlKGUsdGhpcyk6di5kZWZWYWw7aWYoInNlcGFyYXRvciI9PXYudHlwZSl6PSF6O2Vsc2V7aWYoInN0YXRpY0FyciI9PXYudHlwZSl2LnNpemU9cGFyc2VJbnQoZS5zdHlsZVt2LnNpemVQcm9wZXJ0eV18fGJbdi5zaXplUHJvcGVydHldLmRlZlZhbCl8fDA7ZWxzZSBpZihudWxsIT0Kdi5kZXBlbmRlbnRQcm9wcyl7Zm9yKHZhciBDPXYuZGVwZW5kZW50UHJvcHMsRT1bXSxLPVtdLHg9MDt4PEMubGVuZ3RoO3grKyl7dmFyIEc9ZS5zdHlsZVtDW3hdXTtLLnB1c2goYltDW3hdXS5zdWJEZWZWYWwpO0UucHVzaChudWxsIT1HP0cuc3BsaXQoIiwiKTpbXSl9di5kZXBlbmRlbnRQcm9wc0RlZlZhbD1LO3YuZGVwZW5kZW50UHJvcHNWYWxzPUV9bS5hcHBlbmRDaGlsZChwKEQsQix2LHEseikpO3E9IXF9fWZvcih4PTA7eDx1Lmxlbmd0aDt4KyspZm9yKHY9dVt4XSxiPXYucGFyZW50Um93LGU9MDtlPHYudmFsdWVzLmxlbmd0aDtlKyspRD1wKHYubmFtZSx2LnZhbHVlc1tlXSx7dHlwZTp2LnR5cGUscGFyZW50Um93OnYucGFyZW50Um93LGlzRGVsZXRhYmxlOnYuaXNEZWxldGFibGUsaW5kZXg6ZSxkZWZWYWw6di5kZWZWYWwsY291bnRQcm9wZXJ0eTp2LmNvdW50UHJvcGVydHksc2l6ZTp2LnNpemV9LDA9PWUlMix2LmZsaXBCa2cpLGIucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoRCwKYi5uZXh0U2libGluZyksYj1EO2EuYXBwZW5kQ2hpbGQobSk7QSgpO3JldHVybiBhfTtTdHlsZUZvcm1hdFBhbmVsLnByb3RvdHlwZS5hZGRTdHlsZXM9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtteEV2ZW50LmFkZExpc3RlbmVyKGEsIm1vdXNlZW50ZXIiLGZ1bmN0aW9uKCl7YS5zdHlsZS5vcGFjaXR5PSIxIn0pO214RXZlbnQuYWRkTGlzdGVuZXIoYSwibW91c2VsZWF2ZSIsZnVuY3Rpb24oKXthLnN0eWxlLm9wYWNpdHk9IjAuNSJ9KX12YXIgZT10aGlzLmVkaXRvclVpLmVkaXRvci5ncmFwaCxjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Muc3R5bGUud2hpdGVTcGFjZT0ibm93cmFwIjtjLnN0eWxlLnBhZGRpbmdMZWZ0PSIyNHB4IjtjLnN0eWxlLnBhZGRpbmdSaWdodD0iMjBweCI7YS5zdHlsZS5wYWRkaW5nTGVmdD0iMTZweCI7YS5zdHlsZS5wYWRkaW5nQm90dG9tPSI2cHgiO2Euc3R5bGUucG9zaXRpb249InJlbGF0aXZlIjthLmFwcGVuZENoaWxkKGMpO3ZhciBkPQoicGxhaW4tZ3JheSBwbGFpbi1ibHVlIHBsYWluLWdyZWVuIHBsYWluLXR1cnF1b2lzZSBwbGFpbi1vcmFuZ2UgcGxhaW4teWVsbG93IHBsYWluLXJlZCBwbGFpbi1waW5rIHBsYWluLXB1cnBsZSBncmF5IGJsdWUgZ3JlZW4gdHVycXVvaXNlIG9yYW5nZSB5ZWxsb3cgcmVkIHBpbmsgcHVycGxlIi5zcGxpdCgiICIpLGY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Zi5zdHlsZS53aGl0ZVNwYWNlPSJub3dyYXAiO2Yuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIjtmLnN0eWxlLnRleHRBbGlnbj0iY2VudGVyIjtmb3IodmFyIGc9W10sbD0wO2w8dGhpcy5kZWZhdWx0Q29sb3JTY2hlbWVzLmxlbmd0aDtsKyspe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO24uc3R5bGUuZGlzcGxheT0iaW5saW5lLWJsb2NrIjtuLnN0eWxlLndpZHRoPSI2cHgiO24uc3R5bGUuaGVpZ2h0PSI2cHgiO24uc3R5bGUubWFyZ2luTGVmdD0iNHB4IjtuLnN0eWxlLm1hcmdpblJpZ2h0PQoiM3B4IjtuLnN0eWxlLmJvcmRlclJhZGl1cz0iM3B4IjtuLnN0eWxlLmN1cnNvcj0icG9pbnRlciI7bi5zdHlsZS5iYWNrZ3JvdW5kPSJ0cmFuc3BhcmVudCI7bi5zdHlsZS5ib3JkZXI9IjFweCBzb2xpZCAjYjViNmI3IjtteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtteEV2ZW50LmFkZExpc3RlbmVyKG4sImNsaWNrIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3AoYSl9KSl9KShsKTtteEV2ZW50LmFkZDtnLnB1c2gobik7Zi5hcHBlbmRDaGlsZChuKX12YXIgcD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtudWxsIT10aGlzLmVkaXRvclVpLmN1cnJlbnRTY2hlbWUmJihnW3RoaXMuZWRpdG9yVWkuY3VycmVudFNjaGVtZV0uc3R5bGUuYmFja2dyb3VuZD0idHJhbnNwYXJlbnQiKTt0aGlzLmVkaXRvclVpLmN1cnJlbnRTY2hlbWU9YTt0KHRoaXMuZGVmYXVsdENvbG9yU2NoZW1lc1t0aGlzLmVkaXRvclVpLmN1cnJlbnRTY2hlbWVdKTtnW3RoaXMuZWRpdG9yVWkuY3VycmVudFNjaGVtZV0uc3R5bGUuYmFja2dyb3VuZD0KIiM4NGQ3ZmYifSksdD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt2YXIgYj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt2YXIgYj1teFV0aWxzLmJ1dHRvbigiIixmdW5jdGlvbihiKXtlLmdldE1vZGVsKCkuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKHZhciBjPWUuZ2V0U2VsZWN0aW9uQ2VsbHMoKSxmPTA7ZjxjLmxlbmd0aDtmKyspe2Zvcih2YXIgZz1lLmdldE1vZGVsKCkuZ2V0U3R5bGUoY1tmXSksbD0wO2w8ZC5sZW5ndGg7bCsrKWc9bXhVdGlscy5yZW1vdmVTdHlsZW5hbWUoZyxkW2xdKTt2YXIgbj1lLmdldE1vZGVsKCkuaXNWZXJ0ZXgoY1tmXSk/ZS5kZWZhdWx0VmVydGV4U3R5bGU6ZS5kZWZhdWx0RWRnZVN0eWxlO251bGwhPWE/KGc9bXhVdGlscy5zZXRTdHlsZShnLG14Q29uc3RhbnRzLlNUWUxFX0dSQURJRU5UQ09MT1IsYS5ncmFkaWVudHx8bXhVdGlscy5nZXRWYWx1ZShuLG14Q29uc3RhbnRzLlNUWUxFX0dSQURJRU5UQ09MT1IsbnVsbCkpLG14RXZlbnQuaXNDb250cm9sRG93bihiKXx8Cm14Q2xpZW50LklTX01BQyYmbXhFdmVudC5pc01ldGFEb3duKGIpfHwoZz0iIj09YS5maWxsP214VXRpbHMuc2V0U3R5bGUoZyxteENvbnN0YW50cy5TVFlMRV9GSUxMQ09MT1IsbnVsbCk6bXhVdGlscy5zZXRTdHlsZShnLG14Q29uc3RhbnRzLlNUWUxFX0ZJTExDT0xPUixhLmZpbGx8fG14VXRpbHMuZ2V0VmFsdWUobixteENvbnN0YW50cy5TVFlMRV9GSUxMQ09MT1IsbnVsbCkpKSxteEV2ZW50LmlzU2hpZnREb3duKGIpfHwoZz0iIj09YS5zdHJva2U/bXhVdGlscy5zZXRTdHlsZShnLG14Q29uc3RhbnRzLlNUWUxFX1NUUk9LRUNPTE9SLG51bGwpOm14VXRpbHMuc2V0U3R5bGUoZyxteENvbnN0YW50cy5TVFlMRV9TVFJPS0VDT0xPUixhLnN0cm9rZXx8bXhVdGlscy5nZXRWYWx1ZShuLG14Q29uc3RhbnRzLlNUWUxFX1NUUk9LRUNPTE9SLG51bGwpKSksIW14RXZlbnQuaXNBbHREb3duKGIpJiZlLmdldE1vZGVsKCkuaXNWZXJ0ZXgoY1tmXSkmJihnPW14VXRpbHMuc2V0U3R5bGUoZywKbXhDb25zdGFudHMuU1RZTEVfRk9OVENPTE9SLGEuZm9udHx8bXhVdGlscy5nZXRWYWx1ZShuLG14Q29uc3RhbnRzLlNUWUxFX0ZPTlRDT0xPUixudWxsKSkpKTooZz1teFV0aWxzLnNldFN0eWxlKGcsbXhDb25zdGFudHMuU1RZTEVfRklMTENPTE9SLG14VXRpbHMuZ2V0VmFsdWUobixteENvbnN0YW50cy5TVFlMRV9GSUxMQ09MT1IsIiNmZmZmZmYiKSksZz1teFV0aWxzLnNldFN0eWxlKGcsbXhDb25zdGFudHMuU1RZTEVfU1RST0tFQ09MT1IsbXhVdGlscy5nZXRWYWx1ZShuLG14Q29uc3RhbnRzLlNUWUxFX1NUUk9LRUNPTE9SLCIjMDAwMDAwIikpLGc9bXhVdGlscy5zZXRTdHlsZShnLG14Q29uc3RhbnRzLlNUWUxFX0dSQURJRU5UQ09MT1IsbXhVdGlscy5nZXRWYWx1ZShuLG14Q29uc3RhbnRzLlNUWUxFX0dSQURJRU5UQ09MT1IsbnVsbCkpLGUuZ2V0TW9kZWwoKS5pc1ZlcnRleChjW2ZdKSYmKGc9bXhVdGlscy5zZXRTdHlsZShnLG14Q29uc3RhbnRzLlNUWUxFX0ZPTlRDT0xPUiwKbXhVdGlscy5nZXRWYWx1ZShuLG14Q29uc3RhbnRzLlNUWUxFX0ZPTlRDT0xPUixudWxsKSkpKTtlLmdldE1vZGVsKCkuc2V0U3R5bGUoY1tmXSxnKX19ZmluYWxseXtlLmdldE1vZGVsKCkuZW5kVXBkYXRlKCl9fSk7Yi5jbGFzc05hbWU9ImdlU3R5bGVCdXR0b24iO2Iuc3R5bGUud2lkdGg9IjM2cHgiO2Iuc3R5bGUuaGVpZ2h0PTEwPj10aGlzLmRlZmF1bHRDb2xvclNjaGVtZXMubGVuZ3RoPyIyNHB4IjoiMzBweCI7Yi5zdHlsZS5tYXJnaW49IjBweCA2cHggNnB4IDBweCI7aWYobnVsbCE9YSludWxsIT1hLmdyYWRpZW50P214Q2xpZW50LklTX0lFJiYobXhDbGllbnQuSVNfUVVJUktTfHwxMD5kb2N1bWVudC5kb2N1bWVudE1vZGUpP2Iuc3R5bGUuZmlsdGVyPSJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuR3JhZGllbnQoU3RhcnRDb2xvclN0cj0nIithLmZpbGwrIicsIEVuZENvbG9yU3RyPSciK2EuZ3JhZGllbnQrIicsIEdyYWRpZW50VHlwZT0wKSI6Yi5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9CiJsaW5lYXItZ3JhZGllbnQoIithLmZpbGwrIiAwcHgsIithLmdyYWRpZW50KyIgMTAwJSkiOmEuZmlsbD09bXhDb25zdGFudHMuTk9ORT9iLnN0eWxlLmJhY2tncm91bmQ9InVybCgnIitEaWFsb2cucHJvdG90eXBlLm5vQ29sb3JJbWFnZSsiJykiOmIuc3R5bGUuYmFja2dyb3VuZENvbG9yPSIiPT1hLmZpbGw/bXhVdGlscy5nZXRWYWx1ZShlLmRlZmF1bHRWZXJ0ZXhTdHlsZSxteENvbnN0YW50cy5TVFlMRV9GSUxMQ09MT1IsImRhcmsiPT11aVRoZW1lPyIjMmEyYTJhIjoiI2ZmZmZmZiIpOmEuZmlsbHx8bXhVdGlscy5nZXRWYWx1ZShlLmRlZmF1bHRWZXJ0ZXhTdHlsZSxteENvbnN0YW50cy5TVFlMRV9GSUxMQ09MT1IsImRhcmsiPT11aVRoZW1lPyIjMmEyYTJhIjoiI2ZmZmZmZiIpLGIuc3R5bGUuYm9yZGVyPWEuc3Ryb2tlPT1teENvbnN0YW50cy5OT05FPyIxcHggc29saWQgdHJhbnNwYXJlbnQiOiIiPT1hLnN0cm9rZT8iMXB4IHNvbGlkICIrbXhVdGlscy5nZXRWYWx1ZShlLmRlZmF1bHRWZXJ0ZXhTdHlsZSwKbXhDb25zdGFudHMuU1RZTEVfU1RST0tFQ09MT1IsImRhcmsiIT11aVRoZW1lPyIjMmEyYTJhIjoiI2ZmZmZmZiIpOiIxcHggc29saWQgIisoYS5zdHJva2V8fG14VXRpbHMuZ2V0VmFsdWUoZS5kZWZhdWx0VmVydGV4U3R5bGUsbXhDb25zdGFudHMuU1RZTEVfU1RST0tFQ09MT1IsImRhcmsiIT11aVRoZW1lPyIjMmEyYTJhIjoiI2ZmZmZmZiIpKTtlbHNle3ZhciBmPW14VXRpbHMuZ2V0VmFsdWUoZS5kZWZhdWx0VmVydGV4U3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRklMTENPTE9SLCIjZmZmZmZmIiksZz1teFV0aWxzLmdldFZhbHVlKGUuZGVmYXVsdFZlcnRleFN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1NUUk9LRUNPTE9SLCIjMDAwMDAwIik7Yi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9ZjtiLnN0eWxlLmJvcmRlcj0iMXB4IHNvbGlkICIrZ31jLmFwcGVuZENoaWxkKGIpfSk7Yy5pbm5lckhUTUw9IiI7Zm9yKHZhciBmPTA7ZjxhLmxlbmd0aDtmKyspMDxmJiYwPT1teFV0aWxzLm1vZChmLAo0KSYmbXhVdGlscy5icihjKSxiKGFbZl0pfSk7bnVsbD09dGhpcy5lZGl0b3JVaS5jdXJyZW50U2NoZW1lP3AoImRhcmsiPT11aVRoZW1lPzE6MCk6cCh0aGlzLmVkaXRvclVpLmN1cnJlbnRTY2hlbWUpO3ZhciBsPTEwPj10aGlzLmRlZmF1bHRDb2xvclNjaGVtZXMubGVuZ3RoPzI4Ojgsaz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtrLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6MTBweDt0b3A6OHB4O2JvdHRvbToiK2wrInB4O3dpZHRoOjIwcHg7bWFyZ2luOjRweDtvcGFjaXR5OjAuNTtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1wb3NpdGlvbjpjZW50ZXIgY2VudGVyO2JhY2tncm91bmQtaW1hZ2U6dXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQXdBQUFBUUJBTUFBQURRVDRNMEFBQUFJVkJNVkVVQUFBQjJkblo0ZUhoM2QzZDFkWFZ4Y1hGMmRuWjJkbloyZG5aeGNYRjJkblltYjN3MUFBQUFDblJTVGxNQWZDVGtoaHZiN2NRU1BIMkpQZ0FBQURSSlJFRlVDTmRqd0FDTUFtQkthaUdZczJvSm1MUEtBWjNEYWJVOEFNUlRYcFVLb3Bpc2xxRnlWekNBdVVaZ2lra0Jaam9BY01ZTG5wNTNQL1VBQUFBQVNVVk9SSzVDWUlJPSk7IjsKbXhFdmVudC5hZGRMaXN0ZW5lcihrLCJjbGljayIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtwKG14VXRpbHMubW9kKHRoaXMuZWRpdG9yVWkuY3VycmVudFNjaGVtZS0xLHRoaXMuZGVmYXVsdENvbG9yU2NoZW1lcy5sZW5ndGgpKX0pKTt2YXIgdT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTt1LnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6MjAycHg7dG9wOjhweDtib3R0b206IitsKyJweDt3aWR0aDoyMHB4O21hcmdpbjo0cHg7b3BhY2l0eTowLjU7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtcG9zaXRpb246Y2VudGVyIGNlbnRlcjtiYWNrZ3JvdW5kLWltYWdlOnVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUF3QUFBQVFCQU1BQUFEUVQ0TTBBQUFBSVZCTVZFVUFBQUIyZG5aMmRuWjJkbloyZG5aMmRuWjJkbloyZG5aMmRuWjJkbloyZG5ZQnV3Q2NBQUFBQ25SU1RsTUFmQ1RraGh2YjdjUVNQSDJKUGdBQUFEWkpSRUZVQ05kalFBT01BbUJLYWlHWThsb0Y1cktzd3NabHJWbzhBVWlGclRJQ2NiSVdLOEE1REYxZ0RvTXltTVBBcElBd0h3Q1MwUXgvVTdxQ0JRQUFBQUJKUlU1RXJrSmdnZz09KTsiOwoxPHRoaXMuZGVmYXVsdENvbG9yU2NoZW1lcy5sZW5ndGgmJihhLmFwcGVuZENoaWxkKGspLGEuYXBwZW5kQ2hpbGQodSkpO214RXZlbnQuYWRkTGlzdGVuZXIodSwiY2xpY2siLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7cChteFV0aWxzLm1vZCh0aGlzLmVkaXRvclVpLmN1cnJlbnRTY2hlbWUrMSx0aGlzLmRlZmF1bHRDb2xvclNjaGVtZXMubGVuZ3RoKSl9KSk7YihrKTtiKHUpO3QodGhpcy5kZWZhdWx0Q29sb3JTY2hlbWVzW3RoaXMuZWRpdG9yVWkuY3VycmVudFNjaGVtZV0pOzEwPj10aGlzLmRlZmF1bHRDb2xvclNjaGVtZXMubGVuZ3RoJiZhLmFwcGVuZENoaWxkKGYpO3JldHVybiBhfTtTdHlsZUZvcm1hdFBhbmVsLnByb3RvdHlwZS5hZGRFZGl0T3BzPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZm9ybWF0LmdldFNlbGVjdGlvblN0YXRlKCksZT1udWxsOzE9PXRoaXMuZWRpdG9yVWkuZWRpdG9yLmdyYXBoLmdldFNlbGVjdGlvbkNvdW50KCkmJihlPW14VXRpbHMuYnV0dG9uKG14UmVzb3VyY2VzLmdldCgiZWRpdFN0eWxlIiksCm14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuZWRpdG9yVWkuYWN0aW9ucy5nZXQoImVkaXRTdHlsZSIpLmZ1bmN0KCl9KSksZS5zZXRBdHRyaWJ1dGUoInRpdGxlIixteFJlc291cmNlcy5nZXQoImVkaXRTdHlsZSIpKyIgKCIrdGhpcy5lZGl0b3JVaS5hY3Rpb25zLmdldCgiZWRpdFN0eWxlIikuc2hvcnRjdXQrIikiKSxlLnN0eWxlLndpZHRoPSIyMDJweCIsZS5zdHlsZS5tYXJnaW5Cb3R0b209IjJweCIsYS5hcHBlbmRDaGlsZChlKSk7dmFyIGM9dGhpcy5lZGl0b3JVaS5lZGl0b3IuZ3JhcGgsZD1jLnZpZXcuZ2V0U3RhdGUoYy5nZXRTZWxlY3Rpb25DZWxsKCkpOzE9PWMuZ2V0U2VsZWN0aW9uQ291bnQoKSYmbnVsbCE9ZCYmbnVsbCE9ZC5zaGFwZSYmbnVsbCE9ZC5zaGFwZS5zdGVuY2lsPyhiPW14VXRpbHMuYnV0dG9uKG14UmVzb3VyY2VzLmdldCgiZWRpdFNoYXBlIiksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5lZGl0b3JVaS5hY3Rpb25zLmdldCgiZWRpdFNoYXBlIikuZnVuY3QoKX0pKSwKYi5zZXRBdHRyaWJ1dGUoInRpdGxlIixteFJlc291cmNlcy5nZXQoImVkaXRTaGFwZSIpKSxiLnN0eWxlLm1hcmdpbkJvdHRvbT0iMnB4IixudWxsPT1lP2Iuc3R5bGUud2lkdGg9IjIwMnB4IjooZS5zdHlsZS53aWR0aD0iMTAwcHgiLGIuc3R5bGUud2lkdGg9IjEwMHB4IixiLnN0eWxlLm1hcmdpbkxlZnQ9IjJweCIpLGEuYXBwZW5kQ2hpbGQoYikpOmIuaW1hZ2UmJihiPW14VXRpbHMuYnV0dG9uKG14UmVzb3VyY2VzLmdldCgiZWRpdEltYWdlIiksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5lZGl0b3JVaS5hY3Rpb25zLmdldCgiaW1hZ2UiKS5mdW5jdCgpfSkpLGIuc2V0QXR0cmlidXRlKCJ0aXRsZSIsbXhSZXNvdXJjZXMuZ2V0KCJlZGl0SW1hZ2UiKSksYi5zdHlsZS5tYXJnaW5Cb3R0b209IjJweCIsbnVsbD09ZT9iLnN0eWxlLndpZHRoPSIyMDJweCI6KGUuc3R5bGUud2lkdGg9IjEwMHB4IixiLnN0eWxlLndpZHRoPSIxMDBweCIsYi5zdHlsZS5tYXJnaW5MZWZ0PQoiMnB4IiksYS5hcHBlbmRDaGlsZChiKSk7cmV0dXJuIGF9fUdyYXBoLnByb3RvdHlwZS5kZWZhdWx0VGhlbWVOYW1lPSJkZWZhdWx0LXN0eWxlMiI7R3JhcGgucHJvdG90eXBlLmxhc3RQYXN0ZVhtbD1udWxsO0dyYXBoLnByb3RvdHlwZS5wYXN0ZUNvdW50ZXI9MDtHcmFwaC5wcm90b3R5cGUuZGVmYXVsdFNjcm9sbGJhcnM9IjAiIT11cmxQYXJhbXMuc2I7R3JhcGgucHJvdG90eXBlLmRlZmF1bHRQYWdlVmlzaWJsZT0iMCIhPXVybFBhcmFtcy5wdjtHcmFwaC5wcm90b3R5cGUuc2hhZG93SWQ9ImRyb3BTaGFkb3ciO0dyYXBoLnByb3RvdHlwZS5zdmdTaGFkb3dDb2xvcj0iIzNENDU3NCI7R3JhcGgucHJvdG90eXBlLnN2Z1NoYWRvd09wYWNpdHk9IjAuNCI7R3JhcGgucHJvdG90eXBlLnN2Z1NoYWRvd0JsdXI9IjEuNyI7R3JhcGgucHJvdG90eXBlLnN2Z1NoYWRvd1NpemU9IjMiO0dyYXBoLnByb3RvdHlwZS5lZGdlTW9kZT0ibW92ZSIhPXVybFBhcmFtcy5lZGdlO3ZhciB4PUdyYXBoLnByb3RvdHlwZS5pbml0OwpHcmFwaC5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7Yj1hO3RyeXtpZihteENsaWVudC5JU19RVUlSS1N8fDc9PWRvY3VtZW50LmRvY3VtZW50TW9kZXx8OD09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKWI9ZG9jdW1lbnQuY3JlYXRlRXZlbnRPYmplY3QoYSksYi50eXBlPWEudHlwZSxiLmNhbkJ1YmJsZT1hLmNhbkJ1YmJsZSxiLmNhbmNlbGFibGU9YS5jYW5jZWxhYmxlLGIudmlldz1hLnZpZXcsYi5kZXRhaWw9YS5kZXRhaWwsYi5zY3JlZW5YPWEuc2NyZWVuWCxiLnNjcmVlblk9YS5zY3JlZW5ZLGIuY2xpZW50WD1hLmNsaWVudFgsYi5jbGllbnRZPWEuY2xpZW50WSxiLmN0cmxLZXk9YS5jdHJsS2V5LGIuYWx0S2V5PWEuYWx0S2V5LGIuc2hpZnRLZXk9YS5zaGlmdEtleSxiLm1ldGFLZXk9YS5tZXRhS2V5LGIuYnV0dG9uPWEuYnV0dG9uLGIucmVsYXRlZFRhcmdldD1hLnJlbGF0ZWRUYXJnZXR9Y2F0Y2goSCl7fX14LmFwcGx5KHRoaXMsYXJndW1lbnRzKTsKd2luZG93Lm14RnJlZWhhbmQmJih0aGlzLmZyZWVoYW5kPW5ldyBteEZyZWVoYW5kKHRoaXMpKTt2YXIgYj1udWxsO214RXZlbnQuYWRkTGlzdGVuZXIodGhpcy5jb250YWluZXIsIm1vdXNlZW50ZXIiLGEpO214RXZlbnQuYWRkTGlzdGVuZXIodGhpcy5jb250YWluZXIsIm1vdXNlbW92ZSIsYSk7bXhFdmVudC5hZGRMaXN0ZW5lcih0aGlzLmNvbnRhaW5lciwibW91c2VsZWF2ZSIsZnVuY3Rpb24oYSl7Yj1udWxsfSk7dGhpcy5pc01vdXNlSW5zZXJ0UG9pbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9Yn07dmFyIGU9dGhpcy5nZXRJbnNlcnRQb2ludDt0aGlzLmdldEluc2VydFBvaW50PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPWI/dGhpcy5nZXRQb2ludEZvckV2ZW50KGIpOmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt2YXIgYz10aGlzLmxheW91dE1hbmFnZXIuZ2V0TGF5b3V0O3RoaXMubGF5b3V0TWFuYWdlci5nZXRMYXlvdXQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5ncmFwaC5nZXRDZWxsU3R5bGUoYSk7CmlmKG51bGwhPWIpe2lmKCJyYWNrIj09Yi5jaGlsZExheW91dCl7dmFyIGU9bmV3IG14U3RhY2tMYXlvdXQodGhpcy5ncmFwaCwhMSk7ZS5ncmlkU2l6ZT1udWxsIT1iLnJhY2tVbml0U2l6ZT9wYXJzZUZsb2F0KGIucmFja1VuaXRTaXplKToidW5kZWZpbmVkIiE9PXR5cGVvZiBteFJhY2tDb250YWluZXI/bXhSYWNrQ29udGFpbmVyLnVuaXRTaXplOjIwO2UuZmlsbD0hMDtlLm1hcmdpbkxlZnQ9Yi5tYXJnaW5MZWZ0fHwwO2UubWFyZ2luUmlnaHQ9Yi5tYXJnaW5SaWdodHx8MDtlLm1hcmdpblRvcD1iLm1hcmdpblRvcHx8MDtlLm1hcmdpbkJvdHRvbT1iLm1hcmdpbkJvdHRvbXx8MDtlLmFsbG93R2Fwcz1iLmFsbG93R2Fwc3x8MDtlLnJlc2l6ZVBhcmVudD0hMTtyZXR1cm4gZX1pZigidW5kZWZpbmVkIiE9PXR5cGVvZiBteFRhYmxlTGF5b3V0JiYidGFibGVMYXlvdXQiPT1iLmNoaWxkTGF5b3V0KXJldHVybiBlPW5ldyBteFRhYmxlTGF5b3V0KHRoaXMuZ3JhcGgpLGUucm93cz1iLnRhYmxlUm93c3x8CjIsZS5jb2x1bW5zPWIudGFibGVDb2x1bW5zfHwyLGUuY29sUGVyY2VudGFnZXM9Yi5jb2xQZXJjZW50YWdlcyxlLnJvd1BlcmNlbnRhZ2VzPWIucm93UGVyY2VudGFnZXMsZS5lcXVhbENvbHVtbnM9IjEiPT1teFV0aWxzLmdldFZhbHVlKGIsImVxdWFsQ29sdW1ucyIsZS5jb2xQZXJjZW50YWdlcz8iMCI6IjEiKSxlLmVxdWFsUm93cz0iMSI9PW14VXRpbHMuZ2V0VmFsdWUoYiwiZXF1YWxSb3dzIixlLnJvd1BlcmNlbnRhZ2VzPyIwIjoiMSIpLGUucmVzaXplUGFyZW50PSIxIj09bXhVdGlscy5nZXRWYWx1ZShiLCJyZXNpemVQYXJlbnQiLCIxIiksZS5ib3JkZXI9Yi50YWJsZUJvcmRlcnx8ZS5ib3JkZXIsZS5tYXJnaW5MZWZ0PWIubWFyZ2luTGVmdHx8MCxlLm1hcmdpblJpZ2h0PWIubWFyZ2luUmlnaHR8fDAsZS5tYXJnaW5Ub3A9Yi5tYXJnaW5Ub3B8fDAsZS5tYXJnaW5Cb3R0b209Yi5tYXJnaW5Cb3R0b218fDAsZS5hdXRvQWRkQ29sPSIxIj09bXhVdGlscy5nZXRWYWx1ZShiLAoiYXV0b0FkZENvbCIsIjAiKSxlLmF1dG9BZGRSb3c9IjEiPT1teFV0aWxzLmdldFZhbHVlKGIsImF1dG9BZGRSb3ciLGUuYXV0b0FkZENvbD8iMCI6IjEiKSxlLmNvbFdpZHRocz1iLmNvbFdpZHRoc3x8IjEwMCIsZS5yb3dIZWlnaHRzPWIucm93SGVpZ2h0c3x8IjUwIixlfXJldHVybiBjLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dGhpcy51cGRhdGVHbG9iYWxVcmxWYXJpYWJsZXMoKX07dmFyIEE9R3JhcGgucHJvdG90eXBlLmlzRmFzdFpvb21FbmFibGVkO0dyYXBoLnByb3RvdHlwZS5pc0Zhc3Rab29tRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiBBLmFwcGx5KHRoaXMsYXJndW1lbnRzKSYmKCF0aGlzLnNoYWRvd1Zpc2libGV8fCFteENsaWVudC5JU19TRil9O0dyYXBoLnByb3RvdHlwZS51cGRhdGVHbG9iYWxVcmxWYXJpYWJsZXM9ZnVuY3Rpb24oKXt0aGlzLmdsb2JhbFZhcnM9RWRpdG9yLmdsb2JhbFZhcnM7aWYobnVsbCE9dXJsUGFyYW1zLnZhcnMpdHJ5e3RoaXMuZ2xvYmFsVmFycz0KbnVsbCE9dGhpcy5nbG9iYWxWYXJzP214VXRpbHMuY2xvbmUodGhpcy5nbG9iYWxWYXJzKTp7fTt2YXIgYT1KU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudCh1cmxQYXJhbXMudmFycykpO2lmKG51bGwhPWEpZm9yKHZhciBiIGluIGEpdGhpcy5nbG9iYWxWYXJzW2JdPWFbYl19Y2F0Y2goeSl7bnVsbCE9d2luZG93LmNvbnNvbGUmJmNvbnNvbGUubG9nKCJFcnJvciBpbiB2YXJzIFVSTCBwYXJhbWV0ZXI6ICIreSl9fTtHcmFwaC5wcm90b3R5cGUuZ2V0RXhwb3J0VmFyaWFibGVzPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMuZ2xvYmFsVmFycz9teFV0aWxzLmNsb25lKHRoaXMuZ2xvYmFsVmFycyk6e319O3ZhciBEPUdyYXBoLnByb3RvdHlwZS5nZXRHbG9iYWxWYXJpYWJsZTtHcmFwaC5wcm90b3R5cGUuZ2V0R2xvYmFsVmFyaWFibGU9ZnVuY3Rpb24oYSl7dmFyIGI9RC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bnVsbD09YiYmbnVsbCE9dGhpcy5nbG9iYWxWYXJzJiYoYj10aGlzLmdsb2JhbFZhcnNbYV0pOwpyZXR1cm4gYn07R3JhcGgucHJvdG90eXBlLmdldERlZmF1bHRTdHlsZXNoZWV0PWZ1bmN0aW9uKCl7aWYobnVsbD09dGhpcy5kZWZhdWx0U3R5bGVzaGVldCl7dmFyIGE9dGhpcy50aGVtZXNbImRlZmF1bHQtc3R5bGUyIl07dGhpcy5kZWZhdWx0U3R5bGVzaGVldD0obmV3IG14Q29kZWMoYS5vd25lckRvY3VtZW50KSkuZGVjb2RlKGEpfXJldHVybiB0aGlzLmRlZmF1bHRTdHlsZXNoZWV0fTtHcmFwaC5wcm90b3R5cGUuaXNWaWV3ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdXJsUGFyYW1zLnZpZXdlcn07dmFyIEI9R3JhcGgucHJvdG90eXBlLmdldFN2ZztHcmFwaC5wcm90b3R5cGUuZ2V0U3ZnPWZ1bmN0aW9uKGEsYixlLGMsZCxmLGcsbCxuLHAsdCxrKXt2YXIgdj1udWxsO2t8fG51bGw9PXRoaXMudGhlbWVzfHwiZGFya1RoZW1lIiE9dGhpcy5kZWZhdWx0VGhlbWVOYW1lfHwodj10aGlzLnN0eWxlc2hlZXQsdGhpcy5zdHlsZXNoZWV0PXRoaXMuZ2V0RGVmYXVsdFN0eWxlc2hlZXQoKSwKdGhpcy5yZWZyZXNoKCkpO3ZhciBtPUIuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKHQmJm51bGwhPXRoaXMuZXh0Rm9udHMmJjA8dGhpcy5leHRGb250cy5sZW5ndGgpe3ZhciB1PW0ub3duZXJEb2N1bWVudCx4PW51bGwhPXUuY3JlYXRlRWxlbWVudE5TP3UuY3JlYXRlRWxlbWVudE5TKG14Q29uc3RhbnRzLk5TX1NWRywic3R5bGUiKTp1LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7bnVsbCE9dS5zZXRBdHRyaWJ1dGVOUz94LnNldEF0dHJpYnV0ZU5TKCJ0eXBlIiwidGV4dC9jc3MiKTp4LnNldEF0dHJpYnV0ZSgidHlwZSIsInRleHQvY3NzIik7Zm9yKHZhciBBPSIiLHk9IiIscT0wO3E8dGhpcy5leHRGb250cy5sZW5ndGg7cSsrKXt2YXIgej10aGlzLmV4dEZvbnRzW3FdLm5hbWUsRD10aGlzLmV4dEZvbnRzW3FdLnVybDswPT1ELmluZGV4T2YoRWRpdG9yLkdPT0dMRV9GT05UUyk/QSs9IkBpbXBvcnQgdXJsKCIrRCsiKTtcbiI6eSs9J0Bmb250LWZhY2Uge1xuZm9udC1mYW1pbHk6ICInKwp6KyciO1xuc3JjOiB1cmwoIicrRCsnIik7XG59XG4nfXguYXBwZW5kQ2hpbGQodS5jcmVhdGVUZXh0Tm9kZShBK3kpKTttLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkZWZzIilbMF0uYXBwZW5kQ2hpbGQoeCl9bnVsbCE9diYmKHRoaXMuc3R5bGVzaGVldD12LHRoaXMucmVmcmVzaCgpKTtyZXR1cm4gbX07dmFyIEM9R3JhcGgucHJvdG90eXBlLmNyZWF0ZVN2Z0ltYWdlRXhwb3J0O0dyYXBoLnByb3RvdHlwZS5jcmVhdGVTdmdJbWFnZUV4cG9ydD1mdW5jdGlvbigpe3ZhciBhPUMuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKHRoaXMubWF0aEVuYWJsZWQpe3RoaXMuY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3ZhciBiPWEuZHJhd1RleHQ7YS5kcmF3VGV4dD1mdW5jdGlvbihhLGUpe2lmKG51bGwhPWEudGV4dCYmbnVsbCE9YS50ZXh0LnZhbHVlJiZhLnRleHQuY2hlY2tCb3VuZHMoKSYmKG14VXRpbHMuaXNOb2RlKGEudGV4dC52YWx1ZSl8fGEudGV4dC5kaWFsZWN0PT0KbXhDb25zdGFudHMuRElBTEVDVF9TVFJJQ1RIVE1MKSl7dmFyIGM9YS50ZXh0LmdldENvbnRlbnROb2RlKCk7aWYobnVsbCE9Yyl7Yz1jLmNsb25lTm9kZSghMCk7aWYoYy5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKWZvcih2YXIgZD1jLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoImh0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aC9NYXRoTUwiLCJtYXRoIik7MDxkLmxlbmd0aDspZFswXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGRbMF0pO251bGwhPWMuaW5uZXJIVE1MJiYoZD1hLnRleHQudmFsdWUsYS50ZXh0LnZhbHVlPWMuaW5uZXJIVE1MLGIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGEudGV4dC52YWx1ZT1kKX19ZWxzZSBiLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19cmV0dXJuIGF9O3ZhciB6PW14R3JhcGhWaWV3LnByb3RvdHlwZS52YWxpZGF0ZUJhY2tncm91bmRQYWdlO214R3JhcGhWaWV3LnByb3RvdHlwZS52YWxpZGF0ZUJhY2tncm91bmRQYWdlPWZ1bmN0aW9uKCl7ei5hcHBseSh0aGlzLAphcmd1bWVudHMpO2lmKG14Q2xpZW50LklTX0dDJiZudWxsIT10aGlzLmdldERyYXdQYW5lKCkpe3ZhciBhPXRoaXMuZ2V0RHJhd1BhbmUoKS5wYXJlbnROb2RlOyF0aGlzLmdyYXBoLm1hdGhFbmFibGVkfHxteENsaWVudC5OT19GT3x8bnVsbCE9dGhpcy53ZWJLaXRGb3JjZVJlcGFpbnROb2RlJiZudWxsIT10aGlzLndlYktpdEZvcmNlUmVwYWludE5vZGUucGFyZW50Tm9kZXx8InN2ZyIhPXRoaXMuZ3JhcGguY29udGFpbmVyLmZpcnN0Q2hpbGQubm9kZU5hbWU/bnVsbD09dGhpcy53ZWJLaXRGb3JjZVJlcGFpbnROb2RlfHx0aGlzLmdyYXBoLm1hdGhFbmFibGVkJiYoInN2ZyI9PXRoaXMuZ3JhcGguY29udGFpbmVyLmZpcnN0Q2hpbGQubm9kZU5hbWV8fHRoaXMuZ3JhcGguY29udGFpbmVyLmZpcnN0Q2hpbGQ9PXRoaXMud2ViS2l0Rm9yY2VSZXBhaW50Tm9kZSl8fChudWxsIT10aGlzLndlYktpdEZvcmNlUmVwYWludE5vZGUucGFyZW50Tm9kZSYmdGhpcy53ZWJLaXRGb3JjZVJlcGFpbnROb2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy53ZWJLaXRGb3JjZVJlcGFpbnROb2RlKSwKdGhpcy53ZWJLaXRGb3JjZVJlcGFpbnROb2RlPW51bGwpOih0aGlzLndlYktpdEZvcmNlUmVwYWludE5vZGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy53ZWJLaXRGb3JjZVJlcGFpbnROb2RlLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlOyIsYS5vd25lclNWR0VsZW1lbnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy53ZWJLaXRGb3JjZVJlcGFpbnROb2RlLGEub3duZXJTVkdFbGVtZW50KSl9fTt2YXIgRT1HcmFwaC5wcm90b3R5cGUubG9hZFN0eWxlc2hlZXQ7R3JhcGgucHJvdG90eXBlLmxvYWRTdHlsZXNoZWV0PWZ1bmN0aW9uKCl7RS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5jdXJyZW50U3R5bGU9ImRlZmF1bHQtc3R5bGUyIn07R3JhcGgucHJvdG90eXBlLmhhbmRsZUN1c3RvbUxpbms9ZnVuY3Rpb24oYSl7aWYoImRhdGE6YWN0aW9uL2pzb24sIj09YS5zdWJzdHJpbmcoMCwxNykmJihhPUpTT04ucGFyc2UoYS5zdWJzdHJpbmcoMTcpKSwKbnVsbCE9YS5hY3Rpb25zKSl7Zm9yKHZhciBiPTA7YjxhLmFjdGlvbnMubGVuZ3RoO2IrKyl7dmFyIGU9YS5hY3Rpb25zW2JdO2lmKG51bGwhPWUub3BlbilpZih0aGlzLmlzQ3VzdG9tTGluayhlLm9wZW4pKXtpZighdGhpcy5jdXN0b21MaW5rQ2xpY2tlZChlLm9wZW4pKXJldHVybn1lbHNlIHRoaXMub3BlbkxpbmsoZS5vcGVuKX10aGlzLm1vZGVsLmJlZ2luVXBkYXRlKCk7dHJ5e2ZvcihiPTA7YjxhLmFjdGlvbnMubGVuZ3RoO2IrKyllPWEuYWN0aW9uc1tiXSxudWxsIT1lLnRvZ2dsZSYmdGhpcy50b2dnbGVDZWxscyh0aGlzLmdldENlbGxzRm9yQWN0aW9uKGUudG9nZ2xlLCEwKSksbnVsbCE9ZS5zaG93JiZ0aGlzLnNldENlbGxzVmlzaWJsZSh0aGlzLmdldENlbGxzRm9yQWN0aW9uKGUuc2hvdywhMCksITApLG51bGwhPWUuaGlkZSYmdGhpcy5zZXRDZWxsc1Zpc2libGUodGhpcy5nZXRDZWxsc0ZvckFjdGlvbihlLmhpZGUsITApLCExKX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9Zm9yKGI9CjA7YjxhLmFjdGlvbnMubGVuZ3RoO2IrKyl7dmFyIGU9YS5hY3Rpb25zW2JdLGM9W107bnVsbCE9ZS5zZWxlY3QmJnRoaXMuaXNFbmFibGVkKCkmJihjPXRoaXMuZ2V0Q2VsbHNGb3JBY3Rpb24oZS5zZWxlY3QpLHRoaXMuc2V0U2VsZWN0aW9uQ2VsbHMoYykpO251bGwhPWUuaGlnaGxpZ2h0JiYoYz10aGlzLmdldENlbGxzRm9yQWN0aW9uKGUuaGlnaGxpZ2h0KSx0aGlzLmhpZ2hsaWdodENlbGxzKGMsZS5oaWdobGlnaHQuY29sb3IsZS5oaWdobGlnaHQuZHVyYXRpb24sZS5oaWdobGlnaHQub3BhY2l0eSkpO251bGwhPWUuc2Nyb2xsJiYoYz10aGlzLmdldENlbGxzRm9yQWN0aW9uKGUuc2Nyb2xsKSk7bnVsbCE9ZS52aWV3Ym94JiZ0aGlzLmZpdFdpbmRvdyhlLnZpZXdib3gsZS52aWV3Ym94LmJvcmRlcik7MDxjLmxlbmd0aCYmdGhpcy5zY3JvbGxDZWxsVG9WaXNpYmxlKGNbMF0pfX19O0dyYXBoLnByb3RvdHlwZS51cGRhdGVDdXN0b21MaW5rc0ZvckNlbGw9ZnVuY3Rpb24oYSxiKXt2YXIgZT0KdGhpcy5nZXRMaW5rRm9yQ2VsbChiKTtudWxsIT1lJiYiZGF0YTphY3Rpb24vanNvbiwiPT1lLnN1YnN0cmluZygwLDE3KSYmdGhpcy5zZXRMaW5rRm9yQ2VsbChiLHRoaXMudXBkYXRlQ3VzdG9tTGluayhhLGUpKTtpZih0aGlzLmlzSHRtbExhYmVsKGIpKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtjLmlubmVySFRNTD10aGlzLnNhbml0aXplSHRtbCh0aGlzLmdldExhYmVsKGIpKTtmb3IodmFyIGQ9Yy5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYSIpLGY9ITEsZz0wO2c8ZC5sZW5ndGg7ZysrKWU9ZFtnXS5nZXRBdHRyaWJ1dGUoImhyZWYiKSxudWxsIT1lJiYiZGF0YTphY3Rpb24vanNvbiwiPT1lLnN1YnN0cmluZygwLDE3KSYmKGRbZ10uc2V0QXR0cmlidXRlKCJocmVmIix0aGlzLnVwZGF0ZUN1c3RvbUxpbmsoYSxlKSksZj0hMCk7ZiYmdGhpcy5sYWJlbENoYW5nZWQoYixjLmlubmVySFRNTCl9fTtHcmFwaC5wcm90b3R5cGUudXBkYXRlQ3VzdG9tTGluaz1mdW5jdGlvbihhLApiKXtpZigiZGF0YTphY3Rpb24vanNvbiwiPT1iLnN1YnN0cmluZygwLDE3KSl0cnl7dmFyIGU9SlNPTi5wYXJzZShiLnN1YnN0cmluZygxNykpO251bGwhPWUuYWN0aW9ucyYmKHRoaXMudXBkYXRlQ3VzdG9tTGlua0FjdGlvbnMoYSxlLmFjdGlvbnMpLGI9ImRhdGE6YWN0aW9uL2pzb24sIitKU09OLnN0cmluZ2lmeShlKSl9Y2F0Y2goTil7fXJldHVybiBifTtHcmFwaC5wcm90b3R5cGUudXBkYXRlQ3VzdG9tTGlua0FjdGlvbnM9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGU9MDtlPGIubGVuZ3RoO2UrKyl7dmFyIGM9YltlXTt0aGlzLnVwZGF0ZUN1c3RvbUxpbmtBY3Rpb24oYSxjLnRvZ2dsZSk7dGhpcy51cGRhdGVDdXN0b21MaW5rQWN0aW9uKGEsYy5zaG93KTt0aGlzLnVwZGF0ZUN1c3RvbUxpbmtBY3Rpb24oYSxjLmhpZGUpO3RoaXMudXBkYXRlQ3VzdG9tTGlua0FjdGlvbihhLGMuc2VsZWN0KTt0aGlzLnVwZGF0ZUN1c3RvbUxpbmtBY3Rpb24oYSxjLmhpZ2hsaWdodCk7dGhpcy51cGRhdGVDdXN0b21MaW5rQWN0aW9uKGEsCmMuc2Nyb2xsKX19O0dyYXBoLnByb3RvdHlwZS51cGRhdGVDdXN0b21MaW5rQWN0aW9uPWZ1bmN0aW9uKGEsYil7aWYobnVsbCE9YiYmbnVsbCE9Yi5jZWxscyl7Zm9yKHZhciBlPVtdLGM9MDtjPGIuY2VsbHMubGVuZ3RoO2MrKylpZigiKiI9PWIuY2VsbHNbY10pZS5wdXNoKGIuY2VsbHNbY10pO2Vsc2V7dmFyIGQ9YVtiLmNlbGxzW2NdXTtudWxsIT1kPyIiIT1kJiZlLnB1c2goZCk6ZS5wdXNoKGIuY2VsbHNbY10pfWIuY2VsbHM9ZX19O0dyYXBoLnByb3RvdHlwZS5nZXRDZWxsc0ZvckFjdGlvbj1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmdldENlbGxzQnlJZChhLmNlbGxzKS5jb25jYXQodGhpcy5nZXRDZWxsc0ZvclRhZ3MoYS50YWdzLG51bGwsbnVsbCxiKSl9O0dyYXBoLnByb3RvdHlwZS5nZXRDZWxsc0J5SWQ9ZnVuY3Rpb24oYSl7dmFyIGI9W107aWYobnVsbCE9YSlmb3IodmFyIGU9MDtlPGEubGVuZ3RoO2UrKylpZigiKiI9PWFbZV0pdmFyIGM9dGhpcy5nZXREZWZhdWx0UGFyZW50KCksCmI9Yi5jb25jYXQodGhpcy5tb2RlbC5maWx0ZXJEZXNjZW5kYW50cyhmdW5jdGlvbihhKXtyZXR1cm4gYSE9Y30sYykpO2Vsc2V7dmFyIGQ9dGhpcy5tb2RlbC5nZXRDZWxsKGFbZV0pO251bGwhPWQmJmIucHVzaChkKX1yZXR1cm4gYn07R3JhcGgucHJvdG90eXBlLmdldENlbGxzRm9yVGFncz1mdW5jdGlvbihhLGIsZSxjKXt2YXIgZD1bXTtpZihudWxsIT1hKXtiPW51bGwhPWI/Yjp0aGlzLm1vZGVsLmdldERlc2NlbmRhbnRzKHRoaXMubW9kZWwuZ2V0Um9vdCgpKTtlPW51bGwhPWU/ZToidGFncyI7Zm9yKHZhciBmPTAsZz17fSxsPTA7bDxhLmxlbmd0aDtsKyspMDxhW2xdLmxlbmd0aCYmKGdbYVtsXS50b0xvd2VyQ2FzZSgpXT0hMCxmKyspO2ZvcihsPTA7bDxiLmxlbmd0aDtsKyspaWYoYyYmdGhpcy5tb2RlbC5nZXRQYXJlbnQoYltsXSk9PXRoaXMubW9kZWwucm9vdHx8dGhpcy5tb2RlbC5pc1ZlcnRleChiW2xdKXx8dGhpcy5tb2RlbC5pc0VkZ2UoYltsXSkpe3ZhciBuPW51bGwhPQpiW2xdLnZhbHVlJiYib2JqZWN0Ij09dHlwZW9mIGJbbF0udmFsdWU/bXhVdGlscy50cmltKGJbbF0udmFsdWUuZ2V0QXR0cmlidXRlKGUpfHwiIik6IiIscD0hMTtpZigwPG4ubGVuZ3RoKXtpZihuPW4udG9Mb3dlckNhc2UoKS5zcGxpdCgiICIpLG4ubGVuZ3RoPj1hLmxlbmd0aCl7Zm9yKHZhciB0PXA9MDt0PG4ubGVuZ3RoJiZwPGY7dCsrKW51bGwhPWdbblt0XV0mJnArKztwPXA9PWZ9fWVsc2UgcD0wPT1hLmxlbmd0aDtwJiZkLnB1c2goYltsXSl9fXJldHVybiBkfTtHcmFwaC5wcm90b3R5cGUudG9nZ2xlQ2VsbHM9ZnVuY3Rpb24oYSl7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKyl0aGlzLm1vZGVsLnNldFZpc2libGUoYVtiXSwhdGhpcy5tb2RlbC5pc1Zpc2libGUoYVtiXSkpfWZpbmFsbHl7dGhpcy5tb2RlbC5lbmRVcGRhdGUoKX19O0dyYXBoLnByb3RvdHlwZS5zZXRDZWxsc1Zpc2libGU9ZnVuY3Rpb24oYSxiKXt0aGlzLm1vZGVsLmJlZ2luVXBkYXRlKCk7CnRyeXtmb3IodmFyIGU9MDtlPGEubGVuZ3RoO2UrKyl0aGlzLm1vZGVsLnNldFZpc2libGUoYVtlXSxiKX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9fTtHcmFwaC5wcm90b3R5cGUuaGlnaGxpZ2h0Q2VsbHM9ZnVuY3Rpb24oYSxiLGUsYyl7Zm9yKHZhciBkPTA7ZDxhLmxlbmd0aDtkKyspdGhpcy5oaWdobGlnaHRDZWxsKGFbZF0sYixlLGMpfTtHcmFwaC5wcm90b3R5cGUuaGlnaGxpZ2h0Q2VsbD1mdW5jdGlvbihhLGIsZSxjKXtiPW51bGwhPWI/YjpteENvbnN0YW50cy5ERUZBVUxUX1ZBTElEX0NPTE9SO2U9bnVsbCE9ZT9lOjFFMzthPXRoaXMudmlldy5nZXRTdGF0ZShhKTtpZihudWxsIT1hKXt2YXIgZD1NYXRoLm1heCg1LG14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9TVFJPS0VXSURUSCwxKSs0KSxmPW5ldyBteENlbGxIaWdobGlnaHQodGhpcyxiLGQsITEpO251bGwhPWMmJihmLm9wYWNpdHk9Yyk7Zi5oaWdobGlnaHQoYSk7d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtudWxsIT0KZi5zaGFwZSYmKG14VXRpbHMuc2V0UHJlZml4ZWRTdHlsZShmLnNoYXBlLm5vZGUuc3R5bGUsInRyYW5zaXRpb24iLCJhbGwgMTIwMG1zIGVhc2UtaW4tb3V0IiksZi5zaGFwZS5ub2RlLnN0eWxlLm9wYWNpdHk9MCk7d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtmLmRlc3Ryb3koKX0sMTIwMCl9LGUpfX07R3JhcGgucHJvdG90eXBlLmFkZFN2Z1NoYWRvdz1mdW5jdGlvbihhLGIsZSl7ZT1udWxsIT1lP2U6ITE7dmFyIGM9YS5vd25lckRvY3VtZW50LGQ9bnVsbCE9Yy5jcmVhdGVFbGVtZW50TlM/Yy5jcmVhdGVFbGVtZW50TlMobXhDb25zdGFudHMuTlNfU1ZHLCJmaWx0ZXIiKTpjLmNyZWF0ZUVsZW1lbnQoImZpbHRlciIpO2Quc2V0QXR0cmlidXRlKCJpZCIsdGhpcy5zaGFkb3dJZCk7dmFyIGY9bnVsbCE9Yy5jcmVhdGVFbGVtZW50TlM/Yy5jcmVhdGVFbGVtZW50TlMobXhDb25zdGFudHMuTlNfU1ZHLCJmZUdhdXNzaWFuQmx1ciIpOmMuY3JlYXRlRWxlbWVudCgiZmVHYXVzc2lhbkJsdXIiKTsKZi5zZXRBdHRyaWJ1dGUoImluIiwiU291cmNlQWxwaGEiKTtmLnNldEF0dHJpYnV0ZSgic3RkRGV2aWF0aW9uIix0aGlzLnN2Z1NoYWRvd0JsdXIpO2Yuc2V0QXR0cmlidXRlKCJyZXN1bHQiLCJibHVyIik7ZC5hcHBlbmRDaGlsZChmKTtmPW51bGwhPWMuY3JlYXRlRWxlbWVudE5TP2MuY3JlYXRlRWxlbWVudE5TKG14Q29uc3RhbnRzLk5TX1NWRywiZmVPZmZzZXQiKTpjLmNyZWF0ZUVsZW1lbnQoImZlT2Zmc2V0Iik7Zi5zZXRBdHRyaWJ1dGUoImluIiwiYmx1ciIpO2Yuc2V0QXR0cmlidXRlKCJkeCIsdGhpcy5zdmdTaGFkb3dTaXplKTtmLnNldEF0dHJpYnV0ZSgiZHkiLHRoaXMuc3ZnU2hhZG93U2l6ZSk7Zi5zZXRBdHRyaWJ1dGUoInJlc3VsdCIsIm9mZnNldEJsdXIiKTtkLmFwcGVuZENoaWxkKGYpO2Y9bnVsbCE9Yy5jcmVhdGVFbGVtZW50TlM/Yy5jcmVhdGVFbGVtZW50TlMobXhDb25zdGFudHMuTlNfU1ZHLCJmZUZsb29kIik6Yy5jcmVhdGVFbGVtZW50KCJmZUZsb29kIik7CmYuc2V0QXR0cmlidXRlKCJmbG9vZC1jb2xvciIsdGhpcy5zdmdTaGFkb3dDb2xvcik7Zi5zZXRBdHRyaWJ1dGUoImZsb29kLW9wYWNpdHkiLHRoaXMuc3ZnU2hhZG93T3BhY2l0eSk7Zi5zZXRBdHRyaWJ1dGUoInJlc3VsdCIsIm9mZnNldENvbG9yIik7ZC5hcHBlbmRDaGlsZChmKTtmPW51bGwhPWMuY3JlYXRlRWxlbWVudE5TP2MuY3JlYXRlRWxlbWVudE5TKG14Q29uc3RhbnRzLk5TX1NWRywiZmVDb21wb3NpdGUiKTpjLmNyZWF0ZUVsZW1lbnQoImZlQ29tcG9zaXRlIik7Zi5zZXRBdHRyaWJ1dGUoImluIiwib2Zmc2V0Q29sb3IiKTtmLnNldEF0dHJpYnV0ZSgiaW4yIiwib2Zmc2V0Qmx1ciIpO2Yuc2V0QXR0cmlidXRlKCJvcGVyYXRvciIsImluIik7Zi5zZXRBdHRyaWJ1dGUoInJlc3VsdCIsIm9mZnNldEJsdXIiKTtkLmFwcGVuZENoaWxkKGYpO2Y9bnVsbCE9Yy5jcmVhdGVFbGVtZW50TlM/Yy5jcmVhdGVFbGVtZW50TlMobXhDb25zdGFudHMuTlNfU1ZHLCJmZUJsZW5kIik6Yy5jcmVhdGVFbGVtZW50KCJmZUJsZW5kIik7CmYuc2V0QXR0cmlidXRlKCJpbiIsIlNvdXJjZUdyYXBoaWMiKTtmLnNldEF0dHJpYnV0ZSgiaW4yIiwib2Zmc2V0Qmx1ciIpO2QuYXBwZW5kQ2hpbGQoZik7Zj1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkZWZzIik7MD09Zi5sZW5ndGg/KGM9bnVsbCE9Yy5jcmVhdGVFbGVtZW50TlM/Yy5jcmVhdGVFbGVtZW50TlMobXhDb25zdGFudHMuTlNfU1ZHLCJkZWZzIik6Yy5jcmVhdGVFbGVtZW50KCJkZWZzIiksbnVsbCE9YS5maXJzdENoaWxkP2EuaW5zZXJ0QmVmb3JlKGMsYS5maXJzdENoaWxkKTphLmFwcGVuZENoaWxkKGMpKTpjPWZbMF07Yy5hcHBlbmRDaGlsZChkKTtlfHwoYj1udWxsIT1iP2I6YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZyIpWzBdLG51bGwhPWImJihiLnNldEF0dHJpYnV0ZSgiZmlsdGVyIiwidXJsKCMiK3RoaXMuc2hhZG93SWQrIikiKSxpc05hTihwYXJzZUludChhLmdldEF0dHJpYnV0ZSgid2lkdGgiKSkpfHwoYS5zZXRBdHRyaWJ1dGUoIndpZHRoIixwYXJzZUludChhLmdldEF0dHJpYnV0ZSgid2lkdGgiKSkrCjYpLGEuc2V0QXR0cmlidXRlKCJoZWlnaHQiLHBhcnNlSW50KGEuZ2V0QXR0cmlidXRlKCJoZWlnaHQiKSkrNiksYj1hLmdldEF0dHJpYnV0ZSgidmlld0JveCIpLG51bGwhPWImJjA8Yi5sZW5ndGgmJihiPWIuc3BsaXQoIiAiKSwzPGIubGVuZ3RoJiYodz1wYXJzZUZsb2F0KGJbMl0pKzYsaD1wYXJzZUZsb2F0KGJbM10pKzYsYS5zZXRBdHRyaWJ1dGUoInZpZXdCb3giLGJbMF0rIiAiK2JbMV0rIiAiK3crIiAiK2gpKSkpKSk7cmV0dXJuIGR9O0dyYXBoLnByb3RvdHlwZS5zZXRTaGFkb3dWaXNpYmxlPWZ1bmN0aW9uKGEsYil7bXhDbGllbnQuSVNfU1ZHJiYhbXhDbGllbnQuSVNfU0YmJihiPW51bGwhPWI/YjohMCwodGhpcy5zaGFkb3dWaXNpYmxlPWEpP3RoaXMudmlldy5nZXREcmF3UGFuZSgpLnNldEF0dHJpYnV0ZSgiZmlsdGVyIiwidXJsKCMiK3RoaXMuc2hhZG93SWQrIikiKTp0aGlzLnZpZXcuZ2V0RHJhd1BhbmUoKS5yZW1vdmVBdHRyaWJ1dGUoImZpbHRlciIpLGImJnRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJzaGFkb3dWaXNpYmxlQ2hhbmdlZCIpKSl9OwpHcmFwaC5wcm90b3R5cGUuc2VsZWN0VW5sb2NrZWRMYXllcj1mdW5jdGlvbigpe2lmKG51bGw9PXRoaXMuZGVmYXVsdFBhcmVudCl7dmFyIGE9dGhpcy5tb2RlbC5nZXRDaGlsZENvdW50KHRoaXMubW9kZWwucm9vdCksYixlPTA7ZG8gYj10aGlzLm1vZGVsLmdldENoaWxkQXQodGhpcy5tb2RlbC5yb290LGUpO3doaWxlKGUrKzxhJiYiMSI9PW14VXRpbHMuZ2V0VmFsdWUodGhpcy5nZXRDZWxsU3R5bGUoYiksImxvY2tlZCIsIjAiKSk7bnVsbCE9YiYmdGhpcy5zZXREZWZhdWx0UGFyZW50KGIpfX07bXhTdGVuY2lsUmVnaXN0cnkubGlicmFyaWVzLm1vY2t1cD1bU0hBUEVTX1BBVEgrIi9tb2NrdXAvbXhNb2NrdXBCdXR0b25zLmpzIl07bXhTdGVuY2lsUmVnaXN0cnkubGlicmFyaWVzLmFycm93czI9W1NIQVBFU19QQVRIKyIvbXhBcnJvd3MuanMiXTtteFN0ZW5jaWxSZWdpc3RyeS5saWJyYXJpZXMuYXRsYXNzaWFuPVtTVEVOQ0lMX1BBVEgrIi9hdGxhc3NpYW4ueG1sIixTSEFQRVNfUEFUSCsKIi9teEF0bGFzc2lhbi5qcyJdO214U3RlbmNpbFJlZ2lzdHJ5LmxpYnJhcmllcy5icG1uPVtTSEFQRVNfUEFUSCsiL2JwbW4vbXhCcG1uU2hhcGUyLmpzIixTVEVOQ0lMX1BBVEgrIi9icG1uLnhtbCJdO214U3RlbmNpbFJlZ2lzdHJ5LmxpYnJhcmllcy5jND1bU0hBUEVTX1BBVEgrIi9teEM0LmpzIl07bXhTdGVuY2lsUmVnaXN0cnkubGlicmFyaWVzLmNpc2NvMTk9W1NIQVBFU19QQVRIKyIvbXhDaXNjbzE5LmpzIixTVEVOQ0lMX1BBVEgrIi9jaXNjbzE5LnhtbCJdO214U3RlbmNpbFJlZ2lzdHJ5LmxpYnJhcmllcy5jaXNjb19zYWZlPVtTSEFQRVNfUEFUSCsiL214Q2lzY29TYWZlLmpzIixTVEVOQ0lMX1BBVEgrIi9jaXNjb19zYWZlL2FyY2hpdGVjdHVyZS54bWwiLFNURU5DSUxfUEFUSCsiL2Npc2NvX3NhZmUvYnVzaW5lc3NfaWNvbnMueG1sIixTVEVOQ0lMX1BBVEgrIi9jaXNjb19zYWZlL2NhcGFiaWxpdHkueG1sIixTVEVOQ0lMX1BBVEgrIi9jaXNjb19zYWZlL2Rlc2lnbi54bWwiLApTVEVOQ0lMX1BBVEgrIi9jaXNjb19zYWZlL2lvdF90aGluZ3NfaWNvbnMueG1sIixTVEVOQ0lMX1BBVEgrIi9jaXNjb19zYWZlL3Blb3BsZV9wbGFjZXNfdGhpbmdzX2ljb25zLnhtbCIsU1RFTkNJTF9QQVRIKyIvY2lzY29fc2FmZS9zZWN1cml0eV9pY29ucy54bWwiLFNURU5DSUxfUEFUSCsiL2Npc2NvX3NhZmUvdGVjaG5vbG9neV9pY29ucy54bWwiLFNURU5DSUxfUEFUSCsiL2Npc2NvX3NhZmUvdGhyZWF0LnhtbCJdO214U3RlbmNpbFJlZ2lzdHJ5LmxpYnJhcmllcy5kZmQ9W1NIQVBFU19QQVRIKyIvbXhERkQuanMiXTtteFN0ZW5jaWxSZWdpc3RyeS5saWJyYXJpZXMuZXI9W1NIQVBFU19QQVRIKyIvZXIvbXhFUi5qcyJdO214U3RlbmNpbFJlZ2lzdHJ5LmxpYnJhcmllcy5rdWJlcm5ldGVzPVtTSEFQRVNfUEFUSCsiL214S3ViZXJuZXRlcy5qcyIsU1RFTkNJTF9QQVRIKyIva3ViZXJuZXRlcy54bWwiXTtteFN0ZW5jaWxSZWdpc3RyeS5saWJyYXJpZXMuZmxvd2NoYXJ0PVtTSEFQRVNfUEFUSCsKIi9teEZsb3djaGFydC5qcyIsU1RFTkNJTF9QQVRIKyIvZmxvd2NoYXJ0LnhtbCJdO214U3RlbmNpbFJlZ2lzdHJ5LmxpYnJhcmllcy5pb3M9W1NIQVBFU19QQVRIKyIvbW9ja3VwL214TW9ja3VwaU9TLmpzIl07bXhTdGVuY2lsUmVnaXN0cnkubGlicmFyaWVzLnJhY2tHZW5lcmFsPVtTSEFQRVNfUEFUSCsiL3JhY2svbXhSYWNrLmpzIixTVEVOQ0lMX1BBVEgrIi9yYWNrL2dlbmVyYWwueG1sIl07bXhTdGVuY2lsUmVnaXN0cnkubGlicmFyaWVzLnJhY2tGNT1bU1RFTkNJTF9QQVRIKyIvcmFjay9mNS54bWwiXTtteFN0ZW5jaWxSZWdpc3RyeS5saWJyYXJpZXMubGVhbl9tYXBwaW5nPVtTSEFQRVNfUEFUSCsiL214TGVhbk1hcC5qcyIsU1RFTkNJTF9QQVRIKyIvbGVhbl9tYXBwaW5nLnhtbCJdO214U3RlbmNpbFJlZ2lzdHJ5LmxpYnJhcmllcy5iYXNpYz1bU0hBUEVTX1BBVEgrIi9teEJhc2ljLmpzIixTVEVOQ0lMX1BBVEgrIi9iYXNpYy54bWwiXTtteFN0ZW5jaWxSZWdpc3RyeS5saWJyYXJpZXMuaW9zN2ljb25zPQpbU1RFTkNJTF9QQVRIKyIvaW9zNy9pY29ucy54bWwiXTtteFN0ZW5jaWxSZWdpc3RyeS5saWJyYXJpZXMuaW9zN3VpPVtTSEFQRVNfUEFUSCsiL2lvczcvbXhJT1M3VWkuanMiLFNURU5DSUxfUEFUSCsiL2lvczcvbWlzYy54bWwiXTtteFN0ZW5jaWxSZWdpc3RyeS5saWJyYXJpZXMuYW5kcm9pZD1bU0hBUEVTX1BBVEgrIi9teEFuZHJvaWQuanMiLFNURU5DSUxfUEFUSCsiL2FuZHJvaWQvYW5kcm9pZC54bWwiXTtteFN0ZW5jaWxSZWdpc3RyeS5saWJyYXJpZXNbImVsZWN0cmljYWwvbWlzY2VsbGFuZW91cyJdPVtTSEFQRVNfUEFUSCsiL214RWxlY3RyaWNhbC5qcyIsU1RFTkNJTF9QQVRIKyIvZWxlY3RyaWNhbC9taXNjZWxsYW5lb3VzLnhtbCJdO214U3RlbmNpbFJlZ2lzdHJ5LmxpYnJhcmllc1siZWxlY3RyaWNhbC90cmFuc21pc3Npb24iXT1bU0hBUEVTX1BBVEgrIi9teEVsZWN0cmljYWwuanMiLFNURU5DSUxfUEFUSCsiL2VsZWN0cmljYWwvdHJhbnNtaXNzaW9uLnhtbCJdO214U3RlbmNpbFJlZ2lzdHJ5LmxpYnJhcmllc1siZWxlY3RyaWNhbC9sb2dpY19nYXRlcyJdPQpbU0hBUEVTX1BBVEgrIi9teEVsZWN0cmljYWwuanMiLFNURU5DSUxfUEFUSCsiL2VsZWN0cmljYWwvbG9naWNfZ2F0ZXMueG1sIl07bXhTdGVuY2lsUmVnaXN0cnkubGlicmFyaWVzWyJlbGVjdHJpY2FsL2Fic3RyYWN0Il09W1NIQVBFU19QQVRIKyIvbXhFbGVjdHJpY2FsLmpzIixTVEVOQ0lMX1BBVEgrIi9lbGVjdHJpY2FsL2Fic3RyYWN0LnhtbCJdO214U3RlbmNpbFJlZ2lzdHJ5LmxpYnJhcmllcy5pbmZvZ3JhcGhpYz1bU0hBUEVTX1BBVEgrIi9teEluZm9ncmFwaGljLmpzIl07bXhTdGVuY2lsUmVnaXN0cnkubGlicmFyaWVzWyJtb2NrdXAvYnV0dG9ucyJdPVtTSEFQRVNfUEFUSCsiL21vY2t1cC9teE1vY2t1cEJ1dHRvbnMuanMiXTtteFN0ZW5jaWxSZWdpc3RyeS5saWJyYXJpZXNbIm1vY2t1cC9jb250YWluZXJzIl09W1NIQVBFU19QQVRIKyIvbW9ja3VwL214TW9ja3VwQ29udGFpbmVycy5qcyJdO214U3RlbmNpbFJlZ2lzdHJ5LmxpYnJhcmllc1sibW9ja3VwL2Zvcm1zIl09CltTSEFQRVNfUEFUSCsiL21vY2t1cC9teE1vY2t1cEZvcm1zLmpzIl07bXhTdGVuY2lsUmVnaXN0cnkubGlicmFyaWVzWyJtb2NrdXAvZ3JhcGhpY3MiXT1bU0hBUEVTX1BBVEgrIi9tb2NrdXAvbXhNb2NrdXBHcmFwaGljcy5qcyIsU1RFTkNJTF9QQVRIKyIvbW9ja3VwL21pc2MueG1sIl07bXhTdGVuY2lsUmVnaXN0cnkubGlicmFyaWVzWyJtb2NrdXAvbWFya3VwIl09W1NIQVBFU19QQVRIKyIvbW9ja3VwL214TW9ja3VwTWFya3VwLmpzIl07bXhTdGVuY2lsUmVnaXN0cnkubGlicmFyaWVzWyJtb2NrdXAvbWlzYyJdPVtTSEFQRVNfUEFUSCsiL21vY2t1cC9teE1vY2t1cE1pc2MuanMiLFNURU5DSUxfUEFUSCsiL21vY2t1cC9taXNjLnhtbCJdO214U3RlbmNpbFJlZ2lzdHJ5LmxpYnJhcmllc1sibW9ja3VwL25hdmlnYXRpb24iXT1bU0hBUEVTX1BBVEgrIi9tb2NrdXAvbXhNb2NrdXBOYXZpZ2F0aW9uLmpzIixTVEVOQ0lMX1BBVEgrIi9tb2NrdXAvbWlzYy54bWwiXTtteFN0ZW5jaWxSZWdpc3RyeS5saWJyYXJpZXNbIm1vY2t1cC90ZXh0Il09CltTSEFQRVNfUEFUSCsiL21vY2t1cC9teE1vY2t1cFRleHQuanMiXTtteFN0ZW5jaWxSZWdpc3RyeS5saWJyYXJpZXMuZmxvb3JwbGFuPVtTSEFQRVNfUEFUSCsiL214Rmxvb3JwbGFuLmpzIixTVEVOQ0lMX1BBVEgrIi9mbG9vcnBsYW4ueG1sIl07bXhTdGVuY2lsUmVnaXN0cnkubGlicmFyaWVzLmJvb3RzdHJhcD1bU0hBUEVTX1BBVEgrIi9teEJvb3RzdHJhcC5qcyIsU0hBUEVTX1BBVEgrIi9teEJhc2ljLmpzIixTVEVOQ0lMX1BBVEgrIi9ib290c3RyYXAueG1sIl07bXhTdGVuY2lsUmVnaXN0cnkubGlicmFyaWVzLmdtZGw9W1NIQVBFU19QQVRIKyIvbXhHbWRsLmpzIixTVEVOQ0lMX1BBVEgrIi9nbWRsLnhtbCJdO214U3RlbmNpbFJlZ2lzdHJ5LmxpYnJhcmllcy5nY3AyPVtTSEFQRVNfUEFUSCsiL214R0NQMi5qcyIsU1RFTkNJTF9QQVRIKyIvZ2NwMi54bWwiXTtteFN0ZW5jaWxSZWdpc3RyeS5saWJyYXJpZXMuaWJtPVtTSEFQRVNfUEFUSCsiL214SUJNLmpzIixTVEVOQ0lMX1BBVEgrCiIvaWJtLnhtbCJdO214U3RlbmNpbFJlZ2lzdHJ5LmxpYnJhcmllcy5jYWJpbmV0cz1bU0hBUEVTX1BBVEgrIi9teENhYmluZXRzLmpzIixTVEVOQ0lMX1BBVEgrIi9jYWJpbmV0cy54bWwiXTtteFN0ZW5jaWxSZWdpc3RyeS5saWJyYXJpZXMuYXJjaGltYXRlPVtTSEFQRVNfUEFUSCsiL214QXJjaGlNYXRlLmpzIl07bXhTdGVuY2lsUmVnaXN0cnkubGlicmFyaWVzLmFyY2hpbWF0ZTM9W1NIQVBFU19QQVRIKyIvbXhBcmNoaU1hdGUzLmpzIl07bXhTdGVuY2lsUmVnaXN0cnkubGlicmFyaWVzLnN5c21sPVtTSEFQRVNfUEFUSCsiL214U3lzTUwuanMiXTtteFN0ZW5jaWxSZWdpc3RyeS5saWJyYXJpZXMuZWlwPVtTSEFQRVNfUEFUSCsiL214RWlwLmpzIixTVEVOQ0lMX1BBVEgrIi9laXAueG1sIl07bXhTdGVuY2lsUmVnaXN0cnkubGlicmFyaWVzLm5ldHdvcmtzPVtTSEFQRVNfUEFUSCsiL214TmV0d29ya3MuanMiLFNURU5DSUxfUEFUSCsiL25ldHdvcmtzLnhtbCJdO214U3RlbmNpbFJlZ2lzdHJ5LmxpYnJhcmllcy5hd3MzZD0KW1NIQVBFU19QQVRIKyIvbXhBV1MzRC5qcyIsU1RFTkNJTF9QQVRIKyIvYXdzM2QueG1sIl07bXhTdGVuY2lsUmVnaXN0cnkubGlicmFyaWVzLmF3czQ9W1NIQVBFU19QQVRIKyIvbXhBV1M0LmpzIixTVEVOQ0lMX1BBVEgrIi9hd3M0LnhtbCJdO214U3RlbmNpbFJlZ2lzdHJ5LmxpYnJhcmllcy5hd3M0Yj1bU0hBUEVTX1BBVEgrIi9teEFXUzQuanMiLFNURU5DSUxfUEFUSCsiL2F3czQueG1sIl07bXhTdGVuY2lsUmVnaXN0cnkubGlicmFyaWVzLnZlZWFtPVtTVEVOQ0lMX1BBVEgrIi92ZWVhbS8yZC54bWwiLFNURU5DSUxfUEFUSCsiL3ZlZWFtLzNkLnhtbCIsU1RFTkNJTF9QQVRIKyIvdmVlYW0vdmVlYW0ueG1sIl07bXhTdGVuY2lsUmVnaXN0cnkubGlicmFyaWVzLnZlZWFtMj1bU1RFTkNJTF9QQVRIKyIvdmVlYW0vMmQueG1sIixTVEVOQ0lMX1BBVEgrIi92ZWVhbS8zZC54bWwiLFNURU5DSUxfUEFUSCsiL3ZlZWFtL3ZlZWFtMi54bWwiXTtteFN0ZW5jaWxSZWdpc3RyeS5saWJyYXJpZXMucGlkMmluc3Q9CltTSEFQRVNfUEFUSCsiL3BpZDIvbXhQaWRJbnN0cnVtZW50cy5qcyJdO214U3RlbmNpbFJlZ2lzdHJ5LmxpYnJhcmllcy5waWQybWlzYz1bU0hBUEVTX1BBVEgrIi9waWQyL214UGlkTWlzYy5qcyIsU1RFTkNJTF9QQVRIKyIvcGlkL21pc2MueG1sIl07bXhTdGVuY2lsUmVnaXN0cnkubGlicmFyaWVzLnBpZDJ2YWx2ZXM9W1NIQVBFU19QQVRIKyIvcGlkMi9teFBpZFZhbHZlcy5qcyJdO214U3RlbmNpbFJlZ2lzdHJ5LmxpYnJhcmllcy5waWRGbG93U2Vuc29ycz1bU1RFTkNJTF9QQVRIKyIvcGlkL2Zsb3dfc2Vuc29ycy54bWwiXTtteE1hcmtlci5nZXRQYWNrYWdlRm9yVHlwZT1mdW5jdGlvbihhKXt2YXIgYj1udWxsO251bGwhPWEmJjA8YS5sZW5ndGgmJigiRVIiPT1hLnN1YnN0cmluZygwLDIpP2I9Im14Z3JhcGguZXIiOiJzeXNNTCI9PWEuc3Vic3RyaW5nKDAsNSkmJihiPSJteGdyYXBoLnN5c21sIikpO3JldHVybiBifTt2YXIgRz1teE1hcmtlci5jcmVhdGVNYXJrZXI7bXhNYXJrZXIuY3JlYXRlTWFya2VyPQpmdW5jdGlvbihhLGIsZSxjLGQsZixnLGwsbixwKXtpZihudWxsIT1lJiZudWxsPT1teE1hcmtlci5tYXJrZXJzW2VdKXt2YXIgdD10aGlzLmdldFBhY2thZ2VGb3JUeXBlKGUpO251bGwhPXQmJm14U3RlbmNpbFJlZ2lzdHJ5LmdldFN0ZW5jaWwodCl9cmV0dXJuIEcuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtQcmludERpYWxvZy5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gZSgpe20udmFsdWU9TWF0aC5tYXgoMSxNYXRoLm1pbihsLE1hdGgubWF4KHBhcnNlSW50KG0udmFsdWUpLHBhcnNlSW50KHYudmFsdWUpKSkpO3YudmFsdWU9TWF0aC5tYXgoMSxNYXRoLm1pbihsLE1hdGgubWluKHBhcnNlSW50KG0udmFsdWUpLHBhcnNlSW50KHYudmFsdWUpKSkpfWZ1bmN0aW9uIGMoYil7ZnVuY3Rpb24gZShiLGUsZil7dmFyIGc9Yi51c2VDc3NUcmFuc2Zvcm1zLGw9Yi5jdXJyZW50VHJhbnNsYXRlLHA9Yi5jdXJyZW50U2NhbGUsbj1iLnZpZXcudHJhbnNsYXRlLHQ9CmIudmlldy5zY2FsZTtiLnVzZUNzc1RyYW5zZm9ybXMmJihiLnVzZUNzc1RyYW5zZm9ybXM9ITEsYi5jdXJyZW50VHJhbnNsYXRlPW5ldyBteFBvaW50KDAsMCksYi5jdXJyZW50U2NhbGU9MSxiLnZpZXcudHJhbnNsYXRlPW5ldyBteFBvaW50KDAsMCksYi52aWV3LnNjYWxlPTEpO3ZhciBrPWIuZ2V0R3JhcGhCb3VuZHMoKSx2PTAsbT0wLHg9c2EuZ2V0KCksdT0xL2IucGFnZVNjYWxlLHo9cS5jaGVja2VkO2lmKHopdmFyIHU9cGFyc2VJbnQoSy52YWx1ZSkseT1wYXJzZUludChwYS52YWx1ZSksdT1NYXRoLm1pbih4LmhlaWdodCp5LyhrLmhlaWdodC9iLnZpZXcuc2NhbGUpLHgud2lkdGgqdS8oay53aWR0aC9iLnZpZXcuc2NhbGUpKTtlbHNlIHU9cGFyc2VJbnQoQS52YWx1ZSkvKDEwMCpiLnBhZ2VTY2FsZSksaXNOYU4odSkmJihjPTEvYi5wYWdlU2NhbGUsQS52YWx1ZT0iMTAwICUiKTt4PW14UmVjdGFuZ2xlLmZyb21SZWN0YW5nbGUoeCk7eC53aWR0aD1NYXRoLmNlaWwoeC53aWR0aCoKYyk7eC5oZWlnaHQ9TWF0aC5jZWlsKHguaGVpZ2h0KmMpO3UqPWM7IXomJmIucGFnZVZpc2libGU/KGs9Yi5nZXRQYWdlTGF5b3V0KCksdi09ay54Kngud2lkdGgsbS09ay55KnguaGVpZ2h0KTp6PSEwO2lmKG51bGw9PWUpe2U9UHJpbnREaWFsb2cuY3JlYXRlUHJpbnRQcmV2aWV3KGIsdSx4LDAsdixtLHopO2UucGFnZVNlbGVjdG9yPSExO2UubWF0aEVuYWJsZWQ9ITE7dj1hLmdldEN1cnJlbnRGaWxlKCk7bnVsbCE9diYmKGUudGl0bGU9di5nZXRUaXRsZSgpKTt2YXIgRD1lLndyaXRlSGVhZDtlLndyaXRlSGVhZD1mdW5jdGlvbihlKXtELmFwcGx5KHRoaXMsYXJndW1lbnRzKTtteENsaWVudC5JU19HQyYmKGUud3JpdGVsbignPHN0eWxlIHR5cGU9InRleHQvY3NzIj4nKSxlLndyaXRlbG4oIkBtZWRpYSBwcmludCB7IiksZS53cml0ZWxuKCJzcGFuLk1hdGhKYXhfU1ZHIHN2ZyB7IHNoYXBlLXJlbmRlcmluZzogY3Jpc3BFZGdlczsgfSIpLGUud3JpdGVsbigifSIpLGUud3JpdGVsbigiPC9zdHlsZT4iKSk7Cm51bGwhPWEuZWRpdG9yLmZvbnRDc3MmJihlLndyaXRlbG4oJzxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+JyksZS53cml0ZWxuKGEuZWRpdG9yLmZvbnRDc3MpLGUud3JpdGVsbigiPC9zdHlsZT4iKSk7aWYobnVsbCE9Yi5leHRGb250cylmb3IodmFyIGM9MDtjPGIuZXh0Rm9udHMubGVuZ3RoO2MrKyl7dmFyIGQ9Yi5leHRGb250c1tjXS5uYW1lLGY9Yi5leHRGb250c1tjXS51cmw7MD09Zi5pbmRleE9mKEVkaXRvci5HT09HTEVfRk9OVFMpP2Uud3JpdGVsbignPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSInK2YrJyIgY2hhcnNldD0iVVRGLTgiIHR5cGU9InRleHQvY3NzIj4nKTooZS53cml0ZWxuKCc8c3R5bGUgdHlwZT0idGV4dC9jc3MiPicpLGUud3JpdGVsbignQGZvbnQtZmFjZSB7XG5cdGZvbnQtZmFtaWx5OiAiJytkKyciO1xuXHRzcmM6IHVybCgiJytmKyciKTtcbn0nKSxlLndyaXRlbG4oIjwvc3R5bGU+IikpfX07aWYoInVuZGVmaW5lZCIhPT10eXBlb2YgTWF0aEpheCl7dmFyIEI9CmUucmVuZGVyUGFnZTtlLnJlbmRlclBhZ2U9ZnVuY3Rpb24oYixlLGMsZCxmLGcpe3ZhciBsPW14Q2xpZW50Lk5PX0ZPO214Q2xpZW50Lk5PX0ZPPXRoaXMuZ3JhcGgubWF0aEVuYWJsZWQmJiFhLmVkaXRvci51c2VGb3JlaWduT2JqZWN0Rm9yTWF0aD8hMDphLmVkaXRvci5vcmlnaW5hbE5vRm9yZWlnbk9iamVjdDt2YXIgcD1CLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtteENsaWVudC5OT19GTz1sO3RoaXMuZ3JhcGgubWF0aEVuYWJsZWQ/dGhpcy5tYXRoRW5hYmxlZD10aGlzLm1hdGhFbmFibGVkfHwhMDpwLmNsYXNzTmFtZT0iZ2VEaXNhYmxlTWF0aEpheCI7cmV0dXJuIHB9fXY9bnVsbDtudWxsIT1kLnRoZW1lcyYmImRhcmtUaGVtZSI9PWQuZGVmYXVsdFRoZW1lTmFtZSYmKHY9ZC5zdHlsZXNoZWV0LGQuc3R5bGVzaGVldD1kLmdldERlZmF1bHRTdHlsZXNoZWV0KCksZC5yZWZyZXNoKCkpO2Uub3BlbihudWxsLG51bGwsZiwhMCk7bnVsbCE9diYmKGQuc3R5bGVzaGVldD12LGQucmVmcmVzaCgpKX1lbHNle3g9CmIuYmFja2dyb3VuZDtpZihudWxsPT14fHwiIj09eHx8eD09bXhDb25zdGFudHMuTk9ORSl4PSIjZmZmZmZmIjtlLmJhY2tncm91bmRDb2xvcj14O2UuYXV0b09yaWdpbj16O2UuYXBwZW5kR3JhcGgoYix1LHYsbSxmLCEwKTtpZihudWxsIT1iLmV4dEZvbnRzJiZudWxsIT1lLnduZClmb3IoZj0wO2Y8Yi5leHRGb250cy5sZW5ndGg7ZisrKXY9Yi5leHRGb250c1tmXS5uYW1lLG09Yi5leHRGb250c1tmXS51cmwsMD09bS5pbmRleE9mKEVkaXRvci5HT09HTEVfRk9OVFMpP2Uud25kLmRvY3VtZW50LndyaXRlbG4oJzxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iJyttKyciIGNoYXJzZXQ9IlVURi04IiB0eXBlPSJ0ZXh0L2NzcyI+Jyk6KGUud25kLmRvY3VtZW50LndyaXRlbG4oJzxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+JyksZS53bmQuZG9jdW1lbnQud3JpdGVsbignQGZvbnQtZmFjZSB7XG5cdGZvbnQtZmFtaWx5OiAiJyt2KyciO1xuXHRzcmM6IHVybCgiJyttKyciKTtcbn0nKSwKZS53bmQuZG9jdW1lbnQud3JpdGVsbigiPC9zdHlsZT4iKSl9ZyYmKGIudXNlQ3NzVHJhbnNmb3Jtcz1nLGIuY3VycmVudFRyYW5zbGF0ZT1sLGIuY3VycmVudFNjYWxlPXAsYi52aWV3LnRyYW5zbGF0ZT1uLGIudmlldy5zY2FsZT10KTtyZXR1cm4gZX12YXIgYz1wYXJzZUludChoYS52YWx1ZSkvMTAwO2lzTmFOKGMpJiYoYz0xLGhhLnZhbHVlPSIxMDAgJSIpO3ZhciBjPS43NSpjLGY9bnVsbDtudWxsIT1kLnRoZW1lcyYmImRhcmtUaGVtZSI9PWQuZGVmYXVsdFRoZW1lTmFtZSYmKGY9ZC5zdHlsZXNoZWV0LGQuc3R5bGVzaGVldD1kLmdldERlZmF1bHRTdHlsZXNoZWV0KCksZC5yZWZyZXNoKCkpO3ZhciBnPXYudmFsdWUsbD1tLnZhbHVlLHA9IXQuY2hlY2tlZCxrPW51bGw7cCYmKHA9Zz09biYmbD09bik7aWYoIXAmJm51bGwhPWEucGFnZXMmJmEucGFnZXMubGVuZ3RoKXt2YXIgeD0wLHA9YS5wYWdlcy5sZW5ndGgtMTt0LmNoZWNrZWR8fCh4PXBhcnNlSW50KGcpLTEscD1wYXJzZUludChsKS0KMSk7Zm9yKHZhciB1PXg7dTw9cDt1Kyspe3ZhciB6PWEucGFnZXNbdV0sZz16PT1hLmN1cnJlbnRQYWdlP2Q6bnVsbDtpZihudWxsPT1nKXt2YXIgZz1hLmNyZWF0ZVRlbXBvcmFyeUdyYXBoKGQuc3R5bGVzaGVldCksbD0hMCx4PSExLHk9bnVsbCxEPW51bGw7bnVsbD09ei52aWV3U3RhdGUmJm51bGw9PXoucm9vdCYmYS51cGRhdGVQYWdlUm9vdCh6KTtudWxsIT16LnZpZXdTdGF0ZSYmKGw9ei52aWV3U3RhdGUucGFnZVZpc2libGUseD16LnZpZXdTdGF0ZS5tYXRoRW5hYmxlZCx5PXoudmlld1N0YXRlLmJhY2tncm91bmQsRD16LnZpZXdTdGF0ZS5iYWNrZ3JvdW5kSW1hZ2UsZy5leHRGb250cz16LnZpZXdTdGF0ZS5leHRGb250cyk7Zy5iYWNrZ3JvdW5kPXk7Zy5iYWNrZ3JvdW5kSW1hZ2U9bnVsbCE9RD9uZXcgbXhJbWFnZShELnNyYyxELndpZHRoLEQuaGVpZ2h0KTpudWxsO2cucGFnZVZpc2libGU9bDtnLm1hdGhFbmFibGVkPXg7dmFyIEI9Zy5nZXRHbG9iYWxWYXJpYWJsZTtnLmdldEdsb2JhbFZhcmlhYmxlPQpmdW5jdGlvbihiKXtyZXR1cm4icGFnZSI9PWI/ei5nZXROYW1lKCk6InBhZ2VudW1iZXIiPT1iP3UrMToicGFnZWNvdW50Ij09Yj9udWxsIT1hLnBhZ2VzP2EucGFnZXMubGVuZ3RoOjE6Qi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZy5jb250YWluZXIpO2EudXBkYXRlUGFnZVJvb3Qoeik7Zy5tb2RlbC5zZXRSb290KHoucm9vdCl9az1lKGcsayx1IT1wKTtnIT1kJiZnLmNvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGcuY29udGFpbmVyKX19ZWxzZSBrPWUoZCk7bnVsbD09az9hLmhhbmRsZUVycm9yKHttZXNzYWdlOm14UmVzb3VyY2VzLmdldCgiZXJyb3JVcGRhdGluZ1ByZXZpZXciKX0pOihrLm1hdGhFbmFibGVkJiYocD1rLnduZC5kb2N1bWVudCxiJiYoay53bmQuSU1NRURJQVRFX1BSSU5UPSEwKSxwLndyaXRlbG4oJzxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9IicrRFJBV0lPX0JBU0VfVVJMKycvanMvbWF0aC1wcmludC5qcyI+XHgzYy9zY3JpcHQ+JykpLAprLmNsb3NlRG9jdW1lbnQoKSwhay5tYXRoRW5hYmxlZCYmYiYmUHJpbnREaWFsb2cucHJpbnRQcmV2aWV3KGspKTtudWxsIT1mJiYoZC5zdHlsZXNoZWV0PWYsZC5yZWZyZXNoKCkpfXZhciBkPWEuZWRpdG9yLmdyYXBoLGY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJoMyIpO2cuc3R5bGUud2lkdGg9IjEwMCUiO2cuc3R5bGUudGV4dEFsaWduPSJjZW50ZXIiO2cuc3R5bGUubWFyZ2luVG9wPSIwcHgiO214VXRpbHMud3JpdGUoZyxifHxteFJlc291cmNlcy5nZXQoInByaW50IikpO2YuYXBwZW5kQ2hpbGQoZyk7dmFyIGw9MSxuPTEscD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtwLnN0eWxlLmNzc1RleHQ9ImJvcmRlci1ib3R0b206MXB4IHNvbGlkIGxpZ2h0R3JheTtwYWRkaW5nLWJvdHRvbToxMnB4O21hcmdpbi1ib3R0b206MTJweDsiO3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7dC5zdHlsZS5jc3NUZXh0PQoibWFyZ2luLXJpZ2h0OjhweDttYXJnaW4tYm90dG9tOjhweDsiO3Quc2V0QXR0cmlidXRlKCJ2YWx1ZSIsImFsbCIpO3Quc2V0QXR0cmlidXRlKCJ0eXBlIiwicmFkaW8iKTt0LnNldEF0dHJpYnV0ZSgibmFtZSIsInBhZ2VzLXByaW50ZGlhbG9nIik7cC5hcHBlbmRDaGlsZCh0KTtnPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTtteFV0aWxzLndyaXRlKGcsbXhSZXNvdXJjZXMuZ2V0KCJwcmludEFsbFBhZ2VzIikpO3AuYXBwZW5kQ2hpbGQoZyk7bXhVdGlscy5icihwKTt2YXIgaz10LmNsb25lTm9kZSghMCk7dC5zZXRBdHRyaWJ1dGUoImNoZWNrZWQiLCJjaGVja2VkIik7ay5zZXRBdHRyaWJ1dGUoInZhbHVlIiwicmFuZ2UiKTtwLmFwcGVuZENoaWxkKGspO2c9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpO214VXRpbHMud3JpdGUoZyxteFJlc291cmNlcy5nZXQoInBhZ2VzIikrIjoiKTtwLmFwcGVuZENoaWxkKGcpO3ZhciB2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7CnYuc3R5bGUuY3NzVGV4dD0ibWFyZ2luOjAgOHB4IDAgOHB4OyI7di5zZXRBdHRyaWJ1dGUoInZhbHVlIiwiMSIpO3Yuc2V0QXR0cmlidXRlKCJ0eXBlIiwibnVtYmVyIik7di5zZXRBdHRyaWJ1dGUoIm1pbiIsIjEiKTt2LnN0eWxlLndpZHRoPSI1MHB4IjtwLmFwcGVuZENoaWxkKHYpO2c9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpO214VXRpbHMud3JpdGUoZyxteFJlc291cmNlcy5nZXQoInRvIikpO3AuYXBwZW5kQ2hpbGQoZyk7dmFyIG09di5jbG9uZU5vZGUoITApO3AuYXBwZW5kQ2hpbGQobSk7bXhFdmVudC5hZGRMaXN0ZW5lcih2LCJmb2N1cyIsZnVuY3Rpb24oKXtrLmNoZWNrZWQ9ITB9KTtteEV2ZW50LmFkZExpc3RlbmVyKG0sImZvY3VzIixmdW5jdGlvbigpe2suY2hlY2tlZD0hMH0pO214RXZlbnQuYWRkTGlzdGVuZXIodiwiY2hhbmdlIixlKTtteEV2ZW50LmFkZExpc3RlbmVyKG0sImNoYW5nZSIsZSk7aWYobnVsbCE9YS5wYWdlcyYmKGw9YS5wYWdlcy5sZW5ndGgsCm51bGwhPWEuY3VycmVudFBhZ2UpKWZvcihnPTA7ZzxhLnBhZ2VzLmxlbmd0aDtnKyspaWYoYS5jdXJyZW50UGFnZT09YS5wYWdlc1tnXSl7bj1nKzE7di52YWx1ZT1uO20udmFsdWU9bjticmVha312LnNldEF0dHJpYnV0ZSgibWF4IixsKTttLnNldEF0dHJpYnV0ZSgibWF4IixsKTthLmlzUGFnZXNFbmFibGVkKCk/MTxsJiYoZi5hcHBlbmRDaGlsZChwKSxrLmNoZWNrZWQ9ITApOmsuY2hlY2tlZD0hMDt2YXIgeD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTt4LnN0eWxlLm1hcmdpbkJvdHRvbT0iMTBweCI7dmFyIHU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTt1LnN0eWxlLm1hcmdpblJpZ2h0PSI4cHgiO3Uuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsImFkanVzdCIpO3Uuc2V0QXR0cmlidXRlKCJ0eXBlIiwicmFkaW8iKTt1LnNldEF0dHJpYnV0ZSgibmFtZSIsInByaW50Wm9vbSIpO3guYXBwZW5kQ2hpbGQodSk7Zz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7Cm14VXRpbHMud3JpdGUoZyxteFJlc291cmNlcy5nZXQoImFkanVzdFRvIikpO3guYXBwZW5kQ2hpbGQoZyk7dmFyIEE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtBLnN0eWxlLmNzc1RleHQ9Im1hcmdpbjowIDhweCAwIDhweDsiO0Euc2V0QXR0cmlidXRlKCJ2YWx1ZSIsIjEwMCAlIik7QS5zdHlsZS53aWR0aD0iNTBweCI7eC5hcHBlbmRDaGlsZChBKTtteEV2ZW50LmFkZExpc3RlbmVyKEEsImZvY3VzIixmdW5jdGlvbigpe3UuY2hlY2tlZD0hMH0pO2YuYXBwZW5kQ2hpbGQoeCk7dmFyIHA9cC5jbG9uZU5vZGUoITEpLHE9dS5jbG9uZU5vZGUoITApO3Euc2V0QXR0cmlidXRlKCJ2YWx1ZSIsImZpdCIpO3Uuc2V0QXR0cmlidXRlKCJjaGVja2VkIiwiY2hlY2tlZCIpO2c9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Zy5zdHlsZS5jc3NUZXh0PSJkaXNwbGF5OmlubGluZS1ibG9jaztoZWlnaHQ6MTAwJTt2ZXJ0aWNhbC1hbGlnbjp0b3A7cGFkZGluZy10b3A6MnB4OyI7CmcuYXBwZW5kQ2hpbGQocSk7cC5hcHBlbmRDaGlsZChnKTt4PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRhYmxlIik7eC5zdHlsZS5kaXNwbGF5PSJpbmxpbmUtYmxvY2siO3ZhciB6PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRib2R5IiksRD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ciIpLEI9RC5jbG9uZU5vZGUoITApLEM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKSxFPUMuY2xvbmVOb2RlKCEwKSxHPUMuY2xvbmVOb2RlKCEwKSxGPUMuY2xvbmVOb2RlKCEwKSxJPUMuY2xvbmVOb2RlKCEwKSxKPUMuY2xvbmVOb2RlKCEwKTtDLnN0eWxlLnRleHRBbGlnbj0icmlnaHQiO0Yuc3R5bGUudGV4dEFsaWduPSJyaWdodCI7bXhVdGlscy53cml0ZShDLG14UmVzb3VyY2VzLmdldCgiZml0VG8iKSk7dmFyIEs9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtLLnN0eWxlLmNzc1RleHQ9Im1hcmdpbjowIDhweCAwIDhweDsiO0suc2V0QXR0cmlidXRlKCJ2YWx1ZSIsIjEiKTsKSy5zZXRBdHRyaWJ1dGUoIm1pbiIsIjEiKTtLLnNldEF0dHJpYnV0ZSgidHlwZSIsIm51bWJlciIpO0suc3R5bGUud2lkdGg9IjQwcHgiO0UuYXBwZW5kQ2hpbGQoSyk7Zz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7bXhVdGlscy53cml0ZShnLG14UmVzb3VyY2VzLmdldCgiZml0VG9TaGVldHNBY3Jvc3MiKSk7Ry5hcHBlbmRDaGlsZChnKTtteFV0aWxzLndyaXRlKEYsbXhSZXNvdXJjZXMuZ2V0KCJmaXRUb0J5IikpO3ZhciBwYT1LLmNsb25lTm9kZSghMCk7SS5hcHBlbmRDaGlsZChwYSk7bXhFdmVudC5hZGRMaXN0ZW5lcihLLCJmb2N1cyIsZnVuY3Rpb24oKXtxLmNoZWNrZWQ9ITB9KTtteEV2ZW50LmFkZExpc3RlbmVyKHBhLCJmb2N1cyIsZnVuY3Rpb24oKXtxLmNoZWNrZWQ9ITB9KTtnPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTtteFV0aWxzLndyaXRlKGcsbXhSZXNvdXJjZXMuZ2V0KCJmaXRUb1NoZWV0c0Rvd24iKSk7Si5hcHBlbmRDaGlsZChnKTtELmFwcGVuZENoaWxkKEMpOwpELmFwcGVuZENoaWxkKEUpO0QuYXBwZW5kQ2hpbGQoRyk7Qi5hcHBlbmRDaGlsZChGKTtCLmFwcGVuZENoaWxkKEkpO0IuYXBwZW5kQ2hpbGQoSik7ei5hcHBlbmRDaGlsZChEKTt6LmFwcGVuZENoaWxkKEIpO3guYXBwZW5kQ2hpbGQoeik7cC5hcHBlbmRDaGlsZCh4KTtmLmFwcGVuZENoaWxkKHApO3A9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Zz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtnLnN0eWxlLmZvbnRXZWlnaHQ9ImJvbGQiO2cuc3R5bGUubWFyZ2luQm90dG9tPSIxMnB4IjtteFV0aWxzLndyaXRlKGcsbXhSZXNvdXJjZXMuZ2V0KCJwYXBlclNpemUiKSk7cC5hcHBlbmRDaGlsZChnKTtnPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2cuc3R5bGUubWFyZ2luQm90dG9tPSIxMnB4Ijt2YXIgc2E9UGFnZVNldHVwRGlhbG9nLmFkZFBhZ2VGb3JtYXRQYW5lbChnLCJwcmludGRpYWxvZyIsYS5lZGl0b3IuZ3JhcGgucGFnZUZvcm1hdHx8bXhDb25zdGFudHMuUEFHRV9GT1JNQVRfQTRfUE9SVFJBSVQpOwpwLmFwcGVuZENoaWxkKGcpO2c9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpO214VXRpbHMud3JpdGUoZyxteFJlc291cmNlcy5nZXQoInBhZ2VTY2FsZSIpKTtwLmFwcGVuZENoaWxkKGcpO3ZhciBoYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO2hhLnN0eWxlLmNzc1RleHQ9Im1hcmdpbjowIDhweCAwIDhweDsiO2hhLnNldEF0dHJpYnV0ZSgidmFsdWUiLCIxMDAgJSIpO2hhLnN0eWxlLndpZHRoPSI2MHB4IjtwLmFwcGVuZENoaWxkKGhhKTtmLmFwcGVuZENoaWxkKHApO2c9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Zy5zdHlsZS5jc3NUZXh0PSJ0ZXh0LWFsaWduOnJpZ2h0O21hcmdpbjo0OHB4IDAgMCAwOyI7cD1teFV0aWxzLmJ1dHRvbihteFJlc291cmNlcy5nZXQoImNhbmNlbCIpLGZ1bmN0aW9uKCl7YS5oaWRlRGlhbG9nKCl9KTtwLmNsYXNzTmFtZT0iZ2VCdG4iO2EuZWRpdG9yLmNhbmNlbEZpcnN0JiZnLmFwcGVuZENoaWxkKHApO2EuaXNPZmZsaW5lKCl8fAooeD1teFV0aWxzLmJ1dHRvbihteFJlc291cmNlcy5nZXQoImhlbHAiKSxmdW5jdGlvbigpe2Qub3BlbkxpbmsoImh0dHBzOi8vZGVzay5kcmF3LmlvL3N1cHBvcnQvc29sdXRpb25zL2FydGljbGVzLzE2MDAwMDQ4OTQ3Iil9KSx4LmNsYXNzTmFtZT0iZ2VCdG4iLGcuYXBwZW5kQ2hpbGQoeCkpO1ByaW50RGlhbG9nLnByZXZpZXdFbmFibGVkJiYoeD1teFV0aWxzLmJ1dHRvbihteFJlc291cmNlcy5nZXQoInByZXZpZXciKSxmdW5jdGlvbigpe2EuaGlkZURpYWxvZygpO2MoITEpfSkseC5jbGFzc05hbWU9ImdlQnRuIixnLmFwcGVuZENoaWxkKHgpKTt4PW14VXRpbHMuYnV0dG9uKG14UmVzb3VyY2VzLmdldChQcmludERpYWxvZy5wcmV2aWV3RW5hYmxlZD8icHJpbnQiOiJvayIpLGZ1bmN0aW9uKCl7YS5oaWRlRGlhbG9nKCk7YyghMCl9KTt4LmNsYXNzTmFtZT0iZ2VCdG4gZ2VQcmltYXJ5QnRuIjtnLmFwcGVuZENoaWxkKHgpO2EuZWRpdG9yLmNhbmNlbEZpcnN0fHxnLmFwcGVuZENoaWxkKHApOwpmLmFwcGVuZENoaWxkKGcpO3RoaXMuY29udGFpbmVyPWZ9O3ZhciBGPUNoYW5nZVBhZ2VTZXR1cC5wcm90b3R5cGUuZXhlY3V0ZTtDaGFuZ2VQYWdlU2V0dXAucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oKXtudWxsPT10aGlzLnBhZ2UmJih0aGlzLnBhZ2U9dGhpcy51aS5jdXJyZW50UGFnZSk7dGhpcy5wYWdlIT10aGlzLnVpLmN1cnJlbnRQYWdlP251bGwhPXRoaXMucGFnZS52aWV3U3RhdGUmJih0aGlzLmlnbm9yZUNvbG9yfHwodGhpcy5wYWdlLnZpZXdTdGF0ZS5iYWNrZ3JvdW5kPXRoaXMuY29sb3IpLHRoaXMuaWdub3JlSW1hZ2V8fCh0aGlzLnBhZ2Uudmlld1N0YXRlLmJhY2tncm91bmRJbWFnZT10aGlzLmltYWdlKSxudWxsIT10aGlzLmZvcm1hdCYmKHRoaXMucGFnZS52aWV3U3RhdGUucGFnZUZvcm1hdD10aGlzLmZvcm1hdCksbnVsbCE9dGhpcy5tYXRoRW5hYmxlZCYmKHRoaXMucGFnZS52aWV3U3RhdGUubWF0aEVuYWJsZWQ9dGhpcy5tYXRoRW5hYmxlZCksbnVsbCE9CnRoaXMuc2hhZG93VmlzaWJsZSYmKHRoaXMucGFnZS52aWV3U3RhdGUuc2hhZG93VmlzaWJsZT10aGlzLnNoYWRvd1Zpc2libGUpKTooRi5hcHBseSh0aGlzLGFyZ3VtZW50cyksbnVsbCE9dGhpcy5tYXRoRW5hYmxlZCYmdGhpcy5tYXRoRW5hYmxlZCE9dGhpcy51aS5pc01hdGhFbmFibGVkKCkmJih0aGlzLnVpLnNldE1hdGhFbmFibGVkKHRoaXMubWF0aEVuYWJsZWQpLHRoaXMubWF0aEVuYWJsZWQ9IXRoaXMubWF0aEVuYWJsZWQpLG51bGwhPXRoaXMuc2hhZG93VmlzaWJsZSYmdGhpcy5zaGFkb3dWaXNpYmxlIT10aGlzLnVpLmVkaXRvci5ncmFwaC5zaGFkb3dWaXNpYmxlJiYodGhpcy51aS5lZGl0b3IuZ3JhcGguc2V0U2hhZG93VmlzaWJsZSh0aGlzLnNoYWRvd1Zpc2libGUpLHRoaXMuc2hhZG93VmlzaWJsZT0hdGhpcy5zaGFkb3dWaXNpYmxlKSl9O0VkaXRvci5wcm90b3R5cGUudXNlQ2FudmFzRm9yRXhwb3J0PSExO3RyeXt2YXIgST1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKSwKSj1uZXcgSW1hZ2U7Si5vbmxvYWQ9ZnVuY3Rpb24oKXt0cnl7SS5nZXRDb250ZXh0KCIyZCIpLmRyYXdJbWFnZShKLDAsMCk7dmFyIGE9SS50b0RhdGFVUkwoImltYWdlL3BuZyIpO0VkaXRvci5wcm90b3R5cGUudXNlQ2FudmFzRm9yRXhwb3J0PW51bGwhPWEmJjY8YS5sZW5ndGh9Y2F0Y2goSyl7fX07Si5zcmM9ImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsIitidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudCgnPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMXB4IiBoZWlnaHQ9IjFweCIgdmVyc2lvbj0iMS4xIj48Zm9yZWlnbk9iamVjdCBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMSIgaGVpZ2h0PSIxIj48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PC9zdmc+JykpKX1jYXRjaCh1KXt9fSkoKTsKKGZ1bmN0aW9uKCl7dmFyIGE9bmV3IG14T2JqZWN0Q29kZWMobmV3IENoYW5nZVBhZ2VTZXR1cCxbInVpIiwicHJldmlvdXNDb2xvciIsInByZXZpb3VzSW1hZ2UiLCJwcmV2aW91c0Zvcm1hdCJdKTthLmJlZm9yZURlY29kZT1mdW5jdGlvbihhLGYsZCl7ZC51aT1hLnVpO3JldHVybiBmfTthLmFmdGVyRGVjb2RlPWZ1bmN0aW9uKGEsZixkKXtkLnByZXZpb3VzQ29sb3I9ZC5jb2xvcjtkLnByZXZpb3VzSW1hZ2U9ZC5pbWFnZTtkLnByZXZpb3VzRm9ybWF0PWQuZm9ybWF0O251bGwhPWQuZm9sZGluZ0VuYWJsZWQmJihkLmZvbGRpbmdFbmFibGVkPSFkLmZvbGRpbmdFbmFibGVkKTtudWxsIT1kLm1hdGhFbmFibGVkJiYoZC5tYXRoRW5hYmxlZD0hZC5tYXRoRW5hYmxlZCk7bnVsbCE9ZC5zaGFkb3dWaXNpYmxlJiYoZC5zaGFkb3dWaXNpYmxlPSFkLnNoYWRvd1Zpc2libGUpO3JldHVybiBkfTtteENvZGVjUmVnaXN0cnkucmVnaXN0ZXIoYSl9KSgpOyhmdW5jdGlvbigpe0VkaXRvclVpLlZFUlNJT049IkBEUkFXSU8tVkVSU0lPTkAiO0VkaXRvclVpLmNvbXBhY3RVaT0iYXRsYXMiIT11aVRoZW1lO214R3JhcGhWaWV3LnByb3RvdHlwZS5kZWZhdWx0RGFya0dyaWRDb2xvcj0iIzZlNmU2ZSI7ImRhcmsiPT11aVRoZW1lJiYobXhHcmFwaFZpZXcucHJvdG90eXBlLmdyaWRDb2xvcj1teEdyYXBoVmlldy5wcm90b3R5cGUuZGVmYXVsdERhcmtHcmlkQ29sb3IpO0VkaXRvclVpLmVuYWJsZUxvZ2dpbmc9IjEiIT11cmxQYXJhbXMuc3RlYWx0aCYmKC8uKlwuZHJhd1wuaW8kLy50ZXN0KHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSl8fC8uKlwuZGlhZ3JhbXNcLm5ldCQvLnRlc3Qod2luZG93LmxvY2F0aW9uLmhvc3RuYW1lKSkmJiJzdXBwb3J0LmRyYXcuaW8iIT13aW5kb3cubG9jYXRpb24uaG9zdG5hbWU7RWRpdG9yVWkuZHJhd0hvc3Q9d2luZG93LkRSQVdJT19CQVNFX1VSTDtFZGl0b3JVaS5sYXN0RXJyb3JNZXNzYWdlPW51bGw7RWRpdG9yVWkuaWdub3JlZEFub255bWl6ZWRDaGFycz0KIlxuXHRgfiFAIyQlXiYqKClfK3t9fDpcIjw+Py09W107Jy4vLFxuXHQiO0VkaXRvclVpLnRlbXBsYXRlRmlsZT1URU1QTEFURV9QQVRIKyIvaW5kZXgueG1sIjtFZGl0b3JVaS5jYWNoZVVybD0iMSI9PXVybFBhcmFtcy5kZXY/Ii9jYWNoZSI6d2luZG93LlJFQUxUSU1FX1VSTDtudWxsPT1FZGl0b3JVaS5jYWNoZVVybCYmInVuZGVmaW5lZCIhPT10eXBlb2YgRHJhd2lvRmlsZSYmKERyYXdpb0ZpbGUuU1lOQz0ibm9uZSIpO0VkaXRvci5jYWNoZVRpbWVvdXQ9MUU0O0VkaXRvclVpLmVuYWJsZVBsYW50VW1sPUVkaXRvclVpLmVuYWJsZUxvZ2dpbmc7RWRpdG9yVWkuaXNFbGVjdHJvbkFwcD1udWxsIT13aW5kb3cmJm51bGwhPXdpbmRvdy5wcm9jZXNzJiZudWxsIT13aW5kb3cucHJvY2Vzcy52ZXJzaW9ucyYmbnVsbCE9d2luZG93LnByb2Nlc3MudmVyc2lvbnMuZWxlY3Ryb247RWRpdG9yVWkuZW5hYmxlRHJhZnRzPSFteENsaWVudC5JU19DSFJPTUVBUFAmJmlzTG9jYWxTdG9yYWdlJiYKIUVkaXRvclVpLmlzRWxlY3Ryb25BcHAmJiIwIiE9dXJsUGFyYW1zLmRyYWZ0cztFZGl0b3JVaS5zY3JhdGNocGFkSGVscExpbms9Imh0dHBzOi8vZGVzay5kcmF3LmlvL3N1cHBvcnQvc29sdXRpb25zL2FydGljbGVzLzE2MDAwMDQyMzY3IjtFZGl0b3JVaS5kZWZhdWx0TWVybWFpZENvbmZpZz17dGhlbWU6Im5ldXRyYWwiLGFycm93TWFya2VyQWJzb2x1dGU6ITEsZmxvd2NoYXJ0OntodG1sTGFiZWxzOiExfSxzZXF1ZW5jZTp7ZGlhZ3JhbU1hcmdpblg6NTAsZGlhZ3JhbU1hcmdpblk6MTAsYWN0b3JNYXJnaW46NTAsd2lkdGg6MTUwLGhlaWdodDo2NSxib3hNYXJnaW46MTAsYm94VGV4dE1hcmdpbjo1LG5vdGVNYXJnaW46MTAsbWVzc2FnZU1hcmdpbjozNSxtaXJyb3JBY3RvcnM6ITAsYm90dG9tTWFyZ2luQWRqOjEsdXNlTWF4V2lkdGg6ITAscmlnaHRBbmdsZXM6ITEsc2hvd1NlcXVlbmNlTnVtYmVyczohMX0sZ2FudHQ6e3RpdGxlVG9wTWFyZ2luOjI1LGJhckhlaWdodDoyMCxiYXJHYXA6NCwKdG9wUGFkZGluZzo1MCxsZWZ0UGFkZGluZzo3NSxncmlkTGluZVN0YXJ0UGFkZGluZzozNSxmb250U2l6ZToxMSxmb250RmFtaWx5OiciT3Blbi1TYW5zIiwgInNhbnMtc2VyaWYiJyxudW1iZXJTZWN0aW9uU3R5bGVzOjQsYXhpc0Zvcm1hdDoiJVktJW0tJWQifX07RWRpdG9yVWkubG9nRXJyb3I9ZnVuY3Rpb24oYSxlLGMsZCxmLG4sayl7bj1udWxsIT1uP246MDw9YS5pbmRleE9mKCJOZXR3b3JrRXJyb3IiKXx8MDw9YS5pbmRleE9mKCJTZWN1cml0eUVycm9yIil8fDA8PWEuaW5kZXhPZigiTlNfRVJST1JfRkFJTFVSRSIpfHwwPD1hLmluZGV4T2YoIm91dCBvZiBtZW1vcnkiKT8iQ09ORklHIjoiU0VWRVJFIjtpZihFZGl0b3JVaS5lbmFibGVMb2dnaW5nJiYiMSIhPXVybFBhcmFtcy5kZXYpdHJ5e2lmKGEhPUVkaXRvclVpLmxhc3RFcnJvck1lc3NhZ2UmJihudWxsPT1hfHxudWxsPT1lfHwtMT09YS5pbmRleE9mKCJTY3JpcHQgZXJyb3IiKSYmLTE9PWEuaW5kZXhPZigiZXh0ZW5zaW9uIikpJiYKbnVsbCE9YSYmMD5hLmluZGV4T2YoIkRvY3VtZW50Q2xvc2VkRXJyb3IiKSl7RWRpdG9yVWkubGFzdEVycm9yTWVzc2FnZT1hO3ZhciBiPW51bGwhPXdpbmRvdy5EUkFXSU9fTE9HX1VSTD93aW5kb3cuRFJBV0lPX0xPR19VUkw6IiI7Zj1udWxsIT1mP2Y6RXJyb3IoYSk7KG5ldyBJbWFnZSkuc3JjPWIrIi9sb2c/c2V2ZXJpdHk9IituKyImdj0iK2VuY29kZVVSSUNvbXBvbmVudChFZGl0b3JVaS5WRVJTSU9OKSsiJm1zZz1jbGllbnRFcnJvcjoiK2VuY29kZVVSSUNvbXBvbmVudChhKSsiOnVybDoiK2VuY29kZVVSSUNvbXBvbmVudCh3aW5kb3cubG9jYXRpb24uaHJlZikrIjpsbnVtOiIrZW5jb2RlVVJJQ29tcG9uZW50KGMpKyhudWxsIT1kPyI6Y29sbm86IitlbmNvZGVVUklDb21wb25lbnQoZCk6IiIpKyhudWxsIT1mJiZudWxsIT1mLnN0YWNrPyImc3RhY2s9IitlbmNvZGVVUklDb21wb25lbnQoZi5zdGFjayk6IiIpfX1jYXRjaCh4KXt9dHJ5e2t8fG51bGw9PXdpbmRvdy5jb25zb2xlfHwKY29uc29sZS5lcnJvcihuLGEsZSxjLGQsZil9Y2F0Y2goeCl7fX07RWRpdG9yVWkubG9nRXZlbnQ9ZnVuY3Rpb24oYSl7aWYoIjEiPT11cmxQYXJhbXMuZGV2KUVkaXRvclVpLmRlYnVnKCJsb2dFdmVudCIsYSk7ZWxzZSBpZihFZGl0b3JVaS5lbmFibGVMb2dnaW5nKXRyeXt2YXIgYj1udWxsIT13aW5kb3cuRFJBV0lPX0xPR19VUkw/d2luZG93LkRSQVdJT19MT0dfVVJMOiIiOyhuZXcgSW1hZ2UpLnNyYz1iKyIvaW1hZ2VzLzF4MS5wbmc/dj0iK2VuY29kZVVSSUNvbXBvbmVudChFZGl0b3JVaS5WRVJTSU9OKSsobnVsbCE9YT8iJmRhdGE9IitlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoYSkpOiIiKX1jYXRjaChnKXt9fTtFZGl0b3JVaS5zZW5kUmVwb3J0PWZ1bmN0aW9uKGEsZSl7aWYoIjEiPT11cmxQYXJhbXMuZGV2KUVkaXRvclVpLmRlYnVnKCJzZW5kUmVwb3J0IixhKTtlbHNlIGlmKEVkaXRvclVpLmVuYWJsZUxvZ2dpbmcpdHJ5e2U9bnVsbCE9ZT9lOjVFNCxhLmxlbmd0aD4KZSYmKGE9YS5zdWJzdHJpbmcoMCxlKSsiXG4uLi5bU0hPUlRFTkVEXSIpLG14VXRpbHMucG9zdCgiL2VtYWlsIiwidmVyc2lvbj0iK2VuY29kZVVSSUNvbXBvbmVudChFZGl0b3JVaS5WRVJTSU9OKSsiJnVybD0iK2VuY29kZVVSSUNvbXBvbmVudCh3aW5kb3cubG9jYXRpb24uaHJlZikrIiZkYXRhPSIrZW5jb2RlVVJJQ29tcG9uZW50KGEpKX1jYXRjaChnKXt9fTtFZGl0b3JVaS5kZWJ1Zz1mdW5jdGlvbigpe3RyeXtpZihudWxsIT13aW5kb3cuY29uc29sZSYmIjEiPT11cmxQYXJhbXMudGVzdCl7Zm9yKHZhciBhPVsobmV3IERhdGUpLnRvSVNPU3RyaW5nKCldLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKW51bGwhPWFyZ3VtZW50c1tlXSYmYS5wdXNoKGFyZ3VtZW50c1tlXSk7Y29uc29sZS5sb2cuYXBwbHkoY29uc29sZSxhKX19Y2F0Y2goZyl7fX07RWRpdG9yVWkucGFyc2VQbmc9ZnVuY3Rpb24oYSxlLGMpe2Z1bmN0aW9uIGIoYSxiKXt2YXIgZT1mO2YrPWI7cmV0dXJuIGEuc3Vic3RyaW5nKGUsCmYpfWZ1bmN0aW9uIGQoYSl7YT1iKGEsNCk7cmV0dXJuIGEuY2hhckNvZGVBdCgzKSsoYS5jaGFyQ29kZUF0KDIpPDw4KSsoYS5jaGFyQ29kZUF0KDEpPDwxNikrKGEuY2hhckNvZGVBdCgwKTw8MjQpfXZhciBmPTA7aWYoYihhLDgpIT1TdHJpbmcuZnJvbUNoYXJDb2RlKDEzNykrIlBORyIrU3RyaW5nLmZyb21DaGFyQ29kZSgxMywxMCwyNiwxMCkpbnVsbCE9YyYmYygpO2Vsc2UgaWYoYihhLDQpLCJJSERSIiE9YihhLDQpKW51bGwhPWMmJmMoKTtlbHNle2IoYSwxNyk7ZG97Yz1kKGEpO3ZhciBnPWIoYSw0KTtpZihudWxsIT1lJiZlKGYtOCxnLGMpKWJyZWFrO3ZhbHVlPWIoYSxjKTtiKGEsNCk7aWYoIklFTkQiPT1nKWJyZWFrfXdoaWxlKGMpfX07RWRpdG9yVWkucmVtb3ZlQ2hpbGROb2Rlcz1mdW5jdGlvbihhKXtmb3IoO251bGwhPWEuZmlyc3RDaGlsZDspYS5yZW1vdmVDaGlsZChhLmZpcnN0Q2hpbGQpfTtFZGl0b3JVaS5wcm90b3R5cGUuZW1wdHlEaWFncmFtWG1sPSc8bXhHcmFwaE1vZGVsPjxyb290PjxteENlbGwgaWQ9IjAiLz48bXhDZWxsIGlkPSIxIiBwYXJlbnQ9IjAiLz48L3Jvb3Q+PC9teEdyYXBoTW9kZWw+JzsKRWRpdG9yVWkucHJvdG90eXBlLmVtcHR5TGlicmFyeVhtbD0iPG14bGlicmFyeT5bXTwvbXhsaWJyYXJ5PiI7RWRpdG9yVWkucHJvdG90eXBlLm1vZGU9bnVsbDtFZGl0b3JVaS5wcm90b3R5cGUudGltZW91dD1FZGl0b3IucHJvdG90eXBlLnRpbWVvdXQ7RWRpdG9yVWkucHJvdG90eXBlLnNpZGViYXJGb290ZXJIZWlnaHQ9Mzg7RWRpdG9yVWkucHJvdG90eXBlLmRlZmF1bHRDdXN0b21TaGFwZVN0eWxlPSJzaGFwZT1zdGVuY2lsKHRaUnRUc1FnRUVCUHcxK0RKUjdBb042RGJXZnRwQWdFME9ydGQvallSR3E3MlIrWU5FMllnVGVQbG9FSkdXYmxnQTE4WnVLRkRjTWo1L1NtOGJvWnErQmdqQ1g0cFR5cWs2WmxLUk9pdHd1c09NWEtRRE9EeDVpeTRwWHhaNXFUSGlGSGF3eEIwSnJRWkg3bENhYlEwRnIrWFdDMS9FOHpjc1QvZ0FpK1N1Ym8yLzNNaDZkL29KYjVuVTFiNXRXN3Iya25hdXRhYTNUK1UzMm83Zjd2WndwSmthTkRMT1JKamN1N3Q1OW0yalh4cVg5dW4rdHQwMjJhY3NmbW9LYVFaK3ZoaHN3WnRTNk5lL1RoUUd0MElWME4zWXl2NlAzQ2VUOS90SE8wWEZJNWNBRT0pO3doaXRlU3BhY2U9d3JhcDtodG1sPTE7IjsKRWRpdG9yVWkucHJvdG90eXBlLm1heEJhY2tncm91bmRTaXplPTE2MDA7RWRpdG9yVWkucHJvdG90eXBlLm1heEltYWdlU2l6ZT01MjA7RWRpdG9yVWkucHJvdG90eXBlLm1heFRleHRXaWR0aD01MjA7RWRpdG9yVWkucHJvdG90eXBlLnJlc2FtcGxlVGhyZXNob2xkPTFFNTtFZGl0b3JVaS5wcm90b3R5cGUubWF4SW1hZ2VCeXRlcz0xRTY7RWRpdG9yVWkucHJvdG90eXBlLm1heEJhY2tncm91bmRCeXRlcz0yNUU1O0VkaXRvclVpLnByb3RvdHlwZS5tYXhUZXh0Qnl0ZXM9NUU1O0VkaXRvclVpLnByb3RvdHlwZS5jdXJyZW50RmlsZT1udWxsO0VkaXRvclVpLnByb3RvdHlwZS5wcmludFBkZkV4cG9ydD0hMTtFZGl0b3JVaS5wcm90b3R5cGUucGRmUGFnZUV4cG9ydD0hMDtFZGl0b3JVaS5wcm90b3R5cGUuZm9ybWF0RW5hYmxlZD0iMCIhPXVybFBhcmFtcy5mb3JtYXQ7RWRpdG9yVWkucHJvdG90eXBlLmluc2VydFRlbXBsYXRlRW5hYmxlZD0hMDtFZGl0b3JVaS5wcm90b3R5cGUuY2xvc2FibGVTY3JhdGNocGFkPQohMDsoZnVuY3Rpb24oKXtFZGl0b3JVaS5wcm90b3R5cGUudXNlQ2FudmFzRm9yRXhwb3J0PSExO0VkaXRvclVpLnByb3RvdHlwZS5qcGdTdXBwb3J0ZWQ9ITE7dHJ5e3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpO0VkaXRvclVpLnByb3RvdHlwZS5jYW52YXNTdXBwb3J0ZWQ9ISghYS5nZXRDb250ZXh0fHwhYS5nZXRDb250ZXh0KCIyZCIpKX1jYXRjaChsKXt9dHJ5e3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpLGM9bmV3IEltYWdlO2Mub25sb2FkPWZ1bmN0aW9uKCl7dHJ5e2UuZ2V0Q29udGV4dCgiMmQiKS5kcmF3SW1hZ2UoYywwLDApO3ZhciBhPWUudG9EYXRhVVJMKCJpbWFnZS9wbmciKTtFZGl0b3JVaS5wcm90b3R5cGUudXNlQ2FudmFzRm9yRXhwb3J0PW51bGwhPWEmJjY8YS5sZW5ndGh9Y2F0Y2gobil7fX07Yy5zcmM9ImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsIitidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudCgnPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMXB4IiBoZWlnaHQ9IjFweCIgdmVyc2lvbj0iMS4xIj48Zm9yZWlnbk9iamVjdCBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMSIgaGVpZ2h0PSIxIj48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PC9zdmc+JykpKX1jYXRjaChsKXt9dHJ5e2U9CmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpO2Uud2lkdGg9ZS5oZWlnaHQ9MTt2YXIgZD1lLnRvRGF0YVVSTCgiaW1hZ2UvanBlZyIpO0VkaXRvclVpLnByb3RvdHlwZS5qcGdTdXBwb3J0ZWQ9bnVsbCE9PWQubWF0Y2goImltYWdlL2pwZWciKX1jYXRjaChsKXt9fSkoKTtFZGl0b3JVaS5wcm90b3R5cGUub3Blbkxpbms9ZnVuY3Rpb24oYSxlLGMpe3JldHVybiB0aGlzLmVkaXRvci5ncmFwaC5vcGVuTGluayhhLGUsYyl9O0VkaXRvclVpLnByb3RvdHlwZS5zaG93U3BsYXNoPWZ1bmN0aW9uKGEpe307RWRpdG9yVWkucHJvdG90eXBlLmdldExvY2FsRGF0YT1mdW5jdGlvbihhLGUpe2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oYSkpfTtFZGl0b3JVaS5wcm90b3R5cGUuc2V0TG9jYWxEYXRhPWZ1bmN0aW9uKGEsZSxjKXtsb2NhbFN0b3JhZ2Uuc2V0SXRlbShhLGUpO251bGwhPWMmJmMoKX07RWRpdG9yVWkucHJvdG90eXBlLnJlbW92ZUxvY2FsRGF0YT1mdW5jdGlvbihhLGUpe2xvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGEpOwplKCl9O0VkaXRvclVpLnByb3RvdHlwZS5zZXRNYXRoRW5hYmxlZD1mdW5jdGlvbihhKXt0aGlzLmVkaXRvci5ncmFwaC5tYXRoRW5hYmxlZD1hO3RoaXMuZWRpdG9yLnVwZGF0ZUdyYXBoQ29tcG9uZW50cygpO3RoaXMuZWRpdG9yLmdyYXBoLnJlZnJlc2goKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgibWF0aEVuYWJsZWRDaGFuZ2VkIikpfTtFZGl0b3JVaS5wcm90b3R5cGUuaXNNYXRoRW5hYmxlZD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lZGl0b3IuZ3JhcGgubWF0aEVuYWJsZWR9O0VkaXRvclVpLnByb3RvdHlwZS5pc09mZmxpbmVBcHA9ZnVuY3Rpb24oKXtyZXR1cm4iMSI9PXVybFBhcmFtcy5vZmZsaW5lfTtFZGl0b3JVaS5wcm90b3R5cGUuaXNPZmZsaW5lPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzT2ZmbGluZUFwcCgpfHwhbmF2aWdhdG9yLm9uTGluZXx8IWEmJiIxIj09dXJsUGFyYW1zLnN0ZWFsdGh9O0VkaXRvclVpLnByb3RvdHlwZS5jcmVhdGVTcGlubmVyPQpmdW5jdGlvbihhLGUsYyl7Yz1udWxsIT1jP2M6MjQ7dmFyIGI9bmV3IFNwaW5uZXIoe2xpbmVzOjEyLGxlbmd0aDpjLHdpZHRoOk1hdGgucm91bmQoYy8zKSxyYWRpdXM6TWF0aC5yb3VuZChjLzIpLHJvdGF0ZTowLGNvbG9yOiJkYXJrIj09dWlUaGVtZT8iI2MwYzBjMCI6IiMwMDAiLHNwZWVkOjEuNSx0cmFpbDo2MCxzaGFkb3c6ITEsaHdhY2NlbDohMSx6SW5kZXg6MkU5fSksZD1iLnNwaW47Yi5zcGluPWZ1bmN0aW9uKGMsZil7dmFyIGc9ITE7dGhpcy5hY3RpdmV8fChkLmNhbGwodGhpcyxjKSx0aGlzLmFjdGl2ZT0hMCxudWxsIT1mJiYoZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxnLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsZy5zdHlsZS53aGl0ZVNwYWNlPSJub3dyYXAiLGcuc3R5bGUuYmFja2dyb3VuZD0iIzRCNDI0MyIsZy5zdHlsZS5jb2xvcj0id2hpdGUiLGcuc3R5bGUuZm9udEZhbWlseT0iSGVsdmV0aWNhLCBBcmlhbCIsZy5zdHlsZS5mb250U2l6ZT0KIjlwdCIsZy5zdHlsZS5wYWRkaW5nPSI2cHgiLGcuc3R5bGUucGFkZGluZ0xlZnQ9IjEwcHgiLGcuc3R5bGUucGFkZGluZ1JpZ2h0PSIxMHB4IixnLnN0eWxlLnpJbmRleD0yRTksZy5zdHlsZS5sZWZ0PU1hdGgubWF4KDAsYSkrInB4IixnLnN0eWxlLnRvcD1NYXRoLm1heCgwLGUrNzApKyJweCIsbXhVdGlscy5zZXRQcmVmaXhlZFN0eWxlKGcuc3R5bGUsImJvcmRlclJhZGl1cyIsIjZweCIpLG14VXRpbHMuc2V0UHJlZml4ZWRTdHlsZShnLnN0eWxlLCJ0cmFuc2Zvcm0iLCJ0cmFuc2xhdGUoLTUwJSwtNTAlKSIpLCJkYXJrIiE9dWlUaGVtZSYmbXhVdGlscy5zZXRQcmVmaXhlZFN0eWxlKGcuc3R5bGUsImJveFNoYWRvdyIsIjJweCAycHggM3B4IDBweCAjZGRkIiksIi4uLiIhPWYuc3Vic3RyaW5nKGYubGVuZ3RoLTMsZi5sZW5ndGgpJiYiISIhPWYuY2hhckF0KGYubGVuZ3RoLTEpJiYoZis9Ii4uLiIpLGcuaW5uZXJIVE1MPWYsYy5hcHBlbmRDaGlsZChnKSxiLnN0YXR1cz1nLG14Q2xpZW50LklTX1ZNTCYmCihudWxsPT1kb2N1bWVudC5kb2N1bWVudE1vZGV8fDg+PWRvY3VtZW50LmRvY3VtZW50TW9kZSkmJihnLnN0eWxlLmxlZnQ9TWF0aC5yb3VuZChNYXRoLm1heCgwLGEtZy5vZmZzZXRXaWR0aC8yKSkrInB4IixnLnN0eWxlLnRvcD1NYXRoLnJvdW5kKE1hdGgubWF4KDAsZSs3MC1nLm9mZnNldEhlaWdodC8yKSkrInB4IikpLHRoaXMucGF1c2U9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbigpe307dGhpcy5hY3RpdmUmJihhPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5zcGluKGMsZil9KSk7dGhpcy5zdG9wKCk7cmV0dXJuIGF9KSxnPSEwKTtyZXR1cm4gZ307dmFyIGY9Yi5zdG9wO2Iuc3RvcD1mdW5jdGlvbigpe2YuY2FsbCh0aGlzKTt0aGlzLmFjdGl2ZT0hMTtudWxsIT1iLnN0YXR1cyYmbnVsbCE9Yi5zdGF0dXMucGFyZW50Tm9kZSYmYi5zdGF0dXMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiLnN0YXR1cyk7Yi5zdGF0dXM9bnVsbH07CmIucGF1c2U9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt9fTtyZXR1cm4gYn07RWRpdG9yVWkucHJvdG90eXBlLmlzQ29tcGF0aWJsZVN0cmluZz1mdW5jdGlvbihhKXt0cnl7dmFyIGI9bXhVdGlscy5wYXJzZVhtbChhKSxjPXRoaXMuZWRpdG9yLmV4dHJhY3RHcmFwaE1vZGVsKGIuZG9jdW1lbnRFbGVtZW50LCEwKTtyZXR1cm4gbnVsbCE9YyYmMD09Yy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGh9Y2F0Y2gocCl7fXJldHVybiExfTtFZGl0b3JVaS5wcm90b3R5cGUuaXNWaXNpb0RhdGE9ZnVuY3Rpb24oYSl7cmV0dXJuIDg8YS5sZW5ndGgmJigyMDg9PWEuY2hhckNvZGVBdCgwKSYmMjA3PT1hLmNoYXJDb2RlQXQoMSkmJjE3PT1hLmNoYXJDb2RlQXQoMikmJjIyND09YS5jaGFyQ29kZUF0KDMpJiYxNjE9PWEuY2hhckNvZGVBdCg0KSYmMTc3PT1hLmNoYXJDb2RlQXQoNSkmJjI2PT1hLmNoYXJDb2RlQXQoNikmJjIyNT09YS5jaGFyQ29kZUF0KDcpfHwKODA9PWEuY2hhckNvZGVBdCgwKSYmNzU9PWEuY2hhckNvZGVBdCgxKSYmMz09YS5jaGFyQ29kZUF0KDIpJiY0PT1hLmNoYXJDb2RlQXQoMyl8fDgwPT1hLmNoYXJDb2RlQXQoMCkmJjc1PT1hLmNoYXJDb2RlQXQoMSkmJjM9PWEuY2hhckNvZGVBdCgyKSYmNj09YS5jaGFyQ29kZUF0KDMpKX07RWRpdG9yVWkucHJvdG90eXBlLmlzUmVtb3RlVmlzaW9EYXRhPWZ1bmN0aW9uKGEpe3JldHVybiA4PGEubGVuZ3RoJiYoMjA4PT1hLmNoYXJDb2RlQXQoMCkmJjIwNz09YS5jaGFyQ29kZUF0KDEpJiYxNz09YS5jaGFyQ29kZUF0KDIpJiYyMjQ9PWEuY2hhckNvZGVBdCgzKSYmMTYxPT1hLmNoYXJDb2RlQXQoNCkmJjE3Nz09YS5jaGFyQ29kZUF0KDUpJiYyNj09YS5jaGFyQ29kZUF0KDYpJiYyMjU9PWEuY2hhckNvZGVBdCg3KXx8NjA9PWEuY2hhckNvZGVBdCgwKSYmNjM9PWEuY2hhckNvZGVBdCgxKSYmMTIwPT1hLmNoYXJDb2RlQXQoMikmJjEwOT09YS5jaGFyQ29kZUF0KDMpJiYxMDg9PWEuY2hhckNvZGVBdCgzKSl9OwpFZGl0b3JVaS5wcm90b3R5cGUuaXNQbmdEYXRhPWZ1bmN0aW9uKGEpe3JldHVybiA4PGEubGVuZ3RoJiYxMzc9PWEuY2hhckNvZGVBdCgwKSYmODA9PWEuY2hhckNvZGVBdCgxKSYmNzg9PWEuY2hhckNvZGVBdCgyKSYmNzE9PWEuY2hhckNvZGVBdCgzKSYmMTM9PWEuY2hhckNvZGVBdCg0KSYmMTA9PWEuY2hhckNvZGVBdCg1KSYmMjY9PWEuY2hhckNvZGVBdCg2KSYmMTA9PWEuY2hhckNvZGVBdCg3KX07dmFyIGE9RWRpdG9yVWkucHJvdG90eXBlLmV4dHJhY3RHcmFwaE1vZGVsRnJvbUh0bWw7RWRpdG9yVWkucHJvdG90eXBlLmV4dHJhY3RHcmFwaE1vZGVsRnJvbUh0bWw9ZnVuY3Rpb24oYil7dmFyIGU9YS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYobnVsbD09ZSl0cnl7dmFyIGM9Yi5pbmRleE9mKCImbHQ7bXhmaWxlICIpO2lmKDA8PWMpe3ZhciBkPWIubGFzdEluZGV4T2YoIiZsdDsvbXhmaWxlJmd0OyIpO2Q+YyYmKGU9Yi5zdWJzdHJpbmcoYyxkKzE1KS5yZXBsYWNlKC8mZ3Q7L2csCiI+IikucmVwbGFjZSgvJmx0Oy9nLCI8IikucmVwbGFjZSgvXFwmcXVvdDsvZywnIicpLnJlcGxhY2UoL1xuL2csIiIpKX1lbHNlIHZhciBmPW14VXRpbHMucGFyc2VYbWwoYiksbj10aGlzLmVkaXRvci5leHRyYWN0R3JhcGhNb2RlbChmLmRvY3VtZW50RWxlbWVudCxudWxsIT10aGlzLnBhZ2VzfHwiaGlkZGVuIj09dGhpcy5kaWFncmFtQ29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkpLGU9bnVsbCE9bj9teFV0aWxzLmdldFhtbChuKToiIn1jYXRjaCh2KXt9cmV0dXJuIGV9O0VkaXRvclVpLnByb3RvdHlwZS52YWxpZGF0ZUZpbGVEYXRhPWZ1bmN0aW9uKGEpe2lmKG51bGwhPWEmJjA8YS5sZW5ndGgpe3ZhciBiPWEuaW5kZXhPZignPG1ldGEgY2hhcnNldD0idXRmLTgiPicpOzA8PWImJihhPWEuc2xpY2UoMCxiKSsnPG1ldGEgY2hhcnNldD0idXRmLTgiLz4nK2Euc2xpY2UoYisyMy0xLGEubGVuZ3RoKSk7YT1HcmFwaC56YXBHcmVtbGlucyhhKX1yZXR1cm4gYX07RWRpdG9yVWkucHJvdG90eXBlLnJlcGxhY2VGaWxlRGF0YT0KZnVuY3Rpb24oYSl7YT10aGlzLnZhbGlkYXRlRmlsZURhdGEoYSk7YT1udWxsIT1hJiYwPGEubGVuZ3RoP214VXRpbHMucGFyc2VYbWwoYSkuZG9jdW1lbnRFbGVtZW50Om51bGw7dmFyIGI9bnVsbCE9YT90aGlzLmVkaXRvci5leHRyYWN0R3JhcGhNb2RlbChhLCEwKTpudWxsO251bGwhPWImJihhPWIpO2lmKG51bGwhPWEpe2I9dGhpcy5lZGl0b3IuZ3JhcGg7Yi5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXt2YXIgYz1udWxsIT10aGlzLnBhZ2VzP3RoaXMucGFnZXMuc2xpY2UoKTpudWxsLGQ9YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZGlhZ3JhbSIpO2lmKCIwIiE9dXJsUGFyYW1zLnBhZ2VzfHwxPGQubGVuZ3RofHwxPT1kLmxlbmd0aCYmZFswXS5oYXNBdHRyaWJ1dGUoIm5hbWUiKSl7dGhpcy5maWxlTm9kZT1hO3RoaXMucGFnZXM9bnVsbCE9dGhpcy5wYWdlcz90aGlzLnBhZ2VzOltdO2Zvcih2YXIgZj1kLmxlbmd0aC0xOzA8PWY7Zi0tKXt2YXIgbj10aGlzLnVwZGF0ZVBhZ2VSb290KG5ldyBEaWFncmFtUGFnZShkW2ZdKSk7Cm51bGw9PW4uZ2V0TmFtZSgpJiZuLnNldE5hbWUobXhSZXNvdXJjZXMuZ2V0KCJwYWdlV2l0aE51bWJlciIsW2YrMV0pKTtiLm1vZGVsLmV4ZWN1dGUobmV3IENoYW5nZVBhZ2UodGhpcyxuLDA9PWY/bjpudWxsLDApKX19ZWxzZSIwIiE9dXJsUGFyYW1zLnBhZ2VzJiZudWxsPT10aGlzLmZpbGVOb2RlJiYodGhpcy5maWxlTm9kZT1hLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibXhmaWxlIiksdGhpcy5jdXJyZW50UGFnZT1uZXcgRGlhZ3JhbVBhZ2UoYS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpYWdyYW0iKSksdGhpcy5jdXJyZW50UGFnZS5zZXROYW1lKG14UmVzb3VyY2VzLmdldCgicGFnZVdpdGhOdW1iZXIiLFsxXSkpLGIubW9kZWwuZXhlY3V0ZShuZXcgQ2hhbmdlUGFnZSh0aGlzLHRoaXMuY3VycmVudFBhZ2UsdGhpcy5jdXJyZW50UGFnZSwwKSkpLHRoaXMuZWRpdG9yLnNldEdyYXBoWG1sKGEpLG51bGwhPXRoaXMuY3VycmVudFBhZ2UmJih0aGlzLmN1cnJlbnRQYWdlLnJvb3Q9CnRoaXMuZWRpdG9yLmdyYXBoLm1vZGVsLnJvb3QpO2lmKG51bGwhPWMpZm9yKGY9MDtmPGMubGVuZ3RoO2YrKyliLm1vZGVsLmV4ZWN1dGUobmV3IENoYW5nZVBhZ2UodGhpcyxjW2ZdLG51bGwpKX1maW5hbGx5e2IubW9kZWwuZW5kVXBkYXRlKCl9fX07RWRpdG9yVWkucHJvdG90eXBlLmNyZWF0ZUZpbGVEYXRhPWZ1bmN0aW9uKGEsZSxjLGQsZixuLGssdCxtLEEscSl7ZT1udWxsIT1lP2U6dGhpcy5lZGl0b3IuZ3JhcGg7Zj1udWxsIT1mP2Y6ITE7bT1udWxsIT1tP206ITA7dmFyIGIsZz1udWxsO251bGw9PWN8fGMuZ2V0TW9kZSgpPT1BcHAuTU9ERV9ERVZJQ0V8fGMuZ2V0TW9kZSgpPT1BcHAuTU9ERV9CUk9XU0VSP2I9Il9ibGFuayI6Zz1iPWQ7aWYobnVsbD09YSlyZXR1cm4iIjt2YXIgbD1hO2lmKCJteGZpbGUiIT1sLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe2lmKHEpe3ZhciBwPWEub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaWFncmFtIik7cC5zZXRBdHRyaWJ1dGUoImlkIiwKRWRpdG9yLmd1aWQoKSk7cC5hcHBlbmRDaGlsZChhKX1lbHNle3A9R3JhcGguemFwR3JlbWxpbnMobXhVdGlscy5nZXRYbWwoYSkpO2w9R3JhcGguY29tcHJlc3MocCk7aWYoR3JhcGguZGVjb21wcmVzcyhsKSE9cClyZXR1cm4gcDtwPWEub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaWFncmFtIik7cC5zZXRBdHRyaWJ1dGUoImlkIixFZGl0b3IuZ3VpZCgpKTtteFV0aWxzLnNldFRleHRDb250ZW50KHAsbCl9bD1hLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibXhmaWxlIik7bC5hcHBlbmRDaGlsZChwKX1BPyhsPWwuY2xvbmVOb2RlKCEwKSxsLnJlbW92ZUF0dHJpYnV0ZSgibW9kaWZpZWQiKSxsLnJlbW92ZUF0dHJpYnV0ZSgiaG9zdCIpLGwucmVtb3ZlQXR0cmlidXRlKCJhZ2VudCIpLGwucmVtb3ZlQXR0cmlidXRlKCJldGFnIiksbC5yZW1vdmVBdHRyaWJ1dGUoInVzZXJBZ2VudCIpLGwucmVtb3ZlQXR0cmlidXRlKCJ2ZXJzaW9uIiksbC5yZW1vdmVBdHRyaWJ1dGUoImVkaXRvciIpLApsLnJlbW92ZUF0dHJpYnV0ZSgidHlwZSIpKToobC5yZW1vdmVBdHRyaWJ1dGUoInVzZXJBZ2VudCIpLGwucmVtb3ZlQXR0cmlidXRlKCJ2ZXJzaW9uIiksbC5yZW1vdmVBdHRyaWJ1dGUoImVkaXRvciIpLGwucmVtb3ZlQXR0cmlidXRlKCJwYWdlcyIpLGwucmVtb3ZlQXR0cmlidXRlKCJ0eXBlIiksbXhDbGllbnQuSVNfQ0hST01FQVBQP2wuc2V0QXR0cmlidXRlKCJob3N0IiwiQ2hyb21lIik6RWRpdG9yVWkuaXNFbGVjdHJvbkFwcD9sLnNldEF0dHJpYnV0ZSgiaG9zdCIsIkVsZWN0cm9uIik6bC5zZXRBdHRyaWJ1dGUoImhvc3QiLHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSksbC5zZXRBdHRyaWJ1dGUoIm1vZGlmaWVkIiwobmV3IERhdGUpLnRvSVNPU3RyaW5nKCkpLGwuc2V0QXR0cmlidXRlKCJhZ2VudCIsbmF2aWdhdG9yLmFwcFZlcnNpb24pLGwuc2V0QXR0cmlidXRlKCJ2ZXJzaW9uIixFZGl0b3JVaS5WRVJTSU9OKSxsLnNldEF0dHJpYnV0ZSgiZXRhZyIsRWRpdG9yLmd1aWQoKSksCmE9bnVsbCE9Yz9jLmdldE1vZGUoKTp0aGlzLm1vZGUsbnVsbCE9YSYmbC5zZXRBdHRyaWJ1dGUoInR5cGUiLGEpLDE8bC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZGlhZ3JhbSIpLmxlbmd0aCYmbnVsbCE9dGhpcy5wYWdlcyYmbC5zZXRBdHRyaWJ1dGUoInBhZ2VzIix0aGlzLnBhZ2VzLmxlbmd0aCkpO3E9cT9teFV0aWxzLmdldFByZXR0eVhtbChsKTpteFV0aWxzLmdldFhtbChsKTtpZighbiYmIWYmJihrfHxudWxsIT1jJiYvKFwuaHRtbCkkL2kudGVzdChjLmdldFRpdGxlKCkpKSlxPXRoaXMuZ2V0SHRtbDIobXhVdGlscy5nZXRYbWwobCksZSxudWxsIT1jP2MuZ2V0VGl0bGUoKTpudWxsLGIsZyk7ZWxzZSBpZihufHwhZiYmbnVsbCE9YyYmLyhcLnN2ZykkL2kudGVzdChjLmdldFRpdGxlKCkpKW51bGw9PWN8fGMuZ2V0TW9kZSgpIT1BcHAuTU9ERV9ERVZJQ0UmJmMuZ2V0TW9kZSgpIT1BcHAuTU9ERV9CUk9XU0VSfHwoZD1udWxsKSxxPXRoaXMuZ2V0RW1iZWRkZWRTdmcocSxlLApkLG51bGwsdCxtLGcpO3JldHVybiBxfTtFZGl0b3JVaS5wcm90b3R5cGUuZ2V0WG1sRmlsZURhdGE9ZnVuY3Rpb24oYSxlLGMpe2E9bnVsbCE9YT9hOiEwO2U9bnVsbCE9ZT9lOiExO2M9bnVsbCE9Yz9jOiFFZGl0b3IuY29tcHJlc3NYbWw7dmFyIGI9dGhpcy5lZGl0b3IuZ2V0R3JhcGhYbWwoYSk7aWYoYSYmbnVsbCE9dGhpcy5maWxlTm9kZSYmbnVsbCE9dGhpcy5jdXJyZW50UGFnZSlpZihhPWZ1bmN0aW9uKGEpe3ZhciBlPWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIm14R3JhcGhNb2RlbCIpLGU9MDxlLmxlbmd0aD9lWzBdOm51bGw7bnVsbD09ZSYmYz8oZT1teFV0aWxzLnRyaW0obXhVdGlscy5nZXRUZXh0Q29udGVudChhKSksYT1hLmNsb25lTm9kZSghMSksMDxlLmxlbmd0aCYmKGU9R3JhcGguZGVjb21wcmVzcyhlKSxudWxsIT1lJiYwPGUubGVuZ3RoJiZhLmFwcGVuZENoaWxkKG14VXRpbHMucGFyc2VYbWwoZSkuZG9jdW1lbnRFbGVtZW50KSkpOm51bGw9PWV8fGM/YT1hLmNsb25lTm9kZSghMCk6CihhPWEuY2xvbmVOb2RlKCExKSxteFV0aWxzLnNldFRleHRDb250ZW50KGEsR3JhcGguY29tcHJlc3NOb2RlKGUpKSk7Yi5hcHBlbmRDaGlsZChhKX0sRWRpdG9yVWkucmVtb3ZlQ2hpbGROb2Rlcyh0aGlzLmN1cnJlbnRQYWdlLm5vZGUpLG14VXRpbHMuc2V0VGV4dENvbnRlbnQodGhpcy5jdXJyZW50UGFnZS5ub2RlLEdyYXBoLmNvbXByZXNzTm9kZShiKSksYj10aGlzLmZpbGVOb2RlLmNsb25lTm9kZSghMSksZSlhKHRoaXMuY3VycmVudFBhZ2Uubm9kZSk7ZWxzZSBmb3IoZT0wO2U8dGhpcy5wYWdlcy5sZW5ndGg7ZSsrKXtpZih0aGlzLmN1cnJlbnRQYWdlIT10aGlzLnBhZ2VzW2VdJiZ0aGlzLnBhZ2VzW2VdLm5lZWRzVXBkYXRlKXt2YXIgZD0obmV3IG14Q29kZWMobXhVdGlscy5jcmVhdGVYbWxEb2N1bWVudCgpKSkuZW5jb2RlKG5ldyBteEdyYXBoTW9kZWwodGhpcy5wYWdlc1tlXS5yb290KSk7dGhpcy5lZGl0b3IuZ3JhcGguc2F2ZVZpZXdTdGF0ZSh0aGlzLnBhZ2VzW2VdLnZpZXdTdGF0ZSwKZCk7RWRpdG9yVWkucmVtb3ZlQ2hpbGROb2Rlcyh0aGlzLnBhZ2VzW2VdLm5vZGUpO214VXRpbHMuc2V0VGV4dENvbnRlbnQodGhpcy5wYWdlc1tlXS5ub2RlLEdyYXBoLmNvbXByZXNzTm9kZShkKSk7ZGVsZXRlIHRoaXMucGFnZXNbZV0ubmVlZHNVcGRhdGV9YSh0aGlzLnBhZ2VzW2VdLm5vZGUpfXJldHVybiBifTtFZGl0b3JVaS5wcm90b3R5cGUuYW5vbnltaXplU3RyaW5nPWZ1bmN0aW9uKGEsZSl7Zm9yKHZhciBiPVtdLGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGQ9YS5jaGFyQXQoYyk7MDw9RWRpdG9yVWkuaWdub3JlZEFub255bWl6ZWRDaGFycy5pbmRleE9mKGQpP2IucHVzaChkKTppc05hTihwYXJzZUludChkKSk/ZC50b0xvd2VyQ2FzZSgpIT1kP2IucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKDY1K01hdGgucm91bmQoMjUqTWF0aC5yYW5kb20oKSkpKTpkLnRvVXBwZXJDYXNlKCkhPWQ/Yi5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoOTcrTWF0aC5yb3VuZCgyNSpNYXRoLnJhbmRvbSgpKSkpOgovXHMvLnRlc3QoZCk/Yi5wdXNoKCIgIik6Yi5wdXNoKCI/Iik6Yi5wdXNoKGU/IjAiOk1hdGgucm91bmQoOSpNYXRoLnJhbmRvbSgpKSl9cmV0dXJuIGIuam9pbigiIil9O0VkaXRvclVpLnByb3RvdHlwZS5hbm9ueW1pemVQYXRjaD1mdW5jdGlvbihhKXtpZihudWxsIT1hW0VkaXRvclVpLkRJRkZfSU5TRVJUXSlmb3IodmFyIGI9MDtiPGFbRWRpdG9yVWkuRElGRl9JTlNFUlRdLmxlbmd0aDtiKyspdHJ5e3ZhciBjPW14VXRpbHMucGFyc2VYbWwoYVtFZGl0b3JVaS5ESUZGX0lOU0VSVF1bYl0uZGF0YSkuZG9jdW1lbnRFbGVtZW50LmNsb25lTm9kZSghMSk7bnVsbCE9Yy5nZXRBdHRyaWJ1dGUoIm5hbWUiKSYmYy5zZXRBdHRyaWJ1dGUoIm5hbWUiLHRoaXMuYW5vbnltaXplU3RyaW5nKGMuZ2V0QXR0cmlidXRlKCJuYW1lIikpKTthW0VkaXRvclVpLkRJRkZfSU5TRVJUXVtiXS5kYXRhPW14VXRpbHMuZ2V0WG1sKGMpfWNhdGNoKG4pe2FbRWRpdG9yVWkuRElGRl9JTlNFUlRdW2JdLmRhdGE9Cm4ubWVzc2FnZX1pZihudWxsIT1hW0VkaXRvclVpLkRJRkZfVVBEQVRFXSl7Zm9yKHZhciBkIGluIGFbRWRpdG9yVWkuRElGRl9VUERBVEVdKXt2YXIgZj1hW0VkaXRvclVpLkRJRkZfVVBEQVRFXVtkXTtudWxsIT1mLm5hbWUmJihmLm5hbWU9dGhpcy5hbm9ueW1pemVTdHJpbmcoZi5uYW1lKSk7bnVsbCE9Zi5jZWxscyYmKGI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dmFyIGI9Zi5jZWxsc1thXTtpZihudWxsIT1iKXtmb3IodmFyIGUgaW4gYiludWxsIT1iW2VdLnZhbHVlJiYoYltlXS52YWx1ZT0iWyIrYltlXS52YWx1ZS5sZW5ndGgrIl0iKSxudWxsIT1iW2VdLnhtbFZhbHVlJiYoYltlXS54bWxWYWx1ZT0iWyIrYltlXS54bWxWYWx1ZS5sZW5ndGgrIl0iKSxudWxsIT1iW2VdLnN0eWxlJiYoYltlXS5zdHlsZT0iWyIrYltlXS5zdHlsZS5sZW5ndGgrIl0iKSwwPT1PYmplY3Qua2V5cyhiW2VdKS5sZW5ndGgmJmRlbGV0ZSBiW2VdOzA9PU9iamVjdC5rZXlzKGIpLmxlbmd0aCYmCmRlbGV0ZSBmLmNlbGxzW2FdfX0pLGIoRWRpdG9yVWkuRElGRl9JTlNFUlQpLGIoRWRpdG9yVWkuRElGRl9VUERBVEUpLDA9PU9iamVjdC5rZXlzKGYuY2VsbHMpLmxlbmd0aCYmZGVsZXRlIGYuY2VsbHMpOzA9PU9iamVjdC5rZXlzKGYpLmxlbmd0aCYmZGVsZXRlIGFbRWRpdG9yVWkuRElGRl9VUERBVEVdW2RdfTA9PU9iamVjdC5rZXlzKGFbRWRpdG9yVWkuRElGRl9VUERBVEVdKS5sZW5ndGgmJmRlbGV0ZSBhW0VkaXRvclVpLkRJRkZfVVBEQVRFXX1yZXR1cm4gYX07RWRpdG9yVWkucHJvdG90eXBlLmFub255bWl6ZUF0dHJpYnV0ZXM9ZnVuY3Rpb24oYSxlKXtpZihudWxsIT1hLmF0dHJpYnV0ZXMpZm9yKHZhciBiPTA7YjxhLmF0dHJpYnV0ZXMubGVuZ3RoO2IrKykiYXMiIT1hLmF0dHJpYnV0ZXNbYl0ubmFtZSYmYS5zZXRBdHRyaWJ1dGUoYS5hdHRyaWJ1dGVzW2JdLm5hbWUsdGhpcy5hbm9ueW1pemVTdHJpbmcoYS5hdHRyaWJ1dGVzW2JdLnZhbHVlLGUpKTtpZihudWxsIT1hLmNoaWxkTm9kZXMpZm9yKGI9CjA7YjxhLmNoaWxkTm9kZXMubGVuZ3RoO2IrKyl0aGlzLmFub255bWl6ZUF0dHJpYnV0ZXMoYS5jaGlsZE5vZGVzW2JdLGUpfTtFZGl0b3JVaS5wcm90b3R5cGUuYW5vbnltaXplTm9kZT1mdW5jdGlvbihhLGUpe2Zvcih2YXIgYj1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJteENlbGwiKSxjPTA7YzxiLmxlbmd0aDtjKyspbnVsbCE9YltjXS5nZXRBdHRyaWJ1dGUoInZhbHVlIikmJmJbY10uc2V0QXR0cmlidXRlKCJ2YWx1ZSIsIlsiK2JbY10uZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpLmxlbmd0aCsiXSIpLG51bGwhPWJbY10uZ2V0QXR0cmlidXRlKCJ4bWxWYWx1ZSIpJiZiW2NdLnNldEF0dHJpYnV0ZSgieG1sVmFsdWUiLCJbIitiW2NdLmdldEF0dHJpYnV0ZSgieG1sVmFsdWUiKS5sZW5ndGgrIl0iKSxudWxsIT1iW2NdLmdldEF0dHJpYnV0ZSgic3R5bGUiKSYmYltjXS5zZXRBdHRyaWJ1dGUoInN0eWxlIiwiWyIrYltjXS5nZXRBdHRyaWJ1dGUoInN0eWxlIikubGVuZ3RoKyJdIiksbnVsbCE9CmJbY10ucGFyZW50Tm9kZSYmInJvb3QiIT1iW2NdLnBhcmVudE5vZGUubm9kZU5hbWUmJm51bGwhPWJbY10ucGFyZW50Tm9kZS5wYXJlbnROb2RlJiYoYltjXS5zZXRBdHRyaWJ1dGUoImlkIixiW2NdLnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCJpZCIpKSxiW2NdLnBhcmVudE5vZGUucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoYltjXSxiW2NdLnBhcmVudE5vZGUpKTtyZXR1cm4gYX07RWRpdG9yVWkucHJvdG90eXBlLnN5bmNocm9uaXplQ3VycmVudEZpbGU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRDdXJyZW50RmlsZSgpO251bGwhPWImJihiLnNhdmluZ0ZpbGU/dGhpcy5oYW5kbGVFcnJvcih7bWVzc2FnZTpteFJlc291cmNlcy5nZXQoImJ1c3kiKX0pOiFhJiZiLmludmFsaWRDaGVja3N1bT9iLmhhbmRsZUZpbGVFcnJvcihudWxsLCEwKTp0aGlzLnNwaW5uZXIuc3Bpbihkb2N1bWVudC5ib2R5LG14UmVzb3VyY2VzLmdldCgidXBkYXRpbmdEb2N1bWVudCIpKSYmKGIuY2xlYXJBdXRvc2F2ZSgpLAp0aGlzLmVkaXRvci5zZXRTdGF0dXMoIiIpLGE/Yi5yZWxvYWRGaWxlKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7Yi5oYW5kbGVGaWxlU3VjY2VzcygibWFudWFsIj09RHJhd2lvRmlsZS5TWU5DKX0pLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe2IuaGFuZGxlRmlsZUVycm9yKGEsITApfSkpOmIuc3luY2hyb25pemVGaWxlKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7Yi5oYW5kbGVGaWxlU3VjY2VzcygibWFudWFsIj09RHJhd2lvRmlsZS5TWU5DKX0pLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe2IuaGFuZGxlRmlsZUVycm9yKGEsITApfSkpKSl9O0VkaXRvclVpLnByb3RvdHlwZS5nZXRGaWxlRGF0YT1mdW5jdGlvbihhLGUsYyxkLGYsbixrLHQsbSxBKXtmPW51bGwhPWY/ZjohMDtuPW51bGwhPW4/bjohMTt2YXIgYj10aGlzLmVkaXRvci5ncmFwaDtpZihlfHwhYSYmbnVsbCE9bSYmLyhcLnN2ZykkL2kudGVzdChtLmdldFRpdGxlKCkpKWlmKEE9CiExLG51bGwhPXRoaXMucGFnZXMmJnRoaXMuY3VycmVudFBhZ2UhPXRoaXMucGFnZXNbMF0pe3ZhciBnPWIuZ2V0R2xvYmFsVmFyaWFibGUsYj10aGlzLmNyZWF0ZVRlbXBvcmFyeUdyYXBoKGIuZ2V0U3R5bGVzaGVldCgpKSxsPXRoaXMucGFnZXNbMF07Yi5nZXRHbG9iYWxWYXJpYWJsZT1mdW5jdGlvbihhKXtyZXR1cm4icGFnZSI9PWE/bC5nZXROYW1lKCk6InBhZ2VudW1iZXIiPT1hPzE6Zy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYi5jb250YWluZXIpO2IubW9kZWwuc2V0Um9vdChsLnJvb3QpfWs9bnVsbCE9az9rOnRoaXMuZ2V0WG1sRmlsZURhdGEoZixuLEEpO209bnVsbCE9bT9tOnRoaXMuZ2V0Q3VycmVudEZpbGUoKTthPXRoaXMuY3JlYXRlRmlsZURhdGEoayxiLG0sd2luZG93LmxvY2F0aW9uLmhyZWYsYSxlLGMsZCxmLHQsQSk7YiE9dGhpcy5lZGl0b3IuZ3JhcGgmJmIuY29udGFpbmVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYi5jb250YWluZXIpOwpyZXR1cm4gYX07RWRpdG9yVWkucHJvdG90eXBlLmdldEh0bWw9ZnVuY3Rpb24oYSxlLGMsZCxmLG4pe249bnVsbCE9bj9uOiEwO3ZhciBiPW51bGwsZz1FZGl0b3JVaS5kcmF3SG9zdCsiL2pzL2VtYmVkLXN0YXRpYy5taW4uanMiO2lmKG51bGwhPWUpe3ZhciBiPW4/ZS5nZXRHcmFwaEJvdW5kcygpOmUuZ2V0Qm91bmRpbmdCb3goZS5nZXRTZWxlY3Rpb25DZWxscygpKSxsPWUudmlldy5zY2FsZTtuPU1hdGguZmxvb3IoYi54L2wtZS52aWV3LnRyYW5zbGF0ZS54KTtsPU1hdGguZmxvb3IoYi55L2wtZS52aWV3LnRyYW5zbGF0ZS55KTtiPWUuYmFja2dyb3VuZDtudWxsPT1mJiYoZT10aGlzLmdldEJhc2VuYW1lcygpLmpvaW4oIjsiKSwwPGUubGVuZ3RoJiYoZz1FZGl0b3JVaS5kcmF3SG9zdCsiL2VtYmVkLmpzP3M9IitlKSk7YS5zZXRBdHRyaWJ1dGUoIngwIixuKTthLnNldEF0dHJpYnV0ZSgieTAiLGwpfW51bGwhPWEmJihhLnNldEF0dHJpYnV0ZSgicGFuIiwiMSIpLGEuc2V0QXR0cmlidXRlKCJ6b29tIiwKIjEiKSxhLnNldEF0dHJpYnV0ZSgicmVzaXplIiwiMCIpLGEuc2V0QXR0cmlidXRlKCJmaXQiLCIwIiksYS5zZXRBdHRyaWJ1dGUoImJvcmRlciIsIjIwIiksYS5zZXRBdHRyaWJ1dGUoImxpbmtzIiwiMSIpLG51bGwhPWQmJmEuc2V0QXR0cmlidXRlKCJlZGl0IixkKSk7bnVsbCE9ZiYmKGY9Zi5yZXBsYWNlKC8mL2csIiZhbXA7IikpO2E9bnVsbCE9YT9HcmFwaC56YXBHcmVtbGlucyhteFV0aWxzLmdldFhtbChhKSk6IiI7ZD1HcmFwaC5jb21wcmVzcyhhKTtHcmFwaC5kZWNvbXByZXNzKGQpIT1hJiYoZD1lbmNvZGVVUklDb21wb25lbnQoYSkpO3JldHVybihudWxsPT1mPydceDNjIS0tW2lmIElFXT48bWV0YSBodHRwLWVxdWl2PSJYLVVBLUNvbXBhdGlibGUiIGNvbnRlbnQ9IklFPTUsSUU9OSIgPjwhW2VuZGlmXS0tXHgzZVxuJzoiIikrIjwhRE9DVFlQRSBodG1sPlxuPGh0bWwiKyhudWxsIT1mPycgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiPic6Ij4iKSsiXG48aGVhZD5cbiIrCihudWxsPT1mP251bGwhPWM/Ijx0aXRsZT4iK214VXRpbHMuaHRtbEVudGl0aWVzKGMpKyI8L3RpdGxlPlxuIjoiIjoiPHRpdGxlPmRpYWdyYW1zLm5ldDwvdGl0bGU+XG4iKSsobnVsbCE9Zj8nPG1ldGEgaHR0cC1lcXVpdj0icmVmcmVzaCIgY29udGVudD0iMDtVUkw9XCcnK2YrIidcIi8+XG4iOiIiKSsiPC9oZWFkPlxuPGJvZHkiKyhudWxsPT1mJiZudWxsIT1iJiZiIT1teENvbnN0YW50cy5OT05FPycgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6JytiKyc7Ij4nOiI+IikrJ1xuPGRpdiBjbGFzcz0ibXhncmFwaCIgc3R5bGU9InBvc2l0aW9uOnJlbGF0aXZlO292ZXJmbG93OmF1dG87d2lkdGg6MTAwJTsiPlxuPGRpdiBzdHlsZT0id2lkdGg6MXB4O2hlaWdodDoxcHg7b3ZlcmZsb3c6aGlkZGVuOyI+JytkKyI8L2Rpdj5cbjwvZGl2PlxuIisobnVsbD09Zj8nPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iJytnKyciPlx4M2Mvc2NyaXB0Pic6JzxhIHN0eWxlPSJwb3NpdGlvbjphYnNvbHV0ZTt0b3A6NTAlO2xlZnQ6NTAlO21hcmdpbi10b3A6LTEyOHB4O21hcmdpbi1sZWZ0Oi02NHB4OyIgaHJlZj0iJysKZisnIiB0YXJnZXQ9Il9ibGFuayI+PGltZyBib3JkZXI9IjAiIHNyYz0iJytFZGl0b3JVaS5kcmF3SG9zdCsnL2ltYWdlcy9kcmF3bG9nbzEyOC5wbmciLz48L2E+JykrIlxuPC9ib2R5PlxuPC9odG1sPlxuIn07RWRpdG9yVWkucHJvdG90eXBlLmdldEh0bWwyPWZ1bmN0aW9uKGEsZSxjLGQsZil7ZT13aW5kb3cuRFJBV0lPX1ZJRVdFUl9VUkx8fEVkaXRvclVpLmRyYXdIb3N0KyIvanMvdmlld2VyLm1pbi5qcyI7bnVsbCE9ZiYmKGY9Zi5yZXBsYWNlKC8mL2csIiZhbXA7IikpO2E9e2hpZ2hsaWdodDoiIzAwMDBmZiIsbmF2OnRoaXMuZWRpdG9yLmdyYXBoLmZvbGRpbmdFbmFibGVkLHJlc2l6ZTohMCx4bWw6R3JhcGguemFwR3JlbWxpbnMoYSksdG9vbGJhcjoicGFnZXMgem9vbSBsYXllcnMgbGlnaHRib3gifTtudWxsIT10aGlzLnBhZ2VzJiZudWxsIT10aGlzLmN1cnJlbnRQYWdlJiYoYS5wYWdlPW14VXRpbHMuaW5kZXhPZih0aGlzLnBhZ2VzLHRoaXMuY3VycmVudFBhZ2UpKTtyZXR1cm4obnVsbD09CmY/J1x4M2MhLS1baWYgSUVdPjxtZXRhIGh0dHAtZXF1aXY9IlgtVUEtQ29tcGF0aWJsZSIgY29udGVudD0iSUU9NSxJRT05IiA+PCFbZW5kaWZdLS1ceDNlXG4nOiIiKSsiPCFET0NUWVBFIGh0bWw+XG48aHRtbCIrKG51bGwhPWY/JyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCI+JzoiPiIpKyJcbjxoZWFkPlxuIisobnVsbD09Zj9udWxsIT1jPyI8dGl0bGU+IitteFV0aWxzLmh0bWxFbnRpdGllcyhjKSsiPC90aXRsZT5cbiI6IiI6Ijx0aXRsZT5kaWFncmFtcy5uZXQ8L3RpdGxlPlxuIikrKG51bGwhPWY/JzxtZXRhIGh0dHAtZXF1aXY9InJlZnJlc2giIGNvbnRlbnQ9IjA7VVJMPVwnJytmKyInXCIvPlxuIjoiIikrJzxtZXRhIGNoYXJzZXQ9InV0Zi04Ii8+XG48L2hlYWQ+XG48Ym9keT5cbjxkaXYgY2xhc3M9Im14Z3JhcGgiIHN0eWxlPSJtYXgtd2lkdGg6MTAwJTtib3JkZXI6MXB4IHNvbGlkIHRyYW5zcGFyZW50OyIgZGF0YS1teGdyYXBoPSInK214VXRpbHMuaHRtbEVudGl0aWVzKEpTT04uc3RyaW5naWZ5KGEpKSsKJyI+PC9kaXY+XG4nKyhudWxsPT1mPyc8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSInK2UrJyI+XHgzYy9zY3JpcHQ+JzonPGEgc3R5bGU9InBvc2l0aW9uOmFic29sdXRlO3RvcDo1MCU7bGVmdDo1MCU7bWFyZ2luLXRvcDotMTI4cHg7bWFyZ2luLWxlZnQ6LTY0cHg7IiBocmVmPSInK2YrJyIgdGFyZ2V0PSJfYmxhbmsiPjxpbWcgYm9yZGVyPSIwIiBzcmM9IicrRWRpdG9yVWkuZHJhd0hvc3QrJy9pbWFnZXMvZHJhd2xvZ28xMjgucG5nIi8+PC9hPicpKyJcbjwvYm9keT5cbjwvaHRtbD5cbiJ9O0VkaXRvclVpLnByb3RvdHlwZS5zZXRGaWxlRGF0YT1mdW5jdGlvbihhKXthPXRoaXMudmFsaWRhdGVGaWxlRGF0YShhKTt0aGlzLnBhZ2VzPXRoaXMuZmlsZU5vZGU9dGhpcy5jdXJyZW50UGFnZT1udWxsO2E9bnVsbCE9YSYmMDxhLmxlbmd0aD9teFV0aWxzLnBhcnNlWG1sKGEpLmRvY3VtZW50RWxlbWVudDpudWxsO3ZhciBiPUVkaXRvci5leHRyYWN0UGFyc2VyRXJyb3IoYSwKbXhSZXNvdXJjZXMuZ2V0KCJpbnZhbGlkT3JNaXNzaW5nRmlsZSIpKTtpZihiKXRocm93IEVycm9yKG14UmVzb3VyY2VzLmdldCgibm90QURpYWdyYW1GaWxlIikrIiAoIitiKyIpIik7Yj1udWxsIT1hP3RoaXMuZWRpdG9yLmV4dHJhY3RHcmFwaE1vZGVsKGEsITApOm51bGw7bnVsbCE9YiYmKGE9Yik7aWYobnVsbCE9YSYmIm14ZmlsZSI9PWEubm9kZU5hbWUmJihiPWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpYWdyYW0iKSwiMCIhPXVybFBhcmFtcy5wYWdlc3x8MTxiLmxlbmd0aHx8MT09Yi5sZW5ndGgmJmJbMF0uaGFzQXR0cmlidXRlKCJuYW1lIikpKXt2YXIgYz1udWxsO3RoaXMuZmlsZU5vZGU9YTt0aGlzLnBhZ2VzPVtdO2Zvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7ZCsrKW51bGw9PWJbZF0uZ2V0QXR0cmlidXRlKCJpZCIpJiZiW2RdLnNldEF0dHJpYnV0ZSgiaWQiLGQpLGE9bmV3IERpYWdyYW1QYWdlKGJbZF0pLG51bGw9PWEuZ2V0TmFtZSgpJiZhLnNldE5hbWUobXhSZXNvdXJjZXMuZ2V0KCJwYWdlV2l0aE51bWJlciIsCltkKzFdKSksdGhpcy5wYWdlcy5wdXNoKGEpLG51bGwhPXVybFBhcmFtc1sicGFnZS1pZCJdJiZhLmdldElkKCk9PXVybFBhcmFtc1sicGFnZS1pZCJdJiYoYz1hKTt0aGlzLmN1cnJlbnRQYWdlPW51bGwhPWM/Yzp0aGlzLnBhZ2VzW01hdGgubWF4KDAsTWF0aC5taW4odGhpcy5wYWdlcy5sZW5ndGgtMSx1cmxQYXJhbXMucGFnZXx8MCkpXTthPXRoaXMuY3VycmVudFBhZ2Uubm9kZX0iMCIhPXVybFBhcmFtcy5wYWdlcyYmbnVsbD09dGhpcy5maWxlTm9kZSYmbnVsbCE9YSYmKHRoaXMuZmlsZU5vZGU9YS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm14ZmlsZSIpLHRoaXMuY3VycmVudFBhZ2U9bmV3IERpYWdyYW1QYWdlKGEub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaWFncmFtIikpLHRoaXMuY3VycmVudFBhZ2Uuc2V0TmFtZShteFJlc291cmNlcy5nZXQoInBhZ2VXaXRoTnVtYmVyIixbMV0pKSx0aGlzLnBhZ2VzPVt0aGlzLmN1cnJlbnRQYWdlXSk7dGhpcy5lZGl0b3Iuc2V0R3JhcGhYbWwoYSk7Cm51bGwhPXRoaXMuY3VycmVudFBhZ2UmJih0aGlzLmN1cnJlbnRQYWdlLnJvb3Q9dGhpcy5lZGl0b3IuZ3JhcGgubW9kZWwucm9vdCk7aWYobnVsbCE9dXJsUGFyYW1zWyJsYXllci1pZHMiXSl0cnl7dmFyIGY9dXJsUGFyYW1zWyJsYXllci1pZHMiXS5zcGxpdCgiICIpO2E9e307Zm9yKGQ9MDtkPGYubGVuZ3RoO2QrKylhW2ZbZF1dPSEwO2Zvcih2YXIgbj10aGlzLmVkaXRvci5ncmFwaC5nZXRNb2RlbCgpLGs9bi5nZXRDaGlsZHJlbihuLnJvb3QpLGQ9MDtkPGsubGVuZ3RoO2QrKyl7dmFyIHQ9a1tkXTtuLnNldFZpc2libGUodCxhW3QuaWRdfHwhMSl9fWNhdGNoKHgpe319O0VkaXRvclVpLnByb3RvdHlwZS5nZXRCYXNlRmlsZW5hbWU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRDdXJyZW50RmlsZSgpLGI9bnVsbCE9YiYmbnVsbCE9Yi5nZXRUaXRsZSgpP2IuZ2V0VGl0bGUoKTp0aGlzLmRlZmF1bHRGaWxlbmFtZTtpZigvKFwueG1sKSQvaS50ZXN0KGIpfHwvKFwuaHRtbCkkL2kudGVzdChiKXx8Ci8oXC5zdmcpJC9pLnRlc3QoYil8fC8oXC5wbmcpJC9pLnRlc3QoYil8fC8oXC5kcmF3aW8pJC9pLnRlc3QoYikpYj1iLnN1YnN0cmluZygwLGIubGFzdEluZGV4T2YoIi4iKSk7IWEmJm51bGwhPXRoaXMucGFnZXMmJjE8dGhpcy5wYWdlcy5sZW5ndGgmJm51bGwhPXRoaXMuY3VycmVudFBhZ2UmJm51bGwhPXRoaXMuY3VycmVudFBhZ2Uubm9kZS5nZXRBdHRyaWJ1dGUoIm5hbWUiKSYmMDx0aGlzLmN1cnJlbnRQYWdlLmdldE5hbWUoKS5sZW5ndGgmJihiPWIrIi0iK3RoaXMuY3VycmVudFBhZ2UuZ2V0TmFtZSgpKTtyZXR1cm4gYn07RWRpdG9yVWkucHJvdG90eXBlLmRvd25sb2FkRmlsZT1mdW5jdGlvbihhLGUsYyxkLGYsbixrLHQsbSxBLHEpe3RyeXtkPW51bGwhPWQ/ZDp0aGlzLmVkaXRvci5ncmFwaC5pc1NlbGVjdGlvbkVtcHR5KCk7dmFyIGI9dGhpcy5nZXRCYXNlRmlsZW5hbWUoIWYpLGc9YisiLiIrYTtpZigieG1sIj09YSl7dmFyIGw9Jzw/eG1sIHZlcnNpb249IjEuMCIgZW5jb2Rpbmc9IlVURi04Ij8+XG4nKwp0aGlzLmdldEZpbGVEYXRhKCEwLG51bGwsbnVsbCxudWxsLGQsZixudWxsLG51bGwsbnVsbCxlKTt0aGlzLnNhdmVEYXRhKGcsYSxsLCJ0ZXh0L3htbCIpfWVsc2UgaWYoImh0bWwiPT1hKWw9dGhpcy5nZXRIdG1sMih0aGlzLmdldEZpbGVEYXRhKCEwKSx0aGlzLmVkaXRvci5ncmFwaCxiKSx0aGlzLnNhdmVEYXRhKGcsYSxsLCJ0ZXh0L2h0bWwiKTtlbHNlIGlmKCJzdmciIT1hJiYieG1sc3ZnIiE9YXx8IXRoaXMuc3Bpbm5lci5zcGluKGRvY3VtZW50LmJvZHksbXhSZXNvdXJjZXMuZ2V0KCJleHBvcnQiKSkpInhtbHBuZyI9PWE/Zz1iKyIucG5nIjoianBlZyI9PWEmJihnPWIrIi5qcGciKSx0aGlzLnNhdmVSZXF1ZXN0KGcsYSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiLGUpe3RyeXt2YXIgYz10aGlzLmVkaXRvci5ncmFwaC5wYWdlVmlzaWJsZTtudWxsIT1uJiYodGhpcy5lZGl0b3IuZ3JhcGgucGFnZVZpc2libGU9bik7dmFyIGc9dGhpcy5jcmVhdGVEb3dubG9hZFJlcXVlc3QoYiwKYSxkLGUsayxmLHQsbSxBLHEpO3RoaXMuZWRpdG9yLmdyYXBoLnBhZ2VWaXNpYmxlPWM7cmV0dXJuIGd9Y2F0Y2goTil7dGhpcy5oYW5kbGVFcnJvcihOKX19KSk7ZWxzZXt2YXIgcD1udWxsLHY9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7YS5sZW5ndGg8PU1BWF9SRVFVRVNUX1NJWkU/dGhpcy5zYXZlRGF0YShnLCJzdmciLGEsImltYWdlL3N2Zyt4bWwiKTp0aGlzLmhhbmRsZUVycm9yKHttZXNzYWdlOm14UmVzb3VyY2VzLmdldCgiZHJhd2luZ1Rvb0xhcmdlIil9LG14UmVzb3VyY2VzLmdldCgiZXJyb3IiKSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe214VXRpbHMucG9wdXAocCl9KSl9KTtpZigic3ZnIj09YSl7dmFyIHg9dGhpcy5lZGl0b3IuZ3JhcGguYmFja2dyb3VuZDtpZihrfHx4PT1teENvbnN0YW50cy5OT05FKXg9bnVsbDt2YXIgRD10aGlzLmVkaXRvci5ncmFwaC5nZXRTdmcoeCxudWxsLG51bGwsbnVsbCxudWxsLGQpO2MmJnRoaXMuZWRpdG9yLmdyYXBoLmFkZFN2Z1NoYWRvdyhEKTsKdGhpcy5lZGl0b3IuY29udmVydEltYWdlcyhELG14VXRpbHMuYmluZCh0aGlzLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuc3Bpbm5lci5zdG9wKCk7dignPD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz5cbjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+XG4nK214VXRpbHMuZ2V0WG1sKGEpKX0pKSl9ZWxzZSBnPWIrIi5zdmciLHA9dGhpcy5nZXRGaWxlRGF0YSghMSwhMCxudWxsLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuc3Bpbm5lci5zdG9wKCk7dihhKX0pLGQpfX1jYXRjaChKKXt0aGlzLmhhbmRsZUVycm9yKEopfX07RWRpdG9yVWkucHJvdG90eXBlLmNyZWF0ZURvd25sb2FkUmVxdWVzdD1mdW5jdGlvbihhLGUsYyxkLGYsbixrLHQsbSxBKXt2YXIgYj10aGlzLmVkaXRvci5ncmFwaCxnPWIuZ2V0R3JhcGhCb3VuZHMoKTsKYz10aGlzLmdldEZpbGVEYXRhKCEwLG51bGwsbnVsbCxudWxsLGMsMD09bj8hMToieG1scG5nIiE9ZSk7dmFyIGw9IiIscD0iIjtpZihnLndpZHRoKmcuaGVpZ2h0Pk1BWF9BUkVBfHxjLmxlbmd0aD5NQVhfUkVRVUVTVF9TSVpFKXRocm93e21lc3NhZ2U6bXhSZXNvdXJjZXMuZ2V0KCJkcmF3aW5nVG9vTGFyZ2UiKX07QT1BPyIxIjoiMCI7InBkZiI9PWUmJjA9PW4mJihwPSImYWxsUGFnZXM9MSIpO2lmKCJ4bWxwbmciPT1lJiYoQT0iMSIsZT0icG5nIixudWxsIT10aGlzLnBhZ2VzJiZudWxsIT10aGlzLmN1cnJlbnRQYWdlKSlmb3Iobj0wO248dGhpcy5wYWdlcy5sZW5ndGg7bisrKWlmKHRoaXMucGFnZXNbbl09PXRoaXMuY3VycmVudFBhZ2Upe2w9IiZmcm9tPSIrbjticmVha31uPWIuYmFja2dyb3VuZDsicG5nIj09ZSYmZj9uPW14Q29uc3RhbnRzLk5PTkU6Znx8bnVsbCE9biYmbiE9bXhDb25zdGFudHMuTk9ORXx8KG49IiNmZmZmZmYiKTtmPXtnbG9iYWxWYXJzOmIuZ2V0RXhwb3J0VmFyaWFibGVzKCl9OwptJiYoZi5ncmlkPXtzaXplOmIuZ3JpZFNpemUsc3RlcHM6Yi52aWV3LmdyaWRTdGVwcyxjb2xvcjpiLnZpZXcuZ3JpZENvbG9yfSk7cmV0dXJuIG5ldyBteFhtbFJlcXVlc3QoRVhQT1JUX1VSTCwiZm9ybWF0PSIrZStsK3ArIiZiZz0iKyhudWxsIT1uP246bXhDb25zdGFudHMuTk9ORSkrIiZiYXNlNjQ9IitkKyImZW1iZWRYbWw9IitBKyImeG1sPSIrZW5jb2RlVVJJQ29tcG9uZW50KGMpKyhudWxsIT1hPyImZmlsZW5hbWU9IitlbmNvZGVVUklDb21wb25lbnQoYSk6IiIpKyImZXh0cmFzPSIrZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGYpKSsobnVsbCE9az8iJnNjYWxlPSIrazoiIikrKG51bGwhPXQ/IiZib3JkZXI9Iit0OiIiKSl9O0VkaXRvclVpLnByb3RvdHlwZS5zZXRNb2RlPWZ1bmN0aW9uKGEsZSl7dGhpcy5tb2RlPWF9O0VkaXRvclVpLnByb3RvdHlwZS5sb2FkRGVzY3JpcHRvcj1mdW5jdGlvbihhLGUsYyl7dmFyIGI9d2luZG93LmxvY2F0aW9uLmhhc2gsCmQ9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYyl7dmFyIGQ9bnVsbCE9YS5kYXRhP2EuZGF0YToiIjtudWxsIT1jJiYwPGMubGVuZ3RoJiYoMDxkLmxlbmd0aCYmKGQrPSJcbiIpLGQrPWMpO2M9bmV3IExvY2FsRmlsZSh0aGlzLCJjc3YiIT1hLmZvcm1hdCYmMDxkLmxlbmd0aD9kOnRoaXMuZW1wdHlEaWFncmFtWG1sLG51bGwhPXVybFBhcmFtcy50aXRsZT9kZWNvZGVVUklDb21wb25lbnQodXJsUGFyYW1zLnRpdGxlKTp0aGlzLmRlZmF1bHRGaWxlbmFtZSwhMCk7Yy5nZXRIYXNoPWZ1bmN0aW9uKCl7cmV0dXJuIGJ9O3RoaXMuZmlsZUxvYWRlZChjKTsiY3N2Ij09YS5mb3JtYXQmJnRoaXMuaW1wb3J0Q3N2KGQsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5lZGl0b3IudW5kb01hbmFnZXIuY2xlYXIoKTt0aGlzLmVkaXRvci5zZXRNb2RpZmllZCghMSk7dGhpcy5lZGl0b3Iuc2V0U3RhdHVzKCIiKX0pKTtpZihudWxsIT1hLnVwZGF0ZSl7dmFyIGY9bnVsbCE9YS5pbnRlcnZhbD8KcGFyc2VJbnQoYS5pbnRlcnZhbCk6NkU0LGc9bnVsbCxsPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5jdXJyZW50UGFnZTtteFV0aWxzLnBvc3QoYS51cGRhdGUsInhtbD0iK2VuY29kZVVSSUNvbXBvbmVudChteFV0aWxzLmdldFhtbCh0aGlzLmVkaXRvci5nZXRHcmFwaFhtbCgpKSksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7Yj09PXRoaXMuY3VycmVudFBhZ2UmJigyMDA8PWEuZ2V0U3RhdHVzKCkmJjMwMD49YS5nZXRTdGF0dXMoKT8odGhpcy51cGRhdGVEaWFncmFtKGEuZ2V0VGV4dCgpKSxuKCkpOnRoaXMuaGFuZGxlRXJyb3Ioe21lc3NhZ2U6bXhSZXNvdXJjZXMuZ2V0KCJlcnJvciIpKyIgIithLmdldFN0YXR1cygpfSkpfSksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5oYW5kbGVFcnJvcihhKX0pKX0pLG49bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt3aW5kb3cuY2xlYXJUaW1lb3V0KGcpO2c9d2luZG93LnNldFRpbWVvdXQobCwKZil9KTt0aGlzLmVkaXRvci5hZGRMaXN0ZW5lcigicGFnZVNlbGVjdGVkIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe24oKTtsKCl9KSk7bigpO2woKX1udWxsIT1lJiZlKCl9KTtpZihudWxsIT1hLnVybCYmMDxhLnVybC5sZW5ndGgpe3ZhciBmPWEudXJsOy9eaHR0cHM/OlwvXC8vLnRlc3QoZikmJiF0aGlzLmVkaXRvci5pc0NvcnNFbmFibGVkRm9yVXJsKGYpJiYoZj1QUk9YWV9VUkwrIj91cmw9IitlbmNvZGVVUklDb21wb25lbnQoZikpO3RoaXMuZWRpdG9yLmxvYWRVcmwoZixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtkKGEpfSksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7bnVsbCE9YyYmYyhhKX0pKX1lbHNlIGQoIiIpfTtFZGl0b3JVaS5wcm90b3R5cGUudXBkYXRlRGlhZ3JhbT1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3ZhciBiPW5ldyBteENlbGxPdmVybGF5KGEuaW1hZ2V8fGYud2FybmluZ0ltYWdlLGEudG9vbHRpcCxhLmFsaWduLGEudmFsaWduLAphLm9mZnNldCk7Yi5hZGRMaXN0ZW5lcihteEV2ZW50LkNMSUNLLGZ1bmN0aW9uKGIsZSl7ZC5hbGVydChhLnRvb2x0aXApfSk7cmV0dXJuIGJ9dmFyIGM9bnVsbCxkPXRoaXM7aWYobnVsbCE9YSYmMDxhLmxlbmd0aCYmKGM9bXhVdGlscy5wYXJzZVhtbChhKSxhPW51bGwhPWM/Yy5kb2N1bWVudEVsZW1lbnQ6bnVsbCxudWxsIT1hJiYidXBkYXRlcyI9PWEubm9kZU5hbWUpKXt2YXIgZj10aGlzLmVkaXRvci5ncmFwaCxuPWYuZ2V0TW9kZWwoKTtuLmJlZ2luVXBkYXRlKCk7dmFyIGs9bnVsbDt0cnl7Zm9yKGE9YS5maXJzdENoaWxkO251bGwhPWE7KXtpZigidXBkYXRlIj09YS5ub2RlTmFtZSl7dmFyIHQ9bi5nZXRDZWxsKGEuZ2V0QXR0cmlidXRlKCJpZCIpKTtpZihudWxsIT10KXt0cnl7dmFyIG09YS5nZXRBdHRyaWJ1dGUoInZhbHVlIik7aWYobnVsbCE9bSl7dmFyIEE9bXhVdGlscy5wYXJzZVhtbChtKS5kb2N1bWVudEVsZW1lbnQ7aWYobnVsbCE9QSlpZigiMSI9PUEuZ2V0QXR0cmlidXRlKCJyZXBsYWNlLXZhbHVlIikpbi5zZXRWYWx1ZSh0LApBKTtlbHNlIGZvcih2YXIgcT1BLmF0dHJpYnV0ZXMsQj0wO0I8cS5sZW5ndGg7QisrKWYuc2V0QXR0cmlidXRlRm9yQ2VsbCh0LHFbQl0ubm9kZU5hbWUsMDxxW0JdLm5vZGVWYWx1ZS5sZW5ndGg/cVtCXS5ub2RlVmFsdWU6bnVsbCl9fWNhdGNoKHUpe251bGwhPXdpbmRvdy5jb25zb2xlJiZjb25zb2xlLmxvZygiRXJyb3IgaW4gdmFsdWUgZm9yICIrdC5pZCsiOiAiK3UpfXRyeXt2YXIgQz1hLmdldEF0dHJpYnV0ZSgic3R5bGUiKTtudWxsIT1DJiZmLm1vZGVsLnNldFN0eWxlKHQsQyl9Y2F0Y2godSl7bnVsbCE9d2luZG93LmNvbnNvbGUmJmNvbnNvbGUubG9nKCJFcnJvciBpbiBzdHlsZSBmb3IgIit0LmlkKyI6ICIrdSl9dHJ5e3ZhciB6PWEuZ2V0QXR0cmlidXRlKCJpY29uIik7aWYobnVsbCE9eil7dmFyIEU9MDx6Lmxlbmd0aD9KU09OLnBhcnNlKHopOm51bGw7bnVsbCE9RSYmRS5hcHBlbmR8fGYucmVtb3ZlQ2VsbE92ZXJsYXlzKHQpO251bGwhPUUmJmYuYWRkQ2VsbE92ZXJsYXkodCwKYihFKSl9fWNhdGNoKHUpe251bGwhPXdpbmRvdy5jb25zb2xlJiZjb25zb2xlLmxvZygiRXJyb3IgaW4gaWNvbiBmb3IgIit0LmlkKyI6ICIrdSl9dHJ5e3ZhciBHPWEuZ2V0QXR0cmlidXRlKCJnZW9tZXRyeSIpO2lmKG51bGwhPUcpe3ZhciBHPUpTT04ucGFyc2UoRyksRj1mLmdldENlbGxHZW9tZXRyeSh0KTtpZihudWxsIT1GKXtGPUYuY2xvbmUoKTtmb3Ioa2V5IGluIEcpe3ZhciBJPXBhcnNlRmxvYXQoR1trZXldKTsiZHgiPT1rZXk/Ri54Kz1JOiJkeSI9PWtleT9GLnkrPUk6ImR3Ij09a2V5P0Yud2lkdGgrPUk6ImRoIj09a2V5P0YuaGVpZ2h0Kz1JOkZba2V5XT1wYXJzZUZsb2F0KEdba2V5XSl9Zi5tb2RlbC5zZXRHZW9tZXRyeSh0LEYpfX19Y2F0Y2godSl7bnVsbCE9d2luZG93LmNvbnNvbGUmJmNvbnNvbGUubG9nKCJFcnJvciBpbiBpY29uIGZvciAiK3QuaWQrIjogIit1KX19fWVsc2UgaWYoIm1vZGVsIj09YS5ub2RlTmFtZSl7Zm9yKHZhciBKPWEuZmlyc3RDaGlsZDtudWxsIT0KSiYmSi5ub2RlVHlwZSE9bXhDb25zdGFudHMuTk9ERVRZUEVfRUxFTUVOVDspSj1KLm5leHRTaWJsaW5nO251bGwhPUomJihuZXcgbXhDb2RlYyhhLmZpcnN0Q2hpbGQpKS5kZWNvZGUoSixuKX1lbHNlIGlmKCJ2aWV3Ij09YS5ub2RlTmFtZSl7aWYoYS5oYXNBdHRyaWJ1dGUoInNjYWxlIikmJihmLnZpZXcuc2NhbGU9cGFyc2VGbG9hdChhLmdldEF0dHJpYnV0ZSgic2NhbGUiKSkpLGEuaGFzQXR0cmlidXRlKCJkeCIpfHxhLmhhc0F0dHJpYnV0ZSgiZHkiKSlmLnZpZXcudHJhbnNsYXRlPW5ldyBteFBvaW50KHBhcnNlRmxvYXQoYS5nZXRBdHRyaWJ1dGUoImR4Iil8fDApLHBhcnNlRmxvYXQoYS5nZXRBdHRyaWJ1dGUoImR5Iil8fDApKX1lbHNlImZpdCI9PWEubm9kZU5hbWUmJihrPWEuaGFzQXR0cmlidXRlKCJtYXgtc2NhbGUiKT9wYXJzZUZsb2F0KGEuZ2V0QXR0cmlidXRlKCJtYXgtc2NhbGUiKSk6MSk7YT1hLm5leHRTaWJsaW5nfX1maW5hbGx5e24uZW5kVXBkYXRlKCl9bnVsbCE9CmsmJnRoaXMuY2hyb21lbGVzc1Jlc2l6ZSYmdGhpcy5jaHJvbWVsZXNzUmVzaXplKCEwLGspfXJldHVybiBjfTtFZGl0b3JVaS5wcm90b3R5cGUuZ2V0Q29weUZpbGVuYW1lPWZ1bmN0aW9uKGEsZSl7dmFyIGI9bnVsbCE9YSYmbnVsbCE9YS5nZXRUaXRsZSgpP2EuZ2V0VGl0bGUoKTp0aGlzLmRlZmF1bHRGaWxlbmFtZSxjPSIiLGQ9Yi5sYXN0SW5kZXhPZigiLiIpOzA8PWQmJihjPWIuc3Vic3RyaW5nKGQpLGI9Yi5zdWJzdHJpbmcoMCxkKSk7aWYoZSl2YXIgZj1uZXcgRGF0ZSxkPWYuZ2V0RnVsbFllYXIoKSxrPWYuZ2V0TW9udGgoKSsxLHQ9Zi5nZXREYXRlKCksbT1mLmdldEhvdXJzKCksQT1mLmdldE1pbnV0ZXMoKSxmPWYuZ2V0U2Vjb25kcygpLGI9YisoIiAiKyhkKyItIitrKyItIit0KyItIittKyItIitBKyItIitmKSk7cmV0dXJuIGI9bXhSZXNvdXJjZXMuZ2V0KCJjb3B5T2YiLFtiXSkrY307RWRpdG9yVWkucHJvdG90eXBlLmZpbGVMb2FkZWQ9ZnVuY3Rpb24oYSxlKXt2YXIgYj0KdGhpcy5nZXRDdXJyZW50RmlsZSgpO3RoaXMuZmlsZUxvYWRlZEVycm9yPW51bGw7dGhpcy5zZXRDdXJyZW50RmlsZShudWxsKTt2YXIgYz0hMTt0aGlzLmhpZGVEaWFsb2coKTtudWxsIT1iJiYoRWRpdG9yVWkuZGVidWcoIkZpbGUuY2xvc2VkIixbYl0pLGIucmVtb3ZlTGlzdGVuZXIodGhpcy5kZXNjcmlwdG9yQ2hhbmdlZExpc3RlbmVyKSxiLmNsb3NlKCkpO3RoaXMuZWRpdG9yLmdyYXBoLm1vZGVsLmNsZWFyKCk7dGhpcy5lZGl0b3IudW5kb01hbmFnZXIuY2xlYXIoKTt2YXIgZD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuc2V0R3JhcGhFbmFibGVkKCExKTt0aGlzLnNldEN1cnJlbnRGaWxlKG51bGwpO251bGwhPWImJnRoaXMudXBkYXRlRG9jdW1lbnRUaXRsZSgpO3RoaXMuZWRpdG9yLmdyYXBoLm1vZGVsLmNsZWFyKCk7dGhpcy5lZGl0b3IudW5kb01hbmFnZXIuY2xlYXIoKTt0aGlzLnNldEJhY2tncm91bmRJbWFnZShudWxsKTshZSYmbnVsbCE9d2luZG93LmxvY2F0aW9uLmhhc2gmJgowPHdpbmRvdy5sb2NhdGlvbi5oYXNoLmxlbmd0aCYmKHdpbmRvdy5sb2NhdGlvbi5oYXNoPSIiKTtudWxsIT10aGlzLmZuYW1lJiYodGhpcy5mbmFtZVdyYXBwZXIuc3R5bGUuZGlzcGxheT0ibm9uZSIsdGhpcy5mbmFtZS5pbm5lckhUTUw9IiIsdGhpcy5mbmFtZS5zZXRBdHRyaWJ1dGUoInRpdGxlIixteFJlc291cmNlcy5nZXQoInJlbmFtZSIpKSk7dGhpcy5lZGl0b3Iuc2V0U3RhdHVzKCIiKTt0aGlzLnVwZGF0ZVVpKCk7ZXx8dGhpcy5zaG93U3BsYXNoKCl9KTtpZihudWxsIT1hKXRyeXtteENsaWVudC5JU19TRiYmIm1pbiI9PXVpVGhlbWUmJih0aGlzLmRpYWdyYW1Db250YWluZXIuc3R5bGUudmlzaWJpbGl0eT0iIik7dGhpcy5vcGVuaW5nRmlsZT0hMDt0aGlzLnNldEN1cnJlbnRGaWxlKGEpO2EuYWRkTGlzdGVuZXIoImRlc2NyaXB0b3JDaGFuZ2VkIix0aGlzLmRlc2NyaXB0b3JDaGFuZ2VkTGlzdGVuZXIpO2EuYWRkTGlzdGVuZXIoImNvbnRlbnRDaGFuZ2VkIix0aGlzLmRlc2NyaXB0b3JDaGFuZ2VkTGlzdGVuZXIpOwphLm9wZW4oKTtkZWxldGUgdGhpcy5vcGVuaW5nRmlsZTt0aGlzLnNldEdyYXBoRW5hYmxlZCghMCk7dGhpcy5zZXRNb2RlKGEuZ2V0TW9kZSgpKTt0aGlzLmVkaXRvci5ncmFwaC5tb2RlbC5wcmVmaXg9RWRpdG9yLmd1aWQoKSsiLSI7dGhpcy5lZGl0b3IudW5kb01hbmFnZXIuY2xlYXIoKTt0aGlzLmRlc2NyaXB0b3JDaGFuZ2VkKCk7dGhpcy51cGRhdGVVaSgpO2EuaXNFZGl0YWJsZSgpP2EuaXNNb2RpZmllZCgpPyhhLmFkZFVuc2F2ZWRTdGF0dXMoKSxudWxsIT1hLmJhY2t1cFBhdGNoJiZhLnBhdGNoKFthLmJhY2t1cFBhdGNoXSkpOnRoaXMuZWRpdG9yLnNldFN0YXR1cygiIik6dGhpcy5lZGl0b3Iuc2V0U3RhdHVzKCc8c3BhbiBjbGFzcz0iZ2VTdGF0dXNBbGVydCIgc3R5bGU9Im1hcmdpbi1sZWZ0OjhweDsiPicrbXhVdGlscy5odG1sRW50aXRpZXMobXhSZXNvdXJjZXMuZ2V0KCJyZWFkT25seSIpKSsiPC9zcGFuPiIpOyF0aGlzLmVkaXRvci5pc0Nocm9tZWxlc3NWaWV3KCl8fAp0aGlzLmVkaXRvci5lZGl0YWJsZT8odGhpcy5lZGl0b3IuZ3JhcGguc2VsZWN0VW5sb2NrZWRMYXllcigpLHRoaXMuc2hvd0xheWVyc0RpYWxvZygpLHRoaXMucmVzdG9yZUxpYnJhcmllcygpLHdpbmRvdy5zZWxmIT09d2luZG93LnRvcCYmd2luZG93LmZvY3VzKCkpOnRoaXMuZWRpdG9yLmdyYXBoLmlzTGlnaHRib3hWaWV3KCkmJnRoaXMubGlnaHRib3hGaXQoKTt0aGlzLmNocm9tZWxlc3NSZXNpemUmJnRoaXMuY2hyb21lbGVzc1Jlc2l6ZSgpO3RoaXMuZWRpdG9yLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgiZmlsZUxvYWRlZCIpKTtjPSEwO3RoaXMuaXNPZmZsaW5lKCl8fG51bGw9PWEuZ2V0TW9kZSgpfHxFZGl0b3JVaS5sb2dFdmVudCh7Y2F0ZWdvcnk6YS5nZXRNb2RlKCkudG9VcHBlckNhc2UoKSsiLU9QRU4tRklMRS0iK2EuZ2V0SGFzaCgpLGFjdGlvbjoic2l6ZV8iK2EuZ2V0U2l6ZSgpLGxhYmVsOiJhdXRvc2F2ZV8iKyh0aGlzLmVkaXRvci5hdXRvc2F2ZT8ib24iOgoib2ZmIil9KTtFZGl0b3JVaS5kZWJ1ZygiRmlsZS5vcGVuZWQiLFthXSk7aWYodGhpcy5lZGl0b3IuZWRpdGFibGUmJnRoaXMubW9kZT09YS5nZXRNb2RlKCkmJmEuZ2V0TW9kZSgpIT1BcHAuTU9ERV9ERVZJQ0UmJm51bGwhPWEuZ2V0TW9kZSgpKXRyeXt0aGlzLmFkZFJlY2VudCh7aWQ6YS5nZXRIYXNoKCksdGl0bGU6YS5nZXRUaXRsZSgpLG1vZGU6YS5nZXRNb2RlKCl9KX1jYXRjaCh2KXt9dHJ5e214U2V0dGluZ3Muc2V0T3BlbkNvdW50ZXIobXhTZXR0aW5ncy5nZXRPcGVuQ291bnRlcigpKzEpLG14U2V0dGluZ3Muc2F2ZSgpfWNhdGNoKHYpe319Y2F0Y2godil7dGhpcy5maWxlTG9hZGVkRXJyb3I9djtpZihFZGl0b3JVaS5lbmFibGVMb2dnaW5nJiYhdGhpcy5pc09mZmxpbmUoKSl0cnl7RWRpdG9yVWkubG9nRXZlbnQoe2NhdGVnb3J5OiJFUlJPUi1MT0FELUZJTEUtIisobnVsbCE9YT9hLmdldEhhc2goKToibm9uZSIpLGFjdGlvbjoibWVzc2FnZV8iK3YubWVzc2FnZSxsYWJlbDoic3RhY2tfIisKdi5zdGFja30pfWNhdGNoKHQpe312YXIgZj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe251bGwhPXVybFBhcmFtcy51cmwmJnRoaXMuc3Bpbm5lci5zcGluKGRvY3VtZW50LmJvZHksbXhSZXNvdXJjZXMuZ2V0KCJyZWNvbm5lY3RpbmciKSk/d2luZG93LmxvY2F0aW9uLnNlYXJjaD10aGlzLmdldFNlYXJjaChbInVybCJdKTpudWxsIT1iP3RoaXMuZmlsZUxvYWRlZChiKTpkKCl9KTtlP2YoKTp0aGlzLmhhbmRsZUVycm9yKHYsbXhSZXNvdXJjZXMuZ2V0KCJlcnJvckxvYWRpbmdGaWxlIiksZiwhMCxudWxsLG51bGwsITApfWVsc2UgZCgpO3JldHVybiBjfTtFZGl0b3JVaS5wcm90b3R5cGUuZ2V0SGFzaFZhbHVlRm9yUGFnZXM9ZnVuY3Rpb24oYSxlKXt2YXIgYj0wLGM9bmV3IG14R3JhcGhNb2RlbCxkPW5ldyBteENvZGVjO251bGwhPWUmJihlLmJ5dGVDb3VudD0wLGUuYXR0ckNvdW50PTAsZS5lbHRDb3VudD0wLGUubm9kZUNvdW50PTApO2Zvcih2YXIgZj0wO2Y8YS5sZW5ndGg7ZisrKXt0aGlzLnVwZGF0ZVBhZ2VSb290KGFbZl0pOwp2YXIgaz1hW2ZdLm5vZGUuY2xvbmVOb2RlKCExKTtrLnJlbW92ZUF0dHJpYnV0ZSgibmFtZSIpO2Mucm9vdD1hW2ZdLnJvb3Q7dmFyIHQ9ZC5lbmNvZGUoYyk7dGhpcy5lZGl0b3IuZ3JhcGguc2F2ZVZpZXdTdGF0ZShhW2ZdLnZpZXdTdGF0ZSx0LCEwKTt0LnJlbW92ZUF0dHJpYnV0ZSgicGFnZVdpZHRoIik7dC5yZW1vdmVBdHRyaWJ1dGUoInBhZ2VIZWlnaHQiKTtrLmFwcGVuZENoaWxkKHQpO251bGwhPWUmJihlLmVsdENvdW50Kz1rLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikubGVuZ3RoLGUubm9kZUNvdW50Kz1rLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJteENlbGwiKS5sZW5ndGgpO2I9KGI8PDUpLWIrdGhpcy5oYXNoVmFsdWUoayxmdW5jdGlvbihhLGIsZSxjKXtyZXR1cm4hY3x8Im14R2VvbWV0cnkiIT1hLm5vZGVOYW1lJiYibXhQb2ludCIhPWEubm9kZU5hbWV8fCJ4IiE9YiYmInkiIT1iJiYid2lkdGgiIT1iJiYiaGVpZ2h0IiE9Yj9jJiYibXhDZWxsIj09YS5ub2RlTmFtZSYmCiJwcmV2aW91cyI9PWI/bnVsbDplOk1hdGgucm91bmQoZSl9LGUpPDwwfXJldHVybiBifTtFZGl0b3JVaS5wcm90b3R5cGUuaGFzaFZhbHVlPWZ1bmN0aW9uKGEsZSxjKXt2YXIgYj0wO2lmKG51bGwhPWEmJiJvYmplY3QiPT09dHlwZW9mIGEmJiJudW1iZXIiPT09dHlwZW9mIGEubm9kZVR5cGUmJiJzdHJpbmciPT09dHlwZW9mIGEubm9kZU5hbWUmJiJmdW5jdGlvbiI9PT10eXBlb2YgYS5nZXRBdHRyaWJ1dGUpe251bGwhPWEubm9kZU5hbWUmJihiXj10aGlzLmhhc2hWYWx1ZShhLm5vZGVOYW1lLGUsYykpO2lmKG51bGwhPWEuYXR0cmlidXRlcyl7bnVsbCE9YyYmKGMuYXR0ckNvdW50Kz1hLmF0dHJpYnV0ZXMubGVuZ3RoKTtmb3IodmFyIGQ9MDtkPGEuYXR0cmlidXRlcy5sZW5ndGg7ZCsrKXt2YXIgZj1hLmF0dHJpYnV0ZXNbZF0ubmFtZSxnPW51bGwhPWU/ZShhLGYsYS5hdHRyaWJ1dGVzW2RdLnZhbHVlLCEwKTphLmF0dHJpYnV0ZXNbZF0udmFsdWU7bnVsbCE9ZyYmKGJePXRoaXMuaGFzaFZhbHVlKGYsCmUsYykrdGhpcy5oYXNoVmFsdWUoZyxlLGMpKX19aWYobnVsbCE9YS5jaGlsZE5vZGVzKWZvcihkPTA7ZDxhLmNoaWxkTm9kZXMubGVuZ3RoO2QrKyliPShiPDw1KS1iK3RoaXMuaGFzaFZhbHVlKGEuY2hpbGROb2Rlc1tkXSxlLGMpPDwwfWVsc2UgaWYobnVsbCE9YSYmImZ1bmN0aW9uIiE9PXR5cGVvZiBhKXthPVN0cmluZyhhKTtlPTA7bnVsbCE9YyYmKGMuYnl0ZUNvdW50Kz1hLmxlbmd0aCk7Zm9yKGQ9MDtkPGEubGVuZ3RoO2QrKyllPShlPDw1KS1lK2EuY2hhckNvZGVBdChkKTw8MDtiXj1lfXJldHVybiBifTtFZGl0b3JVaS5wcm90b3R5cGUuZGVzY3JpcHRvckNoYW5nZWQ9ZnVuY3Rpb24oKXt9O0VkaXRvclVpLnByb3RvdHlwZS5yZXN0b3JlTGlicmFyaWVzPWZ1bmN0aW9uKCl7fTtFZGl0b3JVaS5wcm90b3R5cGUuc2F2ZUxpYnJhcnk9ZnVuY3Rpb24oYSxlLGMsZCxmLG4sayl7fTtFZGl0b3JVaS5wcm90b3R5cGUuaXNTY3JhdGNocGFkRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiBpc0xvY2FsU3RvcmFnZXx8Cm14Q2xpZW50LklTX0NIUk9NRUFQUH07RWRpdG9yVWkucHJvdG90eXBlLnRvZ2dsZVNjcmF0Y2hwYWQ9ZnVuY3Rpb24oKXt0aGlzLmlzU2NyYXRjaHBhZEVuYWJsZWQoKSYmKG51bGw9PXRoaXMuc2NyYXRjaHBhZD9TdG9yYWdlRmlsZS5nZXRGaWxlQ29udGVudCh0aGlzLCIuc2NyYXRjaHBhZCIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7bnVsbD09YSYmKGE9dGhpcy5lbXB0eUxpYnJhcnlYbWwpO3RoaXMubG9hZExpYnJhcnkobmV3IFN0b3JhZ2VMaWJyYXJ5KHRoaXMsYSwiLnNjcmF0Y2hwYWQiKSl9KSk6dGhpcy5jbG9zZUxpYnJhcnkodGhpcy5zY3JhdGNocGFkKSl9O0VkaXRvclVpLnByb3RvdHlwZS5jcmVhdGVMaWJyYXJ5RGF0YUZyb21JbWFnZXM9ZnVuY3Rpb24oYSl7dmFyIGI9bXhVdGlscy5jcmVhdGVYbWxEb2N1bWVudCgpLGM9Yi5jcmVhdGVFbGVtZW50KCJteGxpYnJhcnkiKTtteFV0aWxzLnNldFRleHRDb250ZW50KGMsSlNPTi5zdHJpbmdpZnkoYSkpO2IuYXBwZW5kQ2hpbGQoYyk7CnJldHVybiBteFV0aWxzLmdldFhtbChiKX07RWRpdG9yVWkucHJvdG90eXBlLmNsb3NlTGlicmFyeT1mdW5jdGlvbihhKXtudWxsIT1hJiYodGhpcy5yZW1vdmVMaWJyYXJ5U2lkZWJhcihhLmdldEhhc2goKSksYS5jb25zdHJ1Y3RvciE9TG9jYWxMaWJyYXJ5JiZteFNldHRpbmdzLnJlbW92ZUN1c3RvbUxpYnJhcnkoYS5nZXRIYXNoKCkpLCIuc2NyYXRjaHBhZCI9PWEudGl0bGUmJih0aGlzLnNjcmF0Y2hwYWQ9bnVsbCkpfTtFZGl0b3JVaS5wcm90b3R5cGUucmVtb3ZlTGlicmFyeVNpZGViYXI9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5zaWRlYmFyLnBhbGV0dGVzW2FdO2lmKG51bGwhPWIpe2Zvcih2YXIgYz0wO2M8Yi5sZW5ndGg7YysrKWJbY10ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiW2NdKTtkZWxldGUgdGhpcy5zaWRlYmFyLnBhbGV0dGVzW2FdfX07RWRpdG9yVWkucHJvdG90eXBlLnJlcG9zaXRpb25MaWJyYXJ5PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuc2lkZWJhci5jb250YWluZXI7CmlmKG51bGw9PWEpe3ZhciBjPXRoaXMuc2lkZWJhci5wYWxldHRlc1siTC5zY3JhdGNocGFkIl07bnVsbD09YyYmKGM9dGhpcy5zaWRlYmFyLnBhbGV0dGVzLnNlYXJjaCk7bnVsbCE9YyYmKGE9Y1tjLmxlbmd0aC0xXS5uZXh0U2libGluZyl9YT1udWxsIT1hP2E6Yi5maXJzdENoaWxkLm5leHRTaWJsaW5nLm5leHRTaWJsaW5nO3ZhciBjPWIubGFzdENoaWxkLGQ9Yy5wcmV2aW91c1NpYmxpbmc7Yi5pbnNlcnRCZWZvcmUoYyxhKTtiLmluc2VydEJlZm9yZShkLGMpfTtFZGl0b3JVaS5wcm90b3R5cGUubG9hZExpYnJhcnk9ZnVuY3Rpb24oYSxlKXt2YXIgYj1teFV0aWxzLnBhcnNlWG1sKGEuZ2V0RGF0YSgpKTtpZigibXhsaWJyYXJ5Ij09Yi5kb2N1bWVudEVsZW1lbnQubm9kZU5hbWUpe3ZhciBjPUpTT04ucGFyc2UobXhVdGlscy5nZXRUZXh0Q29udGVudChiLmRvY3VtZW50RWxlbWVudCkpO3RoaXMubGlicmFyeUxvYWRlZChhLGMsYi5kb2N1bWVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCJ0aXRsZSIpLAplKX1lbHNlIHRocm93e21lc3NhZ2U6bXhSZXNvdXJjZXMuZ2V0KCJub3RBTGlicmFyeUZpbGUiKX07fTtFZGl0b3JVaS5wcm90b3R5cGUuZ2V0TGlicmFyeVN0b3JhZ2VIaW50PWZ1bmN0aW9uKGEpe3JldHVybiIifTtFZGl0b3JVaS5wcm90b3R5cGUubGlicmFyeUxvYWRlZD1mdW5jdGlvbihhLGUsYyxkKXtpZihudWxsIT10aGlzLnNpZGViYXIpe2EuY29uc3RydWN0b3IhPUxvY2FsTGlicmFyeSYmbXhTZXR0aW5ncy5hZGRDdXN0b21MaWJyYXJ5KGEuZ2V0SGFzaCgpKTsiLnNjcmF0Y2hwYWQiPT1hLnRpdGxlJiYodGhpcy5zY3JhdGNocGFkPWEpO3ZhciBiPXRoaXMuc2lkZWJhci5wYWxldHRlc1thLmdldEhhc2goKV0sYj1udWxsIT1iP2JbYi5sZW5ndGgtMV0ubmV4dFNpYmxpbmc6bnVsbDt0aGlzLnJlbW92ZUxpYnJhcnlTaWRlYmFyKGEuZ2V0SGFzaCgpKTt2YXIgZj1udWxsLGc9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYixjKXswPT1iLmxlbmd0aCYmYS5pc0VkaXRhYmxlKCk/CihudWxsPT1mJiYoZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxmLmNsYXNzTmFtZT0iZ2VEcm9wVGFyZ2V0IixteFV0aWxzLndyaXRlKGYsbXhSZXNvdXJjZXMuZ2V0KCJkcmFnRWxlbWVudHNIZXJlIikpKSxjLmFwcGVuZENoaWxkKGYpKTp0aGlzLmFkZExpYnJhcnlFbnRyaWVzKGIsYyl9KTtudWxsIT10aGlzLnNpZGViYXImJm51bGwhPWUmJnRoaXMuc2lkZWJhci5hZGRFbnRyaWVzKGUpO2M9bnVsbCE9YyYmMDxjLmxlbmd0aD9jOmEuZ2V0VGl0bGUoKTt2YXIgcD10aGlzLnNpZGViYXIuYWRkUGFsZXR0ZShhLmdldEhhc2goKSxjLG51bGwhPWQ/ZDohMCxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtnKGUsYSl9KSk7dGhpcy5yZXBvc2l0aW9uTGlicmFyeShiKTt2YXIgaz1wLnBhcmVudE5vZGUucHJldmlvdXNTaWJsaW5nO2Q9ay5nZXRBdHRyaWJ1dGUoInRpdGxlIik7bnVsbCE9ZCYmMDxkLmxlbmd0aCYmIi5zY3JhdGNocGFkIiE9YS50aXRsZSYmay5zZXRBdHRyaWJ1dGUoInRpdGxlIiwKdGhpcy5nZXRMaWJyYXJ5U3RvcmFnZUhpbnQoYSkrIlxuIitkKTt2YXIgbT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTttLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7bS5zdHlsZS5yaWdodD0iMHB4IjttLnN0eWxlLnRvcD0iMHB4IjttLnN0eWxlLnBhZGRpbmc9IjhweCI7bXhDbGllbnQuSVNfUVVJUktTfHw4PT1kb2N1bWVudC5kb2N1bWVudE1vZGV8fChtLnN0eWxlLmJhY2tncm91bmRDb2xvcj0iaW5oZXJpdCIpO2suc3R5bGUucG9zaXRpb249InJlbGF0aXZlIjt2YXIgcT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTtxLnNldEF0dHJpYnV0ZSgic3JjIixEaWFsb2cucHJvdG90eXBlLmNsb3NlSW1hZ2UpO3Euc2V0QXR0cmlidXRlKCJ0aXRsZSIsbXhSZXNvdXJjZXMuZ2V0KCJjbG9zZSIpKTtxLnNldEF0dHJpYnV0ZSgidmFsaWduIiwiYWJzbWlkZGxlIik7cS5zZXRBdHRyaWJ1dGUoImJvcmRlciIsIjAiKTtxLnN0eWxlLmN1cnNvcj0icG9pbnRlciI7cS5zdHlsZS5tYXJnaW49CiIwIDNweCI7dmFyIEI9bnVsbDtpZigiLnNjcmF0Y2hwYWQiIT1hLnRpdGxlfHx0aGlzLmNsb3NhYmxlU2NyYXRjaHBhZCltLmFwcGVuZENoaWxkKHEpLG14RXZlbnQuYWRkTGlzdGVuZXIocSwiY2xpY2siLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe2lmKCFteEV2ZW50LmlzQ29uc3VtZWQoYikpe3ZhciBjPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5jbG9zZUxpYnJhcnkoYSl9KTtudWxsIT1CP3RoaXMuY29uZmlybShteFJlc291cmNlcy5nZXQoImFsbENoYW5nZXNMb3N0IiksbnVsbCxjLG14UmVzb3VyY2VzLmdldCgiY2FuY2VsIiksbXhSZXNvdXJjZXMuZ2V0KCJkaXNjYXJkQ2hhbmdlcyIpKTpjKCk7bXhFdmVudC5jb25zdW1lKGIpfX0pKTtpZihhLmlzRWRpdGFibGUoKSl7dmFyIEM9dGhpcy5lZGl0b3IuZ3JhcGgsej1udWxsLEU9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7dGhpcy5zaG93TGlicmFyeURpYWxvZyhhLmdldFRpdGxlKCkscCwKZSxhLGEuZ2V0TW9kZSgpKTtteEV2ZW50LmNvbnN1bWUoYil9KSxHPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe2Euc2V0TW9kaWZpZWQoITApO2EuaXNBdXRvc2F2ZSgpPyhudWxsIT16JiZudWxsIT16LnBhcmVudE5vZGUmJnoucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh6KSx6PXEuY2xvbmVOb2RlKCExKSx6LnNldEF0dHJpYnV0ZSgic3JjIixFZGl0b3Iuc3BpbkltYWdlKSx6LnNldEF0dHJpYnV0ZSgidGl0bGUiLG14UmVzb3VyY2VzLmdldCgic2F2aW5nIikpLHouc3R5bGUuY3Vyc29yPSJkZWZhdWx0Iix6LnN0eWxlLm1hcmdpblJpZ2h0PSIycHgiLHouc3R5bGUubWFyZ2luVG9wPSItMnB4IixtLmluc2VydEJlZm9yZSh6LG0uZmlyc3RDaGlsZCksay5zdHlsZS5wYWRkaW5nUmlnaHQ9MTgqbS5jaGlsZE5vZGVzLmxlbmd0aCsicHgiLHRoaXMuc2F2ZUxpYnJhcnkoYS5nZXRUaXRsZSgpLGUsYSxhLmdldE1vZGUoKSwhMCwhMCxmdW5jdGlvbigpe251bGwhPXomJm51bGwhPQp6LnBhcmVudE5vZGUmJih6LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoeiksay5zdHlsZS5wYWRkaW5nUmlnaHQ9MTgqbS5jaGlsZE5vZGVzLmxlbmd0aCsicHgiKX0pKTpudWxsPT1CJiYoQj1xLmNsb25lTm9kZSghMSksQi5zZXRBdHRyaWJ1dGUoInNyYyIsSU1BR0VfUEFUSCsiL2Rvd25sb2FkLnBuZyIpLEIuc2V0QXR0cmlidXRlKCJ0aXRsZSIsbXhSZXNvdXJjZXMuZ2V0KCJzYXZlIikpLG0uaW5zZXJ0QmVmb3JlKEIsbS5maXJzdENoaWxkKSxteEV2ZW50LmFkZExpc3RlbmVyKEIsImNsaWNrIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXt0aGlzLnNhdmVMaWJyYXJ5KGEuZ2V0VGl0bGUoKSxlLGEsYS5nZXRNb2RlKCksYS5jb25zdHJ1Y3Rvcj09TG9jYWxMaWJyYXJ5LCEwLGZ1bmN0aW9uKCl7bnVsbD09Qnx8YS5pc01vZGlmaWVkKCl8fChrLnN0eWxlLnBhZGRpbmdSaWdodD0xOCptLmNoaWxkTm9kZXMubGVuZ3RoKyJweCIsQi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKEIpLApCPW51bGwpfSk7bXhFdmVudC5jb25zdW1lKGIpfSkpLGsuc3R5bGUucGFkZGluZ1JpZ2h0PTE4Km0uY2hpbGROb2Rlcy5sZW5ndGgrInB4Iil9KSxGPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYixjLGQpe2E9Qy5jbG9uZUNlbGxzKG14VXRpbHMuc29ydENlbGxzKEMubW9kZWwuZ2V0VG9wbW9zdENlbGxzKGEpKSk7Zm9yKHZhciBnPTA7ZzxhLmxlbmd0aDtnKyspe3ZhciBsPUMuZ2V0Q2VsbEdlb21ldHJ5KGFbZ10pO251bGwhPWwmJmwudHJhbnNsYXRlKC1iLngsLWIueSl9cC5hcHBlbmRDaGlsZCh0aGlzLnNpZGViYXIuY3JlYXRlVmVydGV4VGVtcGxhdGVGcm9tQ2VsbHMoYSxiLndpZHRoLGIuaGVpZ2h0LGR8fCIiLCEwLCExLCExKSk7YT17eG1sOkdyYXBoLmNvbXByZXNzKG14VXRpbHMuZ2V0WG1sKHRoaXMuZWRpdG9yLmdyYXBoLmVuY29kZUNlbGxzKGEpKSksdzpiLndpZHRoLGg6Yi5oZWlnaHR9O251bGwhPWQmJihhLnRpdGxlPWQpO2UucHVzaChhKTtHKGMpO251bGwhPQpmJiZudWxsIT1mLnBhcmVudE5vZGUmJjA8ZS5sZW5ndGgmJihmLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZiksZj1udWxsKX0pLEk9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7aWYoQy5pc1NlbGVjdGlvbkVtcHR5KCkpQy5nZXRSdWJiZXJiYW5kKCkuaXNBY3RpdmUoKT8oQy5nZXRSdWJiZXJiYW5kKCkuZXhlY3V0ZShhKSxDLmdldFJ1YmJlcmJhbmQoKS5yZXNldCgpKTp0aGlzLnNob3dFcnJvcihteFJlc291cmNlcy5nZXQoImVycm9yIiksbXhSZXNvdXJjZXMuZ2V0KCJub3RoaW5nSXNTZWxlY3RlZCIpLG14UmVzb3VyY2VzLmdldCgib2siKSk7ZWxzZXt2YXIgYj1DLmdldFNlbGVjdGlvbkNlbGxzKCksYz1DLnZpZXcuZ2V0Qm91bmRzKGIpLGU9Qy52aWV3LnNjYWxlO2MueC89ZTtjLnkvPWU7Yy53aWR0aC89ZTtjLmhlaWdodC89ZTtjLngtPUMudmlldy50cmFuc2xhdGUueDtjLnktPUMudmlldy50cmFuc2xhdGUueTtGKGIsYyl9bXhFdmVudC5jb25zdW1lKGEpfSk7bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKHAsCmZ1bmN0aW9uKCl7fSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtDLmlzTW91c2VEb3duJiZudWxsIT1DLnBhbm5pbmdNYW5hZ2VyJiZudWxsIT1DLmdyYXBoSGFuZGxlci5maXJzdCYmKEMuZ3JhcGhIYW5kbGVyLnN1c3BlbmQoKSxudWxsIT1DLmdyYXBoSGFuZGxlci5oaW50JiYoQy5ncmFwaEhhbmRsZXIuaGludC5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iKSxwLnN0eWxlLmJhY2tncm91bmRDb2xvcj0iI2YxZjNmNCIscC5zdHlsZS5jdXJzb3I9ImNvcHkiLEMucGFubmluZ01hbmFnZXIuc3RvcCgpLEMuYXV0b1Njcm9sbD0hMSxteEV2ZW50LmNvbnN1bWUoYSkpfSksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7Qy5pc01vdXNlRG93biYmbnVsbCE9Qy5wYW5uaW5nTWFuYWdlciYmbnVsbCE9Qy5ncmFwaEhhbmRsZXImJihwLnN0eWxlLmJhY2tncm91bmRDb2xvcj0iIixwLnN0eWxlLmN1cnNvcj0iZGVmYXVsdCIsdGhpcy5zaWRlYmFyLnNob3dUb29sdGlwcz0hMCwKQy5wYW5uaW5nTWFuYWdlci5zdG9wKCksQy5ncmFwaEhhbmRsZXIucmVzZXQoKSxDLmlzTW91c2VEb3duPSExLEMuYXV0b1Njcm9sbD0hMCxJKGEpLG14RXZlbnQuY29uc3VtZShhKSl9KSk7bXhFdmVudC5hZGRMaXN0ZW5lcihwLCJtb3VzZWxlYXZlIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtDLmlzTW91c2VEb3duJiZudWxsIT1DLmdyYXBoSGFuZGxlci5maXJzdCYmKEMuZ3JhcGhIYW5kbGVyLnJlc3VtZSgpLG51bGwhPUMuZ3JhcGhIYW5kbGVyLmhpbnQmJihDLmdyYXBoSGFuZGxlci5oaW50LnN0eWxlLnZpc2liaWxpdHk9InZpc2libGUiKSxwLnN0eWxlLmJhY2tncm91bmRDb2xvcj0iIixwLnN0eWxlLmN1cnNvcj0iIixDLmF1dG9TY3JvbGw9ITApfSkpO0dyYXBoLmZpbGVTdXBwb3J0JiYobXhFdmVudC5hZGRMaXN0ZW5lcihwLCJkcmFnb3ZlciIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7cC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9IiNmMWYzZjQiO2EuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3Q9CiJjb3B5IjtwLnN0eWxlLmN1cnNvcj0iY29weSI7dGhpcy5zaWRlYmFyLmhpZGVUb29sdGlwKCk7YS5zdG9wUHJvcGFnYXRpb24oKTthLnByZXZlbnREZWZhdWx0KCl9KSksbXhFdmVudC5hZGRMaXN0ZW5lcihwLCJkcm9wIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtwLnN0eWxlLmN1cnNvcj0iIjtwLnN0eWxlLmJhY2tncm91bmRDb2xvcj0iIjswPGEuZGF0YVRyYW5zZmVyLmZpbGVzLmxlbmd0aCYmdGhpcy5pbXBvcnRGaWxlcyhhLmRhdGFUcmFuc2Zlci5maWxlcywwLDAsdGhpcy5tYXhJbWFnZVNpemUsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYixjLGQsbCxuLGssdCxtLHgpe2lmKG51bGwhPWImJiJpbWFnZS8iPT1jLnN1YnN0cmluZygwLDYpKWI9InNoYXBlPWltYWdlO3ZlcnRpY2FsTGFiZWxQb3NpdGlvbj1ib3R0b207dmVydGljYWxBbGlnbj10b3A7aW1hZ2VBc3BlY3Q9MDthc3BlY3Q9Zml4ZWQ7aW1hZ2U9Iit0aGlzLmNvbnZlcnREYXRhVXJpKGIpLGI9W25ldyBteENlbGwoIiIsCm5ldyBteEdlb21ldHJ5KDAsMCxuLGspLGIpXSxiWzBdLnZlcnRleD0hMCxGKGIsbmV3IG14UmVjdGFuZ2xlKDAsMCxuLGspLGEsbXhFdmVudC5pc0FsdERvd24oYSk/bnVsbDp0LnN1YnN0cmluZygwLHQubGFzdEluZGV4T2YoIi4iKSkucmVwbGFjZSgvXy9nLCIgIikpLG51bGwhPWYmJm51bGwhPWYucGFyZW50Tm9kZSYmMDxlLmxlbmd0aCYmKGYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChmKSxmPW51bGwpO2Vsc2V7dmFyIHY9ITEsdT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiLGMpe2lmKG51bGwhPWImJiJhcHBsaWNhdGlvbi9wZGYiPT1jKXt2YXIgZD1FZGl0b3IuZXh0cmFjdEdyYXBoTW9kZWxGcm9tUGRmKGIpO251bGwhPWQmJjA8ZC5sZW5ndGgmJihiPWQpfWlmKG51bGwhPWIpaWYoZD1teFV0aWxzLnBhcnNlWG1sKGIpLCJteGxpYnJhcnkiPT1kLmRvY3VtZW50RWxlbWVudC5ub2RlTmFtZSl0cnl7dmFyIGw9SlNPTi5wYXJzZShteFV0aWxzLmdldFRleHRDb250ZW50KGQuZG9jdW1lbnRFbGVtZW50KSk7CmcobCxwKTtlPWUuY29uY2F0KGwpO0coYSk7dGhpcy5zcGlubmVyLnN0b3AoKTt2PSEwfWNhdGNoKEwpe31lbHNlIGlmKCJteGZpbGUiPT1kLmRvY3VtZW50RWxlbWVudC5ub2RlTmFtZSl0cnl7Zm9yKHZhciBuPWQuZG9jdW1lbnRFbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkaWFncmFtIiksbD0wO2w8bi5sZW5ndGg7bCsrKXt2YXIgaz10aGlzLnN0cmluZ1RvQ2VsbHMoRWRpdG9yLmdldERpYWdyYW1Ob2RlWG1sKG5bbF0pKSx0PXRoaXMuZWRpdG9yLmdyYXBoLmdldEJvdW5kaW5nQm94RnJvbUdlb21ldHJ5KGspO0YoayxuZXcgbXhSZWN0YW5nbGUoMCwwLHQud2lkdGgsdC5oZWlnaHQpLGEpfXY9ITB9Y2F0Y2goTCl7bnVsbCE9d2luZG93LmNvbnNvbGUmJmNvbnNvbGUubG9nKCJlcnJvciBpbiBkcm9wIGhhbmRsZXI6IixMKX12fHwodGhpcy5zcGlubmVyLnN0b3AoKSx0aGlzLmhhbmRsZUVycm9yKHttZXNzYWdlOm14UmVzb3VyY2VzLmdldCgiZXJyb3JMb2FkaW5nRmlsZSIpfSkpOwpudWxsIT1mJiZudWxsIT1mLnBhcmVudE5vZGUmJjA8ZS5sZW5ndGgmJihmLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZiksZj1udWxsKX0pO251bGwhPXgmJm51bGwhPXQmJigvKFwudihkeHxzZHg/KSkoJHxcPykvaS50ZXN0KHQpfHwvKFwudnMoeHxzeD8pKSgkfFw/KS9pLnRlc3QodCkpP3RoaXMuaW1wb3J0VmlzaW8oeCxmdW5jdGlvbihhKXt1KGEsInRleHQveG1sIil9LG51bGwsdCk6IXRoaXMuaXNPZmZsaW5lKCkmJihuZXcgWE1MSHR0cFJlcXVlc3QpLnVwbG9hZCYmdGhpcy5pc1JlbW90ZUZpbGVGb3JtYXQoYix0KSYmbnVsbCE9eD90aGlzLnBhcnNlRmlsZSh4LG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpezQ9PWEucmVhZHlTdGF0ZSYmKHRoaXMuc3Bpbm5lci5zdG9wKCksMjAwPD1hLnN0YXR1cyYmMjk5Pj1hLnN0YXR1cz91KGEucmVzcG9uc2VUZXh0LCJ0ZXh0L3htbCIpOnRoaXMuaGFuZGxlRXJyb3Ioe21lc3NhZ2U6bXhSZXNvdXJjZXMuZ2V0KDQxMz09YS5zdGF0dXM/CiJkcmF3aW5nVG9vTGFyZ2UiOiJpbnZhbGlkT3JNaXNzaW5nRmlsZSIpfSxteFJlc291cmNlcy5nZXQoImVycm9yTG9hZGluZ0ZpbGUiKSkpfSkpOnUoYixjKX19KSk7YS5zdG9wUHJvcGFnYXRpb24oKTthLnByZXZlbnREZWZhdWx0KCl9KSksbXhFdmVudC5hZGRMaXN0ZW5lcihwLCJkcmFnbGVhdmUiLGZ1bmN0aW9uKGEpe3Auc3R5bGUuY3Vyc29yPSIiO3Auc3R5bGUuYmFja2dyb3VuZENvbG9yPSIiO2Euc3RvcFByb3BhZ2F0aW9uKCk7YS5wcmV2ZW50RGVmYXVsdCgpfSkpO3E9cS5jbG9uZU5vZGUoITEpO3Euc2V0QXR0cmlidXRlKCJzcmMiLEVkaXRvci5lZGl0SW1hZ2UpO3Euc2V0QXR0cmlidXRlKCJ0aXRsZSIsbXhSZXNvdXJjZXMuZ2V0KCJlZGl0IikpO20uaW5zZXJ0QmVmb3JlKHEsbS5maXJzdENoaWxkKTtteEV2ZW50LmFkZExpc3RlbmVyKHEsImNsaWNrIixFKTtteEV2ZW50LmFkZExpc3RlbmVyKHAsImRibGNsaWNrIixmdW5jdGlvbihhKXtteEV2ZW50LmdldFNvdXJjZShhKT09CnAmJkUoYSl9KTtkPXEuY2xvbmVOb2RlKCExKTtkLnNldEF0dHJpYnV0ZSgic3JjIixFZGl0b3IucGx1c0ltYWdlKTtkLnNldEF0dHJpYnV0ZSgidGl0bGUiLG14UmVzb3VyY2VzLmdldCgiYWRkIikpO20uaW5zZXJ0QmVmb3JlKGQsbS5maXJzdENoaWxkKTtteEV2ZW50LmFkZExpc3RlbmVyKGQsImNsaWNrIixJKTt0aGlzLmlzT2ZmbGluZSgpfHwiLnNjcmF0Y2hwYWQiIT1hLnRpdGxlfHxudWxsPT1FZGl0b3JVaS5zY3JhdGNocGFkSGVscExpbmt8fChkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKSxkLnNldEF0dHJpYnV0ZSgidGl0bGUiLG14UmVzb3VyY2VzLmdldCgiaGVscCIpKSxkLnN0eWxlLmNzc1RleHQ9ImNvbG9yOiNhM2EzYTM7dGV4dC1kZWNvcmF0aW9uOm5vbmU7bWFyZ2luLXJpZ2h0OjJweDsiLG14VXRpbHMud3JpdGUoZCwiPyIpLG14RXZlbnQuYWRkR2VzdHVyZUxpc3RlbmVycyhkLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMub3BlbkxpbmsoRWRpdG9yVWkuc2NyYXRjaHBhZEhlbHBMaW5rKTsKbXhFdmVudC5jb25zdW1lKGEpfSkpLG0uaW5zZXJ0QmVmb3JlKGQsbS5maXJzdENoaWxkKSl9ay5hcHBlbmRDaGlsZChtKTtrLnN0eWxlLnBhZGRpbmdSaWdodD0xOCptLmNoaWxkTm9kZXMubGVuZ3RoKyJweCJ9fTtFZGl0b3JVaS5wcm90b3R5cGUuYWRkTGlicmFyeUVudHJpZXM9ZnVuY3Rpb24oYSxjKXtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKyl7dmFyIGU9YVtiXSxkPWUuZGF0YTtpZihudWxsIT1kKXt2YXIgZD10aGlzLmNvbnZlcnREYXRhVXJpKGQpLGY9InNoYXBlPWltYWdlO3ZlcnRpY2FsTGFiZWxQb3NpdGlvbj1ib3R0b207dmVydGljYWxBbGlnbj10b3A7aW1hZ2VBc3BlY3Q9MDsiOyJmaXhlZCI9PWUuYXNwZWN0JiYoZis9ImFzcGVjdD1maXhlZDsiKTtjLmFwcGVuZENoaWxkKHRoaXMuc2lkZWJhci5jcmVhdGVWZXJ0ZXhUZW1wbGF0ZShmKyJpbWFnZT0iK2QsZS53LGUuaCwiIixlLnRpdGxlfHwiIiwhMSwhMSwhMCkpfWVsc2UgbnVsbCE9ZS54bWwmJihkPXRoaXMuc3RyaW5nVG9DZWxscyhHcmFwaC5kZWNvbXByZXNzKGUueG1sKSksCjA8ZC5sZW5ndGgmJmMuYXBwZW5kQ2hpbGQodGhpcy5zaWRlYmFyLmNyZWF0ZVZlcnRleFRlbXBsYXRlRnJvbUNlbGxzKGQsZS53LGUuaCxlLnRpdGxlfHwiIiwhMCwhMSwhMCkpKX19O0VkaXRvclVpLnByb3RvdHlwZS5nZXRSZXNvdXJjZT1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT9hW214TGFuZ3VhZ2VdfHxhLm1haW46bnVsbH07RWRpdG9yVWkucHJvdG90eXBlLmZvb3RlckhlaWdodD0wOyIxIj09dXJsUGFyYW1zLnNhdmVzaWRlYmFyJiYoU2lkZWJhci5wcm90b3R5cGUudGh1bWJXaWR0aD02NCxTaWRlYmFyLnByb3RvdHlwZS50aHVtYkhlaWdodD02NCk7RWRpdG9yVWkuaW5pdFRoZW1lPWZ1bmN0aW9uKCl7ImF0bGFzIj09dWlUaGVtZT8obXhDbGllbnQubGluaygic3R5bGVzaGVldCIsU1RZTEVfUEFUSCsiL2F0bGFzLmNzcyIpLCJ1bmRlZmluZWQiIT09dHlwZW9mIFRvb2xiYXImJihUb29sYmFyLnByb3RvdHlwZS51bnNlbGVjdGVkQmFja2dyb3VuZD1teENsaWVudC5JU19RVUlSS1M/CiJub25lIjoibGluZWFyLWdyYWRpZW50KHJnYigyNTUsIDI1NSwgMjU1KSAwcHgsIHJnYigyNDIsIDI0MiwgMjQyKSAxMDAlKSIsVG9vbGJhci5wcm90b3R5cGUuc2VsZWN0ZWRCYWNrZ3JvdW5kPSJyZ2IoMjQyLCAyNDIsIDI0MikiKSxFZGl0b3IucHJvdG90eXBlLmluaXRpYWxUb3BTcGFjaW5nPTMsRWRpdG9yVWkucHJvdG90eXBlLm1lbnViYXJIZWlnaHQ9NDEsRWRpdG9yVWkucHJvdG90eXBlLnRvb2xiYXJIZWlnaHQ9MzgpOiJkYXJrIj09dWlUaGVtZSYmKG14Q2xpZW50LmxpbmsoInN0eWxlc2hlZXQiLFNUWUxFX1BBVEgrIi9kYXJrLmNzcyIpLERpYWxvZy5iYWNrZHJvcENvbG9yPSIjMmEyYTJhIixHcmFwaC5wcm90b3R5cGUuZGVmYXVsdFRoZW1lTmFtZT0iZGFya1RoZW1lIixHcmFwaC5wcm90b3R5cGUuZGVmYXVsdFBhZ2VCYWNrZ3JvdW5kQ29sb3I9IiMyYTJhMmEiLEdyYXBoLnByb3RvdHlwZS5kZWZhdWx0UGFnZUJvcmRlckNvbG9yPSIjNTA1NzU5IixGb3JtYXQucHJvdG90eXBlLmluYWN0aXZlVGFiQmFja2dyb3VuZENvbG9yPQoiYmxhY2siLEJhc2VGb3JtYXRQYW5lbC5wcm90b3R5cGUuYnV0dG9uQmFja2dyb3VuZENvbG9yPSIjMmEyYTJhIixTaWRlYmFyLnByb3RvdHlwZS5kcmFnUHJldmlld0JvcmRlcj0iMXB4IGRhc2hlZCAjY2NjY2NjIixteEdyYXBoSGFuZGxlci5wcm90b3R5cGUucHJldmlld0NvbG9yPSIjY2NjY2NjIixTdHlsZUZvcm1hdFBhbmVsLnByb3RvdHlwZS5kZWZhdWx0U3Ryb2tlQ29sb3I9IiNjY2NjY2MiLG14Q29uc3RhbnRzLkRST1BfVEFSR0VUX0NPTE9SPSIjMDBmZjAwIixteENsaWVudC5JU19TVkcmJihFZGl0b3IuaGVscEltYWdlPSJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJBQUFBQVFDQU1BQUFBb0xROVRBQUFBUDFCTVZFVUFBQUQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vOUR1L3BxQUFBQUZYUlNUbE1BVDMwcUNKUkJib3lEWnlDZ1J6VVVkRjQ2TUpsZ1hFVGdBQUFBZWtsRVFWUVkwMjJPMnc0RElRaEVRVVVSZGEvOS8yOHRVTzIrN0NRUzVzZ1E0RjFSYXBYNzhZVXdScVFqVFU4SUxxUWZLZXJUS1R2QUNKNG5MWDNrcnQrOGFTODJvSThhUUM0S2F2Umd0dkVXL21EdnNJQ2dBMDNQU0dScjc5TXFYMVlQTkl4emp5cXR3OFpublJvNHQ1YTV1bmR0SllSeXdhdStkczRDeXphM0U2WUFBQUFBU1VWT1JLNUNZSUk9IiwKRWRpdG9yLmNoZWNrbWFya0ltYWdlPSJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJVQUFBQVZDQU1BQUFDZXlWV2tBQUFBUlZCTVZFVUFBQUNabVprSUNBZ0VCQVNOalkyRGc0TVlHQmlUazVONWVYbDFkWFZtWm1aUVVGQkNRa0kzTnpjZUhoNE1EQXlrcEtTSmlZbCtmbjVzYkd4YVdsby9QejhTRWhLOTZ1UGxBQUFBQVhSU1RsTUFRT2JZWmdBQUFFNUpSRUZVR05QRnpUY1NnREFRUTFISkdVZnkvWTlLN1YxcWVPVWZ6UWlmQ1FaYWkxWEhhejExTEZ5c2JEYnpnRFNTV01aaUVUejMrYjh5TlVjL01Nc2t0eHVDOFhRQlNuY2RMd3orOGdDQ2dnR1h6QmNvekFBQUFBQkpSVTVFcmtKZ2dnPT0iKSl9O0VkaXRvclVpLmluaXRUaGVtZSgpO0VkaXRvclVpLnByb3RvdHlwZS5zaG93SW1hZ2VEaWFsb2c9ZnVuY3Rpb24oYSxjLGQsZixsKXthPW5ldyBJbWFnZURpYWxvZyh0aGlzLGEsYyxkLGYsbCk7dGhpcy5zaG93RGlhbG9nKGEuY29udGFpbmVyLEdyYXBoLmZpbGVTdXBwb3J0Pwo0ODA6MzYwLEdyYXBoLmZpbGVTdXBwb3J0PzIwMDo5MCwhMCwhMCk7YS5pbml0KCl9O0VkaXRvclVpLnByb3RvdHlwZS5zaG93QmFja2dyb3VuZEltYWdlRGlhbG9nPWZ1bmN0aW9uKGEsYyl7YT1udWxsIT1hP2E6bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxiKXtpZighYil7dmFyIGM9bmV3IENoYW5nZVBhZ2VTZXR1cCh0aGlzLG51bGwsYSk7Yy5pZ25vcmVDb2xvcj0hMDt0aGlzLmVkaXRvci5ncmFwaC5tb2RlbC5leGVjdXRlKGMpfX0pO3ZhciBiPW5ldyBCYWNrZ3JvdW5kSW1hZ2VEaWFsb2codGhpcyxhLGMpO3RoaXMuc2hvd0RpYWxvZyhiLmNvbnRhaW5lciwzNjAsMjAwLCEwLCEwKTtiLmluaXQoKX07RWRpdG9yVWkucHJvdG90eXBlLnNob3dMaWJyYXJ5RGlhbG9nPWZ1bmN0aW9uKGEsYyxkLGYsbCl7YT1uZXcgTGlicmFyeURpYWxvZyh0aGlzLGEsYyxkLGYsbCk7dGhpcy5zaG93RGlhbG9nKGEuY29udGFpbmVyLDY0MCw0NDAsITAsITEsbXhVdGlscy5iaW5kKHRoaXMsCmZ1bmN0aW9uKGEpe2EmJm51bGw9PXRoaXMuZ2V0Q3VycmVudEZpbGUoKSYmIjEiIT11cmxQYXJhbXMuZW1iZWQmJnRoaXMuc2hvd1NwbGFzaCgpfSkpO2EuaW5pdCgpfTt2YXIgYz1FZGl0b3JVaS5wcm90b3R5cGUuY3JlYXRlRm9ybWF0O0VkaXRvclVpLnByb3RvdHlwZS5jcmVhdGVGb3JtYXQ9ZnVuY3Rpb24oYSl7dmFyIGI9Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5lZGl0b3IuZ3JhcGguYWRkTGlzdGVuZXIoInZpZXdTdGF0ZUNoYW5nZWQiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuZWRpdG9yLmdyYXBoLmlzU2VsZWN0aW9uRW1wdHkoKSYmYi5yZWZyZXNoKCl9KSk7cmV0dXJuIGJ9O0VkaXRvclVpLnByb3RvdHlwZS5jcmVhdGVTaWRlYmFyRm9vdGVyQ29udGFpbmVyPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jcmVhdGVEaXYoImdlU2lkZWJhckNvbnRhaW5lciBnZVNpZGViYXJGb290ZXIiKTthLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7YS5zdHlsZS5vdmVyZmxvdz0KImhpZGRlbiI7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO2MuY2xhc3NOYW1lPSJnZVRpdGxlIjtjLnN0eWxlLmNvbG9yPSIjREY2QzBDIjtjLnN0eWxlLmZvbnRXZWlnaHQ9ImJvbGQiO2Muc3R5bGUuaGVpZ2h0PSIxMDAlIjtjLnN0eWxlLnBhZGRpbmdUb3A9IjlweCI7Yy5pbm5lckhUTUw9JzxzcGFuIHN0eWxlPSJmb250LXNpemU6MThweDttYXJnaW4tcmlnaHQ6NXB4OyI+Kzwvc3Bhbj4nO214VXRpbHMud3JpdGUoYyxteFJlc291cmNlcy5nZXQoIm1vcmVTaGFwZXMiKSsiLi4uIik7bXhFdmVudC5hZGRMaXN0ZW5lcihjLG14Q2xpZW50LklTX1BPSU5URVI/InBvaW50ZXJkb3duIjoibW91c2Vkb3duIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCl9KSk7bXhFdmVudC5hZGRMaXN0ZW5lcihjLCJjbGljayIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5hY3Rpb25zLmdldCgic2hhcGVzIikuZnVuY3QoKTtteEV2ZW50LmNvbnN1bWUoYSl9KSk7CmEuYXBwZW5kQ2hpbGQoYyk7cmV0dXJuIGF9O0VkaXRvclVpLnByb3RvdHlwZS5oYW5kbGVFcnJvcj1mdW5jdGlvbihhLGMsZCxmLGwsbixrKXt2YXIgYj1udWxsIT10aGlzLnNwaW5uZXImJm51bGwhPXRoaXMuc3Bpbm5lci5wYXVzZT90aGlzLnNwaW5uZXIucGF1c2UoKTpmdW5jdGlvbigpe30sZT1udWxsIT1hJiZudWxsIT1hLmVycm9yP2EuZXJyb3I6YTtpZihudWxsIT1hJiZudWxsIT1hLnN0YWNrJiZudWxsIT1hLm1lc3NhZ2UpdHJ5e2s/bnVsbCE9d2luZG93LmNvbnNvbGUmJmNvbnNvbGUuZXJyb3IoIkVkaXRvclVpLmhhbmRsZUVycm9yOiIsYSk6RWRpdG9yVWkubG9nRXJyb3IoIkNhdWdodDogIisobnVsbCE9YS5tZXNzYWdlP2EubWVzc2FnZToibnVsbCIpLG51bGwsbnVsbCxudWxsLGEsIklORk8iKX1jYXRjaCh6KXt9aWYobnVsbCE9ZXx8bnVsbCE9Yyl7az1teFV0aWxzLmh0bWxFbnRpdGllcyhteFJlc291cmNlcy5nZXQoInVua25vd25FcnJvciIpKTt2YXIgZz1teFJlc291cmNlcy5nZXQoIm9rIiksCnA9bnVsbDtjPW51bGwhPWM/YzpteFJlc291cmNlcy5nZXQoImVycm9yIik7aWYobnVsbCE9ZSl7bnVsbCE9ZS5yZXRyeSYmKGc9bXhSZXNvdXJjZXMuZ2V0KCJjYW5jZWwiKSxwPWZ1bmN0aW9uKCl7YigpO2UucmV0cnkoKX0pO2lmKDQwND09ZS5jb2RlfHw0MDQ9PWUuc3RhdHVzfHw0MDM9PWUuY29kZSl7az00MDM9PWUuY29kZT9udWxsIT1lLm1lc3NhZ2U/bXhVdGlscy5odG1sRW50aXRpZXMoZS5tZXNzYWdlKTpteFV0aWxzLmh0bWxFbnRpdGllcyhteFJlc291cmNlcy5nZXQoImFjY2Vzc0RlbmllZCIpKTpudWxsIT1sP2w6bXhVdGlscy5odG1sRW50aXRpZXMobXhSZXNvdXJjZXMuZ2V0KCJmaWxlTm90Rm91bmRPckRlbmllZCIpKyhudWxsIT10aGlzLmRyaXZlJiZudWxsIT10aGlzLmRyaXZlLnVzZXI/IiAoIit0aGlzLmRyaXZlLnVzZXIuZGlzcGxheU5hbWUrIiwgIit0aGlzLmRyaXZlLnVzZXIuZW1haWwrIikiOiIiKSk7dmFyIG09bnVsbCE9bj9uOndpbmRvdy5sb2NhdGlvbi5oYXNoOwppZihudWxsIT1tJiYoIiNHIj09bS5zdWJzdHJpbmcoMCwyKXx8IiNVaHR0cHMlM0ElMkYlMkZkcml2ZS5nb29nbGUuY29tJTJGdWMlM0ZpZCUzRCI9PW0uc3Vic3RyaW5nKDAsNDUpKSYmKG51bGwhPWEmJm51bGwhPWEuZXJyb3ImJihudWxsIT1hLmVycm9yLmVycm9ycyYmMDxhLmVycm9yLmVycm9ycy5sZW5ndGgmJiJmaWxlQWNjZXNzIj09YS5lcnJvci5lcnJvcnNbMF0ucmVhc29ufHxudWxsIT1hLmVycm9yLmRhdGEmJjA8YS5lcnJvci5kYXRhLmxlbmd0aCYmImZpbGVBY2Nlc3MiPT1hLmVycm9yLmRhdGFbMF0ucmVhc29uKXx8NDA0PT1lLmNvZGV8fDQwND09ZS5zdGF0dXMpKXttPSIjVSI9PW0uc3Vic3RyaW5nKDAsMik/bS5zdWJzdHJpbmcoNDUsbS5sYXN0SW5kZXhPZigiJTI2ZXgiKSk6bS5zdWJzdHJpbmcoMik7dGhpcy5zaG93RXJyb3IoYyxrLG14UmVzb3VyY2VzLmdldCgib3BlbkluTmV3V2luZG93IiksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmVkaXRvci5ncmFwaC5vcGVuTGluaygiaHR0cHM6Ly9kcml2ZS5nb29nbGUuY29tL29wZW4/aWQ9IisKbSk7dGhpcy5oYW5kbGVFcnJvcihhLGMsZCxmLGwpfSkscCxteFJlc291cmNlcy5nZXQoImNoYW5nZVVzZXIiKSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXtkLmlubmVySFRNTD0iIjtmb3IodmFyIGE9MDthPGIubGVuZ3RoO2ErKyl7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7bXhVdGlscy53cml0ZShjLGJbYV0uZGlzcGxheU5hbWUpO2MudmFsdWU9YTtkLmFwcGVuZENoaWxkKGMpO2M9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7Yy5pbm5lckhUTUw9IiZuYnNwOyZuYnNwOyZuYnNwOyI7bXhVdGlscy53cml0ZShjLCI8IitiW2FdLmVtYWlsKyI+Iik7Yy5zZXRBdHRyaWJ1dGUoImRpc2FibGVkIiwiZGlzYWJsZWQiKTtkLmFwcGVuZENoaWxkKGMpfWM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7bXhVdGlscy53cml0ZShjLG14UmVzb3VyY2VzLmdldCgiYWRkQWNjb3VudCIpKTtjLnZhbHVlPWIubGVuZ3RoOwpkLmFwcGVuZENoaWxkKGMpfXZhciBiPXRoaXMuZHJpdmUuZ2V0VXNlcnNMaXN0KCksYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTtlLnN0eWxlLm1hcmdpblRvcD0iNnB4IjtteFV0aWxzLndyaXRlKGUsbXhSZXNvdXJjZXMuZ2V0KCJjaGFuZ2VVc2VyIikrIjogIik7Yy5hcHBlbmRDaGlsZChlKTt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKTtkLnN0eWxlLndpZHRoPSIyMDBweCI7YSgpO214RXZlbnQuYWRkTGlzdGVuZXIoZCwiY2hhbmdlIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3ZhciBjPWQudmFsdWUsZT1iLmxlbmd0aCE9YztlJiZ0aGlzLmRyaXZlLnNldFVzZXIoYltjXSk7dGhpcy5kcml2ZS5hdXRob3JpemUoZSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2V8fChiPXRoaXMuZHJpdmUuZ2V0VXNlcnNMaXN0KCksYSgpKX0pLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuaGFuZGxlRXJyb3IoYSl9KSwKITApfSkpO2MuYXBwZW5kQ2hpbGQoZCk7Yz1uZXcgQ3VzdG9tRGlhbG9nKHRoaXMsYyxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMubG9hZEZpbGUod2luZG93LmxvY2F0aW9uLmhhc2guc3Vic3RyKDEpLCEwKX0pKTt0aGlzLnNob3dEaWFsb2coYy5jb250YWluZXIsMzAwLDc1LCEwLCEwKX0pLG14UmVzb3VyY2VzLmdldCgiY2FuY2VsIiksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmhpZGVEaWFsb2coKTtudWxsIT1kJiZkKCl9KSw0ODAsMTUwKTtyZXR1cm59fW51bGwhPWUubWVzc2FnZT9rPW14VXRpbHMuaHRtbEVudGl0aWVzKGUubWVzc2FnZSk6bnVsbCE9ZS5yZXNwb25zZSYmbnVsbCE9ZS5yZXNwb25zZS5lcnJvcj9rPW14VXRpbHMuaHRtbEVudGl0aWVzKGUucmVzcG9uc2UuZXJyb3IpOiJ1bmRlZmluZWQiIT09dHlwZW9mIHdpbmRvdy5BcHAmJihlLmNvZGU9PUFwcC5FUlJPUl9USU1FT1VUP2s9bXhVdGlscy5odG1sRW50aXRpZXMobXhSZXNvdXJjZXMuZ2V0KCJ0aW1lb3V0IikpOgplLmNvZGU9PUFwcC5FUlJPUl9CVVNZJiYoaz1teFV0aWxzLmh0bWxFbnRpdGllcyhteFJlc291cmNlcy5nZXQoImJ1c3kiKSkpKX12YXIgdj1uPW51bGw7bnVsbCE9ZSYmbnVsbCE9ZS5oZWxwTGluayYmKG49bXhSZXNvdXJjZXMuZ2V0KCJoZWxwIiksdj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3JldHVybiB0aGlzLmVkaXRvci5ncmFwaC5vcGVuTGluayhlLmhlbHBMaW5rKX0pKTt0aGlzLnNob3dFcnJvcihjLGssZyxkLHAsbnVsbCxudWxsLG4sdixudWxsLG51bGwsbnVsbCxmP2Q6bnVsbCl9ZWxzZSBudWxsIT1kJiZkKCl9O0VkaXRvclVpLnByb3RvdHlwZS5hbGVydD1mdW5jdGlvbihhLGMpe3ZhciBiPW5ldyBFcnJvckRpYWxvZyh0aGlzLG51bGwsYSxteFJlc291cmNlcy5nZXQoIm9rIiksYyk7dGhpcy5zaG93RGlhbG9nKGIuY29udGFpbmVyLDM0MCwxMDAsITAsITEpO2IuaW5pdCgpfTtFZGl0b3JVaS5wcm90b3R5cGUuY29uZmlybT1mdW5jdGlvbihhLGMsZCxmLGwsCm4pe3ZhciBiPW51bGwhPXRoaXMuc3Bpbm5lciYmbnVsbCE9dGhpcy5zcGlubmVyLnBhdXNlP3RoaXMuc3Bpbm5lci5wYXVzZSgpOmZ1bmN0aW9uKCl7fSxlPU1hdGgubWluKDIwMCwyOCpNYXRoLmNlaWwoYS5sZW5ndGgvNTApKTthPW5ldyBDb25maXJtRGlhbG9nKHRoaXMsYSxmdW5jdGlvbigpe2IoKTtudWxsIT1jJiZjKCl9LGZ1bmN0aW9uKCl7YigpO251bGwhPWQmJmQoKX0sZixsLG51bGwsbnVsbCxudWxsLG51bGwsZSk7dGhpcy5zaG93RGlhbG9nKGEuY29udGFpbmVyLDM0MCw0NitlLCEwLG4pO2EuaW5pdCgpfTtFZGl0b3JVaS5wcm90b3R5cGUuc2hvd0Jhbm5lcj1mdW5jdGlvbihhLGMsZCl7dmFyIGI9ITE7aWYoISh0aGlzLmJhbm5lclNob3dpbmd8fHRoaXNbImhpZGVCYW5uZXIiK2FdfHxpc0xvY2FsU3RvcmFnZSYmbnVsbCE9bXhTZXR0aW5ncy5zZXR0aW5ncyYmbnVsbCE9bXhTZXR0aW5ncy5zZXR0aW5nc1siY2xvc2UiK2FdKSl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CmUuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7Ym90dG9tOjEwcHg7bGVmdDo1MCU7bWF4LXdpZHRoOjkwJTtwYWRkaW5nOjE4cHggMzRweCAxMnB4IDIwcHg7Zm9udC1zaXplOjE2cHg7Zm9udC13ZWlnaHQ6Ym9sZDt3aGl0ZS1zcGFjZTpub3dyYXA7Y3Vyc29yOnBvaW50ZXI7ei1pbmRleDoiK214UG9wdXBNZW51LnByb3RvdHlwZS56SW5kZXgrIjsiO214VXRpbHMuc2V0UHJlZml4ZWRTdHlsZShlLnN0eWxlLCJib3gtc2hhZG93IiwiMXB4IDFweCAycHggMHB4ICNkZGQiKTtteFV0aWxzLnNldFByZWZpeGVkU3R5bGUoZS5zdHlsZSwidHJhbnNmb3JtIiwidHJhbnNsYXRlKC01MCUsMTIwJSkiKTtteFV0aWxzLnNldFByZWZpeGVkU3R5bGUoZS5zdHlsZSwidHJhbnNpdGlvbiIsImFsbCAxcyBlYXNlIik7ZS5jbGFzc05hbWU9ImdlQnRuIGdlUHJpbWFyeUJ0biI7Yj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTtiLnNldEF0dHJpYnV0ZSgic3JjIixJTUFHRV9QQVRIKwoiL2xvZ28ucG5nIik7Yi5zZXRBdHRyaWJ1dGUoImJvcmRlciIsIjAiKTtiLnNldEF0dHJpYnV0ZSgiYWxpZ24iLCJhYnNtaWRkbGUiKTtiLnN0eWxlLmNzc1RleHQ9Im1hcmdpbi10b3A6LTRweDttYXJnaW4tbGVmdDo4cHg7bWFyZ2luLXJpZ2h0OjEycHg7d2lkdGg6MjZweDtoZWlnaHQ6MjZweDsiO2UuYXBwZW5kQ2hpbGQoYik7Yj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTtiLnNldEF0dHJpYnV0ZSgic3JjIixEaWFsb2cucHJvdG90eXBlLmNsb3NlSW1hZ2UpO2Iuc2V0QXR0cmlidXRlKCJ0aXRsZSIsbXhSZXNvdXJjZXMuZ2V0KCJjbG9zZSIpKTtiLnNldEF0dHJpYnV0ZSgiYm9yZGVyIiwiMCIpO2Iuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6MTBweDt0b3A6MTJweDtmaWx0ZXI6aW52ZXJ0KDEpO3BhZGRpbmc6NnB4O21hcmdpbjotNnB4O2N1cnNvcjpkZWZhdWx0OyI7ZS5hcHBlbmRDaGlsZChiKTtteFV0aWxzLndyaXRlKGUsYyk7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlKTsKdGhpcy5iYW5uZXJTaG93aW5nPSEwO3ZhciBmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Yuc3R5bGUuY3NzVGV4dD0iZm9udC1zaXplOjExcHg7dGV4dC1hbGlnbjpjZW50ZXI7Zm9udC13ZWlnaHQ6bm9ybWFsOyI7dmFyIGc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtnLnNldEF0dHJpYnV0ZSgidHlwZSIsImNoZWNrYm94Iik7Zy5zZXRBdHRyaWJ1dGUoImlkIiwiZ2VEb05vdFNob3dBZ2FpbkNoZWNrYm94Iik7Zy5zdHlsZS5tYXJnaW5SaWdodD0iNnB4IjtmLmFwcGVuZENoaWxkKGcpO2M9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibGFiZWwiKTtjLnNldEF0dHJpYnV0ZSgiZm9yIiwiZ2VEb05vdFNob3dBZ2FpbkNoZWNrYm94Iik7bXhVdGlscy53cml0ZShjLG14UmVzb3VyY2VzLmdldCgiZG9Ob3RTaG93QWdhaW4iKSk7Zi5hcHBlbmRDaGlsZChjKTtlLnN0eWxlLnBhZGRpbmdCb3R0b209IjMwcHgiO2UuYXBwZW5kQ2hpbGQoZik7dmFyIGs9bXhVdGlscy5iaW5kKHRoaXMsCmZ1bmN0aW9uKCl7bnVsbCE9ZS5wYXJlbnROb2RlJiYoZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpLHRoaXMuYmFubmVyU2hvd2luZz0hMSxnLmNoZWNrZWQmJih0aGlzWyJoaWRlQmFubmVyIithXT0hMCxpc0xvY2FsU3RvcmFnZSYmbnVsbCE9bXhTZXR0aW5ncy5zZXR0aW5ncyYmKG14U2V0dGluZ3Muc2V0dGluZ3NbImNsb3NlIithXT1EYXRlLm5vdygpLG14U2V0dGluZ3Muc2F2ZSgpKSkpfSk7bXhFdmVudC5hZGRMaXN0ZW5lcihiLCJjbGljayIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7bXhFdmVudC5jb25zdW1lKGEpO2soKX0pKTt2YXIgbT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe214VXRpbHMuc2V0UHJlZml4ZWRTdHlsZShlLnN0eWxlLCJ0cmFuc2Zvcm0iLCJ0cmFuc2xhdGUoLTUwJSwxMjAlKSIpO3dpbmRvdy5zZXRUaW1lb3V0KG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7aygpfSksMUUzKX0pO214RXZlbnQuYWRkTGlzdGVuZXIoZSwiY2xpY2siLApteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt2YXIgYj1teEV2ZW50LmdldFNvdXJjZShhKTtiIT1nJiZiIT1jPyhkKCksaygpLG14RXZlbnQuY29uc3VtZShhKSk6bSgpfSkpO3dpbmRvdy5zZXRUaW1lb3V0KG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7bXhVdGlscy5zZXRQcmVmaXhlZFN0eWxlKGUuc3R5bGUsInRyYW5zZm9ybSIsInRyYW5zbGF0ZSgtNTAlLDAlKSIpfSksNTAwKTt3aW5kb3cuc2V0VGltZW91dChtLDNFNCk7Yj0hMH1yZXR1cm4gYn07RWRpdG9yVWkucHJvdG90eXBlLnNldEN1cnJlbnRGaWxlPWZ1bmN0aW9uKGEpe251bGwhPWEmJihhLm9wZW5lZD1uZXcgRGF0ZSk7dGhpcy5jdXJyZW50RmlsZT1hfTtFZGl0b3JVaS5wcm90b3R5cGUuZ2V0Q3VycmVudEZpbGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdXJyZW50RmlsZX07RWRpdG9yVWkucHJvdG90eXBlLmlzRXhwb3J0VG9DYW52YXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lZGl0b3IuaXNFeHBvcnRUb0NhbnZhcygpfTsKRWRpdG9yVWkucHJvdG90eXBlLmNyZWF0ZUltYWdlRGF0YVVyaT1mdW5jdGlvbihhLGMsZCxmKXt2YXIgYj1hLnRvRGF0YVVSTCgiaW1hZ2UvIitkKTtpZig2Pj1iLmxlbmd0aHx8Yj09YS5jbG9uZU5vZGUoITEpLnRvRGF0YVVSTCgiaW1hZ2UvIitkKSl0aHJvd3ttZXNzYWdlOiJJbnZhbGlkIGltYWdlIn07bnVsbCE9YyYmKGI9RWRpdG9yLndyaXRlR3JhcGhNb2RlbFRvUG5nKGIsInRFWHQiLCJteGZpbGUiLGVuY29kZVVSSUNvbXBvbmVudChjKSkpOzA8ZiYmKGI9RWRpdG9yLndyaXRlR3JhcGhNb2RlbFRvUG5nKGIsInBIWXMiLCJkcGkiLGYpKTtyZXR1cm4gYn07RWRpdG9yVWkucHJvdG90eXBlLnNhdmVDYW52YXM9ZnVuY3Rpb24oYSxjLGQsZixsKXt2YXIgYj0ianBlZyI9PWQ/ImpwZyI6ZDtmPXRoaXMuZ2V0QmFzZUZpbGVuYW1lKGYpKyIuIitiO2E9dGhpcy5jcmVhdGVJbWFnZURhdGFVcmkoYSxjLGQsbCk7dGhpcy5zYXZlRGF0YShmLGIsYS5zdWJzdHJpbmcoYS5sYXN0SW5kZXhPZigiLCIpKwoxKSwiaW1hZ2UvIitkLCEwKX07RWRpdG9yVWkucHJvdG90eXBlLmlzTG9jYWxGaWxlU2F2ZT1mdW5jdGlvbigpe3JldHVybiJyZW1vdGUiIT11cmxQYXJhbXMuc2F2ZSYmKG14Q2xpZW50LklTX0lFfHwidW5kZWZpbmVkIiE9PXR5cGVvZiB3aW5kb3cuQmxvYiYmInVuZGVmaW5lZCIhPT10eXBlb2Ygd2luZG93LlVSTCkmJjkhPWRvY3VtZW50LmRvY3VtZW50TW9kZSYmOCE9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlJiY3IT1kb2N1bWVudC5kb2N1bWVudE1vZGUmJiFteENsaWVudC5JU19RVUlSS1N8fHRoaXMuaXNPZmZsaW5lQXBwKCl8fG14Q2xpZW50LklTX0lPU307RWRpdG9yVWkucHJvdG90eXBlLnNob3dUZXh0RGlhbG9nPWZ1bmN0aW9uKGEsYyl7dmFyIGI9bmV3IFRleHRhcmVhRGlhbG9nKHRoaXMsYSxjLG51bGwsbnVsbCxteFJlc291cmNlcy5nZXQoImNsb3NlIikpO2IudGV4dGFyZWEuc3R5bGUud2lkdGg9IjYwMHB4IjtiLnRleHRhcmVhLnN0eWxlLmhlaWdodD0iMzgwcHgiO3RoaXMuc2hvd0RpYWxvZyhiLmNvbnRhaW5lciwKNjIwLDQ2MCwhMCwhMCxudWxsLG51bGwsbnVsbCxudWxsLCEwKTtiLmluaXQoKTtkb2N1bWVudC5leGVjQ29tbWFuZCgic2VsZWN0YWxsIiwhMSxudWxsKX07RWRpdG9yVWkucHJvdG90eXBlLmRvU2F2ZUxvY2FsRmlsZT1mdW5jdGlvbihhLGMsZCxmLGwpeyJ0ZXh0L3htbCIhPWR8fC8oXC5kcmF3aW8pJC9pLnRlc3QoYyl8fC8oXC54bWwpJC9pLnRlc3QoYyl8fChjKz0iLmRyYXdpbyIpO2lmKHdpbmRvdy5CbG9iJiZuYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYilhPWY/dGhpcy5iYXNlNjRUb0Jsb2IoYSxkKTpuZXcgQmxvYihbYV0se3R5cGU6ZH0pLG5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKGEsYyk7ZWxzZSBpZihteENsaWVudC5JU19JRSlkPXdpbmRvdy5vcGVuKCJhYm91dDpibGFuayIsIl9ibGFuayIpLG51bGw9PWQ/bXhVdGlscy5wb3B1cChhLCEwKTooZC5kb2N1bWVudC53cml0ZShhKSxkLmRvY3VtZW50LmNsb3NlKCksZC5kb2N1bWVudC5leGVjQ29tbWFuZCgiU2F2ZUFzIiwKITAsYyksZC5jbG9zZSgpKTtlbHNlIGlmKG14Q2xpZW50LklTX0lPUyYmdGhpcy5pc09mZmxpbmUoKSluYXZpZ2F0b3Iuc3RhbmRhbG9uZXx8bnVsbD09ZHx8ImltYWdlLyIhPWQuc3Vic3RyaW5nKDAsNik/dGhpcy5zaG93VGV4dERpYWxvZyhjKyI6IixhKTp0aGlzLm9wZW5Jbk5ld1dpbmRvdyhhLGQsZik7ZWxzZXt2YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIiksZT0obnVsbD09bmF2aWdhdG9yLnVzZXJBZ2VudHx8MD5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIlBhbGVNb29uLyIpKSYmInVuZGVmaW5lZCIhPT10eXBlb2YgYi5kb3dubG9hZDtpZihteENsaWVudC5JU19HQyYmbnVsbCE9bmF2aWdhdG9yLnVzZXJBZ2VudCl2YXIgZz1uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9DaHJvbShlfGl1bSlcLyhbMC05XSspXC4vKSxlPTY1PT0oZz9wYXJzZUludChnWzJdLDEwKTohMSk/ITE6ZTtpZihlfHx0aGlzLmlzT2ZmbGluZSgpKXtiLmhyZWY9VVJMLmNyZWF0ZU9iamVjdFVSTChmPwp0aGlzLmJhc2U2NFRvQmxvYihhLGQpOm5ldyBCbG9iKFthXSx7dHlwZTpkfSkpO2U/Yi5kb3dubG9hZD1jOmIuc2V0QXR0cmlidXRlKCJ0YXJnZXQiLCJfYmxhbmsiKTtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGIpO3RyeXt3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe1VSTC5yZXZva2VPYmplY3RVUkwoYi5ocmVmKX0sMkU0KSxiLmNsaWNrKCksYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpfWNhdGNoKHgpe319ZWxzZSB0aGlzLmNyZWF0ZUVjaG9SZXF1ZXN0KGEsYyxkLGYsbCkuc2ltdWxhdGUoZG9jdW1lbnQsIl9ibGFuayIpfX07RWRpdG9yVWkucHJvdG90eXBlLmNyZWF0ZUVjaG9SZXF1ZXN0PWZ1bmN0aW9uKGEsYyxkLGYsbCxuKXthPSJ4bWw9IitlbmNvZGVVUklDb21wb25lbnQoYSk7cmV0dXJuIG5ldyBteFhtbFJlcXVlc3QoU0FWRV9VUkwsYSsobnVsbCE9ZD8iJm1pbWU9IitkOiIiKSsobnVsbCE9bD8iJmZvcm1hdD0iK2w6IiIpKyhudWxsIT1uPyImYmFzZTY0PSIrCm46IiIpKyhudWxsIT1jPyImZmlsZW5hbWU9IitlbmNvZGVVUklDb21wb25lbnQoYyk6IiIpKyhmPyImYmluYXJ5PTEiOiIiKSl9O0VkaXRvclVpLnByb3RvdHlwZS5iYXNlNjRUb0Jsb2I9ZnVuY3Rpb24oYSxjKXtjPWN8fCIiO2Zvcih2YXIgYj1hdG9iKGEpLGU9Yi5sZW5ndGgsZD1NYXRoLmNlaWwoZS8xMDI0KSxmPUFycmF5KGQpLGs9MDtrPGQ7KytrKXtmb3IodmFyIG09MTAyNCprLHg9TWF0aC5taW4obSsxMDI0LGUpLEE9QXJyYXkoeC1tKSxxPTA7bTx4OysrcSwrK20pQVtxXT1iW21dLmNoYXJDb2RlQXQoMCk7ZltrXT1uZXcgVWludDhBcnJheShBKX1yZXR1cm4gbmV3IEJsb2IoZix7dHlwZTpjfSl9O0VkaXRvclVpLnByb3RvdHlwZS5zYXZlTG9jYWxGaWxlPWZ1bmN0aW9uKGEsYyxkLGYsbCxuLGspe249bnVsbCE9bj9uOiExO2s9bnVsbCE9az9rOiJ2c2R4IiE9bCYmKCFteENsaWVudC5JU19JT1N8fCFuYXZpZ2F0b3Iuc3RhbmRhbG9uZSk7bD10aGlzLmdldFNlcnZpY2VDb3VudChuKTsKaXNMb2NhbFN0b3JhZ2UmJmwrKzt2YXIgYj00Pj1sPzI6NjxsPzQ6MztjPW5ldyBDcmVhdGVEaWFsb2codGhpcyxjLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIsYyl7dHJ5e2lmKCJfYmxhbmsiPT1jKWlmKG51bGwhPWQmJiJpbWFnZS8iPT1kLnN1YnN0cmluZygwLDYpKXRoaXMub3BlbkluTmV3V2luZG93KGEsZCxmKTtlbHNle3ZhciBlPXdpbmRvdy5vcGVuKCJhYm91dDpibGFuayIpO251bGw9PWU/bXhVdGlscy5wb3B1cChhLCEwKTooZS5kb2N1bWVudC53cml0ZSgiPHByZT4iK214VXRpbHMuaHRtbEVudGl0aWVzKGEsITEpKyI8L3ByZT4iKSxlLmRvY3VtZW50LmNsb3NlKCkpfWVsc2UgYz09QXBwLk1PREVfREVWSUNFfHwiZG93bmxvYWQiPT1jP3RoaXMuZG9TYXZlTG9jYWxGaWxlKGEsYixkLGYpOm51bGwhPWImJjA8Yi5sZW5ndGgmJnRoaXMucGlja0ZvbGRlcihjLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGUpe3RyeXt0aGlzLmV4cG9ydEZpbGUoYSxiLGQsZixjLAplKX1jYXRjaChDKXt0aGlzLmhhbmRsZUVycm9yKEMpfX0pKX1jYXRjaChCKXt0aGlzLmhhbmRsZUVycm9yKEIpfX0pLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5oaWRlRGlhbG9nKCl9KSxteFJlc291cmNlcy5nZXQoInNhdmVBcyIpLG14UmVzb3VyY2VzLmdldCgiZG93bmxvYWQiKSwhMSxuLGssbnVsbCwxPGwsYixhLGQsZik7bj10aGlzLmlzU2VydmljZXMobCk/bD5iPzM5MDoyNzA6MTYwO3RoaXMuc2hvd0RpYWxvZyhjLmNvbnRhaW5lciw0MDAsbiwhMCwhMCk7Yy5pbml0KCl9O0VkaXRvclVpLnByb3RvdHlwZS5vcGVuSW5OZXdXaW5kb3c9ZnVuY3Rpb24oYSxjLGQpe3ZhciBiPXdpbmRvdy5vcGVuKCJhYm91dDpibGFuayIpO251bGw9PWJ8fG51bGw9PWIuZG9jdW1lbnQ/bXhVdGlscy5wb3B1cChhLCEwKTooImltYWdlL3N2Zyt4bWwiIT1jfHxteENsaWVudC5JU19TVkc/ImltYWdlL3N2Zyt4bWwiPT1jP2IuZG9jdW1lbnQud3JpdGUoIjxodG1sPiIrYSsiPC9odG1sPiIpOgooYT1kP2E6YnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoYSkpKSxiLmRvY3VtZW50LndyaXRlKCc8aHRtbD48aW1nIHN0eWxlPSJtYXgtd2lkdGg6MTAwJTsiIHNyYz0iZGF0YTonK2MrIjtiYXNlNjQsIithKyciLz48L2h0bWw+JykpOmIuZG9jdW1lbnQud3JpdGUoIjxodG1sPjxwcmU+IitteFV0aWxzLmh0bWxFbnRpdGllcyhhLCExKSsiPC9wcmU+PC9odG1sPiIpLGIuZG9jdW1lbnQuY2xvc2UoKSl9O3ZhciBmPUVkaXRvclVpLnByb3RvdHlwZS5hZGRDaHJvbWVsZXNzVG9vbGJhckl0ZW1zO0VkaXRvclVpLnByb3RvdHlwZS5hZGRDaHJvbWVsZXNzVG9vbGJhckl0ZW1zPWZ1bmN0aW9uKGEpe2lmKHRoaXMuaXNFeHBvcnRUb0NhbnZhcygpKXt0aGlzLmV4cG9ydERpYWxvZz1udWxsO3ZhciBiPWEobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dmFyIGM9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtteEV2ZW50LnJlbW92ZUxpc3RlbmVyKHRoaXMuZWRpdG9yLmdyYXBoLmNvbnRhaW5lciwKImNsaWNrIixjKTtudWxsIT10aGlzLmV4cG9ydERpYWxvZyYmKHRoaXMuZXhwb3J0RGlhbG9nLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5leHBvcnREaWFsb2cpLHRoaXMuZXhwb3J0RGlhbG9nPW51bGwpfSk7aWYobnVsbCE9dGhpcy5leHBvcnREaWFsb2cpYy5hcHBseSh0aGlzKTtlbHNle3RoaXMuZXhwb3J0RGlhbG9nPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3ZhciBlPWIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7bXhVdGlscy5zZXRQcmVmaXhlZFN0eWxlKHRoaXMuZXhwb3J0RGlhbG9nLnN0eWxlLCJib3JkZXJSYWRpdXMiLCI1cHgiKTt0aGlzLmV4cG9ydERpYWxvZy5zdHlsZS5wb3NpdGlvbj0iZml4ZWQiO3RoaXMuZXhwb3J0RGlhbG9nLnN0eWxlLnRleHRBbGlnbj0iY2VudGVyIjt0aGlzLmV4cG9ydERpYWxvZy5zdHlsZS5mb250RmFtaWx5PSJIZWx2ZXRpY2EsQXJpYWwiO3RoaXMuZXhwb3J0RGlhbG9nLnN0eWxlLmJhY2tncm91bmRDb2xvcj0iIzAwMDAwMCI7CnRoaXMuZXhwb3J0RGlhbG9nLnN0eWxlLndpZHRoPSI1MHB4Ijt0aGlzLmV4cG9ydERpYWxvZy5zdHlsZS5oZWlnaHQ9IjUwcHgiO3RoaXMuZXhwb3J0RGlhbG9nLnN0eWxlLnBhZGRpbmc9IjRweCAycHggNHB4IDJweCI7dGhpcy5leHBvcnREaWFsb2cuc3R5bGUuY29sb3I9IiNmZmZmZmYiO214VXRpbHMuc2V0T3BhY2l0eSh0aGlzLmV4cG9ydERpYWxvZyw3MCk7dGhpcy5leHBvcnREaWFsb2cuc3R5bGUubGVmdD1lLmxlZnQrInB4Ijt0aGlzLmV4cG9ydERpYWxvZy5zdHlsZS5ib3R0b209cGFyc2VJbnQodGhpcy5jaHJvbWVsZXNzVG9vbGJhci5zdHlsZS5ib3R0b20pK3RoaXMuY2hyb21lbGVzc1Rvb2xiYXIub2Zmc2V0SGVpZ2h0KzQrInB4IjtlPW14VXRpbHMuZ2V0Q3VycmVudFN0eWxlKHRoaXMuZWRpdG9yLmdyYXBoLmNvbnRhaW5lcik7dGhpcy5leHBvcnREaWFsb2cuc3R5bGUuekluZGV4PWUuekluZGV4O3ZhciBkPW5ldyBTcGlubmVyKHtsaW5lczo4LGxlbmd0aDo2LHdpZHRoOjUsCnJhZGl1czo2LHJvdGF0ZTowLGNvbG9yOiIjZmZmIixzcGVlZDoxLjUsdHJhaWw6NjAsc2hhZG93OiExLGh3YWNjZWw6ITEsdG9wOiIyOHB4Iix6SW5kZXg6MkU5fSk7ZC5zcGluKHRoaXMuZXhwb3J0RGlhbG9nKTt0aGlzLmVkaXRvci5leHBvcnRUb0NhbnZhcyhteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtkLnN0b3AoKTt0aGlzLmV4cG9ydERpYWxvZy5zdHlsZS53aWR0aD0iYXV0byI7dGhpcy5leHBvcnREaWFsb2cuc3R5bGUuaGVpZ2h0PSJhdXRvIjt0aGlzLmV4cG9ydERpYWxvZy5zdHlsZS5wYWRkaW5nPSIxMHB4Ijt2YXIgYj10aGlzLmNyZWF0ZUltYWdlRGF0YVVyaShhLG51bGwsInBuZyIpO2E9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7YS5zdHlsZS5tYXhXaWR0aD0iMTQwcHgiO2Euc3R5bGUubWF4SGVpZ2h0PSIxNDBweCI7YS5zdHlsZS5jdXJzb3I9InBvaW50ZXIiO2Euc3R5bGUuYmFja2dyb3VuZENvbG9yPSJ3aGl0ZSI7YS5zZXRBdHRyaWJ1dGUoInRpdGxlIiwKbXhSZXNvdXJjZXMuZ2V0KCJvcGVuSW5OZXdXaW5kb3ciKSk7YS5zZXRBdHRyaWJ1dGUoImJvcmRlciIsIjAiKTthLnNldEF0dHJpYnV0ZSgic3JjIixiKTt0aGlzLmV4cG9ydERpYWxvZy5hcHBlbmRDaGlsZChhKTtteEV2ZW50LmFkZExpc3RlbmVyKGEsImNsaWNrIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMub3BlbkluTmV3V2luZG93KGIuc3Vic3RyaW5nKGIuaW5kZXhPZigiLCIpKzEpLCJpbWFnZS9wbmciLCEwKTtjLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pKX0pLG51bGwsdGhpcy50aHVtYkltYWdlQ2FjaGUsbnVsbCxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLnNwaW5uZXIuc3RvcCgpO3RoaXMuaGFuZGxlRXJyb3IoYSl9KSk7bXhFdmVudC5hZGRMaXN0ZW5lcih0aGlzLmVkaXRvci5ncmFwaC5jb250YWluZXIsImNsaWNrIixjKTtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZXhwb3J0RGlhbG9nKX1teEV2ZW50LmNvbnN1bWUoYSl9KSwKRWRpdG9yLmNhbWVyYUxhcmdlSW1hZ2UsbXhSZXNvdXJjZXMuZ2V0KCJleHBvcnQiKSl9Zi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O0VkaXRvclVpLnByb3RvdHlwZS5zYXZlRGF0YT1mdW5jdGlvbihhLGMsZCxmLGwpe3RoaXMuaXNMb2NhbEZpbGVTYXZlKCk/dGhpcy5zYXZlTG9jYWxGaWxlKGQsYSxmLGwsYyk6dGhpcy5zYXZlUmVxdWVzdChhLGMsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5jcmVhdGVFY2hvUmVxdWVzdChkLGEsZixsLGMsYil9KSxkLGwsZil9O0VkaXRvclVpLnByb3RvdHlwZS5zYXZlUmVxdWVzdD1mdW5jdGlvbihhLGMsZCxmLGwsbixrKXtrPW51bGwhPWs/azohbXhDbGllbnQuSVNfSU9TfHwhbmF2aWdhdG9yLnN0YW5kYWxvbmU7dmFyIGI9dGhpcy5nZXRTZXJ2aWNlQ291bnQoITEpO2lzTG9jYWxTdG9yYWdlJiZiKys7dmFyIGU9ND49Yj8yOjY8Yj80OjM7YT1uZXcgQ3JlYXRlRGlhbG9nKHRoaXMsYSxteFV0aWxzLmJpbmQodGhpcywKZnVuY3Rpb24oYSxiKXtpZigiX2JsYW5rIj09Ynx8bnVsbCE9YSYmMDxhLmxlbmd0aCl7dmFyIGU9ZCgiX2JsYW5rIj09Yj9udWxsOmEsYj09QXBwLk1PREVfREVWSUNFfHwiZG93bmxvYWQiPT1ifHxudWxsPT1ifHwiX2JsYW5rIj09Yj8iMCI6IjEiKTtudWxsIT1lJiYoYj09QXBwLk1PREVfREVWSUNFfHwiZG93bmxvYWQiPT1ifHwiX2JsYW5rIj09Yj9lLnNpbXVsYXRlKGRvY3VtZW50LCJfYmxhbmsiKTp0aGlzLnBpY2tGb2xkZXIoYixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihkKXtuPW51bGwhPW4/bjoicGRmIj09Yz8iYXBwbGljYXRpb24vcGRmIjoiaW1hZ2UvIitjO2lmKG51bGwhPWYpdHJ5e3RoaXMuZXhwb3J0RmlsZShmLGEsbiwhMCxiLGQpfWNhdGNoKHope3RoaXMuaGFuZGxlRXJyb3Ioeil9ZWxzZSB0aGlzLnNwaW5uZXIuc3Bpbihkb2N1bWVudC5ib2R5LG14UmVzb3VyY2VzLmdldCgic2F2aW5nIikpJiZlLnNlbmQobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnNwaW5uZXIuc3RvcCgpOwppZigyMDA8PWUuZ2V0U3RhdHVzKCkmJjI5OT49ZS5nZXRTdGF0dXMoKSl0cnl7dGhpcy5leHBvcnRGaWxlKGUuZ2V0VGV4dCgpLGEsbiwhMCxiLGQpfWNhdGNoKHope3RoaXMuaGFuZGxlRXJyb3Ioeil9ZWxzZSB0aGlzLmhhbmRsZUVycm9yKHttZXNzYWdlOm14UmVzb3VyY2VzLmdldCgiZXJyb3JTYXZpbmdGaWxlIil9KX0pLGZ1bmN0aW9uKGEpe3RoaXMuc3Bpbm5lci5zdG9wKCk7dGhpcy5oYW5kbGVFcnJvcihhKX0pfSkpKX19KSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuaGlkZURpYWxvZygpfSksbXhSZXNvdXJjZXMuZ2V0KCJzYXZlQXMiKSxteFJlc291cmNlcy5nZXQoImRvd25sb2FkIiksITEsITEsayxudWxsLDE8YixlLGYsbixsKTtiPXRoaXMuaXNTZXJ2aWNlcyhiKT80PGI/MzkwOjI3MDoxNjA7dGhpcy5zaG93RGlhbG9nKGEuY29udGFpbmVyLDM4MCxiLCEwLCEwKTthLmluaXQoKX07RWRpdG9yVWkucHJvdG90eXBlLmlzU2VydmljZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIDEhPQphfTtFZGl0b3JVaS5wcm90b3R5cGUuZ2V0RWRpdEJsYW5rWG1sPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RmlsZURhdGEoITApfTtFZGl0b3JVaS5wcm90b3R5cGUuZXhwb3J0RmlsZT1mdW5jdGlvbihhLGMsZCxmLGwsbil7fTtFZGl0b3JVaS5wcm90b3R5cGUucGlja0ZvbGRlcj1mdW5jdGlvbihhLGMsZCl7YyhudWxsKX07RWRpdG9yVWkucHJvdG90eXBlLmV4cG9ydFN2Zz1mdW5jdGlvbihhLGMsZCxmLGwsbixrLG0seCxxLEQpe2lmKHRoaXMuc3Bpbm5lci5zcGluKGRvY3VtZW50LmJvZHksbXhSZXNvdXJjZXMuZ2V0KCJleHBvcnQiKSkpdHJ5e3ZhciBiPXRoaXMuZWRpdG9yLmdyYXBoLmlzU2VsZWN0aW9uRW1wdHkoKTtkPW51bGwhPWQ/ZDpiO3ZhciBlPWM/bnVsbDp0aGlzLmVkaXRvci5ncmFwaC5iYWNrZ3JvdW5kO2U9PW14Q29uc3RhbnRzLk5PTkUmJihlPW51bGwpO251bGw9PWUmJjA9PWMmJihlPUQ/dGhpcy5lZGl0b3IuZ3JhcGguZGVmYXVsdFBhZ2VCYWNrZ3JvdW5kQ29sb3I6CiIjZmZmZmZmIik7dmFyIGc9dGhpcy5lZGl0b3IuZ3JhcGguZ2V0U3ZnKGUsYSxrLG0sbnVsbCxkLG51bGwsbnVsbCwiYmxhbmsiPT1xPyJfYmxhbmsiOiJzZWxmIj09cT8iX3RvcCI6bnVsbCxudWxsLCEwLEQpO2YmJnRoaXMuZWRpdG9yLmdyYXBoLmFkZFN2Z1NoYWRvdyhnKTt2YXIgcD10aGlzLmdldEJhc2VGaWxlbmFtZSgpKyIuc3ZnIix0PW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuc3Bpbm5lci5zdG9wKCk7bCYmYS5zZXRBdHRyaWJ1dGUoImNvbnRlbnQiLHRoaXMuZ2V0RmlsZURhdGEoITAsbnVsbCxudWxsLG51bGwsZCx4LG51bGwsbnVsbCxudWxsLCExKSk7dmFyIGI9Jzw/eG1sIHZlcnNpb249IjEuMCIgZW5jb2Rpbmc9IlVURi04Ij8+XG48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPlxuJytteFV0aWxzLmdldFhtbChhKTt0aGlzLmlzTG9jYWxGaWxlU2F2ZSgpfHwKYi5sZW5ndGg8PU1BWF9SRVFVRVNUX1NJWkU/dGhpcy5zYXZlRGF0YShwLCJzdmciLGIsImltYWdlL3N2Zyt4bWwiKTp0aGlzLmhhbmRsZUVycm9yKHttZXNzYWdlOm14UmVzb3VyY2VzLmdldCgiZHJhd2luZ1Rvb0xhcmdlIil9LG14UmVzb3VyY2VzLmdldCgiZXJyb3IiKSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe214VXRpbHMucG9wdXAoYil9KSl9KTt0aGlzLmVkaXRvci5hZGRGb250Q3NzKGcpO3RoaXMuZWRpdG9yLmdyYXBoLm1hdGhFbmFibGVkJiZ0aGlzLmVkaXRvci5hZGRNYXRoQ3NzKGcpO24/KG51bGw9PXRoaXMudGh1bWJJbWFnZUNhY2hlJiYodGhpcy50aHVtYkltYWdlQ2FjaGU9e30pLHRoaXMuZWRpdG9yLmNvbnZlcnRJbWFnZXMoZyx0LHRoaXMudGh1bWJJbWFnZUNhY2hlKSk6dChnKX1jYXRjaChGKXt0aGlzLmhhbmRsZUVycm9yKEYpfX07RWRpdG9yVWkucHJvdG90eXBlLmFkZFJhZGlvYm94PWZ1bmN0aW9uKGEsYyxkLGYsbCxuLGspe3JldHVybiB0aGlzLmFkZENoZWNrYm94KGEsCmQsZixsLG4saywhMCxjKX07RWRpdG9yVWkucHJvdG90eXBlLmFkZENoZWNrYm94PWZ1bmN0aW9uKGEsYyxkLGYsbCxuLGssbSl7bj1udWxsIT1uP246ITA7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtiLnN0eWxlLm1hcmdpblJpZ2h0PSI4cHgiO2Iuc3R5bGUubWFyZ2luVG9wPSIxNnB4IjtiLnNldEF0dHJpYnV0ZSgidHlwZSIsaz8icmFkaW8iOiJjaGVja2JveCIpO2s9ImdlQ2hlY2tib3gtIitFZGl0b3IuZ3VpZCgpO2IuaWQ9aztudWxsIT1tJiZiLnNldEF0dHJpYnV0ZSgibmFtZSIsbSk7ZCYmKGIuc2V0QXR0cmlidXRlKCJjaGVja2VkIiwiY2hlY2tlZCIpLGIuZGVmYXVsdENoZWNrZWQ9ITApO2YmJmIuc2V0QXR0cmlidXRlKCJkaXNhYmxlZCIsImRpc2FibGVkIik7biYmKGEuYXBwZW5kQ2hpbGQoYiksZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsYWJlbCIpLG14VXRpbHMud3JpdGUoZCxjKSxkLnNldEF0dHJpYnV0ZSgiZm9yIixrKSxhLmFwcGVuZENoaWxkKGQpLApsfHxteFV0aWxzLmJyKGEpKTtyZXR1cm4gYn07RWRpdG9yVWkucHJvdG90eXBlLmFkZEVkaXRCdXR0b249ZnVuY3Rpb24oYSxjKXt2YXIgYj10aGlzLmFkZENoZWNrYm94KGEsbXhSZXNvdXJjZXMuZ2V0KCJlZGl0IikrIjoiLCEwLG51bGwsITApO2Iuc3R5bGUubWFyZ2luTGVmdD0iMjRweCI7dmFyIGU9dGhpcy5nZXRDdXJyZW50RmlsZSgpLGQ9IiI7bnVsbCE9ZSYmZS5nZXRNb2RlKCkhPUFwcC5NT0RFX0RFVklDRSYmZS5nZXRNb2RlKCkhPUFwcC5NT0RFX0JST1dTRVImJihkPXdpbmRvdy5sb2NhdGlvbi5ocmVmKTt2YXIgZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKTtmLnN0eWxlLndpZHRoPSIxMjBweCI7Zi5zdHlsZS5tYXJnaW5MZWZ0PSI4cHgiO2Yuc3R5bGUubWFyZ2luUmlnaHQ9IjEwcHgiO2YuY2xhc3NOYW1lPSJnZUJ0biI7ZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTtlLnNldEF0dHJpYnV0ZSgidmFsdWUiLCJibGFuayIpO214VXRpbHMud3JpdGUoZSwKbXhSZXNvdXJjZXMuZ2V0KCJtYWtlQ29weSIpKTtmLmFwcGVuZENoaWxkKGUpO2U9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7ZS5zZXRBdHRyaWJ1dGUoInZhbHVlIiwiY3VzdG9tIik7bXhVdGlscy53cml0ZShlLG14UmVzb3VyY2VzLmdldCgiY3VzdG9tIikrIi4uLiIpO2YuYXBwZW5kQ2hpbGQoZSk7YS5hcHBlbmRDaGlsZChmKTtteEV2ZW50LmFkZExpc3RlbmVyKGYsImNoYW5nZSIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtpZigiY3VzdG9tIj09Zi52YWx1ZSl7dmFyIGE9bmV3IEZpbGVuYW1lRGlhbG9nKHRoaXMsZCxteFJlc291cmNlcy5nZXQoIm9rIiksZnVuY3Rpb24oYSl7bnVsbCE9YT9kPWE6Zi52YWx1ZT0iYmxhbmsifSxteFJlc291cmNlcy5nZXQoInVybCIpLG51bGwsbnVsbCxudWxsLG51bGwsZnVuY3Rpb24oKXtmLnZhbHVlPSJibGFuayJ9KTt0aGlzLnNob3dEaWFsb2coYS5jb250YWluZXIsMzAwLDgwLCEwLCExKTthLmluaXQoKX19KSk7Cm14RXZlbnQuYWRkTGlzdGVuZXIoYiwiY2hhbmdlIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2IuY2hlY2tlZCYmKG51bGw9PWN8fGMuY2hlY2tlZCk/Zi5yZW1vdmVBdHRyaWJ1dGUoImRpc2FibGVkIik6Zi5zZXRBdHRyaWJ1dGUoImRpc2FibGVkIiwiZGlzYWJsZWQiKX0pKTtteFV0aWxzLmJyKGEpO3JldHVybntnZXRMaW5rOmZ1bmN0aW9uKCl7cmV0dXJuIGIuY2hlY2tlZD8iYmxhbmsiPT09Zi52YWx1ZT8iX2JsYW5rIjpkOm51bGx9LGdldEVkaXRJbnB1dDpmdW5jdGlvbigpe3JldHVybiBifSxnZXRFZGl0U2VsZWN0OmZ1bmN0aW9uKCl7cmV0dXJuIGZ9fX07RWRpdG9yVWkucHJvdG90eXBlLmFkZExpbmtTZWN0aW9uPWZ1bmN0aW9uKGEsYyl7ZnVuY3Rpb24gYigpe2suaW5uZXJIVE1MPSc8ZGl2IHN0eWxlPSJ3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2JveC1zaXppbmc6Ym9yZGVyLWJveDsnKyhudWxsIT1mJiZmIT1teENvbnN0YW50cy5OT05FPyJib3JkZXI6MXB4IHNvbGlkIGJsYWNrO2JhY2tncm91bmQtY29sb3I6IisKZjoiYmFja2dyb3VuZC1wb3NpdGlvbjpjZW50ZXIgY2VudGVyO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLWltYWdlOnVybCgnIitEaWFsb2cucHJvdG90eXBlLmNsb3NlSW1hZ2UrIicpIikrJzsiPjwvZGl2Pid9bXhVdGlscy53cml0ZShhLG14UmVzb3VyY2VzLmdldCgibGlua3MiKSsiOiIpO3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpO2Uuc3R5bGUud2lkdGg9IjEwMHB4IjtlLnN0eWxlLm1hcmdpbkxlZnQ9IjhweCI7ZS5zdHlsZS5tYXJnaW5SaWdodD0iMTBweCI7ZS5jbGFzc05hbWU9ImdlQnRuIjt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTtkLnNldEF0dHJpYnV0ZSgidmFsdWUiLCJhdXRvIik7bXhVdGlscy53cml0ZShkLG14UmVzb3VyY2VzLmdldCgiYXV0b21hdGljIikpO2UuYXBwZW5kQ2hpbGQoZCk7ZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTtkLnNldEF0dHJpYnV0ZSgidmFsdWUiLAoiYmxhbmsiKTtteFV0aWxzLndyaXRlKGQsbXhSZXNvdXJjZXMuZ2V0KCJvcGVuSW5OZXdXaW5kb3ciKSk7ZS5hcHBlbmRDaGlsZChkKTtkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpO2Quc2V0QXR0cmlidXRlKCJ2YWx1ZSIsInNlbGYiKTtteFV0aWxzLndyaXRlKGQsbXhSZXNvdXJjZXMuZ2V0KCJvcGVuSW5UaGlzV2luZG93IikpO2UuYXBwZW5kQ2hpbGQoZCk7YyYmKGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIiksZC5zZXRBdHRyaWJ1dGUoInZhbHVlIiwiZnJhbWUiKSxteFV0aWxzLndyaXRlKGQsbXhSZXNvdXJjZXMuZ2V0KCJvcGVuSW5UaGlzV2luZG93IikrIiAoIitteFJlc291cmNlcy5nZXQoImlmcmFtZSIpKyIpIiksZS5hcHBlbmRDaGlsZChkKSk7YS5hcHBlbmRDaGlsZChlKTtteFV0aWxzLndyaXRlKGEsbXhSZXNvdXJjZXMuZ2V0KCJib3JkZXJDb2xvciIpKyI6Iik7dmFyIGY9IiMwMDAwZmYiLGs9bnVsbCxrPW14VXRpbHMuYnV0dG9uKCIiLApteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLnBpY2tDb2xvcihmfHwibm9uZSIsZnVuY3Rpb24oYSl7Zj1hO2IoKX0pO214RXZlbnQuY29uc3VtZShhKX0pKTtiKCk7ay5zdHlsZS5wYWRkaW5nPW14Q2xpZW50LklTX0ZGPyI0cHggMnB4IDRweCAycHgiOiI0cHgiO2suc3R5bGUubWFyZ2luTGVmdD0iNHB4IjtrLnN0eWxlLmhlaWdodD0iMjJweCI7ay5zdHlsZS53aWR0aD0iMjJweCI7ay5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiO2suc3R5bGUudG9wPW14Q2xpZW50LklTX0lFfHxteENsaWVudC5JU19JRTExfHxteENsaWVudC5JU19FREdFPyI2cHgiOiIxcHgiO2suY2xhc3NOYW1lPSJnZUNvbG9yQnRuIjthLmFwcGVuZENoaWxkKGspO214VXRpbHMuYnIoYSk7cmV0dXJue2dldENvbG9yOmZ1bmN0aW9uKCl7cmV0dXJuIGZ9LGdldFRhcmdldDpmdW5jdGlvbigpe3JldHVybiBlLnZhbHVlfSxmb2N1czpmdW5jdGlvbigpe2UuZm9jdXMoKX19fTtFZGl0b3JVaS5wcm90b3R5cGUuY3JlYXRlVXJsUGFyYW1ldGVycz0KZnVuY3Rpb24oYSxjLGQsZixsLG4sayl7az1udWxsIT1rP2s6W107ZiYmKGsucHVzaCgibGlnaHRib3g9MSIpLCJhdXRvIiE9YSYmay5wdXNoKCJ0YXJnZXQ9IithKSxudWxsIT1jJiZjIT1teENvbnN0YW50cy5OT05FJiZrLnB1c2goImhpZ2hsaWdodD0iKygiIyI9PWMuY2hhckF0KDApP2Muc3Vic3RyaW5nKDEpOmMpKSxudWxsIT1sJiYwPGwubGVuZ3RoJiZrLnB1c2goImVkaXQ9IitlbmNvZGVVUklDb21wb25lbnQobCkpLG4mJmsucHVzaCgibGF5ZXJzPTEiKSx0aGlzLmVkaXRvci5ncmFwaC5mb2xkaW5nRW5hYmxlZCYmay5wdXNoKCJuYXY9MSIpKTtkJiZudWxsIT10aGlzLmN1cnJlbnRQYWdlJiZudWxsIT10aGlzLnBhZ2VzJiZ0aGlzLmN1cnJlbnRQYWdlIT10aGlzLnBhZ2VzWzBdJiZrLnB1c2goInBhZ2UtaWQ9Iit0aGlzLmN1cnJlbnRQYWdlLmdldElkKCkpO3JldHVybiBrfTtFZGl0b3JVaS5wcm90b3R5cGUuY3JlYXRlTGluaz1mdW5jdGlvbihhLGMsZCxmLGwsbixrLG0sCngpe3g9bnVsbCE9eD94OnRoaXMuY3JlYXRlVXJsUGFyYW1ldGVycyhhLGMsZCxmLGwsbik7YT10aGlzLmdldEN1cnJlbnRGaWxlKCk7Yz0hMDtudWxsIT1rP2Q9IiNVIitlbmNvZGVVUklDb21wb25lbnQoayk6KGE9dGhpcy5nZXRDdXJyZW50RmlsZSgpLG18fG51bGw9PWF8fGEuY29uc3RydWN0b3IhPXdpbmRvdy5Ecml2ZUZpbGU/ZD0iI1IiK2VuY29kZVVSSUNvbXBvbmVudChkP3RoaXMuZ2V0RmlsZURhdGEoITAsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsITAsbnVsbCwhMSk6R3JhcGguY29tcHJlc3MobXhVdGlscy5nZXRYbWwodGhpcy5lZGl0b3IuZ2V0R3JhcGhYbWwoKSkpKTooZD0iIyIrYS5nZXRIYXNoKCksYz0hMSkpO2MmJm51bGwhPWEmJm51bGwhPWEuZ2V0VGl0bGUoKSYmYS5nZXRUaXRsZSgpIT10aGlzLmRlZmF1bHRGaWxlbmFtZSYmeC5wdXNoKCJ0aXRsZT0iK2VuY29kZVVSSUNvbXBvbmVudChhLmdldFRpdGxlKCkpKTtyZXR1cm4obXhDbGllbnQuSVNfQ0hST01FQVBQfHwKRWRpdG9yVWkuaXNFbGVjdHJvbkFwcHx8IS8uKlwuZHJhd1wuaW8kLy50ZXN0KHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSk/RWRpdG9yVWkuZHJhd0hvc3Q6Imh0dHBzOi8vIit3aW5kb3cubG9jYXRpb24uaG9zdCkrIi8iKygwPHgubGVuZ3RoPyI/Iit4LmpvaW4oIiYiKToiIikrZH07RWRpdG9yVWkucHJvdG90eXBlLmNyZWF0ZUh0bWw9ZnVuY3Rpb24oYSxjLGQsZixsLG4sayxtLHgscSxEKXt0aGlzLmdldEJhc2VuYW1lcygpO3ZhciBiPXt9OyIiIT1sJiZsIT1teENvbnN0YW50cy5OT05FJiYoYi5oaWdobGlnaHQ9bCk7ImF1dG8iIT09ZiYmKGIudGFyZ2V0PWYpO3h8fChiLmxpZ2h0Ym94PSExKTtiLm5hdj10aGlzLmVkaXRvci5ncmFwaC5mb2xkaW5nRW5hYmxlZDtkPXBhcnNlSW50KGQpO2lzTmFOKGQpfHwxMDA9PWR8fChiLnpvb209ZC8xMDApO2Q9W107ayYmKGQucHVzaCgicGFnZXMiKSxiLnJlc2l6ZT0hMCxudWxsIT10aGlzLnBhZ2VzJiZudWxsIT10aGlzLmN1cnJlbnRQYWdlJiYKKGIucGFnZT1teFV0aWxzLmluZGV4T2YodGhpcy5wYWdlcyx0aGlzLmN1cnJlbnRQYWdlKSkpO2MmJihkLnB1c2goInpvb20iKSxiLnJlc2l6ZT0hMCk7bSYmZC5wdXNoKCJsYXllcnMiKTswPGQubGVuZ3RoJiYoeCYmZC5wdXNoKCJsaWdodGJveCIpLGIudG9vbGJhcj1kLmpvaW4oIiAiKSk7bnVsbCE9cSYmMDxxLmxlbmd0aCYmKGIuZWRpdD1xKTtudWxsIT1hP2IudXJsPWE6Yi54bWw9dGhpcy5nZXRGaWxlRGF0YSghMCxudWxsLG51bGwsbnVsbCxudWxsLCFrKTtjPSc8ZGl2IGNsYXNzPSJteGdyYXBoIiBzdHlsZT0iJysobj8ibWF4LXdpZHRoOjEwMCU7IjoiIikrKCIiIT1kPyJib3JkZXI6MXB4IHNvbGlkIHRyYW5zcGFyZW50OyI6IiIpKyciIGRhdGEtbXhncmFwaD0iJytteFV0aWxzLmh0bWxFbnRpdGllcyhKU09OLnN0cmluZ2lmeShiKSkrJyI+PC9kaXY+JzthPW51bGwhPWE/IiZmZXRjaD0iK2VuY29kZVVSSUNvbXBvbmVudChhKToiIjtEKGMsJzxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9IicrCigwPGEubGVuZ3RoPygiMSI9PXVybFBhcmFtcy5kZXY/Imh0dHBzOi8vdGVzdC5kcmF3LmlvL2VtYmVkMi5qcz9kZXY9MSI6RWRpdG9yVWkuZHJhd0hvc3QrIi9lbWJlZDIuanM/IikrYToiMSI9PXVybFBhcmFtcy5kZXY/Imh0dHBzOi8vdGVzdC5kcmF3LmlvL2pzL3ZpZXdlci5taW4uanMiOndpbmRvdy5WSUVXRVJfVVJMP3dpbmRvdy5WSUVXRVJfVVJMOkVkaXRvclVpLmRyYXdIb3N0KyIvanMvdmlld2VyLm1pbi5qcyIpKyciPlx4M2Mvc2NyaXB0PicpfTtFZGl0b3JVaS5wcm90b3R5cGUuc2hvd0h0bWxEaWFsb2c9ZnVuY3Rpb24oYSxjLGQsZil7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Yi5zdHlsZS53aGl0ZVNwYWNlPSJub3dyYXAiO3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImgzIik7bXhVdGlscy53cml0ZShlLG14UmVzb3VyY2VzLmdldCgiaHRtbCIpKTtlLnN0eWxlLmNzc1RleHQ9IndpZHRoOjEwMCU7dGV4dC1hbGlnbjpjZW50ZXI7bWFyZ2luLXRvcDowcHg7bWFyZ2luLWJvdHRvbToxMnB4IjsKYi5hcHBlbmRDaGlsZChlKTt2YXIgZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtnLnN0eWxlLmNzc1RleHQ9ImJvcmRlci1ib3R0b206MXB4IHNvbGlkIGxpZ2h0R3JheTtwYWRkaW5nLWJvdHRvbTo4cHg7bWFyZ2luLWJvdHRvbToxMnB4OyI7dmFyIHA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtwLnN0eWxlLmNzc1RleHQ9Im1hcmdpbi1yaWdodDo4cHg7bWFyZ2luLXRvcDo4cHg7bWFyZ2luLWJvdHRvbTo4cHg7IjtwLnNldEF0dHJpYnV0ZSgidmFsdWUiLCJ1cmwiKTtwLnNldEF0dHJpYnV0ZSgidHlwZSIsInJhZGlvIik7cC5zZXRBdHRyaWJ1dGUoIm5hbWUiLCJ0eXBlLWVtYmVkaHRtbGRpYWxvZyIpO2U9cC5jbG9uZU5vZGUoITApO2Uuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsImNvcHkiKTtnLmFwcGVuZENoaWxkKGUpO3ZhciBrPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTtteFV0aWxzLndyaXRlKGssbXhSZXNvdXJjZXMuZ2V0KCJpbmNsdWRlQ29weU9mTXlEaWFncmFtIikpOwpnLmFwcGVuZENoaWxkKGspO214VXRpbHMuYnIoZyk7Zy5hcHBlbmRDaGlsZChwKTtrPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTtteFV0aWxzLndyaXRlKGssbXhSZXNvdXJjZXMuZ2V0KCJwdWJsaWNEaWFncmFtVXJsIikpO2cuYXBwZW5kQ2hpbGQoayk7dmFyIG09dGhpcy5nZXRDdXJyZW50RmlsZSgpO251bGw9PWQmJm51bGwhPW0mJm0uY29uc3RydWN0b3I9PXdpbmRvdy5Ecml2ZUZpbGUmJihrPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKSxrLnN0eWxlLnBhZGRpbmdMZWZ0PSIxMnB4IixrLnN0eWxlLmNvbG9yPSJncmF5IixrLnN0eWxlLmN1cnNvcj0icG9pbnRlciIsbXhVdGlscy53cml0ZShrLG14UmVzb3VyY2VzLmdldCgic2hhcmUiKSksZy5hcHBlbmRDaGlsZChrKSxteEV2ZW50LmFkZExpc3RlbmVyKGssImNsaWNrIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuaGlkZURpYWxvZygpO3RoaXMuZHJpdmUuc2hvd1Blcm1pc3Npb25zKG0uZ2V0SWQoKSl9KSkpOwplLnNldEF0dHJpYnV0ZSgiY2hlY2tlZCIsImNoZWNrZWQiKTtudWxsPT1kJiZwLnNldEF0dHJpYnV0ZSgiZGlzYWJsZWQiLCJkaXNhYmxlZCIpO2IuYXBwZW5kQ2hpbGQoZyk7dmFyIHE9dGhpcy5hZGRMaW5rU2VjdGlvbihiKSxCPXRoaXMuYWRkQ2hlY2tib3goYixteFJlc291cmNlcy5nZXQoInpvb20iKSwhMCxudWxsLCEwKTtteFV0aWxzLndyaXRlKGIsIjoiKTt2YXIgQz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO0Muc2V0QXR0cmlidXRlKCJ0eXBlIiwidGV4dCIpO0Muc3R5bGUubWFyZ2luUmlnaHQ9IjE2cHgiO0Muc3R5bGUud2lkdGg9IjYwcHgiO0Muc3R5bGUubWFyZ2luTGVmdD0iNHB4IjtDLnN0eWxlLm1hcmdpblJpZ2h0PSIxMnB4IjtDLnZhbHVlPSIxMDAlIjtiLmFwcGVuZENoaWxkKEMpO3ZhciB6PXRoaXMuYWRkQ2hlY2tib3goYixteFJlc291cmNlcy5nZXQoImZpdCIpLCEwKSxnPW51bGwhPXRoaXMucGFnZXMmJjE8dGhpcy5wYWdlcy5sZW5ndGgsRT0KRT10aGlzLmFkZENoZWNrYm94KGIsbXhSZXNvdXJjZXMuZ2V0KCJhbGxQYWdlcyIpLGcsIWcpLEc9dGhpcy5hZGRDaGVja2JveChiLG14UmVzb3VyY2VzLmdldCgibGF5ZXJzIiksITApLEY9dGhpcy5hZGRDaGVja2JveChiLG14UmVzb3VyY2VzLmdldCgibGlnaHRib3giKSwhMCksST10aGlzLmFkZEVkaXRCdXR0b24oYixGKSxKPUkuZ2V0RWRpdElucHV0KCk7Si5zdHlsZS5tYXJnaW5Cb3R0b209IjE2cHgiO214RXZlbnQuYWRkTGlzdGVuZXIoRiwiY2hhbmdlIixmdW5jdGlvbigpe0YuY2hlY2tlZD9KLnJlbW92ZUF0dHJpYnV0ZSgiZGlzYWJsZWQiKTpKLnNldEF0dHJpYnV0ZSgiZGlzYWJsZWQiLCJkaXNhYmxlZCIpO0ouY2hlY2tlZCYmRi5jaGVja2VkP0kuZ2V0RWRpdFNlbGVjdCgpLnJlbW92ZUF0dHJpYnV0ZSgiZGlzYWJsZWQiKTpJLmdldEVkaXRTZWxlY3QoKS5zZXRBdHRyaWJ1dGUoImRpc2FibGVkIiwiZGlzYWJsZWQiKX0pO2E9bmV3IEN1c3RvbURpYWxvZyh0aGlzLGIsCm14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7ZihwLmNoZWNrZWQ/ZDpudWxsLEIuY2hlY2tlZCxDLnZhbHVlLHEuZ2V0VGFyZ2V0KCkscS5nZXRDb2xvcigpLHouY2hlY2tlZCxFLmNoZWNrZWQsRy5jaGVja2VkLEYuY2hlY2tlZCxJLmdldExpbmsoKSl9KSxudWxsLGEsYyk7dGhpcy5zaG93RGlhbG9nKGEuY29udGFpbmVyLDM0MCwzODQsITAsITApO2UuZm9jdXMoKX07RWRpdG9yVWkucHJvdG90eXBlLnNob3dQdWJsaXNoTGlua0RpYWxvZz1mdW5jdGlvbihhLGMsZCxmLGwsbixrKXtrPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2suc3R5bGUud2hpdGVTcGFjZT0ibm93cmFwIjt2YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJoMyIpO214VXRpbHMud3JpdGUoYixhfHxteFJlc291cmNlcy5nZXQoImxpbmsiKSk7Yi5zdHlsZS5jc3NUZXh0PSJ3aWR0aDoxMDAlO3RleHQtYWxpZ246Y2VudGVyO21hcmdpbi10b3A6MHB4O21hcmdpbi1ib3R0b206MTJweCI7ay5hcHBlbmRDaGlsZChiKTsKdmFyIGU9dGhpcy5nZXRDdXJyZW50RmlsZSgpLGI9Imh0dHBzOi8vZGVzay5kcmF3LmlvL3N1cHBvcnQvc29sdXRpb25zL2FydGljbGVzLzE2MDAwMDUxOTQxIjthPTA7aWYobnVsbCE9ZSYmZS5jb25zdHJ1Y3Rvcj09d2luZG93LkRyaXZlRmlsZSYmIWMpe2E9ODA7dmFyIGI9Imh0dHBzOi8vZGVzay5kcmF3LmlvL3N1cHBvcnQvc29sdXRpb25zL2FydGljbGVzLzE2MDAwMDM5Mzg0IixnPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2cuc3R5bGUuY3NzVGV4dD0iYm9yZGVyLWJvdHRvbToxcHggc29saWQgbGlnaHRHcmF5O3BhZGRpbmctYm90dG9tOjE0cHg7cGFkZGluZy10b3A6NnB4O21hcmdpbi1ib3R0b206MTRweDt0ZXh0LWFsaWduOmNlbnRlcjsiO3ZhciBwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3Auc3R5bGUud2hpdGVTcGFjZT0ibm9ybWFsIjtteFV0aWxzLndyaXRlKHAsbXhSZXNvdXJjZXMuZ2V0KCJsaW5rQWNjb3VudFJlcXVpcmVkIikpO2cuYXBwZW5kQ2hpbGQocCk7CnA9bXhVdGlscy5idXR0b24obXhSZXNvdXJjZXMuZ2V0KCJzaGFyZSIpLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5kcml2ZS5zaG93UGVybWlzc2lvbnMoZS5nZXRJZCgpKX0pKTtwLnN0eWxlLm1hcmdpblRvcD0iMTJweCI7cC5jbGFzc05hbWU9ImdlQnRuIjtnLmFwcGVuZENoaWxkKHApO2suYXBwZW5kQ2hpbGQoZyk7cD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7cC5zdHlsZS5wYWRkaW5nTGVmdD0iMTJweCI7cC5zdHlsZS5jb2xvcj0iZ3JheSI7cC5zdHlsZS5mb250U2l6ZT0iMTFweCI7cC5zdHlsZS5jdXJzb3I9InBvaW50ZXIiO214VXRpbHMud3JpdGUocCxteFJlc291cmNlcy5nZXQoImNoZWNrIikpO2cuYXBwZW5kQ2hpbGQocCk7bXhFdmVudC5hZGRMaXN0ZW5lcihwLCJjbGljayIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnNwaW5uZXIuc3Bpbihkb2N1bWVudC5ib2R5LG14UmVzb3VyY2VzLmdldCgibG9hZGluZyIpKSYmdGhpcy5nZXRQdWJsaWNVcmwodGhpcy5nZXRDdXJyZW50RmlsZSgpLApteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLnNwaW5uZXIuc3RvcCgpO2E9bmV3IEVycm9yRGlhbG9nKHRoaXMsbnVsbCxteFJlc291cmNlcy5nZXQobnVsbCE9YT8iZGlhZ3JhbUlzUHVibGljIjoiZGlhZ3JhbUlzTm90UHVibGljIiksbXhSZXNvdXJjZXMuZ2V0KCJvayIpKTt0aGlzLnNob3dEaWFsb2coYS5jb250YWluZXIsMzAwLDgwLCEwLCExKTthLmluaXQoKX0pKX0pKX12YXIgbT1udWxsLHE9bnVsbDtpZihudWxsIT1kfHxudWxsIT1mKWErPTMwLG14VXRpbHMud3JpdGUoayxteFJlc291cmNlcy5nZXQoIndpZHRoIikrIjoiKSxtPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0IiksbS5zZXRBdHRyaWJ1dGUoInR5cGUiLCJ0ZXh0IiksbS5zdHlsZS5tYXJnaW5SaWdodD0iMTZweCIsbS5zdHlsZS53aWR0aD0iNTBweCIsbS5zdHlsZS5tYXJnaW5MZWZ0PSI2cHgiLG0uc3R5bGUubWFyZ2luUmlnaHQ9IjE2cHgiLG0uc3R5bGUubWFyZ2luQm90dG9tPSIxMHB4IiwKbS52YWx1ZT0iMTAwJSIsay5hcHBlbmRDaGlsZChtKSxteFV0aWxzLndyaXRlKGssbXhSZXNvdXJjZXMuZ2V0KCJoZWlnaHQiKSsiOiIpLHE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxxLnNldEF0dHJpYnV0ZSgidHlwZSIsInRleHQiKSxxLnN0eWxlLndpZHRoPSI1MHB4IixxLnN0eWxlLm1hcmdpbkxlZnQ9IjZweCIscS5zdHlsZS5tYXJnaW5Cb3R0b209IjEwcHgiLHEudmFsdWU9ZisicHgiLGsuYXBwZW5kQ2hpbGQocSksbXhVdGlscy5icihrKTt2YXIgdj10aGlzLmFkZExpbmtTZWN0aW9uKGssbik7ZD1udWxsIT10aGlzLnBhZ2VzJiYxPHRoaXMucGFnZXMubGVuZ3RoO3ZhciBFPW51bGw7aWYobnVsbD09ZXx8ZS5jb25zdHJ1Y3RvciE9d2luZG93LkRyaXZlRmlsZXx8YylFPXRoaXMuYWRkQ2hlY2tib3goayxteFJlc291cmNlcy5nZXQoImFsbFBhZ2VzIiksZCwhZCk7dmFyIEc9dGhpcy5hZGRDaGVja2JveChrLG14UmVzb3VyY2VzLmdldCgibGlnaHRib3giKSwhMCksCkY9dGhpcy5hZGRFZGl0QnV0dG9uKGssRyksST1GLmdldEVkaXRJbnB1dCgpLEo9dGhpcy5hZGRDaGVja2JveChrLG14UmVzb3VyY2VzLmdldCgibGF5ZXJzIiksITApO0ouc3R5bGUubWFyZ2luTGVmdD1JLnN0eWxlLm1hcmdpbkxlZnQ7Si5zdHlsZS5tYXJnaW5Cb3R0b209IjE2cHgiO0ouc3R5bGUubWFyZ2luVG9wPSI4cHgiO214RXZlbnQuYWRkTGlzdGVuZXIoRywiY2hhbmdlIixmdW5jdGlvbigpe0cuY2hlY2tlZD8oSi5yZW1vdmVBdHRyaWJ1dGUoImRpc2FibGVkIiksSS5yZW1vdmVBdHRyaWJ1dGUoImRpc2FibGVkIikpOihKLnNldEF0dHJpYnV0ZSgiZGlzYWJsZWQiLCJkaXNhYmxlZCIpLEkuc2V0QXR0cmlidXRlKCJkaXNhYmxlZCIsImRpc2FibGVkIikpO0kuY2hlY2tlZCYmRy5jaGVja2VkP0YuZ2V0RWRpdFNlbGVjdCgpLnJlbW92ZUF0dHJpYnV0ZSgiZGlzYWJsZWQiKTpGLmdldEVkaXRTZWxlY3QoKS5zZXRBdHRyaWJ1dGUoImRpc2FibGVkIiwiZGlzYWJsZWQiKX0pOwpjPW5ldyBDdXN0b21EaWFsb2codGhpcyxrLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7bCh2LmdldFRhcmdldCgpLHYuZ2V0Q29sb3IoKSxudWxsPT1FPyEwOkUuY2hlY2tlZCxHLmNoZWNrZWQsRi5nZXRMaW5rKCksSi5jaGVja2VkLG51bGwhPW0/bS52YWx1ZTpudWxsLG51bGwhPXE/cS52YWx1ZTpudWxsKX0pLG51bGwsbXhSZXNvdXJjZXMuZ2V0KCJjcmVhdGUiKSxiKTt0aGlzLnNob3dEaWFsb2coYy5jb250YWluZXIsMzQwLDI1NCthLCEwLCEwKTtudWxsIT1tPyhtLmZvY3VzKCksbXhDbGllbnQuSVNfR0N8fG14Q2xpZW50LklTX0ZGfHw1PD1kb2N1bWVudC5kb2N1bWVudE1vZGV8fG14Q2xpZW50LklTX1FVSVJLUz9tLnNlbGVjdCgpOmRvY3VtZW50LmV4ZWNDb21tYW5kKCJzZWxlY3RBbGwiLCExLG51bGwpKTp2LmZvY3VzKCl9O0VkaXRvclVpLnByb3RvdHlwZS5zaG93UmVtb3RlRXhwb3J0RGlhbG9nPWZ1bmN0aW9uKGEsYyxkLGYsbCl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CmIuc3R5bGUud2hpdGVTcGFjZT0ibm93cmFwIjt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJoMyIpO214VXRpbHMud3JpdGUoZSxteFJlc291cmNlcy5nZXQoImltYWdlIikpO2Uuc3R5bGUuY3NzVGV4dD0id2lkdGg6MTAwJTt0ZXh0LWFsaWduOmNlbnRlcjttYXJnaW4tdG9wOjBweDttYXJnaW4tYm90dG9tOiIrKGw/IjEwIjoiNCIpKyJweCI7Yi5hcHBlbmRDaGlsZChlKTtpZihsKXtteFV0aWxzLndyaXRlKGIsbXhSZXNvdXJjZXMuZ2V0KCJ6b29tIikrIjoiKTt2YXIgZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO2cuc2V0QXR0cmlidXRlKCJ0eXBlIiwidGV4dCIpO2cuc3R5bGUubWFyZ2luUmlnaHQ9IjE2cHgiO2cuc3R5bGUud2lkdGg9IjYwcHgiO2cuc3R5bGUubWFyZ2luTGVmdD0iNHB4IjtnLnN0eWxlLm1hcmdpblJpZ2h0PSIxMnB4IjtnLnZhbHVlPXRoaXMubGFzdEV4cG9ydFpvb218fCIxMDAlIjtiLmFwcGVuZENoaWxkKGcpO214VXRpbHMud3JpdGUoYiwKbXhSZXNvdXJjZXMuZ2V0KCJib3JkZXJXaWR0aCIpKyI6Iik7dmFyIGs9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtrLnNldEF0dHJpYnV0ZSgidHlwZSIsInRleHQiKTtrLnN0eWxlLm1hcmdpblJpZ2h0PSIxNnB4IjtrLnN0eWxlLndpZHRoPSI2MHB4IjtrLnN0eWxlLm1hcmdpbkxlZnQ9IjRweCI7ay52YWx1ZT10aGlzLmxhc3RFeHBvcnRCb3JkZXJ8fCIwIjtiLmFwcGVuZENoaWxkKGspO214VXRpbHMuYnIoYil9dmFyIHA9dGhpcy5hZGRDaGVja2JveChiLG14UmVzb3VyY2VzLmdldCgic2VsZWN0aW9uT25seSIpLCExLHRoaXMuZWRpdG9yLmdyYXBoLmlzU2VsZWN0aW9uRW1wdHkoKSksbT1mP251bGw6dGhpcy5hZGRDaGVja2JveChiLG14UmVzb3VyY2VzLmdldCgiaW5jbHVkZUNvcHlPZk15RGlhZ3JhbSIpLCEwKSxlPXRoaXMuZWRpdG9yLmdyYXBoLHE9Zj9udWxsOnRoaXMuYWRkQ2hlY2tib3goYixteFJlc291cmNlcy5nZXQoInRyYW5zcGFyZW50QmFja2dyb3VuZCIpLAplLmJhY2tncm91bmQ9PW14Q29uc3RhbnRzLk5PTkV8fG51bGw9PWUuYmFja2dyb3VuZCk7bnVsbCE9cSYmKHEuc3R5bGUubWFyZ2luQm90dG9tPSIxNnB4Iik7YT1uZXcgQ3VzdG9tRGlhbG9nKHRoaXMsYixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3ZhciBhPXBhcnNlSW50KGcudmFsdWUpLzEwMHx8MSxiPXBhcnNlSW50KGsudmFsdWUpfHwwO2QoIXAuY2hlY2tlZCxudWxsIT1tP20uY2hlY2tlZDohMSxudWxsIT1xP3EuY2hlY2tlZDohMSxhLGIpfSksbnVsbCxhLGMpO3RoaXMuc2hvd0RpYWxvZyhhLmNvbnRhaW5lciwzMDAsKGw/MjU6MCkrKGY/MTI1OjIxMCksITAsITApfTtFZGl0b3JVaS5wcm90b3R5cGUuc2hvd0V4cG9ydERpYWxvZz1mdW5jdGlvbihhLGMsZCxmLGwsbixrLG0pe2s9bnVsbCE9az9rOiEwO3ZhciBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Iuc3R5bGUud2hpdGVTcGFjZT0ibm93cmFwIjt2YXIgZT10aGlzLmVkaXRvci5ncmFwaCxnPSJqcGVnIj09Cm0/MTk2OjMwMCxwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImgzIik7bXhVdGlscy53cml0ZShwLGEpO3Auc3R5bGUuY3NzVGV4dD0id2lkdGg6MTAwJTt0ZXh0LWFsaWduOmNlbnRlcjttYXJnaW4tdG9wOjBweDttYXJnaW4tYm90dG9tOjEwcHgiO2IuYXBwZW5kQ2hpbGQocCk7bXhVdGlscy53cml0ZShiLG14UmVzb3VyY2VzLmdldCgiem9vbSIpKyI6Iik7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTt0LnNldEF0dHJpYnV0ZSgidHlwZSIsInRleHQiKTt0LnN0eWxlLm1hcmdpblJpZ2h0PSIxNnB4Ijt0LnN0eWxlLndpZHRoPSI2MHB4Ijt0LnN0eWxlLm1hcmdpbkxlZnQ9IjRweCI7dC5zdHlsZS5tYXJnaW5SaWdodD0iMTJweCI7dC52YWx1ZT10aGlzLmxhc3RFeHBvcnRab29tfHwiMTAwJSI7Yi5hcHBlbmRDaGlsZCh0KTtteFV0aWxzLndyaXRlKGIsbXhSZXNvdXJjZXMuZ2V0KCJib3JkZXJXaWR0aCIpKyI6Iik7dmFyIHE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTsKcS5zZXRBdHRyaWJ1dGUoInR5cGUiLCJ0ZXh0Iik7cS5zdHlsZS5tYXJnaW5SaWdodD0iMTZweCI7cS5zdHlsZS53aWR0aD0iNjBweCI7cS5zdHlsZS5tYXJnaW5MZWZ0PSI0cHgiO3EudmFsdWU9dGhpcy5sYXN0RXhwb3J0Qm9yZGVyfHwiMCI7Yi5hcHBlbmRDaGlsZChxKTtteFV0aWxzLmJyKGIpO3ZhciB2PXRoaXMuYWRkQ2hlY2tib3goYixteFJlc291cmNlcy5nZXQoInRyYW5zcGFyZW50QmFja2dyb3VuZCIpLCExLG51bGwsbnVsbCwianBlZyIhPW0pLEc9bnVsbDsiZGFyayI9PXVpVGhlbWUmJihHPXRoaXMuYWRkQ2hlY2tib3goYixteFJlc291cmNlcy5nZXQoImRhcmsiKSwhMCksZys9MjYpO3ZhciBGPXRoaXMuYWRkQ2hlY2tib3goYixteFJlc291cmNlcy5nZXQoInNlbGVjdGlvbk9ubHkiKSwhMSxlLmlzU2VsZWN0aW9uRW1wdHkoKSksST1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO0kuc3R5bGUubWFyZ2luVG9wPSIxNnB4IjtJLnN0eWxlLm1hcmdpblJpZ2h0PQoiOHB4IjtJLnN0eWxlLm1hcmdpbkxlZnQ9IjI0cHgiO0kuc2V0QXR0cmlidXRlKCJkaXNhYmxlZCIsImRpc2FibGVkIik7SS5zZXRBdHRyaWJ1dGUoInR5cGUiLCJjaGVja2JveCIpO24mJihiLmFwcGVuZENoaWxkKEkpLG14VXRpbHMud3JpdGUoYixteFJlc291cmNlcy5nZXQoImNyb3AiKSksbXhVdGlscy5icihiKSxnKz0yNixteEV2ZW50LmFkZExpc3RlbmVyKEYsImNoYW5nZSIsZnVuY3Rpb24oKXtGLmNoZWNrZWQ/SS5yZW1vdmVBdHRyaWJ1dGUoImRpc2FibGVkIik6SS5zZXRBdHRyaWJ1dGUoImRpc2FibGVkIiwiZGlzYWJsZWQiKX0pKTtlLmlzU2VsZWN0aW9uRW1wdHkoKXx8KEkuc2V0QXR0cmlidXRlKCJjaGVja2VkIiwiY2hlY2tlZCIpLEkuZGVmYXVsdENoZWNrZWQ9ITApO3ZhciBKPXRoaXMuYWRkQ2hlY2tib3goYixteFJlc291cmNlcy5nZXQoInNoYWRvdyIpLGUuc2hhZG93VmlzaWJsZSksdT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO3Uuc3R5bGUubWFyZ2luVG9wPQoiMTZweCI7dS5zdHlsZS5tYXJnaW5SaWdodD0iOHB4Ijt1LnNldEF0dHJpYnV0ZSgidHlwZSIsImNoZWNrYm94Iik7IXRoaXMuaXNPZmZsaW5lKCkmJnRoaXMuY2FudmFzU3VwcG9ydGVkfHx1LnNldEF0dHJpYnV0ZSgiZGlzYWJsZWQiLCJkaXNhYmxlZCIpO2MmJihiLmFwcGVuZENoaWxkKHUpLG14VXRpbHMud3JpdGUoYixteFJlc291cmNlcy5nZXQoImVtYmVkSW1hZ2VzIikpLG14VXRpbHMuYnIoYiksZys9MjYpO3ZhciBLPW51bGw7aWYoInBuZyI9PW18fCJqcGVnIj09bSlLPXRoaXMuYWRkQ2hlY2tib3goYixteFJlc291cmNlcy5nZXQoImdyaWQiKSwhMSx0aGlzLmlzT2ZmbGluZSgpfHwhdGhpcy5jYW52YXNTdXBwb3J0ZWQsITEsITApLGcrPTI2O3ZhciB5PXRoaXMuYWRkQ2hlY2tib3goYixteFJlc291cmNlcy5nZXQoImluY2x1ZGVDb3B5T2ZNeURpYWdyYW0iKSxrLG51bGwsbnVsbCwianBlZyIhPW0pLE49bnVsbCE9dGhpcy5wYWdlcyYmMTx0aGlzLnBhZ2VzLmxlbmd0aCwKTz10aGlzLmFkZENoZWNrYm94KGIsTj9teFJlc291cmNlcy5nZXQoImFsbFBhZ2VzIik6IiIsTiwhTixudWxsLCJqcGVnIiE9bSk7Ty5zdHlsZS5tYXJnaW5MZWZ0PSIyNHB4IjtPLnN0eWxlLm1hcmdpbkJvdHRvbT0iMTZweCI7Tj9nKz0yNjpPLnN0eWxlLmRpc3BsYXk9Im5vbmUiO214RXZlbnQuYWRkTGlzdGVuZXIoeSwiY2hhbmdlIixmdW5jdGlvbigpe3kuY2hlY2tlZCYmTj9PLnJlbW92ZUF0dHJpYnV0ZSgiZGlzYWJsZWQiKTpPLnNldEF0dHJpYnV0ZSgiZGlzYWJsZWQiLCJkaXNhYmxlZCIpfSk7ayYmTnx8Ty5zZXRBdHRyaWJ1dGUoImRpc2FibGVkIiwiZGlzYWJsZWQiKTt2YXIgSD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKTtILnN0eWxlLm1heFdpZHRoPSIyNjBweCI7SC5zdHlsZS5tYXJnaW5MZWZ0PSI4cHgiO0guc3R5bGUubWFyZ2luUmlnaHQ9IjEwcHgiO0guY2xhc3NOYW1lPSJnZUJ0biI7YT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTthLnNldEF0dHJpYnV0ZSgidmFsdWUiLAoiYXV0byIpO214VXRpbHMud3JpdGUoYSxteFJlc291cmNlcy5nZXQoImF1dG9tYXRpYyIpKTtILmFwcGVuZENoaWxkKGEpO2E9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7YS5zZXRBdHRyaWJ1dGUoInZhbHVlIiwiYmxhbmsiKTtteFV0aWxzLndyaXRlKGEsbXhSZXNvdXJjZXMuZ2V0KCJvcGVuSW5OZXdXaW5kb3ciKSk7SC5hcHBlbmRDaGlsZChhKTthPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpO2Euc2V0QXR0cmlidXRlKCJ2YWx1ZSIsInNlbGYiKTtteFV0aWxzLndyaXRlKGEsbXhSZXNvdXJjZXMuZ2V0KCJvcGVuSW5UaGlzV2luZG93IikpO0guYXBwZW5kQ2hpbGQoYSk7InN2ZyI9PW0mJihteFV0aWxzLndyaXRlKGIsbXhSZXNvdXJjZXMuZ2V0KCJsaW5rcyIpKyI6IiksYi5hcHBlbmRDaGlsZChIKSxteFV0aWxzLmJyKGIpLG14VXRpbHMuYnIoYiksZys9MjYpO2Q9bmV3IEN1c3RvbURpYWxvZyh0aGlzLGIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmxhc3RFeHBvcnRCb3JkZXI9CnEudmFsdWU7dGhpcy5sYXN0RXhwb3J0Wm9vbT10LnZhbHVlO2wodC52YWx1ZSx2LmNoZWNrZWQsIUYuY2hlY2tlZCxKLmNoZWNrZWQseS5jaGVja2VkLHUuY2hlY2tlZCxxLnZhbHVlLEkuY2hlY2tlZCwhTy5jaGVja2VkLEgudmFsdWUsbnVsbCE9Sz9LLmNoZWNrZWQ6bnVsbCxudWxsIT1HP0cuY2hlY2tlZDpudWxsKX0pLG51bGwsZCxmKTt0aGlzLnNob3dEaWFsb2coZC5jb250YWluZXIsMzQwLGcsITAsITAsbnVsbCxudWxsLG51bGwsbnVsbCwhMCk7dC5mb2N1cygpO214Q2xpZW50LklTX0dDfHxteENsaWVudC5JU19GRnx8NTw9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHxteENsaWVudC5JU19RVUlSS1M/dC5zZWxlY3QoKTpkb2N1bWVudC5leGVjQ29tbWFuZCgic2VsZWN0QWxsIiwhMSxudWxsKX07RWRpdG9yVWkucHJvdG90eXBlLnNob3dFbWJlZEltYWdlRGlhbG9nPWZ1bmN0aW9uKGEsYyxkLGYsbCl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Yi5zdHlsZS53aGl0ZVNwYWNlPQoibm93cmFwIjt2YXIgZT10aGlzLmVkaXRvci5ncmFwaDtpZihudWxsIT1jKXt2YXIgZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJoMyIpO214VXRpbHMud3JpdGUoZyxjKTtnLnN0eWxlLmNzc1RleHQ9IndpZHRoOjEwMCU7dGV4dC1hbGlnbjpjZW50ZXI7bWFyZ2luLXRvcDowcHg7bWFyZ2luLWJvdHRvbTo0cHgiO2IuYXBwZW5kQ2hpbGQoZyl9dmFyIGs9dGhpcy5hZGRDaGVja2JveChiLG14UmVzb3VyY2VzLmdldCgiZml0IiksITApLHA9dGhpcy5hZGRDaGVja2JveChiLG14UmVzb3VyY2VzLmdldCgic2hhZG93IiksZS5zaGFkb3dWaXNpYmxlJiZmLCFmKSxtPXRoaXMuYWRkQ2hlY2tib3goYixkKSxxPXRoaXMuYWRkQ2hlY2tib3goYixteFJlc291cmNlcy5nZXQoImxpZ2h0Ym94IiksITApLEM9dGhpcy5hZGRFZGl0QnV0dG9uKGIscSksej1DLmdldEVkaXRJbnB1dCgpLEU9MTxlLm1vZGVsLmdldENoaWxkQ291bnQoZS5tb2RlbC5nZXRSb290KCkpLEc9dGhpcy5hZGRDaGVja2JveChiLApteFJlc291cmNlcy5nZXQoImxheWVycyIpLEUsIUUpO0cuc3R5bGUubWFyZ2luTGVmdD16LnN0eWxlLm1hcmdpbkxlZnQ7Ry5zdHlsZS5tYXJnaW5Cb3R0b209IjEycHgiO0cuc3R5bGUubWFyZ2luVG9wPSI4cHgiO214RXZlbnQuYWRkTGlzdGVuZXIocSwiY2hhbmdlIixmdW5jdGlvbigpe3EuY2hlY2tlZD8oRSYmRy5yZW1vdmVBdHRyaWJ1dGUoImRpc2FibGVkIiksei5yZW1vdmVBdHRyaWJ1dGUoImRpc2FibGVkIikpOihHLnNldEF0dHJpYnV0ZSgiZGlzYWJsZWQiLCJkaXNhYmxlZCIpLHouc2V0QXR0cmlidXRlKCJkaXNhYmxlZCIsImRpc2FibGVkIikpO3ouY2hlY2tlZCYmcS5jaGVja2VkP0MuZ2V0RWRpdFNlbGVjdCgpLnJlbW92ZUF0dHJpYnV0ZSgiZGlzYWJsZWQiKTpDLmdldEVkaXRTZWxlY3QoKS5zZXRBdHRyaWJ1dGUoImRpc2FibGVkIiwiZGlzYWJsZWQiKX0pO2M9bmV3IEN1c3RvbURpYWxvZyh0aGlzLGIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXthKGsuY2hlY2tlZCwKcC5jaGVja2VkLG0uY2hlY2tlZCxxLmNoZWNrZWQsQy5nZXRMaW5rKCksRy5jaGVja2VkKX0pLG51bGwsbXhSZXNvdXJjZXMuZ2V0KCJlbWJlZCIpLGwpO3RoaXMuc2hvd0RpYWxvZyhjLmNvbnRhaW5lciwyODAsMjgwLCEwLCEwKX07RWRpdG9yVWkucHJvdG90eXBlLmNyZWF0ZUVtYmVkSW1hZ2U9ZnVuY3Rpb24oYSxjLGQsZixsLG4sayxtKXtmdW5jdGlvbiBiKGIpe3ZhciBjPSIgIixnPSIiO2YmJihjPSIgb25jbGljaz1cIihmdW5jdGlvbihpbWcpe2lmKGltZy53bmQhPW51bGwmJiFpbWcud25kLmNsb3NlZCl7aW1nLnduZC5mb2N1cygpO31lbHNle3ZhciByPWZ1bmN0aW9uKGV2dCl7aWYoZXZ0LmRhdGE9PSdyZWFkeScmJmV2dC5zb3VyY2U9PWltZy53bmQpe2ltZy53bmQucG9zdE1lc3NhZ2UoZGVjb2RlVVJJQ29tcG9uZW50KGltZy5nZXRBdHRyaWJ1dGUoJ3NyYycpKSwnKicpO3dpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlJyxyKTt9fTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScscik7aW1nLnduZD13aW5kb3cub3BlbignIisKRWRpdG9yVWkuZHJhd0hvc3QrIi8/Y2xpZW50PTEmbGlnaHRib3g9MSIrKGw/IiZlZGl0PV9ibGFuayI6IiIpKyhuPyImbGF5ZXJzPTEiOiIiKSsiJyk7fX0pKHRoaXMpO1wiIixnKz0iY3Vyc29yOnBvaW50ZXI7Iik7YSYmKGcrPSJtYXgtd2lkdGg6MTAwJTsiKTt2YXIgcD0iIjtkJiYocD0nIHdpZHRoPSInK01hdGgucm91bmQoZS53aWR0aCkrJyIgaGVpZ2h0PSInK01hdGgucm91bmQoZS5oZWlnaHQpKyciJyk7aygnPGltZyBzcmM9IicrYisnIicrcCsoIiIhPWc/JyBzdHlsZT0iJytnKyciJzoiIikrYysiLz4iKX12YXIgZT10aGlzLmVkaXRvci5ncmFwaC5nZXRHcmFwaEJvdW5kcygpO2lmKHRoaXMuaXNFeHBvcnRUb0NhbnZhcygpKXRoaXMuZWRpdG9yLmV4cG9ydFRvQ2FudmFzKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3ZhciBjPWY/dGhpcy5nZXRGaWxlRGF0YSghMCk6bnVsbDthPXRoaXMuY3JlYXRlSW1hZ2VEYXRhVXJpKGEsYywicG5nIik7YihhKX0pLG51bGwsCm51bGwsbnVsbCxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXttKHttZXNzYWdlOm14UmVzb3VyY2VzLmdldCgidW5rbm93bkVycm9yIil9KX0pLG51bGwsITAsZD8yOjEsbnVsbCxjKTtlbHNlIGlmKGM9dGhpcy5nZXRGaWxlRGF0YSghMCksZS53aWR0aCplLmhlaWdodDw9TUFYX0FSRUEmJmMubGVuZ3RoPD1NQVhfUkVRVUVTVF9TSVpFKXt2YXIgZz0iIjtkJiYoZz0iJnc9IitNYXRoLnJvdW5kKDIqZS53aWR0aCkrIiZoPSIrTWF0aC5yb3VuZCgyKmUuaGVpZ2h0KSk7dmFyIHA9bmV3IG14WG1sUmVxdWVzdChFWFBPUlRfVVJMLCJmb3JtYXQ9cG5nJmJhc2U2ND0xJmVtYmVkWG1sPSIrKGY/IjEiOiIwIikrZysiJnhtbD0iK2VuY29kZVVSSUNvbXBvbmVudChjKSk7cC5zZW5kKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7MjAwPD1wLmdldFN0YXR1cygpJiYyOTk+PXAuZ2V0U3RhdHVzKCk/YigiZGF0YTppbWFnZS9wbmc7YmFzZTY0LCIrcC5nZXRUZXh0KCkpOm0oe21lc3NhZ2U6bXhSZXNvdXJjZXMuZ2V0KCJ1bmtub3duRXJyb3IiKX0pfSkpfWVsc2UgbSh7bWVzc2FnZTpteFJlc291cmNlcy5nZXQoImRyYXdpbmdUb29MYXJnZSIpfSl9OwpFZGl0b3JVaS5wcm90b3R5cGUuY3JlYXRlRW1iZWRTdmc9ZnVuY3Rpb24oYSxjLGQsZixsLG4sayl7dmFyIGI9dGhpcy5lZGl0b3IuZ3JhcGguZ2V0U3ZnKG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsIWQpLGU9Yi5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYSIpO2lmKG51bGwhPWUpZm9yKHZhciBnPTA7ZzxlLmxlbmd0aDtnKyspe3ZhciBwPWVbZ10uZ2V0QXR0cmlidXRlKCJocmVmIik7bnVsbCE9cCYmIiMiPT1wLmNoYXJBdCgwKSYmIl9ibGFuayI9PWVbZ10uZ2V0QXR0cmlidXRlKCJ0YXJnZXQiKSYmZVtnXS5yZW1vdmVBdHRyaWJ1dGUoInRhcmdldCIpfWYmJmIuc2V0QXR0cmlidXRlKCJjb250ZW50Iix0aGlzLmdldEZpbGVEYXRhKCEwKSk7YyYmdGhpcy5lZGl0b3IuZ3JhcGguYWRkU3ZnU2hhZG93KGIpO2lmKGQpe3ZhciBtPSIgIixxPSIiO2YmJihtPSJvbmNsaWNrPVwiKGZ1bmN0aW9uKGltZyl7aWYoaW1nLnduZCE9bnVsbCYmIWltZy53bmQuY2xvc2VkKXtpbWcud25kLmZvY3VzKCk7fWVsc2V7dmFyIHI9ZnVuY3Rpb24oZXZ0KXtpZihldnQuZGF0YT09J3JlYWR5JyYmZXZ0LnNvdXJjZT09aW1nLnduZCl7aW1nLnduZC5wb3N0TWVzc2FnZShkZWNvZGVVUklDb21wb25lbnQoaW1nLmdldEF0dHJpYnV0ZSgnc3JjJykpLCcqJyk7d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLHIpO319O3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJyxyKTtpbWcud25kPXdpbmRvdy5vcGVuKCciKwpFZGl0b3JVaS5kcmF3SG9zdCsiLz9jbGllbnQ9MSZsaWdodGJveD0xIisobD8iJmVkaXQ9X2JsYW5rIjoiIikrKG4/IiZsYXllcnM9MSI6IiIpKyInKTt9fSkodGhpcyk7XCIiLHErPSJjdXJzb3I6cG9pbnRlcjsiKTthJiYocSs9Im1heC13aWR0aDoxMDAlOyIpO3RoaXMuZWRpdG9yLmNvbnZlcnRJbWFnZXMoYixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtrKCc8aW1nIHNyYz0iJytFZGl0b3IuY3JlYXRlU3ZnRGF0YVVyaShteFV0aWxzLmdldFhtbChhKSkrJyInKygiIiE9cT8nIHN0eWxlPSInK3ErJyInOiIiKSttKyIvPiIpfSkpfWVsc2UgcT0iIixmJiYoYi5zZXRBdHRyaWJ1dGUoIm9uY2xpY2siLCIoZnVuY3Rpb24oc3ZnKXt2YXIgc3JjPXdpbmRvdy5ldmVudC50YXJnZXR8fHdpbmRvdy5ldmVudC5zcmNFbGVtZW50O3doaWxlIChzcmMhPW51bGwmJnNyYy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIT0nYScpe3NyYz1zcmMucGFyZW50Tm9kZTt9aWYoc3JjPT1udWxsKXtpZihzdmcud25kIT1udWxsJiYhc3ZnLnduZC5jbG9zZWQpe3N2Zy53bmQuZm9jdXMoKTt9ZWxzZXt2YXIgcj1mdW5jdGlvbihldnQpe2lmKGV2dC5kYXRhPT0ncmVhZHknJiZldnQuc291cmNlPT1zdmcud25kKXtzdmcud25kLnBvc3RNZXNzYWdlKGRlY29kZVVSSUNvbXBvbmVudChzdmcuZ2V0QXR0cmlidXRlKCdjb250ZW50JykpLCcqJyk7d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLHIpO319O3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJyxyKTtzdmcud25kPXdpbmRvdy5vcGVuKCciKwpFZGl0b3JVaS5kcmF3SG9zdCsiLz9jbGllbnQ9MSZsaWdodGJveD0xIisobD8iJmVkaXQ9X2JsYW5rIjoiIikrKG4/IiZsYXllcnM9MSI6IiIpKyInKTt9fX0pKHRoaXMpOyIpLHErPSJjdXJzb3I6cG9pbnRlcjsiKSxhJiYoYT1wYXJzZUludChiLmdldEF0dHJpYnV0ZSgid2lkdGgiKSksYz1wYXJzZUludChiLmdldEF0dHJpYnV0ZSgiaGVpZ2h0IikpLGIuc2V0QXR0cmlidXRlKCJ2aWV3Qm94IiwiLTAuNSAtMC41ICIrYSsiICIrYykscSs9Im1heC13aWR0aDoxMDAlO21heC1oZWlnaHQ6IitjKyJweDsiLGIucmVtb3ZlQXR0cmlidXRlKCJoZWlnaHQiKSksIiIhPXEmJmIuc2V0QXR0cmlidXRlKCJzdHlsZSIscSksdGhpcy5lZGl0b3IuYWRkRm9udENzcyhiKSx0aGlzLmVkaXRvci5ncmFwaC5tYXRoRW5hYmxlZCYmdGhpcy5lZGl0b3IuYWRkTWF0aENzcyhiKSxrKG14VXRpbHMuZ2V0WG1sKGIpKX07RWRpdG9yVWkucHJvdG90eXBlLnRpbWVTaW5jZT1mdW5jdGlvbihhKXthPU1hdGguZmxvb3IoKG5ldyBEYXRlLQphKS8xRTMpO3ZhciBiPU1hdGguZmxvb3IoYS8zMTUzNkUzKTtpZigxPGIpcmV0dXJuIGIrIiAiK214UmVzb3VyY2VzLmdldCgieWVhcnMiKTtiPU1hdGguZmxvb3IoYS8yNTkyRTMpO2lmKDE8YilyZXR1cm4gYisiICIrbXhSZXNvdXJjZXMuZ2V0KCJtb250aHMiKTtiPU1hdGguZmxvb3IoYS84NjQwMCk7aWYoMTxiKXJldHVybiBiKyIgIitteFJlc291cmNlcy5nZXQoImRheXMiKTtiPU1hdGguZmxvb3IoYS8zNjAwKTtpZigxPGIpcmV0dXJuIGIrIiAiK214UmVzb3VyY2VzLmdldCgiaG91cnMiKTtiPU1hdGguZmxvb3IoYS82MCk7cmV0dXJuIDE8Yj9iKyIgIitteFJlc291cmNlcy5nZXQoIm1pbnV0ZXMiKToxPT1iP2IrIiAiK214UmVzb3VyY2VzLmdldCgibWludXRlIik6bnVsbH07RWRpdG9yVWkucHJvdG90eXBlLmRlY29kZU5vZGVJbnRvR3JhcGg9ZnVuY3Rpb24oYSxjKXtpZihudWxsIT1hKXt2YXIgYj1udWxsO2lmKCJkaWFncmFtIj09YS5ub2RlTmFtZSliPWE7ZWxzZSBpZigibXhmaWxlIj09CmEubm9kZU5hbWUpe3ZhciBlPWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpYWdyYW0iKTtpZigwPGUubGVuZ3RoKXt2YXIgYj1lWzBdLGQ9Yy5nZXRHbG9iYWxWYXJpYWJsZTtjLmdldEdsb2JhbFZhcmlhYmxlPWZ1bmN0aW9uKGEpe3JldHVybiJwYWdlIj09YT9iLmdldEF0dHJpYnV0ZSgibmFtZSIpfHxteFJlc291cmNlcy5nZXQoInBhZ2VXaXRoTnVtYmVyIixbMV0pOiJwYWdlbnVtYmVyIj09YT8xOmQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19bnVsbCE9YiYmKGE9RWRpdG9yLnBhcnNlRGlhZ3JhbU5vZGUoYikpfWU9dGhpcy5lZGl0b3IuZ3JhcGg7dHJ5e3RoaXMuZWRpdG9yLmdyYXBoPWMsdGhpcy5lZGl0b3Iuc2V0R3JhcGhYbWwoYSl9Y2F0Y2gobil7fWZpbmFsbHl7dGhpcy5lZGl0b3IuZ3JhcGg9ZX1yZXR1cm4gYX07RWRpdG9yVWkucHJvdG90eXBlLmdldFBuZ0ZpbGVQcm9wZXJ0aWVzPWZ1bmN0aW9uKGEpe3ZhciBiPTEsYz0wO2lmKG51bGwhPWEpe2lmKGEuaGFzQXR0cmlidXRlKCJzY2FsZSIpKXt2YXIgZD0KcGFyc2VGbG9hdChhLmdldEF0dHJpYnV0ZSgic2NhbGUiKSk7IWlzTmFOKGQpJiYwPGQmJihiPWQpfWEuaGFzQXR0cmlidXRlKCJib3JkZXIiKSYmKGQ9cGFyc2VJbnQoYS5nZXRBdHRyaWJ1dGUoImJvcmRlciIpKSwhaXNOYU4oZCkmJjA8ZCYmKGM9ZCkpfXJldHVybntzY2FsZTpiLGJvcmRlcjpjfX07RWRpdG9yVWkucHJvdG90eXBlLmdldEVtYmVkZGVkUG5nPWZ1bmN0aW9uKGEsYyxkLGYsbCl7dHJ5e3ZhciBiPXRoaXMuZWRpdG9yLmdyYXBoLGU9bnVsbCE9Yi50aGVtZXMmJiJkYXJrVGhlbWUiPT1iLmRlZmF1bHRUaGVtZU5hbWUsZz1udWxsO2lmKG51bGwhPWQmJjA8ZC5sZW5ndGgpYj10aGlzLmNyZWF0ZVRlbXBvcmFyeUdyYXBoKHRoaXMuZWRpdG9yLmdyYXBoLmdldFN0eWxlc2hlZXQoKSksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChiLmNvbnRhaW5lciksdGhpcy5kZWNvZGVOb2RlSW50b0dyYXBoKHRoaXMuZWRpdG9yLmV4dHJhY3RHcmFwaE1vZGVsKG14VXRpbHMucGFyc2VYbWwoZCkuZG9jdW1lbnRFbGVtZW50LAohMCksYiksZz1kO2Vsc2UgaWYoZXx8bnVsbCE9dGhpcy5wYWdlcyYmdGhpcy5jdXJyZW50UGFnZSE9dGhpcy5wYWdlc1swXSl7dmFyIGI9dGhpcy5jcmVhdGVUZW1wb3JhcnlHcmFwaChiLmdldFN0eWxlc2hlZXQoKSksaz1iLmdldEdsb2JhbFZhcmlhYmxlLHA9dGhpcy5wYWdlc1swXTtiLmdldEdsb2JhbFZhcmlhYmxlPWZ1bmN0aW9uKGEpe3JldHVybiJwYWdlIj09YT9wLmdldE5hbWUoKToicGFnZW51bWJlciI9PWE/MTprLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChiLmNvbnRhaW5lcik7Yi5tb2RlbC5zZXRSb290KHAucm9vdCl9dGhpcy5lZGl0b3IuZXhwb3J0VG9DYW52YXMobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oZSl7dHJ5e251bGw9PWcmJihnPXRoaXMuZ2V0RmlsZURhdGEoITAsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLCExKSk7dmFyIGQ9ZS50b0RhdGFVUkwoImltYWdlL3BuZyIpLGQ9RWRpdG9yLndyaXRlR3JhcGhNb2RlbFRvUG5nKGQsCiJ0RVh0IiwibXhmaWxlIixlbmNvZGVVUklDb21wb25lbnQoZykpO2EoZC5zdWJzdHJpbmcoZC5sYXN0SW5kZXhPZigiLCIpKzEpKTtiIT10aGlzLmVkaXRvci5ncmFwaCYmYi5jb250YWluZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiLmNvbnRhaW5lcil9Y2F0Y2goQyl7bnVsbCE9YyYmYyhDKX19KSxudWxsLG51bGwsbnVsbCxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtudWxsIT1jJiZjKGEpfSksbnVsbCxudWxsLGYsbnVsbCxiLnNoYWRvd1Zpc2libGUsbnVsbCxiLGwpfWNhdGNoKEQpe251bGwhPWMmJmMoRCl9fTtFZGl0b3JVaS5wcm90b3R5cGUuZ2V0RW1iZWRkZWRTdmc9ZnVuY3Rpb24oYSxjLGQsZixsLGssbSx0KXt0PW51bGwhPXQ/dDohMDttPWMuYmFja2dyb3VuZDttPT1teENvbnN0YW50cy5OT05FJiYobT1udWxsKTtrPWMuZ2V0U3ZnKG0sbnVsbCxudWxsLG51bGwsbnVsbCxrKTtjLnNoYWRvd1Zpc2libGUmJmMuYWRkU3ZnU2hhZG93KGspO251bGwhPWEmJgprLnNldEF0dHJpYnV0ZSgiY29udGVudCIsYSk7bnVsbCE9ZCYmay5zZXRBdHRyaWJ1dGUoInJlc291cmNlIixkKTtpZihudWxsIT1sKXRoaXMuZW1iZWRGb250cyhrLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3Q/dGhpcy5lZGl0b3IuY29udmVydEltYWdlcyhhLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe2woKGY/IiI6Jzw/eG1sIHZlcnNpb249IjEuMCIgZW5jb2Rpbmc9IlVURi04Ij8+XG48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPlxuJykrbXhVdGlscy5nZXRYbWwoYSkpfSkpOmwoKGY/IiI6Jzw/eG1sIHZlcnNpb249IjEuMCIgZW5jb2Rpbmc9IlVURi04Ij8+XG48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPlxuJykrCm14VXRpbHMuZ2V0WG1sKGEpKX0pKTtlbHNlIHJldHVybihmPyIiOic8P3htbCB2ZXJzaW9uPSIxLjAiIGVuY29kaW5nPSJVVEYtOCI/PlxuPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj5cbicpK214VXRpbHMuZ2V0WG1sKGspfTtFZGl0b3JVaS5wcm90b3R5cGUuZW1iZWRGb250cz1mdW5jdGlvbihhLGMpe3RoaXMuZWRpdG9yLmxvYWRGb250cyhteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RyeXtudWxsIT10aGlzLmVkaXRvci5yZXNvbHZlZEZvbnRDc3MmJnRoaXMuZWRpdG9yLmFkZEZvbnRDc3MoYSx0aGlzLmVkaXRvci5yZXNvbHZlZEZvbnRDc3MpLHRoaXMuZWRpdG9yLmVtYmVkRXh0Rm9udHMobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7dHJ5e251bGwhPWImJnRoaXMuZWRpdG9yLmFkZEZvbnRDc3MoYSxiKSxjKGEpfWNhdGNoKHApe2MoYSl9fSkpfWNhdGNoKGcpe2MoYSl9fSkpfTsKRWRpdG9yVWkucHJvdG90eXBlLmV4cG9ydEltYWdlPWZ1bmN0aW9uKGEsYyxkLGYsbCxrLG0sdCxxLEEsRCxCKXtxPW51bGwhPXE/cToicG5nIjtpZih0aGlzLnNwaW5uZXIuc3Bpbihkb2N1bWVudC5ib2R5LG14UmVzb3VyY2VzLmdldCgiZXhwb3J0aW5nIikpKXt2YXIgYj10aGlzLmVkaXRvci5ncmFwaC5pc1NlbGVjdGlvbkVtcHR5KCk7ZD1udWxsIT1kP2Q6YjtudWxsPT10aGlzLnRodW1iSW1hZ2VDYWNoZSYmKHRoaXMudGh1bWJJbWFnZUNhY2hlPXt9KTt0cnl7dGhpcy5lZGl0b3IuZXhwb3J0VG9DYW52YXMobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5zcGlubmVyLnN0b3AoKTt0cnl7dGhpcy5zYXZlQ2FudmFzKGEsbD90aGlzLmdldEZpbGVEYXRhKCEwLG51bGwsbnVsbCxudWxsLGQsdCk6bnVsbCxxLG51bGw9PXRoaXMucGFnZXN8fDA9PXRoaXMucGFnZXMubGVuZ3RoLEQpfWNhdGNoKEUpeyJJbnZhbGlkIGltYWdlIj09RS5tZXNzYWdlP3RoaXMuZG93bmxvYWRGaWxlKHEpOgp0aGlzLmhhbmRsZUVycm9yKEUpfX0pLG51bGwsdGhpcy50aHVtYkltYWdlQ2FjaGUsbnVsbCxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLnNwaW5uZXIuc3RvcCgpO3RoaXMuaGFuZGxlRXJyb3IoYSl9KSxudWxsLGQsYXx8MSxjLGYsbnVsbCxudWxsLGssbSxBLEIpfWNhdGNoKHope3RoaXMuc3Bpbm5lci5zdG9wKCksdGhpcy5oYW5kbGVFcnJvcih6KX19fTtFZGl0b3JVaS5wcm90b3R5cGUuaXNDb3JzRW5hYmxlZEZvclVybD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lZGl0b3IuaXNDb3JzRW5hYmxlZEZvclVybChhKX07RWRpdG9yVWkucHJvdG90eXBlLmltcG9ydFhtbD1mdW5jdGlvbihhLGMsZCxmLGwpe2M9bnVsbCE9Yz9jOjA7ZD1udWxsIT1kP2Q6MDt2YXIgYj1bXTt0cnl7dmFyIGU9dGhpcy5lZGl0b3IuZ3JhcGg7aWYobnVsbCE9YSYmMDxhLmxlbmd0aCl7ZS5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXt2YXIgZz1teFV0aWxzLnBhcnNlWG1sKGEpO2E9e307CnZhciBrPXRoaXMuZWRpdG9yLmV4dHJhY3RHcmFwaE1vZGVsKGcuZG9jdW1lbnRFbGVtZW50LG51bGwhPXRoaXMucGFnZXMpO2lmKG51bGwhPWsmJiJteGZpbGUiPT1rLm5vZGVOYW1lJiZudWxsIT10aGlzLnBhZ2VzKXt2YXIgcD1rLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkaWFncmFtIik7aWYoMT09cC5sZW5ndGgpaz1FZGl0b3IucGFyc2VEaWFncmFtTm9kZShwWzBdKSxudWxsIT10aGlzLmN1cnJlbnRQYWdlJiYoYVtwWzBdLmdldEF0dHJpYnV0ZSgiaWQiKV09dGhpcy5jdXJyZW50UGFnZS5nZXRJZCgpKTtlbHNlIGlmKDE8cC5sZW5ndGgpe3ZhciBnPVtdLG09MDtudWxsIT10aGlzLnBhZ2VzJiYxPT10aGlzLnBhZ2VzLmxlbmd0aCYmdGhpcy5pc0RpYWdyYW1FbXB0eSgpJiYoYVtwWzBdLmdldEF0dHJpYnV0ZSgiaWQiKV09dGhpcy5wYWdlc1swXS5nZXRJZCgpLGs9RWRpdG9yLnBhcnNlRGlhZ3JhbU5vZGUocFswXSksZj0hMSxtPTEpO2Zvcig7bTxwLmxlbmd0aDttKyspe3ZhciBxPQpwW21dLmdldEF0dHJpYnV0ZSgiaWQiKTtwW21dLnJlbW92ZUF0dHJpYnV0ZSgiaWQiKTt2YXIgQz10aGlzLnVwZGF0ZVBhZ2VSb290KG5ldyBEaWFncmFtUGFnZShwW21dKSk7YVtxXT1wW21dLmdldEF0dHJpYnV0ZSgiaWQiKTt2YXIgej10aGlzLnBhZ2VzLmxlbmd0aDtudWxsPT1DLmdldE5hbWUoKSYmQy5zZXROYW1lKG14UmVzb3VyY2VzLmdldCgicGFnZVdpdGhOdW1iZXIiLFt6KzFdKSk7ZS5tb2RlbC5leGVjdXRlKG5ldyBDaGFuZ2VQYWdlKHRoaXMsQyxDLHosITApKTtnLnB1c2goQyl9dGhpcy51cGRhdGVQYWdlTGlua3MoYSxnKX19aWYobnVsbCE9ayYmIm14R3JhcGhNb2RlbCI9PT1rLm5vZGVOYW1lJiYoYj1lLmltcG9ydEdyYXBoTW9kZWwoayxjLGQsZiksbnVsbCE9YikpZm9yKG09MDttPGIubGVuZ3RoO20rKyl0aGlzLnVwZGF0ZVBhZ2VMaW5rc0ZvckNlbGwoYSxiW21dKX1maW5hbGx5e2UubW9kZWwuZW5kVXBkYXRlKCl9fX1jYXRjaChFKXtpZihsKXRocm93IEU7dGhpcy5oYW5kbGVFcnJvcihFKX1yZXR1cm4gYn07CkVkaXRvclVpLnByb3RvdHlwZS51cGRhdGVQYWdlTGlua3M9ZnVuY3Rpb24oYSxjKXtmb3IodmFyIGI9MDtiPGMubGVuZ3RoO2IrKyl0aGlzLnVwZGF0ZVBhZ2VMaW5rc0ZvckNlbGwoYSxjW2JdLnJvb3QpfTtFZGl0b3JVaS5wcm90b3R5cGUudXBkYXRlUGFnZUxpbmtzRm9yQ2VsbD1mdW5jdGlvbihhLGMpe3ZhciBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGU9dGhpcy5lZGl0b3IuZ3JhcGgsZD1lLmdldExpbmtGb3JDZWxsKGMpO251bGwhPWQmJmUuc2V0TGlua0ZvckNlbGwoYyx0aGlzLnVwZGF0ZVBhZ2VMaW5rKGEsZCkpO2lmKGUuaXNIdG1sTGFiZWwoYykpe2IuaW5uZXJIVE1MPWUuc2FuaXRpemVIdG1sKGUuZ2V0TGFiZWwoYykpO2Zvcih2YXIgZj1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJhIiksaz0hMSxtPTA7bTxmLmxlbmd0aDttKyspZD1mW21dLmdldEF0dHJpYnV0ZSgiaHJlZiIpLG51bGwhPWQmJihmW21dLnNldEF0dHJpYnV0ZSgiaHJlZiIsdGhpcy51cGRhdGVQYWdlTGluayhhLApkKSksaz0hMCk7ayYmZS5sYWJlbENoYW5nZWQoYyxiLmlubmVySFRNTCl9Zm9yKG09MDttPGUubW9kZWwuZ2V0Q2hpbGRDb3VudChjKTttKyspdGhpcy51cGRhdGVQYWdlTGlua3NGb3JDZWxsKGEsZS5tb2RlbC5nZXRDaGlsZEF0KGMsbSkpfTtFZGl0b3JVaS5wcm90b3R5cGUudXBkYXRlUGFnZUxpbms9ZnVuY3Rpb24oYSxjKXtpZigiZGF0YTpwYWdlL2lkLCI9PWMuc3Vic3RyaW5nKDAsMTMpKXt2YXIgYj1hW2Muc3Vic3RyaW5nKGMuaW5kZXhPZigiLCIpKzEpXTtjPW51bGwhPWI/ImRhdGE6cGFnZS9pZCwiK2I6bnVsbH1lbHNlIGlmKCJkYXRhOmFjdGlvbi9qc29uLCI9PWMuc3Vic3RyaW5nKDAsMTcpKXRyeXt2YXIgZT1KU09OLnBhcnNlKGMuc3Vic3RyaW5nKDE3KSk7aWYobnVsbCE9ZS5hY3Rpb25zKXtmb3IodmFyIGQ9MDtkPGUuYWN0aW9ucy5sZW5ndGg7ZCsrKXt2YXIgZj1lLmFjdGlvbnNbZF07bnVsbCE9Zi5vcGVuJiYiZGF0YTpwYWdlL2lkLCI9PWYub3Blbi5zdWJzdHJpbmcoMCwKMTMpJiYoYj1hW2Yub3Blbi5zdWJzdHJpbmcoZi5vcGVuLmluZGV4T2YoIiwiKSsxKV0sbnVsbCE9Yj9mLm9wZW49ImRhdGE6cGFnZS9pZCwiK2I6ZGVsZXRlIGYub3Blbil9Yz0iZGF0YTphY3Rpb24vanNvbiwiK0pTT04uc3RyaW5naWZ5KGUpfX1jYXRjaCh2KXt9cmV0dXJuIGN9O0VkaXRvclVpLnByb3RvdHlwZS5pc1JlbW90ZVZpc2lvRm9ybWF0PWZ1bmN0aW9uKGEpe3JldHVybi8oXC52KHNkfGR4KSkoJHxcPykvaS50ZXN0KGEpfHwvKFwudnMoc3x4KSkoJHxcPykvaS50ZXN0KGEpfTtFZGl0b3JVaS5wcm90b3R5cGUuaW1wb3J0VmlzaW89ZnVuY3Rpb24oYSxjLGQsZil7Zj1udWxsIT1mP2Y6YS5uYW1lO2Q9bnVsbCE9ZD9kOm14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuaGFuZGxlRXJyb3IoYSl9KTt2YXIgYj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMubG9hZGluZ0V4dGVuc2lvbnM9ITE7aWYodGhpcy5kb0ltcG9ydFZpc2lvKXt2YXIgYj10aGlzLmlzUmVtb3RlVmlzaW9Gb3JtYXQoZik7CnRyeXt2YXIgZT0iVU5LTk9XTi1WSVNJTyIsZz1mLmxhc3RJbmRleE9mKCIuIik7aWYoMDw9ZyYmZzxmLmxlbmd0aCllPWYuc3Vic3RyaW5nKGcrMSkudG9VcHBlckNhc2UoKTtlbHNle3ZhciBsPWYubGFzdEluZGV4T2YoIi8iKTswPD1sJiZsPGYubGVuZ3RoJiYoZj1mLnN1YnN0cmluZyhsKzEpKX1FZGl0b3JVaS5sb2dFdmVudCh7Y2F0ZWdvcnk6ZSsiLU1TLUlNUE9SVC1GSUxFIixhY3Rpb246ImZpbGVuYW1lXyIrZixsYWJlbDpiPyJyZW1vdGUiOiJsb2NhbCJ9KX1jYXRjaChEKXt9aWYoYilpZihudWxsPT1WU0RfQ09OVkVSVF9VUkx8fHRoaXMuaXNPZmZsaW5lKCkpZCh7bWVzc2FnZToiY29uZiI9PXRoaXMuZ2V0U2VydmljZU5hbWUoKT9teFJlc291cmNlcy5nZXQoInZzZE5vQ29uZmlnIik6bXhSZXNvdXJjZXMuZ2V0KCJzZXJ2aWNlVW5hdmFpbGFibGVPckJsb2NrZWQiKX0pO2Vsc2V7Yj1uZXcgRm9ybURhdGE7Yi5hcHBlbmQoImZpbGUxIixhLGYpO3ZhciBrPW5ldyBYTUxIdHRwUmVxdWVzdDsKay5vcGVuKCJQT1NUIixWU0RfQ09OVkVSVF9VUkwpO2sucmVzcG9uc2VUeXBlPSJibG9iIjt0aGlzLmFkZFJlbW90ZVNlcnZpY2VTZWN1cml0eUNoZWNrKGspO2sub25yZWFkeXN0YXRlY2hhbmdlPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7aWYoND09ay5yZWFkeVN0YXRlKWlmKDIwMDw9ay5zdGF0dXMmJjI5OT49ay5zdGF0dXMpdHJ5e3ZhciBhPWsucmVzcG9uc2U7aWYoInRleHQveG1sIj09YS50eXBlKXt2YXIgYj1uZXcgRmlsZVJlYWRlcjtiLm9ubG9hZD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0cnl7YyhhLnRhcmdldC5yZXN1bHQpfWNhdGNoKHope2Qoe21lc3NhZ2U6bXhSZXNvdXJjZXMuZ2V0KCJlcnJvckxvYWRpbmdGaWxlIil9KX19KTtiLnJlYWRBc1RleHQoYSl9ZWxzZSB0aGlzLmRvSW1wb3J0VmlzaW8oYSxjLGQsZil9Y2F0Y2goQyl7ZChDKX1lbHNlIGQoe30pfSk7ay5zZW5kKGIpfWVsc2UgdHJ5e3RoaXMuZG9JbXBvcnRWaXNpbyhhLGMsZCxmKX1jYXRjaChEKXtkKEQpfX1lbHNlIHRoaXMuc3Bpbm5lci5zdG9wKCksCnRoaXMuaGFuZGxlRXJyb3Ioe21lc3NhZ2U6bXhSZXNvdXJjZXMuZ2V0KCJzZXJ2aWNlVW5hdmFpbGFibGVPckJsb2NrZWQiKX0pfSk7dGhpcy5kb0ltcG9ydFZpc2lvfHx0aGlzLmxvYWRpbmdFeHRlbnNpb25zfHx0aGlzLmlzT2ZmbGluZSghMCk/YigpOih0aGlzLmxvYWRpbmdFeHRlbnNpb25zPSEwLG14c2NyaXB0KCJqcy9leHRlbnNpb25zLm1pbi5qcyIsYikpfTtFZGl0b3JVaS5wcm90b3R5cGUuaW1wb3J0R3JhcGhNTD1mdW5jdGlvbihhLGMsZCl7ZD1udWxsIT1kP2Q6bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5oYW5kbGVFcnJvcihhKX0pO3ZhciBiPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5sb2FkaW5nRXh0ZW5zaW9ucz0hMTtpZih0aGlzLmRvSW1wb3J0R3JhcGhNTCl0cnl7dGhpcy5kb0ltcG9ydEdyYXBoTUwoYSxjLGQpfWNhdGNoKGwpe2QobCl9ZWxzZSB0aGlzLnNwaW5uZXIuc3RvcCgpLHRoaXMuaGFuZGxlRXJyb3Ioe21lc3NhZ2U6bXhSZXNvdXJjZXMuZ2V0KCJzZXJ2aWNlVW5hdmFpbGFibGVPckJsb2NrZWQiKX0pfSk7CnRoaXMuZG9JbXBvcnRHcmFwaE1MfHx0aGlzLmxvYWRpbmdFeHRlbnNpb25zfHx0aGlzLmlzT2ZmbGluZSghMCk/YigpOih0aGlzLmxvYWRpbmdFeHRlbnNpb25zPSEwLG14c2NyaXB0KCJqcy9leHRlbnNpb25zLm1pbi5qcyIsYikpfTtFZGl0b3JVaS5wcm90b3R5cGUuZXhwb3J0VmlzaW89ZnVuY3Rpb24oKXt2YXIgYT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMubG9hZGluZ0V4dGVuc2lvbnM9ITE7aWYoInVuZGVmaW5lZCIhPT10eXBlb2YgVnNkeEV4cG9ydCl0cnl7KG5ldyBWc2R4RXhwb3J0KHRoaXMpKS5leHBvcnRDdXJyZW50RGlhZ3JhbXMoKXx8dGhpcy5oYW5kbGVFcnJvcih7bWVzc2FnZTpteFJlc291cmNlcy5nZXQoInVua25vd25FcnJvciIpfSl9Y2F0Y2goZSl7dGhpcy5oYW5kbGVFcnJvcihlKX1lbHNlIHRoaXMuc3Bpbm5lci5zdG9wKCksdGhpcy5oYW5kbGVFcnJvcih7bWVzc2FnZTpteFJlc291cmNlcy5nZXQoInNlcnZpY2VVbmF2YWlsYWJsZU9yQmxvY2tlZCIpfSl9KTsKInVuZGVmaW5lZCIhPT10eXBlb2YgVnNkeEV4cG9ydHx8dGhpcy5sb2FkaW5nRXh0ZW5zaW9uc3x8dGhpcy5pc09mZmxpbmUoITApP2EoKToodGhpcy5sb2FkaW5nRXh0ZW5zaW9ucz0hMCxteHNjcmlwdCgianMvZXh0ZW5zaW9ucy5taW4uanMiLGEpKX07RWRpdG9yVWkucHJvdG90eXBlLmNvbnZlcnRMdWNpZENoYXJ0PWZ1bmN0aW9uKGEsYyxkKXt2YXIgYj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMubG9hZGluZ0V4dGVuc2lvbnM9ITE7aWYoInVuZGVmaW5lZCIhPT10eXBlb2Ygd2luZG93Lkx1Y2lkSW1wb3J0ZXIpe3RyeXtFZGl0b3JVaS5sb2dFdmVudCh7Y2F0ZWdvcnk6IkxVQ0lEQ0hBUlQtSU1QT1JULUZJTEUiLGFjdGlvbjoic2l6ZV8iK2EubGVuZ3RofSksRWRpdG9yVWkuZGVidWcoImNvbnZlcnRMdWNpZENoYXJ0IixhKX1jYXRjaChsKXt9dHJ5e2MoTHVjaWRJbXBvcnRlci5pbXBvcnRTdGF0ZShKU09OLnBhcnNlKGEpKSl9Y2F0Y2gobCl7bnVsbCE9d2luZG93LmNvbnNvbGUmJgpjb25zb2xlLmVycm9yKGwpLGQobCl9fWVsc2UgZCh7bWVzc2FnZTpteFJlc291cmNlcy5nZXQoInNlcnZpY2VVbmF2YWlsYWJsZU9yQmxvY2tlZCIpfSl9KTsidW5kZWZpbmVkIiE9PXR5cGVvZiB3aW5kb3cuTHVjaWRJbXBvcnRlcnx8dGhpcy5sb2FkaW5nRXh0ZW5zaW9uc3x8dGhpcy5pc09mZmxpbmUoITApP3dpbmRvdy5zZXRUaW1lb3V0KGIsMCk6KHRoaXMubG9hZGluZ0V4dGVuc2lvbnM9ITAsIjEiPT11cmxQYXJhbXMuZGV2P214c2NyaXB0KCJqcy9kaWFncmFtbHkvRXh0ZW5zaW9ucy5qcyIsYik6bXhzY3JpcHQoImpzL2V4dGVuc2lvbnMubWluLmpzIixiKSl9O0VkaXRvclVpLnByb3RvdHlwZS5nZW5lcmF0ZU1lcm1haWRJbWFnZT1mdW5jdGlvbihhLGMsZCxmKXt2YXIgYj10aGlzLGU9ZnVuY3Rpb24oKXt0cnl7dGhpcy5sb2FkaW5nTWVybWFpZD0hMSxjPW51bGwhPWM/YzpFZGl0b3JVaS5kZWZhdWx0TWVybWFpZENvbmZpZyxjLnNlY3VyaXR5TGV2ZWw9InN0cmljdCIsYy5zdGFydE9uTG9hZD0KITEsbWVybWFpZC5tZXJtYWlkQVBJLmluaXRpYWxpemUoYyksbWVybWFpZC5tZXJtYWlkQVBJLnJlbmRlcigiZ2VNZXJtYWlkT3V0cHV0LSIrKG5ldyBEYXRlKS5nZXRUaW1lKCksYSxmdW5jdGlvbihhKXt0cnl7aWYobXhDbGllbnQuSVNfSUV8fG14Q2xpZW50LklTX0lFMTEpYT1hLnJlcGxhY2UoLyB4bWxuczpcUyo9Imh0dHA6XC9cL3d3dy53My5vcmdcL1hNTFwvMTk5OFwvbmFtZXNwYWNlIi9nLCIiKS5yZXBsYWNlKC8gKE5TIHhtbHxcUyopOnNwYWNlPSJwcmVzZXJ2ZSIvZywnIHhtbDpzcGFjZT0icHJlc2VydmUiJyk7dmFyIGM9bXhVdGlscy5wYXJzZVhtbChhKS5nZXRFbGVtZW50c0J5VGFnTmFtZSgic3ZnIik7aWYoMDxjLmxlbmd0aCl7dmFyIGU9cGFyc2VGbG9hdChjWzBdLmdldEF0dHJpYnV0ZSgid2lkdGgiKSksZz1wYXJzZUZsb2F0KGNbMF0uZ2V0QXR0cmlidXRlKCJoZWlnaHQiKSk7ZChiLmNvbnZlcnREYXRhVXJpKEVkaXRvci5jcmVhdGVTdmdEYXRhVXJpKGEpKSxlLApnKX1lbHNlIGYoe21lc3NhZ2U6bXhSZXNvdXJjZXMuZ2V0KCJpbnZhbGlkSW5wdXQiKX0pfWNhdGNoKEQpe2YoRCl9fSl9Y2F0Y2godil7Zih2KX19OyJ1bmRlZmluZWQiIT09dHlwZW9mIG1lcm1haWR8fHRoaXMubG9hZGluZ01lcm1haWR8fHRoaXMuaXNPZmZsaW5lKCEwKT9lKCk6KHRoaXMubG9hZGluZ01lcm1haWQ9ITAsIjEiPT11cmxQYXJhbXMuZGV2P214c2NyaXB0KCJqcy9tZXJtYWlkL21lcm1haWQubWluLmpzIixlKTpteHNjcmlwdCgianMvZXh0ZW5zaW9ucy5taW4uanMiLGUpKX07RWRpdG9yVWkucHJvdG90eXBlLmdlbmVyYXRlUGxhbnRVbWxJbWFnZT1mdW5jdGlvbihhLGMsZCxmKXtmdW5jdGlvbiBiKGEsYixjKXtjMT1hPj4yO2MyPShhJjMpPDw0fGI+PjQ7YzM9KGImMTUpPDwyfGM+PjY7YzQ9YyY2MztyPSIiO3IrPWUoYzEmNjMpO3IrPWUoYzImNjMpO3IrPWUoYzMmNjMpO3JldHVybiByKz1lKGM0JjYzKX1mdW5jdGlvbiBlKGEpe2lmKDEwPmEpcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoNDgrCmEpO2EtPTEwO2lmKDI2PmEpcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoNjUrYSk7YS09MjY7aWYoMjY+YSlyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSg5NythKTthLT0yNjtyZXR1cm4gMD09YT8iLSI6MT09YT8iXyI6Ij8ifXZhciBnPW5ldyBYTUxIdHRwUmVxdWVzdDtnLm9wZW4oIkdFVCIsKCJ0eHQiPT1jP1BMQU5UX1VSTCsiL3R4dC8iOiJwbmciPT1jP1BMQU5UX1VSTCsiL3BuZy8iOlBMQU5UX1VSTCsiL3N2Zy8iKStmdW5jdGlvbihhKXtyPSIiO2ZvcihpPTA7aTxhLmxlbmd0aDtpKz0zKXI9aSsyPT1hLmxlbmd0aD9yK2IoYS5jaGFyQ29kZUF0KGkpLGEuY2hhckNvZGVBdChpKzEpLDApOmkrMT09YS5sZW5ndGg/citiKGEuY2hhckNvZGVBdChpKSwwLDApOnIrYihhLmNoYXJDb2RlQXQoaSksYS5jaGFyQ29kZUF0KGkrMSksYS5jaGFyQ29kZUF0KGkrMikpO3JldHVybiByfShwYWtvLmRlZmxhdGVSYXcoYSx7dG86InN0cmluZyJ9KSksITApOyJ0eHQiIT1jJiYoZy5yZXNwb25zZVR5cGU9CiJibG9iIik7Zy5vbmxvYWQ9ZnVuY3Rpb24oYSl7aWYoMjAwPD10aGlzLnN0YXR1cyYmMzAwPnRoaXMuc3RhdHVzKWlmKCJ0eHQiPT1jKWQodGhpcy5yZXNwb25zZSk7ZWxzZXt2YXIgYj1uZXcgRmlsZVJlYWRlcjtiLnJlYWRBc0RhdGFVUkwodGhpcy5yZXNwb25zZSk7Yi5vbmxvYWRlbmQ9ZnVuY3Rpb24oYSl7dmFyIGM9bmV3IEltYWdlO2Mub25sb2FkPWZ1bmN0aW9uKCl7dHJ5e3ZhciBhPWMud2lkdGgsZT1jLmhlaWdodDtpZigwPT1hJiYwPT1lKXt2YXIgZz1iLnJlc3VsdCxsPWcuaW5kZXhPZigiLCIpLGs9ZGVjb2RlVVJJQ29tcG9uZW50KGVzY2FwZShhdG9iKGcuc3Vic3RyaW5nKGwrMSkpKSksbj1teFV0aWxzLnBhcnNlWG1sKGspLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzdmciKTswPG4ubGVuZ3RoJiYoYT1wYXJzZUZsb2F0KG5bMF0uZ2V0QXR0cmlidXRlKCJ3aWR0aCIpKSxlPXBhcnNlRmxvYXQoblswXS5nZXRBdHRyaWJ1dGUoImhlaWdodCIpKSl9ZChiLnJlc3VsdCxhLAplKX1jYXRjaChJKXtmKEkpfX07Yy5zcmM9Yi5yZXN1bHR9O2Iub25lcnJvcj1mdW5jdGlvbihhKXtmKGEpfX1lbHNlIGYoYSl9O2cub25lcnJvcj1mdW5jdGlvbihhKXtmKGEpfTtnLnNlbmQoKX07RWRpdG9yVWkucHJvdG90eXBlLmluc2VydEFzUHJlVGV4dD1mdW5jdGlvbihhLGMsZCl7dmFyIGI9dGhpcy5lZGl0b3IuZ3JhcGgsZT1udWxsO2IuZ2V0TW9kZWwoKS5iZWdpblVwZGF0ZSgpO3RyeXtlPWIuaW5zZXJ0VmVydGV4KG51bGwsbnVsbCwiPHByZT4iK2ErIjwvcHJlPiIsYyxkLDEsMSwidGV4dDtodG1sPTE7YWxpZ249bGVmdDt2ZXJ0aWNhbEFsaWduPXRvcDsiKSxiLnVwZGF0ZUNlbGxTaXplKGUsITApfWZpbmFsbHl7Yi5nZXRNb2RlbCgpLmVuZFVwZGF0ZSgpfXJldHVybiBlfTtFZGl0b3JVaS5wcm90b3R5cGUuaW5zZXJ0VGV4dEF0PWZ1bmN0aW9uKGEsYyxkLGYsbCxrLG0pe2s9bnVsbCE9az9rOiEwO209bnVsbCE9bT9tOiEwO2lmKG51bGwhPWEpaWYoR3JhcGguZmlsZVN1cHBvcnQmJgohdGhpcy5pc09mZmxpbmUoKSYmKG5ldyBYTUxIdHRwUmVxdWVzdCkudXBsb2FkJiZ0aGlzLmlzUmVtb3RlRmlsZUZvcm1hdChhKSl0aGlzLnBhcnNlRmlsZShuZXcgQmxvYihbYS5yZXBsYWNlKC9ccysvZywiICIpXSx7dHlwZToiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtIn0pLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpezQ9PWEucmVhZHlTdGF0ZSYmMjAwPD1hLnN0YXR1cyYmMjk5Pj1hLnN0YXR1cyYmdGhpcy5lZGl0b3IuZ3JhcGguc2V0U2VsZWN0aW9uQ2VsbHModGhpcy5pbnNlcnRUZXh0QXQoYS5yZXNwb25zZVRleHQsYyxkLCEwKSl9KSk7ZWxzZSBpZigiZGF0YToiPT1hLnN1YnN0cmluZygwLDUpfHwhdGhpcy5pc09mZmxpbmUoKSYmKGx8fC9cLihnaWZ8anBnfGpwZWd8dGlmZnxwbmd8c3ZnKSQvaS50ZXN0KGEpKSl7dmFyIGI9dGhpcy5lZGl0b3IuZ3JhcGg7aWYoImRhdGE6YXBwbGljYXRpb24vcGRmO2Jhc2U2NCwiPT1hLnN1YnN0cmluZygwLDI4KSl7dmFyIGU9CkVkaXRvci5leHRyYWN0R3JhcGhNb2RlbEZyb21QZGYoYSk7aWYobnVsbCE9ZSYmMDxlLmxlbmd0aClyZXR1cm4gdGhpcy5pbXBvcnRYbWwoZSxjLGQsaywhMCl9aWYoImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwiPT1hLnN1YnN0cmluZygwLDIyKSYmKGU9dGhpcy5leHRyYWN0R3JhcGhNb2RlbEZyb21QbmcoYSksbnVsbCE9ZSYmMDxlLmxlbmd0aCkpcmV0dXJuIHRoaXMuaW1wb3J0WG1sKGUsYyxkLGssITApO2lmKCJkYXRhOmltYWdlL3N2Zyt4bWw7Ij09YS5zdWJzdHJpbmcoMCwxOSkpdHJ5e2U9bnVsbDsiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCwiPT1hLnN1YnN0cmluZygwLDI2KT8oZT1hLnN1YnN0cmluZyhhLmluZGV4T2YoIiwiKSsxKSxlPXdpbmRvdy5hdG9iJiYhbXhDbGllbnQuSVNfU0Y/YXRvYihlKTpCYXNlNjQuZGVjb2RlKGUsITApKTplPWRlY29kZVVSSUNvbXBvbmVudChhLnN1YnN0cmluZyhhLmluZGV4T2YoIiwiKSsxKSk7dmFyIGc9dGhpcy5pbXBvcnRYbWwoZSwKYyxkLGssITApO2lmKDA8Zy5sZW5ndGgpcmV0dXJuIGd9Y2F0Y2goQil7fXRoaXMubG9hZEltYWdlKGEsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oZSl7aWYoImRhdGE6Ij09YS5zdWJzdHJpbmcoMCw1KSl0aGlzLnJlc2l6ZUltYWdlKGUsYSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGUsZil7Yi5zZXRTZWxlY3Rpb25DZWxsKGIuaW5zZXJ0VmVydGV4KG51bGwsbnVsbCwiIixiLnNuYXAoYyksYi5zbmFwKGQpLGUsZiwic2hhcGU9aW1hZ2U7dmVydGljYWxMYWJlbFBvc2l0aW9uPWJvdHRvbTtsYWJlbEJhY2tncm91bmRDb2xvcj0jZmZmZmZmO3ZlcnRpY2FsQWxpZ249dG9wO2FzcGVjdD1maXhlZDtpbWFnZUFzcGVjdD0wO2ltYWdlPSIrdGhpcy5jb252ZXJ0RGF0YVVyaShhKSsiOyIpKX0pLG0sdGhpcy5tYXhJbWFnZVNpemUpO2Vsc2V7dmFyIGY9TWF0aC5taW4oMSxNYXRoLm1pbih0aGlzLm1heEltYWdlU2l6ZS9lLndpZHRoLHRoaXMubWF4SW1hZ2VTaXplL2UuaGVpZ2h0KSksCmc9TWF0aC5yb3VuZChlLndpZHRoKmYpO2U9TWF0aC5yb3VuZChlLmhlaWdodCpmKTtiLnNldFNlbGVjdGlvbkNlbGwoYi5pbnNlcnRWZXJ0ZXgobnVsbCxudWxsLCIiLGIuc25hcChjKSxiLnNuYXAoZCksZyxlLCJzaGFwZT1pbWFnZTt2ZXJ0aWNhbExhYmVsUG9zaXRpb249Ym90dG9tO2xhYmVsQmFja2dyb3VuZENvbG9yPSNmZmZmZmY7dmVydGljYWxBbGlnbj10b3A7YXNwZWN0PWZpeGVkO2ltYWdlQXNwZWN0PTA7aW1hZ2U9IithKyI7IikpfX0pLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dmFyIGU9bnVsbDtiLmdldE1vZGVsKCkuYmVnaW5VcGRhdGUoKTt0cnl7ZT1iLmluc2VydFZlcnRleChiLmdldERlZmF1bHRQYXJlbnQoKSxudWxsLGEsYi5zbmFwKGMpLGIuc25hcChkKSwxLDEsInRleHQ7IisoZj8iaHRtbD0xOyI6IiIpKSxiLnVwZGF0ZUNlbGxTaXplKGUpLGIuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJ0ZXh0SW5zZXJ0ZWQiLCJjZWxscyIsW2VdKSl9ZmluYWxseXtiLmdldE1vZGVsKCkuZW5kVXBkYXRlKCl9Yi5zZXRTZWxlY3Rpb25DZWxsKGUpfSkpfWVsc2V7YT0KR3JhcGguemFwR3JlbWxpbnMobXhVdGlscy50cmltKGEpKTtpZih0aGlzLmlzQ29tcGF0aWJsZVN0cmluZyhhKSlyZXR1cm4gdGhpcy5pbXBvcnRYbWwoYSxjLGQsayk7aWYoMDxhLmxlbmd0aClpZih0aGlzLmlzTHVjaWRDaGFydERhdGEoYSkpdGhpcy5jb252ZXJ0THVjaWRDaGFydChhLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe3RoaXMuZWRpdG9yLmdyYXBoLnNldFNlbGVjdGlvbkNlbGxzKHRoaXMuaW1wb3J0WG1sKGIsYyxkLGspKTshdGhpcy5pc09mZmxpbmUoKSYmKC8uKlwuZGlhZ3JhbXNcLm5ldCQvLnRlc3Qod2luZG93LmxvY2F0aW9uLmhvc3RuYW1lKXx8Ly4qXC5hcHBzcG90XC5jb20kLy50ZXN0KHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSl8fC8uKlwuZHJhd1wuaW8kLy50ZXN0KHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSkpJiZ0aGlzLnNob3dCYW5uZXIoIkx1Y2lkQ2hhcnRJbXBvcnRTdXJ2ZXkiLG14UmVzb3VyY2VzLmdldCgibm90U2F0aXNmaWVkV2l0aEltcG9ydCIpLApteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3ZhciBiPW5ldyBGZWVkYmFja0RpYWxvZyh0aGlzLCJMdWNpZGNoYXJ0IEltcG9ydCBGZWVkYmFjayIsITAsYSk7dGhpcy5zaG93RGlhbG9nKGIuY29udGFpbmVyLDYxMCwzNjAsITAsITEpO2IuaW5pdCgpfSkpfSksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5oYW5kbGVFcnJvcihhKX0pKTtlbHNle2I9dGhpcy5lZGl0b3IuZ3JhcGg7bD1udWxsO2IuZ2V0TW9kZWwoKS5iZWdpblVwZGF0ZSgpO3RyeXtsPWIuaW5zZXJ0VmVydGV4KGIuZ2V0RGVmYXVsdFBhcmVudCgpLG51bGwsIiIsYi5zbmFwKGMpLGIuc25hcChkKSwxLDEsInRleHQ7d2hpdGVTcGFjZT13cmFwOyIrKGY/Imh0bWw9MTsiOiIiKSk7Yi5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoInRleHRJbnNlcnRlZCIsImNlbGxzIixbbF0pKTsiPCI9PWEuY2hhckF0KDApJiZhLmluZGV4T2YoIj4iKT09YS5sZW5ndGgtMSYmKGE9bXhVdGlscy5odG1sRW50aXRpZXMoYSkpOwphLmxlbmd0aD50aGlzLm1heFRleHRCeXRlcyYmKGE9YS5zdWJzdHJpbmcoMCx0aGlzLm1heFRleHRCeXRlcykrIi4uLiIpO2wudmFsdWU9YTtiLnVwZGF0ZUNlbGxTaXplKGwpO2lmKDA8dGhpcy5tYXhUZXh0V2lkdGgmJmwuZ2VvbWV0cnkud2lkdGg+dGhpcy5tYXhUZXh0V2lkdGgpe3ZhciBuPWIuZ2V0UHJlZmVycmVkU2l6ZUZvckNlbGwobCx0aGlzLm1heFRleHRXaWR0aCk7bC5nZW9tZXRyeS53aWR0aD1uLndpZHRoO2wuZ2VvbWV0cnkuaGVpZ2h0PW4uaGVpZ2h0fUdyYXBoLmlzTGluayhsLnZhbHVlKSYmYi5zZXRMaW5rRm9yQ2VsbChsLGwudmFsdWUpO2wuZ2VvbWV0cnkud2lkdGgrPWIuZ3JpZFNpemU7bC5nZW9tZXRyeS5oZWlnaHQrPWIuZ3JpZFNpemV9ZmluYWxseXtiLmdldE1vZGVsKCkuZW5kVXBkYXRlKCl9cmV0dXJuW2xdfX1yZXR1cm5bXX07RWRpdG9yVWkucHJvdG90eXBlLmZvcm1hdEZpbGVTaXplPWZ1bmN0aW9uKGEpe3ZhciBiPS0xO2RvIGEvPTEwMjQsYisrO3doaWxlKDEwMjQ8CmEpO3JldHVybiBNYXRoLm1heChhLC4xKS50b0ZpeGVkKDEpKyIga0I7IE1COyBHQjsgVEI7UEI7RUI7WkI7WUIiLnNwbGl0KCI7IilbYl19O0VkaXRvclVpLnByb3RvdHlwZS5jb252ZXJ0RGF0YVVyaT1mdW5jdGlvbihhKXtpZigiZGF0YToiPT1hLnN1YnN0cmluZygwLDUpKXt2YXIgYj1hLmluZGV4T2YoIjsiKTswPGImJihhPWEuc3Vic3RyaW5nKDAsYikrYS5zdWJzdHJpbmcoYS5pbmRleE9mKCIsIixiKzEpKSl9cmV0dXJuIGF9O0VkaXRvclVpLnByb3RvdHlwZS5pc1JlbW90ZUZpbGVGb3JtYXQ9ZnVuY3Rpb24oYSxjKXtyZXR1cm4vKFwiY29udGVudFR5cGVcIjpccypcImFwcGxpY2F0aW9uXC9nbGlmZnlcK2pzb25cIikvLnRlc3QoYSl9O0VkaXRvclVpLnByb3RvdHlwZS5pc0x1Y2lkQ2hhcnREYXRhPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiYoJ3sic3RhdGUiOiJ7XFwiUHJvcGVydGllc1xcIjonPT1hLnN1YnN0cmluZygwLDI2KXx8J3siUHJvcGVydGllcyI6Jz09YS5zdWJzdHJpbmcoMCwKMTQpKX07RWRpdG9yVWkucHJvdG90eXBlLmltcG9ydExvY2FsRmlsZT1mdW5jdGlvbihhLGMpe2lmKGEmJkdyYXBoLmZpbGVTdXBwb3J0KXtpZihudWxsPT10aGlzLmltcG9ydEZpbGVJbnB1dEVsdCl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtiLnNldEF0dHJpYnV0ZSgidHlwZSIsImZpbGUiKTtteEV2ZW50LmFkZExpc3RlbmVyKGIsImNoYW5nZSIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtudWxsIT1iLmZpbGVzJiYodGhpcy5pbXBvcnRGaWxlcyhiLmZpbGVzLG51bGwsbnVsbCx0aGlzLm1heEltYWdlU2l6ZSksYi50eXBlPSIiLGIudHlwZT0iZmlsZSIsYi52YWx1ZT0iIil9KSk7Yi5zdHlsZS5kaXNwbGF5PSJub25lIjtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGIpO3RoaXMuaW1wb3J0RmlsZUlucHV0RWx0PWJ9dGhpcy5pbXBvcnRGaWxlSW5wdXRFbHQuY2xpY2soKX1lbHNle3dpbmRvdy5vcGVuTmV3PSExO3dpbmRvdy5vcGVuS2V5PSJpbXBvcnQiOwppZighYyl7dmFyIGU9RWRpdG9yLnVzZUxvY2FsU3RvcmFnZTtFZGl0b3IudXNlTG9jYWxTdG9yYWdlPSFhfXdpbmRvdy5vcGVuRmlsZT1uZXcgT3BlbkZpbGUobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5oaWRlRGlhbG9nKGEpfSkpO3dpbmRvdy5vcGVuRmlsZS5zZXRDb25zdW1lcihteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGIpe2lmKG51bGwhPWImJkdyYXBoLmZpbGVTdXBwb3J0JiYvKFwudihkeHxzZHg/KSkoJHxcPykvaS50ZXN0KGIpKXt2YXIgYz1uZXcgQmxvYihbYV0se3R5cGU6ImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbSJ9KTt0aGlzLmltcG9ydFZpc2lvKGMsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5pbXBvcnRYbWwoYSwwLDAsITApfSksbnVsbCxiKX1lbHNlIHRoaXMuZWRpdG9yLmdyYXBoLnNldFNlbGVjdGlvbkNlbGxzKHRoaXMuaW1wb3J0WG1sKGEsMCwwLCEwKSl9KSk7dGhpcy5zaG93RGlhbG9nKChuZXcgT3BlbkRpYWxvZyh0aGlzKSkuY29udGFpbmVyLAozNjAsMjIwLCEwLCEwLGZ1bmN0aW9uKCl7d2luZG93Lm9wZW5GaWxlPW51bGx9KTtpZighYyl7dmFyIGQ9dGhpcy5kaWFsb2csZj1kLmNsb3NlO3RoaXMuZGlhbG9nLmNsb3NlPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe0VkaXRvci51c2VMb2NhbFN0b3JhZ2U9ZTtmLmFwcGx5KGQsYXJndW1lbnRzKTthJiZudWxsPT10aGlzLmdldEN1cnJlbnRGaWxlKCkmJiIxIiE9dXJsUGFyYW1zLmVtYmVkJiZ0aGlzLnNob3dTcGxhc2goKX0pfX19O0VkaXRvclVpLnByb3RvdHlwZS5pbXBvcnRaaXBGaWxlPWZ1bmN0aW9uKGEsYyxkKXt2YXIgYj10aGlzLGU9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmxvYWRpbmdFeHRlbnNpb25zPSExOyJ1bmRlZmluZWQiIT09dHlwZW9mIEpTWmlwP0pTWmlwLmxvYWRBc3luYyhhKS50aGVuKGZ1bmN0aW9uKGUpe2lmKDA9PU9iamVjdC5rZXlzKGUuZmlsZXMpLmxlbmd0aClkKCk7ZWxzZXt2YXIgZj0wLGcsbD0hMTtlLmZvckVhY2goZnVuY3Rpb24oYSwKYil7dmFyIGU9Yi5uYW1lLnRvTG93ZXJDYXNlKCk7ImRpYWdyYW0vZGlhZ3JhbS54bWwiPT1lPyhsPSEwLGIuYXN5bmMoInN0cmluZyIpLnRoZW4oZnVuY3Rpb24oYSl7MD09YS5pbmRleE9mKCI8bXhmaWxlICIpP2MoYSk6ZCgpfSkpOjA9PWUuaW5kZXhPZigidmVyc2lvbnMvIikmJihlPXBhcnNlSW50KGUuc3Vic3RyKDkpKSxlPmYmJihmPWUsZz1iKSl9KTswPGY/Zy5hc3luYygic3RyaW5nIikudGhlbihmdW5jdGlvbihlKXshYi5pc09mZmxpbmUoKSYmKG5ldyBYTUxIdHRwUmVxdWVzdCkudXBsb2FkJiZiLmlzUmVtb3RlRmlsZUZvcm1hdChlLGEubmFtZSk/Yi5wYXJzZUZpbGUobmV3IEJsb2IoW2VdLHt0eXBlOiJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0ifSksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7ND09YS5yZWFkeVN0YXRlJiYoMjAwPD1hLnN0YXR1cyYmMjk5Pj1hLnN0YXR1cz9jKGEucmVzcG9uc2VUZXh0KTpkKCkpfSksYS5uYW1lKTpkKCl9KTpsfHxkKCl9fSwKZnVuY3Rpb24oYSl7ZChhKX0pOmQoKX0pOyJ1bmRlZmluZWQiIT09dHlwZW9mIEpTWmlwfHx0aGlzLmxvYWRpbmdFeHRlbnNpb25zfHx0aGlzLmlzT2ZmbGluZSghMCk/ZSgpOih0aGlzLmxvYWRpbmdFeHRlbnNpb25zPSEwLG14c2NyaXB0KCJqcy9leHRlbnNpb25zLm1pbi5qcyIsZSkpfTtFZGl0b3JVaS5wcm90b3R5cGUuaW1wb3J0RmlsZT1mdW5jdGlvbihhLGMsZCxmLGwsayxtLHQscSxBLEQpe0E9bnVsbCE9QT9BOiEwO3ZhciBiPSExLGU9bnVsbCxnPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7bnVsbCE9YSYmIjxteGxpYnJhcnkiPT1hLnN1YnN0cmluZygwLDEwKT90aGlzLmxvYWRMaWJyYXJ5KG5ldyBMb2NhbExpYnJhcnkodGhpcyxhLG0pKTpiPXRoaXMuaW1wb3J0WG1sKGEsZCxmLEEpO251bGwhPXQmJnQoYil9KTsiaW1hZ2UiPT1jLnN1YnN0cmluZygwLDUpPyhxPSExLCJpbWFnZS9wbmciPT1jLnN1YnN0cmluZygwLDkpJiYoYz1EP251bGw6CnRoaXMuZXh0cmFjdEdyYXBoTW9kZWxGcm9tUG5nKGEpLG51bGwhPWMmJjA8Yy5sZW5ndGgmJihlPXRoaXMuaW1wb3J0WG1sKGMsZCxmLEEpLHE9ITApKSxxfHwoYz10aGlzLmVkaXRvci5ncmFwaCxEPWEuaW5kZXhPZigiOyIpLDA8RCYmKGE9YS5zdWJzdHJpbmcoMCxEKSthLnN1YnN0cmluZyhhLmluZGV4T2YoIiwiLEQrMSkpKSxBJiZjLmlzR3JpZEVuYWJsZWQoKSYmKGQ9Yy5zbmFwKGQpLGY9Yy5zbmFwKGYpKSxlPVtjLmluc2VydFZlcnRleChudWxsLG51bGwsIiIsZCxmLGwsaywic2hhcGU9aW1hZ2U7dmVydGljYWxMYWJlbFBvc2l0aW9uPWJvdHRvbTtsYWJlbEJhY2tncm91bmRDb2xvcj0jZmZmZmZmO3ZlcnRpY2FsQWxpZ249dG9wO2FzcGVjdD1maXhlZDtpbWFnZUFzcGVjdD0wO2ltYWdlPSIrYSsiOyIpXSkpOi8oXC4qPGdyYXBobWwgKS8udGVzdChhKT8oYj0hMCx0aGlzLmltcG9ydEdyYXBoTUwoYSxnKSk6bnVsbCE9cSYmbnVsbCE9bSYmKC8oXC52KGR4fHNkeD8pKSgkfFw/KS9pLnRlc3QobSl8fAovKFwudnMoeHxzeD8pKSgkfFw/KS9pLnRlc3QobSkpPyhiPSEwLHRoaXMuaW1wb3J0VmlzaW8ocSxnKSk6IXRoaXMuaXNPZmZsaW5lKCkmJihuZXcgWE1MSHR0cFJlcXVlc3QpLnVwbG9hZCYmdGhpcy5pc1JlbW90ZUZpbGVGb3JtYXQoYSxtKT8oYj0hMCx0aGlzLnBhcnNlRmlsZShudWxsIT1xP3E6bmV3IEJsb2IoW2FdLHt0eXBlOiJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0ifSksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7ND09YS5yZWFkeVN0YXRlJiYoMjAwPD1hLnN0YXR1cyYmMjk5Pj1hLnN0YXR1cz9nKGEucmVzcG9uc2VUZXh0KTpudWxsIT10JiZ0KG51bGwpKX0pLG0pKTowPT1hLmluZGV4T2YoIlBLIikmJm51bGwhPXE/KGI9ITAsdGhpcy5pbXBvcnRaaXBGaWxlKHEsZyxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2U9dGhpcy5pbnNlcnRUZXh0QXQodGhpcy52YWxpZGF0ZUZpbGVEYXRhKGEpLGQsZiwhMCxudWxsLEEpO3QoZSl9KSkpOi8oXC52KHNkfGR4KSkoJHxcPykvaS50ZXN0KG0pfHwKLyhcLnZzKHN8eCkpKCR8XD8pL2kudGVzdChtKXx8KGU9dGhpcy5pbnNlcnRUZXh0QXQodGhpcy52YWxpZGF0ZUZpbGVEYXRhKGEpLGQsZiwhMCxudWxsLEEpKTtifHxudWxsPT10fHx0KGUpO3JldHVybiBlfTtFZGl0b3JVaS5wcm90b3R5cGUuaW1wb3J0RmlsZXM9ZnVuY3Rpb24oYSxjLGQsZixsLGssbSx0LHEsQSxELEIpe2Y9bnVsbCE9Zj9mOnRoaXMubWF4SW1hZ2VTaXplO0E9bnVsbCE9QT9BOnRoaXMubWF4SW1hZ2VCeXRlczt2YXIgYj1udWxsIT1jJiZudWxsIT1kLGU9ITA7Yz1udWxsIT1jP2M6MDtkPW51bGwhPWQ/ZDowO3ZhciBnPSExO2lmKCFteENsaWVudC5JU19DSFJPTUVBUFAmJm51bGwhPWEpZm9yKHZhciBuPUR8fHRoaXMucmVzYW1wbGVUaHJlc2hvbGQscD0wO3A8YS5sZW5ndGg7cCsrKWlmKCJpbWFnZS8iPT1hW3BdLnR5cGUuc3Vic3RyaW5nKDAsNikmJmFbcF0uc2l6ZT5uKXtnPSEwO2JyZWFrfXZhciB4PW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dmFyIGc9CnRoaXMuZWRpdG9yLmdyYXBoLG49Zy5ncmlkU2l6ZTtsPW51bGwhPWw/bDpteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGMsZSxkLGYsZyxsLGssbil7dHJ5e3JldHVybiBudWxsIT1hJiYiPG14bGlicmFyeSI9PWEuc3Vic3RyaW5nKDAsMTApPyh0aGlzLnNwaW5uZXIuc3RvcCgpLHRoaXMubG9hZExpYnJhcnkobmV3IExvY2FsTGlicmFyeSh0aGlzLGEsbCkpLG51bGwpOnRoaXMuaW1wb3J0RmlsZShhLGMsZSxkLGYsZyxsLGssbixiLEIpfWNhdGNoKFQpe3JldHVybiB0aGlzLmhhbmRsZUVycm9yKFQpLG51bGx9fSk7az1udWxsIT1rP2s6bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7Zy5zZXRTZWxlY3Rpb25DZWxscyhhKX0pO2lmKHRoaXMuc3Bpbm5lci5zcGluKGRvY3VtZW50LmJvZHksbXhSZXNvdXJjZXMuZ2V0KCJsb2FkaW5nIikpKWZvcih2YXIgcD1hLmxlbmd0aCxxPXAseD1bXSx2PW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYil7eFthXT1iO2lmKDA9PQotLXEpe3RoaXMuc3Bpbm5lci5zdG9wKCk7aWYobnVsbCE9dCl0KHgpO2Vsc2V7dmFyIGM9W107Zy5nZXRNb2RlbCgpLmJlZ2luVXBkYXRlKCk7dHJ5e2Zvcih2YXIgZT0wO2U8eC5sZW5ndGg7ZSsrKXt2YXIgZD14W2VdKCk7bnVsbCE9ZCYmKGM9Yy5jb25jYXQoZCkpfX1maW5hbGx5e2cuZ2V0TW9kZWwoKS5lbmRVcGRhdGUoKX19ayhjKX19KSx6PTA7ejxwO3orKylteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXt2YXIgaz1hW2JdO2lmKG51bGwhPWspe3ZhciBwPW5ldyBGaWxlUmVhZGVyO3Aub25sb2FkPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe2lmKG51bGw9PW18fG0oaykpaWYoImltYWdlLyI9PWsudHlwZS5zdWJzdHJpbmcoMCw2KSlpZigiaW1hZ2Uvc3ZnIj09ay50eXBlLnN1YnN0cmluZygwLDkpKXt2YXIgcD1hLnRhcmdldC5yZXN1bHQscT1wLmluZGV4T2YoIiwiKSx0PWRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoYXRvYihwLnN1YnN0cmluZyhxKzEpKSkpLAp1PW14VXRpbHMucGFyc2VYbWwodCksdD11LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzdmciKTtpZigwPHQubGVuZ3RoKXt2YXIgdD10WzBdLHg9Qj9udWxsOnQuZ2V0QXR0cmlidXRlKCJjb250ZW50Iik7bnVsbCE9eCYmIjwiIT14LmNoYXJBdCgwKSYmIiUiIT14LmNoYXJBdCgwKSYmKHg9dW5lc2NhcGUod2luZG93LmF0b2I/YXRvYih4KTpCYXNlNjQuZGVjb2RlKHgsITApKSk7bnVsbCE9eCYmIiUiPT14LmNoYXJBdCgwKSYmKHg9ZGVjb2RlVVJJQ29tcG9uZW50KHgpKTtudWxsPT14fHwiPG14ZmlsZSAiIT09eC5zdWJzdHJpbmcoMCw4KSYmIjxteEdyYXBoTW9kZWwgIiE9PXguc3Vic3RyaW5nKDAsMTQpP3YoYixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RyeXtpZihwLnN1YnN0cmluZygwLHErMSksbnVsbCE9dSl7dmFyIGE9dS5nZXRFbGVtZW50c0J5VGFnTmFtZSgic3ZnIik7aWYoMDxhLmxlbmd0aCl7dmFyIGU9YVswXSxtPWUuZ2V0QXR0cmlidXRlKCJ3aWR0aCIpLHQ9CmUuZ2V0QXR0cmlidXRlKCJoZWlnaHQiKSxtPW51bGwhPW0mJiIlIiE9bS5jaGFyQXQobS5sZW5ndGgtMSk/cGFyc2VGbG9hdChtKTpOYU4sdD1udWxsIT10JiYiJSIhPXQuY2hhckF0KHQubGVuZ3RoLTEpP3BhcnNlRmxvYXQodCk6TmFOLHg9ZS5nZXRBdHRyaWJ1dGUoInZpZXdCb3giKTtpZihudWxsPT14fHwwPT14Lmxlbmd0aCllLnNldEF0dHJpYnV0ZSgidmlld0JveCIsIjAgMCAiK20rIiAiK3QpO2Vsc2UgaWYoaXNOYU4obSl8fGlzTmFOKHQpKXt2YXIgeT14LnNwbGl0KCIgIik7Mzx5Lmxlbmd0aCYmKG09cGFyc2VGbG9hdCh5WzJdKSx0PXBhcnNlRmxvYXQoeVszXSkpfXA9RWRpdG9yLmNyZWF0ZVN2Z0RhdGFVcmkobXhVdGlscy5nZXRYbWwoZSkpO3ZhciB2PU1hdGgubWluKDEsTWF0aC5taW4oZi9NYXRoLm1heCgxLG0pKSxmL01hdGgubWF4KDEsdCkpLEE9bChwLGsudHlwZSxjK2IqbixkK2IqbixNYXRoLm1heCgxLE1hdGgucm91bmQobSp2KSksTWF0aC5tYXgoMSxNYXRoLnJvdW5kKHQqCnYpKSxrLm5hbWUpO2lmKGlzTmFOKG0pfHxpc05hTih0KSl7dmFyIHo9bmV3IEltYWdlO3oub25sb2FkPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7bT1NYXRoLm1heCgxLHoud2lkdGgpO3Q9TWF0aC5tYXgoMSx6LmhlaWdodCk7QVswXS5nZW9tZXRyeS53aWR0aD1tO0FbMF0uZ2VvbWV0cnkuaGVpZ2h0PXQ7ZS5zZXRBdHRyaWJ1dGUoInZpZXdCb3giLCIwIDAgIittKyIgIit0KTtwPUVkaXRvci5jcmVhdGVTdmdEYXRhVXJpKG14VXRpbHMuZ2V0WG1sKGUpKTt2YXIgYT1wLmluZGV4T2YoIjsiKTswPGEmJihwPXAuc3Vic3RyaW5nKDAsYSkrcC5zdWJzdHJpbmcocC5pbmRleE9mKCIsIixhKzEpKSk7Zy5zZXRDZWxsU3R5bGVzKCJpbWFnZSIscCxbQVswXV0pfSk7ei5zcmM9RWRpdG9yLmNyZWF0ZVN2Z0RhdGFVcmkobXhVdGlscy5nZXRYbWwoZSkpfXJldHVybiBBfX19Y2F0Y2goVyl7fXJldHVybiBudWxsfSkpOnYoYixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3JldHVybiBsKHgsCiJ0ZXh0L3htbCIsYytiKm4sZCtiKm4sMCwwLGsubmFtZSl9KSl9ZWxzZSB2KGIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0pKX1lbHNle3Q9ITE7aWYoImltYWdlL3BuZyI9PWsudHlwZSl7dmFyIHk9Qj9udWxsOnRoaXMuZXh0cmFjdEdyYXBoTW9kZWxGcm9tUG5nKGEudGFyZ2V0LnJlc3VsdCk7aWYobnVsbCE9eSYmMDx5Lmxlbmd0aCl7dmFyIHo9bmV3IEltYWdlO3ouc3JjPWEudGFyZ2V0LnJlc3VsdDt2KGIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gbCh5LCJ0ZXh0L3htbCIsYytiKm4sZCtiKm4sei53aWR0aCx6LmhlaWdodCxrLm5hbWUpfSkpO3Q9ITB9fXR8fChteENsaWVudC5JU19DSFJPTUVBUFA/KHRoaXMuc3Bpbm5lci5zdG9wKCksdGhpcy5zaG93RXJyb3IobXhSZXNvdXJjZXMuZ2V0KCJlcnJvciIpLG14UmVzb3VyY2VzLmdldCgiZHJhZ0FuZERyb3BOb3RTdXBwb3J0ZWQiKSxteFJlc291cmNlcy5nZXQoImNhbmNlbCIpLApteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe30pLG51bGwsbXhSZXNvdXJjZXMuZ2V0KCJvayIpLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5hY3Rpb25zLmdldCgiaW1wb3J0IikuZnVuY3QoKX0pKSk6dGhpcy5sb2FkSW1hZ2UoYS50YXJnZXQucmVzdWx0LG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGcpe3RoaXMucmVzaXplSW1hZ2UoZyxhLnRhcmdldC5yZXN1bHQsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oZyxtLHApe3YoYixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2lmKG51bGwhPWcmJmcubGVuZ3RoPEEpe3ZhciB0PWUmJnRoaXMuaXNSZXNhbXBsZUltYWdlKGEudGFyZ2V0LnJlc3VsdCxEKT9NYXRoLm1pbigxLE1hdGgubWluKGYvbSxmL3ApKToxO3JldHVybiBsKGcsay50eXBlLGMrYipuLGQrYipuLE1hdGgucm91bmQobSp0KSxNYXRoLnJvdW5kKHAqdCksay5uYW1lKX10aGlzLmhhbmRsZUVycm9yKHttZXNzYWdlOm14UmVzb3VyY2VzLmdldCgiaW1hZ2VUb29CaWciKX0pOwpyZXR1cm4gbnVsbH0pKX0pLGUsZixEKX0pLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5oYW5kbGVFcnJvcih7bWVzc2FnZTpteFJlc291cmNlcy5nZXQoImludmFsaWRPck1pc3NpbmdGaWxlIil9KX0pKSl9ZWxzZSBwPWEudGFyZ2V0LnJlc3VsdCxsKHAsay50eXBlLGMrYipuLGQrYipuLDI0MCwxNjAsay5uYW1lLGZ1bmN0aW9uKGEpe3YoYixmdW5jdGlvbigpe3JldHVybiBhfSl9LGspfSk7LyhcLnYoZHh8c2R4PykpKCR8XD8pL2kudGVzdChrLm5hbWUpfHwvKFwudnMoeHxzeD8pKSgkfFw/KS9pLnRlc3Qoay5uYW1lKT9sKG51bGwsay50eXBlLGMrYipuLGQrYipuLDI0MCwxNjAsay5uYW1lLGZ1bmN0aW9uKGEpe3YoYixmdW5jdGlvbigpe3JldHVybiBhfSl9LGspOiJpbWFnZSI9PWsudHlwZS5zdWJzdHJpbmcoMCw1KXx8ImFwcGxpY2F0aW9uL3BkZiI9PWsudHlwZT9wLnJlYWRBc0RhdGFVUkwoayk6cC5yZWFkQXNUZXh0KGspfX0pKHopfSk7aWYoZyl7Zz1bXTsKZm9yKHA9MDtwPGEubGVuZ3RoO3ArKylnLnB1c2goYVtwXSk7YT1nO3RoaXMuY29uZmlybUltYWdlUmVzaXplKGZ1bmN0aW9uKGEpe2U9YTt4KCl9LHEpfWVsc2UgeCgpfTtFZGl0b3JVaS5wcm90b3R5cGUuY29uZmlybUltYWdlUmVzaXplPWZ1bmN0aW9uKGEsYyl7Yz1udWxsIT1jP2M6ITE7dmFyIGI9bnVsbCE9dGhpcy5zcGlubmVyJiZudWxsIT10aGlzLnNwaW5uZXIucGF1c2U/dGhpcy5zcGlubmVyLnBhdXNlKCk6ZnVuY3Rpb24oKXt9LGU9aXNMb2NhbFN0b3JhZ2V8fG14Q2xpZW50LklTX0NIUk9NRUFQUD9teFNldHRpbmdzLmdldFJlc2l6ZUltYWdlcygpOm51bGwsZD1mdW5jdGlvbihlLGQpe2lmKGV8fGMpbXhTZXR0aW5ncy5zZXRSZXNpemVJbWFnZXMoZT9kOm51bGwpLG14U2V0dGluZ3Muc2F2ZSgpO2IoKTthKGQpfTtudWxsPT1lfHxjP3RoaXMuc2hvd0RpYWxvZygobmV3IENvbmZpcm1EaWFsb2codGhpcyxteFJlc291cmNlcy5nZXQoInJlc2l6ZUxhcmdlSW1hZ2VzIiksCmZ1bmN0aW9uKGEpe2QoYSwhMCl9LGZ1bmN0aW9uKGEpe2QoYSwhMSl9LG14UmVzb3VyY2VzLmdldCgicmVzaXplIiksbXhSZXNvdXJjZXMuZ2V0KCJhY3R1YWxTaXplIiksJzxpbWcgc3R5bGU9Im1hcmdpbi10b3A6OHB4OyIgc3JjPSInK0VkaXRvci5sb1Jlc0ltYWdlKyciLz4nLCc8aW1nIHN0eWxlPSJtYXJnaW4tdG9wOjhweDsiIHNyYz0iJytFZGl0b3IuaGlSZXNJbWFnZSsnIi8+Jyxpc0xvY2FsU3RvcmFnZXx8bXhDbGllbnQuSVNfQ0hST01FQVBQKSkuY29udGFpbmVyLDM0MCxpc0xvY2FsU3RvcmFnZXx8bXhDbGllbnQuSVNfQ0hST01FQVBQPzIyMDoyMDAsITAsITApOmQoITEsZSl9O0VkaXRvclVpLnByb3RvdHlwZS5wYXJzZUZpbGU9ZnVuY3Rpb24oYSxjLGQpe2Q9bnVsbCE9ZD9kOmEubmFtZTt2YXIgYj1uZXcgRm9ybURhdGE7Yi5hcHBlbmQoImZvcm1hdCIsInhtbCIpO2IuYXBwZW5kKCJ1cGZpbGUiLGEsZCk7dmFyIGU9bmV3IFhNTEh0dHBSZXF1ZXN0O2Uub3BlbigiUE9TVCIsCk9QRU5fVVJMKTtlLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2MoZSl9O2Uuc2VuZChiKTt0cnl7RWRpdG9yVWkubG9nRXZlbnQoe2NhdGVnb3J5OiJHTElGRlktSU1QT1JULUZJTEUiLGFjdGlvbjoic2l6ZV8iK2Euc2l6ZX0pfWNhdGNoKG4pe319O0VkaXRvclVpLnByb3RvdHlwZS5pc1Jlc2FtcGxlSW1hZ2U9ZnVuY3Rpb24oYSxjKXtjPW51bGwhPWM/Yzp0aGlzLnJlc2FtcGxlVGhyZXNob2xkO3JldHVybiBhLmxlbmd0aD5jfTtFZGl0b3JVaS5wcm90b3R5cGUucmVzaXplSW1hZ2U9ZnVuY3Rpb24oYSxjLGQsZixsLGspe2w9bnVsbCE9bD9sOnRoaXMubWF4SW1hZ2VTaXplO3ZhciBiPU1hdGgubWF4KDEsYS53aWR0aCksZT1NYXRoLm1heCgxLGEuaGVpZ2h0KTtpZihmJiZ0aGlzLmlzUmVzYW1wbGVJbWFnZShjLGspKXRyeXt2YXIgZz1NYXRoLm1heChiL2wsZS9sKTtpZigxPGcpe3ZhciBtPU1hdGgucm91bmQoYi9nKSxuPU1hdGgucm91bmQoZS9nKSxwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpOwpwLndpZHRoPW07cC5oZWlnaHQ9bjtwLmdldENvbnRleHQoIjJkIikuZHJhd0ltYWdlKGEsMCwwLG0sbik7dmFyIHE9cC50b0RhdGFVUkwoKTtpZihxLmxlbmd0aDxjLmxlbmd0aCl7dmFyIHo9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7ei53aWR0aD1tO3ouaGVpZ2h0PW47dmFyIEU9ei50b0RhdGFVUkwoKTtxIT09RSYmKGM9cSxiPW0sZT1uKX19fWNhdGNoKEcpe31kKGMsYixlKX07RWRpdG9yVWkucHJvdG90eXBlLmV4dHJhY3RHcmFwaE1vZGVsRnJvbVBuZz1mdW5jdGlvbihhKXtyZXR1cm4gRWRpdG9yLmV4dHJhY3RHcmFwaE1vZGVsRnJvbVBuZyhhKX07RWRpdG9yVWkucHJvdG90eXBlLmxvYWRJbWFnZT1mdW5jdGlvbihhLGMsZCl7dHJ5e3ZhciBiPW5ldyBJbWFnZTtiLm9ubG9hZD1mdW5jdGlvbigpe2Iud2lkdGg9MDxiLndpZHRoP2Iud2lkdGg6MTIwO2IuaGVpZ2h0PTA8Yi5oZWlnaHQ/Yi5oZWlnaHQ6MTIwO2MoYil9O251bGwhPWQmJihiLm9uZXJyb3I9ZCk7CmIuc3JjPWF9Y2F0Y2gobCl7aWYobnVsbCE9ZClkKGwpO2Vsc2UgdGhyb3cgbDt9fTt2YXIgZD1FZGl0b3JVaS5wcm90b3R5cGUuaW5pdDtFZGl0b3JVaS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe214U3RlbmNpbFJlZ2lzdHJ5LmFsbG93RXZhbD1teFN0ZW5jaWxSZWdpc3RyeS5hbGxvd0V2YWwmJiF0aGlzLmlzT2ZmbGluZUFwcCgpOyJ1bmRlZmluZWQiIT09dHlwZW9mIHdpbmRvdy5teFNldHRpbmdzJiYodGhpcy5mb3JtYXRXaWR0aD1teFNldHRpbmdzLmdldEZvcm1hdFdpZHRoKCkpO3ZhciBhPXRoaXMsYz10aGlzLmVkaXRvci5ncmFwaDtjLmNlbGxFZGl0b3IuZWRpdFBsYW50VW1sRGF0YT1mdW5jdGlvbihiLGUsZCl7dmFyIGY9SlNPTi5wYXJzZShkKTtlPW5ldyBUZXh0YXJlYURpYWxvZyhhLG14UmVzb3VyY2VzLmdldCgicGxhbnRVbWwiKSsiOiIsZi5kYXRhLGZ1bmN0aW9uKGUpe251bGwhPWUmJmEuc3Bpbm5lci5zcGluKGRvY3VtZW50LmJvZHksbXhSZXNvdXJjZXMuZ2V0KCJpbnNlcnRpbmciKSkmJgphLmdlbmVyYXRlUGxhbnRVbWxJbWFnZShlLGYuZm9ybWF0LGZ1bmN0aW9uKGQsZyxsKXthLnNwaW5uZXIuc3RvcCgpO2MuZ2V0TW9kZWwoKS5iZWdpblVwZGF0ZSgpO3RyeXtpZigidHh0Ij09Zi5mb3JtYXQpYy5sYWJlbENoYW5nZWQoYiwiPHByZT4iK2QrIjwvcHJlPiIpLGMudXBkYXRlQ2VsbFNpemUoYiwhMCk7ZWxzZXtjLnNldENlbGxTdHlsZXMoImltYWdlIixhLmNvbnZlcnREYXRhVXJpKGQpLFtiXSk7dmFyIGs9Yy5tb2RlbC5nZXRHZW9tZXRyeShiKTtudWxsIT1rJiYoaz1rLmNsb25lKCksay53aWR0aD1nLGsuaGVpZ2h0PWwsYy5jZWxsc1Jlc2l6ZWQoW2JdLFtrXSwhMSkpfWMuc2V0QXR0cmlidXRlRm9yQ2VsbChiLCJwbGFudFVtbERhdGEiLEpTT04uc3RyaW5naWZ5KHtkYXRhOmUsZm9ybWF0OmYuZm9ybWF0fSkpfWZpbmFsbHl7Yy5nZXRNb2RlbCgpLmVuZFVwZGF0ZSgpfX0sZnVuY3Rpb24oYil7YS5oYW5kbGVFcnJvcihiKX0pfSxudWxsLG51bGwsNDAwLDIyMCk7YS5zaG93RGlhbG9nKGUuY29udGFpbmVyLAo0MjAsMzAwLCEwLCEwKTtlLmluaXQoKX07Yy5jZWxsRWRpdG9yLmVkaXRNZXJtYWlkRGF0YT1mdW5jdGlvbihiLGUsZCl7dmFyIGY9SlNPTi5wYXJzZShkKTtlPW5ldyBUZXh0YXJlYURpYWxvZyhhLG14UmVzb3VyY2VzLmdldCgibWVybWFpZCIpKyI6IixmLmRhdGEsZnVuY3Rpb24oZSl7bnVsbCE9ZSYmYS5zcGlubmVyLnNwaW4oZG9jdW1lbnQuYm9keSxteFJlc291cmNlcy5nZXQoImluc2VydGluZyIpKSYmYS5nZW5lcmF0ZU1lcm1haWRJbWFnZShlLGYuY29uZmlnLGZ1bmN0aW9uKGQsZyxsKXthLnNwaW5uZXIuc3RvcCgpO2MuZ2V0TW9kZWwoKS5iZWdpblVwZGF0ZSgpO3RyeXtjLnNldENlbGxTdHlsZXMoImltYWdlIixkLFtiXSk7dmFyIGs9Yy5tb2RlbC5nZXRHZW9tZXRyeShiKTtudWxsIT1rJiYoaz1rLmNsb25lKCksay53aWR0aD1NYXRoLm1heChrLndpZHRoLGcpLGsuaGVpZ2h0PU1hdGgubWF4KGsuaGVpZ2h0LGwpLGMuY2VsbHNSZXNpemVkKFtiXSxba10sITEpKTtjLnNldEF0dHJpYnV0ZUZvckNlbGwoYiwKIm1lcm1haWREYXRhIixKU09OLnN0cmluZ2lmeSh7ZGF0YTplLGNvbmZpZzpmLmNvbmZpZ30sbnVsbCwyKSl9ZmluYWxseXtjLmdldE1vZGVsKCkuZW5kVXBkYXRlKCl9fSxmdW5jdGlvbihiKXthLmhhbmRsZUVycm9yKGIpfSl9LG51bGwsbnVsbCw0MDAsMjIwKTthLnNob3dEaWFsb2coZS5jb250YWluZXIsNDIwLDMwMCwhMCwhMCk7ZS5pbml0KCl9O3ZhciBmPWMuY2VsbEVkaXRvci5zdGFydEVkaXRpbmc7Yy5jZWxsRWRpdG9yLnN0YXJ0RWRpdGluZz1mdW5jdGlvbihiLGMpe3RyeXt2YXIgZT10aGlzLmdyYXBoLmdldEF0dHJpYnV0ZUZvckNlbGwoYiwicGxhbnRVbWxEYXRhIik7bnVsbCE9ZT90aGlzLmVkaXRQbGFudFVtbERhdGEoYixjLGUpOihlPXRoaXMuZ3JhcGguZ2V0QXR0cmlidXRlRm9yQ2VsbChiLCJtZXJtYWlkRGF0YSIpLG51bGwhPWU/dGhpcy5lZGl0TWVybWFpZERhdGEoYixjLGUpOmYuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1jYXRjaChHKXthLmhhbmRsZUVycm9yKEcpfX07CmMuZ2V0TGlua1RpdGxlPWZ1bmN0aW9uKGIpe3JldHVybiBhLmdldExpbmtUaXRsZShiKX07Yy5jdXN0b21MaW5rQ2xpY2tlZD1mdW5jdGlvbihiKXt2YXIgYz0hMTt0cnl7YS5oYW5kbGVDdXN0b21MaW5rKGIpLGM9ITB9Y2F0Y2goRSl7YS5oYW5kbGVFcnJvcihFKX1yZXR1cm4gY307dmFyIGs9dGhpcy5jbGVhckRlZmF1bHRTdHlsZTt0aGlzLmNsZWFyRGVmYXVsdFN0eWxlPWZ1bmN0aW9uKCl7ay5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3RoaXMuaXNPZmZsaW5lKCl8fCJ1bmRlZmluZWQiPT09dHlwZW9mIHdpbmRvdy5FZGl0RGF0YURpYWxvZ3x8KEVkaXREYXRhRGlhbG9nLnBsYWNlaG9sZGVySGVscExpbms9Imh0dHBzOi8vZGVzay5kcmF3LmlvL3N1cHBvcnQvc29sdXRpb25zL2FydGljbGVzLzE2MDAwMDUxOTc5Iik7dmFyIGw9YS5lZGl0b3IuZ2V0RWRpdEJsYW5rVXJsO3RoaXMuZWRpdG9yLmdldEVkaXRCbGFua1VybD1mdW5jdGlvbihiKXtiPW51bGwhPWI/YjoiIjtpZihudWxsIT0KYS5wYWdlcyYmbnVsbCE9YS5jdXJyZW50UGFnZSlmb3IodmFyIGM9MDtjPGEucGFnZXMubGVuZ3RoO2MrKylpZihhLnBhZ2VzW2NdPT1hLmN1cnJlbnRQYWdlKXswPGMmJihiKz0oMDxiLmxlbmd0aD8iJiI6Ij8iKSsicGFnZT0iK2MpO2JyZWFrfSIxIj09dXJsUGFyYW1zLmRldiYmKGIrPSgwPGIubGVuZ3RoPyImIjoiPyIpKyJkZXY9MSZkcmF3ZGV2PTEiKTtyZXR1cm4gbC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3ZhciBtPWMuYWRkQ2xpY2tIYW5kbGVyO2MuYWRkQ2xpY2tIYW5kbGVyPWZ1bmN0aW9uKGEsYixlKXt2YXIgZD1iO2I9ZnVuY3Rpb24oYSxiKXtpZihudWxsPT1iKXt2YXIgZT1teEV2ZW50LmdldFNvdXJjZShhKTsiYSI9PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmKGI9ZS5nZXRBdHRyaWJ1dGUoImhyZWYiKSl9bnVsbCE9YiYmYy5pc0N1c3RvbUxpbmsoYikmJihteEV2ZW50LmlzVG91Y2hFdmVudChhKXx8IW14RXZlbnQuaXNQb3B1cFRyaWdnZXIoYSkpJiZjLmN1c3RvbUxpbmtDbGlja2VkKGIpJiYKbXhFdmVudC5jb25zdW1lKGEpO251bGwhPWQmJmQoYSxiKX07bS5jYWxsKHRoaXMsYSxiLGUpfTtkLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtteENsaWVudC5JU19TVkcmJnRoaXMuZWRpdG9yLmdyYXBoLmFkZFN2Z1NoYWRvdyhjLnZpZXcuY2FudmFzLm93bmVyU1ZHRWxlbWVudCxudWxsLCEwKTthLmFjdGlvbnMuZ2V0KCJwcmludCIpLmZ1bmN0PWZ1bmN0aW9uKCl7YS5zaG93RGlhbG9nKChuZXcgUHJpbnREaWFsb2coYSkpLmNvbnRhaW5lciwzNjAsbnVsbCE9YS5wYWdlcyYmMTxhLnBhZ2VzLmxlbmd0aD80NTA6MzcwLCEwLCEwKX07dGhpcy5kZWZhdWx0RmlsZW5hbWU9bXhSZXNvdXJjZXMuZ2V0KCJ1bnRpdGxlZERpYWdyYW0iKTt2YXIgcT1jLmdldEV4cG9ydFZhcmlhYmxlcztjLmdldEV4cG9ydFZhcmlhYmxlcz1mdW5jdGlvbigpe3ZhciBiPXEuYXBwbHkodGhpcyxhcmd1bWVudHMpLGM9YS5nZXRDdXJyZW50RmlsZSgpO251bGwhPWMmJihiLmZpbGVuYW1lPWMuZ2V0VGl0bGUoKSk7CmIucGFnZWNvdW50PW51bGwhPWEucGFnZXM/YS5wYWdlcy5sZW5ndGg6MTtiLnBhZ2U9bnVsbCE9YS5jdXJyZW50UGFnZT9hLmN1cnJlbnRQYWdlLmdldE5hbWUoKToiIjtiLnBhZ2VudW1iZXI9bnVsbCE9YS5wYWdlcyYmbnVsbCE9YS5jdXJyZW50UGFnZT9teFV0aWxzLmluZGV4T2YoYS5wYWdlcyxhLmN1cnJlbnRQYWdlKSsxOjE7cmV0dXJuIGJ9O3ZhciB0PWMuZ2V0R2xvYmFsVmFyaWFibGU7Yy5nZXRHbG9iYWxWYXJpYWJsZT1mdW5jdGlvbihiKXt2YXIgYz1hLmdldEN1cnJlbnRGaWxlKCk7cmV0dXJuImZpbGVuYW1lIj09YiYmbnVsbCE9Yz9jLmdldFRpdGxlKCk6InBhZ2UiPT1iJiZudWxsIT1hLmN1cnJlbnRQYWdlP2EuY3VycmVudFBhZ2UuZ2V0TmFtZSgpOiJwYWdlbnVtYmVyIj09Yj9udWxsIT1hLmN1cnJlbnRQYWdlJiZudWxsIT1hLnBhZ2VzP214VXRpbHMuaW5kZXhPZihhLnBhZ2VzLGEuY3VycmVudFBhZ2UpKzE6MToicGFnZWNvdW50Ij09Yj9udWxsIT1hLnBhZ2VzPwphLnBhZ2VzLmxlbmd0aDoxOnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt2YXIgeD1jLmxhYmVsTGlua0NsaWNrZWQ7Yy5sYWJlbExpbmtDbGlja2VkPWZ1bmN0aW9uKGEsYixlKXt2YXIgZD1iLmdldEF0dHJpYnV0ZSgiaHJlZiIpO2lmKG51bGw9PWR8fCFjLmlzQ3VzdG9tTGluayhkKXx8IW14RXZlbnQuaXNUb3VjaEV2ZW50KGUpJiZteEV2ZW50LmlzUG9wdXBUcmlnZ2VyKGUpKXguYXBwbHkodGhpcyxhcmd1bWVudHMpO2Vsc2V7aWYoIWMuaXNFbmFibGVkKCl8fG51bGwhPWEmJmMuaXNDZWxsTG9ja2VkKGEuY2VsbCkpYy5jdXN0b21MaW5rQ2xpY2tlZChkKSxjLmdldFJ1YmJlcmJhbmQoKS5yZXNldCgpO214RXZlbnQuY29uc3VtZShlKX19O3RoaXMuZWRpdG9yLmdldE9yQ3JlYXRlRmlsZW5hbWU9ZnVuY3Rpb24oKXt2YXIgYj1hLmRlZmF1bHRGaWxlbmFtZSxjPWEuZ2V0Q3VycmVudEZpbGUoKTtudWxsIT1jJiYoYj1udWxsIT1jLmdldFRpdGxlKCk/Yy5nZXRUaXRsZSgpOmIpO3JldHVybiBifTsKdmFyIEE9dGhpcy5hY3Rpb25zLmdldCgicHJpbnQiKTtBLnNldEVuYWJsZWQoIW14Q2xpZW50LklTX0lPU3x8IW5hdmlnYXRvci5zdGFuZGFsb25lKTtBLnZpc2libGU9QS5pc0VuYWJsZWQoKTtpZighdGhpcy5lZGl0b3IuY2hyb21lbGVzc3x8dGhpcy5lZGl0b3IuZWRpdGFibGUpdGhpcy5rZXlIYW5kbGVyLmJpbmRBY3Rpb24oNzAsITAsImZpbmQiKSx0aGlzLmtleUhhbmRsZXIuYmluZEFjdGlvbig2NywhMCwiY29weVN0eWxlIiwhMCksdGhpcy5rZXlIYW5kbGVyLmJpbmRBY3Rpb24oODYsITAsInBhc3RlU3R5bGUiLCEwKSx0aGlzLmtleUhhbmRsZXIuYmluZEFjdGlvbig3NywhMCwiZWRpdEdlb21ldHJ5IiwhMCksdGhpcy5rZXlIYW5kbGVyLmJpbmRBY3Rpb24oODgsITAsImluc2VydFRleHQiLCEwKSx0aGlzLmtleUhhbmRsZXIuYmluZEFjdGlvbig3NSwhMCwiaW5zZXJ0UmVjdGFuZ2xlIiksdGhpcy5rZXlIYW5kbGVyLmJpbmRBY3Rpb24oNzUsITAsImluc2VydEVsbGlwc2UiLAohMCksbXhDbGllbnQuSVNfQ0hST01FQVBQfHxFZGl0b3JVaS5pc0VsZWN0cm9uQXBwfHwodGhpcy5hbHRTaGlmdEFjdGlvbnNbODNdPSJzeW5jaHJvbml6ZSIpLHRoaXMuaW5zdGFsbEltYWdlUGFzdGVIYW5kbGVyKCksdGhpcy5pbnN0YWxsTmF0aXZlQ2xpcGJvYXJkSGFuZGxlcigpO3RoaXMuc3Bpbm5lcj10aGlzLmNyZWF0ZVNwaW5uZXIoZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aC8yLTIsTWF0aC5tYXgoZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHR8fDAsZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodHx8MCkvMiwyNCk7R3JhcGguZmlsZVN1cHBvcnQmJnRoaXMuZWRpdG9yLmdyYXBoLmFkZExpc3RlbmVyKG14RXZlbnQuRURJVElOR19TVEFSVEVELG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZWRpdG9yLmdyYXBoLGM9Yi5jZWxsRWRpdG9yLnRleHQyLGU9bnVsbDtudWxsIT1jJiYobXhFdmVudC5hZGRMaXN0ZW5lcihjLCJkcmFnbGVhdmUiLApmdW5jdGlvbihhKXtudWxsIT1lJiYoZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpLGU9bnVsbCk7YS5zdG9wUHJvcGFnYXRpb24oKTthLnByZXZlbnREZWZhdWx0KCl9KSxteEV2ZW50LmFkZExpc3RlbmVyKGMsImRyYWdvdmVyIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtudWxsPT1lJiYoIW14Q2xpZW50LklTX0lFfHwxMDxkb2N1bWVudC5kb2N1bWVudE1vZGUpJiYoZT10aGlzLmhpZ2hsaWdodEVsZW1lbnQoYykpO2Euc3RvcFByb3BhZ2F0aW9uKCk7YS5wcmV2ZW50RGVmYXVsdCgpfSkpLG14RXZlbnQuYWRkTGlzdGVuZXIoYywiZHJvcCIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7bnVsbCE9ZSYmKGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKSxlPW51bGwpO2lmKDA8YS5kYXRhVHJhbnNmZXIuZmlsZXMubGVuZ3RoKXRoaXMuaW1wb3J0RmlsZXMoYS5kYXRhVHJhbnNmZXIuZmlsZXMsMCwwLHRoaXMubWF4SW1hZ2VTaXplLGZ1bmN0aW9uKGEsYyxlLGQsCmYsZyl7Yi5pbnNlcnRJbWFnZShhLGYsZyl9LGZ1bmN0aW9uKCl7fSxmdW5jdGlvbihhKXtyZXR1cm4iaW1hZ2UvIj09YS50eXBlLnN1YnN0cmluZygwLDYpfSxmdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylhW2JdKCl9LG14RXZlbnQuaXNDb250cm9sRG93bihhKSk7ZWxzZSBpZigwPD1teFV0aWxzLmluZGV4T2YoYS5kYXRhVHJhbnNmZXIudHlwZXMsInRleHQvdXJpLWxpc3QiKSl7dmFyIGM9YS5kYXRhVHJhbnNmZXIuZ2V0RGF0YSgidGV4dC91cmktbGlzdCIpOy9cLihnaWZ8anBnfGpwZWd8dGlmZnxwbmd8c3ZnKSQvaS50ZXN0KGMpP3RoaXMubG9hZEltYWdlKGRlY29kZVVSSUNvbXBvbmVudChjKSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt2YXIgZT1NYXRoLm1heCgxLGEud2lkdGgpO2E9TWF0aC5tYXgoMSxhLmhlaWdodCk7dmFyIGQ9dGhpcy5tYXhJbWFnZVNpemUsZD1NYXRoLm1pbigxLE1hdGgubWluKGQvTWF0aC5tYXgoMSxlKSksZC9NYXRoLm1heCgxLAphKSk7Yi5pbnNlcnRJbWFnZShkZWNvZGVVUklDb21wb25lbnQoYyksZSpkLGEqZCl9KSk6ZG9jdW1lbnQuZXhlY0NvbW1hbmQoImluc2VydEhUTUwiLCExLGEuZGF0YVRyYW5zZmVyLmdldERhdGEoInRleHQvcGxhaW4iKSl9ZWxzZSAwPD1teFV0aWxzLmluZGV4T2YoYS5kYXRhVHJhbnNmZXIudHlwZXMsInRleHQvaHRtbCIpP2RvY3VtZW50LmV4ZWNDb21tYW5kKCJpbnNlcnRIVE1MIiwhMSxhLmRhdGFUcmFuc2Zlci5nZXREYXRhKCJ0ZXh0L2h0bWwiKSk6MDw9bXhVdGlscy5pbmRleE9mKGEuZGF0YVRyYW5zZmVyLnR5cGVzLCJ0ZXh0L3BsYWluIikmJmRvY3VtZW50LmV4ZWNDb21tYW5kKCJpbnNlcnRIVE1MIiwhMSxhLmRhdGFUcmFuc2Zlci5nZXREYXRhKCJ0ZXh0L3BsYWluIikpO2Euc3RvcFByb3BhZ2F0aW9uKCk7YS5wcmV2ZW50RGVmYXVsdCgpfSkpKX0pKTsidW5kZWZpbmVkIiE9PXR5cGVvZiB3aW5kb3cubXhTZXR0aW5ncyYmKEE9dGhpcy5lZGl0b3IuZ3JhcGgudmlldywKQS5zZXRVbml0KG14U2V0dGluZ3MuZ2V0VW5pdCgpKSxBLmFkZExpc3RlbmVyKCJ1bml0Q2hhbmdlZCIsZnVuY3Rpb24oYSxiKXtteFNldHRpbmdzLnNldFVuaXQoYi5nZXRQcm9wZXJ0eSgidW5pdCIpKTtteFNldHRpbmdzLnNhdmUoKX0pLHRoaXMucnVsZXI9IXRoaXMuY2FudmFzU3VwcG9ydGVkfHw5PT1kb2N1bWVudC5kb2N1bWVudE1vZGV8fCIxIiE9dXJsUGFyYW1zLnJ1bGVyJiYhbXhTZXR0aW5ncy5pc1J1bGVyT24oKXx8dGhpcy5lZGl0b3IuaXNDaHJvbWVsZXNzVmlldygpJiYhdGhpcy5lZGl0b3IuZWRpdGFibGU/bnVsbDpuZXcgbXhEdWFsUnVsZXIodGhpcyxBLnVuaXQpLHRoaXMucmVmcmVzaCgpKTtpZigiMSI9PXVybFBhcmFtcy5zdHlsZWRldil7QT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZ2VGb290ZXIiKTtudWxsIT1BJiYodGhpcy5zdHlsZUlucHV0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0IiksdGhpcy5zdHlsZUlucHV0LnNldEF0dHJpYnV0ZSgidHlwZSIsCiJ0ZXh0IiksdGhpcy5zdHlsZUlucHV0LnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsdGhpcy5zdHlsZUlucHV0LnN0eWxlLnRvcD0iMTRweCIsdGhpcy5zdHlsZUlucHV0LnN0eWxlLmxlZnQ9IjJweCIsdGhpcy5zdHlsZUlucHV0LnN0eWxlLndpZHRoPSI5OCUiLHRoaXMuc3R5bGVJbnB1dC5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iLHRoaXMuc3R5bGVJbnB1dC5zdHlsZS5vcGFjaXR5PSIwLjkiLG14RXZlbnQuYWRkTGlzdGVuZXIodGhpcy5zdHlsZUlucHV0LCJjaGFuZ2UiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5lZGl0b3IuZ3JhcGguZ2V0TW9kZWwoKS5zZXRTdHlsZSh0aGlzLmVkaXRvci5ncmFwaC5nZXRTZWxlY3Rpb25DZWxsKCksdGhpcy5zdHlsZUlucHV0LnZhbHVlKX0pKSxBLmFwcGVuZENoaWxkKHRoaXMuc3R5bGVJbnB1dCksdGhpcy5lZGl0b3IuZ3JhcGguZ2V0U2VsZWN0aW9uTW9kZWwoKS5hZGRMaXN0ZW5lcihteEV2ZW50LkNIQU5HRSxteFV0aWxzLmJpbmQodGhpcywKZnVuY3Rpb24oYSxiKXtpZigwPHRoaXMuZWRpdG9yLmdyYXBoLmdldFNlbGVjdGlvbkNvdW50KCkpe3ZhciBjPXRoaXMuZWRpdG9yLmdyYXBoLmdldFNlbGVjdGlvbkNlbGwoKSxjPXRoaXMuZWRpdG9yLmdyYXBoLmdldE1vZGVsKCkuZ2V0U3R5bGUoYyk7dGhpcy5zdHlsZUlucHV0LnZhbHVlPWN8fCIiO3RoaXMuc3R5bGVJbnB1dC5zdHlsZS52aXNpYmlsaXR5PSJ2aXNpYmxlIn1lbHNlIHRoaXMuc3R5bGVJbnB1dC5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4ifSkpKTt2YXIgRD10aGlzLmlzU2VsZWN0aW9uQWxsb3dlZDt0aGlzLmlzU2VsZWN0aW9uQWxsb3dlZD1mdW5jdGlvbihhKXtyZXR1cm4gbXhFdmVudC5nZXRTb3VyY2UoYSk9PXRoaXMuc3R5bGVJbnB1dD8hMDpELmFwcGx5KHRoaXMsYXJndW1lbnRzKX19QT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZ2VJbmZvIik7bnVsbCE9QSYmQS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKEEpO2lmKEdyYXBoLmZpbGVTdXBwb3J0JiYoIXRoaXMuZWRpdG9yLmNocm9tZWxlc3N8fAp0aGlzLmVkaXRvci5lZGl0YWJsZSkpe3ZhciBCPW51bGw7bXhFdmVudC5hZGRMaXN0ZW5lcihjLmNvbnRhaW5lciwiZHJhZ2xlYXZlIixmdW5jdGlvbihhKXtjLmlzRW5hYmxlZCgpJiYobnVsbCE9QiYmKEIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChCKSxCPW51bGwpLGEuc3RvcFByb3BhZ2F0aW9uKCksYS5wcmV2ZW50RGVmYXVsdCgpKX0pO214RXZlbnQuYWRkTGlzdGVuZXIoYy5jb250YWluZXIsImRyYWdvdmVyIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtudWxsPT1CJiYoIW14Q2xpZW50LklTX0lFfHwxMDxkb2N1bWVudC5kb2N1bWVudE1vZGUpJiYoQj10aGlzLmhpZ2hsaWdodEVsZW1lbnQoYy5jb250YWluZXIpKTtudWxsIT10aGlzLnNpZGViYXImJnRoaXMuc2lkZWJhci5oaWRlVG9vbHRpcCgpO2Euc3RvcFByb3BhZ2F0aW9uKCk7YS5wcmV2ZW50RGVmYXVsdCgpfSkpO214RXZlbnQuYWRkTGlzdGVuZXIoYy5jb250YWluZXIsImRyb3AiLG14VXRpbHMuYmluZCh0aGlzLApmdW5jdGlvbihhKXtudWxsIT1CJiYoQi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKEIpLEI9bnVsbCk7aWYoYy5pc0VuYWJsZWQoKSl7dmFyIGI9bXhVdGlscy5jb252ZXJ0UG9pbnQoYy5jb250YWluZXIsbXhFdmVudC5nZXRDbGllbnRYKGEpLG14RXZlbnQuZ2V0Q2xpZW50WShhKSksZT1jLnZpZXcudHJhbnNsYXRlLGQ9Yy52aWV3LnNjYWxlLGY9Yi54L2QtZS54LGc9Yi55L2QtZS55O2lmKDA8YS5kYXRhVHJhbnNmZXIuZmlsZXMubGVuZ3RoKW14RXZlbnQuaXNBbHREb3duKGEpJiYoZz1mPW51bGwpLHRoaXMuaW1wb3J0RmlsZXMoYS5kYXRhVHJhbnNmZXIuZmlsZXMsZixnLHRoaXMubWF4SW1hZ2VTaXplLG51bGwsbnVsbCxudWxsLG51bGwsbXhFdmVudC5pc0NvbnRyb2xEb3duKGEpLG51bGwsbnVsbCxteEV2ZW50LmlzU2hpZnREb3duKGEpKTtlbHNle214RXZlbnQuaXNBbHREb3duKGEpJiYoZz1mPTApO3ZhciBsPTA8PW14VXRpbHMuaW5kZXhPZihhLmRhdGFUcmFuc2Zlci50eXBlcywKInRleHQvdXJpLWxpc3QiKT9hLmRhdGFUcmFuc2Zlci5nZXREYXRhKCJ0ZXh0L3VyaS1saXN0Iik6bnVsbCxiPXRoaXMuZXh0cmFjdEdyYXBoTW9kZWxGcm9tRXZlbnQoYSxudWxsIT10aGlzLnBhZ2VzKTtpZihudWxsIT1iKWMuc2V0U2VsZWN0aW9uQ2VsbHModGhpcy5pbXBvcnRYbWwoYixmLGcsITApKTtlbHNlIGlmKDA8PW14VXRpbHMuaW5kZXhPZihhLmRhdGFUcmFuc2Zlci50eXBlcywidGV4dC9odG1sIikpe3ZhciBrPWEuZGF0YVRyYW5zZmVyLmdldERhdGEoInRleHQvaHRtbCIpLGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Yi5pbm5lckhUTUw9Yy5zYW5pdGl6ZUh0bWwoayk7dmFyIG09bnVsbCxlPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImltZyIpO251bGwhPWUmJjE9PWUubGVuZ3RoPyhrPWVbMF0uZ2V0QXR0cmlidXRlKCJzcmMiKSxudWxsPT1rJiYoaz1lWzBdLmdldEF0dHJpYnV0ZSgic3Jjc2V0IikpLC9cLihnaWZ8anBnfGpwZWd8dGlmZnxwbmd8c3ZnKSQvaS50ZXN0KGspfHwKKG09ITApKTooZT1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJhIiksbnVsbCE9ZSYmMT09ZS5sZW5ndGg/az1lWzBdLmdldEF0dHJpYnV0ZSgiaHJlZiIpOihiPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInByZSIpLG51bGwhPWImJjE9PWIubGVuZ3RoJiYoaz1teFV0aWxzLmdldFRleHRDb250ZW50KGJbMF0pKSkpO3ZhciBuPSEwLHA9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtjLnNldFNlbGVjdGlvbkNlbGxzKHRoaXMuaW5zZXJ0VGV4dEF0KGssZixnLCEwLG0sbnVsbCxuKSl9KTttJiZudWxsIT1rJiZrLmxlbmd0aD50aGlzLnJlc2FtcGxlVGhyZXNob2xkP3RoaXMuY29uZmlybUltYWdlUmVzaXplKGZ1bmN0aW9uKGEpe249YTtwKCl9LG14RXZlbnQuaXNDb250cm9sRG93bihhKSk6cCgpfWVsc2UgbnVsbCE9bCYmL1wuKGdpZnxqcGd8anBlZ3x0aWZmfHBuZ3xzdmcpJC9pLnRlc3QobCk/dGhpcy5sb2FkSW1hZ2UoZGVjb2RlVVJJQ29tcG9uZW50KGwpLG14VXRpbHMuYmluZCh0aGlzLApmdW5jdGlvbihhKXt2YXIgYj1NYXRoLm1heCgxLGEud2lkdGgpO2E9TWF0aC5tYXgoMSxhLmhlaWdodCk7dmFyIGU9dGhpcy5tYXhJbWFnZVNpemUsZT1NYXRoLm1pbigxLE1hdGgubWluKGUvTWF0aC5tYXgoMSxiKSksZS9NYXRoLm1heCgxLGEpKTtjLnNldFNlbGVjdGlvbkNlbGwoYy5pbnNlcnRWZXJ0ZXgobnVsbCxudWxsLCIiLGYsZyxiKmUsYSplLCJzaGFwZT1pbWFnZTt2ZXJ0aWNhbExhYmVsUG9zaXRpb249Ym90dG9tO2xhYmVsQmFja2dyb3VuZENvbG9yPSNmZmZmZmY7dmVydGljYWxBbGlnbj10b3A7YXNwZWN0PWZpeGVkO2ltYWdlQXNwZWN0PTA7aW1hZ2U9IitsKyI7IikpfSksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7Yy5zZXRTZWxlY3Rpb25DZWxscyh0aGlzLmluc2VydFRleHRBdChsLGYsZywhMCkpfSkpOjA8PW14VXRpbHMuaW5kZXhPZihhLmRhdGFUcmFuc2Zlci50eXBlcywidGV4dC9wbGFpbiIpJiZjLnNldFNlbGVjdGlvbkNlbGxzKHRoaXMuaW5zZXJ0VGV4dEF0KGEuZGF0YVRyYW5zZmVyLmdldERhdGEoInRleHQvcGxhaW4iKSwKZixnLCEwKSl9fWEuc3RvcFByb3BhZ2F0aW9uKCk7YS5wcmV2ZW50RGVmYXVsdCgpfSksITEpfXRoaXMuaW5pdFBhZ2VzKCk7IjEiPT11cmxQYXJhbXMuZW1iZWQmJnRoaXMuaW5pdGlhbGl6ZUVtYmVkTW9kZSgpO3RoaXMuaW5zdGFsbFNldHRpbmdzKCl9O0VkaXRvclVpLnByb3RvdHlwZS5pbnN0YWxsSW1hZ2VQYXN0ZUhhbmRsZXI9ZnVuY3Rpb24oKXtpZighbXhDbGllbnQuSVNfSUUpe3ZhciBhPXRoaXMuZWRpdG9yLmdyYXBoO2EuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoInBhc3RlIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXtpZighbXhFdmVudC5pc0NvbnN1bWVkKGIpKXRyeXtmb3IodmFyIGM9Yi5jbGlwYm9hcmREYXRhfHxiLm9yaWdpbmFsRXZlbnQuY2xpcGJvYXJkRGF0YSxlPSExLGQ9MDtkPGMudHlwZXMubGVuZ3RoO2QrKylpZigidGV4dC8iPT09Yy50eXBlc1tkXS5zdWJzdHJpbmcoMCw1KSl7ZT0hMDticmVha31pZighZSl7dmFyIGY9Yy5pdGVtcztmb3IoaW5kZXggaW4gZil7dmFyIGs9CmZbaW5kZXhdO2lmKCJmaWxlIj09PWsua2luZCl7aWYoYS5pc0VkaXRpbmcoKSl0aGlzLmltcG9ydEZpbGVzKFtrLmdldEFzRmlsZSgpXSwwLDAsdGhpcy5tYXhJbWFnZVNpemUsZnVuY3Rpb24oYixjLGUsZCxmLGcpe2EuaW5zZXJ0SW1hZ2UoYixmLGcpfSxmdW5jdGlvbigpe30sZnVuY3Rpb24oYSl7cmV0dXJuImltYWdlLyI9PWEudHlwZS5zdWJzdHJpbmcoMCw2KX0sZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspYVtiXSgpfSk7ZWxzZXt2YXIgbT10aGlzLmVkaXRvci5ncmFwaC5nZXRJbnNlcnRQb2ludCgpO3RoaXMuaW1wb3J0RmlsZXMoW2suZ2V0QXNGaWxlKCldLG0ueCxtLnksdGhpcy5tYXhJbWFnZVNpemUpO214RXZlbnQuY29uc3VtZShiKX1icmVha319fX1jYXRjaCh4KXt9fSksITEpfX07RWRpdG9yVWkucHJvdG90eXBlLmluc3RhbGxOYXRpdmVDbGlwYm9hcmRIYW5kbGVyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3dpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC5pbm5lckhUTUw9CiImbmJzcDsiO2QuZm9jdXMoKTtkb2N1bWVudC5leGVjQ29tbWFuZCgic2VsZWN0QWxsIiwhMSxudWxsKX0sMCl9dmFyIGM9dGhpcy5lZGl0b3IuZ3JhcGgsZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtkLnNldEF0dHJpYnV0ZSgiYXV0b2NvbXBsZXRlIiwib2ZmIik7ZC5zZXRBdHRyaWJ1dGUoImF1dG9jb3JyZWN0Iiwib2ZmIik7ZC5zZXRBdHRyaWJ1dGUoImF1dG9jYXBpdGFsaXplIiwib2ZmIik7ZC5zZXRBdHRyaWJ1dGUoInNwZWxsY2hlY2siLCJmYWxzZSIpO2Quc3R5bGUudGV4dFJlbmRlcmluZz0ib3B0aW1pemVTcGVlZCI7ZC5zdHlsZS5mb250RmFtaWx5PSJtb25vc3BhY2UiO2Quc3R5bGUud29yZEJyZWFrPSJicmVhay1hbGwiO2Quc3R5bGUuYmFja2dyb3VuZD0idHJhbnNwYXJlbnQiO2Quc3R5bGUuY29sb3I9InRyYW5zcGFyZW50IjtkLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7ZC5zdHlsZS53aGl0ZVNwYWNlPSJub3dyYXAiO2Quc3R5bGUub3ZlcmZsb3c9CiJoaWRkZW4iO2Quc3R5bGUuZGlzcGxheT0iYmxvY2siO2Quc3R5bGUuZm9udFNpemU9IjEiO2Quc3R5bGUuekluZGV4PSItMSI7ZC5zdHlsZS5yZXNpemU9Im5vbmUiO2Quc3R5bGUub3V0bGluZT0ibm9uZSI7ZC5zdHlsZS53aWR0aD0iMXB4IjtkLnN0eWxlLmhlaWdodD0iMXB4IjtteFV0aWxzLnNldE9wYWNpdHkoZCwwKTtkLmNvbnRlbnRFZGl0YWJsZT0hMDtkLmlubmVySFRNTD0iJm5ic3A7Ijt2YXIgZj0hMTt0aGlzLmtleUhhbmRsZXIuYmluZENvbnRyb2xLZXkoODgsbnVsbCk7dGhpcy5rZXlIYW5kbGVyLmJpbmRDb250cm9sS2V5KDY3LG51bGwpO3RoaXMua2V5SGFuZGxlci5iaW5kQ29udHJvbEtleSg4NixudWxsKTtteEV2ZW50LmFkZExpc3RlbmVyKGRvY3VtZW50LCJrZXlkb3duIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt2YXIgYj1teEV2ZW50LmdldFNvdXJjZShhKTtudWxsPT1jLmNvbnRhaW5lcnx8IWMuaXNFbmFibGVkKCl8fGMuaXNNb3VzZURvd258fApjLmlzRWRpdGluZygpfHxudWxsIT10aGlzLmRpYWxvZ3x8IklOUFVUIj09Yi5ub2RlTmFtZXx8IlRFWFRBUkVBIj09Yi5ub2RlTmFtZXx8ISgyMjQ9PWEua2V5Q29kZXx8IW14Q2xpZW50LklTX01BQyYmMTc9PWEua2V5Q29kZXx8bXhDbGllbnQuSVNfTUFDJiY5MT09YS5rZXlDb2RlKXx8Znx8KGQuc3R5bGUubGVmdD1jLmNvbnRhaW5lci5zY3JvbGxMZWZ0KzEwKyJweCIsZC5zdHlsZS50b3A9Yy5jb250YWluZXIuc2Nyb2xsVG9wKzEwKyJweCIsYy5jb250YWluZXIuYXBwZW5kQ2hpbGQoZCksZj0hMCxteENsaWVudC5JU19RVUlSS1M/d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtkLmZvY3VzKCk7ZG9jdW1lbnQuZXhlY0NvbW1hbmQoInNlbGVjdEFsbCIsITEsbnVsbCl9LDApOihkLmZvY3VzKCksZG9jdW1lbnQuZXhlY0NvbW1hbmQoInNlbGVjdEFsbCIsITEsbnVsbCkpKX0pKTtteEV2ZW50LmFkZExpc3RlbmVyKGRvY3VtZW50LCJrZXl1cCIsbXhVdGlscy5iaW5kKHRoaXMsCmZ1bmN0aW9uKGEpe3ZhciBiPWEua2V5Q29kZTt3aW5kb3cuc2V0VGltZW91dChteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpeyFmfHwyMjQhPWImJjE3IT1iJiY5MSE9Ynx8KGY9ITEsYy5pc0VkaXRpbmcoKXx8bnVsbCE9dGhpcy5kaWFsb2d8fG51bGw9PWMuY29udGFpbmVyfHxjLmNvbnRhaW5lci5mb2N1cygpLGQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkKSxudWxsPT10aGlzLmRpYWxvZyYmbXhVdGlscy5jbGVhclNlbGVjdGlvbigpKX0pLDApfSkpO214RXZlbnQuYWRkTGlzdGVuZXIoZCwiY29weSIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7aWYoYy5pc0VuYWJsZWQoKSl0cnl7bXhDbGlwYm9hcmQuY29weShjKSx0aGlzLmNvcHlDZWxscyhkKSxhKCl9Y2F0Y2godil7dGhpcy5oYW5kbGVFcnJvcih2KX19KSk7bXhFdmVudC5hZGRMaXN0ZW5lcihkLCJjdXQiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe2lmKGMuaXNFbmFibGVkKCkpdHJ5e214Q2xpcGJvYXJkLmNvcHkoYyksCnRoaXMuY29weUNlbGxzKGQsITApLGEoKX1jYXRjaCh2KXt0aGlzLmhhbmRsZUVycm9yKHYpfX0pKTtteEV2ZW50LmFkZExpc3RlbmVyKGQsInBhc3RlIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtjLmlzRW5hYmxlZCgpJiYhYy5pc0NlbGxMb2NrZWQoYy5nZXREZWZhdWx0UGFyZW50KCkpJiYoKG5ldyBEYXRlKS5nZXRUaW1lKCksZC5pbm5lckhUTUw9IiZuYnNwOyIsZC5mb2N1cygpLG51bGwhPWEuY2xpcGJvYXJkRGF0YSYmdGhpcy5wYXN0ZUNlbGxzKGEsZCwhMCwhMCksbXhFdmVudC5pc0NvbnN1bWVkKGEpfHx3aW5kb3cuc2V0VGltZW91dChteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMucGFzdGVDZWxscyhhLGQsITEsITApfSksMCkpfSksITApO3ZhciBsPXRoaXMuaXNTZWxlY3Rpb25BbGxvd2VkO3RoaXMuaXNTZWxlY3Rpb25BbGxvd2VkPWZ1bmN0aW9uKGEpe3JldHVybiBteEV2ZW50LmdldFNvdXJjZShhKT09ZD8hMDpsLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19OwpFZGl0b3JVaS5wcm90b3R5cGUuZ2V0TGlua1RpdGxlPWZ1bmN0aW9uKGEpe3ZhciBiPUdyYXBoLnByb3RvdHlwZS5nZXRMaW5rVGl0bGUuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKCJkYXRhOnBhZ2UvaWQsIj09YS5zdWJzdHJpbmcoMCwxMykpe3ZhciBjPWEuaW5kZXhPZigiLCIpOzA8YyYmKGI9dGhpcy5nZXRQYWdlQnlJZChhLnN1YnN0cmluZyhjKzEpKSxiPW51bGwhPWI/Yi5nZXROYW1lKCk6bXhSZXNvdXJjZXMuZ2V0KCJwYWdlTm90Rm91bmQiKSl9ZWxzZSJkYXRhOiI9PWEuc3Vic3RyaW5nKDAsNSkmJihiPW14UmVzb3VyY2VzLmdldCgiYWN0aW9uIikpO3JldHVybiBifTtFZGl0b3JVaS5wcm90b3R5cGUuaGFuZGxlQ3VzdG9tTGluaz1mdW5jdGlvbihhKXtpZigiZGF0YTpwYWdlL2lkLCI9PWEuc3Vic3RyaW5nKDAsMTMpKXt2YXIgYj1hLmluZGV4T2YoIiwiKTtpZihhPXRoaXMuZ2V0UGFnZUJ5SWQoYS5zdWJzdHJpbmcoYisxKSkpdGhpcy5zZWxlY3RQYWdlKGEpO2Vsc2UgdGhyb3cgRXJyb3IobXhSZXNvdXJjZXMuZ2V0KCJwYWdlTm90Rm91bmQiKXx8CiJQYWdlIG5vdCBmb3VuZCIpO31lbHNlIHRoaXMuZWRpdG9yLmdyYXBoLmhhbmRsZUN1c3RvbUxpbmsoYSl9O0VkaXRvclVpLnByb3RvdHlwZS5pc1NldHRpbmdzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiJ1bmRlZmluZWQiIT09dHlwZW9mIHdpbmRvdy5teFNldHRpbmdzJiYoaXNMb2NhbFN0b3JhZ2V8fG14Q2xpZW50LklTX0NIUk9NRUFQUCl9O0VkaXRvclVpLnByb3RvdHlwZS5pbnN0YWxsU2V0dGluZ3M9ZnVuY3Rpb24oKXtpZih0aGlzLmlzU2V0dGluZ3NFbmFibGVkKCkpe0NvbG9yRGlhbG9nLnJlY2VudENvbG9ycz1teFNldHRpbmdzLmdldFJlY2VudENvbG9ycygpO2lmKGlzTG9jYWxTdG9yYWdlKXRyeXt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigic3RvcmFnZSIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7YS5rZXk9PW14U2V0dGluZ3Mua2V5JiYobXhTZXR0aW5ncy5sb2FkKCksQ29sb3JEaWFsb2cucmVjZW50Q29sb3JzPW14U2V0dGluZ3MuZ2V0UmVjZW50Q29sb3JzKCksCnRoaXMubWVudXMuY3VzdG9tRm9udHM9bXhTZXR0aW5ncy5nZXRDdXN0b21Gb250cygpKX0pLCExKX1jYXRjaChiKXt9dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoInN0eWxlQ2hhbmdlZCIsImtleXMiLFtdLCJ2YWx1ZXMiLFtdLCJjZWxscyIsW10pKTt0aGlzLm1lbnVzLmN1c3RvbUZvbnRzPW14U2V0dGluZ3MuZ2V0Q3VzdG9tRm9udHMoKTt0aGlzLmFkZExpc3RlbmVyKCJjdXN0b21Gb250c0NoYW5nZWQiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYyl7dmFyIGI9Yy5nZXRQcm9wZXJ0eSgiY3VzdG9tRm9udHMiKTt0aGlzLm1lbnVzLmN1c3RvbUZvbnRzPWI7bXhTZXR0aW5ncy5zZXRDdXN0b21Gb250cyhiKTtteFNldHRpbmdzLnNhdmUoKX0pKTt0aGlzLmVkaXRvci5ncmFwaC5jb25uZWN0aW9uSGFuZGxlci5zZXRDcmVhdGVUYXJnZXQobXhTZXR0aW5ncy5pc0NyZWF0ZVRhcmdldCgpKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgiY29weUNvbm5lY3RDaGFuZ2VkIikpOwp0aGlzLmFkZExpc3RlbmVyKCJjb3B5Q29ubmVjdENoYW5nZWQiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYyl7bXhTZXR0aW5ncy5zZXRDcmVhdGVUYXJnZXQodGhpcy5lZGl0b3IuZ3JhcGguY29ubmVjdGlvbkhhbmRsZXIuaXNDcmVhdGVUYXJnZXQoKSk7bXhTZXR0aW5ncy5zYXZlKCl9KSk7dGhpcy5lZGl0b3IuZ3JhcGgucGFnZUZvcm1hdD1teFNldHRpbmdzLmdldFBhZ2VGb3JtYXQoKTt0aGlzLmFkZExpc3RlbmVyKCJwYWdlRm9ybWF0Q2hhbmdlZCIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxjKXtteFNldHRpbmdzLnNldFBhZ2VGb3JtYXQodGhpcy5lZGl0b3IuZ3JhcGgucGFnZUZvcm1hdCk7bXhTZXR0aW5ncy5zYXZlKCl9KSk7dGhpcy5lZGl0b3IuZ3JhcGgudmlldy5ncmlkQ29sb3I9bXhTZXR0aW5ncy5nZXRHcmlkQ29sb3IoImRhcmsiPT11aVRoZW1lKTt0aGlzLmFkZExpc3RlbmVyKCJncmlkQ29sb3JDaGFuZ2VkIixteFV0aWxzLmJpbmQodGhpcywKZnVuY3Rpb24oYSxjKXtteFNldHRpbmdzLnNldEdyaWRDb2xvcih0aGlzLmVkaXRvci5ncmFwaC52aWV3LmdyaWRDb2xvciwiZGFyayI9PXVpVGhlbWUpO214U2V0dGluZ3Muc2F2ZSgpfSkpO2lmKG14Q2xpZW50LklTX0NIUk9NRUFQUHx8RWRpdG9yVWkuaXNFbGVjdHJvbkFwcCl0aGlzLmVkaXRvci5hZGRMaXN0ZW5lcigiYXV0b3NhdmVDaGFuZ2VkIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGMpe214U2V0dGluZ3Muc2V0QXV0b3NhdmUodGhpcy5lZGl0b3IuYXV0b3NhdmUpO214U2V0dGluZ3Muc2F2ZSgpfSkpLHRoaXMuZWRpdG9yLmF1dG9zYXZlPW14U2V0dGluZ3MuZ2V0QXV0b3NhdmUoKTtudWxsIT10aGlzLnNpZGViYXImJnRoaXMuc2lkZWJhci5zaG93UGFsZXR0ZSgic2VhcmNoIixteFNldHRpbmdzLnNldHRpbmdzLnNlYXJjaCk7dGhpcy5lZGl0b3IuY2hyb21lbGVzcyYmIXRoaXMuZWRpdG9yLmVkaXRhYmxlfHxudWxsPT10aGlzLnNpZGViYXJ8fCEobXhTZXR0aW5ncy5zZXR0aW5ncy5pc05ld3x8Cjg+PXBhcnNlSW50KG14U2V0dGluZ3Muc2V0dGluZ3MudmVyc2lvbnx8MCkpfHwodGhpcy50b2dnbGVTY3JhdGNocGFkKCksbXhTZXR0aW5ncy5zYXZlKCkpO3RoaXMuYWRkTGlzdGVuZXIoImZvcm1hdFdpZHRoQ2hhbmdlZCIsZnVuY3Rpb24oKXtteFNldHRpbmdzLnNldEZvcm1hdFdpZHRoKHRoaXMuZm9ybWF0V2lkdGgpO214U2V0dGluZ3Muc2F2ZSgpfSl9fTtFZGl0b3JVaS5wcm90b3R5cGUuY29weUNlbGxzPWZ1bmN0aW9uKGEsYyl7dmFyIGI9dGhpcy5lZGl0b3IuZ3JhcGg7aWYoYi5pc1NlbGVjdGlvbkVtcHR5KCkpYS5pbm5lckhUTUw9IiI7ZWxzZXt2YXIgZT1teFV0aWxzLnNvcnRDZWxscyhiLm1vZGVsLmdldFRvcG1vc3RDZWxscyhiLmdldFNlbGVjdGlvbkNlbGxzKCkpKSxkPW14VXRpbHMuZ2V0WG1sKGIuZW5jb2RlQ2VsbHMoZSkpO214VXRpbHMuc2V0VGV4dENvbnRlbnQoYSxlbmNvZGVVUklDb21wb25lbnQoZCkpO2M/KGIucmVtb3ZlQ2VsbHMoZSwhMSksYi5sYXN0UGFzdGVYbWw9Cm51bGwpOihiLmxhc3RQYXN0ZVhtbD1kLGIucGFzdGVDb3VudGVyPTApO2EuZm9jdXMoKTtkb2N1bWVudC5leGVjQ29tbWFuZCgic2VsZWN0QWxsIiwhMSxudWxsKX19O0VkaXRvclVpLnByb3RvdHlwZS5wYXN0ZUNlbGxzPWZ1bmN0aW9uKGEsYyxkLGYpe2lmKCFteEV2ZW50LmlzQ29uc3VtZWQoYSkpe3ZhciBiPWMsZT0hMTtpZihkJiZudWxsIT1hLmNsaXBib2FyZERhdGEmJmEuY2xpcGJvYXJkRGF0YS5nZXREYXRhKXt2YXIgZz1hLmNsaXBib2FyZERhdGEuZ2V0RGF0YSgidGV4dC9odG1sIik7aWYobnVsbCE9ZyYmMDxnLmxlbmd0aCl7dmFyIGs9IjxtZXRhICI9PWcuc3Vic3RyaW5nKDAsNiksYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtiLmlubmVySFRNTD0oaz8nPG1ldGEgY2hhcnNldD0idXRmLTgiPic6IiIpK3RoaXMuZWRpdG9yLmdyYXBoLnNhbml0aXplSHRtbChnKTtlPSEwO2c9Yi5nZXRFbGVtZW50c0J5VGFnTmFtZSgic3R5bGUiKTtpZihudWxsIT1nKWZvcig7MDwKZy5sZW5ndGg7KWdbMF0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChnWzBdKTtudWxsIT1iLmZpcnN0Q2hpbGQmJmIuZmlyc3RDaGlsZC5ub2RlVHlwZT09bXhDb25zdGFudHMuTk9ERVRZUEVfRUxFTUVOVCYmbnVsbCE9Yi5maXJzdENoaWxkLm5leHRTaWJsaW5nJiZiLmZpcnN0Q2hpbGQubmV4dFNpYmxpbmcubm9kZVR5cGU9PW14Q29uc3RhbnRzLk5PREVUWVBFX0VMRU1FTlQmJiJNRVRBIj09Yi5maXJzdENoaWxkLm5vZGVOYW1lJiYiQSI9PWIuZmlyc3RDaGlsZC5uZXh0U2libGluZy5ub2RlTmFtZSYmbnVsbD09Yi5maXJzdENoaWxkLm5leHRTaWJsaW5nLm5leHRTaWJsaW5nJiYoZz1udWxsPT1iLmZpcnN0Q2hpbGQubmV4dFNpYmxpbmcuaW5uZXJUZXh0P214VXRpbHMuZ2V0VGV4dENvbnRlbnQoYi5maXJzdENoaWxkLm5leHRTaWJsaW5nKTpiLmZpcnN0Q2hpbGQubmV4dFNpYmxpbmcuaW5uZXJUZXh0LGc9PWIuZmlyc3RDaGlsZC5uZXh0U2libGluZy5nZXRBdHRyaWJ1dGUoImhyZWYiKSYmCihteFV0aWxzLnNldFRleHRDb250ZW50KGIsZyksZT0hMSkpO2s9ayYmbnVsbCE9Yi5maXJzdENoaWxkP2IuZmlyc3RDaGlsZC5uZXh0U2libGluZzpiLmZpcnN0Q2hpbGQ7bnVsbCE9ayYmbnVsbD09ay5uZXh0U2libGluZyYmay5ub2RlVHlwZT09bXhDb25zdGFudHMuTk9ERVRZUEVfRUxFTUVOVCYmIklNRyI9PWsubm9kZU5hbWUmJihnPWsuZ2V0QXR0cmlidXRlKCJzcmMiKSxudWxsIT1nJiYobXhVdGlscy5zZXRUZXh0Q29udGVudChiLGcpLGU9ITEpKTtlJiZHcmFwaC5yZW1vdmVQYXN0ZUZvcm1hdHRpbmcoYil9ZWxzZSBnPWEuY2xpcGJvYXJkRGF0YS5nZXREYXRhKCJ0ZXh0L3BsYWluIiksbnVsbCE9ZyYmMDxnLmxlbmd0aCYmKGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksbXhVdGlscy5zZXRUZXh0Q29udGVudChiLGcpKX1rPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNwYW4iKTtpZihudWxsIT1rJiYwPGsubGVuZ3RoJiYiYXBwbGljYXRpb24vdm5kLmx1Y2lkLmNoYXJ0Lm9iamVjdHMiPT09CmtbMF0uZ2V0QXR0cmlidXRlKCJkYXRhLWx1Y2lkLXR5cGUiKSlkPWtbMF0uZ2V0QXR0cmlidXRlKCJkYXRhLWx1Y2lkLWNvbnRlbnQiKSxudWxsIT1kJiYwPGQubGVuZ3RoJiYodGhpcy5jb252ZXJ0THVjaWRDaGFydChkLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZWRpdG9yLmdyYXBoO2IubGFzdFBhc3RlWG1sPT1hP2IucGFzdGVDb3VudGVyKys6KGIubGFzdFBhc3RlWG1sPWEsYi5wYXN0ZUNvdW50ZXI9MCk7dmFyIGM9Yi5wYXN0ZUNvdW50ZXIqYi5ncmlkU2l6ZTtiLnNldFNlbGVjdGlvbkNlbGxzKHRoaXMuaW1wb3J0WG1sKGEsYyxjKSk7Yi5zY3JvbGxDZWxsVG9WaXNpYmxlKGIuZ2V0U2VsZWN0aW9uQ2VsbCgpKX0pLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuaGFuZGxlRXJyb3IoYSl9KSksbXhFdmVudC5jb25zdW1lKGEpKTtlbHNle2U9ZT9iLmlubmVySFRNTDpteFV0aWxzLnRyaW0obnVsbD09Yi5pbm5lclRleHQ/bXhVdGlscy5nZXRUZXh0Q29udGVudChiKToKYi5pbm5lclRleHQpO2c9ITE7dHJ5e3ZhciBtPWUubGFzdEluZGV4T2YoIiUzRSIpOzA8PW0mJm08ZS5sZW5ndGgtMyYmKGU9ZS5zdWJzdHJpbmcoMCxtKzMpKX1jYXRjaChFKXt9dHJ5e3ZhciBrPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNwYW4iKSxwPW51bGwhPWsmJjA8ay5sZW5ndGg/bXhVdGlscy50cmltKGRlY29kZVVSSUNvbXBvbmVudChrWzBdLnRleHRDb250ZW50KSk6ZGVjb2RlVVJJQ29tcG9uZW50KGUpO3RoaXMuaXNDb21wYXRpYmxlU3RyaW5nKHApJiYoZz0hMCxlPXApfWNhdGNoKEUpe310cnl7dmFyIHE9dGhpcy5lZGl0b3IuZ3JhcGg7aWYobnVsbCE9ZSYmMDxlLmxlbmd0aCl7cS5sYXN0UGFzdGVYbWw9PWU/cS5wYXN0ZUNvdW50ZXIrKzoocS5sYXN0UGFzdGVYbWw9ZSxxLnBhc3RlQ291bnRlcj0wKTt2YXIgQj1xLnBhc3RlQ291bnRlcipxLmdyaWRTaXplO2lmKGd8fHRoaXMuaXNDb21wYXRpYmxlU3RyaW5nKGUpKXEuc2V0U2VsZWN0aW9uQ2VsbHModGhpcy5pbXBvcnRYbWwoZSwKQixCKSk7ZWxzZSBpZihmJiYxPT1xLmdldFNlbGVjdGlvbkNvdW50KCkpe3ZhciBDPXEuZ2V0U3RhcnRFZGl0aW5nQ2VsbChxLmdldFNlbGVjdGlvbkNlbGwoKSxhKTsvXC4oZ2lmfGpwZ3xqcGVnfHRpZmZ8cG5nfHN2ZykkL2kudGVzdChlKSYmImltYWdlIj09cS5nZXRDdXJyZW50Q2VsbFN0eWxlKEMpW214Q29uc3RhbnRzLlNUWUxFX1NIQVBFXT9xLnNldENlbGxTdHlsZXMobXhDb25zdGFudHMuU1RZTEVfSU1BR0UsZSxbQ10pOihxLmxhYmVsQ2hhbmdlZChDLGUpLEdyYXBoLmlzTGluayhlKSYmcS5zZXRMaW5rRm9yQ2VsbChDLGUpKTtxLnNldFNlbGVjdGlvbkNlbGwoQyl9ZWxzZXt2YXIgej1xLmdldEluc2VydFBvaW50KCk7cS5pc01vdXNlSW5zZXJ0UG9pbnQoKSYmKEI9MCxxLmxhc3RQYXN0ZVhtbD09ZSYmMDxxLnBhc3RlQ291bnRlciYmcS5wYXN0ZUNvdW50ZXItLSk7cS5zZXRTZWxlY3Rpb25DZWxscyh0aGlzLmluc2VydFRleHRBdChlLHoueCtCLHoueStCLCEwKSl9cS5pc1NlbGVjdGlvbkVtcHR5KCl8fAoocS5zY3JvbGxDZWxsVG9WaXNpYmxlKHEuZ2V0U2VsZWN0aW9uQ2VsbCgpKSxudWxsIT10aGlzLmhvdmVySWNvbnMmJnRoaXMuaG92ZXJJY29ucy51cGRhdGUocS52aWV3LmdldFN0YXRlKHEuZ2V0U2VsZWN0aW9uQ2VsbCgpKSkpO3RyeXtteEV2ZW50LmNvbnN1bWUoYSl9Y2F0Y2goRSl7fX1lbHNlIGR8fChxLmxhc3RQYXN0ZVhtbD1udWxsLHEucGFzdGVDb3VudGVyPTApfWNhdGNoKEUpe3RoaXMuaGFuZGxlRXJyb3IoRSl9fX1jLmlubmVySFRNTD0iJm5ic3A7In07RWRpdG9yVWkucHJvdG90eXBlLmFkZEZpbGVEcm9wSGFuZGxlcj1mdW5jdGlvbihhKXtpZihHcmFwaC5maWxlU3VwcG9ydClmb3IodmFyIGI9bnVsbCxjPTA7YzxhLmxlbmd0aDtjKyspbXhFdmVudC5hZGRMaXN0ZW5lcihhW2NdLCJkcmFnbGVhdmUiLGZ1bmN0aW9uKGEpe251bGwhPWImJihiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYiksYj1udWxsKTthLnN0b3BQcm9wYWdhdGlvbigpO2EucHJldmVudERlZmF1bHQoKX0pLApteEV2ZW50LmFkZExpc3RlbmVyKGFbY10sImRyYWdvdmVyIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXsodGhpcy5lZGl0b3IuZ3JhcGguaXNFbmFibGVkKCl8fCIxIiE9dXJsUGFyYW1zLmVtYmVkKSYmbnVsbD09YiYmKCFteENsaWVudC5JU19JRXx8MTA8ZG9jdW1lbnQuZG9jdW1lbnRNb2RlJiYxMj5kb2N1bWVudC5kb2N1bWVudE1vZGUpJiYoYj10aGlzLmhpZ2hsaWdodEVsZW1lbnQoKSk7YS5zdG9wUHJvcGFnYXRpb24oKTthLnByZXZlbnREZWZhdWx0KCl9KSksbXhFdmVudC5hZGRMaXN0ZW5lcihhW2NdLCJkcm9wIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtudWxsIT1iJiYoYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGI9bnVsbCk7aWYodGhpcy5lZGl0b3IuZ3JhcGguaXNFbmFibGVkKCl8fCIxIiE9dXJsUGFyYW1zLmVtYmVkKWlmKDA8YS5kYXRhVHJhbnNmZXIuZmlsZXMubGVuZ3RoKXRoaXMuaGlkZURpYWxvZygpLCIxIj09dXJsUGFyYW1zLmVtYmVkPwp0aGlzLmltcG9ydEZpbGVzKGEuZGF0YVRyYW5zZmVyLmZpbGVzLDAsMCx0aGlzLm1heEltYWdlU2l6ZSxudWxsLG51bGwsbnVsbCxudWxsLCFteEV2ZW50LmlzQ29udHJvbERvd24oYSkmJiFteEV2ZW50LmlzU2hpZnREb3duKGEpKTp0aGlzLm9wZW5GaWxlcyhhLmRhdGFUcmFuc2Zlci5maWxlcywhMCk7ZWxzZXt2YXIgYz10aGlzLmV4dHJhY3RHcmFwaE1vZGVsRnJvbUV2ZW50KGEpO2lmKG51bGw9PWMpe3ZhciBlPW51bGwhPWEuZGF0YVRyYW5zZmVyP2EuZGF0YVRyYW5zZmVyOmEuY2xpcGJvYXJkRGF0YTtudWxsIT1lJiYoMTA9PWRvY3VtZW50LmRvY3VtZW50TW9kZXx8MTE9PWRvY3VtZW50LmRvY3VtZW50TW9kZT9jPWUuZ2V0RGF0YSgiVGV4dCIpOihjPW51bGwsYz0wPD1teFV0aWxzLmluZGV4T2YoZS50eXBlcywidGV4dC91cmktbGlzdCIpP2EuZGF0YVRyYW5zZmVyLmdldERhdGEoInRleHQvdXJpLWxpc3QiKTowPD1teFV0aWxzLmluZGV4T2YoZS50eXBlcywidGV4dC9odG1sIik/CmUuZ2V0RGF0YSgidGV4dC9odG1sIik6bnVsbCxudWxsIT1jJiYwPGMubGVuZ3RoPyhlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGUuaW5uZXJIVE1MPXRoaXMuZWRpdG9yLmdyYXBoLnNhbml0aXplSHRtbChjKSxlPWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImltZyIpLDA8ZS5sZW5ndGgmJihjPWVbMF0uZ2V0QXR0cmlidXRlKCJzcmMiKSkpOjA8PW14VXRpbHMuaW5kZXhPZihlLnR5cGVzLCJ0ZXh0L3BsYWluIikmJihjPWUuZ2V0RGF0YSgidGV4dC9wbGFpbiIpKSksbnVsbCE9YyYmKCJkYXRhOmltYWdlL3BuZztiYXNlNjQsIj09Yy5zdWJzdHJpbmcoMCwyMik/KGM9dGhpcy5leHRyYWN0R3JhcGhNb2RlbEZyb21QbmcoYyksbnVsbCE9YyYmMDxjLmxlbmd0aCYmdGhpcy5vcGVuTG9jYWxGaWxlKGMsbnVsbCwhMCkpOiF0aGlzLmlzT2ZmbGluZSgpJiZ0aGlzLmlzUmVtb3RlRmlsZUZvcm1hdChjKT8obmV3IG14WG1sUmVxdWVzdChPUEVOX1VSTCwiZm9ybWF0PXhtbCZkYXRhPSIrCmVuY29kZVVSSUNvbXBvbmVudChjKSkpLnNlbmQobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7MjAwPD1hLmdldFN0YXR1cygpJiYyOTk+PWEuZ2V0U3RhdHVzKCkmJnRoaXMub3BlbkxvY2FsRmlsZShhLmdldFRleHQoKSxudWxsLCEwKX0pKTovXmh0dHBzPzpcL1wvLy50ZXN0KGMpJiYobnVsbD09dGhpcy5nZXRDdXJyZW50RmlsZSgpP3dpbmRvdy5sb2NhdGlvbi5oYXNoPSIjVSIrZW5jb2RlVVJJQ29tcG9uZW50KGMpOndpbmRvdy5vcGVuV2luZG93KChteENsaWVudC5JU19DSFJPTUVBUFA/RWRpdG9yVWkuZHJhd0hvc3QrIi8iOiJodHRwczovLyIrbG9jYXRpb24uaG9zdCsiLyIpK3dpbmRvdy5sb2NhdGlvbi5zZWFyY2grIiNVIitlbmNvZGVVUklDb21wb25lbnQoYykpKSkpfWVsc2UgdGhpcy5vcGVuTG9jYWxGaWxlKGMsbnVsbCwhMCl9YS5zdG9wUHJvcGFnYXRpb24oKTthLnByZXZlbnREZWZhdWx0KCl9KSl9O0VkaXRvclVpLnByb3RvdHlwZS5oaWdobGlnaHRFbGVtZW50PQpmdW5jdGlvbihhKXt2YXIgYj0wLGM9MCxkLGY7aWYobnVsbD09YSl7Zj1kb2N1bWVudC5ib2R5O3ZhciBrPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtkPShmLmNsaWVudFdpZHRofHxrLmNsaWVudFdpZHRoKS0zO2Y9TWF0aC5tYXgoZi5jbGllbnRIZWlnaHR8fDAsay5jbGllbnRIZWlnaHQpLTN9ZWxzZSBiPWEub2Zmc2V0VG9wLGM9YS5vZmZzZXRMZWZ0LGQ9YS5jbGllbnRXaWR0aCxmPWEuY2xpZW50SGVpZ2h0O2s9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7ay5zdHlsZS56SW5kZXg9bXhQb3B1cE1lbnUucHJvdG90eXBlLnpJbmRleCsyO2suc3R5bGUuYm9yZGVyPSIzcHggZG90dGVkIHJnYigyNTQsIDEzNywgMTIpIjtrLnN0eWxlLnBvaW50ZXJFdmVudHM9Im5vbmUiO2suc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtrLnN0eWxlLnRvcD1iKyJweCI7ay5zdHlsZS5sZWZ0PWMrInB4IjtrLnN0eWxlLndpZHRoPU1hdGgubWF4KDAsZC0zKSsicHgiO2suc3R5bGUuaGVpZ2h0PQpNYXRoLm1heCgwLGYtMykrInB4IjtudWxsIT1hJiZhLnBhcmVudE5vZGU9PXRoaXMuZWRpdG9yLmdyYXBoLmNvbnRhaW5lcj90aGlzLmVkaXRvci5ncmFwaC5jb250YWluZXIuYXBwZW5kQ2hpbGQoayk6ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChrKTtyZXR1cm4ga307RWRpdG9yVWkucHJvdG90eXBlLnN0cmluZ1RvQ2VsbHM9ZnVuY3Rpb24oYSl7YT1teFV0aWxzLnBhcnNlWG1sKGEpO3ZhciBiPXRoaXMuZWRpdG9yLmV4dHJhY3RHcmFwaE1vZGVsKGEuZG9jdW1lbnRFbGVtZW50KTthPVtdO2lmKG51bGwhPWIpe3ZhciBjPW5ldyBteENvZGVjKGIub3duZXJEb2N1bWVudCksZD1uZXcgbXhHcmFwaE1vZGVsO2MuZGVjb2RlKGIsZCk7Yj1kLmdldENoaWxkQXQoZC5nZXRSb290KCksMCk7Zm9yKGM9MDtjPGQuZ2V0Q2hpbGRDb3VudChiKTtjKyspYS5wdXNoKGQuZ2V0Q2hpbGRBdChiLGMpKX1yZXR1cm4gYX07RWRpdG9yVWkucHJvdG90eXBlLm9wZW5GaWxlcz1mdW5jdGlvbihhLGMpe2lmKHRoaXMuc3Bpbm5lci5zcGluKGRvY3VtZW50LmJvZHksCm14UmVzb3VyY2VzLmdldCgibG9hZGluZyIpKSlmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt2YXIgYj1uZXcgRmlsZVJlYWRlcjtiLm9ubG9hZD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXt0cnl7dmFyIGQ9Yi50YXJnZXQucmVzdWx0LGU9YS5uYW1lO2lmKG51bGwhPWUmJjA8ZS5sZW5ndGgpeyF0aGlzLnVzZUNhbnZhc0ZvckV4cG9ydCYmLyhcLnBuZykkL2kudGVzdChlKT9lPWUuc3Vic3RyaW5nKDAsZS5sZW5ndGgtNCkrIi5kcmF3aW8iOi8oXC5wZGYpJC9pLnRlc3QoZSkmJihlPWUuc3Vic3RyaW5nKDAsZS5sZW5ndGgtNCkrIi5kcmF3aW8iKTt2YXIgZj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtlPTA8PWUubGFzdEluZGV4T2YoIi4iKT9lLnN1YnN0cmluZygwLGUubGFzdEluZGV4T2YoIi4iKSkrIi5kcmF3aW8iOmUrIi5kcmF3aW8iO2lmKCI8bXhsaWJyYXJ5Ij09YS5zdWJzdHJpbmcoMCwxMCkpe251bGw9PQp0aGlzLmdldEN1cnJlbnRGaWxlKCkmJiIxIiE9dXJsUGFyYW1zLmVtYmVkJiZ0aGlzLm9wZW5Mb2NhbEZpbGUodGhpcy5lbXB0eURpYWdyYW1YbWwsdGhpcy5kZWZhdWx0RmlsZW5hbWUsYyk7dHJ5e3RoaXMubG9hZExpYnJhcnkobmV3IExvY2FsTGlicmFyeSh0aGlzLGEsZSkpfWNhdGNoKEIpe3RoaXMuaGFuZGxlRXJyb3IoQixteFJlc291cmNlcy5nZXQoImVycm9yTG9hZGluZ0ZpbGUiKSl9fWVsc2UgdGhpcy5vcGVuTG9jYWxGaWxlKGEsZSxjKX0pO2lmKC8oXC52KGR4fHNkeD8pKSgkfFw/KS9pLnRlc3QoZSl8fC8oXC52cyh4fHN4PykpKCR8XD8pL2kudGVzdChlKSl0aGlzLmltcG9ydFZpc2lvKGEsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5zcGlubmVyLnN0b3AoKTtmKGEpfSkpO2Vsc2UgaWYoLyhcLio8Z3JhcGhtbCApLy50ZXN0KGQpKXRoaXMuaW1wb3J0R3JhcGhNTChkLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuc3Bpbm5lci5zdG9wKCk7CmYoYSl9KSk7ZWxzZSBpZihHcmFwaC5maWxlU3VwcG9ydCYmIXRoaXMuaXNPZmZsaW5lKCkmJihuZXcgWE1MSHR0cFJlcXVlc3QpLnVwbG9hZCYmdGhpcy5pc1JlbW90ZUZpbGVGb3JtYXQoZCxlKSl0aGlzLnBhcnNlRmlsZShhLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpezQ9PWEucmVhZHlTdGF0ZSYmKHRoaXMuc3Bpbm5lci5zdG9wKCksMjAwPD1hLnN0YXR1cyYmMjk5Pj1hLnN0YXR1cz9mKGEucmVzcG9uc2VUZXh0KTp0aGlzLmhhbmRsZUVycm9yKHttZXNzYWdlOm14UmVzb3VyY2VzLmdldCg0MTM9PWEuc3RhdHVzPyJkcmF3aW5nVG9vTGFyZ2UiOiJpbnZhbGlkT3JNaXNzaW5nRmlsZSIpfSxteFJlc291cmNlcy5nZXQoImVycm9yTG9hZGluZ0ZpbGUiKSkpfSkpO2Vsc2UgaWYodGhpcy5pc0x1Y2lkQ2hhcnREYXRhKGQpKS8oXC5qc29uKSQvaS50ZXN0KGUpJiYoZT1lLnN1YnN0cmluZygwLGUubGVuZ3RoLTUpKyIuZHJhd2lvIiksdGhpcy5jb252ZXJ0THVjaWRDaGFydChkLApteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLnNwaW5uZXIuc3RvcCgpO3RoaXMub3BlbkxvY2FsRmlsZShhLGUsYyl9KSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLnNwaW5uZXIuc3RvcCgpO3RoaXMuaGFuZGxlRXJyb3IoYSl9KSk7ZWxzZSBpZigiPG14bGlicmFyeSI9PWIudGFyZ2V0LnJlc3VsdC5zdWJzdHJpbmcoMCwxMCkpe3RoaXMuc3Bpbm5lci5zdG9wKCk7bnVsbD09dGhpcy5nZXRDdXJyZW50RmlsZSgpJiYiMSIhPXVybFBhcmFtcy5lbWJlZCYmdGhpcy5vcGVuTG9jYWxGaWxlKHRoaXMuZW1wdHlEaWFncmFtWG1sLHRoaXMuZGVmYXVsdEZpbGVuYW1lLGMpO3RyeXt0aGlzLmxvYWRMaWJyYXJ5KG5ldyBMb2NhbExpYnJhcnkodGhpcyxiLnRhcmdldC5yZXN1bHQsYS5uYW1lKSl9Y2F0Y2goRCl7dGhpcy5oYW5kbGVFcnJvcihELG14UmVzb3VyY2VzLmdldCgiZXJyb3JMb2FkaW5nRmlsZSIpKX19ZWxzZSBpZigwPT1kLmluZGV4T2YoIlBLIikpdGhpcy5pbXBvcnRaaXBGaWxlKGEsCm14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuc3Bpbm5lci5zdG9wKCk7ZihhKX0pLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5zcGlubmVyLnN0b3AoKTt0aGlzLm9wZW5Mb2NhbEZpbGUoZCxlLGMpfSkpO2Vsc2V7aWYoImltYWdlL3BuZyI9PWEudHlwZS5zdWJzdHJpbmcoMCw5KSlkPXRoaXMuZXh0cmFjdEdyYXBoTW9kZWxGcm9tUG5nKGQpO2Vsc2UgaWYoImFwcGxpY2F0aW9uL3BkZiI9PWEudHlwZSl7dmFyIGc9RWRpdG9yLmV4dHJhY3RHcmFwaE1vZGVsRnJvbVBkZihkKTtudWxsIT1nJiYoZD1nKX10aGlzLnNwaW5uZXIuc3RvcCgpO3RoaXMub3BlbkxvY2FsRmlsZShkLGUsYyl9fX1jYXRjaChEKXt0aGlzLmhhbmRsZUVycm9yKEQpfX0pO2Iub25lcnJvcj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLnNwaW5uZXIuc3RvcCgpO3RoaXMuaGFuZGxlRXJyb3IoYSk7d2luZG93Lm9wZW5GaWxlPW51bGx9KTsiaW1hZ2UiIT09YS50eXBlLnN1YnN0cmluZygwLAo1KSYmImFwcGxpY2F0aW9uL3BkZiIhPT1hLnR5cGV8fCJpbWFnZS9zdmciPT09YS50eXBlLnN1YnN0cmluZygwLDkpP2IucmVhZEFzVGV4dChhKTpiLnJlYWRBc0RhdGFVUkwoYSl9KShhW2JdKX07RWRpdG9yVWkucHJvdG90eXBlLm9wZW5Mb2NhbEZpbGU9ZnVuY3Rpb24oYSxjLGQpe3ZhciBiPXRoaXMuZ2V0Q3VycmVudEZpbGUoKSxlPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7d2luZG93Lm9wZW5GaWxlPW51bGw7aWYobnVsbD09YyYmbnVsbCE9dGhpcy5nZXRDdXJyZW50RmlsZSgpJiZ0aGlzLmlzRGlhZ3JhbUVtcHR5KCkpe3ZhciBiPW14VXRpbHMucGFyc2VYbWwoYSk7bnVsbCE9YiYmKHRoaXMuZWRpdG9yLnNldEdyYXBoWG1sKGIuZG9jdW1lbnRFbGVtZW50KSx0aGlzLmVkaXRvci5ncmFwaC5zZWxlY3RBbGwoKSl9ZWxzZSB0aGlzLmZpbGVMb2FkZWQobmV3IExvY2FsRmlsZSh0aGlzLGEsY3x8dGhpcy5kZWZhdWx0RmlsZW5hbWUsZCkpfSk7aWYobnVsbCE9YSYmMDwKYS5sZW5ndGgpbnVsbD09Ynx8IWIuaXNNb2RpZmllZCgpJiYobXhDbGllbnQuSVNfQ0hST01FQVBQfHxFZGl0b3JVaS5pc0VsZWN0cm9uQXBwKT9lKCk6KG14Q2xpZW50LklTX0NIUk9NRUFQUHx8RWRpdG9yVWkuaXNFbGVjdHJvbkFwcCkmJm51bGwhPWImJmIuaXNNb2RpZmllZCgpP3RoaXMuY29uZmlybShteFJlc291cmNlcy5nZXQoImFsbENoYW5nZXNMb3N0IiksbnVsbCxlLG14UmVzb3VyY2VzLmdldCgiY2FuY2VsIiksbXhSZXNvdXJjZXMuZ2V0KCJkaXNjYXJkQ2hhbmdlcyIpKTood2luZG93Lm9wZW5GaWxlPW5ldyBPcGVuRmlsZShmdW5jdGlvbigpe3dpbmRvdy5vcGVuRmlsZT1udWxsfSksd2luZG93Lm9wZW5GaWxlLnNldERhdGEoYSxjKSx3aW5kb3cub3BlbldpbmRvdyh0aGlzLmdldFVybCgpLG51bGwsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtudWxsIT1iJiZiLmlzTW9kaWZpZWQoKT90aGlzLmNvbmZpcm0obXhSZXNvdXJjZXMuZ2V0KCJhbGxDaGFuZ2VzTG9zdCIpLApudWxsLGUsbXhSZXNvdXJjZXMuZ2V0KCJjYW5jZWwiKSxteFJlc291cmNlcy5nZXQoImRpc2NhcmRDaGFuZ2VzIikpOmUoKX0pKSk7ZWxzZSB0aHJvdyBFcnJvcihteFJlc291cmNlcy5nZXQoIm5vdEFEaWFncmFtRmlsZSIpKTt9O0VkaXRvclVpLnByb3RvdHlwZS5nZXRCYXNlbmFtZXM9ZnVuY3Rpb24oKXt2YXIgYT17fTtpZihudWxsIT10aGlzLnBhZ2VzKWZvcih2YXIgYz0wO2M8dGhpcy5wYWdlcy5sZW5ndGg7YysrKXRoaXMudXBkYXRlUGFnZVJvb3QodGhpcy5wYWdlc1tjXSksdGhpcy5hZGRCYXNlbmFtZXNGb3JDZWxsKHRoaXMucGFnZXNbY10ucm9vdCxhKTtlbHNlIHRoaXMuYWRkQmFzZW5hbWVzRm9yQ2VsbCh0aGlzLmVkaXRvci5ncmFwaC5tb2RlbC5nZXRSb290KCksYSk7dmFyIGM9W10sZDtmb3IoZCBpbiBhKWMucHVzaChkKTtyZXR1cm4gY307RWRpdG9yVWkucHJvdG90eXBlLmFkZEJhc2VuYW1lc0ZvckNlbGw9ZnVuY3Rpb24oYSxjKXtmdW5jdGlvbiBiKGEpe2lmKG51bGwhPQphKXt2YXIgYj1hLmxhc3RJbmRleE9mKCIuIik7MDxiJiYoYT1hLnN1YnN0cmluZyhiKzEsYS5sZW5ndGgpKTtudWxsPT1jW2FdJiYoY1thXT0hMCl9fXZhciBkPXRoaXMuZWRpdG9yLmdyYXBoLGU9ZC5nZXRDZWxsU3R5bGUoYSk7YihteFN0ZW5jaWxSZWdpc3RyeS5nZXRCYXNlbmFtZUZvclN0ZW5jaWwoZVtteENvbnN0YW50cy5TVFlMRV9TSEFQRV0pKTtkLm1vZGVsLmlzRWRnZShhKSYmKGIobXhNYXJrZXIuZ2V0UGFja2FnZUZvclR5cGUoZVtteENvbnN0YW50cy5TVFlMRV9TVEFSVEFSUk9XXSkpLGIobXhNYXJrZXIuZ2V0UGFja2FnZUZvclR5cGUoZVtteENvbnN0YW50cy5TVFlMRV9FTkRBUlJPV10pKSk7Zm9yKHZhciBlPWQubW9kZWwuZ2V0Q2hpbGRDb3VudChhKSxmPTA7ZjxlO2YrKyl0aGlzLmFkZEJhc2VuYW1lc0ZvckNlbGwoZC5tb2RlbC5nZXRDaGlsZEF0KGEsZiksYyl9O0VkaXRvclVpLnByb3RvdHlwZS5zZXRHcmFwaEVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5kaWFncmFtQ29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHk9CmE/IiI6ImhpZGRlbiI7dGhpcy5mb3JtYXRDb250YWluZXIuc3R5bGUudmlzaWJpbGl0eT1hPyIiOiJoaWRkZW4iO3RoaXMuc2lkZWJhckZvb3RlckNvbnRhaW5lci5zdHlsZS5kaXNwbGF5PWE/IiI6Im5vbmUiO3RoaXMuc2lkZWJhckNvbnRhaW5lci5zdHlsZS5kaXNwbGF5PWE/IiI6Im5vbmUiO3RoaXMuaHNwbGl0LnN0eWxlLmRpc3BsYXk9YT8iIjoibm9uZSI7dGhpcy5lZGl0b3IuZ3JhcGguc2V0RW5hYmxlZChhKTtudWxsIT10aGlzLnJ1bGVyJiYodGhpcy5ydWxlci5oUnVsZXIuY29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHk9YT8iIjoiaGlkZGVuIix0aGlzLnJ1bGVyLnZSdWxlci5jb250YWluZXIuc3R5bGUudmlzaWJpbGl0eT1hPyIiOiJoaWRkZW4iKTtudWxsIT10aGlzLnRhYkNvbnRhaW5lciYmKHRoaXMudGFiQ29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHk9YT8iIjoiaGlkZGVuIik7YXx8KG51bGwhPXRoaXMuYWN0aW9ucy5vdXRsaW5lV2luZG93JiZ0aGlzLmFjdGlvbnMub3V0bGluZVdpbmRvdy53aW5kb3cuc2V0VmlzaWJsZSghMSksCm51bGwhPXRoaXMuYWN0aW9ucy5sYXllcnNXaW5kb3cmJnRoaXMuYWN0aW9ucy5sYXllcnNXaW5kb3cud2luZG93LnNldFZpc2libGUoITEpLG51bGwhPXRoaXMubWVudXMudGFnc1dpbmRvdyYmdGhpcy5tZW51cy50YWdzV2luZG93LndpbmRvdy5zZXRWaXNpYmxlKCExKSxudWxsIT10aGlzLm1lbnVzLmZpbmRXaW5kb3cmJnRoaXMubWVudXMuZmluZFdpbmRvdy53aW5kb3cuc2V0VmlzaWJsZSghMSkpfTtFZGl0b3JVaS5wcm90b3R5cGUuaW5pdGlhbGl6ZUVtYmVkTW9kZT1mdW5jdGlvbigpe3RoaXMuc2V0R3JhcGhFbmFibGVkKCExKTsod2luZG93Lm9wZW5lcnx8d2luZG93LnBhcmVudCkhPXdpbmRvdyYmKCIxIiE9dXJsUGFyYW1zLnNwaW58fHRoaXMuc3Bpbm5lci5zcGluKGRvY3VtZW50LmJvZHksbXhSZXNvdXJjZXMuZ2V0KCJsb2FkaW5nIikpKSYmdGhpcy5pbnN0YWxsTWVzc2FnZUhhbmRsZXIobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxjLGQpe3RoaXMuc3Bpbm5lci5zdG9wKCk7CnRoaXMuYWRkRW1iZWRCdXR0b25zKCk7dGhpcy5zZXRHcmFwaEVuYWJsZWQoITApO2lmKG51bGw9PWF8fDA9PWEubGVuZ3RoKWE9dGhpcy5lbXB0eURpYWdyYW1YbWw7dGhpcy5zZXRDdXJyZW50RmlsZShuZXcgTG9jYWxGaWxlKHRoaXMsYSx0aGlzLmRlZmF1bHRGaWxlbmFtZSwhMCkpO3RoaXMuc2V0RmlsZURhdGEoYSk7dGhpcy5lZGl0b3IuaXNDaHJvbWVsZXNzVmlldygpP3RoaXMuZWRpdG9yLmdyYXBoLmlzTGlnaHRib3hWaWV3KCkmJnRoaXMubGlnaHRib3hGaXQoKTp0aGlzLnNob3dMYXllcnNEaWFsb2coKTt0aGlzLmNocm9tZWxlc3NSZXNpemUmJnRoaXMuY2hyb21lbGVzc1Jlc2l6ZSgpO3RoaXMuZWRpdG9yLnVuZG9NYW5hZ2VyLmNsZWFyKCk7dGhpcy5lZGl0b3IubW9kaWZpZWQ9bnVsbCE9ZD9kOiExO3RoaXMudXBkYXRlVWkoKTt3aW5kb3cuc2VsZiE9PXdpbmRvdy50b3AmJndpbmRvdy5mb2N1cygpO251bGwhPXRoaXMuZm9ybWF0JiZ0aGlzLmZvcm1hdC5yZWZyZXNoKCl9KSl9OwpFZGl0b3JVaS5wcm90b3R5cGUuc2hvd0xheWVyc0RpYWxvZz1mdW5jdGlvbigpezE8dGhpcy5lZGl0b3IuZ3JhcGguZ2V0TW9kZWwoKS5nZXRDaGlsZENvdW50KHRoaXMuZWRpdG9yLmdyYXBoLmdldE1vZGVsKCkuZ2V0Um9vdCgpKSYmKG51bGw9PXRoaXMuYWN0aW9ucy5sYXllcnNXaW5kb3c/dGhpcy5hY3Rpb25zLmdldCgibGF5ZXJzIikuZnVuY3QoKTp0aGlzLmFjdGlvbnMubGF5ZXJzV2luZG93LndpbmRvdy5zZXRWaXNpYmxlKCEwKSl9O0VkaXRvclVpLnByb3RvdHlwZS5nZXRQdWJsaWNVcmw9ZnVuY3Rpb24oYSxjKXtudWxsIT1hP2EuZ2V0UHVibGljVXJsKGMpOmMobnVsbCl9O0VkaXRvclVpLnByb3RvdHlwZS5jcmVhdGVMb2FkTWVzc2FnZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmVkaXRvci5ncmFwaDtyZXR1cm57ZXZlbnQ6YSxwYWdlVmlzaWJsZTpiLnBhZ2VWaXNpYmxlLHRyYW5zbGF0ZTpiLnZpZXcudHJhbnNsYXRlLGJvdW5kczpiLmdldEdyYXBoQm91bmRzKCksY3VycmVudFBhZ2U6dGhpcy5nZXRTZWxlY3RlZFBhZ2VJbmRleCgpLApzY2FsZTpiLnZpZXcuc2NhbGUscGFnZTpiLnZpZXcuZ2V0QmFja2dyb3VuZFBhZ2VCb3VuZHMoKX19O0VkaXRvclVpLnByb3RvdHlwZS5pbnN0YWxsTWVzc2FnZUhhbmRsZXI9ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbCxjPSExLGQ9ITEsZj1udWxsLGs9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxiKXt0aGlzLmVkaXRvci5tb2RpZmllZCYmIjAiIT11cmxQYXJhbXMubW9kaWZpZWQ/bnVsbCE9dXJsUGFyYW1zLm1vZGlmaWVkJiZ0aGlzLmVkaXRvci5zZXRTdGF0dXMobXhVdGlscy5odG1sRW50aXRpZXMobXhSZXNvdXJjZXMuZ2V0KHVybFBhcmFtcy5tb2RpZmllZCkpKTp0aGlzLmVkaXRvci5zZXRTdGF0dXMoIiIpfSk7dGhpcy5lZGl0b3IuZ3JhcGgubW9kZWwuYWRkTGlzdGVuZXIobXhFdmVudC5DSEFOR0Usayk7bXhFdmVudC5hZGRMaXN0ZW5lcih3aW5kb3csIm1lc3NhZ2UiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGUpe2lmKGUuc291cmNlPT0od2luZG93Lm9wZW5lcnx8CndpbmRvdy5wYXJlbnQpKXt2YXIgZz1lLmRhdGEsaz1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtpZihudWxsIT1hJiYiZnVuY3Rpb24iPT09dHlwZW9mIGEuY2hhckF0JiYiPCIhPWEuY2hhckF0KDApKXRyeXsiZGF0YTppbWFnZS9wbmc7YmFzZTY0LCI9PWEuc3Vic3RyaW5nKDAsMjIpP2E9dGhpcy5leHRyYWN0R3JhcGhNb2RlbEZyb21QbmcoYSk6ImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsIj09YS5zdWJzdHJpbmcoMCwyNik/YT1hdG9iKGEuc3Vic3RyaW5nKDI2KSk6ImRhdGE6aW1hZ2Uvc3ZnK3htbDt1dGY4LCI9PWEuc3Vic3RyaW5nKDAsMjQpJiYoYT1hLnN1YnN0cmluZygyNCkpLG51bGwhPWEmJigiJSI9PWEuY2hhckF0KDApP2E9ZGVjb2RlVVJJQ29tcG9uZW50KGEpOiI8IiE9YS5jaGFyQXQoMCkmJihhPUdyYXBoLmRlY29tcHJlc3MoYSkpKX1jYXRjaChjYSl7fXJldHVybiBhfSk7aWYoImpzb24iPT11cmxQYXJhbXMucHJvdG8pe3RyeXtnPUpTT04ucGFyc2UoZyl9Y2F0Y2goVCl7Zz0KbnVsbH10cnl7aWYobnVsbD09ZylyZXR1cm47aWYoImRpYWxvZyI9PWcuYWN0aW9uKXt0aGlzLnNob3dFcnJvcihudWxsIT1nLnRpdGxlS2V5P214UmVzb3VyY2VzLmdldChnLnRpdGxlS2V5KTpnLnRpdGxlLG51bGwhPWcubWVzc2FnZUtleT9teFJlc291cmNlcy5nZXQoZy5tZXNzYWdlS2V5KTpnLm1lc3NhZ2UsbnVsbCE9Zy5idXR0b25LZXk/bXhSZXNvdXJjZXMuZ2V0KGcuYnV0dG9uS2V5KTpnLmJ1dHRvbik7bnVsbCE9Zy5tb2RpZmllZCYmKHRoaXMuZWRpdG9yLm1vZGlmaWVkPWcubW9kaWZpZWQpO3JldHVybn1pZigicHJvbXB0Ij09Zy5hY3Rpb24pe3RoaXMuc3Bpbm5lci5zdG9wKCk7dmFyIGw9bmV3IEZpbGVuYW1lRGlhbG9nKHRoaXMsZy5kZWZhdWx0VmFsdWV8fCIiLG51bGwhPWcub2tLZXk/bXhSZXNvdXJjZXMuZ2V0KGcub2tLZXkpOmcub2ssZnVuY3Rpb24oYSl7bnVsbCE9YT9tLnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHtldmVudDoicHJvbXB0Iix2YWx1ZTphLAptZXNzYWdlOmd9KSwiKiIpOm0ucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkoe2V2ZW50OiJwcm9tcHQtY2FuY2VsIixtZXNzYWdlOmd9KSwiKiIpfSxudWxsIT1nLnRpdGxlS2V5P214UmVzb3VyY2VzLmdldChnLnRpdGxlS2V5KTpnLnRpdGxlKTt0aGlzLnNob3dEaWFsb2cobC5jb250YWluZXIsMzAwLDgwLCEwLCExKTtsLmluaXQoKTtyZXR1cm59aWYoImRyYWZ0Ij09Zy5hY3Rpb24pe3ZhciBuPWsoZy54bWwpO3RoaXMuc3Bpbm5lci5zdG9wKCk7bD1uZXcgRHJhZnREaWFsb2codGhpcyxteFJlc291cmNlcy5nZXQoImRyYWZ0Rm91bmQiLFtnLm5hbWV8fHRoaXMuZGVmYXVsdEZpbGVuYW1lXSksbixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuaGlkZURpYWxvZygpO20ucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkoe2V2ZW50OiJkcmFmdCIscmVzdWx0OiJlZGl0IixtZXNzYWdlOmd9KSwiKiIpfSksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmhpZGVEaWFsb2coKTsKbS5wb3N0TWVzc2FnZShKU09OLnN0cmluZ2lmeSh7ZXZlbnQ6ImRyYWZ0IixyZXN1bHQ6ImRpc2NhcmQiLG1lc3NhZ2U6Z30pLCIqIil9KSxnLmVkaXRLZXk/bXhSZXNvdXJjZXMuZ2V0KGcuZWRpdEtleSk6bnVsbCxnLmRpc2NhcmRLZXk/bXhSZXNvdXJjZXMuZ2V0KGcuZGlzY2FyZEtleSk6bnVsbCxnLmlnbm9yZT9teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuaGlkZURpYWxvZygpO20ucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkoe2V2ZW50OiJkcmFmdCIscmVzdWx0OiJpZ25vcmUiLG1lc3NhZ2U6Z30pLCIqIil9KTpudWxsKTt0aGlzLnNob3dEaWFsb2cobC5jb250YWluZXIsNjQwLDQ4MCwhMCwhMSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXthJiZ0aGlzLmFjdGlvbnMuZ2V0KCJleGl0IikuZnVuY3QoKX0pKTt0cnl7bC5pbml0KCl9Y2F0Y2goVCl7bS5wb3N0TWVzc2FnZShKU09OLnN0cmluZ2lmeSh7ZXZlbnQ6ImRyYWZ0IixlcnJvcjpULnRvU3RyaW5nKCksCm1lc3NhZ2U6Z30pLCIqIil9cmV0dXJufWlmKCJ0ZW1wbGF0ZSI9PWcuYWN0aW9uKXt0aGlzLnNwaW5uZXIuc3RvcCgpO3ZhciBwPTE9PWcuZW5hYmxlUmVjZW50LHE9MT09Zy5lbmFibGVTZWFyY2gsdD0xPT1nLmVuYWJsZUN1c3RvbVRlbXAsbD1uZXcgTmV3RGlhbG9nKHRoaXMsITEsbnVsbCE9Zy5jYWxsYmFjayxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiLGMpe2I9Ynx8dGhpcy5lbXB0eURpYWdyYW1YbWw7bnVsbCE9Zy5jYWxsYmFjaz9tLnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHtldmVudDoidGVtcGxhdGUiLHhtbDpiLGJsYW5rOmI9PXRoaXMuZW1wdHlEaWFncmFtWG1sLG5hbWU6YyxtZXNzYWdlOmd9KSwiKiIpOihhKGIsZSxiIT10aGlzLmVtcHR5RGlhZ3JhbVhtbCksdGhpcy5lZGl0b3IubW9kaWZpZWR8fHRoaXMuZWRpdG9yLnNldFN0YXR1cygiIikpfSksbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxwP214VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMucmVtb3RlSW52b2tlKCJnZXRSZWNlbnREaWFncmFtcyIsCm51bGwsbnVsbCxhLGZ1bmN0aW9uKCl7YShudWxsLCJOZXR3b3JrIEVycm9yISIpfSl9KTpudWxsLHE/bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxiKXt0aGlzLnJlbW90ZUludm9rZSgic2VhcmNoRGlhZ3JhbXMiLFthXSxudWxsLGIsZnVuY3Rpb24oKXtiKG51bGwsIk5ldHdvcmsgRXJyb3IhIil9KX0pOm51bGwsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxiLGMpe20ucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkoe2V2ZW50OiJ0ZW1wbGF0ZSIsZG9jVXJsOmEsaW5mbzpiLG5hbWU6Y30pLCIqIil9KSxudWxsLG51bGwsdD9teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLnJlbW90ZUludm9rZSgiZ2V0Q3VzdG9tVGVtcGxhdGVzIixudWxsLG51bGwsYSxmdW5jdGlvbigpe2Eoe30sMCl9KX0pOm51bGwpO3RoaXMuc2hvd0RpYWxvZyhsLmNvbnRhaW5lciw2MjAsNDQwLCEwLCExLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe2EmJnRoaXMuYWN0aW9ucy5nZXQoImV4aXQiKS5mdW5jdCgpfSkpOwpsLmluaXQoKTtyZXR1cm59aWYoInRleHRDb250ZW50Ij09Zy5hY3Rpb24pe3ZhciB4PXRoaXMuZ2V0RGlhZ3JhbVRleHRDb250ZW50KCk7bS5wb3N0TWVzc2FnZShKU09OLnN0cmluZ2lmeSh7ZXZlbnQ6InRleHRDb250ZW50IixkYXRhOngsbWVzc2FnZTpnfSksIioiKTtyZXR1cm59aWYoInN0YXR1cyI9PWcuYWN0aW9uKXtudWxsIT1nLm1lc3NhZ2VLZXk/dGhpcy5lZGl0b3Iuc2V0U3RhdHVzKG14VXRpbHMuaHRtbEVudGl0aWVzKG14UmVzb3VyY2VzLmdldChnLm1lc3NhZ2VLZXkpKSk6bnVsbCE9Zy5tZXNzYWdlJiZ0aGlzLmVkaXRvci5zZXRTdGF0dXMobXhVdGlscy5odG1sRW50aXRpZXMoZy5tZXNzYWdlKSk7bnVsbCE9Zy5tb2RpZmllZCYmKHRoaXMuZWRpdG9yLm1vZGlmaWVkPWcubW9kaWZpZWQpO3JldHVybn1pZigic3Bpbm5lciI9PWcuYWN0aW9uKXt2YXIgdj1udWxsIT1nLm1lc3NhZ2VLZXk/bXhSZXNvdXJjZXMuZ2V0KGcubWVzc2FnZUtleSk6Zy5tZXNzYWdlO251bGw9PQpnLnNob3d8fGcuc2hvdz90aGlzLnNwaW5uZXIuc3Bpbihkb2N1bWVudC5ib2R5LHYpOnRoaXMuc3Bpbm5lci5zdG9wKCk7cmV0dXJufWlmKCJleHBvcnQiPT1nLmFjdGlvbil7aWYoInBuZyI9PWcuZm9ybWF0fHwieG1scG5nIj09Zy5mb3JtYXQpe2lmKG51bGw9PWcuc3BpbiYmbnVsbD09Zy5zcGluS2V5fHx0aGlzLnNwaW5uZXIuc3Bpbihkb2N1bWVudC5ib2R5LG51bGwhPWcuc3BpbktleT9teFJlc291cmNlcy5nZXQoZy5zcGluS2V5KTpnLnNwaW4pKXt2YXIgSj1udWxsIT1nLnhtbD9nLnhtbDp0aGlzLmdldEZpbGVEYXRhKCEwKTt0aGlzLmVkaXRvci5ncmFwaC5zZXRFbmFibGVkKCExKTt2YXIgdT10aGlzLmVkaXRvci5ncmFwaCxLPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuZWRpdG9yLmdyYXBoLnNldEVuYWJsZWQoITApO3RoaXMuc3Bpbm5lci5zdG9wKCk7dmFyIGI9dGhpcy5jcmVhdGVMb2FkTWVzc2FnZSgiZXhwb3J0Iik7Yi5mb3JtYXQ9Zy5mb3JtYXQ7CmIubWVzc2FnZT1nO2IuZGF0YT1hO2IueG1sPUo7bS5wb3N0TWVzc2FnZShKU09OLnN0cmluZ2lmeShiKSwiKiIpfSkseT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtudWxsPT1hJiYoYT1FZGl0b3IuYmxhbmtJbWFnZSk7InhtbHBuZyI9PWcuZm9ybWF0JiYoYT1FZGl0b3Iud3JpdGVHcmFwaE1vZGVsVG9QbmcoYSwidEVYdCIsIm14ZmlsZSIsZW5jb2RlVVJJQ29tcG9uZW50KEopKSk7dSE9dGhpcy5lZGl0b3IuZ3JhcGgmJnUuY29udGFpbmVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodS5jb250YWluZXIpO0soYSl9KSxOPWcucGFnZUlkfHwobnVsbCE9dGhpcy5wYWdlcz90aGlzLnBhZ2VzWzBdLmdldElkKCk6bnVsbCk7aWYodGhpcy5pc0V4cG9ydFRvQ2FudmFzKCkpe2lmKG51bGwhPXRoaXMucGFnZXMmJnRoaXMuY3VycmVudFBhZ2UuZ2V0SWQoKSE9Til7Zm9yKHZhciBPPXUuZ2V0R2xvYmFsVmFyaWFibGUsdT10aGlzLmNyZWF0ZVRlbXBvcmFyeUdyYXBoKHUuZ2V0U3R5bGVzaGVldCgpKSwKSCxSPTA7Ujx0aGlzLnBhZ2VzLmxlbmd0aDtSKyspaWYodGhpcy5wYWdlc1tSXS5nZXRJZCgpPT1OKXtIPXRoaXMudXBkYXRlUGFnZVJvb3QodGhpcy5wYWdlc1tSXSk7YnJlYWt9dS5nZXRHbG9iYWxWYXJpYWJsZT1mdW5jdGlvbihhKXtyZXR1cm4icGFnZSI9PWE/SC5nZXROYW1lKCk6InBhZ2VudW1iZXIiPT1hPzE6Ty5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodS5jb250YWluZXIpO3UubW9kZWwuc2V0Um9vdChILnJvb3QpfWlmKG51bGwhPWcubGF5ZXJJZHMpe2Zvcih2YXIgZWE9dS5tb2RlbCxmYT1lYS5nZXRDaGlsZENlbGxzKGVhLmdldFJvb3QoKSksbD17fSxSPTA7UjxnLmxheWVySWRzLmxlbmd0aDtSKyspbFtnLmxheWVySWRzW1JdXT0hMDtmb3IoUj0wO1I8ZmEubGVuZ3RoO1IrKyllYS5zZXRWaXNpYmxlKGZhW1JdLGxbZmFbUl0uaWRdfHwhMSl9dGhpcy5lZGl0b3IuZXhwb3J0VG9DYW52YXMobXhVdGlscy5iaW5kKHRoaXMsCmZ1bmN0aW9uKGEpe3koYS50b0RhdGFVUkwoImltYWdlL3BuZyIpKX0pLG51bGwsbnVsbCxudWxsLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7eShudWxsKX0pLG51bGwsbnVsbCxnLnNjYWxlLG51bGwsbnVsbCxudWxsLHUpfWVsc2UobmV3IG14WG1sUmVxdWVzdChFWFBPUlRfVVJMLCJmb3JtYXQ9cG5nJmVtYmVkWG1sPSIrKCJ4bWxwbmciPT1nLmZvcm1hdD8iMSI6IjAiKSsobnVsbCE9Tj8iJnBhZ2VJZD0iK046IiIpKyhudWxsIT1nLmxheWVySWRzPyImZXh0cmFzPSIrZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHtsYXllcklkczpnLmxheWVySWRzfSkpOiIiKSsobnVsbCE9Zy5zY2FsZT8iJnNjYWxlPSIrZy5zY2FsZToiIikrIiZiYXNlNjQ9MSZ4bWw9IitlbmNvZGVVUklDb21wb25lbnQoSikpKS5zZW5kKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpezIwMDw9YS5nZXRTdGF0dXMoKSYmMjk5Pj1hLmdldFN0YXR1cygpP0soImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwiKwphLmdldFRleHQoKSk6eShudWxsKX0pLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7eShudWxsKX0pKX19ZWxzZXtudWxsIT1nLnhtbCYmMDxnLnhtbC5sZW5ndGgmJnRoaXMuc2V0RmlsZURhdGEoZy54bWwpO3Y9dGhpcy5jcmVhdGVMb2FkTWVzc2FnZSgiZXhwb3J0Iik7di5tZXNzYWdlPWc7aWYoImh0bWwyIj09Zy5mb3JtYXR8fCJodG1sIj09Zy5mb3JtYXQmJigiMCIhPXVybFBhcmFtcy5wYWdlc3x8bnVsbCE9dGhpcy5wYWdlcyYmMTx0aGlzLnBhZ2VzLmxlbmd0aCkpe3ZhciBZPXRoaXMuZ2V0WG1sRmlsZURhdGEoKTt2LnhtbD1teFV0aWxzLmdldFhtbChZKTt2LmRhdGE9dGhpcy5nZXRGaWxlRGF0YShudWxsLG51bGwsITAsbnVsbCxudWxsLG51bGwsWSk7di5mb3JtYXQ9Zy5mb3JtYXR9ZWxzZSBpZigiaHRtbCI9PWcuZm9ybWF0KUo9dGhpcy5lZGl0b3IuZ2V0R3JhcGhYbWwoKSx2LmRhdGE9dGhpcy5nZXRIdG1sKEosdGhpcy5lZGl0b3IuZ3JhcGgpLHYueG1sPW14VXRpbHMuZ2V0WG1sKEopLAp2LmZvcm1hdD1nLmZvcm1hdDtlbHNle214U3ZnQ2FudmFzMkQucHJvdG90eXBlLmZvQWx0VGV4dD1udWxsO3ZhciBaPXRoaXMuZWRpdG9yLmdyYXBoLmJhY2tncm91bmQ7Wj09bXhDb25zdGFudHMuTk9ORSYmKFo9bnVsbCk7di54bWw9dGhpcy5nZXRGaWxlRGF0YSghMCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsITEpO3YuZm9ybWF0PSJzdmciO3ZhciBYPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuZWRpdG9yLmdyYXBoLnNldEVuYWJsZWQoITApO3RoaXMuc3Bpbm5lci5zdG9wKCk7di5kYXRhPUVkaXRvci5jcmVhdGVTdmdEYXRhVXJpKGEpO20ucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkodiksIioiKX0pO2lmKCJ4bWxzdmciPT1nLmZvcm1hdCkobnVsbD09Zy5zcGluJiZudWxsPT1nLnNwaW5LZXl8fHRoaXMuc3Bpbm5lci5zcGluKGRvY3VtZW50LmJvZHksbnVsbCE9Zy5zcGluS2V5P214UmVzb3VyY2VzLmdldChnLnNwaW5LZXkpOgpnLnNwaW4pKSYmdGhpcy5nZXRFbWJlZGRlZFN2Zyh2LnhtbCx0aGlzLmVkaXRvci5ncmFwaCxudWxsLCEwLFgsbnVsbCxudWxsLGcuZW1iZWRJbWFnZXMpO2Vsc2UgaWYobnVsbD09Zy5zcGluJiZudWxsPT1nLnNwaW5LZXl8fHRoaXMuc3Bpbm5lci5zcGluKGRvY3VtZW50LmJvZHksbnVsbCE9Zy5zcGluS2V5P214UmVzb3VyY2VzLmdldChnLnNwaW5LZXkpOmcuc3Bpbikpe3RoaXMuZWRpdG9yLmdyYXBoLnNldEVuYWJsZWQoITEpO3ZhciBhYT10aGlzLmVkaXRvci5ncmFwaC5nZXRTdmcoWik7dGhpcy5lbWJlZEZvbnRzKGFhLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe2cuZW1iZWRJbWFnZXN8fG51bGw9PWcuZW1iZWRJbWFnZXM/dGhpcy5lZGl0b3IuY29udmVydEltYWdlcyhhLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe1gobXhVdGlscy5nZXRYbWwoYSkpfSkpOlgobXhVdGlscy5nZXRYbWwoYSkpfSkpfXJldHVybn1tLnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHYpLAoiKiIpfXJldHVybn1pZigibG9hZCI9PWcuYWN0aW9uKWQ9MT09Zy5hdXRvc2F2ZSx0aGlzLmhpZGVEaWFsb2coKSxudWxsIT1nLm1vZGlmaWVkJiZudWxsPT11cmxQYXJhbXMubW9kaWZpZWQmJih1cmxQYXJhbXMubW9kaWZpZWQ9Zy5tb2RpZmllZCksbnVsbCE9Zy5zYXZlQW5kRXhpdCYmbnVsbD09dXJsUGFyYW1zLnNhdmVBbmRFeGl0JiYodXJsUGFyYW1zLnNhdmVBbmRFeGl0PWcuc2F2ZUFuZEV4aXQpLG51bGwhPWcubm9TYXZlQnRuJiZudWxsPT11cmxQYXJhbXMubm9TYXZlQnRuJiYodXJsUGFyYW1zLm5vU2F2ZUJ0bj1nLm5vU2F2ZUJ0biksbnVsbCE9Zy5ub0V4aXRCdG4mJm51bGw9PXVybFBhcmFtcy5ub0V4aXRCdG4mJih1cmxQYXJhbXMubm9FeGl0QnRuPWcubm9FeGl0QnRuKSxudWxsIT1nLnRpdGxlJiZudWxsIT10aGlzLmJ1dHRvbkNvbnRhaW5lciYmKG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpLG14VXRpbHMud3JpdGUobixnLnRpdGxlKSwiYXRsYXMiPT0KdWlUaGVtZT8odGhpcy5idXR0b25Db250YWluZXIuc3R5bGUucGFkZGluZ1JpZ2h0PSIxMnB4Iix0aGlzLmJ1dHRvbkNvbnRhaW5lci5zdHlsZS5wYWRkaW5nVG9wPSI2cHgiLHRoaXMuYnV0dG9uQ29udGFpbmVyLnN0eWxlLnJpZ2h0PSIyNXB4Iik6Im1pbiIhPXVpVGhlbWUmJih0aGlzLmJ1dHRvbkNvbnRhaW5lci5zdHlsZS5wYWRkaW5nUmlnaHQ9IjM4cHgiLHRoaXMuYnV0dG9uQ29udGFpbmVyLnN0eWxlLnBhZGRpbmdUb3A9IjZweCIpLG51bGwhPXRoaXMuZW1iZWRGaWxlbmFtZVNwYW4mJnRoaXMuZW1iZWRGaWxlbmFtZVNwYW4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmVtYmVkRmlsZW5hbWVTcGFuKSx0aGlzLmJ1dHRvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChuKSx0aGlzLmVtYmVkRmlsZW5hbWVTcGFuPW4pLGc9bnVsbCE9Zy54bWxwbmc/dGhpcy5leHRyYWN0R3JhcGhNb2RlbEZyb21QbmcoZy54bWxwbmcpOmcueG1sO2Vsc2V7aWYoIm1lcmdlIj09Zy5hY3Rpb24pe3ZhciBnYT0KdGhpcy5nZXRDdXJyZW50RmlsZSgpO251bGwhPWdhJiYobj1rKGcueG1sKSxudWxsIT1uJiYiIiE9biYmZ2EubWVyZ2VGaWxlKG5ldyBMb2NhbEZpbGUodGhpcyxuKSxmdW5jdGlvbigpe20ucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkoe2V2ZW50OiJtZXJnZSIsbWVzc2FnZTpnfSksIioiKX0sZnVuY3Rpb24oYSl7bS5wb3N0TWVzc2FnZShKU09OLnN0cmluZ2lmeSh7ZXZlbnQ6Im1lcmdlIixtZXNzYWdlOmcsZXJyb3I6YX0pLCIqIil9KSl9ZWxzZSJyZW1vdGVJbnZva2VSZWFkeSI9PWcuYWN0aW9uP3RoaXMuaGFuZGxlUmVtb3RlSW52b2tlUmVhZHkobSk6InJlbW90ZUludm9rZSI9PWcuYWN0aW9uP3RoaXMuaGFuZGxlUmVtb3RlSW52b2tlKGcsZS5vcmlnaW4pOiJyZW1vdGVJbnZva2VSZXNwb25zZSI9PWcuYWN0aW9uP3RoaXMuaGFuZGxlUmVtb3RlSW52b2tlUmVzcG9uc2UoZyk6bS5wb3N0TWVzc2FnZShKU09OLnN0cmluZ2lmeSh7ZXJyb3I6InVua25vd25NZXNzYWdlIixkYXRhOkpTT04uc3RyaW5naWZ5KGcpfSksCiIqIik7cmV0dXJufX1jYXRjaChUKXt0aGlzLmhhbmRsZUVycm9yKFQpfX12YXIgZGE9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oZSxnKXtjPSEwO3RyeXthKGUsZyl9Y2F0Y2goamEpe3RoaXMuaGFuZGxlRXJyb3IoamEpfWM9ITE7bnVsbCE9dXJsUGFyYW1zLm1vZGlmaWVkJiZ0aGlzLmVkaXRvci5zZXRTdGF0dXMoIiIpO3ZhciBrPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIjAiIT11cmxQYXJhbXMucGFnZXN8fG51bGwhPXRoaXMucGFnZXMmJjE8dGhpcy5wYWdlcy5sZW5ndGg/dGhpcy5nZXRGaWxlRGF0YSghMCk6bXhVdGlscy5nZXRYbWwodGhpcy5lZGl0b3IuZ2V0R3JhcGhYbWwoKSl9KTtmPWsoKTtkJiZudWxsPT1iJiYoYj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGIpe3ZhciBkPWsoKTtpZihkIT1mJiYhYyl7dmFyIGU9dGhpcy5jcmVhdGVMb2FkTWVzc2FnZSgiYXV0b3NhdmUiKTtlLnhtbD1kO2Q9SlNPTi5zdHJpbmdpZnkoZSk7KHdpbmRvdy5vcGVuZXJ8fAp3aW5kb3cucGFyZW50KS5wb3N0TWVzc2FnZShkLCIqIil9Zj1kfSksdGhpcy5lZGl0b3IuZ3JhcGgubW9kZWwuYWRkTGlzdGVuZXIobXhFdmVudC5DSEFOR0UsYiksdGhpcy5lZGl0b3IuZ3JhcGguYWRkTGlzdGVuZXIoImdyaWRTaXplQ2hhbmdlZCIsYiksdGhpcy5lZGl0b3IuZ3JhcGguYWRkTGlzdGVuZXIoInNoYWRvd1Zpc2libGVDaGFuZ2VkIixiKSx0aGlzLmFkZExpc3RlbmVyKCJwYWdlRm9ybWF0Q2hhbmdlZCIsYiksdGhpcy5hZGRMaXN0ZW5lcigicGFnZVNjYWxlQ2hhbmdlZCIsYiksdGhpcy5hZGRMaXN0ZW5lcigiYmFja2dyb3VuZENvbG9yQ2hhbmdlZCIsYiksdGhpcy5hZGRMaXN0ZW5lcigiYmFja2dyb3VuZEltYWdlQ2hhbmdlZCIsYiksdGhpcy5hZGRMaXN0ZW5lcigiZm9sZGluZ0VuYWJsZWRDaGFuZ2VkIixiKSx0aGlzLmFkZExpc3RlbmVyKCJtYXRoRW5hYmxlZENoYW5nZWQiLGIpLHRoaXMuYWRkTGlzdGVuZXIoImdyaWRFbmFibGVkQ2hhbmdlZCIsYiksdGhpcy5hZGRMaXN0ZW5lcigiZ3VpZGVzRW5hYmxlZENoYW5nZWQiLApiKSx0aGlzLmFkZExpc3RlbmVyKCJwYWdlVmlld0NoYW5nZWQiLGIpKTtpZigiMSI9PXVybFBhcmFtcy5yZXR1cm5ib3VuZHN8fCJqc29uIj09dXJsUGFyYW1zLnByb3RvKXt2YXIgbD10aGlzLmNyZWF0ZUxvYWRNZXNzYWdlKCJsb2FkIik7bC54bWw9ZTttLnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KGwpLCIqIil9fSk7bnVsbCE9ZyYmImZ1bmN0aW9uIj09PXR5cGVvZiBnLnN1YnN0cmluZyYmImRhdGE6YXBwbGljYXRpb24vdm5kLnZpc2lvO2Jhc2U2NCwiPT1nLnN1YnN0cmluZygwLDM0KT8oaz0iME04UjRLR3hHdUUiPT1nLnN1YnN0cmluZygzNCw0NSk/InJhdy52c2QiOiJyYXcudnNkeCIsdGhpcy5pbXBvcnRWaXNpbyh0aGlzLmJhc2U2NFRvQmxvYihnLnN1YnN0cmluZyhnLmluZGV4T2YoIiwiKSsxKSksZnVuY3Rpb24oYSl7ZGEoYSxlKX0sbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5oYW5kbGVFcnJvcihhKX0pLGspKTpudWxsIT1nJiYiZnVuY3Rpb24iPT09CnR5cGVvZiBnLnN1YnN0cmluZyYmIXRoaXMuaXNPZmZsaW5lKCkmJihuZXcgWE1MSHR0cFJlcXVlc3QpLnVwbG9hZCYmdGhpcy5pc1JlbW90ZUZpbGVGb3JtYXQoZywiIik/dGhpcy5wYXJzZUZpbGUobmV3IEJsb2IoW2ddLHt0eXBlOiJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0ifSksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7ND09YS5yZWFkeVN0YXRlJiYyMDA8PWEuc3RhdHVzJiYyOTk+PWEuc3RhdHVzJiYiPG14R3JhcGhNb2RlbCI9PWEucmVzcG9uc2VUZXh0LnN1YnN0cmluZygwLDEzKSYmZGEoYS5yZXNwb25zZVRleHQsZSl9KSwiIik6bnVsbCE9ZyYmImZ1bmN0aW9uIj09PXR5cGVvZiBnLnN1YnN0cmluZyYmdGhpcy5pc0x1Y2lkQ2hhcnREYXRhKGcpP3RoaXMuY29udmVydEx1Y2lkQ2hhcnQoZyxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtkYShhKX0pLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuaGFuZGxlRXJyb3IoYSl9KSk6KGc9ayhnKSwKZGEoZyxlKSl9fSkpO3ZhciBtPXdpbmRvdy5vcGVuZXJ8fHdpbmRvdy5wYXJlbnQsaz0ianNvbiI9PXVybFBhcmFtcy5wcm90bz9KU09OLnN0cmluZ2lmeSh7ZXZlbnQ6ImluaXQifSk6dXJsUGFyYW1zLnJlYWR5fHwicmVhZHkiO20ucG9zdE1lc3NhZ2UoaywiKiIpO2lmKCJqc29uIj09dXJsUGFyYW1zLnByb3RvKXt2YXIgcT10aGlzLmVkaXRvci5ncmFwaC5vcGVuTGluazt0aGlzLmVkaXRvci5ncmFwaC5vcGVuTGluaz1mdW5jdGlvbihhLGIsYyl7cS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bS5wb3N0TWVzc2FnZShKU09OLnN0cmluZ2lmeSh7ZXZlbnQ6Im9wZW5MaW5rIixocmVmOmEsdGFyZ2V0OmIsYWxsb3dPcGVuZXI6Y30pLCIqIil9fX07RWRpdG9yVWkucHJvdG90eXBlLmFkZEVtYmVkQnV0dG9ucz1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMubWVudWJhcil7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7YS5zdHlsZS5kaXNwbGF5PSJpbmxpbmUtYmxvY2siOwphLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7YS5zdHlsZS5wYWRkaW5nVG9wPSJhdGxhcyI9PXVpVGhlbWU/IjJweCI6IjBweCI7YS5zdHlsZS5wYWRkaW5nTGVmdD0iOHB4IjthLnN0eWxlLnBhZGRpbmdCb3R0b209IjJweCI7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7Yy5jbGFzc05hbWU9ImdlQmlnQnV0dG9uIjt2YXIgZD1jOyIxIj09dXJsUGFyYW1zLm5vU2F2ZUJ0bj8iMCIhPXVybFBhcmFtcy5zYXZlQW5kRXhpdCYmKG14VXRpbHMud3JpdGUoYyxteFJlc291cmNlcy5nZXQoInNhdmVBbmRFeGl0IikpLGMuc2V0QXR0cmlidXRlKCJ0aXRsZSIsbXhSZXNvdXJjZXMuZ2V0KCJzYXZlQW5kRXhpdCIpKSxteEV2ZW50LmFkZExpc3RlbmVyKGMsImNsaWNrIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuYWN0aW9ucy5nZXQoInNhdmVBbmRFeGl0IikuZnVuY3QoKX0pKSxhLmFwcGVuZENoaWxkKGMpKToobXhVdGlscy53cml0ZShjLG14UmVzb3VyY2VzLmdldCgic2F2ZSIpKSwKYy5zZXRBdHRyaWJ1dGUoInRpdGxlIixteFJlc291cmNlcy5nZXQoInNhdmUiKSsiICgiK0VkaXRvci5jdHJsS2V5KyIrUykiKSxteEV2ZW50LmFkZExpc3RlbmVyKGMsImNsaWNrIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuYWN0aW9ucy5nZXQoInNhdmUiKS5mdW5jdCgpfSkpLGEuYXBwZW5kQ2hpbGQoYyksIjEiPT11cmxQYXJhbXMuc2F2ZUFuZEV4aXQmJihjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKSxteFV0aWxzLndyaXRlKGMsbXhSZXNvdXJjZXMuZ2V0KCJzYXZlQW5kRXhpdCIpKSxjLnNldEF0dHJpYnV0ZSgidGl0bGUiLG14UmVzb3VyY2VzLmdldCgic2F2ZUFuZEV4aXQiKSksYy5jbGFzc05hbWU9ImdlQmlnQnV0dG9uIGdlQmlnU3RhbmRhcmRCdXR0b24iLGMuc3R5bGUubWFyZ2luTGVmdD0iNnB4IixteEV2ZW50LmFkZExpc3RlbmVyKGMsImNsaWNrIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuYWN0aW9ucy5nZXQoInNhdmVBbmRFeGl0IikuZnVuY3QoKX0pKSwKYS5hcHBlbmRDaGlsZChjKSxkPWMpKTsiMSIhPXVybFBhcmFtcy5ub0V4aXRCdG4mJihjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKSxteFV0aWxzLndyaXRlKGMsbXhSZXNvdXJjZXMuZ2V0KCJleGl0IikpLGMuc2V0QXR0cmlidXRlKCJ0aXRsZSIsbXhSZXNvdXJjZXMuZ2V0KCJleGl0IikpLGMuY2xhc3NOYW1lPSJnZUJpZ0J1dHRvbiBnZUJpZ1N0YW5kYXJkQnV0dG9uIixjLnN0eWxlLm1hcmdpbkxlZnQ9IjZweCIsbXhFdmVudC5hZGRMaXN0ZW5lcihjLCJjbGljayIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmFjdGlvbnMuZ2V0KCJleGl0IikuZnVuY3QoKX0pKSxhLmFwcGVuZENoaWxkKGMpLGQ9Yyk7ZC5zdHlsZS5tYXJnaW5SaWdodD0iMjBweCI7dGhpcy50b29sYmFyLmNvbnRhaW5lci5hcHBlbmRDaGlsZChhKTt0aGlzLnRvb2xiYXIuc3RhdGljRWxlbWVudHMucHVzaChhKTthLnN0eWxlLnJpZ2h0PSJhdGxhcyIhPXVpVGhlbWU/IjUycHgiOiI0MnB4In19OwpFZGl0b3JVaS5wcm90b3R5cGUuc2hvd0ltcG9ydENzdkRpYWxvZz1mdW5jdGlvbigpe251bGw9PXRoaXMuaW1wb3J0Q3N2RGlhbG9nJiYodGhpcy5pbXBvcnRDc3ZEaWFsb2c9bmV3IFRleHRhcmVhRGlhbG9nKHRoaXMsbXhSZXNvdXJjZXMuZ2V0KCJjc3YiKSsiOiIsRWRpdG9yLmRlZmF1bHRDc3ZWYWx1ZSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmltcG9ydENzdihhKX0pLG51bGwsbnVsbCw2MjAsNDMwLG51bGwsITAsITAsbXhSZXNvdXJjZXMuZ2V0KCJpbXBvcnQiKSx0aGlzLmlzT2ZmbGluZSgpP251bGw6Imh0dHBzOi8vZHJhd2lvLWFwcC5jb20vaW1wb3J0LWZyb20tY3N2LXRvLWRyYXdpby8iKSk7dGhpcy5zaG93RGlhbG9nKHRoaXMuaW1wb3J0Q3N2RGlhbG9nLmNvbnRhaW5lciw2NDAsNTIwLCEwLCEwLG51bGwsbnVsbCxudWxsLG51bGwsITApO3RoaXMuaW1wb3J0Q3N2RGlhbG9nLmluaXQoKX07RWRpdG9yVWkucHJvdG90eXBlLmV4ZWN1dGVMYXlvdXRMaXN0PQpmdW5jdGlvbihhLGMpe2Zvcih2YXIgYj10aGlzLmVkaXRvci5ncmFwaCxkPWIuZ2V0U2VsZWN0aW9uQ2VsbHMoKSxlPTA7ZTxhLmxlbmd0aDtlKyspe3ZhciBmPW5ldyB3aW5kb3dbYVtlXS5sYXlvdXRdKGIpO2lmKG51bGwhPWFbZV0uY29uZmlnKWZvcih2YXIgayBpbiBhW2VdLmNvbmZpZylmW2tdPWFbZV0uY29uZmlnW2tdO3RoaXMuZXhlY3V0ZUxheW91dChmdW5jdGlvbigpe2YuZXhlY3V0ZShiLmdldERlZmF1bHRQYXJlbnQoKSwwPT1kLmxlbmd0aD9udWxsOmQpfSxlPT1hLmxlbmd0aC0xLGMpfX07RWRpdG9yVWkucHJvdG90eXBlLmltcG9ydENzdj1mdW5jdGlvbihhLGMpe3RyeXt2YXIgYj1hLnNwbGl0KCJcbiIpLGQ9W10sZT1bXSxmPXt9O2lmKDA8Yi5sZW5ndGgpe3ZhciBrPXt9LG09bnVsbCxxPW51bGwsQT1udWxsLEQ9bnVsbCxCPW51bGwsQz1udWxsLHo9bnVsbCxFPW51bGwsRz0iIixGPSJhdXRvIixJPSJhdXRvIixKPW51bGwsdT1udWxsLEs9NDAseT00MCxOPTEwMCwKTz0wLEg9dGhpcy5lZGl0b3IuZ3JhcGg7SC5nZXRHcmFwaEJvdW5kcygpO2Zvcih2YXIgUj1mdW5jdGlvbigpe251bGwhPWM/YyhuYSk6KEguc2V0U2VsZWN0aW9uQ2VsbHMobmEpLEguc2Nyb2xsQ2VsbFRvVmlzaWJsZShILmdldFNlbGVjdGlvbkNlbGwoKSkpfSxlYT1ILmdldEZyZWVJbnNlcnRQb2ludCgpLGZhPWVhLngsWT1lYS55LGVhPVksWj1udWxsLFg9ImF1dG8iLEU9bnVsbCxhYT1bXSxnYT1udWxsLGRhPW51bGwsVD0wO1Q8Yi5sZW5ndGgmJiIjIj09YltUXS5jaGFyQXQoMCk7KXthPWJbVF07Zm9yKFQrKztUPGIubGVuZ3RoJiYiXFwiPT1hLmNoYXJBdChhLmxlbmd0aC0xKSYmIiMiPT1iW1RdLmNoYXJBdCgwKTspYT1hLnN1YnN0cmluZygwLGEubGVuZ3RoLTEpK214VXRpbHMudHJpbShiW1RdLnN1YnN0cmluZygxKSksVCsrO2lmKCIjIiE9YS5jaGFyQXQoMSkpe3ZhciBjYT1hLmluZGV4T2YoIjoiKTtpZigwPGNhKXt2YXIgUT1teFV0aWxzLnRyaW0oYS5zdWJzdHJpbmcoMSwKY2EpKSxMPW14VXRpbHMudHJpbShhLnN1YnN0cmluZyhjYSsxKSk7ImxhYmVsIj09UT9aPUguc2FuaXRpemVIdG1sKEwpOiJsYWJlbG5hbWUiPT1RJiYwPEwubGVuZ3RoJiYiLSIhPUw/RD1MOiJsYWJlbHMiPT1RJiYwPEwubGVuZ3RoJiYiLSIhPUw/Qj1KU09OLnBhcnNlKEwpOiJzdHlsZSI9PVE/bT1MOiJwYXJlbnRzdHlsZSI9PVE/Qz1MOiJzdHlsZW5hbWUiPT1RJiYwPEwubGVuZ3RoJiYiLSIhPUw/QT1MOiJzdHlsZXMiPT1RJiYwPEwubGVuZ3RoJiYiLSIhPUw/cT1KU09OLnBhcnNlKEwpOiJpZGVudGl0eSI9PVEmJjA8TC5sZW5ndGgmJiItIiE9TD96PUw6InBhcmVudCI9PVEmJjA8TC5sZW5ndGgmJiItIiE9TD9FPUw6Im5hbWVzcGFjZSI9PVEmJjA8TC5sZW5ndGgmJiItIiE9TD9HPUw6IndpZHRoIj09UT9GPUw6ImhlaWdodCI9PVE/ST1MOiJsZWZ0Ij09USYmMDxMLmxlbmd0aD9KPUw6InRvcCI9PVEmJjA8TC5sZW5ndGg/dT1MOiJpZ25vcmUiPT1RP2RhPUwuc3BsaXQoIiwiKToKImNvbm5lY3QiPT1RP2FhLnB1c2goSlNPTi5wYXJzZShMKSk6ImxpbmsiPT1RP2dhPUw6InBhZGRpbmciPT1RP089cGFyc2VGbG9hdChMKToiZWRnZXNwYWNpbmciPT1RP0s9cGFyc2VGbG9hdChMKToibm9kZXNwYWNpbmciPT1RP3k9cGFyc2VGbG9hdChMKToibGV2ZWxzcGFjaW5nIj09UT9OPXBhcnNlRmxvYXQoTCk6ImxheW91dCI9PVEmJihYPUwpfX19aWYobnVsbD09YltUXSl0aHJvdyBFcnJvcihteFJlc291cmNlcy5nZXQoImludmFsaWRPck1pc3NpbmdGaWxlIikpO2Zvcih2YXIgamE9dGhpcy5lZGl0b3IuY3N2VG9BcnJheShiW1RdKSxRPWNhPW51bGwsTD1bXSxQPTA7UDxqYS5sZW5ndGg7UCsrKXo9PWphW1BdJiYoY2E9UCksRT09amFbUF0mJihRPVApLEwucHVzaChteFV0aWxzLnRyaW0oamFbUF0pLnJlcGxhY2UoL1teYS16MC05XSsvaWcsIl8iKS5yZXBsYWNlKC9eXGQrLywiIikucmVwbGFjZSgvXyskLywiIikpO251bGw9PVomJihaPSIlIitMWzBdKyIlIik7aWYobnVsbCE9CmFhKWZvcih2YXIgUz0wO1M8YWEubGVuZ3RoO1MrKyludWxsPT1rW2FhW1NdLnRvXSYmKGtbYWFbU10udG9dPXt9KTt6PVtdO2ZvcihQPVQrMTtQPGIubGVuZ3RoO1ArKyl7dmFyIGlhPXRoaXMuZWRpdG9yLmNzdlRvQXJyYXkoYltQXSk7aWYobnVsbD09aWEpe3ZhciByYT00MDxiW1BdLmxlbmd0aD9iW1BdLnN1YnN0cmluZygwLDQwKSsiLi4uIjpiW1BdO3Rocm93IEVycm9yKHJhKyIgKCIrUCsiKTpcbiIrbXhSZXNvdXJjZXMuZ2V0KCJjb250YWluc1ZhbGlkYXRpb25FcnJvcnMiKSk7fTA8aWEubGVuZ3RoJiZ6LnB1c2goaWEpfUgubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKFA9MDtQPHoubGVuZ3RoO1ArKyl7dmFyIGlhPXpbUF0sTT1udWxsLG1hPW51bGwhPWNhP0craWFbY2FdOm51bGw7bnVsbCE9bWEmJihNPUgubW9kZWwuZ2V0Q2VsbChtYSkpO3ZhciBiPW51bGwhPU0sVz1uZXcgbXhDZWxsKFosbmV3IG14R2VvbWV0cnkoZmEsZWEsMCwwKSxtfHwid2hpdGVTcGFjZT13cmFwO2h0bWw9MTsiKTsKVy52ZXJ0ZXg9ITA7Vy5pZD1tYTtmb3IodmFyIFY9MDtWPGlhLmxlbmd0aDtWKyspSC5zZXRBdHRyaWJ1dGVGb3JDZWxsKFcsTFtWXSxpYVtWXSk7aWYobnVsbCE9RCYmbnVsbCE9Qil7dmFyIHBhPUJbVy5nZXRBdHRyaWJ1dGUoRCldO251bGwhPXBhJiZILmxhYmVsQ2hhbmdlZChXLHBhKX1pZihudWxsIT1BJiZudWxsIT1xKXt2YXIgc2E9cVtXLmdldEF0dHJpYnV0ZShBKV07bnVsbCE9c2EmJihXLnN0eWxlPXNhKX1ILnNldEF0dHJpYnV0ZUZvckNlbGwoVywicGxhY2Vob2xkZXJzIiwiMSIpO1cuc3R5bGU9SC5yZXBsYWNlUGxhY2Vob2xkZXJzKFcsVy5zdHlsZSk7YiYmKEgubW9kZWwuc2V0R2VvbWV0cnkoTSxXLmdlb21ldHJ5KSxILm1vZGVsLnNldFN0eWxlKE0sVy5zdHlsZSksMD5teFV0aWxzLmluZGV4T2YoZSxNKSYmZS5wdXNoKE0pKTtNPVc7aWYoIWIpZm9yKFM9MDtTPGFhLmxlbmd0aDtTKyspa1thYVtTXS50b11bTS5nZXRBdHRyaWJ1dGUoYWFbU10udG8pXT1NO251bGwhPQpnYSYmImxpbmsiIT1nYSYmKEguc2V0TGlua0ZvckNlbGwoTSxNLmdldEF0dHJpYnV0ZShnYSkpLEguc2V0QXR0cmlidXRlRm9yQ2VsbChNLGdhLG51bGwpKTtILmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgiY2VsbHNJbnNlcnRlZCIsImNlbGxzIixbTV0pKTt2YXIgaGE9dGhpcy5lZGl0b3IuZ3JhcGguZ2V0UHJlZmVycmVkU2l6ZUZvckNlbGwoTSk7TS52ZXJ0ZXgmJihudWxsIT1KJiZudWxsIT1NLmdldEF0dHJpYnV0ZShKKSYmKE0uZ2VvbWV0cnkueD1mYStwYXJzZUZsb2F0KE0uZ2V0QXR0cmlidXRlKEopKSksbnVsbCE9dSYmbnVsbCE9TS5nZXRBdHRyaWJ1dGUodSkmJihNLmdlb21ldHJ5Lnk9WStwYXJzZUZsb2F0KE0uZ2V0QXR0cmlidXRlKHUpKSksIkAiPT1GLmNoYXJBdCgwKSYmbnVsbCE9TS5nZXRBdHRyaWJ1dGUoRi5zdWJzdHJpbmcoMSkpP00uZ2VvbWV0cnkud2lkdGg9cGFyc2VGbG9hdChNLmdldEF0dHJpYnV0ZShGLnN1YnN0cmluZygxKSkpOk0uZ2VvbWV0cnkud2lkdGg9CiJhdXRvIj09Rj9oYS53aWR0aCtPOnBhcnNlRmxvYXQoRiksIkAiPT1JLmNoYXJBdCgwKSYmbnVsbCE9TS5nZXRBdHRyaWJ1dGUoSS5zdWJzdHJpbmcoMSkpP00uZ2VvbWV0cnkuaGVpZ2h0PXBhcnNlRmxvYXQoTS5nZXRBdHRyaWJ1dGUoSS5zdWJzdHJpbmcoMSkpKTpNLmdlb21ldHJ5LmhlaWdodD0iYXV0byI9PUk/aGEuaGVpZ2h0K086cGFyc2VGbG9hdChJKSxlYSs9TS5nZW9tZXRyeS5oZWlnaHQreSk7Yj8obnVsbD09ZlttYV0mJihmW21hXT1bXSksZlttYV0ucHVzaChNKSk6KEU9bnVsbCE9UT9ILm1vZGVsLmdldENlbGwoRytpYVtRXSk6bnVsbCxkLnB1c2goTSksbnVsbCE9RT8oRS5zdHlsZT1ILnJlcGxhY2VQbGFjZWhvbGRlcnMoRSxDKSxILmFkZENlbGwoTSxFKSk6ZS5wdXNoKEguYWRkQ2VsbChNKSkpfWZvcih2YXIgcWE9ZS5zbGljZSgpLG5hPWUuc2xpY2UoKSxTPTA7UzxhYS5sZW5ndGg7UysrKWZvcih2YXIgemE9YWFbU10sUD0wO1A8ZC5sZW5ndGg7UCsrKXt2YXIgTT0KZFtQXSxCYT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGIsYyl7dmFyIGQ9Yi5nZXRBdHRyaWJ1dGUoYy5mcm9tKTtpZihudWxsIT1kJiYoSC5zZXRBdHRyaWJ1dGVGb3JDZWxsKGIsYy5mcm9tLG51bGwpLCIiIT1kKSlmb3IodmFyIGQ9ZC5zcGxpdCgiLCIpLGU9MDtlPGQubGVuZ3RoO2UrKyl7dmFyIGY9a1tjLnRvXVtkW2VdXTtpZihudWxsIT1mKXt2YXIgZz1jLmxhYmVsO251bGwhPWMuZnJvbWxhYmVsJiYoZz0oYi5nZXRBdHRyaWJ1dGUoYy5mcm9tbGFiZWwpfHwiIikrKGd8fCIiKSk7bnVsbCE9Yy50b2xhYmVsJiYoZz0oZ3x8IiIpKyhmLmdldEF0dHJpYnV0ZShjLnRvbGFiZWwpfHwiIikpO3ZhciBsPSJ0YXJnZXQiPT1jLnBsYWNlaG9sZGVycz09IWMuaW52ZXJ0P2Y6YSxsPW51bGwhPWMuc3R5bGU/SC5yZXBsYWNlUGxhY2Vob2xkZXJzKGwsYy5zdHlsZSk6SC5jcmVhdGVDdXJyZW50RWRnZVN0eWxlKCksZz1ILmluc2VydEVkZ2UobnVsbCxudWxsLGd8fCIiLGMuaW52ZXJ0PwpmOmEsYy5pbnZlcnQ/YTpmLGwpO2lmKG51bGwhPWMubGFiZWxzKWZvcihsPTA7bDxjLmxhYmVscy5sZW5ndGg7bCsrKXt2YXIgbT1jLmxhYmVsc1tsXSxuPW5ldyBteENlbGwobS5sYWJlbHx8bCxuZXcgbXhHZW9tZXRyeShudWxsIT1tLng/bS54OjAsbnVsbCE9bS55P20ueTowLDAsMCksInJlc2l6YWJsZT0wO2h0bWw9MTsiKTtuLnZlcnRleD0hMDtuLmNvbm5lY3RhYmxlPSExO24uZ2VvbWV0cnkucmVsYXRpdmU9ITA7aWYobnVsbCE9bS5keHx8bnVsbCE9bS5keSluLmdlb21ldHJ5Lm9mZnNldD1uZXcgbXhQb2ludChudWxsIT1tLmR4P20uZHg6MCxudWxsIT1tLmR5P20uZHk6MCk7Zy5pbnNlcnQobil9bmEucHVzaChnKTtteFV0aWxzLnJlbW92ZShjLmludmVydD9hOmYscWEpfX19KTtCYShNLE0semEpO2lmKG51bGwhPWZbTS5pZF0pZm9yKFY9MDtWPGZbTS5pZF0ubGVuZ3RoO1YrKylCYShNLGZbTS5pZF1bVl0semEpfWlmKG51bGwhPWRhKWZvcihQPTA7UDxkLmxlbmd0aDtQKyspZm9yKE09CmRbUF0sVj0wO1Y8ZGEubGVuZ3RoO1YrKylILnNldEF0dHJpYnV0ZUZvckNlbGwoTSxteFV0aWxzLnRyaW0oZGFbVl0pLG51bGwpO2lmKDA8ZS5sZW5ndGgpe3ZhciBvYT1uZXcgbXhQYXJhbGxlbEVkZ2VMYXlvdXQoSCk7b2Euc3BhY2luZz1LO3ZhciB3YT1mdW5jdGlvbigpezA8b2Euc3BhY2luZyYmb2EuZXhlY3V0ZShILmdldERlZmF1bHRQYXJlbnQoKSk7Zm9yKHZhciBhPTA7YTxlLmxlbmd0aDthKyspe3ZhciBiPUguZ2V0Q2VsbEdlb21ldHJ5KGVbYV0pO2IueD1NYXRoLnJvdW5kKEguc25hcChiLngpKTtiLnk9TWF0aC5yb3VuZChILnNuYXAoYi55KSk7ImF1dG8iPT1GJiYoYi53aWR0aD1NYXRoLnJvdW5kKEguc25hcChiLndpZHRoKSkpOyJhdXRvIj09SSYmKGIuaGVpZ2h0PU1hdGgucm91bmQoSC5zbmFwKGIuaGVpZ2h0KSkpfX07aWYoIlsiPT1YLmNoYXJBdCgwKSl7dmFyIHhhPVI7SC52aWV3LnZhbGlkYXRlKCk7dGhpcy5leGVjdXRlTGF5b3V0TGlzdChKU09OLnBhcnNlKFgpLApmdW5jdGlvbigpe3dhKCk7eGEoKX0pO1I9bnVsbH1lbHNlIGlmKCJjaXJjbGUiPT1YKXt2YXIga2E9bmV3IG14Q2lyY2xlTGF5b3V0KEgpO2thLnJlc2V0RWRnZXM9ITE7dmFyIHRhPWthLmlzVmVydGV4SWdub3JlZDtrYS5pc1ZlcnRleElnbm9yZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRhLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8MD5teFV0aWxzLmluZGV4T2YoZSxhKX07dGhpcy5leGVjdXRlTGF5b3V0KGZ1bmN0aW9uKCl7a2EuZXhlY3V0ZShILmdldERlZmF1bHRQYXJlbnQoKSk7d2EoKX0sITAsUik7Uj1udWxsfWVsc2UgaWYoImhvcml6b250YWx0cmVlIj09WHx8InZlcnRpY2FsdHJlZSI9PVh8fCJhdXRvIj09WCYmbmEubGVuZ3RoPT0yKmUubGVuZ3RoLTEmJjE9PXFhLmxlbmd0aCl7SC52aWV3LnZhbGlkYXRlKCk7dmFyIEFhPW5ldyBteENvbXBhY3RUcmVlTGF5b3V0KEgsImhvcml6b250YWx0cmVlIj09WCk7QWEubGV2ZWxEaXN0YW5jZT15O0FhLmVkZ2VSb3V0aW5nPSExO0FhLnJlc2V0RWRnZXM9CiExO3RoaXMuZXhlY3V0ZUxheW91dChmdW5jdGlvbigpe0FhLmV4ZWN1dGUoSC5nZXREZWZhdWx0UGFyZW50KCksMDxxYS5sZW5ndGg/cWFbMF06bnVsbCl9LCEwLFIpO1I9bnVsbH1lbHNlIGlmKCJob3Jpem9udGFsZmxvdyI9PVh8fCJ2ZXJ0aWNhbGZsb3ciPT1YfHwiYXV0byI9PVgmJjE9PXFhLmxlbmd0aCl7SC52aWV3LnZhbGlkYXRlKCk7dmFyIHVhPW5ldyBteEhpZXJhcmNoaWNhbExheW91dChILCJob3Jpem9udGFsZmxvdyI9PVg/bXhDb25zdGFudHMuRElSRUNUSU9OX1dFU1Q6bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIKTt1YS5pbnRyYUNlbGxTcGFjaW5nPXk7dWEucGFyYWxsZWxFZGdlU3BhY2luZz1LO3VhLmludGVyUmFua0NlbGxTcGFjaW5nPU47dWEuZGlzYWJsZUVkZ2VTdHlsZT0hMTt0aGlzLmV4ZWN1dGVMYXlvdXQoZnVuY3Rpb24oKXt1YS5leGVjdXRlKEguZ2V0RGVmYXVsdFBhcmVudCgpLG5hKTtILm1vdmVDZWxscyhuYSxmYSxZKX0sITAsUik7Uj1udWxsfWVsc2UgaWYoIm9yZ2FuaWMiPT0KWHx8ImF1dG8iPT1YJiZuYS5sZW5ndGg+ZS5sZW5ndGgpe0gudmlldy52YWxpZGF0ZSgpO3ZhciBsYT1uZXcgbXhGYXN0T3JnYW5pY0xheW91dChIKTtsYS5mb3JjZUNvbnN0YW50PTMqeTtsYS5yZXNldEVkZ2VzPSExO3ZhciBJYT1sYS5pc1ZlcnRleElnbm9yZWQ7bGEuaXNWZXJ0ZXhJZ25vcmVkPWZ1bmN0aW9uKGEpe3JldHVybiBJYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fDA+bXhVdGlscy5pbmRleE9mKGUsYSl9O29hPW5ldyBteFBhcmFsbGVsRWRnZUxheW91dChIKTtvYS5zcGFjaW5nPUs7dGhpcy5leGVjdXRlTGF5b3V0KGZ1bmN0aW9uKCl7bGEuZXhlY3V0ZShILmdldERlZmF1bHRQYXJlbnQoKSk7d2EoKX0sITAsUik7Uj1udWxsfX10aGlzLmhpZGVEaWFsb2coKX1maW5hbGx5e0gubW9kZWwuZW5kVXBkYXRlKCl9bnVsbCE9UiYmUigpfX1jYXRjaChKYSl7dGhpcy5oYW5kbGVFcnJvcihKYSl9fTtFZGl0b3JVaS5wcm90b3R5cGUuZ2V0U2VhcmNoPWZ1bmN0aW9uKGEpe3ZhciBiPQoiIjtpZigiMSIhPXVybFBhcmFtcy5vZmZsaW5lJiYiMSIhPXVybFBhcmFtcy5kZW1vJiZudWxsIT1hJiYwPHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gubGVuZ3RoKXt2YXIgYz0iPyIsZDtmb3IoZCBpbiB1cmxQYXJhbXMpMD5teFV0aWxzLmluZGV4T2YoYSxkKSYmbnVsbCE9dXJsUGFyYW1zW2RdJiYoYis9YytkKyI9Iit1cmxQYXJhbXNbZF0sYz0iJiIpfWVsc2UgYj13aW5kb3cubG9jYXRpb24uc2VhcmNoO3JldHVybiBifTtFZGl0b3JVaS5wcm90b3R5cGUuZ2V0VXJsPWZ1bmN0aW9uKGEpe2E9bnVsbCE9YT9hOndpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTt2YXIgYj0wPGEuaW5kZXhPZigiPyIpPzE6MDtpZigiMSI9PXVybFBhcmFtcy5vZmZsaW5lKWErPXdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7ZWxzZXt2YXIgYz0idG1wIGxpYnMgY2xpYnMgc3RhdGUgZmlsZUlkIGNvZGUgc2hhcmUgbm90aXRsZSBkYXRhIHVybCBlbWJlZCBjbGllbnQgY3JlYXRlIHRpdGxlIHNwbGFzaCIuc3BsaXQoIiAiKSwKZDtmb3IoZCBpbiB1cmxQYXJhbXMpMD5teFV0aWxzLmluZGV4T2YoYyxkKSYmKGE9MD09Yj9hKyI/IjphKyImIixudWxsIT11cmxQYXJhbXNbZF0mJihhKz1kKyI9Iit1cmxQYXJhbXNbZF0sYisrKSl9cmV0dXJuIGF9O0VkaXRvclVpLnByb3RvdHlwZS5zaG93TGlua0RpYWxvZz1mdW5jdGlvbihhLGMsZCl7YT1uZXcgTGlua0RpYWxvZyh0aGlzLGEsYyxkLCEwKTt0aGlzLnNob3dEaWFsb2coYS5jb250YWluZXIsNTYwLDEzMCwhMCwhMCk7YS5pbml0KCl9O3ZhciBtPUVkaXRvclVpLnByb3RvdHlwZS5jcmVhdGVPdXRsaW5lO0VkaXRvclVpLnByb3RvdHlwZS5jcmVhdGVPdXRsaW5lPWZ1bmN0aW9uKGEpe3ZhciBiPW0uYXBwbHkodGhpcyxhcmd1bWVudHMpLGM9dGhpcy5lZGl0b3IuZ3JhcGgsZD1iLmdldFNvdXJjZUdyYXBoQm91bmRzO2IuZ2V0U291cmNlR3JhcGhCb3VuZHM9ZnVuY3Rpb24oKXtpZihteFV0aWxzLmhhc1Njcm9sbGJhcnMoYy5jb250YWluZXIpJiZjLnBhZ2VWaXNpYmxlJiYKbnVsbCE9dGhpcy5zb3VyY2UubWluaW11bUdyYXBoU2l6ZSl7dmFyIGE9dGhpcy5zb3VyY2UuZ2V0UGFnZVBhZGRpbmcoKSxiPXRoaXMuc291cmNlLnZpZXcuc2NhbGU7cmV0dXJuIG5ldyBteFJlY3RhbmdsZSgwLDAsTWF0aC5jZWlsKHRoaXMuc291cmNlLm1pbmltdW1HcmFwaFNpemUud2lkdGgtMiphLngvYiksTWF0aC5jZWlsKHRoaXMuc291cmNlLm1pbmltdW1HcmFwaFNpemUuaGVpZ2h0LTIqYS55L2IpKX1yZXR1cm4gZC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3ZhciBmPWIuZ2V0U291cmNlQ29udGFpbmVyU2l6ZTtiLmdldFNvdXJjZUNvbnRhaW5lclNpemU9ZnVuY3Rpb24oKXtpZihteFV0aWxzLmhhc1Njcm9sbGJhcnMoYy5jb250YWluZXIpJiZudWxsIT10aGlzLnNvdXJjZS5taW5pbXVtR3JhcGhTaXplKXt2YXIgYT10aGlzLnNvdXJjZS5nZXRQYWdlUGFkZGluZygpLGI9dGhpcy5zb3VyY2Uudmlldy5zY2FsZTtyZXR1cm4gbmV3IG14UmVjdGFuZ2xlKDAsMCxNYXRoLmNlaWwodGhpcy5zb3VyY2UubWluaW11bUdyYXBoU2l6ZS53aWR0aCoKYi0yKmEueCksTWF0aC5jZWlsKHRoaXMuc291cmNlLm1pbmltdW1HcmFwaFNpemUuaGVpZ2h0KmItMiphLnkpKX1yZXR1cm4gZi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2IuZ2V0T3V0bGluZU9mZnNldD1mdW5jdGlvbihhKXtpZihteFV0aWxzLmhhc1Njcm9sbGJhcnMoYy5jb250YWluZXIpJiZudWxsIT10aGlzLnNvdXJjZS5taW5pbXVtR3JhcGhTaXplKXt2YXIgZD10aGlzLnNvdXJjZS5nZXRQYWdlUGFkZGluZygpO3JldHVybiBuZXcgbXhQb2ludChNYXRoLnJvdW5kKE1hdGgubWF4KDAsKGIub3V0bGluZS5jb250YWluZXIuY2xpZW50V2lkdGgvYS0odGhpcy5zb3VyY2UubWluaW11bUdyYXBoU2l6ZS53aWR0aC0yKmQueCkpLzIpLWQueCksTWF0aC5yb3VuZChNYXRoLm1heCgwLChiLm91dGxpbmUuY29udGFpbmVyLmNsaWVudEhlaWdodC9hLSh0aGlzLnNvdXJjZS5taW5pbXVtR3JhcGhTaXplLmhlaWdodC0yKmQueSkpLzIpLWQueS01L2EpKX1yZXR1cm4gbmV3IG14UG9pbnQoOC8KYSw4L2EpfTt2YXIgaz1iLmluaXQ7Yi5pbml0PWZ1bmN0aW9uKCl7ay5hcHBseSh0aGlzLGFyZ3VtZW50cyk7Yi5vdXRsaW5lLnZpZXcuZ2V0QmFja2dyb3VuZFBhZ2VCb3VuZHM9ZnVuY3Rpb24oKXt2YXIgYT1jLmdldFBhZ2VMYXlvdXQoKSxiPWMuZ2V0UGFnZVNpemUoKTtyZXR1cm4gbmV3IG14UmVjdGFuZ2xlKHRoaXMuc2NhbGUqKHRoaXMudHJhbnNsYXRlLngrYS54KmIud2lkdGgpLHRoaXMuc2NhbGUqKHRoaXMudHJhbnNsYXRlLnkrYS55KmIuaGVpZ2h0KSx0aGlzLnNjYWxlKmEud2lkdGgqYi53aWR0aCx0aGlzLnNjYWxlKmEuaGVpZ2h0KmIuaGVpZ2h0KX07Yi5vdXRsaW5lLnZpZXcudmFsaWRhdGVCYWNrZ3JvdW5kUGFnZSgpfTt0aGlzLmVkaXRvci5hZGRMaXN0ZW5lcigicGFnZVNlbGVjdGVkIixmdW5jdGlvbihhLGMpe3ZhciBkPWMuZ2V0UHJvcGVydHkoImNoYW5nZSIpLGU9Yi5zb3VyY2UsZj1iLm91dGxpbmU7Zi5wYWdlU2NhbGU9ZS5wYWdlU2NhbGU7Zi5wYWdlRm9ybWF0PQplLnBhZ2VGb3JtYXQ7Zi5iYWNrZ3JvdW5kPWUuYmFja2dyb3VuZDtmLnBhZ2VWaXNpYmxlPWUucGFnZVZpc2libGU7Zi5iYWNrZ3JvdW5kPWUuYmFja2dyb3VuZDt2YXIgZz1teFV0aWxzLmdldEN1cnJlbnRTdHlsZShlLmNvbnRhaW5lcik7Zi5jb250YWluZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yPWcuYmFja2dyb3VuZENvbG9yO251bGwhPWUudmlldy5iYWNrZ3JvdW5kUGFnZVNoYXBlJiZudWxsIT1mLnZpZXcuYmFja2dyb3VuZFBhZ2VTaGFwZSYmKGYudmlldy5iYWNrZ3JvdW5kUGFnZVNoYXBlLmZpbGw9ZS52aWV3LmJhY2tncm91bmRQYWdlU2hhcGUuZmlsbCk7Yi5vdXRsaW5lLnZpZXcuY2xlYXIoZC5wcmV2aW91c1BhZ2Uucm9vdCwhMCk7Yi5vdXRsaW5lLnZpZXcudmFsaWRhdGUoKX0pO3JldHVybiBifTtFZGl0b3JVaS5wcm90b3R5cGUuZ2V0U2VydmljZUNvdW50PWZ1bmN0aW9uKGEsYyl7dmFyIGI9MTtudWxsPT10aGlzLmRyaXZlJiYiZnVuY3Rpb24iIT09dHlwZW9mIHdpbmRvdy5Ecml2ZUNsaWVudHx8CmIrKztjfHxudWxsPT10aGlzLmRyb3Bib3gmJiJmdW5jdGlvbiIhPT10eXBlb2Ygd2luZG93LkRyb3Bib3hDbGllbnR8fGIrKztudWxsPT10aGlzLm9uZURyaXZlJiYiZnVuY3Rpb24iIT09dHlwZW9mIHdpbmRvdy5PbmVEcml2ZUNsaWVudHx8YisrO2N8fG51bGw9PXRoaXMuZ2l0SHVifHxiKys7Y3x8bnVsbD09dGhpcy5naXRMYWJ8fGIrKztjJiZhJiZpc0xvY2FsU3RvcmFnZSYmIjEiPT11cmxQYXJhbXMuYnJvd3NlciYmYisrO3JldHVybiBifTtFZGl0b3JVaS5wcm90b3R5cGUudXBkYXRlVWk9ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZUJ1dHRvbkNvbnRhaW5lcigpO3RoaXMudXBkYXRlQWN0aW9uU3RhdGVzKCk7dmFyIGE9dGhpcy5nZXRDdXJyZW50RmlsZSgpLGM9bnVsbCE9YXx8IjEiPT11cmxQYXJhbXMuZW1iZWQmJnRoaXMuZWRpdG9yLmdyYXBoLmlzRW5hYmxlZCgpO3RoaXMubWVudXMuZ2V0KCJ2aWV3UGFuZWxzIikuc2V0RW5hYmxlZChjKTt0aGlzLm1lbnVzLmdldCgidmlld1pvb20iKS5zZXRFbmFibGVkKGMpOwp2YXIgZD0oIjEiIT11cmxQYXJhbXMuZW1iZWR8fCF0aGlzLmVkaXRvci5ncmFwaC5pc0VuYWJsZWQoKSkmJihudWxsPT1hfHxhLmlzUmVzdHJpY3RlZCgpKTt0aGlzLmFjdGlvbnMuZ2V0KCJtYWtlQ29weSIpLnNldEVuYWJsZWQoIWQpO3RoaXMuYWN0aW9ucy5nZXQoInByaW50Iikuc2V0RW5hYmxlZCghZCk7dGhpcy5tZW51cy5nZXQoImV4cG9ydEFzIikuc2V0RW5hYmxlZCghZCk7dGhpcy5tZW51cy5nZXQoImVtYmVkIikuc2V0RW5hYmxlZCghZCk7ZD0iMSIhPXVybFBhcmFtcy5lbWJlZHx8dGhpcy5lZGl0b3IuZ3JhcGguaXNFbmFibGVkKCk7dGhpcy5tZW51cy5nZXQoImV4dHJhcyIpLnNldEVuYWJsZWQoZCk7RWRpdG9yLmVuYWJsZUN1c3RvbUxpYnJhcmllcyYmKHRoaXMubWVudXMuZ2V0KCJvcGVuTGlicmFyeUZyb20iKS5zZXRFbmFibGVkKGQpLHRoaXMubWVudXMuZ2V0KCJuZXdMaWJyYXJ5Iikuc2V0RW5hYmxlZChkKSk7YT0iMSI9PXVybFBhcmFtcy5lbWJlZCYmdGhpcy5lZGl0b3IuZ3JhcGguaXNFbmFibGVkKCl8fApudWxsIT1hJiZhLmlzRWRpdGFibGUoKTt0aGlzLmFjdGlvbnMuZ2V0KCJpbWFnZSIpLnNldEVuYWJsZWQoYyk7dGhpcy5hY3Rpb25zLmdldCgiem9vbUluIikuc2V0RW5hYmxlZChjKTt0aGlzLmFjdGlvbnMuZ2V0KCJ6b29tT3V0Iikuc2V0RW5hYmxlZChjKTt0aGlzLmFjdGlvbnMuZ2V0KCJyZXNldFZpZXciKS5zZXRFbmFibGVkKGMpO3RoaXMuYWN0aW9ucy5nZXQoInVuZG8iKS5zZXRFbmFibGVkKHRoaXMuY2FuVW5kbygpJiZhKTt0aGlzLmFjdGlvbnMuZ2V0KCJyZWRvIikuc2V0RW5hYmxlZCh0aGlzLmNhblJlZG8oKSYmYSk7dGhpcy5tZW51cy5nZXQoImVkaXQiKS5zZXRFbmFibGVkKGMpO3RoaXMubWVudXMuZ2V0KCJ2aWV3Iikuc2V0RW5hYmxlZChjKTt0aGlzLm1lbnVzLmdldCgiaW1wb3J0RnJvbSIpLnNldEVuYWJsZWQoYSk7dGhpcy5tZW51cy5nZXQoImFycmFuZ2UiKS5zZXRFbmFibGVkKGEpO251bGwhPXRoaXMudG9vbGJhciYmKG51bGwhPXRoaXMudG9vbGJhci5lZGdlU2hhcGVNZW51JiYKdGhpcy50b29sYmFyLmVkZ2VTaGFwZU1lbnUuc2V0RW5hYmxlZChhKSxudWxsIT10aGlzLnRvb2xiYXIuZWRnZVN0eWxlTWVudSYmdGhpcy50b29sYmFyLmVkZ2VTdHlsZU1lbnUuc2V0RW5hYmxlZChhKSk7dGhpcy51cGRhdGVVc2VyRWxlbWVudCgpfTtFZGl0b3JVaS5wcm90b3R5cGUudXBkYXRlQnV0dG9uQ29udGFpbmVyPWZ1bmN0aW9uKCl7fTtFZGl0b3JVaS5wcm90b3R5cGUudXBkYXRlVXNlckVsZW1lbnQ9ZnVuY3Rpb24oKXt9O0VkaXRvclVpLnByb3RvdHlwZS5zY2hlZHVsZVNhbml0eUNoZWNrPWZ1bmN0aW9uKCl7fTtFZGl0b3JVaS5wcm90b3R5cGUuc3RvcFNhbml0eUNoZWNrPWZ1bmN0aW9uKCl7fTtFZGl0b3JVaS5wcm90b3R5cGUuaXNEaWFncmFtQWN0aXZlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRDdXJyZW50RmlsZSgpO3JldHVybiBudWxsIT1hJiZhLmlzRWRpdGFibGUoKXx8IjEiPT11cmxQYXJhbXMuZW1iZWQmJnRoaXMuZWRpdG9yLmdyYXBoLmlzRW5hYmxlZCgpfTsKdmFyIGs9RWRpdG9yVWkucHJvdG90eXBlLnVwZGF0ZUFjdGlvblN0YXRlcztFZGl0b3JVaS5wcm90b3R5cGUudXBkYXRlQWN0aW9uU3RhdGVzPWZ1bmN0aW9uKCl7ay5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGE9dGhpcy5lZGl0b3IuZ3JhcGgsYz10aGlzLmlzRGlhZ3JhbUFjdGl2ZSgpLGQ9dGhpcy5nZXRDdXJyZW50RmlsZSgpO3RoaXMuYWN0aW9ucy5nZXQoInBhZ2VTZXR1cCIpLnNldEVuYWJsZWQoYyk7dGhpcy5hY3Rpb25zLmdldCgiYXV0b3NhdmUiKS5zZXRFbmFibGVkKG51bGwhPWQmJmQuaXNFZGl0YWJsZSgpJiZkLmlzQXV0b3NhdmVPcHRpb25hbCgpKTt0aGlzLmFjdGlvbnMuZ2V0KCJndWlkZXMiKS5zZXRFbmFibGVkKGMpO3RoaXMuYWN0aW9ucy5nZXQoImVkaXREYXRhIikuc2V0RW5hYmxlZChjKTt0aGlzLmFjdGlvbnMuZ2V0KCJzaGFkb3dWaXNpYmxlIikuc2V0RW5hYmxlZChjKTt0aGlzLmFjdGlvbnMuZ2V0KCJjb25uZWN0aW9uQXJyb3dzIikuc2V0RW5hYmxlZChjKTsKdGhpcy5hY3Rpb25zLmdldCgiY29ubmVjdGlvblBvaW50cyIpLnNldEVuYWJsZWQoYyk7dGhpcy5hY3Rpb25zLmdldCgiY29weVN0eWxlIikuc2V0RW5hYmxlZChjJiYhYS5pc1NlbGVjdGlvbkVtcHR5KCkpO3RoaXMuYWN0aW9ucy5nZXQoInBhc3RlU3R5bGUiKS5zZXRFbmFibGVkKGMmJiFhLmlzU2VsZWN0aW9uRW1wdHkoKSk7dGhpcy5hY3Rpb25zLmdldCgiZWRpdEdlb21ldHJ5Iikuc2V0RW5hYmxlZChhLmdldE1vZGVsKCkuaXNWZXJ0ZXgoYS5nZXRTZWxlY3Rpb25DZWxsKCkpKTt0aGlzLmFjdGlvbnMuZ2V0KCJjcmVhdGVTaGFwZSIpLnNldEVuYWJsZWQoYyk7dGhpcy5hY3Rpb25zLmdldCgiY3JlYXRlUmV2aXNpb24iKS5zZXRFbmFibGVkKGMpO3RoaXMuYWN0aW9ucy5nZXQoIm1vdmVUb0ZvbGRlciIpLnNldEVuYWJsZWQobnVsbCE9ZCk7dGhpcy5hY3Rpb25zLmdldCgibWFrZUNvcHkiKS5zZXRFbmFibGVkKG51bGwhPWQmJiFkLmlzUmVzdHJpY3RlZCgpKTt0aGlzLmFjdGlvbnMuZ2V0KCJlZGl0RGlhZ3JhbSIpLnNldEVuYWJsZWQoYyYmCihudWxsPT1kfHwhZC5pc1Jlc3RyaWN0ZWQoKSkpO3RoaXMuYWN0aW9ucy5nZXQoInB1Ymxpc2hMaW5rIikuc2V0RW5hYmxlZChudWxsIT1kJiYhZC5pc1Jlc3RyaWN0ZWQoKSk7dGhpcy5hY3Rpb25zLmdldCgidGFncyIpLnNldEVuYWJsZWQoImhpZGRlbiIhPXRoaXMuZGlhZ3JhbUNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5KTt0aGlzLmFjdGlvbnMuZ2V0KCJmaW5kIikuc2V0RW5hYmxlZCgiaGlkZGVuIiE9dGhpcy5kaWFncmFtQ29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkpO3RoaXMuYWN0aW9ucy5nZXQoImxheWVycyIpLnNldEVuYWJsZWQoImhpZGRlbiIhPXRoaXMuZGlhZ3JhbUNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5KTt0aGlzLmFjdGlvbnMuZ2V0KCJvdXRsaW5lIikuc2V0RW5hYmxlZCgiaGlkZGVuIiE9dGhpcy5kaWFncmFtQ29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkpO3RoaXMuYWN0aW9ucy5nZXQoInJlbmFtZSIpLnNldEVuYWJsZWQobnVsbCE9ZCYmZC5pc1JlbmFtYWJsZSgpfHwKIjEiPT11cmxQYXJhbXMuZW1iZWQpO3RoaXMuYWN0aW9ucy5nZXQoImNsb3NlIikuc2V0RW5hYmxlZChudWxsIT1kKTt0aGlzLm1lbnVzLmdldCgicHVibGlzaCIpLnNldEVuYWJsZWQobnVsbCE9ZCYmIWQuaXNSZXN0cmljdGVkKCkpO2E9YS52aWV3LmdldFN0YXRlKGEuZ2V0U2VsZWN0aW9uQ2VsbCgpKTt0aGlzLmFjdGlvbnMuZ2V0KCJlZGl0U2hhcGUiKS5zZXRFbmFibGVkKGMmJm51bGwhPWEmJm51bGwhPWEuc2hhcGUmJm51bGwhPWEuc2hhcGUuc3RlbmNpbCl9O3ZhciBxPUVkaXRvclVpLnByb3RvdHlwZS5kZXN0cm95O0VkaXRvclVpLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5leHBvcnREaWFsb2cmJih0aGlzLmV4cG9ydERpYWxvZy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZXhwb3J0RGlhbG9nKSx0aGlzLmV4cG9ydERpYWxvZz1udWxsKTtxLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07bnVsbCE9d2luZG93LkV4cG9ydERpYWxvZyYmKEV4cG9ydERpYWxvZy5zaG93WG1sT3B0aW9uPQohMSxFeHBvcnREaWFsb2cuc2hvd0dpZk9wdGlvbj0hMSxFeHBvcnREaWFsb2cuZXhwb3J0RmlsZT1mdW5jdGlvbihhLGMsZCxmLGssbSxxKXt2YXIgYj1hLmVkaXRvci5ncmFwaDtpZigieG1sIj09ZClhLmhpZGVEaWFsb2coKSxhLnNhdmVEYXRhKGMsInhtbCIsbXhVdGlscy5nZXRYbWwoYS5lZGl0b3IuZ2V0R3JhcGhYbWwoKSksInRleHQveG1sIik7ZWxzZSBpZigic3ZnIj09ZClhLmhpZGVEaWFsb2coKSxhLnNhdmVEYXRhKGMsInN2ZyIsbXhVdGlscy5nZXRYbWwoYi5nZXRTdmcoZixrLG0pKSwiaW1hZ2Uvc3ZnK3htbCIpO2Vsc2V7dmFyIGU9YS5nZXRGaWxlRGF0YSghMCxudWxsLG51bGwsbnVsbCxudWxsLCEwKSxnPWIuZ2V0R3JhcGhCb3VuZHMoKSxsPU1hdGguZmxvb3IoZy53aWR0aCprL2Iudmlldy5zY2FsZSksbj1NYXRoLmZsb29yKGcuaGVpZ2h0KmsvYi52aWV3LnNjYWxlKTtpZihlLmxlbmd0aDw9TUFYX1JFUVVFU1RfU0laRSYmbCpuPE1BWF9BUkVBKWlmKGEuaGlkZURpYWxvZygpLAoicG5nIiE9ZCYmImpwZyIhPWQmJiJqcGVnIiE9ZHx8IWEuaXNFeHBvcnRUb0NhbnZhcygpKXt2YXIgcD17Z2xvYmFsVmFyczpiLmdldEV4cG9ydFZhcmlhYmxlcygpfTthLnNhdmVSZXF1ZXN0KGMsZCxmdW5jdGlvbihhLGIpe3JldHVybiBuZXcgbXhYbWxSZXF1ZXN0KEVYUE9SVF9VUkwsImZvcm1hdD0iK2QrIiZiYXNlNjQ9IisoYnx8IjAiKSsobnVsbCE9YT8iJmZpbGVuYW1lPSIrZW5jb2RlVVJJQ29tcG9uZW50KGEpOiIiKSsiJmV4dHJhcz0iK2VuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShwKSkrKDA8cT8iJmRwaT0iK3E6IiIpKyImYmc9IisobnVsbCE9Zj9mOiJub25lIikrIiZ3PSIrbCsiJmg9IituKyImYm9yZGVyPSIrbSsiJnhtbD0iK2VuY29kZVVSSUNvbXBvbmVudChlKSl9KX1lbHNlInBuZyI9PWQ/YS5leHBvcnRJbWFnZShrLG51bGw9PWZ8fCJub25lIj09ZiwhMCwhMSwhMSxtLCEwLCExLG51bGwsbnVsbCxxKTphLmV4cG9ydEltYWdlKGssITEsITAsITEsCiExLG0sITAsITEsImpwZWciKTtlbHNlIG14VXRpbHMuYWxlcnQobXhSZXNvdXJjZXMuZ2V0KCJkcmF3aW5nVG9vTGFyZ2UiKSl9fSk7RWRpdG9yVWkucHJvdG90eXBlLmdldERpYWdyYW1UZXh0Q29udGVudD1mdW5jdGlvbigpe3RoaXMuZWRpdG9yLmdyYXBoLnNldEVuYWJsZWQoITEpO3ZhciBhPXRoaXMuZWRpdG9yLmdyYXBoLGM9IiI7aWYobnVsbCE9dGhpcy5wYWdlcylmb3IodmFyIGQ9MDtkPHRoaXMucGFnZXMubGVuZ3RoO2QrKyl7dmFyIGY9YTt0aGlzLmN1cnJlbnRQYWdlIT10aGlzLnBhZ2VzW2RdJiYoZj10aGlzLmNyZWF0ZVRlbXBvcmFyeUdyYXBoKGEuZ2V0U3R5bGVzaGVldCgpKSx0aGlzLnVwZGF0ZVBhZ2VSb290KHRoaXMucGFnZXNbZF0pLGYubW9kZWwuc2V0Um9vdCh0aGlzLnBhZ2VzW2RdLnJvb3QpKTtjKz10aGlzLnBhZ2VzW2RdLmdldE5hbWUoKSsiICIrZi5nZXRJbmRleGFibGVUZXh0KCkrIiAifWVsc2UgYz1hLmdldEluZGV4YWJsZVRleHQoKTt0aGlzLmVkaXRvci5ncmFwaC5zZXRFbmFibGVkKCEwKTsKcmV0dXJuIGN9O0VkaXRvclVpLnByb3RvdHlwZS5zaG93UmVtb3RlbHlTdG9yZWRMaWJyYXJ5PWZ1bmN0aW9uKGEpe3ZhciBiPXt9LGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Yy5zdHlsZS53aGl0ZVNwYWNlPSJub3dyYXAiO3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImgzIik7bXhVdGlscy53cml0ZShkLG14VXRpbHMuaHRtbEVudGl0aWVzKGEpKTtkLnN0eWxlLmNzc1RleHQ9IndpZHRoOjEwMCU7dGV4dC1hbGlnbjpjZW50ZXI7bWFyZ2luLXRvcDowcHg7bWFyZ2luLWJvdHRvbToxMnB4IjtjLmFwcGVuZENoaWxkKGQpO3ZhciBmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Yuc3R5bGUuY3NzVGV4dD0iYm9yZGVyOjFweCBzb2xpZCBsaWdodEdyYXk7b3ZlcmZsb3c6IGF1dG87aGVpZ2h0OjMwMHB4IjtmLmlubmVySFRNTD0nPGRpdiBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXI7cGFkZGluZzo4cHg7Ij48aW1nIHNyYz0iL2ltYWdlcy9zcGluLmdpZiI+PC9kaXY+JzsKdmFyIGs9e307dHJ5e3ZhciBtPW14U2V0dGluZ3MuZ2V0Q3VzdG9tTGlicmFyaWVzKCk7Zm9yKGE9MDthPG0ubGVuZ3RoO2ErKyl7dmFyIHE9bVthXTtpZigiUiI9PXEuc3Vic3RyaW5nKDAsMSkpe3ZhciB4PUpTT04ucGFyc2UoZGVjb2RlVVJJQ29tcG9uZW50KHEuc3Vic3RyaW5nKDEpKSk7a1t4WzBdXT17aWQ6eFswXSx0aXRsZTp4WzFdLGRvd25sb2FkVXJsOnhbMl19fX19Y2F0Y2goQSl7fXRoaXMucmVtb3RlSW52b2tlKCJnZXRDdXN0b21MaWJyYXJpZXMiLG51bGwsbnVsbCxmdW5jdGlvbihhKXtmLmlubmVySFRNTD0iIjtpZigwPT1hLmxlbmd0aClmLmlubmVySFRNTD0nPGRpdiBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXI7cGFkZGluZy10b3A6MjBweDtjb2xvcjpncmF5OyI+JytteFV0aWxzLmh0bWxFbnRpdGllcyhteFJlc291cmNlcy5nZXQoIm5vTGlicmFyaWVzIikpKyI8L2Rpdj4iO2Vsc2UgZm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBkPWFbY107a1tkLmlkXSYmCihiW2QuaWRdPWQpO3ZhciBlPXRoaXMuYWRkQ2hlY2tib3goZixkLnRpdGxlLGtbZC5pZF0pOyhmdW5jdGlvbihhLGMpe214RXZlbnQuYWRkTGlzdGVuZXIoYywiY2hhbmdlIixmdW5jdGlvbigpe3RoaXMuY2hlY2tlZD9iW2EuaWRdPWE6ZGVsZXRlIGJbYS5pZF19KX0pKGQsZSl9fSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtmLmlubmVySFRNTD0iIjt2YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtiLnN0eWxlLnBhZGRpbmc9IjhweCI7Yi5zdHlsZS50ZXh0QWxpZ249ImNlbnRlciI7bXhVdGlscy53cml0ZShiLG14UmVzb3VyY2VzLmdldCgiZXJyb3IiKSsiOiAiKTtteFV0aWxzLndyaXRlKGIsbnVsbCE9YSYmbnVsbCE9YS5tZXNzYWdlP2EubWVzc2FnZTpteFJlc291cmNlcy5nZXQoInVua25vd25FcnJvciIpKTtmLmFwcGVuZENoaWxkKGIpfSkpO2MuYXBwZW5kQ2hpbGQoZik7Yz1uZXcgQ3VzdG9tRGlhbG9nKHRoaXMsYyxteFV0aWxzLmJpbmQodGhpcywKZnVuY3Rpb24oKXt0aGlzLnNwaW5uZXIuc3Bpbihkb2N1bWVudC5ib2R5LG14UmVzb3VyY2VzLmdldCgibG9hZGluZyIpKTt2YXIgYT0wLGM7Zm9yKGMgaW4gYiludWxsPT1rW2NdJiYoYSsrLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe3RoaXMucmVtb3RlSW52b2tlKCJnZXRGaWxlQ29udGVudCIsW2IuZG93bmxvYWRVcmxdLG51bGwsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYyl7YS0tOzA9PWEmJnRoaXMuc3Bpbm5lci5zdG9wKCk7dHJ5e3RoaXMubG9hZExpYnJhcnkobmV3IFJlbW90ZUxpYnJhcnkodGhpcyxjLGIpKX1jYXRjaCh6KXt0aGlzLmhhbmRsZUVycm9yKHosbXhSZXNvdXJjZXMuZ2V0KCJlcnJvckxvYWRpbmdGaWxlIikpfX0pLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7YS0tOzA9PWEmJnRoaXMuc3Bpbm5lci5zdG9wKCk7dGhpcy5oYW5kbGVFcnJvcihudWxsLG14UmVzb3VyY2VzLmdldCgiZXJyb3JMb2FkaW5nRmlsZSIpKX0pKX0pKGJbY10pKTsKZm9yKGMgaW4gayliW2NdfHx0aGlzLmNsb3NlTGlicmFyeShuZXcgUmVtb3RlTGlicmFyeSh0aGlzLG51bGwsa1tjXSkpOzA9PWEmJnRoaXMuc3Bpbm5lci5zdG9wKCl9KSxudWxsLG51bGwsImh0dHBzOi8vZGVzay5kcmF3LmlvL3N1cHBvcnQvc29sdXRpb25zL2FydGljbGVzLzE2MDAwMDkyNzYzIik7dGhpcy5zaG93RGlhbG9nKGMuY29udGFpbmVyLDM0MCwzNzUsITAsITAsbnVsbCxudWxsLG51bGwsbnVsbCwhMCl9O0VkaXRvclVpLnByb3RvdHlwZS5yZW1vdGVJbnZva2FibGVGbnM9e2dldERpYWdyYW1UZXh0Q29udGVudDp7aXNBc3luYzohMX0sZ2V0TG9jYWxTdG9yYWdlRmlsZTp7aXNBc3luYzohMSxhbGxvd2VkRG9tYWluczpbImFwcC5kaWFncmFtcy5uZXQiXX0sZ2V0TG9jYWxTdG9yYWdlRmlsZU5hbWVzOntpc0FzeW5jOiExLGFsbG93ZWREb21haW5zOlsiYXBwLmRpYWdyYW1zLm5ldCJdfSxzZXRNaWdyYXRlZEZsYWc6e2lzQXN5bmM6ITEsYWxsb3dlZERvbWFpbnM6WyJhcHAuZGlhZ3JhbXMubmV0Il19fTsKRWRpdG9yVWkucHJvdG90eXBlLnJlbW90ZUludm9rZUNhbGxiYWNrcz1bXTtFZGl0b3JVaS5wcm90b3R5cGUucmVtb3RlSW52b2tlUXVldWU9W107RWRpdG9yVWkucHJvdG90eXBlLmhhbmRsZVJlbW90ZUludm9rZVJlYWR5PWZ1bmN0aW9uKGEpe3RoaXMucmVtb3RlV2luPWE7Zm9yKHZhciBiPTA7Yjx0aGlzLnJlbW90ZUludm9rZVF1ZXVlLmxlbmd0aDtiKyspYS5wb3N0TWVzc2FnZSh0aGlzLnJlbW90ZUludm9rZVF1ZXVlW2JdLCIqIik7dGhpcy5yZW1vdGVJbnZva2VRdWV1ZT1bXX07RWRpdG9yVWkucHJvdG90eXBlLmhhbmRsZVJlbW90ZUludm9rZVJlc3BvbnNlPWZ1bmN0aW9uKGEpe3ZhciBiPWEubXNnTWFya2VycyxjPXRoaXMucmVtb3RlSW52b2tlQ2FsbGJhY2tzW2IuY2FsbGJhY2tJZF07aWYobnVsbD09Yyl0aHJvdyBFcnJvcigiTm8gY2FsbGJhY2sgZm9yICIrKG51bGwhPWI/Yi5jYWxsYmFja0lkOiJudWxsIikpO2EuZXJyb3I/Yy5lcnJvciYmYy5lcnJvcihhLmVycm9yLmVyclJlc3ApOgpjLmNhbGxiYWNrJiZjLmNhbGxiYWNrLmFwcGx5KHRoaXMsYS5yZXNwKTt0aGlzLnJlbW90ZUludm9rZUNhbGxiYWNrc1tiLmNhbGxiYWNrSWRdPW51bGx9O0VkaXRvclVpLnByb3RvdHlwZS5yZW1vdGVJbnZva2U9ZnVuY3Rpb24oYSxjLGQsZixrKXt2YXIgYj0hMCxlPXdpbmRvdy5zZXRUaW1lb3V0KG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7Yj0hMTtrKHtjb2RlOkFwcC5FUlJPUl9USU1FT1VULG1lc3NhZ2U6bXhSZXNvdXJjZXMuZ2V0KCJ0aW1lb3V0Iil9KX0pLHRoaXMudGltZW91dCksZz1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3dpbmRvdy5jbGVhclRpbWVvdXQoZSk7YiYmZi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KTtkPWR8fHt9O2QuY2FsbGJhY2tJZD10aGlzLnJlbW90ZUludm9rZUNhbGxiYWNrcy5sZW5ndGg7dGhpcy5yZW1vdGVJbnZva2VDYWxsYmFja3MucHVzaCh7Y2FsbGJhY2s6ZyxlcnJvcjprfSk7YT1KU09OLnN0cmluZ2lmeSh7ZXZlbnQ6InJlbW90ZUludm9rZSIsCmZ1bnRpb25OYW1lOmEsZnVuY3Rpb25BcmdzOmMsbXNnTWFya2VyczpkfSk7bnVsbCE9dGhpcy5yZW1vdGVXaW4/dGhpcy5yZW1vdGVXaW4ucG9zdE1lc3NhZ2UoYSwiKiIpOnRoaXMucmVtb3RlSW52b2tlUXVldWUucHVzaChhKX07RWRpdG9yVWkucHJvdG90eXBlLmhhbmRsZVJlbW90ZUludm9rZT1mdW5jdGlvbihhLGMpe3ZhciBiPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIsYyl7dmFyIGQ9e2V2ZW50OiJyZW1vdGVJbnZva2VSZXNwb25zZSIsbXNnTWFya2VyczphLm1zZ01hcmtlcnN9O251bGwhPWM/ZC5lcnJvcj17ZXJyUmVzcDpjfTpudWxsIT1iJiYoZC5yZXNwPWIpO3RoaXMucmVtb3RlV2luLnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KGQpLCIqIil9KTt0cnl7dmFyIGQ9YS5mdW50aW9uTmFtZSxlPXRoaXMucmVtb3RlSW52b2thYmxlRm5zW2RdO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PT10eXBlb2YgdGhpc1tkXSl7aWYoZS5hbGxvd2VkRG9tYWlucyl7Zm9yKHZhciBmPQohMSxrPTA7azxlLmFsbG93ZWREb21haW5zLmxlbmd0aDtrKyspaWYoYz09Imh0dHBzOi8vIitlLmFsbG93ZWREb21haW5zW2tdKXtmPSEwO2JyZWFrfWlmKCFmKXtiKG51bGwsIkludmFsaWQgQ2FsbDogIitkKyIgaXMgbm90IGFsbG93ZWQuIik7cmV0dXJufX12YXIgbT1hLmZ1bmN0aW9uQXJncztBcnJheS5pc0FycmF5KG0pfHwobT1bXSk7aWYoZS5pc0FzeW5jKW0ucHVzaChmdW5jdGlvbigpe2IoQXJyYXkucHJvdG90eXBlLnNsaWNlLmFwcGx5KGFyZ3VtZW50cykpfSksbS5wdXNoKGZ1bmN0aW9uKGEpe2IobnVsbCxhfHwiVW5rb3duIEVycm9yIil9KSx0aGlzW2RdLmFwcGx5KHRoaXMsbSk7ZWxzZXt2YXIgcT10aGlzW2RdLmFwcGx5KHRoaXMsbSk7YihbcV0pfX1lbHNlIGIobnVsbCwiSW52YWxpZCBDYWxsOiAiK2QrIiBpcyBub3QgZm91bmQuIil9Y2F0Y2goQSl7YihudWxsLCJJbnZhbGlkIENhbGw6IEFuIGVycm9yIG9jY3VyZWQsICIrQS5tZXNzYWdlKX19O0VkaXRvclVpLnByb3RvdHlwZS5vcGVuRGF0YWJhc2U9CmZ1bmN0aW9uKGEsYyl7aWYobnVsbD09dGhpcy5kYXRhYmFzZSl7dmFyIGI9d2luZG93LmluZGV4ZWREQnx8d2luZG93Lm1vekluZGV4ZWREQnx8d2luZG93LndlYmtpdEluZGV4ZWREQjtpZihudWxsIT1iKXRyeXt2YXIgZD1iLm9wZW4oImRhdGFiYXNlIiwyKTtkLm9udXBncmFkZW5lZWRlZD1mdW5jdGlvbihhKXt0cnl7dmFyIGI9ZC5yZXN1bHQ7MT5hLm9sZFZlcnNpb24mJmIuY3JlYXRlT2JqZWN0U3RvcmUoIm9iamVjdHMiLHtrZXlQYXRoOiJrZXkifSk7Mj5hLm9sZFZlcnNpb24mJihiLmNyZWF0ZU9iamVjdFN0b3JlKCJmaWxlcyIse2tleVBhdGg6InRpdGxlIn0pLGIuY3JlYXRlT2JqZWN0U3RvcmUoImZpbGVzSW5mbyIse2tleVBhdGg6InRpdGxlIn0pLEVkaXRvclVpLm1pZ3JhdGVTdG9yYWdlRmlsZXM9aXNMb2NhbFN0b3JhZ2UpfWNhdGNoKHYpe251bGwhPWMmJmModil9fTtkLm9uc3VjY2Vzcz1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXt2YXIgYz1kLnJlc3VsdDsKdGhpcy5kYXRhYmFzZT1jO0VkaXRvclVpLm1pZ3JhdGVTdG9yYWdlRmlsZXMmJihTdG9yYWdlRmlsZS5taWdyYXRlKGMpLEVkaXRvclVpLm1pZ3JhdGVTdG9yYWdlRmlsZXM9ITEpOyJhcHAuZGlhZ3JhbXMubmV0IiE9bG9jYXRpb24uaG9zdHx8dGhpcy5kcmF3aW9NaWdyYXRpb25TdGFydGVkfHwodGhpcy5kcmF3aW9NaWdyYXRpb25TdGFydGVkPSEwLHRoaXMuZ2V0RGF0YWJhc2VJdGVtKCIuZHJhd2lvTWlncmF0ZWQzIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtpZighYXx8IjEiPT11cmxQYXJhbXMuZm9yY2VNaWdyYXRpb24pe3ZhciBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpO2Iuc3R5bGUuZGlzcGxheT0ibm9uZSI7Yi5zZXRBdHRyaWJ1dGUoInNyYyIsImh0dHBzOi8vd3d3LmRyYXcuaW8/ZW1iZWQ9MSZwcm90bz1qc29uJmZvcmNlTWlncmF0aW9uPSIrdXJsUGFyYW1zLmZvcmNlTWlncmF0aW9uKTtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGIpOwp2YXIgYz0hMCxkPSExLGUsZj0wLGc9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtkPSEwO3RoaXMuc2V0RGF0YWJhc2VJdGVtKCIuZHJhd2lvTWlncmF0ZWQzIiwhMCk7Yi5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHthY3Rpb246InJlbW90ZUludm9rZSIsZnVudGlvbk5hbWU6InNldE1pZ3JhdGVkRmxhZyJ9KSwiKiIpfSksaz1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2YrKztsKCl9KSxsPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dHJ5e2lmKGY+PWUubGVuZ3RoKWcoKTtlbHNle3ZhciBhPWVbZl07U3RvcmFnZUZpbGUuZ2V0RmlsZUNvbnRlbnQodGhpcyxhLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGMpe251bGw9PWN8fCIuc2NyYXRjaHBhZCI9PWEmJmM9PXRoaXMuZW1wdHlMaWJyYXJ5WG1sP2IuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZShKU09OLnN0cmluZ2lmeSh7YWN0aW9uOiJyZW1vdGVJbnZva2UiLGZ1bnRpb25OYW1lOiJnZXRMb2NhbFN0b3JhZ2VGaWxlIiwKZnVuY3Rpb25BcmdzOlthXX0pLCIqIik6aygpfSksayl9fWNhdGNoKEkpe2NvbnNvbGUubG9nKEkpfX0pLG09bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dHJ5e3RoaXMuc2V0RGF0YWJhc2VJdGVtKG51bGwsW3t0aXRsZTphLnRpdGxlLHNpemU6YS5kYXRhLmxlbmd0aCxsYXN0TW9kaWZpZWQ6RGF0ZS5ub3coKSx0eXBlOmEuaXNMaWI/IkwiOiJGIn0se3RpdGxlOmEudGl0bGUsZGF0YTphLmRhdGF9XSxrLGssWyJmaWxlc0luZm8iLCJmaWxlcyJdKX1jYXRjaChJKXtjb25zb2xlLmxvZyhJKX19KTthPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RyeXtpZihhLnNvdXJjZT09Yi5jb250ZW50V2luZG93KXt2YXIgZj17fTt0cnl7Zj1KU09OLnBhcnNlKGEuZGF0YSl9Y2F0Y2goSil7fSJpbml0Ij09Zi5ldmVudD8oYi5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHthY3Rpb246InJlbW90ZUludm9rZVJlYWR5In0pLCIqIiksYi5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHthY3Rpb246InJlbW90ZUludm9rZSIsCmZ1bnRpb25OYW1lOiJnZXRMb2NhbFN0b3JhZ2VGaWxlTmFtZXMifSksIioiKSk6InJlbW90ZUludm9rZVJlc3BvbnNlIiE9Zi5ldmVudHx8ZHx8KGM/bnVsbCE9Zi5yZXNwJiYwPGYucmVzcC5sZW5ndGgmJm51bGwhPWYucmVzcFswXT8oZT1mLnJlc3BbMF0sYz0hMSxsKCkpOmcoKTpudWxsIT1mLnJlc3AmJjA8Zi5yZXNwLmxlbmd0aCYmbnVsbCE9Zi5yZXNwWzBdP20oZi5yZXNwWzBdKTprKCkpfX1jYXRjaChKKXtjb25zb2xlLmxvZyhKKX19KTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsYSl9fSkpKTthKGMpO2Mub252ZXJzaW9uY2hhbmdlPWZ1bmN0aW9uKCl7Yy5jbG9zZSgpfX0pO2Qub25lcnJvcj1jO2Qub25ibG9ja2VkPWZ1bmN0aW9uKCl7fX1jYXRjaChsKXtudWxsIT1jJiZjKGwpfWVsc2UgbnVsbCE9YyYmYygpfWVsc2UgYSh0aGlzLmRhdGFiYXNlKX07RWRpdG9yVWkucHJvdG90eXBlLnNldERhdGFiYXNlSXRlbT1mdW5jdGlvbihhLGMsZCxmLGspe3RoaXMub3BlbkRhdGFiYXNlKG14VXRpbHMuYmluZCh0aGlzLApmdW5jdGlvbihiKXt0cnl7az1rfHwib2JqZWN0cyI7QXJyYXkuaXNBcnJheShrKXx8KGs9W2tdLGE9W2FdLGM9W2NdKTt2YXIgZT1iLnRyYW5zYWN0aW9uKGssInJlYWR3cml0ZSIpO2Uub25jb21wbGV0ZT1kO2Uub25lcnJvcj1mO2ZvcihiPTA7YjxrLmxlbmd0aDtiKyspZS5vYmplY3RTdG9yZShrW2JdKS5wdXQobnVsbCE9YSYmbnVsbCE9YVtiXT97a2V5OmFbYl0sZGF0YTpjW2JdfTpjW2JdKX1jYXRjaCh0KXtudWxsIT1mJiZmKHQpfX0pLGYpfTtFZGl0b3JVaS5wcm90b3R5cGUucmVtb3ZlRGF0YWJhc2VJdGVtPWZ1bmN0aW9uKGEsYyxkLGYpe3RoaXMub3BlbkRhdGFiYXNlKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe2Y9Znx8Im9iamVjdHMiO0FycmF5LmlzQXJyYXkoZil8fChmPVtmXSxhPVthXSk7Yj1iLnRyYW5zYWN0aW9uKGYsInJlYWR3cml0ZSIpO2Iub25jb21wbGV0ZT1jO2Iub25lcnJvcj1kO2Zvcih2YXIgZT0wO2U8Zi5sZW5ndGg7ZSsrKWIub2JqZWN0U3RvcmUoZltlXSlbImRlbGV0ZSJdKGFbZV0pfSksCmQpfTtFZGl0b3JVaS5wcm90b3R5cGUuZ2V0RGF0YWJhc2VJdGVtPWZ1bmN0aW9uKGEsYyxkLGYpe3RoaXMub3BlbkRhdGFiYXNlKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe3RyeXtmPWZ8fCJvYmplY3RzIjt2YXIgZT1iLnRyYW5zYWN0aW9uKFtmXSwicmVhZG9ubHkiKS5vYmplY3RTdG9yZShmKS5nZXQoYSk7ZS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXtjKGUucmVzdWx0KX07ZS5vbmVycm9yPWR9Y2F0Y2godil7bnVsbCE9ZCYmZCh2KX19KSxkKX07RWRpdG9yVWkucHJvdG90eXBlLmdldERhdGFiYXNlSXRlbXM9ZnVuY3Rpb24oYSxjLGQpe3RoaXMub3BlbkRhdGFiYXNlKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe3RyeXtkPWR8fCJvYmplY3RzIjt2YXIgZT1iLnRyYW5zYWN0aW9uKFtkXSwicmVhZG9ubHkiKS5vYmplY3RTdG9yZShkKS5vcGVuQ3Vyc29yKElEQktleVJhbmdlLmxvd2VyQm91bmQoMCkpLGY9W107ZS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oYil7bnVsbD09CmIudGFyZ2V0LnJlc3VsdD9hKGYpOihmLnB1c2goYi50YXJnZXQucmVzdWx0LnZhbHVlKSxiLnRhcmdldC5yZXN1bHRbImNvbnRpbnVlIl0oKSl9O2Uub25lcnJvcj1jfWNhdGNoKHYpe251bGwhPWMmJmModil9fSksYyl9O0VkaXRvclVpLnByb3RvdHlwZS5nZXREYXRhYmFzZUl0ZW1LZXlzPWZ1bmN0aW9uKGEsYyxkKXt0aGlzLm9wZW5EYXRhYmFzZShteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXt0cnl7ZD1kfHwib2JqZWN0cyI7dmFyIGU9Yi50cmFuc2FjdGlvbihbZF0sInJlYWRvbmx5Iikub2JqZWN0U3RvcmUoZCkuZ2V0QWxsS2V5cygpO2Uub25zdWNjZXNzPWZ1bmN0aW9uKCl7YShlLnJlc3VsdCl9O2Uub25lcnJvcj1jfWNhdGNoKG4pe251bGwhPWMmJmMobil9fSksYyl9O0VkaXRvclVpLnByb3RvdHlwZS5jb21tZW50c1N1cHBvcnRlZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0Q3VycmVudEZpbGUoKTtyZXR1cm4gbnVsbCE9YT9hLmNvbW1lbnRzU3VwcG9ydGVkKCk6CiExfTtFZGl0b3JVaS5wcm90b3R5cGUuY29tbWVudHNSZWZyZXNoTmVlZGVkPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRDdXJyZW50RmlsZSgpO3JldHVybiBudWxsIT1hP2EuY29tbWVudHNSZWZyZXNoTmVlZGVkKCk6ITB9O0VkaXRvclVpLnByb3RvdHlwZS5jb21tZW50c1NhdmVOZWVkZWQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEN1cnJlbnRGaWxlKCk7cmV0dXJuIG51bGwhPWE/YS5jb21tZW50c1NhdmVOZWVkZWQoKTohMX07RWRpdG9yVWkucHJvdG90eXBlLmdldENvbW1lbnRzPWZ1bmN0aW9uKGEsYyl7dmFyIGI9dGhpcy5nZXRDdXJyZW50RmlsZSgpO251bGwhPWI/Yi5nZXRDb21tZW50cyhhLGMpOmEoW10pfTtFZGl0b3JVaS5wcm90b3R5cGUuYWRkQ29tbWVudD1mdW5jdGlvbihhLGMsZCl7dmFyIGI9dGhpcy5nZXRDdXJyZW50RmlsZSgpO251bGwhPWI/Yi5hZGRDb21tZW50KGEsYyxkKTpjKERhdGUubm93KCkpfTtFZGl0b3JVaS5wcm90b3R5cGUuY2FuUmVwbHlUb1JlcGxpZXM9CmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRDdXJyZW50RmlsZSgpO3JldHVybiBudWxsIT1hP2EuY2FuUmVwbHlUb1JlcGxpZXMoKTohMH07RWRpdG9yVWkucHJvdG90eXBlLmNhbkNvbW1lbnQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEN1cnJlbnRGaWxlKCk7cmV0dXJuIG51bGwhPWE/YS5jYW5Db21tZW50KCk6ITB9O0VkaXRvclVpLnByb3RvdHlwZS5uZXdDb21tZW50PWZ1bmN0aW9uKGEsYyl7dmFyIGI9dGhpcy5nZXRDdXJyZW50RmlsZSgpO3JldHVybiBudWxsIT1iP2IubmV3Q29tbWVudChhLGMpOm5ldyBEcmF3aW9Db21tZW50KHRoaXMsbnVsbCxhLERhdGUubm93KCksRGF0ZS5ub3coKSwhMSxjKX07RWRpdG9yVWkucHJvdG90eXBlLmlzUmV2aXNpb25IaXN0b3J5U3VwcG9ydGVkPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRDdXJyZW50RmlsZSgpO3JldHVybiBudWxsIT1hJiZhLmlzUmV2aXNpb25IaXN0b3J5U3VwcG9ydGVkKCl9O0VkaXRvclVpLnByb3RvdHlwZS5nZXRSZXZpc2lvbnM9CmZ1bmN0aW9uKGEsYyl7dmFyIGI9dGhpcy5nZXRDdXJyZW50RmlsZSgpO251bGwhPWImJmIuZ2V0UmV2aXNpb25zP2IuZ2V0UmV2aXNpb25zKGEsYyk6Yyh7bWVzc2FnZTpteFJlc291cmNlcy5nZXQoInVua25vd25FcnJvciIpfSl9O0VkaXRvclVpLnByb3RvdHlwZS5pc1JldmlzaW9uSGlzdG9yeUVuYWJsZWQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEN1cnJlbnRGaWxlKCk7cmV0dXJuIG51bGwhPWEmJihhLmNvbnN0cnVjdG9yPT1Ecml2ZUZpbGUmJmEuaXNFZGl0YWJsZSgpfHxhLmNvbnN0cnVjdG9yPT1Ecm9wYm94RmlsZSl9O0VkaXRvclVpLnByb3RvdHlwZS5nZXRTZXJ2aWNlTmFtZT1mdW5jdGlvbigpe3JldHVybiJkcmF3LmlvIn07RWRpdG9yVWkucHJvdG90eXBlLmFkZFJlbW90ZVNlcnZpY2VTZWN1cml0eUNoZWNrPWZ1bmN0aW9uKGEpe2Euc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1MYW5ndWFnZSIsImRhLCBtaSwgZW4sIGRlLURFIil9O0VkaXRvclVpLnByb3RvdHlwZS5sb2FkVXJsPQpmdW5jdGlvbihhLGMsZCxmLGssbSxxLHQpe0VkaXRvclVpLmxvZ0V2ZW50KCJTSE9VTEQgTk9UIEJFIENBTExFRDogbG9hZFVybCIpO3JldHVybiB0aGlzLmVkaXRvci5sb2FkVXJsKGEsYyxkLGYsayxtLHEsdCl9O0VkaXRvclVpLnByb3RvdHlwZS5sb2FkRm9udHM9ZnVuY3Rpb24oYSl7RWRpdG9yVWkubG9nRXZlbnQoIlNIT1VMRCBOT1QgQkUgQ0FMTEVEOiBsb2FkRm9udHMiKTtyZXR1cm4gdGhpcy5lZGl0b3IubG9hZEZvbnRzKGEpfTtFZGl0b3JVaS5wcm90b3R5cGUuY3JlYXRlU3ZnRGF0YVVyaT1mdW5jdGlvbihhKXtFZGl0b3JVaS5sb2dFdmVudCgiU0hPVUxEIE5PVCBCRSBDQUxMRUQ6IGNyZWF0ZVN2Z0RhdGFVcmkiKTtyZXR1cm4gRWRpdG9yLmNyZWF0ZVN2Z0RhdGFVcmkoYSl9O0VkaXRvclVpLnByb3RvdHlwZS5lbWJlZENzc0ZvbnRzPWZ1bmN0aW9uKGEsYyl7RWRpdG9yVWkubG9nRXZlbnQoIlNIT1VMRCBOT1QgQkUgQ0FMTEVEOiBlbWJlZENzc0ZvbnRzIik7cmV0dXJuIHRoaXMuZWRpdG9yLmVtYmVkQ3NzRm9udHMoYSwKYyl9O0VkaXRvclVpLnByb3RvdHlwZS5lbWJlZEV4dEZvbnRzPWZ1bmN0aW9uKGEpe0VkaXRvclVpLmxvZ0V2ZW50KCJTSE9VTEQgTk9UIEJFIENBTExFRDogZW1iZWRFeHRGb250cyIpO3JldHVybiB0aGlzLmVkaXRvci5lbWJlZEV4dEZvbnRzKGEpfTtFZGl0b3JVaS5wcm90b3R5cGUuZXhwb3J0VG9DYW52YXM9ZnVuY3Rpb24oYSxjLGQsZixrLG0scSx0LHgsQSxELEIsQyx6LEUsRyl7RWRpdG9yVWkubG9nRXZlbnQoIlNIT1VMRCBOT1QgQkUgQ0FMTEVEOiBleHBvcnRUb0NhbnZhcyIpO3JldHVybiB0aGlzLmVkaXRvci5leHBvcnRUb0NhbnZhcyhhLGMsZCxmLGssbSxxLHQseCxBLEQsQixDLHosRSxHKX07RWRpdG9yVWkucHJvdG90eXBlLmNyZWF0ZUltYWdlVXJsQ29udmVydGVyPWZ1bmN0aW9uKCl7RWRpdG9yVWkubG9nRXZlbnQoIlNIT1VMRCBOT1QgQkUgQ0FMTEVEOiBjcmVhdGVJbWFnZVVybENvbnZlcnRlciIpO3JldHVybiB0aGlzLmVkaXRvci5jcmVhdGVJbWFnZVVybENvbnZlcnRlcigpfTsKRWRpdG9yVWkucHJvdG90eXBlLmNvbnZlcnRJbWFnZXM9ZnVuY3Rpb24oYSxjLGQsZil7RWRpdG9yVWkubG9nRXZlbnQoIlNIT1VMRCBOT1QgQkUgQ0FMTEVEOiBjb252ZXJ0SW1hZ2VzIik7cmV0dXJuIHRoaXMuZWRpdG9yLmNvbnZlcnRJbWFnZXMoYSxjLGQsZil9O0VkaXRvclVpLnByb3RvdHlwZS5jb252ZXJ0SW1hZ2VUb0RhdGFVcmk9ZnVuY3Rpb24oYSxjKXtFZGl0b3JVaS5sb2dFdmVudCgiU0hPVUxEIE5PVCBCRSBDQUxMRUQ6IGNvbnZlcnRJbWFnZVRvRGF0YVVyaSIpO3JldHVybiB0aGlzLmVkaXRvci5jb252ZXJ0SW1hZ2VUb0RhdGFVcmkoYSxjKX07RWRpdG9yVWkucHJvdG90eXBlLmJhc2U2NEVuY29kZT1mdW5jdGlvbihhKXtFZGl0b3JVaS5sb2dFdmVudCgiU0hPVUxEIE5PVCBCRSBDQUxMRUQ6IGJhc2U2NEVuY29kZSIpO3JldHVybiBFZGl0b3IuYmFzZTY0RW5jb2RlKGEpfTtFZGl0b3JVaS5wcm90b3R5cGUudXBkYXRlQ1JDPWZ1bmN0aW9uKGEsYyxkLGYpe0VkaXRvclVpLmxvZ0V2ZW50KCJTSE9VTEQgTk9UIEJFIENBTExFRDogdXBkYXRlQ1JDIik7CnJldHVybiBFZGl0b3IudXBkYXRlQ1JDKGEsYyxkLGYpfTtFZGl0b3JVaS5wcm90b3R5cGUuY3JjMzI9ZnVuY3Rpb24oYSl7RWRpdG9yVWkubG9nRXZlbnQoIlNIT1VMRCBOT1QgQkUgQ0FMTEVEOiBjcmMzMiIpO3JldHVybiBFZGl0b3IuY3JjMzIoYSl9O0VkaXRvclVpLnByb3RvdHlwZS53cml0ZUdyYXBoTW9kZWxUb1BuZz1mdW5jdGlvbihhLGMsZCxmLGspe0VkaXRvclVpLmxvZ0V2ZW50KCJTSE9VTEQgTk9UIEJFIENBTExFRDogd3JpdGVHcmFwaE1vZGVsVG9QbmciKTtyZXR1cm4gRWRpdG9yLndyaXRlR3JhcGhNb2RlbFRvUG5nKGEsYyxkLGYsayl9O0VkaXRvclVpLnByb3RvdHlwZS5nZXRMb2NhbFN0b3JhZ2VGaWxlTmFtZXM9ZnVuY3Rpb24oKXtpZigiMSI9PWxvY2FsU3RvcmFnZS5nZXRJdGVtKCIubG9jYWxTdG9yYWdlTWlncmF0ZWQiKSYmIjEiIT11cmxQYXJhbXMuZm9yY2VNaWdyYXRpb24pcmV0dXJuIG51bGw7Zm9yKHZhciBhPVtdLGM9MDtjPGxvY2FsU3RvcmFnZS5sZW5ndGg7YysrKXt2YXIgZD0KbG9jYWxTdG9yYWdlLmtleShjKSxmPWxvY2FsU3RvcmFnZS5nZXRJdGVtKGQpO2lmKDA8ZC5sZW5ndGgmJigiLnNjcmF0Y2hwYWQiPT1kfHwiLiIhPWQuY2hhckF0KDApKSYmMDxmLmxlbmd0aCl7dmFyIGs9IjxteGZpbGUgIj09PWYuc3Vic3RyaW5nKDAsOCl8fCI8P3htbCI9PT1mLnN1YnN0cmluZygwLDUpfHwiXHgzYyEtLVtpZiBJRV0+Ij09PWYuc3Vic3RyaW5nKDAsMTIpLGY9IjxteGxpYnJhcnk+Ij09PWYuc3Vic3RyaW5nKDAsMTEpOyhrfHxmKSYmYS5wdXNoKGQpfX1yZXR1cm4gYX07RWRpdG9yVWkucHJvdG90eXBlLmdldExvY2FsU3RvcmFnZUZpbGU9ZnVuY3Rpb24oYSl7aWYoIjEiPT1sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiLmxvY2FsU3RvcmFnZU1pZ3JhdGVkIikmJiIxIiE9dXJsUGFyYW1zLmZvcmNlTWlncmF0aW9uKXJldHVybiBudWxsO3ZhciBiPWxvY2FsU3RvcmFnZS5nZXRJdGVtKGEpO3JldHVybnt0aXRsZTphLGRhdGE6Yixpc0xpYjoiPG14bGlicmFyeT4iPT09CmIuc3Vic3RyaW5nKDAsMTEpfX07RWRpdG9yVWkucHJvdG90eXBlLnNldE1pZ3JhdGVkRmxhZz1mdW5jdGlvbigpe2xvY2FsU3RvcmFnZS5zZXRJdGVtKCIubG9jYWxTdG9yYWdlTWlncmF0ZWQiLCIxIil9fSkoKTsKdmFyIENvbW1lbnRzV2luZG93PWZ1bmN0aW9uKGEsYyxmLGQsbSxrKXtmdW5jdGlvbiBxKCl7Zm9yKHZhciBhPUIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpLGI9MCxjPTA7YzxhLmxlbmd0aDtjKyspIm5vbmUiIT1hW2NdLnN0eWxlLmRpc3BsYXkmJmFbY10ucGFyZW50Tm9kZT09QiYmYisrO0Muc3R5bGUuZGlzcGxheT0wPT1iPyJibG9jayI6Im5vbmUifWZ1bmN0aW9uIGIoYSxiLGMsZCl7ZnVuY3Rpb24gZSgpe2IucmVtb3ZlQ2hpbGQoayk7Yi5yZW1vdmVDaGlsZChsKTtnLnN0eWxlLmRpc3BsYXk9ImJsb2NrIjtmLnN0eWxlLmRpc3BsYXk9ImJsb2NrIn14PXtkaXY6Yixjb21tZW50OmEsc2F2ZUNhbGxiYWNrOmMsZGVsZXRlT25DYW5jZWw6ZH07dmFyIGY9Yi5xdWVyeVNlbGVjdG9yKCIuZ2VDb21tZW50VHh0IiksZz1iLnF1ZXJ5U2VsZWN0b3IoIi5nZUNvbW1lbnRBY3Rpb25zTGlzdCIpLGs9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGV4dGFyZWEiKTtrLmNsYXNzTmFtZT0KImdlQ29tbWVudEVkaXRUeHRBcmVhIjtrLnN0eWxlLm1pbkhlaWdodD1mLm9mZnNldEhlaWdodCsicHgiO2sudmFsdWU9YS5jb250ZW50O2IuaW5zZXJ0QmVmb3JlKGssZik7dmFyIGw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7bC5jbGFzc05hbWU9ImdlQ29tbWVudEVkaXRCdG5zIjt2YXIgbT1teFV0aWxzLmJ1dHRvbihteFJlc291cmNlcy5nZXQoImNhbmNlbCIpLGZ1bmN0aW9uKCl7ZD8oYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLHEoKSk6ZSgpO3g9bnVsbH0pO20uY2xhc3NOYW1lPSJnZUNvbW1lbnRFZGl0QnRuIjtsLmFwcGVuZENoaWxkKG0pO3ZhciBuPW14VXRpbHMuYnV0dG9uKG14UmVzb3VyY2VzLmdldCgic2F2ZSIpLGZ1bmN0aW9uKCl7Zi5pbm5lckhUTUw9IiI7YS5jb250ZW50PWsudmFsdWU7bXhVdGlscy53cml0ZShmLGEuY29udGVudCk7ZSgpO2MoYSk7eD1udWxsfSk7bXhFdmVudC5hZGRMaXN0ZW5lcihrLCJrZXlkb3duIixteFV0aWxzLmJpbmQodGhpcywKZnVuY3Rpb24oYSl7bXhFdmVudC5pc0NvbnN1bWVkKGEpfHwoKG14RXZlbnQuaXNDb250cm9sRG93bihhKXx8bXhDbGllbnQuSVNfTUFDJiZteEV2ZW50LmlzTWV0YURvd24oYSkpJiYxMz09YS5rZXlDb2RlPyhuLmNsaWNrKCksbXhFdmVudC5jb25zdW1lKGEpKToyNz09YS5rZXlDb2RlJiYobS5jbGljaygpLG14RXZlbnQuY29uc3VtZShhKSkpfSkpO24uZm9jdXMoKTtuLmNsYXNzTmFtZT0iZ2VDb21tZW50RWRpdEJ0biBnZVByaW1hcnlCdG4iO2wuYXBwZW5kQ2hpbGQobik7Yi5pbnNlcnRCZWZvcmUobCxmKTtnLnN0eWxlLmRpc3BsYXk9Im5vbmUiO2Yuc3R5bGUuZGlzcGxheT0ibm9uZSI7ay5mb2N1cygpfWZ1bmN0aW9uIGUoYixjKXtjLmlubmVySFRNTD0iIjt2YXIgZD1uZXcgRGF0ZShiLm1vZGlmaWVkRGF0ZSksZT1hLnRpbWVTaW5jZShkKTtudWxsPT1lJiYoZT1teFJlc291cmNlcy5nZXQoImxlc3NUaGFuQU1pbnV0ZSIpKTtteFV0aWxzLndyaXRlKGMsbXhSZXNvdXJjZXMuZ2V0KCJ0aW1lQWdvIiwKW2VdLCJ7MX0gYWdvIikpO2Muc2V0QXR0cmlidXRlKCJ0aXRsZSIsZC50b0xvY2FsZURhdGVTdHJpbmcoKSsiICIrZC50b0xvY2FsZVRpbWVTdHJpbmcoKSl9ZnVuY3Rpb24gZyhhKXt2YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTtiLmNsYXNzTmFtZT0iZ2VDb21tZW50QnVzeUltZyI7Yi5zcmM9SU1BR0VfUEFUSCsiL3NwaW4uZ2lmIjthLmFwcGVuZENoaWxkKGIpO2EuYnVzeUltZz1ifWZ1bmN0aW9uIHAoYSl7YS5zdHlsZS5ib3JkZXI9IjFweCBzb2xpZCByZWQiO2EucmVtb3ZlQ2hpbGQoYS5idXN5SW1nKX1mdW5jdGlvbiBsKGEpe2Euc3R5bGUuYm9yZGVyPSIiO2EucmVtb3ZlQ2hpbGQoYS5idXN5SW1nKX1mdW5jdGlvbiBuKGMsZCxmLGssbSl7ZnVuY3Rpb24geShhLGIsZCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibGkiKTtlLmNsYXNzTmFtZT0iZ2VDb21tZW50QWN0aW9uIjt2YXIgZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7Zi5jbGFzc05hbWU9CiJnZUNvbW1lbnRBY3Rpb25MbmsiO214VXRpbHMud3JpdGUoZixhKTtlLmFwcGVuZENoaWxkKGYpO214RXZlbnQuYWRkTGlzdGVuZXIoZiwiY2xpY2siLGZ1bmN0aW9uKGEpe2IoYSxjKTthLnByZXZlbnREZWZhdWx0KCk7bXhFdmVudC5jb25zdW1lKGEpfSk7RC5hcHBlbmRDaGlsZChlKTtkJiYoZS5zdHlsZS5kaXNwbGF5PSJub25lIil9ZnVuY3Rpb24gdSgpe2Z1bmN0aW9uIGEoYyl7Yi5wdXNoKGQpO2lmKG51bGwhPWMucmVwbGllcylmb3IodmFyIGU9MDtlPGMucmVwbGllcy5sZW5ndGg7ZSsrKWQ9ZC5uZXh0U2libGluZyxhKGMucmVwbGllc1tlXSl9dmFyIGI9W10sZD1FO2EoYyk7cmV0dXJue3BkaXY6ZCxyZXBsaWVzOmJ9fWZ1bmN0aW9uIHooZCxlLGYsbSxxKXtmdW5jdGlvbiB0KCl7Zyh2KTtjLmFkZFJlcGx5KHosZnVuY3Rpb24oYSl7ei5pZD1hO2MucmVwbGllcy5wdXNoKHopO2wodik7ZiYmZigpfSxmdW5jdGlvbihiKXt4KCk7cCh2KTthLmhhbmRsZUVycm9yKGIsbnVsbCwKbnVsbCxudWxsLG14VXRpbHMuaHRtbEVudGl0aWVzKG14UmVzb3VyY2VzLmdldCgib2JqZWN0Tm90Rm91bmQiKSkpfSxtLHEpfWZ1bmN0aW9uIHgoKXtiKHosdixmdW5jdGlvbihhKXt0KCl9LCEwKX12YXIgeT11KCkucGRpdix6PWEubmV3Q29tbWVudChkLGEuZ2V0Q3VycmVudFVzZXIoKSk7ei5wQ29tbWVudElkPWMuaWQ7bnVsbD09Yy5yZXBsaWVzJiYoYy5yZXBsaWVzPVtdKTt2YXIgdj1uKHosYy5yZXBsaWVzLHksaysxKTtlP3goKTp0KCl9aWYobXx8IWMuaXNSZXNvbHZlZCl7Qy5zdHlsZS5kaXNwbGF5PSJub25lIjt2YXIgRT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtFLmNsYXNzTmFtZT0iZ2VDb21tZW50Q29udGFpbmVyIjtFLnNldEF0dHJpYnV0ZSgiZGF0YS1jb21tZW50SWQiLGMuaWQpO0Uuc3R5bGUubWFyZ2luTGVmdD0yMCprKzUrInB4IjtjLmlzUmVzb2x2ZWQmJiJkYXJrIiE9dWlUaGVtZSYmKEUuc3R5bGUuYmFja2dyb3VuZENvbG9yPSJnaG9zdFdoaXRlIik7CnZhciBBPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO0EuY2xhc3NOYW1lPSJnZUNvbW1lbnRIZWFkZXIiO3ZhciBOPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpO04uY2xhc3NOYW1lPSJnZUNvbW1lbnRVc2VySW1nIjtOLnNyYz1jLnVzZXIucGljdHVyZVVybHx8RWRpdG9yLnVzZXJJbWFnZTtBLmFwcGVuZENoaWxkKE4pO049ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Ti5jbGFzc05hbWU9ImdlQ29tbWVudEhlYWRlclR4dCI7QS5hcHBlbmRDaGlsZChOKTt2YXIgRj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtGLmNsYXNzTmFtZT0iZ2VDb21tZW50VXNlcm5hbWUiO214VXRpbHMud3JpdGUoRixjLnVzZXIuZGlzcGxheU5hbWV8fCIiKTtOLmFwcGVuZENoaWxkKEYpO0Y9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Ri5jbGFzc05hbWU9ImdlQ29tbWVudERhdGUiO0Yuc2V0QXR0cmlidXRlKCJkYXRhLWNvbW1lbnRJZCIsYy5pZCk7ZShjLApGKTtOLmFwcGVuZENoaWxkKEYpO0UuYXBwZW5kQ2hpbGQoQSk7QT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtBLmNsYXNzTmFtZT0iZ2VDb21tZW50VHh0IjtteFV0aWxzLndyaXRlKEEsYy5jb250ZW50fHwiIik7RS5hcHBlbmRDaGlsZChBKTtBPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO0EuY2xhc3NOYW1lPSJnZUNvbW1lbnRBY3Rpb25zIjt2YXIgRD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ1bCIpO0QuY2xhc3NOYW1lPSJnZUNvbW1lbnRBY3Rpb25zTGlzdCI7QS5hcHBlbmRDaGlsZChEKTt2fHwwIT1rJiYhdHx8eShteFJlc291cmNlcy5nZXQoInJlcGx5IiksZnVuY3Rpb24oKXt6KCIiLCEwKX0sYy5pc1Jlc29sdmVkKTtOPWEuZ2V0Q3VycmVudFVzZXIoKTtudWxsPT1OfHxOLmlkIT1jLnVzZXIuaWR8fHZ8fCh5KG14UmVzb3VyY2VzLmdldCgiZWRpdCIpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZCgpe2IoYyxFLGZ1bmN0aW9uKCl7ZyhFKTtjLmVkaXRDb21tZW50KGMuY29udGVudCwKZnVuY3Rpb24oKXtsKEUpfSxmdW5jdGlvbihiKXtwKEUpO2QoKTthLmhhbmRsZUVycm9yKGIsbnVsbCxudWxsLG51bGwsbXhVdGlscy5odG1sRW50aXRpZXMobXhSZXNvdXJjZXMuZ2V0KCJvYmplY3ROb3RGb3VuZCIpKSl9KX0pfWQoKX0sYy5pc1Jlc29sdmVkKSx5KG14UmVzb3VyY2VzLmdldCgiZGVsZXRlIiksZnVuY3Rpb24oKXthLmNvbmZpcm0obXhSZXNvdXJjZXMuZ2V0KCJhcmVZb3VTdXJlIiksZnVuY3Rpb24oKXtnKEUpO2MuZGVsZXRlQ29tbWVudChmdW5jdGlvbigpe2Zvcih2YXIgYT11KGMpLnJlcGxpZXMsYj0wO2I8YS5sZW5ndGg7YisrKUIucmVtb3ZlQ2hpbGQoYVtiXSk7Zm9yKGI9MDtiPGQubGVuZ3RoO2IrKylpZihkW2JdPT1jKXtkLnNwbGljZShiLDEpO2JyZWFrfUMuc3R5bGUuZGlzcGxheT0wPT1CLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkaXYiKS5sZW5ndGg/ImJsb2NrIjoibm9uZSJ9LGZ1bmN0aW9uKGIpe3AoRSk7YS5oYW5kbGVFcnJvcihiLG51bGwsbnVsbCwKbnVsbCxteFV0aWxzLmh0bWxFbnRpdGllcyhteFJlc291cmNlcy5nZXQoIm9iamVjdE5vdEZvdW5kIikpKX0pfSl9LGMuaXNSZXNvbHZlZCkpO3Z8fDAhPWt8fHkoYy5pc1Jlc29sdmVkP214UmVzb3VyY2VzLmdldCgicmVvcGVuIik6bXhSZXNvdXJjZXMuZ2V0KCJyZXNvbHZlIiksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe3ZhciBiPWEudGFyZ2V0O2IuaW5uZXJIVE1MPSIiO2MuaXNSZXNvbHZlZD0hYy5pc1Jlc29sdmVkO214VXRpbHMud3JpdGUoYixjLmlzUmVzb2x2ZWQ/bXhSZXNvdXJjZXMuZ2V0KCJyZW9wZW4iKTpteFJlc291cmNlcy5nZXQoInJlc29sdmUiKSk7Zm9yKHZhciBkPWMuaXNSZXNvbHZlZD8ibm9uZSI6IiIsZT11KGMpLnJlcGxpZXMsZj0iZGFyayI9PXVpVGhlbWU/InRyYW5zcGFyZW50IjpjLmlzUmVzb2x2ZWQ/Imdob3N0V2hpdGUiOiJ3aGl0ZSIsZz0wO2c8ZS5sZW5ndGg7ZysrKXtlW2ddLnN0eWxlLmJhY2tncm91bmRDb2xvcj1mO2Zvcih2YXIgaz1lW2ddLnF1ZXJ5U2VsZWN0b3JBbGwoIi5nZUNvbW1lbnRBY3Rpb24iKSwKbD0wO2w8ay5sZW5ndGg7bCsrKWtbbF0hPWIucGFyZW50Tm9kZSYmKGtbbF0uc3R5bGUuZGlzcGxheT1kKTtHfHwoZVtnXS5zdHlsZS5kaXNwbGF5PSJub25lIil9cSgpfWMuaXNSZXNvbHZlZD96KG14UmVzb3VyY2VzLmdldCgicmVPcGVuZWQiKSsiOiAiLCEwLGIsITEsITApOnoobXhSZXNvdXJjZXMuZ2V0KCJtYXJrZWRBc1Jlc29sdmVkIiksITEsYiwhMCl9KTtFLmFwcGVuZENoaWxkKEEpO251bGwhPWY/Qi5pbnNlcnRCZWZvcmUoRSxmLm5leHRTaWJsaW5nKTpCLmFwcGVuZENoaWxkKEUpO2ZvcihmPTA7bnVsbCE9Yy5yZXBsaWVzJiZmPGMucmVwbGllcy5sZW5ndGg7ZisrKUE9Yy5yZXBsaWVzW2ZdLEEuaXNSZXNvbHZlZD1jLmlzUmVzb2x2ZWQsbihBLGMucmVwbGllcyxudWxsLGsrMSxtKTtudWxsIT14JiYoeC5jb21tZW50LmlkPT1jLmlkPyhtPWMuY29udGVudCxjLmNvbnRlbnQ9eC5jb21tZW50LmNvbnRlbnQsYihjLEUseC5zYXZlQ2FsbGJhY2sseC5kZWxldGVPbkNhbmNlbCksCmMuY29udGVudD1tKTpudWxsPT14LmNvbW1lbnQuaWQmJnguY29tbWVudC5wQ29tbWVudElkPT1jLmlkJiYoQi5hcHBlbmRDaGlsZCh4LmRpdiksYih4LmNvbW1lbnQseC5kaXYseC5zYXZlQ2FsbGJhY2sseC5kZWxldGVPbkNhbmNlbCkpKTtyZXR1cm4gRX19dmFyIHY9IWEuY2FuQ29tbWVudCgpLHQ9YS5jYW5SZXBseVRvUmVwbGllcygpLHg9bnVsbCxBPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO0EuY2xhc3NOYW1lPSJnZUNvbW1lbnRzV2luIjtBLnN0eWxlLmJhY2tncm91bmQ9IndoaXRlIj09RGlhbG9nLmJhY2tkcm9wQ29sb3I/IndoaXRlU21va2UiOkRpYWxvZy5iYWNrZHJvcENvbG9yO3ZhciBEPUVkaXRvclVpLmNvbXBhY3RVaT8iMjZweCI6IjMwcHgiLEI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Qi5jbGFzc05hbWU9ImdlQ29tbWVudHNMaXN0IjtCLnN0eWxlLmJhY2tncm91bmRDb2xvcj0id2hpdGUiPT1EaWFsb2cuYmFja2Ryb3BDb2xvcj8id2hpdGVTbW9rZSI6CkRpYWxvZy5iYWNrZHJvcENvbG9yO0Iuc3R5bGUuYm90dG9tPXBhcnNlSW50KEQpKzcrInB4IjtBLmFwcGVuZENoaWxkKEIpO3ZhciBDPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTtDLnN0eWxlLmNzc1RleHQ9ImRpc3BsYXk6bm9uZTtwYWRkaW5nLXRvcDoxMHB4O3RleHQtYWxpZ246Y2VudGVyOyI7bXhVdGlscy53cml0ZShDLG14UmVzb3VyY2VzLmdldCgibm9Db21tZW50c0ZvdW5kIikpO3ZhciB6PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3ouY2xhc3NOYW1lPSJnZVRvb2xiYXJDb250YWluZXIgZ2VDb21tZW50c1Rvb2xiYXIiO3ouc3R5bGUuaGVpZ2h0PUQ7ei5zdHlsZS5wYWRkaW5nPUVkaXRvclVpLmNvbXBhY3RVaT8iNHB4IDBweCAzcHggMHB4IjoiMXB4Ijt6LnN0eWxlLmJhY2tncm91bmRDb2xvcj0id2hpdGUiPT1EaWFsb2cuYmFja2Ryb3BDb2xvcj8id2hpdGVTbW9rZSI6RGlhbG9nLmJhY2tkcm9wQ29sb3I7bXhDbGllbnQuSVNfUVVJUktTJiYoei5zdHlsZS5maWx0ZXI9CiJub25lIik7RD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7RC5jbGFzc05hbWU9ImdlQnV0dG9uIjtteENsaWVudC5JU19RVUlSS1MmJihELnN0eWxlLmZpbHRlcj0ibm9uZSIpO2lmKCF2KXt2YXIgRT1ELmNsb25lTm9kZSgpO0UuaW5uZXJIVE1MPSc8ZGl2IGNsYXNzPSJnZVNwcml0ZSBnZVNwcml0ZS1wbHVzIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7Ij48L2Rpdj4nO0Uuc2V0QXR0cmlidXRlKCJ0aXRsZSIsbXhSZXNvdXJjZXMuZ2V0KCJjcmVhdGUiKSsiLi4uIik7bXhFdmVudC5hZGRMaXN0ZW5lcihFLCJjbGljayIsZnVuY3Rpb24oYyl7ZnVuY3Rpb24gZCgpe2IoZSxmLGZ1bmN0aW9uKGIpe2coZik7YS5hZGRDb21tZW50KGIsZnVuY3Rpb24oYSl7Yi5pZD1hO0YucHVzaChiKTtsKGYpfSxmdW5jdGlvbihiKXtwKGYpO2QoKTthLmhhbmRsZUVycm9yKGIsbnVsbCxudWxsLG51bGwsbXhVdGlscy5odG1sRW50aXRpZXMobXhSZXNvdXJjZXMuZ2V0KCJvYmplY3ROb3RGb3VuZCIpKSl9KX0sCiEwKX12YXIgZT1hLm5ld0NvbW1lbnQoIiIsYS5nZXRDdXJyZW50VXNlcigpKSxmPW4oZSxGLG51bGwsMCk7ZCgpO2MucHJldmVudERlZmF1bHQoKTtteEV2ZW50LmNvbnN1bWUoYyl9KTt6LmFwcGVuZENoaWxkKEUpfUU9RC5jbG9uZU5vZGUoKTtFLmlubmVySFRNTD0nPGltZyBzcmM9IicrSU1BR0VfUEFUSCsnL2NoZWNrLnBuZyIgc3R5bGU9IndpZHRoOiAxNnB4OyBwYWRkaW5nOiAycHg7Ij4nO0Uuc2V0QXR0cmlidXRlKCJ0aXRsZSIsbXhSZXNvdXJjZXMuZ2V0KCJzaG93UmVzb2x2ZWQiKSk7dmFyIEc9ITE7ImRhcmsiPT11aVRoZW1lJiYoRS5zdHlsZS5maWx0ZXI9ImludmVydCgxMDAlKSIpO214RXZlbnQuYWRkTGlzdGVuZXIoRSwiY2xpY2siLGZ1bmN0aW9uKGEpe3RoaXMuY2xhc3NOYW1lPShHPSFHKT8iZ2VCdXR0b24gZ2VDaGVja2VkQnRuIjoiZ2VCdXR0b24iO0koKTthLnByZXZlbnREZWZhdWx0KCk7bXhFdmVudC5jb25zdW1lKGEpfSk7ei5hcHBlbmRDaGlsZChFKTthLmNvbW1lbnRzUmVmcmVzaE5lZWRlZCgpJiYKKEU9RC5jbG9uZU5vZGUoKSxFLmlubmVySFRNTD0nPGltZyBzcmM9IicrSU1BR0VfUEFUSCsnL3VwZGF0ZTE2LnBuZyIgc3R5bGU9IndpZHRoOiAxNnB4OyBwYWRkaW5nOiAycHg7Ij4nLEUuc2V0QXR0cmlidXRlKCJ0aXRsZSIsbXhSZXNvdXJjZXMuZ2V0KCJyZWZyZXNoIikpLCJkYXJrIj09dWlUaGVtZSYmKEUuc3R5bGUuZmlsdGVyPSJpbnZlcnQoMTAwJSkiKSxteEV2ZW50LmFkZExpc3RlbmVyKEUsImNsaWNrIixmdW5jdGlvbihhKXtJKCk7YS5wcmV2ZW50RGVmYXVsdCgpO214RXZlbnQuY29uc3VtZShhKX0pLHouYXBwZW5kQ2hpbGQoRSkpO2EuY29tbWVudHNTYXZlTmVlZGVkKCkmJihEPUQuY2xvbmVOb2RlKCksRC5pbm5lckhUTUw9JzxpbWcgc3JjPSInK0lNQUdFX1BBVEgrJy9zYXZlLnBuZyIgc3R5bGU9IndpZHRoOiAyMHB4OyBwYWRkaW5nOiAycHg7Ij4nLEQuc2V0QXR0cmlidXRlKCJ0aXRsZSIsbXhSZXNvdXJjZXMuZ2V0KCJzYXZlIikpLCJkYXJrIj09dWlUaGVtZSYmCihELnN0eWxlLmZpbHRlcj0iaW52ZXJ0KDEwMCUpIiksbXhFdmVudC5hZGRMaXN0ZW5lcihELCJjbGljayIsZnVuY3Rpb24oYSl7aygpO2EucHJldmVudERlZmF1bHQoKTtteEV2ZW50LmNvbnN1bWUoYSl9KSx6LmFwcGVuZENoaWxkKEQpKTtBLmFwcGVuZENoaWxkKHopO3ZhciBGPVtdLEk9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmhhc0Vycm9yPSExO2lmKG51bGwhPXgpdHJ5e3guZGl2PXguZGl2LmNsb25lTm9kZSghMCk7dmFyIGM9eC5kaXYucXVlcnlTZWxlY3RvcigiLmdlQ29tbWVudEVkaXRUeHRBcmVhIiksZD14LmRpdi5xdWVyeVNlbGVjdG9yKCIuZ2VDb21tZW50RWRpdEJ0bnMiKTt4LmNvbW1lbnQuY29udGVudD1jLnZhbHVlO2MucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjKTtkLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZCl9Y2F0Y2goeSl7YS5oYW5kbGVFcnJvcih5KX1CLmlubmVySFRNTD0nPGRpdiBzdHlsZT0icGFkZGluZy10b3A6MTBweDt0ZXh0LWFsaWduOmNlbnRlcjsiPjxpbWcgc3JjPSInKwpJTUFHRV9QQVRIKycvc3Bpbi5naWYiIHZhbGlnbj0ibWlkZGxlIj4gJytteFV0aWxzLmh0bWxFbnRpdGllcyhteFJlc291cmNlcy5nZXQoImxvYWRpbmciKSkrIi4uLjwvZGl2PiI7dD1hLmNhblJlcGx5VG9SZXBsaWVzKCk7YS5jb21tZW50c1N1cHBvcnRlZCgpP2EuZ2V0Q29tbWVudHMoZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYyhhKXtpZihudWxsIT1hKXthLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IERhdGUoYS5tb2RpZmllZERhdGUpLW5ldyBEYXRlKGIubW9kaWZpZWREYXRlKX0pO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWMoYVtiXS5yZXBsaWVzKX19YS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBEYXRlKGEubW9kaWZpZWREYXRlKS1uZXcgRGF0ZShiLm1vZGlmaWVkRGF0ZSl9KTtCLmlubmVySFRNTD0iIjtCLmFwcGVuZENoaWxkKEMpO0Muc3R5bGUuZGlzcGxheT0iYmxvY2siO0Y9YTtmb3IoYT0wO2E8Ri5sZW5ndGg7YSsrKWMoRlthXS5yZXBsaWVzKSwKbihGW2FdLEYsbnVsbCwwLEcpO251bGwhPXgmJm51bGw9PXguY29tbWVudC5pZCYmbnVsbD09eC5jb21tZW50LnBDb21tZW50SWQmJihCLmFwcGVuZENoaWxkKHguZGl2KSxiKHguY29tbWVudCx4LmRpdix4LnNhdmVDYWxsYmFjayx4LmRlbGV0ZU9uQ2FuY2VsKSl9LG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe0IuaW5uZXJIVE1MPW14VXRpbHMuaHRtbEVudGl0aWVzKG14UmVzb3VyY2VzLmdldCgiZXJyb3IiKSsoYSYmYS5tZXNzYWdlPyI6ICIrYS5tZXNzYWdlOiIiKSk7dGhpcy5oYXNFcnJvcj0hMH0pKTpCLmlubmVySFRNTD1teFV0aWxzLmh0bWxFbnRpdGllcyhteFJlc291cmNlcy5nZXQoImVycm9yIikpfSk7SSgpO3RoaXMucmVmcmVzaENvbW1lbnRzPUk7ej1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7dmFyIGQ9Y1tiLmlkXTtpZihudWxsIT1kKWZvcihlKGIsZCksZD0wO251bGwhPWIucmVwbGllcyYmZDxiLnJlcGxpZXMubGVuZ3RoO2QrKylhKGIucmVwbGllc1tkXSl9CmlmKHRoaXMud2luZG93LmlzVmlzaWJsZSgpKXtmb3IodmFyIGI9Qi5xdWVyeVNlbGVjdG9yQWxsKCIuZ2VDb21tZW50RGF0ZSIpLGM9e30sZD0wO2Q8Yi5sZW5ndGg7ZCsrKXt2YXIgZj1iW2RdO2NbZi5nZXRBdHRyaWJ1dGUoImRhdGEtY29tbWVudElkIildPWZ9Zm9yKGQ9MDtkPEYubGVuZ3RoO2QrKylhKEZbZF0pfX0pO3NldEludGVydmFsKHosNkU0KTt0aGlzLnJlZnJlc2hDb21tZW50c1RpbWU9ejt0aGlzLndpbmRvdz1uZXcgbXhXaW5kb3cobXhSZXNvdXJjZXMuZ2V0KCJjb21tZW50cyIpLEEsYyxmLGQsbSwhMCwhMCk7dGhpcy53aW5kb3cubWluaW11bVNpemU9bmV3IG14UmVjdGFuZ2xlKDAsMCwzMDAsMjAwKTt0aGlzLndpbmRvdy5kZXN0cm95T25DbG9zZT0hMTt0aGlzLndpbmRvdy5zZXRNYXhpbWl6YWJsZSghMSk7dGhpcy53aW5kb3cuc2V0UmVzaXphYmxlKCEwKTt0aGlzLndpbmRvdy5zZXRDbG9zYWJsZSghMCk7dGhpcy53aW5kb3cuc2V0VmlzaWJsZSghMCk7dGhpcy53aW5kb3cuYWRkTGlzdGVuZXIobXhFdmVudC5TSE9XLApteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMud2luZG93LmZpdCgpfSkpO3RoaXMud2luZG93LnNldExvY2F0aW9uPWZ1bmN0aW9uKGEsYil7dmFyIGM9d2luZG93LmlubmVySGVpZ2h0fHxkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDthPU1hdGgubWF4KDAsTWF0aC5taW4oYSwod2luZG93LmlubmVyV2lkdGh8fGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGh8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCktdGhpcy50YWJsZS5jbGllbnRXaWR0aCkpO2I9TWF0aC5tYXgoMCxNYXRoLm1pbihiLGMtdGhpcy50YWJsZS5jbGllbnRIZWlnaHQtNDgpKTt0aGlzLmdldFgoKT09YSYmdGhpcy5nZXRZKCk9PWJ8fG14V2luZG93LnByb3RvdHlwZS5zZXRMb2NhdGlvbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3ZhciBKPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy53aW5kb3cuZ2V0WCgpLApiPXRoaXMud2luZG93LmdldFkoKTt0aGlzLndpbmRvdy5zZXRMb2NhdGlvbihhLGIpfSk7bXhFdmVudC5hZGRMaXN0ZW5lcih3aW5kb3csInJlc2l6ZSIsSik7dGhpcy5kZXN0cm95PWZ1bmN0aW9uKCl7bXhFdmVudC5yZW1vdmVMaXN0ZW5lcih3aW5kb3csInJlc2l6ZSIsSik7dGhpcy53aW5kb3cuZGVzdHJveSgpfX0sQ29uZmlybURpYWxvZz1mdW5jdGlvbihhLGMsZixkLG0sayxxLGIsZSxnLHApe3ZhciBsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2wuc3R5bGUudGV4dEFsaWduPSJjZW50ZXIiO3A9bnVsbCE9cD9wOjQ0O3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO24uc3R5bGUucGFkZGluZz0iNnB4IjtuLnN0eWxlLm92ZXJmbG93PSJhdXRvIjtuLnN0eWxlLm1heEhlaWdodD1wKyJweCI7bi5zdHlsZS5saW5lSGVpZ2h0PSIxLjJlbSI7bXhDbGllbnQuSVNfUVVJUktTJiYobi5zdHlsZS5oZWlnaHQ9IjYwcHgiKTtteFV0aWxzLndyaXRlKG4sYyk7CmwuYXBwZW5kQ2hpbGQobik7bnVsbCE9ZyYmKG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iiksbi5zdHlsZS5wYWRkaW5nPSI2cHggMCA2cHggMCIsYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKSxjLnNldEF0dHJpYnV0ZSgic3JjIixnKSxuLmFwcGVuZENoaWxkKGMpLGwuYXBwZW5kQ2hpbGQobikpO2c9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Zy5zdHlsZS50ZXh0QWxpZ249ImNlbnRlciI7Zy5zdHlsZS53aGl0ZVNwYWNlPSJub3dyYXAiO3ZhciB2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7di5zZXRBdHRyaWJ1dGUoInR5cGUiLCJjaGVja2JveCIpO2s9bXhVdGlscy5idXR0b24oa3x8bXhSZXNvdXJjZXMuZ2V0KCJjYW5jZWwiKSxmdW5jdGlvbigpe2EuaGlkZURpYWxvZygpO251bGwhPWQmJmQodi5jaGVja2VkKX0pO2suY2xhc3NOYW1lPSJnZUJ0biI7bnVsbCE9YiYmKGsuaW5uZXJIVE1MPWIrIjxicj4iK2suaW5uZXJIVE1MLGsuc3R5bGUucGFkZGluZ0JvdHRvbT0KIjhweCIsay5zdHlsZS5wYWRkaW5nVG9wPSI4cHgiLGsuc3R5bGUuaGVpZ2h0PSJhdXRvIixrLnN0eWxlLndpZHRoPSI0MCUiKTthLmVkaXRvci5jYW5jZWxGaXJzdCYmZy5hcHBlbmRDaGlsZChrKTt2YXIgdD1teFV0aWxzLmJ1dHRvbihtfHxteFJlc291cmNlcy5nZXQoIm9rIiksZnVuY3Rpb24oKXthLmhpZGVEaWFsb2coKTtudWxsIT1mJiZmKHYuY2hlY2tlZCl9KTtnLmFwcGVuZENoaWxkKHQpO251bGwhPXE/KHQuaW5uZXJIVE1MPXErIjxicj4iK3QuaW5uZXJIVE1MKyI8YnI+Iix0LnN0eWxlLnBhZGRpbmdCb3R0b209IjhweCIsdC5zdHlsZS5wYWRkaW5nVG9wPSI4cHgiLHQuc3R5bGUuaGVpZ2h0PSJhdXRvIix0LmNsYXNzTmFtZT0iZ2VCdG4iLHQuc3R5bGUud2lkdGg9IjQwJSIpOnQuY2xhc3NOYW1lPSJnZUJ0biBnZVByaW1hcnlCdG4iO2EuZWRpdG9yLmNhbmNlbEZpcnN0fHxnLmFwcGVuZENoaWxkKGspO2wuYXBwZW5kQ2hpbGQoZyk7ZT8oZy5zdHlsZS5tYXJnaW5Ub3A9CiIxMHB4IixuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInAiKSxuLnN0eWxlLm1hcmdpblRvcD0iMjBweCIsbi5hcHBlbmRDaGlsZCh2KSxtPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKSxteFV0aWxzLndyaXRlKG0sIiAiK214UmVzb3VyY2VzLmdldCgicmVtZW1iZXJUaGlzU2V0dGluZyIpKSxuLmFwcGVuZENoaWxkKG0pLGwuYXBwZW5kQ2hpbGQobiksbXhFdmVudC5hZGRMaXN0ZW5lcihtLCJjbGljayIsZnVuY3Rpb24oYSl7di5jaGVja2VkPSF2LmNoZWNrZWQ7bXhFdmVudC5jb25zdW1lKGEpfSkpOmcuc3R5bGUubWFyZ2luVG9wPSIxMnB4Ijt0aGlzLmluaXQ9ZnVuY3Rpb24oKXt0LmZvY3VzKCl9O3RoaXMuY29udGFpbmVyPWx9O2Z1bmN0aW9uIERpYWdyYW1QYWdlKGEsYyl7dGhpcy5ub2RlPWE7bnVsbCE9Yz90aGlzLm5vZGUuc2V0QXR0cmlidXRlKCJpZCIsYyk6bnVsbD09dGhpcy5nZXRJZCgpJiZ0aGlzLm5vZGUuc2V0QXR0cmlidXRlKCJpZCIsRWRpdG9yLmd1aWQoKSl9RGlhZ3JhbVBhZ2UucHJvdG90eXBlLm5vZGU9bnVsbDtEaWFncmFtUGFnZS5wcm90b3R5cGUucm9vdD1udWxsO0RpYWdyYW1QYWdlLnByb3RvdHlwZS52aWV3U3RhdGU9bnVsbDtEaWFncmFtUGFnZS5wcm90b3R5cGUuZ2V0SWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlLmdldEF0dHJpYnV0ZSgiaWQiKX07RGlhZ3JhbVBhZ2UucHJvdG90eXBlLmdldE5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlLmdldEF0dHJpYnV0ZSgibmFtZSIpfTsKRGlhZ3JhbVBhZ2UucHJvdG90eXBlLnNldE5hbWU9ZnVuY3Rpb24oYSl7bnVsbD09YT90aGlzLm5vZGUucmVtb3ZlQXR0cmlidXRlKCJuYW1lIik6dGhpcy5ub2RlLnNldEF0dHJpYnV0ZSgibmFtZSIsYSl9O2Z1bmN0aW9uIFJlbmFtZVBhZ2UoYSxjLGYpe3RoaXMudWk9YTt0aGlzLnBhZ2U9Yzt0aGlzLnByZXZpb3VzPXRoaXMubmFtZT1mfVJlbmFtZVBhZ2UucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnBhZ2UuZ2V0TmFtZSgpO3RoaXMucGFnZS5zZXROYW1lKHRoaXMucHJldmlvdXMpO3RoaXMubmFtZT10aGlzLnByZXZpb3VzO3RoaXMucHJldmlvdXM9YTt0aGlzLnVpLmVkaXRvci5ncmFwaC51cGRhdGVQbGFjZWhvbGRlcnMoKTt0aGlzLnVpLmVkaXRvci5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoInBhZ2VSZW5hbWVkIikpfTsKZnVuY3Rpb24gTW92ZVBhZ2UoYSxjLGYpe3RoaXMudWk9YTt0aGlzLm9sZEluZGV4PWM7dGhpcy5uZXdJbmRleD1mfU1vdmVQYWdlLnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKCl7dGhpcy51aS5wYWdlcy5zcGxpY2UodGhpcy5uZXdJbmRleCwwLHRoaXMudWkucGFnZXMuc3BsaWNlKHRoaXMub2xkSW5kZXgsMSlbMF0pO3ZhciBhPXRoaXMub2xkSW5kZXg7dGhpcy5vbGRJbmRleD10aGlzLm5ld0luZGV4O3RoaXMubmV3SW5kZXg9YTt0aGlzLnVpLmVkaXRvci5ncmFwaC51cGRhdGVQbGFjZWhvbGRlcnMoKTt0aGlzLnVpLmVkaXRvci5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoInBhZ2VNb3ZlZCIpKX07CmZ1bmN0aW9uIFNlbGVjdFBhZ2UoYSxjLGYpe3RoaXMudWk9YTt0aGlzLnByZXZpb3VzUGFnZT10aGlzLnBhZ2U9Yzt0aGlzLm5ldmVyU2hvd249ITA7bnVsbCE9YyYmKHRoaXMubmV2ZXJTaG93bj1udWxsPT1jLnZpZXdTdGF0ZSx0aGlzLnVpLnVwZGF0ZVBhZ2VSb290KGMpLG51bGwhPWYmJihjLnZpZXdTdGF0ZT1mLHRoaXMubmV2ZXJTaG93bj0hMSkpfQpTZWxlY3RQYWdlLnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKCl7dmFyIGE9bXhVdGlscy5pbmRleE9mKHRoaXMudWkucGFnZXMsdGhpcy5wcmV2aW91c1BhZ2UpO2lmKG51bGwhPXRoaXMucGFnZSYmMDw9YSl7dmFyIGE9dGhpcy51aS5jdXJyZW50UGFnZSxjPXRoaXMudWkuZWRpdG9yLGY9Yy5ncmFwaCxkPUdyYXBoLmNvbXByZXNzTm9kZShjLmdldEdyYXBoWG1sKCEwKSk7bXhVdGlscy5zZXRUZXh0Q29udGVudChhLm5vZGUsZCk7YS52aWV3U3RhdGU9Zi5nZXRWaWV3U3RhdGUoKTthLnJvb3Q9Zi5tb2RlbC5yb290O251bGwhPWEubW9kZWwmJmEubW9kZWwucm9vdENoYW5nZWQoYS5yb290KTtmLnZpZXcuY2xlYXIoYS5yb290LCEwKTtmLmNsZWFyU2VsZWN0aW9uKCk7dGhpcy51aS5jdXJyZW50UGFnZT10aGlzLnByZXZpb3VzUGFnZTt0aGlzLnByZXZpb3VzUGFnZT1hO2E9dGhpcy51aS5jdXJyZW50UGFnZTtmLm1vZGVsLnByZWZpeD1FZGl0b3IuZ3VpZCgpKyItIjtmLm1vZGVsLnJvb3RDaGFuZ2VkKGEucm9vdCk7CmYuc2V0Vmlld1N0YXRlKGEudmlld1N0YXRlKTtmLmdyaWRFbmFibGVkPWYuZ3JpZEVuYWJsZWQmJighdGhpcy51aS5lZGl0b3IuaXNDaHJvbWVsZXNzVmlldygpfHwiMSI9PXVybFBhcmFtcy5ncmlkKTtjLnVwZGF0ZUdyYXBoQ29tcG9uZW50cygpO2Yudmlldy52YWxpZGF0ZSgpO2YuYmxvY2tNYXRoUmVuZGVyPSEwO2Yuc2l6ZURpZENoYW5nZSgpO2YuYmxvY2tNYXRoUmVuZGVyPSExO3RoaXMubmV2ZXJTaG93biYmKHRoaXMubmV2ZXJTaG93bj0hMSxmLnNlbGVjdFVubG9ja2VkTGF5ZXIoKSk7Yy5ncmFwaC5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5ST09UKSk7Yy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoInBhZ2VTZWxlY3RlZCIsImNoYW5nZSIsdGhpcykpfX07CmZ1bmN0aW9uIENoYW5nZVBhZ2UoYSxjLGYsZCxtKXtTZWxlY3RQYWdlLmNhbGwodGhpcyxhLGYpO3RoaXMucmVsYXRlZFBhZ2U9Yzt0aGlzLmluZGV4PWQ7dGhpcy5wcmV2aW91c0luZGV4PW51bGw7dGhpcy5ub1NlbGVjdD1tfW14VXRpbHMuZXh0ZW5kKENoYW5nZVBhZ2UsU2VsZWN0UGFnZSk7CkNoYW5nZVBhZ2UucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oKXt0aGlzLnVpLmVkaXRvci5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoImJlZm9yZVBhZ2VDaGFuZ2UiLCJjaGFuZ2UiLHRoaXMpKTt0aGlzLnByZXZpb3VzSW5kZXg9dGhpcy5pbmRleDtpZihudWxsPT10aGlzLmluZGV4KXt2YXIgYT1teFV0aWxzLmluZGV4T2YodGhpcy51aS5wYWdlcyx0aGlzLnJlbGF0ZWRQYWdlKTt0aGlzLnVpLnBhZ2VzLnNwbGljZShhLDEpO3RoaXMuaW5kZXg9YX1lbHNlIHRoaXMudWkucGFnZXMuc3BsaWNlKHRoaXMuaW5kZXgsMCx0aGlzLnJlbGF0ZWRQYWdlKSx0aGlzLmluZGV4PW51bGw7dGhpcy5ub1NlbGVjdHx8U2VsZWN0UGFnZS5wcm90b3R5cGUuZXhlY3V0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O0VkaXRvclVpLnByb3RvdHlwZS50YWJDb250YWluZXJIZWlnaHQ9Mzg7CkVkaXRvclVpLnByb3RvdHlwZS5nZXRTZWxlY3RlZFBhZ2VJbmRleD1mdW5jdGlvbigpe3ZhciBhPW51bGw7aWYobnVsbCE9dGhpcy5wYWdlcyYmbnVsbCE9dGhpcy5jdXJyZW50UGFnZSlmb3IodmFyIGM9MDtjPHRoaXMucGFnZXMubGVuZ3RoO2MrKylpZih0aGlzLnBhZ2VzW2NdPT10aGlzLmN1cnJlbnRQYWdlKXthPWM7YnJlYWt9cmV0dXJuIGF9O0VkaXRvclVpLnByb3RvdHlwZS5nZXRQYWdlQnlJZD1mdW5jdGlvbihhKXtpZihudWxsIT10aGlzLnBhZ2VzKWZvcih2YXIgYz0wO2M8dGhpcy5wYWdlcy5sZW5ndGg7YysrKWlmKHRoaXMucGFnZXNbY10uZ2V0SWQoKT09YSlyZXR1cm4gdGhpcy5wYWdlc1tjXTtyZXR1cm4gbnVsbH07CkVkaXRvclVpLnByb3RvdHlwZS5pbml0UGFnZXM9ZnVuY3Rpb24oKXtpZighdGhpcy5lZGl0b3IuZ3JhcGguc3RhbmRhbG9uZSl7dGhpcy5hY3Rpb25zLmFkZEFjdGlvbigicHJldmlvdXNQYWdlIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuc2VsZWN0TmV4dFBhZ2UoITEpfSkpO3RoaXMuYWN0aW9ucy5hZGRBY3Rpb24oIm5leHRQYWdlIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuc2VsZWN0TmV4dFBhZ2UoITApfSkpO3RoaXMuaXNQYWdlc0VuYWJsZWQoKSYmKHRoaXMua2V5SGFuZGxlci5iaW5kQWN0aW9uKDMzLCEwLCJwcmV2aW91c1BhZ2UiLCEwKSx0aGlzLmtleUhhbmRsZXIuYmluZEFjdGlvbigzNCwhMCwibmV4dFBhZ2UiLCEwKSk7dmFyIGE9dGhpcy5lZGl0b3IuZ3JhcGgsYz1hLnZpZXcudmFsaWRhdGVCYWNrZ3JvdW5kO2Eudmlldy52YWxpZGF0ZUJhY2tncm91bmQ9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLnRhYkNvbnRhaW5lcil7dmFyIGQ9CnRoaXMudGFiQ29udGFpbmVyLnN0eWxlLmhlaWdodDt0aGlzLnRhYkNvbnRhaW5lci5zdHlsZS5oZWlnaHQ9bnVsbD09dGhpcy5maWxlTm9kZXx8bnVsbD09dGhpcy5wYWdlc3x8MT09dGhpcy5wYWdlcy5sZW5ndGgmJiIwIj09dXJsUGFyYW1zLnBhZ2VzPyIwcHgiOnRoaXMudGFiQ29udGFpbmVySGVpZ2h0KyJweCI7ZCE9dGhpcy50YWJDb250YWluZXIuc3R5bGUuaGVpZ2h0JiZ0aGlzLnJlZnJlc2goITEpfWMuYXBwbHkoYS52aWV3LGFyZ3VtZW50cyl9KTt2YXIgZj1udWxsLGQ9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZVRhYkNvbnRhaW5lcigpO3ZhciBjPXRoaXMuY3VycmVudFBhZ2U7bnVsbCE9YyYmYyE9ZiYmKG51bGw9PWMudmlld1N0YXRlfHxudWxsPT1jLnZpZXdTdGF0ZS5zY3JvbGxMZWZ0Pyh0aGlzLnJlc2V0U2Nyb2xsYmFycygpLGEuaXNMaWdodGJveFZpZXcoKSYmdGhpcy5saWdodGJveEZpdCgpLG51bGwhPXRoaXMuY2hyb21lbGVzc1Jlc2l6ZSYmCihhLmNvbnRhaW5lci5zY3JvbGxMZWZ0PTAsYS5jb250YWluZXIuc2Nyb2xsVG9wPTAsdGhpcy5jaHJvbWVsZXNzUmVzaXplKCkpKTooYS5jb250YWluZXIuc2Nyb2xsTGVmdD1hLnZpZXcudHJhbnNsYXRlLngqYS52aWV3LnNjYWxlK2Mudmlld1N0YXRlLnNjcm9sbExlZnQsYS5jb250YWluZXIuc2Nyb2xsVG9wPWEudmlldy50cmFuc2xhdGUueSphLnZpZXcuc2NhbGUrYy52aWV3U3RhdGUuc2Nyb2xsVG9wKSxmPWMpO251bGwhPXRoaXMuYWN0aW9ucy5sYXllcnNXaW5kb3cmJnRoaXMuYWN0aW9ucy5sYXllcnNXaW5kb3cucmVmcmVzaExheWVycygpOyJ1bmRlZmluZWQiIT09dHlwZW9mIE1hdGhKYXgmJiJ1bmRlZmluZWQiIT09dHlwZW9mIE1hdGhKYXguSHViPzEhPU1hdGhKYXguSHViLnF1ZXVlLnBlbmRpbmd8fG51bGw9PXRoaXMuZWRpdG9yfHx0aGlzLmVkaXRvci5ncmFwaC5tYXRoRW5hYmxlZHx8TWF0aEpheC5IdWIuUXVldWUobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtudWxsIT0KdGhpcy5lZGl0b3ImJnRoaXMuZWRpdG9yLmdyYXBoLnJlZnJlc2goKX0pKToidW5kZWZpbmVkIj09PXR5cGVvZiBFZGl0b3IuTWF0aEpheENsZWFyfHxudWxsIT10aGlzLmVkaXRvciYmdGhpcy5lZGl0b3IuZ3JhcGgubWF0aEVuYWJsZWR8fEVkaXRvci5NYXRoSmF4Q2xlYXIoKX0pO3RoaXMuZWRpdG9yLmdyYXBoLm1vZGVsLmFkZExpc3RlbmVyKG14RXZlbnQuQ0hBTkdFLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYyl7Zm9yKHZhciBmPWMuZ2V0UHJvcGVydHkoImVkaXQiKS5jaGFuZ2VzLGI9MDtiPGYubGVuZ3RoO2IrKylpZihmW2JdaW5zdGFuY2VvZiBTZWxlY3RQYWdlfHxmW2JdaW5zdGFuY2VvZiBSZW5hbWVQYWdlfHxmW2JdaW5zdGFuY2VvZiBNb3ZlUGFnZXx8ZltiXWluc3RhbmNlb2YgbXhSb290Q2hhbmdlKXtkKCk7YnJlYWt9fSkpO251bGwhPXRoaXMudG9vbGJhciYmdGhpcy5lZGl0b3IuYWRkTGlzdGVuZXIoInBhZ2VTZWxlY3RlZCIsdGhpcy50b29sYmFyLnVwZGF0ZVpvb20pfX07CkVkaXRvclVpLnByb3RvdHlwZS5yZXN0b3JlVmlld1N0YXRlPWZ1bmN0aW9uKGEsYyxmKXthPW51bGwhPWE/dGhpcy5nZXRQYWdlQnlJZChhLmdldElkKCkpOm51bGw7dmFyIGQ9dGhpcy5lZGl0b3IuZ3JhcGg7bnVsbCE9YSYmbnVsbCE9dGhpcy5jdXJyZW50UGFnZSYmbnVsbCE9dGhpcy5wYWdlcyYmKGEhPXRoaXMuY3VycmVudFBhZ2U/dGhpcy5zZWxlY3RQYWdlKGEsITAsYyk6KGQuc2V0Vmlld1N0YXRlKGMpLHRoaXMuZWRpdG9yLnVwZGF0ZUdyYXBoQ29tcG9uZW50cygpLGQudmlldy5yZXZhbGlkYXRlKCksZC5zaXplRGlkQ2hhbmdlKCkpLGQuY29udGFpbmVyLnNjcm9sbExlZnQ9ZC52aWV3LnRyYW5zbGF0ZS54KmQudmlldy5zY2FsZStjLnNjcm9sbExlZnQsZC5jb250YWluZXIuc2Nyb2xsVG9wPWQudmlldy50cmFuc2xhdGUueSpkLnZpZXcuc2NhbGUrYy5zY3JvbGxUb3AsZC5yZXN0b3JlU2VsZWN0aW9uKGYpKX07CkdyYXBoLnByb3RvdHlwZS5jcmVhdGVWaWV3U3RhdGU9ZnVuY3Rpb24oYSl7dmFyIGM9YS5nZXRBdHRyaWJ1dGUoInBhZ2UiKSxmPXBhcnNlRmxvYXQoYS5nZXRBdHRyaWJ1dGUoInBhZ2VTY2FsZSIpKSxkPXBhcnNlRmxvYXQoYS5nZXRBdHRyaWJ1dGUoInBhZ2VXaWR0aCIpKSxtPXBhcnNlRmxvYXQoYS5nZXRBdHRyaWJ1dGUoInBhZ2VIZWlnaHQiKSksaz1hLmdldEF0dHJpYnV0ZSgiYmFja2dyb3VuZCIpLHE9YS5nZXRBdHRyaWJ1dGUoImJhY2tncm91bmRJbWFnZSIpLHE9bnVsbCE9cSYmMDxxLmxlbmd0aD9KU09OLnBhcnNlKHEpOm51bGwsYj1hLmdldEF0dHJpYnV0ZSgiZXh0Rm9udHMiKTtpZihiKXRyeXtiPWIuc3BsaXQoInwiKS5tYXAoZnVuY3Rpb24oYSl7YT1hLnNwbGl0KCJeIik7cmV0dXJue25hbWU6YVswXSx1cmw6YVsxXX19KX1jYXRjaChlKXtjb25zb2xlLmxvZygiRXh0Rm9udHMgZm9ybWF0IGVycm9yOiAiK2UubWVzc2FnZSl9cmV0dXJue2dyaWRFbmFibGVkOiIwIiE9CmEuZ2V0QXR0cmlidXRlKCJncmlkIiksZ3JpZFNpemU6cGFyc2VGbG9hdChhLmdldEF0dHJpYnV0ZSgiZ3JpZFNpemUiKSl8fG14R3JhcGgucHJvdG90eXBlLmdyaWRTaXplLGd1aWRlc0VuYWJsZWQ6IjAiIT1hLmdldEF0dHJpYnV0ZSgiZ3VpZGVzIiksZm9sZGluZ0VuYWJsZWQ6IjAiIT1hLmdldEF0dHJpYnV0ZSgiZm9sZCIpLHNoYWRvd1Zpc2libGU6IjEiPT1hLmdldEF0dHJpYnV0ZSgic2hhZG93IikscGFnZVZpc2libGU6dGhpcy5pc0xpZ2h0Ym94VmlldygpPyExOm51bGwhPWM/IjAiIT1jOnRoaXMuZGVmYXVsdFBhZ2VWaXNpYmxlLGJhY2tncm91bmQ6bnVsbCE9ayYmMDxrLmxlbmd0aD9rOm51bGwsYmFja2dyb3VuZEltYWdlOm51bGwhPXE/bmV3IG14SW1hZ2UocS5zcmMscS53aWR0aCxxLmhlaWdodCk6bnVsbCxwYWdlU2NhbGU6aXNOYU4oZik/bXhHcmFwaC5wcm90b3R5cGUucGFnZVNjYWxlOmYscGFnZUZvcm1hdDppc05hTihkKXx8aXNOYU4obSk/InVuZGVmaW5lZCI9PT0KdHlwZW9mIG14U2V0dGluZ3M/bXhHcmFwaC5wcm90b3R5cGUucGFnZUZvcm1hdDpteFNldHRpbmdzLmdldFBhZ2VGb3JtYXQoKTpuZXcgbXhSZWN0YW5nbGUoMCwwLGQsbSksdG9vbHRpcHM6IjAiIT1hLmdldEF0dHJpYnV0ZSgidG9vbHRpcHMiKSxjb25uZWN0OiIwIiE9YS5nZXRBdHRyaWJ1dGUoImNvbm5lY3QiKSxhcnJvd3M6IjAiIT1hLmdldEF0dHJpYnV0ZSgiYXJyb3dzIiksbWF0aEVuYWJsZWQ6IjEiPT1hLmdldEF0dHJpYnV0ZSgibWF0aCIpLHNlbGVjdGlvbkNlbGxzOm51bGwsZGVmYXVsdFBhcmVudDpudWxsLHNjcm9sbGJhcnM6dGhpcy5kZWZhdWx0U2Nyb2xsYmFycyxzY2FsZToxLGV4dEZvbnRzOmJ8fFtdfX07CkdyYXBoLnByb3RvdHlwZS5zYXZlVmlld1N0YXRlPWZ1bmN0aW9uKGEsYyxmKXtmfHwoYy5zZXRBdHRyaWJ1dGUoImdyaWQiLG51bGw9PWF8fGEuZ3JpZEVuYWJsZWQ/IjEiOiIwIiksYy5zZXRBdHRyaWJ1dGUoImdyaWRTaXplIixudWxsIT1hP2EuZ3JpZFNpemU6bXhHcmFwaC5wcm90b3R5cGUuZ3JpZFNpemUpLGMuc2V0QXR0cmlidXRlKCJndWlkZXMiLG51bGw9PWF8fGEuZ3VpZGVzRW5hYmxlZD8iMSI6IjAiKSxjLnNldEF0dHJpYnV0ZSgidG9vbHRpcHMiLG51bGw9PWF8fGEudG9vbHRpcHM/IjEiOiIwIiksYy5zZXRBdHRyaWJ1dGUoImNvbm5lY3QiLG51bGw9PWF8fGEuY29ubmVjdD8iMSI6IjAiKSxjLnNldEF0dHJpYnV0ZSgiYXJyb3dzIixudWxsPT1hfHxhLmFycm93cz8iMSI6IjAiKSxjLnNldEF0dHJpYnV0ZSgicGFnZSIsbnVsbD09YSYmdGhpcy5kZWZhdWx0UGFnZVZpc2libGV8fG51bGwhPWEmJmEucGFnZVZpc2libGU/IjEiOiIwIiksYy5zZXRBdHRyaWJ1dGUoImZvbGQiLApudWxsPT1hfHxhLmZvbGRpbmdFbmFibGVkPyIxIjoiMCIpKTtjLnNldEF0dHJpYnV0ZSgicGFnZVNjYWxlIixudWxsIT1hJiZudWxsIT1hLnBhZ2VTY2FsZT9hLnBhZ2VTY2FsZTpteEdyYXBoLnByb3RvdHlwZS5wYWdlU2NhbGUpO2Y9bnVsbCE9YT9hLnBhZ2VGb3JtYXQ6InVuZGVmaW5lZCI9PT10eXBlb2YgbXhTZXR0aW5ncz9teEdyYXBoLnByb3RvdHlwZS5wYWdlRm9ybWF0Om14U2V0dGluZ3MuZ2V0UGFnZUZvcm1hdCgpO251bGwhPWYmJihjLnNldEF0dHJpYnV0ZSgicGFnZVdpZHRoIixmLndpZHRoKSxjLnNldEF0dHJpYnV0ZSgicGFnZUhlaWdodCIsZi5oZWlnaHQpKTtudWxsIT1hJiZudWxsIT1hLmJhY2tncm91bmQmJmMuc2V0QXR0cmlidXRlKCJiYWNrZ3JvdW5kIixhLmJhY2tncm91bmQpO251bGwhPWEmJm51bGwhPWEuYmFja2dyb3VuZEltYWdlJiZjLnNldEF0dHJpYnV0ZSgiYmFja2dyb3VuZEltYWdlIixKU09OLnN0cmluZ2lmeShhLmJhY2tncm91bmRJbWFnZSkpO2Muc2V0QXR0cmlidXRlKCJtYXRoIiwKbnVsbCE9YSYmYS5tYXRoRW5hYmxlZD8iMSI6IjAiKTtjLnNldEF0dHJpYnV0ZSgic2hhZG93IixudWxsIT1hJiZhLnNoYWRvd1Zpc2libGU/IjEiOiIwIik7bnVsbCE9YSYmbnVsbCE9YS5leHRGb250cyYmMDxhLmV4dEZvbnRzLmxlbmd0aCYmYy5zZXRBdHRyaWJ1dGUoImV4dEZvbnRzIixhLmV4dEZvbnRzLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5uYW1lKyJeIithLnVybH0pLmpvaW4oInwiKSl9OwpHcmFwaC5wcm90b3R5cGUuZ2V0Vmlld1N0YXRlPWZ1bmN0aW9uKCl7cmV0dXJue2RlZmF1bHRQYXJlbnQ6dGhpcy5kZWZhdWx0UGFyZW50LGN1cnJlbnRSb290OnRoaXMudmlldy5jdXJyZW50Um9vdCxncmlkRW5hYmxlZDp0aGlzLmdyaWRFbmFibGVkLGdyaWRTaXplOnRoaXMuZ3JpZFNpemUsZ3VpZGVzRW5hYmxlZDp0aGlzLmdyYXBoSGFuZGxlci5ndWlkZXNFbmFibGVkLGZvbGRpbmdFbmFibGVkOnRoaXMuZm9sZGluZ0VuYWJsZWQsc2hhZG93VmlzaWJsZTp0aGlzLnNoYWRvd1Zpc2libGUsc2Nyb2xsYmFyczp0aGlzLnNjcm9sbGJhcnMscGFnZVZpc2libGU6dGhpcy5wYWdlVmlzaWJsZSxiYWNrZ3JvdW5kOnRoaXMuYmFja2dyb3VuZCxiYWNrZ3JvdW5kSW1hZ2U6dGhpcy5iYWNrZ3JvdW5kSW1hZ2UscGFnZVNjYWxlOnRoaXMucGFnZVNjYWxlLHBhZ2VGb3JtYXQ6dGhpcy5wYWdlRm9ybWF0LHRvb2x0aXBzOnRoaXMudG9vbHRpcEhhbmRsZXIuaXNFbmFibGVkKCksY29ubmVjdDp0aGlzLmNvbm5lY3Rpb25IYW5kbGVyLmlzRW5hYmxlZCgpLAphcnJvd3M6dGhpcy5jb25uZWN0aW9uQXJyb3dzRW5hYmxlZCxzY2FsZTp0aGlzLnZpZXcuc2NhbGUsc2Nyb2xsTGVmdDp0aGlzLmNvbnRhaW5lci5zY3JvbGxMZWZ0LXRoaXMudmlldy50cmFuc2xhdGUueCp0aGlzLnZpZXcuc2NhbGUsc2Nyb2xsVG9wOnRoaXMuY29udGFpbmVyLnNjcm9sbFRvcC10aGlzLnZpZXcudHJhbnNsYXRlLnkqdGhpcy52aWV3LnNjYWxlLHRyYW5zbGF0ZTp0aGlzLnZpZXcudHJhbnNsYXRlLmNsb25lKCksbGFzdFBhc3RlWG1sOnRoaXMubGFzdFBhc3RlWG1sLHBhc3RlQ291bnRlcjp0aGlzLnBhc3RlQ291bnRlcixtYXRoRW5hYmxlZDp0aGlzLm1hdGhFbmFibGVkLGV4dEZvbnRzOnRoaXMuZXh0Rm9udHN9fTsKR3JhcGgucHJvdG90eXBlLnNldFZpZXdTdGF0ZT1mdW5jdGlvbihhLGMpe2lmKG51bGwhPWEpe3RoaXMubGFzdFBhc3RlWG1sPWEubGFzdFBhc3RlWG1sO3RoaXMucGFzdGVDb3VudGVyPWEucGFzdGVDb3VudGVyfHwwO3RoaXMubWF0aEVuYWJsZWQ9YS5tYXRoRW5hYmxlZDt0aGlzLmdyaWRFbmFibGVkPWEuZ3JpZEVuYWJsZWQ7dGhpcy5ncmlkU2l6ZT1hLmdyaWRTaXplO3RoaXMuZ3JhcGhIYW5kbGVyLmd1aWRlc0VuYWJsZWQ9YS5ndWlkZXNFbmFibGVkO3RoaXMuZm9sZGluZ0VuYWJsZWQ9YS5mb2xkaW5nRW5hYmxlZDt0aGlzLnNldFNoYWRvd1Zpc2libGUoYS5zaGFkb3dWaXNpYmxlLCExKTt0aGlzLnNjcm9sbGJhcnM9YS5zY3JvbGxiYXJzO3RoaXMucGFnZVZpc2libGU9IXRoaXMuaXNWaWV3ZXIoKSYmYS5wYWdlVmlzaWJsZTt0aGlzLmJhY2tncm91bmQ9YS5iYWNrZ3JvdW5kO3RoaXMuYmFja2dyb3VuZEltYWdlPWEuYmFja2dyb3VuZEltYWdlO3RoaXMucGFnZVNjYWxlPWEucGFnZVNjYWxlOwp0aGlzLnBhZ2VGb3JtYXQ9YS5wYWdlRm9ybWF0O3RoaXMudmlldy5jdXJyZW50Um9vdD1hLmN1cnJlbnRSb290O3RoaXMuZGVmYXVsdFBhcmVudD1hLmRlZmF1bHRQYXJlbnQ7dGhpcy5jb25uZWN0aW9uQXJyb3dzRW5hYmxlZD1hLmFycm93czt0aGlzLnNldFRvb2x0aXBzKGEudG9vbHRpcHMpO3RoaXMuc2V0Q29ubmVjdGFibGUoYS5jb25uZWN0KTt2YXIgZj10aGlzLmV4dEZvbnRzO3RoaXMuZXh0Rm9udHM9YS5leHRGb250c3x8W107aWYoYyYmbnVsbCE9Zilmb3IodmFyIGQ9MDtkPGYubGVuZ3RoO2QrKyl7dmFyIG09ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImV4dEZvbnRfIitmW2RdLm5hbWUpO251bGwhPW0mJm0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChtKX1mb3IoZD0wO2Q8dGhpcy5leHRGb250cy5sZW5ndGg7ZCsrKXRoaXMuYWRkRXh0Rm9udCh0aGlzLmV4dEZvbnRzW2RdLm5hbWUsdGhpcy5leHRGb250c1tkXS51cmwsITApO3RoaXMudmlldy5zY2FsZT1udWxsIT1hLnNjYWxlPwphLnNjYWxlOjE7bnVsbD09dGhpcy52aWV3LmN1cnJlbnRSb290fHx0aGlzLm1vZGVsLmNvbnRhaW5zKHRoaXMudmlldy5jdXJyZW50Um9vdCl8fCh0aGlzLnZpZXcuY3VycmVudFJvb3Q9bnVsbCk7bnVsbD09dGhpcy5kZWZhdWx0UGFyZW50fHx0aGlzLm1vZGVsLmNvbnRhaW5zKHRoaXMuZGVmYXVsdFBhcmVudCl8fCh0aGlzLnNldERlZmF1bHRQYXJlbnQobnVsbCksdGhpcy5zZWxlY3RVbmxvY2tlZExheWVyKCkpO251bGwhPWEudHJhbnNsYXRlJiYodGhpcy52aWV3LnRyYW5zbGF0ZT1hLnRyYW5zbGF0ZSl9ZWxzZSB0aGlzLnZpZXcuY3VycmVudFJvb3Q9bnVsbCx0aGlzLnZpZXcuc2NhbGU9MSx0aGlzLmdyaWRFbmFibGVkPSEwLHRoaXMuZ3JpZFNpemU9bXhHcmFwaC5wcm90b3R5cGUuZ3JpZFNpemUsdGhpcy5wYWdlU2NhbGU9bXhHcmFwaC5wcm90b3R5cGUucGFnZVNjYWxlLHRoaXMucGFnZUZvcm1hdD0idW5kZWZpbmVkIj09PXR5cGVvZiBteFNldHRpbmdzP214R3JhcGgucHJvdG90eXBlLnBhZ2VGb3JtYXQ6Cm14U2V0dGluZ3MuZ2V0UGFnZUZvcm1hdCgpLHRoaXMucGFnZVZpc2libGU9dGhpcy5kZWZhdWx0UGFnZVZpc2libGUsdGhpcy5iYWNrZ3JvdW5kSW1hZ2U9dGhpcy5iYWNrZ3JvdW5kPW51bGwsdGhpcy5zY3JvbGxiYXJzPXRoaXMuZGVmYXVsdFNjcm9sbGJhcnMsdGhpcy5mb2xkaW5nRW5hYmxlZD10aGlzLmdyYXBoSGFuZGxlci5ndWlkZXNFbmFibGVkPSEwLHRoaXMuc2V0U2hhZG93VmlzaWJsZSghMSwhMSksdGhpcy5kZWZhdWx0UGFyZW50PW51bGwsdGhpcy5zZXRUb29sdGlwcyghMCksdGhpcy5zZXRDb25uZWN0YWJsZSghMCksdGhpcy5sYXN0UGFzdGVYbWw9bnVsbCx0aGlzLnBhc3RlQ291bnRlcj0wLHRoaXMubWF0aEVuYWJsZWQ9ITEsdGhpcy5jb25uZWN0aW9uQXJyb3dzRW5hYmxlZD0hMCx0aGlzLmV4dEZvbnRzPVtdO3RoaXMucHJlZmVyUGFnZVNpemU9dGhpcy5wYWdlQnJlYWtzVmlzaWJsZT10aGlzLnBhZ2VWaXNpYmxlO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJ2aWV3U3RhdGVDaGFuZ2VkIiwKInN0YXRlIixhKSl9OwpHcmFwaC5wcm90b3R5cGUuYWRkRXh0Rm9udD1mdW5jdGlvbihhLGMsZil7aWYoYSYmYyl7dmFyIGQ9ImV4dEZvbnRfIithO2lmKG51bGw9PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGQpKWlmKDA9PWMuaW5kZXhPZihFZGl0b3IuR09PR0xFX0ZPTlRTKSlteENsaWVudC5saW5rKCJzdHlsZXNoZWV0IixjLG51bGwsZCk7ZWxzZXtkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpO3ZhciBtPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7bS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnQGZvbnQtZmFjZSB7XG5cdGZvbnQtZmFtaWx5OiAiJythKyciO1xuXHRzcmM6IHVybCgiJytjKyciKTtcbn0nKSk7bS5zZXRBdHRyaWJ1dGUoImlkIixkKTtkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdLmFwcGVuZENoaWxkKG0pfWlmKCFmKXtudWxsPT10aGlzLmV4dEZvbnRzJiYodGhpcy5leHRGb250cz1bXSk7Zj10aGlzLmV4dEZvbnRzOwpkPSEwO2ZvcihtPTA7bTxmLmxlbmd0aDttKyspaWYoZlttXS5uYW1lPT1hKXtkPSExO2JyZWFrfWQmJnRoaXMuZXh0Rm9udHMucHVzaCh7bmFtZTphLHVybDpjfSl9fX07CkVkaXRvclVpLnByb3RvdHlwZS51cGRhdGVQYWdlUm9vdD1mdW5jdGlvbihhLGMpe2lmKG51bGw9PWEucm9vdCl7dmFyIGY9dGhpcy5lZGl0b3IuZXh0cmFjdEdyYXBoTW9kZWwoYS5ub2RlLG51bGwsYyksZD1FZGl0b3IuZXh0cmFjdFBhcnNlckVycm9yKGYpO2lmKGQpdGhyb3cgRXJyb3IoZCk7bnVsbCE9Zj8oYS5ncmFwaE1vZGVsTm9kZT1mLGEudmlld1N0YXRlPXRoaXMuZWRpdG9yLmdyYXBoLmNyZWF0ZVZpZXdTdGF0ZShmKSxkPW5ldyBteENvZGVjKGYub3duZXJEb2N1bWVudCksYS5yb290PWQuZGVjb2RlKGYpLnJvb3QpOmEucm9vdD10aGlzLmVkaXRvci5ncmFwaC5tb2RlbC5jcmVhdGVSb290KCl9ZWxzZSBpZihudWxsPT1hLnZpZXdTdGF0ZSl7aWYobnVsbD09YS5ncmFwaE1vZGVsTm9kZSl7Zj10aGlzLmVkaXRvci5leHRyYWN0R3JhcGhNb2RlbChhLm5vZGUpO2lmKGQ9RWRpdG9yLmV4dHJhY3RQYXJzZXJFcnJvcihmKSl0aHJvdyBFcnJvcihkKTtudWxsIT1mJiYoYS5ncmFwaE1vZGVsTm9kZT0KZil9bnVsbCE9YS5ncmFwaE1vZGVsTm9kZSYmKGEudmlld1N0YXRlPXRoaXMuZWRpdG9yLmdyYXBoLmNyZWF0ZVZpZXdTdGF0ZShhLmdyYXBoTW9kZWxOb2RlKSl9cmV0dXJuIGF9OwpFZGl0b3JVaS5wcm90b3R5cGUuc2VsZWN0UGFnZT1mdW5jdGlvbihhLGMsZil7dHJ5e2lmKGEhPXRoaXMuY3VycmVudFBhZ2Upe3RoaXMuZWRpdG9yLmdyYXBoLmlzRWRpdGluZygpJiZ0aGlzLmVkaXRvci5ncmFwaC5zdG9wRWRpdGluZyghMSk7Yz1udWxsIT1jP2M6ITE7dGhpcy5lZGl0b3IuZ3JhcGguaXNNb3VzZURvd249ITE7dGhpcy5lZGl0b3IuZ3JhcGgucmVzZXQoKTt2YXIgZD10aGlzLmVkaXRvci5ncmFwaC5tb2RlbC5jcmVhdGVVbmRvYWJsZUVkaXQoKTtkLmlnbm9yZUVkaXQ9ITA7dmFyIG09bmV3IFNlbGVjdFBhZ2UodGhpcyxhLGYpO20uZXhlY3V0ZSgpO2QuYWRkKG0pO2Qubm90aWZ5KCk7dGhpcy5lZGl0b3IuZ3JhcGgudG9vbHRpcEhhbmRsZXIuaGlkZSgpO2N8fHRoaXMuZWRpdG9yLmdyYXBoLm1vZGVsLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlVORE8sImVkaXQiLGQpKX19Y2F0Y2goayl7dGhpcy5oYW5kbGVFcnJvcihrKX19OwpFZGl0b3JVaS5wcm90b3R5cGUuc2VsZWN0TmV4dFBhZ2U9ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5jdXJyZW50UGFnZTtudWxsIT1jJiZudWxsIT10aGlzLnBhZ2VzJiYoYz1teFV0aWxzLmluZGV4T2YodGhpcy5wYWdlcyxjKSxhP3RoaXMuc2VsZWN0UGFnZSh0aGlzLnBhZ2VzW214VXRpbHMubW9kKGMrMSx0aGlzLnBhZ2VzLmxlbmd0aCldKTphfHx0aGlzLnNlbGVjdFBhZ2UodGhpcy5wYWdlc1tteFV0aWxzLm1vZChjLTEsdGhpcy5wYWdlcy5sZW5ndGgpXSkpfTsKRWRpdG9yVWkucHJvdG90eXBlLmluc2VydFBhZ2U9ZnVuY3Rpb24oYSxjKXtpZih0aGlzLmVkaXRvci5ncmFwaC5pc0VuYWJsZWQoKSl7dGhpcy5lZGl0b3IuZ3JhcGguaXNFZGl0aW5nKCkmJnRoaXMuZWRpdG9yLmdyYXBoLnN0b3BFZGl0aW5nKCExKTthPW51bGwhPWE/YTp0aGlzLmNyZWF0ZVBhZ2UobnVsbCx0aGlzLmNyZWF0ZVBhZ2VJZCgpKTtjPW51bGwhPWM/Yzp0aGlzLnBhZ2VzLmxlbmd0aDt2YXIgZj1uZXcgQ2hhbmdlUGFnZSh0aGlzLGEsYSxjKTt0aGlzLmVkaXRvci5ncmFwaC5tb2RlbC5leGVjdXRlKGYpfXJldHVybiBhfTtFZGl0b3JVaS5wcm90b3R5cGUuY3JlYXRlUGFnZUlkPWZ1bmN0aW9uKCl7dmFyIGE7ZG8gYT1FZGl0b3IuZ3VpZCgpO3doaWxlKG51bGwhPXRoaXMuZ2V0UGFnZUJ5SWQoYSkpO3JldHVybiBhfTsKRWRpdG9yVWkucHJvdG90eXBlLmNyZWF0ZVBhZ2U9ZnVuY3Rpb24oYSxjKXt2YXIgZj1uZXcgRGlhZ3JhbVBhZ2UodGhpcy5maWxlTm9kZS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpYWdyYW0iKSxjKTtmLnNldE5hbWUobnVsbCE9YT9hOnRoaXMuY3JlYXRlUGFnZU5hbWUoKSk7cmV0dXJuIGZ9O0VkaXRvclVpLnByb3RvdHlwZS5jcmVhdGVQYWdlTmFtZT1mdW5jdGlvbigpe2Zvcih2YXIgYT17fSxjPTA7Yzx0aGlzLnBhZ2VzLmxlbmd0aDtjKyspe3ZhciBmPXRoaXMucGFnZXNbY10uZ2V0TmFtZSgpO251bGwhPWYmJjA8Zi5sZW5ndGgmJihhW2ZdPWYpfWM9dGhpcy5wYWdlcy5sZW5ndGg7ZG8gZj1teFJlc291cmNlcy5nZXQoInBhZ2VXaXRoTnVtYmVyIixbKytjXSk7d2hpbGUobnVsbCE9YVtmXSk7cmV0dXJuIGZ9OwpFZGl0b3JVaS5wcm90b3R5cGUucmVtb3ZlUGFnZT1mdW5jdGlvbihhKXt0cnl7dmFyIGM9dGhpcy5lZGl0b3IuZ3JhcGgsZj1teFV0aWxzLmluZGV4T2YodGhpcy5wYWdlcyxhKTtpZihjLmlzRW5hYmxlZCgpJiYwPD1mKXt0aGlzLmVkaXRvci5ncmFwaC5pc0VkaXRpbmcoKSYmdGhpcy5lZGl0b3IuZ3JhcGguc3RvcEVkaXRpbmcoITEpO2MubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7dmFyIGQ9dGhpcy5jdXJyZW50UGFnZTtkPT1hJiYxPHRoaXMucGFnZXMubGVuZ3RoPyhmPT10aGlzLnBhZ2VzLmxlbmd0aC0xP2YtLTpmKyssZD10aGlzLnBhZ2VzW2ZdKToxPj10aGlzLnBhZ2VzLmxlbmd0aCYmKGQ9dGhpcy5pbnNlcnRQYWdlKCksYy5tb2RlbC5leGVjdXRlKG5ldyBSZW5hbWVQYWdlKHRoaXMsZCxteFJlc291cmNlcy5nZXQoInBhZ2VXaXRoTnVtYmVyIixbMV0pKSkpO2MubW9kZWwuZXhlY3V0ZShuZXcgQ2hhbmdlUGFnZSh0aGlzLGEsZCkpfWZpbmFsbHl7Yy5tb2RlbC5lbmRVcGRhdGUoKX19fWNhdGNoKG0pe3RoaXMuaGFuZGxlRXJyb3IobSl9cmV0dXJuIGF9OwpFZGl0b3JVaS5wcm90b3R5cGUuZHVwbGljYXRlUGFnZT1mdW5jdGlvbihhLGMpe3ZhciBmPW51bGw7dHJ5e3ZhciBkPXRoaXMuZWRpdG9yLmdyYXBoO2lmKGQuaXNFbmFibGVkKCkpe2QuaXNFZGl0aW5nKCkmJmQuc3RvcEVkaXRpbmcoKTt2YXIgbT1hLm5vZGUuY2xvbmVOb2RlKCExKTttLnJlbW92ZUF0dHJpYnV0ZSgiaWQiKTtmPW5ldyBEaWFncmFtUGFnZShtKTtmLnJvb3Q9ZC5jbG9uZUNlbGwoZC5tb2RlbC5yb290KTtmLnZpZXdTdGF0ZT1kLmdldFZpZXdTdGF0ZSgpO2Yudmlld1N0YXRlLnNjYWxlPTE7Zi52aWV3U3RhdGUuc2Nyb2xsTGVmdD1udWxsO2Yudmlld1N0YXRlLnNjcm9sbFRvcD1udWxsO2Yudmlld1N0YXRlLmN1cnJlbnRSb290PW51bGw7Zi52aWV3U3RhdGUuZGVmYXVsdFBhcmVudD1udWxsO2Yuc2V0TmFtZShjKTtmPXRoaXMuaW5zZXJ0UGFnZShmLG14VXRpbHMuaW5kZXhPZih0aGlzLnBhZ2VzLGEpKzEpfX1jYXRjaChrKXt0aGlzLmhhbmRsZUVycm9yKGspfXJldHVybiBmfTsKRWRpdG9yVWkucHJvdG90eXBlLnJlbmFtZVBhZ2U9ZnVuY3Rpb24oYSl7aWYodGhpcy5lZGl0b3IuZ3JhcGguaXNFbmFibGVkKCkpe3ZhciBjPW5ldyBGaWxlbmFtZURpYWxvZyh0aGlzLGEuZ2V0TmFtZSgpLG14UmVzb3VyY2VzLmdldCgicmVuYW1lIiksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYyl7bnVsbCE9YyYmMDxjLmxlbmd0aCYmdGhpcy5lZGl0b3IuZ3JhcGgubW9kZWwuZXhlY3V0ZShuZXcgUmVuYW1lUGFnZSh0aGlzLGEsYykpfSksbXhSZXNvdXJjZXMuZ2V0KCJyZW5hbWUiKSk7dGhpcy5zaG93RGlhbG9nKGMuY29udGFpbmVyLDMwMCw4MCwhMCwhMCk7Yy5pbml0KCl9cmV0dXJuIGF9O0VkaXRvclVpLnByb3RvdHlwZS5tb3ZlUGFnZT1mdW5jdGlvbihhLGMpe3RoaXMuZWRpdG9yLmdyYXBoLm1vZGVsLmV4ZWN1dGUobmV3IE1vdmVQYWdlKHRoaXMsYSxjKSl9OwpFZGl0b3JVaS5wcm90b3R5cGUuY3JlYXRlVGFiQ29udGFpbmVyPWZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7YS5jbGFzc05hbWU9ImdlVGFiQ29udGFpbmVyIjthLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7YS5zdHlsZS53aGl0ZVNwYWNlPSJub3dyYXAiO2Euc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiI7YS5zdHlsZS5oZWlnaHQ9IjBweCI7cmV0dXJuIGF9OwpFZGl0b3JVaS5wcm90b3R5cGUudXBkYXRlVGFiQ29udGFpbmVyPWZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy50YWJDb250YWluZXImJm51bGwhPXRoaXMucGFnZXMpe3ZhciBhPXRoaXMuZWRpdG9yLmdyYXBoLGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Yy5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiO2Muc3R5bGUuZGlzcGxheT1teENsaWVudC5JU19RVUlSS1M/ImlubGluZSI6ImlubGluZS1ibG9jayI7Yy5zdHlsZS52ZXJ0aWNhbEFsaWduPSJ0b3AiO2Muc3R5bGUuaGVpZ2h0PXRoaXMudGFiQ29udGFpbmVyLnN0eWxlLmhlaWdodDtjLnN0eWxlLndoaXRlU3BhY2U9Im5vd3JhcCI7Yy5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIjtjLnN0eWxlLmZvbnRTaXplPSIxM3B4IjtjLnN0eWxlLm1hcmdpbkxlZnQ9IjMwcHgiO2Zvcih2YXIgZj10aGlzLmVkaXRvci5pc0Nocm9tZWxlc3NWaWV3KCk/Mjk6NTksZD1NYXRoLm1pbigxNDAsTWF0aC5tYXgoMjAsKHRoaXMudGFiQ29udGFpbmVyLmNsaWVudFdpZHRoLQpmKS90aGlzLnBhZ2VzLmxlbmd0aCkrMSksbT1udWxsLGs9MDtrPHRoaXMucGFnZXMubGVuZ3RoO2srKylteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiLGQpe3RoaXMucGFnZXNbYl09PXRoaXMuY3VycmVudFBhZ2U/KGQuY2xhc3NOYW1lPSJnZUFjdGl2ZVBhZ2UiLGQuc3R5bGUuYmFja2dyb3VuZENvbG9yPSJkYXJrIj09dWlUaGVtZT8iIzJhMmEyYSI6IiNmZmYiKTpkLmNsYXNzTmFtZT0iZ2VJbmFjdGl2ZVBhZ2UiO2Quc2V0QXR0cmlidXRlKCJkcmFnZ2FibGUiLCJ0cnVlIik7bXhFdmVudC5hZGRMaXN0ZW5lcihkLCJkcmFnc3RhcnQiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGMpe2EuaXNFbmFibGVkKCk/KG14Q2xpZW50LklTX0ZGJiZjLmRhdGFUcmFuc2Zlci5zZXREYXRhKCJUZXh0IiwiPGRpYWdyYW0vPiIpLG09Yik6bXhFdmVudC5jb25zdW1lKGMpfSkpO214RXZlbnQuYWRkTGlzdGVuZXIoZCwiZHJhZ2VuZCIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7bT0KbnVsbDthLnN0b3BQcm9wYWdhdGlvbigpO2EucHJldmVudERlZmF1bHQoKX0pKTtteEV2ZW50LmFkZExpc3RlbmVyKGQsImRyYWdvdmVyIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtudWxsIT1tJiYoYS5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdD0ibW92ZSIpO2Euc3RvcFByb3BhZ2F0aW9uKCk7YS5wcmV2ZW50RGVmYXVsdCgpfSkpO214RXZlbnQuYWRkTGlzdGVuZXIoZCwiZHJvcCIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7bnVsbCE9bSYmYiE9bSYmdGhpcy5tb3ZlUGFnZShtLGIpO2Euc3RvcFByb3BhZ2F0aW9uKCk7YS5wcmV2ZW50RGVmYXVsdCgpfSkpO2MuYXBwZW5kQ2hpbGQoZCl9KShrLHRoaXMuY3JlYXRlVGFiRm9yUGFnZSh0aGlzLnBhZ2VzW2tdLGQsdGhpcy5wYWdlc1trXSE9dGhpcy5jdXJyZW50UGFnZSxrKzEpKTt0aGlzLnRhYkNvbnRhaW5lci5pbm5lckhUTUw9IiI7dGhpcy50YWJDb250YWluZXIuYXBwZW5kQ2hpbGQoYyk7ZD10aGlzLmNyZWF0ZVBhZ2VNZW51VGFiKCk7CnRoaXMudGFiQ29udGFpbmVyLmFwcGVuZENoaWxkKGQpO2Q9bnVsbDt0aGlzLmlzUGFnZUluc2VydFRhYlZpc2libGUoKSYmKGQ9dGhpcy5jcmVhdGVQYWdlSW5zZXJ0VGFiKCksdGhpcy50YWJDb250YWluZXIuYXBwZW5kQ2hpbGQoZCkpO2lmKGMuY2xpZW50V2lkdGg+dGhpcy50YWJDb250YWluZXIuY2xpZW50V2lkdGgtZil7bnVsbCE9ZCYmKGQuc3R5bGUucG9zaXRpb249ImFic29sdXRlIixkLnN0eWxlLnJpZ2h0PSIwcHgiLGMuc3R5bGUubWFyZ2luUmlnaHQ9IjMwcHgiKTt2YXIgcT10aGlzLmNyZWF0ZUNvbnRyb2xUYWIoNCwiJm5ic3A7JiMxMDA5NDsmbmJzcDsiKTtxLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7cS5zdHlsZS5yaWdodD10aGlzLmVkaXRvci5jaHJvbWVsZXNzPyIyOXB4IjoiNTVweCI7cS5zdHlsZS5mb250U2l6ZT0iMTNwdCI7dGhpcy50YWJDb250YWluZXIuYXBwZW5kQ2hpbGQocSk7dmFyIGI9dGhpcy5jcmVhdGVDb250cm9sVGFiKDQsIiZuYnNwOyYjMTAwOTU7Iik7CmIuc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtiLnN0eWxlLnJpZ2h0PXRoaXMuZWRpdG9yLmNocm9tZWxlc3M/IjBweCI6IjI5cHgiO2Iuc3R5bGUuZm9udFNpemU9IjEzcHQiO3RoaXMudGFiQ29udGFpbmVyLmFwcGVuZENoaWxkKGIpO3ZhciBlPU1hdGgubWF4KDAsdGhpcy50YWJDb250YWluZXIuY2xpZW50V2lkdGgtKHRoaXMuZWRpdG9yLmNocm9tZWxlc3M/ODY6MTE2KSk7Yy5zdHlsZS53aWR0aD1lKyJweCI7bXhFdmVudC5hZGRMaXN0ZW5lcihxLCJjbGljayIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7Yy5zY3JvbGxMZWZ0LT1NYXRoLm1heCgyMCxlLTIwKTtteFV0aWxzLnNldE9wYWNpdHkocSwwPGMuc2Nyb2xsTGVmdD8xMDA6NTApO214VXRpbHMuc2V0T3BhY2l0eShiLGMuc2Nyb2xsTGVmdDxjLnNjcm9sbFdpZHRoLWMuY2xpZW50V2lkdGg/MTAwOjUwKTtteEV2ZW50LmNvbnN1bWUoYSl9KSk7bXhVdGlscy5zZXRPcGFjaXR5KHEsMDxjLnNjcm9sbExlZnQ/MTAwOgo1MCk7bXhVdGlscy5zZXRPcGFjaXR5KGIsYy5zY3JvbGxMZWZ0PGMuc2Nyb2xsV2lkdGgtYy5jbGllbnRXaWR0aD8xMDA6NTApO214RXZlbnQuYWRkTGlzdGVuZXIoYiwiY2xpY2siLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe2Muc2Nyb2xsTGVmdCs9TWF0aC5tYXgoMjAsZS0yMCk7bXhVdGlscy5zZXRPcGFjaXR5KHEsMDxjLnNjcm9sbExlZnQ/MTAwOjUwKTtteFV0aWxzLnNldE9wYWNpdHkoYixjLnNjcm9sbExlZnQ8Yy5zY3JvbGxXaWR0aC1jLmNsaWVudFdpZHRoPzEwMDo1MCk7bXhFdmVudC5jb25zdW1lKGEpfSkpfX19O0VkaXRvclVpLnByb3RvdHlwZS5pc1BhZ2VJbnNlcnRUYWJWaXNpYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIDE9PXVybFBhcmFtcy5lbWJlZHx8bnVsbCE9dGhpcy5nZXRDdXJyZW50RmlsZSgpJiZ0aGlzLmdldEN1cnJlbnRGaWxlKCkuaXNFZGl0YWJsZSgpfTsKRWRpdG9yVWkucHJvdG90eXBlLmNyZWF0ZVRhYj1mdW5jdGlvbihhKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtjLnN0eWxlLmRpc3BsYXk9bXhDbGllbnQuSVNfUVVJUktTPyJpbmxpbmUiOiJpbmxpbmUtYmxvY2siO2Muc3R5bGUud2hpdGVTcGFjZT0ibm93cmFwIjtjLnN0eWxlLmJveFNpemluZz0iYm9yZGVyLWJveCI7Yy5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiO2Muc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiI7Yy5zdHlsZS50ZXh0QWxpZ249ImNlbnRlciI7Yy5zdHlsZS5tYXJnaW5MZWZ0PSItMXB4IjtjLnN0eWxlLmhlaWdodD10aGlzLnRhYkNvbnRhaW5lci5jbGllbnRIZWlnaHQrInB4IjtjLnN0eWxlLnBhZGRpbmc9IjEycHggNHB4IDhweCA0cHgiO2Muc3R5bGUuYm9yZGVyPSJkYXJrIj09dWlUaGVtZT8iMXB4IHNvbGlkICM1MDU3NTkiOiIxcHggc29saWQgI2U4ZWFlZCI7Yy5zdHlsZS5ib3JkZXJUb3BTdHlsZT0ibm9uZSI7Yy5zdHlsZS5ib3JkZXJCb3R0b21TdHlsZT0KIm5vbmUiO2Muc3R5bGUuYmFja2dyb3VuZENvbG9yPXRoaXMudGFiQ29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRDb2xvcjtjLnN0eWxlLmN1cnNvcj0ibW92ZSI7Yy5zdHlsZS5jb2xvcj0iZ3JheSI7YSYmKG14RXZlbnQuYWRkTGlzdGVuZXIoYywibW91c2VlbnRlciIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5lZGl0b3IuZ3JhcGguaXNNb3VzZURvd258fChjLnN0eWxlLmJhY2tncm91bmRDb2xvcj0iZGFyayI9PXVpVGhlbWU/ImJsYWNrIjoiI2U4ZWFlZCIsbXhFdmVudC5jb25zdW1lKGEpKX0pKSxteEV2ZW50LmFkZExpc3RlbmVyKGMsIm1vdXNlbGVhdmUiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe2Muc3R5bGUuYmFja2dyb3VuZENvbG9yPXRoaXMudGFiQ29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRDb2xvcjtteEV2ZW50LmNvbnN1bWUoYSl9KSkpO3JldHVybiBjfTsKRWRpdG9yVWkucHJvdG90eXBlLmNyZWF0ZUNvbnRyb2xUYWI9ZnVuY3Rpb24oYSxjKXt2YXIgZj10aGlzLmNyZWF0ZVRhYighMCk7Zi5zdHlsZS5saW5lSGVpZ2h0PXRoaXMudGFiQ29udGFpbmVySGVpZ2h0KyJweCI7Zi5zdHlsZS5wYWRkaW5nVG9wPWErInB4IjtmLnN0eWxlLmN1cnNvcj0icG9pbnRlciI7Zi5zdHlsZS53aWR0aD0iMzBweCI7Zi5pbm5lckhUTUw9YztudWxsIT1mLmZpcnN0Q2hpbGQmJm51bGwhPWYuZmlyc3RDaGlsZC5zdHlsZSYmbXhVdGlscy5zZXRPcGFjaXR5KGYuZmlyc3RDaGlsZCw0MCk7cmV0dXJuIGZ9OwpFZGl0b3JVaS5wcm90b3R5cGUuY3JlYXRlUGFnZU1lbnVUYWI9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNyZWF0ZUNvbnRyb2xUYWIoMywnPGRpdiBjbGFzcz0iZ2VTcHJpdGUgZ2VTcHJpdGUtZG90cyIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO21hcmdpbi10b3A6NXB4O3dpZHRoOjIxcHg7aGVpZ2h0OjIxcHg7Ij48L2Rpdj4nKTthLnNldEF0dHJpYnV0ZSgidGl0bGUiLG14UmVzb3VyY2VzLmdldCgicGFnZXMiKSk7YS5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiO2Euc3R5bGUubWFyZ2luTGVmdD0iMHB4IjthLnN0eWxlLnRvcD0iMHB4IjthLnN0eWxlLmxlZnQ9IjFweCI7bXhFdmVudC5hZGRMaXN0ZW5lcihhLCJjbGljayIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5lZGl0b3IuZ3JhcGgucG9wdXBNZW51SGFuZGxlci5oaWRlTWVudSgpO3ZhciBjPW5ldyBteFBvcHVwTWVudShteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGMpe2Zvcih2YXIgYj0KMDtiPHRoaXMucGFnZXMubGVuZ3RoO2IrKylteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXt2YXIgZD1hLmFkZEl0ZW0odGhpcy5wYWdlc1tiXS5nZXROYW1lKCksbnVsbCxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuc2VsZWN0UGFnZSh0aGlzLnBhZ2VzW2JdKX0pLGMpO3RoaXMucGFnZXNbYl09PXRoaXMuY3VycmVudFBhZ2UmJmEuYWRkQ2hlY2ttYXJrKGQsRWRpdG9yLmNoZWNrbWFya0ltYWdlKX0pKGIpO2lmKHRoaXMuZWRpdG9yLmdyYXBoLmlzRW5hYmxlZCgpKXthLmFkZFNlcGFyYXRvcihjKTthLmFkZEl0ZW0obXhSZXNvdXJjZXMuZ2V0KCJpbnNlcnRQYWdlIiksbnVsbCxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuaW5zZXJ0UGFnZSgpfSksYyk7dmFyIGQ9dGhpcy5jdXJyZW50UGFnZTtudWxsIT1kJiYoYS5hZGRTZXBhcmF0b3IoYyksYS5hZGRJdGVtKG14UmVzb3VyY2VzLmdldCgiZGVsZXRlIiksbnVsbCxteFV0aWxzLmJpbmQodGhpcywKZnVuY3Rpb24oKXt0aGlzLnJlbW92ZVBhZ2UoZCl9KSxjKSxhLmFkZEl0ZW0obXhSZXNvdXJjZXMuZ2V0KCJyZW5hbWUiKSxudWxsLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5yZW5hbWVQYWdlKGQsZC5nZXROYW1lKCkpfSksYyksYS5hZGRTZXBhcmF0b3IoYyksYS5hZGRJdGVtKG14UmVzb3VyY2VzLmdldCgiZHVwbGljYXRlIiksbnVsbCxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuZHVwbGljYXRlUGFnZShkLG14UmVzb3VyY2VzLmdldCgiY29weU9mIixbZC5nZXROYW1lKCldKSl9KSxjKSl9fSkpO2MuZGl2LmNsYXNzTmFtZSs9IiBnZU1lbnViYXJNZW51IjtjLnNtYXJ0U2VwYXJhdG9ycz0hMDtjLnNob3dEaXNhYmxlZD0hMDtjLmF1dG9FeHBhbmQ9ITA7Yy5oaWRlTWVudT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe214UG9wdXBNZW51LnByb3RvdHlwZS5oaWRlTWVudS5hcHBseShjLGFyZ3VtZW50cyk7Yy5kZXN0cm95KCl9KTt2YXIgZD0KbXhFdmVudC5nZXRDbGllbnRYKGEpLG09bXhFdmVudC5nZXRDbGllbnRZKGEpO2MucG9wdXAoZCxtLG51bGwsYSk7dGhpcy5zZXRDdXJyZW50TWVudShjKTtteEV2ZW50LmNvbnN1bWUoYSl9KSk7cmV0dXJuIGF9O0VkaXRvclVpLnByb3RvdHlwZS5jcmVhdGVQYWdlSW5zZXJ0VGFiPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jcmVhdGVDb250cm9sVGFiKDQsJzxkaXYgY2xhc3M9ImdlU3ByaXRlIGdlU3ByaXRlLXBsdXMiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt3aWR0aDoyMXB4O2hlaWdodDoyMXB4OyI+PC9kaXY+Jyk7YS5zZXRBdHRyaWJ1dGUoInRpdGxlIixteFJlc291cmNlcy5nZXQoImluc2VydFBhZ2UiKSk7bXhFdmVudC5hZGRMaXN0ZW5lcihhLCJjbGljayIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5pbnNlcnRQYWdlKCk7bXhFdmVudC5jb25zdW1lKGEpfSkpO3JldHVybiBhfTsKRWRpdG9yVWkucHJvdG90eXBlLmNyZWF0ZVRhYkZvclBhZ2U9ZnVuY3Rpb24oYSxjLGYsZCl7Zj10aGlzLmNyZWF0ZVRhYihmKTt2YXIgbT1hLmdldE5hbWUoKXx8bXhSZXNvdXJjZXMuZ2V0KCJ1bnRpdGxlZCIpLGs9YS5nZXRJZCgpO2Yuc2V0QXR0cmlidXRlKCJ0aXRsZSIsbSsobnVsbCE9az8iICgiK2srIikiOiIiKSsiIFsiK2QrIl0iKTtteFV0aWxzLndyaXRlKGYsbSk7Zi5zdHlsZS5tYXhXaWR0aD1jKyJweCI7Zi5zdHlsZS53aWR0aD1jKyJweCI7dGhpcy5hZGRUYWJMaXN0ZW5lcnMoYSxmKTs0MjxjJiYoZi5zdHlsZS50ZXh0T3ZlcmZsb3c9ImVsbGlwc2lzIik7cmV0dXJuIGZ9OwpFZGl0b3JVaS5wcm90b3R5cGUuYWRkVGFiTGlzdGVuZXJzPWZ1bmN0aW9uKGEsYyl7bXhFdmVudC5kaXNhYmxlQ29udGV4dE1lbnUoYyk7dmFyIGY9dGhpcy5lZGl0b3IuZ3JhcGg7bXhFdmVudC5hZGRMaXN0ZW5lcihjLCJkYmxjbGljayIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYyl7dGhpcy5yZW5hbWVQYWdlKGEpO214RXZlbnQuY29uc3VtZShjKX0pKTt2YXIgZD0hMSxtPSExO214RXZlbnQuYWRkR2VzdHVyZUxpc3RlbmVycyhjLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGMpe2Q9bnVsbCE9dGhpcy5jdXJyZW50TWVudTttPWE9PXRoaXMuY3VycmVudFBhZ2U7Zi5pc01vdXNlRG93bnx8bXx8dGhpcy5zZWxlY3RQYWdlKGEpfSksbnVsbCxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihrKXtpZihmLmlzRW5hYmxlZCgpJiYhZi5pc01vdXNlRG93biYmKG14RXZlbnQuaXNUb3VjaEV2ZW50KGspJiZtfHxteEV2ZW50LmlzUG9wdXBUcmlnZ2VyKGspKSl7Zi5wb3B1cE1lbnVIYW5kbGVyLmhpZGVNZW51KCk7CnRoaXMuaGlkZUN1cnJlbnRNZW51KCk7aWYoIW14RXZlbnQuaXNUb3VjaEV2ZW50KGspfHwhZCl7dmFyIHE9bmV3IG14UG9wdXBNZW51KHRoaXMuY3JlYXRlUGFnZU1lbnUoYSkpO3EuZGl2LmNsYXNzTmFtZSs9IiBnZU1lbnViYXJNZW51IjtxLnNtYXJ0U2VwYXJhdG9ycz0hMDtxLnNob3dEaXNhYmxlZD0hMDtxLmF1dG9FeHBhbmQ9ITA7cS5oaWRlTWVudT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe214UG9wdXBNZW51LnByb3RvdHlwZS5oaWRlTWVudS5hcHBseShxLGFyZ3VtZW50cyk7dGhpcy5yZXNldEN1cnJlbnRNZW51KCk7cS5kZXN0cm95KCl9KTt2YXIgYj1teEV2ZW50LmdldENsaWVudFgoayksZT1teEV2ZW50LmdldENsaWVudFkoayk7cS5wb3B1cChiLGUsbnVsbCxrKTt0aGlzLnNldEN1cnJlbnRNZW51KHEsYyl9bXhFdmVudC5jb25zdW1lKGspfX0pKX07CkVkaXRvclVpLnByb3RvdHlwZS5nZXRMaW5rRm9yUGFnZT1mdW5jdGlvbihhLGMpe2lmKCFteENsaWVudC5JU19DSFJPTUVBUFAmJiFFZGl0b3JVaS5pc0VsZWN0cm9uQXBwKXt2YXIgZj10aGlzLmdldEN1cnJlbnRGaWxlKCk7aWYobnVsbCE9ZiYmZi5jb25zdHJ1Y3RvciE9TG9jYWxGaWxlJiYiZHJhdy5pbyI9PXRoaXMuZ2V0U2VydmljZU5hbWUoKSl7dmFyIGQ9dGhpcy5nZXRTZWFyY2goImNyZWF0ZSB0aXRsZSBtb2RlIHVybCBkcml2ZSBzcGxhc2ggc3RhdGUgY2xpYnMgdWkgdmlld2JveCBoaWRlLXBhZ2VzIi5zcGxpdCgiICIpKSxkPWQrKCgwPT1kLmxlbmd0aD8iPyI6IiYiKSsicGFnZS1pZD0iK2EuZ2V0SWQoKSk7bnVsbCE9YyYmKGQrPSImIitjLmpvaW4oIiYiKSk7cmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCsiLy8iK3dpbmRvdy5sb2NhdGlvbi5ob3N0KyIvIitkKyIjIitmLmdldEhhc2goKX19cmV0dXJuIG51bGx9OwpFZGl0b3JVaS5wcm90b3R5cGUuY3JlYXRlUGFnZU1lbnU9ZnVuY3Rpb24oYSxjKXtyZXR1cm4gbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oZixkKXt2YXIgbT10aGlzLmVkaXRvci5ncmFwaDtmLmFkZEl0ZW0obXhSZXNvdXJjZXMuZ2V0KCJpbnNlcnQiKSxudWxsLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5pbnNlcnRQYWdlKG51bGwsbXhVdGlscy5pbmRleE9mKHRoaXMucGFnZXMsYSkrMSl9KSxkKTtmLmFkZEl0ZW0obXhSZXNvdXJjZXMuZ2V0KCJkZWxldGUiKSxudWxsLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVQYWdlKGEpfSksZCk7Zi5hZGRJdGVtKG14UmVzb3VyY2VzLmdldCgicmVuYW1lIiksbnVsbCxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMucmVuYW1lUGFnZShhLGMpfSksZCk7bnVsbCE9dGhpcy5nZXRMaW5rRm9yUGFnZShhKSYmKGYuYWRkU2VwYXJhdG9yKGQpLGYuYWRkSXRlbShteFJlc291cmNlcy5nZXQoImxpbmsiKSwKbnVsbCxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuc2hvd1B1Ymxpc2hMaW5rRGlhbG9nKG14UmVzb3VyY2VzLmdldCgidXJsIiksITAsbnVsbCxudWxsLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGMsZCxiLGUsZixwKXtjPXRoaXMuY3JlYXRlVXJsUGFyYW1ldGVycyhjLGQsYixlLGYscCk7Ynx8Yy5wdXNoKCJoaWRlLXBhZ2VzPTEiKTttLmlzU2VsZWN0aW9uRW1wdHkoKXx8KGI9bS5nZXRCb3VuZGluZ0JveChtLmdldFNlbGVjdGlvbkNlbGxzKCkpLGQ9bS52aWV3LnRyYW5zbGF0ZSxlPW0udmlldy5zY2FsZSxiLndpZHRoLz1lLGIuaGVpZ2h0Lz1lLGIueD1iLngvZS1kLngsYi55PWIueS9lLWQueSxjLnB1c2goInZpZXdib3g9IitlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoe3g6TWF0aC5yb3VuZChiLngpLHk6TWF0aC5yb3VuZChiLnkpLHdpZHRoOk1hdGgucm91bmQoYi53aWR0aCksaGVpZ2h0Ok1hdGgucm91bmQoYi5oZWlnaHQpLGJvcmRlcjoxMDB9KSkpKTsKYj1uZXcgRW1iZWREaWFsb2codGhpcyx0aGlzLmdldExpbmtGb3JQYWdlKGEsYykpO3RoaXMuc2hvd0RpYWxvZyhiLmNvbnRhaW5lciw0NDAsMjQwLCEwLCEwKTtiLmluaXQoKX0pKX0pKSk7Zi5hZGRTZXBhcmF0b3IoZCk7Zi5hZGRJdGVtKG14UmVzb3VyY2VzLmdldCgiZHVwbGljYXRlIiksbnVsbCxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuZHVwbGljYXRlUGFnZShhLG14UmVzb3VyY2VzLmdldCgiY29weU9mIixbYS5nZXROYW1lKCldKSl9KSxkKTtteENsaWVudC5JU19DSFJPTUVBUFB8fEVkaXRvclVpLmlzRWxlY3Ryb25BcHB8fCJkcmF3LmlvIiE9dGhpcy5nZXRTZXJ2aWNlTmFtZSgpfHwoZi5hZGRTZXBhcmF0b3IoZCksZi5hZGRJdGVtKG14UmVzb3VyY2VzLmdldCgib3BlbkluTmV3V2luZG93IiksbnVsbCxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuZWRpdG9yLmVkaXRBc05ldyh0aGlzLmdldEZpbGVEYXRhKCEwLG51bGwsbnVsbCxudWxsLAohMCwhMCkpfSksZCkpfSl9OyhmdW5jdGlvbigpe3ZhciBhPUVkaXRvclVpLnByb3RvdHlwZS5yZWZyZXNoO0VkaXRvclVpLnByb3RvdHlwZS5yZWZyZXNoPWZ1bmN0aW9uKGMpe2EuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMudXBkYXRlVGFiQ29udGFpbmVyKCl9fSkoKTsoZnVuY3Rpb24oKXtteENvZGVjUmVnaXN0cnkuZ2V0Q29kZWMoQ2hhbmdlUGFnZVNldHVwKS5leGNsdWRlLnB1c2goInBhZ2UiKX0pKCk7KGZ1bmN0aW9uKCl7dmFyIGE9bmV3IG14T2JqZWN0Q29kZWMobmV3IE1vdmVQYWdlLFsidWkiXSk7YS5iZWZvcmVEZWNvZGU9ZnVuY3Rpb24oYSxmLGQpe2QudWk9YS51aTtyZXR1cm4gZn07YS5hZnRlckRlY29kZT1mdW5jdGlvbihhLGYsZCl7YT1kLm9sZEluZGV4O2Qub2xkSW5kZXg9ZC5uZXdJbmRleDtkLm5ld0luZGV4PWE7cmV0dXJuIGR9O214Q29kZWNSZWdpc3RyeS5yZWdpc3RlcihhKX0pKCk7CihmdW5jdGlvbigpe3ZhciBhPW5ldyBteE9iamVjdENvZGVjKG5ldyBSZW5hbWVQYWdlLFsidWkiLCJwYWdlIl0pO2EuYmVmb3JlRGVjb2RlPWZ1bmN0aW9uKGEsZixkKXtkLnVpPWEudWk7cmV0dXJuIGZ9O2EuYWZ0ZXJEZWNvZGU9ZnVuY3Rpb24oYSxmLGQpe2E9ZC5wcmV2aW91cztkLnByZXZpb3VzPWQubmFtZTtkLm5hbWU9YTtyZXR1cm4gZH07bXhDb2RlY1JlZ2lzdHJ5LnJlZ2lzdGVyKGEpfSkoKTsKKGZ1bmN0aW9uKCl7dmFyIGE9bmV3IG14T2JqZWN0Q29kZWMobmV3IENoYW5nZVBhZ2UsInVpIHJlbGF0ZWRQYWdlIGluZGV4IG5ldmVyU2hvd24gcGFnZSBwcmV2aW91c1BhZ2UiLnNwbGl0KCIgIikpLGM9ImRlZmF1bHRQYXJlbnQgY3VycmVudFJvb3Qgc2Nyb2xsTGVmdCBzY3JvbGxUb3Agc2NhbGUgdHJhbnNsYXRlIGxhc3RQYXN0ZVhtbCBwYXN0ZUNvdW50ZXIiLnNwbGl0KCIgIik7YS5hZnRlckVuY29kZT1mdW5jdGlvbihhLGQsbSl7bS5zZXRBdHRyaWJ1dGUoInJlbGF0ZWRQYWdlIixkLnJlbGF0ZWRQYWdlLmdldElkKCkpO251bGw9PWQuaW5kZXgmJihtLnNldEF0dHJpYnV0ZSgibmFtZSIsZC5yZWxhdGVkUGFnZS5nZXROYW1lKCkpLG51bGwhPWQucmVsYXRlZFBhZ2Uudmlld1N0YXRlJiZtLnNldEF0dHJpYnV0ZSgidmlld1N0YXRlIixKU09OLnN0cmluZ2lmeShkLnJlbGF0ZWRQYWdlLnZpZXdTdGF0ZSxmdW5jdGlvbihhLGQpe3JldHVybiAwPm14VXRpbHMuaW5kZXhPZihjLAphKT9kOnZvaWQgMH0pKSxudWxsIT1kLnJlbGF0ZWRQYWdlLnJvb3QmJmEuZW5jb2RlQ2VsbChkLnJlbGF0ZWRQYWdlLnJvb3QsbSkpO3JldHVybiBtfTthLmJlZm9yZURlY29kZT1mdW5jdGlvbihhLGMsbSl7bS51aT1hLnVpO20ucmVsYXRlZFBhZ2U9bS51aS5nZXRQYWdlQnlJZChjLmdldEF0dHJpYnV0ZSgicmVsYXRlZFBhZ2UiKSk7aWYobnVsbD09bS5yZWxhdGVkUGFnZSl7dmFyIGQ9Yy5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpYWdyYW0iKTtkLnNldEF0dHJpYnV0ZSgiaWQiLGMuZ2V0QXR0cmlidXRlKCJyZWxhdGVkUGFnZSIpKTtkLnNldEF0dHJpYnV0ZSgibmFtZSIsYy5nZXRBdHRyaWJ1dGUoIm5hbWUiKSk7bS5yZWxhdGVkUGFnZT1uZXcgRGlhZ3JhbVBhZ2UoZCk7ZD1jLmdldEF0dHJpYnV0ZSgidmlld1N0YXRlIik7bnVsbCE9ZCYmKG0ucmVsYXRlZFBhZ2Uudmlld1N0YXRlPUpTT04ucGFyc2UoZCksYy5yZW1vdmVBdHRyaWJ1dGUoInZpZXdTdGF0ZSIpKTsKYz1jLmNsb25lTm9kZSghMCk7ZD1jLmZpcnN0Q2hpbGQ7aWYobnVsbCE9ZClmb3IobS5yZWxhdGVkUGFnZS5yb290PWEuZGVjb2RlQ2VsbChkLCExKSxtPWQubmV4dFNpYmxpbmcsZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGQpLGQ9bTtudWxsIT1kOyl7bT1kLm5leHRTaWJsaW5nO2lmKGQubm9kZVR5cGU9PW14Q29uc3RhbnRzLk5PREVUWVBFX0VMRU1FTlQpe3ZhciBmPWQuZ2V0QXR0cmlidXRlKCJpZCIpO251bGw9PWEubG9va3VwKGYpJiZhLmRlY29kZUNlbGwoZCl9ZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGQpO2Q9bX19cmV0dXJuIGN9O2EuYWZ0ZXJEZWNvZGU9ZnVuY3Rpb24oYSxjLG0pe20uaW5kZXg9bS5wcmV2aW91c0luZGV4O3JldHVybiBtfTtteENvZGVjUmVnaXN0cnkucmVnaXN0ZXIoYSl9KSgpOyhmdW5jdGlvbigpe0VkaXRvclVpLnByb3RvdHlwZS5hbHRTaGlmdEFjdGlvbnNbNjhdPSJzZWxlY3REZXNjZW5kYW50cyI7dmFyIGE9R3JhcGgucHJvdG90eXBlLmZvbGRDZWxscztHcmFwaC5wcm90b3R5cGUuZm9sZENlbGxzPWZ1bmN0aW9uKGMsZixrLHEsYil7Zj1udWxsIT1mP2Y6ITE7bnVsbD09ayYmKGs9dGhpcy5nZXRGb2xkYWJsZUNlbGxzKHRoaXMuZ2V0U2VsZWN0aW9uQ2VsbHMoKSxjKSk7dGhpcy5zdG9wRWRpdGluZygpO3RoaXMubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKHZhciBkPWsuc2xpY2UoKSxnPVtdLG09MDttPGsubGVuZ3RoO20rKyl7dmFyIGw9dGhpcy5nZXRDdXJyZW50Q2VsbFN0eWxlKGtbbV0pOyIxIj09bXhVdGlscy5nZXRWYWx1ZShsLCJ0cmVlRm9sZGluZyIsIjAiKSYmKHRoaXMudHJhdmVyc2Uoa1ttXSwhMCxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGIpe251bGwhPWImJmcucHVzaChiKTthIT1rW21dJiZnLnB1c2goYSk7cmV0dXJuIGE9PQprW21dfHwhdGhpcy5tb2RlbC5pc0NvbGxhcHNlZChhKX0pKSx0aGlzLm1vZGVsLnNldENvbGxhcHNlZChrW21dLGMpKX1mb3IobT0wO208Zy5sZW5ndGg7bSsrKXRoaXMubW9kZWwuc2V0VmlzaWJsZShnW21dLCFjKTtrPWQ7az1hLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9cmV0dXJuIGt9O3ZhciBjPUVkaXRvclVpLnByb3RvdHlwZS5pbml0O0VkaXRvclVpLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5lZGl0b3IuaXNDaHJvbWVsZXNzVmlldygpJiYhdGhpcy5lZGl0b3IuZWRpdGFibGV8fHRoaXMuYWRkVHJlZXMoKX07RWRpdG9yVWkucHJvdG90eXBlLmFkZFRyZWVzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtyZXR1cm4geC5pc1ZlcnRleChhKSYmZihhKX1mdW5jdGlvbiBjKGEpe3ZhciBiPSExO251bGwhPWEmJihiPSIxIj09dC5nZXRDdXJyZW50Q2VsbFN0eWxlKGEpLnRyZWVNb3ZpbmcpOwpyZXR1cm4gYn1mdW5jdGlvbiBmKGEpe3ZhciBiPSExO251bGwhPWEmJihhPXguZ2V0UGFyZW50KGEpLGI9dC52aWV3LmdldFN0YXRlKGEpLGI9InRyZWUiPT0obnVsbCE9Yj9iLnN0eWxlOnQuZ2V0Q2VsbFN0eWxlKGEpKS5jb250YWluZXJUeXBlKTtyZXR1cm4gYn1mdW5jdGlvbiBxKGEpe3ZhciBiPSExO251bGwhPWEmJihhPXguZ2V0UGFyZW50KGEpLGI9dC52aWV3LmdldFN0YXRlKGEpLHQudmlldy5nZXRTdGF0ZShhKSxiPW51bGwhPShudWxsIT1iP2Iuc3R5bGU6dC5nZXRDZWxsU3R5bGUoYSkpLmNoaWxkTGF5b3V0KTtyZXR1cm4gYn1mdW5jdGlvbiBiKGEpe2E9dC52aWV3LmdldFN0YXRlKGEpO2lmKG51bGwhPWEpe3ZhciBiPXQuZ2V0SW5jb21pbmdFZGdlcyhhLmNlbGwpO2lmKDA8Yi5sZW5ndGgmJihiPXQudmlldy5nZXRTdGF0ZShiWzBdKSxudWxsIT1iJiYoYj1iLmFic29sdXRlUG9pbnRzLG51bGwhPWImJjA8Yi5sZW5ndGgmJihiPWJbYi5sZW5ndGgtMV0sbnVsbCE9YikpKSl7aWYoYi55PT0KYS55JiZNYXRoLmFicyhiLngtYS5nZXRDZW50ZXJYKCkpPGEud2lkdGgvMilyZXR1cm4gbXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIO2lmKGIueT09YS55K2EuaGVpZ2h0JiZNYXRoLmFicyhiLngtYS5nZXRDZW50ZXJYKCkpPGEud2lkdGgvMilyZXR1cm4gbXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIO2lmKGIueD5hLmdldENlbnRlclgoKSlyZXR1cm4gbXhDb25zdGFudHMuRElSRUNUSU9OX1dFU1R9fXJldHVybiBteENvbnN0YW50cy5ESVJFQ1RJT05fRUFTVH1mdW5jdGlvbiBlKGEsYyl7Yz1udWxsIT1jP2M6ITA7dC5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXt2YXIgZD10Lm1vZGVsLmdldFBhcmVudChhKSxlPXQuZ2V0SW5jb21pbmdFZGdlcyhhKSxmPXQuY2xvbmVDZWxscyhbZVswXSxhXSk7dC5tb2RlbC5zZXRUZXJtaW5hbChmWzBdLHQubW9kZWwuZ2V0VGVybWluYWwoZVswXSwhMCksITApO3ZhciBnPWIoYSksaz1kLmdlb21ldHJ5O2c9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSHx8Cmc9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSD9mWzFdLmdlb21ldHJ5LngrPWM/YS5nZW9tZXRyeS53aWR0aCsxMDotZlsxXS5nZW9tZXRyeS53aWR0aC0xMDpmWzFdLmdlb21ldHJ5LnkrPWM/YS5nZW9tZXRyeS5oZWlnaHQrMTA6LWZbMV0uZ2VvbWV0cnkuaGVpZ2h0LTEwO3Qudmlldy5jdXJyZW50Um9vdCE9ZCYmKGZbMV0uZ2VvbWV0cnkueC09ay54LGZbMV0uZ2VvbWV0cnkueS09ay55KTt2YXIgbD10LnZpZXcuZ2V0U3RhdGUoYSksbT10LnZpZXcuc2NhbGU7aWYobnVsbCE9bCl7dmFyIG49bXhSZWN0YW5nbGUuZnJvbVJlY3RhbmdsZShsKTtnPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEh8fGc9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSD9uLngrPShjP2EuZ2VvbWV0cnkud2lkdGgrMTA6LWZbMV0uZ2VvbWV0cnkud2lkdGgtMTApKm06bi55Kz0oYz9hLmdlb21ldHJ5LmhlaWdodCsxMDotZlsxXS5nZW9tZXRyeS5oZWlnaHQtMTApKm07dmFyIHA9dC5nZXRPdXRnb2luZ0VkZ2VzKHQubW9kZWwuZ2V0VGVybWluYWwoZVswXSwKITApKTtpZihudWxsIT1wKXtmb3IodmFyIHE9Zz09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIfHxnPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEgseD1rPWU9MDt4PHAubGVuZ3RoO3grKyl7dmFyIHU9dC5tb2RlbC5nZXRUZXJtaW5hbChwW3hdLCExKTtpZihnPT1iKHUpKXt2YXIgeT10LnZpZXcuZ2V0U3RhdGUodSk7dSE9YSYmbnVsbCE9eSYmKHEmJmMhPXkuZ2V0Q2VudGVyWCgpPGwuZ2V0Q2VudGVyWCgpfHwhcSYmYyE9eS5nZXRDZW50ZXJZKCk8bC5nZXRDZW50ZXJZKCkpJiZteFV0aWxzLmludGVyc2VjdHMobix5KSYmKGU9MTArTWF0aC5tYXgoZSwoTWF0aC5taW4obi54K24ud2lkdGgseS54K3kud2lkdGgpLU1hdGgubWF4KG4ueCx5LngpKS9tKSxrPTEwK01hdGgubWF4KGssKE1hdGgubWluKG4ueStuLmhlaWdodCx5LnkreS5oZWlnaHQpLU1hdGgubWF4KG4ueSx5LnkpKS9tKSl9fXE/az0wOmU9MDtmb3IoeD0wO3g8cC5sZW5ndGg7eCsrKWlmKHU9dC5tb2RlbC5nZXRUZXJtaW5hbChwW3hdLAohMSksZz09Yih1KSYmKHk9dC52aWV3LmdldFN0YXRlKHUpLHUhPWEmJm51bGwhPXkmJihxJiZjIT15LmdldENlbnRlclgoKTxsLmdldENlbnRlclgoKXx8IXEmJmMhPXkuZ2V0Q2VudGVyWSgpPGwuZ2V0Q2VudGVyWSgpKSkpe3ZhciB6PVtdO3QudHJhdmVyc2UoeS5jZWxsLCEwLGZ1bmN0aW9uKGEsYil7bnVsbCE9YiYmei5wdXNoKGIpO3oucHVzaChhKTtyZXR1cm4hMH0pO3QubW92ZUNlbGxzKHosKGM/MTotMSkqZSwoYz8xOi0xKSprKX19fXJldHVybiB0LmFkZENlbGxzKGYsZCl9ZmluYWxseXt0Lm1vZGVsLmVuZFVwZGF0ZSgpfX1mdW5jdGlvbiBnKGEpe3QubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7dmFyIGM9YihhKSxkPXQuZ2V0SW5jb21pbmdFZGdlcyhhKSxlPXQuY2xvbmVDZWxscyhbZFswXSxhXSk7dC5tb2RlbC5zZXRUZXJtaW5hbChkWzBdLGVbMV0sITEpO3QubW9kZWwuc2V0VGVybWluYWwoZVswXSxlWzFdLCEwKTt0Lm1vZGVsLnNldFRlcm1pbmFsKGVbMF0sYSwhMSk7CnZhciBmPXQubW9kZWwuZ2V0UGFyZW50KGEpLGc9Zi5nZW9tZXRyeSxrPVtdO3Qudmlldy5jdXJyZW50Um9vdCE9ZiYmKGVbMV0uZ2VvbWV0cnkueC09Zy54LGVbMV0uZ2VvbWV0cnkueS09Zy55KTt0LnRyYXZlcnNlKGEsITAsZnVuY3Rpb24oYSxiKXtudWxsIT1iJiZrLnB1c2goYik7ay5wdXNoKGEpO3JldHVybiEwfSk7dmFyIGw9YS5nZW9tZXRyeS53aWR0aCs0MCxtPWEuZ2VvbWV0cnkuaGVpZ2h0KzQwO2M9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSD9sPTA6Yz09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIPyhsPTAsbT0tbSk6Yz09bXhDb25zdGFudHMuRElSRUNUSU9OX1dFU1Q/KGw9LWwsbT0wKTpjPT1teENvbnN0YW50cy5ESVJFQ1RJT05fRUFTVCYmKG09MCk7dC5tb3ZlQ2VsbHMoayxsLG0pO3JldHVybiB0LmFkZENlbGxzKGUsZil9ZmluYWxseXt0Lm1vZGVsLmVuZFVwZGF0ZSgpfX1mdW5jdGlvbiBwKGEsYyl7dC5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXt2YXIgZD0KdC5tb2RlbC5nZXRQYXJlbnQoYSksZT10LmdldEluY29taW5nRWRnZXMoYSksZj1iKGEpOzA9PWUubGVuZ3RoJiYoZT1bdC5jcmVhdGVFZGdlKGQsbnVsbCwiIixudWxsLG51bGwsdC5jcmVhdGVDdXJyZW50RWRnZVN0eWxlKCkpXSxmPWMpO3ZhciBnPXQuY2xvbmVDZWxscyhbZVswXSxhXSk7dC5tb2RlbC5zZXRUZXJtaW5hbChnWzBdLGEsITApO2lmKG51bGw9PXQubW9kZWwuZ2V0VGVybWluYWwoZ1swXSwhMSkpe3QubW9kZWwuc2V0VGVybWluYWwoZ1swXSxnWzFdLCExKTt2YXIgaz10LmdldENlbGxTdHlsZShnWzFdKS5uZXdFZGdlU3R5bGU7aWYobnVsbCE9ayl0cnl7dmFyIGw9SlNPTi5wYXJzZShrKSxtO2ZvcihtIGluIGwpdC5zZXRDZWxsU3R5bGVzKG0sbFttXSxbZ1swXV0pLCJlZGdlU3R5bGUiPT1tJiYiZWxib3dFZGdlU3R5bGUiPT1sW21dJiZ0LnNldENlbGxTdHlsZXMoImVsYm93IixmPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEh8fGY9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1RIPwoidmVydGljYWwiOiJob3Jpem9udGFsIixbZ1swXV0pfWNhdGNoKGNhKXt9fXZhciBlPXQuZ2V0T3V0Z29pbmdFZGdlcyhhKSxuPWQuZ2VvbWV0cnksaz1bXTt0LnZpZXcuY3VycmVudFJvb3Q9PWQmJihuPW5ldyBteFJlY3RhbmdsZSk7Zm9yKGw9MDtsPGUubGVuZ3RoO2wrKyl7dmFyIHA9dC5tb2RlbC5nZXRUZXJtaW5hbChlW2xdLCExKTtudWxsIT1wJiZrLnB1c2gocCl9dmFyIHE9dC52aWV3LmdldEJvdW5kcyhrKSx4PXQudmlldy50cmFuc2xhdGUsdT10LnZpZXcuc2NhbGU7Zj09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIPyhnWzFdLmdlb21ldHJ5Lng9bnVsbD09cT9hLmdlb21ldHJ5LngrKGEuZ2VvbWV0cnkud2lkdGgtZ1sxXS5nZW9tZXRyeS53aWR0aCkvMjoocS54K3Eud2lkdGgpL3UteC54LW4ueCsxMCxnWzFdLmdlb21ldHJ5LnkrPWdbMV0uZ2VvbWV0cnkuaGVpZ2h0LW4ueSs0MCk6Zj09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIPyhnWzFdLmdlb21ldHJ5Lng9Cm51bGw9PXE/YS5nZW9tZXRyeS54KyhhLmdlb21ldHJ5LndpZHRoLWdbMV0uZ2VvbWV0cnkud2lkdGgpLzI6KHEueCtxLndpZHRoKS91LXgueCstbi54KzEwLGdbMV0uZ2VvbWV0cnkueS09Z1sxXS5nZW9tZXRyeS5oZWlnaHQrbi55KzQwKTooZ1sxXS5nZW9tZXRyeS54PWY9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9XRVNUP2dbMV0uZ2VvbWV0cnkueC0oZ1sxXS5nZW9tZXRyeS53aWR0aCtuLngrNDApOmdbMV0uZ2VvbWV0cnkueCsoZ1sxXS5nZW9tZXRyeS53aWR0aC1uLngrNDApLGdbMV0uZ2VvbWV0cnkueT1udWxsPT1xP2EuZ2VvbWV0cnkueSsoYS5nZW9tZXRyeS5oZWlnaHQtZ1sxXS5nZW9tZXRyeS5oZWlnaHQpLzI6KHEueStxLmhlaWdodCkvdS14LnkrLW4ueSsxMCk7cmV0dXJuIHQuYWRkQ2VsbHMoZyxkKX1maW5hbGx5e3QubW9kZWwuZW5kVXBkYXRlKCl9fWZ1bmN0aW9uIGwoYSxiLGMpe2E9dC5nZXRPdXRnb2luZ0VkZ2VzKGEpO2M9dC52aWV3LmdldFN0YXRlKGMpO3ZhciBkPQpbXTtpZihudWxsIT1jJiZudWxsIT1hKXtmb3IodmFyIGU9MDtlPGEubGVuZ3RoO2UrKyl7dmFyIGY9dC52aWV3LmdldFN0YXRlKHQubW9kZWwuZ2V0VGVybWluYWwoYVtlXSwhMSkpO251bGwhPWYmJighYiYmTWF0aC5taW4oZi54K2Yud2lkdGgsYy54K2Mud2lkdGgpPj1NYXRoLm1heChmLngsYy54KXx8YiYmTWF0aC5taW4oZi55K2YuaGVpZ2h0LGMueStjLmhlaWdodCk+PU1hdGgubWF4KGYueSxjLnkpKSYmZC5wdXNoKGYpfWQuc29ydChmdW5jdGlvbihhLGMpe3JldHVybiBiP2EueCthLndpZHRoLWMueC1jLndpZHRoOmEueSthLmhlaWdodC1jLnktYy5oZWlnaHR9KX1yZXR1cm4gZH1mdW5jdGlvbiBuKGEsYyl7dmFyIGQ9YihhKSxlPWM9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9FQVNUfHxjPT1teENvbnN0YW50cy5ESVJFQ1RJT05fV0VTVDsoZD09bXhDb25zdGFudHMuRElSRUNUSU9OX0VBU1R8fGQ9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9XRVNUKT09ZSYmZCE9Yz92LmFjdGlvbnMuZ2V0KCJzZWxlY3RQYXJlbnQiKS5mdW5jdCgpOgpkPT1jPyhlPXQuZ2V0T3V0Z29pbmdFZGdlcyhhKSxudWxsIT1lJiYwPGUubGVuZ3RoJiZ0LnNldFNlbGVjdGlvbkNlbGwodC5tb2RlbC5nZXRUZXJtaW5hbChlWzBdLCExKSkpOihkPXQuZ2V0SW5jb21pbmdFZGdlcyhhKSxudWxsIT1kJiYwPGQubGVuZ3RoJiYoZT1sKHQubW9kZWwuZ2V0VGVybWluYWwoZFswXSwhMCksZSxhKSxkPXQudmlldy5nZXRTdGF0ZShhKSxudWxsIT1kJiYoZD1teFV0aWxzLmluZGV4T2YoZSxkKSwwPD1kJiYoZCs9Yz09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIfHxjPT1teENvbnN0YW50cy5ESVJFQ1RJT05fV0VTVD8tMToxLDA8PWQmJmQ8PWUubGVuZ3RoLTEmJnQuc2V0U2VsZWN0aW9uQ2VsbChlW2RdLmNlbGwpKSkpKX12YXIgdj10aGlzLHQ9di5lZGl0b3IuZ3JhcGgseD10LmdldE1vZGVsKCksQT12Lm1lbnVzLmNyZWF0ZVBvcHVwTWVudTt2Lm1lbnVzLmNyZWF0ZVBvcHVwTWVudT1mdW5jdGlvbihiLGMsZCl7QS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7CmlmKDE9PXQuZ2V0U2VsZWN0aW9uQ291bnQoKSl7Yz10LmdldFNlbGVjdGlvbkNlbGwoKTt2YXIgZT10LmdldE91dGdvaW5nRWRnZXMoYyk7Yi5hZGRTZXBhcmF0b3IoKTswPGUubGVuZ3RoJiYoYSh0LmdldFNlbGVjdGlvbkNlbGwoKSkmJnRoaXMuYWRkTWVudUl0ZW1zKGIsWyJzZWxlY3RDaGlsZHJlbiJdLG51bGwsZCksdGhpcy5hZGRNZW51SXRlbXMoYixbInNlbGVjdERlc2NlbmRhbnRzIl0sbnVsbCxkKSk7YSh0LmdldFNlbGVjdGlvbkNlbGwoKSkmJihiLmFkZFNlcGFyYXRvcigpLDA8dC5nZXRJbmNvbWluZ0VkZ2VzKGMpLmxlbmd0aCYmdGhpcy5hZGRNZW51SXRlbXMoYixbInNlbGVjdFNpYmxpbmdzIiwic2VsZWN0UGFyZW50Il0sbnVsbCxkKSl9fTt2LmFjdGlvbnMuYWRkQWN0aW9uKCJzZWxlY3RDaGlsZHJlbiIsZnVuY3Rpb24oKXtpZih0LmlzRW5hYmxlZCgpJiYxPT10LmdldFNlbGVjdGlvbkNvdW50KCkpe3ZhciBhPXQuZ2V0U2VsZWN0aW9uQ2VsbCgpLGE9dC5nZXRPdXRnb2luZ0VkZ2VzKGEpOwppZihudWxsIT1hKXtmb3IodmFyIGI9W10sYz0wO2M8YS5sZW5ndGg7YysrKWIucHVzaCh0Lm1vZGVsLmdldFRlcm1pbmFsKGFbY10sITEpKTt0LnNldFNlbGVjdGlvbkNlbGxzKGIpfX19LG51bGwsbnVsbCwiQWx0K1NoaWZ0K1giKTt2LmFjdGlvbnMuYWRkQWN0aW9uKCJzZWxlY3RTaWJsaW5ncyIsZnVuY3Rpb24oKXtpZih0LmlzRW5hYmxlZCgpJiYxPT10LmdldFNlbGVjdGlvbkNvdW50KCkpe3ZhciBhPXQuZ2V0U2VsZWN0aW9uQ2VsbCgpLGE9dC5nZXRJbmNvbWluZ0VkZ2VzKGEpO2lmKG51bGwhPWEmJjA8YS5sZW5ndGgmJihhPXQuZ2V0T3V0Z29pbmdFZGdlcyh0Lm1vZGVsLmdldFRlcm1pbmFsKGFbMF0sITApKSxudWxsIT1hKSl7Zm9yKHZhciBiPVtdLGM9MDtjPGEubGVuZ3RoO2MrKyliLnB1c2godC5tb2RlbC5nZXRUZXJtaW5hbChhW2NdLCExKSk7dC5zZXRTZWxlY3Rpb25DZWxscyhiKX19fSxudWxsLG51bGwsIkFsdCtTaGlmdCtTIik7di5hY3Rpb25zLmFkZEFjdGlvbigic2VsZWN0UGFyZW50IiwKZnVuY3Rpb24oKXtpZih0LmlzRW5hYmxlZCgpJiYxPT10LmdldFNlbGVjdGlvbkNvdW50KCkpe3ZhciBhPXQuZ2V0U2VsZWN0aW9uQ2VsbCgpLGE9dC5nZXRJbmNvbWluZ0VkZ2VzKGEpO251bGwhPWEmJjA8YS5sZW5ndGgmJnQuc2V0U2VsZWN0aW9uQ2VsbCh0Lm1vZGVsLmdldFRlcm1pbmFsKGFbMF0sITApKX19LG51bGwsbnVsbCwiQWx0K1NoaWZ0K1AiKTt2LmFjdGlvbnMuYWRkQWN0aW9uKCJzZWxlY3REZXNjZW5kYW50cyIsZnVuY3Rpb24oKXtpZih0LmlzRW5hYmxlZCgpJiYxPT10LmdldFNlbGVjdGlvbkNvdW50KCkpe3ZhciBhPXQuZ2V0U2VsZWN0aW9uQ2VsbCgpLGI9W107dC50cmF2ZXJzZShhLCEwLGZ1bmN0aW9uKGEsYyl7bnVsbCE9YyYmYi5wdXNoKGMpO2IucHVzaChhKTtyZXR1cm4hMH0pO3Quc2V0U2VsZWN0aW9uQ2VsbHMoYil9fSxudWxsLG51bGwsIkFsdCtTaGlmdCtEIik7dmFyIEQ9dC5yZW1vdmVDZWxsczt0LnJlbW92ZUNlbGxzPWZ1bmN0aW9uKGIsYyl7Yz1udWxsIT0KYz9jOiEwO251bGw9PWImJihiPXRoaXMuZ2V0RGVsZXRhYmxlQ2VsbHModGhpcy5nZXRTZWxlY3Rpb25DZWxscygpKSk7YyYmKGI9dGhpcy5nZXREZWxldGFibGVDZWxscyh0aGlzLmFkZEFsbEVkZ2VzKGIpKSk7Zm9yKHZhciBkPVtdLGU9MDtlPGIubGVuZ3RoO2UrKyl7dmFyIGc9YltlXTt4LmlzRWRnZShnKSYmZihnKSYmKGQucHVzaChnKSxnPXguZ2V0VGVybWluYWwoZywhMSkpO2lmKGEoZykpe3ZhciBrPVtdO3QudHJhdmVyc2UoZywhMCxmdW5jdGlvbihhLGIpe251bGwhPWImJmsucHVzaChiKTtrLnB1c2goYSk7cmV0dXJuITB9KTswPGsubGVuZ3RoJiYoZD1kLmNvbmNhdChrKSxnPXQuZ2V0SW5jb21pbmdFZGdlcyhiW2VdKSxiPWIuY29uY2F0KGcpKX1lbHNlIG51bGwhPWcmJmQucHVzaChiW2VdKX1iPWQ7cmV0dXJuIEQuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt2LmhvdmVySWNvbnMuZ2V0U3RhdGVBdD1mdW5jdGlvbihiLGMsZCl7cmV0dXJuIGEoYi5jZWxsKT9udWxsOnRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZSh0aGlzLmdyYXBoLmdldENlbGxBdChjLApkKSl9O3ZhciBCPXQuZHVwbGljYXRlQ2VsbHM7dC5kdXBsaWNhdGVDZWxscz1mdW5jdGlvbihiLGMpe2I9bnVsbCE9Yj9iOnRoaXMuZ2V0U2VsZWN0aW9uQ2VsbHMoKTtmb3IodmFyIGQ9Yi5zbGljZSgwKSxlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPXQudmlldy5nZXRTdGF0ZShkW2VdKTtpZihudWxsIT1mJiZhKGYuY2VsbCkpZm9yKHZhciBnPXQuZ2V0SW5jb21pbmdFZGdlcyhmLmNlbGwpLGY9MDtmPGcubGVuZ3RoO2YrKylteFV0aWxzLnJlbW92ZShnW2ZdLGIpfXRoaXMubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7dmFyIGs9Qi5jYWxsKHRoaXMsYixjKTtpZihrLmxlbmd0aD09Yi5sZW5ndGgpZm9yKGU9MDtlPGIubGVuZ3RoO2UrKylpZihhKGJbZV0pKXt2YXIgbD10LmdldEluY29taW5nRWRnZXMoa1tlXSksZz10LmdldEluY29taW5nRWRnZXMoYltlXSk7aWYoMD09bC5sZW5ndGgmJjA8Zy5sZW5ndGgpe3ZhciBtPXRoaXMuY2xvbmVDZWxsKGdbMF0pO3RoaXMuYWRkRWRnZShtLAp0LmdldERlZmF1bHRQYXJlbnQoKSx0aGlzLm1vZGVsLmdldFRlcm1pbmFsKGdbMF0sITApLGtbZV0pfX19ZmluYWxseXt0aGlzLm1vZGVsLmVuZFVwZGF0ZSgpfXJldHVybiBrfTt2YXIgQz10Lm1vdmVDZWxsczt0Lm1vdmVDZWxscz1mdW5jdGlvbihiLGMsZCxlLGYsZyxrKXt2YXIgbD1udWxsO3RoaXMubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7dmFyIG09ZixuPXRoaXMuZ2V0Q3VycmVudENlbGxTdHlsZShmKTtpZihudWxsIT1iJiZhKGYpJiYiMSI9PW14VXRpbHMuZ2V0VmFsdWUobiwidHJlZUZvbGRpbmciLCIwIikpe2Zvcih2YXIgcD0wO3A8Yi5sZW5ndGg7cCsrKWlmKGEoYltwXSl8fHQubW9kZWwuaXNFZGdlKGJbcF0pJiZudWxsPT10Lm1vZGVsLmdldFRlcm1pbmFsKGJbcF0sITApKXtmPXQubW9kZWwuZ2V0UGFyZW50KGJbcF0pO2JyZWFrfWlmKG51bGwhPW0mJmYhPW0mJm51bGwhPXRoaXMudmlldy5nZXRTdGF0ZShiWzBdKSl7dmFyIHE9dC5nZXRJbmNvbWluZ0VkZ2VzKGJbMF0pOwppZigwPHEubGVuZ3RoKXt2YXIgeD10LnZpZXcuZ2V0U3RhdGUodC5tb2RlbC5nZXRUZXJtaW5hbChxWzBdLCEwKSk7aWYobnVsbCE9eCl7dmFyIHU9dC52aWV3LmdldFN0YXRlKG0pO251bGwhPXUmJihjPSh1LmdldENlbnRlclgoKS14LmdldENlbnRlclgoKSkvdC52aWV3LnNjYWxlLGQ9KHUuZ2V0Q2VudGVyWSgpLXguZ2V0Q2VudGVyWSgpKS90LnZpZXcuc2NhbGUpfX19fWw9Qy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYobnVsbCE9bCYmbnVsbCE9YiYmbC5sZW5ndGg9PWIubGVuZ3RoKWZvcihwPTA7cDxsLmxlbmd0aDtwKyspaWYodGhpcy5tb2RlbC5pc0VkZ2UobFtwXSkpYShtKSYmMD5teFV0aWxzLmluZGV4T2YobCx0aGlzLm1vZGVsLmdldFRlcm1pbmFsKGxbcF0sITApKSYmdGhpcy5tb2RlbC5zZXRUZXJtaW5hbChsW3BdLG0sITApO2Vsc2UgaWYoYShiW3BdKSYmKHE9dC5nZXRJbmNvbWluZ0VkZ2VzKGJbcF0pLDA8cS5sZW5ndGgpKWlmKCFlKWEobSkmJjA+bXhVdGlscy5pbmRleE9mKGIsCnRoaXMubW9kZWwuZ2V0VGVybWluYWwocVswXSwhMCkpJiZ0aGlzLm1vZGVsLnNldFRlcm1pbmFsKHFbMF0sbSwhMCk7ZWxzZSBpZigwPT10LmdldEluY29taW5nRWRnZXMobFtwXSkubGVuZ3RoKXtuPW07aWYobnVsbD09bnx8bj09dC5tb2RlbC5nZXRQYXJlbnQoYltwXSkpbj10Lm1vZGVsLmdldFRlcm1pbmFsKHFbMF0sITApO2U9dGhpcy5jbG9uZUNlbGwocVswXSk7dGhpcy5hZGRFZGdlKGUsdC5nZXREZWZhdWx0UGFyZW50KCksbixsW3BdKX19ZmluYWxseXt0aGlzLm1vZGVsLmVuZFVwZGF0ZSgpfXJldHVybiBsfTtpZihudWxsIT12LnNpZGViYXIpe3ZhciB6PXYuc2lkZWJhci5kcm9wQW5kQ29ubmVjdDt2LnNpZGViYXIuZHJvcEFuZENvbm5lY3Q9ZnVuY3Rpb24oYixjLGQsZSl7dmFyIGY9dC5tb2RlbCxnPW51bGw7Zi5iZWdpblVwZGF0ZSgpO3RyeXtpZihnPXouYXBwbHkodGhpcyxhcmd1bWVudHMpLGEoYikpZm9yKHZhciBrPTA7azxnLmxlbmd0aDtrKyspaWYoZi5pc0VkZ2UoZ1trXSkmJgpudWxsPT1mLmdldFRlcm1pbmFsKGdba10sITApKXtmLnNldFRlcm1pbmFsKGdba10sYiwhMCk7dmFyIGw9dC5nZXRDZWxsR2VvbWV0cnkoZ1trXSk7bC5wb2ludHM9bnVsbDtudWxsIT1sLmdldFRlcm1pbmFsUG9pbnQoITApJiZsLnNldFRlcm1pbmFsUG9pbnQobnVsbCwhMCl9fWZpbmFsbHl7Zi5lbmRVcGRhdGUoKX1yZXR1cm4gZ319dmFyIEU9ezg4OnYuYWN0aW9ucy5nZXQoInNlbGVjdENoaWxkcmVuIiksODQ6di5hY3Rpb25zLmdldCgic2VsZWN0U3VidHJlZSIpLDgwOnYuYWN0aW9ucy5nZXQoInNlbGVjdFBhcmVudCIpLDgzOnYuYWN0aW9ucy5nZXQoInNlbGVjdFNpYmxpbmdzIil9LEc9di5vbktleURvd247di5vbktleURvd249ZnVuY3Rpb24oYil7dHJ5e2lmKHQuaXNFbmFibGVkKCkmJiF0LmlzRWRpdGluZygpJiZhKHQuZ2V0U2VsZWN0aW9uQ2VsbCgpKSYmMT09dC5nZXRTZWxlY3Rpb25Db3VudCgpKXt2YXIgYz1udWxsOzA8dC5nZXRJbmNvbWluZ0VkZ2VzKHQuZ2V0U2VsZWN0aW9uQ2VsbCgpKS5sZW5ndGgmJgooOT09Yi53aGljaD9jPW14RXZlbnQuaXNTaGlmdERvd24oYik/Zyh0LmdldFNlbGVjdGlvbkNlbGwoKSk6cCh0LmdldFNlbGVjdGlvbkNlbGwoKSk6MTM9PWIud2hpY2gmJihjPWUodC5nZXRTZWxlY3Rpb25DZWxsKCksIW14RXZlbnQuaXNTaGlmdERvd24oYikpKSk7aWYobnVsbCE9YyYmMDxjLmxlbmd0aCkxPT1jLmxlbmd0aCYmdC5tb2RlbC5pc0VkZ2UoY1swXSk/dC5zZXRTZWxlY3Rpb25DZWxsKHQubW9kZWwuZ2V0VGVybWluYWwoY1swXSwhMSkpOnQuc2V0U2VsZWN0aW9uQ2VsbChjW2MubGVuZ3RoLTFdKSxudWxsIT12LmhvdmVySWNvbnMmJnYuaG92ZXJJY29ucy51cGRhdGUodC52aWV3LmdldFN0YXRlKHQuZ2V0U2VsZWN0aW9uQ2VsbCgpKSksdC5zdGFydEVkaXRpbmdBdENlbGwodC5nZXRTZWxlY3Rpb25DZWxsKCkpLG14RXZlbnQuY29uc3VtZShiKTtlbHNlIGlmKG14RXZlbnQuaXNBbHREb3duKGIpJiZteEV2ZW50LmlzU2hpZnREb3duKGIpKXt2YXIgZD1FW2Iua2V5Q29kZV07Cm51bGwhPWQmJihkLmZ1bmN0KGIpLG14RXZlbnQuY29uc3VtZShiKSl9ZWxzZSAzNz09Yi5rZXlDb2RlPyhuKHQuZ2V0U2VsZWN0aW9uQ2VsbCgpLG14Q29uc3RhbnRzLkRJUkVDVElPTl9XRVNUKSxteEV2ZW50LmNvbnN1bWUoYikpOjM4PT1iLmtleUNvZGU/KG4odC5nZXRTZWxlY3Rpb25DZWxsKCksbXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIKSxteEV2ZW50LmNvbnN1bWUoYikpOjM5PT1iLmtleUNvZGU/KG4odC5nZXRTZWxlY3Rpb25DZWxsKCksbXhDb25zdGFudHMuRElSRUNUSU9OX0VBU1QpLG14RXZlbnQuY29uc3VtZShiKSk6NDA9PWIua2V5Q29kZSYmKG4odC5nZXRTZWxlY3Rpb25DZWxsKCksbXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIKSxteEV2ZW50LmNvbnN1bWUoYikpfX1jYXRjaChIKXt2LmhhbmRsZUVycm9yKEgpfW14RXZlbnQuaXNDb25zdW1lZChiKXx8Ry5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3ZhciBGPXQuY29ubmVjdFZlcnRleDt0LmNvbm5lY3RWZXJ0ZXg9CmZ1bmN0aW9uKGMsZCxmLGssbCxtKXt2YXIgbj10LmdldEluY29taW5nRWRnZXMoYyk7cmV0dXJuIGEoYyk/KGY9YihjKSxrPWY9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9FQVNUfHxmPT1teENvbnN0YW50cy5ESVJFQ1RJT05fV0VTVCxsPWQ9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9FQVNUfHxkPT1teENvbnN0YW50cy5ESVJFQ1RJT05fV0VTVCxmPT1kfHwwPT1uLmxlbmd0aD9wKGMsZCk6az09bD9nKGMpOmUoYyxkIT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEgmJmQhPW14Q29uc3RhbnRzLkRJUkVDVElPTl9XRVNUKSk6Ri5jYWxsKHRoaXMsYyxkLGYsayxsLG0pfTt0LmdldFN1YnRyZWU9ZnVuY3Rpb24oYil7dmFyIGQ9W2JdOyFjKGIpJiYhYShiKXx8cShiKXx8dC50cmF2ZXJzZShiLCEwLGZ1bmN0aW9uKGEsYil7bnVsbCE9YiYmMD5teFV0aWxzLmluZGV4T2YoZCxiKSYmZC5wdXNoKGIpOzA+bXhVdGlscy5pbmRleE9mKGQsYSkmJmQucHVzaChhKTtyZXR1cm4hMH0pO3JldHVybiBkfTsKdmFyIEk9bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5pbml0O214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe0kuYXBwbHkodGhpcyxhcmd1bWVudHMpOyhjKHRoaXMuc3RhdGUuY2VsbCl8fGEodGhpcy5zdGF0ZS5jZWxsKSkmJiFxKHRoaXMuc3RhdGUuY2VsbCkmJjA8dGhpcy5ncmFwaC5nZXRPdXRnb2luZ0VkZ2VzKHRoaXMuc3RhdGUuY2VsbCkubGVuZ3RoJiYodGhpcy5tb3ZlSGFuZGxlPW14VXRpbHMuY3JlYXRlSW1hZ2UoRWRpdG9yLm1vdmVJbWFnZSksdGhpcy5tb3ZlSGFuZGxlLnNldEF0dHJpYnV0ZSgidGl0bGUiLCJNb3ZlIFN1YnRyZWUiKSx0aGlzLm1vdmVIYW5kbGUuc3R5bGUucG9zaXRpb249ImFic29sdXRlIix0aGlzLm1vdmVIYW5kbGUuc3R5bGUuY3Vyc29yPSJwb2ludGVyIix0aGlzLm1vdmVIYW5kbGUuc3R5bGUud2lkdGg9IjI0cHgiLHRoaXMubW92ZUhhbmRsZS5zdHlsZS5oZWlnaHQ9IjI0cHgiLHRoaXMuZ3JhcGguY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMubW92ZUhhbmRsZSksCm14RXZlbnQuYWRkR2VzdHVyZUxpc3RlbmVycyh0aGlzLm1vdmVIYW5kbGUsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5ncmFwaC5ncmFwaEhhbmRsZXIuc3RhcnQodGhpcy5zdGF0ZS5jZWxsLG14RXZlbnQuZ2V0Q2xpZW50WChhKSxteEV2ZW50LmdldENsaWVudFkoYSksdGhpcy5ncmFwaC5nZXRTdWJ0cmVlKHRoaXMuc3RhdGUuY2VsbCkpO3RoaXMuZ3JhcGguZ3JhcGhIYW5kbGVyLmNlbGxXYXNDbGlja2VkPSEwO3RoaXMuZ3JhcGguaXNNb3VzZVRyaWdnZXI9bXhFdmVudC5pc01vdXNlRXZlbnQoYSk7dGhpcy5ncmFwaC5pc01vdXNlRG93bj0hMDt2LmhvdmVySWNvbnMucmVzZXQoKTtteEV2ZW50LmNvbnN1bWUoYSl9KSkpfTt2YXIgSj1teFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnJlZHJhd0hhbmRsZXM7bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5yZWRyYXdIYW5kbGVzPWZ1bmN0aW9uKCl7Si5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bnVsbCE9dGhpcy5tb3ZlSGFuZGxlJiYKKHRoaXMubW92ZUhhbmRsZS5zdHlsZS5sZWZ0PXRoaXMuc3RhdGUueCt0aGlzLnN0YXRlLndpZHRoKyg0MD50aGlzLnN0YXRlLndpZHRoPzEwOjApKzIrInB4Iix0aGlzLm1vdmVIYW5kbGUuc3R5bGUudG9wPXRoaXMuc3RhdGUueSt0aGlzLnN0YXRlLmhlaWdodCsoNDA+dGhpcy5zdGF0ZS5oZWlnaHQ/MTA6MCkrMisicHgiKX07dmFyIHU9bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5zZXRIYW5kbGVzVmlzaWJsZTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnNldEhhbmRsZXNWaXNpYmxlPWZ1bmN0aW9uKGEpe3UuYXBwbHkodGhpcyxhcmd1bWVudHMpO251bGwhPXRoaXMubW92ZUhhbmRsZSYmKHRoaXMubW92ZUhhbmRsZS5zdHlsZS5kaXNwbGF5PWE/IiI6Im5vbmUiKX07dmFyIEs9bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5kZXN0cm95O214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbihhLGIpe0suYXBwbHkodGhpcyxhcmd1bWVudHMpO251bGwhPQp0aGlzLm1vdmVIYW5kbGUmJih0aGlzLm1vdmVIYW5kbGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLm1vdmVIYW5kbGUpLHRoaXMubW92ZUhhbmRsZT1udWxsKX19O2lmKCJ1bmRlZmluZWQiIT09dHlwZW9mIFNpZGViYXIpe3ZhciBmPVNpZGViYXIucHJvdG90eXBlLmNyZWF0ZUFkdmFuY2VkU2hhcGVzO1NpZGViYXIucHJvdG90eXBlLmNyZWF0ZUFkdmFuY2VkU2hhcGVzPWZ1bmN0aW9uKCl7dmFyIGE9Zi5hcHBseSh0aGlzLGFyZ3VtZW50cyksYz10aGlzLmdyYXBoO3JldHVybiBhLmNvbmNhdChbdGhpcy5hZGRFbnRyeSgidHJlZSBjb250YWluZXIiLGZ1bmN0aW9uKCl7dmFyIGE9bmV3IG14Q2VsbCgiVHJlZSBDb250YWluZXIiLG5ldyBteEdlb21ldHJ5KDAsMCw0MDAsMzIwKSwic3dpbWxhbmU7aHRtbD0xO3N0YXJ0U2l6ZT0yMDtob3Jpem9udGFsPTE7Y29udGFpbmVyVHlwZT10cmVlOyIpO2EudmVydGV4PSEwO3ZhciBjPW5ldyBteENlbGwoIlBhcmVudCIsbmV3IG14R2VvbWV0cnkoMTQwLAo2MCwxMjAsNDApLCd3aGl0ZVNwYWNlPXdyYXA7aHRtbD0xO3RyZWVGb2xkaW5nPTE7dHJlZU1vdmluZz0xO25ld0VkZ2VTdHlsZT17ImVkZ2VTdHlsZSI6ImVsYm93RWRnZVN0eWxlIiwic3RhcnRBcnJvdyI6Im5vbmUiLCJlbmRBcnJvdyI6Im5vbmUifTsnKTtjLnZlcnRleD0hMDt2YXIgYj1uZXcgbXhDZWxsKCJDaGlsZCIsbmV3IG14R2VvbWV0cnkoMTQwLDE0MCwxMjAsNDApLCd3aGl0ZVNwYWNlPXdyYXA7aHRtbD0xO3RyZWVGb2xkaW5nPTE7dHJlZU1vdmluZz0xO25ld0VkZ2VTdHlsZT17ImVkZ2VTdHlsZSI6ImVsYm93RWRnZVN0eWxlIiwic3RhcnRBcnJvdyI6Im5vbmUiLCJlbmRBcnJvdyI6Im5vbmUifTsnKTtiLnZlcnRleD0hMDt2YXIgZD1uZXcgbXhDZWxsKCIiLG5ldyBteEdlb21ldHJ5KDAsMCwwLDApLCJlZGdlU3R5bGU9ZWxib3dFZGdlU3R5bGU7ZWxib3c9dmVydGljYWw7c3RhcnRBcnJvdz1ub25lO2VuZEFycm93PW5vbmU7cm91bmRlZD0wOyIpO2QuZ2VvbWV0cnkucmVsYXRpdmU9CiEwO2QuZWRnZT0hMDtjLmluc2VydEVkZ2UoZCwhMCk7Yi5pbnNlcnRFZGdlKGQsITEpO2EuaW5zZXJ0KGQpO2EuaW5zZXJ0KGMpO2EuaW5zZXJ0KGIpO3JldHVybiBzYi5jcmVhdGVWZXJ0ZXhUZW1wbGF0ZUZyb21DZWxscyhbYV0sYS5nZW9tZXRyeS53aWR0aCxhLmdlb21ldHJ5LmhlaWdodCxhLnZhbHVlKX0pLHRoaXMuYWRkRW50cnkoInRyZWUgbWluZG1hcCBtaW5kbWFwcyBjZW50cmFsIGlkZWEgYnJhbmNoIHRvcGljIixmdW5jdGlvbigpe3ZhciBhPW5ldyBteENlbGwoIk1pbmRtYXAiLG5ldyBteEdlb21ldHJ5KDAsMCw0MjAsMTI2KSwic3dpbWxhbmU7aHRtbD0xO3N0YXJ0U2l6ZT0yMDtob3Jpem9udGFsPTE7Y29udGFpbmVyVHlwZT10cmVlOyIpO2EudmVydGV4PSEwO3ZhciBjPW5ldyBteENlbGwoIkNlbnRyYWwgSWRlYSIsbmV3IG14R2VvbWV0cnkoMTYwLDYwLDEwMCw0MCksJ2VsbGlwc2U7d2hpdGVTcGFjZT13cmFwO2h0bWw9MTthbGlnbj1jZW50ZXI7dHJlZUZvbGRpbmc9MTt0cmVlTW92aW5nPTE7bmV3RWRnZVN0eWxlPXsiZWRnZVN0eWxlIjoiZW50aXR5UmVsYXRpb25FZGdlU3R5bGUiLCJzdGFydEFycm93Ijoibm9uZSIsImVuZEFycm93Ijoibm9uZSIsInNlZ21lbnQiOjEwLCJjdXJ2ZWQiOjF9OycpOwpjLnZlcnRleD0hMDt2YXIgYj1uZXcgbXhDZWxsKCJUb3BpYyIsbmV3IG14R2VvbWV0cnkoMzIwLDQwLDgwLDIwKSwnd2hpdGVTcGFjZT13cmFwO2h0bWw9MTtyb3VuZGVkPTE7YXJjU2l6ZT01MDthbGlnbj1jZW50ZXI7dmVydGljYWxBbGlnbj1taWRkbGU7c3Ryb2tlV2lkdGg9MTthdXRvc2l6ZT0xO3NwYWNpbmc9NDt0cmVlRm9sZGluZz0xO3RyZWVNb3Zpbmc9MTtuZXdFZGdlU3R5bGU9eyJlZGdlU3R5bGUiOiJlbnRpdHlSZWxhdGlvbkVkZ2VTdHlsZSIsInN0YXJ0QXJyb3ciOiJub25lIiwiZW5kQXJyb3ciOiJub25lIiwic2VnbWVudCI6MTAsImN1cnZlZCI6MX07Jyk7Yi52ZXJ0ZXg9ITA7dmFyIGQ9bmV3IG14Q2VsbCgiIixuZXcgbXhHZW9tZXRyeSgwLDAsMCwwKSwiZWRnZVN0eWxlPWVudGl0eVJlbGF0aW9uRWRnZVN0eWxlO3N0YXJ0QXJyb3c9bm9uZTtlbmRBcnJvdz1ub25lO3NlZ21lbnQ9MTA7Y3VydmVkPTE7Iik7ZC5nZW9tZXRyeS5yZWxhdGl2ZT0hMDtkLmVkZ2U9ITA7CmMuaW5zZXJ0RWRnZShkLCEwKTtiLmluc2VydEVkZ2UoZCwhMSk7dmFyIGY9bmV3IG14Q2VsbCgiQnJhbmNoIixuZXcgbXhHZW9tZXRyeSgzMjAsODAsNzIsMjYpLCd3aGl0ZVNwYWNlPXdyYXA7aHRtbD0xO3NoYXBlPXBhcnRpYWxSZWN0YW5nbGU7dG9wPTA7bGVmdD0wO2JvdHRvbT0xO3JpZ2h0PTA7cG9pbnRzPVtbMCwxXSxbMSwxXV07ZmlsbENvbG9yPW5vbmU7YWxpZ249Y2VudGVyO3ZlcnRpY2FsQWxpZ249Ym90dG9tO3JvdXRpbmdDZW50ZXJZPTAuNTtzbmFwVG9Qb2ludD0xO2F1dG9zaXplPTE7dHJlZUZvbGRpbmc9MTt0cmVlTW92aW5nPTE7bmV3RWRnZVN0eWxlPXsiZWRnZVN0eWxlIjoiZW50aXR5UmVsYXRpb25FZGdlU3R5bGUiLCJzdGFydEFycm93Ijoibm9uZSIsImVuZEFycm93Ijoibm9uZSIsInNlZ21lbnQiOjEwLCJjdXJ2ZWQiOjF9OycpO2YudmVydGV4PSEwO3ZhciBtPW5ldyBteENlbGwoIiIsbmV3IG14R2VvbWV0cnkoMCwwLDAsMCksImVkZ2VTdHlsZT1lbnRpdHlSZWxhdGlvbkVkZ2VTdHlsZTtzdGFydEFycm93PW5vbmU7ZW5kQXJyb3c9bm9uZTtzZWdtZW50PTEwO2N1cnZlZD0xOyIpOwptLmdlb21ldHJ5LnJlbGF0aXZlPSEwO20uZWRnZT0hMDtjLmluc2VydEVkZ2UobSwhMCk7Zi5pbnNlcnRFZGdlKG0sITEpO3ZhciBsPW5ldyBteENlbGwoIlRvcGljIixuZXcgbXhHZW9tZXRyeSgyMCw0MCw4MCwyMCksJ3doaXRlU3BhY2U9d3JhcDtodG1sPTE7cm91bmRlZD0xO2FyY1NpemU9NTA7YWxpZ249Y2VudGVyO3ZlcnRpY2FsQWxpZ249bWlkZGxlO3N0cm9rZVdpZHRoPTE7YXV0b3NpemU9MTtzcGFjaW5nPTQ7dHJlZUZvbGRpbmc9MTt0cmVlTW92aW5nPTE7bmV3RWRnZVN0eWxlPXsiZWRnZVN0eWxlIjoiZW50aXR5UmVsYXRpb25FZGdlU3R5bGUiLCJzdGFydEFycm93Ijoibm9uZSIsImVuZEFycm93Ijoibm9uZSIsInNlZ21lbnQiOjEwLCJjdXJ2ZWQiOjF9OycpO2wudmVydGV4PSEwO3ZhciBuPW5ldyBteENlbGwoIiIsbmV3IG14R2VvbWV0cnkoMCwwLDAsMCksImVkZ2VTdHlsZT1lbnRpdHlSZWxhdGlvbkVkZ2VTdHlsZTtzdGFydEFycm93PW5vbmU7ZW5kQXJyb3c9bm9uZTtzZWdtZW50PTEwO2N1cnZlZD0xOyIpOwpuLmdlb21ldHJ5LnJlbGF0aXZlPSEwO24uZWRnZT0hMDtjLmluc2VydEVkZ2UobiwhMCk7bC5pbnNlcnRFZGdlKG4sITEpO3ZhciB2PW5ldyBteENlbGwoIkJyYW5jaCIsbmV3IG14R2VvbWV0cnkoMjAsODAsNzIsMjYpLCd3aGl0ZVNwYWNlPXdyYXA7aHRtbD0xO3NoYXBlPXBhcnRpYWxSZWN0YW5nbGU7dG9wPTA7bGVmdD0wO2JvdHRvbT0xO3JpZ2h0PTA7cG9pbnRzPVtbMCwxXSxbMSwxXV07ZmlsbENvbG9yPW5vbmU7YWxpZ249Y2VudGVyO3ZlcnRpY2FsQWxpZ249Ym90dG9tO3JvdXRpbmdDZW50ZXJZPTAuNTtzbmFwVG9Qb2ludD0xO2F1dG9zaXplPTE7dHJlZUZvbGRpbmc9MTt0cmVlTW92aW5nPTE7bmV3RWRnZVN0eWxlPXsiZWRnZVN0eWxlIjoiZW50aXR5UmVsYXRpb25FZGdlU3R5bGUiLCJzdGFydEFycm93Ijoibm9uZSIsImVuZEFycm93Ijoibm9uZSIsInNlZ21lbnQiOjEwLCJjdXJ2ZWQiOjF9OycpO3YudmVydGV4PSEwO3ZhciB0PW5ldyBteENlbGwoIiIsbmV3IG14R2VvbWV0cnkoMCwKMCwwLDApLCJlZGdlU3R5bGU9ZW50aXR5UmVsYXRpb25FZGdlU3R5bGU7c3RhcnRBcnJvdz1ub25lO2VuZEFycm93PW5vbmU7c2VnbWVudD0xMDtjdXJ2ZWQ9MTsiKTt0Lmdlb21ldHJ5LnJlbGF0aXZlPSEwO3QuZWRnZT0hMDtjLmluc2VydEVkZ2UodCwhMCk7di5pbnNlcnRFZGdlKHQsITEpO2EuaW5zZXJ0KGQpO2EuaW5zZXJ0KG0pO2EuaW5zZXJ0KG4pO2EuaW5zZXJ0KHQpO2EuaW5zZXJ0KGMpO2EuaW5zZXJ0KGIpO2EuaW5zZXJ0KGYpO2EuaW5zZXJ0KGwpO2EuaW5zZXJ0KHYpO3JldHVybiBzYi5jcmVhdGVWZXJ0ZXhUZW1wbGF0ZUZyb21DZWxscyhbYV0sYS5nZW9tZXRyeS53aWR0aCxhLmdlb21ldHJ5LmhlaWdodCxhLnZhbHVlKX0pLHRoaXMuYWRkRW50cnkoInRyZWUgbWluZG1hcCBtaW5kbWFwcyBjZW50cmFsIGlkZWEiLGZ1bmN0aW9uKCl7dmFyIGE9bmV3IG14Q2VsbCgiQ2VudHJhbCBJZGVhIixuZXcgbXhHZW9tZXRyeSgwLDAsMTAwLDQwKSwnZWxsaXBzZTt3aGl0ZVNwYWNlPXdyYXA7aHRtbD0xO2FsaWduPWNlbnRlcjtuZXdFZGdlU3R5bGU9eyJlZGdlU3R5bGUiOiJlbnRpdHlSZWxhdGlvbkVkZ2VTdHlsZSIsInN0YXJ0QXJyb3ciOiJub25lIiwiZW5kQXJyb3ciOiJub25lIiwic2VnbWVudCI6MTAsImN1cnZlZCI6MX07dHJlZUZvbGRpbmc9MTt0cmVlTW92aW5nPTE7Jyk7CmEudmVydGV4PSEwO3JldHVybiBzYi5jcmVhdGVWZXJ0ZXhUZW1wbGF0ZUZyb21DZWxscyhbYV0sYS5nZW9tZXRyeS53aWR0aCxhLmdlb21ldHJ5LmhlaWdodCxhLnZhbHVlKX0pLHRoaXMuYWRkRW50cnkoInRyZWUgbWluZG1hcCBtaW5kbWFwcyBicmFuY2giLGZ1bmN0aW9uKCl7dmFyIGE9bmV3IG14Q2VsbCgiQnJhbmNoIixuZXcgbXhHZW9tZXRyeSgwLDAsODAsMjApLCd3aGl0ZVNwYWNlPXdyYXA7aHRtbD0xO3NoYXBlPXBhcnRpYWxSZWN0YW5nbGU7dG9wPTA7bGVmdD0wO2JvdHRvbT0xO3JpZ2h0PTA7cG9pbnRzPVtbMCwxXSxbMSwxXV07ZmlsbENvbG9yPW5vbmU7YWxpZ249Y2VudGVyO3ZlcnRpY2FsQWxpZ249Ym90dG9tO3JvdXRpbmdDZW50ZXJZPTAuNTtzbmFwVG9Qb2ludD0xO3JlY3Vyc2l2ZVJlc2l6ZT0wO2F1dG9zaXplPTE7dHJlZUZvbGRpbmc9MTt0cmVlTW92aW5nPTE7bmV3RWRnZVN0eWxlPXsiZWRnZVN0eWxlIjoiZW50aXR5UmVsYXRpb25FZGdlU3R5bGUiLCJzdGFydEFycm93Ijoibm9uZSIsImVuZEFycm93Ijoibm9uZSIsInNlZ21lbnQiOjEwLCJjdXJ2ZWQiOjF9OycpOwphLnZlcnRleD0hMDt2YXIgYz1uZXcgbXhDZWxsKCIiLG5ldyBteEdlb21ldHJ5KDAsMCwwLDApLCJlZGdlU3R5bGU9ZW50aXR5UmVsYXRpb25FZGdlU3R5bGU7c3RhcnRBcnJvdz1ub25lO2VuZEFycm93PW5vbmU7c2VnbWVudD0xMDtjdXJ2ZWQ9MTsiKTtjLmdlb21ldHJ5LnNldFRlcm1pbmFsUG9pbnQobmV3IG14UG9pbnQoLTQwLDQwKSwhMCk7Yy5nZW9tZXRyeS5yZWxhdGl2ZT0hMDtjLmVkZ2U9ITA7YS5pbnNlcnRFZGdlKGMsITEpO3JldHVybiBzYi5jcmVhdGVWZXJ0ZXhUZW1wbGF0ZUZyb21DZWxscyhbYSxjXSxhLmdlb21ldHJ5LndpZHRoLGEuZ2VvbWV0cnkuaGVpZ2h0LGEudmFsdWUpfSksdGhpcy5hZGRFbnRyeSgidHJlZSBtaW5kbWFwIG1pbmRtYXBzIHN1YiB0b3BpYyIsZnVuY3Rpb24oKXt2YXIgYT1uZXcgbXhDZWxsKCJTdWIgVG9waWMiLG5ldyBteEdlb21ldHJ5KDAsMCw3MiwyNiksJ3doaXRlU3BhY2U9d3JhcDtodG1sPTE7cm91bmRlZD0xO2FyY1NpemU9NTA7YWxpZ249Y2VudGVyO3ZlcnRpY2FsQWxpZ249bWlkZGxlO3N0cm9rZVdpZHRoPTE7YXV0b3NpemU9MTtzcGFjaW5nPTQ7dHJlZUZvbGRpbmc9MTt0cmVlTW92aW5nPTE7bmV3RWRnZVN0eWxlPXsiZWRnZVN0eWxlIjoiZW50aXR5UmVsYXRpb25FZGdlU3R5bGUiLCJzdGFydEFycm93Ijoibm9uZSIsImVuZEFycm93Ijoibm9uZSIsInNlZ21lbnQiOjEwLCJjdXJ2ZWQiOjF9OycpOwphLnZlcnRleD0hMDt2YXIgYz1uZXcgbXhDZWxsKCIiLG5ldyBteEdlb21ldHJ5KDAsMCwwLDApLCJlZGdlU3R5bGU9ZW50aXR5UmVsYXRpb25FZGdlU3R5bGU7c3RhcnRBcnJvdz1ub25lO2VuZEFycm93PW5vbmU7c2VnbWVudD0xMDtjdXJ2ZWQ9MTsiKTtjLmdlb21ldHJ5LnNldFRlcm1pbmFsUG9pbnQobmV3IG14UG9pbnQoLTQwLDQwKSwhMCk7Yy5nZW9tZXRyeS5yZWxhdGl2ZT0hMDtjLmVkZ2U9ITA7YS5pbnNlcnRFZGdlKGMsITEpO3JldHVybiBzYi5jcmVhdGVWZXJ0ZXhUZW1wbGF0ZUZyb21DZWxscyhbYSxjXSxhLmdlb21ldHJ5LndpZHRoLGEuZ2VvbWV0cnkuaGVpZ2h0LGEudmFsdWUpfSksdGhpcy5hZGRFbnRyeSgidHJlZSBvcmdjaGFydCBvcmdhbml6YXRpb24gZGl2aXNpb24iLGZ1bmN0aW9uKCl7dmFyIGE9bmV3IG14Q2VsbCgiT3JnY2hhcnQiLG5ldyBteEdlb21ldHJ5KDAsMCwyODAsMjIwKSwnc3dpbWxhbmU7aHRtbD0xO3N0YXJ0U2l6ZT0yMDtob3Jpem9udGFsPTE7Y29udGFpbmVyVHlwZT10cmVlO25ld0VkZ2VTdHlsZT17ImVkZ2VTdHlsZSI6ImVsYm93RWRnZVN0eWxlIiwic3RhcnRBcnJvdyI6Im5vbmUiLCJlbmRBcnJvdyI6Im5vbmUifTsnKTsKYS52ZXJ0ZXg9ITA7dmFyIGQ9bmV3IG14Q2VsbCgiT3JnYW5pemF0aW9uIixuZXcgbXhHZW9tZXRyeSg4MCw0MCwxMjAsNjApLCd3aGl0ZVNwYWNlPXdyYXA7aHRtbD0xO2FsaWduPWNlbnRlcjt0cmVlRm9sZGluZz0xO3RyZWVNb3Zpbmc9MTtuZXdFZGdlU3R5bGU9eyJlZGdlU3R5bGUiOiJlbGJvd0VkZ2VTdHlsZSIsInN0YXJ0QXJyb3ciOiJub25lIiwiZW5kQXJyb3ciOiJub25lIn07Jyk7Yy5zZXRBdHRyaWJ1dGVGb3JDZWxsKGQsInRyZWVSb290IiwiMSIpO2QudmVydGV4PSEwO3ZhciBiPW5ldyBteENlbGwoIkRpdmlzaW9uIixuZXcgbXhHZW9tZXRyeSgyMCwxNDAsMTAwLDYwKSwnd2hpdGVTcGFjZT13cmFwO2h0bWw9MTthbGlnbj1jZW50ZXI7dmVydGljYWxBbGlnbj1taWRkbGU7dHJlZUZvbGRpbmc9MTt0cmVlTW92aW5nPTE7bmV3RWRnZVN0eWxlPXsiZWRnZVN0eWxlIjoiZWxib3dFZGdlU3R5bGUiLCJzdGFydEFycm93Ijoibm9uZSIsImVuZEFycm93Ijoibm9uZSJ9OycpOwpiLnZlcnRleD0hMDt2YXIgZT1uZXcgbXhDZWxsKCIiLG5ldyBteEdlb21ldHJ5KDAsMCwwLDApLCJlZGdlU3R5bGU9ZWxib3dFZGdlU3R5bGU7ZWxib3c9dmVydGljYWw7c3RhcnRBcnJvdz1ub25lO2VuZEFycm93PW5vbmU7cm91bmRlZD0wOyIpO2UuZ2VvbWV0cnkucmVsYXRpdmU9ITA7ZS5lZGdlPSEwO2QuaW5zZXJ0RWRnZShlLCEwKTtiLmluc2VydEVkZ2UoZSwhMSk7dmFyIGY9bmV3IG14Q2VsbCgiRGl2aXNpb24iLG5ldyBteEdlb21ldHJ5KDE2MCwxNDAsMTAwLDYwKSwnd2hpdGVTcGFjZT13cmFwO2h0bWw9MTthbGlnbj1jZW50ZXI7dmVydGljYWxBbGlnbj1taWRkbGU7dHJlZUZvbGRpbmc9MTt0cmVlTW92aW5nPTE7bmV3RWRnZVN0eWxlPXsiZWRnZVN0eWxlIjoiZWxib3dFZGdlU3R5bGUiLCJzdGFydEFycm93Ijoibm9uZSIsImVuZEFycm93Ijoibm9uZSJ9OycpO2YudmVydGV4PSEwO3ZhciBtPW5ldyBteENlbGwoIiIsbmV3IG14R2VvbWV0cnkoMCwwLDAsMCksImVkZ2VTdHlsZT1lbGJvd0VkZ2VTdHlsZTtlbGJvdz12ZXJ0aWNhbDtzdGFydEFycm93PW5vbmU7ZW5kQXJyb3c9bm9uZTtyb3VuZGVkPTA7Iik7Cm0uZ2VvbWV0cnkucmVsYXRpdmU9ITA7bS5lZGdlPSEwO2QuaW5zZXJ0RWRnZShtLCEwKTtmLmluc2VydEVkZ2UobSwhMSk7YS5pbnNlcnQoZSk7YS5pbnNlcnQobSk7YS5pbnNlcnQoZCk7YS5pbnNlcnQoYik7YS5pbnNlcnQoZik7cmV0dXJuIHNiLmNyZWF0ZVZlcnRleFRlbXBsYXRlRnJvbUNlbGxzKFthXSxhLmdlb21ldHJ5LndpZHRoLGEuZ2VvbWV0cnkuaGVpZ2h0LGEudmFsdWUpfSksdGhpcy5hZGRFbnRyeSgidHJlZSByb290IixmdW5jdGlvbigpe3ZhciBhPW5ldyBteENlbGwoIk9yZ2FuaXphdGlvbiIsbmV3IG14R2VvbWV0cnkoMCwwLDEyMCw2MCksJ3doaXRlU3BhY2U9d3JhcDtodG1sPTE7YWxpZ249Y2VudGVyO3RyZWVGb2xkaW5nPTE7dHJlZU1vdmluZz0xO25ld0VkZ2VTdHlsZT17ImVkZ2VTdHlsZSI6ImVsYm93RWRnZVN0eWxlIiwic3RhcnRBcnJvdyI6Im5vbmUiLCJlbmRBcnJvdyI6Im5vbmUifTsnKTtjLnNldEF0dHJpYnV0ZUZvckNlbGwoYSwidHJlZVJvb3QiLAoiMSIpO2EudmVydGV4PSEwO3JldHVybiBzYi5jcmVhdGVWZXJ0ZXhUZW1wbGF0ZUZyb21DZWxscyhbYV0sYS5nZW9tZXRyeS53aWR0aCxhLmdlb21ldHJ5LmhlaWdodCxhLnZhbHVlKX0pLHRoaXMuYWRkRW50cnkoInRyZWUgZGl2aXNpb24iLGZ1bmN0aW9uKCl7dmFyIGE9bmV3IG14Q2VsbCgiRGl2aXNpb24iLG5ldyBteEdlb21ldHJ5KDIwLDQwLDEwMCw2MCksJ3doaXRlU3BhY2U9d3JhcDtodG1sPTE7YWxpZ249Y2VudGVyO3ZlcnRpY2FsQWxpZ249bWlkZGxlO3RyZWVGb2xkaW5nPTE7dHJlZU1vdmluZz0xO25ld0VkZ2VTdHlsZT17ImVkZ2VTdHlsZSI6ImVsYm93RWRnZVN0eWxlIiwic3RhcnRBcnJvdyI6Im5vbmUiLCJlbmRBcnJvdyI6Im5vbmUifTsnKTthLnZlcnRleD0hMDt2YXIgYz1uZXcgbXhDZWxsKCIiLG5ldyBteEdlb21ldHJ5KDAsMCwwLDApLCJlZGdlU3R5bGU9ZWxib3dFZGdlU3R5bGU7ZWxib3c9dmVydGljYWw7c3RhcnRBcnJvdz1ub25lO2VuZEFycm93PW5vbmU7cm91bmRlZD0wOyIpOwpjLmdlb21ldHJ5LnNldFRlcm1pbmFsUG9pbnQobmV3IG14UG9pbnQoMCwwKSwhMCk7Yy5nZW9tZXRyeS5yZWxhdGl2ZT0hMDtjLmVkZ2U9ITA7YS5pbnNlcnRFZGdlKGMsITEpO3JldHVybiBzYi5jcmVhdGVWZXJ0ZXhUZW1wbGF0ZUZyb21DZWxscyhbYSxjXSxhLmdlb21ldHJ5LndpZHRoLGEuZ2VvbWV0cnkuaGVpZ2h0LGEudmFsdWUpfSksdGhpcy5hZGRFbnRyeSgidHJlZSBzdWIgc2VjdGlvbnMiLGZ1bmN0aW9uKCl7dmFyIGE9bmV3IG14Q2VsbCgiU3ViIFNlY3Rpb24iLG5ldyBteEdlb21ldHJ5KDAsMCwxMDAsNjApLCJ3aGl0ZVNwYWNlPXdyYXA7aHRtbD0xO2FsaWduPWNlbnRlcjt2ZXJ0aWNhbEFsaWduPW1pZGRsZTt0cmVlRm9sZGluZz0xO3RyZWVNb3Zpbmc9MTsiKTthLnZlcnRleD0hMDt2YXIgYz1uZXcgbXhDZWxsKCIiLG5ldyBteEdlb21ldHJ5KDAsMCwwLDApLCJlZGdlU3R5bGU9b3J0aG9nb25hbEVkZ2VTdHlsZTtzdGFydEFycm93PW5vbmU7ZW5kQXJyb3c9bm9uZTtyb3VuZGVkPTA7dGFyZ2V0UG9ydENvbnN0cmFpbnQ9ZWFzdHdlc3Q7c291cmNlUG9ydENvbnN0cmFpbnQ9bm9ydGhzb3V0aDsiKTsKYy5nZW9tZXRyeS5zZXRUZXJtaW5hbFBvaW50KG5ldyBteFBvaW50KDExMCwtNDApLCEwKTtjLmdlb21ldHJ5LnJlbGF0aXZlPSEwO2MuZWRnZT0hMDthLmluc2VydEVkZ2UoYywhMSk7dmFyIGI9bmV3IG14Q2VsbCgiU3ViIFNlY3Rpb24iLG5ldyBteEdlb21ldHJ5KDEyMCwwLDEwMCw2MCksIndoaXRlU3BhY2U9d3JhcDtodG1sPTE7YWxpZ249Y2VudGVyO3ZlcnRpY2FsQWxpZ249bWlkZGxlO3RyZWVGb2xkaW5nPTE7dHJlZU1vdmluZz0xOyIpO2IudmVydGV4PSEwO3ZhciBkPW5ldyBteENlbGwoIiIsbmV3IG14R2VvbWV0cnkoMCwwLDAsMCksImVkZ2VTdHlsZT1vcnRob2dvbmFsRWRnZVN0eWxlO3N0YXJ0QXJyb3c9bm9uZTtlbmRBcnJvdz1ub25lO3JvdW5kZWQ9MDt0YXJnZXRQb3J0Q29uc3RyYWludD1lYXN0d2VzdDtzb3VyY2VQb3J0Q29uc3RyYWludD1ub3J0aHNvdXRoOyIpO2QuZ2VvbWV0cnkuc2V0VGVybWluYWxQb2ludChuZXcgbXhQb2ludCgxMTAsLTQwKSwhMCk7ZC5nZW9tZXRyeS5yZWxhdGl2ZT0KITA7ZC5lZGdlPSEwO2IuaW5zZXJ0RWRnZShkLCExKTtyZXR1cm4gc2IuY3JlYXRlVmVydGV4VGVtcGxhdGVGcm9tQ2VsbHMoW2MsZCxhLGJdLDIyMCw2MCwiU3ViIFNlY3Rpb25zIil9KV0pfX19KSgpO0VkaXRvclVpLmluaXRNaW5pbWFsVGhlbWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYil7dmFyIGM9YS5lZGl0b3IuZ3JhcGg7Yy5wb3B1cE1lbnVIYW5kbGVyLmhpZGVNZW51KCk7bnVsbD09YS5mb3JtYXRXaW5kb3c/KGEuZm9ybWF0V2luZG93PW5ldyBtKGEsbXhSZXNvdXJjZXMuZ2V0KCJmb3JtYXQiKSxNYXRoLm1heCgyMCxhLmRpYWdyYW1Db250YWluZXIuY2xpZW50V2lkdGgtMjQwLTEyKSw1NiwyNDAsTWF0aC5taW4oNTY2LGMuY29udGFpbmVyLmNsaWVudEhlaWdodC0xMCksZnVuY3Rpb24oYil7Yj1hLmNyZWF0ZUZvcm1hdChiKTtiLmluaXQoKTtyZXR1cm4gYn0pLGEuZm9ybWF0V2luZG93LndpbmRvdy5taW5pbXVtU2l6ZT1uZXcgbXhSZWN0YW5nbGUoMCwwLDI0MCw4MCksYS5mb3JtYXRXaW5kb3cud2luZG93LnNldFZpc2libGUoITApKTphLmZvcm1hdFdpbmRvdy53aW5kb3cuc2V0VmlzaWJsZShudWxsIT1iP2I6IWEuZm9ybWF0V2luZG93LndpbmRvdy5pc1Zpc2libGUoKSk7CmEuZm9ybWF0V2luZG93LndpbmRvdy5pc1Zpc2libGUoKSYmYS5mb3JtYXRXaW5kb3cud2luZG93LmZpdCgpfWZ1bmN0aW9uIGMoYSxiKXt2YXIgYz1hLmVkaXRvci5ncmFwaDtjLnBvcHVwTWVudUhhbmRsZXIuaGlkZU1lbnUoKTtuZXcgbXhSZWN0YW5nbGU7aWYobnVsbD09YS5zaWRlYmFyV2luZG93KXt2YXIgZD1NYXRoLm1pbihjLmNvbnRhaW5lci5jbGllbnRXaWR0aC0xMCwyMTgpO2Euc2lkZWJhcldpbmRvdz1uZXcgbShhLG14UmVzb3VyY2VzLmdldCgic2hhcGVzIiksMTAsNTYsZC02LE1hdGgubWluKDY1MCxjLmNvbnRhaW5lci5jbGllbnRIZWlnaHQtMzApLGZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGMoYyxkKXt2YXIgZj1hLm1lbnVzLmdldChjKSxnPWUuYWRkTWVudShkLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7Zi5mdW5jdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KSk7Zy5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtib3JkZXItdG9wOjFweCBzb2xpZCBsaWdodGdyYXk7d2lkdGg6NTAlO2hlaWdodDoyNHB4O2JvdHRvbTowcHg7dGV4dC1hbGlnbjpjZW50ZXI7Y3Vyc29yOnBvaW50ZXI7cGFkZGluZzo2cHggMCAwIDA7Y3Vzb3I6cG9pbnRlcjsiOwpnLmNsYXNzTmFtZT0iZ2VUaXRsZSI7Yi5hcHBlbmRDaGlsZChnKTtyZXR1cm4gZ312YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtkLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDtyaWdodDowO2JvcmRlci10b3A6MXB4IHNvbGlkIGxpZ2h0Z3JheTtoZWlnaHQ6MjRweDtib3R0b206MzFweDt0ZXh0LWFsaWduOmNlbnRlcjtjdXJzb3I6cG9pbnRlcjtwYWRkaW5nOjZweCAwIDAgMDsiO2QuY2xhc3NOYW1lPSJnZVRpdGxlIjtkLmlubmVySFRNTD0nPHNwYW4gc3R5bGU9ImZvbnQtc2l6ZToxOHB4O21hcmdpbi1yaWdodDo1cHg7Ij4rPC9zcGFuPic7bXhVdGlscy53cml0ZShkLG14UmVzb3VyY2VzLmdldCgibW9yZVNoYXBlcyIpKTtiLmFwcGVuZENoaWxkKGQpO214RXZlbnQuYWRkTGlzdGVuZXIoZCwiY2xpY2siLGZ1bmN0aW9uKCl7YS5hY3Rpb25zLmdldCgic2hhcGVzIikuZnVuY3QoKX0pO3ZhciBlPW5ldyBNZW51YmFyKGEsYik7aWYoIUVkaXRvci5lbmFibGVDdXN0b21MaWJyYXJpZXN8fAoiMSI9PXVybFBhcmFtcy5lbWJlZCYmIjEiIT11cmxQYXJhbXMubGlicmFyaWVzKWQuc3R5bGUuYm90dG9tPSIwIjtlbHNlIGlmKG51bGwhPWEuYWN0aW9ucy5nZXQoIm5ld0xpYnJhcnkiKSl7ZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtkLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6MHB4O3dpZHRoOjUwJTtib3JkZXItdG9wOjFweCBzb2xpZCBsaWdodGdyYXk7aGVpZ2h0OjMwcHg7Ym90dG9tOjBweDt0ZXh0LWFsaWduOmNlbnRlcjtjdXJzb3I6cG9pbnRlcjtwYWRkaW5nOjBweDsiO2QuY2xhc3NOYW1lPSJnZVRpdGxlIjt2YXIgZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7Zi5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjpyZWxhdGl2ZTt0b3A6NnB4OyI7bXhVdGlscy53cml0ZShmLG14UmVzb3VyY2VzLmdldCgibmV3TGlicmFyeSIpKTtkLmFwcGVuZENoaWxkKGYpO2IuYXBwZW5kQ2hpbGQoZCk7bXhFdmVudC5hZGRMaXN0ZW5lcihkLAoiY2xpY2siLGEuYWN0aW9ucy5nZXQoIm5ld0xpYnJhcnkiKS5mdW5jdCk7ZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtkLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6NTAlO3dpZHRoOjUwJTtib3JkZXItdG9wOjFweCBzb2xpZCBsaWdodGdyYXk7aGVpZ2h0OjMwcHg7Ym90dG9tOjBweDt0ZXh0LWFsaWduOmNlbnRlcjtjdXJzb3I6cG9pbnRlcjtwYWRkaW5nOjBweDtib3JkZXItbGVmdDogMXB4IHNvbGlkIGxpZ2h0Z3JheTsiO2QuY2xhc3NOYW1lPSJnZVRpdGxlIjtmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTtmLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOnJlbGF0aXZlO3RvcDo2cHg7IjtteFV0aWxzLndyaXRlKGYsbXhSZXNvdXJjZXMuZ2V0KCJvcGVuTGlicmFyeSIpKTtkLmFwcGVuZENoaWxkKGYpO2IuYXBwZW5kQ2hpbGQoZCk7bXhFdmVudC5hZGRMaXN0ZW5lcihkLCJjbGljayIsYS5hY3Rpb25zLmdldCgib3BlbkxpYnJhcnkiKS5mdW5jdCl9ZWxzZSBkPQpjKCJuZXdMaWJyYXJ5IixteFJlc291cmNlcy5nZXQoIm5ld0xpYnJhcnkiKSksZC5zdHlsZS5ib3hTaXppbmc9ImJvcmRlci1ib3giLGQuc3R5bGUucGFkZGluZ1JpZ2h0PSI2cHgiLGQuc3R5bGUucGFkZGluZ0xlZnQ9IjZweCIsZC5zdHlsZS5oZWlnaHQ9IjMycHgiLGQuc3R5bGUubGVmdD0iMCIsZD1jKCJvcGVuTGlicmFyeUZyb20iLG14UmVzb3VyY2VzLmdldCgib3BlbkxpYnJhcnlGcm9tIikpLGQuc3R5bGUuYm9yZGVyTGVmdD0iMXB4IHNvbGlkIGxpZ2h0Z3JheSIsZC5zdHlsZS5ib3hTaXppbmc9ImJvcmRlci1ib3giLGQuc3R5bGUucGFkZGluZ1JpZ2h0PSI2cHgiLGQuc3R5bGUucGFkZGluZ0xlZnQ9IjZweCIsZC5zdHlsZS5oZWlnaHQ9IjMycHgiLGQuc3R5bGUubGVmdD0iNTAlIjtiLmFwcGVuZENoaWxkKGEuc2lkZWJhci5jb250YWluZXIpO2Iuc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiI7cmV0dXJuIGJ9KTthLnNpZGViYXJXaW5kb3cud2luZG93Lm1pbmltdW1TaXplPW5ldyBteFJlY3RhbmdsZSgwLAowLDkwLDkwKTthLnNpZGViYXJXaW5kb3cud2luZG93LnNldFZpc2libGUoITApO2EuZ2V0TG9jYWxEYXRhKCJzaWRlYmFyIixmdW5jdGlvbihiKXthLnNpZGViYXIuc2hvd0VudHJpZXMoYixudWxsLCEwKX0pO2EucmVzdG9yZUxpYnJhcmllcygpfWVsc2UgYS5zaWRlYmFyV2luZG93LndpbmRvdy5zZXRWaXNpYmxlKG51bGwhPWI/YjohYS5zaWRlYmFyV2luZG93LndpbmRvdy5pc1Zpc2libGUoKSk7YS5zaWRlYmFyV2luZG93LndpbmRvdy5pc1Zpc2libGUoKSYmYS5zaWRlYmFyV2luZG93LndpbmRvdy5maXQoKX1pZigiMSI9PXVybFBhcmFtcy5saWdodGJveHx8IjAiPT11cmxQYXJhbXMuY2hyb21lfHwidW5kZWZpbmVkIj09PXR5cGVvZiB3aW5kb3cuRm9ybWF0fHwidW5kZWZpbmVkIj09PXR5cGVvZiB3aW5kb3cuTWVudXMpd2luZG93LnVpVGhlbWU9bnVsbDtlbHNle3ZhciBmPXdpbmRvdy5pbm5lcldpZHRofHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGh8fGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7CnRyeXt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO2QudHlwZT0idGV4dC9jc3MiO2QuaW5uZXJIVE1MPSIqIHsgLXdlYmtpdC1mb250LXNtb290aGluZzogYW50aWFsaWFzZWQ7IH1odG1sIGJvZHkgLm14V2luZG93IGJ1dHRvbi5nZUJ0biB7IGZvbnQtc2l6ZToxMnB4ICFpbXBvcnRhbnQ7IG1hcmdpbi1sZWZ0OiAwOyB9aHRtbCBib2R5IHRhYmxlLm14V2luZG93IHRkLm14V2luZG93UGFuZSBkaXYubXhXaW5kb3dQYW5lICo6bm90KHN2ZyAqKSB7IGZvbnQtc2l6ZTo5cHQ7IH10YWJsZS5teFdpbmRvdyAqIDpub3Qoc3ZnICopIHsgZm9udC1zaXplOjEzcHg7IH1odG1sIGJvZHkgZGl2LmRpYWdyYW1Db250YWluZXIgYnV0dG9uLCBodG1sIGJvZHkgYnV0dG9uLmdlQnRuIHsgZm9udC1zaXplOjE0cHg7IGZvbnQtd2VpZ2h0OjcwMDtib3JkZXItcmFkaXVzOiA1cHg7IH1odG1sIGJvZHkgYnV0dG9uLmdlQnRuOmFjdGl2ZSB7IG9wYWNpdHk6IDAuNjsgfWh0bWwgYm9keSBhLmdlTWVudUl0ZW0geyBvcGFjaXR5OiAwLjc1OyBjdXJzb3I6IHBvaW50ZXI7IHVzZXItc2VsZWN0Om5vbmU7IH1odG1sIGJvZHkgYS5nZU1lbnVJdGVtW2Rpc2FibGVkXSB7IG9wYWNpdHk6IDAuMjsgfWh0bWwgYm9keSBhLmdlTWVudUl0ZW1bZGlzYWJsZWRdOmFjdGl2ZSB7IG9wYWNpdHk6IDAuMjsgfWh0bWwgYm9keSBkaXYuZ2VBY3RpdmVQYWdlIHsgb3BhY2l0eTogMC43OyB9aHRtbCBib2R5IGEuZ2VNZW51SXRlbTphY3RpdmUgeyBvcGFjaXR5OiAwLjI7IH1odG1sIGJvZHkgLmdlVG9vbGJhckJ1dHRvbiB7IG9wYWNpdHk6IDAuMzsgfWh0bWwgYm9keSAuZ2VUb29sYmFyQnV0dG9uOmFjdGl2ZSB7IG9wYWNpdHk6IDAuMTU7IH1odG1sIGJvZHkgLmdlU3RhdHVzOmFjdGl2ZSB7IG9wYWNpdHk6IDAuNTsgfWh0bWwgdGFibGUubXhQb3B1cE1lbnUgdHIubXhQb3B1cE1lbnVJdGVtSG92ZXI6YWN0aXZlIHsgb3BhY2l0eTowLjc7IH1odG1sIGJvZHkgLmdlRGlhbG9nIGlucHV0LCBodG1sIGJvZHkgLmdlVG9vbGJhckNvbnRhaW5lciBpbnB1dCwgaHRtbCBib2R5IC5teFdpbmRvdyBpbnB1dCB7cGFkZGluZzoycHg7ZGlzcGxheTppbmxpbmUtYmxvY2s7IH1kaXYuZ2VEaWFsb2cgeyBib3JkZXItcmFkaXVzOiA1cHg7IH1odG1sIGJvZHkgZGl2LmdlRGlhbG9nIGJ1dHRvbi5nZUJpZ0J1dHRvbiB7IGNvbG9yOiAjZmZmICFpbXBvcnRhbnQ7IGJvcmRlcjogbm9uZSAhaW1wb3J0YW50OyB9Lm14V2luZG93IGJ1dHRvbiwgLmdlRGlhbG9nIHNlbGVjdCwgLm14V2luZG93IHNlbGVjdCB7IGRpc3BsYXk6aW5saW5lLWJsb2NrOyB9aHRtbCBib2R5IC5teFdpbmRvdyAuZ2VDb2xvckJ0biwgaHRtbCBib2R5IC5nZURpYWxvZyAuZ2VDb2xvckJ0biB7IGJhY2tncm91bmQ6IG5vbmU7IH1odG1sIGJvZHkgZGl2LmRpYWdyYW1Db250YWluZXIgYnV0dG9uLCBodG1sIGJvZHkgLm14V2luZG93IGJ1dHRvbiwgaHRtbCBib2R5IC5nZURpYWxvZyBidXR0b24geyBtaW4td2lkdGg6IDBweDsgYm9yZGVyLXJhZGl1czogNXB4OyBjb2xvcjogIzM1MzUzNSAhaW1wb3J0YW50OyBib3JkZXItc3R5bGU6IHNvbGlkOyBib3JkZXItd2lkdGg6IDFweDsgYm9yZGVyLWNvbG9yOiByZ2IoMjE2LCAyMTYsIDIxNik7IH1odG1sIGJvZHkgZGl2LmRpYWdyYW1Db250YWluZXIgYnV0dG9uOmhvdmVyLCBodG1sIGJvZHkgLm14V2luZG93IGJ1dHRvbjpob3ZlciwgaHRtbCBib2R5IC5nZURpYWxvZyBidXR0b246aG92ZXIgeyBib3JkZXItY29sb3I6IHJnYigxNzcsIDE3NywgMTc3KTsgfWh0bWwgYm9keSBkaXYuZGlhZ3JhbUNvbnRhaW5lciBidXR0b246YWN0aXZlLCBodG1sIGJvZHkgLm14V2luZG93IGJ1dHRvbjphY3RpdmUsIGh0bWwgYm9keSAuZ2VEaWFsb2cgYnV0dG9uOmFjdGl2ZSB7IG9wYWNpdHk6IDAuNjsgfWRpdi5kaWFncmFtQ29udGFpbmVyIGJ1dHRvbi5nZUJ0biwgLm14V2luZG93IGJ1dHRvbi5nZUJ0biwgLmdlRGlhbG9nIGJ1dHRvbi5nZUJ0biB7IG1pbi13aWR0aDo3MnB4OyBmb250LXdlaWdodDogNjAwOyBiYWNrZ3JvdW5kOiBub25lOyB9ZGl2LmRpYWdyYW1Db250YWluZXIgYnV0dG9uLmdlUHJpbWFyeUJ0biwgLm14V2luZG93IGJ1dHRvbi5nZVByaW1hcnlCdG4sIC5nZURpYWxvZyBidXR0b24uZ2VQcmltYXJ5QnRuLCBodG1sIGJvZHkgLmdlUHJpbWFyeUJ0biB7IGJhY2tncm91bmQ6ICMyOWI2ZjI7IGNvbG9yOiAjZmZmICFpbXBvcnRhbnQ7IGJvcmRlcjogbm9uZTsgYm94LXNoYWRvdzogbm9uZTsgfWh0bWwgYm9keSAuZ2VQcmltYXJ5QnRuOmhvdmVyIHsgYmFja2dyb3VuZDogIzI5YjZmMjsgYm9yZGVyOiBub25lOyBib3gtc2hhZG93OiBpbmhlcml0OyB9aHRtbCBib2R5IGJ1dHRvbi5nZVByaW1hcnlCdG46aG92ZXIgeyBiYWNrZ3JvdW5kOiAjMjliNmYyOyBib3JkZXI6IG5vbmU7IH0uZ2VCdG4gYnV0dG9uIHsgbWluLXdpZHRoOjcycHggIWltcG9ydGFudDsgfWRpdi5nZVRvb2xiYXJDb250YWluZXIgYS5nZUJ1dHRvbiB7IG1hcmdpbjowcHg7IHBhZGRpbmc6IDAgMnB4IDRweCAycHg7IH0gLmdlRGlhbG9nLCAubXhXaW5kb3cgdGQubXhXaW5kb3dQYW5lICosIGRpdi5nZVNwcml0ZSwgdGQubXhXaW5kb3dUaXRsZSwgLmdlRGlhZ3JhbUNvbnRhaW5lciB7IGJveC1zaXppbmc6Y29udGVudC1ib3g7IH0ubXhXaW5kb3cgZGl2IGJ1dHRvbi5nZVN0eWxlQnV0dG9uIHsgYm94LXNpemluZzogYm9yZGVyLWJveDsgfXRhYmxlLm14V2luZG93IHRkLm14V2luZG93UGFuZSBidXR0b24uZ2VDb2xvckJ0biB7IHBhZGRpbmc6MHB4OyBib3gtc2l6aW5nOiBib3JkZXItYm94OyB9dGQubXhXaW5kb3dQYW5lIC5nZVNpZGViYXJDb250YWluZXIgYnV0dG9uIHsgcGFkZGluZzoycHg7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IH1odG1sIGJvZHkgLmdlTWVudUl0ZW0geyBmb250LXNpemU6MTRweDsgdGV4dC1kZWNvcmF0aW9uOiBub25lOyBmb250LXdlaWdodDogbm9ybWFsOyBwYWRkaW5nOiA2cHggMTBweCA2cHggMTBweDsgYm9yZGVyOiBub25lOyBib3JkZXItcmFkaXVzOiA1cHg7IGNvbG9yOiAjMzUzNTM1OyBib3gtc2hhZG93OiBpbnNldCAwIDAgMCAxcHggcmdiYSgwLDAsMCwuMTEpLCBpbnNldCAwIC0xcHggMCAwIHJnYmEoMCwwLDAsLjA4KSwgMCAxcHggMnB4IDAgcmdiYSgwLDAsMCwuMDQpOyB9LmdlVG9vbGJhckNvbnRhaW5lciB7IGJhY2tncm91bmQ6I2ZmZiAhaW1wb3J0YW50OyB9ZGl2LmdlU2lkZWJhckNvbnRhaW5lciB7IGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7IH1kaXYuZ2VTaWRlYmFyQ29udGFpbmVyIC5nZVRpdGxlIHsgYmFja2dyb3VuZC1jb2xvcjojZmRmZGZkOyB9ZGl2Lm14V2luZG93IHRkLm14V2luZG93UGFuZSBidXR0b24geyBiYWNrZ3JvdW5kLWltYWdlOiBub25lOyBmbG9hdDogbm9uZTsgfXRkLm14V2luZG93VGl0bGUgeyBoZWlnaHQ6IDIycHggIWltcG9ydGFudDsgYmFja2dyb3VuZDogbm9uZSAhaW1wb3J0YW50OyBmb250LXNpemU6IDEzcHggIWltcG9ydGFudDsgdGV4dC1hbGlnbjpjZW50ZXIgIWltcG9ydGFudDsgYm9yZGVyLWJvdHRvbToxcHggc29saWQgbGlnaHRncmF5OyB9ZGl2Lm14V2luZG93LCBkaXYubXhXaW5kb3dUaXRsZSB7IGJhY2tncm91bmQtaW1hZ2U6IG5vbmUgIWltcG9ydGFudDsgYmFja2dyb3VuZC1jb2xvcjojZmZmICFpbXBvcnRhbnQ7IH1kaXYubXhXaW5kb3cgeyBib3JkZXItcmFkaXVzOjVweDsgYm94LXNoYWRvdzogMHB4IDBweCAycHggI0MwQzBDMCAhaW1wb3J0YW50O31kaXYubXhXaW5kb3cgKiB7IGZvbnQtZmFtaWx5OiBpbmhlcml0ICFpbXBvcnRhbnQ7IH1odG1sIGRpdi5nZVZlcnRpY2FsSGFuZGxlIHsgcG9zaXRpb246YWJzb2x1dGU7Ym90dG9tOjBweDtsZWZ0OjUwJTtjdXJzb3I6cm93LXJlc2l6ZTt3aWR0aDoxMXB4O2hlaWdodDoxMXB4O2JhY2tncm91bmQ6d2hpdGU7bWFyZ2luLWJvdHRvbTotNnB4OyBtYXJnaW4tbGVmdDotNnB4OyBib3JkZXI6IG5vbmU7IGJvcmRlci1yYWRpdXM6IDZweDsgYm94LXNoYWRvdzogaW5zZXQgMCAwIDAgMXB4IHJnYmEoMCwwLDAsLjExKSwgaW5zZXQgMCAtMXB4IDAgMCByZ2JhKDAsMCwwLC4wOCksIDAgMXB4IDJweCAwIHJnYmEoMCwwLDAsLjA0KTsgfWh0bWwgZGl2LmdlSW5hY3RpdmVQYWdlIHsgYmFja2dyb3VuZDogcmdiKDI0OSwgMjQ5LCAyNDkpICFpbXBvcnRhbnQ7IGNvbG9yOiAjQTBBMEEwICFpbXBvcnRhbnQ7IH0gaHRtbCBkaXYuZ2VBY3RpdmVQYWdlIHsgYmFja2dyb3VuZDogd2hpdGUgIWltcG9ydGFudDtjb2xvcjogIzM1MzUzNSAhaW1wb3J0YW50OyB9IGh0bWwgZGl2Lm14UnViYmVyYmFuZCB7IGJvcmRlcjoxcHggc29saWQ7IGJvcmRlci1jb2xvcjogIzI5YjZmMiAhaW1wb3J0YW50OyBiYWNrZ3JvdW5kOnJnYmEoNDEsMTgyLDI0MiwwLjQpICFpbXBvcnRhbnQ7IH0gaHRtbCBib2R5IGRpdi5teFBvcHVwTWVudSB7IGJvcmRlci1yYWRpdXM6NXB4OyBib3JkZXI6MXB4IHNvbGlkICNjMGMwYzA7IHBhZGRpbmc6NXB4IDAgNXB4IDA7IGJveC1zaGFkb3c6IDBweCA0cHggMTdweCAtNHB4IHJnYmEoOTYsOTYsOTYsMSk7IH0gaHRtbCB0YWJsZS5teFBvcHVwTWVudSB0ZC5teFBvcHVwTWVudUl0ZW0geyBjb2xvcjogIzM1MzUzNTsgZm9udC1zaXplOiAxNHB4OyBwYWRkaW5nLXRvcDogNHB4OyBwYWRkaW5nLWJvdHRvbTogNHB4OyB9aHRtbCB0YWJsZS5teFBvcHVwTWVudSB0ci5teFBvcHVwTWVudUl0ZW1Ib3ZlciB7IGJhY2tncm91bmQtY29sb3I6ICMyOWI2ZjI7IH1odG1sIHRyLm14UG9wdXBNZW51SXRlbUhvdmVyIHRkLm14UG9wdXBNZW51SXRlbSwgaHRtbCB0ci5teFBvcHVwTWVudUl0ZW1Ib3ZlciB0ZC5teFBvcHVwTWVudUl0ZW0gc3BhbiB7IGNvbG9yOiAjZmZmICFpbXBvcnRhbnQ7IH1odG1sIHRyLm14UG9wdXBNZW51SXRlbSwgaHRtbCB0ZC5teFBvcHVwTWVudUl0ZW0geyB0cmFuc2l0aW9uLXByb3BlcnR5OiBub25lICFpbXBvcnRhbnQ7IH1odG1sIHRhYmxlLm14UG9wdXBNZW51IGhyIHsgaGVpZ2h0OiAycHg7IGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwwLDAsLjA3KTsgbWFyZ2luOiA1cHggMDsgfSIrCihteENsaWVudC5JU19JT1M/Imh0bWwgaW5wdXRbdHlwZT1jaGVja2JveF0sIGh0bWwgaW5wdXRbdHlwZT1yYWRpb10geyBoZWlnaHQ6MTJweDsgfSI6IiIpO2RvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF0uYXBwZW5kQ2hpbGQoZCl9Y2F0Y2goeCl7fXZhciBtPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe3ZhciBrPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2suY2xhc3NOYW1lPSJnZVNpZGViYXJDb250YWluZXIiO2suc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtrLnN0eWxlLndpZHRoPSIxMDAlIjtrLnN0eWxlLmhlaWdodD0iMTAwJSI7ay5zdHlsZS5ib3JkZXI9IjFweCBzb2xpZCB3aGl0ZVNtb2tlIjtrLnN0eWxlLm92ZXJmbG93WD0iaGlkZGVuIjtrLnN0eWxlLm92ZXJmbG93WT0iYXV0byI7ZyhrKTt0aGlzLndpbmRvdz1uZXcgbXhXaW5kb3coYixrLGMsZCxlLGYsITAsITApO3RoaXMud2luZG93LmRlc3Ryb3lPbkNsb3NlPSExO3RoaXMud2luZG93LnNldE1heGltaXphYmxlKCExKTsKdGhpcy53aW5kb3cuc2V0UmVzaXphYmxlKCEwKTt0aGlzLndpbmRvdy5zZXRDbG9zYWJsZSghMCk7dGhpcy53aW5kb3cuc2V0VmlzaWJsZSghMCk7dGhpcy53aW5kb3cuc2V0TG9jYXRpb249ZnVuY3Rpb24oYSxiKXt2YXIgYz13aW5kb3cuaW5uZXJIZWlnaHR8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHR8fGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0O2E9TWF0aC5tYXgoMCxNYXRoLm1pbihhLCh3aW5kb3cuaW5uZXJXaWR0aHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRofHxkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoKS10aGlzLnRhYmxlLmNsaWVudFdpZHRoKSk7Yj1NYXRoLm1heCgwLE1hdGgubWluKGIsYy10aGlzLnRhYmxlLmNsaWVudEhlaWdodC00OCkpO3RoaXMuZ2V0WCgpPT1hJiZ0aGlzLmdldFkoKT09Ynx8bXhXaW5kb3cucHJvdG90eXBlLnNldExvY2F0aW9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07bXhDbGllbnQuSVNfU0YmJgoodGhpcy53aW5kb3cuZGl2Lm9uc2VsZWN0c3RhcnQ9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7bnVsbD09YiYmKGI9d2luZG93LmV2ZW50KTtyZXR1cm4gbnVsbCE9YiYmYS5pc1NlbGVjdGlvbkFsbG93ZWQoYil9KSl9O0VkaXRvci5jaGVja21hcmtJbWFnZT1HcmFwaC5jcmVhdGVTdmdJbWFnZSgyMiwxOCwnPHBhdGggdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNCAwKSIgZD0iTTcuMTgxLDE1LjAwN2ExLDEsMCwwLDEtLjc5My0wLjM5MUwzLjIyMiwxMC41QTEsMSwwLDEsMSw0LjgwOCw5LjI3NEw3LjEzMiwxMi4zbDYuMDQ0LTguODZBMSwxLDAsMSwxLDE0LjgzLDQuNTY5bC02LjgyMywxMGExLDEsMCwwLDEtLjguNDM3SDcuMTgxWiIgZmlsbD0iIzI5YjZmMiIvPicpLnNyYztteFdpbmRvdy5wcm90b3R5cGUuY2xvc2VJbWFnZT1HcmFwaC5jcmVhdGVTdmdJbWFnZSgxOCwxMCwnPHBhdGggZD0iTSA1IDEgTCAxMyA5IE0gMTMgMSBMIDUgOSIgc3Ryb2tlPSIjQzBDMEMwIiBzdHJva2Utd2lkdGg9IjIiLz4nKS5zcmM7Cm14V2luZG93LnByb3RvdHlwZS5taW5pbWl6ZUltYWdlPUdyYXBoLmNyZWF0ZVN2Z0ltYWdlKDE0LDEwLCc8cGF0aCBkPSJNIDMgNyBMIDcgMyBMIDExIDciIHN0cm9rZT0iI0MwQzBDMCIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSIjZmZmZmZmIi8+Jykuc3JjO214V2luZG93LnByb3RvdHlwZS5ub3JtYWxpemVJbWFnZT1HcmFwaC5jcmVhdGVTdmdJbWFnZSgxNCwxMCwnPHBhdGggZD0iTSAzIDMgTCA3IDcgTCAxMSAzIiBzdHJva2U9IiNDMEMwQzAiIHN0cm9rZS13aWR0aD0iMiIgZmlsbD0iI2ZmZmZmZiIvPicpLnNyYztteENvbnN0cmFpbnRIYW5kbGVyLnByb3RvdHlwZS5wb2ludEltYWdlPUdyYXBoLmNyZWF0ZVN2Z0ltYWdlKDUsNSwnPHBhdGggZD0ibSAwIDAgTCA1IDUgTSAwIDUgTCA1IDAiIHN0cm9rZT0iIzI5YjZmMiIvPicpO214T3V0bGluZS5wcm90b3R5cGUuc2l6ZXJJbWFnZT1udWxsO214Q29uc3RhbnRzLlZFUlRFWF9TRUxFQ1RJT05fQ09MT1I9IiNDMEMwQzAiO214Q29uc3RhbnRzLkVER0VfU0VMRUNUSU9OX0NPTE9SPQoiI0MwQzBDMCI7bXhDb25zdGFudHMuQ09OTkVDVF9IQU5ETEVfRklMTENPTE9SPSIjY2VlN2ZmIjtteENvbnN0YW50cy5ERUZBVUxUX1ZBTElEX0NPTE9SPSIjMjliNmYyIjtteENvbnN0YW50cy5HVUlERV9DT0xPUj0iI0MwQzBDMCI7bXhDb25zdGFudHMuSElHSExJR0hUX1NUUk9LRVdJRFRIPTU7bXhDb25zdGFudHMuSElHSExJR0hUX09QQUNJVFk9MzU7bXhDb25zdGFudHMuT1VUTElORV9DT0xPUj0iIzI5YjZmMiI7bXhDb25zdGFudHMuT1VUTElORV9IQU5ETEVfRklMTENPTE9SPSIjMjliNmYyIjtteENvbnN0YW50cy5PVVRMSU5FX0hBTkRMRV9TVFJPS0VDT0xPUj0iI2ZmZiI7R3JhcGgucHJvdG90eXBlLnN2Z1NoYWRvd0NvbG9yPSIjM0Q0NTc0IjtHcmFwaC5wcm90b3R5cGUuc3ZnU2hhZG93T3BhY2l0eT0iMC40IjtHcmFwaC5wcm90b3R5cGUuc3ZnU2hhZG93U2l6ZT0iMC42IjtHcmFwaC5wcm90b3R5cGUuc3ZnU2hhZG93Qmx1cj0iMS4yIjtGb3JtYXQucHJvdG90eXBlLmluYWN0aXZlVGFiQmFja2dyb3VuZENvbG9yPQoiI2YwZjBmMCI7bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnByZXZpZXdDb2xvcj0iI0MwQzBDMCI7bXhSdWJiZXJiYW5kLnByb3RvdHlwZS5kZWZhdWx0T3BhY2l0eT01MDtIb3Zlckljb25zLnByb3RvdHlwZS5pbmFjdGl2ZU9wYWNpdHk9MjU7Rm9ybWF0LnByb3RvdHlwZS5zaG93Q2xvc2VCdXR0b249ITE7RWRpdG9yVWkucHJvdG90eXBlLmNsb3NhYmxlU2NyYXRjaHBhZD0hMTtFZGl0b3JVaS5wcm90b3R5cGUudG9vbGJhckhlaWdodD00NjtFZGl0b3JVaS5wcm90b3R5cGUuZm9vdGVySGVpZ2h0PTA7R3JhcGgucHJvdG90eXBlLmVkaXRBZnRlckluc2VydD0hbXhDbGllbnQuSVNfSU9TJiYhbXhDbGllbnQuSVNfQU5EUk9JRDtFZGl0b3IucHJvdG90eXBlLmlzQ2hyb21lbGVzc1ZpZXc9ZnVuY3Rpb24oKXtyZXR1cm4hMX07R3JhcGgucHJvdG90eXBlLmlzTGlnaHRib3hWaWV3PWZ1bmN0aW9uKCl7cmV0dXJuITF9O3ZhciBrPUVkaXRvclVpLnByb3RvdHlwZS51cGRhdGVUYWJDb250YWluZXI7CkVkaXRvclVpLnByb3RvdHlwZS51cGRhdGVUYWJDb250YWluZXI9ZnVuY3Rpb24oKXtudWxsIT10aGlzLnRhYkNvbnRhaW5lciYmKHRoaXMudGFiQ29udGFpbmVyLnN0eWxlLnJpZ2h0PSI3MHB4Iix0aGlzLmRpYWdyYW1Db250YWluZXIuc3R5bGUuYm90dG9tPXRoaXMudGFiQ29udGFpbmVySGVpZ2h0KyJweCIpO2suYXBwbHkodGhpcyxhcmd1bWVudHMpfTt2YXIgcT1FZGl0b3JVaS5wcm90b3R5cGUudXBkYXRlQWN0aW9uU3RhdGVzO0VkaXRvclVpLnByb3RvdHlwZS51cGRhdGVBY3Rpb25TdGF0ZXM9ZnVuY3Rpb24oKXtxLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLm1lbnVzLmdldCgic2F2ZSIpLnNldEVuYWJsZWQobnVsbCE9dGhpcy5nZXRDdXJyZW50RmlsZSgpfHwiMSI9PXVybFBhcmFtcy5lbWJlZCl9O3ZhciBiPU1lbnVzLnByb3RvdHlwZS5hZGRTaG9ydGN1dDtNZW51cy5wcm90b3R5cGUuYWRkU2hvcnRjdXQ9ZnVuY3Rpb24oYSxjKXtudWxsIT1jLnNob3J0Y3V0JiY5MDA+CmYmJiFteENsaWVudC5JU19JT1M/YS5maXJzdENoaWxkLm5leHRTaWJsaW5nLnNldEF0dHJpYnV0ZSgidGl0bGUiLGMuc2hvcnRjdXQpOmIuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt2YXIgZT1BcHAucHJvdG90eXBlLnVwZGF0ZVVzZXJFbGVtZW50O0FwcC5wcm90b3R5cGUudXBkYXRlVXNlckVsZW1lbnQ9ZnVuY3Rpb24oKXtlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZihudWxsIT10aGlzLnVzZXJFbGVtZW50KXt2YXIgYT10aGlzLnVzZXJFbGVtZW50O2Euc3R5bGUuY3NzVGV4dD0icG9zaXRpb246cmVsYXRpdmU7bWFyZ2luLXJpZ2h0OjRweDtjdXJzb3I6cG9pbnRlcjtkaXNwbGF5OiIrYS5zdHlsZS5kaXNwbGF5O2EuY2xhc3NOYW1lPSJnZVRvb2xiYXJCdXR0b24iO2EuaW5uZXJIVE1MPSIiO2Euc3R5bGUuYmFja2dyb3VuZEltYWdlPSJ1cmwoIitFZGl0b3IudXNlckltYWdlKyIpIjthLnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbj0iY2VudGVyIGNlbnRlciI7YS5zdHlsZS5iYWNrZ3JvdW5kUmVwZWF0PQoibm8tcmVwZWF0IjthLnN0eWxlLmJhY2tncm91bmRTaXplPSIyNHB4IDI0cHgiO2Euc3R5bGUuaGVpZ2h0PSIyNHB4IjthLnN0eWxlLndpZHRoPSIyNHB4IjthLnN0eWxlLmNzc0Zsb2F0PSJyaWdodCI7YS5zZXRBdHRyaWJ1dGUoInRpdGxlIixteFJlc291cmNlcy5nZXQoImNoYW5nZVVzZXIiKSk7Im5vbmUiIT1hLnN0eWxlLmRpc3BsYXkmJihhLnN0eWxlLmRpc3BsYXk9ImlubGluZS1ibG9jayIpfX07dmFyIGc9QXBwLnByb3RvdHlwZS51cGRhdGVCdXR0b25Db250YWluZXI7QXBwLnByb3RvdHlwZS51cGRhdGVCdXR0b25Db250YWluZXI9ZnVuY3Rpb24oKXtnLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZihudWxsIT10aGlzLnNoYXJlQnV0dG9uKXt2YXIgYT10aGlzLnNoYXJlQnV0dG9uO2Euc3R5bGUuY3NzVGV4dD0iZGlzcGxheTppbmxpbmUtYmxvY2s7cG9zaXRpb246cmVsYXRpdmU7Ym94LXNpemluZzpib3JkZXItYm94O21hcmdpbi1yaWdodDo0cHg7Y3Vyc29yOnBvaW50ZXI7IjsKYS5jbGFzc05hbWU9ImdlVG9vbGJhckJ1dHRvbiI7YS5pbm5lckhUTUw9IiI7YS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9InVybCgiK0VkaXRvci5zaGFyZUltYWdlKyIpIjthLnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbj0iY2VudGVyIGNlbnRlciI7YS5zdHlsZS5iYWNrZ3JvdW5kUmVwZWF0PSJuby1yZXBlYXQiO2Euc3R5bGUuYmFja2dyb3VuZFNpemU9IjI0cHggMjRweCI7YS5zdHlsZS5oZWlnaHQ9IjI0cHgiO2Euc3R5bGUud2lkdGg9IjI0cHgifX07RWRpdG9yVWkucHJvdG90eXBlLmFkZEVtYmVkQnV0dG9ucz1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuYnV0dG9uQ29udGFpbmVyKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTthLnN0eWxlLmRpc3BsYXk9ImlubGluZS1ibG9jayI7YS5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiO2Euc3R5bGUubWFyZ2luVG9wPSI4cHgiO2Euc3R5bGUubWFyZ2luUmlnaHQ9IjRweCI7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwpiLmNsYXNzTmFtZT0iZ2VNZW51SXRlbSBnZVByaW1hcnlCdG4iO2Iuc3R5bGUubWFyZ2luTGVmdD0iOHB4IjtiLnN0eWxlLnBhZGRpbmc9IjZweCI7IjEiPT11cmxQYXJhbXMubm9TYXZlQnRuPyhteFV0aWxzLndyaXRlKGIsbXhSZXNvdXJjZXMuZ2V0KCJzYXZlQW5kRXhpdCIpKSxiLnNldEF0dHJpYnV0ZSgidGl0bGUiLG14UmVzb3VyY2VzLmdldCgic2F2ZUFuZEV4aXQiKSksbXhFdmVudC5hZGRMaXN0ZW5lcihiLCJjbGljayIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmFjdGlvbnMuZ2V0KCJzYXZlQW5kRXhpdCIpLmZ1bmN0KCl9KSksYS5hcHBlbmRDaGlsZChiKSk6KG14VXRpbHMud3JpdGUoYixteFJlc291cmNlcy5nZXQoInNhdmUiKSksYi5zZXRBdHRyaWJ1dGUoInRpdGxlIixteFJlc291cmNlcy5nZXQoInNhdmUiKSsiICgiK0VkaXRvci5jdHJsS2V5KyIrUykiKSxteEV2ZW50LmFkZExpc3RlbmVyKGIsImNsaWNrIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuYWN0aW9ucy5nZXQoInNhdmUiKS5mdW5jdCgpfSkpLAphLmFwcGVuZENoaWxkKGIpLCIxIj09dXJsUGFyYW1zLnNhdmVBbmRFeGl0JiYoYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIiksbXhVdGlscy53cml0ZShiLG14UmVzb3VyY2VzLmdldCgic2F2ZUFuZEV4aXQiKSksYi5zZXRBdHRyaWJ1dGUoInRpdGxlIixteFJlc291cmNlcy5nZXQoInNhdmVBbmRFeGl0IikpLGIuY2xhc3NOYW1lPSJnZU1lbnVJdGVtIixiLnN0eWxlLm1hcmdpbkxlZnQ9IjZweCIsYi5zdHlsZS5wYWRkaW5nPSI2cHgiLG14RXZlbnQuYWRkTGlzdGVuZXIoYiwiY2xpY2siLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5hY3Rpb25zLmdldCgic2F2ZUFuZEV4aXQiKS5mdW5jdCgpfSkpLGEuYXBwZW5kQ2hpbGQoYikpKTtiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTtteFV0aWxzLndyaXRlKGIsbXhSZXNvdXJjZXMuZ2V0KCJleGl0IikpO2Iuc2V0QXR0cmlidXRlKCJ0aXRsZSIsbXhSZXNvdXJjZXMuZ2V0KCJleGl0IikpO2IuY2xhc3NOYW1lPQoiZ2VNZW51SXRlbSI7Yi5zdHlsZS5tYXJnaW5MZWZ0PSI2cHgiO2Iuc3R5bGUucGFkZGluZz0iNnB4IjtteEV2ZW50LmFkZExpc3RlbmVyKGIsImNsaWNrIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuYWN0aW9ucy5nZXQoImV4aXQiKS5mdW5jdCgpfSkpO2EuYXBwZW5kQ2hpbGQoYik7dGhpcy5idXR0b25Db250YWluZXIuYXBwZW5kQ2hpbGQoYSk7dGhpcy5idXR0b25Db250YWluZXIuc3R5bGUudG9wPSI2cHgifX07U2lkZWJhci5wcm90b3R5cGUuZ2V0VG9vbHRpcE9mZnNldD1mdW5jdGlvbigpe3ZhciBhPW14VXRpbHMuZ2V0T2Zmc2V0KHRoaXMuZWRpdG9yVWkuc2lkZWJhcldpbmRvdy53aW5kb3cuZGl2KTthLnkrPTQwO3JldHVybiBhfTt2YXIgcD1NZW51cy5wcm90b3R5cGUuY3JlYXRlUG9wdXBNZW51O01lbnVzLnByb3RvdHlwZS5jcmVhdGVQb3B1cE1lbnU9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuZWRpdG9yVWkuZWRpdG9yLmdyYXBoO2Euc21hcnRTZXBhcmF0b3JzPQohMDtwLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGIpe3ZhciBjPW5ldyBGaWxlbmFtZURpYWxvZyh0aGlzLmVkaXRvclVpLGEsbXhSZXNvdXJjZXMuZ2V0KCJhcHBseSIpLGZ1bmN0aW9uKGEpe2IocGFyc2VGbG9hdChhKSl9LG14UmVzb3VyY2VzLmdldCgic3BhY2luZyIpKTt0aGlzLmVkaXRvclVpLnNob3dEaWFsb2coYy5jb250YWluZXIsMzAwLDgwLCEwLCEwKTtjLmluaXQoKX0pOzE9PWQuZ2V0U2VsZWN0aW9uQ291bnQoKT8odGhpcy5hZGRNZW51SXRlbXMoYSxbImVkaXRUb29sdGlwIiwiLSIsImVkaXRTdHlsZSIsImVkaXRHZW9tZXRyeSIsIi0iXSxudWxsLGMpLGQuaXNDZWxsRm9sZGFibGUoZC5nZXRTZWxlY3Rpb25DZWxsKCkpJiZ0aGlzLmFkZE1lbnVJdGVtcyhhLGQuaXNDZWxsQ29sbGFwc2VkKGIpP1siZXhwYW5kIl06WyJjb2xsYXBzZSJdLG51bGwsYyksdGhpcy5hZGRNZW51SXRlbXMoYSxbImNvbGxhcHNpYmxlIiwiLSIsCiJsb2NrVW5sb2NrIiwiZW50ZXJHcm91cCJdLG51bGwsYyksYS5hZGRTZXBhcmF0b3IoKSx0aGlzLmFkZFN1Ym1lbnUoImxheW91dCIsYSkpOmQuaXNTZWxlY3Rpb25FbXB0eSgpJiZkLmlzRW5hYmxlZCgpPyhhLmFkZFNlcGFyYXRvcigpLHRoaXMuYWRkTWVudUl0ZW1zKGEsWyJlZGl0RGF0YSJdLG51bGwsYyksYS5hZGRTZXBhcmF0b3IoKSx0aGlzLmFkZFN1Ym1lbnUoImxheW91dCIsYSksdGhpcy5hZGRTdWJtZW51KCJ2aWV3IixhLG51bGwsbXhSZXNvdXJjZXMuZ2V0KCJvcHRpb25zIikpLGEuYWRkU2VwYXJhdG9yKCksdGhpcy5hZGRTdWJtZW51KCJpbnNlcnQiLGEpLHRoaXMuYWRkTWVudUl0ZW1zKGEsWyItIiwiZXhpdEdyb3VwIl0sbnVsbCxjKSk6ZC5pc0VuYWJsZWQoKSYmdGhpcy5hZGRNZW51SXRlbXMoYSxbIi0iLCJsb2NrVW5sb2NrIl0sbnVsbCxjKX07RWRpdG9yVWkucHJvdG90eXBlLnRvZ2dsZUZvcm1hdFBhbmVsPWZ1bmN0aW9uKGIpe251bGwhPXRoaXMuZm9ybWF0V2luZG93Pwp0aGlzLmZvcm1hdFdpbmRvdy53aW5kb3cuc2V0VmlzaWJsZShudWxsIT1iP2I6IXRoaXMuZm9ybWF0V2luZG93LndpbmRvdy5pc1Zpc2libGUoKSk6YSh0aGlzKX07RGlhZ3JhbUZvcm1hdFBhbmVsLnByb3RvdHlwZS5pc01hdGhPcHRpb25WaXNpYmxlPWZ1bmN0aW9uKCl7cmV0dXJuITB9O3ZhciBsPUVkaXRvclVpLnByb3RvdHlwZS5kZXN0cm95O0VkaXRvclVpLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5zaWRlYmFyV2luZG93JiYodGhpcy5zaWRlYmFyV2luZG93LndpbmRvdy5zZXRWaXNpYmxlKCExKSx0aGlzLnNpZGViYXJXaW5kb3cud2luZG93LmRlc3Ryb3koKSx0aGlzLnNpZGViYXJXaW5kb3c9bnVsbCk7bnVsbCE9dGhpcy5mb3JtYXRXaW5kb3cmJih0aGlzLmZvcm1hdFdpbmRvdy53aW5kb3cuc2V0VmlzaWJsZSghMSksdGhpcy5mb3JtYXRXaW5kb3cud2luZG93LmRlc3Ryb3koKSx0aGlzLmZvcm1hdFdpbmRvdz1udWxsKTtudWxsIT10aGlzLmFjdGlvbnMub3V0bGluZVdpbmRvdyYmCih0aGlzLmFjdGlvbnMub3V0bGluZVdpbmRvdy53aW5kb3cuc2V0VmlzaWJsZSghMSksdGhpcy5hY3Rpb25zLm91dGxpbmVXaW5kb3cud2luZG93LmRlc3Ryb3koKSx0aGlzLmFjdGlvbnMub3V0bGluZVdpbmRvdz1udWxsKTtudWxsIT10aGlzLmFjdGlvbnMubGF5ZXJzV2luZG93JiYodGhpcy5hY3Rpb25zLmxheWVyc1dpbmRvdy53aW5kb3cuc2V0VmlzaWJsZSghMSksdGhpcy5hY3Rpb25zLmxheWVyc1dpbmRvdy53aW5kb3cuZGVzdHJveSgpLHRoaXMuYWN0aW9ucy5sYXllcnNXaW5kb3c9bnVsbCk7bnVsbCE9dGhpcy5tZW51cy50YWdzV2luZG93JiYodGhpcy5tZW51cy50YWdzV2luZG93LndpbmRvdy5zZXRWaXNpYmxlKCExKSx0aGlzLm1lbnVzLnRhZ3NXaW5kb3cud2luZG93LmRlc3Ryb3koKSx0aGlzLm1lbnVzLnRhZ3NXaW5kb3c9bnVsbCk7bnVsbCE9dGhpcy5tZW51cy5maW5kV2luZG93JiYodGhpcy5tZW51cy5maW5kV2luZG93LndpbmRvdy5zZXRWaXNpYmxlKCExKSx0aGlzLm1lbnVzLmZpbmRXaW5kb3cud2luZG93LmRlc3Ryb3koKSwKdGhpcy5tZW51cy5maW5kV2luZG93PW51bGwpO2wuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt2YXIgbj1FZGl0b3JVaS5wcm90b3R5cGUuc2V0R3JhcGhFbmFibGVkO0VkaXRvclVpLnByb3RvdHlwZS5zZXRHcmFwaEVuYWJsZWQ9ZnVuY3Rpb24oYSl7bi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YT8xRTM8PSh3aW5kb3cuaW5uZXJXaWR0aHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRofHxkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoKSYmKG51bGwhPXRoaXMuc2lkZWJhcldpbmRvdyYmdGhpcy5zaWRlYmFyV2luZG93LndpbmRvdy5zZXRWaXNpYmxlKCEwKSxudWxsIT10aGlzLmZvcm1hdFdpbmRvdyYmdGhpcy5mb3JtYXRXaW5kb3cud2luZG93LnNldFZpc2libGUoITApKToobnVsbCE9dGhpcy5zaWRlYmFyV2luZG93JiZ0aGlzLnNpZGViYXJXaW5kb3cud2luZG93LnNldFZpc2libGUoITEpLG51bGwhPXRoaXMuZm9ybWF0V2luZG93JiZ0aGlzLmZvcm1hdFdpbmRvdy53aW5kb3cuc2V0VmlzaWJsZSghMSkpfTsKRWRpdG9yVWkucHJvdG90eXBlLmNocm9tZWxlc3NXaW5kb3dSZXNpemU9ZnVuY3Rpb24oKXt9O3ZhciB2PU1lbnVzLnByb3RvdHlwZS5pbml0O01lbnVzLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7di5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGI9dGhpcy5lZGl0b3JVaSxkPWIuZWRpdG9yLmdyYXBoO2IuYWN0aW9ucy5nZXQoImVkaXREaWFncmFtIikubGFiZWw9bXhSZXNvdXJjZXMuZ2V0KCJmb3JtYXRYbWwiKSsiLi4uIjtiLmFjdGlvbnMuZ2V0KCJjcmVhdGVTaGFwZSIpLmxhYmVsPW14UmVzb3VyY2VzLmdldCgic2hhcGUiKSsiLi4uIjtiLmFjdGlvbnMuZ2V0KCJvdXRsaW5lIikubGFiZWw9bXhSZXNvdXJjZXMuZ2V0KCJvdXRsaW5lIikrIi4uLiI7Yi5hY3Rpb25zLmdldCgibGF5ZXJzIikubGFiZWw9bXhSZXNvdXJjZXMuZ2V0KCJsYXllcnMiKSsiLi4uIjtiLmFjdGlvbnMucHV0KCJpbXBvcnRDc3YiLG5ldyBBY3Rpb24obXhSZXNvdXJjZXMuZ2V0KCJjc3YiKSsiLi4uIiwKZnVuY3Rpb24oKXtkLnBvcHVwTWVudUhhbmRsZXIuaGlkZU1lbnUoKTtiLnNob3dJbXBvcnRDc3ZEaWFsb2coKX0pKTtiLmFjdGlvbnMucHV0KCJpbXBvcnRUZXh0IixuZXcgQWN0aW9uKG14UmVzb3VyY2VzLmdldCgidGV4dCIpKyIuLi4iLGZ1bmN0aW9uKCl7dmFyIGE9bmV3IFBhcnNlRGlhbG9nKGIsIkluc2VydCBmcm9tIFRleHQiKTtiLnNob3dEaWFsb2coYS5jb250YWluZXIsNjIwLDQyMCwhMCwhMSk7YS5pbml0KCl9KSk7Yi5hY3Rpb25zLnB1dCgiZm9ybWF0U3FsIixuZXcgQWN0aW9uKG14UmVzb3VyY2VzLmdldCgiZm9ybWF0U3FsIikrIi4uLiIsZnVuY3Rpb24oKXt2YXIgYT1uZXcgUGFyc2VEaWFsb2coYiwiSW5zZXJ0IGZyb20gVGV4dCIsImZvcm1hdFNxbCIpO2Iuc2hvd0RpYWxvZyhhLmNvbnRhaW5lciw2MjAsNDIwLCEwLCExKTthLmluaXQoKX0pKTtiLmFjdGlvbnMucHV0KCJ0b2dnbGVTaGFwZXMiLG5ldyBBY3Rpb24obXhSZXNvdXJjZXMuZ2V0KCJzaGFwZXMiKSsiLi4uIiwKZnVuY3Rpb24oKXtjKGIpfSkpO2IuYWN0aW9ucy5wdXQoInRvZ2dsZUZvcm1hdCIsbmV3IEFjdGlvbihteFJlc291cmNlcy5nZXQoImZvcm1hdCIpKyIuLi4iLGZ1bmN0aW9uKCl7YShiKX0pKTtFZGl0b3JVaS5lbmFibGVQbGFudFVtbCYmIWIuaXNPZmZsaW5lKCkmJmIuYWN0aW9ucy5wdXQoInBsYW50VW1sIixuZXcgQWN0aW9uKG14UmVzb3VyY2VzLmdldCgicGxhbnRVbWwiKSsiLi4uIixmdW5jdGlvbigpe3ZhciBhPW5ldyBQYXJzZURpYWxvZyhiLG14UmVzb3VyY2VzLmdldCgicGxhbnRVbWwiKSsiLi4uIiwicGxhbnRVbWwiKTtiLnNob3dEaWFsb2coYS5jb250YWluZXIsNjIwLDQyMCwhMCwhMSk7YS5pbml0KCl9KSk7Yi5hY3Rpb25zLnB1dCgibWVybWFpZCIsbmV3IEFjdGlvbihteFJlc291cmNlcy5nZXQoIm1lcm1haWQiKSsiLi4uIixmdW5jdGlvbigpe3ZhciBhPW5ldyBQYXJzZURpYWxvZyhiLG14UmVzb3VyY2VzLmdldCgibWVybWFpZCIpKyIuLi4iLCJtZXJtYWlkIik7CmIuc2hvd0RpYWxvZyhhLmNvbnRhaW5lciw2MjAsNDIwLCEwLCExKTthLmluaXQoKX0pKTt0aGlzLnB1dCgiZGlhZ3JhbSIsbmV3IE1lbnUobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxjKXt2YXIgZD1iLmdldEN1cnJlbnRGaWxlKCk7Yi5tZW51cy5hZGRTdWJtZW51KCJleHRyYXMiLGEsYyxteFJlc291cmNlcy5nZXQoInByZWZlcmVuY2VzIikpO2EuYWRkU2VwYXJhdG9yKGMpO214Q2xpZW50LklTX0NIUk9NRUFQUHx8RWRpdG9yVWkuaXNFbGVjdHJvbkFwcD8oYi5tZW51cy5hZGRNZW51SXRlbXMoYSxbIm5ldyIsIm9wZW4iLCItIl0sYyksRWRpdG9yVWkuaXNFbGVjdHJvbkFwcCYmYi5tZW51cy5hZGRNZW51SXRlbXMoYSxbInN5bmNocm9uaXplIiwiLSJdLGMpLGIubWVudXMuYWRkTWVudUl0ZW1zKGEsWyJzYXZlIiwic2F2ZUFzIiwiLSJdLGMpKToiMSI9PXVybFBhcmFtcy5lbWJlZD8oYi5tZW51cy5hZGRNZW51SXRlbXMoYSxbIi0iLCJzYXZlIl0sYyksIjEiPT11cmxQYXJhbXMuc2F2ZUFuZEV4aXQmJgpiLm1lbnVzLmFkZE1lbnVJdGVtcyhhLFsic2F2ZUFuZEV4aXQiXSxjKSxhLmFkZFNlcGFyYXRvcihjKSk6KGIubWVudXMuYWRkTWVudUl0ZW1zKGEsWyJuZXciXSxjKSxiLm1lbnVzLmFkZFN1Ym1lbnUoIm9wZW5Gcm9tIixhLGMpLGlzTG9jYWxTdG9yYWdlJiZ0aGlzLmFkZFN1Ym1lbnUoIm9wZW5SZWNlbnQiLGEsYyksYS5hZGRTZXBhcmF0b3IoYyksbnVsbCE9ZCYmZC5jb25zdHJ1Y3Rvcj09RHJpdmVGaWxlJiZiLm1lbnVzLmFkZE1lbnVJdGVtcyhhLFsic2hhcmUiXSxjKSxteENsaWVudC5JU19DSFJPTUVBUFB8fEVkaXRvclVpLmlzRWxlY3Ryb25BcHB8fG51bGw9PWR8fGQuY29uc3RydWN0b3I9PUxvY2FsRmlsZXx8Yi5tZW51cy5hZGRNZW51SXRlbXMoYSxbInN5bmNocm9uaXplIl0sYyksYS5hZGRTZXBhcmF0b3IoYyksYi5tZW51cy5hZGRTdWJtZW51KCJzYXZlIixhLGMpKTtiLm1lbnVzLmFkZFN1Ym1lbnUoImV4cG9ydEFzIixhLGMpO214Q2xpZW50LklTX0NIUk9NRUFQUHx8CkVkaXRvclVpLmlzRWxlY3Ryb25BcHA/Yi5tZW51cy5hZGRNZW51SXRlbXMoYSxbImltcG9ydCJdLGMpOmIubWVudXMuYWRkU3VibWVudSgiaW1wb3J0RnJvbSIsYSxjKTtiLm1lbnVzLmFkZE1lbnVJdGVtcyhhLFsiLSIsIm91dGxpbmUiLCJsYXllcnMiXSxjKTtiLmNvbW1lbnRzU3VwcG9ydGVkKCkmJmIubWVudXMuYWRkTWVudUl0ZW1zKGEsWyJjb21tZW50cyJdLGMpO2IubWVudXMuYWRkTWVudUl0ZW1zKGEsWyItIiwiZmluZCIsInRhZ3MiXSxjKTtudWxsIT1kJiZudWxsIT1iLmZpbGVOb2RlJiYoZD1udWxsIT1kLmdldFRpdGxlKCk/ZC5nZXRUaXRsZSgpOmIuZGVmYXVsdEZpbGVuYW1lLC8oXC5odG1sKSQvaS50ZXN0KGQpfHwvKFwuc3ZnKSQvaS50ZXN0KGQpfHx0aGlzLmFkZE1lbnVJdGVtcyhhLFsiLSIsInByb3BlcnRpZXMiXSkpO214Q2xpZW50LklTX0lPUyYmbmF2aWdhdG9yLnN0YW5kYWxvbmV8fGIubWVudXMuYWRkTWVudUl0ZW1zKGEsWyItIiwicHJpbnQiLCItIl0sYyk7CmIubWVudXMuYWRkU3VibWVudSgiaGVscCIsYSxjKTsiMSI9PXVybFBhcmFtcy5lbWJlZD9iLm1lbnVzLmFkZE1lbnVJdGVtcyhhLFsiLSIsImV4aXQiXSxjKTpiLm1lbnVzLmFkZE1lbnVJdGVtcyhhLFsiLSIsImNsb3NlIl0pfSkpKTt0aGlzLnB1dCgic2F2ZSIsbmV3IE1lbnUobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxjKXt2YXIgZD1iLmdldEN1cnJlbnRGaWxlKCk7bnVsbCE9ZCYmZC5jb25zdHJ1Y3Rvcj09RHJpdmVGaWxlP2IubWVudXMuYWRkTWVudUl0ZW1zKGEsWyJzYXZlIiwibWFrZUNvcHkiLCItIiwicmVuYW1lIiwibW92ZVRvRm9sZGVyIl0sYyk6KGIubWVudXMuYWRkTWVudUl0ZW1zKGEsWyJzYXZlIiwic2F2ZUFzIiwiLSIsInJlbmFtZSJdLGMpLGIuaXNPZmZsaW5lQXBwKCk/bmF2aWdhdG9yLm9uTGluZSYmIjEiIT11cmxQYXJhbXMuc3RlYWx0aCYmdGhpcy5hZGRNZW51SXRlbXMoYSxbInVwbG9hZCJdLGMpOmIubWVudXMuYWRkTWVudUl0ZW1zKGEsWyJtYWtlQ29weSJdLApjKSk7Yi5tZW51cy5hZGRNZW51SXRlbXMoYSxbIi0iLCJhdXRvc2F2ZSJdLGMpO251bGwhPWQmJmQuaXNSZXZpc2lvbkhpc3RvcnlTdXBwb3J0ZWQoKSYmYi5tZW51cy5hZGRNZW51SXRlbXMoYSxbIi0iLCJyZXZpc2lvbkhpc3RvcnkiXSxjKX0pKSk7dmFyIGU9dGhpcy5nZXQoImV4cG9ydEFzIik7dGhpcy5wdXQoImV4cG9ydEFzIixuZXcgTWVudShteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGMpe2UuZnVuY3QoYSxjKTtteENsaWVudC5JU19DSFJPTUVBUFB8fEVkaXRvclVpLmlzRWxlY3Ryb25BcHB8fGIubWVudXMuYWRkTWVudUl0ZW1zKGEsWyJwdWJsaXNoTGluayJdLGMpO2EuYWRkU2VwYXJhdG9yKGMpO2IubWVudXMuYWRkU3VibWVudSgiZW1iZWQiLGEsYyl9KSkpO3ZhciBmPXRoaXMuZ2V0KCJsYW5ndWFnZSIpO3RoaXMucHV0KCJ0YWJsZSIsbmV3IE1lbnUobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxjKXtiLm1lbnVzLmFkZEluc2VydFRhYmxlQ2VsbEl0ZW0oYSwKYyl9KSkpO3RoaXMucHV0KCJleHRyYXMiLG5ldyBNZW51KG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYyl7IjEiIT11cmxQYXJhbXMuZW1iZWQmJmIubWVudXMuYWRkU3VibWVudSgidGhlbWUiLGEsYyk7bnVsbCE9ZiYmYi5tZW51cy5hZGRTdWJtZW51KCJsYW5ndWFnZSIsYSxjKTtiLm1lbnVzLmFkZFN1Ym1lbnUoInVuaXRzIixhLGMpO2EuYWRkU2VwYXJhdG9yKGMpO2IubWVudXMuYWRkTWVudUl0ZW1zKGEsWyJzY3JvbGxiYXJzIiwidG9vbHRpcHMiLCJydWxlciJdLGMpOyIxIiE9dXJsUGFyYW1zLmVtYmVkJiYoaXNMb2NhbFN0b3JhZ2V8fG14Q2xpZW50LklTX0NIUk9NRUFQUCkmJmIubWVudXMuYWRkTWVudUl0ZW1zKGEsWyItIiwic2VhcmNoIiwic2NyYXRjaHBhZCIsIi0iLCJzaG93U3RhcnRTY3JlZW4iXSxjKTshYi5pc09mZmxpbmVBcHAoKSYmaXNMb2NhbFN0b3JhZ2UmJmIubWVudXMuYWRkTWVudUl0ZW0oYSwicGx1Z2lucyIsYyk7YS5hZGRTZXBhcmF0b3IoYyk7CmIubWVudXMuYWRkTWVudUl0ZW0oYSwiZHJhd0NvbmZpZyIsYyk7YS5hZGRTZXBhcmF0b3IoYyl9KSkpO3RoaXMucHV0KCJpbnNlcnRBZHZhbmNlZCIsbmV3IE1lbnUobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxjKXtiLm1lbnVzLmFkZE1lbnVJdGVtcyhhLCJpbXBvcnRUZXh0IHBsYW50VW1sIG1lcm1haWQgLSBmb3JtYXRTcWwgaW1wb3J0Q3N2IC0gY3JlYXRlU2hhcGUgZWRpdERpYWdyYW0iLnNwbGl0KCIgIiksYyl9KSkpO214VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXQoImluc2VydCIpLGM9YS5mdW5jdDthLmZ1bmN0PWZ1bmN0aW9uKGEsZCl7Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7Yi5tZW51cy5hZGRTdWJtZW51KCJ0YWJsZSIsYSxkKTthLmFkZFNlcGFyYXRvcihkKTtiLm1lbnVzLmFkZE1lbnVJdGVtcyhhLFsiLSIsInRvZ2dsZVNoYXBlcyJdLGQpfX0pKCk7dmFyIGc9Imhvcml6b250YWxGbG93IHZlcnRpY2FsRmxvdyAtIGhvcml6b250YWxUcmVlIHZlcnRpY2FsVHJlZSByYWRpYWxUcmVlIC0gb3JnYW5pYyBjaXJjbGUiLnNwbGl0KCIgIiksCms9ZnVuY3Rpb24oYSxjLGQsZSl7YS5hZGRJdGVtKGQsbnVsbCxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3ZhciBhPW5ldyBDcmVhdGVHcmFwaERpYWxvZyhiLGQsZSk7Yi5zaG93RGlhbG9nKGEuY29udGFpbmVyLDYyMCw0MjAsITAsITEpO2EuaW5pdCgpfSksYyl9O3RoaXMucHV0KCJpbnNlcnRMYXlvdXQiLG5ldyBNZW51KG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7YzxnLmxlbmd0aDtjKyspIi0iPT1nW2NdP2EuYWRkU2VwYXJhdG9yKGIpOmsoYSxiLG14UmVzb3VyY2VzLmdldChnW2NdKSsiLi4uIixnW2NdKX0pKSk7dGhpcy5wdXQoInZpZXciLG5ldyBNZW51KG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYyl7Yi5tZW51cy5hZGRNZW51SXRlbXMoYSwiZ3JpZCBndWlkZXMgcnVsZXIgLSBjb25uZWN0aW9uQXJyb3dzIGNvbm5lY3Rpb25Qb2ludHMgLSIuc3BsaXQoIiAiKSxjKTtpZigidW5kZWZpbmVkIiE9PXR5cGVvZiBNYXRoSmF4KXt2YXIgZD0KYi5tZW51cy5hZGRNZW51SXRlbShhLCJtYXRoZW1hdGljYWxUeXBlc2V0dGluZyIsYyk7Yi5tZW51cy5hZGRMaW5rVG9JdGVtKGQsImh0dHBzOi8vZGVzay5kcmF3LmlvL3N1cHBvcnQvc29sdXRpb25zL2FydGljbGVzLzE2MDAwMDMyODc1Iil9Yi5tZW51cy5hZGRNZW51SXRlbXMoYSxbImNvcHlDb25uZWN0IiwiY29sbGFwc2VFeHBhbmQiLCItIiwicGFnZVNjYWxlIl0sYyl9KSkpfTt2YXIgdD1FZGl0b3JVaS5wcm90b3R5cGUuaW5pdDtFZGl0b3JVaS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGIoYSxiLGMpe3ZhciBkPWwubWVudXMuZ2V0KGEpLGU9cS5hZGRNZW51KG14UmVzb3VyY2VzLmdldChhKSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2QuZnVuY3QuYXBwbHkodGhpcyxhcmd1bWVudHMpfSkscCk7ZS5jbGFzc05hbWU9ImdlTWVudUl0ZW0iO2Uuc3R5bGUuZGlzcGxheT0iaW5saW5lLWJsb2NrIjtlLnN0eWxlLmJveFNpemluZz0iYm9yZGVyLWJveCI7CmUuc3R5bGUudG9wPSI2cHgiO2Uuc3R5bGUubWFyZ2luUmlnaHQ9IjZweCI7ZS5zdHlsZS5oZWlnaHQ9IjMwcHgiO2Uuc3R5bGUucGFkZGluZ1RvcD0iNnB4IjtlLnN0eWxlLnBhZGRpbmdCb3R0b209IjZweCI7ZS5zdHlsZS5jdXJzb3I9InBvaW50ZXIiO2Uuc2V0QXR0cmlidXRlKCJ0aXRsZSIsbXhSZXNvdXJjZXMuZ2V0KGEpKTtsLm1lbnVzLm1lbnVDcmVhdGVkKGQsZSwiZ2VNZW51SXRlbSIpO251bGwhPWM/KGUuc3R5bGUuYmFja2dyb3VuZEltYWdlPSJ1cmwoIitjKyIpIixlLnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbj0iY2VudGVyIGNlbnRlciIsZS5zdHlsZS5iYWNrZ3JvdW5kUmVwZWF0PSJuby1yZXBlYXQiLGUuc3R5bGUuYmFja2dyb3VuZFNpemU9IjI0cHggMjRweCIsZS5zdHlsZS53aWR0aD0iMzRweCIsZS5pbm5lckhUTUw9IiIpOmJ8fChlLnN0eWxlLmJhY2tncm91bmRJbWFnZT0idXJsKCIrbXhXaW5kb3cucHJvdG90eXBlLm5vcm1hbGl6ZUltYWdlKyIpIixlLnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbj0KInJpZ2h0IDZweCBjZW50ZXIiLGUuc3R5bGUuYmFja2dyb3VuZFJlcGVhdD0ibm8tcmVwZWF0IixlLnN0eWxlLnBhZGRpbmdSaWdodD0iMjJweCIpO3JldHVybiBlfWZ1bmN0aW9uIGQoYSxiLGMsZCxlLGYpe3ZhciBnPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTtnLmNsYXNzTmFtZT0iZ2VNZW51SXRlbSI7Zy5zdHlsZS5kaXNwbGF5PSJpbmxpbmUtYmxvY2siO2cuc3R5bGUuYm94U2l6aW5nPSJib3JkZXItYm94IjtnLnN0eWxlLmhlaWdodD0iMzBweCI7Zy5zdHlsZS5wYWRkaW5nPSI2cHgiO2cuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIjtnLnN0eWxlLnZlcnRpY2FsQWxpZ249InRvcCI7Zy5zdHlsZS50b3A9IjBweCI7bnVsbCE9bC5zdGF0dXNDb250YWluZXI/bi5pbnNlcnRCZWZvcmUoZyxsLnN0YXR1c0NvbnRhaW5lcik6bi5hcHBlbmRDaGlsZChnKTtudWxsIT1mPyhnLnN0eWxlLmJhY2tncm91bmRJbWFnZT0idXJsKCIrZisiKSIsZy5zdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb249CiJjZW50ZXIgY2VudGVyIixnLnN0eWxlLmJhY2tncm91bmRSZXBlYXQ9Im5vLXJlcGVhdCIsZy5zdHlsZS5iYWNrZ3JvdW5kU2l6ZT0iMjRweCAyNHB4IixnLnN0eWxlLndpZHRoPSIzNHB4Iik6bXhVdGlscy53cml0ZShnLGEpO214RXZlbnQuYWRkTGlzdGVuZXIoZyxteENsaWVudC5JU19QT0lOVEVSPyJwb2ludGVyZG93biI6Im1vdXNlZG93biIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpfSkpO214RXZlbnQuYWRkTGlzdGVuZXIoZywiY2xpY2siLGZ1bmN0aW9uKGEpeyJkaXNhYmxlZCIhPWcuZ2V0QXR0cmlidXRlKCJkaXNhYmxlZCIpJiZiKGEpO214RXZlbnQuY29uc3VtZShhKX0pO251bGw9PWMmJihnLnN0eWxlLm1hcmdpblJpZ2h0PSI0cHgiKTtudWxsIT1kJiZnLnNldEF0dHJpYnV0ZSgidGl0bGUiLGQpO251bGwhPWUmJihhPWZ1bmN0aW9uKCl7ZS5pc0VuYWJsZWQoKT8oZy5yZW1vdmVBdHRyaWJ1dGUoImRpc2FibGVkIiksZy5zdHlsZS5jdXJzb3I9CiJwb2ludGVyIik6KGcuc2V0QXR0cmlidXRlKCJkaXNhYmxlZCIsImRpc2FibGVkIiksZy5zdHlsZS5jdXJzb3I9ImRlZmF1bHQiKX0sZS5hZGRMaXN0ZW5lcigic3RhdGVDaGFuZ2VkIixhKSxhKCkpO3JldHVybiBnfWZ1bmN0aW9uIGUoYSxiKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtjLmNsYXNzTmFtZT0iZ2VNZW51SXRlbSI7Yy5zdHlsZS5kaXNwbGF5PSJpbmxpbmUtYmxvY2siO2Muc3R5bGUudmVydGljYWxBbGlnbj0idG9wIjtjLnN0eWxlLm1hcmdpblJpZ2h0PSI2cHgiO2Muc3R5bGUucGFkZGluZz0iMCA0cHggMCA0cHgiO2Muc3R5bGUuaGVpZ2h0PSIzMHB4IjtjLnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSI7Yy5zdHlsZS50b3A9IjBweCI7Zm9yKHZhciBkPTA7ZDxhLmxlbmd0aDtkKyspbnVsbCE9YVtkXSYmKGFbZF0uc3R5bGUubWFyZ2luPSIwcHgiLGFbZF0uc3R5bGUuYm94U2hhZG93PSJub25lIixjLmFwcGVuZENoaWxkKGFbZF0pKTtudWxsIT0KYiYmbXhVdGlscy5zZXRPcGFjaXR5KGMsYik7bnVsbCE9bC5zdGF0dXNDb250YWluZXI/bi5pbnNlcnRCZWZvcmUoYyxsLnN0YXR1c0NvbnRhaW5lcik6bi5hcHBlbmRDaGlsZChjKTtyZXR1cm4gY31mdW5jdGlvbiBnKCl7Zm9yKHZhciBhPW4uZmlyc3RDaGlsZDtudWxsIT1hOyl7dmFyIGM9YS5uZXh0U2libGluZzsiZ2VNZW51SXRlbSIhPWEuY2xhc3NOYW1lJiYiZ2VJdGVtIiE9YS5jbGFzc05hbWV8fGEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKTthPWN9cD1uLmZpcnN0Q2hpbGQ7Zj13aW5kb3cuaW5uZXJXaWR0aHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRofHxkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoOyhhPTFFMz5mKXx8YigiZGlhZ3JhbSIpO2UoW2E/YigiZGlhZ3JhbSIsbnVsbCxJTUFHRV9QQVRIKyIvZHJhd2xvZ28uc3ZnIik6bnVsbCxkKG14UmVzb3VyY2VzLmdldCgic2hhcGVzIiksbC5hY3Rpb25zLmdldCgidG9nZ2xlU2hhcGVzIikuZnVuY3QsCm51bGwsbXhSZXNvdXJjZXMuZ2V0KCJzaGFwZXMiKSxsLmFjdGlvbnMuZ2V0KCJpbWFnZSIpLGE/ImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeU5DSWdhR1ZwWjJoMFBTSXlOQ0lnZG1sbGQwSnZlRDBpTUNBd0lESTBJREkwSWo0OGNHRjBhQ0JrUFNKTk1UTWdNVE4yT0dnNGRpMDRhQzA0ZWsweklESXhhRGgyTFRoSU0zWTRlazB6SUROMk9HZzRWak5JTTNwdE1UTXVOall0TVM0ek1Vd3hNU0EzTGpNMElERTJMalkySURFemJEVXVOall0TlM0Mk5pMDFMalkyTFRVdU5qVjZJaTgrUEM5emRtYysiOm51bGwpLGQobXhSZXNvdXJjZXMuZ2V0KCJmb3JtYXQiKSxsLmFjdGlvbnMuZ2V0KCJ0b2dnbGVGb3JtYXQiKS5mdW5jdCxudWxsLG14UmVzb3VyY2VzLmdldCgiZm9ybWF0IikrIiAoIitsLmFjdGlvbnMuZ2V0KCJmb3JtYXRQYW5lbCIpLnNob3J0Y3V0KyIpIixsLmFjdGlvbnMuZ2V0KCJpbWFnZSIpLAphPyJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSXlOQ0lnYUdWcFoyaDBQU0l5TkNJZ2RtbGxkMEp2ZUQwaU1DQXdJREkwSURJMElqNDhjR0YwYUNCa1BTSk5NVElnTTJNdE5DNDVOeUF3TFRrZ05DNHdNeTA1SURsek5DNHdNeUE1SURrZ09XTXVPRE1nTUNBeExqVXRMalkzSURFdU5TMHhMalVnTUMwdU16a3RMakUxTFM0M05DMHVNemt0TVM0d01TMHVNak10TGpJMkxTNHpPQzB1TmpFdExqTTRMUzQ1T1NBd0xTNDRNeTQyTnkweExqVWdNUzQxTFRFdU5VZ3hObU15TGpjMklEQWdOUzB5TGpJMElEVXROU0F3TFRRdU5ESXROQzR3TXkwNExUa3RPSHB0TFRVdU5TQTVZeTB1T0RNZ01DMHhMalV0TGpZM0xURXVOUzB4TGpWVE5TNDJOeUE1SURZdU5TQTVJRGdnT1M0Mk55QTRJREV3TGpVZ055NHpNeUF4TWlBMkxqVWdNVEo2YlRNdE5FTTRMalkzSURnZ09DQTNMak16SURnZ05pNDFVemd1TmpjZ05TQTVMalVnTlhNeExqVXVOamNnTVM0MUlERXVOVk14TUM0ek15QTRJRGt1TlNBNGVtMDFJREJqTFM0NE15QXdMVEV1TlMwdU5qY3RNUzQxTFRFdU5WTXhNeTQyTnlBMUlERTBMalVnTlhNeExqVXVOamNnTVM0MUlERXVOVk14TlM0ek15QTRJREUwTGpVZ09IcHRNeUEwWXkwdU9ETWdNQzB4TGpVdExqWTNMVEV1TlMweExqVlRNVFl1TmpjZ09TQXhOeTQxSURsek1TNDFMalkzSURFdU5TQXhMalV0TGpZM0lERXVOUzB4TGpVZ01TNDFlaUl2UGp3dmMzWm5QZz09IjoKbnVsbCldLGE/NjA6bnVsbCk7Yz1iKCJpbnNlcnQiLCEwLGE/ImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeU5DSWdhR1ZwWjJoMFBTSXlOQ0lnZG1sbGQwSnZlRDBpTUNBd0lESTBJREkwSWo0OGNHRjBhQ0JrUFNKTk1Ua2dNVE5vTFRaMk5tZ3RNbll0TmtnMWRpMHlhRFpXTldneWRqWm9Obll5ZWlJdlBqd3ZjM1puUGc9PSI6bnVsbCk7ZShbYyxkKG14UmVzb3VyY2VzLmdldCgiZGVsZXRlIiksbC5hY3Rpb25zLmdldCgiZGVsZXRlIikuZnVuY3QsbnVsbCxteFJlc291cmNlcy5nZXQoImRlbGV0ZSIpLGwuYWN0aW9ucy5nZXQoImRlbGV0ZSIpLGE/ImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeU5DSWdhR1ZwWjJoMFBTSXlOQ0lnZG1sbGQwSnZlRDBpTUNBd0lESTBJREkwSWo0OGNHRjBhQ0JrUFNKTk5pQXhPV013SURFdU1TNDVJRElnTWlBeWFEaGpNUzR4SURBZ01pMHVPU0F5TFRKV04wZzJkakV5ZWsweE9TQTBhQzB6TGpWc0xURXRNV2d0Tld3dE1TQXhTRFYyTW1neE5GWTBlaUl2UGp3dmMzWm5QZz09IjoKbnVsbCldLGE/NjA6bnVsbCk7aWYoNDExPD1mJiYoYz1sLmFjdGlvbnMuZ2V0KCJ1bmRvIiksYT1sLmFjdGlvbnMuZ2V0KCJyZWRvIiksYz1kKCIiLGMuZnVuY3QsbnVsbCxteFJlc291cmNlcy5nZXQoInVuZG8iKSsiICgiK2Muc2hvcnRjdXQrIikiLGMsImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeU5DSWdhR1ZwWjJoMFBTSXlOQ0lnZG1sbGQwSnZlRDBpTUNBd0lESTBJREkwSWo0OGNHRjBhQ0JrUFNKTk1USXVOU0E0WXkweUxqWTFJREF0TlM0d05TNDVPUzAyTGprZ01pNDJURElnTjNZNWFEbHNMVE11TmpJdE15NDJNbU14TGpNNUxURXVNVFlnTXk0eE5pMHhMamc0SURVdU1USXRNUzQ0T0NBekxqVTBJREFnTmk0MU5TQXlMak14SURjdU5pQTFMalZzTWk0ek55MHVOemhETWpFdU1EZ2dNVEV1TURNZ01UY3VNVFVnT0NBeE1pNDFJRGg2SWk4K1BDOXpkbWMrIiksYT1kKCIiLAphLmZ1bmN0LG51bGwsbXhSZXNvdXJjZXMuZ2V0KCJyZWRvIikrIiAoIithLnNob3J0Y3V0KyIpIixhLCJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSXlOQ0lnYUdWcFoyaDBQU0l5TkNJZ2RtbGxkMEp2ZUQwaU1DQXdJREkwSURJMElqNDhjR0YwYUNCa1BTSk5NVGd1TkNBeE1DNDJRekUyTGpVMUlEZ3VPVGtnTVRRdU1UVWdPQ0F4TVM0MUlEaGpMVFF1TmpVZ01DMDRMalU0SURNdU1ETXRPUzQ1TmlBM0xqSXlURE11T1NBeE5tTXhMakExTFRNdU1Ua2dOQzR3TlMwMUxqVWdOeTQyTFRVdU5TQXhMamsxSURBZ015NDNNeTQzTWlBMUxqRXlJREV1T0RoTU1UTWdNVFpvT1ZZM2JDMHpMallnTXk0MmVpSXZQand2YzNablBnPT0iKSxlKFtjLGFdLDYwKSw0ODA8PWYpKXt2YXIgYT1sLmFjdGlvbnMuZ2V0KCJ6b29tSW4iKSxjPWwuYWN0aW9ucy5nZXQoInpvb21PdXQiKSxnPWwuYWN0aW9ucy5nZXQoInJlc2V0VmlldyIpOwplKFtkKCIiLGZ1bmN0aW9uKCl7bS5wb3B1cE1lbnVIYW5kbGVyLmhpZGVNZW51KCk7dmFyIGE9bS52aWV3LnNjYWxlLGI9bS52aWV3LnRyYW5zbGF0ZS54LGM9bS52aWV3LnRyYW5zbGF0ZS55O2wuYWN0aW9ucy5nZXQoInJlc2V0VmlldyIpLmZ1bmN0KCk7MUUtNT5NYXRoLmFicyhhLW0udmlldy5zY2FsZSkmJmI9PW0udmlldy50cmFuc2xhdGUueCYmYz09bS52aWV3LnRyYW5zbGF0ZS55JiZsLmFjdGlvbnMuZ2V0KG0ucGFnZVZpc2libGU/ImZpdFBhZ2UiOiJmaXRXaW5kb3ciKS5mdW5jdCgpfSwhMCxteFJlc291cmNlcy5nZXQoImZpdCIpKyIgKCIrRWRpdG9yLmN0cmxLZXkrIitIKSIsZywiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l5TkNJZ2FHVnBaMmgwUFNJeU5DSWdkbWxsZDBKdmVEMGlNQ0F3SURJMElESTBJajQ4Y0dGMGFDQmtQU0pOTXlBMWRqUm9NbFkxYURSV00wZzFZeTB4TGpFZ01DMHlJQzQ1TFRJZ01ucHRNaUF4TUVnemRqUmpNQ0F4TGpFdU9TQXlJRElnTW1nMGRpMHlTRFYyTFRSNmJURTBJRFJvTFRSMk1tZzBZekV1TVNBd0lESXRMamtnTWkweWRpMDBhQzB5ZGpSNmJUQXRNVFpvTFRSMk1tZzBkalJvTWxZMVl6QXRNUzR4TFM0NUxUSXRNaTB5ZWlJdlBqd3ZjM1puUGc9PSIpLAo2NDA8PWY/ZCgiIixhLmZ1bmN0LCEwLG14UmVzb3VyY2VzLmdldCgiem9vbUluIikrIiAoIitFZGl0b3IuY3RybEtleSsiICspIixhLCJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSXlOQ0lnYUdWcFoyaDBQU0l5TkNJZ2RtbGxkMEp2ZUQwaU1DQXdJREkwSURJMElqNDhjR0YwYUNCa1BTSk5NVFV1TlNBeE5HZ3RMamM1YkMwdU1qZ3RMakkzUXpFMUxqUXhJREV5TGpVNUlERTJJREV4TGpFeElERTJJRGt1TlNBeE5pQTFMamt4SURFekxqQTVJRE1nT1M0MUlETlRNeUExTGpreElETWdPUzQxSURVdU9URWdNVFlnT1M0MUlERTJZekV1TmpFZ01DQXpMakE1TFM0MU9TQTBMakl6TFRFdU5UZHNMakkzTGpJNGRpNDNPV3cxSURRdU9UbE1NakF1TkRrZ01UbHNMVFF1T1RrdE5YcHRMVFlnTUVNM0xqQXhJREUwSURVZ01URXVPVGtnTlNBNUxqVlROeTR3TVNBMUlEa3VOU0ExSURFMElEY3VNREVnTVRRZ09TNDFJREV4TGprNUlERTBJRGt1TlNBeE5IcHRNaTQxTFRSb0xUSjJNa2c1ZGkweVNEZFdPV2d5Vmpkb01YWXlhREoyTVhvaUx6NDhMM04yWno0PSIpOgpudWxsLDY0MDw9Zj9kKCIiLGMuZnVuY3QsITAsbXhSZXNvdXJjZXMuZ2V0KCJ6b29tT3V0IikrIiAoIitFZGl0b3IuY3RybEtleSsiIC0pIixjLCJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSXlOQ0lnYUdWcFoyaDBQU0l5TkNJZ2RtbGxkMEp2ZUQwaU1DQXdJREkwSURJMElqNDhjR0YwYUNCa1BTSk5NVFV1TlNBeE5HZ3RMamM1YkMwdU1qZ3RMakkzUXpFMUxqUXhJREV5TGpVNUlERTJJREV4TGpFeElERTJJRGt1TlNBeE5pQTFMamt4SURFekxqQTVJRE1nT1M0MUlETlRNeUExTGpreElETWdPUzQxSURVdU9URWdNVFlnT1M0MUlERTJZekV1TmpFZ01DQXpMakE1TFM0MU9TQTBMakl6TFRFdU5UZHNMakkzTGpJNGRpNDNPV3cxSURRdU9UbE1NakF1TkRrZ01UbHNMVFF1T1RrdE5YcHRMVFlnTUVNM0xqQXhJREUwSURVZ01URXVPVGtnTlNBNUxqVlROeTR3TVNBMUlEa3VOU0ExSURFMElEY3VNREVnTVRRZ09TNDFJREV4TGprNUlERTBJRGt1TlNBeE5IcE5OeUE1YURWMk1VZzNlaUl2UGp3dmMzWm5QZz09Iik6Cm51bGxdLDYwKX1hPWwubWVudXMuZ2V0KCJsYW5ndWFnZSIpO251bGwhPWEmJiFteENsaWVudC5JU19DSFJPTUVBUFAmJiFFZGl0b3JVaS5pc0VsZWN0cm9uQXBwJiY2MDA8PWY/KG51bGw9PU8mJihjPXEuYWRkTWVudSgiIixhLmZ1bmN0KSxjLnNldEF0dHJpYnV0ZSgidGl0bGUiLG14UmVzb3VyY2VzLmdldCgibGFuZ3VhZ2UiKSksYy5jbGFzc05hbWU9ImdlVG9vbGJhckJ1dHRvbiIsYy5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9InVybCgiK0VkaXRvci5nbG9iZUltYWdlKyIpIixjLnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbj0iY2VudGVyIGNlbnRlciIsYy5zdHlsZS5iYWNrZ3JvdW5kUmVwZWF0PSJuby1yZXBlYXQiLGMuc3R5bGUuYmFja2dyb3VuZFNpemU9IjI0cHggMjRweCIsYy5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiLGMuc3R5bGUuaGVpZ2h0PSIyNHB4IixjLnN0eWxlLndpZHRoPSIyNHB4IixjLnN0eWxlLnpJbmRleD0iMSIsYy5zdHlsZS5yaWdodD0iOHB4IixjLnN0eWxlLmN1cnNvcj0KInBvaW50ZXIiLGMuc3R5bGUudG9wPSIxIj09dXJsUGFyYW1zLmVtYmVkPyIxMnB4IjoiMTFweCIsbi5hcHBlbmRDaGlsZChjKSxPPWMpLGwuYnV0dG9uQ29udGFpbmVyLnN0eWxlLnBhZGRpbmdSaWdodD0iMzRweCIpOihsLmJ1dHRvbkNvbnRhaW5lci5zdHlsZS5wYWRkaW5nUmlnaHQ9IjRweCIsbnVsbCE9TyYmKE8ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChPKSxPPW51bGwpKX10LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgaz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtrLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6MHB4O3JpZ2h0OjBweDt0b3A6MHB4O292ZXJmbG93LXk6YXV0bztvdmVyZmxvdy14OmhpZGRlbjsiO2suc3R5bGUuYm90dG9tPSIxIiE9dXJsUGFyYW1zLmVtYmVkfHwiMSI9PXVybFBhcmFtcy5saWJyYXJpZXM/IjYzcHgiOiIzMnB4Ijt0aGlzLnNpZGViYXI9dGhpcy5jcmVhdGVTaWRlYmFyKGspOygxRTM8PWZ8fG51bGwhPXVybFBhcmFtcy5jbGlic3x8Cm51bGwhPXVybFBhcmFtcy5saWJzKSYmYyh0aGlzLCEwKTsxRTM8PWYmJmEodGhpcywhMCk7dmFyIGw9dGhpcyxtPWwuZWRpdG9yLmdyYXBoO2wudG9vbGJhcj10aGlzLmNyZWF0ZVRvb2xiYXIobC5jcmVhdGVEaXYoImdlVG9vbGJhciIpKTtsLmRlZmF1bHRMaWJyYXJ5TmFtZT1teFJlc291cmNlcy5nZXQoInVudGl0bGVkTGlicmFyeSIpO3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO24uc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7bGVmdDowcHg7cmlnaHQ6MHB4O3RvcDowcHg7aGVpZ2h0OjMwcHg7cGFkZGluZzo4cHg7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgbGlnaHRncmF5O2JhY2tncm91bmQtY29sb3I6I2ZmZmZmZjt0ZXh0LWFsaWduOmxlZnQ7d2hpdGUtc3BhY2U6bm93cmFwOyI7dmFyIHA9bnVsbCxxPW5ldyBNZW51YmFyKGwsbik7bC5zdGF0dXNDb250YWluZXI9bC5jcmVhdGVTdGF0dXNDb250YWluZXIoKTtsLnN0YXR1c0NvbnRhaW5lci5zdHlsZS5wb3NpdGlvbj0KInJlbGF0aXZlIjtsLnN0YXR1c0NvbnRhaW5lci5zdHlsZS5tYXhXaWR0aD0iIjtsLnN0YXR1c0NvbnRhaW5lci5zdHlsZS5tYXJnaW5Ub3A9IjdweCI7bC5zdGF0dXNDb250YWluZXIuc3R5bGUubWFyZ2luTGVmdD0iNnB4IjtsLnN0YXR1c0NvbnRhaW5lci5zdHlsZS5jb2xvcj0iZ3JheSI7bC5zdGF0dXNDb250YWluZXIuc3R5bGUuY3Vyc29yPSJkZWZhdWx0IjtsLmVkaXRvci5hZGRMaXN0ZW5lcigic3RhdHVzQ2hhbmdlZCIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtsLnNldFN0YXR1c1RleHQobC5lZGl0b3IuZ2V0U3RhdHVzKCkpfSkpO3ZhciB2PWwuZGVzY3JpcHRvckNoYW5nZWQ7bC5kZXNjcmlwdG9yQ2hhbmdlZD1mdW5jdGlvbigpe3YuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBhPWwuZ2V0Q3VycmVudEZpbGUoKTtpZihudWxsIT1hJiZudWxsIT1hLmdldFRpdGxlKCkpe3ZhciBiPWEuZ2V0TW9kZSgpOyJnb29nbGUiPT1iP2I9Imdvb2dsZURyaXZlIjoiZ2l0aHViIj09CmI/Yj0iZ2l0SHViIjoiZ2l0bGFiIj09Yj9iPSJnaXRMYWIiOiJvbmVkcml2ZSI9PWImJihiPSJvbmVEcml2ZSIpO2I9bXhSZXNvdXJjZXMuZ2V0KGIpO24uc2V0QXR0cmlidXRlKCJ0aXRsZSIsYS5nZXRUaXRsZSgpKyhudWxsIT1iPyIgKCIrYisiKSI6IiIpKX1lbHNlIG4ucmVtb3ZlQXR0cmlidXRlKCJ0aXRsZSIpfTtsLnNldFN0YXR1c1RleHQobC5lZGl0b3IuZ2V0U3RhdHVzKCkpO24uYXBwZW5kQ2hpbGQobC5zdGF0dXNDb250YWluZXIpO2wuYnV0dG9uQ29udGFpbmVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2wuYnV0dG9uQ29udGFpbmVyLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjBweDtwYWRkaW5nLXJpZ2h0OjM0cHg7dG9wOjEwcHg7d2hpdGUtc3BhY2U6bm93cmFwO3BhZGRpbmctdG9wOjJweDtiYWNrZ3JvdW5kLWNvbG9yOmluaGVyaXQ7IjtuLmFwcGVuZENoaWxkKGwuYnV0dG9uQ29udGFpbmVyKTtsLm1lbnViYXJDb250YWluZXI9CmwuYnV0dG9uQ29udGFpbmVyO2wudGFiQ29udGFpbmVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2wudGFiQ29udGFpbmVyLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6MHB4O3JpZ2h0OjBweDtib3R0b206MHB4O2hlaWdodDozMHB4O3doaXRlLXNwYWNlOm5vd3JhcDtib3JkZXItYm90dG9tOjFweCBzb2xpZCBsaWdodGdyYXk7YmFja2dyb3VuZC1jb2xvcjojZmZmZmZmO2JvcmRlci10b3A6MXB4IHNvbGlkIGxpZ2h0Z3JheTttYXJnaW4tYm90dG9tOi0ycHg7dmlzaWJpbGl0eTpoaWRkZW47Ijt2YXIgaz1sLmRpYWdyYW1Db250YWluZXIucGFyZW50Tm9kZSx1PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3Uuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7dG9wOjBweDtsZWZ0OjBweDtyaWdodDowcHg7Ym90dG9tOjBweDtvdmVyZmxvdzpoaWRkZW47IjtsLmRpYWdyYW1Db250YWluZXIuc3R5bGUudG9wPSI0N3B4Ijt2YXIgSz0KbC5tZW51cy5nZXQoInZpZXdab29tIik7aWYobnVsbCE9Syl7dGhpcy50YWJDb250YWluZXIuc3R5bGUucmlnaHQ9IjcwcHgiO3ZhciB5PXEuYWRkTWVudSgiMTAwJSIsSy5mdW5jdCk7eS5zZXRBdHRyaWJ1dGUoInRpdGxlIixteFJlc291cmNlcy5nZXQoInpvb20iKSsiIChBbHQrTW91c2V3aGVlbCkiKTt5LnN0eWxlLndoaXRlU3BhY2U9Im5vd3JhcCI7eS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9InVybCgiK214V2luZG93LnByb3RvdHlwZS5taW5pbWl6ZUltYWdlKyIpIjt5LnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbj0icmlnaHQgNnB4IGNlbnRlciI7eS5zdHlsZS5iYWNrZ3JvdW5kUmVwZWF0PSJuby1yZXBlYXQiO3kuc3R5bGUuYmFja2dyb3VuZENvbG9yPSIjZmZmZmZmIjt5LnN0eWxlLnBhZGRpbmdSaWdodD0iMTBweCI7eS5zdHlsZS5kaXNwbGF5PSJibG9jayI7eS5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiO3kuc3R5bGUudGV4dERlY29yYXRpb249Im5vbmUiO3kuc3R5bGUudGV4dERlY29yYXRpb249CiJub25lIjt5LnN0eWxlLnJpZ2h0PSIwcHgiO3kuc3R5bGUuYm90dG9tPSIwcHgiO3kuc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiI7eS5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iO3kuc3R5bGUudGV4dEFsaWduPSJjZW50ZXIiO3kuc3R5bGUuY29sb3I9IiMwMDAiO3kuc3R5bGUuZm9udFNpemU9IjEycHgiO3kuc3R5bGUuY29sb3I9IiM3MDcwNzAiO3kuc3R5bGUud2lkdGg9IjU5cHgiO3kuc3R5bGUuY3Vyc29yPSJwb2ludGVyIjt5LnN0eWxlLmJvcmRlclRvcD0iMXB4IHNvbGlkIGxpZ2h0Z3JheSI7eS5zdHlsZS5ib3JkZXJMZWZ0PSIxcHggc29saWQgbGlnaHRncmF5Ijt5LnN0eWxlLmhlaWdodD1wYXJzZUludChsLnRhYkNvbnRhaW5lckhlaWdodCktMSsicHgiO3kuc3R5bGUubGluZUhlaWdodD1wYXJzZUludChsLnRhYkNvbnRhaW5lckhlaWdodCkrMSsicHgiO3UuYXBwZW5kQ2hpbGQoeSk7Sz1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3kuaW5uZXJIVE1MPU1hdGgucm91bmQoMTAwKgpsLmVkaXRvci5ncmFwaC52aWV3LnNjYWxlKSsiJSJ9KTtsLmVkaXRvci5ncmFwaC52aWV3LmFkZExpc3RlbmVyKG14RXZlbnQuRVZFTlRfU0NBTEUsSyk7bC5lZGl0b3IuYWRkTGlzdGVuZXIoInJlc2V0R3JhcGhWaWV3IixLKTtsLmVkaXRvci5hZGRMaXN0ZW5lcigicGFnZVNlbGVjdGVkIixLKTt2YXIgTj1sLnNldEdyYXBoRW5hYmxlZDtsLnNldEdyYXBoRW5hYmxlZD1mdW5jdGlvbigpe04uYXBwbHkodGhpcyxhcmd1bWVudHMpO251bGwhPXRoaXMudGFiQ29udGFpbmVyJiYoeS5zdHlsZS52aXNpYmlsaXR5PXRoaXMudGFiQ29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHksdGhpcy5kaWFncmFtQ29udGFpbmVyLnN0eWxlLmJvdHRvbT0iaGlkZGVuIiE9dGhpcy50YWJDb250YWluZXIuc3R5bGUudmlzaWJpbGl0eT90aGlzLnRhYkNvbnRhaW5lckhlaWdodCsicHgiOiIwcHgiKX19dS5hcHBlbmRDaGlsZChsLnRhYkNvbnRhaW5lcik7dS5hcHBlbmRDaGlsZChuKTt1LmFwcGVuZENoaWxkKGwuZGlhZ3JhbUNvbnRhaW5lcik7CmsuYXBwZW5kQ2hpbGQodSk7bC51cGRhdGVUYWJDb250YWluZXIoKTt2YXIgTz1udWxsO2coKTtteEV2ZW50LmFkZExpc3RlbmVyKHdpbmRvdywicmVzaXplIixmdW5jdGlvbigpe2coKTtudWxsIT1sLnNpZGViYXJXaW5kb3cmJmwuc2lkZWJhcldpbmRvdy53aW5kb3cuZml0KCk7bnVsbCE9bC5mb3JtYXRXaW5kb3cmJmwuZm9ybWF0V2luZG93LndpbmRvdy5maXQoKTtudWxsIT1sLmFjdGlvbnMub3V0bGluZVdpbmRvdyYmbC5hY3Rpb25zLm91dGxpbmVXaW5kb3cud2luZG93LmZpdCgpO251bGwhPWwuYWN0aW9ucy5sYXllcnNXaW5kb3cmJmwuYWN0aW9ucy5sYXllcnNXaW5kb3cud2luZG93LmZpdCgpO251bGwhPWwubWVudXMudGFnc1dpbmRvdyYmbC5tZW51cy50YWdzV2luZG93LndpbmRvdy5maXQoKTtudWxsIT1sLm1lbnVzLmZpbmRXaW5kb3cmJmwubWVudXMuZmluZFdpbmRvdy53aW5kb3cuZml0KCl9KX19fTsKKGZ1bmN0aW9uKCl7dmFyIGE9ITE7Im1pbiIhPXVpVGhlbWV8fGF8fG14Q2xpZW50LklTX0NIUk9NRUFQUHx8KEVkaXRvclVpLmluaXRNaW5pbWFsVGhlbWUoKSxhPSEwKTt2YXIgYz1FZGl0b3JVaS5pbml0VGhlbWU7RWRpdG9yVWkuaW5pdFRoZW1lPWZ1bmN0aW9uKCl7Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7Im1pbiIhPXVpVGhlbWV8fGF8fCh0aGlzLmluaXRNaW5pbWFsVGhlbWUoKSxhPSEwKX19KSgpO0RyYXdpb0NvbW1lbnQ9ZnVuY3Rpb24oYSxjLGYsZCxtLGsscSl7dGhpcy5maWxlPWE7dGhpcy5pZD1jO3RoaXMuY29udGVudD1mO3RoaXMubW9kaWZpZWREYXRlPWQ7dGhpcy5jcmVhdGVkRGF0ZT1tO3RoaXMuaXNSZXNvbHZlZD1rO3RoaXMudXNlcj1xO3RoaXMucmVwbGllcz1bXX07RHJhd2lvQ29tbWVudC5wcm90b3R5cGUuYWRkUmVwbHlEaXJlY3Q9ZnVuY3Rpb24oYSl7bnVsbCE9YSYmdGhpcy5yZXBsaWVzLnB1c2goYSl9O0RyYXdpb0NvbW1lbnQucHJvdG90eXBlLmFkZFJlcGx5PWZ1bmN0aW9uKGEsYyxmLGQsbSl7YygpfTtEcmF3aW9Db21tZW50LnByb3RvdHlwZS5lZGl0Q29tbWVudD1mdW5jdGlvbihhLGMsZil7YygpfTtEcmF3aW9Db21tZW50LnByb3RvdHlwZS5kZWxldGVDb21tZW50PWZ1bmN0aW9uKGEsYyl7YSgpfTtEcmF3aW9Vc2VyPWZ1bmN0aW9uKGEsYyxmLGQsbSl7dGhpcy5pZD1hO3RoaXMuZW1haWw9Yzt0aGlzLmRpc3BsYXlOYW1lPWY7dGhpcy5waWN0dXJlVXJsPWQ7dGhpcy5sb2NhbGU9bX07bXhSZXNvdXJjZXMucGFyc2UoJyMgKkRPIE5PVCBESVJFQ1RMWSBFRElUIFRISVMgRklMRSwgSVQgSVMgQVVUT01BVElDQUxMWSBHRU5FUkFURUQgQU5EIElUIElTIEJBU0VEIE9OOipcbiMgaHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vc3ByZWFkc2hlZXQvY2NjP2tleT0wQW1RRU8zNmxpTDRGZERKTFdWTk1hVlYyVW1SS1NucFhVMDlNWWtkR2JFRVxuYWJvdXQ9QWJvdXQgXG5hYm91dERyYXdpbz1BYm91dCBkcmF3LmlvXG5hY2Nlc3NEZW5pZWQ9QWNjZXNzIERlbmllZFxuYWN0aW9uPUFjdGlvblxuYWN0dWFsU2l6ZT1BY3R1YWwgU2l6ZVxuYWRkPUFkZFxuYWRkQWNjb3VudD1BZGQgYWNjb3VudFxuYWRkZWRGaWxlPUFkZGVkIHsxfVxuYWRkSW1hZ2VzPUFkZCBJbWFnZXNcbmFkZEltYWdlVXJsPUFkZCBJbWFnZSBVUkxcbmFkZExheWVyPUFkZCBMYXllclxuYWRkUHJvcGVydHk9QWRkIFByb3BlcnR5XG5hZGRyZXNzPUFkZHJlc3NcbmFkZFRvRXhpc3RpbmdEcmF3aW5nPUFkZCB0byBFeGlzdGluZyBEcmF3aW5nXG5hZGRXYXlwb2ludD1BZGQgV2F5cG9pbnRcbmFkanVzdFRvPUFkanVzdCB0b1xuYWR2YW5jZWQ9QWR2YW5jZWRcbmFsaWduPUFsaWduXG5hbGlnbm1lbnQ9QWxpZ25tZW50XG5hbGxDaGFuZ2VzTG9zdD1BbGwgY2hhbmdlcyB3aWxsIGJlIGxvc3QhXG5hbGxQYWdlcz1BbGwgUGFnZXNcbmFsbFByb2plY3RzPUFsbCBQcm9qZWN0c1xuYWxsU3BhY2VzPUFsbCBTcGFjZXNcbmFsbFRhZ3M9QWxsIFRhZ3NcbmFuY2hvcj1BbmNob3JcbmFuZHJvaWQ9QW5kcm9pZFxuYW5nbGU9QW5nbGVcbmFyYz1BcmNcbmFyZVlvdVN1cmU9QXJlIHlvdSBzdXJlP1xuZW5zdXJlRGF0YVNhdmVkPVBsZWFzZSBlbnN1cmUgeW91ciBkYXRhIGlzIHNhdmVkIGJlZm9yZSBjbG9zaW5nLlxuYWxsQ2hhbmdlc1NhdmVkPUFsbCBjaGFuZ2VzIHNhdmVkXG5hbGxDaGFuZ2VzU2F2ZWRJbkRyaXZlPUFsbCBjaGFuZ2VzIHNhdmVkIGluIERyaXZlXG5hbGxvd1BvcHVwcz1BbGxvdyBwb3AtdXBzIHRvIGF2b2lkIHRoaXMgZGlhbG9nLlxuYWxsb3dSZWxhdGl2ZVVybD1BbGxvdyByZWxhdGl2ZSBVUkxcbmFscmVhZHlDb25uZWN0ZWQ9Tm9kZXMgYWxyZWFkeSBjb25uZWN0ZWRcbmFwcGx5PUFwcGx5XG5hcmNoaU1hdGUyMT1BcmNoaU1hdGUgMi4xXG5hcnJhbmdlPUFycmFuZ2VcbmFycm93PUFycm93XG5hcnJvd3M9QXJyb3dzXG5hc05ldz1BcyBOZXdcbmF0bGFzPUF0bGFzXG5hdXRob3I9QXV0aG9yXG5hdXRob3JpemF0aW9uUmVxdWlyZWQ9QXV0aG9yaXphdGlvbiByZXF1aXJlZFxuYXV0aG9yaXplVGhpc0FwcEluPUF1dGhvcml6ZSB0aGlzIGFwcCBpbiB7MX06XG5hdXRob3JpemU9QXV0aG9yaXplXG5hdXRob3JpemluZz1BdXRob3JpemluZ1xuYXV0b21hdGljPUF1dG9tYXRpY1xuYXV0b3NhdmU9QXV0b3NhdmVcbmF1dG9zaXplPUF1dG9zaXplXG5hdHRhY2htZW50cz1BdHRhY2htZW50c1xuYXdzPUFXU1xuYXdzM2Q9QVdTIDNEXG5henVyZT1BenVyZVxuYmFjaz1CYWNrXG5iYWNrZ3JvdW5kPUJhY2tncm91bmRcbmJhY2tncm91bmRDb2xvcj1CYWNrZ3JvdW5kIENvbG9yXG5iYWNrZ3JvdW5kSW1hZ2U9QmFja2dyb3VuZCBJbWFnZVxuYmFzaWM9QmFzaWNcbmJsYW5rRHJhd2luZz1CbGFuayBEcmF3aW5nXG5ibGFua0RpYWdyYW09QmxhbmsgRGlhZ3JhbVxuYmxvY2s9QmxvY2tcbmJsb2NrcXVvdGU9QmxvY2txdW90ZVxuYmxvZz1CbG9nXG5ib2xkPUJvbGRcbmJvb3RzdHJhcD1Cb290c3RyYXBcbmJvcmRlcj1Cb3JkZXJcbmJvcmRlckNvbG9yPUJvcmRlciBDb2xvclxuYm9yZGVyV2lkdGg9Qm9yZGVyIFdpZHRoXG5ib3R0b209Qm90dG9tXG5ib3R0b21BbGlnbj1Cb3R0b20gQWxpZ25cbmJvdHRvbUxlZnQ9Qm90dG9tIExlZnRcbmJvdHRvbVJpZ2h0PUJvdHRvbSBSaWdodFxuYnBtbj1CUE1OXG5icm93c2VyPUJyb3dzZXJcbmJ1bGxldGVkTGlzdD1CdWxsZXRlZCBMaXN0XG5idXNpbmVzcz1CdXNpbmVzc1xuYnVzeT1PcGVyYXRpb24gaW4gcHJvZ3Jlc3NcbmNhYmluZXRzPUNhYmluZXRzXG5jYW5jZWw9Q2FuY2VsXG5jZW50ZXI9Q2VudGVyXG5jYW5ub3RMb2FkPUxvYWQgYXR0ZW1wdHMgZmFpbGVkLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLlxuY2Fubm90TG9naW49TG9nIGluIGF0dGVtcHRzIGZhaWxlZC4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci5cbmNhbm5vdE9wZW5GaWxlPUNhbm5vdCBvcGVuIGZpbGVcbmNoYW5nZT1DaGFuZ2VcbmNoYW5nZU9yaWVudGF0aW9uPUNoYW5nZSBPcmllbnRhdGlvblxuY2hhbmdlVXNlcj1DaGFuZ2UgdXNlclxuY2hhbmdlU3RvcmFnZT1DaGFuZ2Ugc3RvcmFnZVxuY2hhbmdlc05vdFNhdmVkPUNoYW5nZXMgaGF2ZSBub3QgYmVlbiBzYXZlZFxuY2xhc3NEaWFncmFtPUNsYXNzIERpYWdyYW1cbnVzZXJKb2luZWQ9ezF9IGhhcyBqb2luZWRcbnVzZXJMZWZ0PXsxfSBoYXMgbGVmdFxuY2hhdFdpbmRvd1RpdGxlPUNoYXRcbmNob29zZUFuT3B0aW9uPUNob29zZSBhbiBvcHRpb25cbmNocm9tZUFwcD1DaHJvbWUgQXBwXG5jb2xsYWJvcmF0aXZlRWRpdGluZ05vdGljZT1JbXBvcnRhbnQgTm90aWNlIGZvciBDb2xsYWJvcmF0aXZlIEVkaXRpbmdcbmNvbXByZXNzZWQ9Q29tcHJlc3NlZFxuY29tbWl0TWVzc2FnZT1Db21taXQgTWVzc2FnZVxuY29uZmlnTGlua1dhcm49VGhpcyBsaW5rIGNvbmZpZ3VyZXMgZHJhdy5pby4gT25seSBjbGljayBPSyBpZiB5b3UgdHJ1c3Qgd2hvZXZlciBnYXZlIHlvdSBpdCFcbmNvbmZpZ0xpbmtDb25maXJtPUNsaWNrIE9LIHRvIGNvbmZpZ3VyZSBhbmQgcmVzdGFydCBkcmF3LmlvLlxuY3N2PUNTVlxuZGFyaz1EYXJrXG5kaWFncmFtWG1sRGVzYz1YTUwgRmlsZVxuZGlhZ3JhbUh0bWxEZXNjPUhUTUwgRmlsZVxuZGlhZ3JhbVBuZ0Rlc2M9RWRpdGFibGUgQml0bWFwIEltYWdlXG5kaWFncmFtU3ZnRGVzYz1FZGl0YWJsZSBWZWN0b3IgSW1hZ2VcbmRpZFlvdU1lYW5Ub0V4cG9ydFRvUGRmPURpZCB5b3UgbWVhbiB0byBleHBvcnQgdG8gUERGP1xuZHJhZnRGb3VuZD1BIGRyYWZ0IGZvciBcJ3sxfVwnIGhhcyBiZWVuIGZvdW5kLiBMb2FkIGl0IGludG8gdGhlIGVkaXRvciBvciBkaXNjYXJkIGl0IHRvIGNvbnRpbnVlLlxuc2VsZWN0RHJhZnQ9U2VsZWN0IGEgZHJhZnQgdG8gY29udGludWUgZWRpdGluZzpcbmRyYWdBbmREcm9wTm90U3VwcG9ydGVkPURyYWcgYW5kIGRyb3Agbm90IHN1cHBvcnRlZCBmb3IgaW1hZ2VzLiBXb3VsZCB5b3UgbGlrZSB0byBpbXBvcnQgaW5zdGVhZD9cbmRyb3Bib3hDaGFyc05vdEFsbG93ZWQ9VGhlIGZvbGxvd2luZyBjaGFyYWN0ZXJzIGFyZSBub3QgYWxsb3dlZDogIC8gOiA/ICogIiB8XG5jaGVjaz1DaGVja1xuY2hlY2tzdW09Q2hlY2tzdW1cbmNpcmNsZT1DaXJjbGVcbmNpc2NvPUNpc2NvXG5jbGFzc2ljPUNsYXNzaWNcbmNsZWFyRGVmYXVsdFN0eWxlPUNsZWFyIERlZmF1bHQgU3R5bGVcbmNsZWFyV2F5cG9pbnRzPUNsZWFyIFdheXBvaW50c1xuY2xpcGFydD1DbGlwYXJ0XG5jbG9zZT1DbG9zZVxuY2xvc2luZ0ZpbGU9Q2xvc2luZyBmaWxlXG5jb2xsYWJvcmF0b3I9Q29sbGFib3JhdG9yXG5jb2xsYWJvcmF0b3JzPUNvbGxhYm9yYXRvcnNcbmNvbGxhcHNlPUNvbGxhcHNlXG5jb2xsYXBzZUV4cGFuZD1Db2xsYXBzZS9FeHBhbmRcbmNvbGxhcHNlLWV4cGFuZD1DbGljayB0byBjb2xsYXBzZS9leHBhbmRcblNoaWZ0LWNsaWNrIHRvIG1vdmUgbmVpZ2hib3JzIFxuQWx0LWNsaWNrIHRvIHByb3RlY3QgZ3JvdXAgc2l6ZVxuY29sbGFwc2libGU9Q29sbGFwc2libGVcbmNvbWljPUNvbWljXG5jb21tZW50PUNvbW1lbnRcbmNvbW1lbnRzTm90ZXM9Q29tbWVudHMvTm90ZXNcbmNvbXByZXNzPUNvbXByZXNzXG5jb25maWd1cmF0aW9uPUNvbmZpZ3VyYXRpb25cbmNvbm5lY3Q9Q29ubmVjdFxuY29ubmVjdGluZz1Db25uZWN0aW5nXG5jb25uZWN0V2l0aERyaXZlPUNvbm5lY3Qgd2l0aCBHb29nbGUgRHJpdmVcbmNvbm5lY3Rpb249Q29ubmVjdGlvblxuY29ubmVjdGlvbkFycm93cz1Db25uZWN0aW9uIEFycm93c1xuY29ubmVjdGlvblBvaW50cz1Db25uZWN0aW9uIFBvaW50c1xuY29uc3RyYWluUHJvcG9ydGlvbnM9Q29uc3RyYWluIFByb3BvcnRpb25zXG5jb250YWluc1ZhbGlkYXRpb25FcnJvcnM9Q29udGFpbnMgdmFsaWRhdGlvbiBlcnJvcnNcbmNvcGllZFRvQ2xpcGJvYXJkPUNvcGllZCB0byBjbGlwYm9hcmRcbmNvcHk9Q29weVxuY29weUNvbm5lY3Q9Q29weSBvbiBjb25uZWN0XG5jb3B5Q3JlYXRlZD1BIGNvcHkgb2YgdGhlIGZpbGUgd2FzIGNyZWF0ZWQuXG5jb3B5T2Y9Q29weSBvZiB7MX1cbmNvcHlPZkRyYXdpbmc9Q29weSBvZiBEcmF3aW5nXG5jb3B5U2l6ZT1Db3B5IFNpemVcbmNvcHlTdHlsZT1Db3B5IFN0eWxlXG5jcmVhdGU9Q3JlYXRlXG5jcmVhdGVOZXdEaWFncmFtPUNyZWF0ZSBOZXcgRGlhZ3JhbVxuY3JlYXRlUmV2aXNpb249Q3JlYXRlIFJldmlzaW9uXG5jcmVhdGVTaGFwZT1DcmVhdGUgU2hhcGVcbmNyb3A9Q3JvcFxuY3VydmVkPUN1cnZlZFxuY3VzdG9tPUN1c3RvbVxuY3VycmVudD1DdXJyZW50XG5jdXJyZW50UGFnZT1DdXJyZW50IHBhZ2VcbmN1dD1DdXRcbmRhc2hlZD1EYXNoZWRcbmRlY2lkZUxhdGVyPURlY2lkZSBsYXRlclxuZGVmYXVsdD1EZWZhdWx0XG5kZWxldGU9RGVsZXRlXG5kZWxldGVDb2x1bW49RGVsZXRlIENvbHVtblxuZGVsZXRlTGlicmFyeTQwMT1JbnN1ZmZpY2llbnQgcGVybWlzc2lvbnMgdG8gZGVsZXRlIHRoaXMgbGlicmFyeVxuZGVsZXRlTGlicmFyeTQwND1TZWxlY3RlZCBsaWJyYXJ5IGNvdWxkIG5vdCBiZSBmb3VuZFxuZGVsZXRlTGlicmFyeTUwMD1FcnJvciBkZWxldGluZyBsaWJyYXJ5XG5kZWxldGVMaWJyYXJ5Q29uZmlybT1Zb3UgYXJlIGFib3V0IHRvIHBlcm1hbmVudGx5IGRlbGV0ZSB0aGlzIGxpYnJhcnkuIEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkbyB0aGlzP1xuZGVsZXRlUm93PURlbGV0ZSBSb3dcbmRlc2NyaXB0aW9uPURlc2NyaXB0aW9uXG5kZXZpY2U9RGV2aWNlXG5kaWFncmFtPURpYWdyYW1cbmRpYWdyYW1Db250ZW50PURpYWdyYW0gQ29udGVudFxuZGlhZ3JhbUxvY2tlZD1EaWFncmFtIGhhcyBiZWVuIGxvY2tlZCB0byBwcmV2ZW50IGZ1cnRoZXIgZGF0YSBsb3NzLlxuZGlhZ3JhbUxvY2tlZEJ5U2luY2U9VGhlIGRpYWdyYW0gaXMgbG9ja2VkIGJ5IHsxfSBzaW5jZSB7Mn0gYWdvXG5kaWFncmFtTmFtZT1EaWFncmFtIE5hbWVcbmRpYWdyYW1Jc1B1YmxpYz1EaWFncmFtIGlzIHB1YmxpY1xuZGlhZ3JhbUlzTm90UHVibGljPURpYWdyYW0gaXMgbm90IHB1YmxpY1xuZGlhbW9uZD1EaWFtb25kXG5kaWFtb25kVGhpbj1EaWFtb25kICh0aGluKVxuZGlkWW91S25vdz1EaWQgeW91IGtub3cuLi5cbmRpcmVjdGlvbj1EaXJlY3Rpb25cbmRpc2NhcmQ9RGlzY2FyZFxuZGlzY2FyZENoYW5nZXNBbmRSZWNvbm5lY3Q9RGlzY2FyZCBDaGFuZ2VzIGFuZCBSZWNvbm5lY3Rcbmdvb2dsZURyaXZlTWlzc2luZ0NsaWNrSGVyZT1Hb29nbGUgRHJpdmUgbWlzc2luZz8gQ2xpY2sgaGVyZSFcbmRpc2NhcmRDaGFuZ2VzPURpc2NhcmQgQ2hhbmdlc1xuZGlzY29ubmVjdGVkPURpc2Nvbm5lY3RlZFxuZGlzdHJpYnV0ZT1EaXN0cmlidXRlXG5kb25lPURvbmVcbmRvTm90U2hvd0FnYWluPURvIG5vdCBzaG93IGFnYWluXG5kb3R0ZWQ9RG90dGVkXG5kb3VibGVDbGlja09yaWVudGF0aW9uPURvdWJsZWNsaWNrIHRvIGNoYW5nZSBvcmllbnRhdGlvblxuZG91YmxlQ2xpY2tUb29sdGlwPURvdWJsZWNsaWNrIHRvIGluc2VydCB0ZXh0XG5kb3VibGVDbGlja0NoYW5nZVByb3BlcnR5PURvdWJsZWNsaWNrIHRvIGNoYW5nZSBwcm9wZXJ0eSBuYW1lXG5kb3dubG9hZD1Eb3dubG9hZFxuZG93bmxvYWREZXNrdG9wPUdldCBEZXNrdG9wXG5kb3dubG9hZEFzPURvd25sb2FkIGFzXG5jbGlja0hlcmVUb1NhdmU9Q2xpY2sgaGVyZSB0byBzYXZlLlxuZHBpPURQSVxuZHJhZnREaXNjYXJkZWQ9RHJhZnQgZGlzY2FyZGVkXG5kcmFmdFNhdmVkPURyYWZ0IHNhdmVkXG5kcmFnRWxlbWVudHNIZXJlPURyYWcgZWxlbWVudHMgaGVyZVxuZHJhZ0ltYWdlc0hlcmU9RHJhZyBpbWFnZXMgb3IgVVJMcyBoZXJlXG5kcmFnVXJsc0hlcmU9RHJhZyBVUkxzIGhlcmVcbmRyYXcuaW89ZHJhdy5pb1xuZHJhd2luZz1EcmF3aW5nezF9XG5kcmF3aW5nRW1wdHk9RHJhd2luZyBpcyBlbXB0eVxuZHJhd2luZ1Rvb0xhcmdlPURyYXdpbmcgaXMgdG9vIGxhcmdlXG5kcmF3aW9Gb3JXb3JrPURyYXcuaW8gZm9yIEdTdWl0ZVxuZHJvcGJveD1Ecm9wYm94XG5kdXBsaWNhdGU9RHVwbGljYXRlXG5kdXBsaWNhdGVJdD1EdXBsaWNhdGUgezF9XG5kaXZpZGVyPURpdmlkZXJcbmR4PUR4XG5keT1EeVxuZWFzdD1FYXN0XG5lZGl0PUVkaXRcbmVkaXREYXRhPUVkaXQgRGF0YVxuZWRpdERpYWdyYW09RWRpdCBEaWFncmFtXG5lZGl0R2VvbWV0cnk9RWRpdCBHZW9tZXRyeVxuZWRpdEltYWdlPUVkaXQgSW1hZ2VcbmVkaXRJbWFnZVVybD1FZGl0IEltYWdlIFVSTFxuZWRpdExpbms9RWRpdCBMaW5rXG5lZGl0U2hhcGU9RWRpdCBTaGFwZVxuZWRpdFN0eWxlPUVkaXQgU3R5bGVcbmVkaXRUZXh0PUVkaXQgVGV4dFxuZWRpdFRvb2x0aXA9RWRpdCBUb29sdGlwXG5nbGFzcz1HbGFzc1xuZ29vZ2xlSW1hZ2VzPUdvb2dsZSBJbWFnZXNcbmltYWdlU2VhcmNoPUltYWdlIFNlYXJjaFxuZWlwPUVJUFxuZW1iZWQ9RW1iZWRcbmVtYmVkSW1hZ2VzPUVtYmVkIEltYWdlc1xubWFpbkVtYmVkTm90aWNlPVBhc3RlIHRoaXMgaW50byB0aGUgcGFnZVxuZWxlY3RyaWNhbD1FbGVjdHJpY2FsXG5lbGxpcHNlPUVsbGlwc2VcbmVtYmVkTm90aWNlPVBhc3RlIHRoaXMgb25jZSBhdCB0aGUgZW5kIG9mIHRoZSBwYWdlXG5lbnRlckdyb3VwPUVudGVyIEdyb3VwXG5lbnRlck5hbWU9RW50ZXIgTmFtZVxuZW50ZXJQcm9wZXJ0eU5hbWU9RW50ZXIgUHJvcGVydHkgTmFtZVxuZW50ZXJWYWx1ZT1FbnRlciBWYWx1ZVxuZW50aXR5UmVsYXRpb249RW50aXR5IFJlbGF0aW9uXG5lbnRpdHlSZWxhdGlvbnNoaXBEaWFncmFtPUVudGl0eSBSZWxhdGlvbnNoaXAgRGlhZ3JhbVxuZXJyb3I9RXJyb3JcbmVycm9yRGVsZXRpbmdGaWxlPUVycm9yIGRlbGV0aW5nIGZpbGVcbmVycm9yTG9hZGluZ0ZpbGU9RXJyb3IgbG9hZGluZyBmaWxlXG5lcnJvclJlbmFtaW5nRmlsZT1FcnJvciByZW5hbWluZyBmaWxlXG5lcnJvclJlbmFtaW5nRmlsZU5vdEZvdW5kPUVycm9yIHJlbmFtaW5nIGZpbGUuIEZpbGUgd2FzIG5vdCBmb3VuZC5cbmVycm9yUmVuYW1pbmdGaWxlRm9yYmlkZGVuPUVycm9yIHJlbmFtaW5nIGZpbGUuIEluc3VmZmljaWVudCBhY2Nlc3MgcmlnaHRzLlxuZXJyb3JTYXZpbmdEcmFmdD1FcnJvciBzYXZpbmcgZHJhZnRcbmVycm9yU2F2aW5nRmlsZT1FcnJvciBzYXZpbmcgZmlsZVxuZXJyb3JTYXZpbmdGaWxlVW5rbm93bj1FcnJvciBhdXRob3JpemluZyB3aXRoIEdvb2dsZVwncyBzZXJ2ZXJzLiBQbGVhc2UgcmVmcmVzaCB0aGUgcGFnZSB0byByZS1hdHRlbXB0LlxuZXJyb3JTYXZpbmdGaWxlRm9yYmlkZGVuPUVycm9yIHNhdmluZyBmaWxlLiBJbnN1ZmZpY2llbnQgYWNjZXNzIHJpZ2h0cy5cbmVycm9yU2F2aW5nRmlsZU5hbWVDb25mbGljdD1Db3VsZCBub3Qgc2F2ZSBkaWFncmFtLiBDdXJyZW50IHBhZ2UgYWxyZWFkeSBjb250YWlucyBmaWxlIG5hbWVkIFwnezF9XCcuXG5lcnJvclNhdmluZ0ZpbGVOb3RGb3VuZD1FcnJvciBzYXZpbmcgZmlsZS4gRmlsZSB3YXMgbm90IGZvdW5kLlxuZXJyb3JTYXZpbmdGaWxlUmVhZE9ubHlNb2RlPUNvdWxkIG5vdCBzYXZlIGRpYWdyYW0gd2hpbGUgcmVhZC1vbmx5IG1vZGUgaXMgYWN0aXZlLlxuZXJyb3JTYXZpbmdGaWxlU2Vzc2lvblRpbWVvdXQ9WW91ciBzZXNzaW9uIGhhcyBlbmRlZC4gUGxlYXNlIDxhIHRhcmdldD1cJ19ibGFua1wnIGhyZWY9XCd7MX1cJz57Mn08L2E+IGFuZCByZXR1cm4gdG8gdGhpcyB0YWIgdG8gdHJ5IHRvIHNhdmUgYWdhaW4uXG5lcnJvclNlbmRpbmdGZWVkYmFjaz1FcnJvciBzZW5kaW5nIGZlZWRiYWNrLlxuZXJyb3JVcGRhdGluZ1ByZXZpZXc9RXJyb3IgdXBkYXRpbmcgcHJldmlldy5cbmV4aXQ9RXhpdFxuZXhpdEdyb3VwPUV4aXQgR3JvdXBcbmV4cGFuZD1FeHBhbmRcbmV4cG9ydD1FeHBvcnRcbmV4cG9ydGluZz1FeHBvcnRpbmdcbmV4cG9ydEFzPUV4cG9ydCBhc1xuZXhwb3J0T3B0aW9uc0Rpc2FibGVkPUV4cG9ydCBvcHRpb25zIGRpc2FibGVkXG5leHBvcnRPcHRpb25zRGlzYWJsZWREZXRhaWxzPVRoZSBvd25lciBoYXMgZGlzYWJsZWQgb3B0aW9ucyB0byBkb3dubG9hZCwgcHJpbnQgb3IgY29weSBmb3IgY29tbWVudGVycyBhbmQgdmlld2VycyBvbiB0aGlzIGZpbGUuXG5leHRlcm5hbENoYW5nZXM9RXh0ZXJuYWwgQ2hhbmdlc1xuZXh0cmFzPUV4dHJhc1xuZmFjZWJvb2s9RmFjZWJvb2tcbmZhaWxlZFRvU2F2ZVRyeVJlY29ubmVjdD1GYWlsZWQgdG8gc2F2ZSwgdHJ5aW5nIHRvIHJlY29ubmVjdFxuZmVhdHVyZVJlcXVlc3Q9RmVhdHVyZSBSZXF1ZXN0XG5mZWVkYmFjaz1GZWVkYmFja1xuZmVlZGJhY2tTZW50PUZlZWRiYWNrIHN1Y2Nlc3NmdWxseSBzZW50LlxuZmxvb3JwbGFucz1GbG9vcnBsYW5zXG5maWxlPUZpbGVcbmZpbGVDaGFuZ2VkT3ZlcndyaXRlRGlhbG9nPVRoZSBmaWxlIGhhcyBiZWVuIG1vZGlmaWVkLiBEbyB5b3Ugd2FudCB0byBzYXZlIHRoZSBmaWxlIGFuZCBvdmVyd3JpdGUgdGhvc2UgY2hhbmdlcz9cbmZpbGVDaGFuZ2VkU3luY0RpYWxvZz1UaGUgZmlsZSBoYXMgYmVlbiBtb2RpZmllZC4gRG8geW91IHdhbnQgdG8gc3luY2hyb25pemUgdGhvc2UgY2hhbmdlcz9cbmZpbGVDaGFuZ2VkU3luYz1UaGUgZmlsZSBoYXMgYmVlbiBtb2RpZmllZC4gQ2xpY2sgaGVyZSB0byBzeW5jaHJvbml6ZS5cbm92ZXJ3cml0ZT1PdmVyd3JpdGVcbnN5bmNocm9uaXplPVN5bmNocm9uaXplXG5maWxlbmFtZT1GaWxlbmFtZVxuZmlsZUV4aXN0cz1GaWxlIGFscmVhZHkgZXhpc3RzXG5maWxlTW92ZWRUb1RyYXNoPUZpbGUgd2FzIG1vdmVkIHRvIHRyYXNoXG5maWxlTmVhcmx5RnVsbFNlZUZhcT1GaWxlIG5lYXJseSBmdWxsLCBwbGVhc2Ugc2VlIEZBUVxuZmlsZU5vdEZvdW5kPUZpbGUgbm90IGZvdW5kXG5yZXBvc2l0b3J5Tm90Rm91bmQ9UmVwb3NpdG9yeSBub3QgZm91bmRcbmZpbGVOb3RGb3VuZE9yRGVuaWVkPVRoZSBmaWxlIHdhcyBub3QgZm91bmQuIEl0IGRvZXMgbm90IGV4aXN0IG9yIHlvdSBkbyBub3QgaGF2ZSBhY2Nlc3MuXG5maWxlTm90TG9hZGVkPUZpbGUgbm90IGxvYWRlZFxuZmlsZU5vdFNhdmVkPUZpbGUgbm90IHNhdmVkXG5maWxlT3BlbkxvY2F0aW9uPUhvdyB3b3VsZCB5b3UgbGlrZSB0byBvcGVuIHRoZXNlIGZpbGUocyk/XG5maWxldHlwZUh0bWw9Lmh0bWwgY2F1c2VzIGZpbGUgdG8gc2F2ZSBhcyBIVE1MIHdpdGggcmVkaXJlY3QgdG8gY2xvdWQgVVJMXG5maWxldHlwZVBuZz0ucG5nIGNhdXNlcyBmaWxlIHRvIHNhdmUgYXMgUE5HIHdpdGggZW1iZWRkZWQgZGF0YVxuZmlsZXR5cGVTdmc9LnN2ZyBjYXVzZXMgZmlsZSB0byBzYXZlIGFzIFNWRyB3aXRoIGVtYmVkZGVkIGRhdGFcbmZpbGVXaWxsQmVTYXZlZEluQXBwRm9sZGVyPXsxfSB3aWxsIGJlIHNhdmVkIGluIHRoZSBhcHAgZm9sZGVyLlxuZmlsbD1GaWxsXG5maWxsQ29sb3I9RmlsbCBDb2xvclxuZmlsdGVyQ2FyZHM9RmlsdGVyIENhcmRzXG5maW5kPUZpbmRcbmZpdD1GaXRcbmZpdENvbnRhaW5lcj1SZXNpemUgQ29udGFpbmVyXG5maXRJbnRvQ29udGFpbmVyPUZpdCBpbnRvIENvbnRhaW5lclxuZml0UGFnZT1GaXQgUGFnZVxuZml0UGFnZVdpZHRoPUZpdCBQYWdlIFdpZHRoXG5maXRUbz1GaXQgdG9cbmZpdFRvU2hlZXRzQWNyb3NzPXNoZWV0KHMpIGFjcm9zc1xuZml0VG9CeT1ieVxuZml0VG9TaGVldHNEb3duPXNoZWV0KHMpIGRvd25cbmZpdFR3b1BhZ2VzPVR3byBQYWdlc1xuZml0V2luZG93PUZpdCBXaW5kb3dcbmZsaXA9RmxpcFxuZmxpcEg9RmxpcCBIb3Jpem9udGFsXG5mbGlwVj1GbGlwIFZlcnRpY2FsXG5mbG93Y2hhcnQ9Rmxvd2NoYXJ0XG5mb2xkZXI9Rm9sZGVyXG5mb250PUZvbnRcbmZvbnRDb2xvcj1Gb250IENvbG9yXG5mb250RmFtaWx5PUZvbnQgRmFtaWx5XG5mb250U2l6ZT1Gb250IFNpemVcbmZvcmJpZGRlbj1Zb3UgYXJlIG5vdCBhdXRob3JpemVkIHRvIGFjY2VzcyB0aGlzIGZpbGVcbmZvcm1hdD1Gb3JtYXRcbmZvcm1hdFBhbmVsPUZvcm1hdCBQYW5lbFxuZm9ybWF0dGVkPUZvcm1hdHRlZFxuZm9ybWF0dGVkVGV4dD1Gb3JtYXR0ZWQgVGV4dFxuZm9ybWF0UG5nPVBOR1xuZm9ybWF0R2lmPUdJRlxuZm9ybWF0SnBnPUpQRUdcbmZvcm1hdFBkZj1QREZcbmZvcm1hdFNxbD1TUUxcbmZvcm1hdFN2Zz1TVkdcbmZvcm1hdEh0bWxFbWJlZGRlZD1IVE1MXG5mb3JtYXRTdmdFbWJlZGRlZD1TVkcgKHdpdGggWE1MKVxuZm9ybWF0VnNkeD1WU0RYXG5mb3JtYXRWc3N4PVZTU1hcbmZvcm1hdFhtbFBsYWluPVhNTCAoUGxhaW4pXG5mb3JtYXRYbWw9WE1MXG5mb3J1bT1EaXNjdXNzaW9uL0hlbHAgRm9ydW1zXG5mcmVlaGFuZD1GcmVlaGFuZFxuZnJvbVRlbXBsYXRlPUZyb20gVGVtcGxhdGVcbmZyb21UZW1wbGF0ZVVybD1Gcm9tIFRlbXBsYXRlIFVSTFxuZnJvbVRleHQ9RnJvbSBUZXh0XG5mcm9tVXJsPUZyb20gVVJMXG5mcm9tVGhpc1BhZ2U9RnJvbSB0aGlzIHBhZ2VcbmZ1bGxzY3JlZW49RnVsbHNjcmVlblxuZ2FwPUdhcFxuZ2NwPUdDUFxuZ2VuZXJhbD1HZW5lcmFsXG5naXRodWI9R2l0SHViXG5naXRsYWI9R2l0TGFiXG5nbGlmZnk9R2xpZmZ5XG5nbG9iYWw9R2xvYmFsXG5nb29nbGVEb2NzPUdvb2dsZSBEb2NzXG5nb29nbGVEcml2ZT1Hb29nbGUgRHJpdmVcbmdvb2dsZUdhZGdldD1Hb29nbGUgR2FkZ2V0XG5nb29nbGVQbHVzPUdvb2dsZStcbmdvb2dsZVNoYXJpbmdOb3RBdmFpbGFibGU9U2hhcmluZyBpcyBvbmx5IGF2YWlsYWJsZSB2aWEgR29vZ2xlIERyaXZlLiBQbGVhc2UgY2xpY2sgT3BlbiBiZWxvdyBhbmQgc2hhcmUgZnJvbSB0aGUgbW9yZSBhY3Rpb25zIG1lbnU6XG5nb29nbGVTbGlkZXM9R29vZ2xlIFNsaWRlc1xuZ29vZ2xlU2l0ZXM9R29vZ2xlIFNpdGVzXG5nb29nbGVTaGVldHM9R29vZ2xlIFNoZWV0c1xuZ3JhZGllbnQ9R3JhZGllbnRcbmdyYWRpZW50Q29sb3I9Q29sb3JcbmdyaWQ9R3JpZFxuZ3JpZENvbG9yPUdyaWQgQ29sb3JcbmdyaWRTaXplPUdyaWQgU2l6ZVxuZ3JvdXA9R3JvdXBcbmd1aWRlcz1HdWlkZXNcbmhhdGVBcHA9SSBoYXRlIGRyYXcuaW9cbmhlYWRpbmc9SGVhZGluZ1xuaGVpZ2h0PUhlaWdodFxuaGVscD1IZWxwXG5oZWxwVHJhbnNsYXRlPUhlbHAgdXMgdHJhbnNsYXRlIHRoaXMgYXBwbGljYXRpb25cbmhpZGU9SGlkZVxuaGlkZUl0PUhpZGUgezF9XG5oaWRkZW49SGlkZGVuXG5ob21lPUhvbWVcbmhvcml6b250YWw9SG9yaXpvbnRhbFxuaG9yaXpvbnRhbEZsb3c9SG9yaXpvbnRhbCBGbG93XG5ob3Jpem9udGFsVHJlZT1Ib3Jpem9udGFsIFRyZWVcbmhvd1RyYW5zbGF0ZT1Ib3cgZ29vZCBpcyB0aGUgdHJhbnNsYXRpb24gaW4geW91ciBsYW5ndWFnZT9cbmh0bWw9SFRNTFxuaHRtbFRleHQ9SFRNTCBUZXh0XG5pZD1JRFxuaWZyYW1lPUlGcmFtZVxuaWdub3JlPUlnbm9yZVxuaW1hZ2U9SW1hZ2VcbmltYWdlVXJsPUltYWdlIFVSTFxuaW1hZ2VzPUltYWdlc1xuaW1hZ2VQcmV2aWV3RXJyb3I9VGhpcyBpbWFnZSBjb3VsZG5cJ3QgYmUgbG9hZGVkIGZvciBwcmV2aWV3LiBQbGVhc2UgY2hlY2sgdGhlIFVSTC5cbmltYWdlVG9vQmlnPUltYWdlIHRvbyBiaWdcbmltZ3VyPUltZ3VyXG5pbXBvcnQ9SW1wb3J0XG5pbXBvcnRGcm9tPUltcG9ydCBmcm9tXG5pbmNsdWRlQ29weU9mTXlEaWFncmFtPUluY2x1ZGUgYSBjb3B5IG9mIG15IGRpYWdyYW1cbmluY3JlYXNlSW5kZW50PUluY3JlYXNlIEluZGVudFxuZGVjcmVhc2VJbmRlbnQ9RGVjcmVhc2UgSW5kZW50XG5pbnNlcnQ9SW5zZXJ0XG5pbnNlcnRDb2x1bW5CZWZvcmU9SW5zZXJ0IENvbHVtbiBMZWZ0XG5pbnNlcnRDb2x1bW5BZnRlcj1JbnNlcnQgQ29sdW1uIFJpZ2h0XG5pbnNlcnRFbGxpcHNlPUluc2VydCBFbGxpcHNlXG5pbnNlcnRJbWFnZT1JbnNlcnQgSW1hZ2Vcbmluc2VydEhvcml6b250YWxSdWxlPUluc2VydCBIb3Jpem9udGFsIFJ1bGVcbmluc2VydExpbms9SW5zZXJ0IExpbmtcbmluc2VydFBhZ2U9SW5zZXJ0IFBhZ2Vcbmluc2VydFJlY3RhbmdsZT1JbnNlcnQgUmVjdGFuZ2xlXG5pbnNlcnRSaG9tYnVzPUluc2VydCBSaG9tYnVzXG5pbnNlcnRSb3dCZWZvcmU9SW5zZXJ0IFJvdyBBYm92ZVxuaW5zZXJ0Um93QWZ0ZXI9SW5zZXJ0IFJvdyBBZnRlclxuaW5zZXJ0VGV4dD1JbnNlcnQgVGV4dFxuaW5zZXJ0aW5nPUluc2VydGluZ1xuaW5zdGFsbEFwcD1JbnN0YWxsIEFwcFxuaW52YWxpZEZpbGVuYW1lPURpYWdyYW0gbmFtZXMgbXVzdCBub3QgY29udGFpbiB0aGUgZm9sbG93aW5nIGNoYXJhY3RlcnM6ICAvIHwgOiA7IHsgfSA8ID4gJiArID8gPSAiXG5pbnZhbGlkTGljZW5zZVNlZVRoaXNQYWdlPVlvdXIgbGljZW5zZSBpcyBpbnZhbGlkLCBwbGVhc2Ugc2VlIHRoaXMgPGEgdGFyZ2V0PSJfYmxhbmsiIGhyZWY9Imh0dHBzOi8vc3VwcG9ydC5kcmF3LmlvL2Rpc3BsYXkvREZDUy9MaWNlbnNpbmcreW91citkcmF3LmlvK3BsdWdpbiI+cGFnZTwvYT4uXG5pbnZhbGlkSW5wdXQ9SW52YWxpZCBpbnB1dFxuaW52YWxpZE5hbWU9SW52YWxpZCBuYW1lXG5pbnZhbGlkT3JNaXNzaW5nRmlsZT1JbnZhbGlkIG9yIG1pc3NpbmcgZmlsZVxuaW52YWxpZFB1YmxpY1VybD1JbnZhbGlkIHB1YmxpYyBVUkxcbmlzb21ldHJpYz1Jc29tZXRyaWNcbmlvcz1pT1Ncbml0YWxpYz1JdGFsaWNcbmtlbm5lZHk9S2VubmVkeVxua2V5Ym9hcmRTaG9ydGN1dHM9S2V5Ym9hcmQgU2hvcnRjdXRzXG5sYXllcnM9TGF5ZXJzXG5sYW5kc2NhcGU9TGFuZHNjYXBlXG5sYW5ndWFnZT1MYW5ndWFnZVxubGVhbk1hcHBpbmc9TGVhbiBNYXBwaW5nXG5sYXN0Q2hhbmdlPUxhc3QgY2hhbmdlIHsxfSBhZ29cbmxlc3NUaGFuQU1pbnV0ZT1sZXNzIHRoYW4gYSBtaW51dGVcbmxpY2Vuc2luZ0Vycm9yPUxpY2Vuc2luZyBFcnJvclxubGljZW5zZUhhc0V4cGlyZWQ9VGhlIGxpY2Vuc2UgZm9yIHsxfSBoYXMgZXhwaXJlZCBvbiB7Mn0uIENsaWNrIGhlcmUuXG5saWNlbnNlV2lsbEV4cGlyZT1UaGUgbGljZW5zZSBmb3IgezF9IHdpbGwgZXhwaXJlIG9uIHsyfS4gQ2xpY2sgaGVyZS5cbmxpbmVKdW1wcz1MaW5lIGp1bXBzXG5saW5rQWNjb3VudFJlcXVpcmVkPUlmIHRoZSBkaWFncmFtIGlzIG5vdCBwdWJsaWMgYSBHb29nbGUgYWNjb3VudCBpcyByZXF1aXJlZCB0byB2aWV3IHRoZSBsaW5rLlxubGlua1RleHQ9TGluayBUZXh0XG5saXN0PUxpc3Rcbm1pbnV0ZT1taW51dGVcbm1pbnV0ZXM9bWludXRlc1xuaG91cnM9aG91cnNcbmRheXM9ZGF5c1xubW9udGhzPW1vbnRoc1xueWVhcnM9eWVhcnNcbnJlc3RhcnRGb3JDaGFuZ2VSZXF1aXJlZD1DaGFuZ2VzIHdpbGwgdGFrZSBlZmZlY3QgYWZ0ZXIgYSByZXN0YXJ0IG9mIHRoZSBhcHBsaWNhdGlvbi5cbmxhbmVDb2xvcj1MYW5lY29sb3Jcbmxhc3RNb2RpZmllZD1MYXN0IG1vZGlmaWVkXG5sYXlvdXQ9TGF5b3V0XG5sZWZ0PUxlZnRcbmxlZnRBbGlnbj1MZWZ0IEFsaWduXG5sZWZ0VG9SaWdodD1MZWZ0IHRvIHJpZ2h0XG5saWJyYXJ5VG9vbHRpcD1EcmFnIGFuZCBkcm9wIHNoYXBlcyBoZXJlIG9yIGNsaWNrICsgdG8gaW5zZXJ0LiBEb3VibGUgY2xpY2sgdG8gZWRpdC5cbmxpZ2h0Ym94PUxpZ2h0Ym94XG5saW5lPUxpbmVcbmxpbmVlbmQ9TGluZSBlbmRcbmxpbmVoZWlnaHQ9TGluZSBIZWlnaHRcbmxpbmVzdGFydD1MaW5lIHN0YXJ0XG5saW5ld2lkdGg9TGluZXdpZHRoXG5saW5rPUxpbmtcbmxpbmtzPUxpbmtzXG5sb2FkaW5nPUxvYWRpbmdcbmxvY2tVbmxvY2s9TG9jay9VbmxvY2tcbmxvZ2dlZE91dD1Mb2dnZWQgT3V0XG5sb2dJbj1sb2cgaW5cbmxvdmVJdD1JIGxvdmUgezF9XG5sdWNpZGNoYXJ0PUx1Y2lkY2hhcnRcbm1hcHM9TWFwc1xubWF0aGVtYXRpY2FsVHlwZXNldHRpbmc9TWF0aGVtYXRpY2FsIFR5cGVzZXR0aW5nXG5tYWtlQ29weT1NYWtlIGEgQ29weVxubWFudWFsPU1hbnVhbFxubWVybWFpZD1NZXJtYWlkXG5taWNyb3NvZnRPZmZpY2U9TWljcm9zb2Z0IE9mZmljZVxubWljcm9zb2Z0RXhjZWw9TWljcm9zb2Z0IEV4Y2VsXG5taWNyb3NvZnRQb3dlclBvaW50PU1pY3Jvc29mdCBQb3dlclBvaW50XG5taWNyb3NvZnRXb3JkPU1pY3Jvc29mdCBXb3JkXG5taWRkbGU9TWlkZGxlXG5taW5pbWFsPU1pbmltYWxcbm1pc2M9TWlzY1xubW9ja3Vwcz1Nb2NrdXBzXG5tb2RpZmljYXRpb25EYXRlPU1vZGlmaWNhdGlvbiBkYXRlXG5tb2RpZmllZEJ5PU1vZGlmaWVkIGJ5XG5tb3JlPU1vcmVcbm1vcmVSZXN1bHRzPU1vcmUgUmVzdWx0c1xubW9yZVNoYXBlcz1Nb3JlIFNoYXBlc1xubW92ZT1Nb3ZlXG5tb3ZlVG9Gb2xkZXI9TW92ZSB0byBGb2xkZXJcbm1vdmluZz1Nb3Zpbmdcbm1vdmVTZWxlY3Rpb25Ubz1Nb3ZlIHNlbGVjdGlvbiB0byB7MX1cbm5hbWU9TmFtZVxubmF2aWdhdGlvbj1OYXZpZ2F0aW9uXG5uZXR3b3JrPU5ldHdvcmtcbm5ldHdvcmtpbmc9TmV0d29ya2luZ1xubmV3PU5ld1xubmV3TGlicmFyeT1OZXcgTGlicmFyeVxubmV4dFBhZ2U9TmV4dCBQYWdlXG5ubz1Ob1xubm9QaWNrRm9sZGVyPU5vLCBwaWNrIGZvbGRlclxubm9BdHRhY2htZW50cz1ObyBhdHRhY2htZW50cyBmb3VuZFxubm9Db2xvcj1ObyBDb2xvclxubm9GaWxlcz1ObyBGaWxlc1xubm9GaWxlU2VsZWN0ZWQ9Tm8gZmlsZSBzZWxlY3RlZFxubm9MaWJyYXJpZXM9Tm8gbGlicmFyaWVzIGZvdW5kXG5ub01vcmVSZXN1bHRzPU5vIG1vcmUgcmVzdWx0c1xubm9uZT1Ob25lXG5ub090aGVyVmlld2Vycz1ObyBvdGhlciB2aWV3ZXJzXG5ub1BsdWdpbnM9Tm8gcGx1Z2luc1xubm9QcmV2aWV3PU5vIHByZXZpZXdcbm5vUmVzcG9uc2U9Tm8gcmVzcG9uc2UgZnJvbSBzZXJ2ZXJcbm5vUmVzdWx0c0Zvcj1ObyByZXN1bHRzIGZvciBcJ3sxfVwnXG5ub1JldmlzaW9ucz1ObyByZXZpc2lvbnNcbm5vU2VhcmNoUmVzdWx0cz1ObyBzZWFyY2ggcmVzdWx0cyBmb3VuZFxubm9QYWdlQ29udGVudE9yTm90U2F2ZWQ9Tm8gYW5jaG9ycyBmb3VuZCBvbiB0aGlzIHBhZ2Ugb3IgaXQgaGFzblwndCBiZWVuIHNhdmVkIHlldFxubm9ybWFsPU5vcm1hbFxubm9ydGg9Tm9ydGhcbm5vdEFEaWFncmFtRmlsZT1Ob3QgYSBkaWFncmFtIGZpbGVcbm5vdEFMaWJyYXJ5RmlsZT1Ob3QgYSBsaWJyYXJ5IGZpbGVcbm5vdEF2YWlsYWJsZT1Ob3QgYXZhaWxhYmxlXG5ub3RBVXRmOEZpbGU9Tm90IGEgVVRGLTggZmlsZVxubm90Q29ubmVjdGVkPU5vdCBjb25uZWN0ZWRcbm5vdGU9Tm90ZVxubm90U2F0aXNmaWVkV2l0aEltcG9ydD1Ob3Qgc2F0aXNmaWVkIHdpdGggdGhlIGltcG9ydD9cbm5vdFVzaW5nU2VydmljZT1Ob3QgdXNpbmcgezF9P1xubnVtYmVyZWRMaXN0PU51bWJlcmVkIGxpc3Rcbm9mZmxpbmU9T2ZmbGluZVxub2s9T0tcbm9uZURyaXZlPU9uZURyaXZlXG5vbmxpbmU9T25saW5lXG5vcGFjaXR5PU9wYWNpdHlcbm9wZW49T3Blblxub3BlbkFycm93PU9wZW4gQXJyb3dcbm9wZW5FeGlzdGluZ0RpYWdyYW09T3BlbiBFeGlzdGluZyBEaWFncmFtXG5vcGVuRmlsZT1PcGVuIEZpbGVcbm9wZW5Gcm9tPU9wZW4gZnJvbVxub3BlbkxpYnJhcnk9T3BlbiBMaWJyYXJ5XG5vcGVuTGlicmFyeUZyb209T3BlbiBMaWJyYXJ5IGZyb21cbm9wZW5MaW5rPU9wZW4gTGlua1xub3BlbkluTmV3V2luZG93PU9wZW4gaW4gTmV3IFdpbmRvd1xub3BlbkluVGhpc1dpbmRvdz1PcGVuIGluIFRoaXMgV2luZG93XG5vcGVuSXQ9T3BlbiB7MX1cbm9wZW5SZWNlbnQ9T3BlbiBSZWNlbnRcbm9wZW5TdXBwb3J0ZWQ9U3VwcG9ydGVkIGZvcm1hdHMgYXJlIGZpbGVzIHNhdmVkIGZyb20gdGhpcyBzb2Z0d2FyZSAoLnhtbCksIC52c2R4IGFuZCAuZ2xpZmZ5XG5vcHRpb25zPU9wdGlvbnNcbm9yZ2FuaWM9T3JnYW5pY1xub3JnQ2hhcnQ9T3JnIENoYXJ0XG5vcnRob2dvbmFsPU9ydGhvZ29uYWxcbm90aGVyVmlld2VyPW90aGVyIHZpZXdlclxub3RoZXJWaWV3ZXJzPW90aGVyIHZpZXdlcnNcbm91dGxpbmU9T3V0bGluZVxub3ZhbD1PdmFsXG5wYWdlPVBhZ2VcbnBhZ2VDb250ZW50PVBhZ2UgQ29udGVudFxucGFnZU5vdEZvdW5kPVBhZ2Ugbm90IGZvdW5kXG5wYWdlV2l0aE51bWJlcj1QYWdlLXsxfVxucGFnZXM9UGFnZXNcbnBhZ2VWaWV3PVBhZ2UgVmlld1xucGFnZVNldHVwPVBhZ2UgU2V0dXBcbnBhZ2VTY2FsZT1QYWdlIFNjYWxlXG5wYW49UGFuXG5wYW5Ub29sdGlwPVNwYWNlK0RyYWcgdG8gcGFuXG5wYXBlclNpemU9UGFwZXIgU2l6ZVxucGF0dGVybj1QYXR0ZXJuXG5wYXN0ZT1QYXN0ZVxucGFzdGVIZXJlPVBhc3RlIGhlcmVcbnBhc3RlU2l6ZT1QYXN0ZSBTaXplXG5wYXN0ZVN0eWxlPVBhc3RlIFN0eWxlXG5wZXJpbWV0ZXI9UGVyaW1ldGVyXG5wZXJtaXNzaW9uQW55b25lPUFueW9uZSBjYW4gZWRpdFxucGVybWlzc2lvbkF1dGhvcj1Pd25lciBhbmQgYWRtaW5zIGNhbiBlZGl0XG5waWNrRm9sZGVyPVBpY2sgYSBmb2xkZXJcbnBpY2tMaWJyYXJ5RGlhbG9nVGl0bGU9U2VsZWN0IExpYnJhcnlcbnB1YmxpY0RpYWdyYW1Vcmw9UHVibGljIFVSTCBvZiB0aGUgZGlhZ3JhbVxucGxhY2Vob2xkZXJzPVBsYWNlaG9sZGVyc1xucGxhbnRVbWw9UGxhbnRVTUxcbnBsdWdpbnM9UGx1Z2luc1xucGx1Z2luVXJsPVBsdWdpbiBVUkxcbnBsdWdpbldhcm5pbmc9VGhlIHBhZ2UgaGFzIHJlcXVlc3RlZCB0byBsb2FkIHRoZSBmb2xsb3dpbmcgcGx1Z2luKHMpOlxuIFxuIHsxfVxuIFxuIFdvdWxkIHlvdSBsaWtlIHRvIGxvYWQgdGhlc2UgcGx1Z2luKHMpIG5vdz9cbiBcbiBOT1RFIDogT25seSBhbGxvdyBwbHVnaW5zIHRvIHJ1biBpZiB5b3UgZnVsbHkgdW5kZXJzdGFuZCB0aGUgc2VjdXJpdHkgaW1wbGljYXRpb25zIG9mIGRvaW5nIHNvLlxuXG5wbHVzVG9vbHRpcD1DbGljayB0byBjb25uZWN0IGFuZCBjbG9uZSAoY3RybCtjbGljayB0byBjbG9uZSwgc2hpZnQrY2xpY2sgdG8gY29ubmVjdCkuIERyYWcgdG8gY29ubmVjdCAoY3RybCtkcmFnIHRvIGNsb25lKS5cbnBvcnRyYWl0PVBvcnRyYWl0XG5wb3NpdGlvbj1Qb3NpdGlvblxucG9zdGVyUHJpbnQ9UG9zdGVyIFByaW50XG5wcmVmZXJlbmNlcz1QcmVmZXJlbmNlc1xucHJldmlldz1QcmV2aWV3XG5wcmV2aW91c1BhZ2U9UHJldmlvdXMgUGFnZVxucHJpbnQ9UHJpbnRcbnByaW50QWxsUGFnZXM9UHJpbnQgQWxsIFBhZ2VzXG5wcm9jRW5nPVByb2MuIEVuZy5cbnByb2plY3Q9UHJvamVjdFxucHJpb3JpdHk9UHJpb3JpdHlcbnByb3BlcnRpZXM9UHJvcGVydGllc1xucHVibGlzaD1QdWJsaXNoXG5xdWlja1N0YXJ0PVF1aWNrIFN0YXJ0IFZpZGVvXG5yYWNrPVJhY2tcbnJhZGlhbFRyZWU9UmFkaWFsIFRyZWVcbnJlYWRPbmx5PVJlYWQtb25seVxucmVjb25uZWN0aW5nPVJlY29ubmVjdGluZ1xucmVjZW50bHlVcGRhdGVkPVJlY2VudGx5IFVwZGF0ZWRcbnJlY2VudGx5Vmlld2VkPVJlY2VudGx5IFZpZXdlZFxucmVjdGFuZ2xlPVJlY3RhbmdsZVxucmVkaXJlY3RUb05ld0FwcD1UaGlzIGZpbGUgd2FzIGNyZWF0ZWQgb3IgbW9kaWZpZWQgaW4gYSBuZXdlciB2ZXJzaW9uIG9mIHRoaXMgYXBwLiBZb3Ugd2lsbCBiZSByZWRpcmVjdGVkIG5vdy5cbnJlYWx0aW1lVGltZW91dD1JdCBsb29rcyBsaWtlIHlvdVwndmUgbWFkZSBhIGZldyBjaGFuZ2VzIHdoaWxlIG9mZmxpbmUuIFdlXCdyZSBzb3JyeSwgdGhlc2UgY2hhbmdlcyBjYW5ub3QgYmUgc2F2ZWQuXG5yZWRvPVJlZG9cbnJlZnJlc2g9UmVmcmVzaFxucmVndWxhckV4cHJlc3Npb249UmVndWxhciBFeHByZXNzaW9uXG5yZWxhdGl2ZT1SZWxhdGl2ZVxucmVsYXRpdmVVcmxOb3RBbGxvd2VkPVJlbGF0aXZlIFVSTCBub3QgYWxsb3dlZFxucmVtZW1iZXJNZT1SZW1lbWJlciBtZVxucmVtZW1iZXJUaGlzU2V0dGluZz1SZW1lbWJlciB0aGlzIHNldHRpbmdcbnJlbW92ZUZvcm1hdD1DbGVhciBGb3JtYXR0aW5nXG5yZW1vdmVGcm9tR3JvdXA9UmVtb3ZlIGZyb20gR3JvdXBcbnJlbW92ZUl0PVJlbW92ZSB7MX1cbnJlbW92ZVdheXBvaW50PVJlbW92ZSBXYXlwb2ludFxucmVuYW1lPVJlbmFtZVxucmVuYW1lZD1SZW5hbWVkXG5yZW5hbWVJdD1SZW5hbWUgezF9XG5yZW5hbWluZz1SZW5hbWluZ1xucmVwbGFjZT1SZXBsYWNlXG5yZXBsYWNlSXQ9ezF9IGFscmVhZHkgZXhpc3RzLiBEbyB5b3Ugd2FudCB0byByZXBsYWNlIGl0P1xucmVwbGFjZUV4aXN0aW5nRHJhd2luZz1SZXBsYWNlIGV4aXN0aW5nIGRyYXdpbmdcbnJlcXVpcmVkPXJlcXVpcmVkXG5yZXNldD1SZXNldFxucmVzZXRWaWV3PVJlc2V0IFZpZXdcbnJlc2l6ZT1SZXNpemVcbnJlc2l6ZUxhcmdlSW1hZ2VzPURvIHlvdSB3YW50IHRvIHJlc2l6ZSBsYXJnZSBpbWFnZXMgdG8gbWFrZSB0aGUgYXBwbGljYXRpb24gcnVuIGZhc3Rlcj9cbnJldGluYT1SZXRpbmFcbnJlc3BvbnNpdmU9UmVzcG9uc2l2ZVxucmVzdG9yZT1SZXN0b3JlXG5yZXN0b3Jpbmc9UmVzdG9yaW5nXG5yZXRyeWluZ0luPVJldHJ5aW5nIGluIHsxfSBzZWNvbmQocylcbnJldHJ5aW5nTG9hZD1Mb2FkIGZhaWxlZC4gUmV0cnlpbmcuLi5cbnJldHJ5aW5nTG9naW49TG9naW4gdGltZSBvdXQuIFJldHJ5aW5nLi4uXG5yZXZlcnNlPVJldmVyc2VcbnJldmlzaW9uPVJldmlzaW9uXG5yZXZpc2lvbkhpc3Rvcnk9UmV2aXNpb24gSGlzdG9yeVxucmhvbWJ1cz1SaG9tYnVzXG5yaWdodD1SaWdodFxucmlnaHRBbGlnbj1SaWdodCBBbGlnblxucmlnaHRUb0xlZnQ9UmlnaHQgdG8gbGVmdFxucm90YXRlPVJvdGF0ZVxucm90YXRlVG9vbHRpcD1DbGljayBhbmQgZHJhZyB0byByb3RhdGUsIGNsaWNrIHRvIHR1cm4gc2hhcGUgb25seSBieSA5MCBkZWdyZWVzXG5yb3RhdGlvbj1Sb3RhdGlvblxucm91bmRlZD1Sb3VuZGVkXG5zYXZlPVNhdmVcbnNhdmVBbmRFeGl0PVNhdmUgJiBFeGl0XG5zYXZlQXM9U2F2ZSBhc1xuc2F2ZUFzWG1sRmlsZT1TYXZlIGFzIFhNTCBmaWxlP1xuc2F2ZWQ9U2F2ZWRcbnNhdmVEaWFncmFtRmlyc3Q9UGxlYXNlIHNhdmUgdGhlIGRpYWdyYW0gZmlyc3RcbnNhdmVEaWFncmFtc1RvPVNhdmUgZGlhZ3JhbXMgdG9cbnNhdmVMaWJyYXJ5NDAzPUluc3VmZmljaWVudCBwZXJtaXNzaW9ucyB0byBlZGl0IHRoaXMgbGlicmFyeVxuc2F2ZUxpYnJhcnk1MDA9VGhlcmUgd2FzIGFuIGVycm9yIHdoaWxlIHNhdmluZyB0aGUgbGlicmFyeVxuc2F2ZUxpYnJhcnlSZWFkT25seT1Db3VsZCBub3Qgc2F2ZSBsaWJyYXJ5IHdoaWxlIHJlYWQtb25seSBtb2RlIGlzIGFjdGl2ZVxuc2F2aW5nPVNhdmluZ1xuc2NyYXRjaHBhZD1TY3JhdGNocGFkXG5zY3JvbGxiYXJzPVNjcm9sbGJhcnNcbnNlYXJjaD1TZWFyY2hcbnNlYXJjaFNoYXBlcz1TZWFyY2ggU2hhcGVzXG5zZWxlY3RBbGw9U2VsZWN0IEFsbFxuc2VsZWN0aW9uT25seT1TZWxlY3Rpb24gT25seVxuc2VsZWN0Q2FyZD1TZWxlY3QgQ2FyZFxuc2VsZWN0RWRnZXM9U2VsZWN0IEVkZ2VzXG5zZWxlY3RGaWxlPVNlbGVjdCBGaWxlXG5zZWxlY3RGb2xkZXI9U2VsZWN0IEZvbGRlclxuc2VsZWN0Rm9udD1TZWxlY3QgRm9udFxuc2VsZWN0Tm9uZT1TZWxlY3QgTm9uZVxuc2VsZWN0VGVtcGxhdGU9U2VsZWN0IFRlbXBsYXRlXG5zZWxlY3RWZXJ0aWNlcz1TZWxlY3QgVmVydGljZXNcbnNlbmRNZXNzYWdlPVNlbmRcbnNlbmRZb3VyRmVlZGJhY2s9U2VuZCB5b3VyIGZlZWRiYWNrXG5zZXJ2aWNlVW5hdmFpbGFibGVPckJsb2NrZWQ9U2VydmljZSB1bmF2YWlsYWJsZSBvciBibG9ja2VkXG5zZXNzaW9uRXhwaXJlZD1Zb3VyIHNlc3Npb24gaGFzIGV4cGlyZWQuIFBsZWFzZSByZWZyZXNoIHRoZSBicm93c2VyIHdpbmRvdy5cbnNlc3Npb25UaW1lb3V0T25TYXZlPVlvdXIgc2Vzc2lvbiBoYXMgdGltZWQgb3V0IGFuZCB5b3UgaGF2ZSBiZWVuIGRpc2Nvbm5lY3RlZCBmcm9tIHRoZSBHb29nbGUgRHJpdmUuIFByZXNzIE9LIHRvIGxvZ2luIGFuZCBzYXZlLiBcbnNldEFzRGVmYXVsdFN0eWxlPVNldCBhcyBEZWZhdWx0IFN0eWxlXG5zaGFkb3c9U2hhZG93XG5zaGFwZT1TaGFwZVxuc2hhcGVzPVNoYXBlc1xuc2hhcmU9U2hhcmVcbnNoYXJlTGluaz1MaW5rIGZvciBzaGFyZWQgZWRpdGluZ1xuc2hhcnA9U2hhcnBcbnNob3c9U2hvd1xuc2hvd1N0YXJ0U2NyZWVuPVNob3cgU3RhcnQgU2NyZWVuXG5zaWRlYmFyVG9vbHRpcD1DbGljayB0byBleHBhbmQuIERyYWcgYW5kIGRyb3Agc2hhcGVzIGludG8gdGhlIGRpYWdyYW0uIFNoaWZ0K2NsaWNrIHRvIGNoYW5nZSBzZWxlY3Rpb24uIEFsdCtjbGljayB0byBpbnNlcnQgYW5kIGNvbm5lY3QuXG5zaWducz1TaWduc1xuc2lnbk91dD1TaWduIG91dFxuc2ltcGxlPVNpbXBsZVxuc2ltcGxlQXJyb3c9U2ltcGxlIEFycm93XG5zaW1wbGVWaWV3ZXI9U2ltcGxlIFZpZXdlclxuc2l6ZT1TaXplXG5za2V0Y2g9U2tldGNoXG5zb2xpZD1Tb2xpZFxuc291cmNlU3BhY2luZz1Tb3VyY2UgU3BhY2luZ1xuc291dGg9U291dGhcbnNvZnR3YXJlPVNvZnR3YXJlXG5zcGFjZT1TcGFjZVxuc3BhY2luZz1TcGFjaW5nXG5zcGVjaWFsTGluaz1TcGVjaWFsIExpbmtcbnN0YW5kYXJkPVN0YW5kYXJkXG5zdGFydERyYXdpbmc9U3RhcnQgZHJhd2luZ1xuc3RvcERyYXdpbmc9U3RvcCBkcmF3aW5nXG5zdGFydGluZz1TdGFydGluZ1xuc3RyYWlnaHQ9U3RyYWlnaHRcbnN0cmlrZXRocm91Z2g9U3RyaWtldGhyb3VnaFxuc3Ryb2tlQ29sb3I9TGluZSBDb2xvclxuc3R5bGU9U3R5bGVcbnN1YnNjcmlwdD1TdWJzY3JpcHRcbnN1bW1hcnk9U3VtbWFyeVxuc3VwZXJzY3JpcHQ9U3VwZXJzY3JpcHRcbnN1cHBvcnQ9U3VwcG9ydFxuc3dpbWxhbmVEaWFncmFtPVN3aW1sYW5lIERpYWdyYW1cbnN5c21sPVN5c01MXG50YWdzPVRhZ3NcbnRhYmxlPVRhYmxlXG50YWJsZXM9VGFibGVzXG50YWtlT3Zlcj1UYWtlIE92ZXJcbnRhcmdldFNwYWNpbmc9VGFyZ2V0IFNwYWNpbmdcbnRlbXBsYXRlPVRlbXBsYXRlXG50ZW1wbGF0ZXM9VGVtcGxhdGVzXG50ZXh0PVRleHRcbnRleHRBbGlnbm1lbnQ9VGV4dCBBbGlnbm1lbnRcbnRleHRPcGFjaXR5PVRleHQgT3BhY2l0eVxudGhlbWU9VGhlbWVcbnRpbWVvdXQ9VGltZW91dFxudGl0bGU9VGl0bGVcbnRvPXRvXG50b0JhY2s9VG8gQmFja1xudG9Gcm9udD1UbyBGcm9udFxudG9vbGJhcj1Ub29sYmFyXG50b29sdGlwcz1Ub29sdGlwc1xudG9wPVRvcFxudG9wQWxpZ249VG9wIEFsaWduXG50b3BMZWZ0PVRvcCBMZWZ0XG50b3BSaWdodD1Ub3AgUmlnaHRcbnRyYW5zcGFyZW50PVRyYW5zcGFyZW50XG50cmFuc3BhcmVudEJhY2tncm91bmQ9VHJhbnNwYXJlbnQgQmFja2dyb3VuZFxudHJlbGxvPVRyZWxsb1xudHJ5QWdhaW49VHJ5IGFnYWluXG50cnlPcGVuaW5nVmlhVGhpc1BhZ2U9VHJ5IG9wZW5pbmcgdmlhIHRoaXMgcGFnZVxudHVybj1Sb3RhdGUgc2hhcGUgb25seSBieSA5MMKwXG50eXBlPVR5cGVcbnR3aXR0ZXI9VHdpdHRlclxudW1sPVVNTFxudW5kZXJsaW5lPVVuZGVybGluZVxudW5kbz1VbmRvXG51bmdyb3VwPVVuZ3JvdXBcbnVuc2F2ZWRDaGFuZ2VzPVVuc2F2ZWQgY2hhbmdlc1xudW5zYXZlZENoYW5nZXNDbGlja0hlcmVUb1NhdmU9VW5zYXZlZCBjaGFuZ2VzLiBDbGljayBoZXJlIHRvIHNhdmUuXG51bnRpdGxlZD1VbnRpdGxlZFxudW50aXRsZWREaWFncmFtPVVudGl0bGVkIERpYWdyYW1cbnVudGl0bGVkTGF5ZXI9VW50aXRsZWQgTGF5ZXJcbnVudGl0bGVkTGlicmFyeT1VbnRpdGxlZCBMaWJyYXJ5XG51bmtub3duRXJyb3I9VW5rbm93biBlcnJvclxudXBkYXRlRmlsZT1VcGRhdGUgezF9XG51cGRhdGluZ0RvY3VtZW50PVVwZGF0aW5nIERvY3VtZW50LiBQbGVhc2Ugd2FpdC4uLlxudXBkYXRpbmdQcmV2aWV3PVVwZGF0aW5nIFByZXZpZXcuIFBsZWFzZSB3YWl0Li4uXG51cGRhdGluZ1NlbGVjdGlvbj1VcGRhdGluZyBTZWxlY3Rpb24uIFBsZWFzZSB3YWl0Li4uXG51cGxvYWQ9VXBsb2FkXG51cmw9VVJMXG51c2VPZmZsaW5lPVVzZSBPZmZsaW5lXG51c2VSb290Rm9sZGVyPVVzZSByb290IGZvbGRlcj9cbnVzZXJNYW51YWw9VXNlciBNYW51YWxcbnZlcnRpY2FsPVZlcnRpY2FsXG52ZXJ0aWNhbEZsb3c9VmVydGljYWwgRmxvd1xudmVydGljYWxUcmVlPVZlcnRpY2FsIFRyZWVcbnZpZXc9Vmlld1xudmlld2VyU2V0dGluZ3M9Vmlld2VyIFNldHRpbmdzXG52aWV3VXJsPUxpbmsgdG8gdmlldzogezF9XG52b2ljZUFzc2lzdGFudD1Wb2ljZSBBc3Npc3RhbnQgKGJldGEpXG53YXJuaW5nPVdhcm5pbmdcbndheXBvaW50cz1XYXlwb2ludHNcbndlc3Q9V2VzdFxud2lkdGg9V2lkdGhcbndpa2k9V2lraVxud29yZFdyYXA9V29yZCBXcmFwXG53cml0aW5nRGlyZWN0aW9uPVdyaXRpbmcgRGlyZWN0aW9uXG55ZXM9WWVzXG55b3VyRW1haWxBZGRyZXNzPVlvdXIgZW1haWwgYWRkcmVzc1xuem9vbT1ab29tXG56b29tSW49Wm9vbSBJblxuem9vbU91dD1ab29tIE91dFxuYmFzaWM9QmFzaWNcbmJ1c2luZXNzcHJvY2Vzcz1CdXNpbmVzcyBQcm9jZXNzZXNcbmNoYXJ0cz1DaGFydHNcbmVuZ2luZWVyaW5nPUVuZ2luZWVyaW5nXG5mbG93Y2hhcnRzPUZsb3djaGFydHNcbmdtZGw9TWF0ZXJpYWwgRGVzaWduXG5taW5kbWFwcz1NaW5kbWFwc1xubW9ja3Vwcz1Nb2NrdXBzXG5uZXR3b3JrZGlhZ3JhbXM9TmV0d29yayBEaWFncmFtc1xubm90aGluZ0lzU2VsZWN0ZWQ9Tm90aGluZyBpcyBzZWxlY3RlZFxub3RoZXI9T3RoZXJcbnNvZnR3YXJlZGVzaWduPVNvZnR3YXJlIERlc2lnblxudmVubmRpYWdyYW1zPVZlbm4gRGlhZ3JhbXNcbndlYkVtYWlsT3JPdGhlcj1XZWIsIGVtYWlsIG9yIGFueSBvdGhlciBpbnRlcm5ldCBhZGRyZXNzXG53ZWJMaW5rPVdlYiBMaW5rXG53aXJlZnJhbWVzPVdpcmVmcmFtZXNcbnByb3BlcnR5PVByb3BlcnR5XG52YWx1ZT1WYWx1ZVxuc2hvd01vcmU9U2hvdyBNb3JlXG5zaG93TGVzcz1TaG93IExlc3Ncbm15RGlhZ3JhbXM9TXkgRGlhZ3JhbXNcbmFsbERpYWdyYW1zPUFsbCBEaWFncmFtc1xucmVjZW50bHlVc2VkPVJlY2VudGx5IHVzZWRcbmxpc3RWaWV3PUxpc3Qgdmlld1xuZ3JpZFZpZXc9R3JpZCB2aWV3XG5yZXN1bHRzRm9yPVJlc3VsdHMgZm9yIFwnezF9XCdcbm9uZURyaXZlQ2hhcnNOb3RBbGxvd2VkPVRoZSBmb2xsb3dpbmcgY2hhcmFjdGVycyBhcmUgbm90IGFsbG93ZWQ6IH4gIiAjICUgICogOiA8ID4gPyAvICB7IHwgfVxub25lRHJpdmVJbnZhbGlkRGV2aWNlTmFtZT1UaGUgc3BlY2lmaWVkIGRldmljZSBuYW1lIGlzIGludmFsaWRcbm9mZmljZU5vdExvZ2dlZE9EPVlvdSBhcmUgbm90IGxvZ2dlZCBpbiB0byBPbmVEcml2ZS4gUGxlYXNlIG9wZW4gZHJhdy5pbyB0YXNrIHBhbmUgYW5kIGxvZ2luIGZpcnN0Llxub2ZmaWNlU2VsZWN0U2luZ2xlRGlhZz1QbGVhc2Ugc2VsZWN0IGEgc2luZ2xlIGRyYXcuaW8gZGlhZ3JhbSBvbmx5IHdpdGhvdXQgb3RoZXIgY29udGVudHMuXG5vZmZpY2VTZWxlY3REaWFnPVBsZWFzZSBzZWxlY3QgYSBkcmF3LmlvIGRpYWdyYW0uXG5vZmZpY2VDYW5ub3RGaW5kRGlhZ3JhbT1DYW5ub3QgZmluZCBhIGRyYXcuaW8gZGlhZ3JhbSBpbiB0aGUgc2VsZWN0aW9uXG5ub0RpYWdyYW1zPU5vIGRpYWdyYW1zIGZvdW5kXG5hdXRoRmFpbGVkPUF1dGhlbnRpY2F0aW9uIGZhaWxlZFxub2ZmaWNlRmFpbGVkQXV0aE1zZz1VbmFibGUgdG8gc3VjY2Vzc2Z1bGx5IGF1dGhlbnRpY2F0ZSB1c2VyIG9yIGF1dGhvcml6ZSBhcHBsaWNhdGlvbi5cbmNvbnZlcnRpbmdEaWFncmFtRmFpbGVkPUNvbnZlcnRpbmcgZGlhZ3JhbSBmYWlsZWRcbm9mZmljZUNvcHlJbWdFcnJNc2c9RHVlIHRvIHNvbWUgbGltaXRhdGlvbnMgaW4gdGhlIGhvc3QgYXBwbGljYXRpb24sIHRoZSBpbWFnZSBjb3VsZCBub3QgYmUgaW5zZXJ0ZWQuIFBsZWFzZSBtYW51YWxseSBjb3B5IHRoZSBpbWFnZSB0aGVuIHBhc3RlIGl0IHRvIHRoZSBkb2N1bWVudC5cbmluc2VydGluZ0ltYWdlRmFpbGVkPUluc2VydGluZyBpbWFnZSBmYWlsZWRcbm9mZmljZUNvcHlJbWdJbnN0PUluc3RydWN0aW9uczogUmlnaHQtY2xpY2sgdGhlIGltYWdlIGJlbG93LiBTZWxlY3QgIkNvcHkgaW1hZ2UiIGZyb20gdGhlIGNvbnRleHQgbWVudS4gVGhlbiwgaW4gdGhlIGRvY3VtZW50LCByaWdodC1jbGljayBhbmQgc2VsZWN0ICJQYXN0ZSIgZnJvbSB0aGUgY29udGV4dCBtZW51LlxuZm9sZGVyRW1wdHk9Rm9sZGVyIGlzIGVtcHR5XG5yZWNlbnQ9UmVjZW50XG5zaGFyZWRXaXRoTWU9U2hhcmVkIFdpdGggTWVcbnNoYXJlcG9pbnRTaXRlcz1TaGFyZXBvaW50IFNpdGVzXG5lcnJvckZldGNoaW5nRm9sZGVyPUVycm9yIGZldGNoaW5nIGZvbGRlciBpdGVtc1xuZXJyb3JBdXRoT0Q9RXJyb3IgYXV0aGVudGljYXRpbmcgdG8gT25lRHJpdmVcbm9mZmljZU1haW5IZWFkZXI9QWRkcyBkcmF3LmlvIGRpYWdyYW1zIHRvIHlvdXIgZG9jdW1lbnQuXG5vZmZpY2VTdGVwc0hlYWRlcj1UaGlzIGFkZC1pbiBwZXJmb3JtcyB0aGUgZm9sbG93aW5nIHN0ZXBzOlxub2ZmaWNlU3RlcDE9Q29ubmVjdHMgdG8gTWljcm9zb2Z0IE9uZURyaXZlLCBHb29nbGUgRHJpdmUgb3IgeW91ciBkZXZpY2UuXG5vZmZpY2VTdGVwMj1TZWxlY3QgYSBkcmF3LmlvIGRpYWdyYW0uXG5vZmZpY2VTdGVwMz1JbnNlcnQgdGhlIGRpYWdyYW0gaW50byB0aGUgZG9jdW1lbnQuXG5vZmZpY2VBdXRoUG9wdXBJbmZvPVBsZWFzZSBjb21wbGV0ZSB0aGUgYXV0aGVudGljYXRpb24gaW4gdGhlIHBvcC11cCB3aW5kb3cuXG5vZmZpY2VTZWxEaWFnPVNlbGVjdCBkcmF3LmlvIERpYWdyYW06XG5maWxlcz1GaWxlc1xuc2hhcmVkPVNoYXJlZFxuc2hhcmVwb2ludD1TaGFyZXBvaW50XG5vZmZpY2VNYW51YWxVcGRhdGVJbnN0PUluc3RydWN0aW9uczogQ29weSBkcmF3LmlvIGRpYWdyYW0gZnJvbSB0aGUgZG9jdW1lbnQuIFRoZW4sIGluIHRoZSBib3ggYmVsb3csIHJpZ2h0LWNsaWNrIGFuZCBzZWxlY3QgIlBhc3RlIiBmcm9tIHRoZSBjb250ZXh0IG1lbnUuXG5vZmZpY2VDbGlja1RvRWRpdD1DbGljayBpY29uIHRvIHN0YXJ0IGVkaXRpbmc6XG5wYXN0ZURpYWdyYW09UGFzdGUgZHJhdy5pbyBkaWFncmFtIGhlcmVcbmNvbm5lY3RPRD1Db25uZWN0IHRvIE9uZURyaXZlXG5zZWxlY3RDaGlsZHJlbj1TZWxlY3QgQ2hpbGRyZW5cbnNlbGVjdFNpYmxpbmdzPVNlbGVjdCBTaWJsaW5nc1xuc2VsZWN0UGFyZW50PVNlbGVjdCBQYXJlbnRcbnNlbGVjdERlc2NlbmRhbnRzPVNlbGVjdCBEZXNjZW5kYW50c1xubGFzdFNhdmVkPUxhc3Qgc2F2ZWQgezF9IGFnb1xucmVzb2x2ZT1SZXNvbHZlXG5yZW9wZW49UmUtb3Blblxuc2hvd1Jlc29sdmVkPVNob3cgUmVzb2x2ZWRcbnJlcGx5PVJlcGx5XG5vYmplY3ROb3RGb3VuZD1PYmplY3Qgbm90IGZvdW5kXG5yZU9wZW5lZD1SZS1vcGVuZWRcbm1hcmtlZEFzUmVzb2x2ZWQ9TWFya2VkIGFzIHJlc29sdmVkXG5ub0NvbW1lbnRzRm91bmQ9Tm8gY29tbWVudHMgZm91bmRcbmNvbW1lbnRzPUNvbW1lbnRzXG50aW1lQWdvPXsxfSBhZ29cbmNvbmZsdWVuY2VDbG91ZD1Db25mbHVlbmNlIENsb3VkXG5saWJyYXJpZXM9TGlicmFyaWVzXG5jb25mQW5jaG9yPUNvbmZsdWVuY2UgUGFnZSBBbmNob3JcbmNvbmZUaW1lb3V0PVRoZSBjb25uZWN0aW9uIGhhcyB0aW1lZCBvdXRcbmNvbmZTcnZUYWtlVG9vTG9uZz1UaGUgc2VydmVyIGF0IHsxfSBpcyB0YWtpbmcgdG9vIGxvbmcgdG8gcmVzcG9uZC5cbmNvbmZDYW5ub3RJbnNlcnROZXc9Q2Fubm90IGluc2VydCBkcmF3LmlvIGRpYWdyYW0gdG8gYSBuZXcgQ29uZmx1ZW5jZSBwYWdlXG5jb25mU2F2ZVRyeT1QbGVhc2Ugc2F2ZSB0aGUgcGFnZSBhbmQgdHJ5IGFnYWluLlxuY29uZkNhbm5vdEdldElEPVVuYWJsZSB0byBkZXRlcm1pbmUgcGFnZSBJRFxuY29uZkNvbnRhY3RBZG1pbj1QbGVhc2UgY29udGFjdCB5b3VyIENvbmZsdWVuY2UgYWRtaW5pc3RyYXRvci5cbnJlYWRFcnI9UmVhZCBFcnJvclxuZWRpdGluZ0Vycj1FZGl0aW5nIEVycm9yXG5jb25mRXh0RWRpdE5vdFBvc3NpYmxlPVRoaXMgZGlhZ3JhbSBjYW5ub3QgYmUgZWRpdGVkIGV4dGVybmFsbHkuIFBsZWFzZSB0cnkgZWRpdGluZyBpdCB3aGlsZSBlZGl0aW5nIHRoZSBwYWdlXG5jb25mRWRpdGVkRXh0PURpYWdyYW0vUGFnZSBlZGl0ZWQgZXh0ZXJuYWxseVxuZGlhZ05vdEZvdW5kPURpYWdyYW0gTm90IEZvdW5kXG5jb25mRWRpdGVkRXh0UmVmcmVzaD1EaWFncmFtL1BhZ2UgaXMgZWRpdGVkIGV4dGVybmFsbHkuIFBsZWFzZSByZWZyZXNoIHRoZSBwYWdlLlxuY29uZkNhbm5vdEVkaXREcmFmdERlbE9yRXh0PUNhbm5vdCBlZGl0IGRpYWdyYW1zIGluIGEgZHJhZnQgcGFnZSwgZGlhZ3JhbSBpcyBkZWxldGVkIGZyb20gdGhlIHBhZ2UsIG9yIGRpYWdyYW0gaXMgZWRpdGVkIGV4dGVybmFsbHkuIFBsZWFzZSBjaGVjayB0aGUgcGFnZS5cbnJldEJhY2s9UmV0dXJuIGJhY2tcbmNvbmZEaWFnTm90UHVibGlzaGVkPVRoZSBkaWFncmFtIGRvZXMgbm90IGJlbG9uZyB0byBhIHB1Ymxpc2hlZCBwYWdlXG5jcmVhdGVkQnlEcmF3PUNyZWF0ZWQgYnkgZHJhdy5pb1xuZmlsZW5hbWVTaG9ydD1GaWxlbmFtZSB0b28gc2hvcnRcbmludmFsaWRDaGFycz1JbnZhbGlkIGNoYXJhY3RlcnNcbmFscmVhZHlFeHN0PXsxfSBhbHJlYWR5IGV4aXN0c1xuZHJhZnRSZWFkRXJyPURyYWZ0IFJlYWQgRXJyb3JcbmRpYWdDYW50TG9hZD1EaWFncmFtIGNhbm5vdCBiZSBsb2FkZWRcbmRyYWZ0V3JpdGVFcnI9RHJhZnQgV3JpdGUgRXJyb3JcbmRyYWZ0Q2FudENyZWF0ZT1EcmFmdCBjb3VsZCBub3QgYmUgY3JlYXRlZFxuY29uZkR1cGxOYW1lPUR1cGxpY2F0ZSBkaWFncmFtIG5hbWUgZGV0ZWN0ZWQuIFBsZWFzZSBwaWNrIGFub3RoZXIgbmFtZS5cbmNvbmZTZXNzaW9uRXhwaXJlZD1Mb29rcyBsaWtlIHlvdXIgc2Vzc2lvbiBleHBpcmVkLiBMb2cgaW4gYWdhaW4gdG8ga2VlcCB3b3JraW5nLlxubG9naW49TG9naW5cbmRyYXdQcmV2PWRyYXcuaW8gcHJldmlld1xuZHJhd0RpYWc9ZHJhdy5pbyBkaWFncmFtXG5pbnZhbGlkQ2FsbEZuTm90Rm91bmQ9SW52YWxpZCBDYWxsOiB7MX0gbm90IGZvdW5kXG5pbnZhbGlkQ2FsbEVyck9jY3VyZWQ9SW52YWxpZCBDYWxsOiBBbiBlcnJvciBvY2N1cnJlZCwgezF9XG5hbm9ueW1vdXM9QW5vbnltb3VzXG5jb25mR290b1BhZ2U9R28gdG8gY29udGFpbmluZyBwYWdlXG5zaG93Q29tbWVudHM9U2hvdyBDb21tZW50c1xuY29uZkVycm9yPUVycm9yOiB7MX1cbmdsaWZmeUltcG9ydD1HbGlmZnkgSW1wb3J0XG5nbGlmZnlJbXBvcnRJbnN0MT1DbGljayB0aGUgIlN0YXJ0IEltcG9ydCIgYnV0dG9uIHRvIGltcG9ydCBhbGwgR2xpZmZ5IGRpYWdyYW1zIHRvIGRyYXcuaW8uXG5nbGlmZnlJbXBvcnRJbnN0Mj1QbGVhc2Ugbm90ZSB0aGF0IHRoZSBpbXBvcnQgcHJvY2VkdXJlIHdpbGwgdGFrZSBzb21lIHRpbWUgYW5kIHRoZSBicm93c2VyIHdpbmRvdyBtdXN0IHJlbWFpbiBvcGVuIHVudGlsIHRoZSBpbXBvcnQgaXMgY29tcGxldGVkLlxuc3RhcnRJbXBvcnQ9U3RhcnQgSW1wb3J0XG5kcmF3Q29uZmlnPWRyYXcuaW8gQ29uZmlndXJhdGlvblxuY3VzdG9tTGliPUN1c3RvbSBMaWJyYXJpZXNcbmN1c3RvbVRlbXA9Q3VzdG9tIFRlbXBsYXRlc1xucGFnZUlkc0V4cD1QYWdlIElEcyBFeHBvcnRcbmRyYXdSZWluZGV4PWRyYXcuaW8gcmUtaW5kZXhpbmcgKGJldGEpXG53b3JraW5nPVdvcmtpbmdcbmRyYXdDb25maWdOb3RGb3VuZEluc3Q9ZHJhdy5pbyBDb25maWd1cmF0aW9uIFNwYWNlIChEUkFXSU9DT05GSUcpIGRvZXMgbm90IGV4aXN0LiBUaGlzIHNwYWNlIGlzIG5lZWRlZCB0byBzdG9yZSBkcmF3LmlvIGNvbmZpZ3VyYXRpb24gZmlsZXMgYW5kIGN1c3RvbSBsaWJyYXJpZXMvdGVtcGxhdGVzLlxuY3JlYXRlQ29uZlNwPUNyZWF0ZSBDb25maWcgU3BhY2VcbnVuZXhwRXJyUmVmcmVzaD1VbmV4cGVjdGVkIGVycm9yLCBwbGVhc2UgcmVmcmVzaCB0aGUgcGFnZSBhbmQgdHJ5IGFnYWluLlxuY29uZmlnSlNPTkluc3Q9V3JpdGUgZHJhdy5pbyBKU09OIGNvbmZpZ3VyYXRpb24gaW4gdGhlIGVkaXRvciBiZWxvdyB0aGVuIGNsaWNrIHNhdmUuIElmIHlvdSBuZWVkIGhlbHAsIHBsZWFzZSByZWZlciB0b1xudGhpc1BhZ2U9dGhpcyBwYWdlXG5jdXJDdXN0TGliPUN1cnJlbnQgQ3VzdG9tIExpYnJhcmllc1xubGliTmFtZT1MaWJyYXJ5IE5hbWVcbmFjdGlvbj1BY3Rpb25cbmRyYXdDb25mSUQ9ZHJhdy5pbyBDb25maWcgSURcbmFkZExpYkluc3Q9Q2xpY2sgdGhlICJBZGQgTGlicmFyeSIgYnV0dG9uIHRvIHVwbG9hZCBhIG5ldyBsaWJyYXJ5LlxuYWRkTGliPUFkZCBMaWJyYXJ5XG5jdXN0b21UZW1wSW5zdDE9Q3VzdG9tIHRlbXBsYXRlcyBhcmUgZHJhdy5pbyBkaWFncmFtcyBzYXZlZCBpbiBjaGlsZHJlbiBwYWdlcyBvZlxuY3VzdG9tVGVtcEluc3QyPUZvciBtb3JlIGRldGFpbHMsIHBsZWFzZSByZWZlciB0b1xudGVtcHNQYWdlPVRlbXBsYXRlcyBwYWdlXG5wYWdlSWRzRXhwSW5zdDE9U2VsZWN0IGV4cG9ydCB0YXJnZXQsIHRoZW4gY2xpY2sgdGhlICJTdGFydCBFeHBvcnQiIGJ1dHRvbiB0byBleHBvcnQgYWxsIHBhZ2VzIElEcy5cbnBhZ2VJZHNFeHBJbnN0Mj1QbGVhc2Ugbm90ZSB0aGF0IHRoZSBleHBvcnQgcHJvY2VkdXJlIHdpbGwgdGFrZSBzb21lIHRpbWUgYW5kIHRoZSBicm93c2VyIHdpbmRvdyBtdXN0IHJlbWFpbiBvcGVuIHVudGlsIHRoZSBleHBvcnQgaXMgY29tcGxldGVkLlxuc3RhcnRFeHA9U3RhcnQgRXhwb3J0XG5yZWZyZXNoRHJhd0luZGV4PVJlZnJlc2ggZHJhdy5pbyBEaWFncmFtcyBJbmRleFxucmVpbmRleEluc3QxPUNsaWNrIHRoZSAiU3RhcnQgSW5kZXhpbmciIGJ1dHRvbiB0byByZWZyZXNoIGRyYXcuaW8gZGlhZ3JhbXMgaW5kZXguXG5yZWluZGV4SW5zdDI9UGxlYXNlIG5vdGUgdGhhdCB0aGUgaW5kZXhpbmcgcHJvY2VkdXJlIHdpbGwgdGFrZSBzb21lIHRpbWUgYW5kIHRoZSBicm93c2VyIHdpbmRvdyBtdXN0IHJlbWFpbiBvcGVuIHVudGlsIHRoZSBpbmRleGluZyBpcyBjb21wbGV0ZWQuXG5zdGFydEluZGV4aW5nPVN0YXJ0IEluZGV4aW5nXG5jb25mQVBhZ2VGb3VuZEZldGNoPVBhZ2UgInsxfSIgZm91bmQuIEZldGNoaW5nXG5jb25mQUFsbERpYWdEb25lPUFsbCB7MX0gZGlhZ3JhbXMgcHJvY2Vzc2VkLiBQcm9jZXNzIGZpbmlzaGVkLlxuY29uZkFTdGFydGVkUHJvY2Vzc2luZz1TdGFydGVkIHByb2Nlc3NpbmcgcGFnZSAiezF9IlxuY29uZkFBbGxEaWFnSW5QYWdlRG9uZT1BbGwgezF9IGRpYWdyYW1zIGluIHBhZ2UgInsyfSIgcHJvY2Vzc2VkIHN1Y2Nlc3NmdWxseS5cbmNvbmZBUGFydGlhbERpYWdEb25lPXsxfSBvdXQgb2YgezJ9IHszfSBkaWFncmFtcyBpbiBwYWdlICJ7NH0iIHByb2Nlc3NlZCBzdWNjZXNzZnVsbHkuXG5jb25mQVVwZGF0ZVBhZ2VGYWlsZWQ9VXBkYXRpbmcgcGFnZSAiezF9IiBmYWlsZWQuXG5jb25mQU5vRGlhZ0ZvdW5kSW5QYWdlPU5vIHsxfSBkaWFncmFtcyBmb3VuZCBpbiBwYWdlICJ7Mn0iLlxuY29uZkFGZXRjaFBhZ2VGYWlsZWQ9RmV0Y2hpbmcgdGhlIHBhZ2UgZmFpbGVkLlxuY29uZkFOb0RpYWdGb3VuZD1ObyB7MX0gZGlhZ3JhbXMgZm91bmQuIFByb2Nlc3MgZmluaXNoZWQuXG5jb25mQVNlYXJjaEZhaWxlZD1TZWFyY2hpbmcgZm9yIHsxfSBkaWFncmFtcyBmYWlsZWQuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuXG5jb25mQUdsaWZmeURpYWdGb3VuZD17Mn0gZGlhZ3JhbSAiezF9IiBmb3VuZC4gSW1wb3J0aW5nXG5jb25mQUdsaWZmeURpYWdJbXBvcnRlZD17Mn0gZGlhZ3JhbSAiezF9IiBpbXBvcnRlZCBzdWNjZXNzZnVsbHkuXG5jb25mQVNhdmluZ0ltcEdsaWZmeUZhaWxlZD1TYXZpbmcgaW1wb3J0ZWQgezJ9IGRpYWdyYW0gInsxfSIgZmFpbGVkLlxuY29uZkFJbXBvcnRlZEZyb21CeURyYXc9SW1wb3J0ZWQgZnJvbSAiezF9IiBieSBkcmF3LmlvXG5jb25mQUltcG9ydEdsaWZmeUZhaWxlZD1JbXBvcnRpbmcgezJ9IGRpYWdyYW0gInsxfSIgZmFpbGVkLlxuY29uZkFGZXRjaEdsaWZmeUZhaWxlZD1GZXRjaGluZyB7Mn0gZGlhZ3JhbSAiezF9IiBmYWlsZWQuXG5jb25mQUNoZWNrQnJva2VuRGlhZ0xuaz1DaGVja2luZyBmb3IgYnJva2VuIGRpYWdyYW1zIGxpbmtzLlxuY29uZkFEZWxEaWFnTGlua09mPURlbGV0aW5nIGRpYWdyYW0gbGluayBvZiAiezF9IlxuY29uZkFEdXBMbms9KGR1cGxpY2F0ZSBsaW5rKVxuY29uZkFEZWxEaWFnTG5rRmFpbGVkPURlbGV0aW5nIGRpYWdyYW0gbGluayBvZiAiezF9IiBmYWlsZWQuXG5jb25mQVVuZXhwRXJyUHJvY2Vzc1BhZ2U9VW5leHBlY3RlZCBlcnJvciBkdXJpbmcgcHJvY2Vzc2luZyB0aGUgcGFnZSB3aXRoIGlkOiB7MX1cbmNvbmZBRGlhZ0ZvdW5kSW5kZXg9RGlhZ3JhbSAiezF9IiBmb3VuZC4gSW5kZXhpbmdcbmNvbmZBRGlhZ0luZGV4U3VjYz1EaWFncmFtICJ7MX0iIGluZGV4ZWQgc3VjY2Vzc2Z1bGx5LlxuY29uZkFJbmRleERpYWdGYWlsZWQ9SW5kZXhpbmcgZGlhZ3JhbSAiezF9IiBmYWlsZWQuXG5jb25mQVNraXBEaWFnT3RoZXJQYWdlPVNraXBwZWQgInsxfSIgYXMgaXQgYmVsb25ncyB0byBhbm90aGVyIHBhZ2UhXG5jb25mQURpYWdVcHRvRGF0ZT1EaWFncmFtICJ7MX0iIGlzIHVwIHRvIGRhdGUuXG5jb25mQUNoZWNrUGFnZXNXRHJhdz1DaGVja2luZyBwYWdlcyBoYXZpbmcgZHJhdy5pbyBkaWFncmFtcy5cbmNvbmZBRXJyT2NjdXJlZD1BbiBlcnJvciBvY2N1cnJlZCFcbnNhdmVkU3VjYz1TYXZlZCBzdWNjZXNzZnVsbHlcbmNvbmZBU2F2ZUZhaWxlZEVycj1TYXZpbmcgRmFpbGVkIChVbmV4cGVjdGVkIEVycm9yKVxuY2hhcmFjdGVyPUNoYXJhY3RlclxuY29uZkFDb25mUGFnZURlc2M9VGhpcyBwYWdlIGNvbnRhaW5zIGRyYXcuaW8gY29uZmlndXJhdGlvbiBmaWxlIChjb25maWd1cmF0aW9uLmpzb24pIGFzIGF0dGFjaG1lbnRcbmNvbmZBTGliUGFnZURlc2M9VGhpcyBwYWdlIGNvbnRhaW5zIGRyYXcuaW8gY3VzdG9tIGxpYnJhcmllcyBhcyBhdHRhY2htZW50c1xuY29uZkFUZW1wUGFnZURlc2M9VGhpcyBwYWdlIGNvbnRhaW5zIGRyYXcuaW8gY3VzdG9tIHRlbXBsYXRlcyBhcyBhdHRhY2htZW50c1xud29ya2luZz1Xb3JraW5nXG5jb25mQUNvbmZTcGFjZURlc2M9VGhpcyBzcGFjZSBpcyB1c2VkIHRvIHN0b3JlIGRyYXcuaW8gY29uZmlndXJhdGlvbiBmaWxlcyBhbmQgY3VzdG9tIGxpYnJhcmllcy90ZW1wbGF0ZXNcbmNvbmZBTm9DdXN0TGliPU5vIEN1c3RvbSBMaWJyYXJpZXNcbmRlbEZhaWxlZD1EZWxldGUgZmFpbGVkIVxuc2hvd0lEPVNob3cgSURcbmNvbmZBSW5jb3JyZWN0TGliRmlsZVR5cGU9SW5jb3JyZWN0IGZpbGUgdHlwZS4gTGlicmFyaWVzIHNob3VsZCBiZSBYTUwgZmlsZXMuXG51cGxvYWRpbmc9VXBsb2FkaW5nXG5jb25mQUxpYkV4aXN0PVRoaXMgbGlicmFyeSBhbHJlYWR5IGV4aXN0c1xuY29uZkFVcGxvYWRTdWNjPVVwbG9hZGVkIHN1Y2Nlc3NmdWxseVxuY29uZkFVcGxvYWRGYWlsRXJyPVVwbG9hZCBGYWlsZWQgKFVuZXhwZWN0ZWQgRXJyb3IpXG5oaVJlc1ByZXZpZXc9SGlnaCBSZXMgUHJldmlld1xub2ZmaWNlTm90TG9nZ2VkR0Q9WW91IGFyZSBub3QgbG9nZ2VkIGluIHRvIEdvb2dsZSBEcml2ZS4gUGxlYXNlIG9wZW4gZHJhdy5pbyB0YXNrIHBhbmUgYW5kIGxvZ2luIGZpcnN0Llxub2ZmaWNlUG9wdXBJbmZvPVBsZWFzZSBjb21wbGV0ZSB0aGUgcHJvY2VzcyBpbiB0aGUgcG9wLXVwIHdpbmRvdy5cbnBpY2tPREZpbGU9UGljayBPbmVEcml2ZSBGaWxlXG5waWNrR0RyaXZlRmlsZT1QaWNrIEdvb2dsZSBEcml2ZSBGaWxlXG5waWNrRGV2aWNlRmlsZT1QaWNrIERldmljZSBGaWxlXG52c2ROb0NvbmZpZz0idnNkdXJsIiBpcyBub3QgY29uZmlndXJlZFxucnVsZXI9UnVsZXJcbnVuaXRzPVVuaXRzXG5wb2ludHM9UG9pbnRzXG5pbmNoZXM9SW5jaGVzXG5taWxsaW1ldGVycz1NaWxsaW1ldGVyc1xuY29uZkVkaXREcmFmdERlbE9yRXh0PVRoaXMgZGlhZ3JhbSBpcyBpbiBhIGRyYWZ0IHBhZ2UsIGlzIGRlbGV0ZWQgZnJvbSB0aGUgcGFnZSwgb3IgaXMgZWRpdGVkIGV4dGVybmFsbHkuIEl0IHdpbGwgYmUgc2F2ZWQgYXMgYSBuZXcgYXR0YWNobWVudCB2ZXJzaW9uIGFuZCBtYXkgbm90IGJlIHJlZmxlY3RlZCBpbiB0aGUgcGFnZS5cbmNvbmZEaWFnRWRpdGVkRXh0PURpYWdyYW0gaXMgZWRpdGVkIGluIGFub3RoZXIgc2Vzc2lvbi4gSXQgd2lsbCBiZSBzYXZlZCBhcyBhIG5ldyBhdHRhY2htZW50IHZlcnNpb24gYnV0IHRoZSBwYWdlIHdpbGwgc2hvdyBvdGhlciBzZXNzaW9uXCdzIG1vZGlmaWNhdGlvbnMuXG5tYWNyb05vdEZvdW5kPU1hY3JvIE5vdCBGb3VuZFxuY29uZkFJbnZhbGlkUGFnZUlkc0Zvcm1hdD1JbmNvcnJlY3QgUGFnZSBJRHMgZmlsZSBmb3JtYXRcbmNvbmZBQ29sbGVjdGluZ0N1clBhZ2VzPUNvbGxlY3RpbmcgY3VycmVudCBwYWdlc1xuY29uZkFCdWlsZGluZ1BhZ2VzTWFwPUJ1aWxkaW5nIHBhZ2VzIG1hcHBpbmdcbmNvbmZBUHJvY2Vzc0RyYXdEaWFnPVN0YXJ0ZWQgcHJvY2Vzc2luZyBpbXBvcnRlZCBkcmF3LmlvIGRpYWdyYW1zXG5jb25mQVByb2Nlc3NEcmF3RGlhZ0RvbmU9RmluaXNoZWQgcHJvY2Vzc2luZyBpbXBvcnRlZCBkcmF3LmlvIGRpYWdyYW1zXG5jb25mQVByb2Nlc3NJbXBQYWdlcz1TdGFydGVkIHByb2Nlc3NpbmcgaW1wb3J0ZWQgcGFnZXNcbmNvbmZBRXJyUHJjc0RpYWdJblBhZ2U9RXJyb3IgcHJvY2Vzc2luZyBkcmF3LmlvIGRpYWdyYW1zIGluIHBhZ2UgInsxfSJcbmNvbmZBUHJjc0RpYWdJblBhZ2U9UHJvY2Vzc2luZyBkcmF3LmlvIGRpYWdyYW1zIGluIHBhZ2UgInsxfSJcbmNvbmZBSW1wRGlhZ3JhbT1JbXBvcnRpbmcgZGlhZ3JhbSAiezF9IlxuY29uZkFJbXBEaWFncmFtRmFpbGVkPUltcG9ydGluZyBkaWFncmFtICJ7MX0iIGZhaWxlZC4gQ2Fubm90IGZpbmQgaXRzIG5ldyBwYWdlIElELiBNYXliZSBpdCBwb2ludHMgdG8gYSBwYWdlIHRoYXQgaXMgbm90IGltcG9ydGVkLiBcbmNvbmZBSW1wRGlhZ3JhbUVycm9yPUVycm9yIGltcG9ydGluZyBkaWFncmFtICJ7MX0iLiBDYW5ub3QgZmV0Y2ggb3Igc2F2ZSB0aGUgZGlhZ3JhbS4gQ2Fubm90IGZpeCB0aGlzIGRpYWdyYW0gbGlua3MuXG5jb25mQVVwZGF0ZURncm1DQ0ZhaWxlZD1VcGRhdGluZyBsaW5rIHRvIGRpYWdyYW0gInsxfSIgZmFpbGVkLlxuY29uZkltcERpYWdyYW1TdWNjZXNzPVVwZGF0aW5nIGRpYWdyYW0gInsxfSIgZG9uZSBzdWNjZXNzZnVsbHkuXG5jb25mQU5vTG5rc0luRHJnbT1ObyBsaW5rcyB0byB1cGRhdGUgaW46IHsxfVxuY29uZkFVcGRhdGVMbmtUb1BnPVVwZGF0ZWQgbGluayB0byBwYWdlOiAiezF9IiBpbiBkaWFncmFtOiAiezJ9IlxuY29uZkFVcGRhdGVMQkxua1RvUGc9VXBkYXRlZCBsaWdodGJveCBsaW5rIHRvIHBhZ2U6ICJ7MX0iIGluIGRpYWdyYW06ICJ7Mn0iXG5jb25mQVVwZGF0ZUxua0Jhc2U9VXBkYXRlZCBiYXNlIFVSTCBmcm9tOiAiezF9IiB0bzogInsyfSIgaW4gZGlhZ3JhbTogInszfSJcbmNvbmZBUGFnZUlkc0ltcERvbmU9UGFnZSBJRHMgSW1wb3J0IGZpbmlzaGVkLlxuY29uZkFQcmNzTWFjcm9zSW5QYWdlPVByb2Nlc3NpbmcgZHJhdy5pbyBtYWNyb3MgaW4gcGFnZSAiezF9IlxuY29uZkFFcnJGZXRjaFBhZ2U9RXJyb3IgZmV0Y2hpbmcgcGFnZSAiezF9IlxuY29uZkFGaXhpbmdNYWNybz1GaXhpbmcgbWFjcm8gb2YgZGlhZ3JhbSAiezF9IlxuY29uZkFFcnJSZWFkaW5nRXhwRmlsZT1FcnJvciByZWFkaW5nIGV4cG9ydCBmaWxlXG5jb25mQVByY3NEaWFnSW5QYWdlRG9uZT1Qcm9jZXNzaW5nIGRyYXcuaW8gZGlhZ3JhbXMgaW4gcGFnZSAiezF9IiBmaW5pc2hlZFxuY29uZkFGaXhpbmdNYWNyb1NraXBwZWQ9Rml4aW5nIG1hY3JvIG9mIGRpYWdyYW0gInsxfSIgZmFpbGVkLiBDYW5ub3QgZmluZCBpdHMgbmV3IHBhZ2UgSUQuIE1heWJlIGl0IHBvaW50cyB0byBhIHBhZ2UgdGhhdCBpcyBub3QgaW1wb3J0ZWQuIFxucGFnZUlkc0V4cFRyZz1FeHBvcnQgdGFyZ2V0XG5jb25mQUx1Y2lkRGlhZ0ltZ0ltcG9ydGVkPXsyfSBkaWFncmFtICJ7MX0iIGltYWdlIGV4dHJhY3RlZCBzdWNjZXNzZnVsbHkuXG5jb25mQVNhdmluZ0x1Y2lkRGlhZ0ltZ0ZhaWxlZD1FeHRyYWN0aW5nIHsyfSBkaWFncmFtICJ7MX0iIGltYWdlIGZhaWxlZC5cbmNvbmZHZXRJbmZvRmFpbGVkPUZldGNoaW5nIGZpbGUgaW5mbyBmcm9tIHsxfSBmYWlsZWQuXG5jb25mQ2hlY2tDYWNoZUZhaWxlZD1DYW5ub3QgZ2V0IGNhY2hlZCBmaWxlIGluZm8uXG5jb25mUmVhZEZpbGVFcnI9Q2Fubm90IHJlYWQgInsxfSIgZmlsZSBmcm9tIHsyfS5cbmNvbmZTYXZlQ2FjaGVGYWlsZWQ9VW5leHBlY3RlZCBlcnJvci4gQ2Fubm90IHNhdmUgY2FjaGVkIGZpbGVcbm9yZ0NoYXJ0VHlwZT1PcmcgQ2hhcnQgVHlwZVxubGluZWFyPUxpbmVhclxuaGFuZ2VyMj1IYW5nZXIgMlxuaGFuZ2VyND1IYW5nZXIgNFxuZmlzaGJvbmUxPUZpc2hib25lIDFcbmZpc2hib25lMj1GaXNoYm9uZSAyXG4xQ29sdW1uTGVmdD1TaW5nbGUgQ29sdW1uIExlZnRcbjFDb2x1bW5SaWdodD1TaW5nbGUgQ29sdW1uIFJpZ2h0XG5zbWFydD1TbWFydFxucGFyZW50Q2hpbGRTcGFjaW5nPVBhcmVudCBDaGlsZCBTcGFjaW5nXG5zaWJsaW5nU3BhY2luZz1TaWJsaW5nIFNwYWNpbmdcbmNvbmZOb1Blcm1FcnI9U29ycnksIHlvdSBkb25cJ3QgaGF2ZSBlbm91Z2ggcGVybWlzc2lvbnMgdG8gdmlldyB0aGlzIGVtYmVkZGVkIGRpYWdyYW0gZnJvbSBwYWdlIHsxfVxuY29weUFzSW1hZ2U9Q29weSBhcyBJbWFnZVxubHVjaWRJbXBvcnQ9THVjaWRjaGFydCBJbXBvcnRcbmx1Y2lkSW1wb3J0SW5zdDE9Q2xpY2sgdGhlICJTdGFydCBJbXBvcnQiIGJ1dHRvbiB0byBpbXBvcnQgYWxsIEx1Y2lkY2hhcnQgZGlhZ3JhbXMuXG5pbnN0YWxsRmlyc3Q9UGxlYXNlIGluc3RhbGwgezF9IGZpcnN0LlxuZHJhd2lvQ2hyb21lRXh0PWRyYXcuaW8gQ2hyb21lIEV4dGVuc2lvblxubG9naW5GaXJzdFRoZW49UGxlYXNlIGxvZ2luIHRvIHsxfSBmaXJzdCwgdGhlbiB7Mn1cbmVyckZldGNoRG9jTGlzdD1FcnJvcjogQ291bGRuXCd0IGZldGNoIGRvY3VtZW50cyBsaXN0LlxuYnVpbHRpblBsdWdpbnM9QnVpbHQtaW4gUGx1Z2luc1xuZXh0UGx1Z2lucz1FeHRlcm5hbCBQbHVnaW5zXG5iYWNrdXBGb3VuZD1CYWNrdXAgZmlsZSBmb3VuZFxuY2hyb21lT25seT1UaGlzIGZlYXR1cmUgb25seSB3b3JrcyBvbiBHb29nbGUgQ2hyb21lXG4nKTtHcmFwaC5wcm90b3R5cGUuZGVmYXVsdFRoZW1lc1siZGVmYXVsdC1zdHlsZTIiXT1teFV0aWxzLnBhcnNlWG1sKCc8bXhTdHlsZXNoZWV0PjxhZGQgYXM9ImRlZmF1bHRWZXJ0ZXgiPjxhZGQgYXM9InNoYXBlIiB2YWx1ZT0ibGFiZWwiLz48YWRkIGFzPSJwZXJpbWV0ZXIiIHZhbHVlPSJyZWN0YW5nbGVQZXJpbWV0ZXIiLz48YWRkIGFzPSJmb250U2l6ZSIgdmFsdWU9IjEyIi8+PGFkZCBhcz0iZm9udEZhbWlseSIgdmFsdWU9IkhlbHZldGljYSIvPjxhZGQgYXM9ImFsaWduIiB2YWx1ZT0iY2VudGVyIi8+PGFkZCBhcz0idmVydGljYWxBbGlnbiIgdmFsdWU9Im1pZGRsZSIvPjxhZGQgYXM9ImZpbGxDb2xvciIgdmFsdWU9IiNmZmZmZmYiLz48YWRkIGFzPSJzdHJva2VDb2xvciIgdmFsdWU9IiMwMDAwMDAiLz48YWRkIGFzPSJmb250Q29sb3IiIHZhbHVlPSIjMDAwMDAwIi8+PC9hZGQ+PGFkZCBhcz0iZGVmYXVsdEVkZ2UiPjxhZGQgYXM9InNoYXBlIiB2YWx1ZT0iY29ubmVjdG9yIi8+PGFkZCBhcz0ibGFiZWxCYWNrZ3JvdW5kQ29sb3IiIHZhbHVlPSIjZmZmZmZmIi8+PGFkZCBhcz0iZW5kQXJyb3ciIHZhbHVlPSJjbGFzc2ljIi8+PGFkZCBhcz0iZm9udFNpemUiIHZhbHVlPSIxMSIvPjxhZGQgYXM9ImZvbnRGYW1pbHkiIHZhbHVlPSJIZWx2ZXRpY2EiLz48YWRkIGFzPSJhbGlnbiIgdmFsdWU9ImNlbnRlciIvPjxhZGQgYXM9InZlcnRpY2FsQWxpZ24iIHZhbHVlPSJtaWRkbGUiLz48YWRkIGFzPSJyb3VuZGVkIiB2YWx1ZT0iMSIvPjxhZGQgYXM9InN0cm9rZUNvbG9yIiB2YWx1ZT0iIzAwMDAwMCIvPjxhZGQgYXM9ImZvbnRDb2xvciIgdmFsdWU9IiMwMDAwMDAiLz48L2FkZD48YWRkIGFzPSJ0ZXh0Ij48YWRkIGFzPSJmaWxsQ29sb3IiIHZhbHVlPSJub25lIi8+PGFkZCBhcz0iZ3JhZGllbnRDb2xvciIgdmFsdWU9Im5vbmUiLz48YWRkIGFzPSJzdHJva2VDb2xvciIgdmFsdWU9Im5vbmUiLz48YWRkIGFzPSJhbGlnbiIgdmFsdWU9ImxlZnQiLz48YWRkIGFzPSJ2ZXJ0aWNhbEFsaWduIiB2YWx1ZT0idG9wIi8+PC9hZGQ+PGFkZCBhcz0iZWRnZUxhYmVsIiBleHRlbmQ9InRleHQiPjxhZGQgYXM9ImxhYmVsQmFja2dyb3VuZENvbG9yIiB2YWx1ZT0iI2ZmZmZmZiIvPjxhZGQgYXM9ImZvbnRTaXplIiB2YWx1ZT0iMTEiLz48L2FkZD48YWRkIGFzPSJsYWJlbCI+PGFkZCBhcz0iZm9udFN0eWxlIiB2YWx1ZT0iMSIvPjxhZGQgYXM9ImFsaWduIiB2YWx1ZT0ibGVmdCIvPjxhZGQgYXM9InZlcnRpY2FsQWxpZ24iIHZhbHVlPSJtaWRkbGUiLz48YWRkIGFzPSJzcGFjaW5nIiB2YWx1ZT0iMiIvPjxhZGQgYXM9InNwYWNpbmdMZWZ0IiB2YWx1ZT0iNTIiLz48YWRkIGFzPSJpbWFnZVdpZHRoIiB2YWx1ZT0iNDIiLz48YWRkIGFzPSJpbWFnZUhlaWdodCIgdmFsdWU9IjQyIi8+PGFkZCBhcz0icm91bmRlZCIgdmFsdWU9IjEiLz48L2FkZD48YWRkIGFzPSJpY29uIiBleHRlbmQ9ImxhYmVsIj48YWRkIGFzPSJhbGlnbiIgdmFsdWU9ImNlbnRlciIvPjxhZGQgYXM9ImltYWdlQWxpZ24iIHZhbHVlPSJjZW50ZXIiLz48YWRkIGFzPSJ2ZXJ0aWNhbExhYmVsUG9zaXRpb24iIHZhbHVlPSJib3R0b20iLz48YWRkIGFzPSJ2ZXJ0aWNhbEFsaWduIiB2YWx1ZT0idG9wIi8+PGFkZCBhcz0ic3BhY2luZ1RvcCIgdmFsdWU9IjQiLz48YWRkIGFzPSJsYWJlbEJhY2tncm91bmRDb2xvciIgdmFsdWU9IiNmZmZmZmYiLz48YWRkIGFzPSJzcGFjaW5nIiB2YWx1ZT0iMCIvPjxhZGQgYXM9InNwYWNpbmdMZWZ0IiB2YWx1ZT0iMCIvPjxhZGQgYXM9InNwYWNpbmdUb3AiIHZhbHVlPSI2Ii8+PGFkZCBhcz0iZm9udFN0eWxlIiB2YWx1ZT0iMCIvPjxhZGQgYXM9ImltYWdlV2lkdGgiIHZhbHVlPSI0OCIvPjxhZGQgYXM9ImltYWdlSGVpZ2h0IiB2YWx1ZT0iNDgiLz48L2FkZD48YWRkIGFzPSJzd2ltbGFuZSI+PGFkZCBhcz0ic2hhcGUiIHZhbHVlPSJzd2ltbGFuZSIvPjxhZGQgYXM9ImZvbnRTaXplIiB2YWx1ZT0iMTIiLz48YWRkIGFzPSJmb250U3R5bGUiIHZhbHVlPSIxIi8+PGFkZCBhcz0ic3RhcnRTaXplIiB2YWx1ZT0iMjMiLz48L2FkZD48YWRkIGFzPSJncm91cCI+PGFkZCBhcz0idmVydGljYWxBbGlnbiIgdmFsdWU9InRvcCIvPjxhZGQgYXM9ImZpbGxDb2xvciIgdmFsdWU9Im5vbmUiLz48YWRkIGFzPSJzdHJva2VDb2xvciIgdmFsdWU9Im5vbmUiLz48YWRkIGFzPSJncmFkaWVudENvbG9yIiB2YWx1ZT0ibm9uZSIvPjxhZGQgYXM9InBvaW50ZXJFdmVudHMiIHZhbHVlPSIwIi8+PC9hZGQ+PGFkZCBhcz0iZWxsaXBzZSI+PGFkZCBhcz0ic2hhcGUiIHZhbHVlPSJlbGxpcHNlIi8+PGFkZCBhcz0icGVyaW1ldGVyIiB2YWx1ZT0iZWxsaXBzZVBlcmltZXRlciIvPjwvYWRkPjxhZGQgYXM9InJob21idXMiPjxhZGQgYXM9InNoYXBlIiB2YWx1ZT0icmhvbWJ1cyIvPjxhZGQgYXM9InBlcmltZXRlciIgdmFsdWU9InJob21idXNQZXJpbWV0ZXIiLz48L2FkZD48YWRkIGFzPSJ0cmlhbmdsZSI+PGFkZCBhcz0ic2hhcGUiIHZhbHVlPSJ0cmlhbmdsZSIvPjxhZGQgYXM9InBlcmltZXRlciIgdmFsdWU9InRyaWFuZ2xlUGVyaW1ldGVyIi8+PC9hZGQ+PGFkZCBhcz0ibGluZSI+PGFkZCBhcz0ic2hhcGUiIHZhbHVlPSJsaW5lIi8+PGFkZCBhcz0ic3Ryb2tlV2lkdGgiIHZhbHVlPSI0Ii8+PGFkZCBhcz0ibGFiZWxCYWNrZ3JvdW5kQ29sb3IiIHZhbHVlPSIjZmZmZmZmIi8+PGFkZCBhcz0idmVydGljYWxBbGlnbiIgdmFsdWU9InRvcCIvPjxhZGQgYXM9InNwYWNpbmdUb3AiIHZhbHVlPSI4Ii8+PC9hZGQ+PGFkZCBhcz0iaW1hZ2UiPjxhZGQgYXM9InNoYXBlIiB2YWx1ZT0iaW1hZ2UiLz48YWRkIGFzPSJsYWJlbEJhY2tncm91bmRDb2xvciIgdmFsdWU9IndoaXRlIi8+PGFkZCBhcz0idmVydGljYWxBbGlnbiIgdmFsdWU9InRvcCIvPjxhZGQgYXM9InZlcnRpY2FsTGFiZWxQb3NpdGlvbiIgdmFsdWU9ImJvdHRvbSIvPjwvYWRkPjxhZGQgYXM9InJvdW5kSW1hZ2UiIGV4dGVuZD0iaW1hZ2UiPjxhZGQgYXM9InBlcmltZXRlciIgdmFsdWU9ImVsbGlwc2VQZXJpbWV0ZXIiLz48L2FkZD48YWRkIGFzPSJyaG9tYnVzSW1hZ2UiIGV4dGVuZD0iaW1hZ2UiPjxhZGQgYXM9InBlcmltZXRlciIgdmFsdWU9InJob21idXNQZXJpbWV0ZXIiLz48L2FkZD48YWRkIGFzPSJhcnJvdyI+PGFkZCBhcz0ic2hhcGUiIHZhbHVlPSJhcnJvdyIvPjxhZGQgYXM9ImVkZ2VTdHlsZSIgdmFsdWU9Im5vbmUiLz48YWRkIGFzPSJmaWxsQ29sb3IiIHZhbHVlPSIjZmZmZmZmIi8+PC9hZGQ+PGFkZCBhcz0iZmFuY3kiPjxhZGQgYXM9InNoYWRvdyIgdmFsdWU9IjEiLz48YWRkIGFzPSJnbGFzcyIgdmFsdWU9IjEiLz48L2FkZD48YWRkIGFzPSJncmF5IiBleHRlbmQ9ImZhbmN5Ij48YWRkIGFzPSJncmFkaWVudENvbG9yIiB2YWx1ZT0iI0IzQjNCMyIvPjxhZGQgYXM9ImZpbGxDb2xvciIgdmFsdWU9IiNGNUY1RjUiLz48YWRkIGFzPSJzdHJva2VDb2xvciIgdmFsdWU9IiM2NjY2NjYiLz48L2FkZD48YWRkIGFzPSJibHVlIiBleHRlbmQ9ImZhbmN5Ij48YWRkIGFzPSJncmFkaWVudENvbG9yIiB2YWx1ZT0iIzdFQTZFMCIvPjxhZGQgYXM9ImZpbGxDb2xvciIgdmFsdWU9IiNEQUU4RkMiLz48YWRkIGFzPSJzdHJva2VDb2xvciIgdmFsdWU9IiM2QzhFQkYiLz48L2FkZD48YWRkIGFzPSJncmVlbiIgZXh0ZW5kPSJmYW5jeSI+PGFkZCBhcz0iZ3JhZGllbnRDb2xvciIgdmFsdWU9IiM5N0QwNzciLz48YWRkIGFzPSJmaWxsQ29sb3IiIHZhbHVlPSIjRDVFOEQ0Ii8+PGFkZCBhcz0ic3Ryb2tlQ29sb3IiIHZhbHVlPSIjODJCMzY2Ii8+PC9hZGQ+PGFkZCBhcz0idHVycXVvaXNlIiBleHRlbmQ9ImZhbmN5Ij48YWRkIGFzPSJncmFkaWVudENvbG9yIiB2YWx1ZT0iIzY3QUI5RiIvPjxhZGQgYXM9ImZpbGxDb2xvciIgdmFsdWU9IiNENUU4RDQiLz48YWRkIGFzPSJzdHJva2VDb2xvciIgdmFsdWU9IiM2QTkxNTMiLz48L2FkZD48YWRkIGFzPSJ5ZWxsb3ciIGV4dGVuZD0iZmFuY3kiPjxhZGQgYXM9ImdyYWRpZW50Q29sb3IiIHZhbHVlPSIjRkZEOTY2Ii8+PGFkZCBhcz0iZmlsbENvbG9yIiB2YWx1ZT0iI0ZGRjJDQyIvPjxhZGQgYXM9InN0cm9rZUNvbG9yIiB2YWx1ZT0iI0Q2QjY1NiIvPjwvYWRkPjxhZGQgYXM9Im9yYW5nZSIgZXh0ZW5kPSJmYW5jeSI+PGFkZCBhcz0iZ3JhZGllbnRDb2xvciIgdmFsdWU9IiNGRkE1MDAiLz48YWRkIGFzPSJmaWxsQ29sb3IiIHZhbHVlPSIjRkZDRDI4Ii8+PGFkZCBhcz0ic3Ryb2tlQ29sb3IiIHZhbHVlPSIjRDc5QjAwIi8+PC9hZGQ+PGFkZCBhcz0icmVkIiBleHRlbmQ9ImZhbmN5Ij48YWRkIGFzPSJncmFkaWVudENvbG9yIiB2YWx1ZT0iI0VBNkI2NiIvPjxhZGQgYXM9ImZpbGxDb2xvciIgdmFsdWU9IiNGOENFQ0MiLz48YWRkIGFzPSJzdHJva2VDb2xvciIgdmFsdWU9IiNCODU0NTAiLz48L2FkZD48YWRkIGFzPSJwaW5rIiBleHRlbmQ9ImZhbmN5Ij48YWRkIGFzPSJncmFkaWVudENvbG9yIiB2YWx1ZT0iI0I1NzM5RCIvPjxhZGQgYXM9ImZpbGxDb2xvciIgdmFsdWU9IiNFNkQwREUiLz48YWRkIGFzPSJzdHJva2VDb2xvciIgdmFsdWU9IiM5OTYxODUiLz48L2FkZD48YWRkIGFzPSJwdXJwbGUiIGV4dGVuZD0iZmFuY3kiPjxhZGQgYXM9ImdyYWRpZW50Q29sb3IiIHZhbHVlPSIjOEM2QzlDIi8+PGFkZCBhcz0iZmlsbENvbG9yIiB2YWx1ZT0iI0UxRDVFNyIvPjxhZGQgYXM9InN0cm9rZUNvbG9yIiB2YWx1ZT0iIzk2NzNBNiIvPjwvYWRkPjxhZGQgYXM9InBsYWluLWdyYXkiPjxhZGQgYXM9ImdyYWRpZW50Q29sb3IiIHZhbHVlPSIjQjNCM0IzIi8+PGFkZCBhcz0iZmlsbENvbG9yIiB2YWx1ZT0iI0Y1RjVGNSIvPjxhZGQgYXM9InN0cm9rZUNvbG9yIiB2YWx1ZT0iIzY2NjY2NiIvPjwvYWRkPjxhZGQgYXM9InBsYWluLWJsdWUiPjxhZGQgYXM9ImdyYWRpZW50Q29sb3IiIHZhbHVlPSIjN0VBNkUwIi8+PGFkZCBhcz0iZmlsbENvbG9yIiB2YWx1ZT0iI0RBRThGQyIvPjxhZGQgYXM9InN0cm9rZUNvbG9yIiB2YWx1ZT0iIzZDOEVCRiIvPjwvYWRkPjxhZGQgYXM9InBsYWluLWdyZWVuIj48YWRkIGFzPSJncmFkaWVudENvbG9yIiB2YWx1ZT0iIzk3RDA3NyIvPjxhZGQgYXM9ImZpbGxDb2xvciIgdmFsdWU9IiNENUU4RDQiLz48YWRkIGFzPSJzdHJva2VDb2xvciIgdmFsdWU9IiM4MkIzNjYiLz48L2FkZD48YWRkIGFzPSJwbGFpbi10dXJxdW9pc2UiPjxhZGQgYXM9ImdyYWRpZW50Q29sb3IiIHZhbHVlPSIjNjdBQjlGIi8+PGFkZCBhcz0iZmlsbENvbG9yIiB2YWx1ZT0iI0Q1RThENCIvPjxhZGQgYXM9InN0cm9rZUNvbG9yIiB2YWx1ZT0iIzZBOTE1MyIvPjwvYWRkPjxhZGQgYXM9InBsYWluLXllbGxvdyI+PGFkZCBhcz0iZ3JhZGllbnRDb2xvciIgdmFsdWU9IiNGRkQ5NjYiLz48YWRkIGFzPSJmaWxsQ29sb3IiIHZhbHVlPSIjRkZGMkNDIi8+PGFkZCBhcz0ic3Ryb2tlQ29sb3IiIHZhbHVlPSIjRDZCNjU2Ii8+PC9hZGQ+PGFkZCBhcz0icGxhaW4tb3JhbmdlIj48YWRkIGFzPSJncmFkaWVudENvbG9yIiB2YWx1ZT0iI0ZGQTUwMCIvPjxhZGQgYXM9ImZpbGxDb2xvciIgdmFsdWU9IiNGRkNEMjgiLz48YWRkIGFzPSJzdHJva2VDb2xvciIgdmFsdWU9IiNENzlCMDAiLz48L2FkZD48YWRkIGFzPSJwbGFpbi1yZWQiPjxhZGQgYXM9ImdyYWRpZW50Q29sb3IiIHZhbHVlPSIjRUE2QjY2Ii8+PGFkZCBhcz0iZmlsbENvbG9yIiB2YWx1ZT0iI0Y4Q0VDQyIvPjxhZGQgYXM9InN0cm9rZUNvbG9yIiB2YWx1ZT0iI0I4NTQ1MCIvPjwvYWRkPjxhZGQgYXM9InBsYWluLXBpbmsiPjxhZGQgYXM9ImdyYWRpZW50Q29sb3IiIHZhbHVlPSIjQjU3MzlEIi8+PGFkZCBhcz0iZmlsbENvbG9yIiB2YWx1ZT0iI0U2RDBERSIvPjxhZGQgYXM9InN0cm9rZUNvbG9yIiB2YWx1ZT0iIzk5NjE4NSIvPjwvYWRkPjxhZGQgYXM9InBsYWluLXB1cnBsZSI+PGFkZCBhcz0iZ3JhZGllbnRDb2xvciIgdmFsdWU9IiM4QzZDOUMiLz48YWRkIGFzPSJmaWxsQ29sb3IiIHZhbHVlPSIjRTFENUU3Ii8+PGFkZCBhcz0ic3Ryb2tlQ29sb3IiIHZhbHVlPSIjOTY3M0E2Ii8+PC9hZGQ+PC9teFN0eWxlc2hlZXQ+JykuZG9jdW1lbnRFbGVtZW50OwpHcmFwaC5wcm90b3R5cGUuZGVmYXVsdFRoZW1lcy5kYXJrVGhlbWU9bXhVdGlscy5wYXJzZVhtbCgnPG14U3R5bGVzaGVldD48YWRkIGFzPSJkZWZhdWx0VmVydGV4Ij48YWRkIGFzPSJzaGFwZSIgdmFsdWU9ImxhYmVsIi8+PGFkZCBhcz0icGVyaW1ldGVyIiB2YWx1ZT0icmVjdGFuZ2xlUGVyaW1ldGVyIi8+PGFkZCBhcz0iZm9udFNpemUiIHZhbHVlPSIxMiIvPjxhZGQgYXM9ImZvbnRGYW1pbHkiIHZhbHVlPSJIZWx2ZXRpY2EiLz48YWRkIGFzPSJhbGlnbiIgdmFsdWU9ImNlbnRlciIvPjxhZGQgYXM9InZlcnRpY2FsQWxpZ24iIHZhbHVlPSJtaWRkbGUiLz48YWRkIGFzPSJmaWxsQ29sb3IiIHZhbHVlPSIjMmEyYTJhIi8+PGFkZCBhcz0ic3Ryb2tlQ29sb3IiIHZhbHVlPSIjZjBmMGYwIi8+PGFkZCBhcz0iZm9udENvbG9yIiB2YWx1ZT0iI2YwZjBmMCIvPjwvYWRkPjxhZGQgYXM9ImRlZmF1bHRFZGdlIj48YWRkIGFzPSJzaGFwZSIgdmFsdWU9ImNvbm5lY3RvciIvPjxhZGQgYXM9ImxhYmVsQmFja2dyb3VuZENvbG9yIiB2YWx1ZT0iIzJhMmEyYSIvPjxhZGQgYXM9ImVuZEFycm93IiB2YWx1ZT0iY2xhc3NpYyIvPjxhZGQgYXM9ImZvbnRTaXplIiB2YWx1ZT0iMTEiLz48YWRkIGFzPSJmb250RmFtaWx5IiB2YWx1ZT0iSGVsdmV0aWNhIi8+PGFkZCBhcz0iYWxpZ24iIHZhbHVlPSJjZW50ZXIiLz48YWRkIGFzPSJ2ZXJ0aWNhbEFsaWduIiB2YWx1ZT0ibWlkZGxlIi8+PGFkZCBhcz0icm91bmRlZCIgdmFsdWU9IjEiLz48YWRkIGFzPSJzdHJva2VDb2xvciIgdmFsdWU9IiNmMGYwZjAiLz48YWRkIGFzPSJmb250Q29sb3IiIHZhbHVlPSIjZjBmMGYwIi8+PC9hZGQ+PGFkZCBhcz0idGV4dCI+PGFkZCBhcz0iZmlsbENvbG9yIiB2YWx1ZT0ibm9uZSIvPjxhZGQgYXM9ImdyYWRpZW50Q29sb3IiIHZhbHVlPSJub25lIi8+PGFkZCBhcz0ic3Ryb2tlQ29sb3IiIHZhbHVlPSJub25lIi8+PGFkZCBhcz0iYWxpZ24iIHZhbHVlPSJsZWZ0Ii8+PGFkZCBhcz0idmVydGljYWxBbGlnbiIgdmFsdWU9InRvcCIvPjwvYWRkPjxhZGQgYXM9ImVkZ2VMYWJlbCIgZXh0ZW5kPSJ0ZXh0Ij48YWRkIGFzPSJsYWJlbEJhY2tncm91bmRDb2xvciIgdmFsdWU9IiMyYTJhMmEiLz48YWRkIGFzPSJmb250U2l6ZSIgdmFsdWU9IjExIi8+PC9hZGQ+PGFkZCBhcz0ibGFiZWwiPjxhZGQgYXM9ImZvbnRTdHlsZSIgdmFsdWU9IjEiLz48YWRkIGFzPSJhbGlnbiIgdmFsdWU9ImxlZnQiLz48YWRkIGFzPSJ2ZXJ0aWNhbEFsaWduIiB2YWx1ZT0ibWlkZGxlIi8+PGFkZCBhcz0ic3BhY2luZyIgdmFsdWU9IjIiLz48YWRkIGFzPSJzcGFjaW5nTGVmdCIgdmFsdWU9IjUyIi8+PGFkZCBhcz0iaW1hZ2VXaWR0aCIgdmFsdWU9IjQyIi8+PGFkZCBhcz0iaW1hZ2VIZWlnaHQiIHZhbHVlPSI0MiIvPjxhZGQgYXM9InJvdW5kZWQiIHZhbHVlPSIxIi8+PC9hZGQ+PGFkZCBhcz0iaWNvbiIgZXh0ZW5kPSJsYWJlbCI+PGFkZCBhcz0iYWxpZ24iIHZhbHVlPSJjZW50ZXIiLz48YWRkIGFzPSJpbWFnZUFsaWduIiB2YWx1ZT0iY2VudGVyIi8+PGFkZCBhcz0idmVydGljYWxMYWJlbFBvc2l0aW9uIiB2YWx1ZT0iYm90dG9tIi8+PGFkZCBhcz0idmVydGljYWxBbGlnbiIgdmFsdWU9InRvcCIvPjxhZGQgYXM9InNwYWNpbmdUb3AiIHZhbHVlPSI0Ii8+PGFkZCBhcz0ibGFiZWxCYWNrZ3JvdW5kQ29sb3IiIHZhbHVlPSIjMmEyYTJhIi8+PGFkZCBhcz0ic3BhY2luZyIgdmFsdWU9IjAiLz48YWRkIGFzPSJzcGFjaW5nTGVmdCIgdmFsdWU9IjAiLz48YWRkIGFzPSJzcGFjaW5nVG9wIiB2YWx1ZT0iNiIvPjxhZGQgYXM9ImZvbnRTdHlsZSIgdmFsdWU9IjAiLz48YWRkIGFzPSJpbWFnZVdpZHRoIiB2YWx1ZT0iNDgiLz48YWRkIGFzPSJpbWFnZUhlaWdodCIgdmFsdWU9IjQ4Ii8+PC9hZGQ+PGFkZCBhcz0ic3dpbWxhbmUiPjxhZGQgYXM9InNoYXBlIiB2YWx1ZT0ic3dpbWxhbmUiLz48YWRkIGFzPSJmb250U2l6ZSIgdmFsdWU9IjEyIi8+PGFkZCBhcz0iZm9udFN0eWxlIiB2YWx1ZT0iMSIvPjxhZGQgYXM9InN0YXJ0U2l6ZSIgdmFsdWU9IjIzIi8+PC9hZGQ+PGFkZCBhcz0iZ3JvdXAiPjxhZGQgYXM9InZlcnRpY2FsQWxpZ24iIHZhbHVlPSJ0b3AiLz48YWRkIGFzPSJmaWxsQ29sb3IiIHZhbHVlPSJub25lIi8+PGFkZCBhcz0ic3Ryb2tlQ29sb3IiIHZhbHVlPSJub25lIi8+PGFkZCBhcz0iZ3JhZGllbnRDb2xvciIgdmFsdWU9Im5vbmUiLz48YWRkIGFzPSJwb2ludGVyRXZlbnRzIiB2YWx1ZT0iMCIvPjwvYWRkPjxhZGQgYXM9ImVsbGlwc2UiPjxhZGQgYXM9InNoYXBlIiB2YWx1ZT0iZWxsaXBzZSIvPjxhZGQgYXM9InBlcmltZXRlciIgdmFsdWU9ImVsbGlwc2VQZXJpbWV0ZXIiLz48L2FkZD48YWRkIGFzPSJyaG9tYnVzIj48YWRkIGFzPSJzaGFwZSIgdmFsdWU9InJob21idXMiLz48YWRkIGFzPSJwZXJpbWV0ZXIiIHZhbHVlPSJyaG9tYnVzUGVyaW1ldGVyIi8+PC9hZGQ+PGFkZCBhcz0idHJpYW5nbGUiPjxhZGQgYXM9InNoYXBlIiB2YWx1ZT0idHJpYW5nbGUiLz48YWRkIGFzPSJwZXJpbWV0ZXIiIHZhbHVlPSJ0cmlhbmdsZVBlcmltZXRlciIvPjwvYWRkPjxhZGQgYXM9ImxpbmUiPjxhZGQgYXM9InNoYXBlIiB2YWx1ZT0ibGluZSIvPjxhZGQgYXM9InN0cm9rZVdpZHRoIiB2YWx1ZT0iNCIvPjxhZGQgYXM9ImxhYmVsQmFja2dyb3VuZENvbG9yIiB2YWx1ZT0iIzJhMmEyYSIvPjxhZGQgYXM9InZlcnRpY2FsQWxpZ24iIHZhbHVlPSJ0b3AiLz48YWRkIGFzPSJzcGFjaW5nVG9wIiB2YWx1ZT0iOCIvPjwvYWRkPjxhZGQgYXM9ImltYWdlIj48YWRkIGFzPSJzaGFwZSIgdmFsdWU9ImltYWdlIi8+PGFkZCBhcz0ibGFiZWxCYWNrZ3JvdW5kQ29sb3IiIHZhbHVlPSIjMmEyYTJhIi8+PGFkZCBhcz0idmVydGljYWxBbGlnbiIgdmFsdWU9InRvcCIvPjxhZGQgYXM9InZlcnRpY2FsTGFiZWxQb3NpdGlvbiIgdmFsdWU9ImJvdHRvbSIvPjwvYWRkPjxhZGQgYXM9InJvdW5kSW1hZ2UiIGV4dGVuZD0iaW1hZ2UiPjxhZGQgYXM9InBlcmltZXRlciIgdmFsdWU9ImVsbGlwc2VQZXJpbWV0ZXIiLz48L2FkZD48YWRkIGFzPSJyaG9tYnVzSW1hZ2UiIGV4dGVuZD0iaW1hZ2UiPjxhZGQgYXM9InBlcmltZXRlciIgdmFsdWU9InJob21idXNQZXJpbWV0ZXIiLz48L2FkZD48YWRkIGFzPSJhcnJvdyI+PGFkZCBhcz0ic2hhcGUiIHZhbHVlPSJhcnJvdyIvPjxhZGQgYXM9ImVkZ2VTdHlsZSIgdmFsdWU9Im5vbmUiLz48YWRkIGFzPSJmaWxsQ29sb3IiIHZhbHVlPSIjMmEyYTJhIi8+PC9hZGQ+PC9teFN0eWxlc2hlZXQ+JykuZG9jdW1lbnRFbGVtZW50O0dyYXBoVmlld2VyPWZ1bmN0aW9uKGEsYyxmKXt0aGlzLmluaXQoYSxjLGYpfTtteFV0aWxzLmV4dGVuZChHcmFwaFZpZXdlcixteEV2ZW50U291cmNlKTtHcmFwaFZpZXdlci5wcm90b3R5cGUuZWRpdEJsYW5rVXJsPSJodHRwczovL2FwcC5kaWFncmFtcy5uZXQvIjtHcmFwaFZpZXdlci5wcm90b3R5cGUuaW1hZ2VCYXNlVXJsPSJodHRwczovL2FwcC5kaWFncmFtcy5uZXQvIjtHcmFwaFZpZXdlci5wcm90b3R5cGUudG9vbGJhckhlaWdodD0iQmFja0NvbXBhdCI9PWRvY3VtZW50LmNvbXBhdE1vZGU/Mjg6MzA7R3JhcGhWaWV3ZXIucHJvdG90eXBlLmxpZ2h0Ym94Q2hyb21lPSEwO0dyYXBoVmlld2VyLnByb3RvdHlwZS5saWdodGJveFpJbmRleD05OTk7R3JhcGhWaWV3ZXIucHJvdG90eXBlLnRvb2xiYXJaSW5kZXg9OTk5O0dyYXBoVmlld2VyLnByb3RvdHlwZS5hdXRvRml0PSEwO0dyYXBoVmlld2VyLnByb3RvdHlwZS5jZW50ZXI9ITE7CkdyYXBoVmlld2VyLnByb3RvdHlwZS5hbGxvd1pvb21Jbj0hMTtHcmFwaFZpZXdlci5wcm90b3R5cGUuc2hvd1RpdGxlQXNUb29sdGlwPSExO0dyYXBoVmlld2VyLnByb3RvdHlwZS5jaGVja1Zpc2libGVTdGF0ZT0hMDtHcmFwaFZpZXdlci5wcm90b3R5cGUubWluSGVpZ2h0PTI4O0dyYXBoVmlld2VyLnByb3RvdHlwZS5taW5XaWR0aD0xMDA7CkdyYXBoVmlld2VyLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGEsYyxmKXt0aGlzLmdyYXBoQ29uZmlnPW51bGwhPWY/Zjp7fTt0aGlzLmF1dG9GaXQ9bnVsbCE9dGhpcy5ncmFwaENvbmZpZ1siYXV0by1maXQiXT90aGlzLmdyYXBoQ29uZmlnWyJhdXRvLWZpdCJdOnRoaXMuYXV0b0ZpdDt0aGlzLmFsbG93Wm9vbUluPW51bGwhPXRoaXMuZ3JhcGhDb25maWdbImFsbG93LXpvb20taW4iXT90aGlzLmdyYXBoQ29uZmlnWyJhbGxvdy16b29tLWluIl06dGhpcy5hbGxvd1pvb21Jbjt0aGlzLmNlbnRlcj1udWxsIT10aGlzLmdyYXBoQ29uZmlnLmNlbnRlcj90aGlzLmdyYXBoQ29uZmlnLmNlbnRlcjp0aGlzLmNlbnRlcjt0aGlzLmNoZWNrVmlzaWJsZVN0YXRlPW51bGwhPXRoaXMuZ3JhcGhDb25maWdbImNoZWNrLXZpc2libGUtc3RhdGUiXT90aGlzLmdyYXBoQ29uZmlnWyJjaGVjay12aXNpYmxlLXN0YXRlIl06dGhpcy5jaGVja1Zpc2libGVTdGF0ZTt0aGlzLnRvb2xiYXJJdGVtcz1udWxsIT0KdGhpcy5ncmFwaENvbmZpZy50b29sYmFyP3RoaXMuZ3JhcGhDb25maWcudG9vbGJhci5zcGxpdCgiICIpOltdO3RoaXMuem9vbUVuYWJsZWQ9MDw9bXhVdGlscy5pbmRleE9mKHRoaXMudG9vbGJhckl0ZW1zLCJ6b29tIik7dGhpcy5sYXllcnNFbmFibGVkPTA8PW14VXRpbHMuaW5kZXhPZih0aGlzLnRvb2xiYXJJdGVtcywibGF5ZXJzIik7dGhpcy5saWdodGJveEVuYWJsZWQ9MDw9bXhVdGlscy5pbmRleE9mKHRoaXMudG9vbGJhckl0ZW1zLCJsaWdodGJveCIpO3RoaXMubGlnaHRib3hDbGlja0VuYWJsZWQ9MCE9dGhpcy5ncmFwaENvbmZpZy5saWdodGJveDt0aGlzLmluaXRpYWxXaWR0aD1udWxsIT1hP2Euc3R5bGUud2lkdGg6bnVsbDt0aGlzLndpZHRoSXNFbXB0eT1udWxsIT10aGlzLmluaXRpYWxXaWR0aD8iIj09dGhpcy5pbml0aWFsV2lkdGg6ITA7dGhpcy5jdXJyZW50UGFnZT1wYXJzZUludCh0aGlzLmdyYXBoQ29uZmlnLnBhZ2UpfHwwO3RoaXMucGFnZUlkPXRoaXMuZ3JhcGhDb25maWcucGFnZUlkOwp0aGlzLmVkaXRvcj1udWxsOyJpbmxpbmUiPT10aGlzLmdyYXBoQ29uZmlnWyJ0b29sYmFyLXBvc2l0aW9uIl0mJih0aGlzLm1pbkhlaWdodCs9dGhpcy50b29sYmFySGVpZ2h0KTtpZihudWxsIT1jJiYodGhpcy54bWxEb2N1bWVudD1jLm93bmVyRG9jdW1lbnQsdGhpcy54bWxOb2RlPWMsdGhpcy54bWw9bXhVdGlscy5nZXRYbWwoYyksbnVsbCE9YSkpe3ZhciBkPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5ncmFwaD1uZXcgR3JhcGgoYSk7dGhpcy5ncmFwaC5kZWZhdWx0UGFnZUJhY2tncm91bmRDb2xvcj0idHJhbnNwYXJlbnQiO3RoaXMuZ3JhcGgudHJhbnNwYXJlbnRCYWNrZ3JvdW5kPSExO3RoaXMuZ3JhcGhDb25maWcubW92ZSYmKHRoaXMuZ3JhcGguaXNNb3ZlQ2VsbHNFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4hMH0pO3RoaXMubGlnaHRib3hDbGlja0VuYWJsZWQmJihhLnN0eWxlLmN1cnNvcj0icG9pbnRlciIpO3RoaXMuZWRpdG9yPW5ldyBFZGl0b3IoITAsCm51bGwsbnVsbCx0aGlzLmdyYXBoKTt0aGlzLmVkaXRvci5lZGl0QmxhbmtVcmw9dGhpcy5lZGl0QmxhbmtVcmw7dGhpcy5ncmFwaC5saWdodGJveD0hMDt0aGlzLmdyYXBoLmNlbnRlclpvb209ITE7dGhpcy5ncmFwaC5hdXRvRXh0ZW5kPSExO3RoaXMuZ3JhcGguYXV0b1Njcm9sbD0hMTt0aGlzLmdyYXBoLnNldEVuYWJsZWQoITEpOzE9PXRoaXMuZ3JhcGhDb25maWdbInRvb2xiYXItbm9oaWRlIl0mJih0aGlzLmVkaXRvci5kZWZhdWx0R3JhcGhPdmVyZmxvdz0idmlzaWJsZSIpO3RoaXMueG1sTm9kZT10aGlzLmVkaXRvci5leHRyYWN0R3JhcGhNb2RlbCh0aGlzLnhtbE5vZGUsITApO3RoaXMueG1sTm9kZSE9YyYmKHRoaXMueG1sPW14VXRpbHMuZ2V0WG1sKHRoaXMueG1sTm9kZSksdGhpcy54bWxEb2N1bWVudD10aGlzLnhtbE5vZGUub3duZXJEb2N1bWVudCk7dmFyIGQ9dGhpczt0aGlzLmdyYXBoLmdldEltYWdlRnJvbUJ1bmRsZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIGQuZ2V0SW1hZ2VVcmwoYSl9OwpteENsaWVudC5JU19TVkcmJnRoaXMuZ3JhcGguYWRkU3ZnU2hhZG93KHRoaXMuZ3JhcGgudmlldy5jYW52YXMub3duZXJTVkdFbGVtZW50LG51bGwsITApO2lmKCJteGZpbGUiPT10aGlzLnhtbE5vZGUubm9kZU5hbWUpe3ZhciBiPXRoaXMueG1sTm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZGlhZ3JhbSIpO2lmKDA8Yi5sZW5ndGgpe2lmKG51bGwhPXRoaXMucGFnZUlkKWZvcih2YXIgZT0wO2U8Yi5sZW5ndGg7ZSsrKWlmKHRoaXMucGFnZUlkPT1iW2VdLmdldEF0dHJpYnV0ZSgiaWQiKSl7dGhpcy5jdXJyZW50UGFnZT1lO2JyZWFrfXZhciBmPXRoaXMuZ3JhcGguZ2V0R2xvYmFsVmFyaWFibGUsZD10aGlzO3RoaXMuZ3JhcGguZ2V0R2xvYmFsVmFyaWFibGU9ZnVuY3Rpb24oYSl7dmFyIGM9YltkLmN1cnJlbnRQYWdlXTtyZXR1cm4icGFnZSI9PWE/Yy5nZXRBdHRyaWJ1dGUoIm5hbWUiKXx8IlBhZ2UtIisoZC5jdXJyZW50UGFnZSsxKToicGFnZW51bWJlciI9PWE/ZC5jdXJyZW50UGFnZSsKMToicGFnZWNvdW50Ij09YT9iLmxlbmd0aDpmLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fXRoaXMuZGlhZ3JhbXM9W107dmFyIGs9bnVsbDt0aGlzLnNlbGVjdFBhZ2U9ZnVuY3Rpb24oYSl7dGhpcy5oYW5kbGluZ1Jlc2l6ZXx8KHRoaXMuY3VycmVudFBhZ2U9bXhVdGlscy5tb2QoYSx0aGlzLmRpYWdyYW1zLmxlbmd0aCksdGhpcy51cGRhdGVHcmFwaFhtbChFZGl0b3IucGFyc2VEaWFncmFtTm9kZSh0aGlzLmRpYWdyYW1zW3RoaXMuY3VycmVudFBhZ2VdKSkpfTt0aGlzLnNlbGVjdFBhZ2VCeUlkPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0hMSxjPTA7Yzx0aGlzLmRpYWdyYW1zLmxlbmd0aDtjKyspaWYodGhpcy5kaWFncmFtc1tjXS5nZXRBdHRyaWJ1dGUoImlkIik9PWEpe3RoaXMuc2VsZWN0UGFnZShjKTtiPSEwO2JyZWFrfXJldHVybiBifTtlPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7aWYobnVsbD09dGhpcy54bWxOb2RlfHwibXhmaWxlIiE9dGhpcy54bWxOb2RlLm5vZGVOYW1lKXRoaXMuZGlhZ3JhbXM9CltdO3RoaXMueG1sTm9kZSE9ayYmKHRoaXMuZGlhZ3JhbXM9dGhpcy54bWxOb2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkaWFncmFtIiksaz10aGlzLnhtbE5vZGUpfSk7dGhpcy5hZGRMaXN0ZW5lcigieG1sTm9kZUNoYW5nZWQiLGUpO2UoKTt1cmxQYXJhbXMucGFnZT1kLmN1cnJlbnRQYWdlO3RoaXMuZ3JhcGguZ2V0TW9kZWwoKS5iZWdpblVwZGF0ZSgpO3RyeXt1cmxQYXJhbXMubmF2PTAhPXRoaXMuZ3JhcGhDb25maWcubmF2PyIxIjoiMCIsdGhpcy5lZGl0b3Iuc2V0R3JhcGhYbWwodGhpcy54bWxOb2RlKSx0aGlzLmdyYXBoLmJvcmRlcj1udWxsIT10aGlzLmdyYXBoQ29uZmlnLmJvcmRlcj90aGlzLmdyYXBoQ29uZmlnLmJvcmRlcjo4LHRoaXMuZ3JhcGgudmlldy5zY2FsZT10aGlzLmdyYXBoQ29uZmlnLnpvb218fDF9ZmluYWxseXt0aGlzLmdyYXBoLmdldE1vZGVsKCkuZW5kVXBkYXRlKCl9dGhpcy5ncmFwaC5wYW5uaW5nSGFuZGxlci51c2VMZWZ0QnV0dG9uRm9yUGFubmluZz0KITA7dGhpcy5ncmFwaC5wYW5uaW5nSGFuZGxlci5pc0ZvcmNlUGFubmluZ0V2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiFteEV2ZW50LmlzUG9wdXBUcmlnZ2VyKGEuZ2V0RXZlbnQoKSkmJiJhdXRvIj09dGhpcy5ncmFwaC5jb250YWluZXIuc3R5bGUub3ZlcmZsb3d9O3RoaXMuZ3JhcGgucGFubmluZ0hhbmRsZXIudXNlUG9wdXBUcmlnZ2VyPSExO3RoaXMuZ3JhcGgucGFubmluZ0hhbmRsZXIucGluY2hFbmFibGVkPSExO3RoaXMuZ3JhcGgucGFubmluZ0hhbmRsZXIuaWdub3JlQ2VsbD0hMDt0aGlzLmdyYXBoLnNldFBhbm5pbmcoITEpO251bGwhPXRoaXMuZ3JhcGhDb25maWcudG9vbGJhcj90aGlzLmFkZFRvb2xiYXIoKTpudWxsIT10aGlzLmdyYXBoQ29uZmlnLnRpdGxlJiZ0aGlzLnNob3dUaXRsZUFzVG9vbHRpcCYmYS5zZXRBdHRyaWJ1dGUoInRpdGxlIix0aGlzLmdyYXBoQ29uZmlnLnRpdGxlKTt0aGlzLmFkZFNpemVIYW5kbGVyKCk7dGhpcy5zaG93TGF5ZXJzKHRoaXMuZ3JhcGgpOwp0aGlzLmFkZENsaWNrSGFuZGxlcih0aGlzLmdyYXBoKTt0aGlzLmdyYXBoLnNldFRvb2x0aXBzKDAhPXRoaXMuZ3JhcGhDb25maWcudG9vbHRpcHMpO3RoaXMuZ3JhcGguaW5pdGlhbFZpZXdTdGF0ZT17dHJhbnNsYXRlOnRoaXMuZ3JhcGgudmlldy50cmFuc2xhdGUuY2xvbmUoKSxzY2FsZTp0aGlzLmdyYXBoLnZpZXcuc2NhbGV9O2Q9dGhpczt0aGlzLmdyYXBoLmN1c3RvbUxpbmtDbGlja2VkPWZ1bmN0aW9uKGEpe2lmKCJkYXRhOnBhZ2UvaWQsIj09YS5zdWJzdHJpbmcoMCwxMykpe3ZhciBiPWEuaW5kZXhPZigiLCIpO2Quc2VsZWN0UGFnZUJ5SWQoYS5zdWJzdHJpbmcoYisxKSl8fGFsZXJ0KG14UmVzb3VyY2VzLmdldCgicGFnZU5vdEZvdW5kIil8fCJQYWdlIG5vdCBmb3VuZCIpfWVsc2UgdGhpcy5oYW5kbGVDdXN0b21MaW5rKGEpO3JldHVybiEwfTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgicmVuZGVyIikpfSk7Zj13aW5kb3cuTXV0YXRpb25PYnNlcnZlcnx8CndpbmRvdy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyfHx3aW5kb3cuTW96TXV0YXRpb25PYnNlcnZlcjtpZih0aGlzLmNoZWNrVmlzaWJsZVN0YXRlJiYwPT1hLm9mZnNldFdpZHRoJiYidW5kZWZpbmVkIiE9PXR5cGVvZiBmKXt2YXIgbT10aGlzLmdldE9ic2VydmFibGVQYXJlbnQoYSksaz1uZXcgZihteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihjKXswPGEub2Zmc2V0V2lkdGgmJihrLmRpc2Nvbm5lY3QoKSxkKCkpfSkpO2sub2JzZXJ2ZShtLHthdHRyaWJ1dGVzOiEwfSl9ZWxzZSBkKCl9fTtHcmFwaFZpZXdlci5wcm90b3R5cGUuZ2V0T2JzZXJ2YWJsZVBhcmVudD1mdW5jdGlvbihhKXtmb3IoYT1hLnBhcmVudE5vZGU7YSE9ZG9jdW1lbnQuYm9keSYmbnVsbCE9YS5wYXJlbnROb2RlJiYibm9uZSIhPT1teFV0aWxzLmdldEN1cnJlbnRTdHlsZShhKS5kaXNwbGF5OylhPWEucGFyZW50Tm9kZTtyZXR1cm4gYX07CkdyYXBoVmlld2VyLnByb3RvdHlwZS5nZXRJbWFnZVVybD1mdW5jdGlvbihhKXtudWxsIT1hJiYiaHR0cDovLyIhPWEuc3Vic3RyaW5nKDAsNykmJiJodHRwczovLyIhPWEuc3Vic3RyaW5nKDAsOCkmJiJkYXRhOmltYWdlIiE9YS5zdWJzdHJpbmcoMCwxMCkmJigiLyI9PWEuY2hhckF0KDApJiYoYT1hLnN1YnN0cmluZygxLGEubGVuZ3RoKSksYT10aGlzLmltYWdlQmFzZVVybCthKTtyZXR1cm4gYX07R3JhcGhWaWV3ZXIucHJvdG90eXBlLnNldFhtbE5vZGU9ZnVuY3Rpb24oYSl7YT10aGlzLmVkaXRvci5leHRyYWN0R3JhcGhNb2RlbChhLCEwKTt0aGlzLnhtbERvY3VtZW50PWEub3duZXJEb2N1bWVudDt0aGlzLnhtbD1teFV0aWxzLmdldFhtbChhKTt0aGlzLnhtbE5vZGU9YTt0aGlzLnVwZGF0ZUdyYXBoWG1sKGEpO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJ4bWxOb2RlQ2hhbmdlZCIpKX07CkdyYXBoVmlld2VyLnByb3RvdHlwZS5zZXRGaWxlTm9kZT1mdW5jdGlvbihhKXtudWxsPT10aGlzLnhtbE5vZGUmJih0aGlzLnhtbERvY3VtZW50PWEub3duZXJEb2N1bWVudCx0aGlzLnhtbD1teFV0aWxzLmdldFhtbChhKSx0aGlzLnhtbE5vZGU9YSk7dGhpcy5zZXRHcmFwaFhtbChhKX07R3JhcGhWaWV3ZXIucHJvdG90eXBlLnVwZGF0ZUdyYXBoWG1sPWZ1bmN0aW9uKGEpe3RoaXMuc2V0R3JhcGhYbWwoYSk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoImdyYXBoQ2hhbmdlZCIpKX07CkdyYXBoVmlld2VyLnByb3RvdHlwZS5zZXRHcmFwaFhtbD1mdW5jdGlvbihhKXtudWxsIT10aGlzLmdyYXBoJiYodGhpcy5ncmFwaC52aWV3LnRyYW5zbGF0ZT1uZXcgbXhQb2ludCx0aGlzLmdyYXBoLnZpZXcuc2NhbGU9MSx0aGlzLmdyYXBoLmdldE1vZGVsKCkuY2xlYXIoKSx0aGlzLmVkaXRvci5zZXRHcmFwaFhtbChhKSx0aGlzLndpZHRoSXNFbXB0eT8odGhpcy5ncmFwaC5jb250YWluZXIuc3R5bGUud2lkdGg9IiIsdGhpcy5ncmFwaC5jb250YWluZXIuc3R5bGUuaGVpZ2h0PSIiKTp0aGlzLmdyYXBoLmNvbnRhaW5lci5zdHlsZS53aWR0aD10aGlzLmluaXRpYWxXaWR0aCx0aGlzLnBvc2l0aW9uR3JhcGgoKSx0aGlzLmdyYXBoLmluaXRpYWxWaWV3U3RhdGU9e3RyYW5zbGF0ZTp0aGlzLmdyYXBoLnZpZXcudHJhbnNsYXRlLmNsb25lKCksc2NhbGU6dGhpcy5ncmFwaC52aWV3LnNjYWxlfSl9OwpHcmFwaFZpZXdlci5wcm90b3R5cGUuYWRkU2l6ZUhhbmRsZXI9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdyYXBoLmNvbnRhaW5lcixjPXRoaXMuZ3JhcGguZ2V0R3JhcGhCb3VuZHMoKSxmPSExO2Euc3R5bGUub3ZlcmZsb3c9MSE9dGhpcy5ncmFwaENvbmZpZ1sidG9vbGJhci1ub2hpZGUiXT8iaGlkZGVuIjoidmlzaWJsZSI7dmFyIGQ9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtpZighZil7Zj0hMDt2YXIgYj10aGlzLmdyYXBoLmdldEdyYXBoQm91bmRzKCk7YS5zdHlsZS5vdmVyZmxvdz0xIT10aGlzLmdyYXBoQ29uZmlnWyJ0b29sYmFyLW5vaGlkZSJdP2Iud2lkdGgrMip0aGlzLmdyYXBoLmJvcmRlcj5hLm9mZnNldFdpZHRoLTI/ImF1dG8iOiJoaWRkZW4iOiJ2aXNpYmxlIjtpZihudWxsIT10aGlzLnRvb2xiYXImJjEhPXRoaXMuZ3JhcGhDb25maWdbInRvb2xiYXItbm9oaWRlIl0pe3ZhciBiPWEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksYz1teFV0aWxzLmdldFNjcm9sbE9yaWdpbihkb2N1bWVudC5ib2R5KSwKYz0icmVsYXRpdmUiPT09ZG9jdW1lbnQuYm9keS5zdHlsZS5wb3NpdGlvbj9kb2N1bWVudC5ib2R5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOntsZWZ0Oi1jLngsdG9wOi1jLnl9LGI9e2xlZnQ6Yi5sZWZ0LWMubGVmdCx0b3A6Yi50b3AtYy50b3AsYm90dG9tOmIuYm90dG9tLWMudG9wLHJpZ2h0OmIucmlnaHQtYy5sZWZ0fTt0aGlzLnRvb2xiYXIuc3R5bGUubGVmdD1iLmxlZnQrInB4IjsiYm90dG9tIj09dGhpcy5ncmFwaENvbmZpZ1sidG9vbGJhci1wb3NpdGlvbiJdP3RoaXMudG9vbGJhci5zdHlsZS50b3A9Yi5ib3R0b20tMSsicHgiOiJpbmxpbmUiIT10aGlzLmdyYXBoQ29uZmlnWyJ0b29sYmFyLXBvc2l0aW9uIl0/KHRoaXMudG9vbGJhci5zdHlsZS53aWR0aD1NYXRoLm1heCh0aGlzLm1pblRvb2xiYXJXaWR0aCxhLm9mZnNldFdpZHRoKSsicHgiLHRoaXMudG9vbGJhci5zdHlsZS50b3A9Yi50b3ArMSsicHgiKTp0aGlzLnRvb2xiYXIuc3R5bGUudG9wPWIudG9wKyJweCJ9ZWxzZSBudWxsIT0KdGhpcy50b29sYmFyJiYodGhpcy50b29sYmFyLnN0eWxlLndpZHRoPU1hdGgubWF4KHRoaXMubWluVG9vbGJhcldpZHRoLGEub2Zmc2V0V2lkdGgpKyJweCIpO2Y9ITF9fSksbT1udWxsO3RoaXMuaGFuZGxpbmdSZXNpemU9ITE7dGhpcy5maXRHcmFwaD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXt2YXIgYz1hLm9mZnNldFdpZHRoO2M9PW18fHRoaXMuaGFuZGxpbmdSZXNpemV8fCh0aGlzLmhhbmRsaW5nUmVzaXplPSEwLCJhdXRvIj09YS5zdHlsZS5vdmVyZmxvdyYmKGEuc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiIpLHRoaXMuZ3JhcGgubWF4Rml0U2NhbGU9bnVsbCE9Yj9iOnRoaXMuZ3JhcGhDb25maWcuem9vbXx8KHRoaXMuYWxsb3dab29tSW4/bnVsbDoxKSx0aGlzLmdyYXBoLmZpdChudWxsLG51bGwsbnVsbCxudWxsLG51bGwsITApLCh0aGlzLmNlbnRlcnx8MD09dGhpcy5ncmFwaENvbmZpZy5yZXNpemUmJiIiIT1hLnN0eWxlLmhlaWdodCkmJnRoaXMuZ3JhcGguY2VudGVyKCksCnRoaXMuZ3JhcGgubWF4Rml0U2NhbGU9bnVsbCwwPT10aGlzLmdyYXBoQ29uZmlnLnJlc2l6ZSYmIiIhPWEuc3R5bGUuaGVpZ2h0fHx0aGlzLnVwZGF0ZUNvbnRhaW5lckhlaWdodChhLE1hdGgubWF4KHRoaXMubWluSGVpZ2h0LHRoaXMuZ3JhcGguZ2V0R3JhcGhCb3VuZHMoKS5oZWlnaHQrMip0aGlzLmdyYXBoLmJvcmRlcisxKSksdGhpcy5ncmFwaC5pbml0aWFsVmlld1N0YXRlPXt0cmFuc2xhdGU6dGhpcy5ncmFwaC52aWV3LnRyYW5zbGF0ZS5jbG9uZSgpLHNjYWxlOnRoaXMuZ3JhcGgudmlldy5zY2FsZX0sbT1jLHdpbmRvdy5zZXRUaW1lb3V0KG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5oYW5kbGluZ1Jlc2l6ZT0hMX0pLDApKX0pO0dyYXBoVmlld2VyLnVzZVJlc2l6ZVNlbnNvciYmKG14Q2xpZW50LklTX1FVSVJLU3x8OT49ZG9jdW1lbnQuZG9jdW1lbnRNb2RlPyhteEV2ZW50LmFkZExpc3RlbmVyKHdpbmRvdywicmVzaXplIixkKSx0aGlzLmdyYXBoLmFkZExpc3RlbmVyKCJzaXplIiwKZCkpOm5ldyBSZXNpemVTZW5zb3IodGhpcy5ncmFwaC5jb250YWluZXIsZCkpO2lmKHRoaXMuZ3JhcGhDb25maWcucmVzaXplfHwodGhpcy56b29tRW5hYmxlZHx8IXRoaXMuYXV0b0ZpdCkmJjAhPXRoaXMuZ3JhcGhDb25maWcucmVzaXplKXRoaXMuZ3JhcGgubWluaW11bUNvbnRhaW5lclNpemU9bmV3IG14UmVjdGFuZ2xlKDAsMCx0aGlzLm1pbldpZHRoLHRoaXMubWluSGVpZ2h0KSx0aGlzLmdyYXBoLnJlc2l6ZUNvbnRhaW5lcj0hMDtlbHNlIGlmKCF0aGlzLndpZHRoSXNFbXB0eXx8IiIhPWEuc3R5bGUuaGVpZ2h0JiZ0aGlzLmF1dG9GaXR8fHRoaXMudXBkYXRlQ29udGFpbmVyV2lkdGgoYSxjLndpZHRoKzIqdGhpcy5ncmFwaC5ib3JkZXIpLDA9PXRoaXMuZ3JhcGhDb25maWcucmVzaXplJiYiIiE9YS5zdHlsZS5oZWlnaHR8fHRoaXMudXBkYXRlQ29udGFpbmVySGVpZ2h0KGEsTWF0aC5tYXgodGhpcy5taW5IZWlnaHQsYy5oZWlnaHQrMip0aGlzLmdyYXBoLmJvcmRlcisxKSksCiF0aGlzLnpvb21FbmFibGVkJiZ0aGlzLmF1dG9GaXQpe3ZhciBrPW09bnVsbCxkPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7d2luZG93LmNsZWFyVGltZW91dChrKTt0aGlzLmhhbmRsaW5nUmVzaXplfHwoaz13aW5kb3cuc2V0VGltZW91dChteFV0aWxzLmJpbmQodGhpcyx0aGlzLmZpdEdyYXBoKSwxMDApKX0pO0dyYXBoVmlld2VyLnVzZVJlc2l6ZVNlbnNvciYmKG14Q2xpZW50LklTX1FVSVJLU3x8OT49ZG9jdW1lbnQuZG9jdW1lbnRNb2RlP214RXZlbnQuYWRkTGlzdGVuZXIod2luZG93LCJyZXNpemUiLGQpOm5ldyBSZXNpemVTZW5zb3IodGhpcy5ncmFwaC5jb250YWluZXIsZCkpfWVsc2UgbXhDbGllbnQuSVNfUVVJUktTfHw5Pj1kb2N1bWVudC5kb2N1bWVudE1vZGV8fHRoaXMuZ3JhcGguYWRkTGlzdGVuZXIoInNpemUiLGQpO3ZhciBxPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dmFyIGI9YS5zdHlsZS5taW5XaWR0aDt0aGlzLndpZHRoSXNFbXB0eSYmKGEuc3R5bGUubWluV2lkdGg9CiIxMDAlIik7dmFyIGQ9bnVsbCE9dGhpcy5ncmFwaENvbmZpZ1sibWF4LWhlaWdodCJdP3RoaXMuZ3JhcGhDb25maWdbIm1heC1oZWlnaHQiXToiIiE9YS5zdHlsZS5oZWlnaHQmJnRoaXMuYXV0b0ZpdD9hLm9mZnNldEhlaWdodDp2b2lkIDA7aWYoMDxhLm9mZnNldFdpZHRoJiYodGhpcy5hbGxvd1pvb21Jbnx8Yy53aWR0aCsyKnRoaXMuZ3JhcGguYm9yZGVyPmEub2Zmc2V0V2lkdGh8fGMuaGVpZ2h0KzIqdGhpcy5ncmFwaC5ib3JkZXI+ZCkpe3ZhciBmPW51bGw7bnVsbCE9ZCYmYy5oZWlnaHQrMip0aGlzLmdyYXBoLmJvcmRlcj5kLTImJihmPShkLTIqdGhpcy5ncmFwaC5ib3JkZXItMikvYy5oZWlnaHQpO3RoaXMuZml0R3JhcGgoZil9ZWxzZSB0aGlzLndpZHRoSXNFbXB0eXx8MCE9dGhpcy5ncmFwaENvbmZpZy5yZXNpemV8fCIiPT1hLnN0eWxlLmhlaWdodD8odGhpcy5ncmFwaC52aWV3LnNldFRyYW5zbGF0ZShNYXRoLmZsb29yKHRoaXMuZ3JhcGguYm9yZGVyLWMueC90aGlzLmdyYXBoLnZpZXcuc2NhbGUpLApNYXRoLmZsb29yKHRoaXMuZ3JhcGguYm9yZGVyLWMueS90aGlzLmdyYXBoLnZpZXcuc2NhbGUpKSxtPWEub2Zmc2V0V2lkdGgpOnRoaXMuZ3JhcGguY2VudGVyKCghdGhpcy53aWR0aElzRW1wdHl8fGMud2lkdGg8dGhpcy5taW5XaWR0aCkmJjEhPXRoaXMuZ3JhcGhDb25maWcucmVzaXplKTthLnN0eWxlLm1pbldpZHRoPWJ9KTtteENsaWVudC5JU19RVUlSS1N8fDg9PWRvY3VtZW50LmRvY3VtZW50TW9kZT93aW5kb3cuc2V0VGltZW91dChxLDApOnEoKTt0aGlzLnBvc2l0aW9uR3JhcGg9ZnVuY3Rpb24oKXtjPXRoaXMuZ3JhcGguZ2V0R3JhcGhCb3VuZHMoKTttPW51bGw7cSgpfX07R3JhcGhWaWV3ZXIucHJvdG90eXBlLnVwZGF0ZUNvbnRhaW5lcldpZHRoPWZ1bmN0aW9uKGEsYyl7YS5zdHlsZS53aWR0aD1jKyJweCJ9OwpHcmFwaFZpZXdlci5wcm90b3R5cGUudXBkYXRlQ29udGFpbmVySGVpZ2h0PWZ1bmN0aW9uKGEsYyl7aWYodGhpcy56b29tRW5hYmxlZHx8IXRoaXMuYXV0b0ZpdHx8IkJhY2tDb21wYXQiPT1kb2N1bWVudC5jb21wYXRNb2RlfHxteENsaWVudC5JU19RVUlSS1N8fDg9PWRvY3VtZW50LmRvY3VtZW50TW9kZSlhLnN0eWxlLmhlaWdodD1jKyJweCJ9OwpHcmFwaFZpZXdlci5wcm90b3R5cGUuc2hvd0xheWVycz1mdW5jdGlvbihhLGMpe3ZhciBmPXRoaXMuZ3JhcGhDb25maWcubGF5ZXJzLGY9bnVsbCE9Zj9mLnNwbGl0KCIgIik6W10sZD10aGlzLmdyYXBoQ29uZmlnLmxheWVySWRzLG09bnVsbCE9ZCYmMDxkLmxlbmd0aDtpZigwPGYubGVuZ3RofHxtfHxudWxsIT1jKXt2YXIgaz1udWxsIT1jP2MuZ2V0TW9kZWwoKTpudWxsLHE9YS5nZXRNb2RlbCgpO3EuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKHZhciBiPXEuZ2V0Q2hpbGRDb3VudChxLnJvb3QpLGU9MDtlPGI7ZSsrKXEuc2V0VmlzaWJsZShxLmdldENoaWxkQXQocS5yb290LGUpLG51bGwhPWM/ay5pc1Zpc2libGUoay5nZXRDaGlsZEF0KGsucm9vdCxlKSk6ITEpO2lmKG51bGw9PWspaWYobSlmb3IoZT0wO2U8ZC5sZW5ndGg7ZSsrKXEuc2V0VmlzaWJsZShxLmdldENlbGwoZFtlXSksITApO2Vsc2UgZm9yKGU9MDtlPGYubGVuZ3RoO2UrKylxLnNldFZpc2libGUocS5nZXRDaGlsZEF0KHEucm9vdCwKcGFyc2VJbnQoZltlXSkpLCEwKX1maW5hbGx5e3EuZW5kVXBkYXRlKCl9fX07CkdyYXBoVmlld2VyLnByb3RvdHlwZS5hZGRUb29sYmFyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIsYyxkKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtlLnN0eWxlLmJvcmRlclJpZ2h0PSIxcHggc29saWQgI2QwZDBkMCI7ZS5zdHlsZS5wYWRkaW5nPSIzcHggNnB4IDNweCA2cHgiO214RXZlbnQuYWRkTGlzdGVuZXIoZSwiY2xpY2siLGEpO251bGwhPWMmJmUuc2V0QXR0cmlidXRlKCJ0aXRsZSIsYyk7ZS5zdHlsZS5kaXNwbGF5PW14Q2xpZW50LklTX1FVSVJLUz8iaW5saW5lIjoiaW5saW5lLWJsb2NrIjthPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpO2Euc2V0QXR0cmlidXRlKCJib3JkZXIiLCIwIik7YS5zZXRBdHRyaWJ1dGUoInNyYyIsYik7bnVsbD09ZHx8ZD8obXhFdmVudC5hZGRMaXN0ZW5lcihlLCJtb3VzZWVudGVyIixmdW5jdGlvbigpe2Uuc3R5bGUuYmFja2dyb3VuZENvbG9yPSIjZGRkIn0pLG14RXZlbnQuYWRkTGlzdGVuZXIoZSwibW91c2VsZWF2ZSIsCmZ1bmN0aW9uKCl7ZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9IiNlZWUifSksbXhVdGlscy5zZXRPcGFjaXR5KGEsNjApLGUuc3R5bGUuY3Vyc29yPSJwb2ludGVyIik6bXhVdGlscy5zZXRPcGFjaXR5KGUsMzApO2UuYXBwZW5kQ2hpbGQoYSk7Zi5hcHBlbmRDaGlsZChlKTtwKys7cmV0dXJuIGV9dmFyIGM9dGhpcy5ncmFwaC5jb250YWluZXI7ImJvdHRvbSI9PXRoaXMuZ3JhcGhDb25maWdbInRvb2xiYXItcG9zaXRpb24iXT9jLnN0eWxlLm1hcmdpbkJvdHRvbT10aGlzLnRvb2xiYXJIZWlnaHQrInB4IjoiaW5saW5lIiE9dGhpcy5ncmFwaENvbmZpZ1sidG9vbGJhci1wb3NpdGlvbiJdJiYoYy5zdHlsZS5tYXJnaW5Ub3A9dGhpcy50b29sYmFySGVpZ2h0KyJweCIpO3ZhciBmPWMub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtmLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7Zi5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIjtmLnN0eWxlLmJveFNpemluZz0iYm9yZGVyLWJveCI7CmYuc3R5bGUud2hpdGVTcGFjZT0ibm93cmFwIjtmLnN0eWxlLnRleHRBbGlnbj0ibGVmdCI7Zi5zdHlsZS56SW5kZXg9dGhpcy50b29sYmFyWkluZGV4O2Yuc3R5bGUuYmFja2dyb3VuZENvbG9yPSIjZWVlIjtmLnN0eWxlLmhlaWdodD10aGlzLnRvb2xiYXJIZWlnaHQrInB4Ijt0aGlzLnRvb2xiYXI9ZjtpZigiaW5saW5lIj09dGhpcy5ncmFwaENvbmZpZ1sidG9vbGJhci1wb3NpdGlvbiJdKXtteFV0aWxzLnNldFByZWZpeGVkU3R5bGUoZi5zdHlsZSwidHJhbnNpdGlvbiIsIm9wYWNpdHkgMTAwbXMgZWFzZS1pbi1vdXQiKTtteFV0aWxzLnNldE9wYWNpdHkoZiwzMCk7dmFyIGQ9bnVsbCxtPW51bGwsaz1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtudWxsIT1kJiYod2luZG93LmNsZWFyVGltZW91dChkKSxmYWRlVGhlYWQ9bnVsbCk7bnVsbCE9bSYmKHdpbmRvdy5jbGVhclRpbWVvdXQobSksZmFkZVRoZWFkMj1udWxsKTtkPXdpbmRvdy5zZXRUaW1lb3V0KG14VXRpbHMuYmluZCh0aGlzLApmdW5jdGlvbigpe214VXRpbHMuc2V0T3BhY2l0eShmLDApO2Q9bnVsbDttPXdpbmRvdy5zZXRUaW1lb3V0KG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7Zi5zdHlsZS5kaXNwbGF5PSJub25lIjttPW51bGx9KSwxMDApfSksYXx8MjAwKX0pLHE9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7bnVsbCE9ZCYmKHdpbmRvdy5jbGVhclRpbWVvdXQoZCksZmFkZVRoZWFkPW51bGwpO251bGwhPW0mJih3aW5kb3cuY2xlYXJUaW1lb3V0KG0pLGZhZGVUaGVhZDI9bnVsbCk7Zi5zdHlsZS5kaXNwbGF5PSIiO214VXRpbHMuc2V0T3BhY2l0eShmLGF8fDMwKX0pO214RXZlbnQuYWRkTGlzdGVuZXIodGhpcy5ncmFwaC5jb250YWluZXIsbXhDbGllbnQuSVNfUE9JTlRFUj8icG9pbnRlcm1vdmUiOiJtb3VzZW1vdmUiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe214RXZlbnQuaXNUb3VjaEV2ZW50KGEpfHwocSgzMCksaygpKX0pKTtteEV2ZW50LmFkZExpc3RlbmVyKGYsbXhDbGllbnQuSVNfUE9JTlRFUj8KInBvaW50ZXJtb3ZlIjoibW91c2Vtb3ZlIixmdW5jdGlvbihhKXtteEV2ZW50LmNvbnN1bWUoYSl9KTtteEV2ZW50LmFkZExpc3RlbmVyKGYsIm1vdXNlZW50ZXIiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3EoMTAwKX0pKTtteEV2ZW50LmFkZExpc3RlbmVyKGYsIm1vdXNlbW92ZSIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7cSgxMDApO214RXZlbnQuY29uc3VtZShhKX0pKTtteEV2ZW50LmFkZExpc3RlbmVyKGYsIm1vdXNlbGVhdmUiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe214RXZlbnQuaXNUb3VjaEV2ZW50KGEpfHxxKDMwKX0pKTt2YXIgYj10aGlzLmdyYXBoLGU9Yi5nZXRUb2xlcmFuY2UoKTtiLmFkZE1vdXNlTGlzdGVuZXIoe3N0YXJ0WDowLHN0YXJ0WTowLHNjcm9sbExlZnQ6MCxzY3JvbGxUb3A6MCxtb3VzZURvd246ZnVuY3Rpb24oYSxjKXt0aGlzLnN0YXJ0WD1jLmdldEdyYXBoWCgpO3RoaXMuc3RhcnRZPWMuZ2V0R3JhcGhZKCk7CnRoaXMuc2Nyb2xsTGVmdD1iLmNvbnRhaW5lci5zY3JvbGxMZWZ0O3RoaXMuc2Nyb2xsVG9wPWIuY29udGFpbmVyLnNjcm9sbFRvcH0sbW91c2VNb3ZlOmZ1bmN0aW9uKGEsYil7fSxtb3VzZVVwOmZ1bmN0aW9uKGEsYyl7bXhFdmVudC5pc1RvdWNoRXZlbnQoYy5nZXRFdmVudCgpKSYmTWF0aC5hYnModGhpcy5zY3JvbGxMZWZ0LWIuY29udGFpbmVyLnNjcm9sbExlZnQpPGUmJk1hdGguYWJzKHRoaXMuc2Nyb2xsVG9wLWIuY29udGFpbmVyLnNjcm9sbFRvcCk8ZSYmTWF0aC5hYnModGhpcy5zdGFydFgtYy5nZXRHcmFwaFgoKSk8ZSYmTWF0aC5hYnModGhpcy5zdGFydFktYy5nZXRHcmFwaFkoKSk8ZSYmKDA8cGFyc2VGbG9hdChmLnN0eWxlLm9wYWNpdHl8fDApP2soKTpxKDMwKSl9fSl9Zm9yKHZhciBnPXRoaXMudG9vbGJhckl0ZW1zLHA9MCxsPW51bGwsbj1udWxsLHY9MDt2PGcubGVuZ3RoO3YrKyl7dmFyIHQ9Z1t2XTtpZigicGFnZXMiPT10KXtuPWMub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKbi5zdHlsZS5jc3NUZXh0PSJkaXNwbGF5OmlubGluZS1ibG9jaztwb3NpdGlvbjpyZWxhdGl2ZTtwYWRkaW5nOjNweCA0cHggMCA0cHg7dmVydGljYWwtYWxpZ246dG9wO2ZvbnQtZmFtaWx5OkhlbHZldGljYSxBcmlhbDtmb250LXNpemU6MTJweDt0b3A6NHB4O2N1cnNvcjpkZWZhdWx0OyI7bXhVdGlscy5zZXRPcGFjaXR5KG4sNzApO3ZhciB4PWEobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnNlbGVjdFBhZ2UodGhpcy5jdXJyZW50UGFnZS0xKX0pLEVkaXRvci5wcmV2aW91c0ltYWdlLG14UmVzb3VyY2VzLmdldCgicHJldmlvdXNQYWdlIil8fCJQcmV2aW91cyBQYWdlIik7eC5zdHlsZS5ib3JkZXJSaWdodFN0eWxlPSJub25lIjt4LnN0eWxlLnBhZGRpbmdMZWZ0PSIwcHgiO3guc3R5bGUucGFkZGluZ1JpZ2h0PSIwcHgiO2YuYXBwZW5kQ2hpbGQobik7dmFyIEE9YShteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuc2VsZWN0UGFnZSh0aGlzLmN1cnJlbnRQYWdlKwoxKX0pLEVkaXRvci5uZXh0SW1hZ2UsbXhSZXNvdXJjZXMuZ2V0KCJuZXh0UGFnZSIpfHwiTmV4dCBQYWdlIik7QS5zdHlsZS5wYWRkaW5nTGVmdD0iMHB4IjtBLnN0eWxlLnBhZGRpbmdSaWdodD0iMHB4Ijt0PW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7bi5pbm5lckhUTUw9IiI7bXhVdGlscy53cml0ZShuLHRoaXMuY3VycmVudFBhZ2UrMSsiIC8gIit0aGlzLmRpYWdyYW1zLmxlbmd0aCk7bi5zdHlsZS5kaXNwbGF5PTE8dGhpcy5kaWFncmFtcy5sZW5ndGg/ImlubGluZS1ibG9jayI6Im5vbmUiO3guc3R5bGUuZGlzcGxheT1uLnN0eWxlLmRpc3BsYXk7QS5zdHlsZS5kaXNwbGF5PW4uc3R5bGUuZGlzcGxheX0pO3RoaXMuYWRkTGlzdGVuZXIoImdyYXBoQ2hhbmdlZCIsdCk7dCgpfWVsc2UgaWYoInpvb20iPT10KXRoaXMuem9vbUVuYWJsZWQmJihhKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5ncmFwaC56b29tT3V0KCl9KSxFZGl0b3Iuem9vbU91dEltYWdlLApteFJlc291cmNlcy5nZXQoInpvb21PdXQiKXx8Ilpvb20gT3V0IiksYShteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuZ3JhcGguem9vbUluKCl9KSxFZGl0b3Iuem9vbUluSW1hZ2UsbXhSZXNvdXJjZXMuZ2V0KCJ6b29tSW4iKXx8Ilpvb20gSW4iKSxhKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5ncmFwaC52aWV3LnNjYWxlQW5kVHJhbnNsYXRlKHRoaXMuZ3JhcGguaW5pdGlhbFZpZXdTdGF0ZS5zY2FsZSx0aGlzLmdyYXBoLmluaXRpYWxWaWV3U3RhdGUudHJhbnNsYXRlLngsdGhpcy5ncmFwaC5pbml0aWFsVmlld1N0YXRlLnRyYW5zbGF0ZS55KX0pLEVkaXRvci56b29tRml0SW1hZ2UsbXhSZXNvdXJjZXMuZ2V0KCJmaXQiKXx8IkZpdCIpKTtlbHNlIGlmKCJsYXllcnMiPT10KXtpZih0aGlzLmxheWVyc0VuYWJsZWQpe3ZhciBEPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKSxCPWEobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7aWYobnVsbCE9bClsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobCksCmw9bnVsbDtlbHNle2w9dGhpcy5ncmFwaC5jcmVhdGVMYXllcnNEaWFsb2coKTtteEV2ZW50LmFkZExpc3RlbmVyKGwsIm1vdXNlbGVhdmUiLGZ1bmN0aW9uKCl7bC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGwpO2w9bnVsbH0pO2E9Qi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtsLnN0eWxlLndpZHRoPSIxNDBweCI7bC5zdHlsZS5wYWRkaW5nPSIycHggMHB4IDJweCAwcHgiO2wuc3R5bGUuYm9yZGVyPSIxcHggc29saWQgI2QwZDBkMCI7bC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9IiNlZWUiO2wuc3R5bGUuZm9udEZhbWlseT0iSGVsdmV0aWNhIE5ldWUsSGVsdmV0aWNhLEFyaWFsIFVuaWNvZGUgTVMsQXJpYWwiO2wuc3R5bGUuZm9udFNpemU9IjExcHgiO2wuc3R5bGUuekluZGV4PXRoaXMudG9vbGJhclpJbmRleCsxO214VXRpbHMuc2V0T3BhY2l0eShsLDgwKTt2YXIgYj1teFV0aWxzLmdldERvY3VtZW50U2Nyb2xsT3JpZ2luKGRvY3VtZW50KTtsLnN0eWxlLmxlZnQ9Yi54K2EubGVmdCsKInB4IjtsLnN0eWxlLnRvcD1iLnkrYS5ib3R0b20rInB4Ijtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGwpfX0pLEVkaXRvci5sYXllcnNJbWFnZSxteFJlc291cmNlcy5nZXQoImxheWVycyIpfHwiTGF5ZXJzIik7RC5hZGRMaXN0ZW5lcihteEV2ZW50LkNIQU5HRSxmdW5jdGlvbigpe0Iuc3R5bGUuZGlzcGxheT0xPEQuZ2V0Q2hpbGRDb3VudChELnJvb3QpPyJpbmxpbmUtYmxvY2siOiJub25lIn0pO0Iuc3R5bGUuZGlzcGxheT0xPEQuZ2V0Q2hpbGRDb3VudChELnJvb3QpPyJpbmxpbmUtYmxvY2siOiJub25lIn19ZWxzZSJsaWdodGJveCI9PXQ/dGhpcy5saWdodGJveEVuYWJsZWQmJmEobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnNob3dMaWdodGJveCgpfSksRWRpdG9yLm1heGltaXplSW1hZ2UsbXhSZXNvdXJjZXMuZ2V0KCJzaG93Iil8fCJTaG93Iik6bnVsbCE9dGhpcy5ncmFwaENvbmZpZ1sidG9vbGJhci1idXR0b25zIl0mJih0PXRoaXMuZ3JhcGhDb25maWdbInRvb2xiYXItYnV0dG9ucyJdW3RdLApudWxsIT10JiZhKG51bGw9PXQuZW5hYmxlZHx8dC5lbmFibGVkP3QuaGFuZGxlcjpmdW5jdGlvbigpe30sdC5pbWFnZSx0LnRpdGxlLHQuZW5hYmxlZCkpfW51bGwhPXRoaXMuZ3JhcGgubWluaW11bUNvbnRhaW5lclNpemUmJih0aGlzLmdyYXBoLm1pbmltdW1Db250YWluZXJTaXplLndpZHRoPTM0KnApO251bGwhPXRoaXMuZ3JhcGhDb25maWcudGl0bGUmJihnPWMub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxnLnN0eWxlLmNzc1RleHQ9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3Bvc2l0aW9uOnJlbGF0aXZlO3BhZGRpbmc6M3B4IDZweCAwIDZweDt2ZXJ0aWNhbC1hbGlnbjp0b3A7Zm9udC1mYW1pbHk6SGVsdmV0aWNhLEFyaWFsO2ZvbnQtc2l6ZToxMnB4O3RvcDo0cHg7Y3Vyc29yOmRlZmF1bHQ7IixnLnNldEF0dHJpYnV0ZSgidGl0bGUiLHRoaXMuZ3JhcGhDb25maWcudGl0bGUpLG14VXRpbHMud3JpdGUoZyx0aGlzLmdyYXBoQ29uZmlnLnRpdGxlKSxteFV0aWxzLnNldE9wYWNpdHkoZywKNzApLGYuYXBwZW5kQ2hpbGQoZyksdGhpcy5maWxlbmFtZT1nKTt0aGlzLm1pblRvb2xiYXJXaWR0aD0zNCpwO3ZhciBDPWMuc3R5bGUuYm9yZGVyLGc9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtmLnN0eWxlLndpZHRoPSJpbmxpbmUiPT10aGlzLmdyYXBoQ29uZmlnWyJ0b29sYmFyLXBvc2l0aW9uIl0/ImF1dG8iOk1hdGgubWF4KHRoaXMubWluVG9vbGJhcldpZHRoLGMub2Zmc2V0V2lkdGgpKyJweCI7Zi5zdHlsZS5ib3JkZXI9IjFweCBzb2xpZCAjZDBkMGQwIjtpZigxIT10aGlzLmdyYXBoQ29uZmlnWyJ0b29sYmFyLW5vaGlkZSJdKXt2YXIgYT1jLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGI9bXhVdGlscy5nZXRTY3JvbGxPcmlnaW4oZG9jdW1lbnQuYm9keSksYj0icmVsYXRpdmUiPT09ZG9jdW1lbnQuYm9keS5zdHlsZS5wb3NpdGlvbj9kb2N1bWVudC5ib2R5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOntsZWZ0Oi1iLngsdG9wOi1iLnl9LGE9e2xlZnQ6YS5sZWZ0LQpiLmxlZnQsdG9wOmEudG9wLWIudG9wLGJvdHRvbTphLmJvdHRvbS1iLnRvcCxyaWdodDphLnJpZ2h0LWIubGVmdH07Zi5zdHlsZS5sZWZ0PWEubGVmdCsicHgiOyJib3R0b20iPT10aGlzLmdyYXBoQ29uZmlnWyJ0b29sYmFyLXBvc2l0aW9uIl0/Zi5zdHlsZS50b3A9YS5ib3R0b20tMSsicHgiOiJpbmxpbmUiIT10aGlzLmdyYXBoQ29uZmlnWyJ0b29sYmFyLXBvc2l0aW9uIl0/KGYuc3R5bGUubWFyZ2luVG9wPS10aGlzLnRvb2xiYXJIZWlnaHQrInB4IixmLnN0eWxlLnRvcD1hLnRvcCsxKyJweCIpOmYuc3R5bGUudG9wPWEudG9wKyJweCI7IjFweCBzb2xpZCB0cmFuc3BhcmVudCI9PUMmJihjLnN0eWxlLmJvcmRlcj0iMXB4IHNvbGlkICNkMGQwZDAiKTtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGYpO3ZhciBkPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7bnVsbCE9Zi5wYXJlbnROb2RlJiZmLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZik7bnVsbCE9bCYmKGwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChsKSwKbD1udWxsKTtjLnN0eWxlLmJvcmRlcj1DfSk7bXhFdmVudC5hZGRMaXN0ZW5lcihkb2N1bWVudCwibW91c2Vtb3ZlIixmdW5jdGlvbihhKXtmb3IoYT1teEV2ZW50LmdldFNvdXJjZShhKTtudWxsIT1hOyl7aWYoYT09Y3x8YT09Znx8YT09bClyZXR1cm47YT1hLnBhcmVudE5vZGV9ZCgpfSk7bXhFdmVudC5hZGRMaXN0ZW5lcihkb2N1bWVudCwibW91c2VsZWF2ZSIsZnVuY3Rpb24oYSl7ZCgpfSl9ZWxzZSBmLnN0eWxlLnRvcD0tdGhpcy50b29sYmFySGVpZ2h0KyJweCIsYy5hcHBlbmRDaGlsZChmKX0pOzEhPXRoaXMuZ3JhcGhDb25maWdbInRvb2xiYXItbm9oaWRlIl0/bXhFdmVudC5hZGRMaXN0ZW5lcihjLCJtb3VzZWVudGVyIixnKTpnKCl9OwpHcmFwaFZpZXdlci5wcm90b3R5cGUuYWRkQ2xpY2tIYW5kbGVyPWZ1bmN0aW9uKGEsYyl7YS5saW5rUG9saWN5PXRoaXMuZ3JhcGhDb25maWcudGFyZ2V0fHxhLmxpbmtQb2xpY3k7YS5hZGRDbGlja0hhbmRsZXIodGhpcy5ncmFwaENvbmZpZy5oaWdobGlnaHQsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oZixkKXtpZihudWxsPT1kKXt2YXIgbT1teEV2ZW50LmdldFNvdXJjZShmKTsiYSI9PW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmKGQ9bS5nZXRBdHRyaWJ1dGUoImhyZWYiKSl9bnVsbCE9Yz9udWxsPT1kfHxhLmlzQ3VzdG9tTGluayhkKT9teEV2ZW50LmNvbnN1bWUoZik6YS5pc0V4dGVybmFsUHJvdG9jb2woZCl8fGEuaXNCbGFua0xpbmsoZCl8fHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5kZXN0cm95KCl9LDApOm51bGwhPWQmJm51bGw9PWMmJmEuaXNDdXN0b21MaW5rKGQpJiYobXhFdmVudC5pc1RvdWNoRXZlbnQoZil8fCFteEV2ZW50LmlzUG9wdXBUcmlnZ2VyKGYpKSYmCmEuY3VzdG9tTGlua0NsaWNrZWQoZCkmJm14RXZlbnQuY29uc3VtZShmKX0pLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe251bGwhPWN8fCF0aGlzLmxpZ2h0Ym94Q2xpY2tFbmFibGVkfHxteEV2ZW50LmlzVG91Y2hFdmVudChhKSYmMCE9dGhpcy50b29sYmFySXRlbXMubGVuZ3RofHx0aGlzLnNob3dMaWdodGJveCgpfSkpfTsKR3JhcGhWaWV3ZXIucHJvdG90eXBlLnNob3dMaWdodGJveD1mdW5jdGlvbihhLGMsZil7aWYoIm9wZW4iPT10aGlzLmdyYXBoQ29uZmlnLmxpZ2h0Ym94fHx3aW5kb3cuc2VsZiE9PXdpbmRvdy50b3ApaWYobnVsbD09dGhpcy5saWdodGJveFdpbmRvd3x8dGhpcy5saWdodGJveFdpbmRvdy5jbG9zZWQpe2E9bnVsbCE9YT9hOm51bGwhPXRoaXMuZ3JhcGhDb25maWcuZWRpdGFibGU/dGhpcy5ncmFwaENvbmZpZy5lZGl0YWJsZTohMDtmPXtjbGllbnQ6MSxsaWdodGJveDoxLHRhcmdldDpudWxsIT1mP2Y6ImJsYW5rIn07YSYmKGYuZWRpdD10aGlzLmdyYXBoQ29uZmlnLmVkaXR8fCJfYmxhbmsiKTtpZihudWxsIT1jP2M6MSlmLmNsb3NlPTE7dGhpcy5sYXllcnNFbmFibGVkJiYoZi5sYXllcnM9MSk7bnVsbCE9dGhpcy5ncmFwaENvbmZpZyYmMCE9dGhpcy5ncmFwaENvbmZpZy5uYXYmJihmLm5hdj0xKTtudWxsIT10aGlzLmdyYXBoQ29uZmlnJiZudWxsIT10aGlzLmdyYXBoQ29uZmlnLmhpZ2hsaWdodCYmCihmLmhpZ2hsaWdodD10aGlzLmdyYXBoQ29uZmlnLmhpZ2hsaWdodC5zdWJzdHJpbmcoMSkpO251bGwhPXRoaXMuY3VycmVudFBhZ2UmJjA8dGhpcy5jdXJyZW50UGFnZSYmKGYucGFnZT10aGlzLmN1cnJlbnRQYWdlKTsidW5kZWZpbmVkIiE9PXR5cGVvZiB3aW5kb3cucG9zdE1lc3NhZ2UmJihudWxsPT1kb2N1bWVudC5kb2N1bWVudE1vZGV8fDEwPD1kb2N1bWVudC5kb2N1bWVudE1vZGUpP251bGw9PXRoaXMubGlnaHRib3hXaW5kb3cmJm14RXZlbnQuYWRkTGlzdGVuZXIod2luZG93LCJtZXNzYWdlIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXsicmVhZHkiPT1hLmRhdGEmJmEuc291cmNlPT10aGlzLmxpZ2h0Ym94V2luZG93JiZ0aGlzLmxpZ2h0Ym94V2luZG93LnBvc3RNZXNzYWdlKHRoaXMueG1sLCIqIil9KSk6Zi5kYXRhPWVuY29kZVVSSUNvbXBvbmVudCh0aGlzLnhtbCk7YT0iYXBwLmRpYWdyYW1zLm5ldCI7IjEiPT11cmxQYXJhbXMuZGV2JiYoZi5kZXY9IjEiLApmLmRyYXdkZXY9IjEiLGE9InRlc3QuZHJhdy5pbyIpO3RoaXMubGlnaHRib3hXaW5kb3c9d2luZG93Lm9wZW4oImh0dHBzOi8vIithKyIvI1AiK2VuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShmKSkpfWVsc2UgdGhpcy5saWdodGJveFdpbmRvdy5mb2N1cygpO2Vsc2UgdGhpcy5zaG93TG9jYWxMaWdodGJveCgpfTsKR3JhcGhWaWV3ZXIucHJvdG90eXBlLnNob3dMb2NhbExpZ2h0Ym94PWZ1bmN0aW9uKCl7dmFyIGE9bXhVdGlscy5nZXREb2N1bWVudFNjcm9sbE9yaWdpbihkb2N1bWVudCksYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtteENsaWVudC5JU19RVUlSS1M/KGMuc3R5bGUucG9zaXRpb249ImFic29sdXRlIixjLnN0eWxlLmxlZnQ9YS54KyJweCIsYy5zdHlsZS50b3A9YS55KyJweCIsYy5zdHlsZS53aWR0aD1kb2N1bWVudC5ib2R5Lm9mZnNldFdpZHRoKyJweCIsYy5zdHlsZS5oZWlnaHQ9ZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQrInB4Iik6Yy5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjpmaXhlZDt0b3A6MDtsZWZ0OjA7Ym90dG9tOjA7cmlnaHQ6MDsiO2Muc3R5bGUuekluZGV4PXRoaXMubGlnaHRib3haSW5kZXg7Yy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9IiMwMDAwMDAiO214VXRpbHMuc2V0T3BhY2l0eShjLDcwKTtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGMpOwp2YXIgZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTtmLnNldEF0dHJpYnV0ZSgiYm9yZGVyIiwiMCIpO2Yuc2V0QXR0cmlidXRlKCJzcmMiLEVkaXRvci5jbG9zZUltYWdlKTtteENsaWVudC5JU19RVUlSS1M/KGYuc3R5bGUucG9zaXRpb249ImFic29sdXRlIixmLnN0eWxlLnJpZ2h0PSIzMnB4IixmLnN0eWxlLnRvcD1hLnkrMzIrInB4Iik6Zi5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjpmaXhlZDt0b3A6MzJweDtyaWdodDozMnB4OyI7Zi5zdHlsZS5jdXJzb3I9InBvaW50ZXIiO214RXZlbnQuYWRkTGlzdGVuZXIoZiwiY2xpY2siLGZ1bmN0aW9uKCl7bS5kZXN0cm95KCl9KTt1cmxQYXJhbXMucGFnZXM9IjEiO3VybFBhcmFtcy5wYWdlPXRoaXMuY3VycmVudFBhZ2U7dXJsUGFyYW1zWyJwYWdlLWlkIl09dGhpcy5ncmFwaENvbmZpZy5wYWdlSWQ7dXJsUGFyYW1zWyJsYXllci1pZHMiXT1udWxsIT10aGlzLmdyYXBoQ29uZmlnLmxheWVySWRzJiYwPHRoaXMuZ3JhcGhDb25maWcubGF5ZXJJZHMubGVuZ3RoPwp0aGlzLmdyYXBoQ29uZmlnLmxheWVySWRzLmpvaW4oIiAiKTpudWxsO3VybFBhcmFtcy5uYXY9MCE9dGhpcy5ncmFwaENvbmZpZy5uYXY/IjEiOiIwIjt1cmxQYXJhbXMubGF5ZXJzPXRoaXMubGF5ZXJzRW5hYmxlZD8iMSI6IjAiO2lmKG51bGw9PWRvY3VtZW50LmRvY3VtZW50TW9kZXx8MTA8PWRvY3VtZW50LmRvY3VtZW50TW9kZSlFZGl0b3IucHJvdG90eXBlLmVkaXRCdXR0b25MaW5rPXRoaXMuZ3JhcGhDb25maWcuZWRpdCxFZGl0b3IucHJvdG90eXBlLmVkaXRCdXR0b25GdW5jPXRoaXMuZ3JhcGhDb25maWcuZWRpdEZ1bmM7RWRpdG9yVWkucHJvdG90eXBlLnVwZGF0ZUFjdGlvblN0YXRlcz1mdW5jdGlvbigpe307RWRpdG9yVWkucHJvdG90eXBlLmFkZEJlZm9yZVVubG9hZExpc3RlbmVyPWZ1bmN0aW9uKCl7fTtFZGl0b3JVaS5wcm90b3R5cGUuYWRkQ2hyb21lbGVzc0NsaWNrSGFuZGxlcj1mdW5jdGlvbigpe307dmFyIGQ9R3JhcGgucHJvdG90eXBlLnNoYWRvd0lkO0dyYXBoLnByb3RvdHlwZS5zaGFkb3dJZD0KImxpZ2h0Ym94RHJvcFNoYWRvdyI7dmFyIG09bmV3IEVkaXRvclVpKG5ldyBFZGl0b3IoITApLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLCEwKTttLmVkaXRvci5lZGl0QmxhbmtVcmw9dGhpcy5lZGl0QmxhbmtVcmw7bS5lZGl0b3IuZ3JhcGguc2hhZG93SWQ9ImxpZ2h0Ym94RHJvcFNoYWRvdyI7R3JhcGgucHJvdG90eXBlLnNoYWRvd0lkPWQ7bS5yZWZyZXNoPWZ1bmN0aW9uKCl7fTt2YXIgaz1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXsyNz09YS5rZXlDb2RlJiZtLmRlc3Ryb3koKX0pLHE9bS5kZXN0cm95O20uZGVzdHJveT1mdW5jdGlvbigpe214RXZlbnQucmVtb3ZlTGlzdGVuZXIoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCJrZXlkb3duIixrKTtkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGMpO2RvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZik7ZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0iYXV0byI7R3JhcGhWaWV3ZXIucmVzaXplU2Vuc29yRW5hYmxlZD0KITA7cS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3ZhciBiPW0uZWRpdG9yLmdyYXBoLGU9Yi5jb250YWluZXI7ZS5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIjt0aGlzLmxpZ2h0Ym94Q2hyb21lPyhlLnN0eWxlLmJvcmRlcj0iMXB4IHNvbGlkICNjMGMwYzAiLGUuc3R5bGUubWFyZ2luPSI0MHB4IixteEV2ZW50LmFkZExpc3RlbmVyKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwia2V5ZG93biIsaykpOihjLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGYuc3R5bGUuZGlzcGxheT0ibm9uZSIpO3ZhciBnPXRoaXM7Yi5nZXRJbWFnZUZyb21CdW5kbGVzPWZ1bmN0aW9uKGEpe3JldHVybiBnLmdldEltYWdlVXJsKGEpfTt2YXIgcD1tLmNyZWF0ZVRlbXBvcmFyeUdyYXBoO20uY3JlYXRlVGVtcG9yYXJ5R3JhcGg9ZnVuY3Rpb24oKXt2YXIgYT1wLmFwcGx5KHRoaXMsYXJndW1lbnRzKTthLmdldEltYWdlRnJvbUJ1bmRsZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIGcuZ2V0SW1hZ2VVcmwoYSl9O3JldHVybiBhfTsKdGhpcy5ncmFwaENvbmZpZy5tb3ZlJiYoYi5pc01vdmVDZWxsc0V2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiEwfSk7bXhDbGllbnQuSVNfUVVJUktTfHwobXhVdGlscy5zZXRQcmVmaXhlZFN0eWxlKGUuc3R5bGUsImJvcmRlci1yYWRpdXMiLCI0cHgiKSxlLnN0eWxlLnBvc2l0aW9uPSJmaXhlZCIpO0dyYXBoVmlld2VyLnJlc2l6ZVNlbnNvckVuYWJsZWQ9ITE7ZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIjtteENsaWVudC5JU19TRnx8bXhDbGllbnQuSVNfRURHRXx8KG14VXRpbHMuc2V0UHJlZml4ZWRTdHlsZShlLnN0eWxlLCJ0cmFuc2Zvcm0iLCJyb3RhdGVZKDkwZGVnKSIpLG14VXRpbHMuc2V0UHJlZml4ZWRTdHlsZShlLnN0eWxlLCJ0cmFuc2l0aW9uIiwiYWxsIC4yNXMgZWFzZS1pbi1vdXQiKSk7dGhpcy5hZGRDbGlja0hhbmRsZXIoYixtKTt3aW5kb3cuc2V0VGltZW91dChteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2Uuc3R5bGUub3V0bGluZT0ibm9uZSI7CmUuc3R5bGUuekluZGV4PXRoaXMubGlnaHRib3haSW5kZXg7Zi5zdHlsZS56SW5kZXg9dGhpcy5saWdodGJveFpJbmRleDtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGUpO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZik7bS5zZXRGaWxlRGF0YSh0aGlzLnhtbCk7bXhVdGlscy5zZXRQcmVmaXhlZFN0eWxlKGUuc3R5bGUsInRyYW5zZm9ybSIsInJvdGF0ZVkoMGRlZykiKTttLmNocm9tZWxlc3NUb29sYmFyLnN0eWxlLmJvdHRvbT0iNjBweCI7bS5jaHJvbWVsZXNzVG9vbGJhci5zdHlsZS56SW5kZXg9dGhpcy5saWdodGJveFpJbmRleDtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG0uY2hyb21lbGVzc1Rvb2xiYXIpO20uZ2V0RWRpdEJsYW5rWG1sPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueG1sfSk7bXhDbGllbnQuSVNfUVVJUktTJiYoZS5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiLGUuc3R5bGUuZGlzcGxheT0iYmxvY2siLGUuc3R5bGUubGVmdD0KYS54KyJweCIsZS5zdHlsZS50b3A9YS55KyJweCIsZS5zdHlsZS53aWR0aD1kb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoLTgwKyJweCIsZS5zdHlsZS5oZWlnaHQ9ZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQtODArInB4IixlLnN0eWxlLmJhY2tncm91bmRDb2xvcj0id2hpdGUiLG0uY2hyb21lbGVzc1Rvb2xiYXIuc3R5bGUuZGlzcGxheT0iYmxvY2siLG0uY2hyb21lbGVzc1Rvb2xiYXIuc3R5bGUucG9zaXRpb249ImFic29sdXRlIixtLmNocm9tZWxlc3NUb29sYmFyLnN0eWxlLmJvdHRvbT0iIixtLmNocm9tZWxlc3NUb29sYmFyLnN0eWxlLnRvcD1hLnkrZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQtMTAwKyJweCIpO20ubGlnaHRib3hGaXQoKTttLmNocm9tZWxlc3NSZXNpemUoKTt0aGlzLnNob3dMYXllcnMoYix0aGlzLmdyYXBoKTtteEV2ZW50LmFkZExpc3RlbmVyKGMsImNsaWNrIixmdW5jdGlvbigpe20uZGVzdHJveSgpfSl9KSwwKTtyZXR1cm4gbX07CkdyYXBoVmlld2VyLnByb3RvdHlwZS51cGRhdGVUaXRsZT1mdW5jdGlvbihhKXthPWF8fCIiO3RoaXMuc2hvd1RpdGxlQXNUb29sdGlwJiZudWxsIT10aGlzLmdyYXBoJiZudWxsIT10aGlzLmdyYXBoLmNvbnRhaW5lciYmdGhpcy5ncmFwaC5jb250YWluZXIuc2V0QXR0cmlidXRlKCJ0aXRsZSIsYSk7bnVsbCE9dGhpcy5maWxlbmFtZSYmKHRoaXMuZmlsZW5hbWUuaW5uZXJIVE1MPSIiLG14VXRpbHMud3JpdGUodGhpcy5maWxlbmFtZSxhKSx0aGlzLmZpbGVuYW1lLnNldEF0dHJpYnV0ZSgidGl0bGUiLGEpKX07CkdyYXBoVmlld2VyLnByb2Nlc3NFbGVtZW50cz1mdW5jdGlvbihhKXtteFV0aWxzLmZvckVhY2goR3JhcGhWaWV3ZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShhfHwibXhncmFwaCIpLGZ1bmN0aW9uKGEpe3RyeXthLmlubmVySFRNTD0iIixHcmFwaFZpZXdlci5jcmVhdGVWaWV3ZXJGb3JFbGVtZW50KGEpfWNhdGNoKGYpe3Rocm93IGEuaW5uZXJIVE1MPWYubWVzc2FnZSxmO319KX07CkdyYXBoVmlld2VyLmdldEVsZW1lbnRzQnlDbGFzc05hbWU9ZnVuY3Rpb24oYSl7aWYoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSl7dmFyIGM9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShhKTthPVtdO2Zvcih2YXIgZj0wO2Y8Yy5sZW5ndGg7ZisrKWEucHVzaChjW2ZdKTtyZXR1cm4gYX1mb3IodmFyIGQ9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKSxjPVtdLGY9MDtmPGQubGVuZ3RoO2YrKyl7dmFyIG09ZFtmXS5jbGFzc05hbWU7bnVsbCE9bSYmMDxtLmxlbmd0aCYmKG09bS5zcGxpdCgiICIpLDA8PW14VXRpbHMuaW5kZXhPZihtLGEpJiZjLnB1c2goZFtmXSkpfXJldHVybiBjfTsKR3JhcGhWaWV3ZXIuY3JlYXRlVmlld2VyRm9yRWxlbWVudD1mdW5jdGlvbihhLGMpe3ZhciBmPWEuZ2V0QXR0cmlidXRlKCJkYXRhLW14Z3JhcGgiKTtpZihudWxsIT1mKXt2YXIgZD1KU09OLnBhcnNlKGYpLG09ZnVuY3Rpb24oZil7Zj1teFV0aWxzLnBhcnNlWG1sKGYpO2Y9bmV3IEdyYXBoVmlld2VyKGEsZi5kb2N1bWVudEVsZW1lbnQsZCk7bnVsbCE9YyYmYyhmKX07bnVsbCE9ZC51cmw/R3JhcGhWaWV3ZXIuZ2V0VXJsKGQudXJsLGZ1bmN0aW9uKGEpe20oYSl9KTptKGQueG1sKX19OwpHcmFwaFZpZXdlci5pbml0Q3NzPWZ1bmN0aW9uKCl7dHJ5e3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7YS50eXBlPSJ0ZXh0L2NzcyI7YS5pbm5lckhUTUw9ImRpdi5teFRvb2x0aXAge1xuLXdlYmtpdC1ib3gtc2hhZG93OiAzcHggM3B4IDEycHggI0MwQzBDMDtcbi1tb3otYm94LXNoYWRvdzogM3B4IDNweCAxMnB4ICNDMEMwQzA7XG5ib3gtc2hhZG93OiAzcHggM3B4IDEycHggI0MwQzBDMDtcbmJhY2tncm91bmQ6ICNGRkZGQ0M7XG5ib3JkZXItc3R5bGU6IHNvbGlkO1xuYm9yZGVyLXdpZHRoOiAxcHg7XG5ib3JkZXItY29sb3I6IGJsYWNrO1xuZm9udC1mYW1pbHk6IEFyaWFsO1xuZm9udC1zaXplOiA4cHQ7XG5wb3NpdGlvbjogYWJzb2x1dGU7XG5jdXJzb3I6IGRlZmF1bHQ7XG5wYWRkaW5nOiA0cHg7XG5jb2xvcjogYmxhY2s7fVxudGQubXhQb3B1cE1lbnVJY29uIGRpdiB7XG53aWR0aDoxNnB4O1xuaGVpZ2h0OjE2cHg7fVxuaHRtbCBkaXYubXhQb3B1cE1lbnUge1xuLXdlYmtpdC1ib3gtc2hhZG93OjJweCAycHggM3B4ICNkNWQ1ZDU7XG4tbW96LWJveC1zaGFkb3c6MnB4IDJweCAzcHggI2Q1ZDVkNTtcbmJveC1zaGFkb3c6MnB4IDJweCAzcHggI2Q1ZDVkNTtcbl9maWx0ZXI6cHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LkRyb3BTaGFkb3coT2ZmWD0yLCBPZmZZPTIsIENvbG9yPScjZDBkMGQwJyxQb3NpdGl2ZT0ndHJ1ZScpO1xuYmFja2dyb3VuZDp3aGl0ZTtcbnBvc2l0aW9uOmFic29sdXRlO1xuYm9yZGVyOjNweCBzb2xpZCAjZTdlN2U3O1xucGFkZGluZzozcHg7fVxuaHRtbCB0YWJsZS5teFBvcHVwTWVudSB7XG5ib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7XG5tYXJnaW46MHB4O31cbmh0bWwgdGQubXhQb3B1cE1lbnVJdGVtIHtcbnBhZGRpbmc6N3B4IDMwcHggN3B4IDMwcHg7XG5mb250LWZhbWlseTpIZWx2ZXRpY2EgTmV1ZSxIZWx2ZXRpY2EsQXJpYWwgVW5pY29kZSBNUyxBcmlhbDtcbmZvbnQtc2l6ZToxMHB0O31cbmh0bWwgdGQubXhQb3B1cE1lbnVJY29uIHtcbmJhY2tncm91bmQtY29sb3I6d2hpdGU7XG5wYWRkaW5nOjBweDt9XG50ZC5teFBvcHVwTWVudUljb24gLmdlSWNvbiB7XG5wYWRkaW5nOjJweDtcbnBhZGRpbmctYm90dG9tOjRweDtcbm1hcmdpbjoycHg7XG5ib3JkZXI6MXB4IHNvbGlkIHRyYW5zcGFyZW50O1xub3BhY2l0eTowLjU7XG5fd2lkdGg6MjZweDtcbl9oZWlnaHQ6MjZweDt9XG50ZC5teFBvcHVwTWVudUljb24gLmdlSWNvbjpob3ZlciB7XG5ib3JkZXI6MXB4IHNvbGlkIGdyYXk7XG5ib3JkZXItcmFkaXVzOjJweDtcbm9wYWNpdHk6MTt9XG5odG1sIHRyLm14UG9wdXBNZW51SXRlbUhvdmVyIHtcbmJhY2tncm91bmQtY29sb3I6ICNlZWVlZWU7XG5jb2xvcjogYmxhY2s7fVxudGFibGUubXhQb3B1cE1lbnUgaHIge1xuY29sb3I6I2NjY2NjYztcbmJhY2tncm91bmQtY29sb3I6I2NjY2NjYztcbmJvcmRlcjpub25lO1xuaGVpZ2h0OjFweDt9XG50YWJsZS5teFBvcHVwTWVudSB0ciB7XHRmb250LXNpemU6NHB0O31cbi5nZURpYWxvZyB7IGZvbnQtZmFtaWx5OkhlbHZldGljYSBOZXVlLEhlbHZldGljYSxBcmlhbCBVbmljb2RlIE1TLEFyaWFsO1xuZm9udC1zaXplOjEwcHQ7XG5ib3JkZXI6bm9uZTtcbm1hcmdpbjowcHg7fVxuLmdlRGlhbG9nIHtcdHBvc2l0aW9uOmFic29sdXRlO1x0YmFja2dyb3VuZDp3aGl0ZTtcdG92ZXJmbG93OmhpZGRlbjtcdHBhZGRpbmc6MzBweDtcdGJvcmRlcjoxcHggc29saWQgI2FjYWNhYztcdC13ZWJraXQtYm94LXNoYWRvdzowcHggMHB4IDJweCAycHggI2Q1ZDVkNTtcdC1tb3otYm94LXNoYWRvdzowcHggMHB4IDJweCAycHggI2Q1ZDVkNTtcdGJveC1zaGFkb3c6MHB4IDBweCAycHggMnB4ICNkNWQ1ZDU7XHRfZmlsdGVyOnByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5Ecm9wU2hhZG93KE9mZlg9MiwgT2ZmWT0yLCBDb2xvcj0nI2Q1ZDVkNScsIFBvc2l0aXZlPSd0cnVlJyk7XHR6LWluZGV4OiAyO30uZ2VEaWFsb2dDbG9zZSB7XHRwb3NpdGlvbjphYnNvbHV0ZTtcdHdpZHRoOjlweDtcdGhlaWdodDo5cHg7XHRvcGFjaXR5OjAuNTtcdGN1cnNvcjpwb2ludGVyO1x0X2ZpbHRlcjphbHBoYShvcGFjaXR5PTUwKTt9LmdlRGlhbG9nQ2xvc2U6aG92ZXIge1x0b3BhY2l0eToxO30uZ2VEaWFsb2dUaXRsZSB7XHRib3gtc2l6aW5nOmJvcmRlci1ib3g7XHR3aGl0ZS1zcGFjZTpub3dyYXA7XHRiYWNrZ3JvdW5kOnJnYigyMjksIDIyOSwgMjI5KTtcdGJvcmRlci1ib3R0b206MXB4IHNvbGlkIHJnYigxOTIsIDE5MiwgMTkyKTtcdGZvbnQtc2l6ZToxNXB4O1x0Zm9udC13ZWlnaHQ6Ym9sZDtcdHRleHQtYWxpZ246Y2VudGVyO1x0Y29sb3I6cmdiKDM1LCA4NiwgMTQ5KTt9LmdlRGlhbG9nRm9vdGVyIHtcdGJhY2tncm91bmQ6d2hpdGVTbW9rZTtcdHdoaXRlLXNwYWNlOm5vd3JhcDtcdHRleHQtYWxpZ246cmlnaHQ7XHRib3gtc2l6aW5nOmJvcmRlci1ib3g7XHRib3JkZXItdG9wOjFweCBzb2xpZCAjZTVlNWU1O1x0Y29sb3I6ZGFya0dyYXk7fVxuLmdlQnRuIHtcdGJhY2tncm91bmQtY29sb3I6ICNmNWY1ZjU7XHRib3JkZXItcmFkaXVzOiAycHg7XHRib3JkZXI6IDFweCBzb2xpZCAjZDhkOGQ4O1x0Y29sb3I6ICMzMzM7XHRjdXJzb3I6IGRlZmF1bHQ7XHRmb250LXNpemU6IDExcHg7XHRmb250LXdlaWdodDogYm9sZDtcdGhlaWdodDogMjlweDtcdGxpbmUtaGVpZ2h0OiAyN3B4O1x0bWFyZ2luOiAwIDAgMCA4cHg7XHRtaW4td2lkdGg6IDcycHg7XHRvdXRsaW5lOiAwO1x0cGFkZGluZzogMCA4cHg7XHRjdXJzb3I6IHBvaW50ZXI7fS5nZUJ0bjpob3ZlciwgLmdlQnRuOmZvY3VzIHtcdC13ZWJraXQtYm94LXNoYWRvdzogMHB4IDFweCAxcHggcmdiYSgwLDAsMCwwLjEpO1x0LW1vei1ib3gtc2hhZG93OiAwcHggMXB4IDFweCByZ2JhKDAsMCwwLDAuMSk7XHRib3gtc2hhZG93OiAwcHggMXB4IDFweCByZ2JhKDAsMCwwLDAuMSk7XHRib3JkZXI6IDFweCBzb2xpZCAjYzZjNmM2O1x0YmFja2dyb3VuZC1jb2xvcjogI2Y4ZjhmODtcdGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCgjZjhmOGY4IDBweCwjZjFmMWYxIDEwMCUpO1x0Y29sb3I6ICMxMTE7fS5nZUJ0bjpkaXNhYmxlZCB7XHRvcGFjaXR5OiAuNTt9LmdlUHJpbWFyeUJ0biB7XHRiYWNrZ3JvdW5kLWNvbG9yOiAjNGQ5MGZlO1x0YmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KCM0ZDkwZmUgMHB4LCM0Nzg3ZWQgMTAwJSk7XHRib3JkZXI6IDFweCBzb2xpZCAjMzA3OWVkO1x0Y29sb3I6ICNmZmY7fS5nZVByaW1hcnlCdG46aG92ZXIsIC5nZVByaW1hcnlCdG46Zm9jdXMge1x0YmFja2dyb3VuZC1jb2xvcjogIzM1N2FlODtcdGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCgjNGQ5MGZlIDBweCwjMzU3YWU4IDEwMCUpO1x0Ym9yZGVyOiAxcHggc29saWQgIzJmNWJiNztcdGNvbG9yOiAjZmZmO30uZ2VQcmltYXJ5QnRuOmRpc2FibGVkIHtcdG9wYWNpdHk6IC41O30iO2RvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF0uYXBwZW5kQ2hpbGQoYSl9Y2F0Y2goYyl7fX07CkdyYXBoVmlld2VyLmNhY2hlZFVybHM9e307R3JhcGhWaWV3ZXIuZ2V0VXJsPWZ1bmN0aW9uKGEsYyxmKXtpZihudWxsIT1HcmFwaFZpZXdlci5jYWNoZWRVcmxzW2FdKWMoR3JhcGhWaWV3ZXIuY2FjaGVkVXJsc1thXSk7ZWxzZXt2YXIgZD1udWxsIT1uYXZpZ2F0b3IudXNlckFnZW50JiYwPG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiTVNJRSA5Iik/bmV3IFhEb21haW5SZXF1ZXN0Om5ldyBYTUxIdHRwUmVxdWVzdDtkLm9wZW4oIkdFVCIsYSk7ZC5vbmxvYWQ9ZnVuY3Rpb24oKXtjKG51bGwhPWQuZ2V0VGV4dD9kLmdldFRleHQoKTpkLnJlc3BvbnNlVGV4dCl9O2Qub25lcnJvcj1mO2Quc2VuZCgpfX07R3JhcGhWaWV3ZXIucmVzaXplU2Vuc29yRW5hYmxlZD0hMDtHcmFwaFZpZXdlci51c2VSZXNpemVTZW5zb3I9ITA7CihmdW5jdGlvbigpe3ZhciBhPXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKGEpe3JldHVybiB3aW5kb3cuc2V0VGltZW91dChhLDIwKX0sYz1mdW5jdGlvbihmLGQpe2Z1bmN0aW9uIG0oKXt0aGlzLnE9W107dGhpcy5hZGQ9ZnVuY3Rpb24oYSl7dGhpcy5xLnB1c2goYSl9O3ZhciBhLGI7dGhpcy5jYWxsPWZ1bmN0aW9uKCl7YT0wO2ZvcihiPXRoaXMucS5sZW5ndGg7YTxiO2ErKyl0aGlzLnFbYV0uY2FsbCgpfX1mdW5jdGlvbiBrKGEsYil7cmV0dXJuIGEuY3VycmVudFN0eWxlP2EuY3VycmVudFN0eWxlW2JdOndpbmRvdy5nZXRDb21wdXRlZFN0eWxlP3dpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGEsbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShiKTphLnN0eWxlW2JdfWZ1bmN0aW9uIHEoYixjKXtpZighYi5yZXNpemVkQXR0YWNoZWQpYi5yZXNpemVkQXR0YWNoZWQ9Cm5ldyBtLGIucmVzaXplZEF0dGFjaGVkLmFkZChjKTtlbHNlIGlmKGIucmVzaXplZEF0dGFjaGVkKXtiLnJlc2l6ZWRBdHRhY2hlZC5hZGQoYyk7cmV0dXJufWIucmVzaXplU2Vuc29yPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2IucmVzaXplU2Vuc29yLmNsYXNzTmFtZT0icmVzaXplLXNlbnNvciI7Yi5yZXNpemVTZW5zb3Iuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiAwOyB0b3A6IDA7IHJpZ2h0OiAwOyBib3R0b206IDA7IG92ZXJmbG93OiBoaWRkZW47IHotaW5kZXg6IC0xOyB2aXNpYmlsaXR5OiBoaWRkZW47IjtiLnJlc2l6ZVNlbnNvci5pbm5lckhUTUw9JzxkaXYgY2xhc3M9InJlc2l6ZS1zZW5zb3ItZXhwYW5kIiBzdHlsZT0icG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiAwOyB0b3A6IDA7IHJpZ2h0OiAwOyBib3R0b206IDA7IG92ZXJmbG93OiBoaWRkZW47IHotaW5kZXg6IC0xOyB2aXNpYmlsaXR5OiBoaWRkZW47Ij48ZGl2IHN0eWxlPSJwb3NpdGlvbjogYWJzb2x1dGU7IGxlZnQ6IDA7IHRvcDogMDsgdHJhbnNpdGlvbjogMHM7Ij48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPSJyZXNpemUtc2Vuc29yLXNocmluayIgc3R5bGU9InBvc2l0aW9uOiBhYnNvbHV0ZTsgbGVmdDogMDsgdG9wOiAwOyByaWdodDogMDsgYm90dG9tOiAwOyBvdmVyZmxvdzogaGlkZGVuOyB6LWluZGV4OiAtMTsgdmlzaWJpbGl0eTogaGlkZGVuOyI+PGRpdiBzdHlsZT0icG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiAwOyB0b3A6IDA7IHRyYW5zaXRpb246IDBzOyB3aWR0aDogMjAwJTsgaGVpZ2h0OiAyMDAlIj48L2Rpdj48L2Rpdj4nOwpiLmFwcGVuZENoaWxkKGIucmVzaXplU2Vuc29yKTsic3RhdGljIj09ayhiLCJwb3NpdGlvbiIpJiYoYi5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiKTt2YXIgZD1iLnJlc2l6ZVNlbnNvci5jaGlsZE5vZGVzWzBdLGU9ZC5jaGlsZE5vZGVzWzBdLGY9Yi5yZXNpemVTZW5zb3IuY2hpbGROb2Rlc1sxXSxnPWZ1bmN0aW9uKCl7ZS5zdHlsZS53aWR0aD0iMTAwMDAwcHgiO2Uuc3R5bGUuaGVpZ2h0PSIxMDAwMDBweCI7ZC5zY3JvbGxMZWZ0PTFFNTtkLnNjcm9sbFRvcD0xRTU7Zi5zY3JvbGxMZWZ0PTFFNTtmLnNjcm9sbFRvcD0xRTV9O2coKTt2YXIgbD0hMSxuPWZ1bmN0aW9uKCl7Yi5yZXNpemVkQXR0YWNoZWQmJihsJiYoYi5yZXNpemVkQXR0YWNoZWQuY2FsbCgpLGw9ITEpLGEobikpfTthKG4pO3ZhciBwLHEsRSxHLEY9ZnVuY3Rpb24oKXtpZigoRT1iLm9mZnNldFdpZHRoKSE9cHx8KEc9Yi5vZmZzZXRIZWlnaHQpIT1xKWw9ITAscD1FLHE9RztnKCl9LEk9ZnVuY3Rpb24oYSxiLGMpe2EuYXR0YWNoRXZlbnQ/CmEuYXR0YWNoRXZlbnQoIm9uIitiLGMpOmEuYWRkRXZlbnRMaXN0ZW5lcihiLGMpfTtJKGQsInNjcm9sbCIsRik7SShmLCJzY3JvbGwiLEYpfXZhciBiPWZ1bmN0aW9uKCl7R3JhcGhWaWV3ZXIucmVzaXplU2Vuc29yRW5hYmxlZCYmZCgpfSxlPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChmKSxnPSJbb2JqZWN0IEFycmF5XSI9PT1lfHwiW29iamVjdCBOb2RlTGlzdF0iPT09ZXx8IltvYmplY3QgSFRNTENvbGxlY3Rpb25dIj09PWV8fCJ1bmRlZmluZWQiIT09dHlwZW9mIGpRdWVyeSYmZiBpbnN0YW5jZW9mIGpRdWVyeXx8InVuZGVmaW5lZCIhPT10eXBlb2YgRWxlbWVudHMmJmYgaW5zdGFuY2VvZiBFbGVtZW50cztpZihnKWZvcih2YXIgZT0wLHA9Zi5sZW5ndGg7ZTxwO2UrKylxKGZbZV0sYik7ZWxzZSBxKGYsYik7dGhpcy5kZXRhY2g9ZnVuY3Rpb24oKXtpZihnKWZvcih2YXIgYT0wLGI9Zi5sZW5ndGg7YTxiO2ErKyljLmRldGFjaChmW2FdKTtlbHNlIGMuZGV0YWNoKGYpfX07CmMuZGV0YWNoPWZ1bmN0aW9uKGEpe2EucmVzaXplU2Vuc29yJiYoYS5yZW1vdmVDaGlsZChhLnJlc2l6ZVNlbnNvciksZGVsZXRlIGEucmVzaXplU2Vuc29yLGRlbGV0ZSBhLnJlc2l6ZWRBdHRhY2hlZCl9O3dpbmRvdy5SZXNpemVTZW5zb3I9Y30pKCk7CihmdW5jdGlvbigpe0VkaXRvci5pbml0TWF0aCgpO0dyYXBoVmlld2VyLmluaXRDc3MoKTtpZihudWxsIT13aW5kb3cub25EcmF3aW9WaWV3ZXJMb2FkKXdpbmRvdy5vbkRyYXdpb1ZpZXdlckxvYWQoKTtlbHNlIEdyYXBoVmlld2VyLnByb2Nlc3NFbGVtZW50cygpfSkoKTsK";function w(l,Z){for(var b=0;b<Z.length;b++){var G=Z[b];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(l,G.key,G)}}var Q=function(){function l(Z,b,G){var d=this;!function(l,Z){if(!(l instanceof Z))throw new TypeError("Cannot call a class as a function")}(this,l),this.xmlGraph="",this.csvGraph="",this.type="xml",this.graph=void 0,this.scale=!0,this.tooltip=!0,this.lock=!0,this.center=!0,this.animation=!0,this.zoom=!1,this.zoomFactor=1.2,this.cumulativeZoomFactor=1,this.grid=!1,this.bgColor=null,this.zoomPercent="1",this.cells={id:[],value:[]},this.container=Z,this.type=b,this.onMapping={active:!1,$scope:null,value:null,prop:"id",object:null},l.initMxGraph(),"xml"===b&&(a.a.utils.isencoded(G)?this.xmlGraph=a.a.utils.decode(G,!0,!0,!0):this.xmlGraph=G),"csv"===b&&(this.csvGraph=G),this.initGraph();var m=this;a.a.DEBUG&&(console.log("DEBUG ON"),this.graph.addListener(mxEvent.CLICK,(function(l,Z){if(console.log("DEBUG CLICK"),d.eventDebug(Z),Z.properties.cell){var b=Z.properties.cell.id,G=a.a.getVar("STATE_".concat(b));console.log("DEBUG GF STATE",G);var W=m.graph.view;console.log("DEBUG CELL STATE",W.getState(Z.properties.cell))}})))}var Z,b,G;return Z=l,G=[{key:"isValidXml",value:function(l){try{var Z=document.createElement("div"),b=new Graph(Z);a.a.utils.isencoded(l)&&(l=a.a.utils.decode(l,!0,!0,!0));var G=mxUtils.parseXml(l),d=new mxCodec(G);return b.getModel().beginUpdate(),d.decode(G.documentElement,b.getModel()),b.getModel().endUpdate(),b.destroy(),!0}catch(l){return a.a.log.error("isValidXml",l),!1}}},{key:"initMxGraph",value:function(){var Z=a.a.trace.before(this.constructor.name+".initMxGgraph()"),b=window;l.initialized||(void 0!==b.mxGraph&&void 0!==b.mxGraph||(l.preInitGlobalVars(),window.eval(window.atob(M)),M="",l.postInitGlobalVars(),mxTooltipHandler.prototype.show=function(l,Z,b){this.destroyed||null!=l&&0!=l.length&&(null==this.div&&this.init(),mxUtils.isNode(l)?(this.div.innerHTML="",this.div.appendChild(l)):this.div.innerHTML=l.replace(/\n/g,"<br>"),this.$div.place_tt(Z+20,b),this.div.style.visibility="",mxUtils.fit(this.div))},mxTooltipHandler.prototype.init=function(){null!==this.div&&void 0!==this.div||(this.$div=$('<div class="graph-tooltip">'),this.div=this.$div[0],mxEvent.addGestureListeners(this.div,mxUtils.bind(this,(function(l){this.hideTooltip()}))))},mxTooltipHandler.prototype.hideTooltip=function(){null!=this.div&&(this.div.style.visibility="hidden",this.div.innerHTML="")},mxTooltipHandler.prototype.delay=200,Graph.prototype.getTooltipForCell=function(l){var Z=!1,b=document.createElement("div");if(mxUtils.isNode(l.value)){var G=l.value.getAttribute("tooltip");if(null!=G){Z=!0,null!=G&&this.isReplacePlaceholders(l)&&(G=this.replacePlaceholders(l,G));var d=document.createElement("div");d.className="tooltip-text",d.innerHTML=this.sanitizeHtml(G),b.appendChild(d)}var m=this.builtInProperties,W=l.value.attributes,c=[];m.push("link");for(var h=0;h<W.length;h++)mxUtils.indexOf(m,W[h].nodeName)<0&&W[h].nodeValue.length>0&&c.push({name:W[h].nodeName,value:W[h].nodeValue});if(c.sort((function(l,Z){return l.name<Z.name?-1:l.name>Z.name?1:0})),c.length>0){Z=!0;var X=document.createElement("div"),V="";for(h=0;h<c.length;h++)"link"==c[h].name&&this.isCustomLink(c[h].value)||(V+=("link"!=c[h].name?"<b>"+c[h].name+":</b> ":"")+mxUtils.htmlEntities(c[h].value)+"\n");X.innerHTML=V,b.appendChild(X)}}return null!=l.GF_tooltipHandler&&null!==l.GF_tooltipHandler.getDiv(b)&&(Z=!0),Z?b:""},mxEvent.addMouseWheelListener=function(l,Z){if(null!=l){var b=function(Z){var b;null==Z&&(Z=window.event),b=mxClient.IS_FF?-Z.detail/2:Z.wheelDelta/120,0!=b&&l(Z,0<b)};mxClient.IS_NS&&null==document.documentMode?mxEvent.addListener(mxClient.IS_GC&&null!=Z?Z:window,mxClient.IS_SF||mxClient.IS_GC?"mousewheel":"DOMMouseScroll",b):mxEvent.addListener(document,"mousewheel",b)}},mxTooltipHandler.prototype.delay=a.a.CONSTANTS.CONF_TOOLTIPS_DELAY),l.initialized=!0),Z.after()}},{key:"preInitGlobalVars",value:function(){var l=window;l.BASE_PATH=a.a.plugin.getMxBasePath(),l.RESOURCES_PATH=a.a.plugin.getMxResourcePath(),l.RESOURCE_BASE=a.a.plugin.getMxResourcePath(),l.STENCIL_PATH=a.a.plugin.getStencilsPath(),l.SHAPES_PATH=a.a.plugin.getShapesPath(),l.IMAGE_PATH=a.a.plugin.getMxImagePath(),l.STYLE_PATH=a.a.plugin.getMxStylePath(),l.CSS_PATH=a.a.plugin.getMxCssPath(),l.mxLanguages=["en"],l.DRAWIO_BASE_URL=a.a.plugin.getDrawioPath(),l.DRAW_MATH_URL=a.a.plugin.getDrawioPath(),l.DRAWIO_VIEWER_URL=a.a.plugin.getDrawioPath()+"viewer.min.js",l.DRAW_MATH_URL=a.a.plugin.getDrawioPath()+"math/",l.DRAWIO_CONFIG=null;var Z=new Object;l.urlParams=Z,Z.sync="none",Z.lightbox="1",Z.nav="1",Z.local="1",Z.embed="1",l.mxImageBasePath=a.a.plugin.getMxImagePath(),l.mxBasePath=a.a.plugin.getMxBasePath(),l.mxLoadStylesheets=!0,l.mxLanguage="en",l.mxLoadResources=!0}},{key:"postInitGlobalVars",value:function(){var l=window;l.mxClient.mxBasePath=a.a.plugin.getMxBasePath(),l.mxClient.mxImageBasePath=a.a.plugin.getMxImagePath(),l.mxClient.mxLoadResources=!0,l.mxClient.mxLanguage="en",l.mxClient.mxLoadStylesheets=!0,l.VSD_CONVERT_URL=null,l.EMF_CONVERT_URL=null,l.ICONSEARCH_PATH=null}},{key:"loadXml",value:function(l){try{var Z=mxUtils.load(l);if(Z.getStatus()>=200&&Z.getStatus()<=299)return Z.getText();a.a.log.error("Cannot load "+l,Z.getStatus())}catch(Z){a.a.log.error("Cannot load "+l,Z)}return null}},{key:"compress",value:function(l){return Graph.compress(l,!0)}},{key:"decompress",value:function(l){return Graph.decompress(l,!0)}}],(b=[{key:"anonymize",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function l(){return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:H.anonymize(this.graph);case 1:case"end":return l.stop()}}),l,this)})))}},{key:"initGraph",value:function(){var l=a.a.trace.before(this.constructor.name+".initGraph()");return this.graph=new Graph(this.container),this.graph.setPanning(!0),this.clickBackup=this.graph.click,this.dbclickBackup=this.graph.dblClick,mxEvent.addMouseWheelListener(mxUtils.bind(this,this.eventMouseWheel),this.container),(mxClient.IS_IE||mxClient.IS_EDGE)&&mxEvent.addListener(this.container,"wheel",mxUtils.bind(this,this.eventMouseWheel)),mxEvent.addListener(document,"keydown",mxUtils.bind(this,this.eventKey)),this.container.addEventListener("contextmenu",(function(l){return l.preventDefault()})),this.graph.dblClick=this.eventDbClick.bind(this),l.after(),this}},{key:"drawGraph",value:function(){var l=a.a.trace.before(this.constructor.name+".drawGraph()");this.graph.getModel().beginUpdate(),this.graph.getModel().clear();try{if("xml"===this.type){var Z=mxUtils.parseXml(this.xmlGraph),b=new mxCodec(Z);this.graph.model.clear(),this.graph.view.scale=1,b.decode(Z.documentElement,this.graph.getModel()),this.loadExtFont(),this.graph.updateCssTransform(),this.graph.selectUnlockedLayer()}"csv"===this.type&&(H.importCsv(this.graph,this.csvGraph),this.refresh())}catch(l){a.a.log.error("Error in draw",l)}finally{this.cells.id=this.getCurrentCells("id"),this.cells.value=this.getCurrentCells("value"),this.graph.getModel().endUpdate()}return l.after(),this}},{key:"loadExtFont",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function l(){var Z,b,G;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(Z=this.graph.getModel(),b=Z.extFonts)try{for(b=b.split("|").map((function(l){var Z=l.split("^");return{name:Z[0],url:Z[1]}})),G=0;G<b.length;G++)this.graph.addExtFont(b[G].name,b[G].url)}catch(l){a.a.log.error("ExtFonts format error:",l.message)}case 3:case"end":return l.stop()}}),l,this)})))}},{key:"applyGraph",value:function(){var l=a.a.trace.before(this.constructor.name+".applyGraph()");return this.scale?this.unzoomGraph():this.zoomGraph(this.zoomPercent),this.tooltipGraph(this.tooltip),this.lockGraph(this.lock),this.scale&&this.center?this.fitGraph():(this.scaleGraph(this.scale),this.centerGraph(this.center)),this.gridGraph(this.grid),this.bgGraph(this.bgColor),this.graph.foldingEnabled=!0,this.graph.cellRenderer.forceControlClickHandler=!0,this.refresh(),l.after(),this}},{key:"refresh",value:function(){var l=a.a.trace.before(this.constructor.name+".refresh()");return this.graph.refresh(),l.after(),this}},{key:"destroyGraph",value:function(){return this.graph.destroy(),this.graph=void 0,this}},{key:"lockGraph",value:function(l){return l?this.graph.setEnabled(!1):this.graph.setEnabled(!0),this.lock=l,this}},{key:"tooltipGraph",value:function(l){return l?this.graph.setTooltips(!0):this.graph.setTooltips(!1),this.tooltip=l,this}},{key:"allowDrawio",value:function(l){return l?(mxUrlConverter.prototype.baseUrl="http://draw.io/",mxUrlConverter.prototype.baseDomain=""):(mxUrlConverter.prototype.baseUrl=null,mxUrlConverter.prototype.baseDomain=null),this}},{key:"enableAnim",value:function(l){return this.animation=l,this}},{key:"centerGraph",value:function(l){var Z=a.a.trace.before(this.constructor.name+".centerGraph()");return this.graph.centerZoom=!1,l?this.graph.center(!0,!0):this.graph.center(!1,!1),this.center=l,Z.after(),this}},{key:"scaleGraph",value:function(l){var Z=a.a.trace.before(this.constructor.name+".scaleGraph()");return l&&(this.unzoomGraph(),this.graph.fit(),this.graph.view.rendering=!0),this.scale=l,Z.after(),this}},{key:"fitGraph",value:function(){var l=a.a.trace.before(this.constructor.name+".fitGraph()"),Z=this.graph.getGraphBounds(),b=this.graph.container.clientWidth-2,G=this.graph.container.clientHeight-2,d=Z.width/this.graph.view.scale,m=Z.height/this.graph.view.scale,W=Math.min(3,Math.min(b/d,G/m));return this.graph.view.scaleAndTranslate(W,(2+b-d*W)/(2*W)-Z.x/this.graph.view.scale,(2+G-m*W)/(2*W)-Z.y/this.graph.view.scale),l.after(),this}},{key:"gridGraph",value:function(l){return this.container.style.backgroundImage=l?"url('data:image/gif;base64,R0lGODlhCgAKAJEAAAAAAP///8zMzP///yH5BAEAAAMALAAAAAAKAAoAAAIJ1I6py+0Po2wFADs=')":"",this.grid=l,this}},{key:"zoomGraph",value:function(l){var Z=a.a.trace.before(this.constructor.name+".zoomGraph()");if(!this.scale&&l&&l.length>0&&"100%"!==l&&"0%"!==l){var b=Number(l.replace("%",""))/100;this.graph.zoomTo(b,!0),this.zoomPercent=l}else this.unzoomGraph();return this.zoom=!0,Z.after(),this}},{key:"unzoomGraph",value:function(){return this.zoom=!1,this.graph.zoomActual(),this}},{key:"bgGraph",value:function(l){var Z=$(this.container);return l?(this.bgColor=l,Z.css("background-color",l)):Z.css("background-color",""),this}},{key:"getMxGraph",value:function(){return this.graph}},{key:"getxmlGraph",value:function(){return this.xmlGraph}},{key:"setContent",value:function(l){var Z=a.a.trace.before(this.constructor.name+".setContent()");return"xml"===this.type&&(a.a.utils.isencoded(l)?this.xmlGraph=a.a.utils.decode(l,!0,!0,!0):this.xmlGraph=l),"csv"===this.type&&(this.csvGraph=l),this.drawGraph(),Z.after(),this}},{key:"getCurrentCells",value:function(l){var Z=this,b=a.a.trace.before(this.constructor.name+".getCurrentCells()"),G=[],d=this.graph.getModel().cells;return"id"===l?Y.a.each(d,(function(l){G.push(Z.getId(l))})):"value"===l&&Y.a.each(d,(function(l){G.push(Z.getLabelCell(l))})),b.after(),G}},{key:"findMxCells",value:function(l,Z){var b=this,G=a.a.trace.before(this.constructor.name+".findMxCells()"),d=this.getMxCells(),m=[];return"id"===l?Y.a.each(d,(function(l){a.a.utils.matchString(l.id,Z)&&m.push(l)})):"value"===l&&Y.a.each(d,(function(l){a.a.utils.matchString(b.getLabelCell(l),Z)&&m.push(l)})),G.after(),m}},{key:"selectMxCells",value:function(l,Z){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function b(){var G;return regeneratorRuntime.wrap((function(b){for(;;)switch(b.prev=b.next){case 0:(G=this.findMxCells(l,Z))&&this.highlightCells(G);case 2:case"end":return b.stop()}}),b,this)})))}},{key:"unselectMxCells",value:function(l,Z){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function b(){var G;return regeneratorRuntime.wrap((function(b){for(;;)switch(b.prev=b.next){case 0:(G=this.findMxCells(l,Z))&&this.unhighlightCells(G);case 2:case"end":return b.stop()}}),b,this)})))}},{key:"createOverlay",value:function(l,Z){var b=new mxCellOverlay(l,Z);return b.addListener(mxEvent.CLICK,(function(l,b){mxUtils.alert("".concat(Z,"\nLast update: ").concat(new Date))})),b}},{key:"addOverlay",value:function(l,Z){return this.graph.addCellOverlay(Z,this.createOverlay(this.graph.warningImage,"State: ".concat(l))),this}},{key:"removeOverlay",value:function(l){return this.graph.removeCellOverlays(l),this}},{key:"addLink",value:function(l,Z){return this.graph.setLinkForCell(l,Z),this}},{key:"getLink",value:function(l){return this.graph.getLinkForCell(l)}},{key:"removeLink",value:function(l){return this.graph.setLinkForCell(l,null),this}},{key:"getOrignalCells",value:function(l){return"id"===l||"value"===l?this.cells[l]:[]}},{key:"renameId",value:function(l,Z){var b=this.findMxCells("id",l);return void 0!==b&&b.length>0?b.forEach((function(l){l.id=Z})):a.a.log.warn("Cell ".concat(l," not found")),this}},{key:"getXmlModel",value:function(){var l=(new mxCodec).encode(this.graph.getModel());return mxUtils.getXml(l)}},{key:"getMxCells",value:function(){return this.graph.getModel().cells}},{key:"getValuePropOfMxCell",value:function(l,Z){return"id"===l?this.getId(Z):"value"===l?this.getLabelCell(Z):null}},{key:"getStyleCell",value:function(l,Z){var b=this.graph.view.getState(l);return b?b.style[Z]:null}},{key:"isAnimated",value:function(){return this.animation}},{key:"setColorAnimCell",value:function(l,Z,b){var G=a.a.trace.before(this.constructor.name+".setColorAnimCell()"),d="".concat(Z,"_").concat(l.id);if(a.a.clearUniqTimeOut(d),this.isAnimated()&&b)try{var m=this.getStyleCell(l,Z);if(m){var W=b,c=n.a.scale([m,W]).mode("lrgb").colors(a.a.CONSTANTS.CONF_COLORS_STEPS+1),h=1,X=this,V=c.length;!function b(){h<V?(X.setStyleCell(l,Z,c[h]),h+=1,a.a.setUniqTimeOut(b,a.a.CONSTANTS.CONF_COLORS_MS,d)):a.a.clearUniqTimeOut(d)}()}else{var u=n()(b).hex();this.setStyleCell(l,Z,u)}}catch(G){a.a.log.error("Error on graduate color",G),this.setStyleCell(l,Z,b)}else{if(null!==b)try{b=n()(b).hex()}catch(l){a.a.log.error("Invalid Color",b)}this.setStyleCell(l,Z,b)}return G.after(),this}},{key:"setStyleCell",value:function(l,Z,b){return this.graph.setCellStyles(Z,b,[l]),this}},{key:"setStyleAnimCell",value:function(l,Z,b,G){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function d(){var m,W,c,h,X,V,u,R,Y;return regeneratorRuntime.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:if(m=a.a.trace.before(this.constructor.name+".setStyleAnimCell()"),this.isAnimated()&&null!==b)try{W=Number(b),c=Number(void 0!==G?G:this.getStyleCell(l,Z)),W!==c&&(h=function b(){R<u?(Y.setStyleCell(l,Z,V[R].toString()),R+=1,a.a.setUniqTimeOut(b,a.a.CONSTANTS.CONF_ANIMS_MS,X)):a.a.clearUniqTimeOut(X)},X="".concat(Z,"_").concat(l.id),a.a.clearUniqTimeOut(X),V=a.a.getIntervalCounter(c,W,a.a.CONSTANTS.CONF_ANIMS_STEP),u=V.length,R=0,Y=this,h())}catch(G){this.graph.setCellStyles(Z,b,[l])}else this.graph.setCellStyles(Z,b,[l]);m.after();case 3:case"end":return d.stop()}}),d,this)})))}},{key:"setStyles",value:function(l,Z){return this.graph.getModel().setStyle(l,Z),this}},{key:"setClassCell",value:function(l,Z){var b=this.graph.view.getState(l);if(b&&null!==b.shape){var G=b.shape.node.getElementsByTagName("path");if(G.length>1){var d=G[1].getAttribute("class"),m=[];null!=d&&(m=d.split(" ")),m.includes(Z)||(m.push(Z),d=m.join(" "),G[1].setAttribute("class",d),"1"!==mxUtils.getValue(b.style,mxConstants.STYLE_DASHED,"0")&&G[1].setAttribute("stroke-dasharray","8"))}}return this}},{key:"unsetClassCell",value:function(l,Z){var b=this.graph.view.getState(l);if(b&&null!==b.shape){var G=b.shape.node.getElementsByTagName("path");if(G.length>1){var d=G[1].getAttribute("class"),m=[];null!=d&&(m=d.split(" ")),m.includes(Z)&&((m=m.filter((function(l){return l!==Z}))).length>1?(d=m.join(" "),G[1].setAttribute("class",d)):G[1].removeAttribute("class"),"1"!==mxUtils.getValue(b.style,mxConstants.STYLE_DASHED,"0")&&G[1].removeAttribute("stroke-dasharray"))}}return this}},{key:"getLabelCell",value:function(l){return mxUtils.isNode(l.value)?l.value.getAttribute("label"):l.getValue(l)}},{key:"setLabelCell",value:function(l,Z){return this.graph.cellLabelChanged(l,Z,!1),this}},{key:"getId",value:function(l){return l.getId()}},{key:"setMap",value:function(l){a.a.log.info("XGraph.setMapping()"),this.onMapping=l,!0===this.onMapping.active&&(this.container.style.cursor="crosshair",this.graph.click=this.eventClick.bind(this))}},{key:"unsetMap",value:function(){a.a.log.info("XGraph.unsetMapping()"),this.onMapping.active=!1,this.container.style.cursor="auto",this.graph.click=this.clickBackup,this.onMapping.$scope&&this.onMapping.$scope.$applyAsync()}},{key:"eventClick",value:function(l){if(this.onMapping.active){var Z=l.getState();if(Z){var b=null!==this.onMapping.prop?this.onMapping.prop:"id",G=this.getValuePropOfMxCell(b,Z.cell);if(this.onMapping.object&&(this.onMapping.object.data.pattern=G),this.onMapping.value){var d=document.getElementById(this.onMapping.value);d&&setTimeout((function(){d.focus()}),100)}this.unsetMap()}}}},{key:"eventDebug",value:function(l){console.log("DEBUG mxMouseEvent",l)}},{key:"eventDbClick",value:function(l,Z){void 0!==Z&&this.lazyZoomCell(Z)}},{key:"eventMouseWheel",value:function(l,Z){if(this.graph.isZoomWheelEvent(l)){null==Z&&(Z=l.deltaY<0);var b=this.container.getBoundingClientRect(),G=l.clientX-b.left,d=l.clientY-b.top;this.cumulativeZoomFactor=Z?1.2*this.cumulativeZoomFactor:.8*this.cumulativeZoomFactor,this.lazyZoomPointer(this.cumulativeZoomFactor,G,d),mxEvent.consume(l)}}},{key:"eventKey",value:function(l){mxEvent.isConsumed(l)||27!==l.keyCode||(this.cumulativeZoomFactor=1,this.graph&&(this.graph.zoomActual(),this.applyGraph()))}},{key:"lazyZoomCenter",value:function(l){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function Z(){return regeneratorRuntime.wrap((function(Z){for(;;)switch(Z.prev=Z.next){case 0:this.graph.zoomTo(l,!0);case 1:case"end":return Z.stop()}}),Z,this)})))}},{key:"lazyZoomPointer",value:function(l,Z,b){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function G(){var d,m,W,c,h,X;return regeneratorRuntime.wrap((function(G){for(;;)switch(G.prev=G.next){case 0:d=a.a.trace.before(this.constructor.name+".lazyZoomPointer()"),m=2*Z,W=2*b,l=Math.max(.01,Math.min(this.graph.view.scale*l,160))/this.graph.view.scale,l=this.cumulativeZoomFactor/this.graph.view.scale,c=Math.round(this.graph.view.scale*l*100)/100,(l=c/this.graph.view.scale)>1?(m*=-(h=(l-1)/(2*c)),W*=-h):(X=(1/l-1)/(2*this.graph.view.scale),m*=X,W*=X),this.graph.view.scaleAndTranslate(c,this.graph.view.translate.x+m,this.graph.view.translate.y+W),d.after();case 10:case"end":return G.stop()}}),G,this)})))}},{key:"highlightCells",value:function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getMxCells();return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function Z(){var b;return regeneratorRuntime.wrap((function(Z){for(;;)switch(Z.prev=Z.next){case 0:for(b=0;b<l.length;b++)this.highlightCell(l[b]);case 1:case"end":return Z.stop()}}),Z,this)})))}},{key:"unhighlightCells",value:function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getMxCells();return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function Z(){var b=this;return regeneratorRuntime.wrap((function(Z){for(;;)switch(Z.prev=Z.next){case 0:Y.a.each(l,(function(l){b.unhighlightCell(l)}));case 1:case"end":return Z.stop()}}),Z)})))}},{key:"highlightCell",value:function(l){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function Z(){var b,G,d;return regeneratorRuntime.wrap((function(Z){for(;;)switch(Z.prev=Z.next){case 0:l.highlight||null!=(b=this.graph.view.getState(l))&&(G=Math.max(5,mxUtils.getValue(b.style,mxConstants.STYLE_STROKEWIDTH,1)+4),(d=new mxCellHighlight(this.graph,"#99ff33",G,!1)).opacity=100,d.highlight(b),l.highlight=d);case 1:case"end":return Z.stop()}}),Z,this)})))}},{key:"unhighlightCell",value:function(l){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function Z(){var b;return regeneratorRuntime.wrap((function(Z){for(;;)switch(Z.prev=Z.next){case 0:l&&l.highlight&&(null!=(b=l.highlight).shape&&(mxUtils.setPrefixedStyle(b.shape.node.style,"transition","all 500ms ease-in-out"),b.shape.node.style.opacity=0),window.setTimeout((function(){b.destroy()}),500),l.highlight=null);case 1:case"end":return Z.stop()}}),Z)})))}},{key:"blinkCell",value:function(l,Z){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function b(){var G,d,m,W;return regeneratorRuntime.wrap((function(b){for(;;)switch(b.prev=b.next){case 0:l.blink||(l.blink=!0,G=this,d="blink_".concat(l.id),a.a.clearUniqTimeOut(d),m=function(){var b=G.graph.view.getState(l);if(null!=b){var m=Math.max(5,mxUtils.getValue(b.style,mxConstants.STYLE_STROKEWIDTH,1)+4),c=new mxCellHighlight(G.graph,"#f5f242",m,!1);c.opacity=100,c.highlight(b),l.blink_on=c,l.blink_ms=Z,a.a.setUniqTimeOut(W,Z,d)}},W=function(){if(l&&l.blink){var b=l.blink_on;null!=b.shape&&(mxUtils.setPrefixedStyle(b.shape.node.style,"transition","all ".concat(Z,"ms ease-in-out")),b.shape.node.style.opacity=0),b.destroy(),l.blink_on=null,a.a.setUniqTimeOut(m,Z,d)}},m());case 1:case"end":return b.stop()}}),b,this)})))}},{key:"unblinkCell",value:function(l){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function Z(){var b,G;return regeneratorRuntime.wrap((function(Z){for(;;)switch(Z.prev=Z.next){case 0:b="blink_".concat(l.id),l.blink&&(l.blink_on&&null!=(G=l.blink_on).shape&&(G.shape.node.style.opacity=0,G.destroy(),l.blink_on=null,l.blink_ms=0),l.blink=null),a.a.clearUniqTimeOut(b);case 3:case"end":return Z.stop()}}),Z)})))}},{key:"isBlinkCell",value:function(l){return!!l.blink}},{key:"geBlinkMxCell",value:function(l){return l.blink?l.blink_ms:0}},{key:"isCollapsedCell",value:function(l){return this.graph.isCellCollapsed(l)}},{key:"collapseCell",value:function(l){this.isCollapsedCell(l)||this.graph.foldCells(!0,!1,[l],null,null)}},{key:"expandCell",value:function(l){this.isCollapsedCell(l)&&this.graph.foldCells(!1,!1,[l],null,null)}},{key:"toggleFoldCell",value:function(l){var Z=!this.isCollapsedCell(l);this.graph.foldCells(Z,!1,[l],null,null)}},{key:"hideCell",value:function(l){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function Z(){return regeneratorRuntime.wrap((function(Z){for(;;)switch(Z.prev=Z.next){case 0:this.isVisibleCell(l)&&this.graph.model.setVisible(l,!1);case 1:case"end":return Z.stop()}}),Z,this)})))}},{key:"showCell",value:function(l){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function Z(){return regeneratorRuntime.wrap((function(Z){for(;;)switch(Z.prev=Z.next){case 0:this.isVisibleCell(l)||this.graph.model.setVisible(l,!0);case 1:case"end":return Z.stop()}}),Z,this)})))}},{key:"isVisibleCell",value:function(l){return this.graph.model.isVisible(l)}},{key:"resizeCell",value:function(l,Z,b){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function G(){var d,m,W,c,h,X,V,u,R,Y,i,n,p,s,y,L,t,o;return regeneratorRuntime.wrap((function(G){for(;;)switch(G.prev=G.next){case 0:d=a.a.trace.before(this.constructor.name+".resizeCell()"),null!==(m=this.graph.model.getGeometry(l))&&(W="resize_".concat(l.id),a.a.clearUniqTimeOut(W),c=void 0!==b?b.x:m.x,h=void 0!==b?b.width:m.x,X=void 0!==b?b.y:m.y,V=void 0!==b?b.height:m.y,c-=((u=h*(Z/100))-h)/2,X-=((R=V*(Z/100))-V)/2,this.isAnimated()?(Y=function Z(){if(L<y){var b=new mxRectangle(i[L],n[L],p[L],s[L]);t.graph.resizeCell(l,b,!0),L+=1,a.a.setUniqTimeOut(Z,a.a.CONSTANTS.CONF_ANIMS_MS,W)}else a.a.clearUniqTimeOut(W)},i=a.a.getIntervalCounter(m.x,c,a.a.CONSTANTS.CONF_ANIMS_STEP),n=a.a.getIntervalCounter(m.y,X,a.a.CONSTANTS.CONF_ANIMS_STEP),p=a.a.getIntervalCounter(m.width,u,a.a.CONSTANTS.CONF_ANIMS_STEP),s=a.a.getIntervalCounter(m.height,R,a.a.CONSTANTS.CONF_ANIMS_STEP),y=i.length,L=0,t=this,Y()):(o=new mxRectangle(c,X,u,R),this.graph.resizeCell(l,o,!0))),d.after();case 4:case"end":return G.stop()}}),G,this)})))}},{key:"changeSizeCell",value:function(l,Z,b,G){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function d(){var m,W,c,h,X,V,u,R,Y,i,n,p,s,y,L,t,o,F;return regeneratorRuntime.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:m=a.a.trace.before(this.constructor.name+".resizeCell()"),null!==(W=this.graph.model.getGeometry(l))&&(c="resize_".concat(l.id),a.a.clearUniqTimeOut(c),h=void 0!==G?G.x:W.x,X=void 0!==G?G.width:W.x,V=void 0!==G?G.y:W.y,u=void 0!==G?G.height:W.y,h=void 0!==Z&&Z<0?h+Z+X:h,V=void 0!==b&&b<0?V+b+u:V,R=void 0!==b?Math.abs(b):void 0!==G?G.height:W.height,Y=void 0!==Z?Math.abs(Z):void 0!==G?G.width:W.width,this.isAnimated()?(i=function Z(){if(t<L){var b=new mxRectangle(n[t],p[t],s[t],y[t]);o.graph.resizeCell(l,b,!0),t+=1,a.a.setUniqTimeOut(Z,a.a.CONSTANTS.CONF_ANIMS_MS,c)}else a.a.clearUniqTimeOut(c)},n=a.a.getIntervalCounter(W.x,h,a.a.CONSTANTS.CONF_ANIMS_STEP),p=a.a.getIntervalCounter(W.y,V,a.a.CONSTANTS.CONF_ANIMS_STEP),s=a.a.getIntervalCounter(W.width,Y,a.a.CONSTANTS.CONF_ANIMS_STEP),y=a.a.getIntervalCounter(W.height,R,a.a.CONSTANTS.CONF_ANIMS_STEP),L=n.length,t=0,o=this,i()):(F=new mxRectangle(h,V,Y,R),this.graph.resizeCell(l,F,!0))),m.after();case 4:case"end":return d.stop()}}),d,this)})))}},{key:"getSizeCell",value:function(l){return this.graph.model.getGeometry(l)}},{key:"resetSizeCell",value:function(l,Z){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function b(){var G;return regeneratorRuntime.wrap((function(b){for(;;)switch(b.prev=b.next){case 0:G=new mxRectangle(Z.x,Z.y,Z.width,Z.height),this.graph.resizeCell(l,G,!0);case 2:case"end":return b.stop()}}),b,this)})))}},{key:"lazyZoomCell",value:function(l){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function Z(){var b,G,d,m,W,c,h;return regeneratorRuntime.wrap((function(Z){for(;;)switch(Z.prev=Z.next){case 0:b=a.a.trace.before(this.constructor.name+".lazyZoomCell()"),null!=l&&l.isVertex()&&null!==(G=this.graph.view.getState(l))&&(d=G.x,m=G.y,W=G.width,c=G.height,h=new mxRectangle(d,m,W,c),this.graph.zoomToRect(h),this.cumulativeZoomFactor=this.graph.view.scale),b.after();case 3:case"end":return Z.stop()}}),Z,this)})))}}])&&w(Z.prototype,b),G&&w(Z,G),l}();function B(l,Z){for(var b=0;b<Z.length;b++){var G=Z[b];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(l,G.key,G)}}Q.initialized=!1,g.$inject=["$q","$sce","uiSegmentSrv"];var j=function(){function l(Z){!function(l,Z){if(!(l instanceof Z))throw new TypeError("Cannot call a class as a function")}(this,l),this.sourceTypes=a.a.CONSTANTS.SOURCE_TYPES,this.themes=a.a.CONSTANTS.DIOTHEME_TYPES,this.errorSourceFlag=!1,this.errorSourceMsg="",this.errorDownloadFlag=!1,this.errorDownloadMsg="",Z.editor=this,Z.$GF=a.a.me(),this.$scope=Z,this.ctrl=Z.ctrl,this.panel=this.ctrl.panel,this.flowchartHandler=this.ctrl.flowchartHandler}var Z,b,G;return l.$inject=["$scope"],Z=l,(b=[{key:"render",value:function(){this.flowchartHandler.render()}},{key:"onSourceChange",value:function(){this.flowchartHandler.sourceChanged(),this.render()}},{key:"onOptionChange",value:function(){a.a.log.info("FlowchartOptionsCtrl.onOptionChange()"),this.flowchartHandler.optionChanged(),this.render()}},{key:"onColorChange",value:function(){this.onOptionChange()}},{key:"checkSource_onSourceChange",value:function(l){var Z=Q.isValidXml(l);return this.errorSourceFlag=!Z,Z?(this.errorSourceMsg="",this.onSourceChange(),this.$scope.$applyAsync()):this.errorSourceMsg="Invalid Xml definition",Z}},{key:"checkUrl_onSourceChange",value:function(l){var Z=this;this.errorDownloadFlag=!1,this.errorDownloadMsg="";try{l=this.ctrl.templateSrv.replaceWithText(l),fetch(l,{method:"GET",mode:"cors",cache:"default"}).then((function(l){l.status>=200&&l.status<=299?l.text().then((function(l){if("xml"===Z.flowchartHandler.getFlowchart().data.type){var b=Q.isValidXml(l);Z.errorSourceFlag=!b,Z.errorSourceFlag?Z.errorSourceMsg="Response is an invalid Xml definition":(Z.errorDownloadMsg="",Z.onSourceChange())}else Z.errorDownloadMsg="",Z.onSourceChange();Z.$scope.$applyAsync()})):(Z.errorSourceFlag=!0,Z.errorDownloadMsg="Error ".concat(l.status," : ").concat(l.statusText),Z.$scope.$applyAsync())})).catch((function(l){Z.errorSourceFlag=!0,Z.errorDownloadMsg="Error : ".concat(l),Z.$scope.$applyAsync()}))}catch(l){this.errorDownloadFlag=!0,this.errorDownloadMsg="Error when call url"}return!0}},{key:"edit",value:function(l){this.flowchartHandler.openDrawEditor(l)}},{key:"getFlowcharts",value:function(){return this.flowchartHandler.getFlowcharts()}},{key:"getNames",value:function(){return this.flowchartHandler.getFlowchartNames()}},{key:"getCurrentFlowchart",value:function(){return[this.flowchartHandler.getFlowchart()]}}])&&B(Z.prototype,b),G&&B(Z,G),l}();function g(l,Z,b){return{restrict:"E",scope:!0,templateUrl:"".concat(a.a.plugin.getPartialPath(),"/flowchart/index.html"),controller:j}}function P(l,Z){for(var b=0;b<Z.length;b++){var G=Z[b];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(l,G.key,G)}}O.$inject=["$q","uiSegmentSrv"];var r=function(){function l(Z){!function(l,Z){if(!(l instanceof Z))throw new TypeError("Cannot call a class as a function")}(this,l),this.enable=!1,this.traceEnable=a.a.trace.isEnabled(),Z.editor=this,Z.$GF=a.a.me(),this.state={data:this.getStates(),columns:[{id:"cellId",desc:"Shape ID",sort:"asc",select:!1},{id:"label",desc:"Label",sort:"asc",select:!1},{id:"cellId",desc:"Shape ID",sort:"asc",select:!1},{id:"font",desc:"Font color",sort:"asc",select:!1},{id:"fill",desc:"Fill color",sort:"asc",select:!1},{id:"stroke",desc:"Stroke color",sort:"asc",select:!1},{id:"tags",desc:"Tags Mapping",sort:"asc",select:!1}]},this.ctrl=Z.ctrl,this.panel=this.ctrl.panel,this.flowchartHandler=this.ctrl.flowchartHandler,this.stateHandler=this.flowchartHandler.getFlowchart().getStateHandler()}var Z,b,G;return l.$inject=["$scope"],Z=l,(b=[{key:"render",value:function(){this.panel.render()}},{key:"onChangeId",value:function(l){if(void 0!==l.newcellId&&l.cellId!==l.newcellId){l.edited=!0;var Z=this.flowchartHandler.getFlowchart().getStateHandler();void 0!==Z&&(Z.edited=!0),void 0===l.previousId&&(l.previousId=l.cellId),l.cellId=l.newcellId,l.edited=!0}l.edit=!1}},{key:"onEdit",value:function(l){l.edit=!0,l.newcellId=l.cellId;var Z=document.getElementById(l.cellId);setTimeout((function(){Z&&Z.focus()}),100)}},{key:"reset",value:function(){var l=this.flowchartHandler.getFlowchart(),Z=l.getStateHandler();void 0!==Z&&(Z.getStates().forEach((function(l){l.edited&&l.previousId&&(l.cellId=l.previousId,l.edited=!1)})),Z.edited=!1),l.applyModel(),this.flowchartHandler.draw(),this.flowchartHandler.refresh()}},{key:"apply",value:function(){var l=this.flowchartHandler.getFlowchart(),Z=l.getStateHandler();void 0!==Z&&(Z.getStates().forEach((function(Z){Z.edited&&Z.previousId&&(l.renameId(Z.previousId,Z.cellId),Z.edited=!1)})),Z.edited=!1),l.applyModel()}},{key:"selectCell",value:function(l){l.highlightCell()}},{key:"unselectCell",value:function(l){l.unhighlightCell()}},{key:"getStates",value:function(){if(this.stateHandler){var l=this.stateHandler.getStatesForInspect();return Y.a.orderBy(l,["cellId","globalLevel"],["asc"])}return[]}},{key:"getStateValue",value:function(l,Z){switch(Z){case"cellId":return l.cellId;case"level":return l.getTextLevel();case"label":return l.getCellProp("value");default:return null}}},{key:"tracePerf",value:function(){this.traceEnable?a.a.trace.enable():a.a.trace.disable()}},{key:"anonymize",value:function(){var l=this.flowchartHandler.getFlowchart().getXGraph();l&&l.anonymize()}}])&&P(Z.prototype,b),G&&P(Z,G),l}();function O(l,Z){return{restrict:"E",scope:!0,templateUrl:"".concat(a.a.plugin.getPartialPath(),"inspect/index.html"),controller:r}}function D(l,Z){for(var b=0;b<Z.length;b++){var G=Z[b];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(l,G.key,G)}}var f=function(){function l(Z){!function(l,Z){if(!(l instanceof Z))throw new TypeError("Cannot call a class as a function")}(this,l),this.activeRuleIndex=0,a.a.log.info("RulesHandler.constructor()"),this.rules=[],this.data=Z}var Z,b,G;return Z=l,G=[{key:"getDefaultData",value:function(){return{rulesData:[]}}}],(b=[{key:"import",value:function(l){var Z=this;a.a.log.info("RuleHandler.import()"),this.rules=[];var b,G=1;return null!=l&&((b=Array.isArray(l)?l:l.rulesData).length>0&&void 0!==b[0].order&&(b=Y.a.sortBy(Y.a.sortBy(b,(function(l){return l.order})))),b.forEach((function(l){Z.addRule("").import(l).setOrder(G),G+=1}))),this}},{key:"clear",value:function(){return this.rules.forEach((function(l){l.clear()})),this.rules=[],this.data.rulesData=[],this}},{key:"getRules",value:function(){return this.rules}},{key:"getRule",value:function(l){return this.rules[l]}},{key:"addRule",value:function(l){var Z=J.getDefaultData(),b=new J(l,Z);return this.rules.push(b),this.data.rulesData.push(Z),b.setOrder(this.countRules()),b}},{key:"countRules",value:function(){return void 0!==this.rules&&Array.isArray(this.rules)?this.rules.length:0}},{key:"setOrder",value:function(){for(var l=this.rules.length,Z=0;Z<l;Z++)this.rules[Z].setOrder(Z+1);return this}},{key:"removeRule",value:function(l){var Z=l.getOrder()-1;this.rules.splice(Z,1),this.data.rulesData.splice(Z,1),this.setOrder()}},{key:"cloneRule",value:function(l){var Z=l.getOrder()-1,b=l.getData(),G=J.getDefaultData();this.reduce();var d=new J(G.pattern,G);d.import(b),G.alias="Copy of ".concat(G.alias),this.rules.splice(Z,0,d),this.data.rulesData.splice(Z,0,G),d.data.reduce=!1,this.activeRuleIndex=Z,this.setOrder();var m=document.getElementById(d.getId());return m&&setTimeout((function(){m.focus()}),100),d}},{key:"reduce",value:function(){return this.getRules().forEach((function(l){l.data.reduce=!0})),this}},{key:"moveRuleToUp",value:function(l){var Z=l.getOrder()-1,b=this.rules,G=b.length-1;if(0!==Z&&0!==G){var d=b[Z];d.setOrder(Z);var m=b[Z-1];m.setOrder(Z+1),b[Z-1]=d,b[Z]=m}}},{key:"moveRuleToDown",value:function(l){var Z=l.getOrder()-1,b=this.rules,G=b.length-1;if(Z!==G&&0!==G){var d=b[Z];d.setOrder(Z+2);var m=b[Z+1];m.setOrder(Z+1),b[Z+1]=d,b[Z]=m}}}])&&D(Z.prototype,b),G&&D(Z,G),l}(),A=b(6),q=b.n(A);function _(l){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(l)}function ll(l,Z){return!Z||"object"!==_(Z)&&"function"!=typeof Z?function(l){if(void 0===l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}(l):Z}function Zl(l){return(Zl=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)})(l)}function bl(l,Z){if("function"!=typeof Z&&null!==Z)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(Z&&Z.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),Z&&Gl(l,Z)}function Gl(l,Z){return(Gl=Object.setPrototypeOf||function(l,Z){return l.__proto__=Z,l})(l,Z)}function dl(l,Z){if(!(l instanceof Z))throw new TypeError("Cannot call a class as a function")}function ml(l,Z){for(var b=0;b<Z.length;b++){var G=Z[b];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(l,G.key,G)}}function Wl(l,Z,b){return Z&&ml(l.prototype,Z),b&&ml(l,b),l}var cl=function(){function l(Z){dl(this,l),this.timeFormat="YYYY-MM-DD HH:mm:ss",this.checked=!1,this.div=null,this.mxcell=Z,this.checked=!1,this.metrics=new Set}return Wl(l,[{key:"isChecked",value:function(){return this.checked}},{key:"addMetric",value:function(){this.checked=!0;var l=new hl;return this.metrics.add(l),l}},{key:"updateDate",value:function(){var l=new Date;this.lastChange=l.getFullYear()+"-"+(l.getMonth()+1).toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})+"-"+l.getDate().toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})+" "+l.getHours().toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})+":"+l.getMinutes().toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})+":"+l.getSeconds().toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})}},{key:"destroy",value:function(){this.metrics.clear(),this.mxcell.GF_tooltipHandler&&delete this.mxcell.GF_tooltipHandler}},{key:"getDiv",value:function(l){if(null!==this.div&&void 0!==this.div)return l&&this.div&&l.appendChild(this.div),this.div;if(!this.checked)return null;var Z=document.createElement("div");return void 0!==l&&l.appendChild(Z),this.metrics.size>0&&(this.getDateDiv(Z),this.metrics.forEach((function(l){l.getDiv(Z)}))),this.div=Z,Z}},{key:"getDateDiv",value:function(l){var Z=document.createElement("div");return Z.id=this.mxcell.mxObjectId+"_DATE",void 0!==l&&l.appendChild(Z),Z.className="graph-tooltip-time tooltip-date",Z.innerHTML="".concat(this.lastChange),Z}}]),l}(),hl=function(){function l(){dl(this,l),this.direction="v",this.color="#8c8980",this.graphs=new Set,this.label="",this.value=""}return Wl(l,[{key:"setLabel",value:function(l){return this.label=l,this}},{key:"setValue",value:function(l){return this.value=l,this}},{key:"setColor",value:function(l){return null!==l&&(this.color=l),this}},{key:"setDirection",value:function(l){return this.direction=l,this}},{key:"getDiv",value:function(l){var Z=document.createElement("div");return Z.className="tooltip-metric","h"===this.direction&&(Z.style.display="inline-block"),void 0!==l&&l.appendChild(Z),this.div=Z,this.getTextDiv(Z),this.getGraphsDiv(Z),Z}},{key:"getTextDiv",value:function(l){var Z=document.createElement("div");Z.className="tooltip-text";var b="";return void 0!==l&&l.appendChild(Z),void 0!==this.label&&(b+="".concat(this.label," : "),b+='<span style="color:'.concat(this.color,'"><b>').concat(this.value,"</b></span>")),Z.innerHTML=b,Z}},{key:"getGraphsDiv",value:function(l){var Z=document.createElement("div");return void 0!==l&&l.appendChild(Z),this.graphs.size>0&&this.graphs.forEach((function(l){l.getDiv(Z)})),Z}},{key:"addGraph",value:function(l){var Z;switch(l){case"line":Z=new Vl;break;case"bar":Z=new ul;break;default:a.a.log.error("Graph type unknow",l),Z=new ul}return this.graphs.add(Z),Z}}]),l}(),Xl=function(){function l(){dl(this,l),this.color="#8c8980",this.type="line",this.data={series:[{data:[{x:0,y:0}]}]},this.size="100%",this.low=null,this.high=null,this.scaleType="linear"}return Wl(l,[{key:"getDiv",value:function(l){return this.div}},{key:"setName",value:function(l){return this.name=l,this}},{key:"setColumn",value:function(l){return this.column=l,this}},{key:"setType",value:function(l){return this.type=l,this}},{key:"setSize",value:function(l){return this.size=l,this}},{key:"setMetric",value:function(l){return this.metric=l,this}},{key:"setScaling",value:function(l,Z){return this.low=l,this.high=Z,this}},{key:"setScale",value:function(l){this.scaleType=l}},{key:"setColor",value:function(l){return null!==l&&(this.color=l),this}},{key:"setParentDiv",value:function(l){return this.parentDiv=l,this}},{key:"getChart",value:function(){return this.chart}}]),l}(),Vl=function(l){function Z(){var l;return dl(this,Z),(l=ll(this,Zl(Z).call(this))).type="line",l.chartistOptions={showPoint:!1,showLine:!0,showArea:!0,fullWidth:!0,axisX:{showGrid:!1,showLabel:!1,offset:0},axisY:{showGrid:!1,showLabel:!1,offset:0},chartPadding:{top:0,left:0,right:0,bottom:0}},l}return bl(Z,l),Wl(Z,[{key:"getDiv",value:function(l){if(this.metric){var Z="log"===this.scaleType;this.data.series[0].data=this.metric.getData(this.column,Z)}var b=document.createElement("div"),G=this.color;return this.div=b,void 0!==l&&l.appendChild(b),b.className="ct-chart ct-golden-section",null!==this.size&&(b.style.width=this.size),null!==this.low&&(this.chartistOptions.low=this.low),null!==this.high&&(this.chartistOptions.high=this.high),this.chart=new q.a.Line(b,this.data,this.chartistOptions),this.chart.on("draw",(function(l){"line"!==l.type&&"area"!==l.type||("line"===l.type&&l.element.attr({style:"stroke: ".concat(G)}),"area"===l.type&&l.element.attr({style:"fill: ".concat(G)}),l.element.animate({d:{begin:1e3*l.index,dur:1e3,from:l.path.clone().scale(1,0).translate(0,l.chartRect.height()).stringify(),to:l.path.clone().stringify(),easing:q.a.Svg.Easing.easeOutQuint}}))})),b}}]),Z}(Xl),ul=function(l){function Z(){var l;return dl(this,Z),(l=ll(this,Zl(Z).call(this))).type="bar",l.chartistOptions={axisX:{showGrid:!1,showLabel:!1,offset:0},axisY:{showGrid:!1,showLabel:!1,offset:0},chartPadding:{top:0,left:0,right:0,bottom:0}},l}return bl(Z,l),Wl(Z,[{key:"getDiv",value:function(l){if(this.metric){var Z="log"===this.scaleType;this.data.series[0].data=this.metric.getData(this.column,Z)}var b=document.createElement("div"),G=this.color;this.div=b,void 0!==l&&l.appendChild(b),b.className="ct-chart ct-golden-section",null!==this.size&&(b.style.width=this.size),null!==this.low&&(this.chartistOptions.low=this.low),null!==this.high&&(this.chartistOptions.high=this.high),this.chart=new q.a.Bar(b,this.data,this.chartistOptions);var d=0,m=this.data.series[0].data.length,W=Math.round(50/(m/10)),c=Math.round(250/(m/10));return this.chart.on("draw",(function(l){"bar"===l.type&&(l.element.attr({style:"stroke: ".concat(G)}),d++,l.element.animate({opacity:{begin:d*W,dur:c,from:0,to:1,easing:"ease"}}))})),b}}]),Z}(Xl);function Rl(l,Z,b){return(Rl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(l,Z,b){var G=function(l,Z){for(;!Object.prototype.hasOwnProperty.call(l,Z)&&null!==(l=il(l)););return l}(l,Z);if(G){var d=Object.getOwnPropertyDescriptor(G,Z);return d.get?d.get.call(b):d.value}})(l,Z,b||l)}function Yl(l){return(Yl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(l)}function al(l,Z){return!Z||"object"!==Yl(Z)&&"function"!=typeof Z?function(l){if(void 0===l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}(l):Z}function il(l){return(il=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)})(l)}function nl(l,Z){if("function"!=typeof Z&&null!==Z)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(Z&&Z.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),Z&&pl(l,Z)}function pl(l,Z){return(pl=Object.setPrototypeOf||function(l,Z){return l.__proto__=Z,l})(l,Z)}function sl(l,Z){if(!(l instanceof Z))throw new TypeError("Cannot call a class as a function")}function yl(l,Z){for(var b=0;b<Z.length;b++){var G=Z[b];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(l,G.key,G)}}function Ll(l,Z,b){return Z&&yl(l.prototype,Z),b&&yl(l,b),l}var tl=function(){function l(Z,b){sl(this,l),this.changed=!1,this.matched=!1,this.globalLevel=-1,this.tooltipHandler=null;var G=a.a.trace.before(this.constructor.name+".constructor()");this.mxcell=Z,this.cellId=Z.id,this.xgraph=b,this.shapeState=new Jl(b,Z),this.tooltipState=new Il(b,Z),this.iconState=new Nl(b,Z),this.eventState=new Fl(b,Z),this.textState=new xl(b,Z),this.linkState=new Sl(b,Z),this.variables=a.a.createLocalVars(),this.status=new Map,this.tooltipHandler=null,this.mxcell.GF_tooltipHandler=null,this.originalText=this.xgraph.getLabelCell(Z),G.after()}return Ll(l,[{key:"clear",value:function(){return this}},{key:"async_applyState",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function l(){return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:this.applyState();case 1:case"end":return l.stop()}}),l,this)})))}},{key:"setState",value:function(l,Z){var b=this,G=a.a.trace.before(this.constructor.name+".setState()");if(!l.isHidden()&&l.matchMetric(Z)){var d=Date.now(),m=l.getShapeMaps(),W=l.getTextMaps(),c=l.getLinkMaps(),h=l.getEventMaps(),X=l.getValueForMetric(Z),V=l.getFormattedValue(X),u=l.getThresholdLevel(X),R=l.data.gradient&&"number"===l.data.type?l.getColorForValue(X):l.getColorForLevel(u);this.variables.set(a.a.CONSTANTS.VAR_STR_RULENAME,l.data.alias),this.variables.set(a.a.CONSTANTS.VAR_NUM_VALUE,X),this.variables.set(a.a.CONSTANTS.VAR_STR_FORMATED,V),this.variables.set(a.a.CONSTANTS.VAR_NUM_LEVEL,u),this.variables.set(a.a.CONSTANTS.VAR_STR_COLOR,R);var Y=this.getCellProp(l.data.shapeProp);m.forEach((function(G){var d=G.data.style;if(!G.isHidden()&&G.match(Y,l.data.shapeRegEx)){var m=R;b.matched=!0,b.globalLevel=u>b.globalLevel?u:b.globalLevel,G.toColorize(u)&&b.shapeState.set(d,m,u)&&b.status.set(d,m),l.toTooltipize(u)&&(d="tooltip",m=!0,b.tooltipState.set("tooltip",!0,u)&&b.status.set(d,m),b.tooltipState.setTooltip(l,Z,R,V)),l.toIconize(u)&&(d="icon",m=!0,b.iconState.set("icon",!0,u)&&b.status.set(d,m))}})),Y=this.getCellProp(l.data.textProp),W.forEach((function(Z){var G="label";if(!Z.isHidden()&&Z.match(Y,l.data.textRegEx)&&Z.toLabelize(u)&&Z.toLabelize(u)){b.matched=!0,b.globalLevel=u>b.globalLevel?u:b.globalLevel;var d=b.variables.replaceText(V),m=Z.getReplaceText(b.textState.getMatchValue(G),d);b.textState.set(G,m,u)&&b.status.set(G,m)}})),Y=this.getCellProp(l.data.eventProp),h.forEach((function(Z){var G=Z.data.style;if(!Z.isHidden()&&Z.match(Y,l.data.eventRegEx)&&Z.toEventable(u)&&Z.toEventable(u)){b.matched=!0,b.globalLevel=u>b.globalLevel?u:b.globalLevel;var d=b.variables.eval(Z.data.value);b.eventState.set(G,d,u)&&b.status.set(G,d)}})),Y=this.getCellProp(l.data.linkProp),c.forEach((function(Z){var G="link";if(!Z.isHidden()&&Z.match(Y,l.data.linkRegEx)&&Z.toLinkable(u)){b.matched=!0,b.globalLevel=u>b.globalLevel?u:b.globalLevel;var d=b.variables.replaceText(Z.getLink());b.linkState.set(G,d,u)&&b.status.set(G,d)}})),u>=l.highestLevel&&this.matched&&(l.highestLevel=u,l.highestValue=X,l.highestFormattedValue=V,l.highestColor=R);var i=Date.now();l.execTimes+=i-d}return G.after(),this}},{key:"unsetState",value:function(){var l=a.a.trace.before(this.constructor.name+".unsetState()");return this.eventState.unset(),this.textState.unset(),this.linkState.unset(),this.tooltipState.unset(),this.iconState.unset(),this.matched=!1,l.after(),this}},{key:"getCellProp",value:function(l){return"id"===l?this.cellId:"value"===l?this.originalText:null}},{key:"getLevel",value:function(){return this.globalLevel}},{key:"getTextLevel",value:function(){return-1===this.globalLevel?"":this.globalLevel.toString()}},{key:"getStatus",value:function(l){var Z=this.status.get(l);return null!=Z||(null===(Z=this.xgraph.getStyleCell(this.mxcell,l))&&(Z=""),this.status.set(l,Z)),Z}},{key:"haveStatus",value:function(l){return this.status.has(l)}},{key:"isShape",value:function(){return this.mxcell.isVertex()}},{key:"isConnector",value:function(){return this.mxcell.isEdge()}},{key:"applyState",value:function(){var l=a.a.trace.before(this.constructor.name+".applyState()");return(this.matched||this.changed)&&(this.changed=!0,this.shapeState.apply(),this.tooltipState.apply(),this.iconState.apply(),this.textState.apply(),this.eventState.apply(),this.linkState.apply()),l.after(),this}},{key:"reset",value:function(){var l=a.a.trace.before(this.constructor.name+".reset()");return this.shapeState.reset(),this.tooltipState.reset(),this.iconState.reset(),this.textState.reset(),this.eventState.reset(),this.linkState.reset(),this.variables.clear(),this.status.clear(),this.globalLevel=-1,this.changed=!1,l.after(),this}},{key:"prepare",value:function(){var l=a.a.trace.before(this.constructor.name+".prepare()");return this.changed&&(this.shapeState.prepare(),this.tooltipState.prepare(),this.iconState.prepare(),this.textState.prepare(),this.eventState.prepare(),this.linkState.prepare(),this.variables.clear(),this.status.clear(),this.globalLevel=-1,this.matched=!1),l.after(),this}},{key:"highlightCell",value:function(){return this.xgraph.highlightCell(this.mxcell),this}},{key:"unhighlightCell",value:function(){return this.xgraph.unhighlightCell(this.mxcell),this}}]),l}(),ol=function(){function l(Z,b){sl(this,l),this.keys=[],this.matchedKey=new Map,this.changedKey=new Map,this.originalValue=new Map,this.matchValue=new Map,this.matchLevel=new Map,this.xgraph=Z,this.mxcell=b,this.init_core()}return Ll(l,[{key:"clear",value:function(){this.keys=[],this.matchedKey.clear(),this.changedKey.clear(),this.originalValue.clear(),this.matchValue.clear(),this.matchLevel.clear()}},{key:"init_core",value:function(){}},{key:"addValue",value:function(Z,b){this.hasKey(Z)||this.keys.push(Z),this.originalValue.set(Z,b),this.matchValue.set(Z,b),this.matchLevel.set(Z,l.DEFAULTLEVEL),this.matchedKey.set(Z,!1),this.changedKey.set(Z,!1)}},{key:"hasKey",value:function(l){return this.keys.includes(l)}},{key:"getOriginalValue",value:function(l){return this.hasKey(l)||this.originalValue.set(l,this.default_core(l)),this.originalValue.get(l)}},{key:"getMatchValue",value:function(l){return this.hasKey(l)||this.matchValue.set(l,this.getOriginalValue(l)),this.matchValue.get(l)}},{key:"set",value:function(l,Z,b){var G=this.matchLevel.get(l);if(void 0===G){var d=this.default_core(l);return this.addValue(l,d),this.set(l,Z,b)}return G<=b&&(this.matchLevel.set(l,b),this.matchedKey.set(l,!0),this.matchValue.set(l,Z),!0)}},{key:"apply",value:function(l){var Z=this;if(void 0!==l)if(this.isMatched(l)){a.a.log.debug("GFState.apply from "+this.constructor.name+" ["+this.mxcell.id+"] MATCHED KEY="+l);var b=this.getMatchValue(l);try{this.apply_core(l,b)}catch(Z){a.a.log.error("Error on reset for key "+l,Z)}this.changedKey.set(l,!0),this.matchedKey.set(l,!1)}else this.isChanged(l)&&(a.a.log.debug("GFState.apply from "+this.constructor.name+" ["+this.mxcell.id+"] CHANGED KEY="+l),this.reset(l));else this.keys.forEach((function(l){Z.apply(l)}));return this}},{key:"default_core",value:function(l){return null}},{key:"apply_core",value:function(l,Z){}},{key:"isMatched",value:function(l){var Z=this;if(void 0!==l)return!0===this.matchedKey.get(l);var b=!1;return this.keys.forEach((function(l){b=Z.isMatched(l)||b})),b}},{key:"isChanged",value:function(l){var Z=this;if(void 0!==l)return!0===this.changedKey.get(l);var b=!1;return this.keys.forEach((function(l){b=!!Z.isChanged(l)||b})),b}},{key:"getLevel",value:function(Z){var b=this;if(void 0!==Z){var G=this.matchLevel.get(Z);return void 0!==G?G:l.DEFAULTLEVEL}var d=l.DEFAULTLEVEL;return this.keys.forEach((function(l){return d=Math.max(b.getLevel(l))})),d}},{key:"unset",value:function(l){var Z=this;return void 0!==l?(this.matchValue.set(l,this.originalValue.get(l)),this.matchedKey.set(l,!1),this.matchLevel.set(l,-1)):this.keys.forEach((function(l){Z.unset(l)})),this}},{key:"reset",value:function(l){var Z=this;if(void 0!==l){a.a.log.debug("GFState.reset from "+this.constructor.name+" ["+this.mxcell.id+"] KEY="+l),this.unset(l);var b=this.getOriginalValue(l);try{this.reset_core(l,b)}catch(Z){a.a.log.error("Error on reset for key "+l,Z)}this.changedKey.set(l,!1),this.matchedKey.set(l,!1)}else this.keys.forEach((function(l){Z.reset(l)}));return this}},{key:"reset_core",value:function(l,Z){}},{key:"prepare",value:function(){return this.isChanged()&&this.unset(),this}}]),l}();ol.DEFAULTLEVEL=-1;var Fl=function(l){function Z(l,b){var G;return sl(this,Z),(G=al(this,il(Z).call(this,l,b))).keys=[],G.geo=void 0,G.init_core(),G}return nl(Z,l),Ll(Z,[{key:"init_core",value:function(){this.geo=this.xgraph.getSizeCell(this.mxcell)}},{key:"default_core",value:function(l){return this._get(l)}},{key:"apply_core",value:function(l,Z){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function b(){return regeneratorRuntime.wrap((function(b){for(;;)switch(b.prev=b.next){case 0:void 0===Z&&(Z=null),this._set(l,Z);case 2:case"end":return b.stop()}}),b,this)})))}},{key:"reset_core",value:function(l,Z){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function b(){return regeneratorRuntime.wrap((function(b){for(;;)switch(b.prev=b.next){case 0:void 0===Z&&(Z=null),this._set(l,Z);case 2:case"end":return b.stop()}}),b,this)})))}},{key:"_set",value:function(l,Z){void 0===Z&&(Z=null);var b=void 0,G=this.isChanged(l)&&!this.isMatched(l),d="",m=l;switch(l.startsWith("class_")&&(m="class",d=l.substring(6)),m){case"class":G?this.xgraph.unsetClassCell(this.mxcell,d):this.xgraph.setClassCell(this.mxcell,d);break;case"text":Z=String(Z),this.xgraph.setLabelCell(this.mxcell,Z);break;case"visibility":"0"===(Z=String(Z))?this.xgraph.hideCell(this.mxcell):"1"===Z&&this.xgraph.showCell(this.mxcell);break;case"fold":"0"===(Z=String(Z))?this.xgraph.collapseCell(this.mxcell):"1"===Z&&this.xgraph.expandCell(this.mxcell);break;case"height":if(void 0!==this.geo){var W=Number(Z);if(this.isMatched("height")){var c=this.isMatched("width")?Number(this.getMatchValue("width")):void 0;this.xgraph.changeSizeCell(this.mxcell,c,W,this.geo),this.unset("width")}else this.isMatched("width")||(this.xgraph.resetSizeCell(this.mxcell,this.geo),this.unset("width"))}break;case"width":if(void 0!==this.geo){var h=Number(Z);if(this.isMatched("width")){var X=this.isMatched("height")?Number(this.getMatchValue("height")):void 0;this.xgraph.changeSizeCell(this.mxcell,h,X,this.geo),this.unset("width")}else this.isMatched("height")||(this.xgraph.resetSizeCell(this.mxcell,this.geo),this.unset("height"))}break;case"size":if(void 0!==this.geo){var V=Number(Z);this.xgraph.resizeCell(this.mxcell,V,this.geo)}break;case"barPos":case"fontSize":case"opacity":case"textOpacity":case"rotation":b=void 0===(b=this._get(l))?e.getDefaultValue(l):b,this.xgraph.setStyleAnimCell(this.mxcell,l,Z,b);break;case"blink":Z?this.xgraph.blinkCell(this.mxcell,Z):this.xgraph.unblinkCell(this.mxcell);break;default:this.xgraph.setStyleCell(this.mxcell,l,Z)}}},{key:"_get",value:function(l){switch(l){case"text":return this.xgraph.getLabelCell(this.mxcell);case"visibility":return!1===this.xgraph.isVisibleCell(this.mxcell)?"0":"1";case"height":return void 0!==this.geo?this.geo.height:void 0;case"width":return void 0!==this.geo?this.geo.width:void 0;case"size":return 100;case"fold":return!0===this.xgraph.isCollapsedCell(this.mxcell)?"0":"1";case"blink":return this.xgraph.geBlinkMxCell(this.mxcell);default:return this.xgraph.getStyleCell(this.mxcell,l)}}}]),Z}(ol),xl=function(l){function Z(l,b){var G;return sl(this,Z),(G=al(this,il(Z).call(this,l,b))).keys=[],G.init_core(),G}return nl(Z,l),Ll(Z,[{key:"init_core",value:function(){}},{key:"default_core",value:function(l){return this.xgraph.getLabelCell(this.mxcell)}},{key:"apply_core",value:function(l,Z){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function l(){return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:this.xgraph.setLabelCell(this.mxcell,Z);case 1:case"end":return l.stop()}}),l,this)})))}},{key:"reset_core",value:function(l,Z){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function l(){return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:this.xgraph.setLabelCell(this.mxcell,Z);case 1:case"end":return l.stop()}}),l,this)})))}}]),Z}(ol),Sl=function(l){function Z(l,b){var G;return sl(this,Z),(G=al(this,il(Z).call(this,l,b))).keys=[],G.init_core(),G}return nl(Z,l),Ll(Z,[{key:"init_core",value:function(){}},{key:"default_core",value:function(l){return this.xgraph.getLink(this.mxcell)}},{key:"apply_core",value:function(l,Z){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function l(){return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:this.xgraph.addLink(this.mxcell,Z);case 1:case"end":return l.stop()}}),l,this)})))}},{key:"reset_core",value:function(l,Z){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function l(){return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:null==Z||0===Z.length?this.xgraph.removeLink(this.mxcell):this.xgraph.addLink(this.mxcell,Z);case 1:case"end":return l.stop()}}),l,this)})))}}]),Z}(ol),Jl=function(l){function Z(l,b){var G;return sl(this,Z),(G=al(this,il(Z).call(this,l,b))).keys=[],G.init_core(),G}return nl(Z,l),Ll(Z,[{key:"init_core",value:function(){this.mxcell.GF_tooltipHandler=null}},{key:"default_core",value:function(l){return this.xgraph.getStyleCell(this.mxcell,l)}},{key:"apply_core",value:function(l,Z){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function b(){return regeneratorRuntime.wrap((function(b){for(;;)switch(b.prev=b.next){case 0:void 0===Z&&(Z=null),this.xgraph.setColorAnimCell(this.mxcell,l,Z);case 2:case"end":return b.stop()}}),b,this)})))}},{key:"reset_core",value:function(l,Z){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function b(){return regeneratorRuntime.wrap((function(b){for(;;)switch(b.prev=b.next){case 0:void 0===Z&&(Z=null),this.xgraph.setColorAnimCell(this.mxcell,l,Z);case 2:case"end":return b.stop()}}),b,this)})))}}]),Z}(ol),Il=function(l){function Z(l,b){var G;return sl(this,Z),(G=al(this,il(Z).call(this,l,b))).keys=["tooltip"],G.init_core(),G}return nl(Z,l),Ll(Z,[{key:"init_core",value:function(){this.addValue("tooltip",!1),this.tooltipHandler=void 0,this.mxcell.GF_tooltipHandler=null}},{key:"setTooltip",value:function(l,Z,b,G){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function d(){var m,W,c;return regeneratorRuntime.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:m=null,W=l.data.tooltipLabel,null!==this.tooltipHandler&&void 0!==this.tooltipHandler||(this.tooltipHandler=new cl(this.mxcell)),null!==W&&0!==W.length||("serie"===l.data.metricType&&(W=Z.getName()),"table"===l.data.metricType&&(W=l.data.column)),l.data.tooltipColors&&(m=b),c=this.tooltipHandler.addMetric().setLabel(W).setValue(G).setColor(m).setDirection(l.data.tpDirection),l.data.tpGraph&&c.addGraph(l.data.tpGraphType).setColor(m).setColumn(l.data.column).setMetric(Z).setSize(l.data.tpGraphSize).setScaling(l.data.tpGraphLow,l.data.tpGraphHigh).setScale(l.data.tpGraphScale),this.tooltipHandler.updateDate();case 8:case"end":return d.stop()}}),d,this)})))}},{key:"apply",value:function(l){var b=this;return void 0!==l&&"tooltip"===l?this.isMatched(l)&&!0===this.getMatchValue(l)&&(null!=this.tooltipHandler&&this.tooltipHandler.isChecked()&&(this.mxcell.GF_tooltipHandler=this.tooltipHandler),Rl(il(Z.prototype),"apply",this).call(this,l)):this.keys.forEach((function(l){b.apply(l)})),this}},{key:"prepare",value:function(){return Rl(il(Z.prototype),"prepare",this).call(this),this.reset(),this}},{key:"reset",value:function(l){var b=this;return void 0!==l&&"tooltip"===l?(this.mxcell.GF_tooltipHandler=null,this.tooltipHandler&&this.tooltipHandler.destroy(),this.tooltipHandler=void 0,Rl(il(Z.prototype),"reset",this).call(this,l)):this.keys.forEach((function(l){b.reset(l)})),this}}]),Z}(ol),Nl=function(l){function Z(l,b){var G;return sl(this,Z),(G=al(this,il(Z).call(this,l,b))).keys=[],G.init(),G}return nl(Z,l),Ll(Z,[{key:"init",value:function(){}},{key:"default_core",value:function(l){return!1}},{key:"apply_core",value:function(l){var Z=this;return void 0!==l&&"icon"===l?this.isMatched(l)&&!0===this.getMatchValue(l)?this.isChanged(l)||this.xgraph.addOverlay("WARNING/ERROR",this.mxcell):this.isChanged(l)&&this.reset_core(l):this.keys.forEach((function(l){Z.apply_core(l)})),this}},{key:"reset_core",value:function(l){var Z=this;return void 0!==l&&"icon"===l?this.xgraph.removeOverlay(this.mxcell):this.keys.forEach((function(l){Z.reset_core(l)})),this}}]),Z}(ol);function Kl(l,Z){for(var b=0;b<Z.length;b++){var G=Z[b];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(l,G.key,G)}}var kl=function(){function l(Z){!function(l,Z){if(!(l instanceof Z))throw new TypeError("Cannot call a class as a function")}(this,l),this.edited=!1,this.states=new Map,this.xgraph=Z,this.initStates(this.xgraph)}var Z,b,G;return Z=l,(b=[{key:"initStates",value:function(l){var Z=this,b=a.a.trace.before(this.constructor.name+".initStates()");this.xgraph=l,this.states.clear();var G=l.getMxCells();return Y.a.each(G,(function(l){Z.addState(l)})),b.after(),this}},{key:"clear",value:function(){return this.states&&(this.states.forEach((function(l){l.clear()})),this.states.clear()),this}},{key:"getStatesForRule",value:function(l){var Z,b=a.a.trace.before(this.constructor.name+".getStatesForRule()"),G=new Map,d=this.xgraph;return this.states.forEach((function(b){var m=b.mxcell,W=m.id,c=!1;null!==(Z=d.getValuePropOfMxCell(l.data.shapeProp,m))&&l.matchShape(Z)&&(G.set(W,b),c=!0),c||(Z=d.getValuePropOfMxCell(l.data.textProp,m),l.matchText(Z)&&(G.set(W,b),c=!0)),c||(Z=d.getValuePropOfMxCell(l.data.linkProp,m),l.matchLink(Z)&&(G.set(W,b),c=!0)),c||(Z=d.getValuePropOfMxCell(l.data.eventProp,m),l.matchEvent(Z)&&(G.set(W,b),c=!0))})),b.after(),G}},{key:"updateStates",value:function(l){var Z=this;a.a.log.info("StateHandler.updateStates()"),l.forEach((function(l){l.states=Z.getStatesForRule(l)}))}},{key:"getStates",value:function(){return this.states}},{key:"getStatesForInspect",value:function(){var l=[];return this.states.forEach((function(Z){l.push(Z)})),l}},{key:"getState",value:function(l){return this.states.get(l)}},{key:"addState",value:function(l){var Z=a.a.trace.before(this.constructor.name+".addState()"),b=new tl(l,this.xgraph);return this.states.set(l.id,b),a.a.DEBUG&&a.a.setVar("STATE_".concat(b.cellId),b),Z.after(),b}},{key:"countStates",value:function(){return this.states.size}},{key:"prepare",value:function(){var l=a.a.trace.before(this.constructor.name+".prepare()");return this.states.forEach((function(l){l.prepare()})),l.after(),this}},{key:"setStates",value:function(l,Z){var b=this,G=a.a.trace.before(this.constructor.name+".setStates()");return this.prepare(),l.forEach((function(l){l.highestLevel=-1,l.highestFormattedValue="",l.highestColor="",l.highestValue="",l.execTimes=0,void 0!==l.states&&0!==l.states.size||(l.states=b.getStatesForRule(l)),l.states.forEach((function(b){Z.forEach((function(Z){b.setState(l,Z)}))}))})),G.after(),this}},{key:"applyStates",value:function(){var l=a.a.trace.before(this.constructor.name+".applyStates()");return this.states.forEach((function(l){l.async_applyState()})),l.after(),this}},{key:"async_applyStates",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function l(){return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:this.applyStates();case 1:case"end":return l.stop()}}),l,this)})))}}])&&Kl(Z.prototype,b),G&&Kl(Z,G),l}();function el(l,Z){for(var b=0;b<Z.length;b++){var G=Z[b];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(l,G.key,G)}}var Ul=function(){function l(Z,b,G,d){!function(l,Z){if(!(l instanceof Z))throw new TypeError("Cannot call a class as a function")}(this,l),this.xgraph=void 0,this.data=d,this.data.name=Z,this.container=b,this.templateSrv=G.templateSrv}var Z,b,G;return Z=l,G=[{key:"getDefaultData",value:function(){return{name:"name",xml:zl.getDefaultDioGraph(),csv:zl.getDefaultCsvGraph(),download:!1,type:"xml",url:"http://<YourUrl>/<Your XML/drawio file/api>",zoom:"100%",center:!0,scale:!0,lock:!0,allowDrawio:!1,enableAnim:!0,tooltip:!0,grid:!1,bgColor:null,editorUrl:"https://www.draw.io",editorTheme:"dark"}}}],(b=[{key:"import",value:function(l){return a.a.log.info("flowchart[".concat(this.data.name,"].import()")),(l.download||!1===this.data.download)&&(this.data.download=l.download),l.source&&(this.data.type=l.source.type,this.data.xml=l.source.xml.value,this.data.url=l.source.url.value),l.options&&(this.data.zoom=l.options.zoom,this.data.center=l.options.center,this.data.scale=l.options.scale,this.data.lock=l.options.lock,this.data.allowDrawio=!1,this.data.tooltip=l.options.tooltip,this.data.grid=l.options.grid,this.data.bgColor=l.options.bgColor),l.type&&(this.data.type=l.type),l.xml&&(this.data.xml=l.xml),l.csv&&(this.data.csv=l.csv),l.url&&(this.data.url=l.url),l.zoom&&(this.data.zoom=l.zoom),(l.center||!1===l.center)&&(this.data.center=l.center),(l.scale||!1===l.scale)&&(this.data.scale=l.scale),(l.lock||!1===l.lock)&&(this.data.lock=l.lock),(l.allowDrawio||!1===l.allowDrawio)&&(this.data.allowDrawio=l.allowDrawio),(l.enableAnim||!1===l.enableAnim)&&(this.data.enableAnim=l.enableAnim),l.tooltip&&(this.data.tooltip=l.tooltip),(l.grid||!1===l.grid)&&(this.data.grid=l.grid),l.bgColor&&(this.data.bgColor=l.bgColor),l.editorUrl&&(this.data.editorUrl=l.editorUrl),l.editorTheme&&(this.data.editorTheme=l.editorTheme),this.init(),this}},{key:"clear",value:function(){return this.xgraph&&(this.xgraph.destroyGraph(),this.xgraph=void 0,this.container.remove()),this.stateHandler&&(this.stateHandler.clear(),this.stateHandler=void 0),this}},{key:"getData",value:function(){return this.data}},{key:"updateStates",value:function(l){var Z=this,b=a.a.trace.before(this.constructor.name+".updateStates()");return l.forEach((function(l){void 0!==Z.stateHandler?(l.states=Z.stateHandler.getStatesForRule(l),l.states?l.states.forEach((function(l){l.unsetState()})):a.a.log.warn("States not defined for this rule")):a.a.log.error("updateStates => this.stateHandler undefined")})),b.after(),this}},{key:"init",value:function(){try{var l=this.getContent();void 0===this.xgraph&&(this.xgraph=new Q(this.container,this.data.type,l)),null!=l?(this.data.allowDrawio?this.xgraph.allowDrawio(!0):this.xgraph.allowDrawio(!1),this.data.enableAnim?this.xgraph.enableAnim(!0):this.xgraph.enableAnim(!1),this.setOptions(),this.xgraph.drawGraph(),this.data.tooltip&&this.xgraph.tooltipGraph(!0),this.data.scale?this.xgraph.scaleGraph(!0):this.xgraph.zoomGraph(this.data.zoom),this.data.center&&this.xgraph.centerGraph(!0),this.data.lock&&this.xgraph.lockGraph(!0),this.stateHandler=new kl(this.xgraph)):a.a.log.error("Source content empty Graph not defined")}catch(l){a.a.log.error("Unable to initialize graph",l)}return this}},{key:"getStateHandler",value:function(){return this.stateHandler}},{key:"getXGraph",value:function(){return this.xgraph}},{key:"setStates",value:function(l,Z){return a.a.log.info("flowchart[".concat(this.data.name,"].setStates()")),void 0===l&&a.a.log.warn("Rules shoudn't be null"),void 0===Z&&a.a.log.warn("Metrics shoudn't be null"),this.stateHandler&&this.stateHandler.setStates(l,Z),this}},{key:"setOptions",value:function(){var l=a.a.trace.before(this.constructor.name+".setOptions()");return this.setScale(this.data.scale),this.setCenter(this.data.center),this.setGrid(this.data.grid),this.setTooltip(this.data.tooltip),this.setLock(this.data.lock),this.setZoom(this.data.zoom),this.setBgColor(this.data.bgColor),l.after(),this}},{key:"applyStates",value:function(){return a.a.log.info("flowchart[".concat(this.data.name,"].applyStates()")),this.stateHandler&&this.stateHandler.applyStates(),this}},{key:"applyOptions",value:function(){var l=a.a.trace.before(this.constructor.name+".applyOptions()");this.xgraph&&this.xgraph.applyGraph(),l.after()}},{key:"refresh",value:function(){this.xgraph&&this.xgraph.refresh()}},{key:"redraw",value:function(l){void 0!==l&&this.setContent(l),void 0!==this.xgraph&&this.xgraph.setContent(this.getContent()),this.applyOptions()}},{key:"reload",value:function(){void 0!==this.xgraph&&null!==this.xgraph?(this.xgraph.destroyGraph(),this.xgraph=void 0,this.init()):this.init()}},{key:"setLock",value:function(l){return this.data.lock=l,this.xgraph&&(this.xgraph.lock=l),this}},{key:"applyLock",value:function(l){return void 0!==l&&(this.data.lock=l),this.xgraph&&this.xgraph.lockGraph(this.data.lock),this}},{key:"setTooltip",value:function(l){return this.data.tooltip=l,this.xgraph&&(this.xgraph.tooltip=l),this}},{key:"applyTooltip",value:function(l){return void 0!==l&&(this.data.tooltip=l),this.xgraph&&this.xgraph.tooltipGraph(this.data.tooltip),this}},{key:"setScale",value:function(l){return this.data.scale=l,this.xgraph&&(this.xgraph.scale=l),this}},{key:"setBgColor",value:function(l){return this.data.bgColor=l,this.xgraph&&(this.xgraph.bgColor=l),this}},{key:"ApplyBgColor",value:function(l){return this.data.bgColor=l,l&&this.xgraph&&this.xgraph.bgGraph(l),this}},{key:"applyScale",value:function(l){return void 0!==l&&(this.data.scale=l),this.xgraph&&this.xgraph.scaleGraph(this.data.scale),this}},{key:"setCenter",value:function(l){return this.data.center=l,this.xgraph&&(this.xgraph.center=l),this}},{key:"getNamesByProp",value:function(l){return this.xgraph?this.xgraph.getOrignalCells(l):[]}},{key:"getXml",value:function(){var l=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return l?this.templateSrv.replaceWithText(this.data.xml):this.data.xml}},{key:"getCsv",value:function(){var l=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return l?this.templateSrv.replaceWithText(this.data.csv):this.data.csv}},{key:"getSource",value:function(){var l=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return"xml"===this.data.type?this.getXml(l):"csv"===this.data.type?this.getCsv(l):""}},{key:"getUrlEditor",value:function(){return this.data.editorUrl}},{key:"getThemeEditor",value:function(){return this.data.editorTheme}},{key:"getContent",value:function(){var l=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],Z=a.a.trace.before(this.constructor.name+".getContent()"),b="";if(this.data.download){var G=this.templateSrv.replaceWithText(this.data.url);null!==(b=this.loadContent(G))&&l&&(b=this.templateSrv.replaceWithText(b))}else b=this.getSource(l);return Z.after(),null===b?"":b}},{key:"setContent",value:function(l){return"xml"===this.data.type&&(this.data.xml=l),"csv"===this.data.type&&(this.data.csv=l),this}},{key:"loadContent",value:function(l){return a.a.utils.$loadFile(l)}},{key:"renameId",value:function(l,Z){return this.xgraph&&this.xgraph.renameId(l,Z),this}},{key:"applyModel",value:function(){return this.xgraph&&(this.data.xml=this.xgraph.getXmlModel()),this.redraw(),this}},{key:"center",value:function(l){return void 0!==l&&(this.data.center=l),this.xgraph&&this.xgraph.centerGraph(this.data.center),this}},{key:"setZoom",value:function(l){return this.data.zoom=l,this.xgraph&&(this.xgraph.zoomPercent=l),this}},{key:"zoom",value:function(l){return void 0!==l&&(this.data.zoom=l),this.xgraph&&this.xgraph.zoomGraph(this.data.zoom),this}},{key:"setGrid",value:function(l){return this.data.grid=l,this.xgraph&&(this.xgraph.grid=l),this}},{key:"grid",value:function(l){return void 0!==l&&(this.data.grid=l),this.xgraph&&this.xgraph.gridGraph(this.data.grid),this}},{key:"setXml",value:function(l){return this.data.xml=l,this}},{key:"setCsv",value:function(l){return this.data.csv=l,this}},{key:"minify",value:function(){this.data.xml=a.a.utils.minify(this.data.xml)}},{key:"prettify",value:function(){this.data.xml=a.a.utils.prettify(this.data.xml)}},{key:"decode",value:function(){a.a.utils.isencoded(this.data.xml)&&(this.data.xml=a.a.utils.decode(this.data.xml,!0,!0,!0))}},{key:"encode",value:function(){a.a.utils.isencoded(this.data.xml)||(this.data.xml=a.a.utils.encode(this.data.xml,!0,!0,!0))}},{key:"getContainer",value:function(){return this.container}},{key:"setMap",value:function(l){var Z=this.getContainer();this.xgraph&&this.xgraph.setMap(l),Z.scrollIntoView(),Z.focus()}},{key:"unsetMap",value:function(){this.xgraph&&this.xgraph.unsetMap()}}])&&el(Z.prototype,b),G&&el(Z,G),l}();function Tl(l,Z){for(var b=0;b<Z.length;b++){var G=Z[b];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(l,G.key,G)}}var zl=function(){function l(Z,b,G,d){var m=this;!function(l,Z){if(!(l instanceof Z))throw new TypeError("Cannot call a class as a function")}(this,l),this.flowcharts=[],this.currentFlowchart="Main",this.firstLoad=!0,this.changeSourceFlag=!1,this.changeOptionFlag=!0,this.changeDataFlag=!1,this.changeGraphHoverFlag=!1,this.changeRuleFlag=!1,this.onMapping={active:!1,object:null,value:null,prop:"id",$scope:null},this.mousedownTimeout=0,this.mousedown=0,this.onEdit=!1,this.editorWindow=null,l.getDefaultDioGraph(),this.$scope=Z,this.$elem=b.find(".flowchart-panel__chart"),this.parentDiv=this.$elem[0],this.ctrl=G,this.data=d,G.events.on("render",(function(){m.render()})),document.body.onmousedown=function(){m.mousedown=0,window.clearInterval(m.mousedownTimeout),m.mousedownTimeout=window.setInterval((function(){m.mousedown+=1}),200)},document.body.onmouseup=function(){m.mousedown=0,window.clearInterval(m.mousedownTimeout)}}var Z,b,G;return Z=l,G=[{key:"getDefaultData",value:function(){return{flowcharts:[]}}},{key:"getDefaultDioGraph",value:function(){var Z=l.defaultXml;if(!Z){var b="".concat(a.a.plugin.getRootPath()).concat(a.a.CONSTANTS.CONF_FILE_DEFAULTDIO);Z=a.a.utils.$loadFile(b)}return Z}},{key:"getDefaultCsvGraph",value:function(){var Z=l.defaultCsv;if(!Z){var b="".concat(a.a.plugin.getRootPath()).concat(a.a.CONSTANTS.CONF_FILE_DEFAULTCSV);Z=a.a.utils.$loadFile(b)}return Z}}],(b=[{key:"import",value:function(l){var Z=this;return a.a.log.info("FlowchartHandler.import()"),this.flowcharts=[],null!=l&&(Array.isArray(l)?l:l.flowcharts).forEach((function(l){Z.addFlowchart(l.name).import(l)})),this}},{key:"clear",value:function(){return this.flowcharts.forEach((function(l){l.clear()})),this.flowcharts=[],this.data.flowcharts=[],this}},{key:"getFlowchart",value:function(l){return this.flowcharts[0]}},{key:"getFlowcharts",value:function(){return this.flowcharts}},{key:"countFlowcharts",value:function(){return void 0!==this.flowcharts&&Array.isArray(this.flowcharts)?this.flowcharts.length:0}},{key:"createContainer",value:function(){var l=document.createElement("div");return l.style.margin="auto",l.style.position="relative",l.style.width="100%",l.style.height="100%",l.style.touchAction="none",l.style.border="none",l.style.cursor="default",l.style.right="0px",l.style.left="0px",l.style.bottom="0px",l.style.top="0px",this.parentDiv.appendChild(l),l}},{key:"addFlowchart",value:function(l){var Z=a.a.trace.before(this.constructor.name+".addFlowchart()"),b=this.createContainer(),G=Ul.getDefaultData(),d=new Ul(l,b,this.ctrl,G);return this.data.flowcharts.push(G),this.flowcharts.push(d),Z.after(),d}},{key:"render",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function l(){var Z,b,G,d,m;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:Z=a.a.trace.before(this.constructor.name+".render()"),this.mousedown||(b=!0,(G=this).changeSourceFlag&&(G.load(),G.changeSourceFlag=!1,G.changeRuleFlag=!0,b=!0),G.changeOptionFlag&&(G.setOptions(),G.changeOptionFlag=!1,b=!0),(G.changeRuleFlag||G.changeDataFlag||G.changeGraphHoverFlag)&&(G.ctrl.rulesHandler&&G.ctrl.metricHandler&&(d=G.ctrl.rulesHandler.getRules(),m=G.ctrl.metricHandler.getMetrics(),G.async_refreshStates(d,m)),G.changeDataFlag=!1,b=!1,G.changeGraphHoverFlag=!1),(b||G.firstLoad)&&(G.applyOptions(),b=!1,G.firstLoad=!1)),this.ctrl.renderingCompleted(),Z.after();case 4:case"end":return l.stop()}}),l,this)})))}},{key:"sourceChanged",value:function(){return this.changeSourceFlag=!0,this}},{key:"optionChanged",value:function(){return this.changeOptionFlag=!0,this}},{key:"ruleChanged",value:function(){return this.changeRuleFlag=!0,this}},{key:"dataChanged",value:function(){return this.changeDataFlag=!0,this}},{key:"graphHoverChanged",value:function(){return this.changeGraphHoverFlag=!0,this}},{key:"applyOptions",value:function(){var l=a.a.trace.before(this.constructor.name+".applyOptions()");return this.flowcharts.forEach((function(l){l.applyOptions()})),l.after(),this}},{key:"async_refreshStates",value:function(l,Z){var b=a.a.trace.before(this.constructor.name+".async_refreshStates()");this.refreshStates(l,Z),b.after()}},{key:"refreshStates",value:function(l,Z){var b=a.a.trace.before(this.constructor.name+".refreshStates()");return this.changeRuleFlag&&(this.updateStates(l),this.changeRuleFlag=!1),this.setStates(l,Z),this.applyStates(),b.after(),this}},{key:"refresh",value:function(){return this.flowcharts.forEach((function(l){l.refresh()})),this}},{key:"setStates",value:function(l,Z){var b=a.a.trace.before(this.constructor.name+".setStates()");return this.flowcharts.forEach((function(b){b.setStates(l,Z)})),b.after(),this}},{key:"updateStates",value:function(l){var Z=a.a.trace.before(this.constructor.name+".updateStates()");return this.flowcharts.forEach((function(Z){Z.updateStates(l)})),Z.after(),this}},{key:"applyStates",value:function(){var l=this,Z=a.a.trace.before(this.constructor.name+".applyStates()");return new Promise((function(){l.flowcharts.forEach((function(l){l.applyStates()}))})).then((function(){l.refresh()})),Z.after(),this}},{key:"setOptions",value:function(){var l=a.a.trace.before(this.constructor.name+".setOptions()");return this.flowcharts.forEach((function(l){l.setOptions()})),l.after(),this}},{key:"draw",value:function(){var l=a.a.trace.before(this.constructor.name+".draw()");return this.flowcharts.forEach((function(l){l.redraw()})),l.after(),this}},{key:"load",value:function(){var l=a.a.trace.before(this.constructor.name+".draw()");return this.flowcharts.forEach((function(l){l.reload()})),l.after(),this}},{key:"setMap",value:function(l){var Z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id",b=this.getFlowchart(this.currentFlowchart);return this.onMapping.active=!0,this.onMapping.object=l,this.onMapping.value=l.getId(),this.onMapping.$scope=this.$scope,this.onMapping.prop=Z,b.setMap(this.onMapping),this}},{key:"unsetMap",value:function(){var l=this.getFlowchart(this.currentFlowchart);return this.onMapping.active=!1,this.onMapping.object=void 0,this.onMapping.value="",l.unsetMap(),this}},{key:"isMapping",value:function(l){return void 0===l||null==l?this.onMapping.active:!0===this.onMapping.active&&l===this.onMapping.object}},{key:"listenMessage",value:function(l){"ready"===l.data?l.source.postMessage(this.getFlowchart(this.currentFlowchart).data.xml,l.origin):(this.onEdit&&void 0!==l.data&&l.data.length>0&&(this.getFlowchart(this.currentFlowchart).redraw(l.data),this.sourceChanged(),this.$scope.$apply(),this.render()),(this.onEdit&&void 0!==l.data||0===l.data.length)&&(this.editorWindow&&this.editorWindow.close(),this.onEdit=!1,window.removeEventListener("message",this.listenMessage.bind(this),!1)))}},{key:"openDrawEditor",value:function(l){var Z=this.getFlowchart(l).getUrlEditor(),b=this.getFlowchart(l).getThemeEditor(),G="".concat(Z,"?embed=1&spin=1&libraries=1&ui=").concat(b,"&src=grafana");this.editorWindow=window.open(G,"MxGraph Editor","width=1280, height=720"),this.onEdit=!0,window.addEventListener("message",this.listenMessage.bind(this),!1)}},{key:"getFlowchartNames",value:function(){return this.flowcharts.map((function(l){return l.data.name}))}}])&&Tl(Z.prototype,b),G&&Tl(Z,G),l}();function Cl(l){return(Cl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(l)}function vl(l,Z){return!Z||"object"!==Cl(Z)&&"function"!=typeof Z?function(l){if(void 0===l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}(l):Z}function El(l){return(El=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)})(l)}function Hl(l,Z){if("function"!=typeof Z&&null!==Z)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(Z&&Z.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),Z&&Ml(l,Z)}function Ml(l,Z){return(Ml=Object.setPrototypeOf||function(l,Z){return l.__proto__=Z,l})(l,Z)}function wl(l,Z){if(!(l instanceof Z))throw new TypeError("Cannot call a class as a function")}function Ql(l,Z){for(var b=0;b<Z.length;b++){var G=Z[b];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(l,G.key,G)}}function Bl(l,Z,b){return Z&&Ql(l.prototype,Z),b&&Ql(l,b),l}var jl=function(){function l(Z){wl(this,l),this.type="unknow",this.metrics={},this.name="",this.nullPointMode="connected"}return Bl(l,[{key:"getName",value:function(){return void 0!==this.name&&null!==this.name||a.a.log.error("Metric => getName : Name is null"),this.name}},{key:"getValue",value:function(l,Z){return null}},{key:"findValue",value:function(l,Z){return null}},{key:"getData",value:function(l){return[]}},{key:"getColumnsName",value:function(){return[]}}]),l}(),gl=function(l){function Z(l){var b;return wl(this,Z),(b=vl(this,El(Z).call(this,l))).type="serie",b.metrics=b.seriesHandler(l),b.addCustomStats(),b.name=b.metrics.alias,b}return Hl(Z,l),Bl(Z,[{key:"seriesHandler",value:function(l){var Z=a.a.trace.before(this.constructor.name+".seriesHandler()"),b=u.getTimeSeries(l);return b.flotpairs=b.getFlotPairs(this.nullPointMode),Z.after(),b}},{key:"addCustomStats",value:function(){var l=a.a.trace.before(this.constructor.name+".addCustomStats()");try{var Z=this.metrics.flotpairs.length;this.metrics.stats.last_time=this.metrics.flotpairs[Z-1][0],this.metrics.stats.current=this.metrics.flotpairs[Z-1][1],this.metrics.stats.current_notnull=null;for(var b=Z-1;(null===this.metrics.flotpairs[b][1]||void 0===this.metrics.flotpairs[b][1])&&b>=0;)b-=1;for(b>=0&&(this.metrics.stats.current_notnull=this.metrics.flotpairs[b][1]),this.metrics.stats.first=this.metrics.flotpairs[0][1],this.metrics.stats.first_notnull=null,b=0;(null===this.metrics.flotpairs[b][1]||void 0===this.metrics.flotpairs[b][1])&&b<Z;)b+=1;b<Z&&(this.metrics.stats.first_notnull=this.metrics.flotpairs[b][1])}catch(l){a.a.log.error("Unable to add custom stats",l)}l.after()}},{key:"getValue",value:function(l){try{var Z=null;if(a.a.hasGraphHover()){var b=a.a.getGraphHover();Z=void 0!==b?this.findValue(b):null}else Z=this.metrics.stats[l];return Z}catch(l){return a.a.log.error("datapoint for serie is null",l),null}}},{key:"findValue",value:function(l){var Z=a.a.trace.before(this.constructor.name+".findValue()"),b=0,G=this.metrics.flotpairs.length-1,d=!(G>0);l=Math.round(l);for(var m=null;!d;){var W=b+Math.round((G-b)/2);this.metrics.flotpairs[W][0]===l&&(m=this.metrics.flotpairs[W][1],d=!0),!d&&b<W&&W<G?(l>this.metrics.flotpairs[W][0]&&(b=W),l<this.metrics.flotpairs[W][0]&&(G=W)):(m=this.metrics.flotpairs[W][0]>l&&W>=1?this.metrics.flotpairs[W-1][1]:this.metrics.flotpairs[W][1],d=!0)}return Z.after(),m}},{key:"getData",value:function(){var l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.metrics.flotpairs.map((function(Z){return l?{x:Z[0],y:Math.log10(Z[1])}:{x:Z[0],y:Z[1]}}))}},{key:"getColumnsName",value:function(){return["time","value"]}}]),Z}(jl),Pl=function(l){function Z(l){var b;return wl(this,Z),(b=vl(this,El(Z).call(this,l))).tableColumnOptions={},b.tableColumn="",b.allIsNull=!0,b.allIsZero=!0,b.type="table",b.name=l.refId,b.metrics=b.tableHandler(l),b}return Hl(Z,l),Bl(Z,[{key:"tableHandler",value:function(l){var Z=a.a.trace.before(this.constructor.name+".tableHandler()"),b={datapoints:[],columnNames:{},stats:{}};return l.columns.forEach((function(l,Z){b.columnNames[Z]=l.text,"time"===l.text.toString().toLowerCase()&&(b.timeIndex=Z,b.timeColumn=l.text)})),this.tableColumnOptions=b.columnNames,Y.a.find(l.columns,["text",this.tableColumn])||this.setTableColumnToSensibleDefault(l),l.rows.forEach((function(l){var Z={};l.forEach((function(l,G){var d=b.columnNames[G];Z[d]=l})),b.datapoints.push(Z)})),this.metrics.flotpairs=this.getFlotPairs(this.nullPointMode,b),Z.after(),b}},{key:"setTableColumnToSensibleDefault",value:function(l){1===l.columns.length?this.tableColumn=l.columns[0].text:this.tableColumn=Y.a.find(l.columns,(function(l){return"time"!==l.type})).text}},{key:"getFlotPairs",value:function(l,Z){var b=a.a.trace.before(this.constructor.name+".getFlotPairs()"),G=[],d="connected"===l,m="null as zero"===l;for(var W in Z.allIsNull=!0,Z.allIsZero=!0,Z.columnNames){var c=Z.columnNames[W];Z.stats[c]={},Z.stats[c].name=c,Z.stats[c].total=0,Z.stats[c].max=-Number.MAX_VALUE,Z.stats[c].min=Number.MAX_VALUE,Z.stats[c].logmin=Number.MAX_VALUE,Z.stats[c].avg=null,Z.stats[c].current=null,Z.stats[c].current_notnull=null,Z.stats[c].first=null,Z.stats[c].first_notnull=null,Z.stats[c].delta=0,Z.stats[c].diff=null,Z.stats[c].range=null,Z.stats[c].timeStep=Number.MAX_VALUE;var h=void 0,X=void 0,V=0,u=void 0,R=0,i=!0;try{for(var n=0;n<Z.datapoints.length;n++){if(Z.timeColumn&&(h=Z.datapoints[n][Z.timeColumn]),X=Z.datapoints[n][c],void 0!==u){var p=h-u;p<Z.stats[c].timeStep&&(Z.stats[c].timeStep=p)}if(u=h,null===X){if(d)continue;m&&(X=0)}null!==X&&(Y.a.isNumber(X)&&(Z.stats[c].total+=X,this.allIsNull=!1,V++),X>Z.stats[c].max&&(Z.stats[c].max=X),X<Z.stats[c].min&&(Z.stats[c].min=X),null===Z.stats[c].first?Z.stats[c].first=X:R>X?(i=!1,n===Z.datapoints.length-1&&(Z.stats[c].delta+=X)):(Z.stats[c].delta+=i?X-R:X,i=!0),R=X,X<Z.stats[c].logmin&&X>0&&(Z.stats[c].logmin=X),0!==X&&(this.allIsZero=!1)),G.push([h,X])}}catch(l){a.a.log.error("Unable to aggregate data",l)}h&&(Z.stats[c].last_time=h),Z.stats[c].max===-Number.MAX_VALUE&&(Z.stats[c].max=null),Z.stats[c].min===Number.MAX_VALUE&&(Z.stats[c].min=null),G.length&&!this.allIsNull&&(Z.stats[c].avg=Z.stats[c].total/V,Z.stats[c].current=G[G.length-1][1],null===Z.stats[c].current&&G.length>1&&(Z.stats[c].current=G[G.length-2][1])),null!==Z.stats[c].max&&null!==Z.stats[c].min&&(Z.stats[c].range=Z.stats[c].max-Z.stats[c].min),null!==Z.stats[c].current&&null!==Z.stats[c].first&&(Z.stats[c].diff=Z.stats[c].current-Z.stats[c].first),Z.stats[c].count=G.length}return b.after(),G}},{key:"getValue",value:function(l,Z){try{var b=null;if(a.a.hasGraphHover()){var G=a.a.getGraphHover();b=void 0!==G?this.findValue(G,Z):null}else b=this.metrics.stats[Z][l];return b}catch(l){return a.a.log.error("datapoint for table is null",l),null}}},{key:"findValue",value:function(l,Z){var b=a.a.trace.before(this.constructor.name+".findValue()"),G=0,d=this.metrics.datapoints.length-1,m=!(d>0&&this.metrics.datapoints[G][this.metrics.timeColumn]<l);l=Math.round(l);for(var W=null;!m;){var c=G+Math.round((d-G)/2);this.metrics.datapoints[c][this.metrics.timeColumn]===l&&(W=this.metrics.datapoints[c][Z],m=!0),!m&&G<c&&c<d?(l>this.metrics.datapoints[c][this.metrics.timeColumn]&&(G=c),l<this.metrics.datapoints[c][this.metrics.timeColumn]&&(d=c)):(W=this.metrics.datapoints[c][this.metrics.timeColumn]>l&&c>=1?this.metrics.datapoints[c-1][Z]:this.metrics.datapoints[c][Z],m=!0)}return b.after(),W}},{key:"getColumnIndex",value:function(l){for(var Z in this.tableColumnOptions)if(l===this.tableColumnOptions[Z])return Number(Z);return null}},{key:"getColumnsName",value:function(){var l=[];for(var Z in this.tableColumnOptions)l.push(this.tableColumnOptions[Z]);return l}},{key:"getData",value:function(l){var Z=this;return this.metrics.timeColumn?this.metrics.datapoints.map((function(b){return{x:b[Z.metrics.timeColumn],y:b[l]}})):this.metrics.datapoints.map((function(Z){return Z[l]}))}}]),Z}(jl);function rl(l,Z){for(var b=0;b<Z.length;b++){var G=Z[b];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(l,G.key,G)}}var Ol=function(){function l(Z){!function(l,Z){if(!(l instanceof Z))throw new TypeError("Cannot call a class as a function")}(this,l),this.tables=[],this.series=[],this.metrics=[],this.$scope=Z}var Z,b,G;return Z=l,(b=[{key:"initData",value:function(l){var Z=this,b=a.a.trace.before(this.constructor.name+".initData()");this.tables=[],this.series=[],this.metrics=[],l.forEach((function(l){Z.addMetric(l)})),b.after()}},{key:"addMetric",value:function(l){var Z=a.a.trace.before(this.constructor.name+".addMetric()");"table"===l.type?this.addTable(l):this.addSerie(l),Z.after()}},{key:"addTable",value:function(l){var Z=a.a.trace.before(this.constructor.name+".addTable()"),b=new Pl(l);return this.tables.push(b),this.metrics.push(b),Z.after(),b}},{key:"addSerie",value:function(l){var Z=a.a.trace.before(this.constructor.name+".addSerie()"),b=new gl(l);return this.series.push(b),this.metrics.push(b),Z.after(),b}},{key:"getNames",value:function(l){return"serie"===l?this.series.map((function(l){return l.getName()})):"table"===l?this.tables.map((function(l){return l.getName()})):this.metrics.map((function(l){return l.getName()}))}},{key:"getMetrics",value:function(l){return"serie"===l?this.series:"table"===l?this.tables:this.metrics}},{key:"isTypeOf",value:function(l){return"serie"===l?this.series.length>0:"table"===l&&this.tables.length>0}},{key:"findMetrics",value:function(l,Z){var b=[];return Z?("table"===Z&&(b=this.tables.filter((function(Z){return Z.getName()===l}))),"serie"===Z&&(b=this.series.filter((function(Z){return Z.getName()===l})))):b=this.metrics.filter((function(Z){return Z.getName()===l})),b}},{key:"getColumnsName",value:function(l,Z){var b=this.findMetrics(l,Z),G=[];return b.forEach((function(l){G=G.concat(l.getColumnsName())})),G}}])&&rl(Z.prototype,b),G&&rl(Z,G),l}();function Dl(l){return(Dl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(l)}function fl(l,Z){for(var b=0;b<Z.length;b++){var G=Z[b];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(l,G.key,G)}}function Al(l){return(Al=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)})(l)}function ql(l){if(void 0===l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function _l(l,Z){return(_l=Object.setPrototypeOf||function(l,Z){return l.__proto__=Z,l})(l,Z)}var $l=function(l){function Z(l,b,G,d){var m,W,c;return function(l,Z){if(!(l instanceof Z))throw new TypeError("Cannot call a class as a function")}(this,Z),W=this,(m=!(c=Al(Z).call(this,l,b))||"object"!==Dl(c)&&"function"!=typeof c?ql(W):c).GHApplied=!1,a.a.init(l,d,m.dashboard),m.$rootScope=G,m.$scope=l,m.version=a.a.plugin.getVersion(),m.templateSrv=d,m.changedSource=!0,m.changedData=!0,m.changedOptions=!0,m.rulesHandler=void 0,m.flowchartHandler=void 0,m.metricHandler=void 0,m.id=a.a.utils.uniqueID(),m.panelDefaults={newFlag:!0,format:"short",valueName:"current",rulesData:f.getDefaultData(),flowchartsData:zl.getDefaultData(),editedFlag:!1},a.a.log.debug("PANEL ID : ",m.id),Y.a.defaults(m.panel,m.panelDefaults),m.panel.graphId="flowchart_".concat(m.panel.id),m.containerDivId="container_".concat(m.panel.graphId),m.events.on(u.PanelEvents.render,m.onRender.bind(ql(m))),m.events.on(u.PanelEvents.refresh,m.onRefresh.bind(ql(m))),m.events.on(u.PanelEvents.dataReceived,m.onDataReceived.bind(ql(m))),m.events.on(u.PanelEvents.dataError,m.onDataError.bind(ql(m))),m.events.on(u.PanelEvents.dataSnapshotLoad,m.onDataReceived.bind(ql(m))),m.events.on(u.PanelEvents.editModeInitialized,m.onInitEditMode.bind(ql(m))),m.events.on("panel-teardown",m.onTearDown.bind(ql(m))),u.appEvents.on("graph-hover",m.onGraphHover.bind(ql(m)),m.$scope),u.appEvents.on("graph-hover-clear",m.clearCrosshair.bind(ql(m)),m.$scope),m.dashboard.events.on("template-variable-value-updated",m.onVarChanged.bind(ql(m)),l),a.a.log.debug("CTRL : ",m.id,ql(m)),m}var b,G,d;return Z.$inject=["$scope","$injector","$rootScope","templateSrv"],function(l,Z){if("function"!=typeof Z&&null!==Z)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(Z&&Z.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),Z&&_l(l,Z)}(Z,l),b=Z,(G=[{key:"onInitEditMode",value:function(){a.a.log.debug("EVENT : ",this.id,"onInitEditMode"),this.addEditorTab("Flowchart",g,2),this.addEditorTab("Mapping",E,3),this.addEditorTab("Inspect",O,4),a.a.log.debug("CTRL : ",this.id,this),this.editModeTrue()}},{key:"editModeTrue",value:function(){this.panel.editedFlag=!0}},{key:"editModeFalse",value:function(){this.panel.editedFlag=!1}},{key:"isEditedMode",value:function(){return this.panel.editedFlag}},{key:"isEditingMode",value:function(){return!0===this.panel.isEditing}},{key:"onTearDown",value:function(){a.a.log.debug("EVENT : ",this.id,"onTearDown")}},{key:"onGraphHover",value:function(l){var Z=this,b=this.flowchartHandler;if(this.dashboard.sharedTooltipModeEnabled()&&void 0!==b){var G=l.pos.x,d="graph-hover";a.a.clearUniqTimeOut(d),a.a.setUniqTimeOut((function(){a.a.setGraphHover(G),b.graphHoverChanged(),Z.render(),Z.GHApplied=!0,a.a.clearUniqTimeOut(d)}),a.a.CONSTANTS.CONF_GRAPHHOVER_DELAY,d)}else Z.GHApplied&&a.a.unsetGraphHover()}},{key:"clearCrosshair",value:function(l){void 0!==this.flowchartHandler&&this.GHApplied&&(this.GHApplied=!1,a.a.clearUniqTimeOut("graph-hover"),a.a.unsetGraphHover(),this.flowchartHandler.graphHoverChanged(),this.render())}},{key:"onRefresh",value:function(){a.a.log.debug("EVENT : ",this.id,"onRefresh"),this.onRender()}},{key:"onVarChanged",value:function(){void 0!==this.flowchartHandler&&(this.flowchartHandler.sourceChanged(),this.flowchartHandler.render())}},{key:"onRender",value:function(){a.a.log.debug("EVENT : ",this.id,"onRender",this),a.a.log.debug("EDIT MODE",this.id,this.isEditedMode()),this.flowchartHandler&&this.rulesHandler&&this.isEditedMode()&&!this.isEditingMode()&&(this.editModeFalse(),this.flowchartHandler.clear(),this.flowchartHandler.import(this.panel.flowchartsData),this.rulesHandler.clear(),this.rulesHandler.import(this.panel.rulesData),this.flowchartHandler.sourceChanged(),this.flowchartHandler.render())}},{key:"onDataReceived",value:function(l){a.a.log.debug("EVENT : ",this.id,"onDataReceived");var Z=a.a.trace.before(this.constructor.name+".onDataReceived()");this.metricHandler&&(this.metricHandler.initData(l),this.flowchartHandler&&this.flowchartHandler.dataChanged()),this.render(),Z.after(),a.a.trace.resume()}},{key:"onDataError",value:function(){a.a.log.debug("EVENT : ",this.id,"onDataError"),this.render()}},{key:"link",value:function(l,Z,b,G){var d=a.a.trace.before(this.constructor.name+".link()");Q.initMxGraph(),this.metricHandler=new Ol(this.$scope);var m=f.getDefaultData();this.rulesHandler=new f(m),void 0===this.panel.version&&void 0!==this.panel.styles?(this.rulesHandler.import(this.panel.styles),delete this.panel.styles):this.rulesHandler.import(this.panel.rulesData),this.panel.newFlag&&0===this.rulesHandler.countRules()&&this.rulesHandler.addRule(".*"),this.panel.rulesData=m;var W=zl.getDefaultData();this.flowchartHandler=new zl(l,Z,G,W),void 0===this.panel.version&&void 0!==this.panel.flowchart?(this.flowchartHandler.import([this.panel.flowchart]),delete this.panel.flowchart):this.flowchartHandler.import(this.panel.flowchartsData),this.panel.newFlag&&0===this.flowchartHandler.countFlowcharts()&&this.flowchartHandler.addFlowchart("Main").init(),this.panel.flowchartsData=W,this.panel.newFlag=!1,this.panel.version=this.version,d.after()}},{key:"$onDestroy",value:function(){a.a.destroy()}}])&&fl(b.prototype,G),d&&fl(b,d),Z}(G.MetricsPanelCtrl);$l.templateUrl="./partials/module.html",b.d(Z,"PanelCtrl",(function(){return $l})),u.loadCss()}])}));
//# sourceMappingURL=module.js.map